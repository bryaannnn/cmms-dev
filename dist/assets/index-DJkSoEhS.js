const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index.es-BdI6BDZI.js","assets/projectEnvVariables-Dc7Ax8fr.js"])))=>i.map(i=>d[i]);
var eoe=Object.defineProperty;var toe=(t,e,r)=>e in t?eoe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Jt=(t,e,r)=>toe(t,typeof e!="symbol"?e+"":e,r);import{g as roe}from"./projectEnvVariables-Dc7Ax8fr.js";function noe(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var pw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Vn(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var nC={exports:{}},Mb={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rR;function aoe(){if(rR)return Mb;rR=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(n,s,i){var o=null;if(i!==void 0&&(o=""+i),s.key!==void 0&&(o=""+s.key),"key"in s){i={};for(var l in s)l!=="key"&&(i[l]=s[l])}else i=s;return s=i.ref,{$$typeof:t,type:n,key:o,ref:s!==void 0?s:null,props:i}}return Mb.Fragment=e,Mb.jsx=r,Mb.jsxs=r,Mb}var nR;function soe(){return nR||(nR=1,nC.exports=aoe()),nC.exports}var a=soe(),aC={exports:{}},on={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aR;function ioe(){if(aR)return on;aR=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.for("react.activity"),g=Symbol.iterator;function p(K){return K===null||typeof K!="object"?null:(K=g&&K[g]||K["@@iterator"],typeof K=="function"?K:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,y={};function N(K,V,J){this.props=K,this.context=V,this.refs=y,this.updater=J||v}N.prototype.isReactComponent={},N.prototype.setState=function(K,V){if(typeof K!="object"&&typeof K!="function"&&K!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,K,V,"setState")},N.prototype.forceUpdate=function(K){this.updater.enqueueForceUpdate(this,K,"forceUpdate")};function k(){}k.prototype=N.prototype;function S(K,V,J){this.props=K,this.context=V,this.refs=y,this.updater=J||v}var T=S.prototype=new k;T.constructor=S,w(T,N.prototype),T.isPureReactComponent=!0;var _=Array.isArray;function D(){}var E={H:null,A:null,T:null,S:null},L=Object.prototype.hasOwnProperty;function R(K,V,J){var Q=J.ref;return{$$typeof:t,type:K,key:V,ref:Q!==void 0?Q:null,props:J}}function F(K,V){return R(K.type,V,K.props)}function A(K){return typeof K=="object"&&K!==null&&K.$$typeof===t}function M(K){var V={"=":"=0",":":"=2"};return"$"+K.replace(/[=:]/g,function(J){return V[J]})}var B=/\/+/g;function z(K,V){return typeof K=="object"&&K!==null&&K.key!=null?M(""+K.key):V.toString(36)}function Y(K){switch(K.status){case"fulfilled":return K.value;case"rejected":throw K.reason;default:switch(typeof K.status=="string"?K.then(D,D):(K.status="pending",K.then(function(V){K.status==="pending"&&(K.status="fulfilled",K.value=V)},function(V){K.status==="pending"&&(K.status="rejected",K.reason=V)})),K.status){case"fulfilled":return K.value;case"rejected":throw K.reason}}throw K}function W(K,V,J,Q,re){var ce=typeof K;(ce==="undefined"||ce==="boolean")&&(K=null);var Ee=!1;if(K===null)Ee=!0;else switch(ce){case"bigint":case"string":case"number":Ee=!0;break;case"object":switch(K.$$typeof){case t:case e:Ee=!0;break;case f:return Ee=K._init,W(Ee(K._payload),V,J,Q,re)}}if(Ee)return re=re(K),Ee=Q===""?"."+z(K,0):Q,_(re)?(J="",Ee!=null&&(J=Ee.replace(B,"$&/")+"/"),W(re,V,J,"",function(Ce){return Ce})):re!=null&&(A(re)&&(re=F(re,J+(re.key==null||K&&K.key===re.key?"":(""+re.key).replace(B,"$&/")+"/")+Ee)),V.push(re)),1;Ee=0;var ke=Q===""?".":Q+":";if(_(K))for(var ge=0;ge<K.length;ge++)Q=K[ge],ce=ke+z(Q,ge),Ee+=W(Q,V,J,ce,re);else if(ge=p(K),typeof ge=="function")for(K=ge.call(K),ge=0;!(Q=K.next()).done;)Q=Q.value,ce=ke+z(Q,ge++),Ee+=W(Q,V,J,ce,re);else if(ce==="object"){if(typeof K.then=="function")return W(Y(K),V,J,Q,re);throw V=String(K),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(K).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return Ee}function H(K,V,J){if(K==null)return K;var Q=[],re=0;return W(K,Q,"","",function(ce){return V.call(J,ce,re++)}),Q}function q(K){if(K._status===-1){var V=K._result;V=V(),V.then(function(J){(K._status===0||K._status===-1)&&(K._status=1,K._result=J)},function(J){(K._status===0||K._status===-1)&&(K._status=2,K._result=J)}),K._status===-1&&(K._status=0,K._result=V)}if(K._status===1)return K._result.default;throw K._result}var X=typeof reportError=="function"?reportError:function(K){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof K=="object"&&K!==null&&typeof K.message=="string"?String(K.message):String(K),error:K});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",K);return}console.error(K)},oe={map:H,forEach:function(K,V,J){H(K,function(){V.apply(this,arguments)},J)},count:function(K){var V=0;return H(K,function(){V++}),V},toArray:function(K){return H(K,function(V){return V})||[]},only:function(K){if(!A(K))throw Error("React.Children.only expected to receive a single React element child.");return K}};return on.Activity=h,on.Children=oe,on.Component=N,on.Fragment=r,on.Profiler=s,on.PureComponent=S,on.StrictMode=n,on.Suspense=c,on.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=E,on.__COMPILER_RUNTIME={__proto__:null,c:function(K){return E.H.useMemoCache(K)}},on.cache=function(K){return function(){return K.apply(null,arguments)}},on.cacheSignal=function(){return null},on.cloneElement=function(K,V,J){if(K==null)throw Error("The argument must be a React element, but you passed "+K+".");var Q=w({},K.props),re=K.key;if(V!=null)for(ce in V.key!==void 0&&(re=""+V.key),V)!L.call(V,ce)||ce==="key"||ce==="__self"||ce==="__source"||ce==="ref"&&V.ref===void 0||(Q[ce]=V[ce]);var ce=arguments.length-2;if(ce===1)Q.children=J;else if(1<ce){for(var Ee=Array(ce),ke=0;ke<ce;ke++)Ee[ke]=arguments[ke+2];Q.children=Ee}return R(K.type,re,Q)},on.createContext=function(K){return K={$$typeof:o,_currentValue:K,_currentValue2:K,_threadCount:0,Provider:null,Consumer:null},K.Provider=K,K.Consumer={$$typeof:i,_context:K},K},on.createElement=function(K,V,J){var Q,re={},ce=null;if(V!=null)for(Q in V.key!==void 0&&(ce=""+V.key),V)L.call(V,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(re[Q]=V[Q]);var Ee=arguments.length-2;if(Ee===1)re.children=J;else if(1<Ee){for(var ke=Array(Ee),ge=0;ge<Ee;ge++)ke[ge]=arguments[ge+2];re.children=ke}if(K&&K.defaultProps)for(Q in Ee=K.defaultProps,Ee)re[Q]===void 0&&(re[Q]=Ee[Q]);return R(K,ce,re)},on.createRef=function(){return{current:null}},on.forwardRef=function(K){return{$$typeof:l,render:K}},on.isValidElement=A,on.lazy=function(K){return{$$typeof:f,_payload:{_status:-1,_result:K},_init:q}},on.memo=function(K,V){return{$$typeof:u,type:K,compare:V===void 0?null:V}},on.startTransition=function(K){var V=E.T,J={};E.T=J;try{var Q=K(),re=E.S;re!==null&&re(J,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(D,X)}catch(ce){X(ce)}finally{V!==null&&J.types!==null&&(V.types=J.types),E.T=V}},on.unstable_useCacheRefresh=function(){return E.H.useCacheRefresh()},on.use=function(K){return E.H.use(K)},on.useActionState=function(K,V,J){return E.H.useActionState(K,V,J)},on.useCallback=function(K,V){return E.H.useCallback(K,V)},on.useContext=function(K){return E.H.useContext(K)},on.useDebugValue=function(){},on.useDeferredValue=function(K,V){return E.H.useDeferredValue(K,V)},on.useEffect=function(K,V){return E.H.useEffect(K,V)},on.useEffectEvent=function(K){return E.H.useEffectEvent(K)},on.useId=function(){return E.H.useId()},on.useImperativeHandle=function(K,V,J){return E.H.useImperativeHandle(K,V,J)},on.useInsertionEffect=function(K,V){return E.H.useInsertionEffect(K,V)},on.useLayoutEffect=function(K,V){return E.H.useLayoutEffect(K,V)},on.useMemo=function(K,V){return E.H.useMemo(K,V)},on.useOptimistic=function(K,V){return E.H.useOptimistic(K,V)},on.useReducer=function(K,V,J){return E.H.useReducer(K,V,J)},on.useRef=function(K){return E.H.useRef(K)},on.useState=function(K){return E.H.useState(K)},on.useSyncExternalStore=function(K,V,J){return E.H.useSyncExternalStore(K,V,J)},on.useTransition=function(){return E.H.useTransition()},on.version="19.2.0",on}var sR;function Xv(){return sR||(sR=1,aC.exports=ioe()),aC.exports}var b=Xv();const pe=Vn(b),rj=noe({__proto__:null,default:pe},[b]);var sC={exports:{}},Eb={},iC={exports:{}},oC={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iR;function ooe(){return iR||(iR=1,(function(t){function e(W,H){var q=W.length;W.push(H);e:for(;0<q;){var X=q-1>>>1,oe=W[X];if(0<s(oe,H))W[X]=H,W[q]=oe,q=X;else break e}}function r(W){return W.length===0?null:W[0]}function n(W){if(W.length===0)return null;var H=W[0],q=W.pop();if(q!==H){W[0]=q;e:for(var X=0,oe=W.length,K=oe>>>1;X<K;){var V=2*(X+1)-1,J=W[V],Q=V+1,re=W[Q];if(0>s(J,q))Q<oe&&0>s(re,J)?(W[X]=re,W[Q]=q,X=Q):(W[X]=J,W[V]=q,X=V);else if(Q<oe&&0>s(re,q))W[X]=re,W[Q]=q,X=Q;else break e}}return H}function s(W,H){var q=W.sortIndex-H.sortIndex;return q!==0?q:W.id-H.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],f=1,h=null,g=3,p=!1,v=!1,w=!1,y=!1,N=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;function T(W){for(var H=r(u);H!==null;){if(H.callback===null)n(u);else if(H.startTime<=W)n(u),H.sortIndex=H.expirationTime,e(c,H);else break;H=r(u)}}function _(W){if(w=!1,T(W),!v)if(r(c)!==null)v=!0,D||(D=!0,M());else{var H=r(u);H!==null&&Y(_,H.startTime-W)}}var D=!1,E=-1,L=5,R=-1;function F(){return y?!0:!(t.unstable_now()-R<L)}function A(){if(y=!1,D){var W=t.unstable_now();R=W;var H=!0;try{e:{v=!1,w&&(w=!1,k(E),E=-1),p=!0;var q=g;try{t:{for(T(W),h=r(c);h!==null&&!(h.expirationTime>W&&F());){var X=h.callback;if(typeof X=="function"){h.callback=null,g=h.priorityLevel;var oe=X(h.expirationTime<=W);if(W=t.unstable_now(),typeof oe=="function"){h.callback=oe,T(W),H=!0;break t}h===r(c)&&n(c),T(W)}else n(c);h=r(c)}if(h!==null)H=!0;else{var K=r(u);K!==null&&Y(_,K.startTime-W),H=!1}}break e}finally{h=null,g=q,p=!1}H=void 0}}finally{H?M():D=!1}}}var M;if(typeof S=="function")M=function(){S(A)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,z=B.port2;B.port1.onmessage=A,M=function(){z.postMessage(null)}}else M=function(){N(A,0)};function Y(W,H){E=N(function(){W(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_next=function(W){switch(g){case 1:case 2:case 3:var H=3;break;default:H=g}var q=g;g=H;try{return W()}finally{g=q}},t.unstable_requestPaint=function(){y=!0},t.unstable_runWithPriority=function(W,H){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var q=g;g=W;try{return H()}finally{g=q}},t.unstable_scheduleCallback=function(W,H,q){var X=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?X+q:X):q=X,W){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=q+oe,W={id:f++,callback:H,priorityLevel:W,startTime:q,expirationTime:oe,sortIndex:-1},q>X?(W.sortIndex=q,e(u,W),r(c)===null&&W===r(u)&&(w?(k(E),E=-1):w=!0,Y(_,q-X))):(W.sortIndex=oe,e(c,W),v||p||(v=!0,D||(D=!0,M()))),W},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(W){var H=g;return function(){var q=g;g=H;try{return W.apply(this,arguments)}finally{g=q}}}})(oC)),oC}var oR;function loe(){return oR||(oR=1,iC.exports=ooe()),iC.exports}var lC={exports:{}},ao={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lR;function coe(){if(lR)return ao;lR=1;var t=Xv();function e(c){var u="https://react.dev/errors/"+c;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)u+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+c+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},s=Symbol.for("react.portal");function i(c,u,f){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:h==null?null:""+h,children:c,containerInfo:u,implementation:f}}var o=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(c,u){if(c==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return ao.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,ao.createPortal=function(c,u){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(e(299));return i(c,u,null,f)},ao.flushSync=function(c){var u=o.T,f=n.p;try{if(o.T=null,n.p=2,c)return c()}finally{o.T=u,n.p=f,n.d.f()}},ao.preconnect=function(c,u){typeof c=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,n.d.C(c,u))},ao.prefetchDNS=function(c){typeof c=="string"&&n.d.D(c)},ao.preinit=function(c,u){if(typeof c=="string"&&u&&typeof u.as=="string"){var f=u.as,h=l(f,u.crossOrigin),g=typeof u.integrity=="string"?u.integrity:void 0,p=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;f==="style"?n.d.S(c,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:h,integrity:g,fetchPriority:p}):f==="script"&&n.d.X(c,{crossOrigin:h,integrity:g,fetchPriority:p,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},ao.preinitModule=function(c,u){if(typeof c=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var f=l(u.as,u.crossOrigin);n.d.M(c,{crossOrigin:f,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&n.d.M(c)},ao.preload=function(c,u){if(typeof c=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var f=u.as,h=l(f,u.crossOrigin);n.d.L(c,f,{crossOrigin:h,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},ao.preloadModule=function(c,u){if(typeof c=="string")if(u){var f=l(u.as,u.crossOrigin);n.d.m(c,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:f,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else n.d.m(c)},ao.requestFormReset=function(c){n.d.r(c)},ao.unstable_batchedUpdates=function(c,u){return c(u)},ao.useFormState=function(c,u,f){return o.H.useFormState(c,u,f)},ao.useFormStatus=function(){return o.H.useHostTransitionStatus()},ao.version="19.2.0",ao}var cR;function WY(){if(cR)return lC.exports;cR=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),lC.exports=coe(),lC.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uR;function uoe(){if(uR)return Eb;uR=1;var t=loe(),e=Xv(),r=WY();function n(d){var m="https://react.dev/errors/"+d;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)m+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+d+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)}function i(d){var m=d,x=d;if(d.alternate)for(;m.return;)m=m.return;else{d=m;do m=d,(m.flags&4098)!==0&&(x=m.return),d=m.return;while(d)}return m.tag===3?x:null}function o(d){if(d.tag===13){var m=d.memoizedState;if(m===null&&(d=d.alternate,d!==null&&(m=d.memoizedState)),m!==null)return m.dehydrated}return null}function l(d){if(d.tag===31){var m=d.memoizedState;if(m===null&&(d=d.alternate,d!==null&&(m=d.memoizedState)),m!==null)return m.dehydrated}return null}function c(d){if(i(d)!==d)throw Error(n(188))}function u(d){var m=d.alternate;if(!m){if(m=i(d),m===null)throw Error(n(188));return m!==d?null:d}for(var x=d,j=m;;){var P=x.return;if(P===null)break;var $=P.alternate;if($===null){if(j=P.return,j!==null){x=j;continue}break}if(P.child===$.child){for($=P.child;$;){if($===x)return c(P),d;if($===j)return c(P),m;$=$.sibling}throw Error(n(188))}if(x.return!==j.return)x=P,j=$;else{for(var ee=!1,Se=P.child;Se;){if(Se===x){ee=!0,x=P,j=$;break}if(Se===j){ee=!0,j=P,x=$;break}Se=Se.sibling}if(!ee){for(Se=$.child;Se;){if(Se===x){ee=!0,x=$,j=P;break}if(Se===j){ee=!0,j=$,x=P;break}Se=Se.sibling}if(!ee)throw Error(n(189))}}if(x.alternate!==j)throw Error(n(190))}if(x.tag!==3)throw Error(n(188));return x.stateNode.current===x?d:m}function f(d){var m=d.tag;if(m===5||m===26||m===27||m===6)return d;for(d=d.child;d!==null;){if(m=f(d),m!==null)return m;d=d.sibling}return null}var h=Object.assign,g=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),k=Symbol.for("react.consumer"),S=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),F=Symbol.for("react.memo_cache_sentinel"),A=Symbol.iterator;function M(d){return d===null||typeof d!="object"?null:(d=A&&d[A]||d["@@iterator"],typeof d=="function"?d:null)}var B=Symbol.for("react.client.reference");function z(d){if(d==null)return null;if(typeof d=="function")return d.$$typeof===B?null:d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case w:return"Fragment";case N:return"Profiler";case y:return"StrictMode";case _:return"Suspense";case D:return"SuspenseList";case R:return"Activity"}if(typeof d=="object")switch(d.$$typeof){case v:return"Portal";case S:return d.displayName||"Context";case k:return(d._context.displayName||"Context")+".Consumer";case T:var m=d.render;return d=d.displayName,d||(d=m.displayName||m.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case E:return m=d.displayName||null,m!==null?m:z(d.type)||"Memo";case L:m=d._payload,d=d._init;try{return z(d(m))}catch{}}return null}var Y=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q={pending:!1,data:null,method:null,action:null},X=[],oe=-1;function K(d){return{current:d}}function V(d){0>oe||(d.current=X[oe],X[oe]=null,oe--)}function J(d,m){oe++,X[oe]=d.current,d.current=m}var Q=K(null),re=K(null),ce=K(null),Ee=K(null);function ke(d,m){switch(J(ce,m),J(re,d),J(Q,null),m.nodeType){case 9:case 11:d=(d=m.documentElement)&&(d=d.namespaceURI)?k7(d):0;break;default:if(d=m.tagName,m=m.namespaceURI)m=k7(m),d=C7(m,d);else switch(d){case"svg":d=1;break;case"math":d=2;break;default:d=0}}V(Q),J(Q,d)}function ge(){V(Q),V(re),V(ce)}function Ce(d){d.memoizedState!==null&&J(Ee,d);var m=Q.current,x=C7(m,d.type);m!==x&&(J(re,d),J(Q,x))}function Ke(d){re.current===d&&(V(Q),V(re)),Ee.current===d&&(V(Ee),Cb._currentValue=q)}var fe,ye;function ae(d){if(fe===void 0)try{throw Error()}catch(x){var m=x.stack.trim().match(/\n( *(at )?)/);fe=m&&m[1]||"",ye=-1<x.stack.indexOf(`
    at`)?" (<anonymous>)":-1<x.stack.indexOf("@")?"@unknown:0:0":""}return`
`+fe+d+ye}var se=!1;function bt(d,m){if(!d||se)return"";se=!0;var x=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var j={DetermineComponentFrameRoot:function(){try{if(m){var Bt=function(){throw Error()};if(Object.defineProperty(Bt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Bt,[])}catch(_t){var St=_t}Reflect.construct(d,[],Bt)}else{try{Bt.call()}catch(_t){St=_t}d.call(Bt.prototype)}}else{try{throw Error()}catch(_t){St=_t}(Bt=d())&&typeof Bt.catch=="function"&&Bt.catch(function(){})}}catch(_t){if(_t&&St&&typeof _t.stack=="string")return[_t.stack,St.stack]}return[null,null]}};j.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var P=Object.getOwnPropertyDescriptor(j.DetermineComponentFrameRoot,"name");P&&P.configurable&&Object.defineProperty(j.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var $=j.DetermineComponentFrameRoot(),ee=$[0],Se=$[1];if(ee&&Se){var Ye=ee.split(`
`),Nt=Se.split(`
`);for(P=j=0;j<Ye.length&&!Ye[j].includes("DetermineComponentFrameRoot");)j++;for(;P<Nt.length&&!Nt[P].includes("DetermineComponentFrameRoot");)P++;if(j===Ye.length||P===Nt.length)for(j=Ye.length-1,P=Nt.length-1;1<=j&&0<=P&&Ye[j]!==Nt[P];)P--;for(;1<=j&&0<=P;j--,P--)if(Ye[j]!==Nt[P]){if(j!==1||P!==1)do if(j--,P--,0>P||Ye[j]!==Nt[P]){var Ot=`
`+Ye[j].replace(" at new "," at ");return d.displayName&&Ot.includes("<anonymous>")&&(Ot=Ot.replace("<anonymous>",d.displayName)),Ot}while(1<=j&&0<=P);break}}}finally{se=!1,Error.prepareStackTrace=x}return(x=d?d.displayName||d.name:"")?ae(x):""}function pt(d,m){switch(d.tag){case 26:case 27:case 5:return ae(d.type);case 16:return ae("Lazy");case 13:return d.child!==m&&m!==null?ae("Suspense Fallback"):ae("Suspense");case 19:return ae("SuspenseList");case 0:case 15:return bt(d.type,!1);case 11:return bt(d.type.render,!1);case 1:return bt(d.type,!0);case 31:return ae("Activity");default:return""}}function Re(d){try{var m="",x=null;do m+=pt(d,x),x=d,d=d.return;while(d);return m}catch(j){return`
Error generating stack: `+j.message+`
`+j.stack}}var Me=Object.prototype.hasOwnProperty,qe=t.unstable_scheduleCallback,tt=t.unstable_cancelCallback,Ve=t.unstable_shouldYield,Te=t.unstable_requestPaint,le=t.unstable_now,Je=t.unstable_getCurrentPriorityLevel,Ge=t.unstable_ImmediatePriority,ut=t.unstable_UserBlockingPriority,Pe=t.unstable_NormalPriority,Ne=t.unstable_LowPriority,ze=t.unstable_IdlePriority,me=t.log,De=t.unstable_setDisableYieldValue,je=null,We=null;function rt(d){if(typeof me=="function"&&De(d),We&&typeof We.setStrictMode=="function")try{We.setStrictMode(je,d)}catch{}}var ve=Math.clz32?Math.clz32:yt,xe=Math.log,Qe=Math.LN2;function yt(d){return d>>>=0,d===0?32:31-(xe(d)/Qe|0)|0}var st=256,_e=262144,te=4194304;function Fe(d){var m=d&42;if(m!==0)return m;switch(d&-d){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return d&261888;case 262144:case 524288:case 1048576:case 2097152:return d&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return d&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return d}}function Xe(d,m,x){var j=d.pendingLanes;if(j===0)return 0;var P=0,$=d.suspendedLanes,ee=d.pingedLanes;d=d.warmLanes;var Se=j&134217727;return Se!==0?(j=Se&~$,j!==0?P=Fe(j):(ee&=Se,ee!==0?P=Fe(ee):x||(x=Se&~d,x!==0&&(P=Fe(x))))):(Se=j&~$,Se!==0?P=Fe(Se):ee!==0?P=Fe(ee):x||(x=j&~d,x!==0&&(P=Fe(x)))),P===0?0:m!==0&&m!==P&&(m&$)===0&&($=P&-P,x=m&-m,$>=x||$===32&&(x&4194048)!==0)?m:P}function lt(d,m){return(d.pendingLanes&~(d.suspendedLanes&~d.pingedLanes)&m)===0}function wt(d,m){switch(d){case 1:case 2:case 4:case 8:case 64:return m+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $e(){var d=te;return te<<=1,(te&62914560)===0&&(te=4194304),d}function Ue(d){for(var m=[],x=0;31>x;x++)m.push(d);return m}function et(d,m){d.pendingLanes|=m,m!==268435456&&(d.suspendedLanes=0,d.pingedLanes=0,d.warmLanes=0)}function Rt(d,m,x,j,P,$){var ee=d.pendingLanes;d.pendingLanes=x,d.suspendedLanes=0,d.pingedLanes=0,d.warmLanes=0,d.expiredLanes&=x,d.entangledLanes&=x,d.errorRecoveryDisabledLanes&=x,d.shellSuspendCounter=0;var Se=d.entanglements,Ye=d.expirationTimes,Nt=d.hiddenUpdates;for(x=ee&~x;0<x;){var Ot=31-ve(x),Bt=1<<Ot;Se[Ot]=0,Ye[Ot]=-1;var St=Nt[Ot];if(St!==null)for(Nt[Ot]=null,Ot=0;Ot<St.length;Ot++){var _t=St[Ot];_t!==null&&(_t.lane&=-536870913)}x&=~Bt}j!==0&&Ut(d,j,0),$!==0&&P===0&&d.tag!==0&&(d.suspendedLanes|=$&~(ee&~m))}function Ut(d,m,x){d.pendingLanes|=m,d.suspendedLanes&=~m;var j=31-ve(m);d.entangledLanes|=m,d.entanglements[j]=d.entanglements[j]|1073741824|x&261930}function Wt(d,m){var x=d.entangledLanes|=m;for(d=d.entanglements;x;){var j=31-ve(x),P=1<<j;P&m|d[j]&m&&(d[j]|=m),x&=~P}}function mt(d,m){var x=m&-m;return x=(x&42)!==0?1:Ct(x),(x&(d.suspendedLanes|m))!==0?0:x}function Ct(d){switch(d){case 2:d=1;break;case 8:d=4;break;case 32:d=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:d=128;break;case 268435456:d=134217728;break;default:d=0}return d}function Vt(d){return d&=-d,2<d?8<d?(d&134217727)!==0?32:268435456:8:2}function br(){var d=H.p;return d!==0?d:(d=window.event,d===void 0?32:K7(d.type))}function gn(d,m){var x=H.p;try{return H.p=d,m()}finally{H.p=x}}var wn=Math.random().toString(36).slice(2),ir="__reactFiber$"+wn,Wr="__reactProps$"+wn,Kr="__reactContainer$"+wn,Zt="__reactEvents$"+wn,ct="__reactListeners$"+wn,dt="__reactHandles$"+wn,Mt="__reactResources$"+wn,he="__reactMarker$"+wn;function it(d){delete d[ir],delete d[Wr],delete d[Zt],delete d[ct],delete d[dt]}function kt(d){var m=d[ir];if(m)return m;for(var x=d.parentNode;x;){if(m=x[Kr]||x[ir]){if(x=m.alternate,m.child!==null||x!==null&&x.child!==null)for(d=D7(d);d!==null;){if(x=d[ir])return x;d=D7(d)}return m}d=x,x=d.parentNode}return null}function cr(d){if(d=d[ir]||d[Kr]){var m=d.tag;if(m===5||m===6||m===13||m===31||m===26||m===27||m===3)return d}return null}function Xr(d){var m=d.tag;if(m===5||m===26||m===27||m===6)return d.stateNode;throw Error(n(33))}function Et(d){var m=d[Mt];return m||(m=d[Mt]={hoistableStyles:new Map,hoistableScripts:new Map}),m}function sr(d){d[he]=!0}var Er=new Set,Nr={};function dr(d,m){Br(d,m),Br(d+"Capture",m)}function Br(d,m){for(Nr[d]=m,d=0;d<m.length;d++)Er.add(m[d])}var ba=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zr={},Ri={};function ya(d){return Me.call(Ri,d)?!0:Me.call(zr,d)?!1:ba.test(d)?Ri[d]=!0:(zr[d]=!0,!1)}function Sn(d,m,x){if(ya(m))if(x===null)d.removeAttribute(m);else{switch(typeof x){case"undefined":case"function":case"symbol":d.removeAttribute(m);return;case"boolean":var j=m.toLowerCase().slice(0,5);if(j!=="data-"&&j!=="aria-"){d.removeAttribute(m);return}}d.setAttribute(m,""+x)}}function Mn(d,m,x){if(x===null)d.removeAttribute(m);else{switch(typeof x){case"undefined":case"function":case"symbol":case"boolean":d.removeAttribute(m);return}d.setAttribute(m,""+x)}}function en(d,m,x,j){if(j===null)d.removeAttribute(x);else{switch(typeof j){case"undefined":case"function":case"symbol":case"boolean":d.removeAttribute(x);return}d.setAttributeNS(m,x,""+j)}}function Fn(d){switch(typeof d){case"bigint":case"boolean":case"number":case"string":case"undefined":return d;case"object":return d;default:return""}}function Cc(d){var m=d.type;return(d=d.nodeName)&&d.toLowerCase()==="input"&&(m==="checkbox"||m==="radio")}function Xi(d,m,x){var j=Object.getOwnPropertyDescriptor(d.constructor.prototype,m);if(!d.hasOwnProperty(m)&&typeof j<"u"&&typeof j.get=="function"&&typeof j.set=="function"){var P=j.get,$=j.set;return Object.defineProperty(d,m,{configurable:!0,get:function(){return P.call(this)},set:function(ee){x=""+ee,$.call(this,ee)}}),Object.defineProperty(d,m,{enumerable:j.enumerable}),{getValue:function(){return x},setValue:function(ee){x=""+ee},stopTracking:function(){d._valueTracker=null,delete d[m]}}}}function vo(d){if(!d._valueTracker){var m=Cc(d)?"checked":"value";d._valueTracker=Xi(d,m,""+d[m])}}function Qi(d){if(!d)return!1;var m=d._valueTracker;if(!m)return!0;var x=m.getValue(),j="";return d&&(j=Cc(d)?d.checked?"true":"false":d.value),d=j,d!==x?(m.setValue(d),!0):!1}function qo(d){if(d=d||(typeof document<"u"?document:void 0),typeof d>"u")return null;try{return d.activeElement||d.body}catch{return d.body}}var $a=/[\n"\\]/g;function Vs(d){return d.replace($a,function(m){return"\\"+m.charCodeAt(0).toString(16)+" "})}function vd(d,m,x,j,P,$,ee,Se){d.name="",ee!=null&&typeof ee!="function"&&typeof ee!="symbol"&&typeof ee!="boolean"?d.type=ee:d.removeAttribute("type"),m!=null?ee==="number"?(m===0&&d.value===""||d.value!=m)&&(d.value=""+Fn(m)):d.value!==""+Fn(m)&&(d.value=""+Fn(m)):ee!=="submit"&&ee!=="reset"||d.removeAttribute("value"),m!=null?wd(d,ee,Fn(m)):x!=null?wd(d,ee,Fn(x)):j!=null&&d.removeAttribute("value"),P==null&&$!=null&&(d.defaultChecked=!!$),P!=null&&(d.checked=P&&typeof P!="function"&&typeof P!="symbol"),Se!=null&&typeof Se!="function"&&typeof Se!="symbol"&&typeof Se!="boolean"?d.name=""+Fn(Se):d.removeAttribute("name")}function Yf(d,m,x,j,P,$,ee,Se){if($!=null&&typeof $!="function"&&typeof $!="symbol"&&typeof $!="boolean"&&(d.type=$),m!=null||x!=null){if(!($!=="submit"&&$!=="reset"||m!=null)){vo(d);return}x=x!=null?""+Fn(x):"",m=m!=null?""+Fn(m):x,Se||m===d.value||(d.value=m),d.defaultValue=m}j=j??P,j=typeof j!="function"&&typeof j!="symbol"&&!!j,d.checked=Se?d.checked:!!j,d.defaultChecked=!!j,ee!=null&&typeof ee!="function"&&typeof ee!="symbol"&&typeof ee!="boolean"&&(d.name=ee),vo(d)}function wd(d,m,x){m==="number"&&qo(d.ownerDocument)===d||d.defaultValue===""+x||(d.defaultValue=""+x)}function ii(d,m,x,j){if(d=d.options,m){m={};for(var P=0;P<x.length;P++)m["$"+x[P]]=!0;for(x=0;x<d.length;x++)P=m.hasOwnProperty("$"+d[x].value),d[x].selected!==P&&(d[x].selected=P),P&&j&&(d[x].defaultSelected=!0)}else{for(x=""+Fn(x),m=null,P=0;P<d.length;P++){if(d[P].value===x){d[P].selected=!0,j&&(d[P].defaultSelected=!0);return}m!==null||d[P].disabled||(m=d[P])}m!==null&&(m.selected=!0)}}function jd(d,m,x){if(m!=null&&(m=""+Fn(m),m!==d.value&&(d.value=m),x==null)){d.defaultValue!==m&&(d.defaultValue=m);return}d.defaultValue=x!=null?""+Fn(x):""}function Nd(d,m,x,j){if(m==null){if(j!=null){if(x!=null)throw Error(n(92));if(Y(j)){if(1<j.length)throw Error(n(93));j=j[0]}x=j}x==null&&(x=""),m=x}x=Fn(m),d.defaultValue=x,j=d.textContent,j===x&&j!==""&&j!==null&&(d.value=j),vo(d)}function Ii(d,m){if(m){var x=d.firstChild;if(x&&x===d.lastChild&&x.nodeType===3){x.nodeValue=m;return}}d.textContent=m}var Sd=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Kf(d,m,x){var j=m.indexOf("--")===0;x==null||typeof x=="boolean"||x===""?j?d.setProperty(m,""):m==="float"?d.cssFloat="":d[m]="":j?d.setProperty(m,x):typeof x!="number"||x===0||Sd.has(m)?m==="float"?d.cssFloat=x:d[m]=(""+x).trim():d[m]=x+"px"}function Jf(d,m,x){if(m!=null&&typeof m!="object")throw Error(n(62));if(d=d.style,x!=null){for(var j in x)!x.hasOwnProperty(j)||m!=null&&m.hasOwnProperty(j)||(j.indexOf("--")===0?d.setProperty(j,""):j==="float"?d.cssFloat="":d[j]="");for(var P in m)j=m[P],m.hasOwnProperty(P)&&x[P]!==j&&Kf(d,P,j)}else for(var $ in m)m.hasOwnProperty($)&&Kf(d,$,m[$])}function kd(d){if(d.indexOf("-")===-1)return!1;switch(d){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ie=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ne(d){return ie.test(""+d)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":d}function He(){}var Kt=null;function an(d){return d=d.target||d.srcElement||window,d.correspondingUseElement&&(d=d.correspondingUseElement),d.nodeType===3?d.parentNode:d}var rr=null,ss=null;function Zi(d){var m=cr(d);if(m&&(d=m.stateNode)){var x=d[Wr]||null;e:switch(d=m.stateNode,m.type){case"input":if(vd(d,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name),m=x.name,x.type==="radio"&&m!=null){for(x=d;x.parentNode;)x=x.parentNode;for(x=x.querySelectorAll('input[name="'+Vs(""+m)+'"][type="radio"]'),m=0;m<x.length;m++){var j=x[m];if(j!==d&&j.form===d.form){var P=j[Wr]||null;if(!P)throw Error(n(90));vd(j,P.value,P.defaultValue,P.defaultValue,P.checked,P.defaultChecked,P.type,P.name)}}for(m=0;m<x.length;m++)j=x[m],j.form===d.form&&Qi(j)}break e;case"textarea":jd(d,x.value,x.defaultValue);break e;case"select":m=x.value,m!=null&&ii(d,!!x.multiple,m,!1)}}}var wo=!1;function _c(d,m,x){if(wo)return d(m,x);wo=!0;try{var j=d(m);return j}finally{if(wo=!1,(rr!==null||ss!==null)&&(G1(),rr&&(m=rr,d=ss,ss=rr=null,Zi(m),d)))for(m=0;m<d.length;m++)Zi(d[m])}}function eo(d,m){var x=d.stateNode;if(x===null)return null;var j=x[Wr]||null;if(j===null)return null;x=j[m];e:switch(m){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(j=!j.disabled)||(d=d.type,j=!(d==="button"||d==="input"||d==="select"||d==="textarea")),d=!j;break e;default:d=!1}if(d)return null;if(x&&typeof x!="function")throw Error(n(231,m,typeof x));return x}var oi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),km=!1;if(oi)try{var _d={};Object.defineProperty(_d,"passive",{get:function(){km=!0}}),window.addEventListener("test",_d,_d),window.removeEventListener("test",_d,_d)}catch{km=!1}var jo=null,Ad=null,Il=null;function Td(){if(Il)return Il;var d,m=Ad,x=m.length,j,P="value"in jo?jo.value:jo.textContent,$=P.length;for(d=0;d<x&&m[d]===P[d];d++);var ee=x-d;for(j=1;j<=ee&&m[x-j]===P[$-j];j++);return Il=P.slice(d,1<j?1-j:void 0)}function Ac(d){var m=d.keyCode;return"charCode"in d?(d=d.charCode,d===0&&m===13&&(d=13)):d=m,d===10&&(d=13),32<=d||d===13?d:0}function Xf(){return!0}function Qf(){return!1}function Gs(d){function m(x,j,P,$,ee){this._reactName=x,this._targetInst=P,this.type=j,this.nativeEvent=$,this.target=ee,this.currentTarget=null;for(var Se in d)d.hasOwnProperty(Se)&&(x=d[Se],this[Se]=x?x($):$[Se]);return this.isDefaultPrevented=($.defaultPrevented!=null?$.defaultPrevented:$.returnValue===!1)?Xf:Qf,this.isPropagationStopped=Qf,this}return h(m.prototype,{preventDefault:function(){this.defaultPrevented=!0;var x=this.nativeEvent;x&&(x.preventDefault?x.preventDefault():typeof x.returnValue!="unknown"&&(x.returnValue=!1),this.isDefaultPrevented=Xf)},stopPropagation:function(){var x=this.nativeEvent;x&&(x.stopPropagation?x.stopPropagation():typeof x.cancelBubble!="unknown"&&(x.cancelBubble=!0),this.isPropagationStopped=Xf)},persist:function(){},isPersistent:Xf}),m}var No={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(d){return d.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fl=Gs(No),Tc=h({},No,{view:0,detail:0}),Zf=Gs(Tc),Md,Mc,yu,Ed=h({},Tc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vr,button:0,buttons:0,relatedTarget:function(d){return d.relatedTarget===void 0?d.fromElement===d.srcElement?d.toElement:d.fromElement:d.relatedTarget},movementX:function(d){return"movementX"in d?d.movementX:(d!==yu&&(yu&&d.type==="mousemove"?(Md=d.screenX-yu.screenX,Mc=d.screenY-yu.screenY):Mc=Md=0,yu=d),Md)},movementY:function(d){return"movementY"in d?d.movementY:Mc}}),Bl=Gs(Ed),Ec=h({},Ed,{dataTransfer:0}),c0=Gs(Ec),u0=h({},Tc,{relatedTarget:0}),Oc=Gs(u0),d0=h({},No,{animationName:0,elapsedTime:0,pseudoElement:0}),U=Gs(d0),ue=h({},No,{clipboardData:function(d){return"clipboardData"in d?d.clipboardData:window.clipboardData}}),Be=Gs(ue),Ze=h({},No,{data:0}),ft=Gs(Ze),Pt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sr(d){var m=this.nativeEvent;return m.getModifierState?m.getModifierState(d):(d=yr[d])?!!m[d]:!1}function Vr(){return Sr}var tn=h({},Tc,{key:function(d){if(d.key){var m=Pt[d.key]||d.key;if(m!=="Unidentified")return m}return d.type==="keypress"?(d=Ac(d),d===13?"Enter":String.fromCharCode(d)):d.type==="keydown"||d.type==="keyup"?qt[d.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vr,charCode:function(d){return d.type==="keypress"?Ac(d):0},keyCode:function(d){return d.type==="keydown"||d.type==="keyup"?d.keyCode:0},which:function(d){return d.type==="keypress"?Ac(d):d.type==="keydown"||d.type==="keyup"?d.keyCode:0}}),qn=Gs(tn),Ha=h({},Ed,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),is=Gs(Ha),va=h({},Tc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vr}),Ls=Gs(va),xs=h({},No,{propertyName:0,elapsedTime:0,pseudoElement:0}),li=Gs(xs),Uo=h({},Ed,{deltaX:function(d){return"deltaX"in d?d.deltaX:"wheelDeltaX"in d?-d.wheelDeltaX:0},deltaY:function(d){return"deltaY"in d?d.deltaY:"wheelDeltaY"in d?-d.wheelDeltaY:"wheelDelta"in d?-d.wheelDelta:0},deltaZ:0,deltaMode:0}),to=Gs(Uo),f0=h({},No,{newState:0,oldState:0}),eh=Gs(f0),Od=[9,13,27,32],$l=oi&&"CompositionEvent"in window,ml=null;oi&&"documentMode"in document&&(ml=document.documentMode);var Dd=oi&&"TextEvent"in window&&!ml,vu=oi&&(!$l||ml&&8<ml&&11>=ml),ci=" ",wu=!1;function ju(d,m){switch(d){case"keyup":return Od.indexOf(m.keyCode)!==-1;case"keydown":return m.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function th(d){return d=d.detail,typeof d=="object"&&"data"in d?d.data:null}var Hl=!1;function Xa(d,m){switch(d){case"compositionend":return th(m);case"keypress":return m.which!==32?null:(wu=!0,ci);case"textInput":return d=m.data,d===ci&&wu?null:d;default:return null}}function Dc(d,m){if(Hl)return d==="compositionend"||!$l&&ju(d,m)?(d=Td(),Il=Ad=jo=null,Hl=!1,d):null;switch(d){case"paste":return null;case"keypress":if(!(m.ctrlKey||m.altKey||m.metaKey)||m.ctrlKey&&m.altKey){if(m.char&&1<m.char.length)return m.char;if(m.which)return String.fromCharCode(m.which)}return null;case"compositionend":return vu&&m.locale!=="ko"?null:m.data;default:return null}}var rh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cm(d){var m=d&&d.nodeName&&d.nodeName.toLowerCase();return m==="input"?!!rh[d.type]:m==="textarea"}function So(d,m,x,j){rr?ss?ss.push(j):ss=[j]:rr=j,m=ew(m,"onChange"),0<m.length&&(x=new Fl("onChange","change",null,x,j),d.push({event:x,listeners:m}))}var pl=null,Pc=null;function _m(d){y7(d,0)}function gl(d){var m=Xr(d);if(Qi(m))return d}function Nu(d,m){if(d==="change")return m}var ro=!1;if(oi){var Fi;if(oi){var zl="oninput"in document;if(!zl){var ql=document.createElement("div");ql.setAttribute("oninput","return;"),zl=typeof ql.oninput=="function"}Fi=zl}else Fi=!1;ro=Fi&&(!document.documentMode||9<document.documentMode)}function Lc(){pl&&(pl.detachEvent("onpropertychange",nh),Pc=pl=null)}function nh(d){if(d.propertyName==="value"&&gl(Pc)){var m=[];So(m,Pc,d,an(d)),_c(_m,m)}}function ah(d,m,x){d==="focusin"?(Lc(),pl=m,Pc=x,pl.attachEvent("onpropertychange",nh)):d==="focusout"&&Lc()}function ls(d){if(d==="selectionchange"||d==="keyup"||d==="keydown")return gl(Pc)}function h0(d,m){if(d==="click")return gl(m)}function Ul(d,m){if(d==="input"||d==="change")return gl(m)}function Wl(d,m){return d===m&&(d!==0||1/d===1/m)||d!==d&&m!==m}var ui=typeof Object.is=="function"?Object.is:Wl;function Rc(d,m){if(ui(d,m))return!0;if(typeof d!="object"||d===null||typeof m!="object"||m===null)return!1;var x=Object.keys(d),j=Object.keys(m);if(x.length!==j.length)return!1;for(j=0;j<x.length;j++){var P=x[j];if(!Me.call(m,P)||!ui(d[P],m[P]))return!1}return!0}function sh(d){for(;d&&d.firstChild;)d=d.firstChild;return d}function ih(d,m){var x=sh(d);d=0;for(var j;x;){if(x.nodeType===3){if(j=d+x.textContent.length,d<=m&&j>=m)return{node:x,offset:m-d};d=j}e:{for(;x;){if(x.nextSibling){x=x.nextSibling;break e}x=x.parentNode}x=void 0}x=sh(x)}}function Ic(d,m){return d&&m?d===m?!0:d&&d.nodeType===3?!1:m&&m.nodeType===3?Ic(d,m.parentNode):"contains"in d?d.contains(m):d.compareDocumentPosition?!!(d.compareDocumentPosition(m)&16):!1:!1}function Fc(d){d=d!=null&&d.ownerDocument!=null&&d.ownerDocument.defaultView!=null?d.ownerDocument.defaultView:window;for(var m=qo(d.document);m instanceof d.HTMLIFrameElement;){try{var x=typeof m.contentWindow.location.href=="string"}catch{x=!1}if(x)d=m.contentWindow;else break;m=qo(d.document)}return m}function Vl(d){var m=d&&d.nodeName&&d.nodeName.toLowerCase();return m&&(m==="input"&&(d.type==="text"||d.type==="search"||d.type==="tel"||d.type==="url"||d.type==="password")||m==="textarea"||d.contentEditable==="true")}var Pd=oi&&"documentMode"in document&&11>=document.documentMode,ko=null,Bc=null,ji=null,Wo=!1;function Un(d,m,x){var j=x.window===x?x.document:x.nodeType===9?x:x.ownerDocument;Wo||ko==null||ko!==qo(j)||(j=ko,"selectionStart"in j&&Vl(j)?j={start:j.selectionStart,end:j.selectionEnd}:(j=(j.ownerDocument&&j.ownerDocument.defaultView||window).getSelection(),j={anchorNode:j.anchorNode,anchorOffset:j.anchorOffset,focusNode:j.focusNode,focusOffset:j.focusOffset}),ji&&Rc(ji,j)||(ji=j,j=ew(Bc,"onSelect"),0<j.length&&(m=new Fl("onSelect","select",null,m,x),d.push({event:m,listeners:j}),m.target=ko)))}function Ln(d,m){var x={};return x[d.toLowerCase()]=m.toLowerCase(),x["Webkit"+d]="webkit"+m,x["Moz"+d]="moz"+m,x}var wa={animationend:Ln("Animation","AnimationEnd"),animationiteration:Ln("Animation","AnimationIteration"),animationstart:Ln("Animation","AnimationStart"),transitionrun:Ln("Transition","TransitionRun"),transitionstart:Ln("Transition","TransitionStart"),transitioncancel:Ln("Transition","TransitionCancel"),transitionend:Ln("Transition","TransitionEnd")},cs={},Gl={};oi&&(Gl=document.createElement("div").style,"AnimationEvent"in window||(delete wa.animationend.animation,delete wa.animationiteration.animation,delete wa.animationstart.animation),"TransitionEvent"in window||delete wa.transitionend.transition);function xl(d){if(cs[d])return cs[d];if(!wa[d])return d;var m=wa[d],x;for(x in m)if(m.hasOwnProperty(x)&&x in Gl)return cs[d]=m[x];return d}var Ld=xl("animationend"),Am=xl("animationiteration"),Kx=xl("animationstart"),N1=xl("transitionrun"),S1=xl("transitionstart"),k1=xl("transitioncancel"),Jx=xl("transitionend"),Xx=new Map,Rd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Rd.push("scrollEnd");function Vo(d,m){Xx.set(d,m),dr(m,[d])}var Tm=typeof reportError=="function"?reportError:function(d){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var m=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof d=="object"&&d!==null&&typeof d.message=="string"?String(d.message):String(d),error:d});if(!window.dispatchEvent(m))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",d);return}console.error(d)},Co=[],Id=0,m0=0;function Mm(){for(var d=Id,m=m0=Id=0;m<d;){var x=Co[m];Co[m++]=null;var j=Co[m];Co[m++]=null;var P=Co[m];Co[m++]=null;var $=Co[m];if(Co[m++]=null,j!==null&&P!==null){var ee=j.pending;ee===null?P.next=P:(P.next=ee.next,ee.next=P),j.pending=P}$!==0&&Om(x,P,$)}}function Em(d,m,x,j){Co[Id++]=d,Co[Id++]=m,Co[Id++]=x,Co[Id++]=j,m0|=j,d.lanes|=j,d=d.alternate,d!==null&&(d.lanes|=j)}function p0(d,m,x,j){return Em(d,m,x,j),Ni(d)}function $c(d,m){return Em(d,null,null,m),Ni(d)}function Om(d,m,x){d.lanes|=x;var j=d.alternate;j!==null&&(j.lanes|=x);for(var P=!1,$=d.return;$!==null;)$.childLanes|=x,j=$.alternate,j!==null&&(j.childLanes|=x),$.tag===22&&(d=$.stateNode,d===null||d._visibility&1||(P=!0)),d=$,$=$.return;return d.tag===3?($=d.stateNode,P&&m!==null&&(P=31-ve(x),d=$.hiddenUpdates,j=d[P],j===null?d[P]=[m]:j.push(m),m.lane=x|536870912),$):null}function Ni(d){if(50<yb)throw yb=0,_k=null,Error(n(185));for(var m=d.return;m!==null;)d=m,m=d.return;return d.tag===3?d.stateNode:null}var di={};function g0(d,m,x,j){this.tag=d,this.key=x,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=m,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=j,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Si(d,m,x,j){return new g0(d,m,x,j)}function x0(d){return d=d.prototype,!(!d||!d.isReactComponent)}function Go(d,m){var x=d.alternate;return x===null?(x=Si(d.tag,m,d.key,d.mode),x.elementType=d.elementType,x.type=d.type,x.stateNode=d.stateNode,x.alternate=d,d.alternate=x):(x.pendingProps=m,x.type=d.type,x.flags=0,x.subtreeFlags=0,x.deletions=null),x.flags=d.flags&65011712,x.childLanes=d.childLanes,x.lanes=d.lanes,x.child=d.child,x.memoizedProps=d.memoizedProps,x.memoizedState=d.memoizedState,x.updateQueue=d.updateQueue,m=d.dependencies,x.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext},x.sibling=d.sibling,x.index=d.index,x.ref=d.ref,x.refCleanup=d.refCleanup,x}function Dm(d,m){d.flags&=65011714;var x=d.alternate;return x===null?(d.childLanes=0,d.lanes=m,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=x.childLanes,d.lanes=x.lanes,d.child=x.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=x.memoizedProps,d.memoizedState=x.memoizedState,d.updateQueue=x.updateQueue,d.type=x.type,m=x.dependencies,d.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext}),d}function oh(d,m,x,j,P,$){var ee=0;if(j=d,typeof d=="function")x0(d)&&(ee=1);else if(typeof d=="string")ee=zie(d,x,Q.current)?26:d==="html"||d==="head"||d==="body"?27:5;else e:switch(d){case R:return d=Si(31,x,m,P),d.elementType=R,d.lanes=$,d;case w:return Su(x.children,P,$,m);case y:ee=8,P|=24;break;case N:return d=Si(12,x,m,P|2),d.elementType=N,d.lanes=$,d;case _:return d=Si(13,x,m,P),d.elementType=_,d.lanes=$,d;case D:return d=Si(19,x,m,P),d.elementType=D,d.lanes=$,d;default:if(typeof d=="object"&&d!==null)switch(d.$$typeof){case S:ee=10;break e;case k:ee=9;break e;case T:ee=11;break e;case E:ee=14;break e;case L:ee=16,j=null;break e}ee=29,x=Error(n(130,d===null?"null":typeof d,"")),j=null}return m=Si(ee,x,m,P),m.elementType=d,m.type=j,m.lanes=$,m}function Su(d,m,x,j){return d=Si(7,d,j,m),d.lanes=x,d}function Pm(d,m,x){return d=Si(6,d,null,m),d.lanes=x,d}function b0(d){var m=Si(18,null,null,0);return m.stateNode=d,m}function lh(d,m,x){return m=Si(4,d.children!==null?d.children:[],d.key,m),m.lanes=x,m.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation},m}var y0=new WeakMap;function Yo(d,m){if(typeof d=="object"&&d!==null){var x=y0.get(d);return x!==void 0?x:(m={value:d,source:m,stack:Re(m)},y0.set(d,m),m)}return{value:d,source:m,stack:Re(m)}}var ch=[],Fd=0,v0=null,Lm=0,Ko=[],Jo=0,ku=null,Xo=1,Qo="";function _o(d,m){ch[Fd++]=Lm,ch[Fd++]=v0,v0=d,Lm=m}function C1(d,m,x){Ko[Jo++]=Xo,Ko[Jo++]=Qo,Ko[Jo++]=ku,ku=d;var j=Xo;d=Qo;var P=32-ve(j)-1;j&=~(1<<P),x+=1;var $=32-ve(m)+P;if(30<$){var ee=P-P%5;$=(j&(1<<ee)-1).toString(32),j>>=ee,P-=ee,Xo=1<<32-ve(m)+P|x<<P|j,Qo=$+d}else Xo=1<<$|x<<P|j,Qo=d}function Qx(d){d.return!==null&&(_o(d,1),C1(d,1,0))}function w0(d){for(;d===v0;)v0=ch[--Fd],ch[Fd]=null,Lm=ch[--Fd],ch[Fd]=null;for(;d===ku;)ku=Ko[--Jo],Ko[Jo]=null,Qo=Ko[--Jo],Ko[Jo]=null,Xo=Ko[--Jo],Ko[Jo]=null}function _1(d,m){Ko[Jo++]=Xo,Ko[Jo++]=Qo,Ko[Jo++]=ku,Xo=m.id,Qo=m.overflow,ku=d}var fi=null,_a=null,kn=!1,Bi=null,Qa=!1,bl=Error(n(519));function Cu(d){var m=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw uh(Yo(m,d)),bl}function Zx(d){var m=d.stateNode,x=d.type,j=d.memoizedProps;switch(m[ir]=d,m[Wr]=j,x){case"dialog":_n("cancel",m),_n("close",m);break;case"iframe":case"object":case"embed":_n("load",m);break;case"video":case"audio":for(x=0;x<wb.length;x++)_n(wb[x],m);break;case"source":_n("error",m);break;case"img":case"image":case"link":_n("error",m),_n("load",m);break;case"details":_n("toggle",m);break;case"input":_n("invalid",m),Yf(m,j.value,j.defaultValue,j.checked,j.defaultChecked,j.type,j.name,!0);break;case"select":_n("invalid",m);break;case"textarea":_n("invalid",m),Nd(m,j.value,j.defaultValue,j.children)}x=j.children,typeof x!="string"&&typeof x!="number"&&typeof x!="bigint"||m.textContent===""+x||j.suppressHydrationWarning===!0||N7(m.textContent,x)?(j.popover!=null&&(_n("beforetoggle",m),_n("toggle",m)),j.onScroll!=null&&_n("scroll",m),j.onScrollEnd!=null&&_n("scrollend",m),j.onClick!=null&&(m.onclick=He),m=!0):m=!1,m||Cu(d,!0)}function Hc(d){for(fi=d.return;fi;)switch(fi.tag){case 5:case 31:case 13:Qa=!1;return;case 27:case 3:Qa=!0;return;default:fi=fi.return}}function hi(d){if(d!==fi)return!1;if(!kn)return Hc(d),kn=!0,!1;var m=d.tag,x;if((x=m!==3&&m!==27)&&((x=m===5)&&(x=d.type,x=!(x!=="form"&&x!=="button")||zk(d.type,d.memoizedProps)),x=!x),x&&_a&&Cu(d),Hc(d),m===13){if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(n(317));_a=O7(d)}else if(m===31){if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(n(317));_a=O7(d)}else m===27?(m=_a,Sh(d.type)?(d=Gk,Gk=null,_a=d):_a=m):_a=fi?Xl(d.stateNode.nextSibling):null;return!0}function Bd(){_a=fi=null,kn=!1}function eb(){var d=Bi;return d!==null&&(al===null?al=d:al.push.apply(al,d),Bi=null),d}function uh(d){Bi===null?Bi=[d]:Bi.push(d)}var j0=K(null),_u=null,Yl=null;function Au(d,m,x){J(j0,m._currentValue),m._currentValue=x}function Zo(d){d._currentValue=j0.current,V(j0)}function dh(d,m,x){for(;d!==null;){var j=d.alternate;if((d.childLanes&m)!==m?(d.childLanes|=m,j!==null&&(j.childLanes|=m)):j!==null&&(j.childLanes&m)!==m&&(j.childLanes|=m),d===x)break;d=d.return}}function $d(d,m,x,j){var P=d.child;for(P!==null&&(P.return=d);P!==null;){var $=P.dependencies;if($!==null){var ee=P.child;$=$.firstContext;e:for(;$!==null;){var Se=$;$=P;for(var Ye=0;Ye<m.length;Ye++)if(Se.context===m[Ye]){$.lanes|=x,Se=$.alternate,Se!==null&&(Se.lanes|=x),dh($.return,x,d),j||(ee=null);break e}$=Se.next}}else if(P.tag===18){if(ee=P.return,ee===null)throw Error(n(341));ee.lanes|=x,$=ee.alternate,$!==null&&($.lanes|=x),dh(ee,x,d),ee=null}else ee=P.child;if(ee!==null)ee.return=P;else for(ee=P;ee!==null;){if(ee===d){ee=null;break}if(P=ee.sibling,P!==null){P.return=ee.return,ee=P;break}ee=ee.return}P=ee}}function Tu(d,m,x,j){d=null;for(var P=m,$=!1;P!==null;){if(!$){if((P.flags&524288)!==0)$=!0;else if((P.flags&262144)!==0)break}if(P.tag===10){var ee=P.alternate;if(ee===null)throw Error(n(387));if(ee=ee.memoizedProps,ee!==null){var Se=P.type;ui(P.pendingProps.value,ee.value)||(d!==null?d.push(Se):d=[Se])}}else if(P===Ee.current){if(ee=P.alternate,ee===null)throw Error(n(387));ee.memoizedState.memoizedState!==P.memoizedState.memoizedState&&(d!==null?d.push(Cb):d=[Cb])}P=P.return}d!==null&&$d(m,d,x,j),m.flags|=262144}function N0(d){for(d=d.firstContext;d!==null;){if(!ui(d.context._currentValue,d.memoizedValue))return!0;d=d.next}return!1}function Mu(d){_u=d,Yl=null,d=d.dependencies,d!==null&&(d.firstContext=null)}function mi(d){return A1(_u,d)}function S0(d,m){return _u===null&&Mu(d),A1(d,m)}function A1(d,m){var x=m._currentValue;if(m={context:m,memoizedValue:x,next:null},Yl===null){if(d===null)throw Error(n(308));Yl=m,d.dependencies={lanes:0,firstContext:m},d.flags|=524288}else Yl=Yl.next=m;return x}var VS=typeof AbortController<"u"?AbortController:function(){var d=[],m=this.signal={aborted:!1,addEventListener:function(x,j){d.push(j)}};this.abort=function(){m.aborted=!0,d.forEach(function(x){return x()})}},GS=t.unstable_scheduleCallback,YS=t.unstable_NormalPriority,us={$$typeof:S,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function fh(){return{controller:new VS,data:new Map,refCount:0}}function Rm(d){d.refCount--,d.refCount===0&&GS(YS,function(){d.controller.abort()})}var Im=null,k0=0,C=0,I=null;function G(d,m){if(Im===null){var x=Im=[];k0=0,C=Dk(),I={status:"pending",value:void 0,then:function(j){x.push(j)}}}return k0++,m.then(Z,Z),m}function Z(){if(--k0===0&&Im!==null){I!==null&&(I.status="fulfilled");var d=Im;Im=null,C=0,I=null;for(var m=0;m<d.length;m++)(0,d[m])()}}function de(d,m){var x=[],j={status:"pending",value:null,reason:null,then:function(P){x.push(P)}};return d.then(function(){j.status="fulfilled",j.value=m;for(var P=0;P<x.length;P++)(0,x[P])(m)},function(P){for(j.status="rejected",j.reason=P,P=0;P<x.length;P++)(0,x[P])(void 0)}),j}var be=W.S;W.S=function(d,m){G8=le(),typeof m=="object"&&m!==null&&typeof m.then=="function"&&G(d,m),be!==null&&be(d,m)};var we=K(null);function Ae(){var d=we.current;return d!==null?d:Ta.pooledCache}function Oe(d,m){m===null?J(we,we.current):J(we,m.pool)}function Ie(){var d=Ae();return d===null?null:{parent:us._currentValue,pool:d}}var nt=Error(n(460)),vt=Error(n(474)),Le=Error(n(542)),ot={then:function(){}};function gt(d){return d=d.status,d==="fulfilled"||d==="rejected"}function Tt(d,m,x){switch(x=d[x],x===void 0?d.push(m):x!==m&&(m.then(He,He),m=x),m.status){case"fulfilled":return m.value;case"rejected":throw d=m.reason,Gt(d),d;default:if(typeof m.status=="string")m.then(He,He);else{if(d=Ta,d!==null&&100<d.shellSuspendCounter)throw Error(n(482));d=m,d.status="pending",d.then(function(j){if(m.status==="pending"){var P=m;P.status="fulfilled",P.value=j}},function(j){if(m.status==="pending"){var P=m;P.status="rejected",P.reason=j}})}switch(m.status){case"fulfilled":return m.value;case"rejected":throw d=m.reason,Gt(d),d}throw At=m,nt}}function xt(d){try{var m=d._init;return m(d._payload)}catch(x){throw x!==null&&typeof x=="object"&&typeof x.then=="function"?(At=x,nt):x}}var At=null;function Lt(){if(At===null)throw Error(n(459));var d=At;return At=null,d}function Gt(d){if(d===nt||d===Le)throw Error(n(483))}var $t=null,wr=0;function hr(d){var m=wr;return wr+=1,$t===null&&($t=[]),Tt($t,d,m)}function Qr(d,m){m=m.props.ref,d.ref=m!==void 0?m:null}function gr(d,m){throw m.$$typeof===g?Error(n(525)):(d=Object.prototype.toString.call(m),Error(n(31,d==="[object Object]"?"object with keys {"+Object.keys(m).join(", ")+"}":d)))}function Nn(d){function m(ht,at){if(d){var jt=ht.deletions;jt===null?(ht.deletions=[at],ht.flags|=16):jt.push(at)}}function x(ht,at){if(!d)return null;for(;at!==null;)m(ht,at),at=at.sibling;return null}function j(ht){for(var at=new Map;ht!==null;)ht.key!==null?at.set(ht.key,ht):at.set(ht.index,ht),ht=ht.sibling;return at}function P(ht,at){return ht=Go(ht,at),ht.index=0,ht.sibling=null,ht}function $(ht,at,jt){return ht.index=jt,d?(jt=ht.alternate,jt!==null?(jt=jt.index,jt<at?(ht.flags|=67108866,at):jt):(ht.flags|=67108866,at)):(ht.flags|=1048576,at)}function ee(ht){return d&&ht.alternate===null&&(ht.flags|=67108866),ht}function Se(ht,at,jt,It){return at===null||at.tag!==6?(at=Pm(jt,ht.mode,It),at.return=ht,at):(at=P(at,jt),at.return=ht,at)}function Ye(ht,at,jt,It){var Pr=jt.type;return Pr===w?Ot(ht,at,jt.props.children,It,jt.key):at!==null&&(at.elementType===Pr||typeof Pr=="object"&&Pr!==null&&Pr.$$typeof===L&&xt(Pr)===at.type)?(at=P(at,jt.props),Qr(at,jt),at.return=ht,at):(at=oh(jt.type,jt.key,jt.props,null,ht.mode,It),Qr(at,jt),at.return=ht,at)}function Nt(ht,at,jt,It){return at===null||at.tag!==4||at.stateNode.containerInfo!==jt.containerInfo||at.stateNode.implementation!==jt.implementation?(at=lh(jt,ht.mode,It),at.return=ht,at):(at=P(at,jt.children||[]),at.return=ht,at)}function Ot(ht,at,jt,It,Pr){return at===null||at.tag!==7?(at=Su(jt,ht.mode,It,Pr),at.return=ht,at):(at=P(at,jt),at.return=ht,at)}function Bt(ht,at,jt){if(typeof at=="string"&&at!==""||typeof at=="number"||typeof at=="bigint")return at=Pm(""+at,ht.mode,jt),at.return=ht,at;if(typeof at=="object"&&at!==null){switch(at.$$typeof){case p:return jt=oh(at.type,at.key,at.props,null,ht.mode,jt),Qr(jt,at),jt.return=ht,jt;case v:return at=lh(at,ht.mode,jt),at.return=ht,at;case L:return at=xt(at),Bt(ht,at,jt)}if(Y(at)||M(at))return at=Su(at,ht.mode,jt,null),at.return=ht,at;if(typeof at.then=="function")return Bt(ht,hr(at),jt);if(at.$$typeof===S)return Bt(ht,S0(ht,at),jt);gr(ht,at)}return null}function St(ht,at,jt,It){var Pr=at!==null?at.key:null;if(typeof jt=="string"&&jt!==""||typeof jt=="number"||typeof jt=="bigint")return Pr!==null?null:Se(ht,at,""+jt,It);if(typeof jt=="object"&&jt!==null){switch(jt.$$typeof){case p:return jt.key===Pr?Ye(ht,at,jt,It):null;case v:return jt.key===Pr?Nt(ht,at,jt,It):null;case L:return jt=xt(jt),St(ht,at,jt,It)}if(Y(jt)||M(jt))return Pr!==null?null:Ot(ht,at,jt,It,null);if(typeof jt.then=="function")return St(ht,at,hr(jt),It);if(jt.$$typeof===S)return St(ht,at,S0(ht,jt),It);gr(ht,jt)}return null}function _t(ht,at,jt,It,Pr){if(typeof It=="string"&&It!==""||typeof It=="number"||typeof It=="bigint")return ht=ht.get(jt)||null,Se(at,ht,""+It,Pr);if(typeof It=="object"&&It!==null){switch(It.$$typeof){case p:return ht=ht.get(It.key===null?jt:It.key)||null,Ye(at,ht,It,Pr);case v:return ht=ht.get(It.key===null?jt:It.key)||null,Nt(at,ht,It,Pr);case L:return It=xt(It),_t(ht,at,jt,It,Pr)}if(Y(It)||M(It))return ht=ht.get(jt)||null,Ot(at,ht,It,Pr,null);if(typeof It.then=="function")return _t(ht,at,jt,hr(It),Pr);if(It.$$typeof===S)return _t(ht,at,jt,S0(at,It),Pr);gr(at,It)}return null}function vr(ht,at,jt,It){for(var Pr=null,Gn=null,kr=at,pn=at=0,On=null;kr!==null&&pn<jt.length;pn++){kr.index>pn?(On=kr,kr=null):On=kr.sibling;var Yn=St(ht,kr,jt[pn],It);if(Yn===null){kr===null&&(kr=On);break}d&&kr&&Yn.alternate===null&&m(ht,kr),at=$(Yn,at,pn),Gn===null?Pr=Yn:Gn.sibling=Yn,Gn=Yn,kr=On}if(pn===jt.length)return x(ht,kr),kn&&_o(ht,pn),Pr;if(kr===null){for(;pn<jt.length;pn++)kr=Bt(ht,jt[pn],It),kr!==null&&(at=$(kr,at,pn),Gn===null?Pr=kr:Gn.sibling=kr,Gn=kr);return kn&&_o(ht,pn),Pr}for(kr=j(kr);pn<jt.length;pn++)On=_t(kr,ht,pn,jt[pn],It),On!==null&&(d&&On.alternate!==null&&kr.delete(On.key===null?pn:On.key),at=$(On,at,pn),Gn===null?Pr=On:Gn.sibling=On,Gn=On);return d&&kr.forEach(function(Th){return m(ht,Th)}),kn&&_o(ht,pn),Pr}function qr(ht,at,jt,It){if(jt==null)throw Error(n(151));for(var Pr=null,Gn=null,kr=at,pn=at=0,On=null,Yn=jt.next();kr!==null&&!Yn.done;pn++,Yn=jt.next()){kr.index>pn?(On=kr,kr=null):On=kr.sibling;var Th=St(ht,kr,Yn.value,It);if(Th===null){kr===null&&(kr=On);break}d&&kr&&Th.alternate===null&&m(ht,kr),at=$(Th,at,pn),Gn===null?Pr=Th:Gn.sibling=Th,Gn=Th,kr=On}if(Yn.done)return x(ht,kr),kn&&_o(ht,pn),Pr;if(kr===null){for(;!Yn.done;pn++,Yn=jt.next())Yn=Bt(ht,Yn.value,It),Yn!==null&&(at=$(Yn,at,pn),Gn===null?Pr=Yn:Gn.sibling=Yn,Gn=Yn);return kn&&_o(ht,pn),Pr}for(kr=j(kr);!Yn.done;pn++,Yn=jt.next())Yn=_t(kr,ht,pn,Yn.value,It),Yn!==null&&(d&&Yn.alternate!==null&&kr.delete(Yn.key===null?pn:Yn.key),at=$(Yn,at,pn),Gn===null?Pr=Yn:Gn.sibling=Yn,Gn=Yn);return d&&kr.forEach(function(Zie){return m(ht,Zie)}),kn&&_o(ht,pn),Pr}function ka(ht,at,jt,It){if(typeof jt=="object"&&jt!==null&&jt.type===w&&jt.key===null&&(jt=jt.props.children),typeof jt=="object"&&jt!==null){switch(jt.$$typeof){case p:e:{for(var Pr=jt.key;at!==null;){if(at.key===Pr){if(Pr=jt.type,Pr===w){if(at.tag===7){x(ht,at.sibling),It=P(at,jt.props.children),It.return=ht,ht=It;break e}}else if(at.elementType===Pr||typeof Pr=="object"&&Pr!==null&&Pr.$$typeof===L&&xt(Pr)===at.type){x(ht,at.sibling),It=P(at,jt.props),Qr(It,jt),It.return=ht,ht=It;break e}x(ht,at);break}else m(ht,at);at=at.sibling}jt.type===w?(It=Su(jt.props.children,ht.mode,It,jt.key),It.return=ht,ht=It):(It=oh(jt.type,jt.key,jt.props,null,ht.mode,It),Qr(It,jt),It.return=ht,ht=It)}return ee(ht);case v:e:{for(Pr=jt.key;at!==null;){if(at.key===Pr)if(at.tag===4&&at.stateNode.containerInfo===jt.containerInfo&&at.stateNode.implementation===jt.implementation){x(ht,at.sibling),It=P(at,jt.children||[]),It.return=ht,ht=It;break e}else{x(ht,at);break}else m(ht,at);at=at.sibling}It=lh(jt,ht.mode,It),It.return=ht,ht=It}return ee(ht);case L:return jt=xt(jt),ka(ht,at,jt,It)}if(Y(jt))return vr(ht,at,jt,It);if(M(jt)){if(Pr=M(jt),typeof Pr!="function")throw Error(n(150));return jt=Pr.call(jt),qr(ht,at,jt,It)}if(typeof jt.then=="function")return ka(ht,at,hr(jt),It);if(jt.$$typeof===S)return ka(ht,at,S0(ht,jt),It);gr(ht,jt)}return typeof jt=="string"&&jt!==""||typeof jt=="number"||typeof jt=="bigint"?(jt=""+jt,at!==null&&at.tag===6?(x(ht,at.sibling),It=P(at,jt),It.return=ht,ht=It):(x(ht,at),It=Pm(jt,ht.mode,It),It.return=ht,ht=It),ee(ht)):x(ht,at)}return function(ht,at,jt,It){try{wr=0;var Pr=ka(ht,at,jt,It);return $t=null,Pr}catch(kr){if(kr===nt||kr===Le)throw kr;var Gn=Si(29,kr,null,ht.mode);return Gn.lanes=It,Gn.return=ht,Gn}finally{}}}var Aa=Nn(!0),sn=Nn(!1),mr=!1;function nr(d){d.updateQueue={baseState:d.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function za(d,m){d=d.updateQueue,m.updateQueue===d&&(m.updateQueue={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,callbacks:null})}function $r(d){return{lane:d,tag:0,payload:null,callback:null,next:null}}function dn(d,m,x){var j=d.updateQueue;if(j===null)return null;if(j=j.shared,(Qn&2)!==0){var P=j.pending;return P===null?m.next=m:(m.next=P.next,P.next=m),j.pending=m,m=Ni(d),Om(d,null,x),m}return Em(d,j,m,x),Ni(d)}function Jn(d,m,x){if(m=m.updateQueue,m!==null&&(m=m.shared,(x&4194048)!==0)){var j=m.lanes;j&=d.pendingLanes,x|=j,m.lanes=x,Wt(d,x)}}function Rs(d,m){var x=d.updateQueue,j=d.alternate;if(j!==null&&(j=j.updateQueue,x===j)){var P=null,$=null;if(x=x.firstBaseUpdate,x!==null){do{var ee={lane:x.lane,tag:x.tag,payload:x.payload,callback:null,next:null};$===null?P=$=ee:$=$.next=ee,x=x.next}while(x!==null);$===null?P=$=m:$=$.next=m}else P=$=m;x={baseState:j.baseState,firstBaseUpdate:P,lastBaseUpdate:$,shared:j.shared,callbacks:j.callbacks},d.updateQueue=x;return}d=x.lastBaseUpdate,d===null?x.firstBaseUpdate=m:d.next=m,x.lastBaseUpdate=m}var pi=!1;function ja(){if(pi){var d=I;if(d!==null)throw d}}function bs(d,m,x,j){pi=!1;var P=d.updateQueue;mr=!1;var $=P.firstBaseUpdate,ee=P.lastBaseUpdate,Se=P.shared.pending;if(Se!==null){P.shared.pending=null;var Ye=Se,Nt=Ye.next;Ye.next=null,ee===null?$=Nt:ee.next=Nt,ee=Ye;var Ot=d.alternate;Ot!==null&&(Ot=Ot.updateQueue,Se=Ot.lastBaseUpdate,Se!==ee&&(Se===null?Ot.firstBaseUpdate=Nt:Se.next=Nt,Ot.lastBaseUpdate=Ye))}if($!==null){var Bt=P.baseState;ee=0,Ot=Nt=Ye=null,Se=$;do{var St=Se.lane&-536870913,_t=St!==Se.lane;if(_t?(En&St)===St:(j&St)===St){St!==0&&St===C&&(pi=!0),Ot!==null&&(Ot=Ot.next={lane:0,tag:Se.tag,payload:Se.payload,callback:null,next:null});e:{var vr=d,qr=Se;St=m;var ka=x;switch(qr.tag){case 1:if(vr=qr.payload,typeof vr=="function"){Bt=vr.call(ka,Bt,St);break e}Bt=vr;break e;case 3:vr.flags=vr.flags&-65537|128;case 0:if(vr=qr.payload,St=typeof vr=="function"?vr.call(ka,Bt,St):vr,St==null)break e;Bt=h({},Bt,St);break e;case 2:mr=!0}}St=Se.callback,St!==null&&(d.flags|=64,_t&&(d.flags|=8192),_t=P.callbacks,_t===null?P.callbacks=[St]:_t.push(St))}else _t={lane:St,tag:Se.tag,payload:Se.payload,callback:Se.callback,next:null},Ot===null?(Nt=Ot=_t,Ye=Bt):Ot=Ot.next=_t,ee|=St;if(Se=Se.next,Se===null){if(Se=P.shared.pending,Se===null)break;_t=Se,Se=_t.next,_t.next=null,P.lastBaseUpdate=_t,P.shared.pending=null}}while(!0);Ot===null&&(Ye=Bt),P.baseState=Ye,P.firstBaseUpdate=Nt,P.lastBaseUpdate=Ot,$===null&&(P.shared.lanes=0),yh|=ee,d.lanes=ee,d.memoizedState=Bt}}function ki(d,m){if(typeof d!="function")throw Error(n(191,d));d.call(m)}function ys(d,m){var x=d.callbacks;if(x!==null)for(d.callbacks=null,d=0;d<x.length;d++)ki(x[d],m)}var xn=K(null),Bn=K(0);function qa(d,m){d=Jd,J(Bn,d),J(xn,m),Jd=d|m.baseLanes}function Wn(){J(Bn,Jd),J(xn,xn.current)}function Is(){Jd=Bn.current,V(xn),V(Bn)}var Ua=K(null),$n=null;function ds(d){var m=d.alternate;J(Rn,Rn.current&1),J(Ua,d),$n===null&&(m===null||xn.current!==null||m.memoizedState!==null)&&($n=d)}function Xn(d){J(Rn,Rn.current),J(Ua,d),$n===null&&($n=d)}function vs(d){d.tag===22?(J(Rn,Rn.current),J(Ua,d),$n===null&&($n=d)):ws()}function ws(){J(Rn,Rn.current),J(Ua,Ua.current)}function ca(d){V(Ua),$n===d&&($n=null),V(Rn)}var Rn=K(0);function Ci(d){for(var m=d;m!==null;){if(m.tag===13){var x=m.memoizedState;if(x!==null&&(x=x.dehydrated,x===null||Wk(x)||Vk(x)))return m}else if(m.tag===19&&(m.memoizedProps.revealOrder==="forwards"||m.memoizedProps.revealOrder==="backwards"||m.memoizedProps.revealOrder==="unstable_legacy-backwards"||m.memoizedProps.revealOrder==="together")){if((m.flags&128)!==0)return m}else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===d)break;for(;m.sibling===null;){if(m.return===null||m.return===d)return null;m=m.return}m.sibling.return=m.return,m=m.sibling}return null}var Za=0,Or=null,Dr=null,Hn=null,no=!1,el=!1,$i=!1,js=0,Eu=0,Ou=null,C0=0;function Na(){throw Error(n(321))}function tb(d,m){if(m===null)return!1;for(var x=0;x<m.length&&x<d.length;x++)if(!ui(d[x],m[x]))return!1;return!0}function rb(d,m,x,j,P,$){return Za=$,Or=m,m.memoizedState=null,m.updateQueue=null,m.lanes=0,W.H=d===null||d.memoizedState===null?a8:rk,$i=!1,$=x(j,P),$i=!1,el&&($=zc(m,x,j,P)),_0(d),$}function _0(d){W.H=ub;var m=Dr!==null&&Dr.next!==null;if(Za=0,Hn=Dr=Or=null,no=!1,Eu=0,Ou=null,m)throw Error(n(300));d===null||Ks||(d=d.dependencies,d!==null&&N0(d)&&(Ks=!0))}function zc(d,m,x,j){Or=d;var P=0;do{if(el&&(Ou=null),Eu=0,el=!1,25<=P)throw Error(n(301));if(P+=1,Hn=Dr=null,d.updateQueue!=null){var $=d.updateQueue;$.lastEffect=null,$.events=null,$.stores=null,$.memoCache!=null&&($.memoCache.index=0)}W.H=s8,$=m(x,j)}while(el);return $}function KS(){var d=W.H,m=d.useState()[0];return m=typeof m.then=="function"?Du(m):m,d=d.useState()[0],(Dr!==null?Dr.memoizedState:null)!==d&&(Or.flags|=1024),m}function nb(){var d=js!==0;return js=0,d}function ab(d,m,x){m.updateQueue=d.updateQueue,m.flags&=-2053,d.lanes&=~x}function A0(d){if(no){for(d=d.memoizedState;d!==null;){var m=d.queue;m!==null&&(m.pending=null),d=d.next}no=!1}Za=0,Hn=Dr=Or=null,el=!1,Eu=js=0,Ou=null}function Ys(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Hn===null?Or.memoizedState=Hn=d:Hn=Hn.next=d,Hn}function es(){if(Dr===null){var d=Or.alternate;d=d!==null?d.memoizedState:null}else d=Dr.next;var m=Hn===null?Or.memoizedState:Hn.next;if(m!==null)Hn=m,Dr=d;else{if(d===null)throw Or.alternate===null?Error(n(467)):Error(n(310));Dr=d,d={memoizedState:Dr.memoizedState,baseState:Dr.baseState,baseQueue:Dr.baseQueue,queue:Dr.queue,next:null},Hn===null?Or.memoizedState=Hn=d:Hn=Hn.next=d}return Hn}function Fm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Du(d){var m=Eu;return Eu+=1,Ou===null&&(Ou=[]),d=Tt(Ou,d,m),m=Or,(Hn===null?m.memoizedState:Hn.next)===null&&(m=m.alternate,W.H=m===null||m.memoizedState===null?a8:rk),d}function hh(d){if(d!==null&&typeof d=="object"){if(typeof d.then=="function")return Du(d);if(d.$$typeof===S)return mi(d)}throw Error(n(438,String(d)))}function Hd(d){var m=null,x=Or.updateQueue;if(x!==null&&(m=x.memoCache),m==null){var j=Or.alternate;j!==null&&(j=j.updateQueue,j!==null&&(j=j.memoCache,j!=null&&(m={data:j.data.map(function(P){return P.slice()}),index:0})))}if(m==null&&(m={data:[],index:0}),x===null&&(x=Fm(),Or.updateQueue=x),x.memoCache=m,x=m.data[m.index],x===void 0)for(x=m.data[m.index]=Array(d),j=0;j<d;j++)x[j]=F;return m.index++,x}function Kl(d,m){return typeof m=="function"?m(d):m}function T0(d){var m=es();return mh(m,Dr,d)}function mh(d,m,x){var j=d.queue;if(j===null)throw Error(n(311));j.lastRenderedReducer=x;var P=d.baseQueue,$=j.pending;if($!==null){if(P!==null){var ee=P.next;P.next=$.next,$.next=ee}m.baseQueue=P=$,j.pending=null}if($=d.baseState,P===null)d.memoizedState=$;else{m=P.next;var Se=ee=null,Ye=null,Nt=m,Ot=!1;do{var Bt=Nt.lane&-536870913;if(Bt!==Nt.lane?(En&Bt)===Bt:(Za&Bt)===Bt){var St=Nt.revertLane;if(St===0)Ye!==null&&(Ye=Ye.next={lane:0,revertLane:0,gesture:null,action:Nt.action,hasEagerState:Nt.hasEagerState,eagerState:Nt.eagerState,next:null}),Bt===C&&(Ot=!0);else if((Za&St)===St){Nt=Nt.next,St===C&&(Ot=!0);continue}else Bt={lane:0,revertLane:Nt.revertLane,gesture:null,action:Nt.action,hasEagerState:Nt.hasEagerState,eagerState:Nt.eagerState,next:null},Ye===null?(Se=Ye=Bt,ee=$):Ye=Ye.next=Bt,Or.lanes|=St,yh|=St;Bt=Nt.action,$i&&x($,Bt),$=Nt.hasEagerState?Nt.eagerState:x($,Bt)}else St={lane:Bt,revertLane:Nt.revertLane,gesture:Nt.gesture,action:Nt.action,hasEagerState:Nt.hasEagerState,eagerState:Nt.eagerState,next:null},Ye===null?(Se=Ye=St,ee=$):Ye=Ye.next=St,Or.lanes|=Bt,yh|=Bt;Nt=Nt.next}while(Nt!==null&&Nt!==m);if(Ye===null?ee=$:Ye.next=Se,!ui($,d.memoizedState)&&(Ks=!0,Ot&&(x=I,x!==null)))throw x;d.memoizedState=$,d.baseState=ee,d.baseQueue=Ye,j.lastRenderedState=$}return P===null&&(j.lanes=0),[d.memoizedState,j.dispatch]}function M0(d){var m=es(),x=m.queue;if(x===null)throw Error(n(311));x.lastRenderedReducer=d;var j=x.dispatch,P=x.pending,$=m.memoizedState;if(P!==null){x.pending=null;var ee=P=P.next;do $=d($,ee.action),ee=ee.next;while(ee!==P);ui($,m.memoizedState)||(Ks=!0),m.memoizedState=$,m.baseQueue===null&&(m.baseState=$),x.lastRenderedState=$}return[$,j]}function E0(d,m,x){var j=Or,P=es(),$=kn;if($){if(x===void 0)throw Error(n(407));x=x()}else x=m();var ee=!ui((Dr||P).memoizedState,x);if(ee&&(P.memoizedState=x,Ks=!0),P=P.queue,JS(ib.bind(null,j,P,d),[d]),P.getSnapshot!==m||ee||Hn!==null&&Hn.memoizedState.tag&1){if(j.flags|=2048,qd(9,{destroy:void 0},sb.bind(null,j,P,x,m),null),Ta===null)throw Error(n(349));$||(Za&127)!==0||qc(j,m,x)}return x}function qc(d,m,x){d.flags|=16384,d={getSnapshot:m,value:x},m=Or.updateQueue,m===null?(m=Fm(),Or.updateQueue=m,m.stores=[d]):(x=m.stores,x===null?m.stores=[d]:x.push(d))}function sb(d,m,x,j){m.value=x,m.getSnapshot=j,T1(m)&&ob(d)}function ib(d,m,x){return x(function(){T1(m)&&ob(d)})}function T1(d){var m=d.getSnapshot;d=d.value;try{var x=m();return!ui(d,x)}catch{return!0}}function ob(d){var m=$c(d,2);m!==null&&sl(m,d,2)}function Pu(d){var m=Ys();if(typeof d=="function"){var x=d;if(d=x(),$i){rt(!0);try{x()}finally{rt(!1)}}}return m.memoizedState=m.baseState=d,m.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kl,lastRenderedState:d},m}function M1(d,m,x,j){return d.baseState=x,mh(d,Dr,typeof j=="function"?j:Kl)}function E1(d,m,x,j,P){if(L1(d))throw Error(n(485));if(d=m.action,d!==null){var $={payload:P,action:d,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(ee){$.listeners.push(ee)}};W.T!==null?x(!0):$.isTransition=!1,j($),x=m.pending,x===null?($.next=m.pending=$,O1(m,$)):($.next=x.next,m.pending=x.next=$)}}function O1(d,m){var x=m.action,j=m.payload,P=d.state;if(m.isTransition){var $=W.T,ee={};W.T=ee;try{var Se=x(P,j),Ye=W.S;Ye!==null&&Ye(ee,Se),lb(d,m,Se)}catch(Nt){zd(d,m,Nt)}finally{$!==null&&ee.types!==null&&($.types=ee.types),W.T=$}}else try{$=x(P,j),lb(d,m,$)}catch(Nt){zd(d,m,Nt)}}function lb(d,m,x){x!==null&&typeof x=="object"&&typeof x.then=="function"?x.then(function(j){D1(d,m,j)},function(j){return zd(d,m,j)}):D1(d,m,x)}function D1(d,m,x){m.status="fulfilled",m.value=x,O0(m),d.state=x,m=d.pending,m!==null&&(x=m.next,x===m?d.pending=null:(x=x.next,m.next=x,O1(d,x)))}function zd(d,m,x){var j=d.pending;if(d.pending=null,j!==null){j=j.next;do m.status="rejected",m.reason=x,O0(m),m=m.next;while(m!==j)}d.action=null}function O0(d){d=d.listeners;for(var m=0;m<d.length;m++)(0,d[m])()}function Bm(d,m){return m}function Jl(d,m){if(kn){var x=Ta.formState;if(x!==null){e:{var j=Or;if(kn){if(_a){t:{for(var P=_a,$=Qa;P.nodeType!==8;){if(!$){P=null;break t}if(P=Xl(P.nextSibling),P===null){P=null;break t}}$=P.data,P=$==="F!"||$==="F"?P:null}if(P){_a=Xl(P.nextSibling),j=P.data==="F!";break e}}Cu(j)}j=!1}j&&(m=x[0])}}return x=Ys(),x.memoizedState=x.baseState=m,j={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bm,lastRenderedState:m},x.queue=j,x=t8.bind(null,Or,j),j.dispatch=x,j=Pu(!1),$=tk.bind(null,Or,!1,j.queue),j=Ys(),P={state:m,dispatch:null,action:d,pending:null},j.queue=P,x=E1.bind(null,Or,P,$,x),P.dispatch=x,j.memoizedState=d,[m,x,!1]}function Uc(d){var m=es();return Wc(m,Dr,d)}function Wc(d,m,x){if(m=mh(d,m,Bm)[0],d=T0(Kl)[0],typeof m=="object"&&m!==null&&typeof m.then=="function")try{var j=Du(m)}catch(ee){throw ee===nt?Le:ee}else j=m;m=es();var P=m.queue,$=P.dispatch;return x!==m.memoizedState&&(Or.flags|=2048,qd(9,{destroy:void 0},D0.bind(null,P,x),null)),[j,$,d]}function D0(d,m){d.action=m}function P0(d){var m=es(),x=Dr;if(x!==null)return Wc(m,x,d);es(),m=m.memoizedState,x=es();var j=x.queue.dispatch;return x.memoizedState=d,[m,j,!1]}function qd(d,m,x,j){return d={tag:d,create:x,deps:j,inst:m,next:null},m=Or.updateQueue,m===null&&(m=Fm(),Or.updateQueue=m),x=m.lastEffect,x===null?m.lastEffect=d.next=d:(j=x.next,x.next=d,d.next=j,m.lastEffect=d),d}function P1(){return es().memoizedState}function ph(d,m,x,j){var P=Ys();Or.flags|=d,P.memoizedState=qd(1|m,{destroy:void 0},x,j===void 0?null:j)}function gh(d,m,x,j){var P=es();j=j===void 0?null:j;var $=P.memoizedState.inst;Dr!==null&&j!==null&&tb(j,Dr.memoizedState.deps)?P.memoizedState=qd(m,$,x,j):(Or.flags|=d,P.memoizedState=qd(1|m,$,x,j))}function HL(d,m){ph(8390656,8,d,m)}function JS(d,m){gh(2048,8,d,m)}function Gse(d){Or.flags|=4;var m=Or.updateQueue;if(m===null)m=Fm(),Or.updateQueue=m,m.events=[d];else{var x=m.events;x===null?m.events=[d]:x.push(d)}}function zL(d){var m=es().memoizedState;return Gse({ref:m,nextImpl:d}),function(){if((Qn&2)!==0)throw Error(n(440));return m.impl.apply(void 0,arguments)}}function qL(d,m){return gh(4,2,d,m)}function UL(d,m){return gh(4,4,d,m)}function WL(d,m){if(typeof m=="function"){d=d();var x=m(d);return function(){typeof x=="function"?x():m(null)}}if(m!=null)return d=d(),m.current=d,function(){m.current=null}}function VL(d,m,x){x=x!=null?x.concat([d]):null,gh(4,4,WL.bind(null,m,d),x)}function XS(){}function GL(d,m){var x=es();m=m===void 0?null:m;var j=x.memoizedState;return m!==null&&tb(m,j[1])?j[0]:(x.memoizedState=[d,m],d)}function YL(d,m){var x=es();m=m===void 0?null:m;var j=x.memoizedState;if(m!==null&&tb(m,j[1]))return j[0];if(j=d(),$i){rt(!0);try{d()}finally{rt(!1)}}return x.memoizedState=[j,m],j}function QS(d,m,x){return x===void 0||(Za&1073741824)!==0&&(En&261930)===0?d.memoizedState=m:(d.memoizedState=x,d=K8(),Or.lanes|=d,yh|=d,x)}function KL(d,m,x,j){return ui(x,m)?x:xn.current!==null?(d=QS(d,x,j),ui(d,m)||(Ks=!0),d):(Za&42)===0||(Za&1073741824)!==0&&(En&261930)===0?(Ks=!0,d.memoizedState=x):(d=K8(),Or.lanes|=d,yh|=d,m)}function JL(d,m,x,j,P){var $=H.p;H.p=$!==0&&8>$?$:8;var ee=W.T,Se={};W.T=Se,tk(d,!1,m,x);try{var Ye=P(),Nt=W.S;if(Nt!==null&&Nt(Se,Ye),Ye!==null&&typeof Ye=="object"&&typeof Ye.then=="function"){var Ot=de(Ye,j);cb(d,m,Ot,wl(d))}else cb(d,m,j,wl(d))}catch(Bt){cb(d,m,{then:function(){},status:"rejected",reason:Bt},wl())}finally{H.p=$,ee!==null&&Se.types!==null&&(ee.types=Se.types),W.T=ee}}function Yse(){}function ZS(d,m,x,j){if(d.tag!==5)throw Error(n(476));var P=XL(d).queue;JL(d,P,m,q,x===null?Yse:function(){return QL(d),x(j)})}function XL(d){var m=d.memoizedState;if(m!==null)return m;m={memoizedState:q,baseState:q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kl,lastRenderedState:q},next:null};var x={};return m.next={memoizedState:x,baseState:x,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kl,lastRenderedState:x},next:null},d.memoizedState=m,d=d.alternate,d!==null&&(d.memoizedState=m),m}function QL(d){var m=XL(d);m.next===null&&(m=d.alternate.memoizedState),cb(d,m.next.queue,{},wl())}function ek(){return mi(Cb)}function ZL(){return es().memoizedState}function e8(){return es().memoizedState}function Kse(d){for(var m=d.return;m!==null;){switch(m.tag){case 24:case 3:var x=wl();d=$r(x);var j=dn(m,d,x);j!==null&&(sl(j,m,x),Jn(j,m,x)),m={cache:fh()},d.payload=m;return}m=m.return}}function Jse(d,m,x){var j=wl();x={lane:j,revertLane:0,gesture:null,action:x,hasEagerState:!1,eagerState:null,next:null},L1(d)?r8(m,x):(x=p0(d,m,x,j),x!==null&&(sl(x,d,j),n8(x,m,j)))}function t8(d,m,x){var j=wl();cb(d,m,x,j)}function cb(d,m,x,j){var P={lane:j,revertLane:0,gesture:null,action:x,hasEagerState:!1,eagerState:null,next:null};if(L1(d))r8(m,P);else{var $=d.alternate;if(d.lanes===0&&($===null||$.lanes===0)&&($=m.lastRenderedReducer,$!==null))try{var ee=m.lastRenderedState,Se=$(ee,x);if(P.hasEagerState=!0,P.eagerState=Se,ui(Se,ee))return Em(d,m,P,0),Ta===null&&Mm(),!1}catch{}finally{}if(x=p0(d,m,P,j),x!==null)return sl(x,d,j),n8(x,m,j),!0}return!1}function tk(d,m,x,j){if(j={lane:2,revertLane:Dk(),gesture:null,action:j,hasEagerState:!1,eagerState:null,next:null},L1(d)){if(m)throw Error(n(479))}else m=p0(d,x,j,2),m!==null&&sl(m,d,2)}function L1(d){var m=d.alternate;return d===Or||m!==null&&m===Or}function r8(d,m){el=no=!0;var x=d.pending;x===null?m.next=m:(m.next=x.next,x.next=m),d.pending=m}function n8(d,m,x){if((x&4194048)!==0){var j=m.lanes;j&=d.pendingLanes,x|=j,m.lanes=x,Wt(d,x)}}var ub={readContext:mi,use:hh,useCallback:Na,useContext:Na,useEffect:Na,useImperativeHandle:Na,useLayoutEffect:Na,useInsertionEffect:Na,useMemo:Na,useReducer:Na,useRef:Na,useState:Na,useDebugValue:Na,useDeferredValue:Na,useTransition:Na,useSyncExternalStore:Na,useId:Na,useHostTransitionStatus:Na,useFormState:Na,useActionState:Na,useOptimistic:Na,useMemoCache:Na,useCacheRefresh:Na};ub.useEffectEvent=Na;var a8={readContext:mi,use:hh,useCallback:function(d,m){return Ys().memoizedState=[d,m===void 0?null:m],d},useContext:mi,useEffect:HL,useImperativeHandle:function(d,m,x){x=x!=null?x.concat([d]):null,ph(4194308,4,WL.bind(null,m,d),x)},useLayoutEffect:function(d,m){return ph(4194308,4,d,m)},useInsertionEffect:function(d,m){ph(4,2,d,m)},useMemo:function(d,m){var x=Ys();m=m===void 0?null:m;var j=d();if($i){rt(!0);try{d()}finally{rt(!1)}}return x.memoizedState=[j,m],j},useReducer:function(d,m,x){var j=Ys();if(x!==void 0){var P=x(m);if($i){rt(!0);try{x(m)}finally{rt(!1)}}}else P=m;return j.memoizedState=j.baseState=P,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:d,lastRenderedState:P},j.queue=d,d=d.dispatch=Jse.bind(null,Or,d),[j.memoizedState,d]},useRef:function(d){var m=Ys();return d={current:d},m.memoizedState=d},useState:function(d){d=Pu(d);var m=d.queue,x=t8.bind(null,Or,m);return m.dispatch=x,[d.memoizedState,x]},useDebugValue:XS,useDeferredValue:function(d,m){var x=Ys();return QS(x,d,m)},useTransition:function(){var d=Pu(!1);return d=JL.bind(null,Or,d.queue,!0,!1),Ys().memoizedState=d,[!1,d]},useSyncExternalStore:function(d,m,x){var j=Or,P=Ys();if(kn){if(x===void 0)throw Error(n(407));x=x()}else{if(x=m(),Ta===null)throw Error(n(349));(En&127)!==0||qc(j,m,x)}P.memoizedState=x;var $={value:x,getSnapshot:m};return P.queue=$,HL(ib.bind(null,j,$,d),[d]),j.flags|=2048,qd(9,{destroy:void 0},sb.bind(null,j,$,x,m),null),x},useId:function(){var d=Ys(),m=Ta.identifierPrefix;if(kn){var x=Qo,j=Xo;x=(j&~(1<<32-ve(j)-1)).toString(32)+x,m="_"+m+"R_"+x,x=js++,0<x&&(m+="H"+x.toString(32)),m+="_"}else x=C0++,m="_"+m+"r_"+x.toString(32)+"_";return d.memoizedState=m},useHostTransitionStatus:ek,useFormState:Jl,useActionState:Jl,useOptimistic:function(d){var m=Ys();m.memoizedState=m.baseState=d;var x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return m.queue=x,m=tk.bind(null,Or,!0,x),x.dispatch=m,[d,m]},useMemoCache:Hd,useCacheRefresh:function(){return Ys().memoizedState=Kse.bind(null,Or)},useEffectEvent:function(d){var m=Ys(),x={impl:d};return m.memoizedState=x,function(){if((Qn&2)!==0)throw Error(n(440));return x.impl.apply(void 0,arguments)}}},rk={readContext:mi,use:hh,useCallback:GL,useContext:mi,useEffect:JS,useImperativeHandle:VL,useInsertionEffect:qL,useLayoutEffect:UL,useMemo:YL,useReducer:T0,useRef:P1,useState:function(){return T0(Kl)},useDebugValue:XS,useDeferredValue:function(d,m){var x=es();return KL(x,Dr.memoizedState,d,m)},useTransition:function(){var d=T0(Kl)[0],m=es().memoizedState;return[typeof d=="boolean"?d:Du(d),m]},useSyncExternalStore:E0,useId:ZL,useHostTransitionStatus:ek,useFormState:Uc,useActionState:Uc,useOptimistic:function(d,m){var x=es();return M1(x,Dr,d,m)},useMemoCache:Hd,useCacheRefresh:e8};rk.useEffectEvent=zL;var s8={readContext:mi,use:hh,useCallback:GL,useContext:mi,useEffect:JS,useImperativeHandle:VL,useInsertionEffect:qL,useLayoutEffect:UL,useMemo:YL,useReducer:M0,useRef:P1,useState:function(){return M0(Kl)},useDebugValue:XS,useDeferredValue:function(d,m){var x=es();return Dr===null?QS(x,d,m):KL(x,Dr.memoizedState,d,m)},useTransition:function(){var d=M0(Kl)[0],m=es().memoizedState;return[typeof d=="boolean"?d:Du(d),m]},useSyncExternalStore:E0,useId:ZL,useHostTransitionStatus:ek,useFormState:P0,useActionState:P0,useOptimistic:function(d,m){var x=es();return Dr!==null?M1(x,Dr,d,m):(x.baseState=d,[d,x.queue.dispatch])},useMemoCache:Hd,useCacheRefresh:e8};s8.useEffectEvent=zL;function nk(d,m,x,j){m=d.memoizedState,x=x(j,m),x=x==null?m:h({},m,x),d.memoizedState=x,d.lanes===0&&(d.updateQueue.baseState=x)}var ak={enqueueSetState:function(d,m,x){d=d._reactInternals;var j=wl(),P=$r(j);P.payload=m,x!=null&&(P.callback=x),m=dn(d,P,j),m!==null&&(sl(m,d,j),Jn(m,d,j))},enqueueReplaceState:function(d,m,x){d=d._reactInternals;var j=wl(),P=$r(j);P.tag=1,P.payload=m,x!=null&&(P.callback=x),m=dn(d,P,j),m!==null&&(sl(m,d,j),Jn(m,d,j))},enqueueForceUpdate:function(d,m){d=d._reactInternals;var x=wl(),j=$r(x);j.tag=2,m!=null&&(j.callback=m),m=dn(d,j,x),m!==null&&(sl(m,d,x),Jn(m,d,x))}};function i8(d,m,x,j,P,$,ee){return d=d.stateNode,typeof d.shouldComponentUpdate=="function"?d.shouldComponentUpdate(j,$,ee):m.prototype&&m.prototype.isPureReactComponent?!Rc(x,j)||!Rc(P,$):!0}function o8(d,m,x,j){d=m.state,typeof m.componentWillReceiveProps=="function"&&m.componentWillReceiveProps(x,j),typeof m.UNSAFE_componentWillReceiveProps=="function"&&m.UNSAFE_componentWillReceiveProps(x,j),m.state!==d&&ak.enqueueReplaceState(m,m.state,null)}function $m(d,m){var x=m;if("ref"in m){x={};for(var j in m)j!=="ref"&&(x[j]=m[j])}if(d=d.defaultProps){x===m&&(x=h({},x));for(var P in d)x[P]===void 0&&(x[P]=d[P])}return x}function l8(d){Tm(d)}function c8(d){console.error(d)}function u8(d){Tm(d)}function R1(d,m){try{var x=d.onUncaughtError;x(m.value,{componentStack:m.stack})}catch(j){setTimeout(function(){throw j})}}function d8(d,m,x){try{var j=d.onCaughtError;j(x.value,{componentStack:x.stack,errorBoundary:m.tag===1?m.stateNode:null})}catch(P){setTimeout(function(){throw P})}}function sk(d,m,x){return x=$r(x),x.tag=3,x.payload={element:null},x.callback=function(){R1(d,m)},x}function f8(d){return d=$r(d),d.tag=3,d}function h8(d,m,x,j){var P=x.type.getDerivedStateFromError;if(typeof P=="function"){var $=j.value;d.payload=function(){return P($)},d.callback=function(){d8(m,x,j)}}var ee=x.stateNode;ee!==null&&typeof ee.componentDidCatch=="function"&&(d.callback=function(){d8(m,x,j),typeof P!="function"&&(vh===null?vh=new Set([this]):vh.add(this));var Se=j.stack;this.componentDidCatch(j.value,{componentStack:Se!==null?Se:""})})}function Xse(d,m,x,j,P){if(x.flags|=32768,j!==null&&typeof j=="object"&&typeof j.then=="function"){if(m=x.alternate,m!==null&&Tu(m,x,P,!0),x=Ua.current,x!==null){switch(x.tag){case 31:case 13:return $n===null?Y1():x.alternate===null&&Ns===0&&(Ns=3),x.flags&=-257,x.flags|=65536,x.lanes=P,j===ot?x.flags|=16384:(m=x.updateQueue,m===null?x.updateQueue=new Set([j]):m.add(j),Mk(d,j,P)),!1;case 22:return x.flags|=65536,j===ot?x.flags|=16384:(m=x.updateQueue,m===null?(m={transitions:null,markerInstances:null,retryQueue:new Set([j])},x.updateQueue=m):(x=m.retryQueue,x===null?m.retryQueue=new Set([j]):x.add(j)),Mk(d,j,P)),!1}throw Error(n(435,x.tag))}return Mk(d,j,P),Y1(),!1}if(kn)return m=Ua.current,m!==null?((m.flags&65536)===0&&(m.flags|=256),m.flags|=65536,m.lanes=P,j!==bl&&(d=Error(n(422),{cause:j}),uh(Yo(d,x)))):(j!==bl&&(m=Error(n(423),{cause:j}),uh(Yo(m,x))),d=d.current.alternate,d.flags|=65536,P&=-P,d.lanes|=P,j=Yo(j,x),P=sk(d.stateNode,j,P),Rs(d,P),Ns!==4&&(Ns=2)),!1;var $=Error(n(520),{cause:j});if($=Yo($,x),bb===null?bb=[$]:bb.push($),Ns!==4&&(Ns=2),m===null)return!0;j=Yo(j,x),x=m;do{switch(x.tag){case 3:return x.flags|=65536,d=P&-P,x.lanes|=d,d=sk(x.stateNode,j,d),Rs(x,d),!1;case 1:if(m=x.type,$=x.stateNode,(x.flags&128)===0&&(typeof m.getDerivedStateFromError=="function"||$!==null&&typeof $.componentDidCatch=="function"&&(vh===null||!vh.has($))))return x.flags|=65536,P&=-P,x.lanes|=P,P=f8(P),h8(P,d,x,j),Rs(x,P),!1}x=x.return}while(x!==null);return!1}var ik=Error(n(461)),Ks=!1;function Hi(d,m,x,j){m.child=d===null?sn(m,null,x,j):Aa(m,d.child,x,j)}function m8(d,m,x,j,P){x=x.render;var $=m.ref;if("ref"in j){var ee={};for(var Se in j)Se!=="ref"&&(ee[Se]=j[Se])}else ee=j;return Mu(m),j=rb(d,m,x,ee,$,P),Se=nb(),d!==null&&!Ks?(ab(d,m,P),Ud(d,m,P)):(kn&&Se&&Qx(m),m.flags|=1,Hi(d,m,j,P),m.child)}function p8(d,m,x,j,P){if(d===null){var $=x.type;return typeof $=="function"&&!x0($)&&$.defaultProps===void 0&&x.compare===null?(m.tag=15,m.type=$,g8(d,m,$,j,P)):(d=oh(x.type,null,j,m,m.mode,P),d.ref=m.ref,d.return=m,m.child=d)}if($=d.child,!mk(d,P)){var ee=$.memoizedProps;if(x=x.compare,x=x!==null?x:Rc,x(ee,j)&&d.ref===m.ref)return Ud(d,m,P)}return m.flags|=1,d=Go($,j),d.ref=m.ref,d.return=m,m.child=d}function g8(d,m,x,j,P){if(d!==null){var $=d.memoizedProps;if(Rc($,j)&&d.ref===m.ref)if(Ks=!1,m.pendingProps=j=$,mk(d,P))(d.flags&131072)!==0&&(Ks=!0);else return m.lanes=d.lanes,Ud(d,m,P)}return ok(d,m,x,j,P)}function x8(d,m,x,j){var P=j.children,$=d!==null?d.memoizedState:null;if(d===null&&m.stateNode===null&&(m.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),j.mode==="hidden"){if((m.flags&128)!==0){if($=$!==null?$.baseLanes|x:x,d!==null){for(j=m.child=d.child,P=0;j!==null;)P=P|j.lanes|j.childLanes,j=j.sibling;j=P&~$}else j=0,m.child=null;return b8(d,m,$,x,j)}if((x&536870912)!==0)m.memoizedState={baseLanes:0,cachePool:null},d!==null&&Oe(m,$!==null?$.cachePool:null),$!==null?qa(m,$):Wn(),vs(m);else return j=m.lanes=536870912,b8(d,m,$!==null?$.baseLanes|x:x,x,j)}else $!==null?(Oe(m,$.cachePool),qa(m,$),ws(),m.memoizedState=null):(d!==null&&Oe(m,null),Wn(),ws());return Hi(d,m,P,x),m.child}function db(d,m){return d!==null&&d.tag===22||m.stateNode!==null||(m.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.sibling}function b8(d,m,x,j,P){var $=Ae();return $=$===null?null:{parent:us._currentValue,pool:$},m.memoizedState={baseLanes:x,cachePool:$},d!==null&&Oe(m,null),Wn(),vs(m),d!==null&&Tu(d,m,j,!0),m.childLanes=P,null}function I1(d,m){return m=B1({mode:m.mode,children:m.children},d.mode),m.ref=d.ref,d.child=m,m.return=d,m}function y8(d,m,x){return Aa(m,d.child,null,x),d=I1(m,m.pendingProps),d.flags|=2,ca(m),m.memoizedState=null,d}function Qse(d,m,x){var j=m.pendingProps,P=(m.flags&128)!==0;if(m.flags&=-129,d===null){if(kn){if(j.mode==="hidden")return d=I1(m,j),m.lanes=536870912,db(null,d);if(Xn(m),(d=_a)?(d=E7(d,Qa),d=d!==null&&d.data==="&"?d:null,d!==null&&(m.memoizedState={dehydrated:d,treeContext:ku!==null?{id:Xo,overflow:Qo}:null,retryLane:536870912,hydrationErrors:null},x=b0(d),x.return=m,m.child=x,fi=m,_a=null)):d=null,d===null)throw Cu(m);return m.lanes=536870912,null}return I1(m,j)}var $=d.memoizedState;if($!==null){var ee=$.dehydrated;if(Xn(m),P)if(m.flags&256)m.flags&=-257,m=y8(d,m,x);else if(m.memoizedState!==null)m.child=d.child,m.flags|=128,m=null;else throw Error(n(558));else if(Ks||Tu(d,m,x,!1),P=(x&d.childLanes)!==0,Ks||P){if(j=Ta,j!==null&&(ee=mt(j,x),ee!==0&&ee!==$.retryLane))throw $.retryLane=ee,$c(d,ee),sl(j,d,ee),ik;Y1(),m=y8(d,m,x)}else d=$.treeContext,_a=Xl(ee.nextSibling),fi=m,kn=!0,Bi=null,Qa=!1,d!==null&&_1(m,d),m=I1(m,j),m.flags|=4096;return m}return d=Go(d.child,{mode:j.mode,children:j.children}),d.ref=m.ref,m.child=d,d.return=m,d}function F1(d,m){var x=m.ref;if(x===null)d!==null&&d.ref!==null&&(m.flags|=4194816);else{if(typeof x!="function"&&typeof x!="object")throw Error(n(284));(d===null||d.ref!==x)&&(m.flags|=4194816)}}function ok(d,m,x,j,P){return Mu(m),x=rb(d,m,x,j,void 0,P),j=nb(),d!==null&&!Ks?(ab(d,m,P),Ud(d,m,P)):(kn&&j&&Qx(m),m.flags|=1,Hi(d,m,x,P),m.child)}function v8(d,m,x,j,P,$){return Mu(m),m.updateQueue=null,x=zc(m,j,x,P),_0(d),j=nb(),d!==null&&!Ks?(ab(d,m,$),Ud(d,m,$)):(kn&&j&&Qx(m),m.flags|=1,Hi(d,m,x,$),m.child)}function w8(d,m,x,j,P){if(Mu(m),m.stateNode===null){var $=di,ee=x.contextType;typeof ee=="object"&&ee!==null&&($=mi(ee)),$=new x(j,$),m.memoizedState=$.state!==null&&$.state!==void 0?$.state:null,$.updater=ak,m.stateNode=$,$._reactInternals=m,$=m.stateNode,$.props=j,$.state=m.memoizedState,$.refs={},nr(m),ee=x.contextType,$.context=typeof ee=="object"&&ee!==null?mi(ee):di,$.state=m.memoizedState,ee=x.getDerivedStateFromProps,typeof ee=="function"&&(nk(m,x,ee,j),$.state=m.memoizedState),typeof x.getDerivedStateFromProps=="function"||typeof $.getSnapshotBeforeUpdate=="function"||typeof $.UNSAFE_componentWillMount!="function"&&typeof $.componentWillMount!="function"||(ee=$.state,typeof $.componentWillMount=="function"&&$.componentWillMount(),typeof $.UNSAFE_componentWillMount=="function"&&$.UNSAFE_componentWillMount(),ee!==$.state&&ak.enqueueReplaceState($,$.state,null),bs(m,j,$,P),ja(),$.state=m.memoizedState),typeof $.componentDidMount=="function"&&(m.flags|=4194308),j=!0}else if(d===null){$=m.stateNode;var Se=m.memoizedProps,Ye=$m(x,Se);$.props=Ye;var Nt=$.context,Ot=x.contextType;ee=di,typeof Ot=="object"&&Ot!==null&&(ee=mi(Ot));var Bt=x.getDerivedStateFromProps;Ot=typeof Bt=="function"||typeof $.getSnapshotBeforeUpdate=="function",Se=m.pendingProps!==Se,Ot||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(Se||Nt!==ee)&&o8(m,$,j,ee),mr=!1;var St=m.memoizedState;$.state=St,bs(m,j,$,P),ja(),Nt=m.memoizedState,Se||St!==Nt||mr?(typeof Bt=="function"&&(nk(m,x,Bt,j),Nt=m.memoizedState),(Ye=mr||i8(m,x,Ye,j,St,Nt,ee))?(Ot||typeof $.UNSAFE_componentWillMount!="function"&&typeof $.componentWillMount!="function"||(typeof $.componentWillMount=="function"&&$.componentWillMount(),typeof $.UNSAFE_componentWillMount=="function"&&$.UNSAFE_componentWillMount()),typeof $.componentDidMount=="function"&&(m.flags|=4194308)):(typeof $.componentDidMount=="function"&&(m.flags|=4194308),m.memoizedProps=j,m.memoizedState=Nt),$.props=j,$.state=Nt,$.context=ee,j=Ye):(typeof $.componentDidMount=="function"&&(m.flags|=4194308),j=!1)}else{$=m.stateNode,za(d,m),ee=m.memoizedProps,Ot=$m(x,ee),$.props=Ot,Bt=m.pendingProps,St=$.context,Nt=x.contextType,Ye=di,typeof Nt=="object"&&Nt!==null&&(Ye=mi(Nt)),Se=x.getDerivedStateFromProps,(Nt=typeof Se=="function"||typeof $.getSnapshotBeforeUpdate=="function")||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(ee!==Bt||St!==Ye)&&o8(m,$,j,Ye),mr=!1,St=m.memoizedState,$.state=St,bs(m,j,$,P),ja();var _t=m.memoizedState;ee!==Bt||St!==_t||mr||d!==null&&d.dependencies!==null&&N0(d.dependencies)?(typeof Se=="function"&&(nk(m,x,Se,j),_t=m.memoizedState),(Ot=mr||i8(m,x,Ot,j,St,_t,Ye)||d!==null&&d.dependencies!==null&&N0(d.dependencies))?(Nt||typeof $.UNSAFE_componentWillUpdate!="function"&&typeof $.componentWillUpdate!="function"||(typeof $.componentWillUpdate=="function"&&$.componentWillUpdate(j,_t,Ye),typeof $.UNSAFE_componentWillUpdate=="function"&&$.UNSAFE_componentWillUpdate(j,_t,Ye)),typeof $.componentDidUpdate=="function"&&(m.flags|=4),typeof $.getSnapshotBeforeUpdate=="function"&&(m.flags|=1024)):(typeof $.componentDidUpdate!="function"||ee===d.memoizedProps&&St===d.memoizedState||(m.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||ee===d.memoizedProps&&St===d.memoizedState||(m.flags|=1024),m.memoizedProps=j,m.memoizedState=_t),$.props=j,$.state=_t,$.context=Ye,j=Ot):(typeof $.componentDidUpdate!="function"||ee===d.memoizedProps&&St===d.memoizedState||(m.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||ee===d.memoizedProps&&St===d.memoizedState||(m.flags|=1024),j=!1)}return $=j,F1(d,m),j=(m.flags&128)!==0,$||j?($=m.stateNode,x=j&&typeof x.getDerivedStateFromError!="function"?null:$.render(),m.flags|=1,d!==null&&j?(m.child=Aa(m,d.child,null,P),m.child=Aa(m,null,x,P)):Hi(d,m,x,P),m.memoizedState=$.state,d=m.child):d=Ud(d,m,P),d}function j8(d,m,x,j){return Bd(),m.flags|=256,Hi(d,m,x,j),m.child}var lk={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ck(d){return{baseLanes:d,cachePool:Ie()}}function uk(d,m,x){return d=d!==null?d.childLanes&~x:0,m&&(d|=vl),d}function N8(d,m,x){var j=m.pendingProps,P=!1,$=(m.flags&128)!==0,ee;if((ee=$)||(ee=d!==null&&d.memoizedState===null?!1:(Rn.current&2)!==0),ee&&(P=!0,m.flags&=-129),ee=(m.flags&32)!==0,m.flags&=-33,d===null){if(kn){if(P?ds(m):ws(),(d=_a)?(d=E7(d,Qa),d=d!==null&&d.data!=="&"?d:null,d!==null&&(m.memoizedState={dehydrated:d,treeContext:ku!==null?{id:Xo,overflow:Qo}:null,retryLane:536870912,hydrationErrors:null},x=b0(d),x.return=m,m.child=x,fi=m,_a=null)):d=null,d===null)throw Cu(m);return Vk(d)?m.lanes=32:m.lanes=536870912,null}var Se=j.children;return j=j.fallback,P?(ws(),P=m.mode,Se=B1({mode:"hidden",children:Se},P),j=Su(j,P,x,null),Se.return=m,j.return=m,Se.sibling=j,m.child=Se,j=m.child,j.memoizedState=ck(x),j.childLanes=uk(d,ee,x),m.memoizedState=lk,db(null,j)):(ds(m),dk(m,Se))}var Ye=d.memoizedState;if(Ye!==null&&(Se=Ye.dehydrated,Se!==null)){if($)m.flags&256?(ds(m),m.flags&=-257,m=fk(d,m,x)):m.memoizedState!==null?(ws(),m.child=d.child,m.flags|=128,m=null):(ws(),Se=j.fallback,P=m.mode,j=B1({mode:"visible",children:j.children},P),Se=Su(Se,P,x,null),Se.flags|=2,j.return=m,Se.return=m,j.sibling=Se,m.child=j,Aa(m,d.child,null,x),j=m.child,j.memoizedState=ck(x),j.childLanes=uk(d,ee,x),m.memoizedState=lk,m=db(null,j));else if(ds(m),Vk(Se)){if(ee=Se.nextSibling&&Se.nextSibling.dataset,ee)var Nt=ee.dgst;ee=Nt,j=Error(n(419)),j.stack="",j.digest=ee,uh({value:j,source:null,stack:null}),m=fk(d,m,x)}else if(Ks||Tu(d,m,x,!1),ee=(x&d.childLanes)!==0,Ks||ee){if(ee=Ta,ee!==null&&(j=mt(ee,x),j!==0&&j!==Ye.retryLane))throw Ye.retryLane=j,$c(d,j),sl(ee,d,j),ik;Wk(Se)||Y1(),m=fk(d,m,x)}else Wk(Se)?(m.flags|=192,m.child=d.child,m=null):(d=Ye.treeContext,_a=Xl(Se.nextSibling),fi=m,kn=!0,Bi=null,Qa=!1,d!==null&&_1(m,d),m=dk(m,j.children),m.flags|=4096);return m}return P?(ws(),Se=j.fallback,P=m.mode,Ye=d.child,Nt=Ye.sibling,j=Go(Ye,{mode:"hidden",children:j.children}),j.subtreeFlags=Ye.subtreeFlags&65011712,Nt!==null?Se=Go(Nt,Se):(Se=Su(Se,P,x,null),Se.flags|=2),Se.return=m,j.return=m,j.sibling=Se,m.child=j,db(null,j),j=m.child,Se=d.child.memoizedState,Se===null?Se=ck(x):(P=Se.cachePool,P!==null?(Ye=us._currentValue,P=P.parent!==Ye?{parent:Ye,pool:Ye}:P):P=Ie(),Se={baseLanes:Se.baseLanes|x,cachePool:P}),j.memoizedState=Se,j.childLanes=uk(d,ee,x),m.memoizedState=lk,db(d.child,j)):(ds(m),x=d.child,d=x.sibling,x=Go(x,{mode:"visible",children:j.children}),x.return=m,x.sibling=null,d!==null&&(ee=m.deletions,ee===null?(m.deletions=[d],m.flags|=16):ee.push(d)),m.child=x,m.memoizedState=null,x)}function dk(d,m){return m=B1({mode:"visible",children:m},d.mode),m.return=d,d.child=m}function B1(d,m){return d=Si(22,d,null,m),d.lanes=0,d}function fk(d,m,x){return Aa(m,d.child,null,x),d=dk(m,m.pendingProps.children),d.flags|=2,m.memoizedState=null,d}function S8(d,m,x){d.lanes|=m;var j=d.alternate;j!==null&&(j.lanes|=m),dh(d.return,m,x)}function hk(d,m,x,j,P,$){var ee=d.memoizedState;ee===null?d.memoizedState={isBackwards:m,rendering:null,renderingStartTime:0,last:j,tail:x,tailMode:P,treeForkCount:$}:(ee.isBackwards=m,ee.rendering=null,ee.renderingStartTime=0,ee.last=j,ee.tail=x,ee.tailMode=P,ee.treeForkCount=$)}function k8(d,m,x){var j=m.pendingProps,P=j.revealOrder,$=j.tail;j=j.children;var ee=Rn.current,Se=(ee&2)!==0;if(Se?(ee=ee&1|2,m.flags|=128):ee&=1,J(Rn,ee),Hi(d,m,j,x),j=kn?Lm:0,!Se&&d!==null&&(d.flags&128)!==0)e:for(d=m.child;d!==null;){if(d.tag===13)d.memoizedState!==null&&S8(d,x,m);else if(d.tag===19)S8(d,x,m);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===m)break e;for(;d.sibling===null;){if(d.return===null||d.return===m)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}switch(P){case"forwards":for(x=m.child,P=null;x!==null;)d=x.alternate,d!==null&&Ci(d)===null&&(P=x),x=x.sibling;x=P,x===null?(P=m.child,m.child=null):(P=x.sibling,x.sibling=null),hk(m,!1,P,x,$,j);break;case"backwards":case"unstable_legacy-backwards":for(x=null,P=m.child,m.child=null;P!==null;){if(d=P.alternate,d!==null&&Ci(d)===null){m.child=P;break}d=P.sibling,P.sibling=x,x=P,P=d}hk(m,!0,x,null,$,j);break;case"together":hk(m,!1,null,null,void 0,j);break;default:m.memoizedState=null}return m.child}function Ud(d,m,x){if(d!==null&&(m.dependencies=d.dependencies),yh|=m.lanes,(x&m.childLanes)===0)if(d!==null){if(Tu(d,m,x,!1),(x&m.childLanes)===0)return null}else return null;if(d!==null&&m.child!==d.child)throw Error(n(153));if(m.child!==null){for(d=m.child,x=Go(d,d.pendingProps),m.child=x,x.return=m;d.sibling!==null;)d=d.sibling,x=x.sibling=Go(d,d.pendingProps),x.return=m;x.sibling=null}return m.child}function mk(d,m){return(d.lanes&m)!==0?!0:(d=d.dependencies,!!(d!==null&&N0(d)))}function Zse(d,m,x){switch(m.tag){case 3:ke(m,m.stateNode.containerInfo),Au(m,us,d.memoizedState.cache),Bd();break;case 27:case 5:Ce(m);break;case 4:ke(m,m.stateNode.containerInfo);break;case 10:Au(m,m.type,m.memoizedProps.value);break;case 31:if(m.memoizedState!==null)return m.flags|=128,Xn(m),null;break;case 13:var j=m.memoizedState;if(j!==null)return j.dehydrated!==null?(ds(m),m.flags|=128,null):(x&m.child.childLanes)!==0?N8(d,m,x):(ds(m),d=Ud(d,m,x),d!==null?d.sibling:null);ds(m);break;case 19:var P=(d.flags&128)!==0;if(j=(x&m.childLanes)!==0,j||(Tu(d,m,x,!1),j=(x&m.childLanes)!==0),P){if(j)return k8(d,m,x);m.flags|=128}if(P=m.memoizedState,P!==null&&(P.rendering=null,P.tail=null,P.lastEffect=null),J(Rn,Rn.current),j)break;return null;case 22:return m.lanes=0,x8(d,m,x,m.pendingProps);case 24:Au(m,us,d.memoizedState.cache)}return Ud(d,m,x)}function C8(d,m,x){if(d!==null)if(d.memoizedProps!==m.pendingProps)Ks=!0;else{if(!mk(d,x)&&(m.flags&128)===0)return Ks=!1,Zse(d,m,x);Ks=(d.flags&131072)!==0}else Ks=!1,kn&&(m.flags&1048576)!==0&&C1(m,Lm,m.index);switch(m.lanes=0,m.tag){case 16:e:{var j=m.pendingProps;if(d=xt(m.elementType),m.type=d,typeof d=="function")x0(d)?(j=$m(d,j),m.tag=1,m=w8(null,m,d,j,x)):(m.tag=0,m=ok(null,m,d,j,x));else{if(d!=null){var P=d.$$typeof;if(P===T){m.tag=11,m=m8(null,m,d,j,x);break e}else if(P===E){m.tag=14,m=p8(null,m,d,j,x);break e}}throw m=z(d)||d,Error(n(306,m,""))}}return m;case 0:return ok(d,m,m.type,m.pendingProps,x);case 1:return j=m.type,P=$m(j,m.pendingProps),w8(d,m,j,P,x);case 3:e:{if(ke(m,m.stateNode.containerInfo),d===null)throw Error(n(387));j=m.pendingProps;var $=m.memoizedState;P=$.element,za(d,m),bs(m,j,null,x);var ee=m.memoizedState;if(j=ee.cache,Au(m,us,j),j!==$.cache&&$d(m,[us],x,!0),ja(),j=ee.element,$.isDehydrated)if($={element:j,isDehydrated:!1,cache:ee.cache},m.updateQueue.baseState=$,m.memoizedState=$,m.flags&256){m=j8(d,m,j,x);break e}else if(j!==P){P=Yo(Error(n(424)),m),uh(P),m=j8(d,m,j,x);break e}else{switch(d=m.stateNode.containerInfo,d.nodeType){case 9:d=d.body;break;default:d=d.nodeName==="HTML"?d.ownerDocument.body:d}for(_a=Xl(d.firstChild),fi=m,kn=!0,Bi=null,Qa=!0,x=sn(m,null,j,x),m.child=x;x;)x.flags=x.flags&-3|4096,x=x.sibling}else{if(Bd(),j===P){m=Ud(d,m,x);break e}Hi(d,m,j,x)}m=m.child}return m;case 26:return F1(d,m),d===null?(x=I7(m.type,null,m.pendingProps,null))?m.memoizedState=x:kn||(x=m.type,d=m.pendingProps,j=tw(ce.current).createElement(x),j[ir]=m,j[Wr]=d,zi(j,x,d),sr(j),m.stateNode=j):m.memoizedState=I7(m.type,d.memoizedProps,m.pendingProps,d.memoizedState),null;case 27:return Ce(m),d===null&&kn&&(j=m.stateNode=P7(m.type,m.pendingProps,ce.current),fi=m,Qa=!0,P=_a,Sh(m.type)?(Gk=P,_a=Xl(j.firstChild)):_a=P),Hi(d,m,m.pendingProps.children,x),F1(d,m),d===null&&(m.flags|=4194304),m.child;case 5:return d===null&&kn&&((P=j=_a)&&(j=Tie(j,m.type,m.pendingProps,Qa),j!==null?(m.stateNode=j,fi=m,_a=Xl(j.firstChild),Qa=!1,P=!0):P=!1),P||Cu(m)),Ce(m),P=m.type,$=m.pendingProps,ee=d!==null?d.memoizedProps:null,j=$.children,zk(P,$)?j=null:ee!==null&&zk(P,ee)&&(m.flags|=32),m.memoizedState!==null&&(P=rb(d,m,KS,null,null,x),Cb._currentValue=P),F1(d,m),Hi(d,m,j,x),m.child;case 6:return d===null&&kn&&((d=x=_a)&&(x=Mie(x,m.pendingProps,Qa),x!==null?(m.stateNode=x,fi=m,_a=null,d=!0):d=!1),d||Cu(m)),null;case 13:return N8(d,m,x);case 4:return ke(m,m.stateNode.containerInfo),j=m.pendingProps,d===null?m.child=Aa(m,null,j,x):Hi(d,m,j,x),m.child;case 11:return m8(d,m,m.type,m.pendingProps,x);case 7:return Hi(d,m,m.pendingProps,x),m.child;case 8:return Hi(d,m,m.pendingProps.children,x),m.child;case 12:return Hi(d,m,m.pendingProps.children,x),m.child;case 10:return j=m.pendingProps,Au(m,m.type,j.value),Hi(d,m,j.children,x),m.child;case 9:return P=m.type._context,j=m.pendingProps.children,Mu(m),P=mi(P),j=j(P),m.flags|=1,Hi(d,m,j,x),m.child;case 14:return p8(d,m,m.type,m.pendingProps,x);case 15:return g8(d,m,m.type,m.pendingProps,x);case 19:return k8(d,m,x);case 31:return Qse(d,m,x);case 22:return x8(d,m,x,m.pendingProps);case 24:return Mu(m),j=mi(us),d===null?(P=Ae(),P===null&&(P=Ta,$=fh(),P.pooledCache=$,$.refCount++,$!==null&&(P.pooledCacheLanes|=x),P=$),m.memoizedState={parent:j,cache:P},nr(m),Au(m,us,P)):((d.lanes&x)!==0&&(za(d,m),bs(m,null,null,x),ja()),P=d.memoizedState,$=m.memoizedState,P.parent!==j?(P={parent:j,cache:j},m.memoizedState=P,m.lanes===0&&(m.memoizedState=m.updateQueue.baseState=P),Au(m,us,j)):(j=$.cache,Au(m,us,j),j!==P.cache&&$d(m,[us],x,!0))),Hi(d,m,m.pendingProps.children,x),m.child;case 29:throw m.pendingProps}throw Error(n(156,m.tag))}function Wd(d){d.flags|=4}function pk(d,m,x,j,P){if((m=(d.mode&32)!==0)&&(m=!1),m){if(d.flags|=16777216,(P&335544128)===P)if(d.stateNode.complete)d.flags|=8192;else if(Z8())d.flags|=8192;else throw At=ot,vt}else d.flags&=-16777217}function _8(d,m){if(m.type!=="stylesheet"||(m.state.loading&4)!==0)d.flags&=-16777217;else if(d.flags|=16777216,!z7(m))if(Z8())d.flags|=8192;else throw At=ot,vt}function $1(d,m){m!==null&&(d.flags|=4),d.flags&16384&&(m=d.tag!==22?$e():536870912,d.lanes|=m,F0|=m)}function fb(d,m){if(!kn)switch(d.tailMode){case"hidden":m=d.tail;for(var x=null;m!==null;)m.alternate!==null&&(x=m),m=m.sibling;x===null?d.tail=null:x.sibling=null;break;case"collapsed":x=d.tail;for(var j=null;x!==null;)x.alternate!==null&&(j=x),x=x.sibling;j===null?m||d.tail===null?d.tail=null:d.tail.sibling=null:j.sibling=null}}function Wa(d){var m=d.alternate!==null&&d.alternate.child===d.child,x=0,j=0;if(m)for(var P=d.child;P!==null;)x|=P.lanes|P.childLanes,j|=P.subtreeFlags&65011712,j|=P.flags&65011712,P.return=d,P=P.sibling;else for(P=d.child;P!==null;)x|=P.lanes|P.childLanes,j|=P.subtreeFlags,j|=P.flags,P.return=d,P=P.sibling;return d.subtreeFlags|=j,d.childLanes=x,m}function eie(d,m,x){var j=m.pendingProps;switch(w0(m),m.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wa(m),null;case 1:return Wa(m),null;case 3:return x=m.stateNode,j=null,d!==null&&(j=d.memoizedState.cache),m.memoizedState.cache!==j&&(m.flags|=2048),Zo(us),ge(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(d===null||d.child===null)&&(hi(m)?Wd(m):d===null||d.memoizedState.isDehydrated&&(m.flags&256)===0||(m.flags|=1024,eb())),Wa(m),null;case 26:var P=m.type,$=m.memoizedState;return d===null?(Wd(m),$!==null?(Wa(m),_8(m,$)):(Wa(m),pk(m,P,null,j,x))):$?$!==d.memoizedState?(Wd(m),Wa(m),_8(m,$)):(Wa(m),m.flags&=-16777217):(d=d.memoizedProps,d!==j&&Wd(m),Wa(m),pk(m,P,d,j,x)),null;case 27:if(Ke(m),x=ce.current,P=m.type,d!==null&&m.stateNode!=null)d.memoizedProps!==j&&Wd(m);else{if(!j){if(m.stateNode===null)throw Error(n(166));return Wa(m),null}d=Q.current,hi(m)?Zx(m):(d=P7(P,j,x),m.stateNode=d,Wd(m))}return Wa(m),null;case 5:if(Ke(m),P=m.type,d!==null&&m.stateNode!=null)d.memoizedProps!==j&&Wd(m);else{if(!j){if(m.stateNode===null)throw Error(n(166));return Wa(m),null}if($=Q.current,hi(m))Zx(m);else{var ee=tw(ce.current);switch($){case 1:$=ee.createElementNS("http://www.w3.org/2000/svg",P);break;case 2:$=ee.createElementNS("http://www.w3.org/1998/Math/MathML",P);break;default:switch(P){case"svg":$=ee.createElementNS("http://www.w3.org/2000/svg",P);break;case"math":$=ee.createElementNS("http://www.w3.org/1998/Math/MathML",P);break;case"script":$=ee.createElement("div"),$.innerHTML="<script><\/script>",$=$.removeChild($.firstChild);break;case"select":$=typeof j.is=="string"?ee.createElement("select",{is:j.is}):ee.createElement("select"),j.multiple?$.multiple=!0:j.size&&($.size=j.size);break;default:$=typeof j.is=="string"?ee.createElement(P,{is:j.is}):ee.createElement(P)}}$[ir]=m,$[Wr]=j;e:for(ee=m.child;ee!==null;){if(ee.tag===5||ee.tag===6)$.appendChild(ee.stateNode);else if(ee.tag!==4&&ee.tag!==27&&ee.child!==null){ee.child.return=ee,ee=ee.child;continue}if(ee===m)break e;for(;ee.sibling===null;){if(ee.return===null||ee.return===m)break e;ee=ee.return}ee.sibling.return=ee.return,ee=ee.sibling}m.stateNode=$;e:switch(zi($,P,j),P){case"button":case"input":case"select":case"textarea":j=!!j.autoFocus;break e;case"img":j=!0;break e;default:j=!1}j&&Wd(m)}}return Wa(m),pk(m,m.type,d===null?null:d.memoizedProps,m.pendingProps,x),null;case 6:if(d&&m.stateNode!=null)d.memoizedProps!==j&&Wd(m);else{if(typeof j!="string"&&m.stateNode===null)throw Error(n(166));if(d=ce.current,hi(m)){if(d=m.stateNode,x=m.memoizedProps,j=null,P=fi,P!==null)switch(P.tag){case 27:case 5:j=P.memoizedProps}d[ir]=m,d=!!(d.nodeValue===x||j!==null&&j.suppressHydrationWarning===!0||N7(d.nodeValue,x)),d||Cu(m,!0)}else d=tw(d).createTextNode(j),d[ir]=m,m.stateNode=d}return Wa(m),null;case 31:if(x=m.memoizedState,d===null||d.memoizedState!==null){if(j=hi(m),x!==null){if(d===null){if(!j)throw Error(n(318));if(d=m.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(n(557));d[ir]=m}else Bd(),(m.flags&128)===0&&(m.memoizedState=null),m.flags|=4;Wa(m),d=!1}else x=eb(),d!==null&&d.memoizedState!==null&&(d.memoizedState.hydrationErrors=x),d=!0;if(!d)return m.flags&256?(ca(m),m):(ca(m),null);if((m.flags&128)!==0)throw Error(n(558))}return Wa(m),null;case 13:if(j=m.memoizedState,d===null||d.memoizedState!==null&&d.memoizedState.dehydrated!==null){if(P=hi(m),j!==null&&j.dehydrated!==null){if(d===null){if(!P)throw Error(n(318));if(P=m.memoizedState,P=P!==null?P.dehydrated:null,!P)throw Error(n(317));P[ir]=m}else Bd(),(m.flags&128)===0&&(m.memoizedState=null),m.flags|=4;Wa(m),P=!1}else P=eb(),d!==null&&d.memoizedState!==null&&(d.memoizedState.hydrationErrors=P),P=!0;if(!P)return m.flags&256?(ca(m),m):(ca(m),null)}return ca(m),(m.flags&128)!==0?(m.lanes=x,m):(x=j!==null,d=d!==null&&d.memoizedState!==null,x&&(j=m.child,P=null,j.alternate!==null&&j.alternate.memoizedState!==null&&j.alternate.memoizedState.cachePool!==null&&(P=j.alternate.memoizedState.cachePool.pool),$=null,j.memoizedState!==null&&j.memoizedState.cachePool!==null&&($=j.memoizedState.cachePool.pool),$!==P&&(j.flags|=2048)),x!==d&&x&&(m.child.flags|=8192),$1(m,m.updateQueue),Wa(m),null);case 4:return ge(),d===null&&Ik(m.stateNode.containerInfo),Wa(m),null;case 10:return Zo(m.type),Wa(m),null;case 19:if(V(Rn),j=m.memoizedState,j===null)return Wa(m),null;if(P=(m.flags&128)!==0,$=j.rendering,$===null)if(P)fb(j,!1);else{if(Ns!==0||d!==null&&(d.flags&128)!==0)for(d=m.child;d!==null;){if($=Ci(d),$!==null){for(m.flags|=128,fb(j,!1),d=$.updateQueue,m.updateQueue=d,$1(m,d),m.subtreeFlags=0,d=x,x=m.child;x!==null;)Dm(x,d),x=x.sibling;return J(Rn,Rn.current&1|2),kn&&_o(m,j.treeForkCount),m.child}d=d.sibling}j.tail!==null&&le()>W1&&(m.flags|=128,P=!0,fb(j,!1),m.lanes=4194304)}else{if(!P)if(d=Ci($),d!==null){if(m.flags|=128,P=!0,d=d.updateQueue,m.updateQueue=d,$1(m,d),fb(j,!0),j.tail===null&&j.tailMode==="hidden"&&!$.alternate&&!kn)return Wa(m),null}else 2*le()-j.renderingStartTime>W1&&x!==536870912&&(m.flags|=128,P=!0,fb(j,!1),m.lanes=4194304);j.isBackwards?($.sibling=m.child,m.child=$):(d=j.last,d!==null?d.sibling=$:m.child=$,j.last=$)}return j.tail!==null?(d=j.tail,j.rendering=d,j.tail=d.sibling,j.renderingStartTime=le(),d.sibling=null,x=Rn.current,J(Rn,P?x&1|2:x&1),kn&&_o(m,j.treeForkCount),d):(Wa(m),null);case 22:case 23:return ca(m),Is(),j=m.memoizedState!==null,d!==null?d.memoizedState!==null!==j&&(m.flags|=8192):j&&(m.flags|=8192),j?(x&536870912)!==0&&(m.flags&128)===0&&(Wa(m),m.subtreeFlags&6&&(m.flags|=8192)):Wa(m),x=m.updateQueue,x!==null&&$1(m,x.retryQueue),x=null,d!==null&&d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(x=d.memoizedState.cachePool.pool),j=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(j=m.memoizedState.cachePool.pool),j!==x&&(m.flags|=2048),d!==null&&V(we),null;case 24:return x=null,d!==null&&(x=d.memoizedState.cache),m.memoizedState.cache!==x&&(m.flags|=2048),Zo(us),Wa(m),null;case 25:return null;case 30:return null}throw Error(n(156,m.tag))}function tie(d,m){switch(w0(m),m.tag){case 1:return d=m.flags,d&65536?(m.flags=d&-65537|128,m):null;case 3:return Zo(us),ge(),d=m.flags,(d&65536)!==0&&(d&128)===0?(m.flags=d&-65537|128,m):null;case 26:case 27:case 5:return Ke(m),null;case 31:if(m.memoizedState!==null){if(ca(m),m.alternate===null)throw Error(n(340));Bd()}return d=m.flags,d&65536?(m.flags=d&-65537|128,m):null;case 13:if(ca(m),d=m.memoizedState,d!==null&&d.dehydrated!==null){if(m.alternate===null)throw Error(n(340));Bd()}return d=m.flags,d&65536?(m.flags=d&-65537|128,m):null;case 19:return V(Rn),null;case 4:return ge(),null;case 10:return Zo(m.type),null;case 22:case 23:return ca(m),Is(),d!==null&&V(we),d=m.flags,d&65536?(m.flags=d&-65537|128,m):null;case 24:return Zo(us),null;case 25:return null;default:return null}}function A8(d,m){switch(w0(m),m.tag){case 3:Zo(us),ge();break;case 26:case 27:case 5:Ke(m);break;case 4:ge();break;case 31:m.memoizedState!==null&&ca(m);break;case 13:ca(m);break;case 19:V(Rn);break;case 10:Zo(m.type);break;case 22:case 23:ca(m),Is(),d!==null&&V(we);break;case 24:Zo(us)}}function hb(d,m){try{var x=m.updateQueue,j=x!==null?x.lastEffect:null;if(j!==null){var P=j.next;x=P;do{if((x.tag&d)===d){j=void 0;var $=x.create,ee=x.inst;j=$(),ee.destroy=j}x=x.next}while(x!==P)}}catch(Se){da(m,m.return,Se)}}function xh(d,m,x){try{var j=m.updateQueue,P=j!==null?j.lastEffect:null;if(P!==null){var $=P.next;j=$;do{if((j.tag&d)===d){var ee=j.inst,Se=ee.destroy;if(Se!==void 0){ee.destroy=void 0,P=m;var Ye=x,Nt=Se;try{Nt()}catch(Ot){da(P,Ye,Ot)}}}j=j.next}while(j!==$)}}catch(Ot){da(m,m.return,Ot)}}function T8(d){var m=d.updateQueue;if(m!==null){var x=d.stateNode;try{ys(m,x)}catch(j){da(d,d.return,j)}}}function M8(d,m,x){x.props=$m(d.type,d.memoizedProps),x.state=d.memoizedState;try{x.componentWillUnmount()}catch(j){da(d,m,j)}}function mb(d,m){try{var x=d.ref;if(x!==null){switch(d.tag){case 26:case 27:case 5:var j=d.stateNode;break;case 30:j=d.stateNode;break;default:j=d.stateNode}typeof x=="function"?d.refCleanup=x(j):x.current=j}}catch(P){da(d,m,P)}}function Lu(d,m){var x=d.ref,j=d.refCleanup;if(x!==null)if(typeof j=="function")try{j()}catch(P){da(d,m,P)}finally{d.refCleanup=null,d=d.alternate,d!=null&&(d.refCleanup=null)}else if(typeof x=="function")try{x(null)}catch(P){da(d,m,P)}else x.current=null}function E8(d){var m=d.type,x=d.memoizedProps,j=d.stateNode;try{e:switch(m){case"button":case"input":case"select":case"textarea":x.autoFocus&&j.focus();break e;case"img":x.src?j.src=x.src:x.srcSet&&(j.srcset=x.srcSet)}}catch(P){da(d,d.return,P)}}function gk(d,m,x){try{var j=d.stateNode;Nie(j,d.type,x,m),j[Wr]=m}catch(P){da(d,d.return,P)}}function O8(d){return d.tag===5||d.tag===3||d.tag===26||d.tag===27&&Sh(d.type)||d.tag===4}function xk(d){e:for(;;){for(;d.sibling===null;){if(d.return===null||O8(d.return))return null;d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&d.tag!==18;){if(d.tag===27&&Sh(d.type)||d.flags&2||d.child===null||d.tag===4)continue e;d.child.return=d,d=d.child}if(!(d.flags&2))return d.stateNode}}function bk(d,m,x){var j=d.tag;if(j===5||j===6)d=d.stateNode,m?(x.nodeType===9?x.body:x.nodeName==="HTML"?x.ownerDocument.body:x).insertBefore(d,m):(m=x.nodeType===9?x.body:x.nodeName==="HTML"?x.ownerDocument.body:x,m.appendChild(d),x=x._reactRootContainer,x!=null||m.onclick!==null||(m.onclick=He));else if(j!==4&&(j===27&&Sh(d.type)&&(x=d.stateNode,m=null),d=d.child,d!==null))for(bk(d,m,x),d=d.sibling;d!==null;)bk(d,m,x),d=d.sibling}function H1(d,m,x){var j=d.tag;if(j===5||j===6)d=d.stateNode,m?x.insertBefore(d,m):x.appendChild(d);else if(j!==4&&(j===27&&Sh(d.type)&&(x=d.stateNode),d=d.child,d!==null))for(H1(d,m,x),d=d.sibling;d!==null;)H1(d,m,x),d=d.sibling}function D8(d){var m=d.stateNode,x=d.memoizedProps;try{for(var j=d.type,P=m.attributes;P.length;)m.removeAttributeNode(P[0]);zi(m,j,x),m[ir]=d,m[Wr]=x}catch($){da(d,d.return,$)}}var Vd=!1,Js=!1,yk=!1,P8=typeof WeakSet=="function"?WeakSet:Set,_i=null;function rie(d,m){if(d=d.containerInfo,$k=lw,d=Fc(d),Vl(d)){if("selectionStart"in d)var x={start:d.selectionStart,end:d.selectionEnd};else e:{x=(x=d.ownerDocument)&&x.defaultView||window;var j=x.getSelection&&x.getSelection();if(j&&j.rangeCount!==0){x=j.anchorNode;var P=j.anchorOffset,$=j.focusNode;j=j.focusOffset;try{x.nodeType,$.nodeType}catch{x=null;break e}var ee=0,Se=-1,Ye=-1,Nt=0,Ot=0,Bt=d,St=null;t:for(;;){for(var _t;Bt!==x||P!==0&&Bt.nodeType!==3||(Se=ee+P),Bt!==$||j!==0&&Bt.nodeType!==3||(Ye=ee+j),Bt.nodeType===3&&(ee+=Bt.nodeValue.length),(_t=Bt.firstChild)!==null;)St=Bt,Bt=_t;for(;;){if(Bt===d)break t;if(St===x&&++Nt===P&&(Se=ee),St===$&&++Ot===j&&(Ye=ee),(_t=Bt.nextSibling)!==null)break;Bt=St,St=Bt.parentNode}Bt=_t}x=Se===-1||Ye===-1?null:{start:Se,end:Ye}}else x=null}x=x||{start:0,end:0}}else x=null;for(Hk={focusedElem:d,selectionRange:x},lw=!1,_i=m;_i!==null;)if(m=_i,d=m.child,(m.subtreeFlags&1028)!==0&&d!==null)d.return=m,_i=d;else for(;_i!==null;){switch(m=_i,$=m.alternate,d=m.flags,m.tag){case 0:if((d&4)!==0&&(d=m.updateQueue,d=d!==null?d.events:null,d!==null))for(x=0;x<d.length;x++)P=d[x],P.ref.impl=P.nextImpl;break;case 11:case 15:break;case 1:if((d&1024)!==0&&$!==null){d=void 0,x=m,P=$.memoizedProps,$=$.memoizedState,j=x.stateNode;try{var vr=$m(x.type,P);d=j.getSnapshotBeforeUpdate(vr,$),j.__reactInternalSnapshotBeforeUpdate=d}catch(qr){da(x,x.return,qr)}}break;case 3:if((d&1024)!==0){if(d=m.stateNode.containerInfo,x=d.nodeType,x===9)Uk(d);else if(x===1)switch(d.nodeName){case"HEAD":case"HTML":case"BODY":Uk(d);break;default:d.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((d&1024)!==0)throw Error(n(163))}if(d=m.sibling,d!==null){d.return=m.return,_i=d;break}_i=m.return}}function L8(d,m,x){var j=x.flags;switch(x.tag){case 0:case 11:case 15:Yd(d,x),j&4&&hb(5,x);break;case 1:if(Yd(d,x),j&4)if(d=x.stateNode,m===null)try{d.componentDidMount()}catch(ee){da(x,x.return,ee)}else{var P=$m(x.type,m.memoizedProps);m=m.memoizedState;try{d.componentDidUpdate(P,m,d.__reactInternalSnapshotBeforeUpdate)}catch(ee){da(x,x.return,ee)}}j&64&&T8(x),j&512&&mb(x,x.return);break;case 3:if(Yd(d,x),j&64&&(d=x.updateQueue,d!==null)){if(m=null,x.child!==null)switch(x.child.tag){case 27:case 5:m=x.child.stateNode;break;case 1:m=x.child.stateNode}try{ys(d,m)}catch(ee){da(x,x.return,ee)}}break;case 27:m===null&&j&4&&D8(x);case 26:case 5:Yd(d,x),m===null&&j&4&&E8(x),j&512&&mb(x,x.return);break;case 12:Yd(d,x);break;case 31:Yd(d,x),j&4&&F8(d,x);break;case 13:Yd(d,x),j&4&&B8(d,x),j&64&&(d=x.memoizedState,d!==null&&(d=d.dehydrated,d!==null&&(x=die.bind(null,x),Eie(d,x))));break;case 22:if(j=x.memoizedState!==null||Vd,!j){m=m!==null&&m.memoizedState!==null||Js,P=Vd;var $=Js;Vd=j,(Js=m)&&!$?Kd(d,x,(x.subtreeFlags&8772)!==0):Yd(d,x),Vd=P,Js=$}break;case 30:break;default:Yd(d,x)}}function R8(d){var m=d.alternate;m!==null&&(d.alternate=null,R8(m)),d.child=null,d.deletions=null,d.sibling=null,d.tag===5&&(m=d.stateNode,m!==null&&it(m)),d.stateNode=null,d.return=null,d.dependencies=null,d.memoizedProps=null,d.memoizedState=null,d.pendingProps=null,d.stateNode=null,d.updateQueue=null}var ts=null,tl=!1;function Gd(d,m,x){for(x=x.child;x!==null;)I8(d,m,x),x=x.sibling}function I8(d,m,x){if(We&&typeof We.onCommitFiberUnmount=="function")try{We.onCommitFiberUnmount(je,x)}catch{}switch(x.tag){case 26:Js||Lu(x,m),Gd(d,m,x),x.memoizedState?x.memoizedState.count--:x.stateNode&&(x=x.stateNode,x.parentNode.removeChild(x));break;case 27:Js||Lu(x,m);var j=ts,P=tl;Sh(x.type)&&(ts=x.stateNode,tl=!1),Gd(d,m,x),Nb(x.stateNode),ts=j,tl=P;break;case 5:Js||Lu(x,m);case 6:if(j=ts,P=tl,ts=null,Gd(d,m,x),ts=j,tl=P,ts!==null)if(tl)try{(ts.nodeType===9?ts.body:ts.nodeName==="HTML"?ts.ownerDocument.body:ts).removeChild(x.stateNode)}catch($){da(x,m,$)}else try{ts.removeChild(x.stateNode)}catch($){da(x,m,$)}break;case 18:ts!==null&&(tl?(d=ts,T7(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,x.stateNode),V0(d)):T7(ts,x.stateNode));break;case 4:j=ts,P=tl,ts=x.stateNode.containerInfo,tl=!0,Gd(d,m,x),ts=j,tl=P;break;case 0:case 11:case 14:case 15:xh(2,x,m),Js||xh(4,x,m),Gd(d,m,x);break;case 1:Js||(Lu(x,m),j=x.stateNode,typeof j.componentWillUnmount=="function"&&M8(x,m,j)),Gd(d,m,x);break;case 21:Gd(d,m,x);break;case 22:Js=(j=Js)||x.memoizedState!==null,Gd(d,m,x),Js=j;break;default:Gd(d,m,x)}}function F8(d,m){if(m.memoizedState===null&&(d=m.alternate,d!==null&&(d=d.memoizedState,d!==null))){d=d.dehydrated;try{V0(d)}catch(x){da(m,m.return,x)}}}function B8(d,m){if(m.memoizedState===null&&(d=m.alternate,d!==null&&(d=d.memoizedState,d!==null&&(d=d.dehydrated,d!==null))))try{V0(d)}catch(x){da(m,m.return,x)}}function nie(d){switch(d.tag){case 31:case 13:case 19:var m=d.stateNode;return m===null&&(m=d.stateNode=new P8),m;case 22:return d=d.stateNode,m=d._retryCache,m===null&&(m=d._retryCache=new P8),m;default:throw Error(n(435,d.tag))}}function z1(d,m){var x=nie(d);m.forEach(function(j){if(!x.has(j)){x.add(j);var P=fie.bind(null,d,j);j.then(P,P)}})}function rl(d,m){var x=m.deletions;if(x!==null)for(var j=0;j<x.length;j++){var P=x[j],$=d,ee=m,Se=ee;e:for(;Se!==null;){switch(Se.tag){case 27:if(Sh(Se.type)){ts=Se.stateNode,tl=!1;break e}break;case 5:ts=Se.stateNode,tl=!1;break e;case 3:case 4:ts=Se.stateNode.containerInfo,tl=!0;break e}Se=Se.return}if(ts===null)throw Error(n(160));I8($,ee,P),ts=null,tl=!1,$=P.alternate,$!==null&&($.return=null),P.return=null}if(m.subtreeFlags&13886)for(m=m.child;m!==null;)$8(m,d),m=m.sibling}var Vc=null;function $8(d,m){var x=d.alternate,j=d.flags;switch(d.tag){case 0:case 11:case 14:case 15:rl(m,d),nl(d),j&4&&(xh(3,d,d.return),hb(3,d),xh(5,d,d.return));break;case 1:rl(m,d),nl(d),j&512&&(Js||x===null||Lu(x,x.return)),j&64&&Vd&&(d=d.updateQueue,d!==null&&(j=d.callbacks,j!==null&&(x=d.shared.hiddenCallbacks,d.shared.hiddenCallbacks=x===null?j:x.concat(j))));break;case 26:var P=Vc;if(rl(m,d),nl(d),j&512&&(Js||x===null||Lu(x,x.return)),j&4){var $=x!==null?x.memoizedState:null;if(j=d.memoizedState,x===null)if(j===null)if(d.stateNode===null){e:{j=d.type,x=d.memoizedProps,P=P.ownerDocument||P;t:switch(j){case"title":$=P.getElementsByTagName("title")[0],(!$||$[he]||$[ir]||$.namespaceURI==="http://www.w3.org/2000/svg"||$.hasAttribute("itemprop"))&&($=P.createElement(j),P.head.insertBefore($,P.querySelector("head > title"))),zi($,j,x),$[ir]=d,sr($),j=$;break e;case"link":var ee=$7("link","href",P).get(j+(x.href||""));if(ee){for(var Se=0;Se<ee.length;Se++)if($=ee[Se],$.getAttribute("href")===(x.href==null||x.href===""?null:x.href)&&$.getAttribute("rel")===(x.rel==null?null:x.rel)&&$.getAttribute("title")===(x.title==null?null:x.title)&&$.getAttribute("crossorigin")===(x.crossOrigin==null?null:x.crossOrigin)){ee.splice(Se,1);break t}}$=P.createElement(j),zi($,j,x),P.head.appendChild($);break;case"meta":if(ee=$7("meta","content",P).get(j+(x.content||""))){for(Se=0;Se<ee.length;Se++)if($=ee[Se],$.getAttribute("content")===(x.content==null?null:""+x.content)&&$.getAttribute("name")===(x.name==null?null:x.name)&&$.getAttribute("property")===(x.property==null?null:x.property)&&$.getAttribute("http-equiv")===(x.httpEquiv==null?null:x.httpEquiv)&&$.getAttribute("charset")===(x.charSet==null?null:x.charSet)){ee.splice(Se,1);break t}}$=P.createElement(j),zi($,j,x),P.head.appendChild($);break;default:throw Error(n(468,j))}$[ir]=d,sr($),j=$}d.stateNode=j}else H7(P,d.type,d.stateNode);else d.stateNode=B7(P,j,d.memoizedProps);else $!==j?($===null?x.stateNode!==null&&(x=x.stateNode,x.parentNode.removeChild(x)):$.count--,j===null?H7(P,d.type,d.stateNode):B7(P,j,d.memoizedProps)):j===null&&d.stateNode!==null&&gk(d,d.memoizedProps,x.memoizedProps)}break;case 27:rl(m,d),nl(d),j&512&&(Js||x===null||Lu(x,x.return)),x!==null&&j&4&&gk(d,d.memoizedProps,x.memoizedProps);break;case 5:if(rl(m,d),nl(d),j&512&&(Js||x===null||Lu(x,x.return)),d.flags&32){P=d.stateNode;try{Ii(P,"")}catch(vr){da(d,d.return,vr)}}j&4&&d.stateNode!=null&&(P=d.memoizedProps,gk(d,P,x!==null?x.memoizedProps:P)),j&1024&&(yk=!0);break;case 6:if(rl(m,d),nl(d),j&4){if(d.stateNode===null)throw Error(n(162));j=d.memoizedProps,x=d.stateNode;try{x.nodeValue=j}catch(vr){da(d,d.return,vr)}}break;case 3:if(aw=null,P=Vc,Vc=rw(m.containerInfo),rl(m,d),Vc=P,nl(d),j&4&&x!==null&&x.memoizedState.isDehydrated)try{V0(m.containerInfo)}catch(vr){da(d,d.return,vr)}yk&&(yk=!1,H8(d));break;case 4:j=Vc,Vc=rw(d.stateNode.containerInfo),rl(m,d),nl(d),Vc=j;break;case 12:rl(m,d),nl(d);break;case 31:rl(m,d),nl(d),j&4&&(j=d.updateQueue,j!==null&&(d.updateQueue=null,z1(d,j)));break;case 13:rl(m,d),nl(d),d.child.flags&8192&&d.memoizedState!==null!=(x!==null&&x.memoizedState!==null)&&(U1=le()),j&4&&(j=d.updateQueue,j!==null&&(d.updateQueue=null,z1(d,j)));break;case 22:P=d.memoizedState!==null;var Ye=x!==null&&x.memoizedState!==null,Nt=Vd,Ot=Js;if(Vd=Nt||P,Js=Ot||Ye,rl(m,d),Js=Ot,Vd=Nt,nl(d),j&8192)e:for(m=d.stateNode,m._visibility=P?m._visibility&-2:m._visibility|1,P&&(x===null||Ye||Vd||Js||Hm(d)),x=null,m=d;;){if(m.tag===5||m.tag===26){if(x===null){Ye=x=m;try{if($=Ye.stateNode,P)ee=$.style,typeof ee.setProperty=="function"?ee.setProperty("display","none","important"):ee.display="none";else{Se=Ye.stateNode;var Bt=Ye.memoizedProps.style,St=Bt!=null&&Bt.hasOwnProperty("display")?Bt.display:null;Se.style.display=St==null||typeof St=="boolean"?"":(""+St).trim()}}catch(vr){da(Ye,Ye.return,vr)}}}else if(m.tag===6){if(x===null){Ye=m;try{Ye.stateNode.nodeValue=P?"":Ye.memoizedProps}catch(vr){da(Ye,Ye.return,vr)}}}else if(m.tag===18){if(x===null){Ye=m;try{var _t=Ye.stateNode;P?M7(_t,!0):M7(Ye.stateNode,!1)}catch(vr){da(Ye,Ye.return,vr)}}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===d)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===d)break e;for(;m.sibling===null;){if(m.return===null||m.return===d)break e;x===m&&(x=null),m=m.return}x===m&&(x=null),m.sibling.return=m.return,m=m.sibling}j&4&&(j=d.updateQueue,j!==null&&(x=j.retryQueue,x!==null&&(j.retryQueue=null,z1(d,x))));break;case 19:rl(m,d),nl(d),j&4&&(j=d.updateQueue,j!==null&&(d.updateQueue=null,z1(d,j)));break;case 30:break;case 21:break;default:rl(m,d),nl(d)}}function nl(d){var m=d.flags;if(m&2){try{for(var x,j=d.return;j!==null;){if(O8(j)){x=j;break}j=j.return}if(x==null)throw Error(n(160));switch(x.tag){case 27:var P=x.stateNode,$=xk(d);H1(d,$,P);break;case 5:var ee=x.stateNode;x.flags&32&&(Ii(ee,""),x.flags&=-33);var Se=xk(d);H1(d,Se,ee);break;case 3:case 4:var Ye=x.stateNode.containerInfo,Nt=xk(d);bk(d,Nt,Ye);break;default:throw Error(n(161))}}catch(Ot){da(d,d.return,Ot)}d.flags&=-3}m&4096&&(d.flags&=-4097)}function H8(d){if(d.subtreeFlags&1024)for(d=d.child;d!==null;){var m=d;H8(m),m.tag===5&&m.flags&1024&&m.stateNode.reset(),d=d.sibling}}function Yd(d,m){if(m.subtreeFlags&8772)for(m=m.child;m!==null;)L8(d,m.alternate,m),m=m.sibling}function Hm(d){for(d=d.child;d!==null;){var m=d;switch(m.tag){case 0:case 11:case 14:case 15:xh(4,m,m.return),Hm(m);break;case 1:Lu(m,m.return);var x=m.stateNode;typeof x.componentWillUnmount=="function"&&M8(m,m.return,x),Hm(m);break;case 27:Nb(m.stateNode);case 26:case 5:Lu(m,m.return),Hm(m);break;case 22:m.memoizedState===null&&Hm(m);break;case 30:Hm(m);break;default:Hm(m)}d=d.sibling}}function Kd(d,m,x){for(x=x&&(m.subtreeFlags&8772)!==0,m=m.child;m!==null;){var j=m.alternate,P=d,$=m,ee=$.flags;switch($.tag){case 0:case 11:case 15:Kd(P,$,x),hb(4,$);break;case 1:if(Kd(P,$,x),j=$,P=j.stateNode,typeof P.componentDidMount=="function")try{P.componentDidMount()}catch(Nt){da(j,j.return,Nt)}if(j=$,P=j.updateQueue,P!==null){var Se=j.stateNode;try{var Ye=P.shared.hiddenCallbacks;if(Ye!==null)for(P.shared.hiddenCallbacks=null,P=0;P<Ye.length;P++)ki(Ye[P],Se)}catch(Nt){da(j,j.return,Nt)}}x&&ee&64&&T8($),mb($,$.return);break;case 27:D8($);case 26:case 5:Kd(P,$,x),x&&j===null&&ee&4&&E8($),mb($,$.return);break;case 12:Kd(P,$,x);break;case 31:Kd(P,$,x),x&&ee&4&&F8(P,$);break;case 13:Kd(P,$,x),x&&ee&4&&B8(P,$);break;case 22:$.memoizedState===null&&Kd(P,$,x),mb($,$.return);break;case 30:break;default:Kd(P,$,x)}m=m.sibling}}function vk(d,m){var x=null;d!==null&&d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(x=d.memoizedState.cachePool.pool),d=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(d=m.memoizedState.cachePool.pool),d!==x&&(d!=null&&d.refCount++,x!=null&&Rm(x))}function wk(d,m){d=null,m.alternate!==null&&(d=m.alternate.memoizedState.cache),m=m.memoizedState.cache,m!==d&&(m.refCount++,d!=null&&Rm(d))}function Gc(d,m,x,j){if(m.subtreeFlags&10256)for(m=m.child;m!==null;)z8(d,m,x,j),m=m.sibling}function z8(d,m,x,j){var P=m.flags;switch(m.tag){case 0:case 11:case 15:Gc(d,m,x,j),P&2048&&hb(9,m);break;case 1:Gc(d,m,x,j);break;case 3:Gc(d,m,x,j),P&2048&&(d=null,m.alternate!==null&&(d=m.alternate.memoizedState.cache),m=m.memoizedState.cache,m!==d&&(m.refCount++,d!=null&&Rm(d)));break;case 12:if(P&2048){Gc(d,m,x,j),d=m.stateNode;try{var $=m.memoizedProps,ee=$.id,Se=$.onPostCommit;typeof Se=="function"&&Se(ee,m.alternate===null?"mount":"update",d.passiveEffectDuration,-0)}catch(Ye){da(m,m.return,Ye)}}else Gc(d,m,x,j);break;case 31:Gc(d,m,x,j);break;case 13:Gc(d,m,x,j);break;case 23:break;case 22:$=m.stateNode,ee=m.alternate,m.memoizedState!==null?$._visibility&2?Gc(d,m,x,j):pb(d,m):$._visibility&2?Gc(d,m,x,j):($._visibility|=2,L0(d,m,x,j,(m.subtreeFlags&10256)!==0||!1)),P&2048&&vk(ee,m);break;case 24:Gc(d,m,x,j),P&2048&&wk(m.alternate,m);break;default:Gc(d,m,x,j)}}function L0(d,m,x,j,P){for(P=P&&((m.subtreeFlags&10256)!==0||!1),m=m.child;m!==null;){var $=d,ee=m,Se=x,Ye=j,Nt=ee.flags;switch(ee.tag){case 0:case 11:case 15:L0($,ee,Se,Ye,P),hb(8,ee);break;case 23:break;case 22:var Ot=ee.stateNode;ee.memoizedState!==null?Ot._visibility&2?L0($,ee,Se,Ye,P):pb($,ee):(Ot._visibility|=2,L0($,ee,Se,Ye,P)),P&&Nt&2048&&vk(ee.alternate,ee);break;case 24:L0($,ee,Se,Ye,P),P&&Nt&2048&&wk(ee.alternate,ee);break;default:L0($,ee,Se,Ye,P)}m=m.sibling}}function pb(d,m){if(m.subtreeFlags&10256)for(m=m.child;m!==null;){var x=d,j=m,P=j.flags;switch(j.tag){case 22:pb(x,j),P&2048&&vk(j.alternate,j);break;case 24:pb(x,j),P&2048&&wk(j.alternate,j);break;default:pb(x,j)}m=m.sibling}}var gb=8192;function R0(d,m,x){if(d.subtreeFlags&gb)for(d=d.child;d!==null;)q8(d,m,x),d=d.sibling}function q8(d,m,x){switch(d.tag){case 26:R0(d,m,x),d.flags&gb&&d.memoizedState!==null&&qie(x,Vc,d.memoizedState,d.memoizedProps);break;case 5:R0(d,m,x);break;case 3:case 4:var j=Vc;Vc=rw(d.stateNode.containerInfo),R0(d,m,x),Vc=j;break;case 22:d.memoizedState===null&&(j=d.alternate,j!==null&&j.memoizedState!==null?(j=gb,gb=16777216,R0(d,m,x),gb=j):R0(d,m,x));break;default:R0(d,m,x)}}function U8(d){var m=d.alternate;if(m!==null&&(d=m.child,d!==null)){m.child=null;do m=d.sibling,d.sibling=null,d=m;while(d!==null)}}function xb(d){var m=d.deletions;if((d.flags&16)!==0){if(m!==null)for(var x=0;x<m.length;x++){var j=m[x];_i=j,V8(j,d)}U8(d)}if(d.subtreeFlags&10256)for(d=d.child;d!==null;)W8(d),d=d.sibling}function W8(d){switch(d.tag){case 0:case 11:case 15:xb(d),d.flags&2048&&xh(9,d,d.return);break;case 3:xb(d);break;case 12:xb(d);break;case 22:var m=d.stateNode;d.memoizedState!==null&&m._visibility&2&&(d.return===null||d.return.tag!==13)?(m._visibility&=-3,q1(d)):xb(d);break;default:xb(d)}}function q1(d){var m=d.deletions;if((d.flags&16)!==0){if(m!==null)for(var x=0;x<m.length;x++){var j=m[x];_i=j,V8(j,d)}U8(d)}for(d=d.child;d!==null;){switch(m=d,m.tag){case 0:case 11:case 15:xh(8,m,m.return),q1(m);break;case 22:x=m.stateNode,x._visibility&2&&(x._visibility&=-3,q1(m));break;default:q1(m)}d=d.sibling}}function V8(d,m){for(;_i!==null;){var x=_i;switch(x.tag){case 0:case 11:case 15:xh(8,x,m);break;case 23:case 22:if(x.memoizedState!==null&&x.memoizedState.cachePool!==null){var j=x.memoizedState.cachePool.pool;j!=null&&j.refCount++}break;case 24:Rm(x.memoizedState.cache)}if(j=x.child,j!==null)j.return=x,_i=j;else e:for(x=d;_i!==null;){j=_i;var P=j.sibling,$=j.return;if(R8(j),j===x){_i=null;break e}if(P!==null){P.return=$,_i=P;break e}_i=$}}}var aie={getCacheForType:function(d){var m=mi(us),x=m.data.get(d);return x===void 0&&(x=d(),m.data.set(d,x)),x},cacheSignal:function(){return mi(us).controller.signal}},sie=typeof WeakMap=="function"?WeakMap:Map,Qn=0,Ta=null,Cn=null,En=0,ua=0,yl=null,bh=!1,I0=!1,jk=!1,Jd=0,Ns=0,yh=0,zm=0,Nk=0,vl=0,F0=0,bb=null,al=null,Sk=!1,U1=0,G8=0,W1=1/0,V1=null,vh=null,gi=0,wh=null,B0=null,Xd=0,kk=0,Ck=null,Y8=null,yb=0,_k=null;function wl(){return(Qn&2)!==0&&En!==0?En&-En:W.T!==null?Dk():br()}function K8(){if(vl===0)if((En&536870912)===0||kn){var d=_e;_e<<=1,(_e&3932160)===0&&(_e=262144),vl=d}else vl=536870912;return d=Ua.current,d!==null&&(d.flags|=32),vl}function sl(d,m,x){(d===Ta&&(ua===2||ua===9)||d.cancelPendingCommit!==null)&&($0(d,0),jh(d,En,vl,!1)),et(d,x),((Qn&2)===0||d!==Ta)&&(d===Ta&&((Qn&2)===0&&(zm|=x),Ns===4&&jh(d,En,vl,!1)),Ru(d))}function J8(d,m,x){if((Qn&6)!==0)throw Error(n(327));var j=!x&&(m&127)===0&&(m&d.expiredLanes)===0||lt(d,m),P=j?lie(d,m):Tk(d,m,!0),$=j;do{if(P===0){I0&&!j&&jh(d,m,0,!1);break}else{if(x=d.current.alternate,$&&!iie(x)){P=Tk(d,m,!1),$=!1;continue}if(P===2){if($=m,d.errorRecoveryDisabledLanes&$)var ee=0;else ee=d.pendingLanes&-536870913,ee=ee!==0?ee:ee&536870912?536870912:0;if(ee!==0){m=ee;e:{var Se=d;P=bb;var Ye=Se.current.memoizedState.isDehydrated;if(Ye&&($0(Se,ee).flags|=256),ee=Tk(Se,ee,!1),ee!==2){if(jk&&!Ye){Se.errorRecoveryDisabledLanes|=$,zm|=$,P=4;break e}$=al,al=P,$!==null&&(al===null?al=$:al.push.apply(al,$))}P=ee}if($=!1,P!==2)continue}}if(P===1){$0(d,0),jh(d,m,0,!0);break}e:{switch(j=d,$=P,$){case 0:case 1:throw Error(n(345));case 4:if((m&4194048)!==m)break;case 6:jh(j,m,vl,!bh);break e;case 2:al=null;break;case 3:case 5:break;default:throw Error(n(329))}if((m&62914560)===m&&(P=U1+300-le(),10<P)){if(jh(j,m,vl,!bh),Xe(j,0,!0)!==0)break e;Xd=m,j.timeoutHandle=_7(X8.bind(null,j,x,al,V1,Sk,m,vl,zm,F0,bh,$,"Throttled",-0,0),P);break e}X8(j,x,al,V1,Sk,m,vl,zm,F0,bh,$,null,-0,0)}}break}while(!0);Ru(d)}function X8(d,m,x,j,P,$,ee,Se,Ye,Nt,Ot,Bt,St,_t){if(d.timeoutHandle=-1,Bt=m.subtreeFlags,Bt&8192||(Bt&16785408)===16785408){Bt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:He},q8(m,$,Bt);var vr=($&62914560)===$?U1-le():($&4194048)===$?G8-le():0;if(vr=Uie(Bt,vr),vr!==null){Xd=$,d.cancelPendingCommit=vr(s7.bind(null,d,m,$,x,j,P,ee,Se,Ye,Ot,Bt,null,St,_t)),jh(d,$,ee,!Nt);return}}s7(d,m,$,x,j,P,ee,Se,Ye)}function iie(d){for(var m=d;;){var x=m.tag;if((x===0||x===11||x===15)&&m.flags&16384&&(x=m.updateQueue,x!==null&&(x=x.stores,x!==null)))for(var j=0;j<x.length;j++){var P=x[j],$=P.getSnapshot;P=P.value;try{if(!ui($(),P))return!1}catch{return!1}}if(x=m.child,m.subtreeFlags&16384&&x!==null)x.return=m,m=x;else{if(m===d)break;for(;m.sibling===null;){if(m.return===null||m.return===d)return!0;m=m.return}m.sibling.return=m.return,m=m.sibling}}return!0}function jh(d,m,x,j){m&=~Nk,m&=~zm,d.suspendedLanes|=m,d.pingedLanes&=~m,j&&(d.warmLanes|=m),j=d.expirationTimes;for(var P=m;0<P;){var $=31-ve(P),ee=1<<$;j[$]=-1,P&=~ee}x!==0&&Ut(d,x,m)}function G1(){return(Qn&6)===0?(vb(0),!1):!0}function Ak(){if(Cn!==null){if(ua===0)var d=Cn.return;else d=Cn,Yl=_u=null,A0(d),$t=null,wr=0,d=Cn;for(;d!==null;)A8(d.alternate,d),d=d.return;Cn=null}}function $0(d,m){var x=d.timeoutHandle;x!==-1&&(d.timeoutHandle=-1,Cie(x)),x=d.cancelPendingCommit,x!==null&&(d.cancelPendingCommit=null,x()),Xd=0,Ak(),Ta=d,Cn=x=Go(d.current,null),En=m,ua=0,yl=null,bh=!1,I0=lt(d,m),jk=!1,F0=vl=Nk=zm=yh=Ns=0,al=bb=null,Sk=!1,(m&8)!==0&&(m|=m&32);var j=d.entangledLanes;if(j!==0)for(d=d.entanglements,j&=m;0<j;){var P=31-ve(j),$=1<<P;m|=d[P],j&=~$}return Jd=m,Mm(),x}function Q8(d,m){Or=null,W.H=ub,m===nt||m===Le?(m=Lt(),ua=3):m===vt?(m=Lt(),ua=4):ua=m===ik?8:m!==null&&typeof m=="object"&&typeof m.then=="function"?6:1,yl=m,Cn===null&&(Ns=1,R1(d,Yo(m,d.current)))}function Z8(){var d=Ua.current;return d===null?!0:(En&4194048)===En?$n===null:(En&62914560)===En||(En&536870912)!==0?d===$n:!1}function e7(){var d=W.H;return W.H=ub,d===null?ub:d}function t7(){var d=W.A;return W.A=aie,d}function Y1(){Ns=4,bh||(En&4194048)!==En&&Ua.current!==null||(I0=!0),(yh&134217727)===0&&(zm&134217727)===0||Ta===null||jh(Ta,En,vl,!1)}function Tk(d,m,x){var j=Qn;Qn|=2;var P=e7(),$=t7();(Ta!==d||En!==m)&&(V1=null,$0(d,m)),m=!1;var ee=Ns;e:do try{if(ua!==0&&Cn!==null){var Se=Cn,Ye=yl;switch(ua){case 8:Ak(),ee=6;break e;case 3:case 2:case 9:case 6:Ua.current===null&&(m=!0);var Nt=ua;if(ua=0,yl=null,H0(d,Se,Ye,Nt),x&&I0){ee=0;break e}break;default:Nt=ua,ua=0,yl=null,H0(d,Se,Ye,Nt)}}oie(),ee=Ns;break}catch(Ot){Q8(d,Ot)}while(!0);return m&&d.shellSuspendCounter++,Yl=_u=null,Qn=j,W.H=P,W.A=$,Cn===null&&(Ta=null,En=0,Mm()),ee}function oie(){for(;Cn!==null;)r7(Cn)}function lie(d,m){var x=Qn;Qn|=2;var j=e7(),P=t7();Ta!==d||En!==m?(V1=null,W1=le()+500,$0(d,m)):I0=lt(d,m);e:do try{if(ua!==0&&Cn!==null){m=Cn;var $=yl;t:switch(ua){case 1:ua=0,yl=null,H0(d,m,$,1);break;case 2:case 9:if(gt($)){ua=0,yl=null,n7(m);break}m=function(){ua!==2&&ua!==9||Ta!==d||(ua=7),Ru(d)},$.then(m,m);break e;case 3:ua=7;break e;case 4:ua=5;break e;case 7:gt($)?(ua=0,yl=null,n7(m)):(ua=0,yl=null,H0(d,m,$,7));break;case 5:var ee=null;switch(Cn.tag){case 26:ee=Cn.memoizedState;case 5:case 27:var Se=Cn;if(ee?z7(ee):Se.stateNode.complete){ua=0,yl=null;var Ye=Se.sibling;if(Ye!==null)Cn=Ye;else{var Nt=Se.return;Nt!==null?(Cn=Nt,K1(Nt)):Cn=null}break t}}ua=0,yl=null,H0(d,m,$,5);break;case 6:ua=0,yl=null,H0(d,m,$,6);break;case 8:Ak(),Ns=6;break e;default:throw Error(n(462))}}cie();break}catch(Ot){Q8(d,Ot)}while(!0);return Yl=_u=null,W.H=j,W.A=P,Qn=x,Cn!==null?0:(Ta=null,En=0,Mm(),Ns)}function cie(){for(;Cn!==null&&!Ve();)r7(Cn)}function r7(d){var m=C8(d.alternate,d,Jd);d.memoizedProps=d.pendingProps,m===null?K1(d):Cn=m}function n7(d){var m=d,x=m.alternate;switch(m.tag){case 15:case 0:m=v8(x,m,m.pendingProps,m.type,void 0,En);break;case 11:m=v8(x,m,m.pendingProps,m.type.render,m.ref,En);break;case 5:A0(m);default:A8(x,m),m=Cn=Dm(m,Jd),m=C8(x,m,Jd)}d.memoizedProps=d.pendingProps,m===null?K1(d):Cn=m}function H0(d,m,x,j){Yl=_u=null,A0(m),$t=null,wr=0;var P=m.return;try{if(Xse(d,P,m,x,En)){Ns=1,R1(d,Yo(x,d.current)),Cn=null;return}}catch($){if(P!==null)throw Cn=P,$;Ns=1,R1(d,Yo(x,d.current)),Cn=null;return}m.flags&32768?(kn||j===1?d=!0:I0||(En&536870912)!==0?d=!1:(bh=d=!0,(j===2||j===9||j===3||j===6)&&(j=Ua.current,j!==null&&j.tag===13&&(j.flags|=16384))),a7(m,d)):K1(m)}function K1(d){var m=d;do{if((m.flags&32768)!==0){a7(m,bh);return}d=m.return;var x=eie(m.alternate,m,Jd);if(x!==null){Cn=x;return}if(m=m.sibling,m!==null){Cn=m;return}Cn=m=d}while(m!==null);Ns===0&&(Ns=5)}function a7(d,m){do{var x=tie(d.alternate,d);if(x!==null){x.flags&=32767,Cn=x;return}if(x=d.return,x!==null&&(x.flags|=32768,x.subtreeFlags=0,x.deletions=null),!m&&(d=d.sibling,d!==null)){Cn=d;return}Cn=d=x}while(d!==null);Ns=6,Cn=null}function s7(d,m,x,j,P,$,ee,Se,Ye){d.cancelPendingCommit=null;do J1();while(gi!==0);if((Qn&6)!==0)throw Error(n(327));if(m!==null){if(m===d.current)throw Error(n(177));if($=m.lanes|m.childLanes,$|=m0,Rt(d,x,$,ee,Se,Ye),d===Ta&&(Cn=Ta=null,En=0),B0=m,wh=d,Xd=x,kk=$,Ck=P,Y8=j,(m.subtreeFlags&10256)!==0||(m.flags&10256)!==0?(d.callbackNode=null,d.callbackPriority=0,hie(Pe,function(){return u7(),null})):(d.callbackNode=null,d.callbackPriority=0),j=(m.flags&13878)!==0,(m.subtreeFlags&13878)!==0||j){j=W.T,W.T=null,P=H.p,H.p=2,ee=Qn,Qn|=4;try{rie(d,m,x)}finally{Qn=ee,H.p=P,W.T=j}}gi=1,i7(),o7(),l7()}}function i7(){if(gi===1){gi=0;var d=wh,m=B0,x=(m.flags&13878)!==0;if((m.subtreeFlags&13878)!==0||x){x=W.T,W.T=null;var j=H.p;H.p=2;var P=Qn;Qn|=4;try{$8(m,d);var $=Hk,ee=Fc(d.containerInfo),Se=$.focusedElem,Ye=$.selectionRange;if(ee!==Se&&Se&&Se.ownerDocument&&Ic(Se.ownerDocument.documentElement,Se)){if(Ye!==null&&Vl(Se)){var Nt=Ye.start,Ot=Ye.end;if(Ot===void 0&&(Ot=Nt),"selectionStart"in Se)Se.selectionStart=Nt,Se.selectionEnd=Math.min(Ot,Se.value.length);else{var Bt=Se.ownerDocument||document,St=Bt&&Bt.defaultView||window;if(St.getSelection){var _t=St.getSelection(),vr=Se.textContent.length,qr=Math.min(Ye.start,vr),ka=Ye.end===void 0?qr:Math.min(Ye.end,vr);!_t.extend&&qr>ka&&(ee=ka,ka=qr,qr=ee);var ht=ih(Se,qr),at=ih(Se,ka);if(ht&&at&&(_t.rangeCount!==1||_t.anchorNode!==ht.node||_t.anchorOffset!==ht.offset||_t.focusNode!==at.node||_t.focusOffset!==at.offset)){var jt=Bt.createRange();jt.setStart(ht.node,ht.offset),_t.removeAllRanges(),qr>ka?(_t.addRange(jt),_t.extend(at.node,at.offset)):(jt.setEnd(at.node,at.offset),_t.addRange(jt))}}}}for(Bt=[],_t=Se;_t=_t.parentNode;)_t.nodeType===1&&Bt.push({element:_t,left:_t.scrollLeft,top:_t.scrollTop});for(typeof Se.focus=="function"&&Se.focus(),Se=0;Se<Bt.length;Se++){var It=Bt[Se];It.element.scrollLeft=It.left,It.element.scrollTop=It.top}}lw=!!$k,Hk=$k=null}finally{Qn=P,H.p=j,W.T=x}}d.current=m,gi=2}}function o7(){if(gi===2){gi=0;var d=wh,m=B0,x=(m.flags&8772)!==0;if((m.subtreeFlags&8772)!==0||x){x=W.T,W.T=null;var j=H.p;H.p=2;var P=Qn;Qn|=4;try{L8(d,m.alternate,m)}finally{Qn=P,H.p=j,W.T=x}}gi=3}}function l7(){if(gi===4||gi===3){gi=0,Te();var d=wh,m=B0,x=Xd,j=Y8;(m.subtreeFlags&10256)!==0||(m.flags&10256)!==0?gi=5:(gi=0,B0=wh=null,c7(d,d.pendingLanes));var P=d.pendingLanes;if(P===0&&(vh=null),Vt(x),m=m.stateNode,We&&typeof We.onCommitFiberRoot=="function")try{We.onCommitFiberRoot(je,m,void 0,(m.current.flags&128)===128)}catch{}if(j!==null){m=W.T,P=H.p,H.p=2,W.T=null;try{for(var $=d.onRecoverableError,ee=0;ee<j.length;ee++){var Se=j[ee];$(Se.value,{componentStack:Se.stack})}}finally{W.T=m,H.p=P}}(Xd&3)!==0&&J1(),Ru(d),P=d.pendingLanes,(x&261930)!==0&&(P&42)!==0?d===_k?yb++:(yb=0,_k=d):yb=0,vb(0)}}function c7(d,m){(d.pooledCacheLanes&=m)===0&&(m=d.pooledCache,m!=null&&(d.pooledCache=null,Rm(m)))}function J1(){return i7(),o7(),l7(),u7()}function u7(){if(gi!==5)return!1;var d=wh,m=kk;kk=0;var x=Vt(Xd),j=W.T,P=H.p;try{H.p=32>x?32:x,W.T=null,x=Ck,Ck=null;var $=wh,ee=Xd;if(gi=0,B0=wh=null,Xd=0,(Qn&6)!==0)throw Error(n(331));var Se=Qn;if(Qn|=4,W8($.current),z8($,$.current,ee,x),Qn=Se,vb(0,!1),We&&typeof We.onPostCommitFiberRoot=="function")try{We.onPostCommitFiberRoot(je,$)}catch{}return!0}finally{H.p=P,W.T=j,c7(d,m)}}function d7(d,m,x){m=Yo(x,m),m=sk(d.stateNode,m,2),d=dn(d,m,2),d!==null&&(et(d,2),Ru(d))}function da(d,m,x){if(d.tag===3)d7(d,d,x);else for(;m!==null;){if(m.tag===3){d7(m,d,x);break}else if(m.tag===1){var j=m.stateNode;if(typeof m.type.getDerivedStateFromError=="function"||typeof j.componentDidCatch=="function"&&(vh===null||!vh.has(j))){d=Yo(x,d),x=f8(2),j=dn(m,x,2),j!==null&&(h8(x,j,m,d),et(j,2),Ru(j));break}}m=m.return}}function Mk(d,m,x){var j=d.pingCache;if(j===null){j=d.pingCache=new sie;var P=new Set;j.set(m,P)}else P=j.get(m),P===void 0&&(P=new Set,j.set(m,P));P.has(x)||(jk=!0,P.add(x),d=uie.bind(null,d,m,x),m.then(d,d))}function uie(d,m,x){var j=d.pingCache;j!==null&&j.delete(m),d.pingedLanes|=d.suspendedLanes&x,d.warmLanes&=~x,Ta===d&&(En&x)===x&&(Ns===4||Ns===3&&(En&62914560)===En&&300>le()-U1?(Qn&2)===0&&$0(d,0):Nk|=x,F0===En&&(F0=0)),Ru(d)}function f7(d,m){m===0&&(m=$e()),d=$c(d,m),d!==null&&(et(d,m),Ru(d))}function die(d){var m=d.memoizedState,x=0;m!==null&&(x=m.retryLane),f7(d,x)}function fie(d,m){var x=0;switch(d.tag){case 31:case 13:var j=d.stateNode,P=d.memoizedState;P!==null&&(x=P.retryLane);break;case 19:j=d.stateNode;break;case 22:j=d.stateNode._retryCache;break;default:throw Error(n(314))}j!==null&&j.delete(m),f7(d,x)}function hie(d,m){return qe(d,m)}var X1=null,z0=null,Ek=!1,Q1=!1,Ok=!1,Nh=0;function Ru(d){d!==z0&&d.next===null&&(z0===null?X1=z0=d:z0=z0.next=d),Q1=!0,Ek||(Ek=!0,pie())}function vb(d,m){if(!Ok&&Q1){Ok=!0;do for(var x=!1,j=X1;j!==null;){if(d!==0){var P=j.pendingLanes;if(P===0)var $=0;else{var ee=j.suspendedLanes,Se=j.pingedLanes;$=(1<<31-ve(42|d)+1)-1,$&=P&~(ee&~Se),$=$&201326741?$&201326741|1:$?$|2:0}$!==0&&(x=!0,g7(j,$))}else $=En,$=Xe(j,j===Ta?$:0,j.cancelPendingCommit!==null||j.timeoutHandle!==-1),($&3)===0||lt(j,$)||(x=!0,g7(j,$));j=j.next}while(x);Ok=!1}}function mie(){h7()}function h7(){Q1=Ek=!1;var d=0;Nh!==0&&kie()&&(d=Nh);for(var m=le(),x=null,j=X1;j!==null;){var P=j.next,$=m7(j,m);$===0?(j.next=null,x===null?X1=P:x.next=P,P===null&&(z0=x)):(x=j,(d!==0||($&3)!==0)&&(Q1=!0)),j=P}gi!==0&&gi!==5||vb(d),Nh!==0&&(Nh=0)}function m7(d,m){for(var x=d.suspendedLanes,j=d.pingedLanes,P=d.expirationTimes,$=d.pendingLanes&-62914561;0<$;){var ee=31-ve($),Se=1<<ee,Ye=P[ee];Ye===-1?((Se&x)===0||(Se&j)!==0)&&(P[ee]=wt(Se,m)):Ye<=m&&(d.expiredLanes|=Se),$&=~Se}if(m=Ta,x=En,x=Xe(d,d===m?x:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),j=d.callbackNode,x===0||d===m&&(ua===2||ua===9)||d.cancelPendingCommit!==null)return j!==null&&j!==null&&tt(j),d.callbackNode=null,d.callbackPriority=0;if((x&3)===0||lt(d,x)){if(m=x&-x,m===d.callbackPriority)return m;switch(j!==null&&tt(j),Vt(x)){case 2:case 8:x=ut;break;case 32:x=Pe;break;case 268435456:x=ze;break;default:x=Pe}return j=p7.bind(null,d),x=qe(x,j),d.callbackPriority=m,d.callbackNode=x,m}return j!==null&&j!==null&&tt(j),d.callbackPriority=2,d.callbackNode=null,2}function p7(d,m){if(gi!==0&&gi!==5)return d.callbackNode=null,d.callbackPriority=0,null;var x=d.callbackNode;if(J1()&&d.callbackNode!==x)return null;var j=En;return j=Xe(d,d===Ta?j:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),j===0?null:(J8(d,j,m),m7(d,le()),d.callbackNode!=null&&d.callbackNode===x?p7.bind(null,d):null)}function g7(d,m){if(J1())return null;J8(d,m,!0)}function pie(){_ie(function(){(Qn&6)!==0?qe(Ge,mie):h7()})}function Dk(){if(Nh===0){var d=C;d===0&&(d=st,st<<=1,(st&261888)===0&&(st=256)),Nh=d}return Nh}function x7(d){return d==null||typeof d=="symbol"||typeof d=="boolean"?null:typeof d=="function"?d:ne(""+d)}function b7(d,m){var x=m.ownerDocument.createElement("input");return x.name=m.name,x.value=m.value,d.id&&x.setAttribute("form",d.id),m.parentNode.insertBefore(x,m),d=new FormData(d),x.parentNode.removeChild(x),d}function gie(d,m,x,j,P){if(m==="submit"&&x&&x.stateNode===P){var $=x7((P[Wr]||null).action),ee=j.submitter;ee&&(m=(m=ee[Wr]||null)?x7(m.formAction):ee.getAttribute("formAction"),m!==null&&($=m,ee=null));var Se=new Fl("action","action",null,j,P);d.push({event:Se,listeners:[{instance:null,listener:function(){if(j.defaultPrevented){if(Nh!==0){var Ye=ee?b7(P,ee):new FormData(P);ZS(x,{pending:!0,data:Ye,method:P.method,action:$},null,Ye)}}else typeof $=="function"&&(Se.preventDefault(),Ye=ee?b7(P,ee):new FormData(P),ZS(x,{pending:!0,data:Ye,method:P.method,action:$},$,Ye))},currentTarget:P}]})}}for(var Pk=0;Pk<Rd.length;Pk++){var Lk=Rd[Pk],xie=Lk.toLowerCase(),bie=Lk[0].toUpperCase()+Lk.slice(1);Vo(xie,"on"+bie)}Vo(Ld,"onAnimationEnd"),Vo(Am,"onAnimationIteration"),Vo(Kx,"onAnimationStart"),Vo("dblclick","onDoubleClick"),Vo("focusin","onFocus"),Vo("focusout","onBlur"),Vo(N1,"onTransitionRun"),Vo(S1,"onTransitionStart"),Vo(k1,"onTransitionCancel"),Vo(Jx,"onTransitionEnd"),Br("onMouseEnter",["mouseout","mouseover"]),Br("onMouseLeave",["mouseout","mouseover"]),Br("onPointerEnter",["pointerout","pointerover"]),Br("onPointerLeave",["pointerout","pointerover"]),dr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),dr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),dr("onBeforeInput",["compositionend","keypress","textInput","paste"]),dr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),dr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),dr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wb="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yie=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wb));function y7(d,m){m=(m&4)!==0;for(var x=0;x<d.length;x++){var j=d[x],P=j.event;j=j.listeners;e:{var $=void 0;if(m)for(var ee=j.length-1;0<=ee;ee--){var Se=j[ee],Ye=Se.instance,Nt=Se.currentTarget;if(Se=Se.listener,Ye!==$&&P.isPropagationStopped())break e;$=Se,P.currentTarget=Nt;try{$(P)}catch(Ot){Tm(Ot)}P.currentTarget=null,$=Ye}else for(ee=0;ee<j.length;ee++){if(Se=j[ee],Ye=Se.instance,Nt=Se.currentTarget,Se=Se.listener,Ye!==$&&P.isPropagationStopped())break e;$=Se,P.currentTarget=Nt;try{$(P)}catch(Ot){Tm(Ot)}P.currentTarget=null,$=Ye}}}}function _n(d,m){var x=m[Zt];x===void 0&&(x=m[Zt]=new Set);var j=d+"__bubble";x.has(j)||(v7(m,d,2,!1),x.add(j))}function Rk(d,m,x){var j=0;m&&(j|=4),v7(x,d,j,m)}var Z1="_reactListening"+Math.random().toString(36).slice(2);function Ik(d){if(!d[Z1]){d[Z1]=!0,Er.forEach(function(x){x!=="selectionchange"&&(yie.has(x)||Rk(x,!1,d),Rk(x,!0,d))});var m=d.nodeType===9?d:d.ownerDocument;m===null||m[Z1]||(m[Z1]=!0,Rk("selectionchange",!1,m))}}function v7(d,m,x,j){switch(K7(m)){case 2:var P=Gie;break;case 8:P=Yie;break;default:P=Qk}x=P.bind(null,m,x,d),P=void 0,!km||m!=="touchstart"&&m!=="touchmove"&&m!=="wheel"||(P=!0),j?P!==void 0?d.addEventListener(m,x,{capture:!0,passive:P}):d.addEventListener(m,x,!0):P!==void 0?d.addEventListener(m,x,{passive:P}):d.addEventListener(m,x,!1)}function Fk(d,m,x,j,P){var $=j;if((m&1)===0&&(m&2)===0&&j!==null)e:for(;;){if(j===null)return;var ee=j.tag;if(ee===3||ee===4){var Se=j.stateNode.containerInfo;if(Se===P)break;if(ee===4)for(ee=j.return;ee!==null;){var Ye=ee.tag;if((Ye===3||Ye===4)&&ee.stateNode.containerInfo===P)return;ee=ee.return}for(;Se!==null;){if(ee=kt(Se),ee===null)return;if(Ye=ee.tag,Ye===5||Ye===6||Ye===26||Ye===27){j=$=ee;continue e}Se=Se.parentNode}}j=j.return}_c(function(){var Nt=$,Ot=an(x),Bt=[];e:{var St=Xx.get(d);if(St!==void 0){var _t=Fl,vr=d;switch(d){case"keypress":if(Ac(x)===0)break e;case"keydown":case"keyup":_t=qn;break;case"focusin":vr="focus",_t=Oc;break;case"focusout":vr="blur",_t=Oc;break;case"beforeblur":case"afterblur":_t=Oc;break;case"click":if(x.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_t=Bl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_t=c0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_t=Ls;break;case Ld:case Am:case Kx:_t=U;break;case Jx:_t=li;break;case"scroll":case"scrollend":_t=Zf;break;case"wheel":_t=to;break;case"copy":case"cut":case"paste":_t=Be;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_t=is;break;case"toggle":case"beforetoggle":_t=eh}var qr=(m&4)!==0,ka=!qr&&(d==="scroll"||d==="scrollend"),ht=qr?St!==null?St+"Capture":null:St;qr=[];for(var at=Nt,jt;at!==null;){var It=at;if(jt=It.stateNode,It=It.tag,It!==5&&It!==26&&It!==27||jt===null||ht===null||(It=eo(at,ht),It!=null&&qr.push(jb(at,It,jt))),ka)break;at=at.return}0<qr.length&&(St=new _t(St,vr,null,x,Ot),Bt.push({event:St,listeners:qr}))}}if((m&7)===0){e:{if(St=d==="mouseover"||d==="pointerover",_t=d==="mouseout"||d==="pointerout",St&&x!==Kt&&(vr=x.relatedTarget||x.fromElement)&&(kt(vr)||vr[Kr]))break e;if((_t||St)&&(St=Ot.window===Ot?Ot:(St=Ot.ownerDocument)?St.defaultView||St.parentWindow:window,_t?(vr=x.relatedTarget||x.toElement,_t=Nt,vr=vr?kt(vr):null,vr!==null&&(ka=i(vr),qr=vr.tag,vr!==ka||qr!==5&&qr!==27&&qr!==6)&&(vr=null)):(_t=null,vr=Nt),_t!==vr)){if(qr=Bl,It="onMouseLeave",ht="onMouseEnter",at="mouse",(d==="pointerout"||d==="pointerover")&&(qr=is,It="onPointerLeave",ht="onPointerEnter",at="pointer"),ka=_t==null?St:Xr(_t),jt=vr==null?St:Xr(vr),St=new qr(It,at+"leave",_t,x,Ot),St.target=ka,St.relatedTarget=jt,It=null,kt(Ot)===Nt&&(qr=new qr(ht,at+"enter",vr,x,Ot),qr.target=jt,qr.relatedTarget=ka,It=qr),ka=It,_t&&vr)t:{for(qr=vie,ht=_t,at=vr,jt=0,It=ht;It;It=qr(It))jt++;It=0;for(var Pr=at;Pr;Pr=qr(Pr))It++;for(;0<jt-It;)ht=qr(ht),jt--;for(;0<It-jt;)at=qr(at),It--;for(;jt--;){if(ht===at||at!==null&&ht===at.alternate){qr=ht;break t}ht=qr(ht),at=qr(at)}qr=null}else qr=null;_t!==null&&w7(Bt,St,_t,qr,!1),vr!==null&&ka!==null&&w7(Bt,ka,vr,qr,!0)}}e:{if(St=Nt?Xr(Nt):window,_t=St.nodeName&&St.nodeName.toLowerCase(),_t==="select"||_t==="input"&&St.type==="file")var Gn=Nu;else if(Cm(St))if(ro)Gn=Ul;else{Gn=ls;var kr=ah}else _t=St.nodeName,!_t||_t.toLowerCase()!=="input"||St.type!=="checkbox"&&St.type!=="radio"?Nt&&kd(Nt.elementType)&&(Gn=Nu):Gn=h0;if(Gn&&(Gn=Gn(d,Nt))){So(Bt,Gn,x,Ot);break e}kr&&kr(d,St,Nt),d==="focusout"&&Nt&&St.type==="number"&&Nt.memoizedProps.value!=null&&wd(St,"number",St.value)}switch(kr=Nt?Xr(Nt):window,d){case"focusin":(Cm(kr)||kr.contentEditable==="true")&&(ko=kr,Bc=Nt,ji=null);break;case"focusout":ji=Bc=ko=null;break;case"mousedown":Wo=!0;break;case"contextmenu":case"mouseup":case"dragend":Wo=!1,Un(Bt,x,Ot);break;case"selectionchange":if(Pd)break;case"keydown":case"keyup":Un(Bt,x,Ot)}var pn;if($l)e:{switch(d){case"compositionstart":var On="onCompositionStart";break e;case"compositionend":On="onCompositionEnd";break e;case"compositionupdate":On="onCompositionUpdate";break e}On=void 0}else Hl?ju(d,x)&&(On="onCompositionEnd"):d==="keydown"&&x.keyCode===229&&(On="onCompositionStart");On&&(vu&&x.locale!=="ko"&&(Hl||On!=="onCompositionStart"?On==="onCompositionEnd"&&Hl&&(pn=Td()):(jo=Ot,Ad="value"in jo?jo.value:jo.textContent,Hl=!0)),kr=ew(Nt,On),0<kr.length&&(On=new ft(On,d,null,x,Ot),Bt.push({event:On,listeners:kr}),pn?On.data=pn:(pn=th(x),pn!==null&&(On.data=pn)))),(pn=Dd?Xa(d,x):Dc(d,x))&&(On=ew(Nt,"onBeforeInput"),0<On.length&&(kr=new ft("onBeforeInput","beforeinput",null,x,Ot),Bt.push({event:kr,listeners:On}),kr.data=pn)),gie(Bt,d,Nt,x,Ot)}y7(Bt,m)})}function jb(d,m,x){return{instance:d,listener:m,currentTarget:x}}function ew(d,m){for(var x=m+"Capture",j=[];d!==null;){var P=d,$=P.stateNode;if(P=P.tag,P!==5&&P!==26&&P!==27||$===null||(P=eo(d,x),P!=null&&j.unshift(jb(d,P,$)),P=eo(d,m),P!=null&&j.push(jb(d,P,$))),d.tag===3)return j;d=d.return}return[]}function vie(d){if(d===null)return null;do d=d.return;while(d&&d.tag!==5&&d.tag!==27);return d||null}function w7(d,m,x,j,P){for(var $=m._reactName,ee=[];x!==null&&x!==j;){var Se=x,Ye=Se.alternate,Nt=Se.stateNode;if(Se=Se.tag,Ye!==null&&Ye===j)break;Se!==5&&Se!==26&&Se!==27||Nt===null||(Ye=Nt,P?(Nt=eo(x,$),Nt!=null&&ee.unshift(jb(x,Nt,Ye))):P||(Nt=eo(x,$),Nt!=null&&ee.push(jb(x,Nt,Ye)))),x=x.return}ee.length!==0&&d.push({event:m,listeners:ee})}var wie=/\r\n?/g,jie=/\u0000|\uFFFD/g;function j7(d){return(typeof d=="string"?d:""+d).replace(wie,`
`).replace(jie,"")}function N7(d,m){return m=j7(m),j7(d)===m}function Sa(d,m,x,j,P,$){switch(x){case"children":typeof j=="string"?m==="body"||m==="textarea"&&j===""||Ii(d,j):(typeof j=="number"||typeof j=="bigint")&&m!=="body"&&Ii(d,""+j);break;case"className":Mn(d,"class",j);break;case"tabIndex":Mn(d,"tabindex",j);break;case"dir":case"role":case"viewBox":case"width":case"height":Mn(d,x,j);break;case"style":Jf(d,j,$);break;case"data":if(m!=="object"){Mn(d,"data",j);break}case"src":case"href":if(j===""&&(m!=="a"||x!=="href")){d.removeAttribute(x);break}if(j==null||typeof j=="function"||typeof j=="symbol"||typeof j=="boolean"){d.removeAttribute(x);break}j=ne(""+j),d.setAttribute(x,j);break;case"action":case"formAction":if(typeof j=="function"){d.setAttribute(x,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof $=="function"&&(x==="formAction"?(m!=="input"&&Sa(d,m,"name",P.name,P,null),Sa(d,m,"formEncType",P.formEncType,P,null),Sa(d,m,"formMethod",P.formMethod,P,null),Sa(d,m,"formTarget",P.formTarget,P,null)):(Sa(d,m,"encType",P.encType,P,null),Sa(d,m,"method",P.method,P,null),Sa(d,m,"target",P.target,P,null)));if(j==null||typeof j=="symbol"||typeof j=="boolean"){d.removeAttribute(x);break}j=ne(""+j),d.setAttribute(x,j);break;case"onClick":j!=null&&(d.onclick=He);break;case"onScroll":j!=null&&_n("scroll",d);break;case"onScrollEnd":j!=null&&_n("scrollend",d);break;case"dangerouslySetInnerHTML":if(j!=null){if(typeof j!="object"||!("__html"in j))throw Error(n(61));if(x=j.__html,x!=null){if(P.children!=null)throw Error(n(60));d.innerHTML=x}}break;case"multiple":d.multiple=j&&typeof j!="function"&&typeof j!="symbol";break;case"muted":d.muted=j&&typeof j!="function"&&typeof j!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(j==null||typeof j=="function"||typeof j=="boolean"||typeof j=="symbol"){d.removeAttribute("xlink:href");break}x=ne(""+j),d.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",x);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":j!=null&&typeof j!="function"&&typeof j!="symbol"?d.setAttribute(x,""+j):d.removeAttribute(x);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":j&&typeof j!="function"&&typeof j!="symbol"?d.setAttribute(x,""):d.removeAttribute(x);break;case"capture":case"download":j===!0?d.setAttribute(x,""):j!==!1&&j!=null&&typeof j!="function"&&typeof j!="symbol"?d.setAttribute(x,j):d.removeAttribute(x);break;case"cols":case"rows":case"size":case"span":j!=null&&typeof j!="function"&&typeof j!="symbol"&&!isNaN(j)&&1<=j?d.setAttribute(x,j):d.removeAttribute(x);break;case"rowSpan":case"start":j==null||typeof j=="function"||typeof j=="symbol"||isNaN(j)?d.removeAttribute(x):d.setAttribute(x,j);break;case"popover":_n("beforetoggle",d),_n("toggle",d),Sn(d,"popover",j);break;case"xlinkActuate":en(d,"http://www.w3.org/1999/xlink","xlink:actuate",j);break;case"xlinkArcrole":en(d,"http://www.w3.org/1999/xlink","xlink:arcrole",j);break;case"xlinkRole":en(d,"http://www.w3.org/1999/xlink","xlink:role",j);break;case"xlinkShow":en(d,"http://www.w3.org/1999/xlink","xlink:show",j);break;case"xlinkTitle":en(d,"http://www.w3.org/1999/xlink","xlink:title",j);break;case"xlinkType":en(d,"http://www.w3.org/1999/xlink","xlink:type",j);break;case"xmlBase":en(d,"http://www.w3.org/XML/1998/namespace","xml:base",j);break;case"xmlLang":en(d,"http://www.w3.org/XML/1998/namespace","xml:lang",j);break;case"xmlSpace":en(d,"http://www.w3.org/XML/1998/namespace","xml:space",j);break;case"is":Sn(d,"is",j);break;case"innerText":case"textContent":break;default:(!(2<x.length)||x[0]!=="o"&&x[0]!=="O"||x[1]!=="n"&&x[1]!=="N")&&(x=Cd.get(x)||x,Sn(d,x,j))}}function Bk(d,m,x,j,P,$){switch(x){case"style":Jf(d,j,$);break;case"dangerouslySetInnerHTML":if(j!=null){if(typeof j!="object"||!("__html"in j))throw Error(n(61));if(x=j.__html,x!=null){if(P.children!=null)throw Error(n(60));d.innerHTML=x}}break;case"children":typeof j=="string"?Ii(d,j):(typeof j=="number"||typeof j=="bigint")&&Ii(d,""+j);break;case"onScroll":j!=null&&_n("scroll",d);break;case"onScrollEnd":j!=null&&_n("scrollend",d);break;case"onClick":j!=null&&(d.onclick=He);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Nr.hasOwnProperty(x))e:{if(x[0]==="o"&&x[1]==="n"&&(P=x.endsWith("Capture"),m=x.slice(2,P?x.length-7:void 0),$=d[Wr]||null,$=$!=null?$[x]:null,typeof $=="function"&&d.removeEventListener(m,$,P),typeof j=="function")){typeof $!="function"&&$!==null&&(x in d?d[x]=null:d.hasAttribute(x)&&d.removeAttribute(x)),d.addEventListener(m,j,P);break e}x in d?d[x]=j:j===!0?d.setAttribute(x,""):Sn(d,x,j)}}}function zi(d,m,x){switch(m){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":_n("error",d),_n("load",d);var j=!1,P=!1,$;for($ in x)if(x.hasOwnProperty($)){var ee=x[$];if(ee!=null)switch($){case"src":j=!0;break;case"srcSet":P=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,m));default:Sa(d,m,$,ee,x,null)}}P&&Sa(d,m,"srcSet",x.srcSet,x,null),j&&Sa(d,m,"src",x.src,x,null);return;case"input":_n("invalid",d);var Se=$=ee=P=null,Ye=null,Nt=null;for(j in x)if(x.hasOwnProperty(j)){var Ot=x[j];if(Ot!=null)switch(j){case"name":P=Ot;break;case"type":ee=Ot;break;case"checked":Ye=Ot;break;case"defaultChecked":Nt=Ot;break;case"value":$=Ot;break;case"defaultValue":Se=Ot;break;case"children":case"dangerouslySetInnerHTML":if(Ot!=null)throw Error(n(137,m));break;default:Sa(d,m,j,Ot,x,null)}}Yf(d,$,Se,Ye,Nt,ee,P,!1);return;case"select":_n("invalid",d),j=ee=$=null;for(P in x)if(x.hasOwnProperty(P)&&(Se=x[P],Se!=null))switch(P){case"value":$=Se;break;case"defaultValue":ee=Se;break;case"multiple":j=Se;default:Sa(d,m,P,Se,x,null)}m=$,x=ee,d.multiple=!!j,m!=null?ii(d,!!j,m,!1):x!=null&&ii(d,!!j,x,!0);return;case"textarea":_n("invalid",d),$=P=j=null;for(ee in x)if(x.hasOwnProperty(ee)&&(Se=x[ee],Se!=null))switch(ee){case"value":j=Se;break;case"defaultValue":P=Se;break;case"children":$=Se;break;case"dangerouslySetInnerHTML":if(Se!=null)throw Error(n(91));break;default:Sa(d,m,ee,Se,x,null)}Nd(d,j,P,$);return;case"option":for(Ye in x)if(x.hasOwnProperty(Ye)&&(j=x[Ye],j!=null))switch(Ye){case"selected":d.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:Sa(d,m,Ye,j,x,null)}return;case"dialog":_n("beforetoggle",d),_n("toggle",d),_n("cancel",d),_n("close",d);break;case"iframe":case"object":_n("load",d);break;case"video":case"audio":for(j=0;j<wb.length;j++)_n(wb[j],d);break;case"image":_n("error",d),_n("load",d);break;case"details":_n("toggle",d);break;case"embed":case"source":case"link":_n("error",d),_n("load",d);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Nt in x)if(x.hasOwnProperty(Nt)&&(j=x[Nt],j!=null))switch(Nt){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,m));default:Sa(d,m,Nt,j,x,null)}return;default:if(kd(m)){for(Ot in x)x.hasOwnProperty(Ot)&&(j=x[Ot],j!==void 0&&Bk(d,m,Ot,j,x,void 0));return}}for(Se in x)x.hasOwnProperty(Se)&&(j=x[Se],j!=null&&Sa(d,m,Se,j,x,null))}function Nie(d,m,x,j){switch(m){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var P=null,$=null,ee=null,Se=null,Ye=null,Nt=null,Ot=null;for(_t in x){var Bt=x[_t];if(x.hasOwnProperty(_t)&&Bt!=null)switch(_t){case"checked":break;case"value":break;case"defaultValue":Ye=Bt;default:j.hasOwnProperty(_t)||Sa(d,m,_t,null,j,Bt)}}for(var St in j){var _t=j[St];if(Bt=x[St],j.hasOwnProperty(St)&&(_t!=null||Bt!=null))switch(St){case"type":$=_t;break;case"name":P=_t;break;case"checked":Nt=_t;break;case"defaultChecked":Ot=_t;break;case"value":ee=_t;break;case"defaultValue":Se=_t;break;case"children":case"dangerouslySetInnerHTML":if(_t!=null)throw Error(n(137,m));break;default:_t!==Bt&&Sa(d,m,St,_t,j,Bt)}}vd(d,ee,Se,Ye,Nt,Ot,$,P);return;case"select":_t=ee=Se=St=null;for($ in x)if(Ye=x[$],x.hasOwnProperty($)&&Ye!=null)switch($){case"value":break;case"multiple":_t=Ye;default:j.hasOwnProperty($)||Sa(d,m,$,null,j,Ye)}for(P in j)if($=j[P],Ye=x[P],j.hasOwnProperty(P)&&($!=null||Ye!=null))switch(P){case"value":St=$;break;case"defaultValue":Se=$;break;case"multiple":ee=$;default:$!==Ye&&Sa(d,m,P,$,j,Ye)}m=Se,x=ee,j=_t,St!=null?ii(d,!!x,St,!1):!!j!=!!x&&(m!=null?ii(d,!!x,m,!0):ii(d,!!x,x?[]:"",!1));return;case"textarea":_t=St=null;for(Se in x)if(P=x[Se],x.hasOwnProperty(Se)&&P!=null&&!j.hasOwnProperty(Se))switch(Se){case"value":break;case"children":break;default:Sa(d,m,Se,null,j,P)}for(ee in j)if(P=j[ee],$=x[ee],j.hasOwnProperty(ee)&&(P!=null||$!=null))switch(ee){case"value":St=P;break;case"defaultValue":_t=P;break;case"children":break;case"dangerouslySetInnerHTML":if(P!=null)throw Error(n(91));break;default:P!==$&&Sa(d,m,ee,P,j,$)}jd(d,St,_t);return;case"option":for(var vr in x)if(St=x[vr],x.hasOwnProperty(vr)&&St!=null&&!j.hasOwnProperty(vr))switch(vr){case"selected":d.selected=!1;break;default:Sa(d,m,vr,null,j,St)}for(Ye in j)if(St=j[Ye],_t=x[Ye],j.hasOwnProperty(Ye)&&St!==_t&&(St!=null||_t!=null))switch(Ye){case"selected":d.selected=St&&typeof St!="function"&&typeof St!="symbol";break;default:Sa(d,m,Ye,St,j,_t)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var qr in x)St=x[qr],x.hasOwnProperty(qr)&&St!=null&&!j.hasOwnProperty(qr)&&Sa(d,m,qr,null,j,St);for(Nt in j)if(St=j[Nt],_t=x[Nt],j.hasOwnProperty(Nt)&&St!==_t&&(St!=null||_t!=null))switch(Nt){case"children":case"dangerouslySetInnerHTML":if(St!=null)throw Error(n(137,m));break;default:Sa(d,m,Nt,St,j,_t)}return;default:if(kd(m)){for(var ka in x)St=x[ka],x.hasOwnProperty(ka)&&St!==void 0&&!j.hasOwnProperty(ka)&&Bk(d,m,ka,void 0,j,St);for(Ot in j)St=j[Ot],_t=x[Ot],!j.hasOwnProperty(Ot)||St===_t||St===void 0&&_t===void 0||Bk(d,m,Ot,St,j,_t);return}}for(var ht in x)St=x[ht],x.hasOwnProperty(ht)&&St!=null&&!j.hasOwnProperty(ht)&&Sa(d,m,ht,null,j,St);for(Bt in j)St=j[Bt],_t=x[Bt],!j.hasOwnProperty(Bt)||St===_t||St==null&&_t==null||Sa(d,m,Bt,St,j,_t)}function S7(d){switch(d){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Sie(){if(typeof performance.getEntriesByType=="function"){for(var d=0,m=0,x=performance.getEntriesByType("resource"),j=0;j<x.length;j++){var P=x[j],$=P.transferSize,ee=P.initiatorType,Se=P.duration;if($&&Se&&S7(ee)){for(ee=0,Se=P.responseEnd,j+=1;j<x.length;j++){var Ye=x[j],Nt=Ye.startTime;if(Nt>Se)break;var Ot=Ye.transferSize,Bt=Ye.initiatorType;Ot&&S7(Bt)&&(Ye=Ye.responseEnd,ee+=Ot*(Ye<Se?1:(Se-Nt)/(Ye-Nt)))}if(--j,m+=8*($+ee)/(P.duration/1e3),d++,10<d)break}}if(0<d)return m/d/1e6}return navigator.connection&&(d=navigator.connection.downlink,typeof d=="number")?d:5}var $k=null,Hk=null;function tw(d){return d.nodeType===9?d:d.ownerDocument}function k7(d){switch(d){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function C7(d,m){if(d===0)switch(m){case"svg":return 1;case"math":return 2;default:return 0}return d===1&&m==="foreignObject"?0:d}function zk(d,m){return d==="textarea"||d==="noscript"||typeof m.children=="string"||typeof m.children=="number"||typeof m.children=="bigint"||typeof m.dangerouslySetInnerHTML=="object"&&m.dangerouslySetInnerHTML!==null&&m.dangerouslySetInnerHTML.__html!=null}var qk=null;function kie(){var d=window.event;return d&&d.type==="popstate"?d===qk?!1:(qk=d,!0):(qk=null,!1)}var _7=typeof setTimeout=="function"?setTimeout:void 0,Cie=typeof clearTimeout=="function"?clearTimeout:void 0,A7=typeof Promise=="function"?Promise:void 0,_ie=typeof queueMicrotask=="function"?queueMicrotask:typeof A7<"u"?function(d){return A7.resolve(null).then(d).catch(Aie)}:_7;function Aie(d){setTimeout(function(){throw d})}function Sh(d){return d==="head"}function T7(d,m){var x=m,j=0;do{var P=x.nextSibling;if(d.removeChild(x),P&&P.nodeType===8)if(x=P.data,x==="/$"||x==="/&"){if(j===0){d.removeChild(P),V0(m);return}j--}else if(x==="$"||x==="$?"||x==="$~"||x==="$!"||x==="&")j++;else if(x==="html")Nb(d.ownerDocument.documentElement);else if(x==="head"){x=d.ownerDocument.head,Nb(x);for(var $=x.firstChild;$;){var ee=$.nextSibling,Se=$.nodeName;$[he]||Se==="SCRIPT"||Se==="STYLE"||Se==="LINK"&&$.rel.toLowerCase()==="stylesheet"||x.removeChild($),$=ee}}else x==="body"&&Nb(d.ownerDocument.body);x=P}while(x);V0(m)}function M7(d,m){var x=d;d=0;do{var j=x.nextSibling;if(x.nodeType===1?m?(x._stashedDisplay=x.style.display,x.style.display="none"):(x.style.display=x._stashedDisplay||"",x.getAttribute("style")===""&&x.removeAttribute("style")):x.nodeType===3&&(m?(x._stashedText=x.nodeValue,x.nodeValue=""):x.nodeValue=x._stashedText||""),j&&j.nodeType===8)if(x=j.data,x==="/$"){if(d===0)break;d--}else x!=="$"&&x!=="$?"&&x!=="$~"&&x!=="$!"||d++;x=j}while(x)}function Uk(d){var m=d.firstChild;for(m&&m.nodeType===10&&(m=m.nextSibling);m;){var x=m;switch(m=m.nextSibling,x.nodeName){case"HTML":case"HEAD":case"BODY":Uk(x),it(x);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(x.rel.toLowerCase()==="stylesheet")continue}d.removeChild(x)}}function Tie(d,m,x,j){for(;d.nodeType===1;){var P=x;if(d.nodeName.toLowerCase()!==m.toLowerCase()){if(!j&&(d.nodeName!=="INPUT"||d.type!=="hidden"))break}else if(j){if(!d[he])switch(m){case"meta":if(!d.hasAttribute("itemprop"))break;return d;case"link":if($=d.getAttribute("rel"),$==="stylesheet"&&d.hasAttribute("data-precedence"))break;if($!==P.rel||d.getAttribute("href")!==(P.href==null||P.href===""?null:P.href)||d.getAttribute("crossorigin")!==(P.crossOrigin==null?null:P.crossOrigin)||d.getAttribute("title")!==(P.title==null?null:P.title))break;return d;case"style":if(d.hasAttribute("data-precedence"))break;return d;case"script":if($=d.getAttribute("src"),($!==(P.src==null?null:P.src)||d.getAttribute("type")!==(P.type==null?null:P.type)||d.getAttribute("crossorigin")!==(P.crossOrigin==null?null:P.crossOrigin))&&$&&d.hasAttribute("async")&&!d.hasAttribute("itemprop"))break;return d;default:return d}}else if(m==="input"&&d.type==="hidden"){var $=P.name==null?null:""+P.name;if(P.type==="hidden"&&d.getAttribute("name")===$)return d}else return d;if(d=Xl(d.nextSibling),d===null)break}return null}function Mie(d,m,x){if(m==="")return null;for(;d.nodeType!==3;)if((d.nodeType!==1||d.nodeName!=="INPUT"||d.type!=="hidden")&&!x||(d=Xl(d.nextSibling),d===null))return null;return d}function E7(d,m){for(;d.nodeType!==8;)if((d.nodeType!==1||d.nodeName!=="INPUT"||d.type!=="hidden")&&!m||(d=Xl(d.nextSibling),d===null))return null;return d}function Wk(d){return d.data==="$?"||d.data==="$~"}function Vk(d){return d.data==="$!"||d.data==="$?"&&d.ownerDocument.readyState!=="loading"}function Eie(d,m){var x=d.ownerDocument;if(d.data==="$~")d._reactRetry=m;else if(d.data!=="$?"||x.readyState!=="loading")m();else{var j=function(){m(),x.removeEventListener("DOMContentLoaded",j)};x.addEventListener("DOMContentLoaded",j),d._reactRetry=j}}function Xl(d){for(;d!=null;d=d.nextSibling){var m=d.nodeType;if(m===1||m===3)break;if(m===8){if(m=d.data,m==="$"||m==="$!"||m==="$?"||m==="$~"||m==="&"||m==="F!"||m==="F")break;if(m==="/$"||m==="/&")return null}}return d}var Gk=null;function O7(d){d=d.nextSibling;for(var m=0;d;){if(d.nodeType===8){var x=d.data;if(x==="/$"||x==="/&"){if(m===0)return Xl(d.nextSibling);m--}else x!=="$"&&x!=="$!"&&x!=="$?"&&x!=="$~"&&x!=="&"||m++}d=d.nextSibling}return null}function D7(d){d=d.previousSibling;for(var m=0;d;){if(d.nodeType===8){var x=d.data;if(x==="$"||x==="$!"||x==="$?"||x==="$~"||x==="&"){if(m===0)return d;m--}else x!=="/$"&&x!=="/&"||m++}d=d.previousSibling}return null}function P7(d,m,x){switch(m=tw(x),d){case"html":if(d=m.documentElement,!d)throw Error(n(452));return d;case"head":if(d=m.head,!d)throw Error(n(453));return d;case"body":if(d=m.body,!d)throw Error(n(454));return d;default:throw Error(n(451))}}function Nb(d){for(var m=d.attributes;m.length;)d.removeAttributeNode(m[0]);it(d)}var Ql=new Map,L7=new Set;function rw(d){return typeof d.getRootNode=="function"?d.getRootNode():d.nodeType===9?d:d.ownerDocument}var Qd=H.d;H.d={f:Oie,r:Die,D:Pie,C:Lie,L:Rie,m:Iie,X:Bie,S:Fie,M:$ie};function Oie(){var d=Qd.f(),m=G1();return d||m}function Die(d){var m=cr(d);m!==null&&m.tag===5&&m.type==="form"?QL(m):Qd.r(d)}var q0=typeof document>"u"?null:document;function R7(d,m,x){var j=q0;if(j&&typeof m=="string"&&m){var P=Vs(m);P='link[rel="'+d+'"][href="'+P+'"]',typeof x=="string"&&(P+='[crossorigin="'+x+'"]'),L7.has(P)||(L7.add(P),d={rel:d,crossOrigin:x,href:m},j.querySelector(P)===null&&(m=j.createElement("link"),zi(m,"link",d),sr(m),j.head.appendChild(m)))}}function Pie(d){Qd.D(d),R7("dns-prefetch",d,null)}function Lie(d,m){Qd.C(d,m),R7("preconnect",d,m)}function Rie(d,m,x){Qd.L(d,m,x);var j=q0;if(j&&d&&m){var P='link[rel="preload"][as="'+Vs(m)+'"]';m==="image"&&x&&x.imageSrcSet?(P+='[imagesrcset="'+Vs(x.imageSrcSet)+'"]',typeof x.imageSizes=="string"&&(P+='[imagesizes="'+Vs(x.imageSizes)+'"]')):P+='[href="'+Vs(d)+'"]';var $=P;switch(m){case"style":$=U0(d);break;case"script":$=W0(d)}Ql.has($)||(d=h({rel:"preload",href:m==="image"&&x&&x.imageSrcSet?void 0:d,as:m},x),Ql.set($,d),j.querySelector(P)!==null||m==="style"&&j.querySelector(Sb($))||m==="script"&&j.querySelector(kb($))||(m=j.createElement("link"),zi(m,"link",d),sr(m),j.head.appendChild(m)))}}function Iie(d,m){Qd.m(d,m);var x=q0;if(x&&d){var j=m&&typeof m.as=="string"?m.as:"script",P='link[rel="modulepreload"][as="'+Vs(j)+'"][href="'+Vs(d)+'"]',$=P;switch(j){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":$=W0(d)}if(!Ql.has($)&&(d=h({rel:"modulepreload",href:d},m),Ql.set($,d),x.querySelector(P)===null)){switch(j){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(x.querySelector(kb($)))return}j=x.createElement("link"),zi(j,"link",d),sr(j),x.head.appendChild(j)}}}function Fie(d,m,x){Qd.S(d,m,x);var j=q0;if(j&&d){var P=Et(j).hoistableStyles,$=U0(d);m=m||"default";var ee=P.get($);if(!ee){var Se={loading:0,preload:null};if(ee=j.querySelector(Sb($)))Se.loading=5;else{d=h({rel:"stylesheet",href:d,"data-precedence":m},x),(x=Ql.get($))&&Yk(d,x);var Ye=ee=j.createElement("link");sr(Ye),zi(Ye,"link",d),Ye._p=new Promise(function(Nt,Ot){Ye.onload=Nt,Ye.onerror=Ot}),Ye.addEventListener("load",function(){Se.loading|=1}),Ye.addEventListener("error",function(){Se.loading|=2}),Se.loading|=4,nw(ee,m,j)}ee={type:"stylesheet",instance:ee,count:1,state:Se},P.set($,ee)}}}function Bie(d,m){Qd.X(d,m);var x=q0;if(x&&d){var j=Et(x).hoistableScripts,P=W0(d),$=j.get(P);$||($=x.querySelector(kb(P)),$||(d=h({src:d,async:!0},m),(m=Ql.get(P))&&Kk(d,m),$=x.createElement("script"),sr($),zi($,"link",d),x.head.appendChild($)),$={type:"script",instance:$,count:1,state:null},j.set(P,$))}}function $ie(d,m){Qd.M(d,m);var x=q0;if(x&&d){var j=Et(x).hoistableScripts,P=W0(d),$=j.get(P);$||($=x.querySelector(kb(P)),$||(d=h({src:d,async:!0,type:"module"},m),(m=Ql.get(P))&&Kk(d,m),$=x.createElement("script"),sr($),zi($,"link",d),x.head.appendChild($)),$={type:"script",instance:$,count:1,state:null},j.set(P,$))}}function I7(d,m,x,j){var P=(P=ce.current)?rw(P):null;if(!P)throw Error(n(446));switch(d){case"meta":case"title":return null;case"style":return typeof x.precedence=="string"&&typeof x.href=="string"?(m=U0(x.href),x=Et(P).hoistableStyles,j=x.get(m),j||(j={type:"style",instance:null,count:0,state:null},x.set(m,j)),j):{type:"void",instance:null,count:0,state:null};case"link":if(x.rel==="stylesheet"&&typeof x.href=="string"&&typeof x.precedence=="string"){d=U0(x.href);var $=Et(P).hoistableStyles,ee=$.get(d);if(ee||(P=P.ownerDocument||P,ee={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},$.set(d,ee),($=P.querySelector(Sb(d)))&&!$._p&&(ee.instance=$,ee.state.loading=5),Ql.has(d)||(x={rel:"preload",as:"style",href:x.href,crossOrigin:x.crossOrigin,integrity:x.integrity,media:x.media,hrefLang:x.hrefLang,referrerPolicy:x.referrerPolicy},Ql.set(d,x),$||Hie(P,d,x,ee.state))),m&&j===null)throw Error(n(528,""));return ee}if(m&&j!==null)throw Error(n(529,""));return null;case"script":return m=x.async,x=x.src,typeof x=="string"&&m&&typeof m!="function"&&typeof m!="symbol"?(m=W0(x),x=Et(P).hoistableScripts,j=x.get(m),j||(j={type:"script",instance:null,count:0,state:null},x.set(m,j)),j):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,d))}}function U0(d){return'href="'+Vs(d)+'"'}function Sb(d){return'link[rel="stylesheet"]['+d+"]"}function F7(d){return h({},d,{"data-precedence":d.precedence,precedence:null})}function Hie(d,m,x,j){d.querySelector('link[rel="preload"][as="style"]['+m+"]")?j.loading=1:(m=d.createElement("link"),j.preload=m,m.addEventListener("load",function(){return j.loading|=1}),m.addEventListener("error",function(){return j.loading|=2}),zi(m,"link",x),sr(m),d.head.appendChild(m))}function W0(d){return'[src="'+Vs(d)+'"]'}function kb(d){return"script[async]"+d}function B7(d,m,x){if(m.count++,m.instance===null)switch(m.type){case"style":var j=d.querySelector('style[data-href~="'+Vs(x.href)+'"]');if(j)return m.instance=j,sr(j),j;var P=h({},x,{"data-href":x.href,"data-precedence":x.precedence,href:null,precedence:null});return j=(d.ownerDocument||d).createElement("style"),sr(j),zi(j,"style",P),nw(j,x.precedence,d),m.instance=j;case"stylesheet":P=U0(x.href);var $=d.querySelector(Sb(P));if($)return m.state.loading|=4,m.instance=$,sr($),$;j=F7(x),(P=Ql.get(P))&&Yk(j,P),$=(d.ownerDocument||d).createElement("link"),sr($);var ee=$;return ee._p=new Promise(function(Se,Ye){ee.onload=Se,ee.onerror=Ye}),zi($,"link",j),m.state.loading|=4,nw($,x.precedence,d),m.instance=$;case"script":return $=W0(x.src),(P=d.querySelector(kb($)))?(m.instance=P,sr(P),P):(j=x,(P=Ql.get($))&&(j=h({},x),Kk(j,P)),d=d.ownerDocument||d,P=d.createElement("script"),sr(P),zi(P,"link",j),d.head.appendChild(P),m.instance=P);case"void":return null;default:throw Error(n(443,m.type))}else m.type==="stylesheet"&&(m.state.loading&4)===0&&(j=m.instance,m.state.loading|=4,nw(j,x.precedence,d));return m.instance}function nw(d,m,x){for(var j=x.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),P=j.length?j[j.length-1]:null,$=P,ee=0;ee<j.length;ee++){var Se=j[ee];if(Se.dataset.precedence===m)$=Se;else if($!==P)break}$?$.parentNode.insertBefore(d,$.nextSibling):(m=x.nodeType===9?x.head:x,m.insertBefore(d,m.firstChild))}function Yk(d,m){d.crossOrigin==null&&(d.crossOrigin=m.crossOrigin),d.referrerPolicy==null&&(d.referrerPolicy=m.referrerPolicy),d.title==null&&(d.title=m.title)}function Kk(d,m){d.crossOrigin==null&&(d.crossOrigin=m.crossOrigin),d.referrerPolicy==null&&(d.referrerPolicy=m.referrerPolicy),d.integrity==null&&(d.integrity=m.integrity)}var aw=null;function $7(d,m,x){if(aw===null){var j=new Map,P=aw=new Map;P.set(x,j)}else P=aw,j=P.get(x),j||(j=new Map,P.set(x,j));if(j.has(d))return j;for(j.set(d,null),x=x.getElementsByTagName(d),P=0;P<x.length;P++){var $=x[P];if(!($[he]||$[ir]||d==="link"&&$.getAttribute("rel")==="stylesheet")&&$.namespaceURI!=="http://www.w3.org/2000/svg"){var ee=$.getAttribute(m)||"";ee=d+ee;var Se=j.get(ee);Se?Se.push($):j.set(ee,[$])}}return j}function H7(d,m,x){d=d.ownerDocument||d,d.head.insertBefore(x,m==="title"?d.querySelector("head > title"):null)}function zie(d,m,x){if(x===1||m.itemProp!=null)return!1;switch(d){case"meta":case"title":return!0;case"style":if(typeof m.precedence!="string"||typeof m.href!="string"||m.href==="")break;return!0;case"link":if(typeof m.rel!="string"||typeof m.href!="string"||m.href===""||m.onLoad||m.onError)break;switch(m.rel){case"stylesheet":return d=m.disabled,typeof m.precedence=="string"&&d==null;default:return!0}case"script":if(m.async&&typeof m.async!="function"&&typeof m.async!="symbol"&&!m.onLoad&&!m.onError&&m.src&&typeof m.src=="string")return!0}return!1}function z7(d){return!(d.type==="stylesheet"&&(d.state.loading&3)===0)}function qie(d,m,x,j){if(x.type==="stylesheet"&&(typeof j.media!="string"||matchMedia(j.media).matches!==!1)&&(x.state.loading&4)===0){if(x.instance===null){var P=U0(j.href),$=m.querySelector(Sb(P));if($){m=$._p,m!==null&&typeof m=="object"&&typeof m.then=="function"&&(d.count++,d=sw.bind(d),m.then(d,d)),x.state.loading|=4,x.instance=$,sr($);return}$=m.ownerDocument||m,j=F7(j),(P=Ql.get(P))&&Yk(j,P),$=$.createElement("link"),sr($);var ee=$;ee._p=new Promise(function(Se,Ye){ee.onload=Se,ee.onerror=Ye}),zi($,"link",j),x.instance=$}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(x,m),(m=x.state.preload)&&(x.state.loading&3)===0&&(d.count++,x=sw.bind(d),m.addEventListener("load",x),m.addEventListener("error",x))}}var Jk=0;function Uie(d,m){return d.stylesheets&&d.count===0&&ow(d,d.stylesheets),0<d.count||0<d.imgCount?function(x){var j=setTimeout(function(){if(d.stylesheets&&ow(d,d.stylesheets),d.unsuspend){var $=d.unsuspend;d.unsuspend=null,$()}},6e4+m);0<d.imgBytes&&Jk===0&&(Jk=62500*Sie());var P=setTimeout(function(){if(d.waitingForImages=!1,d.count===0&&(d.stylesheets&&ow(d,d.stylesheets),d.unsuspend)){var $=d.unsuspend;d.unsuspend=null,$()}},(d.imgBytes>Jk?50:800)+m);return d.unsuspend=x,function(){d.unsuspend=null,clearTimeout(j),clearTimeout(P)}}:null}function sw(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ow(this,this.stylesheets);else if(this.unsuspend){var d=this.unsuspend;this.unsuspend=null,d()}}}var iw=null;function ow(d,m){d.stylesheets=null,d.unsuspend!==null&&(d.count++,iw=new Map,m.forEach(Wie,d),iw=null,sw.call(d))}function Wie(d,m){if(!(m.state.loading&4)){var x=iw.get(d);if(x)var j=x.get(null);else{x=new Map,iw.set(d,x);for(var P=d.querySelectorAll("link[data-precedence],style[data-precedence]"),$=0;$<P.length;$++){var ee=P[$];(ee.nodeName==="LINK"||ee.getAttribute("media")!=="not all")&&(x.set(ee.dataset.precedence,ee),j=ee)}j&&x.set(null,j)}P=m.instance,ee=P.getAttribute("data-precedence"),$=x.get(ee)||j,$===j&&x.set(null,P),x.set(ee,P),this.count++,j=sw.bind(this),P.addEventListener("load",j),P.addEventListener("error",j),$?$.parentNode.insertBefore(P,$.nextSibling):(d=d.nodeType===9?d.head:d,d.insertBefore(P,d.firstChild)),m.state.loading|=4}}var Cb={$$typeof:S,Provider:null,Consumer:null,_currentValue:q,_currentValue2:q,_threadCount:0};function Vie(d,m,x,j,P,$,ee,Se,Ye){this.tag=1,this.containerInfo=d,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ue(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ue(0),this.hiddenUpdates=Ue(null),this.identifierPrefix=j,this.onUncaughtError=P,this.onCaughtError=$,this.onRecoverableError=ee,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Ye,this.incompleteTransitions=new Map}function q7(d,m,x,j,P,$,ee,Se,Ye,Nt,Ot,Bt){return d=new Vie(d,m,x,ee,Ye,Nt,Ot,Bt,Se),m=1,$===!0&&(m|=24),$=Si(3,null,null,m),d.current=$,$.stateNode=d,m=fh(),m.refCount++,d.pooledCache=m,m.refCount++,$.memoizedState={element:j,isDehydrated:x,cache:m},nr($),d}function U7(d){return d?(d=di,d):di}function W7(d,m,x,j,P,$){P=U7(P),j.context===null?j.context=P:j.pendingContext=P,j=$r(m),j.payload={element:x},$=$===void 0?null:$,$!==null&&(j.callback=$),x=dn(d,j,m),x!==null&&(sl(x,d,m),Jn(x,d,m))}function V7(d,m){if(d=d.memoizedState,d!==null&&d.dehydrated!==null){var x=d.retryLane;d.retryLane=x!==0&&x<m?x:m}}function Xk(d,m){V7(d,m),(d=d.alternate)&&V7(d,m)}function G7(d){if(d.tag===13||d.tag===31){var m=$c(d,67108864);m!==null&&sl(m,d,67108864),Xk(d,67108864)}}function Y7(d){if(d.tag===13||d.tag===31){var m=wl();m=Ct(m);var x=$c(d,m);x!==null&&sl(x,d,m),Xk(d,m)}}var lw=!0;function Gie(d,m,x,j){var P=W.T;W.T=null;var $=H.p;try{H.p=2,Qk(d,m,x,j)}finally{H.p=$,W.T=P}}function Yie(d,m,x,j){var P=W.T;W.T=null;var $=H.p;try{H.p=8,Qk(d,m,x,j)}finally{H.p=$,W.T=P}}function Qk(d,m,x,j){if(lw){var P=Zk(j);if(P===null)Fk(d,m,j,cw,x),J7(d,j);else if(Jie(P,d,m,x,j))j.stopPropagation();else if(J7(d,j),m&4&&-1<Kie.indexOf(d)){for(;P!==null;){var $=cr(P);if($!==null)switch($.tag){case 3:if($=$.stateNode,$.current.memoizedState.isDehydrated){var ee=Fe($.pendingLanes);if(ee!==0){var Se=$;for(Se.pendingLanes|=2,Se.entangledLanes|=2;ee;){var Ye=1<<31-ve(ee);Se.entanglements[1]|=Ye,ee&=~Ye}Ru($),(Qn&6)===0&&(W1=le()+500,vb(0))}}break;case 31:case 13:Se=$c($,2),Se!==null&&sl(Se,$,2),G1(),Xk($,2)}if($=Zk(j),$===null&&Fk(d,m,j,cw,x),$===P)break;P=$}P!==null&&j.stopPropagation()}else Fk(d,m,j,null,x)}}function Zk(d){return d=an(d),eC(d)}var cw=null;function eC(d){if(cw=null,d=kt(d),d!==null){var m=i(d);if(m===null)d=null;else{var x=m.tag;if(x===13){if(d=o(m),d!==null)return d;d=null}else if(x===31){if(d=l(m),d!==null)return d;d=null}else if(x===3){if(m.stateNode.current.memoizedState.isDehydrated)return m.tag===3?m.stateNode.containerInfo:null;d=null}else m!==d&&(d=null)}}return cw=d,null}function K7(d){switch(d){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Je()){case Ge:return 2;case ut:return 8;case Pe:case Ne:return 32;case ze:return 268435456;default:return 32}default:return 32}}var tC=!1,kh=null,Ch=null,_h=null,_b=new Map,Ab=new Map,Ah=[],Kie="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function J7(d,m){switch(d){case"focusin":case"focusout":kh=null;break;case"dragenter":case"dragleave":Ch=null;break;case"mouseover":case"mouseout":_h=null;break;case"pointerover":case"pointerout":_b.delete(m.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ab.delete(m.pointerId)}}function Tb(d,m,x,j,P,$){return d===null||d.nativeEvent!==$?(d={blockedOn:m,domEventName:x,eventSystemFlags:j,nativeEvent:$,targetContainers:[P]},m!==null&&(m=cr(m),m!==null&&G7(m)),d):(d.eventSystemFlags|=j,m=d.targetContainers,P!==null&&m.indexOf(P)===-1&&m.push(P),d)}function Jie(d,m,x,j,P){switch(m){case"focusin":return kh=Tb(kh,d,m,x,j,P),!0;case"dragenter":return Ch=Tb(Ch,d,m,x,j,P),!0;case"mouseover":return _h=Tb(_h,d,m,x,j,P),!0;case"pointerover":var $=P.pointerId;return _b.set($,Tb(_b.get($)||null,d,m,x,j,P)),!0;case"gotpointercapture":return $=P.pointerId,Ab.set($,Tb(Ab.get($)||null,d,m,x,j,P)),!0}return!1}function X7(d){var m=kt(d.target);if(m!==null){var x=i(m);if(x!==null){if(m=x.tag,m===13){if(m=o(x),m!==null){d.blockedOn=m,gn(d.priority,function(){Y7(x)});return}}else if(m===31){if(m=l(x),m!==null){d.blockedOn=m,gn(d.priority,function(){Y7(x)});return}}else if(m===3&&x.stateNode.current.memoizedState.isDehydrated){d.blockedOn=x.tag===3?x.stateNode.containerInfo:null;return}}}d.blockedOn=null}function uw(d){if(d.blockedOn!==null)return!1;for(var m=d.targetContainers;0<m.length;){var x=Zk(d.nativeEvent);if(x===null){x=d.nativeEvent;var j=new x.constructor(x.type,x);Kt=j,x.target.dispatchEvent(j),Kt=null}else return m=cr(x),m!==null&&G7(m),d.blockedOn=x,!1;m.shift()}return!0}function Q7(d,m,x){uw(d)&&x.delete(m)}function Xie(){tC=!1,kh!==null&&uw(kh)&&(kh=null),Ch!==null&&uw(Ch)&&(Ch=null),_h!==null&&uw(_h)&&(_h=null),_b.forEach(Q7),Ab.forEach(Q7)}function dw(d,m){d.blockedOn===m&&(d.blockedOn=null,tC||(tC=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Xie)))}var fw=null;function Z7(d){fw!==d&&(fw=d,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){fw===d&&(fw=null);for(var m=0;m<d.length;m+=3){var x=d[m],j=d[m+1],P=d[m+2];if(typeof j!="function"){if(eC(j||x)===null)continue;break}var $=cr(x);$!==null&&(d.splice(m,3),m-=3,ZS($,{pending:!0,data:P,method:x.method,action:j},j,P))}}))}function V0(d){function m(Ye){return dw(Ye,d)}kh!==null&&dw(kh,d),Ch!==null&&dw(Ch,d),_h!==null&&dw(_h,d),_b.forEach(m),Ab.forEach(m);for(var x=0;x<Ah.length;x++){var j=Ah[x];j.blockedOn===d&&(j.blockedOn=null)}for(;0<Ah.length&&(x=Ah[0],x.blockedOn===null);)X7(x),x.blockedOn===null&&Ah.shift();if(x=(d.ownerDocument||d).$$reactFormReplay,x!=null)for(j=0;j<x.length;j+=3){var P=x[j],$=x[j+1],ee=P[Wr]||null;if(typeof $=="function")ee||Z7(x);else if(ee){var Se=null;if($&&$.hasAttribute("formAction")){if(P=$,ee=$[Wr]||null)Se=ee.formAction;else if(eC(P)!==null)continue}else Se=ee.action;typeof Se=="function"?x[j+1]=Se:(x.splice(j,3),j-=3),Z7(x)}}}function eR(){function d($){$.canIntercept&&$.info==="react-transition"&&$.intercept({handler:function(){return new Promise(function(ee){return P=ee})},focusReset:"manual",scroll:"manual"})}function m(){P!==null&&(P(),P=null),j||setTimeout(x,20)}function x(){if(!j&&!navigation.transition){var $=navigation.currentEntry;$&&$.url!=null&&navigation.navigate($.url,{state:$.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var j=!1,P=null;return navigation.addEventListener("navigate",d),navigation.addEventListener("navigatesuccess",m),navigation.addEventListener("navigateerror",m),setTimeout(x,100),function(){j=!0,navigation.removeEventListener("navigate",d),navigation.removeEventListener("navigatesuccess",m),navigation.removeEventListener("navigateerror",m),P!==null&&(P(),P=null)}}}function rC(d){this._internalRoot=d}hw.prototype.render=rC.prototype.render=function(d){var m=this._internalRoot;if(m===null)throw Error(n(409));var x=m.current,j=wl();W7(x,j,d,m,null,null)},hw.prototype.unmount=rC.prototype.unmount=function(){var d=this._internalRoot;if(d!==null){this._internalRoot=null;var m=d.containerInfo;W7(d.current,2,null,d,null,null),G1(),m[Kr]=null}};function hw(d){this._internalRoot=d}hw.prototype.unstable_scheduleHydration=function(d){if(d){var m=br();d={blockedOn:null,target:d,priority:m};for(var x=0;x<Ah.length&&m!==0&&m<Ah[x].priority;x++);Ah.splice(x,0,d),x===0&&X7(d)}};var tR=e.version;if(tR!=="19.2.0")throw Error(n(527,tR,"19.2.0"));H.findDOMNode=function(d){var m=d._reactInternals;if(m===void 0)throw typeof d.render=="function"?Error(n(188)):(d=Object.keys(d).join(","),Error(n(268,d)));return d=u(m),d=d!==null?f(d):null,d=d===null?null:d.stateNode,d};var Qie={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mw=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mw.isDisabled&&mw.supportsFiber)try{je=mw.inject(Qie),We=mw}catch{}}return Eb.createRoot=function(d,m){if(!s(d))throw Error(n(299));var x=!1,j="",P=l8,$=c8,ee=u8;return m!=null&&(m.unstable_strictMode===!0&&(x=!0),m.identifierPrefix!==void 0&&(j=m.identifierPrefix),m.onUncaughtError!==void 0&&(P=m.onUncaughtError),m.onCaughtError!==void 0&&($=m.onCaughtError),m.onRecoverableError!==void 0&&(ee=m.onRecoverableError)),m=q7(d,1,!1,null,null,x,j,null,P,$,ee,eR),d[Kr]=m.current,Ik(d),new rC(m)},Eb.hydrateRoot=function(d,m,x){if(!s(d))throw Error(n(299));var j=!1,P="",$=l8,ee=c8,Se=u8,Ye=null;return x!=null&&(x.unstable_strictMode===!0&&(j=!0),x.identifierPrefix!==void 0&&(P=x.identifierPrefix),x.onUncaughtError!==void 0&&($=x.onUncaughtError),x.onCaughtError!==void 0&&(ee=x.onCaughtError),x.onRecoverableError!==void 0&&(Se=x.onRecoverableError),x.formState!==void 0&&(Ye=x.formState)),m=q7(d,1,!0,m,x??null,j,P,Ye,$,ee,Se,eR),m.context=U7(null),x=m.current,j=wl(),j=Ct(j),P=$r(j),P.callback=null,dn(x,P,j),x=j,m.current.lanes=x,et(m,x),Ru(m),d[Kr]=m.current,Ik(d),new hw(m)},Eb.version="19.2.0",Eb}var dR;function doe(){if(dR)return sC.exports;dR=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),sC.exports=uoe(),sC.exports}var foe=doe();const hoe=Vn(foe);/**
 * react-router v7.9.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var fR="popstate";function moe(t={}){function e(n,s){let{pathname:i,search:o,hash:l}=n.location;return E6("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Wy(s)}return goe(e,r,null,t)}function ps(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function od(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function poe(){return Math.random().toString(36).substring(2,10)}function hR(t,e){return{usr:t.state,key:t.key,idx:e}}function E6(t,e,r=null,n){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Ex(e):e,state:r,key:e&&e.key||n||poe()}}function Wy({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Ex(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substring(n),t=t.substring(0,n)),t&&(e.pathname=t)}return e}function goe(t,e,r,n={}){let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,l="POP",c=null,u=f();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function f(){return(o.state||{idx:null}).idx}function h(){l="POP";let y=f(),N=y==null?null:y-u;u=y,c&&c({action:l,location:w.location,delta:N})}function g(y,N){l="PUSH";let k=E6(w.location,y,N);u=f()+1;let S=hR(k,u),T=w.createHref(k);try{o.pushState(S,"",T)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;s.location.assign(T)}i&&c&&c({action:l,location:w.location,delta:1})}function p(y,N){l="REPLACE";let k=E6(w.location,y,N);u=f();let S=hR(k,u),T=w.createHref(k);o.replaceState(S,"",T),i&&c&&c({action:l,location:w.location,delta:0})}function v(y){return xoe(y)}let w={get action(){return l},get location(){return t(s,o)},listen(y){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(fR,h),c=y,()=>{s.removeEventListener(fR,h),c=null}},createHref(y){return e(s,y)},createURL:v,encodeLocation(y){let N=v(y);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:g,replace:p,go(y){return o.go(y)}};return w}function xoe(t,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),ps(r,"No window.location.(origin|href) available to create URL");let n=typeof t=="string"?t:Wy(t);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function VY(t,e,r="/"){return boe(t,e,r,!1)}function boe(t,e,r,n){let s=typeof e=="string"?Ex(e):e,i=Ef(s.pathname||"/",r);if(i==null)return null;let o=GY(t);yoe(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=Moe(i);l=Aoe(o[c],u,n)}return l}function GY(t,e=[],r=[],n="",s=!1){let i=(o,l,c=s,u)=>{let f={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(n)&&c)return;ps(f.relativePath.startsWith(n),`Absolute route path "${f.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(n.length)}let h=yf([n,f.relativePath]),g=r.concat(f);o.children&&o.children.length>0&&(ps(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),GY(o.children,e,g,h,c)),!(o.path==null&&!o.index)&&e.push({path:h,score:Coe(h,o.index),routesMeta:g})};return t.forEach((o,l)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))i(o,l);else for(let u of YY(o.path))i(o,l,!0,u)}),e}function YY(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=YY(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function yoe(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:_oe(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var voe=/^:[\w-]+$/,woe=3,joe=2,Noe=1,Soe=10,koe=-2,mR=t=>t==="*";function Coe(t,e){let r=t.split("/"),n=r.length;return r.some(mR)&&(n+=koe),e&&(n+=joe),r.filter(s=>!mR(s)).reduce((s,i)=>s+(voe.test(i)?woe:i===""?Noe:Soe),n)}function _oe(t,e){return t.length===e.length&&t.slice(0,-1).every((n,s)=>n===e[s])?t[t.length-1]-e[e.length-1]:0}function Aoe(t,e,r=!1){let{routesMeta:n}=t,s={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,f=i==="/"?e:e.slice(i.length)||"/",h=nj({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},f),g=c.route;if(!h&&u&&r&&!n[n.length-1].route.index&&(h=nj({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},f)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:yf([i,h.pathname]),pathnameBase:Poe(yf([i,h.pathnameBase])),route:g}),h.pathnameBase!=="/"&&(i=yf([i,h.pathnameBase]))}return o}function nj(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=Toe(t.path,t.caseSensitive,t.end),s=e.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,{paramName:f,isOptional:h},g)=>{if(f==="*"){let v=l[g]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const p=l[g];return h&&!p?u[f]=void 0:u[f]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:t}}function Toe(t,e=!1,r=!0){od(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(n.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function Moe(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return od(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ef(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function Eoe(t,e="/"){let{pathname:r,search:n="",hash:s=""}=typeof t=="string"?Ex(t):t;return{pathname:r?r.startsWith("/")?r:Ooe(r,e):e,search:Loe(n),hash:Roe(s)}}function Ooe(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function cC(t,e,r,n){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Doe(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function KY(t){let e=Doe(t);return e.map((r,n)=>n===e.length-1?r.pathname:r.pathnameBase)}function JY(t,e,r,n=!1){let s;typeof t=="string"?s=Ex(t):(s={...t},ps(!s.pathname||!s.pathname.includes("?"),cC("?","pathname","search",s)),ps(!s.pathname||!s.pathname.includes("#"),cC("#","pathname","hash",s)),ps(!s.search||!s.search.includes("#"),cC("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=r;else{let h=e.length-1;if(!n&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),h-=1;s.pathname=g.join("/")}l=h>=0?e[h]:"/"}let c=Eoe(s,l),u=o&&o!=="/"&&o.endsWith("/"),f=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||f)&&(c.pathname+="/"),c}var yf=t=>t.join("/").replace(/\/\/+/g,"/"),Poe=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Loe=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Roe=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Ioe(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var XY=["POST","PUT","PATCH","DELETE"];new Set(XY);var Foe=["GET",...XY];new Set(Foe);var Ox=b.createContext(null);Ox.displayName="DataRouter";var CN=b.createContext(null);CN.displayName="DataRouterState";b.createContext(!1);var QY=b.createContext({isTransitioning:!1});QY.displayName="ViewTransition";var Boe=b.createContext(new Map);Boe.displayName="Fetchers";var $oe=b.createContext(null);$oe.displayName="Await";var fd=b.createContext(null);fd.displayName="Navigation";var Qv=b.createContext(null);Qv.displayName="Location";var mu=b.createContext({outlet:null,matches:[],isDataRoute:!1});mu.displayName="Route";var LO=b.createContext(null);LO.displayName="RouteError";function Hoe(t,{relative:e}={}){ps(Zv(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=b.useContext(fd),{hash:s,pathname:i,search:o}=e1(t,{relative:e}),l=i;return r!=="/"&&(l=i==="/"?r:yf([r,i])),n.createHref({pathname:l,search:o,hash:s})}function Zv(){return b.useContext(Qv)!=null}function Ds(){return ps(Zv(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(Qv).location}var ZY="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function eK(t){b.useContext(fd).static||b.useLayoutEffect(t)}function tr(){let{isDataRoute:t}=b.useContext(mu);return t?rle():zoe()}function zoe(){ps(Zv(),"useNavigate() may be used only in the context of a <Router> component.");let t=b.useContext(Ox),{basename:e,navigator:r}=b.useContext(fd),{matches:n}=b.useContext(mu),{pathname:s}=Ds(),i=JSON.stringify(KY(n)),o=b.useRef(!1);return eK(()=>{o.current=!0}),b.useCallback((c,u={})=>{if(od(o.current,ZY),!o.current)return;if(typeof c=="number"){r.go(c);return}let f=JY(c,JSON.parse(i),s,u.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:yf([e,f.pathname])),(u.replace?r.replace:r.push)(f,u.state,u)},[e,r,i,s,t])}var qoe=b.createContext(null);function Uoe(t){let e=b.useContext(mu).outlet;return b.useMemo(()=>e&&b.createElement(qoe.Provider,{value:t},e),[e,t])}function si(){let{matches:t}=b.useContext(mu),e=t[t.length-1];return e?e.params:{}}function e1(t,{relative:e}={}){let{matches:r}=b.useContext(mu),{pathname:n}=Ds(),s=JSON.stringify(KY(r));return b.useMemo(()=>JY(t,JSON.parse(s),n,e==="path"),[t,s,n,e])}function Woe(t,e){return tK(t,e)}function tK(t,e,r,n,s){var k;ps(Zv(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=b.useContext(fd),{matches:o}=b.useContext(mu),l=o[o.length-1],c=l?l.params:{},u=l?l.pathname:"/",f=l?l.pathnameBase:"/",h=l&&l.route;{let S=h&&h.path||"";rK(u,!h||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let g=Ds(),p;if(e){let S=typeof e=="string"?Ex(e):e;ps(f==="/"||((k=S.pathname)==null?void 0:k.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${S.pathname}" was given in the \`location\` prop.`),p=S}else p=g;let v=p.pathname||"/",w=v;if(f!=="/"){let S=f.replace(/^\//,"").split("/");w="/"+v.replace(/^\//,"").split("/").slice(S.length).join("/")}let y=VY(t,{pathname:w});od(h||y!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),od(y==null||y[y.length-1].route.element!==void 0||y[y.length-1].route.Component!==void 0||y[y.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=Joe(y&&y.map(S=>Object.assign({},S,{params:Object.assign({},c,S.params),pathname:yf([f,i.encodeLocation?i.encodeLocation(S.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?f:yf([f,i.encodeLocation?i.encodeLocation(S.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathnameBase])})),o,r,n,s);return e&&N?b.createElement(Qv.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},N):N}function Voe(){let t=tle(),e=Ioe(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=b.createElement(b.Fragment,null,b.createElement("p",null,"💿 Hey developer 👋"),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:i},"ErrorBoundary")," or"," ",b.createElement("code",{style:i},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),r?b.createElement("pre",{style:s},r):null,o)}var Goe=b.createElement(Voe,null),Yoe=class extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?b.createElement(mu.Provider,{value:this.props.routeContext},b.createElement(LO.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Koe({routeContext:t,match:e,children:r}){let n=b.useContext(Ox);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),b.createElement(mu.Provider,{value:t},r)}function Joe(t,e=[],r=null,n=null,s=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let i=t,o=r==null?void 0:r.errors;if(o!=null){let u=i.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);ps(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,u+1))}let l=!1,c=-1;if(r)for(let u=0;u<i.length;u++){let f=i[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=u),f.route.id){let{loaderData:h,errors:g}=r,p=f.route.loader&&!h.hasOwnProperty(f.route.id)&&(!g||g[f.route.id]===void 0);if(f.route.lazy||p){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((u,f,h)=>{let g,p=!1,v=null,w=null;r&&(g=o&&f.route.id?o[f.route.id]:void 0,v=f.route.errorElement||Goe,l&&(c<0&&h===0?(rK("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,w=null):c===h&&(p=!0,w=f.route.hydrateFallbackElement||null)));let y=e.concat(i.slice(0,h+1)),N=()=>{let k;return g?k=v:p?k=w:f.route.Component?k=b.createElement(f.route.Component,null):f.route.element?k=f.route.element:k=u,b.createElement(Koe,{match:f,routeContext:{outlet:u,matches:y,isDataRoute:r!=null},children:k})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?b.createElement(Yoe,{location:r.location,revalidation:r.revalidation,component:v,error:g,children:N(),routeContext:{outlet:null,matches:y,isDataRoute:!0},unstable_onError:n}):N()},null)}function RO(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Xoe(t){let e=b.useContext(Ox);return ps(e,RO(t)),e}function Qoe(t){let e=b.useContext(CN);return ps(e,RO(t)),e}function Zoe(t){let e=b.useContext(mu);return ps(e,RO(t)),e}function IO(t){let e=Zoe(t),r=e.matches[e.matches.length-1];return ps(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function ele(){return IO("useRouteId")}function tle(){var n;let t=b.useContext(LO),e=Qoe("useRouteError"),r=IO("useRouteError");return t!==void 0?t:(n=e.errors)==null?void 0:n[r]}function rle(){let{router:t}=Xoe("useNavigate"),e=IO("useNavigate"),r=b.useRef(!1);return eK(()=>{r.current=!0}),b.useCallback(async(s,i={})=>{od(r.current,ZY),r.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...i}))},[t,e])}var pR={};function rK(t,e,r){!e&&!pR[t]&&(pR[t]=!0,od(!1,r))}b.memo(nle);function nle({routes:t,future:e,state:r,unstable_onError:n}){return tK(t,void 0,r,n,e)}function ale(t){return Uoe(t.context)}function zt(t){ps(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function sle({basename:t="/",children:e=null,location:r,navigationType:n="POP",navigator:s,static:i=!1}){ps(!Zv(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),l=b.useMemo(()=>({basename:o,navigator:s,static:i,future:{}}),[o,s,i]);typeof r=="string"&&(r=Ex(r));let{pathname:c="/",search:u="",hash:f="",state:h=null,key:g="default"}=r,p=b.useMemo(()=>{let v=Ef(c,o);return v==null?null:{location:{pathname:v,search:u,hash:f,state:h,key:g},navigationType:n}},[o,c,u,f,h,g,n]);return od(p!=null,`<Router basename="${o}"> is not able to match the URL "${c}${u}${f}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:b.createElement(fd.Provider,{value:l},b.createElement(Qv.Provider,{children:e,value:p}))}function ile({children:t,location:e}){return Woe(O6(t),e)}function O6(t,e=[]){let r=[];return b.Children.forEach(t,(n,s)=>{if(!b.isValidElement(n))return;let i=[...e,s];if(n.type===b.Fragment){r.push.apply(r,O6(n.props.children,i));return}ps(n.type===zt,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ps(!n.props.index||!n.props.children,"An index route cannot have child routes.");let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=O6(n.props.children,i)),r.push(o)}),r}var k2="get",C2="application/x-www-form-urlencoded";function _N(t){return t!=null&&typeof t.tagName=="string"}function ole(t){return _N(t)&&t.tagName.toLowerCase()==="button"}function lle(t){return _N(t)&&t.tagName.toLowerCase()==="form"}function cle(t){return _N(t)&&t.tagName.toLowerCase()==="input"}function ule(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function dle(t,e){return t.button===0&&(!e||e==="_self")&&!ule(t)}var gw=null;function fle(){if(gw===null)try{new FormData(document.createElement("form"),0),gw=!1}catch{gw=!0}return gw}var hle=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function uC(t){return t!=null&&!hle.has(t)?(od(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${C2}"`),null):t}function mle(t,e){let r,n,s,i,o;if(lle(t)){let l=t.getAttribute("action");n=l?Ef(l,e):null,r=t.getAttribute("method")||k2,s=uC(t.getAttribute("enctype"))||C2,i=new FormData(t)}else if(ole(t)||cle(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||l.getAttribute("action");if(n=c?Ef(c,e):null,r=t.getAttribute("formmethod")||l.getAttribute("method")||k2,s=uC(t.getAttribute("formenctype"))||uC(l.getAttribute("enctype"))||C2,i=new FormData(l,t),!fle()){let{name:u,type:f,value:h}=t;if(f==="image"){let g=u?`${u}.`:"";i.append(`${g}x`,"0"),i.append(`${g}y`,"0")}else u&&i.append(u,h)}}else{if(_N(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=k2,n=null,s=C2,o=t}return i&&s==="text/plain"&&(o=i,i=void 0),{action:n,method:r.toLowerCase(),encType:s,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function FO(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ple(t,e,r){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname=`_root.${r}`:e&&Ef(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function gle(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function xle(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function ble(t,e,r){let n=await Promise.all(t.map(async s=>{let i=e.routes[s.route.id];if(i){let o=await gle(i,r);return o.links?o.links():[]}return[]}));return jle(n.flat(1).filter(xle).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function gR(t,e,r,n,s,i){let o=(c,u)=>r[u]?c.route.id!==r[u].route.id:!0,l=(c,u)=>{var f;return r[u].pathname!==c.pathname||((f=r[u].route.path)==null?void 0:f.endsWith("*"))&&r[u].params["*"]!==c.params["*"]};return i==="assets"?e.filter((c,u)=>o(c,u)||l(c,u)):i==="data"?e.filter((c,u)=>{var h;let f=n.routes[c.route.id];if(!f||!f.hasLoader)return!1;if(o(c,u)||l(c,u))return!0;if(c.route.shouldRevalidate){let g=c.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((h=r[0])==null?void 0:h.params)||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function yle(t,e,{includeHydrateFallback:r}={}){return vle(t.map(n=>{let s=e.routes[n.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),r&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function vle(t){return[...new Set(t)]}function wle(t){let e={},r=Object.keys(t).sort();for(let n of r)e[n]=t[n];return e}function jle(t,e){let r=new Set;return new Set(e),t.reduce((n,s)=>{let i=JSON.stringify(wle(s));return r.has(i)||(r.add(i),n.push({key:i,link:s})),n},[])}function nK(){let t=b.useContext(Ox);return FO(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Nle(){let t=b.useContext(CN);return FO(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var BO=b.createContext(void 0);BO.displayName="FrameworkContext";function aK(){let t=b.useContext(BO);return FO(t,"You must render this element inside a <HydratedRouter> element"),t}function Sle(t,e){let r=b.useContext(BO),[n,s]=b.useState(!1),[i,o]=b.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:f,onTouchStart:h}=e,g=b.useRef(null);b.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let w=N=>{N.forEach(k=>{o(k.isIntersecting)})},y=new IntersectionObserver(w,{threshold:.5});return g.current&&y.observe(g.current),()=>{y.disconnect()}}},[t]),b.useEffect(()=>{if(n){let w=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(w)}}},[n]);let p=()=>{s(!0)},v=()=>{s(!1),o(!1)};return r?t!=="intent"?[i,g,{}]:[i,g,{onFocus:Ob(l,p),onBlur:Ob(c,v),onMouseEnter:Ob(u,p),onMouseLeave:Ob(f,v),onTouchStart:Ob(h,p)}]:[!1,g,{}]}function Ob(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function kle({page:t,...e}){let{router:r}=nK(),n=b.useMemo(()=>VY(r.routes,t,r.basename),[r.routes,t,r.basename]);return n?b.createElement(_le,{page:t,matches:n,...e}):null}function Cle(t){let{manifest:e,routeModules:r}=aK(),[n,s]=b.useState([]);return b.useEffect(()=>{let i=!1;return ble(t,e,r).then(o=>{i||s(o)}),()=>{i=!0}},[t,e,r]),n}function _le({page:t,matches:e,...r}){let n=Ds(),{manifest:s,routeModules:i}=aK(),{basename:o}=nK(),{loaderData:l,matches:c}=Nle(),u=b.useMemo(()=>gR(t,e,c,s,n,"data"),[t,e,c,s,n]),f=b.useMemo(()=>gR(t,e,c,s,n,"assets"),[t,e,c,s,n]),h=b.useMemo(()=>{if(t===n.pathname+n.search+n.hash)return[];let v=new Set,w=!1;if(e.forEach(N=>{var S;let k=s.routes[N.route.id];!k||!k.hasLoader||(!u.some(T=>T.route.id===N.route.id)&&N.route.id in l&&((S=i[N.route.id])!=null&&S.shouldRevalidate)||k.hasClientLoader?w=!0:v.add(N.route.id))}),v.size===0)return[];let y=ple(t,o,"data");return w&&v.size>0&&y.searchParams.set("_routes",e.filter(N=>v.has(N.route.id)).map(N=>N.route.id).join(",")),[y.pathname+y.search]},[o,l,n,s,u,e,t,i]),g=b.useMemo(()=>yle(f,s),[f,s]),p=Cle(f);return b.createElement(b.Fragment,null,h.map(v=>b.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...r})),g.map(v=>b.createElement("link",{key:v,rel:"modulepreload",href:v,...r})),p.map(({key:v,link:w})=>b.createElement("link",{key:v,nonce:r.nonce,...w})))}function Ale(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var sK=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{sK&&(window.__reactRouterVersion="7.9.3")}catch{}function Tle({basename:t,children:e,window:r}){let n=b.useRef();n.current==null&&(n.current=moe({window:r,v5Compat:!0}));let s=n.current,[i,o]=b.useState({action:s.action,location:s.location}),l=b.useCallback(c=>{b.startTransition(()=>o(c))},[o]);return b.useLayoutEffect(()=>s.listen(l),[s,l]),b.createElement(sle,{basename:t,children:e,location:i.location,navigationType:i.action,navigator:s})}var iK=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,om=b.forwardRef(function({onClick:e,discover:r="render",prefetch:n="none",relative:s,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:f,viewTransition:h,...g},p){let{basename:v}=b.useContext(fd),w=typeof u=="string"&&iK.test(u),y,N=!1;if(typeof u=="string"&&w&&(y=u,sK))try{let R=new URL(window.location.href),F=u.startsWith("//")?new URL(R.protocol+u):new URL(u),A=Ef(F.pathname,v);F.origin===R.origin&&A!=null?u=A+F.search+F.hash:N=!0}catch{od(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let k=Hoe(u,{relative:s}),[S,T,_]=Sle(n,g),D=Dle(u,{replace:o,state:l,target:c,preventScrollReset:f,relative:s,viewTransition:h});function E(R){e&&e(R),R.defaultPrevented||D(R)}let L=b.createElement("a",{...g,..._,href:y||k,onClick:N||i?e:E,ref:Ale(p,T),target:c,"data-discover":!w&&r==="render"?"true":void 0});return S&&!w?b.createElement(b.Fragment,null,L,b.createElement(kle,{page:k})):L});om.displayName="Link";var Mle=b.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:n="",end:s=!1,style:i,to:o,viewTransition:l,children:c,...u},f){let h=e1(o,{relative:u.relative}),g=Ds(),p=b.useContext(CN),{navigator:v,basename:w}=b.useContext(fd),y=p!=null&&Fle(h)&&l===!0,N=v.encodeLocation?v.encodeLocation(h).pathname:h.pathname,k=g.pathname,S=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;r||(k=k.toLowerCase(),S=S?S.toLowerCase():null,N=N.toLowerCase()),S&&w&&(S=Ef(S,w)||S);const T=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let _=k===N||!s&&k.startsWith(N)&&k.charAt(T)==="/",D=S!=null&&(S===N||!s&&S.startsWith(N)&&S.charAt(N.length)==="/"),E={isActive:_,isPending:D,isTransitioning:y},L=_?e:void 0,R;typeof n=="function"?R=n(E):R=[n,_?"active":null,D?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let F=typeof i=="function"?i(E):i;return b.createElement(om,{...u,"aria-current":L,className:R,ref:f,style:F,to:o,viewTransition:l},typeof c=="function"?c(E):c)});Mle.displayName="NavLink";var Ele=b.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:n,replace:s,state:i,method:o=k2,action:l,onSubmit:c,relative:u,preventScrollReset:f,viewTransition:h,...g},p)=>{let v=Rle(),w=Ile(l,{relative:u}),y=o.toLowerCase()==="get"?"get":"post",N=typeof l=="string"&&iK.test(l),k=S=>{if(c&&c(S),S.defaultPrevented)return;S.preventDefault();let T=S.nativeEvent.submitter,_=(T==null?void 0:T.getAttribute("formmethod"))||o;v(T||S.currentTarget,{fetcherKey:e,method:_,navigate:r,replace:s,state:i,relative:u,preventScrollReset:f,viewTransition:h})};return b.createElement("form",{ref:p,method:y,action:w,onSubmit:n?c:k,...g,"data-discover":!N&&t==="render"?"true":void 0})});Ele.displayName="Form";function Ole(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function oK(t){let e=b.useContext(Ox);return ps(e,Ole(t)),e}function Dle(t,{target:e,replace:r,state:n,preventScrollReset:s,relative:i,viewTransition:o}={}){let l=tr(),c=Ds(),u=e1(t,{relative:i});return b.useCallback(f=>{if(dle(f,e)){f.preventDefault();let h=r!==void 0?r:Wy(c)===Wy(u);l(t,{replace:h,state:n,preventScrollReset:s,relative:i,viewTransition:o})}},[c,l,u,r,n,e,t,s,i,o])}var Ple=0,Lle=()=>`__${String(++Ple)}__`;function Rle(){let{router:t}=oK("useSubmit"),{basename:e}=b.useContext(fd),r=ele();return b.useCallback(async(n,s={})=>{let{action:i,method:o,encType:l,formData:c,body:u}=mle(n,e);if(s.navigate===!1){let f=s.fetcherKey||Lle();await t.fetch(f,r,s.action||i,{preventScrollReset:s.preventScrollReset,formData:c,body:u,formMethod:s.method||o,formEncType:s.encType||l,flushSync:s.flushSync})}else await t.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:c,body:u,formMethod:s.method||o,formEncType:s.encType||l,replace:s.replace,state:s.state,fromRouteId:r,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,r])}function Ile(t,{relative:e}={}){let{basename:r}=b.useContext(fd),n=b.useContext(mu);ps(n,"useFormAction must be used inside a RouteContext");let[s]=n.matches.slice(-1),i={...e1(t||".",{relative:e})},o=Ds();if(t==null){i.search=o.search;let l=new URLSearchParams(i.search),c=l.getAll("index");if(c.some(f=>f==="")){l.delete("index"),c.filter(h=>h).forEach(h=>l.append("index",h));let f=l.toString();i.search=f?`?${f}`:""}}return(!t||t===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:yf([r,i.pathname])),Wy(i)}function Fle(t,{relative:e}={}){let r=b.useContext(QY);ps(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=oK("useViewTransitionState"),s=e1(t,{relative:e});if(!r.isTransitioning)return!1;let i=Ef(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=Ef(r.nextLocation.pathname,n)||r.nextLocation.pathname;return nj(s.pathname,o)!=null||nj(s.pathname,i)!=null}var $O=WY();const lK=Vn($O),xR=t=>({1:"view_dashboard",2:"edit_dashboard",3:"view_assets",4:"create_assets",5:"edit_assets",6:"delete_assets",7:"view_workorders",8:"create_workorders",9:"assign_workorders",10:"complete_workorders",11:"view_reports",12:"export_reports",13:"view_settings",14:"edit_settings",15:"view_permissions",16:"edit_permissions",17:"manage_users",18:"edit_workorders",19:"delete_workorders",20:"create_reports",21:"edit_reports",22:"delete_reports",23:"view_inventory",24:"create_inventory",25:"edit_inventory",26:"delete_inventory",27:"view_teams",28:"create_teams",29:"edit_teams",30:"delete_teams",31:"view_machinehistory",32:"create_machine_history",33:"edit_machinehistory",34:"delete_machinehistory"})[t]||null;function Ble(t,e){var s,i,o,l,c,u,f,h,g,p,v,w,y,N,k,S,T,_,D,E,L,R,F,A,M,B,z;const r=((s=t.stoptime)==null?void 0:s.name)||((o=(i=e==null?void 0:e.stoptimes)==null?void 0:i.data.find(Y=>String(Y.id)===String(t.stoptime_id)))==null?void 0:o.name)||"-";(l=t.itemtrouble)!=null&&l.name||(u=(c=e==null?void 0:e.itemtroubles)==null?void 0:c.data.find(Y=>String(Y.id)===String(t.itemtrouble_id)))!=null&&u.name,(f=t.jenisaktifitas)!=null&&f.name||(g=(h=e==null?void 0:e.jenisaktivitas)==null?void 0:h.data.find(Y=>String(Y.id)===String(t.jenisaktifitas_id)))!=null&&g.name,(p=t.kegiatan)!=null&&p.name||(w=(v=e==null?void 0:e.kegiatans)==null?void 0:v.data.find(Y=>String(Y.id)===String(t.kegiatan_id)))!=null&&w.name;const n=((y=t.unitsp)==null?void 0:y.name)||((k=(N=e==null?void 0:e.unitspareparts)==null?void 0:N.data.find(Y=>String(Y.id)===String(t.unitsp_id)))==null?void 0:k.name)||"-";return{id:String(t.id),date:t.date,shift:((S=t.shift)==null?void 0:S.name)||"-",group:((T=t.group)==null?void 0:T.name)||"-",unit:((_=t.unit)==null?void 0:_.name)||"-",mesin:((D=t.mesin)==null?void 0:D.name)||"-",stopJam:((E=t.startstop)==null?void 0:E.stop_time_hh)??null,stopMenit:((L=t.startstop)==null?void 0:L.stop_time_mm)??null,startJam:((R=t.startstop)==null?void 0:R.start_time_hh)??null,startMenit:((F=t.startstop)==null?void 0:F.start_time_mm)??null,stopTime:r,runningHour:t.running_hour??0,itemTrouble:((A=t.itemtrouble)==null?void 0:A.name)||"-",jenisGangguan:t.jenis_gangguan||"",bentukTindakan:t.bentuk_tindakan||"",perbaikanPerawatan:((M=t.jenisaktifitas)==null?void 0:M.name)==="Perbaikan"?"Perbaikan":"Perawatan",rootCause:t.root_cause||"",jenisAktivitas:((B=t.jenisaktifitas)==null?void 0:B.name)||"-",kegiatan:((z=t.kegiatan)==null?void 0:z.name)||"-",kodePart:t.kode_part||"",sparePart:t.spare_part||"",idPart:t.id_part||"",jumlah:t.jumlah??0,unitSparePart:n,startstop:t.startstop??null}}const Db=roe(),cK=b.createContext(null),qm=t=>{var r,n;const e=t.department?{id:t.department.id,name:t.department.name,head_id:t.department.head_id,head:t.department.head?{id:t.department.head.id,name:t.department.head.name,email:t.department.head.email}:null}:null;return{id:String(t.id),name:t.name,nik:t.nik,email:t.email,roleId:t.role_id?String(t.role_id):null,role:t.role,customPermissions:t.customPermissions||[],permissions:t.permissions||t.allPermissions||[],department:e,department_id:t.department_id||((r=t.department)==null?void 0:r.id)||null,department_name:((n=t.department)==null?void 0:n.name)||null}},$le=({children:t})=>{const[e,r]=b.useState(null),[n,s]=b.useState(null),[i,o]=b.useState(!1),[l,c]=b.useState(null),[u,f]=b.useState(!0),[h,g]=b.useState(!0),[p,v]=b.useState(null),w=tr(),y=b.useRef(!1),N=b.useCallback(async()=>{o(!0);try{const ie=n||localStorage.getItem("token");ie&&await fetch(`${Db.envVariables.VITE_REACT_API_URL}/logout`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ie}`}})}finally{localStorage.removeItem("token"),localStorage.removeItem("refreshToken"),localStorage.removeItem("user"),s(null),r(null),c(null),o(!1),w("/login")}},[n,w]),k=b.useCallback(async()=>{if(y.current)return new Promise(ne=>{const He=setInterval(()=>{y.current||(clearInterval(He),ne(localStorage.getItem("token")))},100)});y.current=!0;const ie=localStorage.getItem("refreshToken");if(!ie)return await N(),null;try{const ne=await fetch(`${Db.envVariables.VITE_REACT_API_URL}/refresh-token`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ie}`},body:JSON.stringify({refresh_token:ie})});if(!ne.ok){if(ne.status===401)return await N(),null;throw new Error("Token refresh failed")}const He=await ne.json(),Kt=He.access_token,an=He.refresh_token||ie;return localStorage.setItem("token",Kt),localStorage.setItem("refreshToken",an),s(Kt),r(rr=>rr?{...rr,access_token:Kt,refresh_token:an}:null),Kt}catch{return await N(),null}finally{y.current=!1}},[N]),S=b.useCallback(async(ie,ne={})=>{let He=n||localStorage.getItem("token");const Kt=async an=>{var wo;if(!an)throw new Error("No token found");const rr=new Headers(ne.headers||{});((wo=rr.get("Content-Type"))!=null&&wo.includes("application/json")||!rr.has("Content-Type"))&&rr.set("Content-Type","application/json"),rr.set("Authorization",`Bearer ${an}`);const ss=await fetch(`${Db.envVariables.VITE_REACT_API_URL}${ie}`,{...ne,headers:rr});if(ss.status===204||ss.statusText==="No Content")return null;if(!ss.ok){let _c;try{_c=await ss.json()}catch{_c=await ss.text()}throw new Error(_c.message||`HTTP error! Status: ${ss.status}`)}let Zi;try{return Zi=await ss.text(),Zi?JSON.parse(Zi):null}catch{return Zi}};try{return await Kt(He)}catch(an){if(an instanceof Error&&an.message.includes("status: 401")){const rr=await k();if(rr)return await Kt(rr)}throw an}},[n,k]),T=b.useCallback(async()=>{const ie=await S("/user/profile?includes_trashed=true"),ne=qm(ie);return r(ne),localStorage.setItem("user",JSON.stringify(ne)),ne},[S]),_=b.useCallback(async()=>{const ie=localStorage.getItem("token"),ne=localStorage.getItem("user"),He=localStorage.getItem("refreshToken");if(ie&&He){s(ie);try{if(ne){const an=JSON.parse(ne);r(qm(an))}const Kt=await T();r(Kt)}catch{await N()}}},[T,N]),D=b.useCallback(async()=>{const[ie,ne,He,Kt,an,rr,ss,Zi,wo]=await Promise.all([S("/mesin?includes_trashed=true"),S("/group?includes_trashed=true"),S("/shift?includes_trashed=true"),S("/unit?includes_trashed=true"),S("/unitsp?includes_trashed=true"),S("/itemtrouble?includes_trashed=true"),S("/jenisaktifitas?includes_trashed=true"),S("/kegiatan?includes_trashed=true"),S("/stoptime?includes_trashed=true")]);return{mesin:ie,shifts:He,groups:ne,stoptimes:wo,units:Kt,itemtroubles:rr,jenisaktivitas:ss,kegiatans:Zi,unitspareparts:an}},[S]),E=b.useCallback(async()=>{try{return await S("/erp?includes_trashed=true",{method:"GET"})}catch(ie){throw ie}},[S]),L=b.useCallback(async ie=>{const ne=`<?xml version="1.0" encoding="utf-8"?>
      <soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" 
                    xmlns:tem="http://tempuri.org/" 
                    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
                    xmlns:xsd="http://www.w3.org/2001/XMLSchema">
          <soap:Body>
              <AddAsset xmlns="http://tempuri.org/">
                  <asset>
                      <Name>${ie.name}</Name>
                      <Category>${ie.category}</Category>
                      <Location>${ie.location}</Location>
                      <PurchaseDate>${ie.purchase_date}</PurchaseDate>
                      <Description>${ie.description}</Description>
                      <Type>${ie.type||""}</Type>
                      <Make>${ie.make||""}</Make>
                      <Model>${ie.model||""}</Model>
                      <Status>${ie.status||""}</Status>
                      <LastMaintenance ${ie.last_maintenance?"":'xsi:nil="true"'}>${ie.last_maintenance||""}</LastMaintenance>
                      <NextMaintenance>${ie.next_maintenance||""}</NextMaintenance>
                      <WorkOrders>${ie.work_orders||""}</WorkOrders>
                      <Health>${ie.health||""}</Health>
                  </asset>
              </AddAsset>
          </soap:Body>
      </soap:Envelope>`;try{const He=await S("/erp-endpoint?includes_trashed=true",{method:"POST",headers:{"Content-Type":"text/xml; charset=utf-8",SOAPAction:"http://tempuri.org/AddAsset"},body:ne});if(console.log("ERP SOAP Add Asset Response:",He),typeof He=="string"&&He.includes("<soap:Fault>"))throw new Error("SOAP Fault detected in response.");return He}catch(He){throw console.error("Error adding asset:",He),He}},[S]),R=b.useCallback(async ie=>{const ne=`<?xml version="1.0" encoding="utf-8"?>
      <soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">
        <soap:Body>
          <EditAsset xmlns="http://tempuri.org/ERPService/AssetManagement">
            <assetId>${ie.id}</assetId>
            <assetName>${ie.name}</assetName>
            <assetCategory>${ie.category}</assetCategory>
            <assetLocation>${ie.location}</assetLocation>
            <purchaseDate>${ie.purchase_date}</purchaseDate>
            <description>${ie.description}</description>
            <assetType>${ie.type||""}</assetType>
            <assetMake>${ie.make||""}</assetMake>
            <assetModel>${ie.model||""}</assetModel>
            <assetStatus>${ie.status||""}</assetStatus>
            <lastMaintenance>${ie.last_maintenance||""}</lastMaintenance>
            <nextMaintenance>${ie.next_maintenance||""}</nextMaintenance>
            <workOrders>${ie.work_orders||""}</workOrders>
            <health>${ie.health||""}</health>
          </EditAsset>
        </soap:Body>
      </soap:Envelope>`;try{const He=await S("/erp-endpoint?includes_trashed=true",{method:"POST",headers:{"Content-Type":"text/xml; charset=utf-8",SOAPAction:"http://tempuri.org/EditAsset"},body:ne});if(console.log("ERP SOAP Edit Asset Response:",He),typeof He=="string"&&He.includes("<soap:Fault>"))throw new Error("SOAP Fault detected in response.");return He}catch(He){throw console.error("Error editing asset:",He),He}},[S]),F=b.useCallback(async ie=>{const ne=`<?xml version="1.0" encoding="utf-8"?>
        <soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" 
               xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
               xmlns:xsd="http://www.w3.org/2001/XMLSchema">
          <soap:Body>
            <DeleteAsset xmlns="http://tempuri.org/ERPService/AssetManagement">
             <assetId>${ie}</assetId>
            </DeleteAsset>
          </soap:Body>
        </soap:Envelope>`;try{const He=await S("/erp-endpoint?includes_trashed=true",{method:"POST",headers:{"Content-Type":"text/xml; charset=utf-8",SOAPAction:"http://tempuri.org/DeleteAsset"},body:ne});if(console.log("ERP SOAP Delete Asset Response:",He),typeof He=="string"&&He.includes("<soap:Fault>"))throw new Error("SOAP Fault detected in response.");return He}catch(He){throw console.error("Error deleting asset:",He),He}},[S]),A=b.useCallback(async()=>{try{const ie=await S("/history?includes_trashed=true");return ie&&ie.history&&Array.isArray(ie.history)?ie.history:Array.isArray(ie)?ie:ie&&Array.isArray(ie.data)?ie.data:(console.warn("Unexpected audit trail response format:",ie),[])}catch(ie){return console.error("Failed to fetch audit trail:",ie),[]}},[S]),M=b.useCallback(ie=>{var He;if(!e)return!1;if(e.roleId==="3")return!0;if(Array.isArray(ie))return ie.some(Kt=>{var rr;const an=/^\d+$/.test(Kt)?xR(Kt):Kt;return an?(rr=e.permissions)==null?void 0:rr.includes(an):!1});const ne=/^\d+$/.test(ie)?xR(ie):ie;return ne&&((He=e.permissions)==null?void 0:He.includes(ne))||!1},[e]);b.useEffect(()=>{(async()=>{g(!0);try{if(await _(),n){const ne=await D();c(ne)}}catch{await N()}finally{g(!1),f(!1)}})()},[n,_,D,N]);const B=async(ie,ne,He,Kt,an,rr,ss)=>{const Zi=await fetch(`${Db.envVariables.VITE_REACT_API_URL}/register?includes_trashed=true`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:ie,nik:He,email:ne,password:Kt,department_id:an,role_id:rr||null,customPermissions:ss?ss.map(Number):[]})}),wo=await Zi.json();if(!Zi.ok)throw new Error(wo.message||"User creation failed");return wo},z=b.useCallback(async(ie,ne)=>{g(!0);try{const He=await fetch(`${Db.envVariables.VITE_REACT_API_URL}/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({nik:ie,password:ne})});if(!He.ok){const rr=await He.json();throw new Error(rr.message||"Login failed")}const Kt=await He.json(),an=qm({...Kt.user,access_token:Kt.access_token,refresh_token:Kt.refresh_token,permissions:Kt.user.permissions||Kt.user.allPermissions||[]});localStorage.setItem("token",Kt.access_token),localStorage.setItem("refreshToken",Kt.refresh_token),localStorage.setItem("user",JSON.stringify(an)),s(Kt.access_token),r(an);try{const rr=await D();c(rr)}catch{}w("/dashboard")}catch(He){throw He}finally{g(!1)}},[w,D]),Y=b.useCallback(async ie=>await S("/mhs?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ie)}),[S]),W=b.useCallback(async(ie="")=>{try{const ne=await S(ie?`/mhs?search=${encodeURIComponent(ie)}?includes_trashed=true`:"/mhs?includes_trashed=true"),He=await D(),Kt=ne.data||ne;if(!Array.isArray(Kt))throw new Error("Invalid response format");return Kt.map(an=>Ble(an,He))}catch{return[]}},[S,D]),H=b.useCallback(async ie=>await S(`/mhs/${ie}?includes_trashed=true`),[S]),q=b.useCallback(async(ie,ne)=>await S(`/mhs/${ie}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(ne)}),[S]),X=b.useCallback(async ie=>await S(`/mhs/${ie}?includes_trashed=true`,{method:"DELETE"}),[S]),oe=b.useCallback(async ie=>await S("/ayam?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ie)}),[S]),K=b.useCallback(async()=>{try{const ie=await S("/ayam?includes_trashed=true");return console.log("Raw work orders response:",ie),ie&&ie.success===!0&&Array.isArray(ie.data)?ie.data:Array.isArray(ie)?ie:ie&&Array.isArray(ie.data)?ie.data:(console.warn("Unexpected work orders response format:",ie),[])}catch(ie){return console.error("Failed to fetch work orders:",ie),[]}},[S]),V=b.useCallback(async ie=>{const ne=await S(`/ayam/${ie}?includes_trashed=true`,{method:"GET"});return console.log("API raw response:",ne),ne},[S]),J=b.useCallback(async ie=>{if(!ie.id)throw new Error("Work order ID is required for update.");return(await S(`/ayam/${ie.id}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(ie)})).data},[S]),Q=b.useCallback(async ie=>await S(`/ayam/${ie}?includes_trashed=true`,{method:"DELETE"}),[S]),re=b.useCallback(async ie=>(await K()).filter(He=>(He.requester_id===parseInt(ie)||He.assigned_to_id===parseInt(ie))&&(He.handling_status==="New"||He.handling_status==="Progress")),[K]),ce=b.useCallback(async(ie,ne)=>{await S("/user/password-update?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({current_password:ie,new_password:ne,new_password_confirmation:ne})})},[S]),Ee=b.useCallback(async()=>{try{const ie=await S("/users?includes_trashed=true");let ne;return ie&&ie.success!==void 0?ne=ie.data||[]:Array.isArray(ie)?ne=ie:ne=[],ne.map(He=>qm(He))}catch(ie){return console.error("Failed to fetch users:",ie),[]}},[S]);b.useCallback(async ie=>{const ne=await S(`/users/${ie}?includes_trashed=true`);return qm(ne)},[S]);const ke=b.useCallback(async()=>(await S("/user/profile?includes_trashed=true")).map(ne=>qm(ne)),[S]),ge=b.useCallback(async()=>(await S("/roles?includes_trashed=true")).map(ne=>({id:String(ne.id),name:ne.name,description:ne.description||`${ne.name} role`,permissions:ne.permissions.map(String),isSuperadmin:ne.name==="superadmin"})),[S]),Ce=b.useCallback(async ie=>{const ne=await S("/roles?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:ie.name,description:ie.description,permissions:ie.permissions.map(Number)})});return{id:String(ne.id),name:ne.name,description:ne.description,permissions:ne.permissions.map(String)}},[S]),Ke=b.useCallback(async(ie,ne)=>{var Kt;const He=await S(`/roles/${ie}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:ne.name,description:ne.description,permissions:(Kt=ne.permissions)==null?void 0:Kt.map(Number)})});return{id:String(He.id),name:He.name,description:He.description,permissions:He.permissions.map(String)}},[S]),fe=b.useCallback(async ie=>{await S(`/roles/${ie}?includes_trashed=true`,{method:"DELETE"})},[S]),ye=b.useCallback(async(ie,ne)=>{const He=await S(`/users/${ie}?includes_trashed=true`),Kt=await S(`/users/${ie}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:He.name,nik:He.nik,email:He.email,department:He.department,roleId:ne.roleId||null,customPermissions:ne.customPermissions||[]})});return qm(Kt)},[S]),ae=b.useCallback(async ie=>{await S(`/users/${ie}?includes_trashed=true`,{method:"DELETE"})},[S]),se=b.useCallback(async()=>{try{return(await S("/service-groups?includes_trashed=true")).data||[]}catch(ie){return console.error("Failed to fetch service groups:",ie),[]}},[S]),bt=b.useCallback(async ie=>{try{return(await S(`/service-groups/${ie}?includes_trashed=true`)).data}catch(ne){throw console.error(`Failed to fetch service group with id ${ie}:`,ne),ne}},[S]),pt=b.useCallback(async ie=>{try{const ne=await S("/service-groups?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ie)});if(!ne)throw new Error("No response from server");if(ne.success===!1)throw new Error(ne.message||"Failed to create service group");const He=ne.data||ne;return{id:He.id,group_name:He.group_name,group_description:He.group_description}}catch(ne){throw console.error("Error adding service group:",ne),new Error(`Failed to add service group: ${ne instanceof Error?ne.message:String(ne)}`)}},[S]),Re=b.useCallback(async(ie,ne)=>{try{const He=await S(`/service-groups/${ie}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(ne)}),Kt=He.data||He;return{id:Kt.id,group_name:Kt.group_name,group_description:Kt.group_description}}catch(He){throw console.error(`Failed to update service group with id ${ie}:`,He),new Error(`Failed to update service group: ${He instanceof Error?He.message:String(He)}`)}},[S]),Me=b.useCallback(async ie=>{try{await S(`/service-groups/${ie}?includes_trashed=true`,{method:"DELETE"})}catch(ne){throw console.error(`Failed to delete service group with id ${ie}:`,ne),new Error(`Failed to delete service group: ${ne instanceof Error?ne.message:String(ne)}`)}},[S]),qe=b.useCallback(async ie=>{try{const ne=await S("/service-catalogues?includes_trashed=true");console.log("Raw services response:",ne);let He;return ne&&ne.data&&Array.isArray(ne.data)?He=ne.data:Array.isArray(ne)?He=ne:(console.warn("Unexpected services response format:",ne),He=[]),console.log("Processed services data:",He),He}catch(ne){return console.error("Failed to fetch services:",ne),[]}},[S]),tt=b.useCallback(async ie=>{try{const ne=await S(`/service-catalogues?owner=${ie}&includes_trashed=true`);return ne.data||ne}catch(ne){return console.error("Failed to fetch services by owner:",ne),[]}},[S]),Ve=b.useCallback(async ie=>{try{const ne=await S("/service-catalogues",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ie)}),He=ne.data||ne;return{id:He.id,service_name:He.service_name,service_description:He.service_description,service_group:He.service_group,priority:He.priority,service_owner:He.service_owner,sla:He.sla,impact:He.impact,created_at:He.created_at,updated_at:He.updated_at}}catch(ne){throw console.error("Error adding service catalogue:",ne),new Error(`Failed to add service catalogue: ${ne instanceof Error?ne.message:String(ne)}`)}},[S]),Te=b.useCallback(async(ie,ne)=>{try{const He=await S(`/service-catalogues/${ie}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(ne)}),Kt=He.data||He;return{id:Kt.id,service_name:Kt.service_name,service_description:Kt.service_description,service_group:Kt.service_group,priority:Kt.priority,service_owner:Kt.service_owner,sla:Kt.sla,impact:Kt.impact,created_at:Kt.created_at,updated_at:Kt.updated_at}}catch(He){throw console.error(`Failed to update service catalogue with id ${ie}:`,He),new Error(`Failed to update service catalogue: ${He instanceof Error?He.message:String(He)}`)}},[S]),le=b.useCallback(async ie=>{try{await S(`/service-catalogues/${ie}?includes_trashed=true`,{method:"DELETE"})}catch(ne){throw console.error(`Failed to delete service catalogue with id ${ie}:`,ne),new Error(`Failed to delete service catalogue: ${ne instanceof Error?ne.message:String(ne)}`)}},[S]),Je=b.useCallback(ie=>{v(ie)},[]),Ge=b.useCallback(async()=>{try{const ie=await S("/department?includes_trashed=true");return ie.data||ie}catch(ie){return console.error("Failed to fetch departments:",ie),[]}},[S]),ut=b.useCallback(async ie=>(await S(`/department/${ie}?includes_trashed=true`)).data,[S]),Pe=b.useCallback(async ie=>await S("/department?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ie)}),[S]),Ne=b.useCallback(async(ie,ne)=>{try{const He=await S(`/department/${ie}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(ne)}),Kt=He.data||He;return{id:Kt.id,name:Kt.name,head_id:Kt.head_id}}catch(He){throw console.error(`Failed to update service group with id ${ie}:`,He),new Error(`Failed to update service group: ${He instanceof Error?He.message:String(He)}`)}},[S]),ze=b.useCallback(async ie=>{try{await S(`/department/${ie}?includes_trashed=true`,{method:"DELETE"})}catch(ne){throw console.error(`Failed to delete service catalogue with id ${ie}:`,ne),new Error(`Failed to delete service catalogue: ${ne instanceof Error?ne.message:String(ne)}`)}},[S]),me=b.useCallback(async()=>{try{const ie=await S("/stoptime?includes_trashed=true");return Array.isArray(ie)?ie:ie&&Array.isArray(ie.data)?ie.data:(console.warn("Unexpected stop times response format:",ie),[])}catch(ie){return console.error("Failed to fetch stop times:",ie),[]}},[S]),De=b.useCallback(async ie=>{try{const ne=await S(`/stoptime/${ie}`);if(console.log("StopTimes by ID response:",ne),ne&&typeof ne=="object")return ne.data?ne.data:ne;throw new Error("Invalid response format")}catch(ne){throw console.error(`Failed to fetch stop time with id ${ie}:`,ne),new Error(`Failed to fetch stop time: ${ne instanceof Error?ne.message:String(ne)}`)}},[S]),je=b.useCallback(async ie=>{try{return await S("/stoptime?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ie)})}catch(ne){throw console.error("Error adding stop time:",ne),new Error(`Failed to add stop time: ${ne instanceof Error?ne.message:String(ne)}`)}},[S]),We=b.useCallback(async(ie,ne)=>{try{const He=await S(`/stoptime/${ie}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(ne)});if(console.log("Update stop time response:",He),He&&typeof He=="object")return He.data?He.data:He;throw new Error("Invalid response format")}catch(He){throw console.error(`Failed to update stop time with id ${ie}:`,He),new Error(`Failed to update stop time: ${He instanceof Error?He.message:String(He)}`)}},[S]),rt=b.useCallback(async ie=>{try{await S(`/stoptime/${ie}?includes_trashed=true`,{method:"DELETE"})}catch(ne){throw console.error(`Failed to delete stop time with id ${ie}:`,ne),new Error(`Failed to delete stop time: ${ne instanceof Error?ne.message:String(ne)}`)}},[S]),ve=b.useCallback(async()=>{try{const ie=await S("/jenisaktifitas?includes_trashed=true");return Array.isArray(ie)?ie:ie&&Array.isArray(ie.data)?ie.data:(console.warn("Unexpected jenis aktifitas response format:",ie),[])}catch(ie){return console.error("Failed to fetch jenis aktifitas:",ie),[]}},[S]),xe=b.useCallback(async ie=>{try{const ne=await S(`/jenisaktifitas/${ie}`);if(console.log("Jenis Aktifitas by ID response:",ne),ne&&typeof ne=="object")return ne.data?ne.data:ne;throw new Error("Invalid response format")}catch(ne){throw console.error(`Failed to fetch jenis aktifitas with id ${ie}:`,ne),new Error(`Failed to fetch jenis aktifitas: ${ne instanceof Error?ne.message:String(ne)}`)}},[S]),Qe=b.useCallback(async ie=>{try{return await S("/jenisaktifitas?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ie)})}catch(ne){throw console.error("Error adding jenis aktifitas:",ne),new Error(`Failed to add jenis aktifitas: ${ne instanceof Error?ne.message:String(ne)}`)}},[S]),yt=b.useCallback(async(ie,ne)=>{try{const He=await S(`/jenisaktifitas/${ie}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(ne)});if(console.log("Update jenis aktifitas response:",He),He&&typeof He=="object")return He.data?He.data:He;throw new Error("Invalid response format")}catch(He){throw console.error(`Failed to update jenis aktifitas with id ${ie}:`,He),new Error(`Failed to update jenis aktifitas: ${He instanceof Error?He.message:String(He)}`)}},[S]),st=b.useCallback(async ie=>{try{await S(`/jenisaktifitas/${ie}?includes_trashed=true`,{method:"DELETE"})}catch(ne){throw console.error(`Failed to delete jenis aktifitas with id ${ie}:`,ne),new Error(`Failed to delete jenis aktifitas: ${ne instanceof Error?ne.message:String(ne)}`)}},[S]),_e=b.useCallback(async()=>{try{const ie=await S("/kegiatan?includes_trashed=true");return Array.isArray(ie)?ie:ie&&Array.isArray(ie.data)?ie.data:(console.warn("Unexpected activity response format:",ie),[])}catch(ie){return console.error("Failed to fetch activity:",ie),[]}},[S]),te=b.useCallback(async ie=>{try{const ne=await S(`/kegiatan/${ie}?includes_trashed=true`);if(console.log("Activity by ID response:",ne),ne&&typeof ne=="object")return ne.data?ne.data:ne;throw new Error("Invalid response format")}catch(ne){throw console.error(`Failed to fetch activity with id ${ie}:`,ne),new Error(`Failed to fetch activity: ${ne instanceof Error?ne.message:String(ne)}`)}},[S]),Fe=b.useCallback(async ie=>{try{return await S("/kegiatan?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ie)})}catch(ne){throw console.error("Error adding activity:",ne),new Error(`Failed to add activity: ${ne instanceof Error?ne.message:String(ne)}`)}},[S]),Xe=b.useCallback(async(ie,ne)=>{try{const He=await S(`/kegiatan/${ie}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(ne)});if(console.log("Update activity response:",He),He&&typeof He=="object")return He.data?He.data:He;throw new Error("Invalid response format")}catch(He){throw console.error(`Failed to update activity with id ${ie}:`,He),new Error(`Failed to update activity: ${He instanceof Error?He.message:String(He)}`)}},[S]),lt=b.useCallback(async ie=>{try{await S(`/kegiatan/${ie}?includes_trashed=true`,{method:"DELETE"})}catch(ne){throw console.error(`Failed to delete activity with id ${ie}:`,ne),new Error(`Failed to delete activity: ${ne instanceof Error?ne.message:String(ne)}`)}},[S]),wt=b.useCallback(async()=>{try{const ie=await S("/itemtrouble?includes_trashed=true");return Array.isArray(ie)?ie:ie&&Array.isArray(ie.data)?ie.data:(console.warn("Unexpected trouble item response format:",ie),[])}catch(ie){return console.error("Failed to fetch trouble item:",ie),[]}},[S]),$e=b.useCallback(async ie=>{try{const ne=await S(`/itemtrouble/${ie}?includes_trashed=true`);if(console.log("Trouble Item by ID response:",ne),ne&&typeof ne=="object")return ne.data?ne.data:ne;throw new Error("Invalid response format")}catch(ne){throw console.error(`Failed to fetch trouble item with id ${ie}:`,ne),new Error(`Failed to fetch trouble item: ${ne instanceof Error?ne.message:String(ne)}`)}},[S]),Ue=b.useCallback(async ie=>{try{return await S("/itemtrouble?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ie)})}catch(ne){throw console.error("Error adding trouble item:",ne),new Error(`Failed to add trouble item: ${ne instanceof Error?ne.message:String(ne)}`)}},[S]),et=b.useCallback(async(ie,ne)=>{try{const He=await S(`/itemtrouble/${ie}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(ne)});if(console.log("Update trouble item response:",He),He&&typeof He=="object")return He.data?He.data:He;throw new Error("Invalid response format")}catch(He){throw console.error(`Failed to update trouble item with id ${ie}:`,He),new Error(`Failed to update trouble item: ${He instanceof Error?He.message:String(He)}`)}},[S]),Rt=b.useCallback(async ie=>{try{await S(`/itemtrouble/${ie}?includes_trashed=true`,{method:"DELETE"})}catch(ne){throw console.error(`Failed to delete trouble item with id ${ie}:`,ne),new Error(`Failed to delete trouble item: ${ne instanceof Error?ne.message:String(ne)}`)}},[S]),Ut=b.useCallback(async()=>{try{const ie=await S("/unit?includes_trashed=true");return Array.isArray(ie)?ie:ie&&Array.isArray(ie.data)?ie.data:(console.warn("Unexpected Work Unit response format:",ie),[])}catch(ie){return console.error("Failed to fetch Work Unit:",ie),[]}},[S]),Wt=b.useCallback(async ie=>{try{const ne=await S(`/unit/${ie}?includes_trashed=true`);if(console.log("Work Unit by ID response:",ne),ne&&typeof ne=="object")return ne.data?ne.data:ne;throw new Error("Invalid response format")}catch(ne){throw console.error(`Failed to fetch work unit with id ${ie}:`,ne),new Error(`Failed to fetch work unit: ${ne instanceof Error?ne.message:String(ne)}`)}},[S]),mt=b.useCallback(async ie=>{try{return await S("/unit?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ie)})}catch(ne){throw console.error("Error adding work unit:",ne),new Error(`Failed to add work unit: ${ne instanceof Error?ne.message:String(ne)}`)}},[S]),Ct=b.useCallback(async(ie,ne)=>{try{const He=await S(`/unit/${ie}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(ne)});if(console.log("Update work unit response:",He),He&&typeof He=="object")return He.data?He.data:He;throw new Error("Invalid response format")}catch(He){throw console.error(`Failed to update work unit with id ${ie}:`,He),new Error(`Failed to update work unit: ${He instanceof Error?He.message:String(He)}`)}},[S]),Vt=b.useCallback(async ie=>{try{await S(`/unit/${ie}?includes_trashed=true`,{method:"DELETE"})}catch(ne){throw console.error(`Failed to delete work unit with id ${ie}:`,ne),new Error(`Failed to delete work unit: ${ne instanceof Error?ne.message:String(ne)}`)}},[S]),br=b.useCallback(async()=>{try{const ie=await S("/group?includes_trashed=true");return Array.isArray(ie)?ie:ie&&Array.isArray(ie.data)?ie.data:(console.warn("Unexpected Work Group response format:",ie),[])}catch(ie){return console.error("Failed to fetch Work Group:",ie),[]}},[S]),gn=b.useCallback(async ie=>{try{const ne=await S(`/group/${ie}?includes_trashed=true`);if(console.log("Work Group by ID response:",ne),ne&&typeof ne=="object")return ne.data?ne.data:ne;throw new Error("Invalid response format")}catch(ne){throw console.error(`Failed to fetch work group with id ${ie}:`,ne),new Error(`Failed to fetch work group: ${ne instanceof Error?ne.message:String(ne)}`)}},[S]),wn=b.useCallback(async ie=>{try{return await S("/group?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ie)})}catch(ne){throw console.error("Error adding work group:",ne),new Error(`Failed to add work group: ${ne instanceof Error?ne.message:String(ne)}`)}},[S]),ir=b.useCallback(async(ie,ne)=>{try{const He=await S(`/group/${ie}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(ne)});if(console.log("Update work group response:",He),He&&typeof He=="object")return He.data?He.data:He;throw new Error("Invalid response format")}catch(He){throw console.error(`Failed to update work group with id ${ie}:`,He),new Error(`Failed to update work group: ${He instanceof Error?He.message:String(He)}`)}},[S]),Wr=b.useCallback(async ie=>{try{await S(`/group/${ie}?includes_trashed=true`,{method:"DELETE"})}catch(ne){throw console.error(`Failed to delete work group with id ${ie}:`,ne),new Error(`Failed to delete work group: ${ne instanceof Error?ne.message:String(ne)}`)}},[S]),Kr=b.useCallback(async()=>{try{const ie=await S("/shift?includes_trashed=true");return Array.isArray(ie)?ie:ie&&Array.isArray(ie.data)?ie.data:(console.warn("Unexpected Work Shift response format:",ie),[])}catch(ie){return console.error("Failed to fetch Work Shift:",ie),[]}},[S]),Zt=b.useCallback(async ie=>{try{const ne=await S(`/shift/${ie}?includes_trashed=true`);if(console.log("Work Shift by ID response:",ne),ne&&typeof ne=="object")return ne.data?ne.data:ne;throw new Error("Invalid response format")}catch(ne){throw console.error(`Failed to fetch work shift with id ${ie}:`,ne),new Error(`Failed to fetch work shift: ${ne instanceof Error?ne.message:String(ne)}`)}},[S]),ct=b.useCallback(async ie=>{try{return await S("/shift?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ie)})}catch(ne){throw console.error("Error adding work shift:",ne),new Error(`Failed to add work shift: ${ne instanceof Error?ne.message:String(ne)}`)}},[S]),dt=b.useCallback(async(ie,ne)=>{try{const He=await S(`/shift/${ie}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(ne)});if(console.log("Update work shift response:",He),He&&typeof He=="object")return He.data?He.data:He;throw new Error("Invalid response format")}catch(He){throw console.error(`Failed to update work shift with id ${ie}:`,He),new Error(`Failed to update work shift: ${He instanceof Error?He.message:String(He)}`)}},[S]),Mt=b.useCallback(async ie=>{try{await S(`/shift/${ie}?includes_trashed=true`,{method:"DELETE"})}catch(ne){throw console.error(`Failed to delete work shift with id ${ie}:`,ne),new Error(`Failed to delete work shift: ${ne instanceof Error?ne.message:String(ne)}`)}},[S]),he=b.useCallback(async ie=>{try{const ne=await S(`/unit/${ie}?includes_trashed=true`);if(console.log("Unit by ID response:",ne),ne&&typeof ne=="object")return ne.success!==void 0&&ne.data?ne.data:ne;throw new Error("Invalid response format")}catch(ne){throw console.error(`Failed to fetch unit with id ${ie}:`,ne),new Error(`Failed to fetch unit: ${ne instanceof Error?ne.message:String(ne)}`)}},[S]),it=b.useCallback(async ie=>{try{const ne=await S(`/mesin/${ie}?includes_trashed=true`);if(console.log("Mesin by ID response:",ne),ne&&typeof ne=="object")return ne.success!==void 0&&ne.data?ne.data:ne;throw new Error("Invalid response format")}catch(ne){throw console.error(`Failed to fetch mesin with id ${ie}:`,ne),new Error(`Failed to fetch mesin: ${ne instanceof Error?ne.message:String(ne)}`)}},[S]),kt=b.useCallback(async()=>{try{const ie=await S("/unit?includes_trashed=true");let ne=[];return Array.isArray(ie)?ne=ie:ie&&Array.isArray(ie.data)&&(ne=ie.data),await Promise.all(ne.map(async Kt=>{try{const an=await S(`/unit/${Kt.id}?includes_trashed=true`);let rr=an;return an&&an.success!==void 0&&an.data&&(rr=an.data),{id:rr.id,name:rr.name,created_at:rr.created_at,updated_at:rr.updated_at,deleted_at:rr.deleted_at,mesin:rr.mesin||[]}}catch(an){return console.error(`Failed to get detail for unit ${Kt.id}:`,an),{id:Kt.id,name:Kt.name,created_at:Kt.created_at,updated_at:Kt.updated_at,deleted_at:Kt.deleted_at,mesin:[]}}}))}catch(ie){return console.error("Failed to fetch units with machines:",ie),[]}},[S]),cr=b.useCallback(async()=>{try{const ie=await S("/interval?includes_trashed=true");let ne=[];Array.isArray(ie)?ne=ie:ie&&Array.isArray(ie.data)&&(ne=ie.data);const He=await kt(),Kt=await S("/mesin?includes_trashed=true");let an=[];return Array.isArray(Kt)?an=Kt:Kt&&Array.isArray(Kt.data)&&(an=Kt.data),{unit:He,mesin:an,unitsWithMachines:He,intervals:ne}}catch(ie){return console.error("Error fetching master monitoring data:",ie),{unit:[],mesin:[],unitsWithMachines:[],intervals:[]}}},[S,kt]),Xr=b.useCallback(async()=>{try{const ie=await S("/monitoring-schedules?includes_trashed=true");if(Array.isArray(ie))return ie;if(ie&&ie.success!==void 0){if(ie.success&&Array.isArray(ie.data))return ie.data;if(ie.success&&Array.isArray(ie.result))return ie.result}return ie&&Array.isArray(ie.data)?ie.data:ie&&Array.isArray(ie.result)?ie.result:(console.warn("Unexpected monitoring schedule response format:",ie),[])}catch(ie){throw console.error("Error fetching monitoring schedule:",ie),new Error(`Failed to fetch monitoring schedule: ${ie instanceof Error?ie.message:String(ie)}`)}},[S]),Et=b.useCallback(async ie=>{try{const ne=await S(`/monitoring-schedules/${ie}?includes_trashed=true`);if(console.log("Monitoring schedule by ID response:",ne),ne&&ne.success!==void 0){if(ne.success&&ne.data)return ne.data;if(!ne.success)throw new Error(ne.message||"Failed to fetch monitoring schedule")}if(ne&&ne.id_monitoring_schedule)return ne;if(Array.isArray(ne)&&ne.length>0)return ne[0];throw new Error("Invalid response format")}catch(ne){if(console.error(`Failed to fetch monitoring schedule with id ${ie}:`,ne),ne instanceof Error){if(ne.message.includes("404"))throw new Error(`Monitoring schedule with id ${ie} not found`);if(ne.message.includes("401"))throw new Error("Unauthorized - Please login again")}throw new Error(`Failed to fetch monitoring schedule: ${ne instanceof Error?ne.message:String(ne)}`)}},[S]),sr=b.useCallback(async ie=>{try{const ne=await S("/monitoring-schedules",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ie)});if(!ne)throw new Error("No response from server");if(ne.success===!1)throw new Error(ne.message||"Failed to create monitoring schedule");const He=ne.data||ne.result||ne;if(!He)throw new Error("Invalid response format");return He}catch(ne){if(console.error("Error adding monitoring schedule:",ne),ne instanceof Error){if(ne.message.includes("401"))throw new Error("Unauthorized - Please login again");if(ne.message.includes("404"))throw new Error("Endpoint not found");if(ne.message.includes("500"))throw new Error("Server error - Please try again later")}throw new Error(`Failed to add monitoring schedule: ${ne instanceof Error?ne.message:String(ne)}`)}},[S]),Er=b.useCallback(async ie=>{try{const ne=await S("/monitoring-activities",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ie)});return Array.isArray(ne)?ne:ne&&Array.isArray(ne.data)?ne.data:(console.warn("Unexpected response format from monitoring-activities POST:",ne),[])}catch(ne){throw console.error("Error adding monitoring activities:",ne),new Error(`Failed to add monitoring activities: ${ne instanceof Error?ne.message:String(ne)}`)}},[S]),Nr=b.useCallback(async ie=>{try{const ne=ie.map(Kt=>({id_monitoring_activity:Kt.id,...Kt.data})),He=await S("/monitoring-activities-batch",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(ne)});return Array.isArray(He)?He:He&&Array.isArray(He.data)?He.data:(console.warn("Unexpected response format from monitoring-activities-batch PATCH:",He),[])}catch(ne){throw console.error("Error updating monitoring activities:",ne),new Error(`Failed to update monitoring activities: ${ne instanceof Error?ne.message:String(ne)}`)}},[S]),dr=b.useCallback(async ie=>{try{const ne=await S(`/mesin/${ie}?includes_trashed=true`);return console.log("Mesin detail response:",ne),ne&&ne.success!==void 0?ne.data:ne}catch(ne){throw console.error(`Failed to fetch mesin detail with id ${ie}:`,ne),new Error(`Failed to fetch mesin detail: ${ne instanceof Error?ne.message:String(ne)}`)}},[S]),Br=b.useCallback(async()=>{try{const ie=await S("/vendor?includes_trashed=true");return ie.data||ie}catch(ie){return console.error("Failed to fetch vendor:",ie),[]}},[S]),ba=b.useCallback(async ie=>(await S(`/vendor/${ie}?includes_trashed=true`)).data,[S]),zr=b.useCallback(async ie=>await S("/vendor?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ie)}),[S]),Ri=b.useCallback(async(ie,ne)=>{try{const He=await S(`/vendor/${ie}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(ne)}),Kt=He.data||He;return{id:Kt.id,name:Kt.name,address:Kt.address,contact_person:Kt.contact_person,email:Kt.email,telp:Kt.telp,HP:Kt.HP}}catch(He){throw console.error(`Failed to update vendor with id ${ie}:`,He),new Error(`Failed to update vendor: ${He instanceof Error?He.message:String(He)}`)}},[S]),ya=b.useCallback(async ie=>{try{await S(`/vendor/${ie}?includes_trashed=true`,{method:"DELETE"})}catch(ne){throw console.error(`Failed to delete vendor with id ${ie}:`,ne),new Error(`Failed to delete vendor: ${ne instanceof Error?ne.message:String(ne)}`)}},[S]),Sn=b.useCallback(async()=>{try{const ie=await S("/approval-templates?includes_trashed=true");return ie.data||ie}catch(ie){return console.error("Failed to fetch approval templates:",ie),[]}},[S]),Mn=b.useCallback(async ie=>await S(`/approval-templates/${ie}?includes_trashed=true`),[S]),en=b.useCallback(async ie=>{const ne=await S("/approval-templates?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ie)});return ne.data||ne},[S]),Fn=b.useCallback(async(ie,ne)=>{const He=await S(`/approval-templates/${ie}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(ne)});return He.data||He},[S]),Cc=b.useCallback(async ie=>{await S(`/approval-templates/${ie}?includes_trashed=true`,{method:"DELETE"})},[S]),Xi=b.useCallback(async(ie,ne)=>{const He=await S(`/approval-templates/${ie}/approvers?includes_trashed=true`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ne)});return He.data||He},[S]),vo=b.useCallback(async(ie,ne,He)=>{const Kt=await S(`/template-approvers/${ne}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(He)});return Kt.data||Kt},[S]),Qi=b.useCallback(async(ie,ne)=>{await S(`/template-approvers/${ne}?includes_trashed=true`,{method:"DELETE"})},[S]),qo=b.useCallback(async ie=>(await S(`/approval-templates/${ie}?includes_trashed=true`)).approvers||[],[S]),$a=b.useCallback(async ie=>{const ne=await S(`/approval-templates/${ie}/set-active?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"}});return ne.data||ne},[S]),Vs=b.useCallback(async(ie,ne)=>{const He=await S(`/schedules/${ie}/approve`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({comments:ne})});return He&&He.message?{success:!0,message:He.message,data:He.data||He}:He},[S]),vd=b.useCallback(async()=>{try{const ie=await S("/workarea?includes_trashed=true");return ie.data||ie}catch(ie){return console.error("Failed to fetch workarea:",ie),[]}},[S]),Yf=b.useCallback(async ie=>(await S(`/workarea/${ie}?includes_trashed=true`)).data,[S]),wd=b.useCallback(async ie=>await S("/workarea?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ie)}),[S]),ii=b.useCallback(async(ie,ne)=>{try{const He=await S(`/workarea/${ie}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(ne)}),Kt=He.data||He;return{id:Kt.id,work_area:Kt.work_area}}catch(He){throw console.error(`Failed to update work area with id ${ie}:`,He),new Error(`Failed to update work area: ${He instanceof Error?He.message:String(He)}`)}},[S]),jd=b.useCallback(async ie=>{try{await S(`/workarea/${ie}?includes_trashed=true`,{method:"DELETE"})}catch(ne){throw console.error(`Failed to delete work area with id ${ie}:`,ne),new Error(`Failed to delete work area: ${ne instanceof Error?ne.message:String(ne)}`)}},[S]),Nd=b.useCallback(async()=>{try{const ie=await S("/genba-roles?includes_trashed=true");return ie.data||ie}catch(ie){return console.error("Failed to fetch genba roles:",ie),[]}},[S]),Ii=b.useCallback(async()=>{try{const ie=await S("/genba-sos?includes_trashed=true");return ie.data||ie}catch(ie){return console.error("Failed to fetch genba SOs:",ie),[]}},[S]),Sd=b.useCallback(async ie=>{const ne=await S(`/genba-sos/${ie}?includes_trashed=true`);return ne.data||ne},[S]),Kf=b.useCallback(async ie=>{const ne=await S("/genba-sos",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ie)});return ne.data||ne},[S]),Jf=b.useCallback(async(ie,ne)=>{const He=await S(`/genba-sos/${ie}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(ne)});return He.data||He},[S]),kd=b.useCallback(async ie=>{await S(`/genba-sos/${ie}?includes_trashed=true`,{method:"DELETE"})},[S]),Cd=b.useCallback(async ie=>{const ne=await S(`/genba-sos/${ie}/activate?includes_trashed=true`,{method:"PATCH",headers:{"Content-Type":"application/json"}});return ne.data||ne},[S]);return a.jsx(cK.Provider,{value:{user:e,token:n,isAuthenticated:!!n,login:z,register:B,logout:N,isLoggingOut:i,fetchWithAuth:S,getAllMasterData:D,submitMachineHistory:Y,getMachineHistories:W,getMachineHistoryById:H,updateMachineHistory:q,deleteMachineHistory:X,masterData:l,isMasterDataLoading:u,addWorkOrderIT:oe,getWorkOrdersIT:K,updateWorkOrderIT:J,deleteWorkOrder:Q,getWorkOrderById:V,departments:[],services:[],serviceGroups:[],getServices:qe,getServicesByOwner:tt,addServiceCatalogue:Ve,updateServiceCatalogue:Te,deleteServiceCatalogue:le,getServiceGroups:se,getServiceGroup:bt,addServiceGroup:pt,updateServiceGroup:Re,deleteServiceGroup:Me,changePassword:ce,fetchUser:T,fetchedUsers:ke,getUsers:Ee,hasPermission:M,setEditingUser:Je,getRoles:ge,createRole:Ce,updateRole:Ke,deleteRole:fe,updateUserPermissions:ye,deleteUser:ae,isAuthLoading:h,getAssetsData:E,addAsset:L,editAsset:R,deleteAsset:F,getWorkOrdersForUser:re,getAuditTrail:A,getDepartment:Ge,getDepartmentById:ut,addDepartment:Pe,updateDepartment:Ne,deleteDepartment:ze,getMonitoringSchedules:Xr,addMonitoringSchedule:sr,addMonitoringActivities:Er,updateMonitoringActivity:Nr,getStopTimes:me,getStopTimesById:De,addStopTimes:je,updateStopTimes:We,deleteStopTimes:rt,getActivityTypes:ve,getActivityTypesById:xe,addActivityTypes:Qe,updateActivityTypes:yt,deleteActivityTypes:st,getActivity:_e,getActivityById:te,addActivity:Fe,updateActivity:Xe,deleteActivity:lt,getTroubleItem:wt,getTroubleItemById:$e,addTroubleItem:Ue,updateTroubleItem:et,deleteTroubleItem:Rt,getWorkUnit:Ut,getWorkUnitById:Wt,addWorkUnit:mt,updateWorkUnit:Ct,deleteWorkUnit:Vt,getWorkGroup:br,getWorkGroupById:gn,addWorkGroup:wn,updateWorkGroup:ir,deleteWorkGroup:Wr,getWorkShift:Kr,getWorkShiftById:Zt,addWorkShift:ct,updateWorkShift:dt,deleteWorkShift:Mt,getUnit:he,getMesin:it,getUnitsWithMachines:kt,getAllMasterMonitoring:cr,getMesinDetail:dr,getMonitoringScheduleById:Et,getVendor:Br,getVendorById:ba,addVendor:zr,updateVendor:Ri,deleteVendor:ya,getApprovalTemplates:Sn,getApprovalTemplateById:Mn,createApprovalTemplate:en,updateApprovalTemplate:Fn,deleteApprovalTemplate:Cc,addApproverToTemplate:Xi,updateApprover:vo,deleteApprover:Qi,getTemplateApprovers:qo,setApprovalTemplateActive:$a,approveSchedule:Vs,getWorkArea:vd,getWorkAreaById:Yf,addWorkArea:wd,updateWorkArea:ii,deleteWorkArea:jd,getGenbaRoles:Nd,getGenbaSOs:Ii,getGenbaSOById:Sd,createGenbaSO:Kf,updateGenbaSO:Jf,deleteGenbaSO:kd,setGenbaSOActive:Cd},children:t})},or=()=>{const t=b.useContext(cK);if(!t)throw new Error("useAuth must be used within AuthProvider");return t},xp="/assets/logo-wida-OsCBOu3a.png";var uK={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},bR=pe.createContext&&pe.createContext(uK),Hle=["attr","size","title"];function zle(t,e){if(t==null)return{};var r=qle(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function qle(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function aj(){return aj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},aj.apply(this,arguments)}function yR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function sj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yR(Object(r),!0).forEach(function(n){Ule(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ule(t,e,r){return e=Wle(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Wle(t){var e=Vle(t,"string");return typeof e=="symbol"?e:e+""}function Vle(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dK(t){return t&&t.map((e,r)=>pe.createElement(e.tag,sj({key:r},e.attr),dK(e.child)))}function Sc(t){return e=>pe.createElement(Gle,aj({attr:sj({},t.attr)},e),dK(t.child))}function Gle(t){var e=r=>{var{attr:n,size:s,title:i}=t,o=zle(t,Hle),l=s||r.size||"1em",c;return r.className&&(c=r.className),t.className&&(c=(c?c+" ":"")+t.className),pe.createElement("svg",aj({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,o,{className:c,style:sj(sj({color:t.color||r.color},r.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),i&&pe.createElement("title",null,i),t.children)};return bR!==void 0?pe.createElement(bR.Consumer,null,r=>e(r)):e(uK)}function xw(t){return Sc({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"},child:[]}]})(t)}function HO(t){return Sc({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 19 5 12 12 5"},child:[]}]})(t)}function Yle(t){return Sc({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"},child:[]}]})(t)}function Kle(t){return Sc({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(t)}function Jle(t){return Sc({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"18 15 12 9 6 15"},child:[]}]})(t)}function _2(t){return Sc({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"},child:[]},{tag:"line",attr:{x1:"1",y1:"1",x2:"23",y2:"23"},child:[]}]})(t)}function A2(t){return Sc({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(t)}function Xle(t){return Sc({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},child:[]},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"},child:[]}]})(t)}function vR(t){return Sc({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12.01",y2:"8"},child:[]}]})(t)}function wR(t){return Sc({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 10 0v4"},child:[]}]})(t)}function Qle(t){return Sc({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(t)}function Zle(t){return Sc({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"line",attr:{x1:"20",y1:"8",x2:"20",y2:"14"},child:[]},{tag:"line",attr:{x1:"23",y1:"11",x2:"17",y2:"11"},child:[]}]})(t)}const bw=["Hello","Bonjour","Holla","こんにちは ","Salam","안녕하세요","Hallo","Namaste","早上好"],ece=()=>{const[t,e]=b.useState(""),[r,n]=b.useState(""),[s,i]=b.useState(!1),[o,l]=b.useState(""),[c,u]=b.useState(!1),[f,h]=b.useState(!1),[g,p]=b.useState(bw[0]),[v,w]=b.useState(!1),{login:y}=or(),N=tr();b.useEffect(()=>{h(!0);let D;const E=setInterval(()=>{w(!0),D=window.setTimeout(()=>{p(L=>{const F=(bw.indexOf(L)+1)%bw.length;return bw[F]}),w(!1)},500)},3e3);return()=>{clearInterval(E),clearTimeout(D)}},[]);const k={fontSize:"3rem",fontFamily:"sans-serif",transition:"opacity 0.5s ease-in-out, transform 0.5s ease-in-out"},S=v?{opacity:0,transform:"translateY(-20px)"}:{opacity:1,transform:"translateY(0)"},T=async D=>{D.preventDefault(),l(""),u(!0);try{await y(t,r),N("/dashboard")}catch(E){l(E instanceof Error?E.message:"Login failed")}finally{u(!1)}},_=()=>{i(!s)};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-white to-blue-50 p-4 font-sans",children:a.jsxs("div",{className:`flex flex-col lg:flex-row w-full max-w-6xl mx-auto bg-white rounded-xl shadow-lg overflow-hidden
                    transform transition-all duration-700 ease-out ${f?"translate-y-0 opacity-100":"translate-y-10 opacity-0"}`,children:[a.jsxs("div",{className:"w-full lg:w-1/2 p-6 sm:p-10 md:p-12 flex flex-col justify-center",children:[a.jsxs("div",{className:`flex items-center space-x-2 mb-8 transition-opacity duration-700 ease-out delay-200 ${f?"opacity-100":"opacity-0"}`,children:[a.jsx("img",{src:xp,alt:"Logo Wida",className:"h-10 w-auto"}),a.jsx("span",{className:"text-xl font-bold text-blue-800 italic",children:"PT WIDATRA BHAKTI"})]}),a.jsx("h1",{style:{...k,...S},className:`text-3xl font-bold transition-opacity duration-700 ease-out delay-300 ${f?"opacity-100":"opacity-0"}`,children:g}),a.jsx("h1",{className:"text-5xl font-bold mb-2 transition-opacity duration-700 ease-out delay-300 font-sans",children:"Welcome Back"}),a.jsx("p",{className:`text-gray-600 mb-8 transition-opacity duration-700 ease-out delay-400 ${f?"opacity-100":"opacity-0"}`,children:"Hey, welcome back to your special place"}),o&&a.jsxs("div",{role:"alert",className:"mb-6 text-sm text-red-700 bg-red-50 border border-red-100 px-4 py-3 rounded-md flex items-start animate-fade-in",children:[a.jsx("svg",{className:"w-4 h-4 mt-0.5 mr-2 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),a.jsx("span",{children:o})]}),a.jsxs("form",{onSubmit:T,className:"space-y-6","aria-label":"Login Form",children:[a.jsxs("div",{className:`transition-all duration-500 ease-out delay-500 ${f?"translate-x-0 opacity-100":"-translate-x-5 opacity-0"}`,children:[a.jsx("label",{htmlFor:"nik",className:"block text-sm font-medium text-gray-700 mb-1",children:"NIK"}),a.jsx("input",{id:"nik",type:"text",placeholder:"Masukkan NIK Anda (16 digit)",value:t,onChange:D=>e(D.target.value),required:!0,autoComplete:"off",className:`w-full px-4 py-3 text-base rounded-md border border-gray-300\r
                          focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 focus:shadow-md\r
                          transition-all duration-300 ease-in-out`})]}),a.jsxs("div",{className:`transition-all duration-500 ease-out delay-600 ${f?"translate-x-0 opacity-100":"-translate-x-5 opacity-0"}`,children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{id:"password",type:s?"text":"password",placeholder:"••••••••",value:r,onChange:D=>n(D.target.value),required:!0,autoComplete:"current-password",className:`w-full px-4 py-3 text-base rounded-md border border-gray-300\r
                            focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 focus:shadow-md\r
                            transition-all duration-300 ease-in-out pr-10`}),a.jsx("button",{type:"button",onClick:_,className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-500 hover:text-gray-700 transition-colors duration-200","aria-label":s?"Hide password":"Show password",children:s?a.jsx(_2,{size:18}):a.jsx(A2,{size:18})})]}),a.jsx("div",{className:"flex justify-end mt-2",children:a.jsx("a",{href:"/forgot-password",className:"text-sm text-blue-600 hover:text-blue-800 hover:underline transition-all duration-200",children:"Forgot Password?"})})]}),a.jsxs("div",{className:`flex items-center transition-all duration-500 ease-out delay-700 ${f?"translate-x-0 opacity-100":"-translate-x-5 opacity-0"}`,children:[a.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded transition-all duration-200"}),a.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-700",children:"Remember me"})]}),a.jsx("button",{type:"submit",disabled:c,className:`w-full py-3 px-4 rounded-md text-base font-medium
                          transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500
                          ${c?"bg-blue-400 text-white cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700 active:bg-blue-800 transform hover:-translate-y-0.5"}
                          flex items-center justify-center
                          ${f?"translate-y-0 opacity-100 delay-800":"translate-y-5 opacity-0"}`,children:c?a.jsxs(a.Fragment,{children:[a.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Authenticating..."]}):"Sign In"})]}),a.jsxs("p",{className:`text-sm text-center mt-6 transition-opacity duration-700 ease-out delay-900 ${f?"opacity-100":"opacity-0"}`,children:["Don't have an account?"," ",a.jsx(om,{to:"#",className:"text-blue-500 hover:text-blue-700 hover:underline transition-all duration-200",children:"Report to IT Department"})]}),a.jsx("div",{className:"mt-8 pt-5 border-t border-gray-100 text-center",children:a.jsxs("p",{className:`text-xs text-gray-500 transition-opacity duration-700 ease-out delay-1000 ${f?"opacity-100":"opacity-0"}`,children:["© ",new Date().getFullYear()," PT Widatra Bhakti. All rights reserved."]})})]}),a.jsxs("div",{className:`hidden lg:flex lg:w-1/2 bg-gradient-to-br from-blue-500 to-aqua-800 items-center justify-center relative p-8
                      transform transition-all duration-700 ease-out delay-300 ${f?"translate-x-0 opacity-100":"translate-x-10 opacity-0"}`,children:[a.jsx("div",{className:"absolute top-1/4 left-1/4 bg-white opacity-20 w-32 h-16 rounded-full blur-md animate-float"}),a.jsx("div",{className:"absolute bottom-1/3 right-1/4 bg-white opacity-20 w-48 h-24 rounded-full blur-md animate-float-delay"}),a.jsx("div",{className:"absolute top-8 right-8 bg-white opacity-20 w-24 h-12 rounded-full blur-md animate-float-fast"}),a.jsxs("div",{className:"relative w-64 h-96 bg-gray-800 rounded-3xl shadow-xl flex items-center justify-center p-4 transform scale-100 hover:scale-105 transition-transform duration-300 ease-in-out",children:[a.jsx("div",{className:"absolute top-0 w-16 h-2 bg-gray-700 rounded-b-lg"}),a.jsx("div",{className:"text-purple-300 animate-pulse-light",children:a.jsx("svg",{className:"w-24 h-24",fill:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{d:"M12 1C5.925 1 1 5.925 1 12s4.925 11 11 11 11-4.925 11-11S18.075 1 12 1zm0 20c-4.963 0-9-4.037-9-9s4.037-9 9-9 9 4.037 9 9-4.037 9-9 9zM10.5 7h3v3h-3V7zm-2 2h3v3h-3V9zm4 0h3v3h-3V9zm-2 2h3v3h-3v-3zm-2 2h3v3h-3v-3zm4 0h3v3h-3v-3zm-2 2h3v3h-3v-3z"})})}),a.jsxs("div",{className:"absolute bottom-10 left-0 right-0 text-center text-white text-sm",children:[a.jsx("div",{className:"w-3/4 mx-auto bg-gray-700 rounded-full h-1 mb-2",children:a.jsx("div",{className:"bg-purple-300 h-1 rounded-full w-2/3 animate-progress-fill"})}),a.jsx("p",{children:"Please enter your fingerprint to continue"})]})]}),a.jsx("div",{className:"absolute bottom-1/4 right-1 /4 bg-white opacity-80 rounded-2xl p-6 shadow-xl transform scale-95 hover:scale-100 transition-transform duration-300 ease-in-out",children:a.jsx("svg",{className:"w-16 h-16 text-gray-800",fill:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{d:"M12 2C9.243 2 7 4.243 7 7v4H6c-1.103 0-2 .897-2 2v7c0 1.103.897 2 2 2h12c1.103 0 2-.897 2-2v-7c0-1.103-.897-2-2-2h-1V7c0-2.757-2.243-5-5-5zm0 2c1.654 0 3 1.346 3 3v4h-6V7c0-1.654 1.346-3 3-3zM6 13h12v7H6v-7z"})})})]})]})})},zO=b.createContext({});function qO(t){const e=b.useRef(null);return e.current===null&&(e.current=t()),e.current}const UO=typeof window<"u",fK=UO?b.useLayoutEffect:b.useEffect,AN=b.createContext(null);function WO(t,e){t.indexOf(e)===-1&&t.push(e)}function VO(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}const Of=(t,e,r)=>r>e?e:r<t?t:r;let GO=()=>{};const Df={},hK=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function mK(t){return typeof t=="object"&&t!==null}const pK=t=>/^0[^.\s]+$/u.test(t);function YO(t){let e;return()=>(e===void 0&&(e=t()),e)}const pc=t=>t,tce=(t,e)=>r=>e(t(r)),t1=(...t)=>t.reduce(tce),Vy=(t,e,r)=>{const n=e-t;return n===0?1:(r-t)/n};class KO{constructor(){this.subscriptions=[]}add(e){return WO(this.subscriptions,e),()=>VO(this.subscriptions,e)}notify(e,r,n){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,r,n);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ed=t=>t*1e3,fc=t=>t/1e3;function gK(t,e){return e?t*(1e3/e):0}const xK=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,rce=1e-7,nce=12;function ace(t,e,r,n,s){let i,o,l=0;do o=e+(r-e)/2,i=xK(o,n,s)-t,i>0?r=o:e=o;while(Math.abs(i)>rce&&++l<nce);return o}function r1(t,e,r,n){if(t===e&&r===n)return pc;const s=i=>ace(i,0,1,t,r);return i=>i===0||i===1?i:xK(s(i),e,n)}const bK=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,yK=t=>e=>1-t(1-e),vK=r1(.33,1.53,.69,.99),JO=yK(vK),wK=bK(JO),jK=t=>(t*=2)<1?.5*JO(t):.5*(2-Math.pow(2,-10*(t-1))),XO=t=>1-Math.sin(Math.acos(t)),NK=yK(XO),SK=bK(XO),sce=r1(.42,0,1,1),ice=r1(0,0,.58,1),kK=r1(.42,0,.58,1),oce=t=>Array.isArray(t)&&typeof t[0]!="number",CK=t=>Array.isArray(t)&&typeof t[0]=="number",lce={linear:pc,easeIn:sce,easeInOut:kK,easeOut:ice,circIn:XO,circInOut:SK,circOut:NK,backIn:JO,backInOut:wK,backOut:vK,anticipate:jK},cce=t=>typeof t=="string",jR=t=>{if(CK(t)){GO(t.length===4);const[e,r,n,s]=t;return r1(e,r,n,s)}else if(cce(t))return lce[t];return t},yw=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function uce(t,e){let r=new Set,n=new Set,s=!1,i=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(f){o.has(f)&&(u.schedule(f),t()),f(l)}const u={schedule:(f,h=!1,g=!1)=>{const v=g&&s?r:n;return h&&o.add(f),v.has(f)||v.add(f),f},cancel:f=>{n.delete(f),o.delete(f)},process:f=>{if(l=f,s){i=!0;return}s=!0,[r,n]=[n,r],r.forEach(c),r.clear(),s=!1,i&&(i=!1,u.process(f))}};return u}const dce=40;function _K(t,e){let r=!1,n=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,o=yw.reduce((S,T)=>(S[T]=uce(i),S),{}),{setup:l,read:c,resolveKeyframes:u,preUpdate:f,update:h,preRender:g,render:p,postRender:v}=o,w=()=>{const S=Df.useManualTiming?s.timestamp:performance.now();r=!1,Df.useManualTiming||(s.delta=n?1e3/60:Math.max(Math.min(S-s.timestamp,dce),1)),s.timestamp=S,s.isProcessing=!0,l.process(s),c.process(s),u.process(s),f.process(s),h.process(s),g.process(s),p.process(s),v.process(s),s.isProcessing=!1,r&&e&&(n=!1,t(w))},y=()=>{r=!0,n=!0,s.isProcessing||t(w)};return{schedule:yw.reduce((S,T)=>{const _=o[T];return S[T]=(D,E=!1,L=!1)=>(r||y(),_.schedule(D,E,L)),S},{}),cancel:S=>{for(let T=0;T<yw.length;T++)o[yw[T]].cancel(S)},state:s,steps:o}}const{schedule:ns,cancel:lm,state:Wi,steps:dC}=_K(typeof requestAnimationFrame<"u"?requestAnimationFrame:pc,!0);let T2;function fce(){T2=void 0}const ol={now:()=>(T2===void 0&&ol.set(Wi.isProcessing||Df.useManualTiming?Wi.timestamp:performance.now()),T2),set:t=>{T2=t,queueMicrotask(fce)}},AK=t=>e=>typeof e=="string"&&e.startsWith(t),QO=AK("--"),hce=AK("var(--"),ZO=t=>hce(t)?mce.test(t.split("/*")[0].trim()):!1,mce=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Dx={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Gy={...Dx,transform:t=>Of(0,1,t)},vw={...Dx,default:1},yy=t=>Math.round(t*1e5)/1e5,eD=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function pce(t){return t==null}const gce=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,tD=(t,e)=>r=>!!(typeof r=="string"&&gce.test(r)&&r.startsWith(t)||e&&!pce(r)&&Object.prototype.hasOwnProperty.call(r,e)),TK=(t,e,r)=>n=>{if(typeof n!="string")return n;const[s,i,o,l]=n.match(eD);return{[t]:parseFloat(s),[e]:parseFloat(i),[r]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},xce=t=>Of(0,255,t),fC={...Dx,transform:t=>Math.round(xce(t))},ap={test:tD("rgb","red"),parse:TK("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+fC.transform(t)+", "+fC.transform(e)+", "+fC.transform(r)+", "+yy(Gy.transform(n))+")"};function bce(t){let e="",r="",n="",s="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),n=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),n=t.substring(3,4),s=t.substring(4,5),e+=e,r+=r,n+=n,s+=s),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:s?parseInt(s,16)/255:1}}const D6={test:tD("#"),parse:bce,transform:ap.transform},n1=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Lh=n1("deg"),td=n1("%"),Jr=n1("px"),yce=n1("vh"),vce=n1("vw"),NR={...td,parse:t=>td.parse(t)/100,transform:t=>td.transform(t*100)},fg={test:tD("hsl","hue"),parse:TK("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+td.transform(yy(e))+", "+td.transform(yy(r))+", "+yy(Gy.transform(n))+")"},Qs={test:t=>ap.test(t)||D6.test(t)||fg.test(t),parse:t=>ap.test(t)?ap.parse(t):fg.test(t)?fg.parse(t):D6.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?ap.transform(t):fg.transform(t),getAnimatableNone:t=>{const e=Qs.parse(t);return e.alpha=0,Qs.transform(e)}},wce=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function jce(t){var e,r;return isNaN(t)&&typeof t=="string"&&(((e=t.match(eD))==null?void 0:e.length)||0)+(((r=t.match(wce))==null?void 0:r.length)||0)>0}const MK="number",EK="color",Nce="var",Sce="var(",SR="${}",kce=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Yy(t){const e=t.toString(),r=[],n={color:[],number:[],var:[]},s=[];let i=0;const l=e.replace(kce,c=>(Qs.test(c)?(n.color.push(i),s.push(EK),r.push(Qs.parse(c))):c.startsWith(Sce)?(n.var.push(i),s.push(Nce),r.push(c)):(n.number.push(i),s.push(MK),r.push(parseFloat(c))),++i,SR)).split(SR);return{values:r,split:l,indexes:n,types:s}}function OK(t){return Yy(t).values}function DK(t){const{split:e,types:r}=Yy(t),n=e.length;return s=>{let i="";for(let o=0;o<n;o++)if(i+=e[o],s[o]!==void 0){const l=r[o];l===MK?i+=yy(s[o]):l===EK?i+=Qs.transform(s[o]):i+=s[o]}return i}}const Cce=t=>typeof t=="number"?0:Qs.test(t)?Qs.getAnimatableNone(t):t;function _ce(t){const e=OK(t);return DK(t)(e.map(Cce))}const cm={test:jce,parse:OK,createTransformer:DK,getAnimatableNone:_ce};function hC(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function Ace({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,e/=100,r/=100;let s=0,i=0,o=0;if(!e)s=i=o=r;else{const l=r<.5?r*(1+e):r+e-r*e,c=2*r-l;s=hC(c,l,t+1/3),i=hC(c,l,t),o=hC(c,l,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:n}}function ij(t,e){return r=>r>0?e:t}const hs=(t,e,r)=>t+(e-t)*r,mC=(t,e,r)=>{const n=t*t,s=r*(e*e-n)+n;return s<0?0:Math.sqrt(s)},Tce=[D6,ap,fg],Mce=t=>Tce.find(e=>e.test(t));function kR(t){const e=Mce(t);if(!e)return!1;let r=e.parse(t);return e===fg&&(r=Ace(r)),r}const CR=(t,e)=>{const r=kR(t),n=kR(e);if(!r||!n)return ij(t,e);const s={...r};return i=>(s.red=mC(r.red,n.red,i),s.green=mC(r.green,n.green,i),s.blue=mC(r.blue,n.blue,i),s.alpha=hs(r.alpha,n.alpha,i),ap.transform(s))},P6=new Set(["none","hidden"]);function Ece(t,e){return P6.has(t)?r=>r<=0?t:e:r=>r>=1?e:t}function Oce(t,e){return r=>hs(t,e,r)}function rD(t){return typeof t=="number"?Oce:typeof t=="string"?ZO(t)?ij:Qs.test(t)?CR:Lce:Array.isArray(t)?PK:typeof t=="object"?Qs.test(t)?CR:Dce:ij}function PK(t,e){const r=[...t],n=r.length,s=t.map((i,o)=>rD(i)(i,e[o]));return i=>{for(let o=0;o<n;o++)r[o]=s[o](i);return r}}function Dce(t,e){const r={...t,...e},n={};for(const s in r)t[s]!==void 0&&e[s]!==void 0&&(n[s]=rD(t[s])(t[s],e[s]));return s=>{for(const i in n)r[i]=n[i](s);return r}}function Pce(t,e){const r=[],n={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const i=e.types[s],o=t.indexes[i][n[i]],l=t.values[o]??0;r[s]=l,n[i]++}return r}const Lce=(t,e)=>{const r=cm.createTransformer(e),n=Yy(t),s=Yy(e);return n.indexes.var.length===s.indexes.var.length&&n.indexes.color.length===s.indexes.color.length&&n.indexes.number.length>=s.indexes.number.length?P6.has(t)&&!s.values.length||P6.has(e)&&!n.values.length?Ece(t,e):t1(PK(Pce(n,s),s.values),r):ij(t,e)};function LK(t,e,r){return typeof t=="number"&&typeof e=="number"&&typeof r=="number"?hs(t,e,r):rD(t)(t,e)}const Rce=t=>{const e=({timestamp:r})=>t(r);return{start:(r=!0)=>ns.update(e,r),stop:()=>lm(e),now:()=>Wi.isProcessing?Wi.timestamp:ol.now()}},RK=(t,e,r=10)=>{let n="";const s=Math.max(Math.round(e/r),2);for(let i=0;i<s;i++)n+=Math.round(t(i/(s-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},oj=2e4;function nD(t){let e=0;const r=50;let n=t.next(e);for(;!n.done&&e<oj;)e+=r,n=t.next(e);return e>=oj?1/0:e}function Ice(t,e=100,r){const n=r({...t,keyframes:[0,e]}),s=Math.min(nD(n),oj);return{type:"keyframes",ease:i=>n.next(s*i).value/e,duration:fc(s)}}const Fce=5;function IK(t,e,r){const n=Math.max(e-Fce,0);return gK(r-t(n),e-n)}const Cs={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},pC=.001;function Bce({duration:t=Cs.duration,bounce:e=Cs.bounce,velocity:r=Cs.velocity,mass:n=Cs.mass}){let s,i,o=1-e;o=Of(Cs.minDamping,Cs.maxDamping,o),t=Of(Cs.minDuration,Cs.maxDuration,fc(t)),o<1?(s=u=>{const f=u*o,h=f*t,g=f-r,p=L6(u,o),v=Math.exp(-h);return pC-g/p*v},i=u=>{const h=u*o*t,g=h*r+r,p=Math.pow(o,2)*Math.pow(u,2)*t,v=Math.exp(-h),w=L6(Math.pow(u,2),o);return(-s(u)+pC>0?-1:1)*((g-p)*v)/w}):(s=u=>{const f=Math.exp(-u*t),h=(u-r)*t+1;return-pC+f*h},i=u=>{const f=Math.exp(-u*t),h=(r-u)*(t*t);return f*h});const l=5/t,c=Hce(s,i,l);if(t=ed(t),isNaN(c))return{stiffness:Cs.stiffness,damping:Cs.damping,duration:t};{const u=Math.pow(c,2)*n;return{stiffness:u,damping:o*2*Math.sqrt(n*u),duration:t}}}const $ce=12;function Hce(t,e,r){let n=r;for(let s=1;s<$ce;s++)n=n-t(n)/e(n);return n}function L6(t,e){return t*Math.sqrt(1-e*e)}const zce=["duration","bounce"],qce=["stiffness","damping","mass"];function _R(t,e){return e.some(r=>t[r]!==void 0)}function Uce(t){let e={velocity:Cs.velocity,stiffness:Cs.stiffness,damping:Cs.damping,mass:Cs.mass,isResolvedFromDuration:!1,...t};if(!_R(t,qce)&&_R(t,zce))if(t.visualDuration){const r=t.visualDuration,n=2*Math.PI/(r*1.2),s=n*n,i=2*Of(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:Cs.mass,stiffness:s,damping:i}}else{const r=Bce(t);e={...e,...r,mass:Cs.mass},e.isResolvedFromDuration=!0}return e}function lj(t=Cs.visualDuration,e=Cs.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:n,restDelta:s}=r;const i=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:u,mass:f,duration:h,velocity:g,isResolvedFromDuration:p}=Uce({...r,velocity:-fc(r.velocity||0)}),v=g||0,w=u/(2*Math.sqrt(c*f)),y=o-i,N=fc(Math.sqrt(c/f)),k=Math.abs(y)<5;n||(n=k?Cs.restSpeed.granular:Cs.restSpeed.default),s||(s=k?Cs.restDelta.granular:Cs.restDelta.default);let S;if(w<1){const _=L6(N,w);S=D=>{const E=Math.exp(-w*N*D);return o-E*((v+w*N*y)/_*Math.sin(_*D)+y*Math.cos(_*D))}}else if(w===1)S=_=>o-Math.exp(-N*_)*(y+(v+N*y)*_);else{const _=N*Math.sqrt(w*w-1);S=D=>{const E=Math.exp(-w*N*D),L=Math.min(_*D,300);return o-E*((v+w*N*y)*Math.sinh(L)+_*y*Math.cosh(L))/_}}const T={calculatedDuration:p&&h||null,next:_=>{const D=S(_);if(p)l.done=_>=h;else{let E=_===0?v:0;w<1&&(E=_===0?ed(v):IK(S,_,D));const L=Math.abs(E)<=n,R=Math.abs(o-D)<=s;l.done=L&&R}return l.value=l.done?o:D,l},toString:()=>{const _=Math.min(nD(T),oj),D=RK(E=>T.next(_*E).value,_,30);return _+"ms "+D},toTransition:()=>{}};return T}lj.applyToOptions=t=>{const e=Ice(t,100,lj);return t.ease=e.ease,t.duration=ed(e.duration),t.type="keyframes",t};function R6({keyframes:t,velocity:e=0,power:r=.8,timeConstant:n=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:f}){const h=t[0],g={done:!1,value:h},p=L=>l!==void 0&&L<l||c!==void 0&&L>c,v=L=>l===void 0?c:c===void 0||Math.abs(l-L)<Math.abs(c-L)?l:c;let w=r*e;const y=h+w,N=o===void 0?y:o(y);N!==y&&(w=N-h);const k=L=>-w*Math.exp(-L/n),S=L=>N+k(L),T=L=>{const R=k(L),F=S(L);g.done=Math.abs(R)<=u,g.value=g.done?N:F};let _,D;const E=L=>{p(g.value)&&(_=L,D=lj({keyframes:[g.value,v(g.value)],velocity:IK(S,L,g.value),damping:s,stiffness:i,restDelta:u,restSpeed:f}))};return E(0),{calculatedDuration:null,next:L=>{let R=!1;return!D&&_===void 0&&(R=!0,T(L),E(L)),_!==void 0&&L>=_?D.next(L-_):(!R&&T(L),g)}}}function Wce(t,e,r){const n=[],s=r||Df.mix||LK,i=t.length-1;for(let o=0;o<i;o++){let l=s(t[o],t[o+1]);if(e){const c=Array.isArray(e)?e[o]||pc:e;l=t1(c,l)}n.push(l)}return n}function Vce(t,e,{clamp:r=!0,ease:n,mixer:s}={}){const i=t.length;if(GO(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=Wce(e,n,s),c=l.length,u=f=>{if(o&&f<t[0])return e[0];let h=0;if(c>1)for(;h<t.length-2&&!(f<t[h+1]);h++);const g=Vy(t[h],t[h+1],f);return l[h](g)};return r?f=>u(Of(t[0],t[i-1],f)):u}function Gce(t,e){const r=t[t.length-1];for(let n=1;n<=e;n++){const s=Vy(0,e,n);t.push(hs(r,1,s))}}function Yce(t){const e=[0];return Gce(e,t.length-1),e}function Kce(t,e){return t.map(r=>r*e)}function Jce(t,e){return t.map(()=>e||kK).splice(0,t.length-1)}function vy({duration:t=300,keyframes:e,times:r,ease:n="easeInOut"}){const s=oce(n)?n.map(jR):jR(n),i={done:!1,value:e[0]},o=Kce(r&&r.length===e.length?r:Yce(e),t),l=Vce(o,e,{ease:Array.isArray(s)?s:Jce(e,s)});return{calculatedDuration:t,next:c=>(i.value=l(c),i.done=c>=t,i)}}const Xce=t=>t!==null;function aD(t,{repeat:e,repeatType:r="loop"},n,s=1){const i=t.filter(Xce),l=s<0||e&&r!=="loop"&&e%2===1?0:i.length-1;return!l||n===void 0?i[l]:n}const Qce={decay:R6,inertia:R6,tween:vy,keyframes:vy,spring:lj};function FK(t){typeof t.type=="string"&&(t.type=Qce[t.type])}class sD{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,r){return this.finished.then(e,r)}}const Zce=t=>t/100;class iD extends sD{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,s;const{motionValue:r}=this.options;r&&r.updatedAt!==ol.now()&&this.tick(ol.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(n=this.options).onStop)==null||s.call(n))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;FK(e);const{type:r=vy,repeat:n=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=e;let{keyframes:l}=e;const c=r||vy;c!==vy&&typeof l[0]!="number"&&(this.mixKeyframes=t1(Zce,LK(l[0],l[1])),l=[0,100]);const u=c({...e,keyframes:l});i==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...l].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=nD(u));const{calculatedDuration:f}=u;this.calculatedDuration=f,this.resolvedDuration=f+s,this.totalDuration=this.resolvedDuration*(n+1)-s,this.generator=u}updateTime(e){const r=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(e,r=!1){const{generator:n,totalDuration:s,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return n.next(0);const{delay:u=0,keyframes:f,repeat:h,repeatType:g,repeatDelay:p,type:v,onUpdate:w,finalKeyframe:y}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),r?this.currentTime=e:this.updateTime(e);const N=this.currentTime-u*(this.playbackSpeed>=0?1:-1),k=this.playbackSpeed>=0?N<0:N>s;this.currentTime=Math.max(N,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let S=this.currentTime,T=n;if(h){const L=Math.min(this.currentTime,s)/l;let R=Math.floor(L),F=L%1;!F&&L>=1&&(F=1),F===1&&R--,R=Math.min(R,h+1),!!(R%2)&&(g==="reverse"?(F=1-F,p&&(F-=p/l)):g==="mirror"&&(T=o)),S=Of(0,1,F)*l}const _=k?{done:!1,value:f[0]}:T.next(S);i&&(_.value=i(_.value));let{done:D}=_;!k&&c!==null&&(D=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const E=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&D);return E&&v!==R6&&(_.value=aD(f,this.options,y,this.speed)),w&&w(_.value),E&&this.finish(),_}then(e,r){return this.finished.then(e,r)}get duration(){return fc(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+fc(e)}get time(){return fc(this.currentTime)}set time(e){var r;e=ed(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(ol.now());const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=fc(this.currentTime))}play(){var s,i;if(this.isStopped)return;const{driver:e=Rce,startTime:r}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(i=(s=this.options).onPlay)==null||i.call(s);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(ol.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(e=this.options).onComplete)==null||r.call(e)}cancel(){var e,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(e=this.options).onCancel)==null||r.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),e.observe(this)}}function eue(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const sp=t=>t*180/Math.PI,I6=t=>{const e=sp(Math.atan2(t[1],t[0]));return F6(e)},tue={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:I6,rotateZ:I6,skewX:t=>sp(Math.atan(t[1])),skewY:t=>sp(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},F6=t=>(t=t%360,t<0&&(t+=360),t),AR=I6,TR=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),MR=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),rue={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:TR,scaleY:MR,scale:t=>(TR(t)+MR(t))/2,rotateX:t=>F6(sp(Math.atan2(t[6],t[5]))),rotateY:t=>F6(sp(Math.atan2(-t[2],t[0]))),rotateZ:AR,rotate:AR,skewX:t=>sp(Math.atan(t[4])),skewY:t=>sp(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function B6(t){return t.includes("scale")?1:0}function $6(t,e){if(!t||t==="none")return B6(e);const r=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,s;if(r)n=rue,s=r;else{const l=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=tue,s=l}if(!s)return B6(e);const i=n[e],o=s[1].split(",").map(aue);return typeof i=="function"?i(o):o[i]}const nue=(t,e)=>{const{transform:r="none"}=getComputedStyle(t);return $6(r,e)};function aue(t){return parseFloat(t.trim())}const Px=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Lx=new Set(Px),ER=t=>t===Dx||t===Jr,sue=new Set(["x","y","z"]),iue=Px.filter(t=>!sue.has(t));function oue(t){const e=[];return iue.forEach(r=>{const n=t.getValue(r);n!==void 0&&(e.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),e}const bp={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>$6(e,"x"),y:(t,{transform:e})=>$6(e,"y")};bp.translateX=bp.x;bp.translateY=bp.y;const yp=new Set;let H6=!1,z6=!1,q6=!1;function BK(){if(z6){const t=Array.from(yp).filter(n=>n.needsMeasurement),e=new Set(t.map(n=>n.element)),r=new Map;e.forEach(n=>{const s=oue(n);s.length&&(r.set(n,s),n.render())}),t.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const s=r.get(n);s&&s.forEach(([i,o])=>{var l;(l=n.getValue(i))==null||l.set(o)})}),t.forEach(n=>n.measureEndState()),t.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}z6=!1,H6=!1,yp.forEach(t=>t.complete(q6)),yp.clear()}function $K(){yp.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(z6=!0)})}function lue(){q6=!0,$K(),BK(),q6=!1}class oD{constructor(e,r,n,s,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=n,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(yp.add(this),H6||(H6=!0,ns.read($K),ns.resolveKeyframes(BK))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:n,motionValue:s}=this;if(e[0]===null){const i=s==null?void 0:s.get(),o=e[e.length-1];if(i!==void 0)e[0]=i;else if(n&&r){const l=n.readValue(r,o);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=o),s&&i===void 0&&s.set(e[0])}eue(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),yp.delete(this)}cancel(){this.state==="scheduled"&&(yp.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const cue=t=>t.startsWith("--");function uue(t,e,r){cue(e)?t.style.setProperty(e,r):t.style[e]=r}const due=YO(()=>window.ScrollTimeline!==void 0),fue={};function hue(t,e){const r=YO(t);return()=>fue[e]??r()}const HK=hue(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ly=([t,e,r,n])=>`cubic-bezier(${t}, ${e}, ${r}, ${n})`,OR={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ly([0,.65,.55,1]),circOut:ly([.55,0,1,.45]),backIn:ly([.31,.01,.66,-.59]),backOut:ly([.33,1.53,.69,.99])};function zK(t,e){if(t)return typeof t=="function"?HK()?RK(t,e):"ease-out":CK(t)?ly(t):Array.isArray(t)?t.map(r=>zK(r,e)||OR.easeOut):OR[t]}function mue(t,e,r,{delay:n=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:l="easeOut",times:c}={},u=void 0){const f={[e]:r};c&&(f.offset=c);const h=zK(l,s);Array.isArray(h)&&(f.easing=h);const g={delay:n,duration:s,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return u&&(g.pseudoElement=u),t.animate(f,g)}function qK(t){return typeof t=="function"&&"applyToOptions"in t}function pue({type:t,...e}){return qK(t)&&HK()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class gue extends sD{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:r,name:n,keyframes:s,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=e;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=e,GO(typeof e.type!="string");const u=pue(e);this.animation=mue(r,n,s,u,i),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const f=aD(s,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(f):uue(r,n,f),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,r;(r=(e=this.animation).finish)==null||r.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,r;this.isPseudoElement||(r=(e=this.animation).commitStyles)==null||r.call(e)}get duration(){var r,n;const e=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return fc(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+fc(e)}get time(){return fc(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=ed(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&due()?(this.animation.timeline=e,pc):r(this)}}const UK={anticipate:jK,backInOut:wK,circInOut:SK};function xue(t){return t in UK}function bue(t){typeof t.ease=="string"&&xue(t.ease)&&(t.ease=UK[t.ease])}const DR=10;class yue extends gue{constructor(e){bue(e),FK(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:r,onUpdate:n,onComplete:s,element:i,...o}=this.options;if(!r)return;if(e!==void 0){r.set(e);return}const l=new iD({...o,autoplay:!1}),c=ed(this.finishedTime??this.time);r.setWithVelocity(l.sample(c-DR).value,l.sample(c).value,DR),l.stop()}}const PR=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(cm.test(t)||t==="0")&&!t.startsWith("url("));function vue(t){const e=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==e)return!0}function wue(t,e,r,n){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=PR(s,e),l=PR(i,e);return!o||!l?!1:vue(t)||(r==="spring"||qK(r))&&n}function U6(t){t.duration=0,t.type="keyframes"}const jue=new Set(["opacity","clipPath","filter","transform"]),Nue=YO(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Sue(t){var f;const{motionValue:e,name:r,repeatDelay:n,repeatType:s,damping:i,type:o}=t;if(!(((f=e==null?void 0:e.owner)==null?void 0:f.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=e.owner.getProps();return Nue()&&r&&jue.has(r)&&(r!=="transform"||!u)&&!c&&!n&&s!=="mirror"&&i!==0&&o!=="inertia"}const kue=40;class Cue extends sD{constructor({autoplay:e=!0,delay:r=0,type:n="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",keyframes:l,name:c,motionValue:u,element:f,...h}){var v;super(),this.stop=()=>{var w,y;this._animation&&(this._animation.stop(),(w=this.stopTimeline)==null||w.call(this)),(y=this.keyframeResolver)==null||y.cancel()},this.createdAt=ol.now();const g={autoplay:e,delay:r,type:n,repeat:s,repeatDelay:i,repeatType:o,name:c,motionValue:u,element:f,...h},p=(f==null?void 0:f.KeyframeResolver)||oD;this.keyframeResolver=new p(l,(w,y,N)=>this.onKeyframesResolved(w,y,g,!N),c,u,f),(v=this.keyframeResolver)==null||v.scheduleResolve()}onKeyframesResolved(e,r,n,s){this.keyframeResolver=void 0;const{name:i,type:o,velocity:l,delay:c,isHandoff:u,onUpdate:f}=n;this.resolvedAt=ol.now(),wue(e,i,o,l)||((Df.instantAnimations||!c)&&(f==null||f(aD(e,n,r))),e[0]=e[e.length-1],U6(n),n.repeat=0);const g={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>kue?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:e},p=!u&&Sue(g)?new yue({...g,element:g.motionValue.owner.current}):new iD(g);p.finished.then(()=>this.notifyFinished()).catch(pc),this.pendingTimeline&&(this.stopTimeline=p.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=p}get finished(){return this._animation?this.animation.finished:this._finished}then(e,r){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),lue()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const _ue=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Aue(t){const e=_ue.exec(t);if(!e)return[,];const[,r,n,s]=e;return[`--${r??n}`,s]}function WK(t,e,r=1){const[n,s]=Aue(t);if(!n)return;const i=window.getComputedStyle(e).getPropertyValue(n);if(i){const o=i.trim();return hK(o)?parseFloat(o):o}return ZO(s)?WK(s,e,r+1):s}function lD(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const VK=new Set(["width","height","top","left","right","bottom",...Px]),Tue={test:t=>t==="auto",parse:t=>t},GK=t=>e=>e.test(t),YK=[Dx,Jr,td,Lh,vce,yce,Tue],LR=t=>YK.find(GK(t));function Mue(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||pK(t):!0}const Eue=new Set(["brightness","contrast","saturate","opacity"]);function Oue(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[n]=r.match(eD)||[];if(!n)return t;const s=r.replace(n,"");let i=Eue.has(e)?1:0;return n!==r&&(i*=100),e+"("+i+s+")"}const Due=/\b([a-z-]*)\(.*?\)/gu,W6={...cm,getAnimatableNone:t=>{const e=t.match(Due);return e?e.map(Oue).join(" "):t}},RR={...Dx,transform:Math.round},Pue={rotate:Lh,rotateX:Lh,rotateY:Lh,rotateZ:Lh,scale:vw,scaleX:vw,scaleY:vw,scaleZ:vw,skew:Lh,skewX:Lh,skewY:Lh,distance:Jr,translateX:Jr,translateY:Jr,translateZ:Jr,x:Jr,y:Jr,z:Jr,perspective:Jr,transformPerspective:Jr,opacity:Gy,originX:NR,originY:NR,originZ:Jr},cD={borderWidth:Jr,borderTopWidth:Jr,borderRightWidth:Jr,borderBottomWidth:Jr,borderLeftWidth:Jr,borderRadius:Jr,radius:Jr,borderTopLeftRadius:Jr,borderTopRightRadius:Jr,borderBottomRightRadius:Jr,borderBottomLeftRadius:Jr,width:Jr,maxWidth:Jr,height:Jr,maxHeight:Jr,top:Jr,right:Jr,bottom:Jr,left:Jr,padding:Jr,paddingTop:Jr,paddingRight:Jr,paddingBottom:Jr,paddingLeft:Jr,margin:Jr,marginTop:Jr,marginRight:Jr,marginBottom:Jr,marginLeft:Jr,backgroundPositionX:Jr,backgroundPositionY:Jr,...Pue,zIndex:RR,fillOpacity:Gy,strokeOpacity:Gy,numOctaves:RR},Lue={...cD,color:Qs,backgroundColor:Qs,outlineColor:Qs,fill:Qs,stroke:Qs,borderColor:Qs,borderTopColor:Qs,borderRightColor:Qs,borderBottomColor:Qs,borderLeftColor:Qs,filter:W6,WebkitFilter:W6},KK=t=>Lue[t];function JK(t,e){let r=KK(t);return r!==W6&&(r=cm),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const Rue=new Set(["auto","none","0"]);function Iue(t,e,r){let n=0,s;for(;n<t.length&&!s;){const i=t[n];typeof i=="string"&&!Rue.has(i)&&Yy(i).values.length&&(s=t[n]),n++}if(s&&r)for(const i of e)t[i]=JK(r,s)}class Fue extends oD{constructor(e,r,n,s,i){super(e,r,n,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="string"&&(u=u.trim(),ZO(u))){const f=WK(u,r.current);f!==void 0&&(e[c]=f),c===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!VK.has(n)||e.length!==2)return;const[s,i]=e,o=LR(s),l=LR(i);if(o!==l)if(ER(o)&&ER(l))for(let c=0;c<e.length;c++){const u=e[c];typeof u=="string"&&(e[c]=parseFloat(u))}else bp[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,n=[];for(let s=0;s<e.length;s++)(e[s]===null||Mue(e[s]))&&n.push(s);n.length&&Iue(e,n,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=bp[n](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const s=r[r.length-1];s!==void 0&&e.getValue(n,s).jump(s,!1)}measureEndState(){var l;const{element:e,name:r,unresolvedKeyframes:n}=this;if(!e||!e.current)return;const s=e.getValue(r);s&&s.jump(this.measuredOrigin,!1);const i=n.length-1,o=n[i];n[i]=bp[r](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,u])=>{e.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function Bue(t,e,r){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let n=document;const s=(r==null?void 0:r[t])??n.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const XK=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function QK(t){return mK(t)&&"offsetHeight"in t}const IR=30,$ue=t=>!isNaN(parseFloat(t));class Hue{constructor(e,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{var i;const s=ol.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=ol.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=$ue(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new KO);const n=this.events[e].add(r);return e==="change"?()=>{n(),ns.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=ol.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>IR)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,IR);return gK(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,r;(e=this.dependents)==null||e.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Hg(t,e){return new Hue(t,e)}const{schedule:uD}=_K(queueMicrotask,!1),Qc={x:!1,y:!1};function ZK(){return Qc.x||Qc.y}function zue(t){return t==="x"||t==="y"?Qc[t]?null:(Qc[t]=!0,()=>{Qc[t]=!1}):Qc.x||Qc.y?null:(Qc.x=Qc.y=!0,()=>{Qc.x=Qc.y=!1})}function eJ(t,e){const r=Bue(t),n=new AbortController,s={passive:!0,...e,signal:n.signal};return[r,s,()=>n.abort()]}function FR(t){return!(t.pointerType==="touch"||ZK())}function que(t,e,r={}){const[n,s,i]=eJ(t,r),o=l=>{if(!FR(l))return;const{target:c}=l,u=e(c,l);if(typeof u!="function"||!c)return;const f=h=>{FR(h)&&(u(h),c.removeEventListener("pointerleave",f))};c.addEventListener("pointerleave",f,s)};return n.forEach(l=>{l.addEventListener("pointerenter",o,s)}),i}const tJ=(t,e)=>e?t===e?!0:tJ(t,e.parentElement):!1,dD=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Uue=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Wue(t){return Uue.has(t.tagName)||t.tabIndex!==-1}const M2=new WeakSet;function BR(t){return e=>{e.key==="Enter"&&t(e)}}function gC(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Vue=(t,e)=>{const r=t.currentTarget;if(!r)return;const n=BR(()=>{if(M2.has(r))return;gC(r,"down");const s=BR(()=>{gC(r,"up")}),i=()=>gC(r,"cancel");r.addEventListener("keyup",s,e),r.addEventListener("blur",i,e)});r.addEventListener("keydown",n,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),e)};function $R(t){return dD(t)&&!ZK()}function Gue(t,e,r={}){const[n,s,i]=eJ(t,r),o=l=>{const c=l.currentTarget;if(!$R(l))return;M2.add(c);const u=e(c,l),f=(p,v)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",g),M2.has(c)&&M2.delete(c),$R(p)&&typeof u=="function"&&u(p,{success:v})},h=p=>{f(p,c===window||c===document||r.useGlobalTarget||tJ(c,p.target))},g=p=>{f(p,!1)};window.addEventListener("pointerup",h,s),window.addEventListener("pointercancel",g,s)};return n.forEach(l=>{(r.useGlobalTarget?window:l).addEventListener("pointerdown",o,s),QK(l)&&(l.addEventListener("focus",u=>Vue(u,s)),!Wue(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),i}function rJ(t){return mK(t)&&"ownerSVGElement"in t}function Yue(t){return rJ(t)&&t.tagName==="svg"}const go=t=>!!(t&&t.getVelocity),Kue=[...YK,Qs,cm],Jue=t=>Kue.find(GK(t)),fD=b.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function HR(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Xue(...t){return e=>{let r=!1;const n=t.map(s=>{const i=HR(s,e);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let s=0;s<n.length;s++){const i=n[s];typeof i=="function"?i():HR(t[s],null)}}}}function Que(...t){return b.useCallback(Xue(...t),t)}class Zue extends b.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const n=r.offsetParent,s=QK(n)&&n.offsetWidth||0,i=this.props.sizeRef.current;i.height=r.offsetHeight||0,i.width=r.offsetWidth||0,i.top=r.offsetTop,i.left=r.offsetLeft,i.right=s-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function ede({children:t,isPresent:e,anchorX:r,root:n}){const s=b.useId(),i=b.useRef(null),o=b.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=b.useContext(fD),c=Que(i,t==null?void 0:t.ref);return b.useInsertionEffect(()=>{const{width:u,height:f,top:h,left:g,right:p}=o.current;if(e||!i.current||!u||!f)return;const v=r==="left"?`left: ${g}`:`right: ${p}`;i.current.dataset.motionPopId=s;const w=document.createElement("style");l&&(w.nonce=l);const y=n??document.head;return y.appendChild(w),w.sheet&&w.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${f}px !important;
            ${v}px !important;
            top: ${h}px !important;
          }
        `),()=>{y.contains(w)&&y.removeChild(w)}},[e]),a.jsx(Zue,{isPresent:e,childRef:i,sizeRef:o,children:b.cloneElement(t,{ref:c})})}const tde=({children:t,initial:e,isPresent:r,onExitComplete:n,custom:s,presenceAffectsLayout:i,mode:o,anchorX:l,root:c})=>{const u=qO(rde),f=b.useId();let h=!0,g=b.useMemo(()=>(h=!1,{id:f,initial:e,isPresent:r,custom:s,onExitComplete:p=>{u.set(p,!0);for(const v of u.values())if(!v)return;n&&n()},register:p=>(u.set(p,!1),()=>u.delete(p))}),[r,u,n]);return i&&h&&(g={...g}),b.useMemo(()=>{u.forEach((p,v)=>u.set(v,!1))},[r]),b.useEffect(()=>{!r&&!u.size&&n&&n()},[r]),o==="popLayout"&&(t=a.jsx(ede,{isPresent:r,anchorX:l,root:c,children:t})),a.jsx(AN.Provider,{value:g,children:t})};function rde(){return new Map}function nJ(t=!0){const e=b.useContext(AN);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:s}=e,i=b.useId();b.useEffect(()=>{if(t)return s(i)},[t]);const o=b.useCallback(()=>t&&n&&n(i),[i,n,t]);return!r&&n?[!1,o]:[!0]}const ww=t=>t.key||"";function zR(t){const e=[];return b.Children.forEach(t,r=>{b.isValidElement(r)&&e.push(r)}),e}const ar=({children:t,custom:e,initial:r=!0,onExitComplete:n,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1,anchorX:l="left",root:c})=>{const[u,f]=nJ(o),h=b.useMemo(()=>zR(t),[t]),g=o&&!u?[]:h.map(ww),p=b.useRef(!0),v=b.useRef(h),w=qO(()=>new Map),[y,N]=b.useState(h),[k,S]=b.useState(h);fK(()=>{p.current=!1,v.current=h;for(let D=0;D<k.length;D++){const E=ww(k[D]);g.includes(E)?w.delete(E):w.get(E)!==!0&&w.set(E,!1)}},[k,g.length,g.join("-")]);const T=[];if(h!==y){let D=[...h];for(let E=0;E<k.length;E++){const L=k[E],R=ww(L);g.includes(R)||(D.splice(E,0,L),T.push(L))}return i==="wait"&&T.length&&(D=T),S(zR(D)),N(h),null}const{forceRender:_}=b.useContext(zO);return a.jsx(a.Fragment,{children:k.map(D=>{const E=ww(D),L=o&&!u?!1:h===k||g.includes(E),R=()=>{if(w.has(E))w.set(E,!0);else return;let F=!0;w.forEach(A=>{A||(F=!1)}),F&&(_==null||_(),S(v.current),o&&(f==null||f()),n&&n())};return a.jsx(tde,{isPresent:L,initial:!p.current||r?void 0:!1,custom:e,presenceAffectsLayout:s,mode:i,root:c,onExitComplete:L?void 0:R,anchorX:l,children:D},E)})})},aJ=b.createContext({strict:!1}),qR={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},zg={};for(const t in qR)zg[t]={isEnabled:e=>qR[t].some(r=>!!e[r])};function nde(t){for(const e in t)zg[e]={...zg[e],...t[e]}}const ade=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function cj(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||ade.has(t)}let sJ=t=>!cj(t);function sde(t){typeof t=="function"&&(sJ=e=>e.startsWith("on")?!cj(e):t(e))}try{sde(require("@emotion/is-prop-valid").default)}catch{}function ide(t,e,r){const n={};for(const s in t)s==="values"&&typeof t.values=="object"||(sJ(s)||r===!0&&cj(s)||!e&&!cj(s)||t.draggable&&s.startsWith("onDrag"))&&(n[s]=t[s]);return n}const TN=b.createContext({});function MN(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Ky(t){return typeof t=="string"||Array.isArray(t)}const hD=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],mD=["initial",...hD];function EN(t){return MN(t.animate)||mD.some(e=>Ky(t[e]))}function iJ(t){return!!(EN(t)||t.variants)}function ode(t,e){if(EN(t)){const{initial:r,animate:n}=t;return{initial:r===!1||Ky(r)?r:void 0,animate:Ky(n)?n:void 0}}return t.inherit!==!1?e:{}}function lde(t){const{initial:e,animate:r}=ode(t,b.useContext(TN));return b.useMemo(()=>({initial:e,animate:r}),[UR(e),UR(r)])}function UR(t){return Array.isArray(t)?t.join(" "):t}const Jy={};function cde(t){for(const e in t)Jy[e]=t[e],QO(e)&&(Jy[e].isCSSVariable=!0)}function oJ(t,{layout:e,layoutId:r}){return Lx.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!Jy[t]||t==="opacity")}const ude={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},dde=Px.length;function fde(t,e,r){let n="",s=!0;for(let i=0;i<dde;i++){const o=Px[i],l=t[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||r){const u=XK(l,cD[o]);if(!c){s=!1;const f=ude[o]||o;n+=`${f}(${u}) `}r&&(e[o]=u)}}return n=n.trim(),r?n=r(e,s?"":n):s&&(n="none"),n}function pD(t,e,r){const{style:n,vars:s,transformOrigin:i}=t;let o=!1,l=!1;for(const c in e){const u=e[c];if(Lx.has(c)){o=!0;continue}else if(QO(c)){s[c]=u;continue}else{const f=XK(u,cD[c]);c.startsWith("origin")?(l=!0,i[c]=f):n[c]=f}}if(e.transform||(o||r?n.transform=fde(e,t.transform,r):n.transform&&(n.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:f=0}=i;n.transformOrigin=`${c} ${u} ${f}`}}const gD=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function lJ(t,e,r){for(const n in e)!go(e[n])&&!oJ(n,r)&&(t[n]=e[n])}function hde({transformTemplate:t},e){return b.useMemo(()=>{const r=gD();return pD(r,e,t),Object.assign({},r.vars,r.style)},[e])}function mde(t,e){const r=t.style||{},n={};return lJ(n,r,t),Object.assign(n,hde(t,e)),n}function pde(t,e){const r={},n=mde(t,e);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=n,r}const gde={offset:"stroke-dashoffset",array:"stroke-dasharray"},xde={offset:"strokeDashoffset",array:"strokeDasharray"};function bde(t,e,r=1,n=0,s=!0){t.pathLength=1;const i=s?gde:xde;t[i.offset]=Jr.transform(-n);const o=Jr.transform(e),l=Jr.transform(r);t[i.array]=`${o} ${l}`}function cJ(t,{attrX:e,attrY:r,attrScale:n,pathLength:s,pathSpacing:i=1,pathOffset:o=0,...l},c,u,f){if(pD(t,l,u),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:g}=t;h.transform&&(g.transform=h.transform,delete h.transform),(g.transform||h.transformOrigin)&&(g.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),g.transform&&(g.transformBox=(f==null?void 0:f.transformBox)??"fill-box",delete h.transformBox),e!==void 0&&(h.x=e),r!==void 0&&(h.y=r),n!==void 0&&(h.scale=n),s!==void 0&&bde(h,s,i,o,!1)}const uJ=()=>({...gD(),attrs:{}}),dJ=t=>typeof t=="string"&&t.toLowerCase()==="svg";function yde(t,e,r,n){const s=b.useMemo(()=>{const i=uJ();return cJ(i,e,dJ(n),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};lJ(i,t.style,t),s.style={...i,...s.style}}return s}const vde=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function xD(t){return typeof t!="string"||t.includes("-")?!1:!!(vde.indexOf(t)>-1||/[A-Z]/u.test(t))}function wde(t,e,r,{latestValues:n},s,i=!1){const l=(xD(t)?yde:pde)(e,n,s,t),c=ide(e,typeof t=="string",i),u=t!==b.Fragment?{...c,...l,ref:r}:{},{children:f}=e,h=b.useMemo(()=>go(f)?f.get():f,[f]);return b.createElement(t,{...u,children:h})}function WR(t){const e=[{},{}];return t==null||t.values.forEach((r,n)=>{e[0][n]=r.get(),e[1][n]=r.getVelocity()}),e}function bD(t,e,r,n){if(typeof e=="function"){const[s,i]=WR(n);e=e(r!==void 0?r:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=WR(n);e=e(r!==void 0?r:t.custom,s,i)}return e}function E2(t){return go(t)?t.get():t}function jde({scrapeMotionValuesFromProps:t,createRenderState:e},r,n,s){return{latestValues:Nde(r,n,s,t),renderState:e()}}function Nde(t,e,r,n){const s={},i=n(t,{});for(const g in i)s[g]=E2(i[g]);let{initial:o,animate:l}=t;const c=EN(t),u=iJ(t);e&&u&&!c&&t.inherit!==!1&&(o===void 0&&(o=e.initial),l===void 0&&(l=e.animate));let f=r?r.initial===!1:!1;f=f||o===!1;const h=f?l:o;if(h&&typeof h!="boolean"&&!MN(h)){const g=Array.isArray(h)?h:[h];for(let p=0;p<g.length;p++){const v=bD(t,g[p]);if(v){const{transitionEnd:w,transition:y,...N}=v;for(const k in N){let S=N[k];if(Array.isArray(S)){const T=f?S.length-1:0;S=S[T]}S!==null&&(s[k]=S)}for(const k in w)s[k]=w[k]}}}return s}const fJ=t=>(e,r)=>{const n=b.useContext(TN),s=b.useContext(AN),i=()=>jde(t,e,n,s);return r?i():qO(i)};function yD(t,e,r){var i;const{style:n}=t,s={};for(const o in n)(go(n[o])||e.style&&go(e.style[o])||oJ(o,t)||((i=r==null?void 0:r.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(s[o]=n[o]);return s}const Sde=fJ({scrapeMotionValuesFromProps:yD,createRenderState:gD});function hJ(t,e,r){const n=yD(t,e,r);for(const s in t)if(go(t[s])||go(e[s])){const i=Px.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;n[i]=t[s]}return n}const kde=fJ({scrapeMotionValuesFromProps:hJ,createRenderState:uJ}),Cde=Symbol.for("motionComponentSymbol");function hg(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function _de(t,e,r){return b.useCallback(n=>{n&&t.onMount&&t.onMount(n),e&&(n?e.mount(n):e.unmount()),r&&(typeof r=="function"?r(n):hg(r)&&(r.current=n))},[e])}const vD=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Ade="framerAppearId",mJ="data-"+vD(Ade),pJ=b.createContext({});function Tde(t,e,r,n,s){var w,y;const{visualElement:i}=b.useContext(TN),o=b.useContext(aJ),l=b.useContext(AN),c=b.useContext(fD).reducedMotion,u=b.useRef(null);n=n||o.renderer,!u.current&&n&&(u.current=n(t,{visualState:e,parent:i,props:r,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const f=u.current,h=b.useContext(pJ);f&&!f.projection&&s&&(f.type==="html"||f.type==="svg")&&Mde(u.current,r,s,h);const g=b.useRef(!1);b.useInsertionEffect(()=>{f&&g.current&&f.update(r,l)});const p=r[mJ],v=b.useRef(!!p&&!((w=window.MotionHandoffIsComplete)!=null&&w.call(window,p))&&((y=window.MotionHasOptimisedAnimation)==null?void 0:y.call(window,p)));return fK(()=>{f&&(g.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),f.scheduleRenderMicrotask(),v.current&&f.animationState&&f.animationState.animateChanges())}),b.useEffect(()=>{f&&(!v.current&&f.animationState&&f.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var N;(N=window.MotionHandoffMarkAsComplete)==null||N.call(window,p)}),v.current=!1),f.enteringChildren=void 0)}),f}function Mde(t,e,r,n){const{layoutId:s,layout:i,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:u,layoutCrossfade:f}=e;t.projection=new r(t.latestValues,e["data-framer-portal-id"]?void 0:gJ(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||l&&hg(l),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:n,crossfade:f,layoutScroll:c,layoutRoot:u})}function gJ(t){if(t)return t.options.allowProjection!==!1?t.projection:gJ(t.parent)}function xC(t,{forwardMotionProps:e=!1}={},r,n){r&&nde(r);const s=xD(t)?kde:Sde;function i(l,c){let u;const f={...b.useContext(fD),...l,layoutId:Ede(l)},{isStatic:h}=f,g=lde(l),p=s(l,h);if(!h&&UO){Ode();const v=Dde(f);u=v.MeasureLayout,g.visualElement=Tde(t,p,f,n,v.ProjectionNode)}return a.jsxs(TN.Provider,{value:g,children:[u&&g.visualElement?a.jsx(u,{visualElement:g.visualElement,...f}):null,wde(t,l,_de(p,g.visualElement,c),p,h,e)]})}i.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=b.forwardRef(i);return o[Cde]=t,o}function Ede({layoutId:t}){const e=b.useContext(zO).id;return e&&t!==void 0?e+"-"+t:t}function Ode(t,e){b.useContext(aJ).strict}function Dde(t){const{drag:e,layout:r}=zg;if(!e&&!r)return{};const n={...e,...r};return{MeasureLayout:e!=null&&e.isEnabled(t)||r!=null&&r.isEnabled(t)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function Pde(t,e){if(typeof Proxy>"u")return xC;const r=new Map,n=(i,o)=>xC(i,o,t,e),s=(i,o)=>n(i,o);return new Proxy(s,{get:(i,o)=>o==="create"?n:(r.has(o)||r.set(o,xC(o,void 0,t,e)),r.get(o))})}function xJ({top:t,left:e,right:r,bottom:n}){return{x:{min:e,max:r},y:{min:t,max:n}}}function Lde({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Rde(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function bC(t){return t===void 0||t===1}function V6({scale:t,scaleX:e,scaleY:r}){return!bC(t)||!bC(e)||!bC(r)}function Km(t){return V6(t)||bJ(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function bJ(t){return VR(t.x)||VR(t.y)}function VR(t){return t&&t!=="0%"}function uj(t,e,r){const n=t-r,s=e*n;return r+s}function GR(t,e,r,n,s){return s!==void 0&&(t=uj(t,s,n)),uj(t,r,n)+e}function G6(t,e=0,r=1,n,s){t.min=GR(t.min,e,r,n,s),t.max=GR(t.max,e,r,n,s)}function yJ(t,{x:e,y:r}){G6(t.x,e.translate,e.scale,e.originPoint),G6(t.y,r.translate,r.scale,r.originPoint)}const YR=.999999999999,KR=1.0000000000001;function Ide(t,e,r,n=!1){const s=r.length;if(!s)return;e.x=e.y=1;let i,o;for(let l=0;l<s;l++){i=r[l],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&pg(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,yJ(t,o)),n&&Km(i.latestValues)&&pg(t,i.latestValues))}e.x<KR&&e.x>YR&&(e.x=1),e.y<KR&&e.y>YR&&(e.y=1)}function mg(t,e){t.min=t.min+e,t.max=t.max+e}function JR(t,e,r,n,s=.5){const i=hs(t.min,t.max,s);G6(t,e,r,i,n)}function pg(t,e){JR(t.x,e.x,e.scaleX,e.scale,e.originX),JR(t.y,e.y,e.scaleY,e.scale,e.originY)}function vJ(t,e){return xJ(Rde(t.getBoundingClientRect(),e))}function Fde(t,e,r){const n=vJ(t,r),{scroll:s}=e;return s&&(mg(n.x,s.offset.x),mg(n.y,s.offset.y)),n}const XR=()=>({translate:0,scale:1,origin:0,originPoint:0}),gg=()=>({x:XR(),y:XR()}),QR=()=>({min:0,max:0}),Fs=()=>({x:QR(),y:QR()}),Y6={current:null},wJ={current:!1};function Bde(){if(wJ.current=!0,!!UO)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Y6.current=t.matches;t.addEventListener("change",e),e()}else Y6.current=!1}const $de=new WeakMap;function Hde(t,e,r){for(const n in e){const s=e[n],i=r[n];if(go(s))t.addValue(n,s);else if(go(i))t.addValue(n,Hg(s,{owner:t}));else if(i!==s)if(t.hasValue(n)){const o=t.getValue(n);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=t.getStaticValue(n);t.addValue(n,Hg(o!==void 0?o:s,{owner:t}))}}for(const n in r)e[n]===void 0&&t.removeValue(n);return e}const ZR=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class zde{scrapeMotionValuesFromProps(e,r,n){return{}}constructor({parent:e,props:r,presenceContext:n,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=oD,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=ol.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,ns.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=u,this.parent=e,this.props=r,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=EN(r),this.isVariantNode=iJ(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...h}=this.scrapeMotionValuesFromProps(r,{},this);for(const g in h){const p=h[g];c[g]!==void 0&&go(p)&&p.set(c[g])}}mount(e){var r;this.current=e,$de.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),wJ.current||Bde(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Y6.current,(r=this.parent)==null||r.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),lm(this.notifyUpdate),lm(this.render),this.valueSubscriptions.forEach(r=>r()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const r in this.events)this.events[r].clear();for(const r in this.features){const n=this.features[r];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=Lx.has(e);n&&this.onBindTransform&&this.onBindTransform();const s=r.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&ns.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{s(),i&&i(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in zg){const r=zg[e];if(!r)continue;const{isEnabled:n,Feature:s}=r;if(!this.features[e]&&s&&n(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Fs()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<ZR.length;n++){const s=ZR[n];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=e[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=Hde(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const n=this.values.get(e);r!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&r!==void 0&&(n=Hg(r===null?void 0:r,{owner:this}),this.addValue(e,n)),n}readValue(e,r){let n=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return n!=null&&(typeof n=="string"&&(hK(n)||pK(n))?n=parseFloat(n):!Jue(n)&&cm.test(r)&&(n=JK(e,r)),this.setBaseTarget(e,go(n)?n.get():n)),go(n)?n.get():n}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){var i;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const o=bD(this.props,r,(i=this.presenceContext)==null?void 0:i.custom);o&&(n=o[e])}if(r&&n!==void 0)return n;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!go(s)?s:this.initialValues[e]!==void 0&&n===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new KO),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}scheduleRenderMicrotask(){uD.render(this.render)}}class jJ extends zde{constructor(){super(...arguments),this.KeyframeResolver=Fue}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:n}){delete r[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;go(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function NJ(t,{style:e,vars:r},n,s){const i=t.style;let o;for(o in e)i[o]=e[o];s==null||s.applyProjectionStyles(i,n);for(o in r)i.setProperty(o,r[o])}function qde(t){return window.getComputedStyle(t)}class Ude extends jJ{constructor(){super(...arguments),this.type="html",this.renderInstance=NJ}readValueFromInstance(e,r){var n;if(Lx.has(r))return(n=this.projection)!=null&&n.isProjecting?B6(r):nue(e,r);{const s=qde(e),i=(QO(r)?s.getPropertyValue(r):s[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:r}){return vJ(e,r)}build(e,r,n){pD(e,r,n.transformTemplate)}scrapeMotionValuesFromProps(e,r,n){return yD(e,r,n)}}const SJ=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Wde(t,e,r,n){NJ(t,e,void 0,n);for(const s in e.attrs)t.setAttribute(SJ.has(s)?s:vD(s),e.attrs[s])}class Vde extends jJ{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Fs}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(Lx.has(r)){const n=KK(r);return n&&n.default||0}return r=SJ.has(r)?r:vD(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,n){return hJ(e,r,n)}build(e,r,n){cJ(e,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,r,n,s){Wde(e,r,n,s)}mount(e){this.isSVGTag=dJ(e.tagName),super.mount(e)}}const Gde=(t,e)=>xD(t)?new Vde(e):new Ude(e,{allowProjection:t!==b.Fragment});function Sg(t,e,r){const n=t.getProps();return bD(n,e,r!==void 0?r:n.custom,t)}const K6=t=>Array.isArray(t);function Yde(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,Hg(r))}function Kde(t){return K6(t)?t[t.length-1]||0:t}function Jde(t,e){const r=Sg(t,e);let{transitionEnd:n={},transition:s={},...i}=r||{};i={...i,...n};for(const o in i){const l=Kde(i[o]);Yde(t,o,l)}}function Xde(t){return!!(go(t)&&t.add)}function J6(t,e){const r=t.getValue("willChange");if(Xde(r))return r.add(e);if(!r&&Df.WillChange){const n=new Df.WillChange("auto");t.addValue("willChange",n),n.add(e)}}function kJ(t){return t.props[mJ]}const Qde=t=>t!==null;function Zde(t,{repeat:e,repeatType:r="loop"},n){const s=t.filter(Qde),i=e&&r!=="loop"&&e%2===1?0:s.length-1;return s[i]}const efe={type:"spring",stiffness:500,damping:25,restSpeed:10},tfe=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),rfe={type:"keyframes",duration:.8},nfe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},afe=(t,{keyframes:e})=>e.length>2?rfe:Lx.has(t)?t.startsWith("scale")?tfe(e[1]):efe:nfe;function sfe({when:t,delay:e,delayChildren:r,staggerChildren:n,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:u,...f}){return!!Object.keys(f).length}const wD=(t,e,r,n={},s,i)=>o=>{const l=lD(n,t)||{},c=l.delay||n.delay||0;let{elapsed:u=0}=n;u=u-ed(c);const f={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-u,onUpdate:g=>{e.set(g),l.onUpdate&&l.onUpdate(g)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:i?void 0:s};sfe(l)||Object.assign(f,afe(t,f)),f.duration&&(f.duration=ed(f.duration)),f.repeatDelay&&(f.repeatDelay=ed(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let h=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(U6(f),f.delay===0&&(h=!0)),(Df.instantAnimations||Df.skipAnimations)&&(h=!0,U6(f),f.delay=0),f.allowFlatten=!l.type&&!l.ease,h&&!i&&e.get()!==void 0){const g=Zde(f.keyframes,l);if(g!==void 0){ns.update(()=>{f.onUpdate(g),f.onComplete()});return}}return l.isSync?new iD(f):new Cue(f)};function ife({protectedKeys:t,needsAnimating:e},r){const n=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,n}function CJ(t,e,{delay:r=0,transitionOverride:n,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...l}=e;n&&(i=n);const c=[],u=s&&t.animationState&&t.animationState.getState()[s];for(const f in l){const h=t.getValue(f,t.latestValues[f]??null),g=l[f];if(g===void 0||u&&ife(u,f))continue;const p={delay:r,...lD(i||{},f)},v=h.get();if(v!==void 0&&!h.isAnimating&&!Array.isArray(g)&&g===v&&!p.velocity)continue;let w=!1;if(window.MotionHandoffAnimation){const N=kJ(t);if(N){const k=window.MotionHandoffAnimation(N,f,ns);k!==null&&(p.startTime=k,w=!0)}}J6(t,f),h.start(wD(f,h,g,t.shouldReduceMotion&&VK.has(f)?{type:!1}:p,t,w));const y=h.animation;y&&c.push(y)}return o&&Promise.all(c).then(()=>{ns.update(()=>{o&&Jde(t,o)})}),c}function _J(t,e,r,n=0,s=1){const i=Array.from(t).sort((u,f)=>u.sortNodePosition(f)).indexOf(e),o=t.size,l=(o-1)*n;return typeof r=="function"?r(i,o):s===1?i*n:l-i*n}function X6(t,e,r={}){var c;const n=Sg(t,e,r.type==="exit"?(c=t.presenceContext)==null?void 0:c.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(s=r.transitionOverride);const i=n?()=>Promise.all(CJ(t,n,r)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:f=0,staggerChildren:h,staggerDirection:g}=s;return ofe(t,e,u,f,h,g,r)}:()=>Promise.resolve(),{when:l}=s;if(l){const[u,f]=l==="beforeChildren"?[i,o]:[o,i];return u().then(()=>f())}else return Promise.all([i(),o(r.delay)])}function ofe(t,e,r=0,n=0,s=0,i=1,o){const l=[];for(const c of t.variantChildren)c.notify("AnimationStart",e),l.push(X6(c,e,{...o,delay:r+(typeof n=="function"?0:n)+_J(t.variantChildren,c,n,s,i)}).then(()=>c.notify("AnimationComplete",e)));return Promise.all(l)}function lfe(t,e,r={}){t.notify("AnimationStart",e);let n;if(Array.isArray(e)){const s=e.map(i=>X6(t,i,r));n=Promise.all(s)}else if(typeof e=="string")n=X6(t,e,r);else{const s=typeof e=="function"?Sg(t,e,r.custom):e;n=Promise.all(CJ(t,s,r))}return n.then(()=>{t.notify("AnimationComplete",e)})}function AJ(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}const cfe=mD.length;function TJ(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?TJ(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const e={};for(let r=0;r<cfe;r++){const n=mD[r],s=t.props[n];(Ky(s)||s===!1)&&(e[n]=s)}return e}const ufe=[...hD].reverse(),dfe=hD.length;function ffe(t){return e=>Promise.all(e.map(({animation:r,options:n})=>lfe(t,r,n)))}function hfe(t){let e=ffe(t),r=eI(),n=!0;const s=c=>(u,f)=>{var g;const h=Sg(t,f,c==="exit"?(g=t.presenceContext)==null?void 0:g.custom:void 0);if(h){const{transition:p,transitionEnd:v,...w}=h;u={...u,...w,...v}}return u};function i(c){e=c(t)}function o(c){const{props:u}=t,f=TJ(t.parent)||{},h=[],g=new Set;let p={},v=1/0;for(let y=0;y<dfe;y++){const N=ufe[y],k=r[N],S=u[N]!==void 0?u[N]:f[N],T=Ky(S),_=N===c?k.isActive:null;_===!1&&(v=y);let D=S===f[N]&&S!==u[N]&&T;if(D&&n&&t.manuallyAnimateOnMount&&(D=!1),k.protectedKeys={...p},!k.isActive&&_===null||!S&&!k.prevProp||MN(S)||typeof S=="boolean")continue;const E=mfe(k.prevProp,S);let L=E||N===c&&k.isActive&&!D&&T||y>v&&T,R=!1;const F=Array.isArray(S)?S:[S];let A=F.reduce(s(N),{});_===!1&&(A={});const{prevResolvedValues:M={}}=k,B={...M,...A},z=H=>{L=!0,g.has(H)&&(R=!0,g.delete(H)),k.needsAnimating[H]=!0;const q=t.getValue(H);q&&(q.liveStyle=!1)};for(const H in B){const q=A[H],X=M[H];if(p.hasOwnProperty(H))continue;let oe=!1;K6(q)&&K6(X)?oe=!AJ(q,X):oe=q!==X,oe?q!=null?z(H):g.add(H):q!==void 0&&g.has(H)?z(H):k.protectedKeys[H]=!0}k.prevProp=S,k.prevResolvedValues=A,k.isActive&&(p={...p,...A}),n&&t.blockInitialAnimation&&(L=!1);const Y=D&&E;L&&(!Y||R)&&h.push(...F.map(H=>{const q={type:N};if(typeof H=="string"&&n&&!Y&&t.manuallyAnimateOnMount&&t.parent){const{parent:X}=t,oe=Sg(X,H);if(X.enteringChildren&&oe){const{delayChildren:K}=oe.transition||{};q.delay=_J(X.enteringChildren,t,K)}}return{animation:H,options:q}}))}if(g.size){const y={};if(typeof u.initial!="boolean"){const N=Sg(t,Array.isArray(u.initial)?u.initial[0]:u.initial);N&&N.transition&&(y.transition=N.transition)}g.forEach(N=>{const k=t.getBaseTarget(N),S=t.getValue(N);S&&(S.liveStyle=!0),y[N]=k??null}),h.push({animation:y})}let w=!!h.length;return n&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(w=!1),n=!1,w?e(h):Promise.resolve()}function l(c,u){var h;if(r[c].isActive===u)return Promise.resolve();(h=t.variantChildren)==null||h.forEach(g=>{var p;return(p=g.animationState)==null?void 0:p.setActive(c,u)}),r[c].isActive=u;const f=o(c);for(const g in r)r[g].protectedKeys={};return f}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>r,reset:()=>{r=eI(),n=!0}}}function mfe(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!AJ(e,t):!1}function Um(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function eI(){return{animate:Um(!0),whileInView:Um(),whileHover:Um(),whileTap:Um(),whileDrag:Um(),whileFocus:Um(),exit:Um()}}class xm{constructor(e){this.isMounted=!1,this.node=e}update(){}}class pfe extends xm{constructor(e){super(e),e.animationState||(e.animationState=hfe(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();MN(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let gfe=0;class xfe extends xm{constructor(){super(...arguments),this.id=gfe++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const s=this.node.animationState.setActive("exit",!e);r&&!e&&s.then(()=>{r(this.id)})}mount(){const{register:e,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const bfe={animation:{Feature:pfe},exit:{Feature:xfe}};function Xy(t,e,r,n={passive:!0}){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r)}function a1(t){return{point:{x:t.pageX,y:t.pageY}}}const yfe=t=>e=>dD(e)&&t(e,a1(e));function wy(t,e,r,n){return Xy(t,e,yfe(r),n)}const MJ=1e-4,vfe=1-MJ,wfe=1+MJ,EJ=.01,jfe=0-EJ,Nfe=0+EJ;function Oo(t){return t.max-t.min}function Sfe(t,e,r){return Math.abs(t-e)<=r}function tI(t,e,r,n=.5){t.origin=n,t.originPoint=hs(e.min,e.max,t.origin),t.scale=Oo(r)/Oo(e),t.translate=hs(r.min,r.max,t.origin)-t.originPoint,(t.scale>=vfe&&t.scale<=wfe||isNaN(t.scale))&&(t.scale=1),(t.translate>=jfe&&t.translate<=Nfe||isNaN(t.translate))&&(t.translate=0)}function jy(t,e,r,n){tI(t.x,e.x,r.x,n?n.originX:void 0),tI(t.y,e.y,r.y,n?n.originY:void 0)}function rI(t,e,r){t.min=r.min+e.min,t.max=t.min+Oo(e)}function kfe(t,e,r){rI(t.x,e.x,r.x),rI(t.y,e.y,r.y)}function nI(t,e,r){t.min=e.min-r.min,t.max=t.min+Oo(e)}function Ny(t,e,r){nI(t.x,e.x,r.x),nI(t.y,e.y,r.y)}function ac(t){return[t("x"),t("y")]}const OJ=({current:t})=>t?t.ownerDocument.defaultView:null,aI=(t,e)=>Math.abs(t-e);function Cfe(t,e){const r=aI(t.x,e.x),n=aI(t.y,e.y);return Math.sqrt(r**2+n**2)}class DJ{constructor(e,r,{transformPagePoint:n,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=vC(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,v=Cfe(g.offset,{x:0,y:0})>=this.distanceThreshold;if(!p&&!v)return;const{point:w}=g,{timestamp:y}=Wi;this.history.push({...w,timestamp:y});const{onStart:N,onMove:k}=this.handlers;p||(N&&N(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),k&&k(this.lastMoveEvent,g)},this.handlePointerMove=(g,p)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=yC(p,this.transformPagePoint),ns.update(this.updatePoint,!0)},this.handlePointerUp=(g,p)=>{this.end();const{onEnd:v,onSessionEnd:w,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const N=vC(g.type==="pointercancel"?this.lastMoveEventInfo:yC(p,this.transformPagePoint),this.history);this.startEvent&&v&&v(g,N),w&&w(g,N)},!dD(e))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=o,this.contextWindow=s||window;const l=a1(e),c=yC(l,this.transformPagePoint),{point:u}=c,{timestamp:f}=Wi;this.history=[{...u,timestamp:f}];const{onSessionStart:h}=r;h&&h(e,vC(c,this.history)),this.removeListeners=t1(wy(this.contextWindow,"pointermove",this.handlePointerMove),wy(this.contextWindow,"pointerup",this.handlePointerUp),wy(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),lm(this.updatePoint)}}function yC(t,e){return e?{point:e(t.point)}:t}function sI(t,e){return{x:t.x-e.x,y:t.y-e.y}}function vC({point:t},e){return{point:t,delta:sI(t,PJ(e)),offset:sI(t,_fe(e)),velocity:Afe(e,.1)}}function _fe(t){return t[0]}function PJ(t){return t[t.length-1]}function Afe(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,n=null;const s=PJ(t);for(;r>=0&&(n=t[r],!(s.timestamp-n.timestamp>ed(e)));)r--;if(!n)return{x:0,y:0};const i=fc(s.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-n.x)/i,y:(s.y-n.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Tfe(t,{min:e,max:r},n){return e!==void 0&&t<e?t=n?hs(e,t,n.min):Math.max(t,e):r!==void 0&&t>r&&(t=n?hs(r,t,n.max):Math.min(t,r)),t}function iI(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function Mfe(t,{top:e,left:r,bottom:n,right:s}){return{x:iI(t.x,r,s),y:iI(t.y,e,n)}}function oI(t,e){let r=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,n]=[n,r]),{min:r,max:n}}function Efe(t,e){return{x:oI(t.x,e.x),y:oI(t.y,e.y)}}function Ofe(t,e){let r=.5;const n=Oo(t),s=Oo(e);return s>n?r=Vy(e.min,e.max-n,t.min):n>s&&(r=Vy(t.min,t.max-s,e.min)),Of(0,1,r)}function Dfe(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const Q6=.35;function Pfe(t=Q6){return t===!1?t=0:t===!0&&(t=Q6),{x:lI(t,"left","right"),y:lI(t,"top","bottom")}}function lI(t,e,r){return{min:cI(t,e),max:cI(t,r)}}function cI(t,e){return typeof t=="number"?t:t[e]||0}const Lfe=new WeakMap;class Rfe{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Fs(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=h=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(a1(h).point)},o=(h,g)=>{const{drag:p,dragPropagation:v,onDragStart:w}=this.getProps();if(p&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=zue(p),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=g,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ac(N=>{let k=this.getAxisMotionValue(N).get()||0;if(td.test(k)){const{projection:S}=this.visualElement;if(S&&S.layout){const T=S.layout.layoutBox[N];T&&(k=Oo(T)*(parseFloat(k)/100))}}this.originPoint[N]=k}),w&&ns.postRender(()=>w(h,g)),J6(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},l=(h,g)=>{this.latestPointerEvent=h,this.latestPanInfo=g;const{dragPropagation:p,dragDirectionLock:v,onDirectionLock:w,onDrag:y}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:N}=g;if(v&&this.currentDirection===null){this.currentDirection=Ife(N),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",g.point,N),this.updateAxis("y",g.point,N),this.visualElement.render(),y&&y(h,g)},c=(h,g)=>{this.latestPointerEvent=h,this.latestPanInfo=g,this.stop(h,g),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>ac(h=>{var g;return this.getAnimationState(h)==="paused"&&((g=this.getAxisMotionValue(h).animation)==null?void 0:g.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new DJ(e,{onSessionStart:i,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,distanceThreshold:n,contextWindow:OJ(this.visualElement)})}stop(e,r){const n=e||this.latestPointerEvent,s=r||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!n)return;const{velocity:o}=s;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&ns.postRender(()=>l(n,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,n){const{drag:s}=this.getProps();if(!n||!jw(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(o=Tfe(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:e,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;e&&hg(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&n?this.constraints=Mfe(n.layoutBox,e):this.constraints=!1,this.elastic=Pfe(r),s!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&ac(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=Dfe(n.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!hg(e))return!1;const n=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=Fde(n,s.root,this.visualElement.getTransformPagePoint());let o=Efe(s.layout.layoutBox,i);if(r){const l=r(Lde(o));this.hasMutatedConstraints=!!l,l&&(o=xJ(l))}return o}startAnimation(e){const{drag:r,dragMomentum:n,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=ac(f=>{if(!jw(f,r,this.currentDirection))return;let h=c&&c[f]||{};o&&(h={min:0,max:0});const g=s?200:1e6,p=s?40:1e7,v={type:"inertia",velocity:n?e[f]:0,bounceStiffness:g,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(f,v)});return Promise.all(u).then(l)}startAxisValueAnimation(e,r){const n=this.getAxisMotionValue(e);return J6(this.visualElement,e),n.start(wD(e,n,0,r,this.visualElement,!1))}stopAnimation(){ac(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ac(e=>{var r;return(r=this.getAxisMotionValue(e).animation)==null?void 0:r.pause()})}getAnimationState(e){var r;return(r=this.getAxisMotionValue(e).animation)==null?void 0:r.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),s=n[r];return s||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){ac(r=>{const{drag:n}=this.getProps();if(!jw(r,n,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(r);if(s&&s.layout){const{min:o,max:l}=s.layout.layoutBox[r];i.set(e[r]-hs(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!hg(r)||!n||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};ac(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();s[o]=Ofe({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),ac(o=>{if(!jw(o,e,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(hs(c,u,s[o]))})}addListeners(){if(!this.visualElement.current)return;Lfe.set(this.visualElement,this);const e=this.visualElement.current,r=wy(e,"pointerdown",c=>{const{drag:u,dragListener:f=!0}=this.getProps();u&&f&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();hg(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",n);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),ns.read(n);const o=Xy(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",(({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(ac(f=>{const h=this.getAxisMotionValue(f);h&&(this.originPoint[f]+=c[f].translate,h.set(h.get()+c[f].translate))}),this.visualElement.render())}));return()=>{o(),r(),i(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=Q6,dragMomentum:l=!0}=e;return{...e,drag:r,dragDirectionLock:n,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function jw(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function Ife(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class Ffe extends xm{constructor(e){super(e),this.removeGroupControls=pc,this.removeListeners=pc,this.controls=new Rfe(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||pc}unmount(){this.removeGroupControls(),this.removeListeners()}}const uI=t=>(e,r)=>{t&&ns.postRender(()=>t(e,r))};class Bfe extends xm{constructor(){super(...arguments),this.removePointerDownListener=pc}onPointerDown(e){this.session=new DJ(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:OJ(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:n,onPanEnd:s}=this.node.getProps();return{onSessionStart:uI(e),onStart:uI(r),onMove:n,onEnd:(i,o)=>{delete this.session,s&&ns.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=wy(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const O2={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function dI(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Pb={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Jr.test(t))t=parseFloat(t);else return t;const r=dI(t,e.target.x),n=dI(t,e.target.y);return`${r}% ${n}%`}},$fe={correct:(t,{treeScale:e,projectionDelta:r})=>{const n=t,s=cm.parse(t);if(s.length>5)return n;const i=cm.createTransformer(t),o=typeof s[0]!="number"?1:0,l=r.x.scale*e.x,c=r.y.scale*e.y;s[0+o]/=l,s[1+o]/=c;const u=hs(l,c,.5);return typeof s[2+o]=="number"&&(s[2+o]/=u),typeof s[3+o]=="number"&&(s[3+o]/=u),i(s)}};let wC=!1;class Hfe extends b.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n,layoutId:s}=this.props,{projection:i}=e;cde(zfe),i&&(r.group&&r.group.add(i),n&&n.register&&s&&n.register(i),wC&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),O2.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:n,drag:s,isPresent:i}=this.props,{projection:o}=n;return o&&(o.isPresent=i,wC=!0,s||e.layoutDependency!==r||r===void 0||e.isPresent!==i?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||ns.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),uD.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:s}=e;wC=!0,s&&(s.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(s),n&&n.deregister&&n.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function LJ(t){const[e,r]=nJ(),n=b.useContext(zO);return a.jsx(Hfe,{...t,layoutGroup:n,switchLayoutGroup:b.useContext(pJ),isPresent:e,safeToRemove:r})}const zfe={borderRadius:{...Pb,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Pb,borderTopRightRadius:Pb,borderBottomLeftRadius:Pb,borderBottomRightRadius:Pb,boxShadow:$fe};function qfe(t,e,r){const n=go(t)?t:Hg(t);return n.start(wD("",n,e,r)),n.animation}const Ufe=(t,e)=>t.depth-e.depth;class Wfe{constructor(){this.children=[],this.isDirty=!1}add(e){WO(this.children,e),this.isDirty=!0}remove(e){VO(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Ufe),this.isDirty=!1,this.children.forEach(e)}}function Vfe(t,e){const r=ol.now(),n=({timestamp:s})=>{const i=s-r;i>=e&&(lm(n),t(i-e))};return ns.setup(n,!0),()=>lm(n)}const RJ=["TopLeft","TopRight","BottomLeft","BottomRight"],Gfe=RJ.length,fI=t=>typeof t=="string"?parseFloat(t):t,hI=t=>typeof t=="number"||Jr.test(t);function Yfe(t,e,r,n,s,i){s?(t.opacity=hs(0,r.opacity??1,Kfe(n)),t.opacityExit=hs(e.opacity??1,0,Jfe(n))):i&&(t.opacity=hs(e.opacity??1,r.opacity??1,n));for(let o=0;o<Gfe;o++){const l=`border${RJ[o]}Radius`;let c=mI(e,l),u=mI(r,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||hI(c)===hI(u)?(t[l]=Math.max(hs(fI(c),fI(u),n),0),(td.test(u)||td.test(c))&&(t[l]+="%")):t[l]=u}(e.rotate||r.rotate)&&(t.rotate=hs(e.rotate||0,r.rotate||0,n))}function mI(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Kfe=IJ(0,.5,NK),Jfe=IJ(.5,.95,pc);function IJ(t,e,r){return n=>n<t?0:n>e?1:r(Vy(t,e,n))}function pI(t,e){t.min=e.min,t.max=e.max}function Zl(t,e){pI(t.x,e.x),pI(t.y,e.y)}function gI(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function xI(t,e,r,n,s){return t-=e,t=uj(t,1/r,n),s!==void 0&&(t=uj(t,1/s,n)),t}function Xfe(t,e=0,r=1,n=.5,s,i=t,o=t){if(td.test(e)&&(e=parseFloat(e),e=hs(o.min,o.max,e/100)-o.min),typeof e!="number")return;let l=hs(i.min,i.max,n);t===i&&(l-=e),t.min=xI(t.min,e,r,l,s),t.max=xI(t.max,e,r,l,s)}function bI(t,e,[r,n,s],i,o){Xfe(t,e[r],e[n],e[s],e.scale,i,o)}const Qfe=["x","scaleX","originX"],Zfe=["y","scaleY","originY"];function yI(t,e,r,n){bI(t.x,e,Qfe,r?r.x:void 0,n?n.x:void 0),bI(t.y,e,Zfe,r?r.y:void 0,n?n.y:void 0)}function vI(t){return t.translate===0&&t.scale===1}function FJ(t){return vI(t.x)&&vI(t.y)}function wI(t,e){return t.min===e.min&&t.max===e.max}function ehe(t,e){return wI(t.x,e.x)&&wI(t.y,e.y)}function jI(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function BJ(t,e){return jI(t.x,e.x)&&jI(t.y,e.y)}function NI(t){return Oo(t.x)/Oo(t.y)}function SI(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class the{constructor(){this.members=[]}add(e){WO(this.members,e),e.scheduleRender()}remove(e){if(VO(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(s=>e===s);if(r===0)return!1;let n;for(let s=r;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(e,r){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,r&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:n}=e;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function rhe(t,e,r){let n="";const s=t.x.translate/e.x,i=t.y.translate/e.y,o=(r==null?void 0:r.z)||0;if((s||i||o)&&(n=`translate3d(${s}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:u,rotate:f,rotateX:h,rotateY:g,skewX:p,skewY:v}=r;u&&(n=`perspective(${u}px) ${n}`),f&&(n+=`rotate(${f}deg) `),h&&(n+=`rotateX(${h}deg) `),g&&(n+=`rotateY(${g}deg) `),p&&(n+=`skewX(${p}deg) `),v&&(n+=`skewY(${v}deg) `)}const l=t.x.scale*e.x,c=t.y.scale*e.y;return(l!==1||c!==1)&&(n+=`scale(${l}, ${c})`),n||"none"}const jC=["","X","Y","Z"],nhe=1e3;let ahe=0;function NC(t,e,r,n){const{latestValues:s}=e;s[t]&&(r[t]=s[t],e.setStaticValue(t,0),n&&(n[t]=0))}function $J(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const r=kJ(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",ns,!(s||i))}const{parent:n}=t;n&&!n.hasCheckedOptimisedAppear&&$J(n)}function HJ({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:n,resetTransform:s}){return class{constructor(o={},l=e==null?void 0:e()){this.id=ahe++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(ohe),this.nodes.forEach(dhe),this.nodes.forEach(fhe),this.nodes.forEach(lhe)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new Wfe)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new KO),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=rJ(o)&&!Yue(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),t){let f,h=0;const g=()=>this.root.updateBlockedByResize=!1;ns.read(()=>{h=window.innerWidth}),t(o,()=>{const p=window.innerWidth;p!==h&&(h=p,this.root.updateBlockedByResize=!0,f&&f(),f=Vfe(g,250),O2.hasAnimatedSinceResize&&(O2.hasAnimatedSinceResize=!1,this.nodes.forEach(_I)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeLayoutChanged:g,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||u.getDefaultTransition()||xhe,{onLayoutAnimationStart:w,onLayoutAnimationComplete:y}=u.getProps(),N=!this.targetLayout||!BJ(this.targetLayout,p),k=!h&&g;if(this.options.layoutRoot||this.resumeFrom||k||h&&(N||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const S={...lD(v,"layout"),onPlay:w,onComplete:y};(u.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S),this.setAnimationOrigin(f,k)}else h||_I(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),lm(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(hhe),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&$J(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const h=this.path[f];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(kI);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(CI);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(uhe),this.nodes.forEach(she),this.nodes.forEach(ihe)):this.nodes.forEach(CI),this.clearAllSnapshots();const l=ol.now();Wi.delta=Of(0,1e3/60,l-Wi.timestamp),Wi.timestamp=l,Wi.isProcessing=!0,dC.update.process(Wi),dC.preRender.process(Wi),dC.render.process(Wi),Wi.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,uD.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(che),this.sharedNodes.forEach(mhe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ns.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ns.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Oo(this.snapshot.measuredBox.x)&&!Oo(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Fs(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!FJ(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,f=u!==this.prevTransformTemplateValue;o&&this.instance&&(l||Km(this.latestValues)||f)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),bhe(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:o}=this.options;if(!o)return Fs();const l=o.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(yhe))){const{scroll:f}=this.root;f&&(mg(l.x,f.offset.x),mg(l.y,f.offset.y))}return l}removeElementScroll(o){var c;const l=Fs();if(Zl(l,o),(c=this.scroll)!=null&&c.wasRoot)return l;for(let u=0;u<this.path.length;u++){const f=this.path[u],{scroll:h,options:g}=f;f!==this.root&&h&&g.layoutScroll&&(h.wasRoot&&Zl(l,o),mg(l.x,h.offset.x),mg(l.y,h.offset.y))}return l}applyTransform(o,l=!1){const c=Fs();Zl(c,o);for(let u=0;u<this.path.length;u++){const f=this.path[u];!l&&f.options.layoutScroll&&f.scroll&&f!==f.root&&pg(c,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),Km(f.latestValues)&&pg(c,f.latestValues)}return Km(this.latestValues)&&pg(c,this.latestValues),c}removeTransform(o){const l=Fs();Zl(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Km(u.latestValues))continue;V6(u.latestValues)&&u.updateSnapshot();const f=Fs(),h=u.measurePageBox();Zl(f,h),yI(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,f)}return Km(this.latestValues)&&yI(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Wi.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var g;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:h}=this.options;if(!(!this.layout||!(f||h))){if(this.resolvedRelativeTargetAt=Wi.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Fs(),this.relativeTargetOrigin=Fs(),Ny(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Zl(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Fs(),this.targetWithTransforms=Fs()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),kfe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Zl(this.target,this.layout.layoutBox),yJ(this.target,this.targetDelta)):Zl(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Fs(),this.relativeTargetOrigin=Fs(),Ny(this.relativeTargetOrigin,this.target,p.target),Zl(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||V6(this.parent.latestValues)||bJ(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var v;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Wi.timestamp&&(c=!1),c)return;const{layout:u,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||f))return;Zl(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,g=this.treeScale.y;Ide(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Fs());const{target:p}=o;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(gI(this.prevProjectionDelta.x,this.projectionDelta.x),gI(this.prevProjectionDelta.y,this.projectionDelta.y)),jy(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==g||!SI(this.projectionDelta.x,this.prevProjectionDelta.x)||!SI(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=gg(),this.projectionDelta=gg(),this.projectionDeltaWithTransform=gg()}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},f={...this.latestValues},h=gg();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const g=Fs(),p=c?c.source:void 0,v=this.layout?this.layout.source:void 0,w=p!==v,y=this.getStack(),N=!y||y.members.length<=1,k=!!(w&&!N&&this.options.crossfade===!0&&!this.path.some(ghe));this.animationProgress=0;let S;this.mixTargetDelta=T=>{const _=T/1e3;AI(h.x,o.x,_),AI(h.y,o.y,_),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ny(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),phe(this.relativeTarget,this.relativeTargetOrigin,g,_),S&&ehe(this.relativeTarget,S)&&(this.isProjectionDirty=!1),S||(S=Fs()),Zl(S,this.relativeTarget)),w&&(this.animationValues=f,Yfe(f,u,this.latestValues,_,k,N)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=_},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var l,c,u;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(u=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||u.stop(),this.pendingAnimation&&(lm(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ns.update(()=>{O2.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Hg(0)),this.currentAnimation=qfe(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),o.onUpdate&&o.onUpdate(f)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(nhe),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:f}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&zJ(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Fs();const h=Oo(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+h;const g=Oo(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+g}Zl(l,c),pg(l,f),jy(this.projectionDeltaWithTransform,this.layoutCorrected,l,f)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new the),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&NC("z",o,u,this.animationValues);for(let f=0;f<jC.length;f++)NC(`rotate${jC[f]}`,o,u,this.animationValues),NC(`skew${jC[f]}`,o,u,this.animationValues);o.render();for(const f in u)o.setStaticValue(f,u[f]),this.animationValues&&(this.animationValues[f]=u[f]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=E2(l==null?void 0:l.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=E2(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!Km(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const f=u.animationValues||u.latestValues;this.applyTransformsToTarget();let h=rhe(this.projectionDeltaWithTransform,this.treeScale,f);c&&(h=c(f,h)),o.transform=h;const{x:g,y:p}=this.projectionDelta;o.transformOrigin=`${g.origin*100}% ${p.origin*100}% 0`,u.animationValues?o.opacity=u===this?f.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:o.opacity=u===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const v in Jy){if(f[v]===void 0)continue;const{correct:w,applyTo:y,isCSSVariable:N}=Jy[v],k=h==="none"?f[v]:w(f[v],u);if(y){const S=y.length;for(let T=0;T<S;T++)o[y[T]]=k}else N?this.options.visualElement.renderState.vars[v]=k:o[v]=k}this.options.layoutId&&(o.pointerEvents=u===this?E2(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(kI),this.root.sharedNodes.clear()}}}function she(t){t.updateLayout()}function ihe(t){var r;const e=((r=t.resumeFrom)==null?void 0:r.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=t.layout,{animationType:i}=t.options,o=e.source!==t.layout.source;i==="size"?ac(h=>{const g=o?e.measuredBox[h]:e.layoutBox[h],p=Oo(g);g.min=n[h].min,g.max=g.min+p}):zJ(i,e.layoutBox,n)&&ac(h=>{const g=o?e.measuredBox[h]:e.layoutBox[h],p=Oo(n[h]);g.max=g.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+p)});const l=gg();jy(l,n,e.layoutBox);const c=gg();o?jy(c,t.applyTransform(s,!0),e.measuredBox):jy(c,n,e.layoutBox);const u=!FJ(l);let f=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:g,layout:p}=h;if(g&&p){const v=Fs();Ny(v,e.layoutBox,g.layoutBox);const w=Fs();Ny(w,n,p.layoutBox),BJ(v,w)||(f=!0),h.options.layoutRoot&&(t.relativeTarget=w,t.relativeTargetOrigin=v,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeLayoutChanged:f})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function ohe(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function lhe(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function che(t){t.clearSnapshot()}function kI(t){t.clearMeasurements()}function CI(t){t.isLayoutDirty=!1}function uhe(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function _I(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function dhe(t){t.resolveTargetDelta()}function fhe(t){t.calcProjection()}function hhe(t){t.resetSkewAndRotation()}function mhe(t){t.removeLeadSnapshot()}function AI(t,e,r){t.translate=hs(e.translate,0,r),t.scale=hs(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function TI(t,e,r,n){t.min=hs(e.min,r.min,n),t.max=hs(e.max,r.max,n)}function phe(t,e,r,n){TI(t.x,e.x,r.x,n),TI(t.y,e.y,r.y,n)}function ghe(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const xhe={duration:.45,ease:[.4,0,.1,1]},MI=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),EI=MI("applewebkit/")&&!MI("chrome/")?Math.round:pc;function OI(t){t.min=EI(t.min),t.max=EI(t.max)}function bhe(t){OI(t.x),OI(t.y)}function zJ(t,e,r){return t==="position"||t==="preserve-aspect"&&!Sfe(NI(e),NI(r),.2)}function yhe(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const vhe=HJ({attachResizeListener:(t,e)=>Xy(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),SC={current:void 0},qJ=HJ({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!SC.current){const t=new vhe({});t.mount(window),t.setOptions({layoutScroll:!0}),SC.current=t}return SC.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),whe={pan:{Feature:Bfe},drag:{Feature:Ffe,ProjectionNode:qJ,MeasureLayout:LJ}};function DI(t,e,r){const{props:n}=t;t.animationState&&n.whileHover&&t.animationState.setActive("whileHover",r==="Start");const s="onHover"+r,i=n[s];i&&ns.postRender(()=>i(e,a1(e)))}class jhe extends xm{mount(){const{current:e}=this.node;e&&(this.unmount=que(e,(r,n)=>(DI(this.node,n,"Start"),s=>DI(this.node,s,"End"))))}unmount(){}}class Nhe extends xm{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=t1(Xy(this.node.current,"focus",()=>this.onFocus()),Xy(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function PI(t,e,r){const{props:n}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&n.whileTap&&t.animationState.setActive("whileTap",r==="Start");const s="onTap"+(r==="End"?"":r),i=n[s];i&&ns.postRender(()=>i(e,a1(e)))}class She extends xm{mount(){const{current:e}=this.node;e&&(this.unmount=Gue(e,(r,n)=>(PI(this.node,n,"Start"),(s,{success:i})=>PI(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Z6=new WeakMap,kC=new WeakMap,khe=t=>{const e=Z6.get(t.target);e&&e(t)},Che=t=>{t.forEach(khe)};function _he({root:t,...e}){const r=t||document;kC.has(r)||kC.set(r,{});const n=kC.get(r),s=JSON.stringify(e);return n[s]||(n[s]=new IntersectionObserver(Che,{root:t,...e})),n[s]}function Ahe(t,e,r){const n=_he(e);return Z6.set(t,r),n.observe(t),()=>{Z6.delete(t),n.unobserve(t)}}const The={some:0,all:1};class Mhe extends xm{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:n,amount:s="some",once:i}=e,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof s=="number"?s:The[s]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:f,onViewportLeave:h}=this.node.getProps(),g=u?f:h;g&&g(c)};return Ahe(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(Ehe(e,r))&&this.startObserver()}unmount(){}}function Ehe({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const Ohe={inView:{Feature:Mhe},tap:{Feature:She},focus:{Feature:Nhe},hover:{Feature:jhe}},Dhe={layout:{ProjectionNode:qJ,MeasureLayout:LJ}},Phe={...bfe,...Ohe,...whe,...Dhe},O=Pde(Phe,Gde);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lhe=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Rhe=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,n)=>n?n.toUpperCase():r.toLowerCase()),LI=t=>{const e=Rhe(t);return e.charAt(0).toUpperCase()+e.slice(1)},UJ=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim(),Ihe=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Fhe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bhe=b.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:o,...l},c)=>b.createElement("svg",{ref:c,...Fhe,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:UJ("lucide",s),...!i&&!Ihe(l)&&{"aria-hidden":"true"},...l},[...o.map(([u,f])=>b.createElement(u,f)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ht=(t,e)=>{const r=b.forwardRef(({className:n,...s},i)=>b.createElement(Bhe,{ref:i,iconNode:e,className:UJ(`lucide-${Lhe(LI(t))}`,`lucide-${t}`,n),...s}));return r.displayName=LI(t),r};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $he=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],hc=Ht("activity",$he);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hhe=[["path",{d:"M17 12H7",key:"16if0g"}],["path",{d:"M19 18H5",key:"18s9l3"}],["path",{d:"M21 6H3",key:"1jwq7v"}]],zhe=Ht("align-center",Hhe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qhe=[["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 18h18",key:"1h113x"}],["path",{d:"M3 6h18",key:"d0wm0j"}]],Uhe=Ht("align-justify",qhe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Whe=[["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 18H3",key:"1amg6g"}],["path",{d:"M21 6H3",key:"1jwq7v"}]],Vhe=Ht("align-left",Whe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ghe=[["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M21 18H7",key:"1ygte8"}],["path",{d:"M21 6H3",key:"1jwq7v"}]],Yhe=Ht("align-right",Ghe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Khe=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],Jhe=Ht("archive",Khe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xhe=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],hn=Ht("arrow-left",Xhe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qhe=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Zhe=Ht("arrow-right",Qhe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eme=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],jD=Ht("bell",eme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tme=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],rme=Ht("bold",tme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nme=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],df=Ht("book-open",nme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ame=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],sme=Ht("box",ame);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ime=[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]],WJ=Ht("boxes",ime);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ome=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],cl=Ht("building",ome);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lme=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ga=Ht("calendar",lme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cme=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],eM=Ht("camera",cme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ume=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M7 16h8",key:"srdodz"}],["path",{d:"M7 11h12",key:"127s9w"}],["path",{d:"M7 6h3",key:"w9rmul"}]],qg=Ht("chart-bar",ume);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dme=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],fme=Ht("chart-column",dme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hme=[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]],bc=Ht("chart-no-axes-column",hme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mme=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],la=Ht("chevron-down",mme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pme=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],hd=Ht("chevron-left",pme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gme=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ta=Ht("chevron-right",gme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xme=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],dj=Ht("chevron-up",xme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bme=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],tM=Ht("circle-alert",bme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yme=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],fr=Ht("circle-check-big",yme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vme=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]],VJ=Ht("circle-play",vme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wme=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],ND=Ht("circle-x",wme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jme=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]],fn=Ht("clipboard",jme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nme=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Cr=Ht("clock",Nme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sme=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],kme=Ht("code",Sme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cme=[["path",{d:"M15.536 11.293a1 1 0 0 0 0 1.414l2.376 2.377a1 1 0 0 0 1.414 0l2.377-2.377a1 1 0 0 0 0-1.414l-2.377-2.377a1 1 0 0 0-1.414 0z",key:"1uwlt4"}],["path",{d:"M2.297 11.293a1 1 0 0 0 0 1.414l2.377 2.377a1 1 0 0 0 1.414 0l2.377-2.377a1 1 0 0 0 0-1.414L6.088 8.916a1 1 0 0 0-1.414 0z",key:"10291m"}],["path",{d:"M8.916 17.912a1 1 0 0 0 0 1.415l2.377 2.376a1 1 0 0 0 1.414 0l2.377-2.376a1 1 0 0 0 0-1.415l-2.377-2.376a1 1 0 0 0-1.414 0z",key:"1tqoq1"}],["path",{d:"M8.916 4.674a1 1 0 0 0 0 1.414l2.377 2.376a1 1 0 0 0 1.414 0l2.377-2.376a1 1 0 0 0 0-1.414l-2.377-2.377a1 1 0 0 0-1.414 0z",key:"1x6lto"}]],_me=Ht("component",Cme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ame=[["rect",{width:"14",height:"8",x:"5",y:"2",rx:"2",key:"wc9tft"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",key:"w68u3i"}],["path",{d:"M6 18h2",key:"rwmk9e"}],["path",{d:"M12 18h6",key:"aqd8w3"}]],Tme=Ht("computer",Ame);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mme=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Eme=Ht("copy",Mme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ome=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Dme=Ht("credit-card",Ome);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pme=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],ON=Ht("database",Pme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lme=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Rme=Ht("download",Lme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ime=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],SD=Ht("external-link",Ime);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fme=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],bo=Ht("eye",Fme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bme=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],vf=Ht("file-text",Bme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $me=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],RI=Ht("file",$me);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hme=[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],GJ=Ht("folder-plus",Hme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zme=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],YJ=Ht("folder",zme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qme=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 16s-1.5-2-4-2-4 2-4 2",key:"epbg0q"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],Ume=Ht("frown",qme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wme=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Ki=Ht("funnel",Wme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vme=[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]],KJ=Ht("git-branch",Vme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gme=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Yme=Ht("globe",Gme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kme=[["path",{d:"m15 12-8.373 8.373a1 1 0 1 1-3-3L12 9",key:"eefl8a"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172V7l-2.26-2.26a6 6 0 0 0-4.202-1.756L9 2.96l.92.82A6.18 6.18 0 0 1 12 8.4V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"b7pghm"}]],rM=Ht("hammer",Kme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jme=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"m17 12 3-2v8",key:"1hhhft"}]],Xme=Ht("heading-1",Jme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qme=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1",key:"9jr5yi"}]],Zme=Ht("heading-2",Qme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const epe=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17.5 10.5c1.7-1 3.5 0 3.5 1.5a2 2 0 0 1-2 2",key:"68ncm8"}],["path",{d:"M17 17.5c2 1.5 4 .3 4-1.5a2 2 0 0 0-2-2",key:"1ejuhz"}]],tpe=Ht("heading-3",epe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rpe=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Xh=Ht("history",rpe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const npe=[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]],mn=Ht("hourglass",npe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ape=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],vp=Ht("house",ape);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const spe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Zs=Ht("info",spe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ipe=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],ope=Ht("italic",ipe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lpe=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Dp=Ht("key",lpe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cpe=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],upe=Ht("layers",cpe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dpe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.93 4.93 4.24 4.24",key:"1ymg45"}],["path",{d:"m14.83 9.17 4.24-4.24",key:"1cb5xl"}],["path",{d:"m14.83 14.83 4.24 4.24",key:"q42g0n"}],["path",{d:"m9.17 14.83-4.24 4.24",key:"bqpfvv"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]],JJ=Ht("life-buoy",dpe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fpe=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],hpe=Ht("link",fpe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mpe=[["path",{d:"M11 18H3",key:"n3j2dh"}],["path",{d:"m15 18 2 2 4-4",key:"1szwhi"}],["path",{d:"M16 12H3",key:"1a2rj7"}],["path",{d:"M16 6H3",key:"1wxfjs"}]],Ug=Ht("list-check",mpe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ppe=[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]],nM=Ht("list-checks",ppe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gpe=[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]],xpe=Ht("list-ordered",gpe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bpe=[["path",{d:"M11 12H3",key:"51ecnj"}],["path",{d:"M16 6H3",key:"1wxfjs"}],["path",{d:"M16 18H3",key:"12xzn7"}],["path",{d:"M18 9v6",key:"1twb98"}],["path",{d:"M21 12h-6",key:"bt1uis"}]],Rx=Ht("list-plus",bpe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ype=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],kD=Ht("list",ype);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vpe=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],Wg=Ht("loader",vpe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wpe=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],jpe=Ht("lock",wpe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Npe=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Spe=Ht("log-out",Npe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kpe=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Xp=Ht("mail",kpe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cpe=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],gs=Ht("map-pin",Cpe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _pe=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],kg=Ht("message-square",_pe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ape=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],Qh=Ht("monitor",Ape);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tpe=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],XJ=Ht("moon",Tpe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mpe=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Ya=Ht("package",Mpe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Epe=[["path",{d:"m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z",key:"irua1i"}],["path",{d:"m5 2 5 5",key:"1lls2c"}],["path",{d:"M2 13h15",key:"1hkzvu"}],["path",{d:"M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z",key:"xk76lq"}]],Ope=Ht("paint-bucket",Epe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dpe=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],Ppe=Ht("palette",Dpe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lpe=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],yc=Ht("paperclip",Lpe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rpe=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],iu=Ht("phone",Rpe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ipe=[["path",{d:"M13 4v16",key:"8vvj80"}],["path",{d:"M17 4v16",key:"7dpous"}],["path",{d:"M19 4H9.5a4.5 4.5 0 0 0 0 9H13",key:"sh4n9v"}]],Fpe=Ht("pilcrow",Ipe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bpe=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],pa=Ht("plus",Bpe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $pe=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],II=Ht("printer",$pe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hpe=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],QJ=Ht("qr-code",Hpe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zpe=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],qpe=Ht("receipt",zpe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Upe=[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5A5.5 5.5 0 0 0 9.5 20H13",key:"6uklza"}]],Wpe=Ht("redo-2",Upe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vpe=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Gpe=Ht("refresh-cw",Vpe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ype=[["path",{d:"M4 7V4h16v3",key:"9msm58"}],["path",{d:"M5 20h6",key:"1h6pxn"}],["path",{d:"M13 4 8 20",key:"kqq6aj"}],["path",{d:"m15 15 5 5",key:"me55sn"}],["path",{d:"m20 15-5 5",key:"11p7ol"}]],Kpe=Ht("remove-formatting",Ype);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jpe=[["path",{d:"M10 2v3a1 1 0 0 0 1 1h5",key:"1xspal"}],["path",{d:"M18 18v-6a1 1 0 0 0-1-1h-6a1 1 0 0 0-1 1v6",key:"1ra60u"}],["path",{d:"M18 22H4a2 2 0 0 1-2-2V6",key:"pblm9e"}],["path",{d:"M8 18a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9.172a2 2 0 0 1 1.414.586l2.828 2.828A2 2 0 0 1 22 6.828V16a2 2 0 0 1-2.01 2z",key:"1yve0x"}]],Xpe=Ht("save-all",Jpe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qpe=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],vn=Ht("save",Qpe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zpe=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Da=Ht("search",Zpe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e0e=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],qs=Ht("settings",e0e);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t0e=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],r0e=Ht("share-2",t0e);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n0e=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],a0e=Ht("shopping-cart",n0e);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s0e=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ZJ=Ht("square-check-big",s0e);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i0e=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Ba=Ht("square-pen",i0e);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o0e=[["path",{d:"M16 4H9a3 3 0 0 0-2.83 4",key:"43sutm"}],["path",{d:"M14 12a4 4 0 0 1 0 8H6",key:"nlfj13"}],["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}]],l0e=Ht("strikethrough",o0e);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c0e=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],aM=Ht("sun",c0e);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u0e=[["path",{d:"M10 15h4",key:"192ueg"}],["path",{d:"m14.817 10.995-.971-1.45 1.034-1.232a2 2 0 0 0-2.025-3.238l-1.82.364L9.91 3.885a2 2 0 0 0-3.625.748L6.141 6.55l-1.725.426a2 2 0 0 0-.19 3.756l.657.27",key:"xbnumr"}],["path",{d:"m18.822 10.995 2.26-5.38a1 1 0 0 0-.557-1.318L16.954 2.9a1 1 0 0 0-1.281.533l-.924 2.122",key:"eaw7gc"}],["path",{d:"M4 12.006A1 1 0 0 1 4.994 11H19a1 1 0 0 1 1 1v7a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2z",key:"1vaooh"}]],Ll=Ht("tool-case",u0e);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d0e=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],In=Ht("trash-2",d0e);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f0e=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],ff=Ht("trending-up",f0e);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h0e=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Hr=Ht("triangle-alert",h0e);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m0e=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],eX=Ht("type",m0e);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p0e=[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]],g0e=Ht("undo-2",p0e);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x0e=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],ni=Ht("upload",x0e);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b0e=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],FI=Ht("user-check",b0e);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y0e=[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],fj=Ht("user-cog",y0e);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v0e=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],w0e=Ht("user-plus",v0e);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j0e=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],cn=Ht("user",j0e);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N0e=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Pa=Ht("users",N0e);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S0e=[["path",{d:"M18 21V10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1v11",key:"pb2vm6"}],["path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 1.132-1.803l7.95-3.974a2 2 0 0 1 1.837 0l7.948 3.974A2 2 0 0 1 22 8z",key:"doq5xv"}],["path",{d:"M6 13h12",key:"yf64js"}],["path",{d:"M6 17h12",key:"1jwigz"}]],Cg=Ht("warehouse",S0e);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k0e=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]],ia=Ht("wrench",k0e);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C0e=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ft=Ht("x",C0e),fa=pe.memo(({icon:t,text:e,to:r,expanded:n,onNavigate:s})=>{const i=tr(),l=Ds().pathname===r,c=()=>{i(r),s&&s()};return a.jsxs(O.button,{onClick:c,whileHover:{backgroundColor:l?void 0:"rgba(239, 246, 255, 0.6)"},whileTap:{scale:.98},className:`relative w-full text-left flex items-center py-3 px-4 rounded-xl transition-all duration-200 ease-in-out group
        ${l?"bg-blue-600 text-white shadow-lg":"text-gray-700 hover:text-blue-700"}
        ${n?"justify-start":"justify-center"}
      `,children:[a.jsx("span",{className:`text-xl transition-colors duration-200 ${l?"text-white":"text-blue-500 group-hover:text-blue-700"}`,children:t}),n&&a.jsx(O.span,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{duration:.15},className:"ml-4 text-base font-medium whitespace-nowrap",children:e})]})}),_0e=()=>{const[t,e]=b.useState(()=>{const w=localStorage.getItem("sidebarOpen");return w?JSON.parse(w):!1}),r=tr(),[n,s]=b.useState(window.innerWidth<768),[i,o]=b.useState(!1),{user:l,hasPermission:c}=or(),u=b.useRef(null);b.useEffect(()=>{const w=()=>{const y=window.innerWidth<768;s(y),!y&&t&&e(!0)};return window.addEventListener("resize",w),()=>window.removeEventListener("resize",w)},[t]),b.useEffect(()=>{const w=u.current;if(w){const y=sessionStorage.getItem("sidebarScrollPos");y&&(w.scrollTop=parseInt(y,10));const N=()=>{sessionStorage.setItem("sidebarScrollPos",w.scrollTop.toString())};return w.addEventListener("scroll",N),()=>{w.removeEventListener("scroll",N)}}},[]);const f=()=>{const w=!t;localStorage.setItem("sidebarOpen",JSON.stringify(w)),e(w)},h=()=>{o(!i)},g=()=>{o(!1)},p=()=>a.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 z-40 md:hidden",children:a.jsxs("div",{className:"flex justify-around items-center py-2",children:[a.jsxs("button",{onClick:h,className:`flex flex-col items-center p-2 rounded-lg transition-colors duration-200 ${i?"text-blue-600 bg-blue-50":"text-gray-600"}`,children:[a.jsx(vp,{className:"text-xl"}),a.jsx("span",{className:"text-xs mt-1",children:"Menu"})]}),a.jsxs("button",{onClick:()=>r("/dashboard"),className:`flex flex-col items-center p-2 rounded-lg transition-colors duration-200 ${location.pathname==="/dashboard"?"text-blue-600 bg-blue-50":"text-gray-600"}`,children:[a.jsx(bc,{className:"text-xl"}),a.jsx("span",{className:"text-xs mt-1",children:"Dashboard"})]}),a.jsxs("button",{onClick:()=>r("/workorders"),className:`flex flex-col items-center p-2 rounded-lg transition-colors duration-200 ${location.pathname==="/workorders"?"text-blue-600 bg-blue-50":"text-gray-600"}`,children:[a.jsx(fn,{className:"text-xl"}),a.jsx("span",{className:"text-xs mt-1",children:"Work Orders"})]}),a.jsxs("button",{onClick:()=>r("/monitoringmaintenance"),className:`flex flex-col items-center p-2 rounded-lg transition-colors duration-200 ${location.pathname==="/monitoringmaintenance"?"text-blue-600 bg-blue-50":"text-gray-600"}`,children:[a.jsx(Qh,{className:"text-xl"}),a.jsx("span",{className:"text-xs mt-1",children:"Monitoring"})]})]})}),v=()=>a.jsx(ar,{children:i&&a.jsxs(a.Fragment,{children:[a.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 bg-black bg-opacity-50 z-40 md:hidden",onClick:h}),a.jsxs(O.div,{initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:{duration:.3,ease:"easeOut"},className:"fixed inset-y-0 left-0 w-80 bg-white z-50 md:hidden shadow-xl",children:[a.jsxs("div",{className:"p-4 flex items-center justify-between border-b border-gray-100 bg-white",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("img",{src:xp,alt:"Logo Wida",className:"h-8 w-auto"}),a.jsx("p",{className:"text-blue-600 font-bold text-lg",children:"CMMS"})]}),a.jsx("button",{onClick:h,className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200",children:a.jsx(Ft,{className:"text-xl"})})]}),a.jsxs("nav",{className:"flex-1 p-4 space-y-2 overflow-y-auto h-[calc(100vh-140px)]",children:[c("1")&&a.jsx(fa,{icon:a.jsx(vp,{}),text:"Dashboard",to:"/dashboard",expanded:!0,onNavigate:g}),a.jsxs("div",{className:"pt-4",children:[a.jsx("h3",{className:"text-xs font-semibold uppercase text-gray-400 px-2 pb-2 tracking-wider",children:"5S"}),c("7")&&a.jsx(fa,{icon:a.jsx(fn,{}),text:"Genba",to:"/genba",expanded:!0,onNavigate:g})]}),a.jsxs("div",{className:"pt-4",children:[a.jsx("h3",{className:"text-xs font-semibold uppercase text-gray-400 px-2 pb-2 tracking-wider",children:"System"}),c("23")&&a.jsxs(a.Fragment,{children:[a.jsx(fa,{icon:a.jsx(Ug,{}),text:"Audit Trail",to:"/audittrail",expanded:!0,onNavigate:g}),a.jsx(fa,{icon:a.jsx(Xh,{}),text:"Backup & Restore",to:"/backupandrestore",expanded:!0,onNavigate:g})]})]}),a.jsxs("div",{className:"pt-4",children:[a.jsx("h3",{className:"text-xs font-semibold uppercase text-gray-400 px-2 pb-2 tracking-wider",children:"Master"}),c("3")&&a.jsx(fa,{icon:a.jsx(Ya,{}),text:"Assets",to:"/assets",expanded:!0,onNavigate:g}),c("15")&&a.jsx(fa,{icon:a.jsx(Dp,{}),text:"User Management",to:"/permissions",expanded:!0,onNavigate:g})]}),a.jsxs("div",{className:"pt-4",children:[a.jsx("h3",{className:"text-xs font-semibold uppercase text-gray-400 px-2 pb-2 tracking-wider",children:"Maintenance"}),c("31")&&a.jsxs(a.Fragment,{children:[a.jsx(fa,{icon:a.jsx(qg,{}),text:"Machine History",to:"/machinehistory",expanded:!0,onNavigate:g}),a.jsx(fa,{icon:a.jsx(Qh,{}),text:"Monitoring Maintenance",to:"/monitoringmaintenance",expanded:!0,onNavigate:g})]})]}),a.jsxs("div",{className:"pt-4",children:[a.jsx("h3",{className:"text-xs font-semibold uppercase text-gray-400 px-2 pb-2 tracking-wider",children:"Work Orders"}),c("7")&&a.jsx(fa,{icon:a.jsx(fn,{}),text:"Work Orders",to:"/workorders",expanded:!0,onNavigate:g})]})]}),a.jsx("div",{className:"p-4 border-t border-gray-100 bg-white",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("img",{src:`https://api.dicebear.com/7.x/initials/svg?seed=${(l==null?void 0:l.name)||"User"}&backgroundColor=0081ff,3d5a80,ffc300,e0b589&backgroundType=gradientLinear&radius=50`,alt:"User Avatar",className:"w-10 h-10 rounded-full border-2 border-blue-400 object-cover"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-gray-800 text-sm",children:(l==null?void 0:l.name)||"User"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Version 1.0.0"})]})]})})]})]})});return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"hidden md:flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:a.jsx(ar,{children:(!n||t)&&a.jsxs(O.div,{initial:{width:n?0:t?280:80,opacity:0},animate:{width:t?280:80,opacity:1},exit:{width:0,opacity:0},transition:{duration:.25,ease:"easeInOut"},className:"bg-white border-r border-gray-100 flex flex-col shadow-xl overflow-hidden",children:[a.jsxs("div",{className:"p-4 flex items-center justify-between border-b border-gray-100",children:[t?a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("img",{src:xp,alt:"Logo Wida",className:"h-9 w-auto"}),a.jsx("p",{className:"text-blue-600 font-bold text-xl tracking-wide",children:"CMMS"})]}):a.jsx("img",{src:xp,alt:"Logo Wida",className:"h-8 w-auto mx-auto"}),a.jsx("button",{onClick:f,className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200","aria-label":t?"Collapse sidebar":"Expand sidebar",children:t?a.jsx(hd,{className:"text-xl"}):a.jsx(ta,{className:"text-xl"})})]}),a.jsxs("nav",{ref:u,className:"flex-1 p-3 space-y-1.5 overflow-y-auto sidebar-nav",children:[c("1")&&a.jsx(fa,{icon:a.jsx(vp,{}),text:"Dashboard",to:"/dashboard",expanded:t}),t&&a.jsx("h3",{className:"text-xs font-semibold uppercase text-gray-400 px-4 pt-4 pb-1 tracking-wider",children:"5S"}),c("7")&&a.jsx(fa,{icon:a.jsx(fn,{}),text:"Genba",to:"/genba",expanded:t}),t&&a.jsx("h3",{className:"text-xs font-semibold uppercase text-gray-400 px-4 pt-4 pb-1 tracking-wider",children:"System"}),c("23")&&a.jsx(fa,{icon:a.jsx(Ug,{}),text:"Audit Trail",to:"/audittrail",expanded:t}),c("23")&&a.jsx(fa,{icon:a.jsx(Xh,{}),text:"Backup & Restore",to:"/backupandrestore",expanded:t}),c("23")&&a.jsx(fa,{icon:a.jsx(Xh,{}),text:"Workflow Approval",to:"/workflowapproval",expanded:t}),t&&a.jsx("h3",{className:"text-xs font-semibold uppercase text-gray-400 px-4 pt-4 pb-1 tracking-wider",children:"Master"}),c("23")&&a.jsx(fa,{icon:a.jsx(gs,{}),text:"Work Location",to:"/worklocation",expanded:t}),c("23")&&a.jsx(fa,{icon:a.jsx(Pa,{}),text:"Work Arrangement",to:"/workarrangement",expanded:t}),c("15")&&a.jsx(fa,{icon:a.jsx(Dp,{}),text:"User Management",to:"/permissions",expanded:t}),c("23")&&a.jsx(fa,{icon:a.jsx(ia,{}),text:"Spare Part",to:"/sparepart",expanded:t}),c("3")&&a.jsx(fa,{icon:a.jsx(Ya,{}),text:"Assets",to:"/assets",expanded:t}),c("3")&&a.jsx(fa,{icon:a.jsx(Ya,{}),text:"Vendors",to:"/vendors",expanded:t}),c("3")&&a.jsx(fa,{icon:a.jsx(JJ,{}),text:"Services",to:"/services",expanded:t}),c("3")&&a.jsx(fa,{icon:a.jsx(Ll,{}),text:"Maintenance Activity",to:"/maintenanceactivity",expanded:t}),t&&a.jsx("h3",{className:"text-xs font-semibold uppercase text-gray-400 px-4 pt-4 pb-1 tracking-wider",children:"Maintenance"}),c("31")&&a.jsx(fa,{icon:a.jsx(qg,{}),text:"Machine History",to:"/machinehistory",expanded:t}),c("31")&&a.jsx(fa,{icon:a.jsx(Qh,{}),text:"Monitoring Maintenance",to:"/monitoringmaintenance",expanded:t}),t&&a.jsx("h3",{className:"text-xs font-semibold uppercase text-gray-400 px-4 pt-4 pb-1 tracking-wider",children:"Work Orders"}),c("7")&&a.jsx(fa,{icon:a.jsx(fn,{}),text:"Work Orders",to:"/workorders",expanded:t}),t&&a.jsx("h3",{className:"text-xs font-semibold uppercase text-gray-400 px-4 pt-4 pb-1 tracking-wider",children:"Spare Parts"}),c("23")&&a.jsx(fa,{icon:a.jsx(_me,{}),text:"Sparepart Detail",to:"/sparepartdetail",expanded:t}),c("23")&&a.jsx(fa,{icon:a.jsx(a0e,{}),text:"Purchase Order Realization",to:"/purchaseorderrealization",expanded:t}),c("23")&&a.jsx(fa,{icon:a.jsx(qpe,{}),text:"Transaction by Item",to:"/transactionbyitem",expanded:t}),c("23")&&a.jsx(fa,{icon:a.jsx(Jhe,{}),text:"Spare Part Management",to:"/sparepartmanagement",expanded:t})]}),a.jsx("div",{className:"p-4 border-t border-gray-100",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("img",{src:`https://api.dicebear.com/7.x/initials/svg?seed=${(l==null?void 0:l.name)||"User"}&backgroundColor=0081ff,3d5a80,ffc300,e0b589&backgroundType=gradientLinear&radius=50`,alt:"User Avatar",className:"w-10 h-10 rounded-full border-2 border-blue-400 object-cover"}),t&&a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-gray-800 text-sm",children:"Application Version"}),a.jsx("p",{className:"text-xs text-gray-500",children:"1.0.0"})]})]})})]})})}),a.jsx(p,{}),a.jsx(v,{})]})},er=pe.memo(_0e),BI=[{id:1,title:"Machine A Warning",description:"Machine A temperature exceeds normal limits.",date:"Today, 10:00 AM",icon:a.jsx(Hr,{className:"text-red-500"})},{id:2,title:"Upcoming Maintenance Schedule",description:"Routine maintenance for Machine B will be performed tomorrow.",date:"Yesterday, 03:00 PM",icon:a.jsx(ga,{className:"text-blue-500"})}],$I={"/dashboard":"Dashboard","/assets":"Assets","/assets/assetsdata":"Assets Data","/assets/assetsdata/addasset":"Add Asset","/assets/assetsdata/editasset/:id":"Edit Asset","/machinehistory":"Machine History","/machinehistory/reports":"Machine History Reports","/machinehistory/addmachinehistory":"Add Machine History","/machinehistory/edit/:id":"Edit Machine History","/workorders":"Work Orders","/workorders/it":"IT Work Orders","/workorders/it/addworkorder":"Add Work Order","/workorders/it/editworkorder/:id":"Edit Work Order","/workorders/it/receiver":"Receiver","/workorders/it/assignment":"Assignment","/workorders/it/reports":"Reports","/workorders/it/knowledgebase":"Knowledge Base","/inventory":"Inventory","/reports":"Reports","/team":"Team","/settings":"Settings","/settings/change-password":"Change Password","/permissions":"Permissions","/permissions/adduser":"Add User","/audittrail":"Audit Trail","/workflowapproval":"Workflow Approval","/workflowapproval/monitoringapproval":"Approval Monitoring","/vendors":"Vendors","/vendors/addvendor":"Add Vendor","/vendors/editvendor/:id":"Edit Vendor","/services":"Services","/services/servicegroups":"Service Groups","/services/servicegroups/addservicegroup":"Add Service Group","/services/servicegroups/editservicegroup/:id":"Edit Service Group","/services/servicecatalogues":"Service Catalogues","/services/servicecatalogues/addservicecatalogue":"Add Service Catalogue","/services/servicecatalogues/editservicecatalogue/:id":"Edit Service Catalogue","/maintenanceactivity":"Maintenance Activity","/maintenanceactivity/stoptimes":"Stop Times","/maintenanceactivity/stoptimes/addstoptime":"Add Stop Time","/maintenanceactivity/stoptimes/editstoptime/:id":"Edit Stop Time","/maintenanceactivity/activitytypes":"Activity Types","/maintenanceactivity/activitytypes/addactivitytype":"Add Activity Type","/maintenanceactivity/activitytypes/editactivitytype/:id":"Edit Activity Type","/maintenanceactivity/activity":"Activity","/maintenanceactivity/activity/addactivity":"Add Activity","/maintenanceactivity/activity/editactivity/:id":"Edit Activity","/maintenanceactivity/troubleitem":"Trouble Item","/maintenanceactivity/troubleitem/addtroubleitem":"Add Trouble Item","/maintenanceactivity/troubleitem/edittroubleitem/:id":"Edit Trouble Item","/worklocation":"Work Location","/worklocation/department":"Department","/worklocation/department/adddepartment":"Add Department","/worklocation/department/editdepartment/:id":"Edit Department","/worklocation/workunit":"Work Unit","/worklocation/workunit/addworkunit":"Add Work Unit","/worklocation/workunit/editworkunit/:id":"Edit Work Unit","/worklocation/workarea":"Work Area","/worklocation/workarea/addworkarea":"Add Work Area","/worklocation/workarea/editworkarea/:id":"Edit Work Area","/workarrangement":"Work Arrangement","/workarrangement/workshift":"Work Shift","/workarrangement/workshift/addworkshift":"Add Work Shift","/workarrangement/workshift/editworkshift/:id":"Edit Work Shift","/workarrangement/workgroup":"Work Group","/workarrangement/workgroup/addworkgroup":"Add Work Group","/workarrangement/workgroup/editworkgroup/:id":"Edit Work Group","/sparepart":"Spare Part","/monitoringmaintenance":"Maintenance Monitoring","/monitoringmaintenance/detailmonitoringmaintenance":"Monitoring Details","/monitoringmaintenance/formmonitoringmaintenance":"Monitoring Form"},lr=({mainTitle:t,mainTitleHighlight:e,description:r,icon:n,isMobile:s,toggleSidebar:i})=>{const{user:o,logout:l}=or(),c=tr(),u=Ds(),[f,h]=b.useState(!1),[g,p]=b.useState(!1),[v,w]=b.useState(!1),y=b.useRef(null),N=b.useRef(null);b.useEffect(()=>{const _=D=>{y.current&&!y.current.contains(D.target)&&h(!1),N.current&&!N.current.contains(D.target)&&p(!1)};return document.addEventListener("mousedown",_),()=>{document.removeEventListener("mousedown",_)}},[]);const S=(()=>{const _=u.pathname.split("/").filter(L=>L!==""),D=[];D.push({label:"Dashboard",path:"/dashboard",isClickable:!0});let E="";for(let L=0;L<_.length;L++){const R=_[L];if(E+=`/${R}`,/^\d+$/.test(R)||/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(R))continue;const F=$I[E]||R.charAt(0).toUpperCase()+R.slice(1).replace(/([A-Z])/g," $1");D.push({label:F,path:E,isClickable:L<_.length-1&&$I[E]!==void 0})}return D})(),T=()=>{const _={className:`text-blue-600 ${n.props.className||""}`};return pe.cloneElement(n,_)};return a.jsxs(a.Fragment,{children:[a.jsxs("header",{className:"bg-white border-b border-gray-100 p-4 flex items-center justify-between shadow-sm sticky top-0 z-30",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"text-blue-600 text-xl",children:T()}),a.jsx("div",{className:"flex flex-col",children:a.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900",children:t})})]}),a.jsxs("div",{className:"flex items-center space-x-3 relative",children:[a.jsx(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>w(!v),className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200","aria-label":v?"Switch to light mode":"Switch to dark mode",children:v?a.jsx(aM,{className:"text-yellow-400 text-xl"}):a.jsx(XJ,{className:"text-xl"})}),a.jsxs("div",{className:"relative",ref:y,children:[a.jsxs(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>h(!f),className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200 relative","aria-label":"Notifications",children:[a.jsx(jD,{className:"text-xl"}),a.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-orange-500 rounded-full animate-pulse border border-white"})]}),a.jsx(ar,{children:f&&a.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.2},className:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-xl overflow-hidden z-50 border border-gray-100",children:[a.jsx("div",{className:"p-4 border-b border-gray-100",children:a.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Notifications"})}),a.jsx("div",{className:"max-h-80 overflow-y-auto custom-scrollbar",children:BI.length>0?BI.map(_=>a.jsxs("div",{className:"flex items-start p-4 border-b border-gray-50 last:border-b-0 hover:bg-blue-50 transition-colors cursor-pointer",children:[_.icon&&a.jsx("div",{className:"flex-shrink-0 mr-3",children:_.icon}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-semibold text-gray-800",children:_.title}),a.jsx("p",{className:"text-xs text-gray-600 mt-1",children:_.description}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:_.date})]})]},_.id)):a.jsx("p",{className:"p-4 text-center text-gray-500 text-sm",children:"No new notifications."})}),a.jsx("div",{className:"p-4 border-t border-gray-100 text-center",children:a.jsx("button",{onClick:()=>{h(!1)},className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Mark all as read"})})]})})]}),a.jsxs("div",{className:"relative",ref:N,children:[a.jsxs(O.button,{whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},whileTap:{scale:.98},onClick:()=>p(!g),className:"flex items-center space-x-2 cursor-pointer p-2 rounded-lg transition-colors duration-200",children:[a.jsx("img",{src:`https://api.dicebear.com/7.x/initials/svg?seed=${(o==null?void 0:o.name)||"User"}&backgroundColor=0081ff,3d5a80,ffc300,e0b589&backgroundType=gradientLinear&radius=50`,alt:"User Avatar",className:"w-8 h-8 rounded-full border border-blue-200 object-cover"}),!s&&a.jsx("span",{className:"font-medium text-gray-900 text-sm",children:o==null?void 0:o.name}),a.jsx(la,{className:"text-gray-500 text-base"})]}),a.jsx(ar,{children:g&&a.jsxs(O.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg py-2 z-40 border border-gray-100",children:[a.jsx("div",{className:"px-4 py-2 text-xs text-gray-500 border-b border-gray-100",children:"Signed in as"}),a.jsx("div",{className:"px-4 py-2 font-semibold text-gray-800 border-b border-gray-100 truncate",children:(o==null?void 0:o.name)||"Guest User"}),a.jsxs("button",{onClick:()=>{c("/settings"),p(!1)},className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-blue-50 w-full text-left",children:[a.jsx(qs,{size:16,className:"mr-2"})," Settings"]}),a.jsx("hr",{className:"my-1 border-gray-100"}),a.jsxs("button",{onClick:()=>{c("/logout"),p(!1)},className:"flex items-center px-4 py-2 text-sm text-red-600 hover:bg-red-50 w-full text-left",children:[a.jsx(Spe,{size:16,className:"mr-2"})," Logout"]})]})})]})]})]}),a.jsx("div",{className:"bg-gray-50 border-b border-gray-100 px-4 py-3",children:a.jsx("div",{className:"flex items-center space-x-2 text-sm",children:S.map((_,D)=>a.jsxs("div",{className:"flex items-center space-x-2",children:[D===0?a.jsx(vp,{size:16,className:"text-gray-400"}):a.jsx(ta,{size:16,className:"text-gray-400"}),_.isClickable?a.jsx("button",{onClick:()=>c(_.path),className:"text-blue-600 hover:text-blue-800 font-medium transition-colors duration-200",children:_.label}):a.jsx("span",{className:"text-gray-600 font-medium",children:_.label})]},_.path))})})]})},Nw=({title:t,value:e,change:r,icon:n})=>{const s=r.startsWith("+");return a.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),a.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),a.jsxs("p",{className:`mt-3 text-xs font-semibold ${s?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})},HI=()=>{var A;const[t,e]=b.useState(!1),[r,n]=b.useState(()=>{const M=localStorage.getItem("sidebarOpen");return M?JSON.parse(M):!1}),[s,i]=b.useState(1),{user:o,fetchWithAuth:l,hasPermission:c}=or(),[u,f]=b.useState(null),h=tr(),[g,p]=b.useState(!1),[v,w]=b.useState(window.innerWidth<768),[y,N]=b.useState(!1),[k,S]=b.useState(!1),T=b.useRef(null),_=b.useRef(null);b.useEffect(()=>{const M=()=>{w(window.innerWidth<768),window.innerWidth<768&&n(!1)};return window.addEventListener("resize",M),()=>window.removeEventListener("resize",M)},[]),b.useEffect(()=>{const M=B=>{T.current&&!T.current.contains(B.target)&&N(!1),_.current&&!_.current.contains(B.target)&&S(!1)};return document.addEventListener("mousedown",M),()=>{document.removeEventListener("mousedown",M)}},[]);const D=[{id:1,title:"Maintenance Efficiency Improved",description:"Preventive maintenance completion rate increased by 15% this month",icon:a.jsx(ff,{className:"text-green-500"}),date:"Today, 09:30 AM"},{id:2,title:"3 Assets Requiring Attention",description:"Critical assets showing signs of wear need inspection",icon:a.jsx(Hr,{className:"text-yellow-500"}),date:"Yesterday, 02:15 PM"},{id:3,title:"Monthly Maintenance Completed",description:"All scheduled maintenance tasks completed on time",icon:a.jsx(fr,{className:"text-blue-500"}),date:"Jul 28, 2023"}],E=[{id:1,name:"Budi Santoso",role:"Maintenance Technician",avatar:"https://randomuser.me/api/portraits/men/32.jpg",comment:"The HVAC system in Building A needs calibration. Temperature fluctuations observed.",time:"2 hours ago"},{id:2,name:"Ani Wijaya",role:"Facility Manager",avatar:"https://randomuser.me/api/portraits/women/44.jpg",comment:"Completed generator maintenance ahead of schedule. All parameters normal.",time:"5 hours ago"},{id:3,name:"Rudi Hermawan",role:"Operations Supervisor",avatar:"https://randomuser.me/api/portraits/men/67.jpg",comment:"Requesting additional spare parts for conveyor system maintenance next week.",time:"1 day ago"}],L={total:142,running:118,maintenance:15,breakdown:5,idle:4},R={total:86,overdue:5},F=()=>{p(!0),localStorage.setItem("sidebarOpen",JSON.stringify(!r)),n(M=>!M)};return b.useEffect(()=>{i(1),(async()=>{try{const B=await l("/protected-data");f(B)}catch(B){console.error("Failed to fetch data:",B)}})(),document.documentElement.classList.toggle("dark",t),localStorage.setItem("sidebarOpen",JSON.stringify(r))},[r,t,l]),a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Dashboard",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:a.jsx(vp,{}),isMobile:v,toggleSidebar:F}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.4},className:"bg-gradient-to-r from-blue-600 to-blue-800 rounded-2xl p-6 text-white mb-6 shadow-lg hover:shadow-xl transition-all duration-300",children:[a.jsxs("h1",{className:"text-2xl md:text-3xl font-bold mb-2",children:["Welcome back, ",(o==null?void 0:o.name)||((A=o==null?void 0:o.role)==null?void 0:A.name),"!"]}),a.jsx("p",{className:"opacity-90 text-sm",children:"Here's what's happening with your assets today"})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[a.jsx(Nw,{title:"Total Assets",value:L.total.toString(),change:"+8%",icon:a.jsx(Ya,{})}),a.jsx(Nw,{title:"Assets Running",value:L.running.toString(),change:"+5%",icon:a.jsx(fr,{})}),a.jsx(Nw,{title:"Work Orders",value:R.total.toString(),change:"-3%",icon:a.jsx(fn,{})}),a.jsx(Nw,{title:"Overdue Tasks",value:R.overdue.toString(),change:"+2%",icon:a.jsx(Cr,{})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 md:gap-6",children:[a.jsxs("div",{className:"lg:col-span-2",children:[a.jsxs(O.div,{whileHover:{boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},className:"bg-white rounded-2xl p-4 md:p-6 border border-blue-50 shadow-md mb-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Recent Insights"}),a.jsx(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"text-blue-600 text-sm font-medium",children:"View All"})]}),a.jsx("div",{className:"space-y-4",children:D.map(M=>a.jsxs(O.div,{whileHover:{x:5,backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"flex items-start p-3 hover:bg-blue-50 rounded-xl transition-colors cursor-pointer",children:[a.jsx("div",{className:"p-2 mr-3 mt-0.5 rounded-full bg-blue-50 text-blue-600",children:M.icon}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-medium text-gray-800",children:M.title}),a.jsx("p",{className:"text-sm text-gray-600",children:M.description}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:M.date})]})]},M.id))})]}),a.jsxs(O.div,{whileHover:{boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},className:"bg-white rounded-2xl p-4 md:p-6 border border-blue-50 shadow-md",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Asset Status Distribution"}),a.jsx("div",{className:"h-64 bg-gray-50 rounded-lg flex items-center justify-center",children:a.jsxs("div",{className:"text-center text-gray-500",children:[a.jsx(bc,{className:"mx-auto text-4xl mb-2"}),a.jsx("p",{children:"Asset Status Chart"})]})}),a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 mt-4 text-center",children:[a.jsxs("div",{children:[a.jsx("div",{className:"h-2 w-full bg-green-500 rounded-full"}),a.jsxs("p",{className:"text-sm mt-1 text-gray-700",children:["Running (",Math.round(L.running/L.total*100),"%)"]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"h-2 w-full bg-yellow-500 rounded-full"}),a.jsxs("p",{className:"text-sm mt-1 text-gray-700",children:["Maintenance (",Math.round(L.maintenance/L.total*100),"%)"]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"h-2 w-full bg-red-500 rounded-full"}),a.jsxs("p",{className:"text-sm mt-1 text-gray-700",children:["Breakdown (",Math.round(L.breakdown/L.total*100),"%)"]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"h-2 w-full bg-blue-500 rounded-full"}),a.jsxs("p",{className:"text-sm mt-1 text-gray-700",children:["Idle (",Math.round(L.idle/L.total*100),"%)"]})]})]})]})]}),a.jsxs("div",{children:[a.jsxs(O.div,{whileHover:{boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},className:"bg-white rounded-2xl p-4 md:p-6 border border-blue-50 shadow-md mb-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Team Updates"}),a.jsx(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"text-blue-600 text-sm font-medium",children:"View All"})]}),a.jsx("div",{className:"space-y-4",children:E.map(M=>a.jsx(O.div,{whileHover:{y:-3,boxShadow:"0 2px 10px rgba(0,0,0,0.05)"},className:"p-3 border border-blue-100 rounded-xl cursor-pointer bg-white",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx(O.img,{whileHover:{rotate:5},src:M.avatar,alt:M.name,className:"w-10 h-10 rounded-full mr-3 object-cover"}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center flex-wrap",children:[a.jsx("h4",{className:"font-medium text-gray-900",children:M.name}),a.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-0.5 rounded-full ml-2",children:M.role})]}),a.jsx("p",{className:"text-sm mt-1 text-gray-700",children:M.comment}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:M.time})]})]})},M.id))})]}),a.jsxs(O.div,{whileHover:{boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},className:"bg-white rounded-2xl p-4 md:p-6 border border-blue-50 shadow-md",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Quick Actions"}),a.jsx("div",{className:"space-y-3",children:[{text:"Create Work Order",icon:a.jsx(fn,{className:"text-blue-600 text-lg"}),onClick:()=>h("/workorders")},{text:"Add New Asset",icon:a.jsx(Ya,{className:"text-blue-600 text-lg"}),onClick:()=>h("/assets")},{text:"Send Announcement",icon:a.jsx(kg,{className:"text-blue-600 text-lg"}),onClick:()=>h("/dashboard")},{text:"Generate Report",icon:a.jsx(bc,{className:"text-blue-600 text-lg"}),onClick:()=>h("/reports")}].map((M,B)=>a.jsxs(O.button,{whileHover:{x:5,backgroundColor:"rgba(239, 246, 255, 1)"},whileTap:{scale:.98},className:"w-full flex items-center justify-between p-3 bg-blue-50 hover:bg-blue-100 rounded-lg transition-colors text-gray-800 font-semibold text-sm",onClick:M.onClick,children:[a.jsx("span",{children:M.text}),M.icon]},B))})]})]})]})]})]})]})},A0e=()=>a.jsx("div",{className:"flex justify-center items-center fixed inset-0 w-full h-full bg-white/70 backdrop-blur-sm z-50",children:a.jsx("div",{className:"w-16 h-16 border-4 border-solid border-blue-500 border-t-transparent rounded-full animate-spin"})}),so=({requiredPermissions:t=[]})=>{const{token:e,user:r,hasPermission:n,isAuthLoading:s}=or(),i=tr(),o=Ds();return b.useEffect(()=>{if(!s){if(!e){i("/login",{state:{from:o},replace:!0});return}r&&t.length>0&&!t.some(c=>n(c))&&i("/unauthorized",{state:{from:o},replace:!0})}},[e,r,t,n,i,o,s]),s?a.jsx(A0e,{}):e&&(t.length===0||r&&t.some(c=>n(c)))?a.jsx(ale,{}):null},T0e=()=>{const[t,e]=b.useState(""),[r,n]=b.useState(""),[s,i]=b.useState(""),[o,l]=b.useState(!1),c=async u=>{u.preventDefault(),n(""),i(""),l(!0);try{await new Promise(f=>setTimeout(f,1e3)),i(`Password reset link sent to ${t}`),e("")}catch(f){n(f instanceof Error?f.message:"Failed to send reset link")}finally{l(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-white to-blue-50 p-4",children:a.jsx("div",{className:"w-full max-w-md",children:a.jsxs("form",{onSubmit:c,className:"relative w-full bg-white rounded-lg shadow-sm border border-gray-100 p-8 sm:p-10 md:p-12","aria-label":"Forgot Password Form",children:[a.jsx("div",{className:"flex justify-center mb-8",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"rounded-lg flex items-center justify-center",children:a.jsx("img",{src:xp,alt:"Logo Wida",className:"h-20 w-auto"})}),a.jsx("span",{className:"text-2xl font-bold text-blue-800 italic",children:"PT WIDATRA BHAKTI"})]})}),a.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-2 text-center",children:"Reset Password"}),a.jsx("p",{className:"text-sm text-gray-500 text-center mb-8",children:"Enter your NIK to receive a reset link"}),r&&a.jsxs("div",{className:"mb-6 text-sm text-red-700 bg-red-50 border border-red-100 px-4 py-3 rounded-md flex items-start",children:[a.jsx("svg",{className:"w-4 h-4 mt-0.5 mr-2 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),a.jsx("span",{children:r})]}),s&&a.jsxs("div",{className:"mb-6 text-sm text-green-700 bg-green-50 border border-green-100 px-4 py-3 rounded-md flex items-start",children:[a.jsx("svg",{className:"w-4 h-4 mt-0.5 mr-2 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),a.jsx("span",{children:s})]}),a.jsxs("div",{className:"space-y-5",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"nik",className:"block text-sm font-medium text-gray-700 mb-1",children:"NIK"}),a.jsx("input",{id:"nik",type:"nik",placeholder:"12345678910111213141516",value:t,onChange:u=>e(u.target.value),required:!0,className:"w-full px-4 py-2.5 text-sm rounded-md border border-gray-300 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 transition-colors"})]}),a.jsx("button",{type:"submit",disabled:o,className:`w-full py-2.5 px-4 rounded-md text-sm font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 ${o?"bg-blue-400 text-white cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"} flex items-center justify-center`,children:o?a.jsxs(a.Fragment,{children:[a.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Sending..."]}):"Send Reset Link"})]}),a.jsxs("div",{className:"mt-8 pt-5 border-t border-gray-100",children:[a.jsxs("p",{className:"text-xs text-gray-500 text-center",children:["Remember your password?"," ",a.jsx(om,{to:"/login",className:"text-blue-600 hover:underline font-medium",children:"Sign in"})]}),a.jsxs("p",{className:"text-xs text-gray-500 text-center mt-2",children:["© ",new Date().getFullYear()," PT Widatra Bhakti. All rights reserved."]})]})]})})})},M0e=()=>a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-white to-blue-50 p-4",children:a.jsx("div",{className:"w-full max-w-4xl",children:a.jsxs("div",{className:"relative w-full bg-white rounded-lg shadow-sm border border-gray-100 p-8 sm:p-10 md:p-12",children:[a.jsx("div",{className:"flex justify-center mb-8",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"rounded-lg flex items-center justify-center",children:a.jsx("img",{src:xp,alt:"Logo Wida",className:"h-20 w-auto"})}),a.jsx("span",{className:"text-2xl font-bold text-blue-800 italic",children:"PT WIDATRA BHAKTI"})]})}),a.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-6 text-center",children:"Privacy Policy"}),a.jsxs("p",{className:"text-sm text-gray-500 text-center mb-8",children:["Effective: ",new Date().toLocaleDateString()]}),a.jsxs("div",{className:"prose prose-sm max-w-none text-gray-700 space-y-6",children:[a.jsxs("section",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-3",children:"1. Information We Collect"}),a.jsx("p",{children:"We collect personal information when you register, including:"}),a.jsxs("ul",{className:"list-disc pl-5 mt-2 space-y-1",children:[a.jsx("li",{children:"Full name and contact details"}),a.jsx("li",{children:"Professional credentials (for healthcare providers)"}),a.jsx("li",{children:"Usage data and cookies"})]})]}),a.jsxs("section",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-3",children:"2. How We Use Information"}),a.jsx("p",{children:"Your data helps us:"}),a.jsxs("ul",{className:"list-disc pl-5 mt-2 space-y-1",children:[a.jsx("li",{children:"Provide pharmaceutical services"}),a.jsx("li",{children:"Secure your account with authentication"}),a.jsx("li",{children:"Improve our platform"}),a.jsx("li",{children:"Comply with legal requirements"})]})]}),a.jsxs("section",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-3",children:"3. Data Protection"}),a.jsx("p",{children:"We implement security measures including:"}),a.jsxs("ul",{className:"list-disc pl-5 mt-2 space-y-1",children:[a.jsx("li",{children:"Encryption of sensitive data"}),a.jsx("li",{children:"Regular security audits"}),a.jsx("li",{children:"Access controls to personal information"})]})]}),a.jsxs("section",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-3",children:"4. Third-Party Sharing"}),a.jsx("p",{children:"We only share data with:"}),a.jsxs("ul",{className:"list-disc pl-5 mt-2 space-y-1",children:[a.jsx("li",{children:"Verified healthcare partners (with consent)"}),a.jsx("li",{children:"Legal authorities when required"}),a.jsx("li",{children:"Service providers under confidentiality agreements"})]})]}),a.jsxs("section",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-3",children:"5. Your Rights"}),a.jsx("p",{children:"You may request to:"}),a.jsxs("ul",{className:"list-disc pl-5 mt-2 space-y-1",children:[a.jsx("li",{children:"Access your personal data"}),a.jsx("li",{children:"Correct inaccurate information"}),a.jsx("li",{children:"Delete your account data"}),a.jsx("li",{children:"Opt-out of marketing communications"})]})]}),a.jsx("div",{className:"mt-8 pt-5 border-t border-gray-100",children:a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center",children:[a.jsx(om,{to:"/register",className:"text-blue-600 hover:underline font-medium mb-3 sm:mb-0",children:"Back to Registration"}),a.jsxs("p",{className:"text-xs text-gray-500",children:["© ",new Date().getFullYear()," PT Widatra Bhakti. All rights reserved."]})]})})]})]})})}),E0e=["Logout","Sign Out","Sampai Jumpa","Au Revoir","Sayonara"],O0e=()=>{const{logout:t,isLoggingOut:e}=or(),[r,n]=b.useState(null),[s,i]=b.useState(!1),[o]=b.useState(E0e[0]),[l,c]=b.useState(!1);b.useEffect(()=>{i(!0);let p;return c(!0),p=window.setTimeout(()=>{c(!1)},500),()=>{clearTimeout(p)}},[]);const u={fontSize:"3rem",fontFamily:"sans-serif",transition:"opacity 0.5s ease-in-out, transform 0.5s ease-in-out"},f=l?{opacity:0,transform:"translateY(-20px)"}:{opacity:1,transform:"translateY(0)"},h=async()=>{try{await t()}catch(p){n("Failed to logout. Please try again."),console.error("Logout error:",p)}},g=()=>{window.history.back()};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-white to-blue-50 p-4 font-sans",children:a.jsxs("div",{className:`flex flex-col lg:flex-row w-full max-w-6xl mx-auto bg-white rounded-xl shadow-lg overflow-hidden
                    transform transition-all duration-700 ease-out ${s?"translate-y-0 opacity-100":"translate-y-10 opacity-0"}`,children:[a.jsxs("div",{className:"w-full lg:w-1/2 p-6 sm:p-10 md:p-12 flex flex-col justify-center",children:[a.jsxs("div",{className:`flex items-center space-x-2 mb-8 transition-opacity duration-700 ease-out delay-200 ${s?"opacity-100":"opacity-0"}`,children:[a.jsx("img",{src:xp,alt:"Logo Wida",className:"h-10 w-auto"}),a.jsx("span",{className:"text-xl font-bold text-blue-800 italic",children:"PT WIDATRA BHAKTI"})]}),a.jsx("h1",{style:{...u,...f},className:`text-3xl font-bold transition-opacity duration-700 ease-out delay-300 ${s?"opacity-100":"opacity-0"}`,children:o}),a.jsx("h1",{className:"text-5xl font-bold mb-2 transition-opacity duration-700 ease-out delay-300 font-sans",children:"See You Soon!"}),a.jsx("p",{className:`text-gray-600 mb-8 transition-opacity duration-700 ease-out delay-400 ${s?"opacity-100":"opacity-0"}`,children:"Thank you for your hard work today. We hope to see you back soon."}),e?a.jsx(a.Fragment,{children:a.jsx("div",{className:`text-center transition-all duration-500 ease-out delay-500 ${s?"translate-x-0 opacity-100":"-translate-x-5 opacity-0"}`,children:a.jsxs("button",{type:"button",disabled:!0,className:`w-full py-3 px-4 rounded-md text-base font-medium bg-blue-400 text-white cursor-not-allowed
                              transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500
                              flex items-center justify-center`,children:[a.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Securing Session & Logging Out..."]})})}):a.jsxs(a.Fragment,{children:[r&&a.jsxs("div",{role:"alert",className:"mb-6 text-sm text-red-700 bg-red-50 border border-red-100 px-4 py-3 rounded-md flex items-start animate-fade-in",children:[a.jsx("svg",{className:"w-4 h-4 mt-0.5 mr-2 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),a.jsx("span",{children:r})]}),a.jsxs("div",{className:`space-y-4 transition-all duration-500 ease-out delay-500 ${s?"translate-x-0 opacity-100":"-translate-x-5 opacity-0"}`,children:[a.jsxs("button",{onClick:h,className:`w-full py-3 px-4 rounded-md text-base font-medium
                            transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500
                            bg-red-600 text-white hover:bg-red-700 active:bg-red-800 transform hover:-translate-y-0.5
                            flex items-center justify-center`,children:[a.jsx(Qle,{className:"mr-2"}),"Yes, Sign Out Now"]}),a.jsx("div",{className:"flex justify-center transition-all duration-500 ease-out delay-600",children:a.jsxs("button",{onClick:g,className:`inline-flex items-center justify-center px-6 py-3 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 \r
                              transition-all duration-300 ease-in-out font-medium hover:text-gray-800`,children:[a.jsx(HO,{className:"mr-2"}),"No, Stay Logged In"]})})]}),a.jsxs("p",{className:`text-sm text-center mt-6 transition-opacity duration-700 ease-out delay-700 ${s?"opacity-100":"opacity-0"}`,children:["Not finished yet?"," ",a.jsx(om,{to:"/dashboard",className:"text-blue-500 hover:text-blue-700 hover:underline transition-all duration-200",children:a.jsxs("span",{className:"inline-flex items-center",children:[a.jsx(Xle,{className:"mr-1 h-4 w-4"})," Back to Dashboard"]})})]})]}),a.jsx("div",{className:"mt-8 pt-5 border-t border-gray-100 text-center",children:a.jsxs("p",{className:`text-xs text-gray-500 transition-opacity duration-700 ease-out delay-800 ${s?"opacity-100":"opacity-0"}`,children:["© ",new Date().getFullYear()," PT Widatra Bhakti. All rights reserved."]})})]}),a.jsxs("div",{className:`hidden lg:flex lg:w-1/2 bg-gradient-to-br from-blue-500 to-aqua-800 items-center justify-center relative p-8
                      transform transition-all duration-700 ease-out delay-300 ${s?"translate-x-0 opacity-100":"translate-x-10 opacity-0"}`,children:[a.jsx("div",{className:"absolute top-1/4 left-1/4 bg-white opacity-20 w-32 h-16 rounded-full blur-md animate-float"}),a.jsx("div",{className:"absolute bottom-1/3 right-1/4 bg-white opacity-20 w-48 h-24 rounded-full blur-md animate-float-delay"}),a.jsx("div",{className:"absolute top-8 right-8 bg-white opacity-20 w-24 h-12 rounded-full blur-md animate-float-fast"}),a.jsxs("div",{className:"relative w-64 h-96 bg-gray-800 rounded-3xl shadow-xl flex items-center justify-center p-4 transform scale-100 hover:scale-105 transition-transform duration-300 ease-in-out",children:[a.jsx("div",{className:"absolute top-0 w-16 h-2 bg-gray-700 rounded-b-lg"}),a.jsx("div",{className:"text-purple-300 animate-pulse-light",children:a.jsx("svg",{className:"w-24 h-24",fill:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{d:"M13 12c0-1.104-.896-2-2-2h-1V7c0-2.757 2.243-5 5-5s5 2.243 5 5v3c0 1.104-.896 2-2 2h-1v2h2c1.104 0 2 .896 2 2v7c0 1.104-.896 2-2 2H6c-1.104 0-2-.896-2-2v-7c0-1.104.896-2 2-2h2v-2h-1c-1.104 0-2-.896-2-2V7c0-2.757 2.243-5 5-5s5 2.243 5 5v3h-1c-1.104 0-2 .896-2 2zM6 14v7h12v-7H6z"})})}),a.jsxs("div",{className:"absolute bottom-10 left-0 right-0 text-center text-white text-sm",children:[a.jsx("div",{className:"w-3/4 mx-auto bg-gray-700 rounded-full h-1 mb-2",children:a.jsx("div",{className:"bg-purple-300 h-1 rounded-full w-2/3 animate-progress-fill"})}),a.jsx("p",{children:"Security check on exit completed"})]})]}),a.jsx("div",{className:"absolute bottom-1/4 right-1/4 bg-white opacity-80 rounded-2xl p-6 shadow-xl transform scale-95 hover:scale-100 transition-transform duration-300 ease-in-out",children:a.jsx("svg",{className:"w-16 h-16 text-gray-800",fill:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{d:"M12 2C9.243 2 7 4.243 7 7v4H6c-1.103 0-2 .897-2 2v7c0 1.103.897 2 2 2h12c1.103 0 2-.897 2-2v-7c0-1.103-.897-2-2-2h-1V7c0-2.757-2.243-5-5-5zm0 2c1.654 0 3 1.346 3 3v4h-6V7c0-1.654 1.346-3 3-3zM6 13h12v7H6v-7z"})})})]})]})})},Sw=({title:t,value:e,change:r,icon:n})=>{const s=r.startsWith("+");return a.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),a.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),a.jsxs("p",{className:"mt-3 text-xs font-semibold text-green-600",children:[r," from last month"]})]})},D0e=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(O.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(Ft,{size:24})})]}),a.jsx("div",{children:n})]})}):null,P0e=({asset:t,isEditing:e,onSave:r,onCancel:n})=>{const[s,i]=b.useState(t);b.useEffect(()=>{i(t)},[t]);const o=u=>{u.preventDefault(),r(s)},l=({title:u,children:f,icon:h})=>a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[a.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-4 border-b border-gray-200",children:a.jsxs("div",{className:"flex items-center",children:[h&&a.jsx("div",{className:"mr-3 text-blue-600",children:h}),a.jsx("h3",{className:"text-lg font-bold text-gray-900",children:u})]})}),a.jsx("div",{className:"p-6",children:f})]}),c=({label:u,value:f,icon:h,fullWidth:g=!1,priority:p="medium"})=>{const v={high:"border-l-4 border-l-blue-500 bg-blue-25",medium:"border-l-2 border-l-gray-200",low:"border-l border-l-gray-100"};return a.jsx("div",{className:`${g?"col-span-full":""}`,children:a.jsx("div",{className:`p-4 rounded-lg ${v[p]} transition-all duration-200 hover:shadow-sm`,children:a.jsxs("div",{className:"flex items-start space-x-3",children:[h&&a.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:h}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1",children:u}),a.jsx("p",{className:"text-sm font-medium text-gray-900 leading-relaxed",children:f})]})]})})})};return a.jsxs("div",{className:"space-y-6 max-h-[70vh] overflow-y-auto custom-scrollbar pr-2",children:[a.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6",children:a.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:s.name}),a.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-bold rounded-full ${s.status==="running"?"bg-green-100 text-green-800 border border-green-300":s.status==="maintenance"?"bg-yellow-100 text-yellow-800 border border-yellow-300":s.status==="breakdown"?"bg-red-100 text-red-800 border border-red-300":"bg-blue-100 text-blue-800 border border-blue-300"}`,children:s.status.charAt(0).toUpperCase()+s.status.slice(1)})]}),a.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(Ya,{className:"w-4 h-4"}),"Asset ID: ",s.id]}),a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(qs,{className:"w-4 h-4"}),"Type: ",s.type.charAt(0).toUpperCase()+s.type.slice(1)]})]})]})})}),a.jsx(l,{title:"Basic Information",icon:a.jsx(Ya,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsx(c,{label:"Asset ID",value:s.id,icon:a.jsx(Dp,{className:"w-4 h-4"}),priority:"high"}),a.jsx(c,{label:"Asset Name",value:s.name,icon:a.jsx(Ya,{className:"w-4 h-4"}),priority:"high"}),a.jsx(c,{label:"Asset Type",value:s.type.charAt(0).toUpperCase()+s.type.slice(1),icon:a.jsx(qs,{className:"w-4 h-4"}),priority:"high"}),a.jsx(c,{label:"Make",value:s.make,icon:a.jsx(ia,{className:"w-4 h-4"})}),a.jsx(c,{label:"Model",value:s.model,icon:a.jsx(qs,{className:"w-4 h-4"})}),a.jsx(c,{label:"Location",value:s.location,icon:a.jsx(vp,{className:"w-4 h-4"})})]})}),a.jsx(l,{title:"Status & Maintenance",icon:a.jsx(fn,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsx(c,{label:"Current Status",value:s.status.charAt(0).toUpperCase()+s.status.slice(1),icon:a.jsx(fr,{className:"w-4 h-4"}),priority:"high"}),a.jsx(c,{label:"Last Maintenance",value:s.lastMaintenance,icon:a.jsx(ga,{className:"w-4 h-4"})}),a.jsx(c,{label:"Next Maintenance",value:s.nextMaintenance,icon:a.jsx(Cr,{className:"w-4 h-4"}),priority:"high"}),a.jsx(c,{label:"Work Orders",value:s.workOrders.toString(),icon:a.jsx(fn,{className:"w-4 h-4"})}),a.jsx(c,{label:"Health Status",value:`${s.health}`,icon:a.jsx(bc,{className:"w-4 h-4"}),priority:"high"})]})}),a.jsx(l,{title:"Technical Details",icon:a.jsx(ia,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"p-4 bg-blue-25 rounded-lg border-l-4 border-l-blue-400",children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Asset Specifications"}),a.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Make:"})," ",s.make]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Model:"})," ",s.model]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Type:"})," ",s.type.charAt(0).toUpperCase()+s.type.slice(1)]})]})]}),a.jsxs("div",{className:"p-4 bg-green-25 rounded-lg border-l-4 border-l-green-400",children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Performance Metrics"}),a.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Health Status:"})," ",s.health]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Work Orders:"})," ",s.workOrders]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Status:"})," ",s.status.charAt(0).toUpperCase()+s.status.slice(1)]})]})]})]})}),a.jsx(l,{title:"Maintenance Timeline",icon:a.jsx(Cr,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-lg border border-green-200",children:[a.jsx("span",{className:"text-sm font-medium text-green-800",children:"Last Maintenance"}),a.jsx("span",{className:"text-sm text-green-600",children:s.lastMaintenance})]}),a.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg border border-blue-200",children:[a.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Next Scheduled Maintenance"}),a.jsx("span",{className:"text-sm text-blue-600",children:s.nextMaintenance})]}),a.jsxs("div",{className:"flex justify-between items-center p-3 bg-yellow-50 rounded-lg border border-yellow-200",children:[a.jsx("span",{className:"text-sm font-medium text-yellow-800",children:"Current Status"}),a.jsx("span",{className:"text-sm text-yellow-600",children:s.status.charAt(0).toUpperCase()+s.status.slice(1)})]})]})}),a.jsxs("div",{className:"flex justify-end pt-6 border-t border-gray-100 mt-8",children:[a.jsx(O.button,{type:"button",onClick:n,whileHover:{scale:1.03,boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.97},className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold",children:e?"Cancel":"Close Details"}),e&&a.jsx(O.button,{type:"submit",onClick:o,whileHover:{scale:1.03,boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.97},className:"ml-4 inline-flex items-center px-6 py-3 bg-green-600 text-white rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-colors duration-200 font-semibold",children:"Save Changes"})]})]})},L0e=()=>{const[t,e]=b.useState(!1),[r,n]=b.useState(()=>{const De=localStorage.getItem("sidebarOpen");return De?JSON.parse(De):!1}),[s,i]=b.useState(""),[o,l]=b.useState("all"),[c,u]=b.useState("all"),[f,h]=b.useState(!1),[g,p]=b.useState(!1),[v,w]=b.useState(!1),[y,N]=b.useState(null),[k,S]=b.useState(!1),[T,_]=b.useState(1),[D]=b.useState(5),{user:E,fetchWithAuth:L,hasPermission:R,getAssetsData:F,deleteAsset:A}=or(),[M,B]=b.useState(null),z=tr(),[Y,W]=b.useState(!1),[H,q]=b.useState(window.innerWidth<768),[X,oe]=b.useState(!1),[K,V]=b.useState(!1),J=b.useRef(null),Q=b.useRef(null),[re,ce]=b.useState([]),[Ee,ke]=b.useState(!1),[ge,Ce]=b.useState(null),[Ke,fe]=b.useState(!1),[ye,ae]=b.useState(null),se=(De,je)=>{ae({id:De,name:je}),fe(!0)},bt=async()=>{if(ye){if(console.log("Attempting to delete asset with ID:",ye.id),!ye.id){console.error("Asset ID is empty or invalid."),alert("Cannot delete: Asset ID is missing.");return}try{await A(ye.id),ce(re.filter(De=>String(De.id)!==ye.id)),console.log(`Asset with ID: ${ye.id} deleted successfully.`),fe(!1),ae(null)}catch(De){console.error("Failed to delete asset:",De),alert("Failed to delete asset.")}}},pt=()=>{fe(!1),ae(null)};b.useEffect(()=>{const De=()=>{q(window.innerWidth<768),window.innerWidth<768&&n(!1)};return window.addEventListener("resize",De),()=>window.removeEventListener("resize",De)},[]),b.useEffect(()=>{const De=je=>{J.current&&!J.current.contains(je.target)&&oe(!1),Q.current&&!Q.current.contains(je.target)&&V(!1)};return document.addEventListener("mousedown",De),()=>{document.removeEventListener("mousedown",De)}},[]);const Re=async()=>{ke(!0),Ce(null);try{const De=await F();ce(De)}catch(De){Ce("Failed to load data from ERP."),console.error("Error fetching ERP data:",De)}finally{ke(!1)}},Me=()=>{W(!0),localStorage.setItem("sidebarOpen",JSON.stringify(!r)),n(De=>!De)},qe=re.filter(De=>{const je=String(De.id),We=s.toLowerCase();return De.name.toLowerCase().includes(We)||je.toLowerCase().includes(We)||De.category.toLowerCase().includes(We)||De.location.toLowerCase().includes(We)}),tt=T*D,Ve=tt-D,Te=qe.slice(Ve,tt),le=Math.ceil(qe.length/D),Je=De=>_(De);b.useEffect(()=>{_(1),(async()=>{try{const je=await L("/protected-data");B(je)}catch(je){console.error("Failed to fetch data:",je)}})(),document.documentElement.classList.toggle("dark",t),localStorage.setItem("sidebarOpen",JSON.stringify(r))},[s,o,c,r,t,L]);const Ge=De=>{N(De),w(!0),S(!1)},Pe=(()=>{if(re.length===0)return{total:0,active:0,maintenance:0,critical:0,maintenanceDue:0,needsAttention:0};const De=re.length,je=new Date,We=re.filter(Qe=>Qe.status==="Aktif"||Qe.status!==null).length,rt=re.filter(Qe=>Qe.nextMaintenance?new Date(Qe.nextMaintenance)<=je:!1).length,ve=re.filter(Qe=>Qe.health==="Buruk"||Qe.health==="Critical").length,xe=rt+ve;return{total:De,active:We,maintenance:rt,critical:ve,maintenanceDue:rt,needsAttention:xe}})(),Ne=Pe.total>0?Math.round(Pe.active/Pe.total*100):0,ze=Pe.total>0?Math.round(Pe.maintenance/Pe.total*100):0,me=Pe.total>0?Math.round(Pe.critical/Pe.total*100):0;return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Assets Data",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:a.jsx(Ya,{}),isMobile:H,toggleSidebar:Me}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Assets Data Overview"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Manage and monitor your physical assets efficiently"})]}),a.jsxs("div",{className:"flex flex-wrap gap-3",children:[a.jsxs(O.button,{onClick:Re,disabled:Ee,whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:`flex items-center space-x-2 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md ${Ee?"bg-gray-400 text-gray-700 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,children:[a.jsx(ON,{className:"text-lg"}),a.jsx("span",{className:"font-semibold",children:Ee?"Loading...":"Load Data from ERP"})]}),a.jsxs(O.button,{onClick:()=>z("/assets/assetsdata/addasset"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[a.jsx(pa,{className:"text-base"}),a.jsx("span",{children:"Add Asset"})]}),a.jsxs(O.button,{onClick:()=>{},whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(ni,{className:"text-lg"}),a.jsx("span",{className:"font-semibold",children:"Import"})]}),a.jsxs(O.button,{onClick:()=>h(!f),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(Ki,{className:"text-lg"}),a.jsx("span",{className:"font-semibold",children:"Filters"}),f?a.jsx(dj,{}):a.jsx(la,{})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[a.jsx(Sw,{title:"Total Assets",value:Pe.total.toString(),change:`${Pe.total} units`,icon:a.jsx(Ya,{})}),a.jsx(Sw,{title:"Active Assets",value:Pe.active.toString(),change:`${Ne}% operational`,icon:a.jsx(fr,{})}),a.jsx(Sw,{title:"Due Maintenance",value:Pe.maintenance.toString(),change:`${ze}% need service`,icon:a.jsx(ia,{})}),a.jsx(Sw,{title:"Critical Issues",value:Pe.critical.toString(),change:`${me}% critical`,icon:a.jsx(Hr,{})})]}),a.jsx(O.div,{layout:!0,className:"mb-6 bg-white rounded-2xl shadow-md p-4 md:p-6 border border-blue-50",children:a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Da,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),a.jsx("input",{type:"text",placeholder:"Search assets by name or ID...",className:"w-full pl-12 pr-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base transition-all duration-200",value:s,onChange:De=>i(De.target.value)})]}),a.jsx(ar,{children:f&&a.jsxs(O.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3 w-full md:w-auto",children:[a.jsxs("select",{className:"border border-gray-200 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base appearance-none bg-no-repeat bg-right-12 bg-center-y transition-all duration-200",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='currentColor'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E")`,backgroundSize:"1.2rem"},value:o,onChange:De=>l(De.target.value),children:[a.jsx("option",{value:"all",children:"All Statuses"}),a.jsx("option",{value:"running",children:"Running"}),a.jsx("option",{value:"maintenance",children:"Maintenance"}),a.jsx("option",{value:"breakdown",children:"Breakdown"}),a.jsx("option",{value:"idle",children:"Idle"})]}),a.jsxs("select",{className:"border border-gray-200 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base appearance-none bg-no-repeat bg-right-12 bg-center-y transition-all duration-200",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='currentColor'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E")`,backgroundSize:"1.2rem"},value:c,onChange:De=>u(De.target.value),children:[a.jsx("option",{value:"all",children:"All Types"}),a.jsx("option",{value:"mechanical",children:"Mechanical"}),a.jsx("option",{value:"electrical",children:"Electrical"}),a.jsx("option",{value:"vehicle",children:"Vehicle"}),a.jsx("option",{value:"building",children:"Building"})]})]})})]})}),a.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-50",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-100",children:[a.jsx("thead",{className:"bg-blue-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Asset"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Location"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Purchase Date"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Description"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),a.jsxs("tbody",{className:"bg-white divide-y divide-gray-100",children:[Ee&&a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"text-center py-10 text-gray-600 text-lg",children:a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsxs("svg",{className:"animate-spin h-5 w-5 mr-3 text-blue-600",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading data..."]})})}),ge&&a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"text-center py-10 text-red-500 text-lg",children:a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsx(Hr,{className:"text-red-500 mr-2"}),ge]})})}),!Ee&&re.length===0&&!ge&&a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"px-6 py-10 text-center text-gray-600 text-lg",children:a.jsxs("div",{className:"flex flex-col items-center justify-center",children:[a.jsx(Ya,{className:"text-gray-400 mb-3",size:48}),'No assets found. Please click "Load Data from ERP".']})})}),Te.length>0&&Te.map((De,je)=>{const We=Ve+je;return a.jsxs(O.tr,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.2},whileHover:{backgroundColor:"rgba(239, 246, 255, 1)"},className:"transition-colors duration-150",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:We+1})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"flex items-center",children:a.jsxs("div",{className:"ml-0",children:[" ",a.jsx("div",{className:"text-base font-medium text-gray-900",children:De.name}),a.jsx("div",{className:"text-sm text-gray-600",children:De.category})]})})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-900",children:De.location})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[a.jsx("div",{className:"text-sm text-gray-900",children:De.purchaseDate})," "]}),a.jsxs("td",{className:"px-6 py-4",children:[" ",a.jsx("div",{className:"text-sm text-gray-900 max-w-xs truncate",children:De.description})," "]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(O.button,{whileHover:{scale:1.1,color:"#2563eb"},whileTap:{scale:.9},onClick:()=>z(`/assets/assetsdata/editasset/${De.id}`),className:"text-yellow-600 hover:text-blue-600 transition-colors duration-200",title:"Edit Asset",children:a.jsx(Ba,{className:"w-5 h-5"})}),a.jsx(O.button,{whileHover:{scale:1.1,color:"#dc2626"},whileTap:{scale:.9},onClick:()=>se(String(De.id),De.name),className:"text-red-600 hover:text-red-600 transition-colors duration-200",title:"Delete Asset",children:a.jsx(In,{className:"w-5 h-5"})}),a.jsx(O.button,{whileHover:{scale:1.1,color:"#2563eb"},whileTap:{scale:.9},onClick:()=>Ge(De),className:"text-blue-600 hover:text-blue-600 transition-colors duration-200",title:"View Details",children:a.jsx(bo,{className:"w-5 h-5"})})]})})]},De.id)})]})]})})}),qe.length>D&&a.jsxs(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"mt-8 flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{className:"text-sm text-gray-600 mb-4 sm:mb-0",children:["Showing ",a.jsx("span",{className:"font-semibold",children:Ve+1})," to ",a.jsx("span",{className:"font-semibold",children:Math.min(tt,qe.length)})," of"," ",a.jsx("span",{className:"font-semibold",children:qe.length})," results"]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Je(T-1),disabled:T===1,className:"px-4 py-2 border border-gray-200 rounded-lg bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm",children:"Previous"}),Array.from({length:le},(De,je)=>a.jsx(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Je(je+1),className:`px-4 py-2 rounded-lg transition-colors duration-200 shadow-sm
                          ${T===je+1?"bg-blue-600 text-white shadow-md":"bg-white text-gray-700 hover:bg-blue-50 border border-gray-200"}
                        `,children:je+1},je+1)),a.jsx(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Je(T+1),disabled:T===le,className:"px-4 py-2 border border-gray-200 rounded-lg bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm",children:"Next"})]})]})]})]}),y&&a.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(O.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl mx-auto border border-blue-100 max-h-[90vh] overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"flex justify-between items-center border-b border-gray-100 px-6 py-4 bg-blue-50",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:k?"Edit Asset":"Asset Details"}),a.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{w(!1),N(null),S(!1)},className:"text-gray-500 hover:text-gray-700 text-2xl p-1 rounded-full hover:bg-blue-100 transition-colors duration-200",children:a.jsx(Ft,{size:24})})]}),a.jsx("div",{className:"overflow-y-auto custom-scrollbar p-6 flex-grow",children:a.jsx(P0e,{asset:y,isEditing:k,onSave:()=>{},onCancel:()=>{w(!1),N(null),S(!1)}})})]})}),a.jsx(D0e,{isOpen:Ke,onClose:pt,title:"Confirm Delete",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(Hr,{className:"text-yellow-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center mb-2",children:"Are you sure you want to delete this asset?"}),a.jsxs("p",{className:"text-sm text-gray-600 text-center mb-6",children:["Asset: ",a.jsx("strong",{children:ye==null?void 0:ye.name})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:pt,className:"px-6 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors duration-200",children:"Cancel"}),a.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:bt,className:"px-6 py-2 border border-transparent rounded-lg text-sm font-medium text-white bg-red-600 hover:bg-red-700 transition-colors duration-200",children:"Delete"})]})]})})]})},R0e=()=>{const{user:t,hasPermission:e,logout:r}=or(),n=tr();Ds();const[s,i]=b.useState(!1),[o,l]=b.useState(()=>{const A=localStorage.getItem("sidebarOpen");return A?JSON.parse(A):!1}),[c,u]=b.useState(window.innerWidth<768),[f,h]=b.useState("profile"),[g,p]=b.useState(!1),[v,w]=b.useState(!1),[y,N]=b.useState(!1),k=b.useRef(null);b.useEffect(()=>{const A=()=>{u(window.innerWidth<768),window.innerWidth<768&&l(!1)};return window.addEventListener("resize",A),()=>window.removeEventListener("resize",A)},[]),b.useEffect(()=>{const A=M=>{k.current&&!k.current.contains(M.target)&&N(!1)};return document.addEventListener("mousedown",A),()=>{document.removeEventListener("mousedown",A)}},[]);const[S,T]=b.useState({name:t==null?void 0:t.name,nik:t==null?void 0:t.nik,email:t==null?void 0:t.email,language:"en",notifications:!0,billingEmail:"haloo@company.com"}),_=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!o)),l(A=>!A)},D=A=>{const{name:M,value:B,type:z}=A.target,Y=z==="checkbox"?A.target.checked:void 0;T(W=>({...W,[M]:z==="checkbox"?Y:B}))},E=()=>{p(!1)},L=({title:A,children:M})=>a.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[a.jsx("h3",{className:"text-xl font-bold mb-4 text-gray-900",children:A}),M]}),R=({label:A,value:M,children:B,editable:z=!0,onEdit:Y})=>a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between py-4 border-b border-gray-100 last:border-b-0",children:[a.jsxs("div",{className:"mb-2 sm:mb-0",children:[a.jsx("p",{className:"font-medium text-gray-700",children:A}),M!==void 0&&a.jsx("p",{className:"text-sm text-gray-600",children:typeof M=="boolean"?M?"Enabled":"Disabled":M})]}),z&&a.jsx(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Y,className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Edit"}),B]}),F=({isOpen:A,onClose:M,title:B,children:z,actions:Y})=>A?a.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:a.jsxs(O.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-md mx-auto",children:[a.jsxs("div",{className:"flex justify-between items-center border-b border-gray-100 p-4",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900",children:B}),a.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:M,className:"text-gray-500 hover:text-gray-700",children:a.jsx(Ft,{size:20})})]}),a.jsx("div",{className:"p-6",children:z}),Y&&a.jsx("div",{className:"flex justify-end space-x-3 p-4 border-t border-gray-100",children:Y})]})}):null;return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Settings",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:a.jsx(qs,{}),isMobile:c,toggleSidebar:_}),a.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:a.jsxs("div",{className:"max-w-6xl mx-auto",children:[a.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.4},className:"bg-gradient-to-r from-blue-600 to-blue-800 rounded-2xl p-6 text-white mb-6 shadow-lg hover:shadow-xl transition-all duration-300",children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold mb-2",children:"Account Settings"}),a.jsx("p",{className:"opacity-90 text-sm",children:"Manage your profile, security, and preferences"})]}),a.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 md:gap-6",children:[a.jsx(O.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},className:"lg:w-64 flex-shrink-0",children:a.jsx("div",{className:"bg-white rounded-2xl shadow-md border border-blue-50 overflow-hidden",children:a.jsx("div",{className:"space-y-1 p-2",children:[{id:"profile",icon:a.jsx(cn,{}),label:"Profile"},{id:"security",icon:a.jsx(jpe,{}),label:"Security"},{id:"notifications",icon:a.jsx(jD,{}),label:"Notifications"},{id:"preferences",icon:a.jsx(aM,{}),label:"Preferences"},{id:"billing",icon:a.jsx(Dme,{}),label:"Billing"},{id:"team",icon:a.jsx(Pa,{}),label:"Team Settings"},{id:"integrations",icon:a.jsx(Yme,{}),label:"Integrations"},{id:"data",icon:a.jsx(ON,{}),label:"Data Management"}].map(A=>a.jsxs(O.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>h(A.id),className:`w-full text-left flex items-center p-3 rounded-xl transition-colors duration-200 ${f===A.id?"bg-blue-50 text-blue-700 font-medium":"text-gray-700 hover:bg-blue-50"}`,children:[a.jsx("span",{className:"text-xl mr-3 text-blue-500",children:A.icon}),a.jsx("span",{className:"text-base",children:A.label})]},A.id))})})}),a.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"flex-1",children:[f==="profile"&&a.jsx(L,{title:"Profile Information",children:g?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),a.jsx("input",{type:"text",name:"name",value:S.name,onChange:D,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"NIK"}),a.jsx("input",{type:"text",name:"nik",value:S.nik,onChange:D,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),a.jsx("input",{type:"text",name:"nik",value:S.email,onChange:D,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[a.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>p(!1),className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),a.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:E,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 shadow",children:"Save Changes"})]})]}):a.jsxs(a.Fragment,{children:[a.jsx(R,{label:"Name",value:t==null?void 0:t.name,editable:!1}),a.jsx(R,{label:"NIK",value:t==null?void 0:t.nik,editable:!1}),a.jsx(R,{label:"Role",value:t==null?void 0:t.role.name,editable:!1}),a.jsx(R,{label:"Email",value:t==null?void 0:t.email,editable:!1})]})}),f==="security"&&a.jsxs(L,{title:"Security Settings",children:[a.jsx(R,{label:"Password",value:"••••••••",onEdit:()=>n("/settings/change-password")}),a.jsx(R,{label:"Two-factor authentication",value:!1,onEdit:()=>n("/settings/two-factor")}),a.jsx(R,{label:"Active sessions",value:"3 devices",onEdit:()=>n("/settings/sessions")})]}),f==="notifications"&&a.jsxs(L,{title:"Notification Preferences",children:[a.jsxs("div",{className:"flex items-center justify-between py-4 border-b border-gray-100",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-700",children:"Email notifications"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Receive email notifications"})]}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",name:"notifications",checked:S.notifications,onChange:D,className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),a.jsx(R,{label:"Push notifications",value:!1,onEdit:()=>{}})]}),f==="preferences"&&a.jsxs(L,{title:"Preferences",children:[a.jsxs("div",{className:"flex items-center justify-between py-4 border-b border-gray-100",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-700",children:"Dark mode"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Toggle dark theme"})]}),a.jsx(ar,{mode:"wait",children:a.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>i(!s),className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200",children:s?a.jsx(aM,{className:"text-yellow-400"}):a.jsx(XJ,{})},s?"sun-card":"moon-card")})]}),a.jsx(R,{label:"Language",value:"English",onEdit:()=>{}}),a.jsx(R,{label:"Timezone",value:"UTC+07:00",onEdit:()=>{}})]}),f==="billing"&&a.jsxs(L,{title:"Billing Information",children:[a.jsx(R,{label:"Billing email",value:S.billingEmail,onEdit:()=>{}}),a.jsx(R,{label:"Payment method",value:"Visa ending in 4242",onEdit:()=>{}}),a.jsx(R,{label:"Plan",value:"Premium ($29/month)",onEdit:()=>{}})]}),f==="team"&&a.jsxs(L,{title:"Team Settings",children:[a.jsx(R,{label:"Team members",value:"5 active",onEdit:()=>n("/team")}),a.jsx(R,{label:"Team roles",value:"Custom roles",onEdit:()=>n("/settings/roles")}),a.jsx(R,{label:"Team permissions",value:"Custom permissions",onEdit:()=>n("/settings/permissions")})]}),f==="integrations"&&a.jsxs(L,{title:"Integrations",children:[a.jsx(R,{label:"Google Workspace",value:"Connected",onEdit:()=>{}}),a.jsx(R,{label:"Slack",value:"Not connected",onEdit:()=>{}}),a.jsx(R,{label:"Microsoft 365",value:"Not connected",onEdit:()=>{}})]}),f==="data"&&a.jsxs(L,{title:"Data Management",children:[a.jsx(R,{label:"Export data",value:"JSON, CSV formats",onEdit:()=>{}}),a.jsx(R,{label:"Delete account",value:"Permanently remove all data",onEdit:()=>w(!0)})]})]})]})]})})]}),a.jsxs(F,{isOpen:v,onClose:()=>w(!1),title:"Delete Account",children:[a.jsx("div",{className:"text-gray-700 mb-6",children:a.jsx("p",{children:"Are you sure you want to delete your account? This action cannot be undone."})}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>w(!1),className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),a.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>{},className:"px-4 py-2 rounded-lg text-white bg-red-600 hover:bg-red-700",children:"Delete Account"})]})]})]})};function tX(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(r=tX(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function _r(){for(var t,e,r=0,n="",s=arguments.length;r<s;r++)(t=arguments[r])&&(e=tX(t))&&(n&&(n+=" "),n+=e);return n}const rX=6048e5,I0e=864e5,DN=6e4,PN=36e5,F0e=1e3,zI=Symbol.for("constructDateFrom");function xa(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&zI in t?t[zI](e):t instanceof Date?new t.constructor(e):new Date(e)}function Ar(t,e){return xa(e||t,t)}function ou(t,e,r){const n=Ar(t,r==null?void 0:r.in);return isNaN(e)?xa((r==null?void 0:r.in)||t,NaN):(e&&n.setDate(n.getDate()+e),n)}function du(t,e,r){const n=Ar(t,r==null?void 0:r.in);if(isNaN(e))return xa(t,NaN);if(!e)return n;const s=n.getDate(),i=xa(t,n.getTime());i.setMonth(n.getMonth()+e+1,0);const o=i.getDate();return s>=o?i:(n.setFullYear(i.getFullYear(),i.getMonth(),s),n)}function nX(t,e,r){return xa(t,+Ar(t)+e)}function B0e(t,e,r){return nX(t,e*PN)}let $0e={};function Qp(){return $0e}function Pf(t,e){var l,c,u,f;const r=Qp(),n=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((f=(u=r.locale)==null?void 0:u.options)==null?void 0:f.weekStartsOn)??0,s=Ar(t,e==null?void 0:e.in),i=s.getDay(),o=(i<n?7:0)+i-n;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function Vg(t,e){return Pf(t,{...e,weekStartsOn:1})}function aX(t,e){const r=Ar(t,e==null?void 0:e.in),n=r.getFullYear(),s=xa(r,0);s.setFullYear(n+1,0,4),s.setHours(0,0,0,0);const i=Vg(s),o=xa(r,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const l=Vg(o);return r.getTime()>=i.getTime()?n+1:r.getTime()>=l.getTime()?n:n-1}function hj(t){const e=Ar(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function zf(t,...e){const r=xa.bind(null,e.find(n=>typeof n=="object"));return e.map(r)}function Pp(t,e){const r=Ar(t,e==null?void 0:e.in);return r.setHours(0,0,0,0),r}function Gg(t,e,r){const[n,s]=zf(r==null?void 0:r.in,t,e),i=Pp(n),o=Pp(s),l=+i-hj(i),c=+o-hj(o);return Math.round((l-c)/I0e)}function H0e(t,e){const r=aX(t,e),n=xa(t,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),Vg(n)}function sM(t,e,r){const n=Ar(t,r==null?void 0:r.in);return n.setTime(n.getTime()+e*DN),n}function CD(t,e,r){return du(t,e*3,r)}function z0e(t,e,r){return nX(t,e*1e3)}function mj(t,e,r){return ou(t,e*7,r)}function wf(t,e,r){return du(t,e*12,r)}function qI(t,e){let r,n=e==null?void 0:e.in;return t.forEach(s=>{!n&&typeof s=="object"&&(n=xa.bind(null,s));const i=Ar(s,n);(!r||r<i||isNaN(+i))&&(r=i)}),xa(n,r||NaN)}function UI(t,e){let r,n=e==null?void 0:e.in;return t.forEach(s=>{!n&&typeof s=="object"&&(n=xa.bind(null,s));const i=Ar(s,n);(!r||r>i||isNaN(+i))&&(r=i)}),xa(n,r||NaN)}function q0e(t,e,r){const[n,s]=zf(r==null?void 0:r.in,t,e);return+Pp(n)==+Pp(s)}function jf(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function pj(t){return!(!jf(t)&&typeof t!="number"||isNaN(+Ar(t)))}function gj(t,e,r){const[n,s]=zf(r==null?void 0:r.in,t,e),i=n.getFullYear()-s.getFullYear(),o=n.getMonth()-s.getMonth();return i*12+o}function wp(t,e){const r=Ar(t,e==null?void 0:e.in);return Math.trunc(r.getMonth()/3)+1}function xj(t,e,r){const[n,s]=zf(r==null?void 0:r.in,t,e),i=n.getFullYear()-s.getFullYear(),o=wp(n)-wp(s);return i*4+o}function bj(t,e,r){const[n,s]=zf(r==null?void 0:r.in,t,e);return n.getFullYear()-s.getFullYear()}function U0e(t,e,r){const[n,s]=zf(r==null?void 0:r.in,t,e),i=WI(n,s),o=Math.abs(Gg(n,s));n.setDate(n.getDate()-i*o);const l=+(WI(n,s)===-i),c=i*(o-l);return c===0?0:c}function WI(t,e){const r=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return r<0?-1:r>0?1:r}function sX(t,e){const r=Ar(t,e==null?void 0:e.in);return r.setHours(23,59,59,999),r}function iX(t,e){const r=Ar(t,e==null?void 0:e.in),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(23,59,59,999),r}function iM(t,e){const r=Ar(t,e==null?void 0:e.in),n=r.getMonth(),s=n-n%3;return r.setMonth(s,1),r.setHours(0,0,0,0),r}function oX(t,e){const r=Ar(t,e==null?void 0:e.in);return r.setDate(1),r.setHours(0,0,0,0),r}function lX(t,e){const r=Ar(t,e==null?void 0:e.in),n=r.getFullYear();return r.setFullYear(n+1,0,0),r.setHours(23,59,59,999),r}function LN(t,e){const r=Ar(t,e==null?void 0:e.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}function W0e(t,e){var l,c;const r=Qp(),n=r.weekStartsOn??((c=(l=r.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??0,s=Ar(t,e==null?void 0:e.in),i=s.getDay(),o=(i<n?-7:0)+6-(i-n);return s.setDate(s.getDate()+o),s.setHours(23,59,59,999),s}const V0e={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},G0e=(t,e,r)=>{let n;const s=V0e[t];return typeof s=="string"?n=s:e===1?n=s.one:n=s.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function CC(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const Y0e={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},K0e={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},J0e={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},X0e={date:CC({formats:Y0e,defaultWidth:"full"}),time:CC({formats:K0e,defaultWidth:"full"}),dateTime:CC({formats:J0e,defaultWidth:"full"})},Q0e={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Z0e=(t,e,r,n)=>Q0e[t];function Lb(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,l=r!=null&&r.width?String(r.width):o;s=t.formattingValues[l]||t.formattingValues[o]}else{const o=t.defaultWidth,l=r!=null&&r.width?String(r.width):t.defaultWidth;s=t.values[l]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const ege={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},tge={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},rge={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},nge={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},age={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},sge={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ige=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},oge={ordinalNumber:ige,era:Lb({values:ege,defaultWidth:"wide"}),quarter:Lb({values:tge,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Lb({values:rge,defaultWidth:"wide"}),day:Lb({values:nge,defaultWidth:"wide"}),dayPeriod:Lb({values:age,defaultWidth:"wide",formattingValues:sge,defaultFormattingWidth:"wide"})};function Rb(t){return(e,r={})=>{const n=r.width,s=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const o=i[0],l=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?cge(l,h=>h.test(o)):lge(l,h=>h.test(o));let u;u=t.valueCallback?t.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const f=e.slice(o.length);return{value:u,rest:f}}}function lge(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function cge(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function uge(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const s=n[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=e.slice(s.length);return{value:o,rest:l}}}const dge=/^(\d+)(th|st|nd|rd)?/i,fge=/\d+/i,hge={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},mge={any:[/^b/i,/^(a|c)/i]},pge={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},gge={any:[/1/i,/2/i,/3/i,/4/i]},xge={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},bge={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},yge={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},vge={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},wge={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},jge={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Nge={ordinalNumber:uge({matchPattern:dge,parsePattern:fge,valueCallback:t=>parseInt(t,10)}),era:Rb({matchPatterns:hge,defaultMatchWidth:"wide",parsePatterns:mge,defaultParseWidth:"any"}),quarter:Rb({matchPatterns:pge,defaultMatchWidth:"wide",parsePatterns:gge,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Rb({matchPatterns:xge,defaultMatchWidth:"wide",parsePatterns:bge,defaultParseWidth:"any"}),day:Rb({matchPatterns:yge,defaultMatchWidth:"wide",parsePatterns:vge,defaultParseWidth:"any"}),dayPeriod:Rb({matchPatterns:wge,defaultMatchWidth:"any",parsePatterns:jge,defaultParseWidth:"any"})},cX={code:"en-US",formatDistance:G0e,formatLong:X0e,formatRelative:Z0e,localize:oge,match:Nge,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Sge(t,e){const r=Ar(t,e==null?void 0:e.in);return Gg(r,LN(r))+1}function _D(t,e){const r=Ar(t,e==null?void 0:e.in),n=+Vg(r)-+H0e(r);return Math.round(n/rX)+1}function AD(t,e){var f,h,g,p;const r=Ar(t,e==null?void 0:e.in),n=r.getFullYear(),s=Qp(),i=(e==null?void 0:e.firstWeekContainsDate)??((h=(f=e==null?void 0:e.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??s.firstWeekContainsDate??((p=(g=s.locale)==null?void 0:g.options)==null?void 0:p.firstWeekContainsDate)??1,o=xa((e==null?void 0:e.in)||t,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const l=Pf(o,e),c=xa((e==null?void 0:e.in)||t,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const u=Pf(c,e);return+r>=+l?n+1:+r>=+u?n:n-1}function kge(t,e){var l,c,u,f;const r=Qp(),n=(e==null?void 0:e.firstWeekContainsDate)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((f=(u=r.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??1,s=AD(t,e),i=xa((e==null?void 0:e.in)||t,0);return i.setFullYear(s,0,n),i.setHours(0,0,0,0),Pf(i,e)}function uX(t,e){const r=Ar(t,e==null?void 0:e.in),n=+Pf(r,e)-+kge(r,e);return Math.round(n/rX)+1}function ma(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const Mh={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return ma(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):ma(r+1,2)},d(t,e){return ma(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return ma(t.getHours()%12||12,e.length)},H(t,e){return ma(t.getHours(),e.length)},m(t,e){return ma(t.getMinutes(),e.length)},s(t,e){return ma(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return ma(s,e.length)}},G0={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},VI={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return Mh.y(t,e)},Y:function(t,e,r,n){const s=AD(t,n),i=s>0?s:1-s;if(e==="YY"){const o=i%100;return ma(o,2)}return e==="Yo"?r.ordinalNumber(i,{unit:"year"}):ma(i,e.length)},R:function(t,e){const r=aX(t);return ma(r,e.length)},u:function(t,e){const r=t.getFullYear();return ma(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return ma(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return ma(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return Mh.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return ma(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const s=uX(t,n);return e==="wo"?r.ordinalNumber(s,{unit:"week"}):ma(s,e.length)},I:function(t,e,r){const n=_D(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):ma(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):Mh.d(t,e)},D:function(t,e,r){const n=Sge(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):ma(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const s=t.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return ma(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const s=t.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return ma(i,e.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),s=n===0?7:n;switch(e){case"i":return String(s);case"ii":return ma(s,e.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let s;switch(n===12?s=G0.noon:n===0?s=G0.midnight:s=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let s;switch(n>=17?s=G0.evening:n>=12?s=G0.afternoon:n>=4?s=G0.morning:s=G0.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Mh.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):Mh.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):ma(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):ma(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):Mh.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):Mh.s(t,e)},S:function(t,e){return Mh.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return YI(n);case"XXXX":case"XX":return Jm(n);case"XXXXX":case"XXX":default:return Jm(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return YI(n);case"xxxx":case"xx":return Jm(n);case"xxxxx":case"xxx":default:return Jm(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+GI(n,":");case"OOOO":default:return"GMT"+Jm(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+GI(n,":");case"zzzz":default:return"GMT"+Jm(n,":")}},t:function(t,e,r){const n=Math.trunc(+t/1e3);return ma(n,e.length)},T:function(t,e,r){return ma(+t,e.length)}};function GI(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),s=Math.trunc(n/60),i=n%60;return i===0?r+String(s):r+String(s)+e+ma(i,2)}function YI(t,e){return t%60===0?(t>0?"-":"+")+ma(Math.abs(t)/60,2):Jm(t,e)}function Jm(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),s=ma(Math.trunc(n/60),2),i=ma(n%60,2);return r+s+e+i}const KI=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},dX=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Cge=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return KI(t,e);let i;switch(n){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",KI(n,e)).replace("{{time}}",dX(s,e))},oM={p:dX,P:Cge},_ge=/^D+$/,Age=/^Y+$/,Tge=["D","DD","YY","YYYY"];function Mge(t){return _ge.test(t)}function Ege(t){return Age.test(t)}function Oge(t,e,r){const n=Dge(t,e,r);if(console.warn(n),Tge.includes(t))throw new RangeError(n)}function Dge(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Pge=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Lge=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Rge=/^'([^]*?)'?$/,Ige=/''/g,Fge=/[a-zA-Z]/;function JI(t,e,r){var f,h,g,p,v,w,y,N;const n=Qp(),s=(r==null?void 0:r.locale)??n.locale??cX,i=(r==null?void 0:r.firstWeekContainsDate)??((h=(f=r==null?void 0:r.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??n.firstWeekContainsDate??((p=(g=n.locale)==null?void 0:g.options)==null?void 0:p.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((w=(v=r==null?void 0:r.locale)==null?void 0:v.options)==null?void 0:w.weekStartsOn)??n.weekStartsOn??((N=(y=n.locale)==null?void 0:y.options)==null?void 0:N.weekStartsOn)??0,l=Ar(t,r==null?void 0:r.in);if(!pj(l))throw new RangeError("Invalid time value");let c=e.match(Lge).map(k=>{const S=k[0];if(S==="p"||S==="P"){const T=oM[S];return T(k,s.formatLong)}return k}).join("").match(Pge).map(k=>{if(k==="''")return{isToken:!1,value:"'"};const S=k[0];if(S==="'")return{isToken:!1,value:Bge(k)};if(VI[S])return{isToken:!0,value:k};if(S.match(Fge))throw new RangeError("Format string contains an unescaped latin alphabet character `"+S+"`");return{isToken:!1,value:k}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return c.map(k=>{if(!k.isToken)return k.value;const S=k.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&Ege(S)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&Mge(S))&&Oge(S,e,String(t));const T=VI[S[0]];return T(l,S,s.localize,u)}).join("")}function Bge(t){const e=t.match(Rge);return e?e[1].replace(Ige,"'"):t}function XI(t,e){return Ar(t,e==null?void 0:e.in).getDate()}function $ge(t,e){return Ar(t,e==null?void 0:e.in).getDay()}function Hge(t,e){const r=Ar(t,e==null?void 0:e.in),n=r.getFullYear(),s=r.getMonth(),i=xa(r,0);return i.setFullYear(n,s+1,0),i.setHours(0,0,0,0),i.getDate()}function zge(){return Object.assign({},Qp())}function Nf(t,e){return Ar(t,e==null?void 0:e.in).getHours()}function qge(t,e){const r=Ar(t,e==null?void 0:e.in).getDay();return r===0?7:r}function Sf(t,e){return Ar(t,e==null?void 0:e.in).getMinutes()}function po(t,e){return Ar(t,e==null?void 0:e.in).getMonth()}function Zh(t){return Ar(t).getSeconds()}function lM(t){return+Ar(t)}function jn(t,e){return Ar(t,e==null?void 0:e.in).getFullYear()}function um(t,e){return+Ar(t)>+Ar(e)}function Ku(t,e){return+Ar(t)<+Ar(e)}function Uge(t,e){return+Ar(t)==+Ar(e)}function Wge(t,e){const r=Vge(e)?new e(0):xa(e,0);return r.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),r.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),r}function Vge(t){var e;return typeof t=="function"&&((e=t.prototype)==null?void 0:e.constructor)===t}const Gge=10;class fX{constructor(){Jt(this,"subPriority",0)}validate(e,r){return!0}}class Yge extends fX{constructor(e,r,n,s,i){super(),this.value=e,this.validateValue=r,this.setValue=n,this.priority=s,i&&(this.subPriority=i)}validate(e,r){return this.validateValue(e,this.value,r)}set(e,r,n){return this.setValue(e,r,this.value,n)}}class Kge extends fX{constructor(r,n){super();Jt(this,"priority",Gge);Jt(this,"subPriority",-1);this.context=r||(s=>xa(n,s))}set(r,n){return n.timestampIsSet?r:xa(r,Wge(r,this.context))}}class ra{run(e,r,n,s){const i=this.parse(e,r,n,s);return i?{setter:new Yge(i.value,this.validate,this.set,this.priority,this.subPriority),rest:i.rest}:null}validate(e,r,n){return!0}}class Jge extends ra{constructor(){super(...arguments);Jt(this,"priority",140);Jt(this,"incompatibleTokens",["R","u","t","T"])}parse(r,n,s){switch(n){case"G":case"GG":case"GGG":return s.era(r,{width:"abbreviated"})||s.era(r,{width:"narrow"});case"GGGGG":return s.era(r,{width:"narrow"});case"GGGG":default:return s.era(r,{width:"wide"})||s.era(r,{width:"abbreviated"})||s.era(r,{width:"narrow"})}}set(r,n,s){return n.era=s,r.setFullYear(s,0,1),r.setHours(0,0,0,0),r}}const Us={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Gu={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Ws(t,e){return t&&{value:e(t.value),rest:t.rest}}function ms(t,e){const r=e.match(t);return r?{value:parseInt(r[0],10),rest:e.slice(r[0].length)}:null}function Yu(t,e){const r=e.match(t);if(!r)return null;if(r[0]==="Z")return{value:0,rest:e.slice(1)};const n=r[1]==="+"?1:-1,s=r[2]?parseInt(r[2],10):0,i=r[3]?parseInt(r[3],10):0,o=r[5]?parseInt(r[5],10):0;return{value:n*(s*PN+i*DN+o*F0e),rest:e.slice(r[0].length)}}function hX(t){return ms(Us.anyDigitsSigned,t)}function Es(t,e){switch(t){case 1:return ms(Us.singleDigit,e);case 2:return ms(Us.twoDigits,e);case 3:return ms(Us.threeDigits,e);case 4:return ms(Us.fourDigits,e);default:return ms(new RegExp("^\\d{1,"+t+"}"),e)}}function yj(t,e){switch(t){case 1:return ms(Us.singleDigitSigned,e);case 2:return ms(Us.twoDigitsSigned,e);case 3:return ms(Us.threeDigitsSigned,e);case 4:return ms(Us.fourDigitsSigned,e);default:return ms(new RegExp("^-?\\d{1,"+t+"}"),e)}}function TD(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function mX(t,e){const r=e>0,n=r?e:1-e;let s;if(n<=50)s=t||100;else{const i=n+50,o=Math.trunc(i/100)*100,l=t>=i%100;s=t+o-(l?100:0)}return r?s:1-s}function pX(t){return t%400===0||t%4===0&&t%100!==0}class Xge extends ra{constructor(){super(...arguments);Jt(this,"priority",130);Jt(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(r,n,s){const i=o=>({year:o,isTwoDigitYear:n==="yy"});switch(n){case"y":return Ws(Es(4,r),i);case"yo":return Ws(s.ordinalNumber(r,{unit:"year"}),i);default:return Ws(Es(n.length,r),i)}}validate(r,n){return n.isTwoDigitYear||n.year>0}set(r,n,s){const i=r.getFullYear();if(s.isTwoDigitYear){const l=mX(s.year,i);return r.setFullYear(l,0,1),r.setHours(0,0,0,0),r}const o=!("era"in n)||n.era===1?s.year:1-s.year;return r.setFullYear(o,0,1),r.setHours(0,0,0,0),r}}class Qge extends ra{constructor(){super(...arguments);Jt(this,"priority",130);Jt(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(r,n,s){const i=o=>({year:o,isTwoDigitYear:n==="YY"});switch(n){case"Y":return Ws(Es(4,r),i);case"Yo":return Ws(s.ordinalNumber(r,{unit:"year"}),i);default:return Ws(Es(n.length,r),i)}}validate(r,n){return n.isTwoDigitYear||n.year>0}set(r,n,s,i){const o=AD(r,i);if(s.isTwoDigitYear){const c=mX(s.year,o);return r.setFullYear(c,0,i.firstWeekContainsDate),r.setHours(0,0,0,0),Pf(r,i)}const l=!("era"in n)||n.era===1?s.year:1-s.year;return r.setFullYear(l,0,i.firstWeekContainsDate),r.setHours(0,0,0,0),Pf(r,i)}}class Zge extends ra{constructor(){super(...arguments);Jt(this,"priority",130);Jt(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(r,n){return yj(n==="R"?4:n.length,r)}set(r,n,s){const i=xa(r,0);return i.setFullYear(s,0,4),i.setHours(0,0,0,0),Vg(i)}}class exe extends ra{constructor(){super(...arguments);Jt(this,"priority",130);Jt(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(r,n){return yj(n==="u"?4:n.length,r)}set(r,n,s){return r.setFullYear(s,0,1),r.setHours(0,0,0,0),r}}class txe extends ra{constructor(){super(...arguments);Jt(this,"priority",120);Jt(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,n,s){switch(n){case"Q":case"QQ":return Es(n.length,r);case"Qo":return s.ordinalNumber(r,{unit:"quarter"});case"QQQ":return s.quarter(r,{width:"abbreviated",context:"formatting"})||s.quarter(r,{width:"narrow",context:"formatting"});case"QQQQQ":return s.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(r,{width:"wide",context:"formatting"})||s.quarter(r,{width:"abbreviated",context:"formatting"})||s.quarter(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=1&&n<=4}set(r,n,s){return r.setMonth((s-1)*3,1),r.setHours(0,0,0,0),r}}class rxe extends ra{constructor(){super(...arguments);Jt(this,"priority",120);Jt(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,n,s){switch(n){case"q":case"qq":return Es(n.length,r);case"qo":return s.ordinalNumber(r,{unit:"quarter"});case"qqq":return s.quarter(r,{width:"abbreviated",context:"standalone"})||s.quarter(r,{width:"narrow",context:"standalone"});case"qqqqq":return s.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(r,{width:"wide",context:"standalone"})||s.quarter(r,{width:"abbreviated",context:"standalone"})||s.quarter(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=1&&n<=4}set(r,n,s){return r.setMonth((s-1)*3,1),r.setHours(0,0,0,0),r}}class nxe extends ra{constructor(){super(...arguments);Jt(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);Jt(this,"priority",110)}parse(r,n,s){const i=o=>o-1;switch(n){case"M":return Ws(ms(Us.month,r),i);case"MM":return Ws(Es(2,r),i);case"Mo":return Ws(s.ordinalNumber(r,{unit:"month"}),i);case"MMM":return s.month(r,{width:"abbreviated",context:"formatting"})||s.month(r,{width:"narrow",context:"formatting"});case"MMMMM":return s.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(r,{width:"wide",context:"formatting"})||s.month(r,{width:"abbreviated",context:"formatting"})||s.month(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=11}set(r,n,s){return r.setMonth(s,1),r.setHours(0,0,0,0),r}}class axe extends ra{constructor(){super(...arguments);Jt(this,"priority",110);Jt(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(r,n,s){const i=o=>o-1;switch(n){case"L":return Ws(ms(Us.month,r),i);case"LL":return Ws(Es(2,r),i);case"Lo":return Ws(s.ordinalNumber(r,{unit:"month"}),i);case"LLL":return s.month(r,{width:"abbreviated",context:"standalone"})||s.month(r,{width:"narrow",context:"standalone"});case"LLLLL":return s.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(r,{width:"wide",context:"standalone"})||s.month(r,{width:"abbreviated",context:"standalone"})||s.month(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=0&&n<=11}set(r,n,s){return r.setMonth(s,1),r.setHours(0,0,0,0),r}}function sxe(t,e,r){const n=Ar(t,r==null?void 0:r.in),s=uX(n,r)-e;return n.setDate(n.getDate()-s*7),Ar(n,r==null?void 0:r.in)}class ixe extends ra{constructor(){super(...arguments);Jt(this,"priority",100);Jt(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(r,n,s){switch(n){case"w":return ms(Us.week,r);case"wo":return s.ordinalNumber(r,{unit:"week"});default:return Es(n.length,r)}}validate(r,n){return n>=1&&n<=53}set(r,n,s,i){return Pf(sxe(r,s,i),i)}}function oxe(t,e,r){const n=Ar(t,r==null?void 0:r.in),s=_D(n,r)-e;return n.setDate(n.getDate()-s*7),n}class lxe extends ra{constructor(){super(...arguments);Jt(this,"priority",100);Jt(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(r,n,s){switch(n){case"I":return ms(Us.week,r);case"Io":return s.ordinalNumber(r,{unit:"week"});default:return Es(n.length,r)}}validate(r,n){return n>=1&&n<=53}set(r,n,s){return Vg(oxe(r,s))}}const cxe=[31,28,31,30,31,30,31,31,30,31,30,31],uxe=[31,29,31,30,31,30,31,31,30,31,30,31];class dxe extends ra{constructor(){super(...arguments);Jt(this,"priority",90);Jt(this,"subPriority",1);Jt(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(r,n,s){switch(n){case"d":return ms(Us.date,r);case"do":return s.ordinalNumber(r,{unit:"date"});default:return Es(n.length,r)}}validate(r,n){const s=r.getFullYear(),i=pX(s),o=r.getMonth();return i?n>=1&&n<=uxe[o]:n>=1&&n<=cxe[o]}set(r,n,s){return r.setDate(s),r.setHours(0,0,0,0),r}}class fxe extends ra{constructor(){super(...arguments);Jt(this,"priority",90);Jt(this,"subpriority",1);Jt(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(r,n,s){switch(n){case"D":case"DD":return ms(Us.dayOfYear,r);case"Do":return s.ordinalNumber(r,{unit:"date"});default:return Es(n.length,r)}}validate(r,n){const s=r.getFullYear();return pX(s)?n>=1&&n<=366:n>=1&&n<=365}set(r,n,s){return r.setMonth(0,s),r.setHours(0,0,0,0),r}}function MD(t,e,r){var h,g,p,v;const n=Qp(),s=(r==null?void 0:r.weekStartsOn)??((g=(h=r==null?void 0:r.locale)==null?void 0:h.options)==null?void 0:g.weekStartsOn)??n.weekStartsOn??((v=(p=n.locale)==null?void 0:p.options)==null?void 0:v.weekStartsOn)??0,i=Ar(t,r==null?void 0:r.in),o=i.getDay(),c=(e%7+7)%7,u=7-s,f=e<0||e>6?e-(o+u)%7:(c+u)%7-(o+u)%7;return ou(i,f,r)}class hxe extends ra{constructor(){super(...arguments);Jt(this,"priority",90);Jt(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(r,n,s){switch(n){case"E":case"EE":case"EEE":return s.day(r,{width:"abbreviated",context:"formatting"})||s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"});case"EEEEE":return s.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"});case"EEEE":default:return s.day(r,{width:"wide",context:"formatting"})||s.day(r,{width:"abbreviated",context:"formatting"})||s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=6}set(r,n,s,i){return r=MD(r,s,i),r.setHours(0,0,0,0),r}}class mxe extends ra{constructor(){super(...arguments);Jt(this,"priority",90);Jt(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(r,n,s,i){const o=l=>{const c=Math.floor((l-1)/7)*7;return(l+i.weekStartsOn+6)%7+c};switch(n){case"e":case"ee":return Ws(Es(n.length,r),o);case"eo":return Ws(s.ordinalNumber(r,{unit:"day"}),o);case"eee":return s.day(r,{width:"abbreviated",context:"formatting"})||s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"});case"eeeee":return s.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"});case"eeee":default:return s.day(r,{width:"wide",context:"formatting"})||s.day(r,{width:"abbreviated",context:"formatting"})||s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=6}set(r,n,s,i){return r=MD(r,s,i),r.setHours(0,0,0,0),r}}class pxe extends ra{constructor(){super(...arguments);Jt(this,"priority",90);Jt(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(r,n,s,i){const o=l=>{const c=Math.floor((l-1)/7)*7;return(l+i.weekStartsOn+6)%7+c};switch(n){case"c":case"cc":return Ws(Es(n.length,r),o);case"co":return Ws(s.ordinalNumber(r,{unit:"day"}),o);case"ccc":return s.day(r,{width:"abbreviated",context:"standalone"})||s.day(r,{width:"short",context:"standalone"})||s.day(r,{width:"narrow",context:"standalone"});case"ccccc":return s.day(r,{width:"narrow",context:"standalone"});case"cccccc":return s.day(r,{width:"short",context:"standalone"})||s.day(r,{width:"narrow",context:"standalone"});case"cccc":default:return s.day(r,{width:"wide",context:"standalone"})||s.day(r,{width:"abbreviated",context:"standalone"})||s.day(r,{width:"short",context:"standalone"})||s.day(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=0&&n<=6}set(r,n,s,i){return r=MD(r,s,i),r.setHours(0,0,0,0),r}}function gxe(t,e,r){const n=Ar(t,r==null?void 0:r.in),s=qge(n,r),i=e-s;return ou(n,i,r)}class xxe extends ra{constructor(){super(...arguments);Jt(this,"priority",90);Jt(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(r,n,s){const i=o=>o===0?7:o;switch(n){case"i":case"ii":return Es(n.length,r);case"io":return s.ordinalNumber(r,{unit:"day"});case"iii":return Ws(s.day(r,{width:"abbreviated",context:"formatting"})||s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"}),i);case"iiiii":return Ws(s.day(r,{width:"narrow",context:"formatting"}),i);case"iiiiii":return Ws(s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"}),i);case"iiii":default:return Ws(s.day(r,{width:"wide",context:"formatting"})||s.day(r,{width:"abbreviated",context:"formatting"})||s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"}),i)}}validate(r,n){return n>=1&&n<=7}set(r,n,s){return r=gxe(r,s),r.setHours(0,0,0,0),r}}class bxe extends ra{constructor(){super(...arguments);Jt(this,"priority",80);Jt(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(r,n,s){switch(n){case"a":case"aa":case"aaa":return s.dayPeriod(r,{width:"abbreviated",context:"formatting"})||s.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaaa":return s.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(r,{width:"wide",context:"formatting"})||s.dayPeriod(r,{width:"abbreviated",context:"formatting"})||s.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,s){return r.setHours(TD(s),0,0,0),r}}class yxe extends ra{constructor(){super(...arguments);Jt(this,"priority",80);Jt(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(r,n,s){switch(n){case"b":case"bb":case"bbb":return s.dayPeriod(r,{width:"abbreviated",context:"formatting"})||s.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbbb":return s.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(r,{width:"wide",context:"formatting"})||s.dayPeriod(r,{width:"abbreviated",context:"formatting"})||s.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,s){return r.setHours(TD(s),0,0,0),r}}class vxe extends ra{constructor(){super(...arguments);Jt(this,"priority",80);Jt(this,"incompatibleTokens",["a","b","t","T"])}parse(r,n,s){switch(n){case"B":case"BB":case"BBB":return s.dayPeriod(r,{width:"abbreviated",context:"formatting"})||s.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBBB":return s.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(r,{width:"wide",context:"formatting"})||s.dayPeriod(r,{width:"abbreviated",context:"formatting"})||s.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,s){return r.setHours(TD(s),0,0,0),r}}class wxe extends ra{constructor(){super(...arguments);Jt(this,"priority",70);Jt(this,"incompatibleTokens",["H","K","k","t","T"])}parse(r,n,s){switch(n){case"h":return ms(Us.hour12h,r);case"ho":return s.ordinalNumber(r,{unit:"hour"});default:return Es(n.length,r)}}validate(r,n){return n>=1&&n<=12}set(r,n,s){const i=r.getHours()>=12;return i&&s<12?r.setHours(s+12,0,0,0):!i&&s===12?r.setHours(0,0,0,0):r.setHours(s,0,0,0),r}}class jxe extends ra{constructor(){super(...arguments);Jt(this,"priority",70);Jt(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(r,n,s){switch(n){case"H":return ms(Us.hour23h,r);case"Ho":return s.ordinalNumber(r,{unit:"hour"});default:return Es(n.length,r)}}validate(r,n){return n>=0&&n<=23}set(r,n,s){return r.setHours(s,0,0,0),r}}class Nxe extends ra{constructor(){super(...arguments);Jt(this,"priority",70);Jt(this,"incompatibleTokens",["h","H","k","t","T"])}parse(r,n,s){switch(n){case"K":return ms(Us.hour11h,r);case"Ko":return s.ordinalNumber(r,{unit:"hour"});default:return Es(n.length,r)}}validate(r,n){return n>=0&&n<=11}set(r,n,s){return r.getHours()>=12&&s<12?r.setHours(s+12,0,0,0):r.setHours(s,0,0,0),r}}class Sxe extends ra{constructor(){super(...arguments);Jt(this,"priority",70);Jt(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(r,n,s){switch(n){case"k":return ms(Us.hour24h,r);case"ko":return s.ordinalNumber(r,{unit:"hour"});default:return Es(n.length,r)}}validate(r,n){return n>=1&&n<=24}set(r,n,s){const i=s<=24?s%24:s;return r.setHours(i,0,0,0),r}}class kxe extends ra{constructor(){super(...arguments);Jt(this,"priority",60);Jt(this,"incompatibleTokens",["t","T"])}parse(r,n,s){switch(n){case"m":return ms(Us.minute,r);case"mo":return s.ordinalNumber(r,{unit:"minute"});default:return Es(n.length,r)}}validate(r,n){return n>=0&&n<=59}set(r,n,s){return r.setMinutes(s,0,0),r}}class Cxe extends ra{constructor(){super(...arguments);Jt(this,"priority",50);Jt(this,"incompatibleTokens",["t","T"])}parse(r,n,s){switch(n){case"s":return ms(Us.second,r);case"so":return s.ordinalNumber(r,{unit:"second"});default:return Es(n.length,r)}}validate(r,n){return n>=0&&n<=59}set(r,n,s){return r.setSeconds(s,0),r}}class _xe extends ra{constructor(){super(...arguments);Jt(this,"priority",30);Jt(this,"incompatibleTokens",["t","T"])}parse(r,n){const s=i=>Math.trunc(i*Math.pow(10,-n.length+3));return Ws(Es(n.length,r),s)}set(r,n,s){return r.setMilliseconds(s),r}}class Axe extends ra{constructor(){super(...arguments);Jt(this,"priority",10);Jt(this,"incompatibleTokens",["t","T","x"])}parse(r,n){switch(n){case"X":return Yu(Gu.basicOptionalMinutes,r);case"XX":return Yu(Gu.basic,r);case"XXXX":return Yu(Gu.basicOptionalSeconds,r);case"XXXXX":return Yu(Gu.extendedOptionalSeconds,r);case"XXX":default:return Yu(Gu.extended,r)}}set(r,n,s){return n.timestampIsSet?r:xa(r,r.getTime()-hj(r)-s)}}class Txe extends ra{constructor(){super(...arguments);Jt(this,"priority",10);Jt(this,"incompatibleTokens",["t","T","X"])}parse(r,n){switch(n){case"x":return Yu(Gu.basicOptionalMinutes,r);case"xx":return Yu(Gu.basic,r);case"xxxx":return Yu(Gu.basicOptionalSeconds,r);case"xxxxx":return Yu(Gu.extendedOptionalSeconds,r);case"xxx":default:return Yu(Gu.extended,r)}}set(r,n,s){return n.timestampIsSet?r:xa(r,r.getTime()-hj(r)-s)}}class Mxe extends ra{constructor(){super(...arguments);Jt(this,"priority",40);Jt(this,"incompatibleTokens","*")}parse(r){return hX(r)}set(r,n,s){return[xa(r,s*1e3),{timestampIsSet:!0}]}}class Exe extends ra{constructor(){super(...arguments);Jt(this,"priority",20);Jt(this,"incompatibleTokens","*")}parse(r){return hX(r)}set(r,n,s){return[xa(r,s),{timestampIsSet:!0}]}}const Oxe={G:new Jge,y:new Xge,Y:new Qge,R:new Zge,u:new exe,Q:new txe,q:new rxe,M:new nxe,L:new axe,w:new ixe,I:new lxe,d:new dxe,D:new fxe,E:new hxe,e:new mxe,c:new pxe,i:new xxe,a:new bxe,b:new yxe,B:new vxe,h:new wxe,H:new jxe,K:new Nxe,k:new Sxe,m:new kxe,s:new Cxe,S:new _xe,X:new Axe,x:new Txe,t:new Mxe,T:new Exe},Dxe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Pxe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Lxe=/^'([^]*?)'?$/,Rxe=/''/g,Ixe=/\S/,Fxe=/[a-zA-Z]/;function Bxe(t,e,r,n){var y,N,k,S,T,_,D,E;const s=()=>xa((n==null?void 0:n.in)||r,NaN),i=zge(),o=(n==null?void 0:n.locale)??i.locale??cX,l=(n==null?void 0:n.firstWeekContainsDate)??((N=(y=n==null?void 0:n.locale)==null?void 0:y.options)==null?void 0:N.firstWeekContainsDate)??i.firstWeekContainsDate??((S=(k=i.locale)==null?void 0:k.options)==null?void 0:S.firstWeekContainsDate)??1,c=(n==null?void 0:n.weekStartsOn)??((_=(T=n==null?void 0:n.locale)==null?void 0:T.options)==null?void 0:_.weekStartsOn)??i.weekStartsOn??((E=(D=i.locale)==null?void 0:D.options)==null?void 0:E.weekStartsOn)??0;if(!e)return t?s():Ar(r,n==null?void 0:n.in);const u={firstWeekContainsDate:l,weekStartsOn:c,locale:o},f=[new Kge(n==null?void 0:n.in,r)],h=e.match(Pxe).map(L=>{const R=L[0];if(R in oM){const F=oM[R];return F(L,o.formatLong)}return L}).join("").match(Dxe),g=[];for(let L of h){const R=L[0],F=Oxe[R];if(F){const{incompatibleTokens:A}=F;if(Array.isArray(A)){const B=g.find(z=>A.includes(z.token)||z.token===R);if(B)throw new RangeError(`The format string mustn't contain \`${B.fullToken}\` and \`${L}\` at the same time`)}else if(F.incompatibleTokens==="*"&&g.length>0)throw new RangeError(`The format string mustn't contain \`${L}\` and any other token at the same time`);g.push({token:R,fullToken:L});const M=F.run(t,L,o.match,u);if(!M)return s();f.push(M.setter),t=M.rest}else{if(R.match(Fxe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+R+"`");if(L==="''"?L="'":R==="'"&&(L=$xe(L)),t.indexOf(L)===0)t=t.slice(L.length);else return s()}}if(t.length>0&&Ixe.test(t))return s();const p=f.map(L=>L.priority).sort((L,R)=>R-L).filter((L,R,F)=>F.indexOf(L)===R).map(L=>f.filter(R=>R.priority===L).sort((R,F)=>F.subPriority-R.subPriority)).map(L=>L[0]);let v=Ar(r,n==null?void 0:n.in);if(isNaN(+v))return s();const w={};for(const L of p){if(!L.validate(v,u))return s();const R=L.set(v,w,u);Array.isArray(R)?(v=R[0],Object.assign(w,R[1])):v=R}return v}function $xe(t){return t.match(Lxe)[1].replace(Rxe,"'")}function Hxe(t,e,r){const[n,s]=zf(r==null?void 0:r.in,t,e);return n.getFullYear()===s.getFullYear()&&n.getMonth()===s.getMonth()}function zxe(t,e,r){const[n,s]=zf(r==null?void 0:r.in,t,e);return+iM(n)==+iM(s)}function qxe(t,e,r){const[n,s]=zf(r==null?void 0:r.in,t,e);return n.getFullYear()===s.getFullYear()}function Qy(t,e,r){const n=+Ar(t,r==null?void 0:r.in),[s,i]=[+Ar(e.start,r==null?void 0:r.in),+Ar(e.end,r==null?void 0:r.in)].sort((o,l)=>o-l);return n>=s&&n<=i}function Uxe(t,e,r){return ou(t,-1,r)}function Wxe(t,e){const r=()=>xa(e==null?void 0:e.in,NaN),s=Kxe(t);let i;if(s.date){const u=Jxe(s.date,2);i=Xxe(u.restDateString,u.year)}if(!i||isNaN(+i))return r();const o=+i;let l=0,c;if(s.time&&(l=Qxe(s.time),isNaN(l)))return r();if(s.timezone){if(c=Zxe(s.timezone),isNaN(c))return r()}else{const u=new Date(o+l),f=Ar(0,e==null?void 0:e.in);return f.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),f.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),f}return Ar(o+l+c,e==null?void 0:e.in)}const kw={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Vxe=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Gxe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Yxe=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Kxe(t){const e={},r=t.split(kw.dateTimeDelimiter);let n;if(r.length>2)return e;if(/:/.test(r[0])?n=r[0]:(e.date=r[0],n=r[1],kw.timeZoneDelimiter.test(e.date)&&(e.date=t.split(kw.timeZoneDelimiter)[0],n=t.substr(e.date.length,t.length))),n){const s=kw.timezone.exec(n);s?(e.time=n.replace(s[1],""),e.timezone=s[1]):e.time=n}return e}function Jxe(t,e){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=t.match(r);if(!n)return{year:NaN,restDateString:""};const s=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:i===null?s:i*100,restDateString:t.slice((n[1]||n[2]).length)}}function Xxe(t,e){if(e===null)return new Date(NaN);const r=t.match(Vxe);if(!r)return new Date(NaN);const n=!!r[4],s=Ib(r[1]),i=Ib(r[2])-1,o=Ib(r[3]),l=Ib(r[4]),c=Ib(r[5])-1;if(n)return abe(e,l,c)?ebe(e,l,c):new Date(NaN);{const u=new Date(0);return!rbe(e,i,o)||!nbe(e,s)?new Date(NaN):(u.setUTCFullYear(e,i,Math.max(s,o)),u)}}function Ib(t){return t?parseInt(t):1}function Qxe(t){const e=t.match(Gxe);if(!e)return NaN;const r=_C(e[1]),n=_C(e[2]),s=_C(e[3]);return sbe(r,n,s)?r*PN+n*DN+s*1e3:NaN}function _C(t){return t&&parseFloat(t.replace(",","."))||0}function Zxe(t){if(t==="Z")return 0;const e=t.match(Yxe);if(!e)return 0;const r=e[1]==="+"?-1:1,n=parseInt(e[2]),s=e[3]&&parseInt(e[3])||0;return ibe(n,s)?r*(n*PN+s*DN):NaN}function ebe(t,e,r){const n=new Date(0);n.setUTCFullYear(t,0,4);const s=n.getUTCDay()||7,i=(e-1)*7+r+1-s;return n.setUTCDate(n.getUTCDate()+i),n}const tbe=[31,null,31,30,31,30,31,31,30,31,30,31];function gX(t){return t%400===0||t%4===0&&t%100!==0}function rbe(t,e,r){return e>=0&&e<=11&&r>=1&&r<=(tbe[e]||(gX(t)?29:28))}function nbe(t,e){return e>=1&&e<=(gX(t)?366:365)}function abe(t,e,r){return e>=1&&e<=53&&r>=0&&r<=6}function sbe(t,e,r){return t===24?e===0&&r===0:r>=0&&r<60&&e>=0&&e<60&&t>=0&&t<25}function ibe(t,e){return e>=0&&e<=59}function oc(t,e,r){const n=Ar(t,r==null?void 0:r.in),s=n.getFullYear(),i=n.getDate(),o=xa(t,0);o.setFullYear(s,e,15),o.setHours(0,0,0,0);const l=Hge(o);return n.setMonth(e,Math.min(i,l)),n}function D2(t,e,r){const n=Ar(t,r==null?void 0:r.in);return n.setHours(e),n}function P2(t,e,r){const n=Ar(t,r==null?void 0:r.in);return n.setMinutes(e),n}function sg(t,e,r){const n=Ar(t,r==null?void 0:r.in),s=Math.trunc(n.getMonth()/3)+1,i=e-s;return oc(n,n.getMonth()+i*3)}function L2(t,e,r){const n=Ar(t,r==null?void 0:r.in);return n.setSeconds(e),n}function qu(t,e,r){const n=Ar(t,r==null?void 0:r.in);return isNaN(+n)?xa(t,NaN):(n.setFullYear(e),n)}function jp(t,e,r){return du(t,-e,r)}function xX(t,e,r){return CD(t,-1,r)}function QI(t,e,r){return mj(t,-1,r)}function Yg(t,e,r){return wf(t,-e,r)}function RN(){return typeof window<"u"}function Ix(t){return bX(t)?(t.nodeName||"").toLowerCase():"#document"}function Ml(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function md(t){var e;return(e=(bX(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function bX(t){return RN()?t instanceof Node||t instanceof Ml(t).Node:!1}function Do(t){return RN()?t instanceof Element||t instanceof Ml(t).Element:!1}function ld(t){return RN()?t instanceof HTMLElement||t instanceof Ml(t).HTMLElement:!1}function ZI(t){return!RN()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ml(t).ShadowRoot}const obe=new Set(["inline","contents"]);function s1(t){const{overflow:e,overflowX:r,overflowY:n,display:s}=vc(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!obe.has(s)}const lbe=new Set(["table","td","th"]);function cbe(t){return lbe.has(Ix(t))}const ube=[":popover-open",":modal"];function IN(t){return ube.some(e=>{try{return t.matches(e)}catch{return!1}})}const dbe=["transform","translate","scale","rotate","perspective"],fbe=["transform","translate","scale","rotate","perspective","filter"],hbe=["paint","layout","strict","content"];function ED(t){const e=OD(),r=Do(t)?vc(t):t;return dbe.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||fbe.some(n=>(r.willChange||"").includes(n))||hbe.some(n=>(r.contain||"").includes(n))}function mbe(t){let e=dm(t);for(;ld(e)&&!Kg(e);){if(ED(e))return e;if(IN(e))return null;e=dm(e)}return null}function OD(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const pbe=new Set(["html","body","#document"]);function Kg(t){return pbe.has(Ix(t))}function vc(t){return Ml(t).getComputedStyle(t)}function FN(t){return Do(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function dm(t){if(Ix(t)==="html")return t;const e=t.assignedSlot||t.parentNode||ZI(t)&&t.host||md(t);return ZI(e)?e.host:e}function yX(t){const e=dm(t);return Kg(e)?t.ownerDocument?t.ownerDocument.body:t.body:ld(e)&&s1(e)?e:yX(e)}function Zy(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const s=yX(t),i=s===((n=t.ownerDocument)==null?void 0:n.body),o=Ml(s);if(i){const l=cM(o);return e.concat(o,o.visualViewport||[],s1(s)?s:[],l&&r?Zy(l):[])}return e.concat(s,Zy(s,[],r))}function cM(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}const Jg=Math.min,Np=Math.max,vj=Math.round,Cw=Math.floor,rd=t=>({x:t,y:t}),gbe={left:"right",right:"left",bottom:"top",top:"bottom"},xbe={start:"end",end:"start"};function bbe(t,e,r){return Np(t,Jg(e,r))}function BN(t,e){return typeof t=="function"?t(e):t}function Xg(t){return t.split("-")[0]}function i1(t){return t.split("-")[1]}function ybe(t){return t==="x"?"y":"x"}function DD(t){return t==="y"?"height":"width"}const vbe=new Set(["top","bottom"]);function ip(t){return vbe.has(Xg(t))?"y":"x"}function PD(t){return ybe(ip(t))}function wbe(t,e,r){r===void 0&&(r=!1);const n=i1(t),s=PD(t),i=DD(s);let o=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=wj(o)),[o,wj(o)]}function jbe(t){const e=wj(t);return[uM(t),e,uM(e)]}function uM(t){return t.replace(/start|end/g,e=>xbe[e])}const e9=["left","right"],t9=["right","left"],Nbe=["top","bottom"],Sbe=["bottom","top"];function kbe(t,e,r){switch(t){case"top":case"bottom":return r?e?t9:e9:e?e9:t9;case"left":case"right":return e?Nbe:Sbe;default:return[]}}function Cbe(t,e,r,n){const s=i1(t);let i=kbe(Xg(t),r==="start",n);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(uM)))),i}function wj(t){return t.replace(/left|right|bottom|top/g,e=>gbe[e])}function _be(t){return{top:0,right:0,bottom:0,left:0,...t}}function vX(t){return typeof t!="number"?_be(t):{top:t,right:t,bottom:t,left:t}}function jj(t){const{x:e,y:r,width:n,height:s}=t;return{width:n,height:s,top:r,left:e,right:e+n,bottom:r+s,x:e,y:r}}var Abe=typeof document<"u",Tbe=function(){},Nj=Abe?b.useLayoutEffect:Tbe;const Mbe={...rj},Ebe=Mbe.useInsertionEffect,Obe=Ebe||(t=>t());function Dbe(t){const e=b.useRef(()=>{});return Obe(()=>{e.current=t}),b.useCallback(function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return e.current==null?void 0:e.current(...n)},[])}function r9(t,e,r){let{reference:n,floating:s}=t;const i=ip(e),o=PD(e),l=DD(o),c=Xg(e),u=i==="y",f=n.x+n.width/2-s.width/2,h=n.y+n.height/2-s.height/2,g=n[l]/2-s[l]/2;let p;switch(c){case"top":p={x:f,y:n.y-s.height};break;case"bottom":p={x:f,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:h};break;case"left":p={x:n.x-s.width,y:h};break;default:p={x:n.x,y:n.y}}switch(i1(e)){case"start":p[o]-=g*(r&&u?-1:1);break;case"end":p[o]+=g*(r&&u?-1:1);break}return p}const Pbe=async(t,e,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:f,y:h}=r9(u,n,c),g=n,p={},v=0;for(let w=0;w<l.length;w++){const{name:y,fn:N}=l[w],{x:k,y:S,data:T,reset:_}=await N({x:f,y:h,initialPlacement:n,placement:g,strategy:s,middlewareData:p,rects:u,platform:o,elements:{reference:t,floating:e}});f=k??f,h=S??h,p={...p,[y]:{...p[y],...T}},_&&v<=50&&(v++,typeof _=="object"&&(_.placement&&(g=_.placement),_.rects&&(u=_.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):_.rects),{x:f,y:h}=r9(u,g,c)),w=-1)}return{x:f,y:h,placement:g,strategy:s,middlewareData:p}};async function Lbe(t,e){var r;e===void 0&&(e={});const{x:n,y:s,platform:i,rects:o,elements:l,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:h="floating",altBoundary:g=!1,padding:p=0}=BN(e,t),v=vX(p),y=l[g?h==="floating"?"reference":"floating":h],N=jj(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(y)))==null||r?y:y.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:f,strategy:c})),k=h==="floating"?{x:n,y:s,width:o.floating.width,height:o.floating.height}:o.reference,S=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),T=await(i.isElement==null?void 0:i.isElement(S))?await(i.getScale==null?void 0:i.getScale(S))||{x:1,y:1}:{x:1,y:1},_=jj(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:k,offsetParent:S,strategy:c}):k);return{top:(N.top-_.top+v.top)/T.y,bottom:(_.bottom-N.bottom+v.bottom)/T.y,left:(N.left-_.left+v.left)/T.x,right:(_.right-N.right+v.right)/T.x}}const Rbe=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:s,rects:i,platform:o,elements:l,middlewareData:c}=e,{element:u,padding:f=0}=BN(t,e)||{};if(u==null)return{};const h=vX(f),g={x:r,y:n},p=PD(s),v=DD(p),w=await o.getDimensions(u),y=p==="y",N=y?"top":"left",k=y?"bottom":"right",S=y?"clientHeight":"clientWidth",T=i.reference[v]+i.reference[p]-g[p]-i.floating[v],_=g[p]-i.reference[p],D=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let E=D?D[S]:0;(!E||!await(o.isElement==null?void 0:o.isElement(D)))&&(E=l.floating[S]||i.floating[v]);const L=T/2-_/2,R=E/2-w[v]/2-1,F=Jg(h[N],R),A=Jg(h[k],R),M=F,B=E-w[v]-A,z=E/2-w[v]/2+L,Y=bbe(M,z,B),W=!c.arrow&&i1(s)!=null&&z!==Y&&i.reference[v]/2-(z<M?F:A)-w[v]/2<0,H=W?z<M?z-M:z-B:0;return{[p]:g[p]+H,data:{[p]:Y,centerOffset:z-Y-H,...W&&{alignmentOffset:H}},reset:W}}}),Ibe=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:s,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:u}=e,{mainAxis:f=!0,crossAxis:h=!0,fallbackPlacements:g,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:w=!0,...y}=BN(t,e);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const N=Xg(s),k=ip(l),S=Xg(l)===l,T=await(c.isRTL==null?void 0:c.isRTL(u.floating)),_=g||(S||!w?[wj(l)]:jbe(l)),D=v!=="none";!g&&D&&_.push(...Cbe(l,w,v,T));const E=[l,..._],L=await Lbe(e,y),R=[];let F=((n=i.flip)==null?void 0:n.overflows)||[];if(f&&R.push(L[N]),h){const z=wbe(s,o,T);R.push(L[z[0]],L[z[1]])}if(F=[...F,{placement:s,overflows:R}],!R.every(z=>z<=0)){var A,M;const z=(((A=i.flip)==null?void 0:A.index)||0)+1,Y=E[z];if(Y&&(!(h==="alignment"?k!==ip(Y):!1)||F.every(q=>ip(q.placement)===k?q.overflows[0]>0:!0)))return{data:{index:z,overflows:F},reset:{placement:Y}};let W=(M=F.filter(H=>H.overflows[0]<=0).sort((H,q)=>H.overflows[1]-q.overflows[1])[0])==null?void 0:M.placement;if(!W)switch(p){case"bestFit":{var B;const H=(B=F.filter(q=>{if(D){const X=ip(q.placement);return X===k||X==="y"}return!0}).map(q=>[q.placement,q.overflows.filter(X=>X>0).reduce((X,oe)=>X+oe,0)]).sort((q,X)=>q[1]-X[1])[0])==null?void 0:B[0];H&&(W=H);break}case"initialPlacement":W=l;break}if(s!==W)return{reset:{placement:W}}}return{}}}},Fbe=new Set(["left","top"]);async function Bbe(t,e){const{placement:r,platform:n,elements:s}=t,i=await(n.isRTL==null?void 0:n.isRTL(s.floating)),o=Xg(r),l=i1(r),c=ip(r)==="y",u=Fbe.has(o)?-1:1,f=i&&c?-1:1,h=BN(e,t);let{mainAxis:g,crossAxis:p,alignmentAxis:v}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof v=="number"&&(p=l==="end"?v*-1:v),c?{x:p*f,y:g*u}:{x:g*u,y:p*f}}const $be=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:s,y:i,placement:o,middlewareData:l}=e,c=await Bbe(e,t);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}};function wX(t){const e=vc(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const s=ld(t),i=s?t.offsetWidth:r,o=s?t.offsetHeight:n,l=vj(r)!==i||vj(n)!==o;return l&&(r=i,n=o),{width:r,height:n,$:l}}function LD(t){return Do(t)?t:t.contextElement}function _g(t){const e=LD(t);if(!ld(e))return rd(1);const r=e.getBoundingClientRect(),{width:n,height:s,$:i}=wX(e);let o=(i?vj(r.width):r.width)/n,l=(i?vj(r.height):r.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const Hbe=rd(0);function jX(t){const e=Ml(t);return!OD()||!e.visualViewport?Hbe:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function zbe(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==Ml(t)?!1:e}function Lp(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const s=t.getBoundingClientRect(),i=LD(t);let o=rd(1);e&&(n?Do(n)&&(o=_g(n)):o=_g(t));const l=zbe(i,r,n)?jX(i):rd(0);let c=(s.left+l.x)/o.x,u=(s.top+l.y)/o.y,f=s.width/o.x,h=s.height/o.y;if(i){const g=Ml(i),p=n&&Do(n)?Ml(n):n;let v=g,w=cM(v);for(;w&&n&&p!==v;){const y=_g(w),N=w.getBoundingClientRect(),k=vc(w),S=N.left+(w.clientLeft+parseFloat(k.paddingLeft))*y.x,T=N.top+(w.clientTop+parseFloat(k.paddingTop))*y.y;c*=y.x,u*=y.y,f*=y.x,h*=y.y,c+=S,u+=T,v=Ml(w),w=cM(v)}}return jj({width:f,height:h,x:c,y:u})}function $N(t,e){const r=FN(t).scrollLeft;return e?e.left+r:Lp(md(t)).left+r}function NX(t,e){const r=t.getBoundingClientRect(),n=r.left+e.scrollLeft-$N(t,r),s=r.top+e.scrollTop;return{x:n,y:s}}function qbe(t){let{elements:e,rect:r,offsetParent:n,strategy:s}=t;const i=s==="fixed",o=md(n),l=e?IN(e.floating):!1;if(n===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},u=rd(1);const f=rd(0),h=ld(n);if((h||!h&&!i)&&((Ix(n)!=="body"||s1(o))&&(c=FN(n)),ld(n))){const p=Lp(n);u=_g(n),f.x=p.x+n.clientLeft,f.y=p.y+n.clientTop}const g=o&&!h&&!i?NX(o,c):rd(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+f.x+g.x,y:r.y*u.y-c.scrollTop*u.y+f.y+g.y}}function Ube(t){return Array.from(t.getClientRects())}function Wbe(t){const e=md(t),r=FN(t),n=t.ownerDocument.body,s=Np(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),i=Np(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+$N(t);const l=-r.scrollTop;return vc(n).direction==="rtl"&&(o+=Np(e.clientWidth,n.clientWidth)-s),{width:s,height:i,x:o,y:l}}const n9=25;function Vbe(t,e){const r=Ml(t),n=md(t),s=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,l=0,c=0;if(s){i=s.width,o=s.height;const f=OD();(!f||f&&e==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}const u=$N(n);if(u<=0){const f=n.ownerDocument,h=f.body,g=getComputedStyle(h),p=f.compatMode==="CSS1Compat"&&parseFloat(g.marginLeft)+parseFloat(g.marginRight)||0,v=Math.abs(n.clientWidth-h.clientWidth-p);v<=n9&&(i-=v)}else u<=n9&&(i+=u);return{width:i,height:o,x:l,y:c}}const Gbe=new Set(["absolute","fixed"]);function Ybe(t,e){const r=Lp(t,!0,e==="fixed"),n=r.top+t.clientTop,s=r.left+t.clientLeft,i=ld(t)?_g(t):rd(1),o=t.clientWidth*i.x,l=t.clientHeight*i.y,c=s*i.x,u=n*i.y;return{width:o,height:l,x:c,y:u}}function a9(t,e,r){let n;if(e==="viewport")n=Vbe(t,r);else if(e==="document")n=Wbe(md(t));else if(Do(e))n=Ybe(e,r);else{const s=jX(t);n={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return jj(n)}function SX(t,e){const r=dm(t);return r===e||!Do(r)||Kg(r)?!1:vc(r).position==="fixed"||SX(r,e)}function Kbe(t,e){const r=e.get(t);if(r)return r;let n=Zy(t,[],!1).filter(l=>Do(l)&&Ix(l)!=="body"),s=null;const i=vc(t).position==="fixed";let o=i?dm(t):t;for(;Do(o)&&!Kg(o);){const l=vc(o),c=ED(o);!c&&l.position==="fixed"&&(s=null),(i?!c&&!s:!c&&l.position==="static"&&!!s&&Gbe.has(s.position)||s1(o)&&!c&&SX(t,o))?n=n.filter(f=>f!==o):s=l,o=dm(o)}return e.set(t,n),n}function Jbe(t){let{element:e,boundary:r,rootBoundary:n,strategy:s}=t;const o=[...r==="clippingAncestors"?IN(e)?[]:Kbe(e,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,f)=>{const h=a9(e,f,s);return u.top=Np(h.top,u.top),u.right=Jg(h.right,u.right),u.bottom=Jg(h.bottom,u.bottom),u.left=Np(h.left,u.left),u},a9(e,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Xbe(t){const{width:e,height:r}=wX(t);return{width:e,height:r}}function Qbe(t,e,r){const n=ld(e),s=md(e),i=r==="fixed",o=Lp(t,!0,i,e);let l={scrollLeft:0,scrollTop:0};const c=rd(0);function u(){c.x=$N(s)}if(n||!n&&!i)if((Ix(e)!=="body"||s1(s))&&(l=FN(e)),n){const p=Lp(e,!0,i,e);c.x=p.x+e.clientLeft,c.y=p.y+e.clientTop}else s&&u();i&&!n&&s&&u();const f=s&&!n&&!i?NX(s,l):rd(0),h=o.left+l.scrollLeft-c.x-f.x,g=o.top+l.scrollTop-c.y-f.y;return{x:h,y:g,width:o.width,height:o.height}}function AC(t){return vc(t).position==="static"}function s9(t,e){if(!ld(t)||vc(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return md(t)===r&&(r=r.ownerDocument.body),r}function kX(t,e){const r=Ml(t);if(IN(t))return r;if(!ld(t)){let s=dm(t);for(;s&&!Kg(s);){if(Do(s)&&!AC(s))return s;s=dm(s)}return r}let n=s9(t,e);for(;n&&cbe(n)&&AC(n);)n=s9(n,e);return n&&Kg(n)&&AC(n)&&!ED(n)?r:n||mbe(t)||r}const Zbe=async function(t){const e=this.getOffsetParent||kX,r=this.getDimensions,n=await r(t.floating);return{reference:Qbe(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function eye(t){return vc(t).direction==="rtl"}const tye={convertOffsetParentRelativeRectToViewportRelativeRect:qbe,getDocumentElement:md,getClippingRect:Jbe,getOffsetParent:kX,getElementRects:Zbe,getClientRects:Ube,getDimensions:Xbe,getScale:_g,isElement:Do,isRTL:eye};function CX(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function rye(t,e){let r=null,n;const s=md(t);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=t.getBoundingClientRect(),{left:f,top:h,width:g,height:p}=u;if(l||e(),!g||!p)return;const v=Cw(h),w=Cw(s.clientWidth-(f+g)),y=Cw(s.clientHeight-(h+p)),N=Cw(f),S={rootMargin:-v+"px "+-w+"px "+-y+"px "+-N+"px",threshold:Np(0,Jg(1,c))||1};let T=!0;function _(D){const E=D[0].intersectionRatio;if(E!==c){if(!T)return o();E?o(!1,E):n=setTimeout(()=>{o(!1,1e-7)},1e3)}E===1&&!CX(u,t.getBoundingClientRect())&&o(),T=!1}try{r=new IntersectionObserver(_,{...S,root:s.ownerDocument})}catch{r=new IntersectionObserver(_,S)}r.observe(t)}return o(!0),i}function _X(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=LD(t),f=s||i?[...u?Zy(u):[],...Zy(e)]:[];f.forEach(N=>{s&&N.addEventListener("scroll",r,{passive:!0}),i&&N.addEventListener("resize",r)});const h=u&&l?rye(u,r):null;let g=-1,p=null;o&&(p=new ResizeObserver(N=>{let[k]=N;k&&k.target===u&&p&&(p.unobserve(e),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var S;(S=p)==null||S.observe(e)})),r()}),u&&!c&&p.observe(u),p.observe(e));let v,w=c?Lp(t):null;c&&y();function y(){const N=Lp(t);w&&!CX(w,N)&&r(),w=N,v=requestAnimationFrame(y)}return r(),()=>{var N;f.forEach(k=>{s&&k.removeEventListener("scroll",r),i&&k.removeEventListener("resize",r)}),h==null||h(),(N=p)==null||N.disconnect(),p=null,c&&cancelAnimationFrame(v)}}const nye=$be,aye=Ibe,i9=Rbe,sye=(t,e,r)=>{const n=new Map,s={platform:tye,...r},i={...s.platform,_c:n};return Pbe(t,e,{...s,platform:i})};var iye=typeof document<"u",oye=function(){},R2=iye?b.useLayoutEffect:oye;function Sj(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!Sj(t[n],e[n]))return!1;return!0}if(s=Object.keys(t),r=s.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,s[n]))return!1;for(n=r;n--!==0;){const i=s[n];if(!(i==="_owner"&&t.$$typeof)&&!Sj(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function AX(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function o9(t,e){const r=AX(t);return Math.round(e*r)/r}function TC(t){const e=b.useRef(t);return R2(()=>{e.current=t}),e}function lye(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=t,[f,h]=b.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[g,p]=b.useState(n);Sj(g,n)||p(n);const[v,w]=b.useState(null),[y,N]=b.useState(null),k=b.useCallback(q=>{q!==D.current&&(D.current=q,w(q))},[]),S=b.useCallback(q=>{q!==E.current&&(E.current=q,N(q))},[]),T=i||v,_=o||y,D=b.useRef(null),E=b.useRef(null),L=b.useRef(f),R=c!=null,F=TC(c),A=TC(s),M=TC(u),B=b.useCallback(()=>{if(!D.current||!E.current)return;const q={placement:e,strategy:r,middleware:g};A.current&&(q.platform=A.current),sye(D.current,E.current,q).then(X=>{const oe={...X,isPositioned:M.current!==!1};z.current&&!Sj(L.current,oe)&&(L.current=oe,$O.flushSync(()=>{h(oe)}))})},[g,e,r,A,M]);R2(()=>{u===!1&&L.current.isPositioned&&(L.current.isPositioned=!1,h(q=>({...q,isPositioned:!1})))},[u]);const z=b.useRef(!1);R2(()=>(z.current=!0,()=>{z.current=!1}),[]),R2(()=>{if(T&&(D.current=T),_&&(E.current=_),T&&_){if(F.current)return F.current(T,_,B);B()}},[T,_,B,F,R]);const Y=b.useMemo(()=>({reference:D,floating:E,setReference:k,setFloating:S}),[k,S]),W=b.useMemo(()=>({reference:T,floating:_}),[T,_]),H=b.useMemo(()=>{const q={position:r,left:0,top:0};if(!W.floating)return q;const X=o9(W.floating,f.x),oe=o9(W.floating,f.y);return l?{...q,transform:"translate("+X+"px, "+oe+"px)",...AX(W.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:X,top:oe}},[r,l,W.floating,f.x,f.y]);return b.useMemo(()=>({...f,update:B,refs:Y,elements:W,floatingStyles:H}),[f,B,Y,W,H])}const cye=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:s}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?i9({element:n.current,padding:s}).fn(r):{}:n?i9({element:n,padding:s}).fn(r):{}}}},uye=(t,e)=>({...nye(t),options:[t,e]}),dye=(t,e)=>({...aye(t),options:[t,e]}),fye=(t,e)=>({...cye(t),options:[t,e]}),hye={...rj};let l9=!1,mye=0;const c9=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+mye++;function pye(){const[t,e]=b.useState(()=>l9?c9():void 0);return Nj(()=>{t==null&&e(c9())},[]),b.useEffect(()=>{l9=!0},[]),t}const gye=hye.useId,TX=gye||pye,xye=b.forwardRef(function(e,r){const{context:{placement:n,elements:{floating:s},middlewareData:{arrow:i,shift:o}},width:l=14,height:c=7,tipRadius:u=0,strokeWidth:f=0,staticOffset:h,stroke:g,d:p,style:{transform:v,...w}={},...y}=e,N=TX(),[k,S]=b.useState(!1);if(Nj(()=>{if(!s)return;vc(s).direction==="rtl"&&S(!0)},[s]),!s)return null;const[T,_]=n.split("-"),D=T==="top"||T==="bottom";let E=h;(D&&o!=null&&o.x||!D&&o!=null&&o.y)&&(E=null);const L=f*2,R=L/2,F=l/2*(u/-8+1),A=c/2*u/4,M=!!p,B=E&&_==="end"?"bottom":"top";let z=E&&_==="end"?"right":"left";E&&k&&(z=_==="end"?"left":"right");const Y=(i==null?void 0:i.x)!=null?E||i.x:"",W=(i==null?void 0:i.y)!=null?E||i.y:"",H=p||"M0,0"+(" H"+l)+(" L"+(l-F)+","+(c-A))+(" Q"+l/2+","+c+" "+F+","+(c-A))+" Z",q={top:M?"rotate(180deg)":"",left:M?"rotate(90deg)":"rotate(-90deg)",bottom:M?"":"rotate(180deg)",right:M?"rotate(-90deg)":"rotate(90deg)"}[T];return a.jsxs("svg",{...y,"aria-hidden":!0,ref:r,width:M?l:l+L,height:l,viewBox:"0 0 "+l+" "+(c>l?c:l),style:{position:"absolute",pointerEvents:"none",[z]:Y,[B]:W,[T]:D||M?"100%":"calc(100% - "+L/2+"px)",transform:[q,v].filter(X=>!!X).join(" "),...w},children:[L>0&&a.jsx("path",{clipPath:"url(#"+N+")",fill:"none",stroke:g,strokeWidth:L+(p?0:1),d:H}),a.jsx("path",{stroke:L&&!p?y.fill:"none",d:H}),a.jsx("clipPath",{id:N,children:a.jsx("rect",{x:-R,y:R*(M?-1:1),width:l+L,height:l})})]})});function bye(){const t=new Map;return{emit(e,r){var n;(n=t.get(e))==null||n.forEach(s=>s(r))},on(e,r){t.has(e)||t.set(e,new Set),t.get(e).add(r)},off(e,r){var n;(n=t.get(e))==null||n.delete(r)}}}const yye=b.createContext(null),vye=b.createContext(null),wye=()=>{var t;return((t=b.useContext(yye))==null?void 0:t.id)||null},jye=()=>b.useContext(vye);function Nye(t){const{open:e=!1,onOpenChange:r,elements:n}=t,s=TX(),i=b.useRef({}),[o]=b.useState(()=>bye()),l=wye()!=null,[c,u]=b.useState(n.reference),f=Dbe((p,v,w)=>{i.current.openEvent=p?v:void 0,o.emit("openchange",{open:p,event:v,reason:w,nested:l}),r==null||r(p,v,w)}),h=b.useMemo(()=>({setPositionReference:u}),[]),g=b.useMemo(()=>({reference:c||n.reference||null,floating:n.floating||null,domReference:n.reference}),[c,n.reference,n.floating]);return b.useMemo(()=>({dataRef:i,open:e,onOpenChange:f,elements:g,events:o,floatingId:s,refs:h}),[e,f,g,o,s,h])}function Sye(t){t===void 0&&(t={});const{nodeId:e}=t,r=Nye({...t,elements:{reference:null,floating:null,...t.elements}}),n=t.rootContext||r,s=n.elements,[i,o]=b.useState(null),[l,c]=b.useState(null),f=(s==null?void 0:s.domReference)||i,h=b.useRef(null),g=jye();Nj(()=>{f&&(h.current=f)},[f]);const p=lye({...t,elements:{...s,...l&&{reference:l}}}),v=b.useCallback(S=>{const T=Do(S)?{getBoundingClientRect:()=>S.getBoundingClientRect(),getClientRects:()=>S.getClientRects(),contextElement:S}:S;c(T),p.refs.setReference(T)},[p.refs]),w=b.useCallback(S=>{(Do(S)||S===null)&&(h.current=S,o(S)),(Do(p.refs.reference.current)||p.refs.reference.current===null||S!==null&&!Do(S))&&p.refs.setReference(S)},[p.refs]),y=b.useMemo(()=>({...p.refs,setReference:w,setPositionReference:v,domReference:h}),[p.refs,w,v]),N=b.useMemo(()=>({...p.elements,domReference:f}),[p.elements,f]),k=b.useMemo(()=>({...p,...n,refs:y,elements:N,nodeId:e}),[p,y,N,e,n]);return Nj(()=>{n.dataRef.current.floatingContext=k;const S=g==null?void 0:g.nodesRef.current.find(T=>T.id===e);S&&(S.context=k)}),b.useMemo(()=>({...p,context:k,refs:y,elements:N}),[p,y,N,k])}/*!
  react-datepicker v8.7.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var dM=function(e,r){return dM=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(n[i]=s[i])},dM(e,r)};function Ji(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");dM(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Pn=function(){return Pn=Object.assign||function(r){for(var n,s=1,i=arguments.length;s<i;s++){n=arguments[s];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])}return r},Pn.apply(this,arguments)};function Ju(t,e,r){if(r||arguments.length===2)for(var n=0,s=e.length,i;n<s;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))}var kye=function(t){var e=t.showTimeSelectOnly,r=e===void 0?!1:e,n=t.showTime,s=n===void 0?!1:n,i=t.className,o=t.children,l=r?"Choose Time":"Choose Date".concat(s?" and Time":"");return pe.createElement("div",{className:i,role:"dialog","aria-label":l,"aria-modal":"true"},o)},Cye=function(t,e){var r=b.useRef(null),n=b.useRef(t);n.current=t;var s=b.useCallback(function(i){var o,l=i.composed&&i.composedPath&&i.composedPath().find(function(c){return c instanceof Node})||i.target;r.current&&!r.current.contains(l)&&(e&&l instanceof HTMLElement&&l.classList.contains(e)||(o=n.current)===null||o===void 0||o.call(n,i))},[e]);return b.useEffect(function(){return document.addEventListener("mousedown",s),function(){document.removeEventListener("mousedown",s)}},[s]),r},HN=function(t){var e=t.children,r=t.onClickOutside,n=t.className,s=t.containerRef,i=t.style,o=t.ignoreClass,l=Cye(r,o);return pe.createElement("div",{className:n,style:i,ref:function(c){l.current=c,s&&(s.current=c)}},e)},ur;(function(t){t.ArrowUp="ArrowUp",t.ArrowDown="ArrowDown",t.ArrowLeft="ArrowLeft",t.ArrowRight="ArrowRight",t.PageUp="PageUp",t.PageDown="PageDown",t.Home="Home",t.End="End",t.Enter="Enter",t.Space=" ",t.Tab="Tab",t.Escape="Escape",t.Backspace="Backspace",t.X="x"})(ur||(ur={}));function MX(){var t=typeof window<"u"?window:globalThis;return t}var o1=12;function oa(t){if(t==null)return new Date;var e=typeof t=="string"?Wxe(t):Ar(t);return zN(e)?e:new Date}function MC(t,e,r,n,s){s===void 0&&(s=oa());for(var i=Qg(r)||Qg(RD()),o=Array.isArray(e)?e:[e],l=0,c=o;l<c.length;l++){var u=c[l],f=Bxe(t,u,s,{locale:i});if(zN(f)&&(!n||t===Ja(f,u,r)))return f}return null}function zN(t,e){return pj(t)&&!Ku(t,new Date("1/1/1800"))}function Ja(t,e,r){if(r==="en")return JI(t,e,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var n=r?Qg(r):void 0;return r&&!n&&console.warn('A locale object was not found for the provided string ["'.concat(r,'"].')),n=n||Qg(RD()),JI(t,e,{locale:n,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function ic(t,e){var r=e.dateFormat,n=e.locale,s=Array.isArray(r)&&r.length>0?r[0]:r;return t&&Ja(t,s,n)||""}var EX=" - ";function _ye(t,e,r){if(!t&&!e)return"";var n=t?ic(t,r):"",s=e?ic(e,r):"",i=r.rangeSeparator||EX;return"".concat(n).concat(i).concat(s)}function Aye(t,e){if(!(t!=null&&t.length))return"";var r=t[0]?ic(t[0],e):"";if(t.length===1)return r;if(t.length===2&&t[1]){var n=ic(t[1],e);return"".concat(r,", ").concat(n)}var s=t.length-1;return"".concat(r," (+").concat(s,")")}function EC(t,e){var r=e.hour,n=r===void 0?0:r,s=e.minute,i=s===void 0?0:s,o=e.second,l=o===void 0?0:o;return D2(P2(L2(t,l),i),n)}function Tye(t){return _D(t)}function Mye(t,e){return Ja(t,"ddd",e)}function I2(t){return Pp(t)}function em(t,e,r){var n=Qg(e||RD());return Pf(t,{locale:n,weekStartsOn:r})}function kf(t){return oX(t)}function cy(t){return LN(t)}function u9(t){return iM(t)}function d9(){return Pp(oa())}function f9(t){return sX(t)}function Eye(t){return W0e(t)}function Oye(t){return iX(t)}function Uu(t,e){return t&&e?qxe(t,e):!t&&!e}function To(t,e){return t&&e?Hxe(t,e):!t&&!e}function kj(t,e){return t&&e?zxe(t,e):!t&&!e}function Dn(t,e){return t&&e?q0e(t,e):!t&&!e}function op(t,e){return t&&e?Uge(t,e):!t&&!e}function Xm(t,e,r){var n,s=Pp(e),i=sX(r);try{n=Qy(t,{start:s,end:i})}catch{n=!1}return n}function RD(){var t=MX();return t.__localeId__}function Qg(t){if(typeof t=="string"){var e=MX();return e.__localeData__?e.__localeData__[t]:void 0}else return t}function Dye(t,e,r){return e(Ja(t,"EEEE",r))}function Pye(t,e){return Ja(t,"EEEEEE",e)}function Lye(t,e){return Ja(t,"EEE",e)}function ID(t,e){return Ja(oc(oa(),t),"LLLL",e)}function OX(t,e){return Ja(oc(oa(),t),"LLL",e)}function Rye(t,e){return Ja(sg(oa(),t),"QQQ",e)}function cc(t,e){var r=e===void 0?{}:e,n=r.minDate,s=r.maxDate,i=r.excludeDates,o=r.excludeDateIntervals,l=r.includeDates,c=r.includeDateIntervals,u=r.filterDate;return l1(t,{minDate:n,maxDate:s})||i&&i.some(function(f){return f instanceof Date?Dn(t,f):Dn(t,f.date)})||o&&o.some(function(f){var h=f.start,g=f.end;return Qy(t,{start:h,end:g})})||l&&!l.some(function(f){return Dn(t,f)})||c&&!c.some(function(f){var h=f.start,g=f.end;return Qy(t,{start:h,end:g})})||u&&!u(oa(t))||!1}function FD(t,e){var r=e===void 0?{}:e,n=r.excludeDates,s=r.excludeDateIntervals;return s&&s.length>0?s.some(function(i){var o=i.start,l=i.end;return Qy(t,{start:o,end:l})}):n&&n.some(function(i){var o;return i instanceof Date?Dn(t,i):Dn(t,(o=i.date)!==null&&o!==void 0?o:new Date)})||!1}function DX(t,e){var r=e===void 0?{}:e,n=r.minDate,s=r.maxDate,i=r.excludeDates,o=r.includeDates,l=r.filterDate;return l1(t,{minDate:n?oX(n):void 0,maxDate:s?iX(s):void 0})||(i==null?void 0:i.some(function(c){return To(t,c instanceof Date?c:c.date)}))||o&&!o.some(function(c){return To(t,c)})||l&&!l(oa(t))||!1}function _w(t,e,r,n){var s=jn(t),i=po(t),o=jn(e),l=po(e),c=jn(n);return s===o&&s===c?i<=r&&r<=l:s<o?c===s&&i<=r||c===o&&l>=r||c<o&&c>s:!1}function Iye(t,e){var r=e===void 0?{}:e,n=r.minDate,s=r.maxDate,i=r.excludeDates,o=r.includeDates;return l1(t,{minDate:n,maxDate:s})||i&&i.some(function(l){return To(l instanceof Date?l:l.date,t)})||o&&!o.some(function(l){return To(l,t)})||!1}function Aw(t,e){var r=e===void 0?{}:e,n=r.minDate,s=r.maxDate,i=r.excludeDates,o=r.includeDates,l=r.filterDate;return l1(t,{minDate:n,maxDate:s})||(i==null?void 0:i.some(function(c){return kj(t,c instanceof Date?c:c.date)}))||o&&!o.some(function(c){return kj(t,c)})||l&&!l(oa(t))||!1}function Tw(t,e,r){if(!e||!r||!pj(e)||!pj(r))return!1;var n=jn(e),s=jn(r);return n<=t&&s>=t}function F2(t,e){var r=e===void 0?{}:e,n=r.minDate,s=r.maxDate,i=r.excludeDates,o=r.includeDates,l=r.filterDate,c=new Date(t,0,1);return l1(c,{minDate:n?LN(n):void 0,maxDate:s?lX(s):void 0})||(i==null?void 0:i.some(function(u){return Uu(c,u instanceof Date?u:u.date)}))||o&&!o.some(function(u){return Uu(c,u)})||l&&!l(oa(c))||!1}function Mw(t,e,r,n){var s=jn(t),i=wp(t),o=jn(e),l=wp(e),c=jn(n);return s===o&&s===c?i<=r&&r<=l:s<o?c===s&&i<=r||c===o&&l>=r||c<o&&c>s:!1}function l1(t,e){var r,n=e===void 0?{}:e,s=n.minDate,i=n.maxDate;return(r=s&&Gg(t,s)<0||i&&Gg(t,i)>0)!==null&&r!==void 0?r:!1}function h9(t,e){return e.some(function(r){return Nf(r)===Nf(t)&&Sf(r)===Sf(t)&&Zh(r)===Zh(t)})}function m9(t,e){var r=e===void 0?{}:e,n=r.excludeTimes,s=r.includeTimes,i=r.filterTime;return n&&h9(t,n)||s&&!h9(t,s)||i&&!i(t)||!1}function p9(t,e){var r=e.minTime,n=e.maxTime;if(!r||!n)throw new Error("Both minTime and maxTime props required");var s=oa();s=D2(s,Nf(t)),s=P2(s,Sf(t)),s=L2(s,Zh(t));var i=oa();i=D2(i,Nf(r)),i=P2(i,Sf(r)),i=L2(i,Zh(r));var o=oa();o=D2(o,Nf(n)),o=P2(o,Sf(n)),o=L2(o,Zh(n));var l;try{l=!Qy(s,{start:i,end:o})}catch{l=!1}return l}function g9(t,e){var r=e===void 0?{}:e,n=r.minDate,s=r.includeDates,i=jp(t,1);return n&&gj(n,i)>0||s&&s.every(function(o){return gj(o,i)>0})||!1}function x9(t,e){var r=e===void 0?{}:e,n=r.maxDate,s=r.includeDates,i=du(t,1);return n&&gj(i,n)>0||s&&s.every(function(o){return gj(i,o)>0})||!1}function Fye(t,e){var r=e===void 0?{}:e,n=r.minDate,s=r.includeDates,i=LN(t),o=xX(i);return n&&xj(n,o)>0||s&&s.every(function(l){return xj(l,o)>0})||!1}function Bye(t,e){var r=e===void 0?{}:e,n=r.maxDate,s=r.includeDates,i=lX(t),o=CD(i,1);return n&&xj(o,n)>0||s&&s.every(function(l){return xj(o,l)>0})||!1}function b9(t,e){var r=e===void 0?{}:e,n=r.minDate,s=r.includeDates,i=Yg(t,1);return n&&bj(n,i)>0||s&&s.every(function(o){return bj(o,i)>0})||!1}function $ye(t,e){var r=e===void 0?{}:e,n=r.minDate,s=r.yearItemNumber,i=s===void 0?o1:s,o=cy(Yg(t,i)),l=hf(o,i).endPeriod,c=n&&jn(n);return c&&c>l||!1}function y9(t,e){var r=e===void 0?{}:e,n=r.maxDate,s=r.includeDates,i=wf(t,1);return n&&bj(i,n)>0||s&&s.every(function(o){return bj(i,o)>0})||!1}function Hye(t,e){var r=e===void 0?{}:e,n=r.maxDate,s=r.yearItemNumber,i=s===void 0?o1:s,o=wf(t,i),l=hf(o,i).startPeriod,c=n&&jn(n);return c&&c<l||!1}function PX(t){var e=t.minDate,r=t.includeDates;if(r&&e){var n=r.filter(function(s){return Gg(s,e)>=0});return UI(n)}else return r?UI(r):e}function LX(t){var e=t.maxDate,r=t.includeDates;if(r&&e){var n=r.filter(function(s){return Gg(s,e)<=0});return qI(n)}else return r?qI(r):e}function v9(t,e){var r;t===void 0&&(t=[]),e===void 0&&(e="react-datepicker__day--highlighted");for(var n=new Map,s=0,i=t.length;s<i;s++){var o=t[s];if(jf(o)){var l=Ja(o,"MM.dd.yyyy"),c=n.get(l)||[];c.includes(e)||(c.push(e),n.set(l,c))}else if(typeof o=="object"){var u=Object.keys(o),f=(r=u[0])!==null&&r!==void 0?r:"",h=o[f];if(typeof f=="string"&&Array.isArray(h))for(var g=0,p=h.length;g<p;g++){var v=h[g];if(v){var l=Ja(v,"MM.dd.yyyy"),c=n.get(l)||[];c.includes(f)||(c.push(f),n.set(l,c))}}}}return n}function zye(t,e){return t.length!==e.length?!1:t.every(function(r,n){return r===e[n]})}function qye(t,e){t===void 0&&(t=[]),e===void 0&&(e="react-datepicker__day--holidays");var r=new Map;return t.forEach(function(n){var s=n.date,i=n.holidayName;if(jf(s)){var o=Ja(s,"MM.dd.yyyy"),l=r.get(o)||{className:"",holidayNames:[]};if(!("className"in l&&l.className===e&&zye(l.holidayNames,[i]))){l.className=e;var c=l.holidayNames;l.holidayNames=c?Ju(Ju([],c,!0),[i],!1):[i],r.set(o,l)}}}),r}function Uye(t,e,r,n,s){for(var i=s.length,o=[],l=0;l<i;l++){var c=t,u=s[l];u&&(c=B0e(c,Nf(u)),c=sM(c,Sf(u)),c=z0e(c,Zh(u)));var f=sM(t,(r+1)*n);um(c,e)&&Ku(c,f)&&u!=null&&o.push(u)}return o}function w9(t){return t<10?"0".concat(t):"".concat(t)}function hf(t,e){e===void 0&&(e=o1);var r=Math.ceil(jn(t)/e)*e,n=r-(e-1);return{startPeriod:n,endPeriod:r}}function Wye(t){var e=new Date(t.getFullYear(),t.getMonth(),t.getDate()),r=new Date(t.getFullYear(),t.getMonth(),t.getDate(),24);return Math.round((+r-+e)/36e5)}function j9(t){var e=t.getSeconds(),r=t.getMilliseconds();return Ar(t.getTime()-e*1e3-r)}function Vye(t,e){return j9(t).getTime()===j9(e).getTime()}function N9(t){if(!jf(t))throw new Error("Invalid date");var e=new Date(t);return e.setHours(0,0,0,0),e}function OC(t,e){if(!jf(t)||!jf(e))throw new Error("Invalid date received");var r=N9(t),n=N9(e);return Ku(r,n)}function RX(t){return t.key===ur.Space}var Gye=(function(t){Ji(e,t);function e(r){var n=t.call(this,r)||this;return n.inputRef=pe.createRef(),n.onTimeChange=function(s){var i,o;n.setState({time:s});var l=n.props.date,c=l instanceof Date&&!isNaN(+l),u=c?l:new Date;if(s!=null&&s.includes(":")){var f=s.split(":"),h=f[0],g=f[1];u.setHours(Number(h)),u.setMinutes(Number(g))}(o=(i=n.props).onChange)===null||o===void 0||o.call(i,u)},n.renderTimeInput=function(){var s=n.state.time,i=n.props,o=i.date,l=i.timeString,c=i.customTimeInput;return c?b.cloneElement(c,{date:o,value:s,onChange:n.onTimeChange}):pe.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:n.inputRef,onClick:function(){var u;(u=n.inputRef.current)===null||u===void 0||u.focus()},required:!0,value:s,onChange:function(u){n.onTimeChange(u.target.value||l)}})},n.state={time:n.props.timeString},n}return e.getDerivedStateFromProps=function(r,n){return r.timeString!==n.time?{time:r.timeString}:null},e.prototype.render=function(){return pe.createElement("div",{className:"react-datepicker__input-time-container"},pe.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),pe.createElement("div",{className:"react-datepicker-time__input-container"},pe.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},e})(b.Component),Yye=(function(t){Ji(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.dayEl=b.createRef(),r.handleClick=function(n){!r.isDisabled()&&r.props.onClick&&r.props.onClick(n)},r.handleMouseEnter=function(n){!r.isDisabled()&&r.props.onMouseEnter&&r.props.onMouseEnter(n)},r.handleOnKeyDown=function(n){var s,i,o=n.key;o===ur.Space&&(n.preventDefault(),n.key=ur.Enter),(i=(s=r.props).handleOnKeyDown)===null||i===void 0||i.call(s,n)},r.isSameDay=function(n){return Dn(r.props.day,n)},r.isKeyboardSelected=function(){var n;if(r.props.disabledKeyboardNavigation)return!1;var s=r.props.selectsMultiple?(n=r.props.selectedDates)===null||n===void 0?void 0:n.some(function(o){return r.isSameDayOrWeek(o)}):r.isSameDayOrWeek(r.props.selected),i=r.props.preSelection&&r.isDisabled(r.props.preSelection);return!s&&r.isSameDayOrWeek(r.props.preSelection)&&!i},r.isDisabled=function(n){return n===void 0&&(n=r.props.day),cc(n,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(){return FD(r.props.day,{excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals})},r.isStartOfWeek=function(){return Dn(r.props.day,em(r.props.day,r.props.locale,r.props.calendarStartDay))},r.isSameWeek=function(n){return r.props.showWeekPicker&&Dn(n,em(r.props.day,r.props.locale,r.props.calendarStartDay))},r.isSameDayOrWeek=function(n){return r.isSameDay(n)||r.isSameWeek(n)},r.getHighLightedClass=function(){var n=r.props,s=n.day,i=n.highlightDates;if(!i)return!1;var o=Ja(s,"MM.dd.yyyy");return i.get(o)},r.getHolidaysClass=function(){var n,s=r.props,i=s.day,o=s.holidays;if(!o)return[void 0];var l=Ja(i,"MM.dd.yyyy");return o.has(l)?[(n=o.get(l))===null||n===void 0?void 0:n.className]:[void 0]},r.isInRange=function(){var n=r.props,s=n.day,i=n.startDate,o=n.endDate;return!i||!o?!1:Xm(s,i,o)},r.isInSelectingRange=function(){var n,s=r.props,i=s.day,o=s.selectsStart,l=s.selectsEnd,c=s.selectsRange,u=s.selectsDisabledDaysInRange,f=s.startDate,h=s.swapRange,g=s.endDate,p=(n=r.props.selectingDate)!==null&&n!==void 0?n:r.props.preSelection;if(!(o||l||c)||!p||!u&&r.isDisabled())return!1;if(o&&g&&(Ku(p,g)||op(p,g)))return Xm(i,p,g);if(l&&f&&(um(p,f)||op(p,f)))return Xm(i,f,p);if(c&&f&&!g){if(op(p,f)||um(p,f))return Xm(i,f,p);if(h&&Ku(p,f))return Xm(i,p,f)}return!1},r.isSelectingRangeStart=function(){var n;if(!r.isInSelectingRange())return!1;var s=r.props,i=s.day,o=s.startDate,l=s.selectsStart,c=s.swapRange,u=s.selectsRange,f=(n=r.props.selectingDate)!==null&&n!==void 0?n:r.props.preSelection;return l?Dn(i,f):u&&c&&o&&f?Dn(i,Ku(f,o)?f:o):Dn(i,o)},r.isSelectingRangeEnd=function(){var n;if(!r.isInSelectingRange())return!1;var s=r.props,i=s.day,o=s.endDate,l=s.selectsEnd,c=s.selectsRange,u=s.swapRange,f=s.startDate,h=(n=r.props.selectingDate)!==null&&n!==void 0?n:r.props.preSelection;return l?Dn(i,h):c&&u&&f&&h?Dn(i,Ku(h,f)?f:h):c?Dn(i,h):Dn(i,o)},r.isRangeStart=function(){var n=r.props,s=n.day,i=n.startDate,o=n.endDate;return!i||!o?!1:Dn(i,s)},r.isRangeEnd=function(){var n=r.props,s=n.day,i=n.startDate,o=n.endDate;return!i||!o?!1:Dn(o,s)},r.isWeekend=function(){var n=$ge(r.props.day);return n===0||n===6},r.isAfterMonth=function(){return r.props.month!==void 0&&(r.props.month+1)%12===po(r.props.day)},r.isBeforeMonth=function(){return r.props.month!==void 0&&(po(r.props.day)+1)%12===r.props.month},r.isCurrentDay=function(){return r.isSameDay(oa())},r.isSelected=function(){var n;return r.props.selectsMultiple?(n=r.props.selectedDates)===null||n===void 0?void 0:n.some(function(s){return r.isSameDayOrWeek(s)}):r.isSameDayOrWeek(r.props.selected)},r.getClassNames=function(n){var s=r.props.dayClassName?r.props.dayClassName(n):void 0;return _r("react-datepicker__day",s,"react-datepicker__day--"+Mye(r.props.day),{"react-datepicker__day--disabled":r.isDisabled(),"react-datepicker__day--excluded":r.isExcluded(),"react-datepicker__day--selected":r.isSelected(),"react-datepicker__day--keyboard-selected":r.isKeyboardSelected(),"react-datepicker__day--range-start":r.isRangeStart(),"react-datepicker__day--range-end":r.isRangeEnd(),"react-datepicker__day--in-range":r.isInRange(),"react-datepicker__day--in-selecting-range":r.isInSelectingRange(),"react-datepicker__day--selecting-range-start":r.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":r.isSelectingRangeEnd(),"react-datepicker__day--today":r.isCurrentDay(),"react-datepicker__day--weekend":r.isWeekend(),"react-datepicker__day--outside-month":r.isAfterMonth()||r.isBeforeMonth()},r.getHighLightedClass(),r.getHolidaysClass())},r.getAriaLabel=function(){var n=r.props,s=n.day,i=n.ariaLabelPrefixWhenEnabled,o=i===void 0?"Choose":i,l=n.ariaLabelPrefixWhenDisabled,c=l===void 0?"Not available":l,u=r.isDisabled()||r.isExcluded()?c:o;return"".concat(u," ").concat(Ja(s,"PPPP",r.props.locale))},r.getTitle=function(){var n=r.props,s=n.day,i=n.holidays,o=i===void 0?new Map:i,l=n.excludeDates,c=Ja(s,"MM.dd.yyyy"),u=[];return o.has(c)&&u.push.apply(u,o.get(c).holidayNames),r.isExcluded()&&u.push(l==null?void 0:l.filter(function(f){return f instanceof Date?Dn(f,s):Dn(f==null?void 0:f.date,s)}).map(function(f){if(!(f instanceof Date))return f==null?void 0:f.message})),u.join(", ")},r.getTabIndex=function(){var n=r.props.selected,s=r.props.preSelection,i=!(r.props.showWeekPicker&&(r.props.showWeekNumber||!r.isStartOfWeek()))&&(r.isKeyboardSelected()||r.isSameDay(n)&&Dn(s,n))?0:-1;return i},r.handleFocusDay=function(){var n;r.shouldFocusDay()&&((n=r.dayEl.current)===null||n===void 0||n.focus({preventScroll:!0}))},r.renderDayContents=function(){return r.props.monthShowsDuplicateDaysEnd&&r.isAfterMonth()||r.props.monthShowsDuplicateDaysStart&&r.isBeforeMonth()?null:r.props.renderDayContents?r.props.renderDayContents(XI(r.props.day),r.props.day):XI(r.props.day)},r.render=function(){return pe.createElement("div",{ref:r.dayEl,className:r.getClassNames(r.props.day),onKeyDown:r.handleOnKeyDown,onClick:r.handleClick,onMouseEnter:r.props.usePointerEvent?void 0:r.handleMouseEnter,onPointerEnter:r.props.usePointerEvent?r.handleMouseEnter:void 0,tabIndex:r.getTabIndex(),"aria-label":r.getAriaLabel(),role:"gridcell",title:r.getTitle(),"aria-disabled":r.isDisabled(),"aria-current":r.isCurrentDay()?"date":void 0,"aria-selected":r.isSelected()||r.isInRange()},r.renderDayContents(),r.getTitle()!==""&&pe.createElement("span",{className:"overlay"},r.getTitle()))},r}return e.prototype.componentDidMount=function(){this.handleFocusDay()},e.prototype.componentDidUpdate=function(){this.handleFocusDay()},e.prototype.shouldFocusDay=function(){var r=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(r=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(r=!1),this.isDayActiveElement()&&(r=!0),this.isDuplicateDay()&&(r=!1)),r},e.prototype.isDayActiveElement=function(){var r,n,s;return((n=(r=this.props.containerRef)===null||r===void 0?void 0:r.current)===null||n===void 0?void 0:n.contains(document.activeElement))&&((s=document.activeElement)===null||s===void 0?void 0:s.classList.contains("react-datepicker__day"))},e.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},e})(b.Component),Kye=(function(t){Ji(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.weekNumberEl=b.createRef(),r.handleClick=function(n){r.props.onClick&&r.props.onClick(n)},r.handleOnKeyDown=function(n){var s,i,o=n.key;o===ur.Space&&(n.preventDefault(),n.key=ur.Enter),(i=(s=r.props).handleOnKeyDown)===null||i===void 0||i.call(s,n)},r.isKeyboardSelected=function(){return!r.props.disabledKeyboardNavigation&&!Dn(r.props.date,r.props.selected)&&Dn(r.props.date,r.props.preSelection)},r.getTabIndex=function(){return r.props.showWeekPicker&&r.props.showWeekNumber&&(r.isKeyboardSelected()||Dn(r.props.date,r.props.selected)&&Dn(r.props.preSelection,r.props.selected))?0:-1},r.handleFocusWeekNumber=function(n){var s=!1;r.getTabIndex()===0&&!(n!=null&&n.isInputFocused)&&Dn(r.props.date,r.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(s=!0),r.props.inline&&!r.props.shouldFocusDayInline&&(s=!1),r.props.containerRef&&r.props.containerRef.current&&r.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(s=!0)),s&&r.weekNumberEl.current&&r.weekNumberEl.current.focus({preventScroll:!0})},r}return Object.defineProperty(e,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},e.prototype.componentDidUpdate=function(r){this.handleFocusWeekNumber(r)},e.prototype.render=function(){var r=this.props,n=r.weekNumber,s=r.isWeekDisabled,i=r.ariaLabelPrefix,o=i===void 0?e.defaultProps.ariaLabelPrefix:i,l=r.onClick,c={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!l&&!s,"react-datepicker__week-number--selected":!!l&&Dn(this.props.date,this.props.selected)};return pe.createElement("div",{ref:this.weekNumberEl,className:_r(c),"aria-label":"".concat(o," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex(),role:"gridcell"},n)},e})(b.Component),Jye=(function(t){Ji(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.isDisabled=function(n){return cc(n,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.handleDayClick=function(n,s){r.props.onDayClick&&r.props.onDayClick(n,s)},r.handleDayMouseEnter=function(n){r.props.onDayMouseEnter&&r.props.onDayMouseEnter(n)},r.handleWeekClick=function(n,s,i){for(var o,l,c,u=new Date(n),f=0;f<7;f++){var h=new Date(n);h.setDate(h.getDate()+f);var g=!r.isDisabled(h);if(g){u=h;break}}typeof r.props.onWeekSelect=="function"&&r.props.onWeekSelect(u,s,i),r.props.showWeekPicker&&r.handleDayClick(u,i),((o=r.props.shouldCloseOnSelect)!==null&&o!==void 0?o:e.defaultProps.shouldCloseOnSelect)&&((c=(l=r.props).setOpen)===null||c===void 0||c.call(l,!1))},r.formatWeekNumber=function(n){return r.props.formatWeekNumber?r.props.formatWeekNumber(n):Tye(n)},r.isWeekDisabled=function(){for(var n=r.startOfWeek(),s=ou(n,6),i=new Date(n);i<=s;){if(!r.isDisabled(i))return!1;i=ou(i,1)}return!0},r.renderDays=function(){var n=r.startOfWeek(),s=[],i=r.formatWeekNumber(n);if(r.props.showWeekNumber){var o=r.props.onWeekSelect||r.props.showWeekPicker?r.handleWeekClick.bind(r,n,i):void 0;s.push(pe.createElement(Kye,Pn({key:"W"},e.defaultProps,r.props,{weekNumber:i,isWeekDisabled:r.isWeekDisabled(),date:n,onClick:o})))}return s.concat([0,1,2,3,4,5,6].map(function(l){var c=ou(n,l);return pe.createElement(Yye,Pn({},e.defaultProps,r.props,{ariaLabelPrefixWhenEnabled:r.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:r.props.disabledDayAriaLabelPrefix,key:c.valueOf(),day:c,onClick:r.handleDayClick.bind(r,c),onMouseEnter:r.handleDayMouseEnter.bind(r,c)}))}))},r.startOfWeek=function(){return em(r.props.day,r.props.locale,r.props.calendarStartDay)},r.isKeyboardSelected=function(){return!r.props.disabledKeyboardNavigation&&!Dn(r.startOfWeek(),r.props.selected)&&Dn(r.startOfWeek(),r.props.preSelection)},r}return Object.defineProperty(e,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var r={"react-datepicker__week":!0,"react-datepicker__week--selected":Dn(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()},n=this.props.weekClassName?this.props.weekClassName(this.startOfWeek()):void 0;return pe.createElement("div",{className:_r(r,n),role:"row"},this.renderDays())},e})(b.Component),Fb,Xye=6,Ag={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},DC=(Fb={},Fb[Ag.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},Fb[Ag.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},Fb[Ag.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},Fb),Ew=1;function S9(t,e){return t?Ag.FOUR_COLUMNS:e?Ag.TWO_COLUMNS:Ag.THREE_COLUMNS}var Qye=(function(t){Ji(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.MONTH_REFS=Ju([],Array(12),!0).map(function(){return b.createRef()}),r.QUARTER_REFS=Ju([],Array(4),!0).map(function(){return b.createRef()}),r.isDisabled=function(n){return cc(n,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(n){return FD(n,{excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals})},r.handleDayClick=function(n,s){var i,o;(o=(i=r.props).onDayClick)===null||o===void 0||o.call(i,n,s,r.props.orderInDisplay)},r.handleDayMouseEnter=function(n){var s,i;(i=(s=r.props).onDayMouseEnter)===null||i===void 0||i.call(s,n)},r.handleMouseLeave=function(){var n,s;(s=(n=r.props).onMouseLeave)===null||s===void 0||s.call(n)},r.isRangeStartMonth=function(n){var s=r.props,i=s.day,o=s.startDate,l=s.endDate;return!o||!l?!1:To(oc(i,n),o)},r.isRangeStartQuarter=function(n){var s=r.props,i=s.day,o=s.startDate,l=s.endDate;return!o||!l?!1:kj(sg(i,n),o)},r.isRangeEndMonth=function(n){var s=r.props,i=s.day,o=s.startDate,l=s.endDate;return!o||!l?!1:To(oc(i,n),l)},r.isRangeEndQuarter=function(n){var s=r.props,i=s.day,o=s.startDate,l=s.endDate;return!o||!l?!1:kj(sg(i,n),l)},r.isInSelectingRangeMonth=function(n){var s,i=r.props,o=i.day,l=i.selectsStart,c=i.selectsEnd,u=i.selectsRange,f=i.startDate,h=i.endDate,g=(s=r.props.selectingDate)!==null&&s!==void 0?s:r.props.preSelection;return!(l||c||u)||!g?!1:l&&h?_w(g,h,n,o):c&&f||u&&f&&!h?_w(f,g,n,o):!1},r.isSelectingMonthRangeStart=function(n){var s;if(!r.isInSelectingRangeMonth(n))return!1;var i=r.props,o=i.day,l=i.startDate,c=i.selectsStart,u=oc(o,n),f=(s=r.props.selectingDate)!==null&&s!==void 0?s:r.props.preSelection;return c?To(u,f):To(u,l)},r.isSelectingMonthRangeEnd=function(n){var s;if(!r.isInSelectingRangeMonth(n))return!1;var i=r.props,o=i.day,l=i.endDate,c=i.selectsEnd,u=i.selectsRange,f=oc(o,n),h=(s=r.props.selectingDate)!==null&&s!==void 0?s:r.props.preSelection;return c||u?To(f,h):To(f,l)},r.isInSelectingRangeQuarter=function(n){var s,i=r.props,o=i.day,l=i.selectsStart,c=i.selectsEnd,u=i.selectsRange,f=i.startDate,h=i.endDate,g=(s=r.props.selectingDate)!==null&&s!==void 0?s:r.props.preSelection;return!(l||c||u)||!g?!1:l&&h?Mw(g,h,n,o):c&&f||u&&f&&!h?Mw(f,g,n,o):!1},r.isWeekInMonth=function(n){var s=r.props.day,i=ou(n,6);return To(n,s)||To(i,s)},r.isCurrentMonth=function(n,s){return jn(n)===jn(oa())&&s===po(oa())},r.isCurrentQuarter=function(n,s){return jn(n)===jn(oa())&&s===wp(oa())},r.isSelectedMonth=function(n,s,i){return po(i)===s&&jn(n)===jn(i)},r.isSelectMonthInList=function(n,s,i){return i.some(function(o){return r.isSelectedMonth(n,s,o)})},r.isSelectedQuarter=function(n,s,i){return wp(n)===s&&jn(n)===jn(i)},r.isMonthSelected=function(){var n=r.props,s=n.day,i=n.selected,o=n.selectedDates,l=n.selectsMultiple,c=po(s);return l?o==null?void 0:o.some(function(u){return r.isSelectedMonth(s,c,u)}):!!i&&r.isSelectedMonth(s,c,i)},r.renderWeeks=function(){for(var n=[],s=r.props.fixedHeight,i=0,o=!1,l=em(kf(r.props.day),r.props.locale,r.props.calendarStartDay),c=function(v){return r.props.showWeekPicker?em(v,r.props.locale,r.props.calendarStartDay):r.props.preSelection},u=function(v){return r.props.showWeekPicker?em(v,r.props.locale,r.props.calendarStartDay):r.props.selected},f=r.props.selected?u(r.props.selected):void 0,h=r.props.preSelection?c(r.props.preSelection):void 0;n.push(pe.createElement(Jye,Pn({},r.props,{ariaLabelPrefix:r.props.weekAriaLabelPrefix,key:i,day:l,month:po(r.props.day),onDayClick:r.handleDayClick,onDayMouseEnter:r.handleDayMouseEnter,selected:f,preSelection:h,showWeekNumber:r.props.showWeekNumbers}))),!o;){i++,l=mj(l,1);var g=s&&i>=Xye,p=!s&&!r.isWeekInMonth(l);if(g||p)if(r.props.peekNextMonth)o=!0;else break}return n},r.onMonthClick=function(n,s){var i=r.isMonthDisabledForLabelDate(s),o=i.isDisabled,l=i.labelDate;o||r.handleDayClick(kf(l),n)},r.onMonthMouseEnter=function(n){var s=r.isMonthDisabledForLabelDate(n),i=s.isDisabled,o=s.labelDate;i||r.handleDayMouseEnter(kf(o))},r.handleMonthNavigation=function(n,s){var i,o,l,c;(o=(i=r.props).setPreSelection)===null||o===void 0||o.call(i,s),(c=(l=r.MONTH_REFS[n])===null||l===void 0?void 0:l.current)===null||c===void 0||c.focus()},r.handleKeyboardNavigation=function(n,s,i){var o,l=r.props,c=l.selected,u=l.preSelection,f=l.setPreSelection,h=l.minDate,g=l.maxDate,p=l.showFourColumnMonthYearPicker,v=l.showTwoColumnMonthYearPicker;if(u){var w=S9(p,v),y=r.getVerticalOffset(w),N=(o=DC[w])===null||o===void 0?void 0:o.grid,k=function(E,L,R){var F,A,M=L,B=R;switch(E){case ur.ArrowRight:M=du(L,Ew),B=R===11?0:R+Ew;break;case ur.ArrowLeft:M=jp(L,Ew),B=R===0?11:R-Ew;break;case ur.ArrowUp:M=jp(L,y),B=!((F=N==null?void 0:N[0])===null||F===void 0)&&F.includes(R)?R+12-y:R-y;break;case ur.ArrowDown:M=du(L,y),B=!((A=N==null?void 0:N[N.length-1])===null||A===void 0)&&A.includes(R)?R-12+y:R+y;break}return{newCalculatedDate:M,newCalculatedMonth:B}},S=function(E,L,R){for(var F=40,A=E,M=!1,B=0,z=k(A,L,R),Y=z.newCalculatedDate,W=z.newCalculatedMonth;!M;){if(B>=F){Y=L,W=R;break}if(h&&Y<h){A=ur.ArrowRight;var H=k(A,Y,W);Y=H.newCalculatedDate,W=H.newCalculatedMonth}if(g&&Y>g){A=ur.ArrowLeft;var H=k(A,Y,W);Y=H.newCalculatedDate,W=H.newCalculatedMonth}if(Iye(Y,r.props)){var H=k(A,Y,W);Y=H.newCalculatedDate,W=H.newCalculatedMonth}else M=!0;B++}return{newCalculatedDate:Y,newCalculatedMonth:W}};if(s===ur.Enter){r.isMonthDisabled(i)||(r.onMonthClick(n,i),f==null||f(c));return}var T=S(s,u,i),_=T.newCalculatedDate,D=T.newCalculatedMonth;switch(s){case ur.ArrowRight:case ur.ArrowLeft:case ur.ArrowUp:case ur.ArrowDown:r.handleMonthNavigation(D,_);break}}},r.getVerticalOffset=function(n){var s,i;return(i=(s=DC[n])===null||s===void 0?void 0:s.verticalNavigationOffset)!==null&&i!==void 0?i:0},r.onMonthKeyDown=function(n,s){var i=r.props,o=i.disabledKeyboardNavigation,l=i.handleOnMonthKeyDown,c=n.key;c!==ur.Tab&&n.preventDefault(),o||r.handleKeyboardNavigation(n,c,s),l&&l(n)},r.onQuarterClick=function(n,s){var i=sg(r.props.day,s);Aw(i,r.props)||r.handleDayClick(u9(i),n)},r.onQuarterMouseEnter=function(n){var s=sg(r.props.day,n);Aw(s,r.props)||r.handleDayMouseEnter(u9(s))},r.handleQuarterNavigation=function(n,s){var i,o,l,c;r.isDisabled(s)||r.isExcluded(s)||((o=(i=r.props).setPreSelection)===null||o===void 0||o.call(i,s),(c=(l=r.QUARTER_REFS[n-1])===null||l===void 0?void 0:l.current)===null||c===void 0||c.focus())},r.onQuarterKeyDown=function(n,s){var i,o,l=n.key;if(!r.props.disabledKeyboardNavigation)switch(l){case ur.Enter:r.onQuarterClick(n,s),(o=(i=r.props).setPreSelection)===null||o===void 0||o.call(i,r.props.selected);break;case ur.ArrowRight:if(!r.props.preSelection)break;r.handleQuarterNavigation(s===4?1:s+1,CD(r.props.preSelection,1));break;case ur.ArrowLeft:if(!r.props.preSelection)break;r.handleQuarterNavigation(s===1?4:s-1,xX(r.props.preSelection));break}},r.isMonthDisabledForLabelDate=function(n){var s,i=r.props,o=i.day,l=i.minDate,c=i.maxDate,u=i.excludeDates,f=i.includeDates,h=oc(o,n);return{isDisabled:(s=(l||c||u||f)&&DX(h,r.props))!==null&&s!==void 0?s:!1,labelDate:h}},r.isMonthDisabled=function(n){var s=r.isMonthDisabledForLabelDate(n).isDisabled;return s},r.getMonthClassNames=function(n){var s=r.props,i=s.day,o=s.startDate,l=s.endDate,c=s.preSelection,u=s.monthClassName,f=u?u(oc(i,n)):void 0,h=r.getSelection();return _r("react-datepicker__month-text","react-datepicker__month-".concat(n),f,{"react-datepicker__month-text--disabled":r.isMonthDisabled(n),"react-datepicker__month-text--selected":h?r.isSelectMonthInList(i,n,h):void 0,"react-datepicker__month-text--keyboard-selected":!r.props.disabledKeyboardNavigation&&c&&r.isSelectedMonth(i,n,c)&&!r.isMonthSelected()&&!r.isMonthDisabled(n),"react-datepicker__month-text--in-selecting-range":r.isInSelectingRangeMonth(n),"react-datepicker__month-text--in-range":o&&l?_w(o,l,n,i):void 0,"react-datepicker__month-text--range-start":r.isRangeStartMonth(n),"react-datepicker__month-text--range-end":r.isRangeEndMonth(n),"react-datepicker__month-text--selecting-range-start":r.isSelectingMonthRangeStart(n),"react-datepicker__month-text--selecting-range-end":r.isSelectingMonthRangeEnd(n),"react-datepicker__month-text--today":r.isCurrentMonth(i,n)})},r.getTabIndex=function(n){if(r.props.preSelection==null)return"-1";var s=po(r.props.preSelection),i=r.isMonthDisabledForLabelDate(s).isDisabled,o=n===s&&!(i||r.props.disabledKeyboardNavigation)?"0":"-1";return o},r.getQuarterTabIndex=function(n){if(r.props.preSelection==null)return"-1";var s=wp(r.props.preSelection),i=Aw(r.props.day,r.props),o=n===s&&!(i||r.props.disabledKeyboardNavigation)?"0":"-1";return o},r.getAriaLabel=function(n){var s=r.props,i=s.chooseDayAriaLabelPrefix,o=i===void 0?"Choose":i,l=s.disabledDayAriaLabelPrefix,c=l===void 0?"Not available":l,u=s.day,f=s.locale,h=oc(u,n),g=r.isDisabled(h)||r.isExcluded(h)?c:o;return"".concat(g," ").concat(Ja(h,"MMMM yyyy",f))},r.getQuarterClassNames=function(n){var s=r.props,i=s.day,o=s.startDate,l=s.endDate,c=s.selected,u=s.minDate,f=s.maxDate,h=s.excludeDates,g=s.includeDates,p=s.filterDate,v=s.preSelection,w=s.disabledKeyboardNavigation,y=(u||f||h||g||p)&&Aw(sg(i,n),r.props);return _r("react-datepicker__quarter-text","react-datepicker__quarter-".concat(n),{"react-datepicker__quarter-text--disabled":y,"react-datepicker__quarter-text--selected":c?r.isSelectedQuarter(i,n,c):void 0,"react-datepicker__quarter-text--keyboard-selected":!w&&v&&r.isSelectedQuarter(i,n,v)&&!y,"react-datepicker__quarter-text--in-selecting-range":r.isInSelectingRangeQuarter(n),"react-datepicker__quarter-text--in-range":o&&l?Mw(o,l,n,i):void 0,"react-datepicker__quarter-text--range-start":r.isRangeStartQuarter(n),"react-datepicker__quarter-text--range-end":r.isRangeEndQuarter(n),"react-datepicker__quarter-text--today":r.isCurrentQuarter(i,n)})},r.getMonthContent=function(n){var s=r.props,i=s.showFullMonthYearPicker,o=s.renderMonthContent,l=s.locale,c=s.day,u=OX(n,l),f=ID(n,l);return o?o(n,u,f,c):i?f:u},r.getQuarterContent=function(n){var s,i=r.props,o=i.renderQuarterContent,l=i.locale,c=Rye(n,l);return(s=o==null?void 0:o(n,c))!==null&&s!==void 0?s:c},r.renderMonths=function(){var n,s=r.props,i=s.showTwoColumnMonthYearPicker,o=s.showFourColumnMonthYearPicker,l=s.day,c=s.selected,u=(n=DC[S9(o,i)])===null||n===void 0?void 0:n.grid;return u==null?void 0:u.map(function(f,h){return pe.createElement("div",{className:"react-datepicker__month-wrapper",key:h},f.map(function(g,p){return pe.createElement("div",{ref:r.MONTH_REFS[g],key:p,onClick:function(v){r.onMonthClick(v,g)},onKeyDown:function(v){RX(v)&&(v.preventDefault(),v.key=ur.Enter),r.onMonthKeyDown(v,g)},onMouseEnter:r.props.usePointerEvent?void 0:function(){return r.onMonthMouseEnter(g)},onPointerEnter:r.props.usePointerEvent?function(){return r.onMonthMouseEnter(g)}:void 0,tabIndex:Number(r.getTabIndex(g)),className:r.getMonthClassNames(g),"aria-disabled":r.isMonthDisabled(g),role:"option","aria-label":r.getAriaLabel(g),"aria-current":r.isCurrentMonth(l,g)?"date":void 0,"aria-selected":c?r.isSelectedMonth(l,g,c):void 0},r.getMonthContent(g))}))})},r.renderQuarters=function(){var n=r.props,s=n.day,i=n.selected,o=[1,2,3,4];return pe.createElement("div",{className:"react-datepicker__quarter-wrapper"},o.map(function(l,c){return pe.createElement("div",{key:c,ref:r.QUARTER_REFS[c],role:"option",onClick:function(u){r.onQuarterClick(u,l)},onKeyDown:function(u){r.onQuarterKeyDown(u,l)},onMouseEnter:r.props.usePointerEvent?void 0:function(){return r.onQuarterMouseEnter(l)},onPointerEnter:r.props.usePointerEvent?function(){return r.onQuarterMouseEnter(l)}:void 0,className:r.getQuarterClassNames(l),"aria-selected":i?r.isSelectedQuarter(s,l,i):void 0,tabIndex:Number(r.getQuarterTabIndex(l)),"aria-current":r.isCurrentQuarter(s,l)?"date":void 0},r.getQuarterContent(l))}))},r.getClassNames=function(){var n=r.props,s=n.selectingDate,i=n.selectsStart,o=n.selectsEnd,l=n.showMonthYearPicker,c=n.showQuarterYearPicker,u=n.showWeekPicker;return _r("react-datepicker__month",{"react-datepicker__month--selecting-range":s&&(i||o)},{"react-datepicker__monthPicker":l},{"react-datepicker__quarterPicker":c},{"react-datepicker__weekPicker":u})},r}return e.prototype.getSelection=function(){var r=this.props,n=r.selected,s=r.selectedDates,i=r.selectsMultiple;if(i)return s;if(n)return[n]},e.prototype.render=function(){var r=this.props,n=r.showMonthYearPicker,s=r.showQuarterYearPicker,i=r.day,o=r.ariaLabelPrefix,l=o===void 0?"Month ":o,c=l?l.trim()+" ":"",u=n||s;return u?pe.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(c).concat(Ja(i,"MMMM, yyyy",this.props.locale)),role:"listbox"},n?this.renderMonths():this.renderQuarters()):pe.createElement("div",{role:"table"},this.props.dayNamesHeader&&pe.createElement("div",{role:"rowgroup"},this.props.dayNamesHeader),pe.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(c).concat(Ja(i,"MMMM, yyyy",this.props.locale)),role:"rowgroup"},this.renderWeeks()))},e})(b.Component),Zye=(function(t){Ji(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.monthOptionButtonsRef={},r.isSelectedMonth=function(n){return r.props.month===n},r.handleOptionKeyDown=function(n,s){var i;switch(s.key){case"Enter":s.preventDefault(),r.onChange(n);break;case"Escape":s.preventDefault(),r.props.onCancel();break;case"ArrowUp":case"ArrowDown":{s.preventDefault();var o=(n+(s.key==="ArrowUp"?-1:1)+r.props.monthNames.length)%r.props.monthNames.length;(i=r.monthOptionButtonsRef[o])===null||i===void 0||i.focus();break}}},r.renderOptions=function(){return r.monthOptionButtonsRef={},r.props.monthNames.map(function(n,s){return pe.createElement("div",{ref:function(i){r.monthOptionButtonsRef[s]=i,r.isSelectedMonth(s)&&(i==null||i.focus())},role:"button",tabIndex:0,className:r.isSelectedMonth(s)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:n,onClick:r.onChange.bind(r,s),onKeyDown:r.handleOptionKeyDown.bind(r,s),"aria-selected":r.isSelectedMonth(s)?"true":void 0},r.isSelectedMonth(s)?pe.createElement("span",{className:"react-datepicker__month-option--selected"},"✓"):"",n)})},r.onChange=function(n){return r.props.onChange(n)},r.handleClickOutside=function(){return r.props.onCancel()},r}return e.prototype.render=function(){return pe.createElement(HN,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},e})(b.Component),eve=(function(t){Ji(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(n){return n.map(function(s,i){return pe.createElement("option",{key:s,value:i},s)})},r.renderSelectMode=function(n){return pe.createElement("select",{value:r.props.month,className:"react-datepicker__month-select",onChange:function(s){return r.onChange(parseInt(s.target.value))}},r.renderSelectOptions(n))},r.renderReadView=function(n,s){return pe.createElement("button",{key:"read",type:"button",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:r.toggleDropdown},pe.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),pe.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},s[r.props.month]))},r.renderDropdown=function(n){return pe.createElement(Zye,Pn({key:"dropdown"},r.props,{monthNames:n,onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(n){var s=r.state.dropdownVisible,i=[r.renderReadView(!s,n)];return s&&i.unshift(r.renderDropdown(n)),i},r.onChange=function(n){r.toggleDropdown(),n!==r.props.month&&r.props.onChange(n)},r.toggleDropdown=function(){return r.setState({dropdownVisible:!r.state.dropdownVisible})},r}return e.prototype.render=function(){var r=this,n=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(i){return OX(i,r.props.locale)}:function(i){return ID(i,r.props.locale)}),s;switch(this.props.dropdownMode){case"scroll":s=this.renderScrollMode(n);break;case"select":s=this.renderSelectMode(n);break}return pe.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},s)},e})(b.Component);function tve(t,e){for(var r=[],n=kf(t),s=kf(e);!um(n,s);)r.push(oa(n)),n=du(n,1);return r}var rve=(function(t){Ji(e,t);function e(r){var n=t.call(this,r)||this;return n.renderOptions=function(){return n.state.monthYearsList.map(function(s){var i=lM(s),o=Uu(n.props.date,s)&&To(n.props.date,s);return pe.createElement("div",{className:o?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:i,onClick:n.onChange.bind(n,i),"aria-selected":o?"true":void 0},o?pe.createElement("span",{className:"react-datepicker__month-year-option--selected"},"✓"):"",Ja(s,n.props.dateFormat,n.props.locale))})},n.onChange=function(s){return n.props.onChange(s)},n.handleClickOutside=function(){n.props.onCancel()},n.state={monthYearsList:tve(n.props.minDate,n.props.maxDate)},n}return e.prototype.render=function(){var r=_r({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return pe.createElement(HN,{className:r,onClickOutside:this.handleClickOutside},this.renderOptions())},e})(b.Component),nve=(function(t){Ji(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(){for(var n=kf(r.props.minDate),s=kf(r.props.maxDate),i=[];!um(n,s);){var o=lM(n);i.push(pe.createElement("option",{key:o,value:o},Ja(n,r.props.dateFormat,r.props.locale))),n=du(n,1)}return i},r.onSelectChange=function(n){r.onChange(parseInt(n.target.value))},r.renderSelectMode=function(){return pe.createElement("select",{value:lM(kf(r.props.date)),className:"react-datepicker__month-year-select",onChange:r.onSelectChange},r.renderSelectOptions())},r.renderReadView=function(n){var s=Ja(r.props.date,r.props.dateFormat,r.props.locale);return pe.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:r.toggleDropdown},pe.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),pe.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},s))},r.renderDropdown=function(){return pe.createElement(rve,Pn({key:"dropdown"},r.props,{onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(){var n=r.state.dropdownVisible,s=[r.renderReadView(!n)];return n&&s.unshift(r.renderDropdown()),s},r.onChange=function(n){r.toggleDropdown();var s=oa(n);Uu(r.props.date,s)&&To(r.props.date,s)||r.props.onChange(s)},r.toggleDropdown=function(){return r.setState({dropdownVisible:!r.state.dropdownVisible})},r}return e.prototype.render=function(){var r;switch(this.props.dropdownMode){case"scroll":r=this.renderScrollMode();break;case"select":r=this.renderSelectMode();break}return pe.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},r)},e})(b.Component),ave=(function(t){Ji(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.state={height:null},r.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var n,s,i;r.list&&(r.list.scrollTop=(i=r.centerLi&&e.calcCenterPosition(r.props.monthRef?r.props.monthRef.clientHeight-((s=(n=r.header)===null||n===void 0?void 0:n.clientHeight)!==null&&s!==void 0?s:0):r.list.clientHeight,r.centerLi))!==null&&i!==void 0?i:0)})},r.handleClick=function(n){var s,i;(r.props.minTime||r.props.maxTime)&&p9(n,r.props)||(r.props.excludeTimes||r.props.includeTimes||r.props.filterTime)&&m9(n,r.props)||(i=(s=r.props).onChange)===null||i===void 0||i.call(s,n)},r.isSelectedTime=function(n){return r.props.selected&&Vye(r.props.selected,n)},r.isDisabledTime=function(n){return(r.props.minTime||r.props.maxTime)&&p9(n,r.props)||(r.props.excludeTimes||r.props.includeTimes||r.props.filterTime)&&m9(n,r.props)},r.liClasses=function(n){var s,i=["react-datepicker__time-list-item",r.props.timeClassName?r.props.timeClassName(n):void 0];return r.isSelectedTime(n)&&i.push("react-datepicker__time-list-item--selected"),r.isDisabledTime(n)&&i.push("react-datepicker__time-list-item--disabled"),r.props.injectTimes&&(Nf(n)*3600+Sf(n)*60+Zh(n))%(((s=r.props.intervals)!==null&&s!==void 0?s:e.defaultProps.intervals)*60)!==0&&i.push("react-datepicker__time-list-item--injected"),i.join(" ")},r.handleOnKeyDown=function(n,s){var i,o;n.key===ur.Space&&(n.preventDefault(),n.key=ur.Enter),(n.key===ur.ArrowUp||n.key===ur.ArrowLeft)&&n.target instanceof HTMLElement&&n.target.previousSibling&&(n.preventDefault(),n.target.previousSibling instanceof HTMLElement&&n.target.previousSibling.focus()),(n.key===ur.ArrowDown||n.key===ur.ArrowRight)&&n.target instanceof HTMLElement&&n.target.nextSibling&&(n.preventDefault(),n.target.nextSibling instanceof HTMLElement&&n.target.nextSibling.focus()),n.key===ur.Enter&&r.handleClick(s),(o=(i=r.props).handleOnKeyDown)===null||o===void 0||o.call(i,n)},r.renderTimes=function(){for(var n,s=[],i=typeof r.props.format=="string"?r.props.format:"p",o=(n=r.props.intervals)!==null&&n!==void 0?n:e.defaultProps.intervals,l=r.props.selected||r.props.openToDate||oa(),c=I2(l),u=r.props.injectTimes&&r.props.injectTimes.sort(function(y,N){return y.getTime()-N.getTime()}),f=60*Wye(l),h=f/o,g=0;g<h;g++){var p=sM(c,g*o);if(s.push(p),u){var v=Uye(c,p,g,o,u);s=s.concat(v)}}var w=s.reduce(function(y,N){return N.getTime()<=l.getTime()?N:y},s[0]);return s.map(function(y){return pe.createElement("li",{key:y.valueOf(),onClick:r.handleClick.bind(r,y),className:r.liClasses(y),ref:function(N){y===w&&(r.centerLi=N)},onKeyDown:function(N){r.handleOnKeyDown(N,y)},tabIndex:y===w?0:-1,role:"option","aria-selected":r.isSelectedTime(y)?"true":void 0,"aria-disabled":r.isDisabledTime(y)?"true":void 0},Ja(y,i,r.props.locale))})},r.renderTimeCaption=function(){return r.props.showTimeCaption===!1?pe.createElement(pe.Fragment,null):pe.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(r.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(n){r.header=n}},pe.createElement("div",{className:"react-datepicker-time__header"},r.props.timeCaption))},r}return Object.defineProperty(e,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},e.prototype.componentWillUnmount=function(){var r;(r=this.resizeObserver)===null||r===void 0||r.disconnect()},e.prototype.observeDatePickerHeightChanges=function(){var r=this,n=this.props.monthRef;this.updateContainerHeight(),n&&(this.resizeObserver=new ResizeObserver(function(){r.updateContainerHeight()}),this.resizeObserver.observe(n))},e.prototype.updateContainerHeight=function(){this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},e.prototype.render=function(){var r=this,n,s=this.state.height;return pe.createElement("div",{className:"react-datepicker__time-container ".concat(((n=this.props.todayButton)!==null&&n!==void 0?n:e.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),pe.createElement("div",{className:"react-datepicker__time"},pe.createElement("div",{className:"react-datepicker__time-box"},pe.createElement("ul",{className:"react-datepicker__time-list",ref:function(i){r.list=i},style:s?{height:s}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},e.calcCenterPosition=function(r,n){return n.offsetTop-(r/2-n.clientHeight/2)},e})(b.Component),k9=3,sve=(function(t){Ji(e,t);function e(r){var n=t.call(this,r)||this;return n.YEAR_REFS=Ju([],Array(n.props.yearItemNumber),!0).map(function(){return b.createRef()}),n.isDisabled=function(s){return cc(s,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(s){return FD(s,{excludeDates:n.props.excludeDates})},n.selectingDate=function(){var s;return(s=n.props.selectingDate)!==null&&s!==void 0?s:n.props.preSelection},n.updateFocusOnPaginate=function(s){var i=function(){var o,l;(l=(o=n.YEAR_REFS[s])===null||o===void 0?void 0:o.current)===null||l===void 0||l.focus()};window.requestAnimationFrame(i)},n.handleYearClick=function(s,i){n.props.onDayClick&&n.props.onDayClick(s,i)},n.handleYearNavigation=function(s,i){var o,l,c,u,f=n.props,h=f.date,g=f.yearItemNumber;if(!(h===void 0||g===void 0)){var p=hf(h,g).startPeriod;n.isDisabled(i)||n.isExcluded(i)||((l=(o=n.props).setPreSelection)===null||l===void 0||l.call(o,i),s-p<0?n.updateFocusOnPaginate(g-(p-s)):s-p>=g?n.updateFocusOnPaginate(Math.abs(g-(s-p))):(u=(c=n.YEAR_REFS[s-p])===null||c===void 0?void 0:c.current)===null||u===void 0||u.focus())}},n.isSameDay=function(s,i){return Dn(s,i)},n.isCurrentYear=function(s){return s===jn(oa())},n.isRangeStart=function(s){return n.props.startDate&&n.props.endDate&&Uu(qu(oa(),s),n.props.startDate)},n.isRangeEnd=function(s){return n.props.startDate&&n.props.endDate&&Uu(qu(oa(),s),n.props.endDate)},n.isInRange=function(s){return Tw(s,n.props.startDate,n.props.endDate)},n.isInSelectingRange=function(s){var i=n.props,o=i.selectsStart,l=i.selectsEnd,c=i.selectsRange,u=i.startDate,f=i.endDate;return!(o||l||c)||!n.selectingDate()?!1:o&&f?Tw(s,n.selectingDate(),f):l&&u||c&&u&&!f?Tw(s,u,n.selectingDate()):!1},n.isSelectingRangeStart=function(s){var i;if(!n.isInSelectingRange(s))return!1;var o=n.props,l=o.startDate,c=o.selectsStart,u=qu(oa(),s);return c?Uu(u,(i=n.selectingDate())!==null&&i!==void 0?i:null):Uu(u,l??null)},n.isSelectingRangeEnd=function(s){var i;if(!n.isInSelectingRange(s))return!1;var o=n.props,l=o.endDate,c=o.selectsEnd,u=o.selectsRange,f=qu(oa(),s);return c||u?Uu(f,(i=n.selectingDate())!==null&&i!==void 0?i:null):Uu(f,l??null)},n.isKeyboardSelected=function(s){if(!(n.props.disabledKeyboardNavigation||n.props.date===void 0||n.props.preSelection==null)){var i=n.props,o=i.minDate,l=i.maxDate,c=i.excludeDates,u=i.includeDates,f=i.filterDate,h=i.selected,g=cy(qu(n.props.date,s)),p=(o||l||c||u||f)&&F2(s,n.props),v=!!h&&Dn(g,cy(h)),w=Dn(g,cy(n.props.preSelection));return!n.props.inline&&!v&&w&&!p}},n.isSelectedYear=function(s){var i=n.props,o=i.selectsMultiple,l=i.selected,c=i.selectedDates;return o?c==null?void 0:c.some(function(u){return s===jn(u)}):!!l&&s===jn(l)},n.onYearClick=function(s,i){var o=n.props.date;o!==void 0&&n.handleYearClick(cy(qu(o,i)),s)},n.onYearKeyDown=function(s,i){var o,l,c=s.key,u=n.props,f=u.date,h=u.yearItemNumber,g=u.handleOnKeyDown;if(c!==ur.Tab&&s.preventDefault(),!n.props.disabledKeyboardNavigation)switch(c){case ur.Enter:if(n.props.selected==null)break;n.onYearClick(s,i),(l=(o=n.props).setPreSelection)===null||l===void 0||l.call(o,n.props.selected);break;case ur.ArrowRight:if(n.props.preSelection==null)break;n.handleYearNavigation(i+1,wf(n.props.preSelection,1));break;case ur.ArrowLeft:if(n.props.preSelection==null)break;n.handleYearNavigation(i-1,Yg(n.props.preSelection,1));break;case ur.ArrowUp:{if(f===void 0||h===void 0||n.props.preSelection==null)break;var p=hf(f,h).startPeriod,v=k9,w=i-v;if(w<p){var y=h%v;i>=p&&i<p+y?v=y:v+=y,w=i-v}n.handleYearNavigation(w,Yg(n.props.preSelection,v));break}case ur.ArrowDown:{if(f===void 0||h===void 0||n.props.preSelection==null)break;var N=hf(f,h).endPeriod,v=k9,w=i+v;if(w>N){var y=h%v;i<=N&&i>N-y?v=y:v+=y,w=i+v}n.handleYearNavigation(w,wf(n.props.preSelection,v));break}}g&&g(s)},n.getYearClassNames=function(s){var i=n.props,o=i.date,l=i.minDate,c=i.maxDate,u=i.excludeDates,f=i.includeDates,h=i.filterDate,g=i.yearClassName;return _r("react-datepicker__year-text","react-datepicker__year-".concat(s),o?g==null?void 0:g(qu(o,s)):void 0,{"react-datepicker__year-text--selected":n.isSelectedYear(s),"react-datepicker__year-text--disabled":(l||c||u||f||h)&&F2(s,n.props),"react-datepicker__year-text--keyboard-selected":n.isKeyboardSelected(s),"react-datepicker__year-text--range-start":n.isRangeStart(s),"react-datepicker__year-text--range-end":n.isRangeEnd(s),"react-datepicker__year-text--in-range":n.isInRange(s),"react-datepicker__year-text--in-selecting-range":n.isInSelectingRange(s),"react-datepicker__year-text--selecting-range-start":n.isSelectingRangeStart(s),"react-datepicker__year-text--selecting-range-end":n.isSelectingRangeEnd(s),"react-datepicker__year-text--today":n.isCurrentYear(s)})},n.getYearTabIndex=function(s){if(n.props.disabledKeyboardNavigation||n.props.preSelection==null)return"-1";var i=jn(n.props.preSelection),o=F2(s,n.props);return s===i&&!o?"0":"-1"},n.getYearContent=function(s){return n.props.renderYearContent?n.props.renderYearContent(s):s},n}return e.prototype.render=function(){var r=this,n=[],s=this.props,i=s.date,o=s.yearItemNumber,l=s.onYearMouseEnter,c=s.onYearMouseLeave;if(i===void 0)return null;for(var u=hf(i,o),f=u.startPeriod,h=u.endPeriod,g=function(w){n.push(pe.createElement("div",{ref:p.YEAR_REFS[w-f],onClick:function(y){r.onYearClick(y,w)},onKeyDown:function(y){RX(y)&&(y.preventDefault(),y.key=ur.Enter),r.onYearKeyDown(y,w)},tabIndex:Number(p.getYearTabIndex(w)),className:p.getYearClassNames(w),onMouseEnter:p.props.usePointerEvent?void 0:function(y){return l(y,w)},onPointerEnter:p.props.usePointerEvent?function(y){return l(y,w)}:void 0,onMouseLeave:p.props.usePointerEvent?void 0:function(y){return c(y,w)},onPointerLeave:p.props.usePointerEvent?function(y){return c(y,w)}:void 0,key:w,"aria-current":p.isCurrentYear(w)?"date":void 0},p.getYearContent(w)))},p=this,v=f;v<=h;v++)g(v);return pe.createElement("div",{className:"react-datepicker__year"},pe.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},n))},e})(b.Component);function ive(t,e,r,n){for(var s=[],i=0;i<2*e+1;i++){var o=t+e-i,l=!0;r&&(l=jn(r)<=o),n&&l&&(l=jn(n)>=o),l&&s.push(o)}return s}var ove=(function(t){Ji(e,t);function e(r){var n=t.call(this,r)||this;n.yearOptionButtonsRef={},n.handleOptionKeyDown=function(l,c){var u;switch(c.key){case"Enter":c.preventDefault(),n.onChange(l);break;case"Escape":c.preventDefault(),n.props.onCancel();break;case"ArrowUp":case"ArrowDown":{c.preventDefault();var f=l+(c.key==="ArrowUp"?1:-1);n.yearOptionButtonsRef[f]&&((u=n.yearOptionButtonsRef[f])===null||u===void 0||u.focus());break}}},n.renderOptions=function(){n.yearOptionButtonsRef={};var l=n.props.year,c=n.state.yearsList.map(function(h){return pe.createElement("div",{ref:function(g){n.yearOptionButtonsRef[h]=g,h===l&&(g==null||g.focus())},role:"button",tabIndex:0,className:l===h?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:h,onClick:n.onChange.bind(n,h),onKeyDown:n.handleOptionKeyDown.bind(n,h),"aria-selected":l===h?"true":void 0},l===h?pe.createElement("span",{className:"react-datepicker__year-option--selected"},"✓"):"",h)}),u=n.props.minDate?jn(n.props.minDate):null,f=n.props.maxDate?jn(n.props.maxDate):null;return(!f||!n.state.yearsList.find(function(h){return h===f}))&&c.unshift(pe.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:n.incrementYears},pe.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!u||!n.state.yearsList.find(function(h){return h===u}))&&c.push(pe.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:n.decrementYears},pe.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),c},n.onChange=function(l){n.props.onChange(l)},n.handleClickOutside=function(){n.props.onCancel()},n.shiftYears=function(l){var c=n.state.yearsList.map(function(u){return u+l});n.setState({yearsList:c})},n.incrementYears=function(){return n.shiftYears(1)},n.decrementYears=function(){return n.shiftYears(-1)};var s=r.yearDropdownItemNumber,i=r.scrollableYearDropdown,o=s||(i?10:5);return n.state={yearsList:ive(n.props.year,o,n.props.minDate,n.props.maxDate)},n.dropdownRef=b.createRef(),n}return e.prototype.componentDidMount=function(){var r=this.dropdownRef.current;if(r){var n=r.children?Array.from(r.children):null,s=n?n.find(function(i){return i.ariaSelected}):null;r.scrollTop=s&&s instanceof HTMLElement?s.offsetTop+(s.clientHeight-r.clientHeight)/2:(r.scrollHeight-r.clientHeight)/2}},e.prototype.render=function(){var r=_r({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return pe.createElement(HN,{className:r,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},e})(b.Component),lve=(function(t){Ji(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(){for(var n=r.props.minDate?jn(r.props.minDate):1900,s=r.props.maxDate?jn(r.props.maxDate):2100,i=[],o=n;o<=s;o++)i.push(pe.createElement("option",{key:o,value:o},o));return i},r.onSelectChange=function(n){r.onChange(parseInt(n.target.value))},r.renderSelectMode=function(){return pe.createElement("select",{value:r.props.year,className:"react-datepicker__year-select",onChange:r.onSelectChange},r.renderSelectOptions())},r.renderReadView=function(n){return pe.createElement("button",{key:"read",type:"button",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:r.toggleDropdown},pe.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),pe.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},r.props.year))},r.renderDropdown=function(){return pe.createElement(ove,Pn({key:"dropdown"},r.props,{onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(){var n=r.state.dropdownVisible,s=[r.renderReadView(!n)];return n&&s.unshift(r.renderDropdown()),s},r.onChange=function(n){r.toggleDropdown(),n!==r.props.year&&r.props.onChange(n)},r.toggleDropdown=function(n){r.setState({dropdownVisible:!r.state.dropdownVisible},function(){r.props.adjustDateOnChange&&r.handleYearChange(r.props.date,n)})},r.handleYearChange=function(n,s){var i;(i=r.onSelect)===null||i===void 0||i.call(r,n,s),r.setOpen()},r.onSelect=function(n,s){var i,o;(o=(i=r.props).onSelect)===null||o===void 0||o.call(i,n,s)},r.setOpen=function(){var n,s;(s=(n=r.props).setOpen)===null||s===void 0||s.call(n,!0)},r}return e.prototype.render=function(){var r;switch(this.props.dropdownMode){case"scroll":r=this.renderScrollMode();break;case"select":r=this.renderSelectMode();break}return pe.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},r)},e})(b.Component),cve=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],IX="react-datepicker-ignore-onclickoutside",uve=function(t){var e=(t.className||"").split(/\s+/);return cve.some(function(r){return e.indexOf(r)>=0})},dve=(function(t){Ji(e,t);function e(r){var n=t.call(this,r)||this;return n.monthContainer=void 0,n.handleClickOutside=function(s){n.props.onClickOutside(s)},n.setClickOutsideRef=function(){return n.containerRef.current},n.handleDropdownFocus=function(s){var i,o;uve(s.target)&&((o=(i=n.props).onDropdownFocus)===null||o===void 0||o.call(i,s))},n.getDateInView=function(){var s=n.props,i=s.preSelection,o=s.selected,l=s.openToDate,c=PX(n.props),u=LX(n.props),f=oa(),h=l||o||i;return h||(c&&Ku(f,c)?c:u&&um(f,u)?u:f)},n.increaseMonth=function(){n.setState(function(s){var i=s.date;return{date:du(i,1)}},function(){return n.handleMonthChange(n.state.date)})},n.decreaseMonth=function(){n.setState(function(s){var i=s.date;return{date:jp(i,1)}},function(){return n.handleMonthChange(n.state.date)})},n.handleDayClick=function(s,i,o){n.props.onSelect(s,i,o),n.props.setPreSelection&&n.props.setPreSelection(s)},n.handleDayMouseEnter=function(s){n.setState({selectingDate:s}),n.props.onDayMouseEnter&&n.props.onDayMouseEnter(s)},n.handleMonthMouseLeave=function(){n.setState({selectingDate:void 0}),n.props.onMonthMouseLeave&&n.props.onMonthMouseLeave()},n.handleYearMouseEnter=function(s,i){n.setState({selectingDate:qu(oa(),i)}),n.props.onYearMouseEnter&&n.props.onYearMouseEnter(s,i)},n.handleYearMouseLeave=function(s,i){n.props.onYearMouseLeave&&n.props.onYearMouseLeave(s,i)},n.handleYearChange=function(s){var i,o,l,c;(o=(i=n.props).onYearChange)===null||o===void 0||o.call(i,s),n.setState({isRenderAriaLiveMessage:!0}),n.props.adjustDateOnChange&&(n.props.onSelect(s),(c=(l=n.props).setOpen)===null||c===void 0||c.call(l,!0)),n.props.setPreSelection&&n.props.setPreSelection(s)},n.getEnabledPreSelectionDateForMonth=function(s){if(!cc(s,n.props))return s;for(var i=kf(s),o=Oye(s),l=U0e(o,i),c=null,u=0;u<=l;u++){var f=ou(i,u);if(!cc(f,n.props)){c=f;break}}return c},n.handleMonthChange=function(s){var i,o,l,c=(i=n.getEnabledPreSelectionDateForMonth(s))!==null&&i!==void 0?i:s;n.handleCustomMonthChange(c),n.props.adjustDateOnChange&&(n.props.onSelect(c),(l=(o=n.props).setOpen)===null||l===void 0||l.call(o,!0)),n.props.setPreSelection&&n.props.setPreSelection(c)},n.handleCustomMonthChange=function(s){var i,o;(o=(i=n.props).onMonthChange)===null||o===void 0||o.call(i,s),n.setState({isRenderAriaLiveMessage:!0})},n.handleMonthYearChange=function(s){n.handleYearChange(s),n.handleMonthChange(s)},n.changeYear=function(s){n.setState(function(i){var o=i.date;return{date:qu(o,Number(s))}},function(){return n.handleYearChange(n.state.date)})},n.changeMonth=function(s){n.setState(function(i){var o=i.date;return{date:oc(o,Number(s))}},function(){return n.handleMonthChange(n.state.date)})},n.changeMonthYear=function(s){n.setState(function(i){var o=i.date;return{date:qu(oc(o,po(s)),jn(s))}},function(){return n.handleMonthYearChange(n.state.date)})},n.header=function(s){s===void 0&&(s=n.state.date);var i=em(s,n.props.locale,n.props.calendarStartDay),o=[];return n.props.showWeekNumbers&&o.push(pe.createElement("div",{key:"W",className:"react-datepicker__day-name",role:"columnheader"},pe.createElement("span",{className:"react-datepicker__sr-only"},"Week number"),pe.createElement("span",{"aria-hidden":"true"},n.props.weekLabel||"#"))),o.concat([0,1,2,3,4,5,6].map(function(l){var c=ou(i,l),u=n.formatWeekday(c,n.props.locale),f=n.props.weekDayClassName?n.props.weekDayClassName(c):void 0;return pe.createElement("div",{key:l,role:"columnheader",className:_r("react-datepicker__day-name",f)},pe.createElement("span",{className:"react-datepicker__sr-only"},Ja(c,"EEEE",n.props.locale)),pe.createElement("span",{"aria-hidden":"true"},u))}))},n.formatWeekday=function(s,i){return n.props.formatWeekDay?Dye(s,n.props.formatWeekDay,i):n.props.useWeekdaysShort?Lye(s,i):Pye(s,i)},n.decreaseYear=function(){n.setState(function(s){var i,o=s.date;return{date:Yg(o,n.props.showYearPicker?(i=n.props.yearItemNumber)!==null&&i!==void 0?i:e.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.clearSelectingDate=function(){n.setState({selectingDate:void 0})},n.renderPreviousButton=function(){var s,i,o;if(!n.props.renderCustomHeader){var l=(s=n.props.monthsShown)!==null&&s!==void 0?s:e.defaultProps.monthsShown,c=n.props.showPreviousMonths?l-1:0,u=(i=n.props.monthSelectedIn)!==null&&i!==void 0?i:c,f=jp(n.state.date,u),h;switch(!0){case n.props.showMonthYearPicker:h=b9(n.state.date,n.props);break;case n.props.showYearPicker:h=$ye(n.state.date,n.props);break;case n.props.showQuarterYearPicker:h=Fye(n.state.date,n.props);break;default:h=g9(f,n.props);break}if(!(!((o=n.props.forceShowMonthNavigation)!==null&&o!==void 0?o:e.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&h||n.props.showTimeSelectOnly)){var g=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],p=["react-datepicker__navigation","react-datepicker__navigation--previous"],v=n.decreaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(v=n.decreaseYear),h&&n.props.showDisabledMonthNavigation&&(p.push("react-datepicker__navigation--previous--disabled"),v=void 0);var w=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,y=n.props,N=y.previousMonthButtonLabel,k=N===void 0?e.defaultProps.previousMonthButtonLabel:N,S=y.previousYearButtonLabel,T=S===void 0?e.defaultProps.previousYearButtonLabel:S,_=n.props,D=_.previousMonthAriaLabel,E=D===void 0?typeof k=="string"?k:"Previous Month":D,L=_.previousYearAriaLabel,R=L===void 0?typeof T=="string"?T:"Previous Year":L;return pe.createElement("button",{type:"button",className:p.join(" "),onClick:v,onKeyDown:n.props.handleOnKeyDown,"aria-label":w?R:E},pe.createElement("span",{className:g.join(" ")},w?T:k))}}},n.increaseYear=function(){n.setState(function(s){var i,o=s.date;return{date:wf(o,n.props.showYearPicker?(i=n.props.yearItemNumber)!==null&&i!==void 0?i:e.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.renderNextButton=function(){var s;if(!n.props.renderCustomHeader){var i;switch(!0){case n.props.showMonthYearPicker:i=y9(n.state.date,n.props);break;case n.props.showYearPicker:i=Hye(n.state.date,n.props);break;case n.props.showQuarterYearPicker:i=Bye(n.state.date,n.props);break;default:i=x9(n.state.date,n.props);break}if(!(!((s=n.props.forceShowMonthNavigation)!==null&&s!==void 0?s:e.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&i||n.props.showTimeSelectOnly)){var o=["react-datepicker__navigation","react-datepicker__navigation--next"],l=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];n.props.showTimeSelect&&o.push("react-datepicker__navigation--next--with-time"),n.props.todayButton&&o.push("react-datepicker__navigation--next--with-today-button");var c=n.increaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(c=n.increaseYear),i&&n.props.showDisabledMonthNavigation&&(o.push("react-datepicker__navigation--next--disabled"),c=void 0);var u=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,f=n.props,h=f.nextMonthButtonLabel,g=h===void 0?e.defaultProps.nextMonthButtonLabel:h,p=f.nextYearButtonLabel,v=p===void 0?e.defaultProps.nextYearButtonLabel:p,w=n.props,y=w.nextMonthAriaLabel,N=y===void 0?typeof g=="string"?g:"Next Month":y,k=w.nextYearAriaLabel,S=k===void 0?typeof v=="string"?v:"Next Year":k;return pe.createElement("button",{type:"button",className:o.join(" "),onClick:c,onKeyDown:n.props.handleOnKeyDown,"aria-label":u?S:N},pe.createElement("span",{className:l.join(" ")},u?v:g))}}},n.renderCurrentMonth=function(s){s===void 0&&(s=n.state.date);var i=["react-datepicker__current-month"];return n.props.showYearDropdown&&i.push("react-datepicker__current-month--hasYearDropdown"),n.props.showMonthDropdown&&i.push("react-datepicker__current-month--hasMonthDropdown"),n.props.showMonthYearDropdown&&i.push("react-datepicker__current-month--hasMonthYearDropdown"),pe.createElement("h2",{className:i.join(" ")},Ja(s,n.props.dateFormat,n.props.locale))},n.renderYearDropdown=function(s){if(s===void 0&&(s=!1),!(!n.props.showYearDropdown||s))return pe.createElement(lve,Pn({},e.defaultProps,n.props,{date:n.state.date,onChange:n.changeYear,year:jn(n.state.date)}))},n.renderMonthDropdown=function(s){if(s===void 0&&(s=!1),!(!n.props.showMonthDropdown||s))return pe.createElement(eve,Pn({},e.defaultProps,n.props,{month:po(n.state.date),onChange:n.changeMonth}))},n.renderMonthYearDropdown=function(s){if(s===void 0&&(s=!1),!(!n.props.showMonthYearDropdown||s))return pe.createElement(nve,Pn({},e.defaultProps,n.props,{date:n.state.date,onChange:n.changeMonthYear}))},n.handleTodayButtonClick=function(s){n.props.onSelect(d9(),s),n.props.setPreSelection&&n.props.setPreSelection(d9())},n.renderTodayButton=function(){if(!(!n.props.todayButton||n.props.showTimeSelectOnly))return pe.createElement("div",{className:"react-datepicker__today-button",onClick:n.handleTodayButtonClick},n.props.todayButton)},n.renderDayNamesHeader=function(s){return pe.createElement("div",{className:"react-datepicker__day-names",role:"row"},n.header(s))},n.renderDefaultHeader=function(s){var i=s.monthDate,o=s.i;return pe.createElement("div",{className:"react-datepicker__header ".concat(n.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},n.renderCurrentMonth(i),pe.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(n.props.dropdownMode),onFocus:n.handleDropdownFocus},n.renderMonthDropdown(o!==0),n.renderMonthYearDropdown(o!==0),n.renderYearDropdown(o!==0)))},n.renderCustomHeader=function(s){var i,o,l=s.monthDate,c=s.i;if(n.props.showTimeSelect&&!n.state.monthContainer||n.props.showTimeSelectOnly)return null;var u=n.props,f=u.showYearPicker,h=u.yearItemNumber,g;if(f){var p=hf(l,h),v=p.startPeriod,w=p.endPeriod;g={startYear:v,endYear:w}}var y=g9(n.state.date,n.props),N=x9(n.state.date,n.props),k=b9(n.state.date,n.props),S=y9(n.state.date,n.props);return pe.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:n.props.onDropdownFocus},(o=(i=n.props).renderCustomHeader)===null||o===void 0?void 0:o.call(i,Pn(Pn(Pn({},n.state),f&&{visibleYearsRange:g}),{customHeaderCount:c,monthDate:l,changeMonth:n.changeMonth,changeYear:n.changeYear,decreaseMonth:n.decreaseMonth,increaseMonth:n.increaseMonth,decreaseYear:n.decreaseYear,increaseYear:n.increaseYear,prevMonthButtonDisabled:y,nextMonthButtonDisabled:N,prevYearButtonDisabled:k,nextYearButtonDisabled:S})))},n.renderYearHeader=function(s){var i=s.monthDate,o=n.props,l=o.showYearPicker,c=o.yearItemNumber,u=c===void 0?e.defaultProps.yearItemNumber:c,f=hf(i,u),h=f.startPeriod,g=f.endPeriod;return pe.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},l?"".concat(h," - ").concat(g):jn(i))},n.renderHeader=function(s){var i=s.monthDate,o=s.i,l=o===void 0?0:o,c={monthDate:i,i:l};switch(!0){case n.props.renderCustomHeader!==void 0:return n.renderCustomHeader(c);case(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker):return n.renderYearHeader(c);default:return n.renderDefaultHeader(c)}},n.renderMonths=function(){var s,i;if(!(n.props.showTimeSelectOnly||n.props.showYearPicker)){for(var o=[],l=(s=n.props.monthsShown)!==null&&s!==void 0?s:e.defaultProps.monthsShown,c=n.props.showPreviousMonths?l-1:0,u=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?wf(n.state.date,c):jp(n.state.date,c),f=(i=n.props.monthSelectedIn)!==null&&i!==void 0?i:c,h=0;h<l;++h){var g=h-f+c,p=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?wf(u,g):du(u,g),v="month-".concat(h),w=h<l-1,y=h>0;o.push(pe.createElement("div",{key:v,ref:function(N){n.monthContainer=N??void 0},className:"react-datepicker__month-container"},n.renderHeader({monthDate:p,i:h}),pe.createElement(Qye,Pn({},e.defaultProps,n.props,{containerRef:n.containerRef,ariaLabelPrefix:n.props.monthAriaLabelPrefix,day:p,onDayClick:n.handleDayClick,handleOnKeyDown:n.props.handleOnDayKeyDown,handleOnMonthKeyDown:n.props.handleOnKeyDown,onDayMouseEnter:n.handleDayMouseEnter,onMouseLeave:n.handleMonthMouseLeave,orderInDisplay:h,selectingDate:n.state.selectingDate,monthShowsDuplicateDaysEnd:w,monthShowsDuplicateDaysStart:y,dayNamesHeader:n.renderDayNamesHeader(p)}))))}return o}},n.renderYears=function(){if(!n.props.showTimeSelectOnly&&n.props.showYearPicker)return pe.createElement("div",{className:"react-datepicker__year--container"},n.renderHeader({monthDate:n.state.date}),pe.createElement(sve,Pn({},e.defaultProps,n.props,{selectingDate:n.state.selectingDate,date:n.state.date,onDayClick:n.handleDayClick,clearSelectingDate:n.clearSelectingDate,onYearMouseEnter:n.handleYearMouseEnter,onYearMouseLeave:n.handleYearMouseLeave})))},n.renderTimeSection=function(){if(n.props.showTimeSelect&&(n.state.monthContainer||n.props.showTimeSelectOnly))return pe.createElement(ave,Pn({},e.defaultProps,n.props,{onChange:n.props.onTimeChange,format:n.props.timeFormat,intervals:n.props.timeIntervals,monthRef:n.state.monthContainer}))},n.renderInputTimeSection=function(){var s=n.props.selected?new Date(n.props.selected):void 0,i=s&&zN(s)&&!!n.props.selected,o=i?"".concat(w9(s.getHours()),":").concat(w9(s.getMinutes())):"";if(n.props.showTimeInput)return pe.createElement(Gye,Pn({},e.defaultProps,n.props,{date:s,timeString:o,onChange:n.props.onTimeChange}))},n.renderAriaLiveRegion=function(){var s,i=hf(n.state.date,(s=n.props.yearItemNumber)!==null&&s!==void 0?s:e.defaultProps.yearItemNumber),o=i.startPeriod,l=i.endPeriod,c;return n.props.showYearPicker?c="".concat(o," - ").concat(l):n.props.showMonthYearPicker||n.props.showQuarterYearPicker?c=jn(n.state.date):c="".concat(ID(po(n.state.date),n.props.locale)," ").concat(jn(n.state.date)),pe.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},n.state.isRenderAriaLiveMessage&&c)},n.renderChildren=function(){if(n.props.children)return pe.createElement("div",{className:"react-datepicker__children-container"},n.props.children)},n.containerRef=b.createRef(),n.state={date:n.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},n}return Object.defineProperty(e,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,outsideClickIgnoreClass:IX,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:o1}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){var r=this;this.props.showTimeSelect&&(this.assignMonthContainer=(function(){r.setState({monthContainer:r.monthContainer})})())},e.prototype.componentDidUpdate=function(r){var n=this;if(this.props.preSelection&&(!Dn(this.props.preSelection,r.preSelection)||this.props.monthSelectedIn!==r.monthSelectedIn)){var s=!To(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return s&&n.handleCustomMonthChange(n.state.date)})}else this.props.openToDate&&!Dn(this.props.openToDate,r.openToDate)&&this.setState({date:this.props.openToDate})},e.prototype.render=function(){var r=this.props.container||kye;return pe.createElement(HN,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},pe.createElement("div",{style:{display:"contents"},ref:this.containerRef},pe.createElement(r,{className:_r("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},e})(b.Component),fve=function(t){var e=t.icon,r=t.className,n=r===void 0?"":r,s=t.onClick,i="react-datepicker__calendar-icon";if(typeof e=="string")return pe.createElement("i",{className:"".concat(i," ").concat(e," ").concat(n),"aria-hidden":"true",onClick:s});if(pe.isValidElement(e)){var o=e;return pe.cloneElement(o,{className:"".concat(o.props.className||""," ").concat(i," ").concat(n),onClick:function(l){typeof o.props.onClick=="function"&&o.props.onClick(l),typeof s=="function"&&s(l)}})}return pe.createElement("svg",{className:"".concat(i," ").concat(n),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:s},pe.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},FX=(function(t){Ji(e,t);function e(r){var n=t.call(this,r)||this;return n.portalRoot=null,n.el=document.createElement("div"),n}return e.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},e.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},e.prototype.render=function(){return lK.createPortal(this.props.children,this.el)},e})(b.Component),hve="[tabindex], a, button, input, select, textarea",mve=function(t){return(t instanceof HTMLAnchorElement||!t.disabled)&&t.tabIndex!==-1},BX=(function(t){Ji(e,t);function e(r){var n=t.call(this,r)||this;return n.getTabChildren=function(){var s;return Array.prototype.slice.call((s=n.tabLoopRef.current)===null||s===void 0?void 0:s.querySelectorAll(hve),1,-1).filter(mve)},n.handleFocusStart=function(){var s=n.getTabChildren();s&&s.length>1&&s[s.length-1].focus()},n.handleFocusEnd=function(){var s=n.getTabChildren();s&&s.length>1&&s[0].focus()},n.tabLoopRef=b.createRef(),n}return e.prototype.render=function(){var r;return((r=this.props.enableTabLoop)!==null&&r!==void 0?r:e.defaultProps.enableTabLoop)?pe.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},pe.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,pe.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},e.defaultProps={enableTabLoop:!0},e})(b.Component);function pve(t){function e(r){var n,s=typeof r.hidePopper=="boolean"?r.hidePopper:!0,i=b.useRef(null),o=Sye(Pn({open:!s,whileElementsMounted:_X,placement:r.popperPlacement,middleware:Ju([dye({padding:15}),uye(10),fye({element:i})],(n=r.popperModifiers)!==null&&n!==void 0?n:[],!0)},r.popperProps)),l=Pn(Pn({},r),{hidePopper:s,popperProps:Pn(Pn({},o),{arrowRef:i})});return pe.createElement(t,Pn({},l))}return e.displayName="withFloating(".concat(t.displayName||t.name||"Component",")"),e}var gve=function(t){var e=t.className,r=t.wrapperClassName,n=t.hidePopper,s=n===void 0?!0:n,i=t.popperComponent,o=t.targetComponent,l=t.enableTabLoop,c=t.popperOnKeyDown,u=t.portalId,f=t.portalHost,h=t.popperProps,g=t.showArrow,p=void 0;if(!s){var v=_r("react-datepicker-popper",e);p=pe.createElement(BX,{enableTabLoop:l},pe.createElement("div",{ref:h.refs.setFloating,style:h.floatingStyles,className:v,"data-placement":h.placement,onKeyDown:c},i,g&&pe.createElement(xye,{ref:h.arrowRef,context:h.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}t.popperContainer&&(p=b.createElement(t.popperContainer,{},p)),u&&!s&&(p=pe.createElement(FX,{portalId:u,portalHost:f},p));var w=_r("react-datepicker-wrapper",r);return pe.createElement(pe.Fragment,null,pe.createElement("div",{ref:h.refs.setReference,className:w},o),p)},xve=pve(gve);function bve(t,e){return t&&e?po(t)!==po(e)||jn(t)!==jn(e):t!==e}var PC="Date input not valid.",fm=(function(t){Ji(e,t);function e(r){var n=t.call(this,r)||this;return n.calendar=null,n.input=null,n.getPreSelection=function(){return n.props.openToDate?n.props.openToDate:n.props.selectsEnd&&n.props.startDate?n.props.startDate:n.props.selectsStart&&n.props.endDate?n.props.endDate:oa()},n.modifyHolidays=function(){var s;return(s=n.props.holidays)===null||s===void 0?void 0:s.reduce(function(i,o){var l=new Date(o.date);return zN(l)?Ju(Ju([],i,!0),[Pn(Pn({},o),{date:l})],!1):i},[])},n.calcInitialState=function(){var s,i=n.getPreSelection(),o=PX(n.props),l=LX(n.props),c=o&&Ku(i,I2(o))?o:l&&um(i,f9(l))?l:i;return{open:n.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(s=n.props.selectsRange?n.props.startDate:n.props.selected)!==null&&s!==void 0?s:c,highlightDates:v9(n.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},n.getInputValue=function(){var s,i=n.props,o=i.locale,l=i.startDate,c=i.endDate,u=i.rangeSeparator,f=i.selected,h=i.selectedDates,g=i.selectsMultiple,p=i.selectsRange,v=i.value,w=(s=n.props.dateFormat)!==null&&s!==void 0?s:e.defaultProps.dateFormat,y=n.state.inputValue;return typeof v=="string"?v:typeof y=="string"?y:p?_ye(l,c,{dateFormat:w,locale:o,rangeSeparator:u}):g?Aye(h??[],{dateFormat:w,locale:o}):ic(f,{dateFormat:w,locale:o})},n.resetHiddenStatus=function(){n.setState(Pn(Pn({},n.state),{wasHidden:!1}))},n.setHiddenStatus=function(){n.setState(Pn(Pn({},n.state),{wasHidden:!0}))},n.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&n.setHiddenStatus()},n.clearPreventFocusTimeout=function(){n.preventFocusTimeout&&clearTimeout(n.preventFocusTimeout)},n.setFocus=function(){var s,i;(i=(s=n.input)===null||s===void 0?void 0:s.focus)===null||i===void 0||i.call(s,{preventScroll:!0})},n.setBlur=function(){var s,i;(i=(s=n.input)===null||s===void 0?void 0:s.blur)===null||i===void 0||i.call(s),n.cancelFocusInput()},n.deferBlur=function(){requestAnimationFrame(function(){n.setBlur()})},n.setOpen=function(s,i){i===void 0&&(i=!1),n.setState({open:s,preSelection:s&&n.state.open?n.state.preSelection:n.calcInitialState().preSelection,lastPreSelectChange:LC},function(){s||n.setState(function(o){return{focused:i?o.focused:!1}},function(){!i&&n.deferBlur(),n.setState({inputValue:null})})})},n.inputOk=function(){return jf(n.state.preSelection)},n.isCalendarOpen=function(){return n.props.open===void 0?n.state.open&&!n.props.disabled&&!n.props.readOnly:n.props.open},n.handleFocus=function(s){var i,o,l=n.state.wasHidden,c=l?n.state.open:!0;l&&n.resetHiddenStatus(),n.state.preventFocus||((o=(i=n.props).onFocus)===null||o===void 0||o.call(i,s),c&&!n.props.preventOpenOnFocus&&!n.props.readOnly&&n.setOpen(!0)),n.setState({focused:!0})},n.sendFocusBackToInput=function(){n.preventFocusTimeout&&n.clearPreventFocusTimeout(),n.setState({preventFocus:!0},function(){n.preventFocusTimeout=setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})})},n.cancelFocusInput=function(){clearTimeout(n.inputFocusTimeout),n.inputFocusTimeout=void 0},n.deferFocusInput=function(){n.cancelFocusInput(),n.inputFocusTimeout=setTimeout(function(){return n.setFocus()},1)},n.handleDropdownFocus=function(){n.cancelFocusInput()},n.resetInputValue=function(){n.setState(Pn(Pn({},n.state),{inputValue:null}))},n.handleBlur=function(s){var i,o;(!n.state.open||n.props.withPortal||n.props.showTimeInput)&&((o=(i=n.props).onBlur)===null||o===void 0||o.call(i,s)),n.resetInputValue(),n.state.open&&n.props.open===!1&&n.setOpen(!1),n.setState({focused:!1})},n.handleCalendarClickOutside=function(s){var i,o;n.props.inline||n.setOpen(!1),(o=(i=n.props).onClickOutside)===null||o===void 0||o.call(i,s),n.props.withPortal&&s.preventDefault()},n.handleChange=function(){for(var s,i,o,l,c,u=[],f=0;f<arguments.length;f++)u[f]=arguments[f];var h=u[0];if(!(n.props.onChangeRaw&&(n.props.onChangeRaw.apply(n,u),!h||typeof h.isDefaultPrevented!="function"||h.isDefaultPrevented()))){n.setState({inputValue:(h==null?void 0:h.target)instanceof HTMLInputElement?h.target.value:null,lastPreSelectChange:yve});var g=n.props,p=g.selectsRange,v=g.startDate,w=g.endDate,y=(s=n.props.dateFormat)!==null&&s!==void 0?s:e.defaultProps.dateFormat,N=(i=n.props.strictParsing)!==null&&i!==void 0?i:e.defaultProps.strictParsing,k=(h==null?void 0:h.target)instanceof HTMLInputElement?h.target.value:"";if(p){var S=n.props.rangeSeparator,T=S.trim(),_=k.split(y.includes(T)?S:T,2).map(function(B){return B.trim()}),D=_[0],E=_[1],L=MC(D??"",y,n.props.locale,N),R=L?MC(E??"",y,n.props.locale,N):null,F=(v==null?void 0:v.getTime())!==(L==null?void 0:L.getTime()),A=(w==null?void 0:w.getTime())!==(R==null?void 0:R.getTime());if(!F&&!A||L&&cc(L,n.props)||R&&cc(R,n.props))return;(l=(o=n.props).onChange)===null||l===void 0||l.call(o,[L,R],h)}else{var M=MC(k,y,n.props.locale,N,(c=n.props.selected)!==null&&c!==void 0?c:void 0);(M||!k)&&n.setSelected(M,h,!0)}}},n.handleSelect=function(s,i,o){if(!n.props.readOnly){var l=n.props,c=l.selectsRange,u=l.startDate,f=l.endDate,h=l.swapRange,g=!c||u&&!f&&(h||!OC(s,u));n.props.shouldCloseOnSelect&&!n.props.showTimeSelect&&g&&n.sendFocusBackToInput(),n.props.onChangeRaw&&n.props.onChangeRaw(i),n.setSelected(s,i,!1,o),n.props.showDateSelect&&n.setState({isRenderAriaLiveMessage:!0}),!n.props.shouldCloseOnSelect||n.props.showTimeSelect?n.setPreSelection(s):g&&n.setOpen(!1)}},n.setSelected=function(s,i,o,l){var c,u,f=s;if(n.props.showYearPicker){if(f!==null&&F2(jn(f),n.props))return}else if(n.props.showMonthYearPicker){if(f!==null&&DX(f,n.props))return}else if(f!==null&&cc(f,n.props))return;var h=n.props,g=h.onChange,p=h.selectsRange,v=h.startDate,w=h.endDate,y=h.selectsMultiple,N=h.selectedDates,k=h.minTime,S=h.swapRange;if(!op(n.props.selected,f)||n.props.allowSameDay||p||y)if(f!==null&&(n.props.selected&&(!o||!n.props.showTimeSelect&&!n.props.showTimeSelectOnly&&!n.props.showTimeInput)&&(f=EC(f,{hour:Nf(n.props.selected),minute:Sf(n.props.selected),second:Zh(n.props.selected)})),!o&&(n.props.showTimeSelect||n.props.showTimeSelectOnly)&&k&&(f=EC(f,{hour:k.getHours(),minute:k.getMinutes(),second:k.getSeconds()})),n.props.inline||n.setState({preSelection:f}),n.props.focusSelectedMonth||n.setState({monthSelectedIn:l})),p){var T=!v&&!w,_=v&&!w,D=!v&&!!w,E=v&&w;T?g==null||g([f,null],i):_?f===null?g==null||g([null,null],i):OC(f,v)?S?g==null||g([f,v],i):g==null||g([f,null],i):g==null||g([v,f],i):D&&(f&&OC(f,w)?g==null||g([f,w],i):g==null||g([f,null],i)),E&&(g==null||g([f,null],i))}else if(y){if(f!==null)if(!(N!=null&&N.length))g==null||g([f],i);else{var L=N.some(function(F){return Dn(F,f)});if(L){var R=N.filter(function(F){return!Dn(F,f)});g==null||g(R,i)}else g==null||g(Ju(Ju([],N,!0),[f],!1),i)}}else g==null||g(f,i);o||((u=(c=n.props).onSelect)===null||u===void 0||u.call(c,f,i),n.setState({inputValue:null}))},n.setPreSelection=function(s){if(!n.props.readOnly){var i=jf(n.props.minDate),o=jf(n.props.maxDate),l=!0;if(s){var c=I2(s);if(i&&o)l=Xm(s,n.props.minDate,n.props.maxDate);else if(i){var u=I2(n.props.minDate);l=um(s,u)||op(c,u)}else if(o){var f=f9(n.props.maxDate);l=Ku(s,f)||op(c,f)}}l&&n.setState({preSelection:s})}},n.toggleCalendar=function(){n.setOpen(!n.state.open)},n.handleTimeChange=function(s){var i,o;if(!(n.props.selectsRange||n.props.selectsMultiple)){var l=n.props.selected?n.props.selected:n.getPreSelection(),c=n.props.selected?s:EC(l,{hour:Nf(s),minute:Sf(s)});n.setState({preSelection:c}),(o=(i=n.props).onChange)===null||o===void 0||o.call(i,c),n.props.shouldCloseOnSelect&&!n.props.showTimeInput&&(n.sendFocusBackToInput(),n.setOpen(!1)),n.props.showTimeInput&&n.setOpen(!0),(n.props.showTimeSelectOnly||n.props.showTimeSelect)&&n.setState({isRenderAriaLiveMessage:!0}),n.setState({inputValue:null})}},n.onInputClick=function(){var s,i;!n.props.disabled&&!n.props.readOnly&&n.setOpen(!0),(i=(s=n.props).onInputClick)===null||i===void 0||i.call(s)},n.onInputKeyDown=function(s){var i,o,l,c,u,f;(o=(i=n.props).onKeyDown)===null||o===void 0||o.call(i,s);var h=s.key;if(!n.state.open&&!n.props.inline&&!n.props.preventOpenOnFocus){(h===ur.ArrowDown||h===ur.ArrowUp||h===ur.Enter)&&((l=n.onInputClick)===null||l===void 0||l.call(n));return}if(n.state.open){if(h===ur.ArrowDown||h===ur.ArrowUp){s.preventDefault();var g=n.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":n.props.showWeekPicker&&n.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':n.props.showFullMonthYearPicker||n.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',p=((c=n.calendar)===null||c===void 0?void 0:c.containerRef.current)instanceof Element&&n.calendar.containerRef.current.querySelector(g);p instanceof HTMLElement&&p.focus({preventScroll:!0});return}var v=oa(n.state.preSelection);h===ur.Enter?(s.preventDefault(),s.target.blur(),n.inputOk()&&n.state.lastPreSelectChange===LC?(n.handleSelect(v,s),!n.props.shouldCloseOnSelect&&n.setPreSelection(v)):n.setOpen(!1)):h===ur.Escape?(s.preventDefault(),s.target.blur(),n.sendFocusBackToInput(),n.setOpen(!1)):h===ur.Tab&&n.setOpen(!1),n.inputOk()||(f=(u=n.props).onInputError)===null||f===void 0||f.call(u,{code:1,msg:PC})}},n.onPortalKeyDown=function(s){var i=s.key;i===ur.Escape&&(s.preventDefault(),n.setState({preventFocus:!0},function(){n.setOpen(!1),setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})}))},n.onDayKeyDown=function(s){var i,o,l,c,u,f,h=n.props,g=h.minDate,p=h.maxDate,v=h.disabledKeyboardNavigation,w=h.showWeekPicker,y=h.shouldCloseOnSelect,N=h.locale,k=h.calendarStartDay,S=h.adjustDateOnChange,T=h.inline;if((o=(i=n.props).onKeyDown)===null||o===void 0||o.call(i,s),!v){var _=s.key,D=s.shiftKey,E=oa(n.state.preSelection),L=function(Y,W){var H=W;switch(Y){case ur.ArrowRight:H=w?mj(W,1):ou(W,1);break;case ur.ArrowLeft:H=w?QI(W):Uxe(W);break;case ur.ArrowUp:H=QI(W);break;case ur.ArrowDown:H=mj(W,1);break;case ur.PageUp:H=D?Yg(W,1):jp(W,1);break;case ur.PageDown:H=D?wf(W,1):du(W,1);break;case ur.Home:H=em(W,N,k);break;case ur.End:H=Eye(W);break}return H},R=function(Y,W){for(var H=40,q=Y,X=!1,oe=0,K=L(Y,W);!X;){if(oe>=H){K=W;break}g&&K<g&&(q=ur.ArrowRight,K=cc(g,n.props)?L(q,K):g),p&&K>p&&(q=ur.ArrowLeft,K=cc(p,n.props)?L(q,K):p),cc(K,n.props)?((q===ur.PageUp||q===ur.Home)&&(q=ur.ArrowRight),(q===ur.PageDown||q===ur.End)&&(q=ur.ArrowLeft),K=L(q,K)):X=!0,oe++}return K};if(_===ur.Enter){s.preventDefault(),n.handleSelect(E,s),!y&&n.setPreSelection(E);return}else if(_===ur.Escape){s.preventDefault(),n.setOpen(!1),n.inputOk()||(c=(l=n.props).onInputError)===null||c===void 0||c.call(l,{code:1,msg:PC});return}var F=null;switch(_){case ur.ArrowLeft:case ur.ArrowRight:case ur.ArrowUp:case ur.ArrowDown:case ur.PageUp:case ur.PageDown:case ur.Home:case ur.End:F=R(_,E);break}if(!F){(f=(u=n.props).onInputError)===null||f===void 0||f.call(u,{code:1,msg:PC});return}if(s.preventDefault(),n.setState({lastPreSelectChange:LC}),S&&n.setSelected(F),n.setPreSelection(F),T){var A=po(E),M=po(F),B=jn(E),z=jn(F);A!==M||B!==z?n.setState({shouldFocusDayInline:!0}):n.setState({shouldFocusDayInline:!1})}}},n.onPopperKeyDown=function(s){var i=s.key;i===ur.Escape&&(s.preventDefault(),n.sendFocusBackToInput(),n.setOpen(!1))},n.onClearClick=function(s){s&&s.preventDefault&&s.preventDefault(),n.sendFocusBackToInput();var i=n.props,o=i.selectsRange,l=i.onChange;o?l==null||l([null,null],s):l==null||l(null,s),n.setState({inputValue:null})},n.clear=function(){n.onClearClick()},n.onScroll=function(s){typeof n.props.closeOnScroll=="boolean"&&n.props.closeOnScroll?(s.target===document||s.target===document.documentElement||s.target===document.body)&&n.setOpen(!1):typeof n.props.closeOnScroll=="function"&&n.props.closeOnScroll(s)&&n.setOpen(!1)},n.renderCalendar=function(){var s,i;return!n.props.inline&&!n.isCalendarOpen()?null:pe.createElement(dve,Pn({showMonthYearDropdown:void 0,ref:function(o){n.calendar=o}},n.props,n.state,{setOpen:n.setOpen,dateFormat:(s=n.props.dateFormatCalendar)!==null&&s!==void 0?s:e.defaultProps.dateFormatCalendar,onSelect:n.handleSelect,onClickOutside:n.handleCalendarClickOutside,holidays:qye(n.modifyHolidays()),outsideClickIgnoreClass:n.props.outsideClickIgnoreClass,onDropdownFocus:n.handleDropdownFocus,onTimeChange:n.handleTimeChange,className:n.props.calendarClassName,container:n.props.calendarContainer,handleOnKeyDown:n.props.onKeyDown,handleOnDayKeyDown:n.onDayKeyDown,setPreSelection:n.setPreSelection,dropdownMode:(i=n.props.dropdownMode)!==null&&i!==void 0?i:e.defaultProps.dropdownMode}),n.props.children)},n.renderAriaLiveRegion=function(){var s,i=n.props.locale,o=(s=n.props.dateFormat)!==null&&s!==void 0?s:e.defaultProps.dateFormat,l=n.props.showTimeInput||n.props.showTimeSelect,c=l?"PPPPp":"PPPP",u;return n.props.selectsRange?u="Selected start date: ".concat(ic(n.props.startDate,{dateFormat:c,locale:i}),". ").concat(n.props.endDate?"End date: "+ic(n.props.endDate,{dateFormat:c,locale:i}):""):n.props.showTimeSelectOnly?u="Selected time: ".concat(ic(n.props.selected,{dateFormat:o,locale:i})):n.props.showYearPicker?u="Selected year: ".concat(ic(n.props.selected,{dateFormat:"yyyy",locale:i})):n.props.showMonthYearPicker?u="Selected month: ".concat(ic(n.props.selected,{dateFormat:"MMMM yyyy",locale:i})):n.props.showQuarterYearPicker?u="Selected quarter: ".concat(ic(n.props.selected,{dateFormat:"yyyy, QQQ",locale:i})):u="Selected date: ".concat(ic(n.props.selected,{dateFormat:c,locale:i})),pe.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},u)},n.renderDateInput=function(){var s,i,o=_r(n.props.className,(s={},s[n.props.outsideClickIgnoreClass||e.defaultProps.outsideClickIgnoreClass]=n.state.open,s)),l=n.props.customInput||pe.createElement("input",{type:"text"}),c=n.props.customInputRef||"ref";return b.cloneElement(l,(i={},i[c]=function(u){n.input=u},i.value=n.getInputValue(),i.onBlur=n.handleBlur,i.onChange=n.handleChange,i.onClick=n.onInputClick,i.onFocus=n.handleFocus,i.onKeyDown=n.onInputKeyDown,i.id=n.props.id,i.name=n.props.name,i.form=n.props.form,i.autoFocus=n.props.autoFocus,i.placeholder=n.props.placeholderText,i.disabled=n.props.disabled,i.autoComplete=n.props.autoComplete,i.className=_r(l.props.className,o),i.title=n.props.title,i.readOnly=n.props.readOnly,i.required=n.props.required,i.tabIndex=n.props.tabIndex,i["aria-describedby"]=n.props.ariaDescribedBy,i["aria-invalid"]=n.props.ariaInvalid,i["aria-labelledby"]=n.props.ariaLabelledBy,i["aria-required"]=n.props.ariaRequired,i))},n.renderClearButton=function(){var s=n.props,i=s.isClearable,o=s.disabled,l=s.selected,c=s.startDate,u=s.endDate,f=s.clearButtonTitle,h=s.clearButtonClassName,g=h===void 0?"":h,p=s.ariaLabelClose,v=p===void 0?"Close":p,w=s.selectedDates,y=s.readOnly;return i&&!y&&(l!=null||c!=null||u!=null||w!=null&&w.length)?pe.createElement("button",{type:"button",className:_r("react-datepicker__close-icon",g,{"react-datepicker__close-icon--disabled":o}),disabled:o,"aria-label":v,onClick:n.onClearClick,title:f,tabIndex:-1}):null},n.state=n.calcInitialState(),n.preventFocusTimeout=void 0,n}return Object.defineProperty(e,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,outsideClickIgnoreClass:IX,readOnly:!1,rangeSeparator:EX,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:o1,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.componentDidUpdate=function(r,n){var s,i,o,l;r.inline&&bve(r.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&r.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),r.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:v9(this.props.highlightDates)}),!n.focused&&!op(r.selected,this.props.selected)&&this.setState({inputValue:null}),n.open!==this.state.open&&(n.open===!1&&this.state.open===!0&&((i=(s=this.props).onCalendarOpen)===null||i===void 0||i.call(s)),n.open===!0&&this.state.open===!1&&((l=(o=this.props).onCalendarClose)===null||l===void 0||l.call(o)))},e.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.renderInputContainer=function(){var r=this.props,n=r.showIcon,s=r.icon,i=r.calendarIconClassname,o=r.calendarIconClassName,l=r.toggleCalendarOnIconClick,c=this.state.open;return i&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),pe.createElement("div",{className:"react-datepicker__input-container".concat(n?" react-datepicker__view-calendar-icon":"")},n&&pe.createElement(fve,Pn({icon:s,className:_r(o,!o&&i,c&&"react-datepicker-ignore-onclickoutside")},l?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},e.prototype.render=function(){var r=this.renderCalendar();if(this.props.inline)return r;if(this.props.withPortal){var n=this.state.open?pe.createElement(BX,{enableTabLoop:this.props.enableTabLoop},pe.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},r)):null;return this.state.open&&this.props.portalId&&(n=pe.createElement(FX,Pn({portalId:this.props.portalId},this.props),n)),pe.createElement("div",null,this.renderInputContainer(),n)}return pe.createElement(xve,Pn({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:r,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},e})(b.Component),yve="input",LC="navigate";/*! @license DOMPurify 3.2.7 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.7/LICENSE */const{entries:$X,setPrototypeOf:C9,isFrozen:vve,getPrototypeOf:wve,getOwnPropertyDescriptor:jve}=Object;let{freeze:Fo,seal:wc,create:HX}=Object,{apply:fM,construct:hM}=typeof Reflect<"u"&&Reflect;Fo||(Fo=function(e){return e});wc||(wc=function(e){return e});fM||(fM=function(e,r){for(var n=arguments.length,s=new Array(n>2?n-2:0),i=2;i<n;i++)s[i-2]=arguments[i];return e.apply(r,s)});hM||(hM=function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),s=1;s<r;s++)n[s-1]=arguments[s];return new e(...n)});const Ow=Bo(Array.prototype.forEach),Nve=Bo(Array.prototype.lastIndexOf),_9=Bo(Array.prototype.pop),Bb=Bo(Array.prototype.push),Sve=Bo(Array.prototype.splice),B2=Bo(String.prototype.toLowerCase),RC=Bo(String.prototype.toString),IC=Bo(String.prototype.match),$b=Bo(String.prototype.replace),kve=Bo(String.prototype.indexOf),Cve=Bo(String.prototype.trim),Zc=Bo(Object.prototype.hasOwnProperty),Ao=Bo(RegExp.prototype.test),Hb=_ve(TypeError);function Bo(t){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var r=arguments.length,n=new Array(r>1?r-1:0),s=1;s<r;s++)n[s-1]=arguments[s];return fM(t,e,n)}}function _ve(t){return function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return hM(t,r)}}function An(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:B2;C9&&C9(t,null);let n=e.length;for(;n--;){let s=e[n];if(typeof s=="string"){const i=r(s);i!==s&&(vve(e)||(e[n]=i),s=i)}t[s]=!0}return t}function Ave(t){for(let e=0;e<t.length;e++)Zc(t,e)||(t[e]=null);return t}function sf(t){const e=HX(null);for(const[r,n]of $X(t))Zc(t,r)&&(Array.isArray(n)?e[r]=Ave(n):n&&typeof n=="object"&&n.constructor===Object?e[r]=sf(n):e[r]=n);return e}function zb(t,e){for(;t!==null;){const n=jve(t,e);if(n){if(n.get)return Bo(n.get);if(typeof n.value=="function")return Bo(n.value)}t=wve(t)}function r(){return null}return r}const A9=Fo(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),FC=Fo(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","slot","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),BC=Fo(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Tve=Fo(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),$C=Fo(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Mve=Fo(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),T9=Fo(["#text"]),M9=Fo(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),HC=Fo(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),E9=Fo(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Dw=Fo(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Eve=wc(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Ove=wc(/<%[\w\W]*|[\w\W]*%>/gm),Dve=wc(/\$\{[\w\W]*/gm),Pve=wc(/^data-[\-\w.\u00B7-\uFFFF]+$/),Lve=wc(/^aria-[\-\w]+$/),zX=wc(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Rve=wc(/^(?:\w+script|data):/i),Ive=wc(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),qX=wc(/^html$/i),Fve=wc(/^[a-z][.\w]*(-[.\w]+)+$/i);var O9=Object.freeze({__proto__:null,ARIA_ATTR:Lve,ATTR_WHITESPACE:Ive,CUSTOM_ELEMENT:Fve,DATA_ATTR:Pve,DOCTYPE_NAME:qX,ERB_EXPR:Ove,IS_ALLOWED_URI:zX,IS_SCRIPT_OR_DATA:Rve,MUSTACHE_EXPR:Eve,TMPLIT_EXPR:Dve});const qb={element:1,text:3,progressingInstruction:7,comment:8,document:9},Bve=function(){return typeof window>"u"?null:window},$ve=function(e,r){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let n=null;const s="data-tt-policy-suffix";r&&r.hasAttribute(s)&&(n=r.getAttribute(s));const i="dompurify"+(n?"#"+n:"");try{return e.createPolicy(i,{createHTML(o){return o},createScriptURL(o){return o}})}catch{return console.warn("TrustedTypes policy "+i+" could not be created."),null}},D9=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function UX(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Bve();const e=Mt=>UX(Mt);if(e.version="3.2.7",e.removed=[],!t||!t.document||t.document.nodeType!==qb.document||!t.Element)return e.isSupported=!1,e;let{document:r}=t;const n=r,s=n.currentScript,{DocumentFragment:i,HTMLTemplateElement:o,Node:l,Element:c,NodeFilter:u,NamedNodeMap:f=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:h,DOMParser:g,trustedTypes:p}=t,v=c.prototype,w=zb(v,"cloneNode"),y=zb(v,"remove"),N=zb(v,"nextSibling"),k=zb(v,"childNodes"),S=zb(v,"parentNode");if(typeof o=="function"){const Mt=r.createElement("template");Mt.content&&Mt.content.ownerDocument&&(r=Mt.content.ownerDocument)}let T,_="";const{implementation:D,createNodeIterator:E,createDocumentFragment:L,getElementsByTagName:R}=r,{importNode:F}=n;let A=D9();e.isSupported=typeof $X=="function"&&typeof S=="function"&&D&&D.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:M,ERB_EXPR:B,TMPLIT_EXPR:z,DATA_ATTR:Y,ARIA_ATTR:W,IS_SCRIPT_OR_DATA:H,ATTR_WHITESPACE:q,CUSTOM_ELEMENT:X}=O9;let{IS_ALLOWED_URI:oe}=O9,K=null;const V=An({},[...A9,...FC,...BC,...$C,...T9]);let J=null;const Q=An({},[...M9,...HC,...E9,...Dw]);let re=Object.seal(HX(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ce=null,Ee=null,ke=!0,ge=!0,Ce=!1,Ke=!0,fe=!1,ye=!0,ae=!1,se=!1,bt=!1,pt=!1,Re=!1,Me=!1,qe=!0,tt=!1;const Ve="user-content-";let Te=!0,le=!1,Je={},Ge=null;const ut=An({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Pe=null;const Ne=An({},["audio","video","img","source","image","track"]);let ze=null;const me=An({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),De="http://www.w3.org/1998/Math/MathML",je="http://www.w3.org/2000/svg",We="http://www.w3.org/1999/xhtml";let rt=We,ve=!1,xe=null;const Qe=An({},[De,je,We],RC);let yt=An({},["mi","mo","mn","ms","mtext"]),st=An({},["annotation-xml"]);const _e=An({},["title","style","font","a","script"]);let te=null;const Fe=["application/xhtml+xml","text/html"],Xe="text/html";let lt=null,wt=null;const $e=r.createElement("form"),Ue=function(he){return he instanceof RegExp||he instanceof Function},et=function(){let he=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(wt&&wt===he)){if((!he||typeof he!="object")&&(he={}),he=sf(he),te=Fe.indexOf(he.PARSER_MEDIA_TYPE)===-1?Xe:he.PARSER_MEDIA_TYPE,lt=te==="application/xhtml+xml"?RC:B2,K=Zc(he,"ALLOWED_TAGS")?An({},he.ALLOWED_TAGS,lt):V,J=Zc(he,"ALLOWED_ATTR")?An({},he.ALLOWED_ATTR,lt):Q,xe=Zc(he,"ALLOWED_NAMESPACES")?An({},he.ALLOWED_NAMESPACES,RC):Qe,ze=Zc(he,"ADD_URI_SAFE_ATTR")?An(sf(me),he.ADD_URI_SAFE_ATTR,lt):me,Pe=Zc(he,"ADD_DATA_URI_TAGS")?An(sf(Ne),he.ADD_DATA_URI_TAGS,lt):Ne,Ge=Zc(he,"FORBID_CONTENTS")?An({},he.FORBID_CONTENTS,lt):ut,ce=Zc(he,"FORBID_TAGS")?An({},he.FORBID_TAGS,lt):sf({}),Ee=Zc(he,"FORBID_ATTR")?An({},he.FORBID_ATTR,lt):sf({}),Je=Zc(he,"USE_PROFILES")?he.USE_PROFILES:!1,ke=he.ALLOW_ARIA_ATTR!==!1,ge=he.ALLOW_DATA_ATTR!==!1,Ce=he.ALLOW_UNKNOWN_PROTOCOLS||!1,Ke=he.ALLOW_SELF_CLOSE_IN_ATTR!==!1,fe=he.SAFE_FOR_TEMPLATES||!1,ye=he.SAFE_FOR_XML!==!1,ae=he.WHOLE_DOCUMENT||!1,pt=he.RETURN_DOM||!1,Re=he.RETURN_DOM_FRAGMENT||!1,Me=he.RETURN_TRUSTED_TYPE||!1,bt=he.FORCE_BODY||!1,qe=he.SANITIZE_DOM!==!1,tt=he.SANITIZE_NAMED_PROPS||!1,Te=he.KEEP_CONTENT!==!1,le=he.IN_PLACE||!1,oe=he.ALLOWED_URI_REGEXP||zX,rt=he.NAMESPACE||We,yt=he.MATHML_TEXT_INTEGRATION_POINTS||yt,st=he.HTML_INTEGRATION_POINTS||st,re=he.CUSTOM_ELEMENT_HANDLING||{},he.CUSTOM_ELEMENT_HANDLING&&Ue(he.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(re.tagNameCheck=he.CUSTOM_ELEMENT_HANDLING.tagNameCheck),he.CUSTOM_ELEMENT_HANDLING&&Ue(he.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(re.attributeNameCheck=he.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),he.CUSTOM_ELEMENT_HANDLING&&typeof he.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(re.allowCustomizedBuiltInElements=he.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),fe&&(ge=!1),Re&&(pt=!0),Je&&(K=An({},T9),J=[],Je.html===!0&&(An(K,A9),An(J,M9)),Je.svg===!0&&(An(K,FC),An(J,HC),An(J,Dw)),Je.svgFilters===!0&&(An(K,BC),An(J,HC),An(J,Dw)),Je.mathMl===!0&&(An(K,$C),An(J,E9),An(J,Dw))),he.ADD_TAGS&&(K===V&&(K=sf(K)),An(K,he.ADD_TAGS,lt)),he.ADD_ATTR&&(J===Q&&(J=sf(J)),An(J,he.ADD_ATTR,lt)),he.ADD_URI_SAFE_ATTR&&An(ze,he.ADD_URI_SAFE_ATTR,lt),he.FORBID_CONTENTS&&(Ge===ut&&(Ge=sf(Ge)),An(Ge,he.FORBID_CONTENTS,lt)),Te&&(K["#text"]=!0),ae&&An(K,["html","head","body"]),K.table&&(An(K,["tbody"]),delete ce.tbody),he.TRUSTED_TYPES_POLICY){if(typeof he.TRUSTED_TYPES_POLICY.createHTML!="function")throw Hb('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof he.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Hb('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');T=he.TRUSTED_TYPES_POLICY,_=T.createHTML("")}else T===void 0&&(T=$ve(p,s)),T!==null&&typeof _=="string"&&(_=T.createHTML(""));Fo&&Fo(he),wt=he}},Rt=An({},[...FC,...BC,...Tve]),Ut=An({},[...$C,...Mve]),Wt=function(he){let it=S(he);(!it||!it.tagName)&&(it={namespaceURI:rt,tagName:"template"});const kt=B2(he.tagName),cr=B2(it.tagName);return xe[he.namespaceURI]?he.namespaceURI===je?it.namespaceURI===We?kt==="svg":it.namespaceURI===De?kt==="svg"&&(cr==="annotation-xml"||yt[cr]):!!Rt[kt]:he.namespaceURI===De?it.namespaceURI===We?kt==="math":it.namespaceURI===je?kt==="math"&&st[cr]:!!Ut[kt]:he.namespaceURI===We?it.namespaceURI===je&&!st[cr]||it.namespaceURI===De&&!yt[cr]?!1:!Ut[kt]&&(_e[kt]||!Rt[kt]):!!(te==="application/xhtml+xml"&&xe[he.namespaceURI]):!1},mt=function(he){Bb(e.removed,{element:he});try{S(he).removeChild(he)}catch{y(he)}},Ct=function(he,it){try{Bb(e.removed,{attribute:it.getAttributeNode(he),from:it})}catch{Bb(e.removed,{attribute:null,from:it})}if(it.removeAttribute(he),he==="is")if(pt||Re)try{mt(it)}catch{}else try{it.setAttribute(he,"")}catch{}},Vt=function(he){let it=null,kt=null;if(bt)he="<remove></remove>"+he;else{const Et=IC(he,/^[\r\n\t ]+/);kt=Et&&Et[0]}te==="application/xhtml+xml"&&rt===We&&(he='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+he+"</body></html>");const cr=T?T.createHTML(he):he;if(rt===We)try{it=new g().parseFromString(cr,te)}catch{}if(!it||!it.documentElement){it=D.createDocument(rt,"template",null);try{it.documentElement.innerHTML=ve?_:cr}catch{}}const Xr=it.body||it.documentElement;return he&&kt&&Xr.insertBefore(r.createTextNode(kt),Xr.childNodes[0]||null),rt===We?R.call(it,ae?"html":"body")[0]:ae?it.documentElement:Xr},br=function(he){return E.call(he.ownerDocument||he,he,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT|u.SHOW_PROCESSING_INSTRUCTION|u.SHOW_CDATA_SECTION,null)},gn=function(he){return he instanceof h&&(typeof he.nodeName!="string"||typeof he.textContent!="string"||typeof he.removeChild!="function"||!(he.attributes instanceof f)||typeof he.removeAttribute!="function"||typeof he.setAttribute!="function"||typeof he.namespaceURI!="string"||typeof he.insertBefore!="function"||typeof he.hasChildNodes!="function")},wn=function(he){return typeof l=="function"&&he instanceof l};function ir(Mt,he,it){Ow(Mt,kt=>{kt.call(e,he,it,wt)})}const Wr=function(he){let it=null;if(ir(A.beforeSanitizeElements,he,null),gn(he))return mt(he),!0;const kt=lt(he.nodeName);if(ir(A.uponSanitizeElement,he,{tagName:kt,allowedTags:K}),ye&&he.hasChildNodes()&&!wn(he.firstElementChild)&&Ao(/<[/\w!]/g,he.innerHTML)&&Ao(/<[/\w!]/g,he.textContent)||he.nodeType===qb.progressingInstruction||ye&&he.nodeType===qb.comment&&Ao(/<[/\w]/g,he.data))return mt(he),!0;if(!K[kt]||ce[kt]){if(!ce[kt]&&Zt(kt)&&(re.tagNameCheck instanceof RegExp&&Ao(re.tagNameCheck,kt)||re.tagNameCheck instanceof Function&&re.tagNameCheck(kt)))return!1;if(Te&&!Ge[kt]){const cr=S(he)||he.parentNode,Xr=k(he)||he.childNodes;if(Xr&&cr){const Et=Xr.length;for(let sr=Et-1;sr>=0;--sr){const Er=w(Xr[sr],!0);Er.__removalCount=(he.__removalCount||0)+1,cr.insertBefore(Er,N(he))}}}return mt(he),!0}return he instanceof c&&!Wt(he)||(kt==="noscript"||kt==="noembed"||kt==="noframes")&&Ao(/<\/no(script|embed|frames)/i,he.innerHTML)?(mt(he),!0):(fe&&he.nodeType===qb.text&&(it=he.textContent,Ow([M,B,z],cr=>{it=$b(it,cr," ")}),he.textContent!==it&&(Bb(e.removed,{element:he.cloneNode()}),he.textContent=it)),ir(A.afterSanitizeElements,he,null),!1)},Kr=function(he,it,kt){if(qe&&(it==="id"||it==="name")&&(kt in r||kt in $e))return!1;if(!(ge&&!Ee[it]&&Ao(Y,it))){if(!(ke&&Ao(W,it))){if(!J[it]||Ee[it]){if(!(Zt(he)&&(re.tagNameCheck instanceof RegExp&&Ao(re.tagNameCheck,he)||re.tagNameCheck instanceof Function&&re.tagNameCheck(he))&&(re.attributeNameCheck instanceof RegExp&&Ao(re.attributeNameCheck,it)||re.attributeNameCheck instanceof Function&&re.attributeNameCheck(it,he))||it==="is"&&re.allowCustomizedBuiltInElements&&(re.tagNameCheck instanceof RegExp&&Ao(re.tagNameCheck,kt)||re.tagNameCheck instanceof Function&&re.tagNameCheck(kt))))return!1}else if(!ze[it]){if(!Ao(oe,$b(kt,q,""))){if(!((it==="src"||it==="xlink:href"||it==="href")&&he!=="script"&&kve(kt,"data:")===0&&Pe[he])){if(!(Ce&&!Ao(H,$b(kt,q,"")))){if(kt)return!1}}}}}}return!0},Zt=function(he){return he!=="annotation-xml"&&IC(he,X)},ct=function(he){ir(A.beforeSanitizeAttributes,he,null);const{attributes:it}=he;if(!it||gn(he))return;const kt={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:J,forceKeepAttr:void 0};let cr=it.length;for(;cr--;){const Xr=it[cr],{name:Et,namespaceURI:sr,value:Er}=Xr,Nr=lt(Et),dr=Er;let Br=Et==="value"?dr:Cve(dr);if(kt.attrName=Nr,kt.attrValue=Br,kt.keepAttr=!0,kt.forceKeepAttr=void 0,ir(A.uponSanitizeAttribute,he,kt),Br=kt.attrValue,tt&&(Nr==="id"||Nr==="name")&&(Ct(Et,he),Br=Ve+Br),ye&&Ao(/((--!?|])>)|<\/(style|title|textarea)/i,Br)){Ct(Et,he);continue}if(Nr==="attributename"&&IC(Br,"href")){Ct(Et,he);continue}if(kt.forceKeepAttr)continue;if(!kt.keepAttr){Ct(Et,he);continue}if(!Ke&&Ao(/\/>/i,Br)){Ct(Et,he);continue}fe&&Ow([M,B,z],zr=>{Br=$b(Br,zr," ")});const ba=lt(he.nodeName);if(!Kr(ba,Nr,Br)){Ct(Et,he);continue}if(T&&typeof p=="object"&&typeof p.getAttributeType=="function"&&!sr)switch(p.getAttributeType(ba,Nr)){case"TrustedHTML":{Br=T.createHTML(Br);break}case"TrustedScriptURL":{Br=T.createScriptURL(Br);break}}if(Br!==dr)try{sr?he.setAttributeNS(sr,Et,Br):he.setAttribute(Et,Br),gn(he)?mt(he):_9(e.removed)}catch{Ct(Et,he)}}ir(A.afterSanitizeAttributes,he,null)},dt=function Mt(he){let it=null;const kt=br(he);for(ir(A.beforeSanitizeShadowDOM,he,null);it=kt.nextNode();)ir(A.uponSanitizeShadowNode,it,null),Wr(it),ct(it),it.content instanceof i&&Mt(it.content);ir(A.afterSanitizeShadowDOM,he,null)};return e.sanitize=function(Mt){let he=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},it=null,kt=null,cr=null,Xr=null;if(ve=!Mt,ve&&(Mt="<!-->"),typeof Mt!="string"&&!wn(Mt))if(typeof Mt.toString=="function"){if(Mt=Mt.toString(),typeof Mt!="string")throw Hb("dirty is not a string, aborting")}else throw Hb("toString is not a function");if(!e.isSupported)return Mt;if(se||et(he),e.removed=[],typeof Mt=="string"&&(le=!1),le){if(Mt.nodeName){const Er=lt(Mt.nodeName);if(!K[Er]||ce[Er])throw Hb("root node is forbidden and cannot be sanitized in-place")}}else if(Mt instanceof l)it=Vt("<!---->"),kt=it.ownerDocument.importNode(Mt,!0),kt.nodeType===qb.element&&kt.nodeName==="BODY"||kt.nodeName==="HTML"?it=kt:it.appendChild(kt);else{if(!pt&&!fe&&!ae&&Mt.indexOf("<")===-1)return T&&Me?T.createHTML(Mt):Mt;if(it=Vt(Mt),!it)return pt?null:Me?_:""}it&&bt&&mt(it.firstChild);const Et=br(le?Mt:it);for(;cr=Et.nextNode();)Wr(cr),ct(cr),cr.content instanceof i&&dt(cr.content);if(le)return Mt;if(pt){if(Re)for(Xr=L.call(it.ownerDocument);it.firstChild;)Xr.appendChild(it.firstChild);else Xr=it;return(J.shadowroot||J.shadowrootmode)&&(Xr=F.call(n,Xr,!0)),Xr}let sr=ae?it.outerHTML:it.innerHTML;return ae&&K["!doctype"]&&it.ownerDocument&&it.ownerDocument.doctype&&it.ownerDocument.doctype.name&&Ao(qX,it.ownerDocument.doctype.name)&&(sr="<!DOCTYPE "+it.ownerDocument.doctype.name+`>
`+sr),fe&&Ow([M,B,z],Er=>{sr=$b(sr,Er," ")}),T&&Me?T.createHTML(sr):sr},e.setConfig=function(){let Mt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};et(Mt),se=!0},e.clearConfig=function(){wt=null,se=!1},e.isValidAttribute=function(Mt,he,it){wt||et({});const kt=lt(Mt),cr=lt(he);return Kr(kt,cr,it)},e.addHook=function(Mt,he){typeof he=="function"&&Bb(A[Mt],he)},e.removeHook=function(Mt,he){if(he!==void 0){const it=Nve(A[Mt],he);return it===-1?void 0:Sve(A[Mt],it,1)[0]}return _9(A[Mt])},e.removeHooks=function(Mt){A[Mt]=[]},e.removeAllHooks=function(){A=D9()},e}var pd=UX();const Hve=Object.freeze(Object.defineProperty({__proto__:null,default:pd},Symbol.toStringTag,{value:"Module"}));function zve(t,e){const[r,n]=b.useState(t);return b.useEffect(()=>{const s=setTimeout(()=>{n(t)},e);return()=>{clearTimeout(s)}},[t,e]),r}const Pw=({title:t,value:e,change:r,icon:n})=>{const s=r.startsWith("+");return a.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),a.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),a.jsxs("p",{className:`mt-3 text-xs font-semibold ${s?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})},P9=({isOpen:t,onClose:e,title:r,children:n,className:s,maxWidth:i="max-w-xl"})=>a.jsx(ar,{children:t&&a.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:a.jsxs(O.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${i} ${s||"w-full"}`,children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:r}),a.jsx("button",{onClick:e,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:a.jsx(Ft,{className:"text-xl"})})]}),a.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:n})]})})}),mM=(t,e,r,n)=>{if(t==null||e===null||e===void 0||r===null||r===void 0||n===null||n===void 0)return null;const s=t*60+e,i=r*60+n;let o=Math.abs(i-s);return o>720&&(o=1440-o),o},pM=t=>{if(t==null||isNaN(t)||t<0)return"-";const e=Math.floor(t/60),r=t%60;return t===0?"0min":e===0&&r>0?`${r}min`:e>0&&r===0?`${e}h`:`${e}h ${r}min`},qve=({record:t,onClose:e})=>{const r=(h,g)=>{if(h==null||g===null||g===void 0)return"-";const p=h.toString().padStart(2,"0"),v=g.toString().padStart(2,"0");return`${p}:${v}`},n=h=>h==null?"-":typeof h=="object"?h.name||JSON.stringify(h):typeof h=="string"?h.trim()!==""?h.trim():"-":typeof h=="number"?h.toLocaleString("id-ID"):String(h),s=mM(t.stopJam,t.stopMenit,t.startJam,t.startMenit),i=pM(s),o=({status:h})=>{const g={PM:"bg-blue-100 text-blue-800 border-blue-300",Harmonisasi:"bg-green-100 text-green-800 border-green-300",CIP:"bg-purple-100 text-purple-800 border-purple-300",Unplanned:"bg-red-100 text-red-800 border-red-300",Standby:"bg-yellow-100 text-yellow-800 border-yellow-300"};return a.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold border ${g[h]||"bg-gray-100 text-gray-800 border-gray-300"}`,children:h})},l=({activity:h})=>{const g={Perbaikan:"bg-orange-100 text-orange-800 border-orange-300",Perawatan:"bg-cyan-100 text-cyan-800 border-cyan-300"};return a.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold border ${g[h]||"bg-gray-100 text-gray-800 border-gray-300"}`,children:h})},c=({title:h,children:g,icon:p})=>a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[a.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-4 border-b border-gray-200",children:a.jsxs("div",{className:"flex items-center",children:[p&&a.jsx("div",{className:"mr-3 text-blue-600",children:p}),a.jsx("h3",{className:"text-lg font-bold text-gray-900",children:h})]})}),a.jsx("div",{className:"p-6",children:g})]}),u=({label:h,value:g,icon:p,fullWidth:v=!1,priority:w="medium"})=>{const y={high:"border-l-4 border-l-blue-500 bg-blue-25",medium:"border-l-2 border-l-gray-200",low:"border-l border-l-gray-100"};return a.jsx("div",{className:`${v?"col-span-full":""}`,children:a.jsx("div",{className:`p-4 rounded-lg ${y[w]} transition-all duration-200 hover:shadow-sm`,children:a.jsxs("div",{className:"flex items-start space-x-3",children:[p&&a.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:p}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1",children:h}),a.jsx("p",{className:"text-sm font-medium text-gray-900 leading-relaxed",children:g})]})]})})})},f=({label:h,htmlContent:g,icon:p,fullWidth:v=!1})=>{if(!g)return a.jsx(u,{label:h,value:"-",icon:p,fullWidth:v,priority:"low"});const w=pd.sanitize(g,{ALLOWED_TAGS:["h1","h2","h3","h4","h5","h6","p","br","span","div","ol","ul","li","strong","b","em","i","u","s","strike","code","mark","sub","sup","blockquote","pre"],ALLOWED_ATTR:["style","class","data-color","align","type","start"]});return a.jsx("div",{className:`${v?"col-span-full":""}`,children:a.jsx("div",{className:"p-4 rounded-lg border-l-2 border-l-blue-200 bg-blue-25 transition-all duration-200 hover:shadow-sm",children:a.jsxs("div",{className:"flex items-start space-x-3",children:[p&&a.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:p}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:h}),a.jsx("div",{className:`rich-text-content text-sm text-gray-900 leading-relaxed prose prose-sm max-w-none\r
                          prose-headings:font-semibold prose-p:my-2 prose-ul:my-2 prose-ol:my-2\r
                          prose-li:my-1 prose-strong:font-semibold prose-em:italic`,dangerouslySetInnerHTML:{__html:w}})]})]})})})};return a.jsxs("div",{className:"space-y-6 max-h-[70vh] overflow-y-auto custom-scrollbar pr-2",children:[a.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6",children:a.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Maintenance Record"}),a.jsx(l,{activity:t.perbaikanPerawatan}),a.jsx(o,{status:t.stopTime})]}),a.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(ga,{className:"w-4 h-4"}),"Date: ",n(t.date)]}),a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(Cr,{className:"w-4 h-4"}),"Duration: ",n(i)]}),a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(ia,{className:"w-4 h-4"}),"Machine: ",n(t.mesin)]})]})]})})}),a.jsx(c,{title:"Basic Information",icon:a.jsx(fn,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsx(u,{label:"Date",value:n(t.date),icon:a.jsx(ga,{className:"w-4 h-4"}),priority:"high"}),a.jsx(u,{label:"Shift",value:n(t.shift),icon:a.jsx(Cr,{className:"w-4 h-4"})}),a.jsx(u,{label:"Group",value:n(t.group),icon:a.jsx(Pa,{className:"w-4 h-4"})}),a.jsx(u,{label:"Machine",value:n(t.mesin),icon:a.jsx(qs,{className:"w-4 h-4"}),priority:"high"}),a.jsx(u,{label:"Unit",value:n(t.unit),icon:a.jsx(Ya,{className:"w-4 h-4"})}),a.jsx(u,{label:"Running Hour",value:n(t.runningHour),icon:a.jsx(Cr,{className:"w-4 h-4"})})]})}),a.jsx(c,{title:"Time Details",icon:a.jsx(Cr,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsx(u,{label:"Stop Time",value:r(t.stopJam,t.stopMenit),icon:a.jsx(Cr,{className:"w-4 h-4"}),priority:"high"}),a.jsx(u,{label:"Start Time",value:r(t.startJam,t.startMenit),icon:a.jsx(Cr,{className:"w-4 h-4"}),priority:"high"}),a.jsx(u,{label:"Duration",value:n(i),icon:a.jsx(Cr,{className:"w-4 h-4"}),priority:"high"}),a.jsx(u,{label:"Stop Type",value:n(t.stopTime),icon:a.jsx(Hr,{className:"w-4 h-4"})})]})}),a.jsx(c,{title:"Issue & Problem Details",icon:a.jsx(Hr,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(u,{label:"Item Trouble",value:n(t.itemTrouble),icon:a.jsx(ia,{className:"w-4 h-4"}),priority:"high"}),a.jsx(u,{label:"Issue Description",value:n(t.jenisGangguan),icon:a.jsx(Hr,{className:"w-4 h-4"}),priority:"high"}),a.jsx(f,{label:"Action Taken",htmlContent:t.bentukTindakan||"",icon:a.jsx(fr,{className:"w-4 h-4"}),fullWidth:!0}),a.jsx(u,{label:"Root Cause",value:n(t.rootCause),icon:a.jsx(Da,{className:"w-4 h-4"}),fullWidth:!0})]})}),a.jsx(c,{title:"Maintenance Activity",icon:a.jsx(ia,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(u,{label:"Activity Type",value:n(t.perbaikanPerawatan),icon:a.jsx(qs,{className:"w-4 h-4"}),priority:"high"}),a.jsx(u,{label:"Specific Activity",value:n(t.jenisAktivitas),icon:a.jsx(ia,{className:"w-4 h-4"})}),a.jsx(u,{label:"Kegiatan",value:n(t.kegiatan),icon:a.jsx(fn,{className:"w-4 h-4"}),fullWidth:!0})]})}),a.jsx(c,{title:"Spare Parts Used",icon:a.jsx(Ya,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsx(u,{label:"Part Code",value:n(t.kodePart),icon:a.jsx(Ya,{className:"w-4 h-4"})}),a.jsx(u,{label:"Part Name",value:n(t.sparePart),icon:a.jsx(Ya,{className:"w-4 h-4"}),priority:"high"}),a.jsx(u,{label:"ID Part",value:n(t.idPart),icon:a.jsx(Dp,{className:"w-4 h-4"})}),a.jsx(u,{label:"Quantity",value:n(t.jumlah),icon:a.jsx(bc,{className:"w-4 h-4"})}),a.jsx(u,{label:"Unit",value:n(t.unitSparePart),icon:a.jsx(Ya,{className:"w-4 h-4"}),fullWidth:!0})]})}),a.jsx(c,{title:"Event Timeline",icon:a.jsx(Cr,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center p-3 bg-red-50 rounded-lg border border-red-200",children:[a.jsx("span",{className:"text-sm font-medium text-red-800",children:"Machine Stopped"}),a.jsx("span",{className:"text-sm text-red-600",children:r(t.stopJam,t.stopMenit)})]}),a.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg border border-blue-200",children:[a.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Maintenance Started"}),a.jsx("span",{className:"text-sm text-blue-600",children:r(t.startJam,t.startMenit)})]}),a.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-lg border border-green-200",children:[a.jsx("span",{className:"text-sm font-medium text-green-800",children:"Total Downtime"}),a.jsx("span",{className:"text-sm text-green-600",children:n(i)})]})]})}),a.jsx(c,{title:"Technical Summary",icon:a.jsx(bc,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"p-4 bg-blue-25 rounded-lg border-l-4 border-l-blue-400",children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Maintenance Type"}),a.jsx("p",{className:"text-lg font-bold text-blue-600",children:n(t.perbaikanPerawatan)})]}),a.jsxs("div",{className:"p-4 bg-green-25 rounded-lg border-l-4 border-l-green-400",children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Efficiency Impact"}),a.jsxs("p",{className:"text-lg font-bold text-green-600",children:[n(i)," downtime"]})]})]})}),a.jsx("div",{className:"flex justify-end pt-6 border-t border-gray-100 mt-8",children:a.jsx(O.button,{type:"button",onClick:e,whileHover:{scale:1.03,boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.97},className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold",children:"Close Details"})})]})},Uve=()=>{const[t,e]=b.useState(()=>{const ct=localStorage.getItem("sidebarOpen");return ct?JSON.parse(ct):!1}),[r,n]=b.useState(""),[s,i]=b.useState(!1),[o,l]=b.useState([]),[c,u]=b.useState([]),[f,h]=b.useState(!1),[g,p]=b.useState(!1),[v,w]=b.useState(null),[y,N]=b.useState(1),[k]=b.useState(10),{user:S,getMachineHistories:T,deleteMachineHistory:_,isAuthenticated:D,isMasterDataLoading:E,hasPermission:L}=or(),[R,F]=b.useState([]),[A,M]=b.useState([]),[B,z]=b.useState(!0),[Y,W]=b.useState(null),[H,q]=b.useState([]),X=tr(),[oe,K]=b.useState(window.innerWidth<768),[V,J]=b.useState(!1),[Q,re]=b.useState(null),[ce,Ee]=b.useState(null),[ke,ge]=b.useState(null),[Ce,Ke]=b.useState([]),[fe,ye]=b.useState(!1),[ae,se]=b.useState(!1),bt=b.useRef(null),pt=b.useRef(null),[Re,Me]=b.useState({key:"date",direction:"descending"}),[qe,tt]=b.useState(!1),Ve=b.useRef(null),Te=b.useRef(null),[le,Je]=b.useState(!1),[Ge,ut]=b.useState(!1),[Pe,Ne]=b.useState(null),[ze,me]=b.useState(!1),De=b.useRef(null),[je,We]=b.useState(!1),rt=b.useRef(null),ve=location.pathname==="/machinehistory",xe=location.pathname==="/machinehistory/reports",Qe=zve(r,300),yt=b.useMemo(()=>[{id:"machine",name:"Machine Name"},{id:"issue",name:"Issue Description"},{id:"recordId",name:"Record ID"},{id:"itemTrouble",name:"Item Trouble"}],[]),st=b.useMemo(()=>[{value:"Perbaikan",label:"Repairs"},{value:"Perawatan",label:"Maintenance"}],[]),_e=b.useMemo(()=>[{value:"1",label:"Shift 1"},{value:"2",label:"Shift 2"},{value:"3",label:"Shift 3"}],[]),te=b.useCallback(async()=>{try{z(!0);const ct=await T();F(ct||[]),M(ct||[]);const dt=Array.from(new Set(ct.map(Mt=>Mt.mesin))).filter(Boolean).map(Mt=>({id:Mt,name:Mt}));q(dt)}catch(ct){console.error("Failed to load data:",ct),F([]),q([])}finally{z(!1)}},[T]),Fe=ct=>{const dt=ct.target.value;n(dt)};b.useEffect(()=>{N(1)},[]),b.useEffect(()=>{te()},[te]),b.useEffect(()=>{let ct=[...R];if(Qe.trim()){const dt=Qe.toLowerCase().trim();ct=ct.filter(Mt=>{var Er,Nr,dr,Br;const he=dt.split(":");let it="all",kt=dt;he.length>1&&yt.some(ba=>ba.name.toLowerCase()===he[0].trim())&&(it=he[0].trim(),kt=he.slice(1).join(":").trim());const cr=(Er=Mt.mesin)==null?void 0:Er.toLowerCase().includes(kt),Xr=(Nr=Mt.jenisGangguan)==null?void 0:Nr.toLowerCase().includes(kt),Et=(dr=Mt.id)==null?void 0:dr.toLowerCase().includes(kt),sr=(Br=Mt.itemTrouble)==null?void 0:Br.toLowerCase().includes(kt);return it==="machine name"?cr:it==="issue description"?Xr:it==="record id"?Et:it==="item trouble"?sr:cr||Xr||Et||sr})}if(ce){const dt=new Date(ce);dt.setHours(0,0,0,0),ct=ct.filter(Mt=>{const he=new Date(Mt.date);return he.setHours(0,0,0,0),he>=dt})}if(ke){const dt=new Date(ke);dt.setHours(23,59,59,999),ct=ct.filter(Mt=>{const he=new Date(Mt.date);return he.setHours(0,0,0,0),he<=dt})}o.length>0&&(ct=ct.filter(dt=>o.includes(dt.perbaikanPerawatan))),c.length>0&&(ct=ct.filter(dt=>c.includes(dt.mesin))),Ce.length>0&&(ct=ct.filter(dt=>Ce.includes(dt.shift))),Re!==null&&ct.sort((dt,Mt)=>{const he=$e(dt[Re.key]),it=$e(Mt[Re.key]);return he<it?Re.direction==="ascending"?-1:1:he>it?Re.direction==="ascending"?1:-1:0}),M(ct)},[R,Qe,ce,ke,o,c,Ce,Re,yt,st,_e]),b.useEffect(()=>{const ct=()=>{K(window.innerWidth<768),window.innerWidth<768&&e(!1)};return window.addEventListener("resize",ct),()=>window.removeEventListener("resize",ct)},[]),b.useEffect(()=>{const ct=dt=>{bt.current&&!bt.current.contains(dt.target)&&ye(!1),pt.current&&!pt.current.contains(dt.target)&&se(!1),Ve.current&&!Ve.current.contains(dt.target)&&!dt.target.closest(".search-suggestions")&&tt(!1),Te.current&&!Te.current.contains(dt.target)&&!dt.target.closest(".machine-filter-toggle")&&Je(!1),De.current&&!De.current.contains(dt.target)&&!dt.target.closest(".status-filter-toggle")&&me(!1),rt.current&&!rt.current.contains(dt.target)&&!dt.target.closest(".shift-filter-toggle")&&We(!1)};return document.addEventListener("mousedown",ct),()=>{document.removeEventListener("mousedown",ct)}},[]);const Xe=pe.useMemo(()=>{if(!r)return yt;const ct=r.toLowerCase();return yt.filter(dt=>dt.name.toLowerCase().includes(ct))},[r,yt]),lt=ct=>{var dt;n(`${ct}: `),tt(!1),(dt=Ve.current)==null||dt.focus()},wt=ct=>{let dt="ascending";Re&&Re.key===ct&&Re.direction==="ascending"&&(dt="descending"),Me({key:ct,direction:dt})},$e=ct=>typeof ct=="object"&&ct!==null?ct.name||ct.toString():(ct==null?void 0:ct.toString())||"",Ue=async ct=>{try{await _(ct),F(R.filter(dt=>dt.id!==ct)),J(!1),re(null)}catch(dt){console.error("Failed to delete record:",dt),W("Failed to delete record. Please try again.")}},et=y*k,Rt=et-k,Ut=A.slice(Rt,et),Wt=Math.ceil(A.length/k),mt=ct=>N(ct),Ct=(ct,dt)=>{if(ct==null||dt===null||dt===void 0)return"-";const Mt=ct.toString().padStart(2,"0"),he=dt.toString().padStart(2,"0");return`${Mt}:${he}`},Vt=ct=>{const dt=mM(ct.stopJam,ct.stopMenit,ct.startJam,ct.startMenit);return pM(dt)},br=ct=>{switch((ct||"").toLowerCase().trim()){case"pm":return"bg-blue-100 text-blue-800 border border-blue-200";case"harmonisasi":return"bg-green-100 text-green-800 border border-green-200";case"cip":return"bg-purple-100 text-purple-800 border border-purple-200";case"unplanned":return"bg-red-100 text-red-800 border border-red-200";case"standby":return"bg-yellow-100 text-yellow-800 border border-yellow-200";default:return"bg-gray-100 text-gray-800 border border-gray-200"}},gn=(ct,dt)=>{u(dt?Mt=>[...Mt,ct]:Mt=>Mt.filter(he=>he!==ct))},wn=(ct,dt)=>{l(dt?Mt=>[...Mt,ct]:Mt=>Mt.filter(he=>he!==ct))},ir=(ct,dt)=>{Ke(dt?Mt=>[...Mt,ct]:Mt=>Mt.filter(he=>he!==ct))},Wr=()=>{alert("Import functionality is not yet implemented.")},Kr=ct=>{w(ct),p(!0)},Zt=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!t)),e(ct=>!ct)};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Machine History",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:a.jsx(qg,{}),isMobile:oe,toggleSidebar:Zt}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"isi style mb-6 flex space-x-6 border-b border-gray-200",children:[a.jsx(O.div,{whileTap:{scale:.98},onClick:()=>X("machinehistory"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${ve?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Record"}),a.jsx(O.div,{whileTap:{scale:.98},onClick:()=>X("/machinehistory/reports"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${xe?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Reports"})]}),a.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Machine History ",a.jsx("span",{className:"text-blue-600",children:"Records"})]}),a.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Effortlessly track, analyze, and manage machine downtime and maintenance activities to optimize factory operations."})]}),a.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[L("create_machine_history")&&a.jsxs(O.button,{onClick:()=>X("/machinehistory/addmachinehistory"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[a.jsx(pa,{className:"text-base"}),a.jsx("span",{children:"Add Record"})]}),a.jsxs(O.button,{onClick:Wr,whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(ni,{className:"text-base"}),a.jsx("span",{children:"Import"})]}),a.jsxs(O.button,{onClick:()=>h(!f),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(Ki,{className:"text-base"}),a.jsx("span",{children:"Filters"}),a.jsx(O.span,{animate:{rotate:f?180:0},transition:{duration:.2},children:a.jsx(la,{className:"text-base"})})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[a.jsx(Pw,{title:"Total Records",value:A.length.toLocaleString("id-ID"),change:"+8%",icon:a.jsx(fn,{})}),a.jsx(Pw,{title:"Avg Durationtime",value:A.length>0?pM(Math.round(A.reduce((ct,dt)=>{const Mt=mM(dt.stopJam,dt.stopMenit,dt.startJam,dt.startMenit)||0;return ct+Mt},0)/A.length)):"0min",change:"-5%",icon:a.jsx(Cr,{})}),a.jsx(Pw,{title:"Repairs",value:A.filter(ct=>ct.perbaikanPerawatan==="Perbaikan").length.toLocaleString("id-ID"),change:"+3",icon:a.jsx(ia,{})}),a.jsx(Pw,{title:"Maintenance",value:A.filter(ct=>ct.perbaikanPerawatan==="Perawatan").length.toLocaleString("id-ID"),change:"+2",icon:a.jsx(fr,{})})]}),a.jsxs(O.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[a.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Da,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),a.jsx("input",{ref:Ve,type:"text",placeholder:"Search by machine, ID, or issue...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:r,onChange:Fe,onFocus:()=>tt(!0),"aria-label":"Search records"}),a.jsx(ar,{children:qe&&Xe.length>0&&a.jsx(O.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.15},className:"search-suggestions absolute left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-10 max-h-56 overflow-y-auto custom-scrollbar",children:Xe.map(ct=>a.jsx(O.button,{onClick:()=>lt(ct.name),whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},className:"w-full text-left p-3 text-gray-700 hover:text-blue-700 transition-colors duration-150 text-sm",role:"option",children:a.jsx("span",{className:"font-semibold",children:ct.name})},ct.id))})})]})}),a.jsx(ar,{children:f&&a.jsxs(O.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full",children:[a.jsxs("div",{className:"flex items-center space-x-2 bg-white p-2.5 rounded-lg border border-blue-200 shadow-sm",children:[a.jsx(ga,{className:"text-gray-500 text-base"}),a.jsx(fm,{selected:ce,onChange:ct=>Ee(ct),selectsStart:!0,startDate:ce,endDate:ke,placeholderText:"Start Date",className:"w-24 focus:outline-none bg-transparent text-sm text-gray-800 placeholder-gray-400",dateFormat:"dd/MM/yyyy",isClearable:!0,"aria-label":"Start Date"}),a.jsx("span",{className:"text-gray-400",children:"-"}),a.jsx(fm,{selected:ke,onChange:ct=>ge(ct),selectsEnd:!0,startDate:ce,endDate:ke,minDate:ce||void 0,placeholderText:"End Date",className:"w-24 focus:outline-none bg-transparent text-sm text-gray-800 placeholder-gray-400",dateFormat:"dd/MM/yyyy",isClearable:!0,"aria-label":"End Date"}),(ce||ke)&&a.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{Ee(null),ge(null)},className:"p-1 rounded-full text-gray-400 hover:bg-gray-100 transition-colors",title:"Clear Dates","aria-label":"Clear date range",children:a.jsx(Ft,{className:"text-base"})})]}),a.jsxs("div",{ref:De,className:"relative w-full",children:[a.jsxs("button",{type:"button",className:"status-filter-toggle w-full border border-blue-200 rounded-lg px-4 py-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm text-left flex justify-between items-center transition-all duration-200 shadow-sm cursor-pointer",onClick:ct=>{ct.stopPropagation(),me(!ze)},"aria-expanded":ze,"aria-haspopup":"true","aria-label":"Filter by Type",children:[a.jsx("span",{children:o.length>0?o.length===st.length?"All Types":`Selected (${o.length})`:"All Types"}),a.jsx(la,{className:`transform transition-transform ${ze?"rotate-180":"rotate-0"} text-gray-500 text-base`})]}),a.jsx(ar,{children:ze&&a.jsxs(O.div,{initial:{opacity:0,y:5,height:0},animate:{opacity:1,y:0,height:"auto"},exit:{opacity:0,y:5,height:0},transition:{duration:.15},className:"absolute top-full left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-50 max-h-56 overflow-y-auto custom-scrollbar",role:"listbox",children:[a.jsxs("label",{className:"flex items-center p-2.5 hover:bg-blue-50 cursor-pointer border-b border-blue-50",role:"option",children:[a.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 rounded focus:ring-blue-500 transition duration-150 ease-in-out",checked:o.length===st.length&&st.length>0,onChange:ct=>{ct.target.checked?l(st.map(dt=>dt.value)):l([])}}),a.jsx("span",{className:"ml-2 text-gray-800 font-semibold text-sm",children:"Select All"})]}),st.map(ct=>a.jsxs("label",{className:"flex items-center p-2.5 hover:bg-blue-50 cursor-pointer",role:"option",children:[a.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 rounded focus:ring-blue-500 transition duration-150 ease-in-out",checked:o.includes(ct.value),onChange:dt=>wn(ct.value,dt.target.checked)}),a.jsx("span",{className:"ml-2 text-gray-800 text-sm",children:ct.label})]},ct.value))]})})]}),a.jsxs("div",{ref:Te,className:"relative w-full",children:[a.jsxs("button",{type:"button",className:"machine-filter-toggle w-full border border-blue-200 rounded-lg px-4 py-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm text-left flex justify-between items-center transition-all duration-200 shadow-sm cursor-pointer",onClick:()=>Je(!le),"aria-expanded":le,"aria-haspopup":"true","aria-label":"Filter by Machine",children:[a.jsx("span",{children:c.length>0?c.length===H.length&&H.length>0?"All Machines":`Selected (${c.length})`:"All Machines"}),a.jsx(la,{className:`transform transition-transform ${le?"rotate-180":"rotate-0"} text-gray-500 text-base`})]}),a.jsx(ar,{children:le&&a.jsxs(O.div,{initial:{opacity:0,y:5,height:0},animate:{opacity:1,y:0,height:"auto"},exit:{opacity:0,y:5,height:0},transition:{duration:.15},className:"absolute top-full left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-20 max-h-56 overflow-y-auto custom-scrollbar",role:"listbox",children:[a.jsxs("label",{className:"flex items-center p-2.5 hover:bg-blue-50 cursor-pointer border-b border-blue-50",role:"option",children:[a.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 rounded focus:ring-blue-500 transition duration-150 ease-in-out",checked:c.length===H.length&&H.length>0,onChange:ct=>{ct.target.checked?u(H.map(dt=>dt.name)):u([])}}),a.jsx("span",{className:"ml-2 text-gray-800 font-semibold text-sm",children:"Select All"})]}),H.map(ct=>a.jsxs("label",{className:"flex items-center p-2.5 hover:bg-blue-50 cursor-pointer",role:"option",children:[a.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 rounded focus:ring-blue-500 transition duration-150 ease-in-out",checked:c.includes(ct.name),onChange:dt=>gn(ct.name,dt.target.checked)}),a.jsx("span",{className:"ml-2 text-gray-800 text-sm",children:ct.name})]},ct.id))]})})]}),a.jsxs("div",{ref:rt,className:"relative w-full",children:[a.jsxs("button",{type:"button",className:"shift-filter-toggle w-full border border-blue-200 rounded-lg px-4 py-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm text-left flex justify-between items-center transition-all duration-200 shadow-sm cursor-pointer",onClick:ct=>{ct.stopPropagation(),We(!je)},"aria-expanded":je,"aria-haspopup":"true","aria-label":"Filter by Shift",children:[a.jsx("span",{children:Ce.length>0?Ce.length===_e.length?"All Shifts":`Selected (${Ce.length})`:"All Shifts"}),a.jsx(la,{className:`transform transition-transform ${je?"rotate-180":"rotate-0"} text-gray-500 text-base`})]}),a.jsx(ar,{children:je&&a.jsxs(O.div,{initial:{opacity:0,y:5,height:0},animate:{opacity:1,y:0,height:"auto"},exit:{opacity:0,y:5,height:0},transition:{duration:.15},className:"absolute top-full left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-50 max-h-56 overflow-y-auto custom-scrollbar",role:"listbox",children:[a.jsxs("label",{className:"flex items-center p-2.5 hover:bg-blue-50 cursor-pointer border-b border-blue-50",role:"option",children:[a.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 rounded focus:ring-blue-500 transition duration-150 ease-in-out",checked:Ce.length===_e.length&&_e.length>0,onChange:ct=>{ct.target.checked?Ke(_e.map(dt=>dt.value)):Ke([])}}),a.jsx("span",{className:"ml-2 text-gray-800 font-semibold text-sm",children:"Select All"})]}),_e.map(ct=>a.jsxs("label",{className:"flex items-center p-2.5 hover:bg-blue-50 cursor-pointer",role:"option",children:[a.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 rounded focus:ring-blue-500 transition duration-150 ease-in-out",checked:Ce.includes(ct.value),onChange:dt=>ir(ct.value,dt.target.checked)}),a.jsx("span",{className:"ml-2 text-gray-800 text-sm",children:ct.label})]},ct.value))]})})]})]})})]}),B?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),a.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading machine history data..."})]}):A.length===0?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx(Zs,{className:"text-blue-500 text-4xl mx-auto mb-4"}),a.jsx("p",{className:"text-gray-700 text-base font-medium",children:Qe||o.length>0||c.length>0||ce||ke||Ce.length>0?"No records found matching your filters.":"No records available."}),(Qe||o.length>0||c.length>0||ce||ke||Ce.length>0)&&a.jsx("button",{onClick:()=>{n(""),l([]),u([]),Ee(null),ge(null),Ke([])},className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear All Filters"})]}):a.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:a.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:a.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[a.jsx("thead",{className:"bg-blue-50",children:a.jsxs("tr",{children:[a.jsxs("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider cursor-pointer",onClick:()=>wt("date"),children:["Date",(Re==null?void 0:Re.key)==="date"&&a.jsx("span",{className:"ml-1",children:Re.direction==="ascending"?"↑":"↓"})]}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Machine"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Shift/Group"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Durationtime"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Issue"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:Ut.map(ct=>a.jsxs(O.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[a.jsxs("td",{className:"px-5 py-3 whitespace-nowrap",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:ct.date}),a.jsxs("div",{className:"text-xs text-gray-600",children:[Ct(ct.stopJam,ct.stopMenit)," - ",Ct(ct.startJam,ct.startMenit)]})]}),a.jsxs("td",{className:"px-5 py-3 whitespace-nowrap",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:ct.mesin}),a.jsx("div",{className:"text-xs text-gray-600",children:ct.unit})]}),a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsxs("div",{className:"text-sm text-gray-900",children:["Shift ",ct.shift,", Group ",ct.group]})}),a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:Vt(ct)})}),a.jsxs("td",{className:"px-5 py-3",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:ct.itemTrouble}),a.jsx("div",{className:"text-xs text-gray-600 truncate max-w-xs",children:ct.jenisGangguan})]}),a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx(O.span,{whileHover:{scale:1.03},className:`px-2.5 py-0.5 inline-flex text-xs leading-5 font-bold rounded-full shadow-sm ${br(ct.stopTime)}`,children:ct.stopTime})}),a.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[a.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>X(`/machinehistory/edit/${ct.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit","aria-label":`Edit record for machine ${ct.mesin} on ${ct.date}`,children:a.jsx(Ba,{className:"inline text-base"})}),a.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{re(ct.id),J(!0)},className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete","aria-label":`Delete record for machine ${ct.mesin} on ${ct.date}`,children:a.jsx(In,{className:"inline text-base"})}),a.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>Kr(ct),className:"text-blue-600 hover:text-blue-800 transition-colors duration-200 p-1 rounded-full hover:bg-blue-50",title:"View Details","aria-label":`View details for record for machine ${ct.mesin} on ${ct.date}`,children:a.jsx(bo,{className:"inline text-base"})})]})]},ct.id))})]})})}),A.length>k&&a.jsxs(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"mt-8 flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0",children:[a.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",a.jsx("span",{className:"font-semibold",children:Rt+1})," to ",a.jsx("span",{className:"font-semibold",children:Math.min(et,A.length)})," of"," ",a.jsx("span",{className:"font-semibold",children:A.length})," results"]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>mt(y-1),disabled:y===1,className:"px-4 py-2 border border-blue-200 rounded-md bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm font-medium text-sm","aria-label":"Previous page",children:"Previous"}),Array.from({length:Wt},(ct,dt)=>a.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>mt(dt+1),className:`px-3.5 py-2 rounded-md transition-colors duration-200 shadow-sm font-medium text-sm
                      ${y===dt+1?"bg-blue-600 text-white shadow-md":"bg-white text-gray-700 hover:bg-blue-50 border border-blue-200"}
                    `,"aria-label":`Go to page ${dt+1}`,children:dt+1},dt+1)),a.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>mt(y+1),disabled:y===Wt,className:"px-4 py-2 border border-blue-200 rounded-md bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm font-medium text-sm","aria-label":"Next page",children:"Next"})]})]})]})]}),v&&a.jsx(P9,{isOpen:g,onClose:()=>{p(!1),w(null)},title:"Machine History Details",maxWidth:"max-w-4xl",children:a.jsx(qve,{record:v,onClose:()=>p(!1)})}),a.jsx(P9,{isOpen:V,onClose:()=>J(!1),title:"Confirm Deletion",children:a.jsxs("div",{className:"space-y-5 text-center py-3",children:[a.jsx(Hr,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),a.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this record? This action cannot be undone."}),a.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[a.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>J(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),a.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>Q&&Ue(Q),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})]})};function zn(t){"@babel/helpers - typeof";return zn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zn(t)}function Wve(t,e){if(zn(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function WX(t){var e=Wve(t,"string");return zn(e)=="symbol"?e:e+""}function uy(t,e,r){return(e=WX(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function L9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Ir(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?L9(Object(r),!0).forEach(function(n){uy(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):L9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Vve(t){if(Array.isArray(t))return t}function Gve(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){u=!0,s=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function gM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function VX(t,e){if(t){if(typeof t=="string")return gM(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?gM(t,e):void 0}}function Yve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lu(t,e){return Vve(t)||Gve(t,e)||VX(t,e)||Yve()}function Kve(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function gd(t,e){if(t==null)return{};var r,n,s=Kve(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(s[r]=t[r])}return s}var Jve=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function GX(t){var e=t.defaultInputValue,r=e===void 0?"":e,n=t.defaultMenuIsOpen,s=n===void 0?!1:n,i=t.defaultValue,o=i===void 0?null:i,l=t.inputValue,c=t.menuIsOpen,u=t.onChange,f=t.onInputChange,h=t.onMenuClose,g=t.onMenuOpen,p=t.value,v=gd(t,Jve),w=b.useState(l!==void 0?l:r),y=lu(w,2),N=y[0],k=y[1],S=b.useState(c!==void 0?c:s),T=lu(S,2),_=T[0],D=T[1],E=b.useState(p!==void 0?p:o),L=lu(E,2),R=L[0],F=L[1],A=b.useCallback(function(q,X){typeof u=="function"&&u(q,X),F(q)},[u]),M=b.useCallback(function(q,X){var oe;typeof f=="function"&&(oe=f(q,X)),k(oe!==void 0?oe:q)},[f]),B=b.useCallback(function(){typeof g=="function"&&g(),D(!0)},[g]),z=b.useCallback(function(){typeof h=="function"&&h(),D(!1)},[h]),Y=l!==void 0?l:N,W=c!==void 0?c:_,H=p!==void 0?p:R;return Ir(Ir({},v),{},{inputValue:Y,menuIsOpen:W,onChange:A,onInputChange:M,onMenuClose:z,onMenuOpen:B,value:H})}function Ur(){return Ur=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ur.apply(null,arguments)}function Xve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function R9(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,WX(n.key),n)}}function Qve(t,e,r){return e&&R9(t.prototype,e),r&&R9(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function xM(t,e){return xM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},xM(t,e)}function Zve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xM(t,e)}function Cj(t){return Cj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Cj(t)}function YX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YX=function(){return!!t})()}function e1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function t1e(t,e){if(e&&(zn(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return e1e(t)}function r1e(t){var e=YX();return function(){var r,n=Cj(t);if(e){var s=Cj(this).constructor;r=Reflect.construct(n,arguments,s)}else r=n.apply(this,arguments);return t1e(this,r)}}function n1e(t){if(Array.isArray(t))return gM(t)}function a1e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function s1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tg(t){return n1e(t)||a1e(t)||VX(t)||s1e()}function i1e(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function o1e(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var l1e=(function(){function t(r){var n=this;this._insertTag=function(s){var i;n.tags.length===0?n.insertionPoint?i=n.insertionPoint.nextSibling:n.prepend?i=n.container.firstChild:i=n.before:i=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(s,i),n.tags.push(s)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(n){n.forEach(this._insertTag)},e.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(o1e(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var i=i1e(s);try{i.insertRule(n,i.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(n));this.ctr++},e.flush=function(){this.tags.forEach(function(n){var s;return(s=n.parentNode)==null?void 0:s.removeChild(n)}),this.tags=[],this.ctr=0},t})(),uo="-ms-",_j="-moz-",Zn="-webkit-",KX="comm",BD="rule",$D="decl",c1e="@import",JX="@keyframes",u1e="@layer",d1e=Math.abs,qN=String.fromCharCode,f1e=Object.assign;function h1e(t,e){return Vi(t,0)^45?(((e<<2^Vi(t,0))<<2^Vi(t,1))<<2^Vi(t,2))<<2^Vi(t,3):0}function XX(t){return t.trim()}function m1e(t,e){return(t=e.exec(t))?t[0]:t}function ea(t,e,r){return t.replace(e,r)}function bM(t,e){return t.indexOf(e)}function Vi(t,e){return t.charCodeAt(e)|0}function ev(t,e,r){return t.slice(e,r)}function Wu(t){return t.length}function HD(t){return t.length}function Lw(t,e){return e.push(t),t}function p1e(t,e){return t.map(e).join("")}var UN=1,Zg=1,QX=0,dl=0,ei=0,Fx="";function WN(t,e,r,n,s,i,o){return{value:t,root:e,parent:r,type:n,props:s,children:i,line:UN,column:Zg,length:o,return:""}}function Ub(t,e){return f1e(WN("",null,null,"",null,null,0),t,{length:-t.length},e)}function g1e(){return ei}function x1e(){return ei=dl>0?Vi(Fx,--dl):0,Zg--,ei===10&&(Zg=1,UN--),ei}function El(){return ei=dl<QX?Vi(Fx,dl++):0,Zg++,ei===10&&(Zg=1,UN++),ei}function nd(){return Vi(Fx,dl)}function $2(){return dl}function c1(t,e){return ev(Fx,t,e)}function tv(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function ZX(t){return UN=Zg=1,QX=Wu(Fx=t),dl=0,[]}function eQ(t){return Fx="",t}function H2(t){return XX(c1(dl-1,yM(t===91?t+2:t===40?t+1:t)))}function b1e(t){for(;(ei=nd())&&ei<33;)El();return tv(t)>2||tv(ei)>3?"":" "}function y1e(t,e){for(;--e&&El()&&!(ei<48||ei>102||ei>57&&ei<65||ei>70&&ei<97););return c1(t,$2()+(e<6&&nd()==32&&El()==32))}function yM(t){for(;El();)switch(ei){case t:return dl;case 34:case 39:t!==34&&t!==39&&yM(ei);break;case 40:t===41&&yM(t);break;case 92:El();break}return dl}function v1e(t,e){for(;El()&&t+ei!==57;)if(t+ei===84&&nd()===47)break;return"/*"+c1(e,dl-1)+"*"+qN(t===47?t:El())}function w1e(t){for(;!tv(nd());)El();return c1(t,dl)}function j1e(t){return eQ(z2("",null,null,null,[""],t=ZX(t),0,[0],t))}function z2(t,e,r,n,s,i,o,l,c){for(var u=0,f=0,h=o,g=0,p=0,v=0,w=1,y=1,N=1,k=0,S="",T=s,_=i,D=n,E=S;y;)switch(v=k,k=El()){case 40:if(v!=108&&Vi(E,h-1)==58){bM(E+=ea(H2(k),"&","&\f"),"&\f")!=-1&&(N=-1);break}case 34:case 39:case 91:E+=H2(k);break;case 9:case 10:case 13:case 32:E+=b1e(v);break;case 92:E+=y1e($2()-1,7);continue;case 47:switch(nd()){case 42:case 47:Lw(N1e(v1e(El(),$2()),e,r),c);break;default:E+="/"}break;case 123*w:l[u++]=Wu(E)*N;case 125*w:case 59:case 0:switch(k){case 0:case 125:y=0;case 59+f:N==-1&&(E=ea(E,/\f/g,"")),p>0&&Wu(E)-h&&Lw(p>32?F9(E+";",n,r,h-1):F9(ea(E," ","")+";",n,r,h-2),c);break;case 59:E+=";";default:if(Lw(D=I9(E,e,r,u,f,s,l,S,T=[],_=[],h),i),k===123)if(f===0)z2(E,e,D,D,T,i,h,l,_);else switch(g===99&&Vi(E,3)===110?100:g){case 100:case 108:case 109:case 115:z2(t,D,D,n&&Lw(I9(t,D,D,0,0,s,l,S,s,T=[],h),_),s,_,h,l,n?T:_);break;default:z2(E,D,D,D,[""],_,0,l,_)}}u=f=p=0,w=N=1,S=E="",h=o;break;case 58:h=1+Wu(E),p=v;default:if(w<1){if(k==123)--w;else if(k==125&&w++==0&&x1e()==125)continue}switch(E+=qN(k),k*w){case 38:N=f>0?1:(E+="\f",-1);break;case 44:l[u++]=(Wu(E)-1)*N,N=1;break;case 64:nd()===45&&(E+=H2(El())),g=nd(),f=h=Wu(S=E+=w1e($2())),k++;break;case 45:v===45&&Wu(E)==2&&(w=0)}}return i}function I9(t,e,r,n,s,i,o,l,c,u,f){for(var h=s-1,g=s===0?i:[""],p=HD(g),v=0,w=0,y=0;v<n;++v)for(var N=0,k=ev(t,h+1,h=d1e(w=o[v])),S=t;N<p;++N)(S=XX(w>0?g[N]+" "+k:ea(k,/&\f/g,g[N])))&&(c[y++]=S);return WN(t,e,r,s===0?BD:l,c,u,f)}function N1e(t,e,r){return WN(t,e,r,KX,qN(g1e()),ev(t,2,-2),0)}function F9(t,e,r,n){return WN(t,e,r,$D,ev(t,0,n),ev(t,n+1,-1),n)}function Mg(t,e){for(var r="",n=HD(t),s=0;s<n;s++)r+=e(t[s],s,t,e)||"";return r}function S1e(t,e,r,n){switch(t.type){case u1e:if(t.children.length)break;case c1e:case $D:return t.return=t.return||t.value;case KX:return"";case JX:return t.return=t.value+"{"+Mg(t.children,n)+"}";case BD:t.value=t.props.join(",")}return Wu(r=Mg(t.children,n))?t.return=t.value+"{"+r+"}":""}function k1e(t){var e=HD(t);return function(r,n,s,i){for(var o="",l=0;l<e;l++)o+=t[l](r,n,s,i)||"";return o}}function C1e(t){return function(e){e.root||(e=e.return)&&t(e)}}function _1e(t){var e=Object.create(null);return function(r){return e[r]===void 0&&(e[r]=t(r)),e[r]}}var A1e=function(e,r,n){for(var s=0,i=0;s=i,i=nd(),s===38&&i===12&&(r[n]=1),!tv(i);)El();return c1(e,dl)},T1e=function(e,r){var n=-1,s=44;do switch(tv(s)){case 0:s===38&&nd()===12&&(r[n]=1),e[n]+=A1e(dl-1,r,n);break;case 2:e[n]+=H2(s);break;case 4:if(s===44){e[++n]=nd()===58?"&\f":"",r[n]=e[n].length;break}default:e[n]+=qN(s)}while(s=El());return e},M1e=function(e,r){return eQ(T1e(ZX(e),r))},B9=new WeakMap,E1e=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var r=e.value,n=e.parent,s=e.column===n.column&&e.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(e.props.length===1&&r.charCodeAt(0)!==58&&!B9.get(n))&&!s){B9.set(e,!0);for(var i=[],o=M1e(r,i),l=n.props,c=0,u=0;c<o.length;c++)for(var f=0;f<l.length;f++,u++)e.props[u]=i[c]?o[c].replace(/&\f/g,l[f]):l[f]+" "+o[c]}}},O1e=function(e){if(e.type==="decl"){var r=e.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(e.return="",e.value="")}};function tQ(t,e){switch(h1e(t,e)){case 5103:return Zn+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Zn+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Zn+t+_j+t+uo+t+t;case 6828:case 4268:return Zn+t+uo+t+t;case 6165:return Zn+t+uo+"flex-"+t+t;case 5187:return Zn+t+ea(t,/(\w+).+(:[^]+)/,Zn+"box-$1$2"+uo+"flex-$1$2")+t;case 5443:return Zn+t+uo+"flex-item-"+ea(t,/flex-|-self/,"")+t;case 4675:return Zn+t+uo+"flex-line-pack"+ea(t,/align-content|flex-|-self/,"")+t;case 5548:return Zn+t+uo+ea(t,"shrink","negative")+t;case 5292:return Zn+t+uo+ea(t,"basis","preferred-size")+t;case 6060:return Zn+"box-"+ea(t,"-grow","")+Zn+t+uo+ea(t,"grow","positive")+t;case 4554:return Zn+ea(t,/([^-])(transform)/g,"$1"+Zn+"$2")+t;case 6187:return ea(ea(ea(t,/(zoom-|grab)/,Zn+"$1"),/(image-set)/,Zn+"$1"),t,"")+t;case 5495:case 3959:return ea(t,/(image-set\([^]*)/,Zn+"$1$`$1");case 4968:return ea(ea(t,/(.+:)(flex-)?(.*)/,Zn+"box-pack:$3"+uo+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Zn+t+t;case 4095:case 3583:case 4068:case 2532:return ea(t,/(.+)-inline(.+)/,Zn+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Wu(t)-1-e>6)switch(Vi(t,e+1)){case 109:if(Vi(t,e+4)!==45)break;case 102:return ea(t,/(.+:)(.+)-([^]+)/,"$1"+Zn+"$2-$3$1"+_j+(Vi(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~bM(t,"stretch")?tQ(ea(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Vi(t,e+1)!==115)break;case 6444:switch(Vi(t,Wu(t)-3-(~bM(t,"!important")&&10))){case 107:return ea(t,":",":"+Zn)+t;case 101:return ea(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Zn+(Vi(t,14)===45?"inline-":"")+"box$3$1"+Zn+"$2$3$1"+uo+"$2box$3")+t}break;case 5936:switch(Vi(t,e+11)){case 114:return Zn+t+uo+ea(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Zn+t+uo+ea(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Zn+t+uo+ea(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Zn+t+uo+t+t}return t}var D1e=function(e,r,n,s){if(e.length>-1&&!e.return)switch(e.type){case $D:e.return=tQ(e.value,e.length);break;case JX:return Mg([Ub(e,{value:ea(e.value,"@","@"+Zn)})],s);case BD:if(e.length)return p1e(e.props,function(i){switch(m1e(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Mg([Ub(e,{props:[ea(i,/:(read-\w+)/,":"+_j+"$1")]})],s);case"::placeholder":return Mg([Ub(e,{props:[ea(i,/:(plac\w+)/,":"+Zn+"input-$1")]}),Ub(e,{props:[ea(i,/:(plac\w+)/,":"+_j+"$1")]}),Ub(e,{props:[ea(i,/:(plac\w+)/,uo+"input-$1")]})],s)}return""})}},P1e=[D1e],L1e=function(e){var r=e.key;if(r==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(w){var y=w.getAttribute("data-emotion");y.indexOf(" ")!==-1&&(document.head.appendChild(w),w.setAttribute("data-s",""))})}var s=e.stylisPlugins||P1e,i={},o,l=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(w){for(var y=w.getAttribute("data-emotion").split(" "),N=1;N<y.length;N++)i[y[N]]=!0;l.push(w)});var c,u=[E1e,O1e];{var f,h=[S1e,C1e(function(w){f.insert(w)})],g=k1e(u.concat(s,h)),p=function(y){return Mg(j1e(y),g)};c=function(y,N,k,S){f=k,p(y?y+"{"+N.styles+"}":N.styles),S&&(v.inserted[N.name]=!0)}}var v={key:r,sheet:new l1e({key:r,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:i,registered:{},insert:c};return v.sheet.hydrate(l),v},zC={exports:{}},na={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $9;function R1e(){if($9)return na;$9=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,r=t?Symbol.for("react.portal"):60106,n=t?Symbol.for("react.fragment"):60107,s=t?Symbol.for("react.strict_mode"):60108,i=t?Symbol.for("react.profiler"):60114,o=t?Symbol.for("react.provider"):60109,l=t?Symbol.for("react.context"):60110,c=t?Symbol.for("react.async_mode"):60111,u=t?Symbol.for("react.concurrent_mode"):60111,f=t?Symbol.for("react.forward_ref"):60112,h=t?Symbol.for("react.suspense"):60113,g=t?Symbol.for("react.suspense_list"):60120,p=t?Symbol.for("react.memo"):60115,v=t?Symbol.for("react.lazy"):60116,w=t?Symbol.for("react.block"):60121,y=t?Symbol.for("react.fundamental"):60117,N=t?Symbol.for("react.responder"):60118,k=t?Symbol.for("react.scope"):60119;function S(_){if(typeof _=="object"&&_!==null){var D=_.$$typeof;switch(D){case e:switch(_=_.type,_){case c:case u:case n:case i:case s:case h:return _;default:switch(_=_&&_.$$typeof,_){case l:case f:case v:case p:case o:return _;default:return D}}case r:return D}}}function T(_){return S(_)===u}return na.AsyncMode=c,na.ConcurrentMode=u,na.ContextConsumer=l,na.ContextProvider=o,na.Element=e,na.ForwardRef=f,na.Fragment=n,na.Lazy=v,na.Memo=p,na.Portal=r,na.Profiler=i,na.StrictMode=s,na.Suspense=h,na.isAsyncMode=function(_){return T(_)||S(_)===c},na.isConcurrentMode=T,na.isContextConsumer=function(_){return S(_)===l},na.isContextProvider=function(_){return S(_)===o},na.isElement=function(_){return typeof _=="object"&&_!==null&&_.$$typeof===e},na.isForwardRef=function(_){return S(_)===f},na.isFragment=function(_){return S(_)===n},na.isLazy=function(_){return S(_)===v},na.isMemo=function(_){return S(_)===p},na.isPortal=function(_){return S(_)===r},na.isProfiler=function(_){return S(_)===i},na.isStrictMode=function(_){return S(_)===s},na.isSuspense=function(_){return S(_)===h},na.isValidElementType=function(_){return typeof _=="string"||typeof _=="function"||_===n||_===u||_===i||_===s||_===h||_===g||typeof _=="object"&&_!==null&&(_.$$typeof===v||_.$$typeof===p||_.$$typeof===o||_.$$typeof===l||_.$$typeof===f||_.$$typeof===y||_.$$typeof===N||_.$$typeof===k||_.$$typeof===w)},na.typeOf=S,na}var H9;function I1e(){return H9||(H9=1,zC.exports=R1e()),zC.exports}var qC,z9;function F1e(){if(z9)return qC;z9=1;var t=I1e(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},n={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},i={};i[t.ForwardRef]=n,i[t.Memo]=s;function o(v){return t.isMemo(v)?s:i[v.$$typeof]||e}var l=Object.defineProperty,c=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,g=Object.prototype;function p(v,w,y){if(typeof w!="string"){if(g){var N=h(w);N&&N!==g&&p(v,N,y)}var k=c(w);u&&(k=k.concat(u(w)));for(var S=o(v),T=o(w),_=0;_<k.length;++_){var D=k[_];if(!r[D]&&!(y&&y[D])&&!(T&&T[D])&&!(S&&S[D])){var E=f(w,D);try{l(v,D,E)}catch{}}}}return v}return qC=p,qC}F1e();var B1e=!0;function $1e(t,e,r){var n="";return r.split(" ").forEach(function(s){t[s]!==void 0?e.push(t[s]+";"):s&&(n+=s+" ")}),n}var rQ=function(e,r,n){var s=e.key+"-"+r.name;(n===!1||B1e===!1)&&e.registered[s]===void 0&&(e.registered[s]=r.styles)},H1e=function(e,r,n){rQ(e,r,n);var s=e.key+"-"+r.name;if(e.inserted[r.name]===void 0){var i=r;do e.insert(r===i?"."+s:"",i,e.sheet,!0),i=i.next;while(i!==void 0)}};function z1e(t){for(var e=0,r,n=0,s=t.length;s>=4;++n,s-=4)r=t.charCodeAt(n)&255|(t.charCodeAt(++n)&255)<<8|(t.charCodeAt(++n)&255)<<16|(t.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,e=(r&65535)*1540483477+((r>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(s){case 3:e^=(t.charCodeAt(n+2)&255)<<16;case 2:e^=(t.charCodeAt(n+1)&255)<<8;case 1:e^=t.charCodeAt(n)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var q1e={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},U1e=/[A-Z]|^ms/g,W1e=/_EMO_([^_]+?)_([^]*?)_EMO_/g,nQ=function(e){return e.charCodeAt(1)===45},q9=function(e){return e!=null&&typeof e!="boolean"},UC=_1e(function(t){return nQ(t)?t:t.replace(U1e,"-$&").toLowerCase()}),U9=function(e,r){switch(e){case"animation":case"animationName":if(typeof r=="string")return r.replace(W1e,function(n,s,i){return Vu={name:s,styles:i,next:Vu},s})}return q1e[e]!==1&&!nQ(e)&&typeof r=="number"&&r!==0?r+"px":r};function rv(t,e,r){if(r==null)return"";var n=r;if(n.__emotion_styles!==void 0)return n;switch(typeof r){case"boolean":return"";case"object":{var s=r;if(s.anim===1)return Vu={name:s.name,styles:s.styles,next:Vu},s.name;var i=r;if(i.styles!==void 0){var o=i.next;if(o!==void 0)for(;o!==void 0;)Vu={name:o.name,styles:o.styles,next:Vu},o=o.next;var l=i.styles+";";return l}return V1e(t,e,r)}case"function":{if(t!==void 0){var c=Vu,u=r(t);return Vu=c,rv(t,e,u)}break}}var f=r;return f}function V1e(t,e,r){var n="";if(Array.isArray(r))for(var s=0;s<r.length;s++)n+=rv(t,e,r[s])+";";else for(var i in r){var o=r[i];if(typeof o!="object"){var l=o;q9(l)&&(n+=UC(i)+":"+U9(i,l)+";")}else if(Array.isArray(o)&&typeof o[0]=="string"&&e==null)for(var c=0;c<o.length;c++)q9(o[c])&&(n+=UC(i)+":"+U9(i,o[c])+";");else{var u=rv(t,e,o);switch(i){case"animation":case"animationName":{n+=UC(i)+":"+u+";";break}default:n+=i+"{"+u+"}"}}}return n}var W9=/label:\s*([^\s;{]+)\s*(;|$)/g,Vu;function aQ(t,e,r){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var n=!0,s="";Vu=void 0;var i=t[0];if(i==null||i.raw===void 0)n=!1,s+=rv(r,e,i);else{var o=i;s+=o[0]}for(var l=1;l<t.length;l++)if(s+=rv(r,e,t[l]),n){var c=i;s+=c[l]}W9.lastIndex=0;for(var u="",f;(f=W9.exec(s))!==null;)u+="-"+f[1];var h=z1e(s)+u;return{name:h,styles:s,next:Vu}}var G1e=function(e){return e()},Y1e=rj.useInsertionEffect?rj.useInsertionEffect:!1,K1e=Y1e||G1e,sQ=b.createContext(typeof HTMLElement<"u"?L1e({key:"css"}):null);sQ.Provider;var J1e=function(e){return b.forwardRef(function(r,n){var s=b.useContext(sQ);return e(r,s,n)})},X1e=b.createContext({}),zD={}.hasOwnProperty,vM="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Q1e=function(e,r){var n={};for(var s in r)zD.call(r,s)&&(n[s]=r[s]);return n[vM]=e,n},Z1e=function(e){var r=e.cache,n=e.serialized,s=e.isStringTag;return rQ(r,n,s),K1e(function(){return H1e(r,n,s)}),null},ewe=J1e(function(t,e,r){var n=t.css;typeof n=="string"&&e.registered[n]!==void 0&&(n=e.registered[n]);var s=t[vM],i=[n],o="";typeof t.className=="string"?o=$1e(e.registered,i,t.className):t.className!=null&&(o=t.className+" ");var l=aQ(i,void 0,b.useContext(X1e));o+=e.key+"-"+l.name;var c={};for(var u in t)zD.call(t,u)&&u!=="css"&&u!==vM&&(c[u]=t[u]);return c.className=o,r&&(c.ref=r),b.createElement(b.Fragment,null,b.createElement(Z1e,{cache:e,serialized:l,isStringTag:typeof s=="string"}),b.createElement(s,c))}),twe=ewe,Rr=function(e,r){var n=arguments;if(r==null||!zD.call(r,"css"))return b.createElement.apply(void 0,n);var s=n.length,i=new Array(s);i[0]=twe,i[1]=Q1e(e,r);for(var o=2;o<s;o++)i[o]=n[o];return b.createElement.apply(null,i)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(Rr||(Rr={}));function qD(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return aQ(e)}function rwe(){var t=qD.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function nwe(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var wM=b.useLayoutEffect,awe=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],Aj=function(){};function swe(t,e){return e?e[0]==="-"?t+e:t+"__"+e:t}function iwe(t,e){for(var r=arguments.length,n=new Array(r>2?r-2:0),s=2;s<r;s++)n[s-2]=arguments[s];var i=[].concat(n);if(e&&t)for(var o in e)e.hasOwnProperty(o)&&e[o]&&i.push("".concat(swe(t,o)));return i.filter(function(l){return l}).map(function(l){return String(l).trim()}).join(" ")}var Tj=function(e){return pwe(e)?e.filter(Boolean):zn(e)==="object"&&e!==null?[e]:[]},iQ=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var r=gd(e,awe);return Ir({},r)},Ms=function(e,r,n){var s=e.cx,i=e.getStyles,o=e.getClassNames,l=e.className;return{css:i(r,e),className:s(n??{},o(r,e),l)}};function VN(t){return[document.documentElement,document.body,window].indexOf(t)>-1}function owe(t){return VN(t)?window.innerHeight:t.clientHeight}function oQ(t){return VN(t)?window.pageYOffset:t.scrollTop}function Mj(t,e){if(VN(t)){window.scrollTo(0,e);return}t.scrollTop=e}function lwe(t){var e=getComputedStyle(t),r=e.position==="absolute",n=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var s=t;s=s.parentElement;)if(e=getComputedStyle(s),!(r&&e.position==="static")&&n.test(e.overflow+e.overflowY+e.overflowX))return s;return document.documentElement}function cwe(t,e,r,n){return r*((t=t/n-1)*t*t+1)+e}function Rw(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Aj,s=oQ(t),i=e-s,o=10,l=0;function c(){l+=o;var u=cwe(l,s,i,r);Mj(t,u),l<r?window.requestAnimationFrame(c):n(t)}c()}function V9(t,e){var r=t.getBoundingClientRect(),n=e.getBoundingClientRect(),s=e.offsetHeight/3;n.bottom+s>r.bottom?Mj(t,Math.min(e.offsetTop+e.clientHeight-t.offsetHeight+s,t.scrollHeight)):n.top-s<r.top&&Mj(t,Math.max(e.offsetTop-s,0))}function uwe(t){var e=t.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function G9(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function dwe(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var lQ=!1,fwe={get passive(){return lQ=!0}},Iw=typeof window<"u"?window:{};Iw.addEventListener&&Iw.removeEventListener&&(Iw.addEventListener("p",Aj,fwe),Iw.removeEventListener("p",Aj,!1));var hwe=lQ;function mwe(t){return t!=null}function pwe(t){return Array.isArray(t)}function dy(t,e,r){return t?e:r}var gwe=function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),s=1;s<r;s++)n[s-1]=arguments[s];var i=Object.entries(e).filter(function(o){var l=lu(o,1),c=l[0];return!n.includes(c)});return i.reduce(function(o,l){var c=lu(l,2),u=c[0],f=c[1];return o[u]=f,o},{})},xwe=["children","innerProps"],bwe=["children","innerProps"];function ywe(t){var e=t.maxHeight,r=t.menuEl,n=t.minHeight,s=t.placement,i=t.shouldScroll,o=t.isFixedPosition,l=t.controlHeight,c=lwe(r),u={placement:"bottom",maxHeight:e};if(!r||!r.offsetParent)return u;var f=c.getBoundingClientRect(),h=f.height,g=r.getBoundingClientRect(),p=g.bottom,v=g.height,w=g.top,y=r.offsetParent.getBoundingClientRect(),N=y.top,k=o?window.innerHeight:owe(c),S=oQ(c),T=parseInt(getComputedStyle(r).marginBottom,10),_=parseInt(getComputedStyle(r).marginTop,10),D=N-_,E=k-w,L=D+S,R=h-S-w,F=p-k+S+T,A=S+w-_,M=160;switch(s){case"auto":case"bottom":if(E>=v)return{placement:"bottom",maxHeight:e};if(R>=v&&!o)return i&&Rw(c,F,M),{placement:"bottom",maxHeight:e};if(!o&&R>=n||o&&E>=n){i&&Rw(c,F,M);var B=o?E-T:R-T;return{placement:"bottom",maxHeight:B}}if(s==="auto"||o){var z=e,Y=o?D:L;return Y>=n&&(z=Math.min(Y-T-l,e)),{placement:"top",maxHeight:z}}if(s==="bottom")return i&&Mj(c,F),{placement:"bottom",maxHeight:e};break;case"top":if(D>=v)return{placement:"top",maxHeight:e};if(L>=v&&!o)return i&&Rw(c,A,M),{placement:"top",maxHeight:e};if(!o&&L>=n||o&&D>=n){var W=e;return(!o&&L>=n||o&&D>=n)&&(W=o?D-_:L-_),i&&Rw(c,A,M),{placement:"top",maxHeight:W}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(s,'".'))}return u}function vwe(t){var e={bottom:"top",top:"bottom"};return t?e[t]:"bottom"}var cQ=function(e){return e==="auto"?"bottom":e},wwe=function(e,r){var n,s=e.placement,i=e.theme,o=i.borderRadius,l=i.spacing,c=i.colors;return Ir((n={label:"menu"},uy(n,vwe(s),"100%"),uy(n,"position","absolute"),uy(n,"width","100%"),uy(n,"zIndex",1),n),r?{}:{backgroundColor:c.neutral0,borderRadius:o,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:l.menuGutter,marginTop:l.menuGutter})},uQ=b.createContext(null),jwe=function(e){var r=e.children,n=e.minMenuHeight,s=e.maxMenuHeight,i=e.menuPlacement,o=e.menuPosition,l=e.menuShouldScrollIntoView,c=e.theme,u=b.useContext(uQ)||{},f=u.setPortalPlacement,h=b.useRef(null),g=b.useState(s),p=lu(g,2),v=p[0],w=p[1],y=b.useState(null),N=lu(y,2),k=N[0],S=N[1],T=c.spacing.controlHeight;return wM(function(){var _=h.current;if(_){var D=o==="fixed",E=l&&!D,L=ywe({maxHeight:s,menuEl:_,minHeight:n,placement:i,shouldScroll:E,isFixedPosition:D,controlHeight:T});w(L.maxHeight),S(L.placement),f==null||f(L.placement)}},[s,i,o,l,n,f,T]),r({ref:h,placerProps:Ir(Ir({},e),{},{placement:k||cQ(i),maxHeight:v})})},Nwe=function(e){var r=e.children,n=e.innerRef,s=e.innerProps;return Rr("div",Ur({},Ms(e,"menu",{menu:!0}),{ref:n},s),r)},Swe=Nwe,kwe=function(e,r){var n=e.maxHeight,s=e.theme.spacing.baseUnit;return Ir({maxHeight:n,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},r?{}:{paddingBottom:s,paddingTop:s})},Cwe=function(e){var r=e.children,n=e.innerProps,s=e.innerRef,i=e.isMulti;return Rr("div",Ur({},Ms(e,"menuList",{"menu-list":!0,"menu-list--is-multi":i}),{ref:s},n),r)},dQ=function(e,r){var n=e.theme,s=n.spacing.baseUnit,i=n.colors;return Ir({textAlign:"center"},r?{}:{color:i.neutral40,padding:"".concat(s*2,"px ").concat(s*3,"px")})},_we=dQ,Awe=dQ,Twe=function(e){var r=e.children,n=r===void 0?"No options":r,s=e.innerProps,i=gd(e,xwe);return Rr("div",Ur({},Ms(Ir(Ir({},i),{},{children:n,innerProps:s}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),s),n)},Mwe=function(e){var r=e.children,n=r===void 0?"Loading...":r,s=e.innerProps,i=gd(e,bwe);return Rr("div",Ur({},Ms(Ir(Ir({},i),{},{children:n,innerProps:s}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),s),n)},Ewe=function(e){var r=e.rect,n=e.offset,s=e.position;return{left:r.left,position:s,top:n,width:r.width,zIndex:1}},Owe=function(e){var r=e.appendTo,n=e.children,s=e.controlElement,i=e.innerProps,o=e.menuPlacement,l=e.menuPosition,c=b.useRef(null),u=b.useRef(null),f=b.useState(cQ(o)),h=lu(f,2),g=h[0],p=h[1],v=b.useMemo(function(){return{setPortalPlacement:p}},[]),w=b.useState(null),y=lu(w,2),N=y[0],k=y[1],S=b.useCallback(function(){if(s){var E=uwe(s),L=l==="fixed"?0:window.pageYOffset,R=E[g]+L;(R!==(N==null?void 0:N.offset)||E.left!==(N==null?void 0:N.rect.left)||E.width!==(N==null?void 0:N.rect.width))&&k({offset:R,rect:E})}},[s,l,g,N==null?void 0:N.offset,N==null?void 0:N.rect.left,N==null?void 0:N.rect.width]);wM(function(){S()},[S]);var T=b.useCallback(function(){typeof u.current=="function"&&(u.current(),u.current=null),s&&c.current&&(u.current=_X(s,c.current,S,{elementResize:"ResizeObserver"in window}))},[s,S]);wM(function(){T()},[T]);var _=b.useCallback(function(E){c.current=E,T()},[T]);if(!r&&l!=="fixed"||!N)return null;var D=Rr("div",Ur({ref:_},Ms(Ir(Ir({},e),{},{offset:N.offset,position:l,rect:N.rect}),"menuPortal",{"menu-portal":!0}),i),n);return Rr(uQ.Provider,{value:v},r?$O.createPortal(D,r):D)},Dwe=function(e){var r=e.isDisabled,n=e.isRtl;return{label:"container",direction:n?"rtl":void 0,pointerEvents:r?"none":void 0,position:"relative"}},Pwe=function(e){var r=e.children,n=e.innerProps,s=e.isDisabled,i=e.isRtl;return Rr("div",Ur({},Ms(e,"container",{"--is-disabled":s,"--is-rtl":i}),n),r)},Lwe=function(e,r){var n=e.theme.spacing,s=e.isMulti,i=e.hasValue,o=e.selectProps.controlShouldRenderValue;return Ir({alignItems:"center",display:s&&i&&o?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},r?{}:{padding:"".concat(n.baseUnit/2,"px ").concat(n.baseUnit*2,"px")})},Rwe=function(e){var r=e.children,n=e.innerProps,s=e.isMulti,i=e.hasValue;return Rr("div",Ur({},Ms(e,"valueContainer",{"value-container":!0,"value-container--is-multi":s,"value-container--has-value":i}),n),r)},Iwe=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},Fwe=function(e){var r=e.children,n=e.innerProps;return Rr("div",Ur({},Ms(e,"indicatorsContainer",{indicators:!0}),n),r)},Y9,Bwe=["size"],$we=["innerProps","isRtl","size"],Hwe={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},fQ=function(e){var r=e.size,n=gd(e,Bwe);return Rr("svg",Ur({height:r,width:r,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:Hwe},n))},UD=function(e){return Rr(fQ,Ur({size:20},e),Rr("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},hQ=function(e){return Rr(fQ,Ur({size:20},e),Rr("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},mQ=function(e,r){var n=e.isFocused,s=e.theme,i=s.spacing.baseUnit,o=s.colors;return Ir({label:"indicatorContainer",display:"flex",transition:"color 150ms"},r?{}:{color:n?o.neutral60:o.neutral20,padding:i*2,":hover":{color:n?o.neutral80:o.neutral40}})},zwe=mQ,qwe=function(e){var r=e.children,n=e.innerProps;return Rr("div",Ur({},Ms(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),n),r||Rr(hQ,null))},Uwe=mQ,Wwe=function(e){var r=e.children,n=e.innerProps;return Rr("div",Ur({},Ms(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),n),r||Rr(UD,null))},Vwe=function(e,r){var n=e.isDisabled,s=e.theme,i=s.spacing.baseUnit,o=s.colors;return Ir({label:"indicatorSeparator",alignSelf:"stretch",width:1},r?{}:{backgroundColor:n?o.neutral10:o.neutral20,marginBottom:i*2,marginTop:i*2})},Gwe=function(e){var r=e.innerProps;return Rr("span",Ur({},r,Ms(e,"indicatorSeparator",{"indicator-separator":!0})))},Ywe=rwe(Y9||(Y9=nwe([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),Kwe=function(e,r){var n=e.isFocused,s=e.size,i=e.theme,o=i.colors,l=i.spacing.baseUnit;return Ir({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:s,lineHeight:1,marginRight:s,textAlign:"center",verticalAlign:"middle"},r?{}:{color:n?o.neutral60:o.neutral20,padding:l*2})},WC=function(e){var r=e.delay,n=e.offset;return Rr("span",{css:qD({animation:"".concat(Ywe," 1s ease-in-out ").concat(r,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:n?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},Jwe=function(e){var r=e.innerProps,n=e.isRtl,s=e.size,i=s===void 0?4:s,o=gd(e,$we);return Rr("div",Ur({},Ms(Ir(Ir({},o),{},{innerProps:r,isRtl:n,size:i}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),r),Rr(WC,{delay:0,offset:n}),Rr(WC,{delay:160,offset:!0}),Rr(WC,{delay:320,offset:!n}))},Xwe=function(e,r){var n=e.isDisabled,s=e.isFocused,i=e.theme,o=i.colors,l=i.borderRadius,c=i.spacing;return Ir({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:c.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},r?{}:{backgroundColor:n?o.neutral5:o.neutral0,borderColor:n?o.neutral10:s?o.primary:o.neutral20,borderRadius:l,borderStyle:"solid",borderWidth:1,boxShadow:s?"0 0 0 1px ".concat(o.primary):void 0,"&:hover":{borderColor:s?o.primary:o.neutral30}})},Qwe=function(e){var r=e.children,n=e.isDisabled,s=e.isFocused,i=e.innerRef,o=e.innerProps,l=e.menuIsOpen;return Rr("div",Ur({ref:i},Ms(e,"control",{control:!0,"control--is-disabled":n,"control--is-focused":s,"control--menu-is-open":l}),o,{"aria-disabled":n||void 0}),r)},Zwe=Qwe,e2e=["data"],t2e=function(e,r){var n=e.theme.spacing;return r?{}:{paddingBottom:n.baseUnit*2,paddingTop:n.baseUnit*2}},r2e=function(e){var r=e.children,n=e.cx,s=e.getStyles,i=e.getClassNames,o=e.Heading,l=e.headingProps,c=e.innerProps,u=e.label,f=e.theme,h=e.selectProps;return Rr("div",Ur({},Ms(e,"group",{group:!0}),c),Rr(o,Ur({},l,{selectProps:h,theme:f,getStyles:s,getClassNames:i,cx:n}),u),Rr("div",null,r))},n2e=function(e,r){var n=e.theme,s=n.colors,i=n.spacing;return Ir({label:"group",cursor:"default",display:"block"},r?{}:{color:s.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:i.baseUnit*3,paddingRight:i.baseUnit*3,textTransform:"uppercase"})},a2e=function(e){var r=iQ(e);r.data;var n=gd(r,e2e);return Rr("div",Ur({},Ms(e,"groupHeading",{"group-heading":!0}),n))},s2e=r2e,i2e=["innerRef","isDisabled","isHidden","inputClassName"],o2e=function(e,r){var n=e.isDisabled,s=e.value,i=e.theme,o=i.spacing,l=i.colors;return Ir(Ir({visibility:n?"hidden":"visible",transform:s?"translateZ(0)":""},l2e),r?{}:{margin:o.baseUnit/2,paddingBottom:o.baseUnit/2,paddingTop:o.baseUnit/2,color:l.neutral80})},pQ={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},l2e={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":Ir({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},pQ)},c2e=function(e){return Ir({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},pQ)},u2e=function(e){var r=e.cx,n=e.value,s=iQ(e),i=s.innerRef,o=s.isDisabled,l=s.isHidden,c=s.inputClassName,u=gd(s,i2e);return Rr("div",Ur({},Ms(e,"input",{"input-container":!0}),{"data-value":n||""}),Rr("input",Ur({className:r({input:!0},c),ref:i,style:c2e(l),disabled:o},u)))},d2e=u2e,f2e=function(e,r){var n=e.theme,s=n.spacing,i=n.borderRadius,o=n.colors;return Ir({label:"multiValue",display:"flex",minWidth:0},r?{}:{backgroundColor:o.neutral10,borderRadius:i/2,margin:s.baseUnit/2})},h2e=function(e,r){var n=e.theme,s=n.borderRadius,i=n.colors,o=e.cropWithEllipsis;return Ir({overflow:"hidden",textOverflow:o||o===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},r?{}:{borderRadius:s/2,color:i.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},m2e=function(e,r){var n=e.theme,s=n.spacing,i=n.borderRadius,o=n.colors,l=e.isFocused;return Ir({alignItems:"center",display:"flex"},r?{}:{borderRadius:i/2,backgroundColor:l?o.dangerLight:void 0,paddingLeft:s.baseUnit,paddingRight:s.baseUnit,":hover":{backgroundColor:o.dangerLight,color:o.danger}})},gQ=function(e){var r=e.children,n=e.innerProps;return Rr("div",n,r)},p2e=gQ,g2e=gQ;function x2e(t){var e=t.children,r=t.innerProps;return Rr("div",Ur({role:"button"},r),e||Rr(UD,{size:14}))}var b2e=function(e){var r=e.children,n=e.components,s=e.data,i=e.innerProps,o=e.isDisabled,l=e.removeProps,c=e.selectProps,u=n.Container,f=n.Label,h=n.Remove;return Rr(u,{data:s,innerProps:Ir(Ir({},Ms(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":o})),i),selectProps:c},Rr(f,{data:s,innerProps:Ir({},Ms(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:c},r),Rr(h,{data:s,innerProps:Ir(Ir({},Ms(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(r||"option")},l),selectProps:c}))},y2e=b2e,v2e=function(e,r){var n=e.isDisabled,s=e.isFocused,i=e.isSelected,o=e.theme,l=o.spacing,c=o.colors;return Ir({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},r?{}:{backgroundColor:i?c.primary:s?c.primary25:"transparent",color:n?c.neutral20:i?c.neutral0:"inherit",padding:"".concat(l.baseUnit*2,"px ").concat(l.baseUnit*3,"px"),":active":{backgroundColor:n?void 0:i?c.primary:c.primary50}})},w2e=function(e){var r=e.children,n=e.isDisabled,s=e.isFocused,i=e.isSelected,o=e.innerRef,l=e.innerProps;return Rr("div",Ur({},Ms(e,"option",{option:!0,"option--is-disabled":n,"option--is-focused":s,"option--is-selected":i}),{ref:o,"aria-disabled":n},l),r)},j2e=w2e,N2e=function(e,r){var n=e.theme,s=n.spacing,i=n.colors;return Ir({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},r?{}:{color:i.neutral50,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},S2e=function(e){var r=e.children,n=e.innerProps;return Rr("div",Ur({},Ms(e,"placeholder",{placeholder:!0}),n),r)},k2e=S2e,C2e=function(e,r){var n=e.isDisabled,s=e.theme,i=s.spacing,o=s.colors;return Ir({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},r?{}:{color:n?o.neutral40:o.neutral80,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},_2e=function(e){var r=e.children,n=e.isDisabled,s=e.innerProps;return Rr("div",Ur({},Ms(e,"singleValue",{"single-value":!0,"single-value--is-disabled":n}),s),r)},A2e=_2e,T2e={ClearIndicator:Wwe,Control:Zwe,DropdownIndicator:qwe,DownChevron:hQ,CrossIcon:UD,Group:s2e,GroupHeading:a2e,IndicatorsContainer:Fwe,IndicatorSeparator:Gwe,Input:d2e,LoadingIndicator:Jwe,Menu:Swe,MenuList:Cwe,MenuPortal:Owe,LoadingMessage:Mwe,NoOptionsMessage:Twe,MultiValue:y2e,MultiValueContainer:p2e,MultiValueLabel:g2e,MultiValueRemove:x2e,Option:j2e,Placeholder:k2e,SelectContainer:Pwe,SingleValue:A2e,ValueContainer:Rwe},M2e=function(e){return Ir(Ir({},T2e),e.components)},K9=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function E2e(t,e){return!!(t===e||K9(t)&&K9(e))}function O2e(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(!E2e(t[r],e[r]))return!1;return!0}function D2e(t,e){e===void 0&&(e=O2e);var r=null;function n(){for(var s=[],i=0;i<arguments.length;i++)s[i]=arguments[i];if(r&&r.lastThis===this&&e(s,r.lastArgs))return r.lastResult;var o=t.apply(this,s);return r={lastResult:o,lastArgs:s,lastThis:this},o}return n.clear=function(){r=null},n}var P2e={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},L2e=function(e){return Rr("span",Ur({css:P2e},e))},J9=L2e,R2e={guidance:function(e){var r=e.isSearchable,n=e.isMulti,s=e.tabSelectsValue,i=e.context,o=e.isInitialFocus;switch(i){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(s?", press Tab to select the option and exit the menu":"",".");case"input":return o?"".concat(e["aria-label"]||"Select"," is focused ").concat(r?",type to refine list":"",", press Down to open the menu, ").concat(n?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var r=e.action,n=e.label,s=n===void 0?"":n,i=e.labels,o=e.isDisabled;switch(r){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(s,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(i.length>1?"s":""," ").concat(i.join(","),", selected.");case"select-option":return o?"option ".concat(s," is disabled. Select another option."):"option ".concat(s,", selected.");default:return""}},onFocus:function(e){var r=e.context,n=e.focused,s=e.options,i=e.label,o=i===void 0?"":i,l=e.selectValue,c=e.isDisabled,u=e.isSelected,f=e.isAppleDevice,h=function(w,y){return w&&w.length?"".concat(w.indexOf(y)+1," of ").concat(w.length):""};if(r==="value"&&l)return"value ".concat(o," focused, ").concat(h(l,n),".");if(r==="menu"&&f){var g=c?" disabled":"",p="".concat(u?" selected":"").concat(g);return"".concat(o).concat(p,", ").concat(h(s,n),".")}return""},onFilter:function(e){var r=e.inputValue,n=e.resultsMessage;return"".concat(n).concat(r?" for search term "+r:"",".")}},I2e=function(e){var r=e.ariaSelection,n=e.focusedOption,s=e.focusedValue,i=e.focusableOptions,o=e.isFocused,l=e.selectValue,c=e.selectProps,u=e.id,f=e.isAppleDevice,h=c.ariaLiveMessages,g=c.getOptionLabel,p=c.inputValue,v=c.isMulti,w=c.isOptionDisabled,y=c.isSearchable,N=c.menuIsOpen,k=c.options,S=c.screenReaderStatus,T=c.tabSelectsValue,_=c.isLoading,D=c["aria-label"],E=c["aria-live"],L=b.useMemo(function(){return Ir(Ir({},R2e),h||{})},[h]),R=b.useMemo(function(){var Y="";if(r&&L.onChange){var W=r.option,H=r.options,q=r.removedValue,X=r.removedValues,oe=r.value,K=function(ke){return Array.isArray(ke)?null:ke},V=q||W||K(oe),J=V?g(V):"",Q=H||X||void 0,re=Q?Q.map(g):[],ce=Ir({isDisabled:V&&w(V,l),label:J,labels:re},r);Y=L.onChange(ce)}return Y},[r,L,w,l,g]),F=b.useMemo(function(){var Y="",W=n||s,H=!!(n&&l&&l.includes(n));if(W&&L.onFocus){var q={focused:W,label:g(W),isDisabled:w(W,l),isSelected:H,options:i,context:W===n?"menu":"value",selectValue:l,isAppleDevice:f};Y=L.onFocus(q)}return Y},[n,s,g,w,L,i,l,f]),A=b.useMemo(function(){var Y="";if(N&&k.length&&!_&&L.onFilter){var W=S({count:i.length});Y=L.onFilter({inputValue:p,resultsMessage:W})}return Y},[i,p,N,L,k,S,_]),M=(r==null?void 0:r.action)==="initial-input-focus",B=b.useMemo(function(){var Y="";if(L.guidance){var W=s?"value":N?"menu":"input";Y=L.guidance({"aria-label":D,context:W,isDisabled:n&&w(n,l),isMulti:v,isSearchable:y,tabSelectsValue:T,isInitialFocus:M})}return Y},[D,n,s,v,w,y,N,L,l,T,M]),z=Rr(b.Fragment,null,Rr("span",{id:"aria-selection"},R),Rr("span",{id:"aria-focused"},F),Rr("span",{id:"aria-results"},A),Rr("span",{id:"aria-guidance"},B));return Rr(b.Fragment,null,Rr(J9,{id:u},M&&z),Rr(J9,{"aria-live":E,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},o&&!M&&z))},F2e=I2e,jM=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],B2e=new RegExp("["+jM.map(function(t){return t.letters}).join("")+"]","g"),xQ={};for(var VC=0;VC<jM.length;VC++)for(var GC=jM[VC],YC=0;YC<GC.letters.length;YC++)xQ[GC.letters[YC]]=GC.base;var bQ=function(e){return e.replace(B2e,function(r){return xQ[r]})},$2e=D2e(bQ),X9=function(e){return e.replace(/^\s+|\s+$/g,"")},H2e=function(e){return"".concat(e.label," ").concat(e.value)},z2e=function(e){return function(r,n){if(r.data.__isNew__)return!0;var s=Ir({ignoreCase:!0,ignoreAccents:!0,stringify:H2e,trim:!0,matchFrom:"any"},e),i=s.ignoreCase,o=s.ignoreAccents,l=s.stringify,c=s.trim,u=s.matchFrom,f=c?X9(n):n,h=c?X9(l(r)):l(r);return i&&(f=f.toLowerCase(),h=h.toLowerCase()),o&&(f=$2e(f),h=bQ(h)),u==="start"?h.substr(0,f.length)===f:h.indexOf(f)>-1}},q2e=["innerRef"];function U2e(t){var e=t.innerRef,r=gd(t,q2e),n=gwe(r,"onExited","in","enter","exit","appear");return Rr("input",Ur({ref:e},n,{css:qD({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var W2e=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};function V2e(t){var e=t.isEnabled,r=t.onBottomArrive,n=t.onBottomLeave,s=t.onTopArrive,i=t.onTopLeave,o=b.useRef(!1),l=b.useRef(!1),c=b.useRef(0),u=b.useRef(null),f=b.useCallback(function(y,N){if(u.current!==null){var k=u.current,S=k.scrollTop,T=k.scrollHeight,_=k.clientHeight,D=u.current,E=N>0,L=T-_-S,R=!1;L>N&&o.current&&(n&&n(y),o.current=!1),E&&l.current&&(i&&i(y),l.current=!1),E&&N>L?(r&&!o.current&&r(y),D.scrollTop=T,R=!0,o.current=!0):!E&&-N>S&&(s&&!l.current&&s(y),D.scrollTop=0,R=!0,l.current=!0),R&&W2e(y)}},[r,n,s,i]),h=b.useCallback(function(y){f(y,y.deltaY)},[f]),g=b.useCallback(function(y){c.current=y.changedTouches[0].clientY},[]),p=b.useCallback(function(y){var N=c.current-y.changedTouches[0].clientY;f(y,N)},[f]),v=b.useCallback(function(y){if(y){var N=hwe?{passive:!1}:!1;y.addEventListener("wheel",h,N),y.addEventListener("touchstart",g,N),y.addEventListener("touchmove",p,N)}},[p,g,h]),w=b.useCallback(function(y){y&&(y.removeEventListener("wheel",h,!1),y.removeEventListener("touchstart",g,!1),y.removeEventListener("touchmove",p,!1))},[p,g,h]);return b.useEffect(function(){if(e){var y=u.current;return v(y),function(){w(y)}}},[e,v,w]),function(y){u.current=y}}var Q9=["boxSizing","height","overflow","paddingRight","position"],Z9={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function eF(t){t.cancelable&&t.preventDefault()}function tF(t){t.stopPropagation()}function rF(){var t=this.scrollTop,e=this.scrollHeight,r=t+this.offsetHeight;t===0?this.scrollTop=1:r===e&&(this.scrollTop=t-1)}function nF(){return"ontouchstart"in window||navigator.maxTouchPoints}var aF=!!(typeof window<"u"&&window.document&&window.document.createElement),Wb=0,Y0={capture:!1,passive:!1};function G2e(t){var e=t.isEnabled,r=t.accountForScrollbars,n=r===void 0?!0:r,s=b.useRef({}),i=b.useRef(null),o=b.useCallback(function(c){if(aF){var u=document.body,f=u&&u.style;if(n&&Q9.forEach(function(v){var w=f&&f[v];s.current[v]=w}),n&&Wb<1){var h=parseInt(s.current.paddingRight,10)||0,g=document.body?document.body.clientWidth:0,p=window.innerWidth-g+h||0;Object.keys(Z9).forEach(function(v){var w=Z9[v];f&&(f[v]=w)}),f&&(f.paddingRight="".concat(p,"px"))}u&&nF()&&(u.addEventListener("touchmove",eF,Y0),c&&(c.addEventListener("touchstart",rF,Y0),c.addEventListener("touchmove",tF,Y0))),Wb+=1}},[n]),l=b.useCallback(function(c){if(aF){var u=document.body,f=u&&u.style;Wb=Math.max(Wb-1,0),n&&Wb<1&&Q9.forEach(function(h){var g=s.current[h];f&&(f[h]=g)}),u&&nF()&&(u.removeEventListener("touchmove",eF,Y0),c&&(c.removeEventListener("touchstart",rF,Y0),c.removeEventListener("touchmove",tF,Y0)))}},[n]);return b.useEffect(function(){if(e){var c=i.current;return o(c),function(){l(c)}}},[e,o,l]),function(c){i.current=c}}var Y2e=function(e){var r=e.target;return r.ownerDocument.activeElement&&r.ownerDocument.activeElement.blur()},K2e={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function J2e(t){var e=t.children,r=t.lockEnabled,n=t.captureEnabled,s=n===void 0?!0:n,i=t.onBottomArrive,o=t.onBottomLeave,l=t.onTopArrive,c=t.onTopLeave,u=V2e({isEnabled:s,onBottomArrive:i,onBottomLeave:o,onTopArrive:l,onTopLeave:c}),f=G2e({isEnabled:r}),h=function(p){u(p),f(p)};return Rr(b.Fragment,null,r&&Rr("div",{onClick:Y2e,css:K2e}),e(h))}var X2e={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},Q2e=function(e){var r=e.name,n=e.onFocus;return Rr("input",{required:!0,name:r,tabIndex:-1,"aria-hidden":"true",onFocus:n,css:X2e,value:"",onChange:function(){}})},Z2e=Q2e;function WD(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function eje(){return WD(/^iPhone/i)}function yQ(){return WD(/^Mac/i)}function tje(){return WD(/^iPad/i)||yQ()&&navigator.maxTouchPoints>1}function rje(){return eje()||tje()}function nje(){return yQ()||rje()}var aje=function(e){return e.label},vQ=function(e){return e.label},wQ=function(e){return e.value},sje=function(e){return!!e.isDisabled},ije={clearIndicator:Uwe,container:Dwe,control:Xwe,dropdownIndicator:zwe,group:t2e,groupHeading:n2e,indicatorsContainer:Iwe,indicatorSeparator:Vwe,input:o2e,loadingIndicator:Kwe,loadingMessage:Awe,menu:wwe,menuList:kwe,menuPortal:Ewe,multiValue:f2e,multiValueLabel:h2e,multiValueRemove:m2e,noOptionsMessage:_we,option:v2e,placeholder:N2e,singleValue:C2e,valueContainer:Lwe},oje={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},lje=4,jQ=4,cje=38,uje=jQ*2,dje={baseUnit:jQ,controlHeight:cje,menuGutter:uje},KC={borderRadius:lje,colors:oje,spacing:dje},fje={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:G9(),captureMenuScroll:!G9(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:z2e(),formatGroupLabel:aje,getOptionLabel:vQ,getOptionValue:wQ,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:sje,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!dwe(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var r=e.count;return"".concat(r," result").concat(r!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function sF(t,e,r,n){var s=kQ(t,e,r),i=CQ(t,e,r),o=SQ(t,e),l=Ej(t,e);return{type:"option",data:e,isDisabled:s,isSelected:i,label:o,value:l,index:n}}function q2(t,e){return t.options.map(function(r,n){if("options"in r){var s=r.options.map(function(o,l){return sF(t,o,e,l)}).filter(function(o){return oF(t,o)});return s.length>0?{type:"group",data:r,options:s,index:n}:void 0}var i=sF(t,r,e,n);return oF(t,i)?i:void 0}).filter(mwe)}function NQ(t){return t.reduce(function(e,r){return r.type==="group"?e.push.apply(e,Tg(r.options.map(function(n){return n.data}))):e.push(r.data),e},[])}function iF(t,e){return t.reduce(function(r,n){return n.type==="group"?r.push.apply(r,Tg(n.options.map(function(s){return{data:s.data,id:"".concat(e,"-").concat(n.index,"-").concat(s.index)}}))):r.push({data:n.data,id:"".concat(e,"-").concat(n.index)}),r},[])}function hje(t,e){return NQ(q2(t,e))}function oF(t,e){var r=t.inputValue,n=r===void 0?"":r,s=e.data,i=e.isSelected,o=e.label,l=e.value;return(!AQ(t)||!i)&&_Q(t,{label:o,value:l,data:s},n)}function mje(t,e){var r=t.focusedValue,n=t.selectValue,s=n.indexOf(r);if(s>-1){var i=e.indexOf(r);if(i>-1)return r;if(s<e.length)return e[s]}return null}function pje(t,e){var r=t.focusedOption;return r&&e.indexOf(r)>-1?r:e[0]}var JC=function(e,r){var n,s=(n=e.find(function(i){return i.data===r}))===null||n===void 0?void 0:n.id;return s||null},SQ=function(e,r){return e.getOptionLabel(r)},Ej=function(e,r){return e.getOptionValue(r)};function kQ(t,e,r){return typeof t.isOptionDisabled=="function"?t.isOptionDisabled(e,r):!1}function CQ(t,e,r){if(r.indexOf(e)>-1)return!0;if(typeof t.isOptionSelected=="function")return t.isOptionSelected(e,r);var n=Ej(t,e);return r.some(function(s){return Ej(t,s)===n})}function _Q(t,e,r){return t.filterOption?t.filterOption(e,r):!0}var AQ=function(e){var r=e.hideSelectedOptions,n=e.isMulti;return r===void 0?n:r},gje=1,VD=(function(t){Zve(r,t);var e=r1e(r);function r(n){var s;if(Xve(this,r),s=e.call(this,n),s.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:"",isAppleDevice:!1},s.blockOptionHover=!1,s.isComposing=!1,s.commonProps=void 0,s.initialTouchX=0,s.initialTouchY=0,s.openAfterFocus=!1,s.scrollToFocusedOptionOnUpdate=!1,s.userIsDragging=void 0,s.controlRef=null,s.getControlRef=function(c){s.controlRef=c},s.focusedOptionRef=null,s.getFocusedOptionRef=function(c){s.focusedOptionRef=c},s.menuListRef=null,s.getMenuListRef=function(c){s.menuListRef=c},s.inputRef=null,s.getInputRef=function(c){s.inputRef=c},s.focus=s.focusInput,s.blur=s.blurInput,s.onChange=function(c,u){var f=s.props,h=f.onChange,g=f.name;u.name=g,s.ariaOnChange(c,u),h(c,u)},s.setValue=function(c,u,f){var h=s.props,g=h.closeMenuOnSelect,p=h.isMulti,v=h.inputValue;s.onInputChange("",{action:"set-value",prevInputValue:v}),g&&(s.setState({inputIsHiddenAfterUpdate:!p}),s.onMenuClose()),s.setState({clearFocusValueOnUpdate:!0}),s.onChange(c,{action:u,option:f})},s.selectOption=function(c){var u=s.props,f=u.blurInputOnSelect,h=u.isMulti,g=u.name,p=s.state.selectValue,v=h&&s.isOptionSelected(c,p),w=s.isOptionDisabled(c,p);if(v){var y=s.getOptionValue(c);s.setValue(p.filter(function(N){return s.getOptionValue(N)!==y}),"deselect-option",c)}else if(!w)h?s.setValue([].concat(Tg(p),[c]),"select-option",c):s.setValue(c,"select-option");else{s.ariaOnChange(c,{action:"select-option",option:c,name:g});return}f&&s.blurInput()},s.removeValue=function(c){var u=s.props.isMulti,f=s.state.selectValue,h=s.getOptionValue(c),g=f.filter(function(v){return s.getOptionValue(v)!==h}),p=dy(u,g,g[0]||null);s.onChange(p,{action:"remove-value",removedValue:c}),s.focusInput()},s.clearValue=function(){var c=s.state.selectValue;s.onChange(dy(s.props.isMulti,[],null),{action:"clear",removedValues:c})},s.popValue=function(){var c=s.props.isMulti,u=s.state.selectValue,f=u[u.length-1],h=u.slice(0,u.length-1),g=dy(c,h,h[0]||null);f&&s.onChange(g,{action:"pop-value",removedValue:f})},s.getFocusedOptionId=function(c){return JC(s.state.focusableOptionsWithIds,c)},s.getFocusableOptionsWithIds=function(){return iF(q2(s.props,s.state.selectValue),s.getElementId("option"))},s.getValue=function(){return s.state.selectValue},s.cx=function(){for(var c=arguments.length,u=new Array(c),f=0;f<c;f++)u[f]=arguments[f];return iwe.apply(void 0,[s.props.classNamePrefix].concat(u))},s.getOptionLabel=function(c){return SQ(s.props,c)},s.getOptionValue=function(c){return Ej(s.props,c)},s.getStyles=function(c,u){var f=s.props.unstyled,h=ije[c](u,f);h.boxSizing="border-box";var g=s.props.styles[c];return g?g(h,u):h},s.getClassNames=function(c,u){var f,h;return(f=(h=s.props.classNames)[c])===null||f===void 0?void 0:f.call(h,u)},s.getElementId=function(c){return"".concat(s.state.instancePrefix,"-").concat(c)},s.getComponents=function(){return M2e(s.props)},s.buildCategorizedOptions=function(){return q2(s.props,s.state.selectValue)},s.getCategorizedOptions=function(){return s.props.menuIsOpen?s.buildCategorizedOptions():[]},s.buildFocusableOptions=function(){return NQ(s.buildCategorizedOptions())},s.getFocusableOptions=function(){return s.props.menuIsOpen?s.buildFocusableOptions():[]},s.ariaOnChange=function(c,u){s.setState({ariaSelection:Ir({value:c},u)})},s.onMenuMouseDown=function(c){c.button===0&&(c.stopPropagation(),c.preventDefault(),s.focusInput())},s.onMenuMouseMove=function(c){s.blockOptionHover=!1},s.onControlMouseDown=function(c){if(!c.defaultPrevented){var u=s.props.openMenuOnClick;s.state.isFocused?s.props.menuIsOpen?c.target.tagName!=="INPUT"&&c.target.tagName!=="TEXTAREA"&&s.onMenuClose():u&&s.openMenu("first"):(u&&(s.openAfterFocus=!0),s.focusInput()),c.target.tagName!=="INPUT"&&c.target.tagName!=="TEXTAREA"&&c.preventDefault()}},s.onDropdownIndicatorMouseDown=function(c){if(!(c&&c.type==="mousedown"&&c.button!==0)&&!s.props.isDisabled){var u=s.props,f=u.isMulti,h=u.menuIsOpen;s.focusInput(),h?(s.setState({inputIsHiddenAfterUpdate:!f}),s.onMenuClose()):s.openMenu("first"),c.preventDefault()}},s.onClearIndicatorMouseDown=function(c){c&&c.type==="mousedown"&&c.button!==0||(s.clearValue(),c.preventDefault(),s.openAfterFocus=!1,c.type==="touchend"?s.focusInput():setTimeout(function(){return s.focusInput()}))},s.onScroll=function(c){typeof s.props.closeMenuOnScroll=="boolean"?c.target instanceof HTMLElement&&VN(c.target)&&s.props.onMenuClose():typeof s.props.closeMenuOnScroll=="function"&&s.props.closeMenuOnScroll(c)&&s.props.onMenuClose()},s.onCompositionStart=function(){s.isComposing=!0},s.onCompositionEnd=function(){s.isComposing=!1},s.onTouchStart=function(c){var u=c.touches,f=u&&u.item(0);f&&(s.initialTouchX=f.clientX,s.initialTouchY=f.clientY,s.userIsDragging=!1)},s.onTouchMove=function(c){var u=c.touches,f=u&&u.item(0);if(f){var h=Math.abs(f.clientX-s.initialTouchX),g=Math.abs(f.clientY-s.initialTouchY),p=5;s.userIsDragging=h>p||g>p}},s.onTouchEnd=function(c){s.userIsDragging||(s.controlRef&&!s.controlRef.contains(c.target)&&s.menuListRef&&!s.menuListRef.contains(c.target)&&s.blurInput(),s.initialTouchX=0,s.initialTouchY=0)},s.onControlTouchEnd=function(c){s.userIsDragging||s.onControlMouseDown(c)},s.onClearIndicatorTouchEnd=function(c){s.userIsDragging||s.onClearIndicatorMouseDown(c)},s.onDropdownIndicatorTouchEnd=function(c){s.userIsDragging||s.onDropdownIndicatorMouseDown(c)},s.handleInputChange=function(c){var u=s.props.inputValue,f=c.currentTarget.value;s.setState({inputIsHiddenAfterUpdate:!1}),s.onInputChange(f,{action:"input-change",prevInputValue:u}),s.props.menuIsOpen||s.onMenuOpen()},s.onInputFocus=function(c){s.props.onFocus&&s.props.onFocus(c),s.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(s.openAfterFocus||s.props.openMenuOnFocus)&&s.openMenu("first"),s.openAfterFocus=!1},s.onInputBlur=function(c){var u=s.props.inputValue;if(s.menuListRef&&s.menuListRef.contains(document.activeElement)){s.inputRef.focus();return}s.props.onBlur&&s.props.onBlur(c),s.onInputChange("",{action:"input-blur",prevInputValue:u}),s.onMenuClose(),s.setState({focusedValue:null,isFocused:!1})},s.onOptionHover=function(c){if(!(s.blockOptionHover||s.state.focusedOption===c)){var u=s.getFocusableOptions(),f=u.indexOf(c);s.setState({focusedOption:c,focusedOptionId:f>-1?s.getFocusedOptionId(c):null})}},s.shouldHideSelectedOptions=function(){return AQ(s.props)},s.onValueInputFocus=function(c){c.preventDefault(),c.stopPropagation(),s.focus()},s.onKeyDown=function(c){var u=s.props,f=u.isMulti,h=u.backspaceRemovesValue,g=u.escapeClearsValue,p=u.inputValue,v=u.isClearable,w=u.isDisabled,y=u.menuIsOpen,N=u.onKeyDown,k=u.tabSelectsValue,S=u.openMenuOnFocus,T=s.state,_=T.focusedOption,D=T.focusedValue,E=T.selectValue;if(!w&&!(typeof N=="function"&&(N(c),c.defaultPrevented))){switch(s.blockOptionHover=!0,c.key){case"ArrowLeft":if(!f||p)return;s.focusValue("previous");break;case"ArrowRight":if(!f||p)return;s.focusValue("next");break;case"Delete":case"Backspace":if(p)return;if(D)s.removeValue(D);else{if(!h)return;f?s.popValue():v&&s.clearValue()}break;case"Tab":if(s.isComposing||c.shiftKey||!y||!k||!_||S&&s.isOptionSelected(_,E))return;s.selectOption(_);break;case"Enter":if(c.keyCode===229)break;if(y){if(!_||s.isComposing)return;s.selectOption(_);break}return;case"Escape":y?(s.setState({inputIsHiddenAfterUpdate:!1}),s.onInputChange("",{action:"menu-close",prevInputValue:p}),s.onMenuClose()):v&&g&&s.clearValue();break;case" ":if(p)return;if(!y){s.openMenu("first");break}if(!_)return;s.selectOption(_);break;case"ArrowUp":y?s.focusOption("up"):s.openMenu("last");break;case"ArrowDown":y?s.focusOption("down"):s.openMenu("first");break;case"PageUp":if(!y)return;s.focusOption("pageup");break;case"PageDown":if(!y)return;s.focusOption("pagedown");break;case"Home":if(!y)return;s.focusOption("first");break;case"End":if(!y)return;s.focusOption("last");break;default:return}c.preventDefault()}},s.state.instancePrefix="react-select-"+(s.props.instanceId||++gje),s.state.selectValue=Tj(n.value),n.menuIsOpen&&s.state.selectValue.length){var i=s.getFocusableOptionsWithIds(),o=s.buildFocusableOptions(),l=o.indexOf(s.state.selectValue[0]);s.state.focusableOptionsWithIds=i,s.state.focusedOption=o[l],s.state.focusedOptionId=JC(i,o[l])}return s}return Qve(r,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&V9(this.menuListRef,this.focusedOptionRef),nje()&&this.setState({isAppleDevice:!0})}},{key:"componentDidUpdate",value:function(s){var i=this.props,o=i.isDisabled,l=i.menuIsOpen,c=this.state.isFocused;(c&&!o&&s.isDisabled||c&&l&&!s.menuIsOpen)&&this.focusInput(),c&&o&&!s.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!c&&!o&&s.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(V9(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(s,i){this.props.onInputChange(s,i)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(s){var i=this,o=this.state,l=o.selectValue,c=o.isFocused,u=this.buildFocusableOptions(),f=s==="first"?0:u.length-1;if(!this.props.isMulti){var h=u.indexOf(l[0]);h>-1&&(f=h)}this.scrollToFocusedOptionOnUpdate=!(c&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:u[f],focusedOptionId:this.getFocusedOptionId(u[f])},function(){return i.onMenuOpen()})}},{key:"focusValue",value:function(s){var i=this.state,o=i.selectValue,l=i.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var c=o.indexOf(l);l||(c=-1);var u=o.length-1,f=-1;if(o.length){switch(s){case"previous":c===0?f=0:c===-1?f=u:f=c-1;break;case"next":c>-1&&c<u&&(f=c+1);break}this.setState({inputIsHidden:f!==-1,focusedValue:o[f]})}}}},{key:"focusOption",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",i=this.props.pageSize,o=this.state.focusedOption,l=this.getFocusableOptions();if(l.length){var c=0,u=l.indexOf(o);o||(u=-1),s==="up"?c=u>0?u-1:l.length-1:s==="down"?c=(u+1)%l.length:s==="pageup"?(c=u-i,c<0&&(c=0)):s==="pagedown"?(c=u+i,c>l.length-1&&(c=l.length-1)):s==="last"&&(c=l.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:l[c],focusedValue:null,focusedOptionId:this.getFocusedOptionId(l[c])})}}},{key:"getTheme",value:(function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(KC):Ir(Ir({},KC),this.props.theme):KC})},{key:"getCommonProps",value:function(){var s=this.clearValue,i=this.cx,o=this.getStyles,l=this.getClassNames,c=this.getValue,u=this.selectOption,f=this.setValue,h=this.props,g=h.isMulti,p=h.isRtl,v=h.options,w=this.hasValue();return{clearValue:s,cx:i,getStyles:o,getClassNames:l,getValue:c,hasValue:w,isMulti:g,isRtl:p,options:v,selectOption:u,selectProps:h,setValue:f,theme:this.getTheme()}}},{key:"hasValue",value:function(){var s=this.state.selectValue;return s.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var s=this.props,i=s.isClearable,o=s.isMulti;return i===void 0?o:i}},{key:"isOptionDisabled",value:function(s,i){return kQ(this.props,s,i)}},{key:"isOptionSelected",value:function(s,i){return CQ(this.props,s,i)}},{key:"filterOption",value:function(s,i){return _Q(this.props,s,i)}},{key:"formatOptionLabel",value:function(s,i){if(typeof this.props.formatOptionLabel=="function"){var o=this.props.inputValue,l=this.state.selectValue;return this.props.formatOptionLabel(s,{context:i,inputValue:o,selectValue:l})}else return this.getOptionLabel(s)}},{key:"formatGroupLabel",value:function(s){return this.props.formatGroupLabel(s)}},{key:"startListeningComposition",value:(function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))})},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:(function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))})},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:(function(){var s=this.props,i=s.isDisabled,o=s.isSearchable,l=s.inputId,c=s.inputValue,u=s.tabIndex,f=s.form,h=s.menuIsOpen,g=s.required,p=this.getComponents(),v=p.Input,w=this.state,y=w.inputIsHidden,N=w.ariaSelection,k=this.commonProps,S=l||this.getElementId("input"),T=Ir(Ir(Ir({"aria-autocomplete":"list","aria-expanded":h,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":g,role:"combobox","aria-activedescendant":this.state.isAppleDevice?void 0:this.state.focusedOptionId||""},h&&{"aria-controls":this.getElementId("listbox")}),!o&&{"aria-readonly":!0}),this.hasValue()?(N==null?void 0:N.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return o?b.createElement(v,Ur({},k,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:S,innerRef:this.getInputRef,isDisabled:i,isHidden:y,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:u,form:f,type:"text",value:c},T)):b.createElement(U2e,Ur({id:S,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:Aj,onFocus:this.onInputFocus,disabled:i,tabIndex:u,inputMode:"none",form:f,value:""},T))})},{key:"renderPlaceholderOrValue",value:function(){var s=this,i=this.getComponents(),o=i.MultiValue,l=i.MultiValueContainer,c=i.MultiValueLabel,u=i.MultiValueRemove,f=i.SingleValue,h=i.Placeholder,g=this.commonProps,p=this.props,v=p.controlShouldRenderValue,w=p.isDisabled,y=p.isMulti,N=p.inputValue,k=p.placeholder,S=this.state,T=S.selectValue,_=S.focusedValue,D=S.isFocused;if(!this.hasValue()||!v)return N?null:b.createElement(h,Ur({},g,{key:"placeholder",isDisabled:w,isFocused:D,innerProps:{id:this.getElementId("placeholder")}}),k);if(y)return T.map(function(L,R){var F=L===_,A="".concat(s.getOptionLabel(L),"-").concat(s.getOptionValue(L));return b.createElement(o,Ur({},g,{components:{Container:l,Label:c,Remove:u},isFocused:F,isDisabled:w,key:A,index:R,removeProps:{onClick:function(){return s.removeValue(L)},onTouchEnd:function(){return s.removeValue(L)},onMouseDown:function(B){B.preventDefault()}},data:L}),s.formatOptionLabel(L,"value"))});if(N)return null;var E=T[0];return b.createElement(f,Ur({},g,{data:E,isDisabled:w}),this.formatOptionLabel(E,"value"))}},{key:"renderClearIndicator",value:function(){var s=this.getComponents(),i=s.ClearIndicator,o=this.commonProps,l=this.props,c=l.isDisabled,u=l.isLoading,f=this.state.isFocused;if(!this.isClearable()||!i||c||!this.hasValue()||u)return null;var h={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return b.createElement(i,Ur({},o,{innerProps:h,isFocused:f}))}},{key:"renderLoadingIndicator",value:function(){var s=this.getComponents(),i=s.LoadingIndicator,o=this.commonProps,l=this.props,c=l.isDisabled,u=l.isLoading,f=this.state.isFocused;if(!i||!u)return null;var h={"aria-hidden":"true"};return b.createElement(i,Ur({},o,{innerProps:h,isDisabled:c,isFocused:f}))}},{key:"renderIndicatorSeparator",value:function(){var s=this.getComponents(),i=s.DropdownIndicator,o=s.IndicatorSeparator;if(!i||!o)return null;var l=this.commonProps,c=this.props.isDisabled,u=this.state.isFocused;return b.createElement(o,Ur({},l,{isDisabled:c,isFocused:u}))}},{key:"renderDropdownIndicator",value:function(){var s=this.getComponents(),i=s.DropdownIndicator;if(!i)return null;var o=this.commonProps,l=this.props.isDisabled,c=this.state.isFocused,u={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return b.createElement(i,Ur({},o,{innerProps:u,isDisabled:l,isFocused:c}))}},{key:"renderMenu",value:function(){var s=this,i=this.getComponents(),o=i.Group,l=i.GroupHeading,c=i.Menu,u=i.MenuList,f=i.MenuPortal,h=i.LoadingMessage,g=i.NoOptionsMessage,p=i.Option,v=this.commonProps,w=this.state.focusedOption,y=this.props,N=y.captureMenuScroll,k=y.inputValue,S=y.isLoading,T=y.loadingMessage,_=y.minMenuHeight,D=y.maxMenuHeight,E=y.menuIsOpen,L=y.menuPlacement,R=y.menuPosition,F=y.menuPortalTarget,A=y.menuShouldBlockScroll,M=y.menuShouldScrollIntoView,B=y.noOptionsMessage,z=y.onMenuScrollToTop,Y=y.onMenuScrollToBottom;if(!E)return null;var W=function(J,Q){var re=J.type,ce=J.data,Ee=J.isDisabled,ke=J.isSelected,ge=J.label,Ce=J.value,Ke=w===ce,fe=Ee?void 0:function(){return s.onOptionHover(ce)},ye=Ee?void 0:function(){return s.selectOption(ce)},ae="".concat(s.getElementId("option"),"-").concat(Q),se={id:ae,onClick:ye,onMouseMove:fe,onMouseOver:fe,tabIndex:-1,role:"option","aria-selected":s.state.isAppleDevice?void 0:ke};return b.createElement(p,Ur({},v,{innerProps:se,data:ce,isDisabled:Ee,isSelected:ke,key:ae,label:ge,type:re,value:Ce,isFocused:Ke,innerRef:Ke?s.getFocusedOptionRef:void 0}),s.formatOptionLabel(J.data,"menu"))},H;if(this.hasOptions())H=this.getCategorizedOptions().map(function(V){if(V.type==="group"){var J=V.data,Q=V.options,re=V.index,ce="".concat(s.getElementId("group"),"-").concat(re),Ee="".concat(ce,"-heading");return b.createElement(o,Ur({},v,{key:ce,data:J,options:Q,Heading:l,headingProps:{id:Ee,data:V.data},label:s.formatGroupLabel(V.data)}),V.options.map(function(ke){return W(ke,"".concat(re,"-").concat(ke.index))}))}else if(V.type==="option")return W(V,"".concat(V.index))});else if(S){var q=T({inputValue:k});if(q===null)return null;H=b.createElement(h,v,q)}else{var X=B({inputValue:k});if(X===null)return null;H=b.createElement(g,v,X)}var oe={minMenuHeight:_,maxMenuHeight:D,menuPlacement:L,menuPosition:R,menuShouldScrollIntoView:M},K=b.createElement(jwe,Ur({},v,oe),function(V){var J=V.ref,Q=V.placerProps,re=Q.placement,ce=Q.maxHeight;return b.createElement(c,Ur({},v,oe,{innerRef:J,innerProps:{onMouseDown:s.onMenuMouseDown,onMouseMove:s.onMenuMouseMove},isLoading:S,placement:re}),b.createElement(J2e,{captureEnabled:N,onTopArrive:z,onBottomArrive:Y,lockEnabled:A},function(Ee){return b.createElement(u,Ur({},v,{innerRef:function(ge){s.getMenuListRef(ge),Ee(ge)},innerProps:{role:"listbox","aria-multiselectable":v.isMulti,id:s.getElementId("listbox")},isLoading:S,maxHeight:ce,focusedOption:w}),H)}))});return F||R==="fixed"?b.createElement(f,Ur({},v,{appendTo:F,controlElement:this.controlRef,menuPlacement:L,menuPosition:R}),K):K}},{key:"renderFormField",value:function(){var s=this,i=this.props,o=i.delimiter,l=i.isDisabled,c=i.isMulti,u=i.name,f=i.required,h=this.state.selectValue;if(f&&!this.hasValue()&&!l)return b.createElement(Z2e,{name:u,onFocus:this.onValueInputFocus});if(!(!u||l))if(c)if(o){var g=h.map(function(w){return s.getOptionValue(w)}).join(o);return b.createElement("input",{name:u,type:"hidden",value:g})}else{var p=h.length>0?h.map(function(w,y){return b.createElement("input",{key:"i-".concat(y),name:u,type:"hidden",value:s.getOptionValue(w)})}):b.createElement("input",{name:u,type:"hidden",value:""});return b.createElement("div",null,p)}else{var v=h[0]?this.getOptionValue(h[0]):"";return b.createElement("input",{name:u,type:"hidden",value:v})}}},{key:"renderLiveRegion",value:function(){var s=this.commonProps,i=this.state,o=i.ariaSelection,l=i.focusedOption,c=i.focusedValue,u=i.isFocused,f=i.selectValue,h=this.getFocusableOptions();return b.createElement(F2e,Ur({},s,{id:this.getElementId("live-region"),ariaSelection:o,focusedOption:l,focusedValue:c,isFocused:u,selectValue:f,focusableOptions:h,isAppleDevice:this.state.isAppleDevice}))}},{key:"render",value:function(){var s=this.getComponents(),i=s.Control,o=s.IndicatorsContainer,l=s.SelectContainer,c=s.ValueContainer,u=this.props,f=u.className,h=u.id,g=u.isDisabled,p=u.menuIsOpen,v=this.state.isFocused,w=this.commonProps=this.getCommonProps();return b.createElement(l,Ur({},w,{className:f,innerProps:{id:h,onKeyDown:this.onKeyDown},isDisabled:g,isFocused:v}),this.renderLiveRegion(),b.createElement(i,Ur({},w,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:g,isFocused:v,menuIsOpen:p}),b.createElement(c,Ur({},w,{isDisabled:g}),this.renderPlaceholderOrValue(),this.renderInput()),b.createElement(o,Ur({},w,{isDisabled:g}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(s,i){var o=i.prevProps,l=i.clearFocusValueOnUpdate,c=i.inputIsHiddenAfterUpdate,u=i.ariaSelection,f=i.isFocused,h=i.prevWasFocused,g=i.instancePrefix,p=s.options,v=s.value,w=s.menuIsOpen,y=s.inputValue,N=s.isMulti,k=Tj(v),S={};if(o&&(v!==o.value||p!==o.options||w!==o.menuIsOpen||y!==o.inputValue)){var T=w?hje(s,k):[],_=w?iF(q2(s,k),"".concat(g,"-option")):[],D=l?mje(i,k):null,E=pje(i,T),L=JC(_,E);S={selectValue:k,focusedOption:E,focusedOptionId:L,focusableOptionsWithIds:_,focusedValue:D,clearFocusValueOnUpdate:!1}}var R=c!=null&&s!==o?{inputIsHidden:c,inputIsHiddenAfterUpdate:void 0}:{},F=u,A=f&&h;return f&&!A&&(F={value:dy(N,k,k[0]||null),options:k,action:"initial-input-focus"},A=!h),(u==null?void 0:u.action)==="initial-input-focus"&&(F=null),Ir(Ir(Ir({},S),R),{},{prevProps:s,ariaSelection:F,prevWasFocused:A})}}]),r})(b.Component);VD.defaultProps=fje;var xje=b.forwardRef(function(t,e){var r=GX(t);return b.createElement(VD,Ur({ref:e},r))}),un=xje;function Ui(t){this.content=t}Ui.prototype={constructor:Ui,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,r){var n=r&&r!=t?this.remove(r):this,s=n.find(t),i=n.content.slice();return s==-1?i.push(r||t,e):(i[s+1]=e,r&&(i[s]=r)),new Ui(i)},remove:function(t){var e=this.find(t);if(e==-1)return this;var r=this.content.slice();return r.splice(e,2),new Ui(r)},addToStart:function(t,e){return new Ui([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var r=this.remove(t).content.slice();return r.push(t,e),new Ui(r)},addBefore:function(t,e,r){var n=this.remove(e),s=n.content.slice(),i=n.find(t);return s.splice(i==-1?s.length:i,0,e,r),new Ui(s)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=Ui.from(t),t.size?new Ui(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=Ui.from(t),t.size?new Ui(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=Ui.from(t);for(var r=0;r<t.content.length;r+=2)e=e.remove(t.content[r]);return e},toObject:function(){var t={};return this.forEach(function(e,r){t[e]=r}),t},get size(){return this.content.length>>1}};Ui.from=function(t){if(t instanceof Ui)return t;var e=[];if(t)for(var r in t)e.push(r,t[r]);return new Ui(e)};function TQ(t,e,r){for(let n=0;;n++){if(n==t.childCount||n==e.childCount)return t.childCount==e.childCount?null:r;let s=t.child(n),i=e.child(n);if(s==i){r+=s.nodeSize;continue}if(!s.sameMarkup(i))return r;if(s.isText&&s.text!=i.text){for(let o=0;s.text[o]==i.text[o];o++)r++;return r}if(s.content.size||i.content.size){let o=TQ(s.content,i.content,r+1);if(o!=null)return o}r+=s.nodeSize}}function MQ(t,e,r,n){for(let s=t.childCount,i=e.childCount;;){if(s==0||i==0)return s==i?null:{a:r,b:n};let o=t.child(--s),l=e.child(--i),c=o.nodeSize;if(o==l){r-=c,n-=c;continue}if(!o.sameMarkup(l))return{a:r,b:n};if(o.isText&&o.text!=l.text){let u=0,f=Math.min(o.text.length,l.text.length);for(;u<f&&o.text[o.text.length-u-1]==l.text[l.text.length-u-1];)u++,r--,n--;return{a:r,b:n}}if(o.content.size||l.content.size){let u=MQ(o.content,l.content,r-1,n-1);if(u)return u}r-=c,n-=c}}class Yt{constructor(e,r){if(this.content=e,this.size=r||0,r==null)for(let n=0;n<e.length;n++)this.size+=e[n].nodeSize}nodesBetween(e,r,n,s=0,i){for(let o=0,l=0;l<r;o++){let c=this.content[o],u=l+c.nodeSize;if(u>e&&n(c,s+l,i||null,o)!==!1&&c.content.size){let f=l+1;c.nodesBetween(Math.max(0,e-f),Math.min(c.content.size,r-f),n,s+f)}l=u}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,r,n,s){let i="",o=!0;return this.nodesBetween(e,r,(l,c)=>{let u=l.isText?l.text.slice(Math.max(e,c)-c,r-c):l.isLeaf?s?typeof s=="function"?s(l):s:l.type.spec.leafText?l.type.spec.leafText(l):"":"";l.isBlock&&(l.isLeaf&&u||l.isTextblock)&&n&&(o?o=!1:i+=n),i+=u},0),i}append(e){if(!e.size)return this;if(!this.size)return e;let r=this.lastChild,n=e.firstChild,s=this.content.slice(),i=0;for(r.isText&&r.sameMarkup(n)&&(s[s.length-1]=r.withText(r.text+n.text),i=1);i<e.content.length;i++)s.push(e.content[i]);return new Yt(s,this.size+e.size)}cut(e,r=this.size){if(e==0&&r==this.size)return this;let n=[],s=0;if(r>e)for(let i=0,o=0;o<r;i++){let l=this.content[i],c=o+l.nodeSize;c>e&&((o<e||c>r)&&(l.isText?l=l.cut(Math.max(0,e-o),Math.min(l.text.length,r-o)):l=l.cut(Math.max(0,e-o-1),Math.min(l.content.size,r-o-1))),n.push(l),s+=l.nodeSize),o=c}return new Yt(n,s)}cutByIndex(e,r){return e==r?Yt.empty:e==0&&r==this.content.length?this:new Yt(this.content.slice(e,r))}replaceChild(e,r){let n=this.content[e];if(n==r)return this;let s=this.content.slice(),i=this.size+r.nodeSize-n.nodeSize;return s[e]=r,new Yt(s,i)}addToStart(e){return new Yt([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new Yt(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let r=0;r<this.content.length;r++)if(!this.content[r].eq(e.content[r]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let r=this.content[e];if(!r)throw new RangeError("Index "+e+" out of range for "+this);return r}maybeChild(e){return this.content[e]||null}forEach(e){for(let r=0,n=0;r<this.content.length;r++){let s=this.content[r];e(s,n,r),n+=s.nodeSize}}findDiffStart(e,r=0){return TQ(this,e,r)}findDiffEnd(e,r=this.size,n=e.size){return MQ(this,e,r,n)}findIndex(e){if(e==0)return Fw(0,e);if(e==this.size)return Fw(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,n=0;;r++){let s=this.child(r),i=n+s.nodeSize;if(i>=e)return i==e?Fw(r+1,i):Fw(r,n);n=i}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,r){if(!r)return Yt.empty;if(!Array.isArray(r))throw new RangeError("Invalid input for Fragment.fromJSON");return new Yt(r.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return Yt.empty;let r,n=0;for(let s=0;s<e.length;s++){let i=e[s];n+=i.nodeSize,s&&i.isText&&e[s-1].sameMarkup(i)?(r||(r=e.slice(0,s)),r[r.length-1]=i.withText(r[r.length-1].text+i.text)):r&&r.push(i)}return new Yt(r||e,n)}static from(e){if(!e)return Yt.empty;if(e instanceof Yt)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new Yt([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}Yt.empty=new Yt([],0);const XC={index:0,offset:0};function Fw(t,e){return XC.index=t,XC.offset=e,XC}function Oj(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let r=Array.isArray(t);if(Array.isArray(e)!=r)return!1;if(r){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!Oj(t[n],e[n]))return!1}else{for(let n in t)if(!(n in e)||!Oj(t[n],e[n]))return!1;for(let n in e)if(!(n in t))return!1}return!0}let Ea=class NM{constructor(e,r){this.type=e,this.attrs=r}addToSet(e){let r,n=!1;for(let s=0;s<e.length;s++){let i=e[s];if(this.eq(i))return e;if(this.type.excludes(i.type))r||(r=e.slice(0,s));else{if(i.type.excludes(this.type))return e;!n&&i.type.rank>this.type.rank&&(r||(r=e.slice(0,s)),r.push(this),n=!0),r&&r.push(i)}}return r||(r=e.slice()),n||r.push(this),r}removeFromSet(e){for(let r=0;r<e.length;r++)if(this.eq(e[r]))return e.slice(0,r).concat(e.slice(r+1));return e}isInSet(e){for(let r=0;r<e.length;r++)if(this.eq(e[r]))return!0;return!1}eq(e){return this==e||this.type==e.type&&Oj(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let r in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,r){if(!r)throw new RangeError("Invalid input for Mark.fromJSON");let n=e.marks[r.type];if(!n)throw new RangeError(`There is no mark type ${r.type} in this schema`);let s=n.create(r.attrs);return n.checkAttrs(s.attrs),s}static sameSet(e,r){if(e==r)return!0;if(e.length!=r.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].eq(r[n]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return NM.none;if(e instanceof NM)return[e];let r=e.slice();return r.sort((n,s)=>n.type.rank-s.type.rank),r}};Ea.none=[];class Dj extends Error{}class pr{constructor(e,r,n){this.content=e,this.openStart=r,this.openEnd=n}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,r){let n=OQ(this.content,e+this.openStart,r);return n&&new pr(n,this.openStart,this.openEnd)}removeBetween(e,r){return new pr(EQ(this.content,e+this.openStart,r+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,r){if(!r)return pr.empty;let n=r.openStart||0,s=r.openEnd||0;if(typeof n!="number"||typeof s!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new pr(Yt.fromJSON(e,r.content),n,s)}static maxOpen(e,r=!0){let n=0,s=0;for(let i=e.firstChild;i&&!i.isLeaf&&(r||!i.type.spec.isolating);i=i.firstChild)n++;for(let i=e.lastChild;i&&!i.isLeaf&&(r||!i.type.spec.isolating);i=i.lastChild)s++;return new pr(e,n,s)}}pr.empty=new pr(Yt.empty,0,0);function EQ(t,e,r){let{index:n,offset:s}=t.findIndex(e),i=t.maybeChild(n),{index:o,offset:l}=t.findIndex(r);if(s==e||i.isText){if(l!=r&&!t.child(o).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(r))}if(n!=o)throw new RangeError("Removing non-flat range");return t.replaceChild(n,i.copy(EQ(i.content,e-s-1,r-s-1)))}function OQ(t,e,r,n){let{index:s,offset:i}=t.findIndex(e),o=t.maybeChild(s);if(i==e||o.isText)return n&&!n.canReplace(s,s,r)?null:t.cut(0,e).append(r).append(t.cut(e));let l=OQ(o.content,e-i-1,r,o);return l&&t.replaceChild(s,o.copy(l))}function bje(t,e,r){if(r.openStart>t.depth)throw new Dj("Inserted content deeper than insertion position");if(t.depth-r.openStart!=e.depth-r.openEnd)throw new Dj("Inconsistent open depths");return DQ(t,e,r,0)}function DQ(t,e,r,n){let s=t.index(n),i=t.node(n);if(s==e.index(n)&&n<t.depth-r.openStart){let o=DQ(t,e,r,n+1);return i.copy(i.content.replaceChild(s,o))}else if(r.content.size)if(!r.openStart&&!r.openEnd&&t.depth==n&&e.depth==n){let o=t.parent,l=o.content;return kp(o,l.cut(0,t.parentOffset).append(r.content).append(l.cut(e.parentOffset)))}else{let{start:o,end:l}=yje(r,t);return kp(i,LQ(t,o,l,e,n))}else return kp(i,Pj(t,e,n))}function PQ(t,e){if(!e.type.compatibleContent(t.type))throw new Dj("Cannot join "+e.type.name+" onto "+t.type.name)}function SM(t,e,r){let n=t.node(r);return PQ(n,e.node(r)),n}function Sp(t,e){let r=e.length-1;r>=0&&t.isText&&t.sameMarkup(e[r])?e[r]=t.withText(e[r].text+t.text):e.push(t)}function Sy(t,e,r,n){let s=(e||t).node(r),i=0,o=e?e.index(r):s.childCount;t&&(i=t.index(r),t.depth>r?i++:t.textOffset&&(Sp(t.nodeAfter,n),i++));for(let l=i;l<o;l++)Sp(s.child(l),n);e&&e.depth==r&&e.textOffset&&Sp(e.nodeBefore,n)}function kp(t,e){return t.type.checkContent(e),t.copy(e)}function LQ(t,e,r,n,s){let i=t.depth>s&&SM(t,e,s+1),o=n.depth>s&&SM(r,n,s+1),l=[];return Sy(null,t,s,l),i&&o&&e.index(s)==r.index(s)?(PQ(i,o),Sp(kp(i,LQ(t,e,r,n,s+1)),l)):(i&&Sp(kp(i,Pj(t,e,s+1)),l),Sy(e,r,s,l),o&&Sp(kp(o,Pj(r,n,s+1)),l)),Sy(n,null,s,l),new Yt(l)}function Pj(t,e,r){let n=[];if(Sy(null,t,r,n),t.depth>r){let s=SM(t,e,r+1);Sp(kp(s,Pj(t,e,r+1)),n)}return Sy(e,null,r,n),new Yt(n)}function yje(t,e){let r=e.depth-t.openStart,s=e.node(r).copy(t.content);for(let i=r-1;i>=0;i--)s=e.node(i).copy(Yt.from(s));return{start:s.resolveNoCache(t.openStart+r),end:s.resolveNoCache(s.content.size-t.openEnd-r)}}class nv{constructor(e,r,n){this.pos=e,this.path=r,this.parentOffset=n,this.depth=r.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,r=this.index(this.depth);if(r==e.childCount)return null;let n=this.pos-this.path[this.path.length-1],s=e.child(r);return n?e.child(r).cut(n):s}get nodeBefore(){let e=this.index(this.depth),r=this.pos-this.path[this.path.length-1];return r?this.parent.child(e).cut(0,r):e==0?null:this.parent.child(e-1)}posAtIndex(e,r){r=this.resolveDepth(r);let n=this.path[r*3],s=r==0?0:this.path[r*3-1]+1;for(let i=0;i<e;i++)s+=n.child(i).nodeSize;return s}marks(){let e=this.parent,r=this.index();if(e.content.size==0)return Ea.none;if(this.textOffset)return e.child(r).marks;let n=e.maybeChild(r-1),s=e.maybeChild(r);if(!n){let l=n;n=s,s=l}let i=n.marks;for(var o=0;o<i.length;o++)i[o].type.spec.inclusive===!1&&(!s||!i[o].isInSet(s.marks))&&(i=i[o--].removeFromSet(i));return i}marksAcross(e){let r=this.parent.maybeChild(this.index());if(!r||!r.isInline)return null;let n=r.marks,s=e.parent.maybeChild(e.index());for(var i=0;i<n.length;i++)n[i].type.spec.inclusive===!1&&(!s||!n[i].isInSet(s.marks))&&(n=n[i--].removeFromSet(n));return n}sharedDepth(e){for(let r=this.depth;r>0;r--)if(this.start(r)<=e&&this.end(r)>=e)return r;return 0}blockRange(e=this,r){if(e.pos<this.pos)return e.blockRange(this);for(let n=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);n>=0;n--)if(e.pos<=this.end(n)&&(!r||r(this.node(n))))return new Lj(this,e,n);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let r=1;r<=this.depth;r++)e+=(e?"/":"")+this.node(r).type.name+"_"+this.index(r-1);return e+":"+this.parentOffset}static resolve(e,r){if(!(r>=0&&r<=e.content.size))throw new RangeError("Position "+r+" out of range");let n=[],s=0,i=r;for(let o=e;;){let{index:l,offset:c}=o.content.findIndex(i),u=i-c;if(n.push(o,l,s+c),!u||(o=o.child(l),o.isText))break;i=u-1,s+=c+1}return new nv(r,n,i)}static resolveCached(e,r){let n=lF.get(e);if(n)for(let i=0;i<n.elts.length;i++){let o=n.elts[i];if(o.pos==r)return o}else lF.set(e,n=new vje);let s=n.elts[n.i]=nv.resolve(e,r);return n.i=(n.i+1)%wje,s}}class vje{constructor(){this.elts=[],this.i=0}}const wje=12,lF=new WeakMap;class Lj{constructor(e,r,n){this.$from=e,this.$to=r,this.depth=n}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const jje=Object.create(null);let tm=class kM{constructor(e,r,n,s=Ea.none){this.type=e,this.attrs=r,this.marks=s,this.content=n||Yt.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,r,n,s=0){this.content.nodesBetween(e,r,n,s,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,r,n,s){return this.content.textBetween(e,r,n,s)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,r,n){return this.type==e&&Oj(this.attrs,r||e.defaultAttrs||jje)&&Ea.sameSet(this.marks,n||Ea.none)}copy(e=null){return e==this.content?this:new kM(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new kM(this.type,this.attrs,this.content,e)}cut(e,r=this.content.size){return e==0&&r==this.content.size?this:this.copy(this.content.cut(e,r))}slice(e,r=this.content.size,n=!1){if(e==r)return pr.empty;let s=this.resolve(e),i=this.resolve(r),o=n?0:s.sharedDepth(r),l=s.start(o),u=s.node(o).content.cut(s.pos-l,i.pos-l);return new pr(u,s.depth-o,i.depth-o)}replace(e,r,n){return bje(this.resolve(e),this.resolve(r),n)}nodeAt(e){for(let r=this;;){let{index:n,offset:s}=r.content.findIndex(e);if(r=r.maybeChild(n),!r)return null;if(s==e||r.isText)return r;e-=s+1}}childAfter(e){let{index:r,offset:n}=this.content.findIndex(e);return{node:this.content.maybeChild(r),index:r,offset:n}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:r,offset:n}=this.content.findIndex(e);if(n<e)return{node:this.content.child(r),index:r,offset:n};let s=this.content.child(r-1);return{node:s,index:r-1,offset:n-s.nodeSize}}resolve(e){return nv.resolveCached(this,e)}resolveNoCache(e){return nv.resolve(this,e)}rangeHasMark(e,r,n){let s=!1;return r>e&&this.nodesBetween(e,r,i=>(n.isInSet(i.marks)&&(s=!0),!s)),s}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),RQ(this.marks,e)}contentMatchAt(e){let r=this.type.contentMatch.matchFragment(this.content,0,e);if(!r)throw new Error("Called contentMatchAt on a node with invalid content");return r}canReplace(e,r,n=Yt.empty,s=0,i=n.childCount){let o=this.contentMatchAt(e).matchFragment(n,s,i),l=o&&o.matchFragment(this.content,r);if(!l||!l.validEnd)return!1;for(let c=s;c<i;c++)if(!this.type.allowsMarks(n.child(c).marks))return!1;return!0}canReplaceWith(e,r,n,s){if(s&&!this.type.allowsMarks(s))return!1;let i=this.contentMatchAt(e).matchType(n),o=i&&i.matchFragment(this.content,r);return o?o.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=Ea.none;for(let r=0;r<this.marks.length;r++){let n=this.marks[r];n.type.checkAttrs(n.attrs),e=n.addToSet(e)}if(!Ea.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(r=>r.type.name)}`);this.content.forEach(r=>r.check())}toJSON(){let e={type:this.type.name};for(let r in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(r=>r.toJSON())),e}static fromJSON(e,r){if(!r)throw new RangeError("Invalid input for Node.fromJSON");let n;if(r.marks){if(!Array.isArray(r.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=r.marks.map(e.markFromJSON)}if(r.type=="text"){if(typeof r.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(r.text,n)}let s=Yt.fromJSON(e,r.content),i=e.nodeType(r.type).create(r.attrs,s,n);return i.type.checkAttrs(i.attrs),i}};tm.prototype.text=void 0;class Rj extends tm{constructor(e,r,n,s){if(super(e,r,null,s),!n)throw new RangeError("Empty text nodes are not allowed");this.text=n}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):RQ(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,r){return this.text.slice(e,r)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Rj(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Rj(this.type,this.attrs,e,this.marks)}cut(e=0,r=this.text.length){return e==0&&r==this.text.length?this:this.withText(this.text.slice(e,r))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function RQ(t,e){for(let r=t.length-1;r>=0;r--)e=t[r].type.name+"("+e+")";return e}class Rp{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,r){let n=new Nje(e,r);if(n.next==null)return Rp.empty;let s=IQ(n);n.next&&n.err("Unexpected trailing text");let i=Mje(Tje(s));return Eje(i,n),i}matchType(e){for(let r=0;r<this.next.length;r++)if(this.next[r].type==e)return this.next[r].next;return null}matchFragment(e,r=0,n=e.childCount){let s=this;for(let i=r;s&&i<n;i++)s=s.matchType(e.child(i).type);return s}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:r}=this.next[e];if(!(r.isText||r.hasRequiredAttrs()))return r}return null}compatible(e){for(let r=0;r<this.next.length;r++)for(let n=0;n<e.next.length;n++)if(this.next[r].type==e.next[n].type)return!0;return!1}fillBefore(e,r=!1,n=0){let s=[this];function i(o,l){let c=o.matchFragment(e,n);if(c&&(!r||c.validEnd))return Yt.from(l.map(u=>u.createAndFill()));for(let u=0;u<o.next.length;u++){let{type:f,next:h}=o.next[u];if(!(f.isText||f.hasRequiredAttrs())&&s.indexOf(h)==-1){s.push(h);let g=i(h,l.concat(f));if(g)return g}}return null}return i(this,[])}findWrapping(e){for(let n=0;n<this.wrapCache.length;n+=2)if(this.wrapCache[n]==e)return this.wrapCache[n+1];let r=this.computeWrapping(e);return this.wrapCache.push(e,r),r}computeWrapping(e){let r=Object.create(null),n=[{match:this,type:null,via:null}];for(;n.length;){let s=n.shift(),i=s.match;if(i.matchType(e)){let o=[];for(let l=s;l.type;l=l.via)o.push(l.type);return o.reverse()}for(let o=0;o<i.next.length;o++){let{type:l,next:c}=i.next[o];!l.isLeaf&&!l.hasRequiredAttrs()&&!(l.name in r)&&(!s.type||c.validEnd)&&(n.push({match:l.contentMatch,type:l,via:s}),r[l.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function r(n){e.push(n);for(let s=0;s<n.next.length;s++)e.indexOf(n.next[s].next)==-1&&r(n.next[s].next)}return r(this),e.map((n,s)=>{let i=s+(n.validEnd?"*":" ")+" ";for(let o=0;o<n.next.length;o++)i+=(o?", ":"")+n.next[o].type.name+"->"+e.indexOf(n.next[o].next);return i}).join(`
`)}}Rp.empty=new Rp(!0);class Nje{constructor(e,r){this.string=e,this.nodeTypes=r,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function IQ(t){let e=[];do e.push(Sje(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function Sje(t){let e=[];do e.push(kje(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function kje(t){let e=Aje(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=Cje(t,e);else break;return e}function cF(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function Cje(t,e){let r=cF(t),n=r;return t.eat(",")&&(t.next!="}"?n=cF(t):n=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:r,max:n,expr:e}}function _je(t,e){let r=t.nodeTypes,n=r[e];if(n)return[n];let s=[];for(let i in r){let o=r[i];o.isInGroup(e)&&s.push(o)}return s.length==0&&t.err("No node type or group '"+e+"' found"),s}function Aje(t){if(t.eat("(")){let e=IQ(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=_je(t,t.next).map(r=>(t.inline==null?t.inline=r.isInline:t.inline!=r.isInline&&t.err("Mixing inline and block content"),{type:"name",value:r}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function Tje(t){let e=[[]];return s(i(t,0),r()),e;function r(){return e.push([])-1}function n(o,l,c){let u={term:c,to:l};return e[o].push(u),u}function s(o,l){o.forEach(c=>c.to=l)}function i(o,l){if(o.type=="choice")return o.exprs.reduce((c,u)=>c.concat(i(u,l)),[]);if(o.type=="seq")for(let c=0;;c++){let u=i(o.exprs[c],l);if(c==o.exprs.length-1)return u;s(u,l=r())}else if(o.type=="star"){let c=r();return n(l,c),s(i(o.expr,c),c),[n(c)]}else if(o.type=="plus"){let c=r();return s(i(o.expr,l),c),s(i(o.expr,c),c),[n(c)]}else{if(o.type=="opt")return[n(l)].concat(i(o.expr,l));if(o.type=="range"){let c=l;for(let u=0;u<o.min;u++){let f=r();s(i(o.expr,c),f),c=f}if(o.max==-1)s(i(o.expr,c),c);else for(let u=o.min;u<o.max;u++){let f=r();n(c,f),s(i(o.expr,c),f),c=f}return[n(c)]}else{if(o.type=="name")return[n(l,void 0,o.value)];throw new Error("Unknown expr type")}}}}function FQ(t,e){return e-t}function uF(t,e){let r=[];return n(e),r.sort(FQ);function n(s){let i=t[s];if(i.length==1&&!i[0].term)return n(i[0].to);r.push(s);for(let o=0;o<i.length;o++){let{term:l,to:c}=i[o];!l&&r.indexOf(c)==-1&&n(c)}}}function Mje(t){let e=Object.create(null);return r(uF(t,0));function r(n){let s=[];n.forEach(o=>{t[o].forEach(({term:l,to:c})=>{if(!l)return;let u;for(let f=0;f<s.length;f++)s[f][0]==l&&(u=s[f][1]);uF(t,c).forEach(f=>{u||s.push([l,u=[]]),u.indexOf(f)==-1&&u.push(f)})})});let i=e[n.join(",")]=new Rp(n.indexOf(t.length-1)>-1);for(let o=0;o<s.length;o++){let l=s[o][1].sort(FQ);i.next.push({type:s[o][0],next:e[l.join(",")]||r(l)})}return i}}function Eje(t,e){for(let r=0,n=[t];r<n.length;r++){let s=n[r],i=!s.validEnd,o=[];for(let l=0;l<s.next.length;l++){let{type:c,next:u}=s.next[l];o.push(c.name),i&&!(c.isText||c.hasRequiredAttrs())&&(i=!1),n.indexOf(u)==-1&&n.push(u)}i&&e.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function BQ(t){let e=Object.create(null);for(let r in t){let n=t[r];if(!n.hasDefault)return null;e[r]=n.default}return e}function $Q(t,e){let r=Object.create(null);for(let n in t){let s=e&&e[n];if(s===void 0){let i=t[n];if(i.hasDefault)s=i.default;else throw new RangeError("No value supplied for attribute "+n)}r[n]=s}return r}function HQ(t,e,r,n){for(let s in e)if(!(s in t))throw new RangeError(`Unsupported attribute ${s} for ${r} of type ${s}`);for(let s in t){let i=t[s];i.validate&&i.validate(e[s])}}function zQ(t,e){let r=Object.create(null);if(e)for(let n in e)r[n]=new Dje(t,n,e[n]);return r}let dF=class qQ{constructor(e,r,n){this.name=e,this.schema=r,this.spec=n,this.markSet=null,this.groups=n.group?n.group.split(" "):[],this.attrs=zQ(e,n.attrs),this.defaultAttrs=BQ(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(n.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Rp.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:$Q(this.attrs,e)}create(e=null,r,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new tm(this,this.computeAttrs(e),Yt.from(r),Ea.setFrom(n))}createChecked(e=null,r,n){return r=Yt.from(r),this.checkContent(r),new tm(this,this.computeAttrs(e),r,Ea.setFrom(n))}createAndFill(e=null,r,n){if(e=this.computeAttrs(e),r=Yt.from(r),r.size){let o=this.contentMatch.fillBefore(r);if(!o)return null;r=o.append(r)}let s=this.contentMatch.matchFragment(r),i=s&&s.fillBefore(Yt.empty,!0);return i?new tm(this,e,r.append(i),Ea.setFrom(n)):null}validContent(e){let r=this.contentMatch.matchFragment(e);if(!r||!r.validEnd)return!1;for(let n=0;n<e.childCount;n++)if(!this.allowsMarks(e.child(n).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){HQ(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let r=0;r<e.length;r++)if(!this.allowsMarkType(e[r].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let r;for(let n=0;n<e.length;n++)this.allowsMarkType(e[n].type)?r&&r.push(e[n]):r||(r=e.slice(0,n));return r?r.length?r:Ea.none:e}static compile(e,r){let n=Object.create(null);e.forEach((i,o)=>n[i]=new qQ(i,r,o));let s=r.spec.topNode||"doc";if(!n[s])throw new RangeError("Schema is missing its top node type ('"+s+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(let i in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n}};function Oje(t,e,r){let n=r.split("|");return s=>{let i=s===null?"null":typeof s;if(n.indexOf(i)<0)throw new RangeError(`Expected value of type ${n} for attribute ${e} on type ${t}, got ${i}`)}}class Dje{constructor(e,r,n){this.hasDefault=Object.prototype.hasOwnProperty.call(n,"default"),this.default=n.default,this.validate=typeof n.validate=="string"?Oje(e,r,n.validate):n.validate}get isRequired(){return!this.hasDefault}}class GN{constructor(e,r,n,s){this.name=e,this.rank=r,this.schema=n,this.spec=s,this.attrs=zQ(e,s.attrs),this.excluded=null;let i=BQ(this.attrs);this.instance=i?new Ea(this,i):null}create(e=null){return!e&&this.instance?this.instance:new Ea(this,$Q(this.attrs,e))}static compile(e,r){let n=Object.create(null),s=0;return e.forEach((i,o)=>n[i]=new GN(i,s++,r,o)),n}removeFromSet(e){for(var r=0;r<e.length;r++)e[r].type==this&&(e=e.slice(0,r).concat(e.slice(r+1)),r--);return e}isInSet(e){for(let r=0;r<e.length;r++)if(e[r].type==this)return e[r]}checkAttrs(e){HQ(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class UQ{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let r=this.spec={};for(let s in e)r[s]=e[s];r.nodes=Ui.from(e.nodes),r.marks=Ui.from(e.marks||{}),this.nodes=dF.compile(this.spec.nodes,this),this.marks=GN.compile(this.spec.marks,this);let n=Object.create(null);for(let s in this.nodes){if(s in this.marks)throw new RangeError(s+" can not be both a node and a mark");let i=this.nodes[s],o=i.spec.content||"",l=i.spec.marks;if(i.contentMatch=n[o]||(n[o]=Rp.parse(o,this.nodes)),i.inlineContent=i.contentMatch.inlineContent,i.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!i.isInline||!i.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=i}i.markSet=l=="_"?null:l?fF(this,l.split(" ")):l==""||!i.inlineContent?[]:null}for(let s in this.marks){let i=this.marks[s],o=i.spec.excludes;i.excluded=o==null?[i]:o==""?[]:fF(this,o.split(" "))}this.nodeFromJSON=s=>tm.fromJSON(this,s),this.markFromJSON=s=>Ea.fromJSON(this,s),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,r=null,n,s){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof dF){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(r,n,s)}text(e,r){let n=this.nodes.text;return new Rj(n,n.defaultAttrs,e,Ea.setFrom(r))}mark(e,r){return typeof e=="string"&&(e=this.marks[e]),e.create(r)}nodeType(e){let r=this.nodes[e];if(!r)throw new RangeError("Unknown node type: "+e);return r}}function fF(t,e){let r=[];for(let n=0;n<e.length;n++){let s=e[n],i=t.marks[s],o=i;if(i)r.push(i);else for(let l in t.marks){let c=t.marks[l];(s=="_"||c.spec.group&&c.spec.group.split(" ").indexOf(s)>-1)&&r.push(o=c)}if(!o)throw new SyntaxError("Unknown mark type: '"+e[n]+"'")}return r}function Pje(t){return t.tag!=null}function Lje(t){return t.style!=null}class rm{constructor(e,r){this.schema=e,this.rules=r,this.tags=[],this.styles=[];let n=this.matchedStyles=[];r.forEach(s=>{if(Pje(s))this.tags.push(s);else if(Lje(s)){let i=/[^=]*/.exec(s.style)[0];n.indexOf(i)<0&&n.push(i),this.styles.push(s)}}),this.normalizeLists=!this.tags.some(s=>{if(!/^(ul|ol)\b/.test(s.tag)||!s.node)return!1;let i=e.nodes[s.node];return i.contentMatch.matchType(i)})}parse(e,r={}){let n=new mF(this,r,!1);return n.addAll(e,Ea.none,r.from,r.to),n.finish()}parseSlice(e,r={}){let n=new mF(this,r,!0);return n.addAll(e,Ea.none,r.from,r.to),pr.maxOpen(n.finish())}matchTag(e,r,n){for(let s=n?this.tags.indexOf(n)+1:0;s<this.tags.length;s++){let i=this.tags[s];if(Fje(e,i.tag)&&(i.namespace===void 0||e.namespaceURI==i.namespace)&&(!i.context||r.matchesContext(i.context))){if(i.getAttrs){let o=i.getAttrs(e);if(o===!1)continue;i.attrs=o||void 0}return i}}}matchStyle(e,r,n,s){for(let i=s?this.styles.indexOf(s)+1:0;i<this.styles.length;i++){let o=this.styles[i],l=o.style;if(!(l.indexOf(e)!=0||o.context&&!n.matchesContext(o.context)||l.length>e.length&&(l.charCodeAt(e.length)!=61||l.slice(e.length+1)!=r))){if(o.getAttrs){let c=o.getAttrs(r);if(c===!1)continue;o.attrs=c||void 0}return o}}}static schemaRules(e){let r=[];function n(s){let i=s.priority==null?50:s.priority,o=0;for(;o<r.length;o++){let l=r[o];if((l.priority==null?50:l.priority)<i)break}r.splice(o,0,s)}for(let s in e.marks){let i=e.marks[s].spec.parseDOM;i&&i.forEach(o=>{n(o=pF(o)),o.mark||o.ignore||o.clearMark||(o.mark=s)})}for(let s in e.nodes){let i=e.nodes[s].spec.parseDOM;i&&i.forEach(o=>{n(o=pF(o)),o.node||o.ignore||o.mark||(o.node=s)})}return r}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new rm(e,rm.schemaRules(e)))}}const WQ={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},Rje={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},VQ={ol:!0,ul:!0},av=1,CM=2,ky=4;function hF(t,e,r){return e!=null?(e?av:0)|(e==="full"?CM:0):t&&t.whitespace=="pre"?av|CM:r&~ky}class Bw{constructor(e,r,n,s,i,o){this.type=e,this.attrs=r,this.marks=n,this.solid=s,this.options=o,this.content=[],this.activeMarks=Ea.none,this.match=i||(o&ky?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let r=this.type.contentMatch.fillBefore(Yt.from(e));if(r)this.match=this.type.contentMatch.matchFragment(r);else{let n=this.type.contentMatch,s;return(s=n.findWrapping(e.type))?(this.match=n,s):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&av)){let n=this.content[this.content.length-1],s;if(n&&n.isText&&(s=/[ \t\r\n\u000c]+$/.exec(n.text))){let i=n;n.text.length==s[0].length?this.content.pop():this.content[this.content.length-1]=i.withText(i.text.slice(0,i.text.length-s[0].length))}}let r=Yt.from(this.content);return!e&&this.match&&(r=r.append(this.match.fillBefore(Yt.empty,!0))),this.type?this.type.create(this.attrs,r,this.marks):r}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!WQ.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class mF{constructor(e,r,n){this.parser=e,this.options=r,this.isOpen=n,this.open=0,this.localPreserveWS=!1;let s=r.topNode,i,o=hF(null,r.preserveWhitespace,0)|(n?ky:0);s?i=new Bw(s.type,s.attrs,Ea.none,!0,r.topMatch||s.type.contentMatch,o):n?i=new Bw(null,null,Ea.none,!0,null,o):i=new Bw(e.schema.topNodeType,null,Ea.none,!0,null,o),this.nodes=[i],this.find=r.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,r){e.nodeType==3?this.addTextNode(e,r):e.nodeType==1&&this.addElement(e,r)}addTextNode(e,r){let n=e.nodeValue,s=this.top,i=s.options&CM?"full":this.localPreserveWS||(s.options&av)>0;if(i==="full"||s.inlineContext(e)||/[^ \t\r\n\u000c]/.test(n)){if(i)i!=="full"?n=n.replace(/\r?\n|\r/g," "):n=n.replace(/\r\n?/g,`
`);else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let o=s.content[s.content.length-1],l=e.previousSibling;(!o||l&&l.nodeName=="BR"||o.isText&&/[ \t\r\n\u000c]$/.test(o.text))&&(n=n.slice(1))}n&&this.insertNode(this.parser.schema.text(n),r,!/\S/.test(n)),this.findInText(e)}else this.findInside(e)}addElement(e,r,n){let s=this.localPreserveWS,i=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let o=e.nodeName.toLowerCase(),l;VQ.hasOwnProperty(o)&&this.parser.normalizeLists&&Ije(e);let c=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(l=this.parser.matchTag(e,this,n));e:if(c?c.ignore:Rje.hasOwnProperty(o))this.findInside(e),this.ignoreFallback(e,r);else if(!c||c.skip||c.closeParent){c&&c.closeParent?this.open=Math.max(0,this.open-1):c&&c.skip.nodeType&&(e=c.skip);let u,f=this.needsBlock;if(WQ.hasOwnProperty(o))i.content.length&&i.content[0].isInline&&this.open&&(this.open--,i=this.top),u=!0,i.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,r);break e}let h=c&&c.skip?r:this.readStyles(e,r);h&&this.addAll(e,h),u&&this.sync(i),this.needsBlock=f}else{let u=this.readStyles(e,r);u&&this.addElementByRule(e,c,u,c.consuming===!1?l:void 0)}this.localPreserveWS=s}leafFallback(e,r){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),r)}ignoreFallback(e,r){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),r,!0)}readStyles(e,r){let n=e.style;if(n&&n.length)for(let s=0;s<this.parser.matchedStyles.length;s++){let i=this.parser.matchedStyles[s],o=n.getPropertyValue(i);if(o)for(let l=void 0;;){let c=this.parser.matchStyle(i,o,this,l);if(!c)break;if(c.ignore)return null;if(c.clearMark?r=r.filter(u=>!c.clearMark(u)):r=r.concat(this.parser.schema.marks[c.mark].create(c.attrs)),c.consuming===!1)l=c;else break}}return r}addElementByRule(e,r,n,s){let i,o;if(r.node)if(o=this.parser.schema.nodes[r.node],o.isLeaf)this.insertNode(o.create(r.attrs),n,e.nodeName=="BR")||this.leafFallback(e,n);else{let c=this.enter(o,r.attrs||null,n,r.preserveWhitespace);c&&(i=!0,n=c)}else{let c=this.parser.schema.marks[r.mark];n=n.concat(c.create(r.attrs))}let l=this.top;if(o&&o.isLeaf)this.findInside(e);else if(s)this.addElement(e,n,s);else if(r.getContent)this.findInside(e),r.getContent(e,this.parser.schema).forEach(c=>this.insertNode(c,n,!1));else{let c=e;typeof r.contentElement=="string"?c=e.querySelector(r.contentElement):typeof r.contentElement=="function"?c=r.contentElement(e):r.contentElement&&(c=r.contentElement),this.findAround(e,c,!0),this.addAll(c,n),this.findAround(e,c,!1)}i&&this.sync(l)&&this.open--}addAll(e,r,n,s){let i=n||0;for(let o=n?e.childNodes[n]:e.firstChild,l=s==null?null:e.childNodes[s];o!=l;o=o.nextSibling,++i)this.findAtPoint(e,i),this.addDOM(o,r);this.findAtPoint(e,i)}findPlace(e,r,n){let s,i;for(let o=this.open,l=0;o>=0;o--){let c=this.nodes[o],u=c.findWrapping(e);if(u&&(!s||s.length>u.length+l)&&(s=u,i=c,!u.length))break;if(c.solid){if(n)break;l+=2}}if(!s)return null;this.sync(i);for(let o=0;o<s.length;o++)r=this.enterInner(s[o],null,r,!1);return r}insertNode(e,r,n){if(e.isInline&&this.needsBlock&&!this.top.type){let i=this.textblockFromContext();i&&(r=this.enterInner(i,null,r))}let s=this.findPlace(e,r,n);if(s){this.closeExtra();let i=this.top;i.match&&(i.match=i.match.matchType(e.type));let o=Ea.none;for(let l of s.concat(e.marks))(i.type?i.type.allowsMarkType(l.type):gF(l.type,e.type))&&(o=l.addToSet(o));return i.content.push(e.mark(o)),!0}return!1}enter(e,r,n,s){let i=this.findPlace(e.create(r),n,!1);return i&&(i=this.enterInner(e,r,n,!0,s)),i}enterInner(e,r,n,s=!1,i){this.closeExtra();let o=this.top;o.match=o.match&&o.match.matchType(e);let l=hF(e,i,o.options);o.options&ky&&o.content.length==0&&(l|=ky);let c=Ea.none;return n=n.filter(u=>(o.type?o.type.allowsMarkType(u.type):gF(u.type,e))?(c=u.addToSet(c),!1):!0),this.nodes.push(new Bw(e,r,c,s,null,l)),this.open++,n}closeExtra(e=!1){let r=this.nodes.length-1;if(r>this.open){for(;r>this.open;r--)this.nodes[r-1].content.push(this.nodes[r].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let r=this.open;r>=0;r--){if(this.nodes[r]==e)return this.open=r,!0;this.localPreserveWS&&(this.nodes[r].options|=av)}return!1}get currentPos(){this.closeExtra();let e=0;for(let r=this.open;r>=0;r--){let n=this.nodes[r].content;for(let s=n.length-1;s>=0;s--)e+=n[s].nodeSize;r&&e++}return e}findAtPoint(e,r){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&this.find[n].offset==r&&(this.find[n].pos=this.currentPos)}findInside(e){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].pos==null&&e.nodeType==1&&e.contains(this.find[r].node)&&(this.find[r].pos=this.currentPos)}findAround(e,r,n){if(e!=r&&this.find)for(let s=0;s<this.find.length;s++)this.find[s].pos==null&&e.nodeType==1&&e.contains(this.find[s].node)&&r.compareDocumentPosition(this.find[s].node)&(n?2:4)&&(this.find[s].pos=this.currentPos)}findInText(e){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&(this.find[r].pos=this.currentPos-(e.nodeValue.length-this.find[r].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let r=e.split("/"),n=this.options.context,s=!this.isOpen&&(!n||n.parent.type==this.nodes[0].type),i=-(n?n.depth+1:0)+(s?0:1),o=(l,c)=>{for(;l>=0;l--){let u=r[l];if(u==""){if(l==r.length-1||l==0)continue;for(;c>=i;c--)if(o(l-1,c))return!0;return!1}else{let f=c>0||c==0&&s?this.nodes[c].type:n&&c>=i?n.node(c-i).type:null;if(!f||f.name!=u&&!f.isInGroup(u))return!1;c--}}return!0};return o(r.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let r=e.depth;r>=0;r--){let n=e.node(r).contentMatchAt(e.indexAfter(r)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(let r in this.parser.schema.nodes){let n=this.parser.schema.nodes[r];if(n.isTextblock&&n.defaultAttrs)return n}}}function Ije(t){for(let e=t.firstChild,r=null;e;e=e.nextSibling){let n=e.nodeType==1?e.nodeName.toLowerCase():null;n&&VQ.hasOwnProperty(n)&&r?(r.appendChild(e),e=r):n=="li"?r=e:n&&(r=null)}}function Fje(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function pF(t){let e={};for(let r in t)e[r]=t[r];return e}function gF(t,e){let r=e.schema.nodes;for(let n in r){let s=r[n];if(!s.allowsMarkType(t))continue;let i=[],o=l=>{i.push(l);for(let c=0;c<l.edgeCount;c++){let{type:u,next:f}=l.edge(c);if(u==e||i.indexOf(f)<0&&o(f))return!0}};if(o(s.contentMatch))return!0}}class Zp{constructor(e,r){this.nodes=e,this.marks=r}serializeFragment(e,r={},n){n||(n=QC(r).createDocumentFragment());let s=n,i=[];return e.forEach(o=>{if(i.length||o.marks.length){let l=0,c=0;for(;l<i.length&&c<o.marks.length;){let u=o.marks[c];if(!this.marks[u.type.name]){c++;continue}if(!u.eq(i[l][0])||u.type.spec.spanning===!1)break;l++,c++}for(;l<i.length;)s=i.pop()[1];for(;c<o.marks.length;){let u=o.marks[c++],f=this.serializeMark(u,o.isInline,r);f&&(i.push([u,s]),s.appendChild(f.dom),s=f.contentDOM||f.dom)}}s.appendChild(this.serializeNodeInner(o,r))}),n}serializeNodeInner(e,r){let{dom:n,contentDOM:s}=U2(QC(r),this.nodes[e.type.name](e),null,e.attrs);if(s){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,r,s)}return n}serializeNode(e,r={}){let n=this.serializeNodeInner(e,r);for(let s=e.marks.length-1;s>=0;s--){let i=this.serializeMark(e.marks[s],e.isInline,r);i&&((i.contentDOM||i.dom).appendChild(n),n=i.dom)}return n}serializeMark(e,r,n={}){let s=this.marks[e.type.name];return s&&U2(QC(n),s(e,r),null,e.attrs)}static renderSpec(e,r,n=null,s){return U2(e,r,n,s)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Zp(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let r=xF(e.nodes);return r.text||(r.text=n=>n.text),r}static marksFromSchema(e){return xF(e.marks)}}function xF(t){let e={};for(let r in t){let n=t[r].spec.toDOM;n&&(e[r]=n)}return e}function QC(t){return t.document||window.document}const bF=new WeakMap;function Bje(t){let e=bF.get(t);return e===void 0&&bF.set(t,e=$je(t)),e}function $je(t){let e=null;function r(n){if(n&&typeof n=="object")if(Array.isArray(n))if(typeof n[0]=="string")e||(e=[]),e.push(n);else for(let s=0;s<n.length;s++)r(n[s]);else for(let s in n)r(n[s])}return r(t),e}function U2(t,e,r,n){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let s=e[0],i;if(typeof s!="string")throw new RangeError("Invalid array passed to renderSpec");if(n&&(i=Bje(n))&&i.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let o=s.indexOf(" ");o>0&&(r=s.slice(0,o),s=s.slice(o+1));let l,c=r?t.createElementNS(r,s):t.createElement(s),u=e[1],f=1;if(u&&typeof u=="object"&&u.nodeType==null&&!Array.isArray(u)){f=2;for(let h in u)if(u[h]!=null){let g=h.indexOf(" ");g>0?c.setAttributeNS(h.slice(0,g),h.slice(g+1),u[h]):h=="style"&&c.style?c.style.cssText=u[h]:c.setAttribute(h,u[h])}}for(let h=f;h<e.length;h++){let g=e[h];if(g===0){if(h<e.length-1||h>f)throw new RangeError("Content hole must be the only child of its parent node");return{dom:c,contentDOM:c}}else{let{dom:p,contentDOM:v}=U2(t,g,r,n);if(c.appendChild(p),v){if(l)throw new RangeError("Multiple content holes");l=v}}}return{dom:c,contentDOM:l}}const GQ=65535,YQ=Math.pow(2,16);function Hje(t,e){return t+e*YQ}function yF(t){return t&GQ}function zje(t){return(t-(t&GQ))/YQ}const KQ=1,JQ=2,W2=4,XQ=8;class _M{constructor(e,r,n){this.pos=e,this.delInfo=r,this.recover=n}get deleted(){return(this.delInfo&XQ)>0}get deletedBefore(){return(this.delInfo&(KQ|W2))>0}get deletedAfter(){return(this.delInfo&(JQ|W2))>0}get deletedAcross(){return(this.delInfo&W2)>0}}class _l{constructor(e,r=!1){if(this.ranges=e,this.inverted=r,!e.length&&_l.empty)return _l.empty}recover(e){let r=0,n=yF(e);if(!this.inverted)for(let s=0;s<n;s++)r+=this.ranges[s*3+2]-this.ranges[s*3+1];return this.ranges[n*3]+r+zje(e)}mapResult(e,r=1){return this._map(e,r,!1)}map(e,r=1){return this._map(e,r,!0)}_map(e,r,n){let s=0,i=this.inverted?2:1,o=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let c=this.ranges[l]-(this.inverted?s:0);if(c>e)break;let u=this.ranges[l+i],f=this.ranges[l+o],h=c+u;if(e<=h){let g=u?e==c?-1:e==h?1:r:r,p=c+s+(g<0?0:f);if(n)return p;let v=e==(r<0?c:h)?null:Hje(l/3,e-c),w=e==c?JQ:e==h?KQ:W2;return(r<0?e!=c:e!=h)&&(w|=XQ),new _M(p,w,v)}s+=f-u}return n?e+s:new _M(e+s,0,null)}touches(e,r){let n=0,s=yF(r),i=this.inverted?2:1,o=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let c=this.ranges[l]-(this.inverted?n:0);if(c>e)break;let u=this.ranges[l+i],f=c+u;if(e<=f&&l==s*3)return!0;n+=this.ranges[l+o]-u}return!1}forEach(e){let r=this.inverted?2:1,n=this.inverted?1:2;for(let s=0,i=0;s<this.ranges.length;s+=3){let o=this.ranges[s],l=o-(this.inverted?i:0),c=o+(this.inverted?0:i),u=this.ranges[s+r],f=this.ranges[s+n];e(l,l+u,c,c+f),i+=f-u}}invert(){return new _l(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?_l.empty:new _l(e<0?[0,-e,0]:[0,0,e])}}_l.empty=new _l([]);class sv{constructor(e,r,n=0,s=e?e.length:0){this.mirror=r,this.from=n,this.to=s,this._maps=e||[],this.ownData=!(e||r)}get maps(){return this._maps}slice(e=0,r=this.maps.length){return new sv(this._maps,this.mirror,e,r)}appendMap(e,r){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),r!=null&&this.setMirror(this._maps.length-1,r)}appendMapping(e){for(let r=0,n=this._maps.length;r<e._maps.length;r++){let s=e.getMirror(r);this.appendMap(e._maps[r],s!=null&&s<r?n+s:void 0)}}getMirror(e){if(this.mirror){for(let r=0;r<this.mirror.length;r++)if(this.mirror[r]==e)return this.mirror[r+(r%2?-1:1)]}}setMirror(e,r){this.mirror||(this.mirror=[]),this.mirror.push(e,r)}appendMappingInverted(e){for(let r=e.maps.length-1,n=this._maps.length+e._maps.length;r>=0;r--){let s=e.getMirror(r);this.appendMap(e._maps[r].invert(),s!=null&&s>r?n-s-1:void 0)}}invert(){let e=new sv;return e.appendMappingInverted(this),e}map(e,r=1){if(this.mirror)return this._map(e,r,!0);for(let n=this.from;n<this.to;n++)e=this._maps[n].map(e,r);return e}mapResult(e,r=1){return this._map(e,r,!1)}_map(e,r,n){let s=0;for(let i=this.from;i<this.to;i++){let o=this._maps[i],l=o.mapResult(e,r);if(l.recover!=null){let c=this.getMirror(i);if(c!=null&&c>i&&c<this.to){i=c,e=this._maps[c].recover(l.recover);continue}}s|=l.delInfo,e=l.pos}return n?e:new _M(e,s,null)}}const ZC=Object.create(null);let yo=class{getMap(){return _l.empty}merge(e){return null}static fromJSON(e,r){if(!r||!r.stepType)throw new RangeError("Invalid input for Step.fromJSON");let n=ZC[r.stepType];if(!n)throw new RangeError(`No step type ${r.stepType} defined`);return n.fromJSON(e,r)}static jsonID(e,r){if(e in ZC)throw new RangeError("Duplicate use of step JSON ID "+e);return ZC[e]=r,r.prototype.jsonID=e,r}};class ti{constructor(e,r){this.doc=e,this.failed=r}static ok(e){return new ti(e,null)}static fail(e){return new ti(null,e)}static fromReplace(e,r,n,s){try{return ti.ok(e.replace(r,n,s))}catch(i){if(i instanceof Dj)return ti.fail(i.message);throw i}}}function GD(t,e,r){let n=[];for(let s=0;s<t.childCount;s++){let i=t.child(s);i.content.size&&(i=i.copy(GD(i.content,e,i))),i.isInline&&(i=e(i,r,s)),n.push(i)}return Yt.fromArray(n)}class Wh extends yo{constructor(e,r,n){super(),this.from=e,this.to=r,this.mark=n}apply(e){let r=e.slice(this.from,this.to),n=e.resolve(this.from),s=n.node(n.sharedDepth(this.to)),i=new pr(GD(r.content,(o,l)=>!o.isAtom||!l.type.allowsMarkType(this.mark.type)?o:o.mark(this.mark.addToSet(o.marks)),s),r.openStart,r.openEnd);return ti.fromReplace(e,this.from,this.to,i)}invert(){return new su(this.from,this.to,this.mark)}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return r.deleted&&n.deleted||r.pos>=n.pos?null:new Wh(r.pos,n.pos,this.mark)}merge(e){return e instanceof Wh&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Wh(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Wh(r.from,r.to,e.markFromJSON(r.mark))}}yo.jsonID("addMark",Wh);class su extends yo{constructor(e,r,n){super(),this.from=e,this.to=r,this.mark=n}apply(e){let r=e.slice(this.from,this.to),n=new pr(GD(r.content,s=>s.mark(this.mark.removeFromSet(s.marks)),e),r.openStart,r.openEnd);return ti.fromReplace(e,this.from,this.to,n)}invert(){return new Wh(this.from,this.to,this.mark)}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return r.deleted&&n.deleted||r.pos>=n.pos?null:new su(r.pos,n.pos,this.mark)}merge(e){return e instanceof su&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new su(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new su(r.from,r.to,e.markFromJSON(r.mark))}}yo.jsonID("removeMark",su);class Vh extends yo{constructor(e,r){super(),this.pos=e,this.mark=r}apply(e){let r=e.nodeAt(this.pos);if(!r)return ti.fail("No node at mark step's position");let n=r.type.create(r.attrs,null,this.mark.addToSet(r.marks));return ti.fromReplace(e,this.pos,this.pos+1,new pr(Yt.from(n),0,r.isLeaf?0:1))}invert(e){let r=e.nodeAt(this.pos);if(r){let n=this.mark.addToSet(r.marks);if(n.length==r.marks.length){for(let s=0;s<r.marks.length;s++)if(!r.marks[s].isInSet(n))return new Vh(this.pos,r.marks[s]);return new Vh(this.pos,this.mark)}}return new Ip(this.pos,this.mark)}map(e){let r=e.mapResult(this.pos,1);return r.deletedAfter?null:new Vh(r.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Vh(r.pos,e.markFromJSON(r.mark))}}yo.jsonID("addNodeMark",Vh);class Ip extends yo{constructor(e,r){super(),this.pos=e,this.mark=r}apply(e){let r=e.nodeAt(this.pos);if(!r)return ti.fail("No node at mark step's position");let n=r.type.create(r.attrs,null,this.mark.removeFromSet(r.marks));return ti.fromReplace(e,this.pos,this.pos+1,new pr(Yt.from(n),0,r.isLeaf?0:1))}invert(e){let r=e.nodeAt(this.pos);return!r||!this.mark.isInSet(r.marks)?this:new Vh(this.pos,this.mark)}map(e){let r=e.mapResult(this.pos,1);return r.deletedAfter?null:new Ip(r.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Ip(r.pos,e.markFromJSON(r.mark))}}yo.jsonID("removeNodeMark",Ip);class Mi extends yo{constructor(e,r,n,s=!1){super(),this.from=e,this.to=r,this.slice=n,this.structure=s}apply(e){return this.structure&&AM(e,this.from,this.to)?ti.fail("Structure replace would overwrite content"):ti.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new _l([this.from,this.to-this.from,this.slice.size])}invert(e){return new Mi(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return r.deletedAcross&&n.deletedAcross?null:new Mi(r.pos,Math.max(r.pos,n.pos),this.slice,this.structure)}merge(e){if(!(e instanceof Mi)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let r=this.slice.size+e.slice.size==0?pr.empty:new pr(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Mi(this.from,this.to+(e.to-e.from),r,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let r=this.slice.size+e.slice.size==0?pr.empty:new pr(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Mi(e.from,this.to,r,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Mi(r.from,r.to,pr.fromJSON(e,r.slice),!!r.structure)}}yo.jsonID("replace",Mi);class Oi extends yo{constructor(e,r,n,s,i,o,l=!1){super(),this.from=e,this.to=r,this.gapFrom=n,this.gapTo=s,this.slice=i,this.insert=o,this.structure=l}apply(e){if(this.structure&&(AM(e,this.from,this.gapFrom)||AM(e,this.gapTo,this.to)))return ti.fail("Structure gap-replace would overwrite content");let r=e.slice(this.gapFrom,this.gapTo);if(r.openStart||r.openEnd)return ti.fail("Gap is not a flat range");let n=this.slice.insertAt(this.insert,r.content);return n?ti.fromReplace(e,this.from,this.to,n):ti.fail("Content does not fit in gap")}getMap(){return new _l([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let r=this.gapTo-this.gapFrom;return new Oi(this.from,this.from+this.slice.size+r,this.from+this.insert,this.from+this.insert+r,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1),s=this.from==this.gapFrom?r.pos:e.map(this.gapFrom,-1),i=this.to==this.gapTo?n.pos:e.map(this.gapTo,1);return r.deletedAcross&&n.deletedAcross||s<r.pos||i>n.pos?null:new Oi(r.pos,n.pos,s,i,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number"||typeof r.gapFrom!="number"||typeof r.gapTo!="number"||typeof r.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Oi(r.from,r.to,r.gapFrom,r.gapTo,pr.fromJSON(e,r.slice),r.insert,!!r.structure)}}yo.jsonID("replaceAround",Oi);function AM(t,e,r){let n=t.resolve(e),s=r-e,i=n.depth;for(;s>0&&i>0&&n.indexAfter(i)==n.node(i).childCount;)i--,s--;if(s>0){let o=n.node(i).maybeChild(n.indexAfter(i));for(;s>0;){if(!o||o.isLeaf)return!0;o=o.firstChild,s--}}return!1}function qje(t,e,r,n){let s=[],i=[],o,l;t.doc.nodesBetween(e,r,(c,u,f)=>{if(!c.isInline)return;let h=c.marks;if(!n.isInSet(h)&&f.type.allowsMarkType(n.type)){let g=Math.max(u,e),p=Math.min(u+c.nodeSize,r),v=n.addToSet(h);for(let w=0;w<h.length;w++)h[w].isInSet(v)||(o&&o.to==g&&o.mark.eq(h[w])?o.to=p:s.push(o=new su(g,p,h[w])));l&&l.to==g?l.to=p:i.push(l=new Wh(g,p,n))}}),s.forEach(c=>t.step(c)),i.forEach(c=>t.step(c))}function Uje(t,e,r,n){let s=[],i=0;t.doc.nodesBetween(e,r,(o,l)=>{if(!o.isInline)return;i++;let c=null;if(n instanceof GN){let u=o.marks,f;for(;f=n.isInSet(u);)(c||(c=[])).push(f),u=f.removeFromSet(u)}else n?n.isInSet(o.marks)&&(c=[n]):c=o.marks;if(c&&c.length){let u=Math.min(l+o.nodeSize,r);for(let f=0;f<c.length;f++){let h=c[f],g;for(let p=0;p<s.length;p++){let v=s[p];v.step==i-1&&h.eq(s[p].style)&&(g=v)}g?(g.to=u,g.step=i):s.push({style:h,from:Math.max(l,e),to:u,step:i})}}}),s.forEach(o=>t.step(new su(o.from,o.to,o.style)))}function YD(t,e,r,n=r.contentMatch,s=!0){let i=t.doc.nodeAt(e),o=[],l=e+1;for(let c=0;c<i.childCount;c++){let u=i.child(c),f=l+u.nodeSize,h=n.matchType(u.type);if(!h)o.push(new Mi(l,f,pr.empty));else{n=h;for(let g=0;g<u.marks.length;g++)r.allowsMarkType(u.marks[g].type)||t.step(new su(l,f,u.marks[g]));if(s&&u.isText&&r.whitespace!="pre"){let g,p=/\r?\n|\r/g,v;for(;g=p.exec(u.text);)v||(v=new pr(Yt.from(r.schema.text(" ",r.allowedMarks(u.marks))),0,0)),o.push(new Mi(l+g.index,l+g.index+g[0].length,v))}}l=f}if(!n.validEnd){let c=n.fillBefore(Yt.empty,!0);t.replace(l,l,new pr(c,0,0))}for(let c=o.length-1;c>=0;c--)t.step(o[c])}function Wje(t,e,r){return(e==0||t.canReplace(e,t.childCount))&&(r==t.childCount||t.canReplace(0,r))}function Bx(t){let r=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let n=t.depth;;--n){let s=t.$from.node(n),i=t.$from.index(n),o=t.$to.indexAfter(n);if(n<t.depth&&s.canReplace(i,o,r))return n;if(n==0||s.type.spec.isolating||!Wje(s,i,o))break}return null}function Vje(t,e,r){let{$from:n,$to:s,depth:i}=e,o=n.before(i+1),l=s.after(i+1),c=o,u=l,f=Yt.empty,h=0;for(let v=i,w=!1;v>r;v--)w||n.index(v)>0?(w=!0,f=Yt.from(n.node(v).copy(f)),h++):c--;let g=Yt.empty,p=0;for(let v=i,w=!1;v>r;v--)w||s.after(v+1)<s.end(v)?(w=!0,g=Yt.from(s.node(v).copy(g)),p++):u++;t.step(new Oi(c,u,o,l,new pr(f.append(g),h,p),f.size-h,!0))}function KD(t,e,r=null,n=t){let s=Gje(t,e),i=s&&Yje(n,e);return i?s.map(vF).concat({type:e,attrs:r}).concat(i.map(vF)):null}function vF(t){return{type:t,attrs:null}}function Gje(t,e){let{parent:r,startIndex:n,endIndex:s}=t,i=r.contentMatchAt(n).findWrapping(e);if(!i)return null;let o=i.length?i[0]:e;return r.canReplaceWith(n,s,o)?i:null}function Yje(t,e){let{parent:r,startIndex:n,endIndex:s}=t,i=r.child(n),o=e.contentMatch.findWrapping(i.type);if(!o)return null;let c=(o.length?o[o.length-1]:e).contentMatch;for(let u=n;c&&u<s;u++)c=c.matchType(r.child(u).type);return!c||!c.validEnd?null:o}function Kje(t,e,r){let n=Yt.empty;for(let o=r.length-1;o>=0;o--){if(n.size){let l=r[o].type.contentMatch.matchFragment(n);if(!l||!l.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}n=Yt.from(r[o].type.create(r[o].attrs,n))}let s=e.start,i=e.end;t.step(new Oi(s,i,s,i,new pr(n,0,0),r.length,!0))}function Jje(t,e,r,n,s){if(!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let i=t.steps.length;t.doc.nodesBetween(e,r,(o,l)=>{let c=typeof s=="function"?s(o):s;if(o.isTextblock&&!o.hasMarkup(n,c)&&Xje(t.doc,t.mapping.slice(i).map(l),n)){let u=null;if(n.schema.linebreakReplacement){let p=n.whitespace=="pre",v=!!n.contentMatch.matchType(n.schema.linebreakReplacement);p&&!v?u=!1:!p&&v&&(u=!0)}u===!1&&ZQ(t,o,l,i),YD(t,t.mapping.slice(i).map(l,1),n,void 0,u===null);let f=t.mapping.slice(i),h=f.map(l,1),g=f.map(l+o.nodeSize,1);return t.step(new Oi(h,g,h+1,g-1,new pr(Yt.from(n.create(c,null,o.marks)),0,0),1,!0)),u===!0&&QQ(t,o,l,i),!1}})}function QQ(t,e,r,n){e.forEach((s,i)=>{if(s.isText){let o,l=/\r?\n|\r/g;for(;o=l.exec(s.text);){let c=t.mapping.slice(n).map(r+1+i+o.index);t.replaceWith(c,c+1,e.type.schema.linebreakReplacement.create())}}})}function ZQ(t,e,r,n){e.forEach((s,i)=>{if(s.type==s.type.schema.linebreakReplacement){let o=t.mapping.slice(n).map(r+1+i);t.replaceWith(o,o+1,e.type.schema.text(`
`))}})}function Xje(t,e,r){let n=t.resolve(e),s=n.index();return n.parent.canReplaceWith(s,s+1,r)}function Qje(t,e,r,n,s){let i=t.doc.nodeAt(e);if(!i)throw new RangeError("No node at given position");r||(r=i.type);let o=r.create(n,null,s||i.marks);if(i.isLeaf)return t.replaceWith(e,e+i.nodeSize,o);if(!r.validContent(i.content))throw new RangeError("Invalid content for node type "+r.name);t.step(new Oi(e,e+i.nodeSize,e+1,e+i.nodeSize-1,new pr(Yt.from(o),0,0),1,!0))}function Cf(t,e,r=1,n){let s=t.resolve(e),i=s.depth-r,o=n&&n[n.length-1]||s.parent;if(i<0||s.parent.type.spec.isolating||!s.parent.canReplace(s.index(),s.parent.childCount)||!o.type.validContent(s.parent.content.cutByIndex(s.index(),s.parent.childCount)))return!1;for(let u=s.depth-1,f=r-2;u>i;u--,f--){let h=s.node(u),g=s.index(u);if(h.type.spec.isolating)return!1;let p=h.content.cutByIndex(g,h.childCount),v=n&&n[f+1];v&&(p=p.replaceChild(0,v.type.create(v.attrs)));let w=n&&n[f]||h;if(!h.canReplace(g+1,h.childCount)||!w.type.validContent(p))return!1}let l=s.indexAfter(i),c=n&&n[0];return s.node(i).canReplaceWith(l,l,c?c.type:s.node(i+1).type)}function Zje(t,e,r=1,n){let s=t.doc.resolve(e),i=Yt.empty,o=Yt.empty;for(let l=s.depth,c=s.depth-r,u=r-1;l>c;l--,u--){i=Yt.from(s.node(l).copy(i));let f=n&&n[u];o=Yt.from(f?f.type.create(f.attrs,o):s.node(l).copy(o))}t.step(new Mi(e,e,new pr(i.append(o),r,r),!0))}function bm(t,e){let r=t.resolve(e),n=r.index();return eZ(r.nodeBefore,r.nodeAfter)&&r.parent.canReplace(n,n+1)}function e5e(t,e){e.content.size||t.type.compatibleContent(e.type);let r=t.contentMatchAt(t.childCount),{linebreakReplacement:n}=t.type.schema;for(let s=0;s<e.childCount;s++){let i=e.child(s),o=i.type==n?t.type.schema.nodes.text:i.type;if(r=r.matchType(o),!r||!t.type.allowsMarks(i.marks))return!1}return r.validEnd}function eZ(t,e){return!!(t&&e&&!t.isLeaf&&e5e(t,e))}function YN(t,e,r=-1){let n=t.resolve(e);for(let s=n.depth;;s--){let i,o,l=n.index(s);if(s==n.depth?(i=n.nodeBefore,o=n.nodeAfter):r>0?(i=n.node(s+1),l++,o=n.node(s).maybeChild(l)):(i=n.node(s).maybeChild(l-1),o=n.node(s+1)),i&&!i.isTextblock&&eZ(i,o)&&n.node(s).canReplace(l,l+1))return e;if(s==0)break;e=r<0?n.before(s):n.after(s)}}function t5e(t,e,r){let n=null,{linebreakReplacement:s}=t.doc.type.schema,i=t.doc.resolve(e-r),o=i.node().type;if(s&&o.inlineContent){let f=o.whitespace=="pre",h=!!o.contentMatch.matchType(s);f&&!h?n=!1:!f&&h&&(n=!0)}let l=t.steps.length;if(n===!1){let f=t.doc.resolve(e+r);ZQ(t,f.node(),f.before(),l)}o.inlineContent&&YD(t,e+r-1,o,i.node().contentMatchAt(i.index()),n==null);let c=t.mapping.slice(l),u=c.map(e-r);if(t.step(new Mi(u,c.map(e+r,-1),pr.empty,!0)),n===!0){let f=t.doc.resolve(u);QQ(t,f.node(),f.before(),t.steps.length)}return t}function r5e(t,e,r){let n=t.resolve(e);if(n.parent.canReplaceWith(n.index(),n.index(),r))return e;if(n.parentOffset==0)for(let s=n.depth-1;s>=0;s--){let i=n.index(s);if(n.node(s).canReplaceWith(i,i,r))return n.before(s+1);if(i>0)return null}if(n.parentOffset==n.parent.content.size)for(let s=n.depth-1;s>=0;s--){let i=n.indexAfter(s);if(n.node(s).canReplaceWith(i,i,r))return n.after(s+1);if(i<n.node(s).childCount)return null}return null}function tZ(t,e,r){let n=t.resolve(e);if(!r.content.size)return e;let s=r.content;for(let i=0;i<r.openStart;i++)s=s.firstChild.content;for(let i=1;i<=(r.openStart==0&&r.size?2:1);i++)for(let o=n.depth;o>=0;o--){let l=o==n.depth?0:n.pos<=(n.start(o+1)+n.end(o+1))/2?-1:1,c=n.index(o)+(l>0?1:0),u=n.node(o),f=!1;if(i==1)f=u.canReplace(c,c,s);else{let h=u.contentMatchAt(c).findWrapping(s.firstChild.type);f=h&&u.canReplaceWith(c,c,h[0])}if(f)return l==0?n.pos:l<0?n.before(o+1):n.after(o+1)}return null}function KN(t,e,r=e,n=pr.empty){if(e==r&&!n.size)return null;let s=t.resolve(e),i=t.resolve(r);return rZ(s,i,n)?new Mi(e,r,n):new n5e(s,i,n).fit()}function rZ(t,e,r){return!r.openStart&&!r.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),r.content)}class n5e{constructor(e,r,n){this.$from=e,this.$to=r,this.unplaced=n,this.frontier=[],this.placed=Yt.empty;for(let s=0;s<=e.depth;s++){let i=e.node(s);this.frontier.push({type:i.type,match:i.contentMatchAt(e.indexAfter(s))})}for(let s=e.depth;s>0;s--)this.placed=Yt.from(e.node(s).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let u=this.findFittable();u?this.placeNodes(u):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),r=this.placed.size-this.depth-this.$from.depth,n=this.$from,s=this.close(e<0?this.$to:n.doc.resolve(e));if(!s)return null;let i=this.placed,o=n.depth,l=s.depth;for(;o&&l&&i.childCount==1;)i=i.firstChild.content,o--,l--;let c=new pr(i,o,l);return e>-1?new Oi(n.pos,e,this.$to.pos,this.$to.end(),c,r):c.size||n.pos!=this.$to.pos?new Mi(n.pos,s.pos,c):null}findFittable(){let e=this.unplaced.openStart;for(let r=this.unplaced.content,n=0,s=this.unplaced.openEnd;n<e;n++){let i=r.firstChild;if(r.childCount>1&&(s=0),i.type.spec.isolating&&s<=n){e=n;break}r=i.content}for(let r=1;r<=2;r++)for(let n=r==1?e:this.unplaced.openStart;n>=0;n--){let s,i=null;n?(i=e_(this.unplaced.content,n-1).firstChild,s=i.content):s=this.unplaced.content;let o=s.firstChild;for(let l=this.depth;l>=0;l--){let{type:c,match:u}=this.frontier[l],f,h=null;if(r==1&&(o?u.matchType(o.type)||(h=u.fillBefore(Yt.from(o),!1)):i&&c.compatibleContent(i.type)))return{sliceDepth:n,frontierDepth:l,parent:i,inject:h};if(r==2&&o&&(f=u.findWrapping(o.type)))return{sliceDepth:n,frontierDepth:l,parent:i,wrap:f};if(i&&u.matchType(i.type))break}}}openMore(){let{content:e,openStart:r,openEnd:n}=this.unplaced,s=e_(e,r);return!s.childCount||s.firstChild.isLeaf?!1:(this.unplaced=new pr(e,r+1,Math.max(n,s.size+r>=e.size-n?r+1:0)),!0)}dropNode(){let{content:e,openStart:r,openEnd:n}=this.unplaced,s=e_(e,r);if(s.childCount<=1&&r>0){let i=e.size-r<=r+s.size;this.unplaced=new pr(fy(e,r-1,1),r-1,i?r-1:n)}else this.unplaced=new pr(fy(e,r,1),r,n)}placeNodes({sliceDepth:e,frontierDepth:r,parent:n,inject:s,wrap:i}){for(;this.depth>r;)this.closeFrontierNode();if(i)for(let w=0;w<i.length;w++)this.openFrontierNode(i[w]);let o=this.unplaced,l=n?n.content:o.content,c=o.openStart-e,u=0,f=[],{match:h,type:g}=this.frontier[r];if(s){for(let w=0;w<s.childCount;w++)f.push(s.child(w));h=h.matchFragment(s)}let p=l.size+e-(o.content.size-o.openEnd);for(;u<l.childCount;){let w=l.child(u),y=h.matchType(w.type);if(!y)break;u++,(u>1||c==0||w.content.size)&&(h=y,f.push(nZ(w.mark(g.allowedMarks(w.marks)),u==1?c:0,u==l.childCount?p:-1)))}let v=u==l.childCount;v||(p=-1),this.placed=hy(this.placed,r,Yt.from(f)),this.frontier[r].match=h,v&&p<0&&n&&n.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let w=0,y=l;w<p;w++){let N=y.lastChild;this.frontier.push({type:N.type,match:N.contentMatchAt(N.childCount)}),y=N.content}this.unplaced=v?e==0?pr.empty:new pr(fy(o.content,e-1,1),e-1,p<0?o.openEnd:e-1):new pr(fy(o.content,e,u),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],r;if(!e.type.isTextblock||!t_(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(r=this.findCloseLevel(this.$to))&&r.depth==this.depth)return-1;let{depth:n}=this.$to,s=this.$to.after(n);for(;n>1&&s==this.$to.end(--n);)++s;return s}findCloseLevel(e){e:for(let r=Math.min(this.depth,e.depth);r>=0;r--){let{match:n,type:s}=this.frontier[r],i=r<e.depth&&e.end(r+1)==e.pos+(e.depth-(r+1)),o=t_(e,r,s,n,i);if(o){for(let l=r-1;l>=0;l--){let{match:c,type:u}=this.frontier[l],f=t_(e,l,u,c,!0);if(!f||f.childCount)continue e}return{depth:r,fit:o,move:i?e.doc.resolve(e.after(r+1)):e}}}}close(e){let r=this.findCloseLevel(e);if(!r)return null;for(;this.depth>r.depth;)this.closeFrontierNode();r.fit.childCount&&(this.placed=hy(this.placed,r.depth,r.fit)),e=r.move;for(let n=r.depth+1;n<=e.depth;n++){let s=e.node(n),i=s.type.contentMatch.fillBefore(s.content,!0,e.index(n));this.openFrontierNode(s.type,s.attrs,i)}return e}openFrontierNode(e,r=null,n){let s=this.frontier[this.depth];s.match=s.match.matchType(e),this.placed=hy(this.placed,this.depth,Yt.from(e.create(r,n))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let r=this.frontier.pop().match.fillBefore(Yt.empty,!0);r.childCount&&(this.placed=hy(this.placed,this.frontier.length,r))}}function fy(t,e,r){return e==0?t.cutByIndex(r,t.childCount):t.replaceChild(0,t.firstChild.copy(fy(t.firstChild.content,e-1,r)))}function hy(t,e,r){return e==0?t.append(r):t.replaceChild(t.childCount-1,t.lastChild.copy(hy(t.lastChild.content,e-1,r)))}function e_(t,e){for(let r=0;r<e;r++)t=t.firstChild.content;return t}function nZ(t,e,r){if(e<=0)return t;let n=t.content;return e>1&&(n=n.replaceChild(0,nZ(n.firstChild,e-1,n.childCount==1?r-1:0))),e>0&&(n=t.type.contentMatch.fillBefore(n).append(n),r<=0&&(n=n.append(t.type.contentMatch.matchFragment(n).fillBefore(Yt.empty,!0)))),t.copy(n)}function t_(t,e,r,n,s){let i=t.node(e),o=s?t.indexAfter(e):t.index(e);if(o==i.childCount&&!r.compatibleContent(i.type))return null;let l=n.fillBefore(i.content,!0,o);return l&&!a5e(r,i.content,o)?l:null}function a5e(t,e,r){for(let n=r;n<e.childCount;n++)if(!t.allowsMarks(e.child(n).marks))return!0;return!1}function s5e(t){return t.spec.defining||t.spec.definingForContent}function i5e(t,e,r,n){if(!n.size)return t.deleteRange(e,r);let s=t.doc.resolve(e),i=t.doc.resolve(r);if(rZ(s,i,n))return t.step(new Mi(e,r,n));let o=sZ(s,t.doc.resolve(r));o[o.length-1]==0&&o.pop();let l=-(s.depth+1);o.unshift(l);for(let g=s.depth,p=s.pos-1;g>0;g--,p--){let v=s.node(g).type.spec;if(v.defining||v.definingAsContext||v.isolating)break;o.indexOf(g)>-1?l=g:s.before(g)==p&&o.splice(1,0,-g)}let c=o.indexOf(l),u=[],f=n.openStart;for(let g=n.content,p=0;;p++){let v=g.firstChild;if(u.push(v),p==n.openStart)break;g=v.content}for(let g=f-1;g>=0;g--){let p=u[g],v=s5e(p.type);if(v&&!p.sameMarkup(s.node(Math.abs(l)-1)))f=g;else if(v||!p.type.isTextblock)break}for(let g=n.openStart;g>=0;g--){let p=(g+f+1)%(n.openStart+1),v=u[p];if(v)for(let w=0;w<o.length;w++){let y=o[(w+c)%o.length],N=!0;y<0&&(N=!1,y=-y);let k=s.node(y-1),S=s.index(y-1);if(k.canReplaceWith(S,S,v.type,v.marks))return t.replace(s.before(y),N?i.after(y):r,new pr(aZ(n.content,0,n.openStart,p),p,n.openEnd))}}let h=t.steps.length;for(let g=o.length-1;g>=0&&(t.replace(e,r,n),!(t.steps.length>h));g--){let p=o[g];p<0||(e=s.before(p),r=i.after(p))}}function aZ(t,e,r,n,s){if(e<r){let i=t.firstChild;t=t.replaceChild(0,i.copy(aZ(i.content,e+1,r,n,i)))}if(e>n){let i=s.contentMatchAt(0),o=i.fillBefore(t).append(t);t=o.append(i.matchFragment(o).fillBefore(Yt.empty,!0))}return t}function o5e(t,e,r,n){if(!n.isInline&&e==r&&t.doc.resolve(e).parent.content.size){let s=r5e(t.doc,e,n.type);s!=null&&(e=r=s)}t.replaceRange(e,r,new pr(Yt.from(n),0,0))}function l5e(t,e,r){let n=t.doc.resolve(e),s=t.doc.resolve(r),i=sZ(n,s);for(let o=0;o<i.length;o++){let l=i[o],c=o==i.length-1;if(c&&l==0||n.node(l).type.contentMatch.validEnd)return t.delete(n.start(l),s.end(l));if(l>0&&(c||n.node(l-1).canReplace(n.index(l-1),s.indexAfter(l-1))))return t.delete(n.before(l),s.after(l))}for(let o=1;o<=n.depth&&o<=s.depth;o++)if(e-n.start(o)==n.depth-o&&r>n.end(o)&&s.end(o)-r!=s.depth-o&&n.start(o-1)==s.start(o-1)&&n.node(o-1).canReplace(n.index(o-1),s.index(o-1)))return t.delete(n.before(o),r);t.delete(e,r)}function sZ(t,e){let r=[],n=Math.min(t.depth,e.depth);for(let s=n;s>=0;s--){let i=t.start(s);if(i<t.pos-(t.depth-s)||e.end(s)>e.pos+(e.depth-s)||t.node(s).type.spec.isolating||e.node(s).type.spec.isolating)break;(i==e.start(s)||s==t.depth&&s==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&s&&e.start(s-1)==i-1)&&r.push(s)}return r}class Eg extends yo{constructor(e,r,n){super(),this.pos=e,this.attr=r,this.value=n}apply(e){let r=e.nodeAt(this.pos);if(!r)return ti.fail("No node at attribute step's position");let n=Object.create(null);for(let i in r.attrs)n[i]=r.attrs[i];n[this.attr]=this.value;let s=r.type.create(n,null,r.marks);return ti.fromReplace(e,this.pos,this.pos+1,new pr(Yt.from(s),0,r.isLeaf?0:1))}getMap(){return _l.empty}invert(e){return new Eg(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let r=e.mapResult(this.pos,1);return r.deletedAfter?null:new Eg(r.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,r){if(typeof r.pos!="number"||typeof r.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Eg(r.pos,r.attr,r.value)}}yo.jsonID("attr",Eg);class iv extends yo{constructor(e,r){super(),this.attr=e,this.value=r}apply(e){let r=Object.create(null);for(let s in e.attrs)r[s]=e.attrs[s];r[this.attr]=this.value;let n=e.type.create(r,e.content,e.marks);return ti.ok(n)}getMap(){return _l.empty}invert(e){return new iv(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,r){if(typeof r.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new iv(r.attr,r.value)}}yo.jsonID("docAttr",iv);let ex=class extends Error{};ex=function t(e){let r=Error.call(this,e);return r.__proto__=t.prototype,r};ex.prototype=Object.create(Error.prototype);ex.prototype.constructor=ex;ex.prototype.name="TransformError";class iZ{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new sv}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let r=this.maybeStep(e);if(r.failed)throw new ex(r.failed);return this}maybeStep(e){let r=e.apply(this.doc);return r.failed||this.addStep(e,r.doc),r}get docChanged(){return this.steps.length>0}addStep(e,r){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=r}replace(e,r=e,n=pr.empty){let s=KN(this.doc,e,r,n);return s&&this.step(s),this}replaceWith(e,r,n){return this.replace(e,r,new pr(Yt.from(n),0,0))}delete(e,r){return this.replace(e,r,pr.empty)}insert(e,r){return this.replaceWith(e,e,r)}replaceRange(e,r,n){return i5e(this,e,r,n),this}replaceRangeWith(e,r,n){return o5e(this,e,r,n),this}deleteRange(e,r){return l5e(this,e,r),this}lift(e,r){return Vje(this,e,r),this}join(e,r=1){return t5e(this,e,r),this}wrap(e,r){return Kje(this,e,r),this}setBlockType(e,r=e,n,s=null){return Jje(this,e,r,n,s),this}setNodeMarkup(e,r,n=null,s){return Qje(this,e,r,n,s),this}setNodeAttribute(e,r,n){return this.step(new Eg(e,r,n)),this}setDocAttribute(e,r){return this.step(new iv(e,r)),this}addNodeMark(e,r){return this.step(new Vh(e,r)),this}removeNodeMark(e,r){let n=this.doc.nodeAt(e);if(!n)throw new RangeError("No node at position "+e);if(r instanceof Ea)r.isInSet(n.marks)&&this.step(new Ip(e,r));else{let s=n.marks,i,o=[];for(;i=r.isInSet(s);)o.push(new Ip(e,i)),s=i.removeFromSet(s);for(let l=o.length-1;l>=0;l--)this.step(o[l])}return this}split(e,r=1,n){return Zje(this,e,r,n),this}addMark(e,r,n){return qje(this,e,r,n),this}removeMark(e,r,n){return Uje(this,e,r,n),this}clearIncompatible(e,r,n){return YD(this,e,r,n),this}}const r_=Object.create(null);class yn{constructor(e,r,n){this.$anchor=e,this.$head=r,this.ranges=n||[new c5e(e.min(r),e.max(r))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let r=0;r<e.length;r++)if(e[r].$from.pos!=e[r].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,r=pr.empty){let n=r.content.lastChild,s=null;for(let l=0;l<r.openEnd;l++)s=n,n=n.lastChild;let i=e.steps.length,o=this.ranges;for(let l=0;l<o.length;l++){let{$from:c,$to:u}=o[l],f=e.mapping.slice(i);e.replaceRange(f.map(c.pos),f.map(u.pos),l?pr.empty:r),l==0&&NF(e,i,(n?n.isInline:s&&s.isTextblock)?-1:1)}}replaceWith(e,r){let n=e.steps.length,s=this.ranges;for(let i=0;i<s.length;i++){let{$from:o,$to:l}=s[i],c=e.mapping.slice(n),u=c.map(o.pos),f=c.map(l.pos);i?e.deleteRange(u,f):(e.replaceRangeWith(u,f,r),NF(e,n,r.isInline?-1:1))}}static findFrom(e,r,n=!1){let s=e.parent.inlineContent?new rn(e):ig(e.node(0),e.parent,e.pos,e.index(),r,n);if(s)return s;for(let i=e.depth-1;i>=0;i--){let o=r<0?ig(e.node(0),e.node(i),e.before(i+1),e.index(i),r,n):ig(e.node(0),e.node(i),e.after(i+1),e.index(i)+1,r,n);if(o)return o}return null}static near(e,r=1){return this.findFrom(e,r)||this.findFrom(e,-r)||new Ol(e.node(0))}static atStart(e){return ig(e,e,0,0,1)||new Ol(e)}static atEnd(e){return ig(e,e,e.content.size,e.childCount,-1)||new Ol(e)}static fromJSON(e,r){if(!r||!r.type)throw new RangeError("Invalid input for Selection.fromJSON");let n=r_[r.type];if(!n)throw new RangeError(`No selection type ${r.type} defined`);return n.fromJSON(e,r)}static jsonID(e,r){if(e in r_)throw new RangeError("Duplicate use of selection JSON ID "+e);return r_[e]=r,r.prototype.jsonID=e,r}getBookmark(){return rn.between(this.$anchor,this.$head).getBookmark()}}yn.prototype.visible=!0;class c5e{constructor(e,r){this.$from=e,this.$to=r}}let wF=!1;function jF(t){!wF&&!t.parent.inlineContent&&(wF=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class rn extends yn{constructor(e,r=e){jF(e),jF(r),super(e,r)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,r){let n=e.resolve(r.map(this.head));if(!n.parent.inlineContent)return yn.near(n);let s=e.resolve(r.map(this.anchor));return new rn(s.parent.inlineContent?s:n,n)}replace(e,r=pr.empty){if(super.replace(e,r),r==pr.empty){let n=this.$from.marksAcross(this.$to);n&&e.ensureMarks(n)}}eq(e){return e instanceof rn&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new JN(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,r){if(typeof r.anchor!="number"||typeof r.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new rn(e.resolve(r.anchor),e.resolve(r.head))}static create(e,r,n=r){let s=e.resolve(r);return new this(s,n==r?s:e.resolve(n))}static between(e,r,n){let s=e.pos-r.pos;if((!n||s)&&(n=s>=0?1:-1),!r.parent.inlineContent){let i=yn.findFrom(r,n,!0)||yn.findFrom(r,-n,!0);if(i)r=i.$head;else return yn.near(r,n)}return e.parent.inlineContent||(s==0?e=r:(e=(yn.findFrom(e,-n,!0)||yn.findFrom(e,n,!0)).$anchor,e.pos<r.pos!=s<0&&(e=r))),new rn(e,r)}}yn.jsonID("text",rn);class JN{constructor(e,r){this.anchor=e,this.head=r}map(e){return new JN(e.map(this.anchor),e.map(this.head))}resolve(e){return rn.between(e.resolve(this.anchor),e.resolve(this.head))}}class Fr extends yn{constructor(e){let r=e.nodeAfter,n=e.node(0).resolve(e.pos+r.nodeSize);super(e,n),this.node=r}map(e,r){let{deleted:n,pos:s}=r.mapResult(this.anchor),i=e.resolve(s);return n?yn.near(i):new Fr(i)}content(){return new pr(Yt.from(this.node),0,0)}eq(e){return e instanceof Fr&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new JD(this.anchor)}static fromJSON(e,r){if(typeof r.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Fr(e.resolve(r.anchor))}static create(e,r){return new Fr(e.resolve(r))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}Fr.prototype.visible=!1;yn.jsonID("node",Fr);class JD{constructor(e){this.anchor=e}map(e){let{deleted:r,pos:n}=e.mapResult(this.anchor);return r?new JN(n,n):new JD(n)}resolve(e){let r=e.resolve(this.anchor),n=r.nodeAfter;return n&&Fr.isSelectable(n)?new Fr(r):yn.near(r)}}class Ol extends yn{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,r=pr.empty){if(r==pr.empty){e.delete(0,e.doc.content.size);let n=yn.atStart(e.doc);n.eq(e.selection)||e.setSelection(n)}else super.replace(e,r)}toJSON(){return{type:"all"}}static fromJSON(e){return new Ol(e)}map(e){return new Ol(e)}eq(e){return e instanceof Ol}getBookmark(){return u5e}}yn.jsonID("all",Ol);const u5e={map(){return this},resolve(t){return new Ol(t)}};function ig(t,e,r,n,s,i=!1){if(e.inlineContent)return rn.create(t,r);for(let o=n-(s>0?0:1);s>0?o<e.childCount:o>=0;o+=s){let l=e.child(o);if(l.isAtom){if(!i&&Fr.isSelectable(l))return Fr.create(t,r-(s<0?l.nodeSize:0))}else{let c=ig(t,l,r+s,s<0?l.childCount:0,s,i);if(c)return c}r+=l.nodeSize*s}return null}function NF(t,e,r){let n=t.steps.length-1;if(n<e)return;let s=t.steps[n];if(!(s instanceof Mi||s instanceof Oi))return;let i=t.mapping.maps[n],o;i.forEach((l,c,u,f)=>{o==null&&(o=f)}),t.setSelection(yn.near(t.doc.resolve(o),r))}const SF=1,$w=2,kF=4;class d5e extends iZ{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|SF)&~$w,this.storedMarks=null,this}get selectionSet(){return(this.updated&SF)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=$w,this}ensureMarks(e){return Ea.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&$w)>0}addStep(e,r){super.addStep(e,r),this.updated=this.updated&~$w,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,r=!0){let n=this.selection;return r&&(e=e.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||Ea.none))),n.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,r,n){let s=this.doc.type.schema;if(r==null)return e?this.replaceSelectionWith(s.text(e),!0):this.deleteSelection();{if(n==null&&(n=r),n=n??r,!e)return this.deleteRange(r,n);let i=this.storedMarks;if(!i){let o=this.doc.resolve(r);i=n==r?o.marks():o.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(r,n,s.text(e,i)),this.selection.empty||this.setSelection(yn.near(this.selection.$to)),this}}setMeta(e,r){return this.meta[typeof e=="string"?e:e.key]=r,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=kF,this}get scrolledIntoView(){return(this.updated&kF)>0}}function CF(t,e){return!e||!t?t:t.bind(e)}class my{constructor(e,r,n){this.name=e,this.init=CF(r.init,n),this.apply=CF(r.apply,n)}}const f5e=[new my("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new my("selection",{init(t,e){return t.selection||yn.atStart(e.doc)},apply(t){return t.selection}}),new my("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,r,n){return n.selection.$cursor?t.storedMarks:null}}),new my("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class n_{constructor(e,r){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=f5e.slice(),r&&r.forEach(n=>{if(this.pluginsByKey[n.key])throw new RangeError("Adding different instances of a keyed plugin ("+n.key+")");this.plugins.push(n),this.pluginsByKey[n.key]=n,n.spec.state&&this.fields.push(new my(n.key,n.spec.state,n))})}}class xg{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,r=-1){for(let n=0;n<this.config.plugins.length;n++)if(n!=r){let s=this.config.plugins[n];if(s.spec.filterTransaction&&!s.spec.filterTransaction.call(s,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let r=[e],n=this.applyInner(e),s=null;for(;;){let i=!1;for(let o=0;o<this.config.plugins.length;o++){let l=this.config.plugins[o];if(l.spec.appendTransaction){let c=s?s[o].n:0,u=s?s[o].state:this,f=c<r.length&&l.spec.appendTransaction.call(l,c?r.slice(c):r,u,n);if(f&&n.filterTransaction(f,o)){if(f.setMeta("appendedTransaction",e),!s){s=[];for(let h=0;h<this.config.plugins.length;h++)s.push(h<o?{state:n,n:r.length}:{state:this,n:0})}r.push(f),n=n.applyInner(f),i=!0}s&&(s[o]={state:n,n:r.length})}}if(!i)return{state:n,transactions:r}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let r=new xg(this.config),n=this.config.fields;for(let s=0;s<n.length;s++){let i=n[s];r[i.name]=i.apply(e,this[i.name],this,r)}return r}get tr(){return new d5e(this)}static create(e){let r=new n_(e.doc?e.doc.type.schema:e.schema,e.plugins),n=new xg(r);for(let s=0;s<r.fields.length;s++)n[r.fields[s].name]=r.fields[s].init(e,n);return n}reconfigure(e){let r=new n_(this.schema,e.plugins),n=r.fields,s=new xg(r);for(let i=0;i<n.length;i++){let o=n[i].name;s[o]=this.hasOwnProperty(o)?this[o]:n[i].init(e,s)}return s}toJSON(e){let r={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(r.storedMarks=this.storedMarks.map(n=>n.toJSON())),e&&typeof e=="object")for(let n in e){if(n=="doc"||n=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let s=e[n],i=s.spec.state;i&&i.toJSON&&(r[n]=i.toJSON.call(s,this[s.key]))}return r}static fromJSON(e,r,n){if(!r)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let s=new n_(e.schema,e.plugins),i=new xg(s);return s.fields.forEach(o=>{if(o.name=="doc")i.doc=tm.fromJSON(e.schema,r.doc);else if(o.name=="selection")i.selection=yn.fromJSON(i.doc,r.selection);else if(o.name=="storedMarks")r.storedMarks&&(i.storedMarks=r.storedMarks.map(e.schema.markFromJSON));else{if(n)for(let l in n){let c=n[l],u=c.spec.state;if(c.key==o.name&&u&&u.fromJSON&&Object.prototype.hasOwnProperty.call(r,l)){i[o.name]=u.fromJSON.call(c,e,r[l],i);return}}i[o.name]=o.init(e,i)}}),i}}function oZ(t,e,r){for(let n in t){let s=t[n];s instanceof Function?s=s.bind(e):n=="handleDOMEvents"&&(s=oZ(s,e,{})),r[n]=s}return r}class Ps{constructor(e){this.spec=e,this.props={},e.props&&oZ(e.props,this,this.props),this.key=e.key?e.key.key:lZ("plugin")}getState(e){return e[this.key]}}const a_=Object.create(null);function lZ(t){return t in a_?t+"$"+ ++a_[t]:(a_[t]=0,t+"$")}class Pi{constructor(e="key"){this.key=lZ(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const Gi=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},tx=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let TM=null;const lf=function(t,e,r){let n=TM||(TM=document.createRange());return n.setEnd(t,r??t.nodeValue.length),n.setStart(t,e||0),n},h5e=function(){TM=null},Fp=function(t,e,r,n){return r&&(_F(t,e,r,n,-1)||_F(t,e,r,n,1))},m5e=/^(img|br|input|textarea|hr)$/i;function _F(t,e,r,n,s){for(var i;;){if(t==r&&e==n)return!0;if(e==(s<0?0:uc(t))){let o=t.parentNode;if(!o||o.nodeType!=1||u1(t)||m5e.test(t.nodeName)||t.contentEditable=="false")return!1;e=Gi(t)+(s<0?0:1),t=o}else if(t.nodeType==1){let o=t.childNodes[e+(s<0?-1:0)];if(o.nodeType==1&&o.contentEditable=="false")if(!((i=o.pmViewDesc)===null||i===void 0)&&i.ignoreForSelection)e+=s;else return!1;else t=o,e=s<0?uc(t):0}else return!1}}function uc(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function p5e(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=uc(t)}else if(t.parentNode&&!u1(t))e=Gi(t),t=t.parentNode;else return null}}function g5e(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!u1(t))e=Gi(t)+1,t=t.parentNode;else return null}}function x5e(t,e,r){for(let n=e==0,s=e==uc(t);n||s;){if(t==r)return!0;let i=Gi(t);if(t=t.parentNode,!t)return!1;n=n&&i==0,s=s&&i==uc(t)}}function u1(t){let e;for(let r=t;r&&!(e=r.pmViewDesc);r=r.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const XN=function(t){return t.focusNode&&Fp(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function tp(t,e){let r=document.createEvent("Event");return r.initEvent("keydown",!0,!0),r.keyCode=t,r.key=r.code=e,r}function b5e(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function y5e(t,e,r){if(t.caretPositionFromPoint)try{let n=t.caretPositionFromPoint(e,r);if(n)return{node:n.offsetNode,offset:Math.min(uc(n.offsetNode),n.offset)}}catch{}if(t.caretRangeFromPoint){let n=t.caretRangeFromPoint(e,r);if(n)return{node:n.startContainer,offset:Math.min(uc(n.startContainer),n.startOffset)}}}const cd=typeof navigator<"u"?navigator:null,AF=typeof document<"u"?document:null,ym=cd&&cd.userAgent||"",MM=/Edge\/(\d+)/.exec(ym),cZ=/MSIE \d/.exec(ym),EM=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(ym),ul=!!(cZ||EM||MM),nm=cZ?document.documentMode:EM?+EM[1]:MM?+MM[1]:0,gc=!ul&&/gecko\/(\d+)/i.test(ym);gc&&+(/Firefox\/(\d+)/.exec(ym)||[0,0])[1];const OM=!ul&&/Chrome\/(\d+)/.exec(ym),xo=!!OM,uZ=OM?+OM[1]:0,$o=!ul&&!!cd&&/Apple Computer/.test(cd.vendor),rx=$o&&(/Mobile\/\w+/.test(ym)||!!cd&&cd.maxTouchPoints>2),lc=rx||(cd?/Mac/.test(cd.platform):!1),v5e=cd?/Win/.test(cd.platform):!1,mf=/Android \d/.test(ym),d1=!!AF&&"webkitFontSmoothing"in AF.documentElement.style,w5e=d1?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function j5e(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function Zd(t,e){return typeof t=="number"?t:t[e]}function N5e(t){let e=t.getBoundingClientRect(),r=e.width/t.offsetWidth||1,n=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*r,top:e.top,bottom:e.top+t.clientHeight*n}}function TF(t,e,r){let n=t.someProp("scrollThreshold")||0,s=t.someProp("scrollMargin")||5,i=t.dom.ownerDocument;for(let o=r||t.dom;o;){if(o.nodeType!=1){o=tx(o);continue}let l=o,c=l==i.body,u=c?j5e(i):N5e(l),f=0,h=0;if(e.top<u.top+Zd(n,"top")?h=-(u.top-e.top+Zd(s,"top")):e.bottom>u.bottom-Zd(n,"bottom")&&(h=e.bottom-e.top>u.bottom-u.top?e.top+Zd(s,"top")-u.top:e.bottom-u.bottom+Zd(s,"bottom")),e.left<u.left+Zd(n,"left")?f=-(u.left-e.left+Zd(s,"left")):e.right>u.right-Zd(n,"right")&&(f=e.right-u.right+Zd(s,"right")),f||h)if(c)i.defaultView.scrollBy(f,h);else{let p=l.scrollLeft,v=l.scrollTop;h&&(l.scrollTop+=h),f&&(l.scrollLeft+=f);let w=l.scrollLeft-p,y=l.scrollTop-v;e={left:e.left-w,top:e.top-y,right:e.right-w,bottom:e.bottom-y}}let g=c?"fixed":getComputedStyle(o).position;if(/^(fixed|sticky)$/.test(g))break;o=g=="absolute"?o.offsetParent:tx(o)}}function S5e(t){let e=t.dom.getBoundingClientRect(),r=Math.max(0,e.top),n,s;for(let i=(e.left+e.right)/2,o=r+1;o<Math.min(innerHeight,e.bottom);o+=5){let l=t.root.elementFromPoint(i,o);if(!l||l==t.dom||!t.dom.contains(l))continue;let c=l.getBoundingClientRect();if(c.top>=r-20){n=l,s=c.top;break}}return{refDOM:n,refTop:s,stack:dZ(t.dom)}}function dZ(t){let e=[],r=t.ownerDocument;for(let n=t;n&&(e.push({dom:n,top:n.scrollTop,left:n.scrollLeft}),t!=r);n=tx(n));return e}function k5e({refDOM:t,refTop:e,stack:r}){let n=t?t.getBoundingClientRect().top:0;fZ(r,n==0?0:n-e)}function fZ(t,e){for(let r=0;r<t.length;r++){let{dom:n,top:s,left:i}=t[r];n.scrollTop!=s+e&&(n.scrollTop=s+e),n.scrollLeft!=i&&(n.scrollLeft=i)}}let K0=null;function C5e(t){if(t.setActive)return t.setActive();if(K0)return t.focus(K0);let e=dZ(t);t.focus(K0==null?{get preventScroll(){return K0={preventScroll:!0},!0}}:void 0),K0||(K0=!1,fZ(e,0))}function hZ(t,e){let r,n=2e8,s,i=0,o=e.top,l=e.top,c,u;for(let f=t.firstChild,h=0;f;f=f.nextSibling,h++){let g;if(f.nodeType==1)g=f.getClientRects();else if(f.nodeType==3)g=lf(f).getClientRects();else continue;for(let p=0;p<g.length;p++){let v=g[p];if(v.top<=o&&v.bottom>=l){o=Math.max(v.bottom,o),l=Math.min(v.top,l);let w=v.left>e.left?v.left-e.left:v.right<e.left?e.left-v.right:0;if(w<n){r=f,n=w,s=w&&r.nodeType==3?{left:v.right<e.left?v.right:v.left,top:e.top}:e,f.nodeType==1&&w&&(i=h+(e.left>=(v.left+v.right)/2?1:0));continue}}else v.top>e.top&&!c&&v.left<=e.left&&v.right>=e.left&&(c=f,u={left:Math.max(v.left,Math.min(v.right,e.left)),top:v.top});!r&&(e.left>=v.right&&e.top>=v.top||e.left>=v.left&&e.top>=v.bottom)&&(i=h+1)}}return!r&&c&&(r=c,s=u,n=0),r&&r.nodeType==3?_5e(r,s):!r||n&&r.nodeType==1?{node:t,offset:i}:hZ(r,s)}function _5e(t,e){let r=t.nodeValue.length,n=document.createRange();for(let s=0;s<r;s++){n.setEnd(t,s+1),n.setStart(t,s);let i=Rh(n,1);if(i.top!=i.bottom&&XD(e,i))return{node:t,offset:s+(e.left>=(i.left+i.right)/2?1:0)}}return{node:t,offset:0}}function XD(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function A5e(t,e){let r=t.parentNode;return r&&/^li$/i.test(r.nodeName)&&e.left<t.getBoundingClientRect().left?r:t}function T5e(t,e,r){let{node:n,offset:s}=hZ(e,r),i=-1;if(n.nodeType==1&&!n.firstChild){let o=n.getBoundingClientRect();i=o.left!=o.right&&r.left>(o.left+o.right)/2?1:-1}return t.docView.posFromDOM(n,s,i)}function M5e(t,e,r,n){let s=-1;for(let i=e,o=!1;i!=t.dom;){let l=t.docView.nearestDesc(i,!0),c;if(!l)return null;if(l.dom.nodeType==1&&(l.node.isBlock&&l.parent||!l.contentDOM)&&((c=l.dom.getBoundingClientRect()).width||c.height)&&(l.node.isBlock&&l.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(l.dom.nodeName)&&(!o&&c.left>n.left||c.top>n.top?s=l.posBefore:(!o&&c.right<n.left||c.bottom<n.top)&&(s=l.posAfter),o=!0),!l.contentDOM&&s<0&&!l.node.isText))return(l.node.isBlock?n.top<(c.top+c.bottom)/2:n.left<(c.left+c.right)/2)?l.posBefore:l.posAfter;i=l.dom.parentNode}return s>-1?s:t.docView.posFromDOM(e,r,-1)}function mZ(t,e,r){let n=t.childNodes.length;if(n&&r.top<r.bottom)for(let s=Math.max(0,Math.min(n-1,Math.floor(n*(e.top-r.top)/(r.bottom-r.top))-2)),i=s;;){let o=t.childNodes[i];if(o.nodeType==1){let l=o.getClientRects();for(let c=0;c<l.length;c++){let u=l[c];if(XD(e,u))return mZ(o,e,u)}}if((i=(i+1)%n)==s)break}return t}function E5e(t,e){let r=t.dom.ownerDocument,n,s=0,i=y5e(r,e.left,e.top);i&&({node:n,offset:s}=i);let o=(t.root.elementFromPoint?t.root:r).elementFromPoint(e.left,e.top),l;if(!o||!t.dom.contains(o.nodeType!=1?o.parentNode:o)){let u=t.dom.getBoundingClientRect();if(!XD(e,u)||(o=mZ(t.dom,e,u),!o))return null}if($o)for(let u=o;n&&u;u=tx(u))u.draggable&&(n=void 0);if(o=A5e(o,e),n){if(gc&&n.nodeType==1&&(s=Math.min(s,n.childNodes.length),s<n.childNodes.length)){let f=n.childNodes[s],h;f.nodeName=="IMG"&&(h=f.getBoundingClientRect()).right<=e.left&&h.bottom>e.top&&s++}let u;d1&&s&&n.nodeType==1&&(u=n.childNodes[s-1]).nodeType==1&&u.contentEditable=="false"&&u.getBoundingClientRect().top>=e.top&&s--,n==t.dom&&s==n.childNodes.length-1&&n.lastChild.nodeType==1&&e.top>n.lastChild.getBoundingClientRect().bottom?l=t.state.doc.content.size:(s==0||n.nodeType!=1||n.childNodes[s-1].nodeName!="BR")&&(l=M5e(t,n,s,e))}l==null&&(l=T5e(t,o,e));let c=t.docView.nearestDesc(o,!0);return{pos:l,inside:c?c.posAtStart-c.border:-1}}function MF(t){return t.top<t.bottom||t.left<t.right}function Rh(t,e){let r=t.getClientRects();if(r.length){let n=r[e<0?0:r.length-1];if(MF(n))return n}return Array.prototype.find.call(r,MF)||t.getBoundingClientRect()}const O5e=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function pZ(t,e,r){let{node:n,offset:s,atom:i}=t.docView.domFromPos(e,r<0?-1:1),o=d1||gc;if(n.nodeType==3)if(o&&(O5e.test(n.nodeValue)||(r<0?!s:s==n.nodeValue.length))){let c=Rh(lf(n,s,s),r);if(gc&&s&&/\s/.test(n.nodeValue[s-1])&&s<n.nodeValue.length){let u=Rh(lf(n,s-1,s-1),-1);if(u.top==c.top){let f=Rh(lf(n,s,s+1),-1);if(f.top!=c.top)return Vb(f,f.left<u.left)}}return c}else{let c=s,u=s,f=r<0?1:-1;return r<0&&!s?(u++,f=-1):r>=0&&s==n.nodeValue.length?(c--,f=1):r<0?c--:u++,Vb(Rh(lf(n,c,u),f),f<0)}if(!t.state.doc.resolve(e-(i||0)).parent.inlineContent){if(i==null&&s&&(r<0||s==uc(n))){let c=n.childNodes[s-1];if(c.nodeType==1)return s_(c.getBoundingClientRect(),!1)}if(i==null&&s<uc(n)){let c=n.childNodes[s];if(c.nodeType==1)return s_(c.getBoundingClientRect(),!0)}return s_(n.getBoundingClientRect(),r>=0)}if(i==null&&s&&(r<0||s==uc(n))){let c=n.childNodes[s-1],u=c.nodeType==3?lf(c,uc(c)-(o?0:1)):c.nodeType==1&&(c.nodeName!="BR"||!c.nextSibling)?c:null;if(u)return Vb(Rh(u,1),!1)}if(i==null&&s<uc(n)){let c=n.childNodes[s];for(;c.pmViewDesc&&c.pmViewDesc.ignoreForCoords;)c=c.nextSibling;let u=c?c.nodeType==3?lf(c,0,o?0:1):c.nodeType==1?c:null:null;if(u)return Vb(Rh(u,-1),!0)}return Vb(Rh(n.nodeType==3?lf(n):n,-r),r>=0)}function Vb(t,e){if(t.width==0)return t;let r=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:r,right:r}}function s_(t,e){if(t.height==0)return t;let r=e?t.top:t.bottom;return{top:r,bottom:r,left:t.left,right:t.right}}function gZ(t,e,r){let n=t.state,s=t.root.activeElement;n!=e&&t.updateState(e),s!=t.dom&&t.focus();try{return r()}finally{n!=e&&t.updateState(n),s!=t.dom&&s&&s.focus()}}function D5e(t,e,r){let n=e.selection,s=r=="up"?n.$from:n.$to;return gZ(t,e,()=>{let{node:i}=t.docView.domFromPos(s.pos,r=="up"?-1:1);for(;;){let l=t.docView.nearestDesc(i,!0);if(!l)break;if(l.node.isBlock){i=l.contentDOM||l.dom;break}i=l.dom.parentNode}let o=pZ(t,s.pos,1);for(let l=i.firstChild;l;l=l.nextSibling){let c;if(l.nodeType==1)c=l.getClientRects();else if(l.nodeType==3)c=lf(l,0,l.nodeValue.length).getClientRects();else continue;for(let u=0;u<c.length;u++){let f=c[u];if(f.bottom>f.top+1&&(r=="up"?o.top-f.top>(f.bottom-o.top)*2:f.bottom-o.bottom>(o.bottom-f.top)*2))return!1}}return!0})}const P5e=/[\u0590-\u08ac]/;function L5e(t,e,r){let{$head:n}=e.selection;if(!n.parent.isTextblock)return!1;let s=n.parentOffset,i=!s,o=s==n.parent.content.size,l=t.domSelection();return l?!P5e.test(n.parent.textContent)||!l.modify?r=="left"||r=="backward"?i:o:gZ(t,e,()=>{let{focusNode:c,focusOffset:u,anchorNode:f,anchorOffset:h}=t.domSelectionRange(),g=l.caretBidiLevel;l.modify("move",r,"character");let p=n.depth?t.docView.domAfterPos(n.before()):t.dom,{focusNode:v,focusOffset:w}=t.domSelectionRange(),y=v&&!p.contains(v.nodeType==1?v:v.parentNode)||c==v&&u==w;try{l.collapse(f,h),c&&(c!=f||u!=h)&&l.extend&&l.extend(c,u)}catch{}return g!=null&&(l.caretBidiLevel=g),y}):n.pos==n.start()||n.pos==n.end()}let EF=null,OF=null,DF=!1;function R5e(t,e,r){return EF==e&&OF==r?DF:(EF=e,OF=r,DF=r=="up"||r=="down"?D5e(t,e,r):L5e(t,e,r))}const xc=0,PF=1,lp=2,ud=3;class f1{constructor(e,r,n,s){this.parent=e,this.children=r,this.dom=n,this.contentDOM=s,this.dirty=xc,n.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,r,n){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let r=0;r<this.children.length;r++)e+=this.children[r].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let r=0,n=this.posAtStart;;r++){let s=this.children[r];if(s==e)return n;n+=s.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,r,n){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(n<0){let i,o;if(e==this.contentDOM)i=e.childNodes[r-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.previousSibling}for(;i&&!((o=i.pmViewDesc)&&o.parent==this);)i=i.previousSibling;return i?this.posBeforeChild(o)+o.size:this.posAtStart}else{let i,o;if(e==this.contentDOM)i=e.childNodes[r];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.nextSibling}for(;i&&!((o=i.pmViewDesc)&&o.parent==this);)i=i.nextSibling;return i?this.posBeforeChild(o):this.posAtEnd}let s;if(e==this.dom&&this.contentDOM)s=r>Gi(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))s=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(r==0)for(let i=e;;i=i.parentNode){if(i==this.dom){s=!1;break}if(i.previousSibling)break}if(s==null&&r==e.childNodes.length)for(let i=e;;i=i.parentNode){if(i==this.dom){s=!0;break}if(i.nextSibling)break}}return s??n>0?this.posAtEnd:this.posAtStart}nearestDesc(e,r=!1){for(let n=!0,s=e;s;s=s.parentNode){let i=this.getDesc(s),o;if(i&&(!r||i.node))if(n&&(o=i.nodeDOM)&&!(o.nodeType==1?o.contains(e.nodeType==1?e:e.parentNode):o==e))n=!1;else return i}}getDesc(e){let r=e.pmViewDesc;for(let n=r;n;n=n.parent)if(n==this)return r}posFromDOM(e,r,n){for(let s=e;s;s=s.parentNode){let i=this.getDesc(s);if(i)return i.localPosFromDOM(e,r,n)}return-1}descAt(e){for(let r=0,n=0;r<this.children.length;r++){let s=this.children[r],i=n+s.size;if(n==e&&i!=n){for(;!s.border&&s.children.length;)for(let o=0;o<s.children.length;o++){let l=s.children[o];if(l.size){s=l;break}}return s}if(e<i)return s.descAt(e-n-s.border);n=i}}domFromPos(e,r){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let n=0,s=0;for(let i=0;n<this.children.length;n++){let o=this.children[n],l=i+o.size;if(l>e||o instanceof bZ){s=e-i;break}i=l}if(s)return this.children[n].domFromPos(s-this.children[n].border,r);for(let i;n&&!(i=this.children[n-1]).size&&i instanceof xZ&&i.side>=0;n--);if(r<=0){let i,o=!0;for(;i=n?this.children[n-1]:null,!(!i||i.dom.parentNode==this.contentDOM);n--,o=!1);return i&&r&&o&&!i.border&&!i.domAtom?i.domFromPos(i.size,r):{node:this.contentDOM,offset:i?Gi(i.dom)+1:0}}else{let i,o=!0;for(;i=n<this.children.length?this.children[n]:null,!(!i||i.dom.parentNode==this.contentDOM);n++,o=!1);return i&&o&&!i.border&&!i.domAtom?i.domFromPos(0,r):{node:this.contentDOM,offset:i?Gi(i.dom):this.contentDOM.childNodes.length}}}parseRange(e,r,n=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:r,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let s=-1,i=-1;for(let o=n,l=0;;l++){let c=this.children[l],u=o+c.size;if(s==-1&&e<=u){let f=o+c.border;if(e>=f&&r<=u-c.border&&c.node&&c.contentDOM&&this.contentDOM.contains(c.contentDOM))return c.parseRange(e,r,f);e=o;for(let h=l;h>0;h--){let g=this.children[h-1];if(g.size&&g.dom.parentNode==this.contentDOM&&!g.emptyChildAt(1)){s=Gi(g.dom)+1;break}e-=g.size}s==-1&&(s=0)}if(s>-1&&(u>r||l==this.children.length-1)){r=u;for(let f=l+1;f<this.children.length;f++){let h=this.children[f];if(h.size&&h.dom.parentNode==this.contentDOM&&!h.emptyChildAt(-1)){i=Gi(h.dom);break}r+=h.size}i==-1&&(i=this.contentDOM.childNodes.length);break}o=u}return{node:this.contentDOM,from:e,to:r,fromOffset:s,toOffset:i}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let r=this.children[e<0?0:this.children.length-1];return r.size==0||r.emptyChildAt(e)}domAfterPos(e){let{node:r,offset:n}=this.domFromPos(e,0);if(r.nodeType!=1||n==r.childNodes.length)throw new RangeError("No node after pos "+e);return r.childNodes[n]}setSelection(e,r,n,s=!1){let i=Math.min(e,r),o=Math.max(e,r);for(let p=0,v=0;p<this.children.length;p++){let w=this.children[p],y=v+w.size;if(i>v&&o<y)return w.setSelection(e-v-w.border,r-v-w.border,n,s);v=y}let l=this.domFromPos(e,e?-1:1),c=r==e?l:this.domFromPos(r,r?-1:1),u=n.root.getSelection(),f=n.domSelectionRange(),h=!1;if((gc||$o)&&e==r){let{node:p,offset:v}=l;if(p.nodeType==3){if(h=!!(v&&p.nodeValue[v-1]==`
`),h&&v==p.nodeValue.length)for(let w=p,y;w;w=w.parentNode){if(y=w.nextSibling){y.nodeName=="BR"&&(l=c={node:y.parentNode,offset:Gi(y)+1});break}let N=w.pmViewDesc;if(N&&N.node&&N.node.isBlock)break}}else{let w=p.childNodes[v-1];h=w&&(w.nodeName=="BR"||w.contentEditable=="false")}}if(gc&&f.focusNode&&f.focusNode!=c.node&&f.focusNode.nodeType==1){let p=f.focusNode.childNodes[f.focusOffset];p&&p.contentEditable=="false"&&(s=!0)}if(!(s||h&&$o)&&Fp(l.node,l.offset,f.anchorNode,f.anchorOffset)&&Fp(c.node,c.offset,f.focusNode,f.focusOffset))return;let g=!1;if((u.extend||e==r)&&!(h&&gc)){u.collapse(l.node,l.offset);try{e!=r&&u.extend(c.node,c.offset),g=!0}catch{}}if(!g){if(e>r){let v=l;l=c,c=v}let p=document.createRange();p.setEnd(c.node,c.offset),p.setStart(l.node,l.offset),u.removeAllRanges(),u.addRange(p)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,r){for(let n=0,s=0;s<this.children.length;s++){let i=this.children[s],o=n+i.size;if(n==o?e<=o&&r>=n:e<o&&r>n){let l=n+i.border,c=o-i.border;if(e>=l&&r<=c){this.dirty=e==n||r==o?lp:PF,e==l&&r==c&&(i.contentLost||i.dom.parentNode!=this.contentDOM)?i.dirty=ud:i.markDirty(e-l,r-l);return}else i.dirty=i.dom==i.contentDOM&&i.dom.parentNode==this.contentDOM&&!i.children.length?lp:ud}n=o}this.dirty=lp}markParentsDirty(){let e=1;for(let r=this.parent;r;r=r.parent,e++){let n=e==1?lp:PF;r.dirty<n&&(r.dirty=n)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class xZ extends f1{constructor(e,r,n,s){let i,o=r.type.toDOM;if(typeof o=="function"&&(o=o(n,()=>{if(!i)return s;if(i.parent)return i.parent.posBeforeChild(i)})),!r.type.spec.raw){if(o.nodeType!=1){let l=document.createElement("span");l.appendChild(o),o=l}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(e,[],o,null),this.widget=r,this.widget=r,i=this}matchesWidget(e){return this.dirty==xc&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let r=this.widget.spec.stopEvent;return r?r(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class I5e extends f1{constructor(e,r,n,s){super(e,[],r,null),this.textDOM=n,this.text=s}get size(){return this.text.length}localPosFromDOM(e,r){return e!=this.textDOM?this.posAtStart+(r?this.size:0):this.posAtStart+r}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Bp extends f1{constructor(e,r,n,s,i){super(e,[],n,s),this.mark=r,this.spec=i}static create(e,r,n,s){let i=s.nodeViews[r.type.name],o=i&&i(r,s,n);return(!o||!o.dom)&&(o=Zp.renderSpec(document,r.type.spec.toDOM(r,n),null,r.attrs)),new Bp(e,r,o.dom,o.contentDOM||o.dom,o)}parseRule(){return this.dirty&ud||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=ud&&this.mark.eq(e)}markDirty(e,r){if(super.markDirty(e,r),this.dirty!=xc){let n=this.parent;for(;!n.node;)n=n.parent;n.dirty<this.dirty&&(n.dirty=this.dirty),this.dirty=xc}}slice(e,r,n){let s=Bp.create(this.parent,this.mark,!0,n),i=this.children,o=this.size;r<o&&(i=PM(i,r,o,n)),e>0&&(i=PM(i,0,e,n));for(let l=0;l<i.length;l++)i[l].parent=s;return s.children=i,s}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class am extends f1{constructor(e,r,n,s,i,o,l,c,u){super(e,[],i,o),this.node=r,this.outerDeco=n,this.innerDeco=s,this.nodeDOM=l}static create(e,r,n,s,i,o){let l=i.nodeViews[r.type.name],c,u=l&&l(r,i,()=>{if(!c)return o;if(c.parent)return c.parent.posBeforeChild(c)},n,s),f=u&&u.dom,h=u&&u.contentDOM;if(r.isText){if(!f)f=document.createTextNode(r.text);else if(f.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else f||({dom:f,contentDOM:h}=Zp.renderSpec(document,r.type.spec.toDOM(r),null,r.attrs));!h&&!r.isText&&f.nodeName!="BR"&&(f.hasAttribute("contenteditable")||(f.contentEditable="false"),r.type.spec.draggable&&(f.draggable=!0));let g=f;return f=wZ(f,n,r),u?c=new F5e(e,r,n,s,f,h||null,g,u,i,o+1):r.isText?new QN(e,r,n,s,f,g,i):new am(e,r,n,s,f,h||null,g,i,o+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let r=this.children.length-1;r>=0;r--){let n=this.children[r];if(this.dom.contains(n.dom.parentNode)){e.contentElement=n.dom.parentNode;break}}e.contentElement||(e.getContent=()=>Yt.empty)}return e}matchesNode(e,r,n){return this.dirty==xc&&e.eq(this.node)&&Ij(r,this.outerDeco)&&n.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,r){let n=this.node.inlineContent,s=r,i=e.composing?this.localCompositionInfo(e,r):null,o=i&&i.pos>-1?i:null,l=i&&i.pos<0,c=new $5e(this,o&&o.node,e);q5e(this.node,this.innerDeco,(u,f,h)=>{u.spec.marks?c.syncToMarks(u.spec.marks,n,e):u.type.side>=0&&!h&&c.syncToMarks(f==this.node.childCount?Ea.none:this.node.child(f).marks,n,e),c.placeWidget(u,e,s)},(u,f,h,g)=>{c.syncToMarks(u.marks,n,e);let p;c.findNodeMatch(u,f,h,g)||l&&e.state.selection.from>s&&e.state.selection.to<s+u.nodeSize&&(p=c.findIndexWithChild(i.node))>-1&&c.updateNodeAt(u,f,h,p,e)||c.updateNextNode(u,f,h,e,g,s)||c.addNode(u,f,h,e,s),s+=u.nodeSize}),c.syncToMarks([],n,e),this.node.isTextblock&&c.addTextblockHacks(),c.destroyRest(),(c.changed||this.dirty==lp)&&(o&&this.protectLocalComposition(e,o),yZ(this.contentDOM,this.children,e),rx&&U5e(this.dom))}localCompositionInfo(e,r){let{from:n,to:s}=e.state.selection;if(!(e.state.selection instanceof rn)||n<r||s>r+this.node.content.size)return null;let i=e.input.compositionNode;if(!i||!this.dom.contains(i.parentNode))return null;if(this.node.inlineContent){let o=i.nodeValue,l=W5e(this.node.content,o,n-r,s-r);return l<0?null:{node:i,pos:l,text:o}}else return{node:i,pos:-1,text:""}}protectLocalComposition(e,{node:r,pos:n,text:s}){if(this.getDesc(r))return;let i=r;for(;i.parentNode!=this.contentDOM;i=i.parentNode){for(;i.previousSibling;)i.parentNode.removeChild(i.previousSibling);for(;i.nextSibling;)i.parentNode.removeChild(i.nextSibling);i.pmViewDesc&&(i.pmViewDesc=void 0)}let o=new I5e(this,i,r,s);e.input.compositionNodes.push(o),this.children=PM(this.children,n,n+s.length,e,o)}update(e,r,n,s){return this.dirty==ud||!e.sameMarkup(this.node)?!1:(this.updateInner(e,r,n,s),!0)}updateInner(e,r,n,s){this.updateOuterDeco(r),this.node=e,this.innerDeco=n,this.contentDOM&&this.updateChildren(s,this.posAtStart),this.dirty=xc}updateOuterDeco(e){if(Ij(e,this.outerDeco))return;let r=this.nodeDOM.nodeType!=1,n=this.dom;this.dom=vZ(this.dom,this.nodeDOM,DM(this.outerDeco,this.node,r),DM(e,this.node,r)),this.dom!=n&&(n.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function LF(t,e,r,n,s){wZ(n,e,t);let i=new am(void 0,t,e,r,n,n,n,s,0);return i.contentDOM&&i.updateChildren(s,0),i}class QN extends am{constructor(e,r,n,s,i,o,l){super(e,r,n,s,i,null,o,l,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,r,n,s){return this.dirty==ud||this.dirty!=xc&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(r),(this.dirty!=xc||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,s.trackWrites==this.nodeDOM&&(s.trackWrites=null)),this.node=e,this.dirty=xc,!0)}inParent(){let e=this.parent.contentDOM;for(let r=this.nodeDOM;r;r=r.parentNode)if(r==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,r,n){return e==this.nodeDOM?this.posAtStart+Math.min(r,this.node.text.length):super.localPosFromDOM(e,r,n)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,r,n){let s=this.node.cut(e,r),i=document.createTextNode(s.text);return new QN(this.parent,s,this.outerDeco,this.innerDeco,i,i,n)}markDirty(e,r){super.markDirty(e,r),this.dom!=this.nodeDOM&&(e==0||r==this.nodeDOM.nodeValue.length)&&(this.dirty=ud)}get domAtom(){return!1}isText(e){return this.node.text==e}}class bZ extends f1{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==xc&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class F5e extends am{constructor(e,r,n,s,i,o,l,c,u,f){super(e,r,n,s,i,o,l,u,f),this.spec=c}update(e,r,n,s){if(this.dirty==ud)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let i=this.spec.update(e,r,n);return i&&this.updateInner(e,r,n,s),i}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,r,n,s)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,r,n,s){this.spec.setSelection?this.spec.setSelection(e,r,n.root):super.setSelection(e,r,n,s)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function yZ(t,e,r){let n=t.firstChild,s=!1;for(let i=0;i<e.length;i++){let o=e[i],l=o.dom;if(l.parentNode==t){for(;l!=n;)n=RF(n),s=!0;n=n.nextSibling}else s=!0,t.insertBefore(l,n);if(o instanceof Bp){let c=n?n.previousSibling:t.lastChild;yZ(o.contentDOM,o.children,r),n=c?c.nextSibling:t.firstChild}}for(;n;)n=RF(n),s=!0;s&&r.trackWrites==t&&(r.trackWrites=null)}const Cy=function(t){t&&(this.nodeName=t)};Cy.prototype=Object.create(null);const cp=[new Cy];function DM(t,e,r){if(t.length==0)return cp;let n=r?cp[0]:new Cy,s=[n];for(let i=0;i<t.length;i++){let o=t[i].type.attrs;if(o){o.nodeName&&s.push(n=new Cy(o.nodeName));for(let l in o){let c=o[l];c!=null&&(r&&s.length==1&&s.push(n=new Cy(e.isInline?"span":"div")),l=="class"?n.class=(n.class?n.class+" ":"")+c:l=="style"?n.style=(n.style?n.style+";":"")+c:l!="nodeName"&&(n[l]=c))}}}return s}function vZ(t,e,r,n){if(r==cp&&n==cp)return e;let s=e;for(let i=0;i<n.length;i++){let o=n[i],l=r[i];if(i){let c;l&&l.nodeName==o.nodeName&&s!=t&&(c=s.parentNode)&&c.nodeName.toLowerCase()==o.nodeName||(c=document.createElement(o.nodeName),c.pmIsDeco=!0,c.appendChild(s),l=cp[0]),s=c}B5e(s,l||cp[0],o)}return s}function B5e(t,e,r){for(let n in e)n!="class"&&n!="style"&&n!="nodeName"&&!(n in r)&&t.removeAttribute(n);for(let n in r)n!="class"&&n!="style"&&n!="nodeName"&&r[n]!=e[n]&&t.setAttribute(n,r[n]);if(e.class!=r.class){let n=e.class?e.class.split(" ").filter(Boolean):[],s=r.class?r.class.split(" ").filter(Boolean):[];for(let i=0;i<n.length;i++)s.indexOf(n[i])==-1&&t.classList.remove(n[i]);for(let i=0;i<s.length;i++)n.indexOf(s[i])==-1&&t.classList.add(s[i]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=r.style){if(e.style){let n=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,s;for(;s=n.exec(e.style);)t.style.removeProperty(s[1])}r.style&&(t.style.cssText+=r.style)}}function wZ(t,e,r){return vZ(t,t,cp,DM(e,r,t.nodeType!=1))}function Ij(t,e){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!t[r].type.eq(e[r].type))return!1;return!0}function RF(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class $5e{constructor(e,r,n){this.lock=r,this.view=n,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=H5e(e.node.content,e)}destroyBetween(e,r){if(e!=r){for(let n=e;n<r;n++)this.top.children[n].destroy();this.top.children.splice(e,r-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,r,n){let s=0,i=this.stack.length>>1,o=Math.min(i,e.length);for(;s<o&&(s==i-1?this.top:this.stack[s+1<<1]).matchesMark(e[s])&&e[s].type.spec.spanning!==!1;)s++;for(;s<i;)this.destroyRest(),this.top.dirty=xc,this.index=this.stack.pop(),this.top=this.stack.pop(),i--;for(;i<e.length;){this.stack.push(this.top,this.index+1);let l=-1;for(let c=this.index;c<Math.min(this.index+3,this.top.children.length);c++){let u=this.top.children[c];if(u.matchesMark(e[i])&&!this.isLocked(u.dom)){l=c;break}}if(l>-1)l>this.index&&(this.changed=!0,this.destroyBetween(this.index,l)),this.top=this.top.children[this.index];else{let c=Bp.create(this.top,e[i],r,n);this.top.children.splice(this.index,0,c),this.top=c,this.changed=!0}this.index=0,i++}}findNodeMatch(e,r,n,s){let i=-1,o;if(s>=this.preMatch.index&&(o=this.preMatch.matches[s-this.preMatch.index]).parent==this.top&&o.matchesNode(e,r,n))i=this.top.children.indexOf(o,this.index);else for(let l=this.index,c=Math.min(this.top.children.length,l+5);l<c;l++){let u=this.top.children[l];if(u.matchesNode(e,r,n)&&!this.preMatch.matched.has(u)){i=l;break}}return i<0?!1:(this.destroyBetween(this.index,i),this.index++,!0)}updateNodeAt(e,r,n,s,i){let o=this.top.children[s];return o.dirty==ud&&o.dom==o.contentDOM&&(o.dirty=lp),o.update(e,r,n,i)?(this.destroyBetween(this.index,s),this.index++,!0):!1}findIndexWithChild(e){for(;;){let r=e.parentNode;if(!r)return-1;if(r==this.top.contentDOM){let n=e.pmViewDesc;if(n){for(let s=this.index;s<this.top.children.length;s++)if(this.top.children[s]==n)return s}return-1}e=r}}updateNextNode(e,r,n,s,i,o){for(let l=this.index;l<this.top.children.length;l++){let c=this.top.children[l];if(c instanceof am){let u=this.preMatch.matched.get(c);if(u!=null&&u!=i)return!1;let f=c.dom,h,g=this.isLocked(f)&&!(e.isText&&c.node&&c.node.isText&&c.nodeDOM.nodeValue==e.text&&c.dirty!=ud&&Ij(r,c.outerDeco));if(!g&&c.update(e,r,n,s))return this.destroyBetween(this.index,l),c.dom!=f&&(this.changed=!0),this.index++,!0;if(!g&&(h=this.recreateWrapper(c,e,r,n,s,o)))return this.destroyBetween(this.index,l),this.top.children[this.index]=h,h.contentDOM&&(h.dirty=lp,h.updateChildren(s,o+1),h.dirty=xc),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,r,n,s,i,o){if(e.dirty||r.isAtom||!e.children.length||!e.node.content.eq(r.content)||!Ij(n,e.outerDeco)||!s.eq(e.innerDeco))return null;let l=am.create(this.top,r,n,s,i,o);if(l.contentDOM){l.children=e.children,e.children=[];for(let c of l.children)c.parent=l}return e.destroy(),l}addNode(e,r,n,s,i){let o=am.create(this.top,e,r,n,s,i);o.contentDOM&&o.updateChildren(s,i+1),this.top.children.splice(this.index++,0,o),this.changed=!0}placeWidget(e,r,n){let s=this.index<this.top.children.length?this.top.children[this.index]:null;if(s&&s.matchesWidget(e)&&(e==s.widget||!s.widget.type.toDOM.parentNode))this.index++;else{let i=new xZ(this.top,e,r,n);this.top.children.splice(this.index++,0,i),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],r=this.top;for(;e instanceof Bp;)r=e,e=r.children[r.children.length-1];(!e||!(e instanceof QN)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&(($o||xo)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",r),this.addHackNode("BR",this.top))}addHackNode(e,r){if(r==this.top&&this.index<r.children.length&&r.children[this.index].matchesHack(e))this.index++;else{let n=document.createElement(e);e=="IMG"&&(n.className="ProseMirror-separator",n.alt=""),e=="BR"&&(n.className="ProseMirror-trailingBreak");let s=new bZ(this.top,[],n,null);r!=this.top?r.children.push(s):r.children.splice(this.index++,0,s),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function H5e(t,e){let r=e,n=r.children.length,s=t.childCount,i=new Map,o=[];e:for(;s>0;){let l;for(;;)if(n){let u=r.children[n-1];if(u instanceof Bp)r=u,n=u.children.length;else{l=u,n--;break}}else{if(r==e)break e;n=r.parent.children.indexOf(r),r=r.parent}let c=l.node;if(c){if(c!=t.child(s-1))break;--s,i.set(l,s),o.push(l)}}return{index:s,matched:i,matches:o.reverse()}}function z5e(t,e){return t.type.side-e.type.side}function q5e(t,e,r,n){let s=e.locals(t),i=0;if(s.length==0){for(let u=0;u<t.childCount;u++){let f=t.child(u);n(f,s,e.forChild(i,f),u),i+=f.nodeSize}return}let o=0,l=[],c=null;for(let u=0;;){let f,h;for(;o<s.length&&s[o].to==i;){let y=s[o++];y.widget&&(f?(h||(h=[f])).push(y):f=y)}if(f)if(h){h.sort(z5e);for(let y=0;y<h.length;y++)r(h[y],u,!!c)}else r(f,u,!!c);let g,p;if(c)p=-1,g=c,c=null;else if(u<t.childCount)p=u,g=t.child(u++);else break;for(let y=0;y<l.length;y++)l[y].to<=i&&l.splice(y--,1);for(;o<s.length&&s[o].from<=i&&s[o].to>i;)l.push(s[o++]);let v=i+g.nodeSize;if(g.isText){let y=v;o<s.length&&s[o].from<y&&(y=s[o].from);for(let N=0;N<l.length;N++)l[N].to<y&&(y=l[N].to);y<v&&(c=g.cut(y-i),g=g.cut(0,y-i),v=y,p=-1)}else for(;o<s.length&&s[o].to<v;)o++;let w=g.isInline&&!g.isLeaf?l.filter(y=>!y.inline):l.slice();n(g,w,e.forChild(i,g),p),i=v}}function U5e(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function W5e(t,e,r,n){for(let s=0,i=0;s<t.childCount&&i<=n;){let o=t.child(s++),l=i;if(i+=o.nodeSize,!o.isText)continue;let c=o.text;for(;s<t.childCount;){let u=t.child(s++);if(i+=u.nodeSize,!u.isText)break;c+=u.text}if(i>=r){if(i>=n&&c.slice(n-e.length-l,n-l)==e)return n-e.length;let u=l<n?c.lastIndexOf(e,n-l-1):-1;if(u>=0&&u+e.length+l>=r)return l+u;if(r==n&&c.length>=n+e.length-l&&c.slice(n-l,n-l+e.length)==e)return n}}return-1}function PM(t,e,r,n,s){let i=[];for(let o=0,l=0;o<t.length;o++){let c=t[o],u=l,f=l+=c.size;u>=r||f<=e?i.push(c):(u<e&&i.push(c.slice(0,e-u,n)),s&&(i.push(s),s=void 0),f>r&&i.push(c.slice(r-u,c.size,n)))}return i}function QD(t,e=null){let r=t.domSelectionRange(),n=t.state.doc;if(!r.focusNode)return null;let s=t.docView.nearestDesc(r.focusNode),i=s&&s.size==0,o=t.docView.posFromDOM(r.focusNode,r.focusOffset,1);if(o<0)return null;let l=n.resolve(o),c,u;if(XN(r)){for(c=o;s&&!s.node;)s=s.parent;let h=s.node;if(s&&h.isAtom&&Fr.isSelectable(h)&&s.parent&&!(h.isInline&&x5e(r.focusNode,r.focusOffset,s.dom))){let g=s.posBefore;u=new Fr(o==g?l:n.resolve(g))}}else{if(r instanceof t.dom.ownerDocument.defaultView.Selection&&r.rangeCount>1){let h=o,g=o;for(let p=0;p<r.rangeCount;p++){let v=r.getRangeAt(p);h=Math.min(h,t.docView.posFromDOM(v.startContainer,v.startOffset,1)),g=Math.max(g,t.docView.posFromDOM(v.endContainer,v.endOffset,-1))}if(h<0)return null;[c,o]=g==t.state.selection.anchor?[g,h]:[h,g],l=n.resolve(o)}else c=t.docView.posFromDOM(r.anchorNode,r.anchorOffset,1);if(c<0)return null}let f=n.resolve(c);if(!u){let h=e=="pointer"||t.state.selection.head<l.pos&&!i?1:-1;u=ZD(t,f,l,h)}return u}function jZ(t){return t.editable?t.hasFocus():SZ(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function _f(t,e=!1){let r=t.state.selection;if(NZ(t,r),!!jZ(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&xo){let n=t.domSelectionRange(),s=t.domObserver.currentSelection;if(n.anchorNode&&s.anchorNode&&Fp(n.anchorNode,n.anchorOffset,s.anchorNode,s.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)G5e(t);else{let{anchor:n,head:s}=r,i,o;IF&&!(r instanceof rn)&&(r.$from.parent.inlineContent||(i=FF(t,r.from)),!r.empty&&!r.$from.parent.inlineContent&&(o=FF(t,r.to))),t.docView.setSelection(n,s,t,e),IF&&(i&&BF(i),o&&BF(o)),r.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&V5e(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const IF=$o||xo&&uZ<63;function FF(t,e){let{node:r,offset:n}=t.docView.domFromPos(e,0),s=n<r.childNodes.length?r.childNodes[n]:null,i=n?r.childNodes[n-1]:null;if($o&&s&&s.contentEditable=="false")return i_(s);if((!s||s.contentEditable=="false")&&(!i||i.contentEditable=="false")){if(s)return i_(s);if(i)return i_(i)}}function i_(t){return t.contentEditable="true",$o&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function BF(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function V5e(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let r=t.domSelectionRange(),n=r.anchorNode,s=r.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(r.anchorNode!=n||r.anchorOffset!=s)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!jZ(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function G5e(t){let e=t.domSelection();if(!e)return;let r=t.cursorWrapper.dom,n=r.nodeName=="IMG";n?e.collapse(r.parentNode,Gi(r)+1):e.collapse(r,0),!n&&!t.state.selection.visible&&ul&&nm<=11&&(r.disabled=!0,r.disabled=!1)}function NZ(t,e){if(e instanceof Fr){let r=t.docView.descAt(e.from);r!=t.lastSelectedViewDesc&&($F(t),r&&r.selectNode(),t.lastSelectedViewDesc=r)}else $F(t)}function $F(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function ZD(t,e,r,n){return t.someProp("createSelectionBetween",s=>s(t,e,r))||rn.between(e,r,n)}function HF(t){return t.editable&&!t.hasFocus()?!1:SZ(t)}function SZ(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function Y5e(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),r=t.domSelectionRange();return Fp(e.node,e.offset,r.anchorNode,r.anchorOffset)}function LM(t,e){let{$anchor:r,$head:n}=t.selection,s=e>0?r.max(n):r.min(n),i=s.parent.inlineContent?s.depth?t.doc.resolve(e>0?s.after():s.before()):null:s;return i&&yn.findFrom(i,e)}function Fh(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function zF(t,e,r){let n=t.state.selection;if(n instanceof rn)if(r.indexOf("s")>-1){let{$head:s}=n,i=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter;if(!i||i.isText||!i.isLeaf)return!1;let o=t.state.doc.resolve(s.pos+i.nodeSize*(e<0?-1:1));return Fh(t,new rn(n.$anchor,o))}else if(n.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let s=LM(t.state,e);return s&&s instanceof Fr?Fh(t,s):!1}else if(!(lc&&r.indexOf("m")>-1)){let s=n.$head,i=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter,o;if(!i||i.isText)return!1;let l=e<0?s.pos-i.nodeSize:s.pos;return i.isAtom||(o=t.docView.descAt(l))&&!o.contentDOM?Fr.isSelectable(i)?Fh(t,new Fr(e<0?t.state.doc.resolve(s.pos-i.nodeSize):s)):d1?Fh(t,new rn(t.state.doc.resolve(e<0?l:l+i.nodeSize))):!1:!1}}else return!1;else{if(n instanceof Fr&&n.node.isInline)return Fh(t,new rn(e>0?n.$to:n.$from));{let s=LM(t.state,e);return s?Fh(t,s):!1}}}function Fj(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function _y(t,e){let r=t.pmViewDesc;return r&&r.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function J0(t,e){return e<0?K5e(t):J5e(t)}function K5e(t){let e=t.domSelectionRange(),r=e.focusNode,n=e.focusOffset;if(!r)return;let s,i,o=!1;for(gc&&r.nodeType==1&&n<Fj(r)&&_y(r.childNodes[n],-1)&&(o=!0);;)if(n>0){if(r.nodeType!=1)break;{let l=r.childNodes[n-1];if(_y(l,-1))s=r,i=--n;else if(l.nodeType==3)r=l,n=r.nodeValue.length;else break}}else{if(kZ(r))break;{let l=r.previousSibling;for(;l&&_y(l,-1);)s=r.parentNode,i=Gi(l),l=l.previousSibling;if(l)r=l,n=Fj(r);else{if(r=r.parentNode,r==t.dom)break;n=0}}}o?RM(t,r,n):s&&RM(t,s,i)}function J5e(t){let e=t.domSelectionRange(),r=e.focusNode,n=e.focusOffset;if(!r)return;let s=Fj(r),i,o;for(;;)if(n<s){if(r.nodeType!=1)break;let l=r.childNodes[n];if(_y(l,1))i=r,o=++n;else break}else{if(kZ(r))break;{let l=r.nextSibling;for(;l&&_y(l,1);)i=l.parentNode,o=Gi(l)+1,l=l.nextSibling;if(l)r=l,n=0,s=Fj(r);else{if(r=r.parentNode,r==t.dom)break;n=s=0}}}i&&RM(t,i,o)}function kZ(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function X5e(t,e){for(;t&&e==t.childNodes.length&&!u1(t);)e=Gi(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let r=t.childNodes[e];if(r.nodeType==3)return r;if(r.nodeType==1&&r.contentEditable=="false")break;t=r,e=0}}function Q5e(t,e){for(;t&&!e&&!u1(t);)e=Gi(t),t=t.parentNode;for(;t&&e;){let r=t.childNodes[e-1];if(r.nodeType==3)return r;if(r.nodeType==1&&r.contentEditable=="false")break;t=r,e=t.childNodes.length}}function RM(t,e,r){if(e.nodeType!=3){let i,o;(o=X5e(e,r))?(e=o,r=0):(i=Q5e(e,r))&&(e=i,r=i.nodeValue.length)}let n=t.domSelection();if(!n)return;if(XN(n)){let i=document.createRange();i.setEnd(e,r),i.setStart(e,r),n.removeAllRanges(),n.addRange(i)}else n.extend&&n.extend(e,r);t.domObserver.setCurSelection();let{state:s}=t;setTimeout(()=>{t.state==s&&_f(t)},50)}function qF(t,e){let r=t.state.doc.resolve(e);if(!(xo||v5e)&&r.parent.inlineContent){let s=t.coordsAtPos(e);if(e>r.start()){let i=t.coordsAtPos(e-1),o=(i.top+i.bottom)/2;if(o>s.top&&o<s.bottom&&Math.abs(i.left-s.left)>1)return i.left<s.left?"ltr":"rtl"}if(e<r.end()){let i=t.coordsAtPos(e+1),o=(i.top+i.bottom)/2;if(o>s.top&&o<s.bottom&&Math.abs(i.left-s.left)>1)return i.left>s.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function UF(t,e,r){let n=t.state.selection;if(n instanceof rn&&!n.empty||r.indexOf("s")>-1||lc&&r.indexOf("m")>-1)return!1;let{$from:s,$to:i}=n;if(!s.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let o=LM(t.state,e);if(o&&o instanceof Fr)return Fh(t,o)}if(!s.parent.inlineContent){let o=e<0?s:i,l=n instanceof Ol?yn.near(o,e):yn.findFrom(o,e);return l?Fh(t,l):!1}return!1}function WF(t,e){if(!(t.state.selection instanceof rn))return!0;let{$head:r,$anchor:n,empty:s}=t.state.selection;if(!r.sameParent(n))return!0;if(!s)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let i=!r.textOffset&&(e<0?r.nodeBefore:r.nodeAfter);if(i&&!i.isText){let o=t.state.tr;return e<0?o.delete(r.pos-i.nodeSize,r.pos):o.delete(r.pos,r.pos+i.nodeSize),t.dispatch(o),!0}return!1}function VF(t,e,r){t.domObserver.stop(),e.contentEditable=r,t.domObserver.start()}function Z5e(t){if(!$o||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:r}=t.domSelectionRange();if(e&&e.nodeType==1&&r==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let n=e.firstChild;VF(t,n,"true"),setTimeout(()=>VF(t,n,"false"),20)}return!1}function eNe(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function tNe(t,e){let r=e.keyCode,n=eNe(e);if(r==8||lc&&r==72&&n=="c")return WF(t,-1)||J0(t,-1);if(r==46&&!e.shiftKey||lc&&r==68&&n=="c")return WF(t,1)||J0(t,1);if(r==13||r==27)return!0;if(r==37||lc&&r==66&&n=="c"){let s=r==37?qF(t,t.state.selection.from)=="ltr"?-1:1:-1;return zF(t,s,n)||J0(t,s)}else if(r==39||lc&&r==70&&n=="c"){let s=r==39?qF(t,t.state.selection.from)=="ltr"?1:-1:1;return zF(t,s,n)||J0(t,s)}else{if(r==38||lc&&r==80&&n=="c")return UF(t,-1,n)||J0(t,-1);if(r==40||lc&&r==78&&n=="c")return Z5e(t)||UF(t,1,n)||J0(t,1);if(n==(lc?"m":"c")&&(r==66||r==73||r==89||r==90))return!0}return!1}function eP(t,e){t.someProp("transformCopied",p=>{e=p(e,t)});let r=[],{content:n,openStart:s,openEnd:i}=e;for(;s>1&&i>1&&n.childCount==1&&n.firstChild.childCount==1;){s--,i--;let p=n.firstChild;r.push(p.type.name,p.attrs!=p.type.defaultAttrs?p.attrs:null),n=p.content}let o=t.someProp("clipboardSerializer")||Zp.fromSchema(t.state.schema),l=EZ(),c=l.createElement("div");c.appendChild(o.serializeFragment(n,{document:l}));let u=c.firstChild,f,h=0;for(;u&&u.nodeType==1&&(f=MZ[u.nodeName.toLowerCase()]);){for(let p=f.length-1;p>=0;p--){let v=l.createElement(f[p]);for(;c.firstChild;)v.appendChild(c.firstChild);c.appendChild(v),h++}u=c.firstChild}u&&u.nodeType==1&&u.setAttribute("data-pm-slice",`${s} ${i}${h?` -${h}`:""} ${JSON.stringify(r)}`);let g=t.someProp("clipboardTextSerializer",p=>p(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:c,text:g,slice:e}}function CZ(t,e,r,n,s){let i=s.parent.type.spec.code,o,l;if(!r&&!e)return null;let c=!!e&&(n||i||!r);if(c){if(t.someProp("transformPastedText",g=>{e=g(e,i||n,t)}),i)return l=new pr(Yt.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0),t.someProp("transformPasted",g=>{l=g(l,t,!0)}),l;let h=t.someProp("clipboardTextParser",g=>g(e,s,n,t));if(h)l=h;else{let g=s.marks(),{schema:p}=t.state,v=Zp.fromSchema(p);o=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(w=>{let y=o.appendChild(document.createElement("p"));w&&y.appendChild(v.serializeNode(p.text(w,g)))})}}else t.someProp("transformPastedHTML",h=>{r=h(r,t)}),o=sNe(r),d1&&iNe(o);let u=o&&o.querySelector("[data-pm-slice]"),f=u&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(u.getAttribute("data-pm-slice")||"");if(f&&f[3])for(let h=+f[3];h>0;h--){let g=o.firstChild;for(;g&&g.nodeType!=1;)g=g.nextSibling;if(!g)break;o=g}if(l||(l=(t.someProp("clipboardParser")||t.someProp("domParser")||rm.fromSchema(t.state.schema)).parseSlice(o,{preserveWhitespace:!!(c||f),context:s,ruleFromNode(g){return g.nodeName=="BR"&&!g.nextSibling&&g.parentNode&&!rNe.test(g.parentNode.nodeName)?{ignore:!0}:null}})),f)l=oNe(GF(l,+f[1],+f[2]),f[4]);else if(l=pr.maxOpen(nNe(l.content,s),!0),l.openStart||l.openEnd){let h=0,g=0;for(let p=l.content.firstChild;h<l.openStart&&!p.type.spec.isolating;h++,p=p.firstChild);for(let p=l.content.lastChild;g<l.openEnd&&!p.type.spec.isolating;g++,p=p.lastChild);l=GF(l,h,g)}return t.someProp("transformPasted",h=>{l=h(l,t,c)}),l}const rNe=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function nNe(t,e){if(t.childCount<2)return t;for(let r=e.depth;r>=0;r--){let s=e.node(r).contentMatchAt(e.index(r)),i,o=[];if(t.forEach(l=>{if(!o)return;let c=s.findWrapping(l.type),u;if(!c)return o=null;if(u=o.length&&i.length&&AZ(c,i,l,o[o.length-1],0))o[o.length-1]=u;else{o.length&&(o[o.length-1]=TZ(o[o.length-1],i.length));let f=_Z(l,c);o.push(f),s=s.matchType(f.type),i=c}}),o)return Yt.from(o)}return t}function _Z(t,e,r=0){for(let n=e.length-1;n>=r;n--)t=e[n].create(null,Yt.from(t));return t}function AZ(t,e,r,n,s){if(s<t.length&&s<e.length&&t[s]==e[s]){let i=AZ(t,e,r,n.lastChild,s+1);if(i)return n.copy(n.content.replaceChild(n.childCount-1,i));if(n.contentMatchAt(n.childCount).matchType(s==t.length-1?r.type:t[s+1]))return n.copy(n.content.append(Yt.from(_Z(r,t,s+1))))}}function TZ(t,e){if(e==0)return t;let r=t.content.replaceChild(t.childCount-1,TZ(t.lastChild,e-1)),n=t.contentMatchAt(t.childCount).fillBefore(Yt.empty,!0);return t.copy(r.append(n))}function IM(t,e,r,n,s,i){let o=e<0?t.firstChild:t.lastChild,l=o.content;return t.childCount>1&&(i=0),s<n-1&&(l=IM(l,e,r,n,s+1,i)),s>=r&&(l=e<0?o.contentMatchAt(0).fillBefore(l,i<=s).append(l):l.append(o.contentMatchAt(o.childCount).fillBefore(Yt.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,o.copy(l))}function GF(t,e,r){return e<t.openStart&&(t=new pr(IM(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),r<t.openEnd&&(t=new pr(IM(t.content,1,r,t.openEnd,0,0),t.openStart,r)),t}const MZ={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let YF=null;function EZ(){return YF||(YF=document.implementation.createHTMLDocument("title"))}let o_=null;function aNe(t){let e=window.trustedTypes;return e?(o_||(o_=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:r=>r})),o_.createHTML(t)):t}function sNe(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let r=EZ().createElement("div"),n=/<([a-z][^>\s]+)/i.exec(t),s;if((s=n&&MZ[n[1].toLowerCase()])&&(t=s.map(i=>"<"+i+">").join("")+t+s.map(i=>"</"+i+">").reverse().join("")),r.innerHTML=aNe(t),s)for(let i=0;i<s.length;i++)r=r.querySelector(s[i])||r;return r}function iNe(t){let e=t.querySelectorAll(xo?"span:not([class]):not([style])":"span.Apple-converted-space");for(let r=0;r<e.length;r++){let n=e[r];n.childNodes.length==1&&n.textContent==" "&&n.parentNode&&n.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),n)}}function oNe(t,e){if(!t.size)return t;let r=t.content.firstChild.type.schema,n;try{n=JSON.parse(e)}catch{return t}let{content:s,openStart:i,openEnd:o}=t;for(let l=n.length-2;l>=0;l-=2){let c=r.nodes[n[l]];if(!c||c.hasRequiredAttrs())break;s=Yt.from(c.create(n[l+1],s)),i++,o++}return new pr(s,i,o)}const Ho={},zo={},lNe={touchstart:!0,touchmove:!0};class cNe{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function uNe(t){for(let e in Ho){let r=Ho[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=n=>{fNe(t,n)&&!tP(t,n)&&(t.editable||!(n.type in zo))&&r(t,n)},lNe[e]?{passive:!0}:void 0)}$o&&t.dom.addEventListener("input",()=>null),FM(t)}function Gh(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function dNe(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function FM(t){t.someProp("handleDOMEvents",e=>{for(let r in e)t.input.eventHandlers[r]||t.dom.addEventListener(r,t.input.eventHandlers[r]=n=>tP(t,n))})}function tP(t,e){return t.someProp("handleDOMEvents",r=>{let n=r[e.type];return n?n(t,e)||e.defaultPrevented:!1})}function fNe(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let r=e.target;r!=t.dom;r=r.parentNode)if(!r||r.nodeType==11||r.pmViewDesc&&r.pmViewDesc.stopEvent(e))return!1;return!0}function hNe(t,e){!tP(t,e)&&Ho[e.type]&&(t.editable||!(e.type in zo))&&Ho[e.type](t,e)}zo.keydown=(t,e)=>{let r=e;if(t.input.shiftKey=r.keyCode==16||r.shiftKey,!DZ(t,r)&&(t.input.lastKeyCode=r.keyCode,t.input.lastKeyCodeTime=Date.now(),!(mf&&xo&&r.keyCode==13)))if(r.keyCode!=229&&t.domObserver.forceFlush(),rx&&r.keyCode==13&&!r.ctrlKey&&!r.altKey&&!r.metaKey){let n=Date.now();t.input.lastIOSEnter=n,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==n&&(t.someProp("handleKeyDown",s=>s(t,tp(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",n=>n(t,r))||tNe(t,r)?r.preventDefault():Gh(t,"key")};zo.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};zo.keypress=(t,e)=>{let r=e;if(DZ(t,r)||!r.charCode||r.ctrlKey&&!r.altKey||lc&&r.metaKey)return;if(t.someProp("handleKeyPress",s=>s(t,r))){r.preventDefault();return}let n=t.state.selection;if(!(n instanceof rn)||!n.$from.sameParent(n.$to)){let s=String.fromCharCode(r.charCode),i=()=>t.state.tr.insertText(s).scrollIntoView();!/[\r\n]/.test(s)&&!t.someProp("handleTextInput",o=>o(t,n.$from.pos,n.$to.pos,s,i))&&t.dispatch(i()),r.preventDefault()}};function ZN(t){return{left:t.clientX,top:t.clientY}}function mNe(t,e){let r=e.x-t.clientX,n=e.y-t.clientY;return r*r+n*n<100}function rP(t,e,r,n,s){if(n==-1)return!1;let i=t.state.doc.resolve(n);for(let o=i.depth+1;o>0;o--)if(t.someProp(e,l=>o>i.depth?l(t,r,i.nodeAfter,i.before(o),s,!0):l(t,r,i.node(o),i.before(o),s,!1)))return!0;return!1}function Og(t,e,r){if(t.focused||t.focus(),t.state.selection.eq(e))return;let n=t.state.tr.setSelection(e);n.setMeta("pointer",!0),t.dispatch(n)}function pNe(t,e){if(e==-1)return!1;let r=t.state.doc.resolve(e),n=r.nodeAfter;return n&&n.isAtom&&Fr.isSelectable(n)?(Og(t,new Fr(r)),!0):!1}function gNe(t,e){if(e==-1)return!1;let r=t.state.selection,n,s;r instanceof Fr&&(n=r.node);let i=t.state.doc.resolve(e);for(let o=i.depth+1;o>0;o--){let l=o>i.depth?i.nodeAfter:i.node(o);if(Fr.isSelectable(l)){n&&r.$from.depth>0&&o>=r.$from.depth&&i.before(r.$from.depth+1)==r.$from.pos?s=i.before(r.$from.depth):s=i.before(o);break}}return s!=null?(Og(t,Fr.create(t.state.doc,s)),!0):!1}function xNe(t,e,r,n,s){return rP(t,"handleClickOn",e,r,n)||t.someProp("handleClick",i=>i(t,e,n))||(s?gNe(t,r):pNe(t,r))}function bNe(t,e,r,n){return rP(t,"handleDoubleClickOn",e,r,n)||t.someProp("handleDoubleClick",s=>s(t,e,n))}function yNe(t,e,r,n){return rP(t,"handleTripleClickOn",e,r,n)||t.someProp("handleTripleClick",s=>s(t,e,n))||vNe(t,r,n)}function vNe(t,e,r){if(r.button!=0)return!1;let n=t.state.doc;if(e==-1)return n.inlineContent?(Og(t,rn.create(n,0,n.content.size)),!0):!1;let s=n.resolve(e);for(let i=s.depth+1;i>0;i--){let o=i>s.depth?s.nodeAfter:s.node(i),l=s.before(i);if(o.inlineContent)Og(t,rn.create(n,l+1,l+1+o.content.size));else if(Fr.isSelectable(o))Og(t,Fr.create(n,l));else continue;return!0}}function nP(t){return Bj(t)}const OZ=lc?"metaKey":"ctrlKey";Ho.mousedown=(t,e)=>{let r=e;t.input.shiftKey=r.shiftKey;let n=nP(t),s=Date.now(),i="singleClick";s-t.input.lastClick.time<500&&mNe(r,t.input.lastClick)&&!r[OZ]&&t.input.lastClick.button==r.button&&(t.input.lastClick.type=="singleClick"?i="doubleClick":t.input.lastClick.type=="doubleClick"&&(i="tripleClick")),t.input.lastClick={time:s,x:r.clientX,y:r.clientY,type:i,button:r.button};let o=t.posAtCoords(ZN(r));o&&(i=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new wNe(t,o,r,!!n)):(i=="doubleClick"?bNe:yNe)(t,o.pos,o.inside,r)?r.preventDefault():Gh(t,"pointer"))};class wNe{constructor(e,r,n,s){this.view=e,this.pos=r,this.event=n,this.flushed=s,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!n[OZ],this.allowDefault=n.shiftKey;let i,o;if(r.inside>-1)i=e.state.doc.nodeAt(r.inside),o=r.inside;else{let f=e.state.doc.resolve(r.pos);i=f.parent,o=f.depth?f.before():0}const l=s?null:n.target,c=l?e.docView.nearestDesc(l,!0):null;this.target=c&&c.nodeDOM.nodeType==1?c.nodeDOM:null;let{selection:u}=e.state;(n.button==0&&i.type.spec.draggable&&i.type.spec.selectable!==!1||u instanceof Fr&&u.from<=o&&u.to>o)&&(this.mightDrag={node:i,pos:o,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&gc&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Gh(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>_f(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let r=this.pos;this.view.state.doc!=this.startDoc&&(r=this.view.posAtCoords(ZN(e))),this.updateAllowDefault(e),this.allowDefault||!r?Gh(this.view,"pointer"):xNe(this.view,r.pos,r.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||$o&&this.mightDrag&&!this.mightDrag.node.isAtom||xo&&!this.view.state.selection.visible&&Math.min(Math.abs(r.pos-this.view.state.selection.from),Math.abs(r.pos-this.view.state.selection.to))<=2)?(Og(this.view,yn.near(this.view.state.doc.resolve(r.pos))),e.preventDefault()):Gh(this.view,"pointer")}move(e){this.updateAllowDefault(e),Gh(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}Ho.touchstart=t=>{t.input.lastTouch=Date.now(),nP(t),Gh(t,"pointer")};Ho.touchmove=t=>{t.input.lastTouch=Date.now(),Gh(t,"pointer")};Ho.contextmenu=t=>nP(t);function DZ(t,e){return t.composing?!0:$o&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const jNe=mf?5e3:-1;zo.compositionstart=zo.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,r=e.selection.$to;if(e.selection instanceof rn&&(e.storedMarks||!r.textOffset&&r.parentOffset&&r.nodeBefore.marks.some(n=>n.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||r.marks(),Bj(t,!0),t.markCursor=null;else if(Bj(t,!e.selection.empty),gc&&e.selection.empty&&r.parentOffset&&!r.textOffset&&r.nodeBefore.marks.length){let n=t.domSelectionRange();for(let s=n.focusNode,i=n.focusOffset;s&&s.nodeType==1&&i!=0;){let o=i<0?s.lastChild:s.childNodes[i-1];if(!o)break;if(o.nodeType==3){let l=t.domSelection();l&&l.collapse(o,o.nodeValue.length);break}else s=o,i=-1}}t.input.composing=!0}PZ(t,jNe)};zo.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,PZ(t,20))};function PZ(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>Bj(t),e))}function LZ(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=SNe());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function NNe(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let r=p5e(e.focusNode,e.focusOffset),n=g5e(e.focusNode,e.focusOffset);if(r&&n&&r!=n){let s=n.pmViewDesc,i=t.domObserver.lastChangedTextNode;if(r==i||n==i)return i;if(!s||!s.isText(n.nodeValue))return n;if(t.input.compositionNode==n){let o=r.pmViewDesc;if(!(!o||!o.isText(r.nodeValue)))return n}}return r||n}function SNe(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function Bj(t,e=!1){if(!(mf&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),LZ(t),e||t.docView&&t.docView.dirty){let r=QD(t),n=t.state.selection;return r&&!r.eq(n)?t.dispatch(t.state.tr.setSelection(r)):(t.markCursor||e)&&!n.$from.node(n.$from.sharedDepth(n.to)).inlineContent?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function kNe(t,e){if(!t.dom.parentNode)return;let r=t.dom.parentNode.appendChild(document.createElement("div"));r.appendChild(e),r.style.cssText="position: fixed; left: -10000px; top: 10px";let n=getSelection(),s=document.createRange();s.selectNodeContents(e),t.dom.blur(),n.removeAllRanges(),n.addRange(s),setTimeout(()=>{r.parentNode&&r.parentNode.removeChild(r),t.focus()},50)}const ov=ul&&nm<15||rx&&w5e<604;Ho.copy=zo.cut=(t,e)=>{let r=e,n=t.state.selection,s=r.type=="cut";if(n.empty)return;let i=ov?null:r.clipboardData,o=n.content(),{dom:l,text:c}=eP(t,o);i?(r.preventDefault(),i.clearData(),i.setData("text/html",l.innerHTML),i.setData("text/plain",c)):kNe(t,l),s&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function CNe(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function _Ne(t,e){if(!t.dom.parentNode)return;let r=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,n=t.dom.parentNode.appendChild(document.createElement(r?"textarea":"div"));r||(n.contentEditable="true"),n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus();let s=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),n.parentNode&&n.parentNode.removeChild(n),r?lv(t,n.value,null,s,e):lv(t,n.textContent,n.innerHTML,s,e)},50)}function lv(t,e,r,n,s){let i=CZ(t,e,r,n,t.state.selection.$from);if(t.someProp("handlePaste",c=>c(t,s,i||pr.empty)))return!0;if(!i)return!1;let o=CNe(i),l=o?t.state.tr.replaceSelectionWith(o,n):t.state.tr.replaceSelection(i);return t.dispatch(l.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function RZ(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let r=t.getData("text/uri-list");return r?r.replace(/\r?\n/g," "):""}zo.paste=(t,e)=>{let r=e;if(t.composing&&!mf)return;let n=ov?null:r.clipboardData,s=t.input.shiftKey&&t.input.lastKeyCode!=45;n&&lv(t,RZ(n),n.getData("text/html"),s,r)?r.preventDefault():_Ne(t,r)};class IZ{constructor(e,r,n){this.slice=e,this.move=r,this.node=n}}const ANe=lc?"altKey":"ctrlKey";function FZ(t,e){let r=t.someProp("dragCopies",n=>!n(e));return r??!e[ANe]}Ho.dragstart=(t,e)=>{let r=e,n=t.input.mouseDown;if(n&&n.done(),!r.dataTransfer)return;let s=t.state.selection,i=s.empty?null:t.posAtCoords(ZN(r)),o;if(!(i&&i.pos>=s.from&&i.pos<=(s instanceof Fr?s.to-1:s.to))){if(n&&n.mightDrag)o=Fr.create(t.state.doc,n.mightDrag.pos);else if(r.target&&r.target.nodeType==1){let h=t.docView.nearestDesc(r.target,!0);h&&h.node.type.spec.draggable&&h!=t.docView&&(o=Fr.create(t.state.doc,h.posBefore))}}let l=(o||t.state.selection).content(),{dom:c,text:u,slice:f}=eP(t,l);(!r.dataTransfer.files.length||!xo||uZ>120)&&r.dataTransfer.clearData(),r.dataTransfer.setData(ov?"Text":"text/html",c.innerHTML),r.dataTransfer.effectAllowed="copyMove",ov||r.dataTransfer.setData("text/plain",u),t.dragging=new IZ(f,FZ(t,r),o)};Ho.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};zo.dragover=zo.dragenter=(t,e)=>e.preventDefault();zo.drop=(t,e)=>{let r=e,n=t.dragging;if(t.dragging=null,!r.dataTransfer)return;let s=t.posAtCoords(ZN(r));if(!s)return;let i=t.state.doc.resolve(s.pos),o=n&&n.slice;o?t.someProp("transformPasted",v=>{o=v(o,t,!1)}):o=CZ(t,RZ(r.dataTransfer),ov?null:r.dataTransfer.getData("text/html"),!1,i);let l=!!(n&&FZ(t,r));if(t.someProp("handleDrop",v=>v(t,r,o||pr.empty,l))){r.preventDefault();return}if(!o)return;r.preventDefault();let c=o?tZ(t.state.doc,i.pos,o):i.pos;c==null&&(c=i.pos);let u=t.state.tr;if(l){let{node:v}=n;v?v.replace(u):u.deleteSelection()}let f=u.mapping.map(c),h=o.openStart==0&&o.openEnd==0&&o.content.childCount==1,g=u.doc;if(h?u.replaceRangeWith(f,f,o.content.firstChild):u.replaceRange(f,f,o),u.doc.eq(g))return;let p=u.doc.resolve(f);if(h&&Fr.isSelectable(o.content.firstChild)&&p.nodeAfter&&p.nodeAfter.sameMarkup(o.content.firstChild))u.setSelection(new Fr(p));else{let v=u.mapping.map(c);u.mapping.maps[u.mapping.maps.length-1].forEach((w,y,N,k)=>v=k),u.setSelection(ZD(t,p,u.doc.resolve(v)))}t.focus(),t.dispatch(u.setMeta("uiEvent","drop"))};Ho.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&_f(t)},20))};Ho.blur=(t,e)=>{let r=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),r.relatedTarget&&t.dom.contains(r.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};Ho.beforeinput=(t,e)=>{if(xo&&mf&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:n}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=n||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",i=>i(t,tp(8,"Backspace")))))return;let{$cursor:s}=t.state.selection;s&&s.pos>0&&t.dispatch(t.state.tr.delete(s.pos-1,s.pos).scrollIntoView())},50)}};for(let t in zo)Ho[t]=zo[t];function cv(t,e){if(t==e)return!0;for(let r in t)if(t[r]!==e[r])return!1;for(let r in e)if(!(r in t))return!1;return!0}class $j{constructor(e,r){this.toDOM=e,this.spec=r||Cp,this.side=this.spec.side||0}map(e,r,n,s){let{pos:i,deleted:o}=e.mapResult(r.from+s,this.side<0?-1:1);return o?null:new Po(i-n,i-n,this)}valid(){return!0}eq(e){return this==e||e instanceof $j&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&cv(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class sm{constructor(e,r){this.attrs=e,this.spec=r||Cp}map(e,r,n,s){let i=e.map(r.from+s,this.spec.inclusiveStart?-1:1)-n,o=e.map(r.to+s,this.spec.inclusiveEnd?1:-1)-n;return i>=o?null:new Po(i,o,this)}valid(e,r){return r.from<r.to}eq(e){return this==e||e instanceof sm&&cv(this.attrs,e.attrs)&&cv(this.spec,e.spec)}static is(e){return e.type instanceof sm}destroy(){}}class aP{constructor(e,r){this.attrs=e,this.spec=r||Cp}map(e,r,n,s){let i=e.mapResult(r.from+s,1);if(i.deleted)return null;let o=e.mapResult(r.to+s,-1);return o.deleted||o.pos<=i.pos?null:new Po(i.pos-n,o.pos-n,this)}valid(e,r){let{index:n,offset:s}=e.content.findIndex(r.from),i;return s==r.from&&!(i=e.child(n)).isText&&s+i.nodeSize==r.to}eq(e){return this==e||e instanceof aP&&cv(this.attrs,e.attrs)&&cv(this.spec,e.spec)}destroy(){}}class Po{constructor(e,r,n){this.from=e,this.to=r,this.type=n}copy(e,r){return new Po(e,r,this.type)}eq(e,r=0){return this.type.eq(e.type)&&this.from+r==e.from&&this.to+r==e.to}map(e,r,n){return this.type.map(e,this,r,n)}static widget(e,r,n){return new Po(e,e,new $j(r,n))}static inline(e,r,n,s){return new Po(e,r,new sm(n,s))}static node(e,r,n,s){return new Po(e,r,new aP(n,s))}get spec(){return this.type.spec}get inline(){return this.type instanceof sm}get widget(){return this.type instanceof $j}}const og=[],Cp={};class fs{constructor(e,r){this.local=e.length?e:og,this.children=r.length?r:og}static create(e,r){return r.length?Hj(r,e,0,Cp):fo}find(e,r,n){let s=[];return this.findInner(e??0,r??1e9,s,0,n),s}findInner(e,r,n,s,i){for(let o=0;o<this.local.length;o++){let l=this.local[o];l.from<=r&&l.to>=e&&(!i||i(l.spec))&&n.push(l.copy(l.from+s,l.to+s))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<r&&this.children[o+1]>e){let l=this.children[o]+1;this.children[o+2].findInner(e-l,r-l,n,s+l,i)}}map(e,r,n){return this==fo||e.maps.length==0?this:this.mapInner(e,r,0,0,n||Cp)}mapInner(e,r,n,s,i){let o;for(let l=0;l<this.local.length;l++){let c=this.local[l].map(e,n,s);c&&c.type.valid(r,c)?(o||(o=[])).push(c):i.onRemove&&i.onRemove(this.local[l].spec)}return this.children.length?TNe(this.children,o||[],e,r,n,s,i):o?new fs(o.sort(_p),og):fo}add(e,r){return r.length?this==fo?fs.create(e,r):this.addInner(e,r,0):this}addInner(e,r,n){let s,i=0;e.forEach((l,c)=>{let u=c+n,f;if(f=$Z(r,l,u)){for(s||(s=this.children.slice());i<s.length&&s[i]<c;)i+=3;s[i]==c?s[i+2]=s[i+2].addInner(l,f,u+1):s.splice(i,0,c,c+l.nodeSize,Hj(f,l,u+1,Cp)),i+=3}});let o=BZ(i?HZ(r):r,-n);for(let l=0;l<o.length;l++)o[l].type.valid(e,o[l])||o.splice(l--,1);return new fs(o.length?this.local.concat(o).sort(_p):this.local,s||this.children)}remove(e){return e.length==0||this==fo?this:this.removeInner(e,0)}removeInner(e,r){let n=this.children,s=this.local;for(let i=0;i<n.length;i+=3){let o,l=n[i]+r,c=n[i+1]+r;for(let f=0,h;f<e.length;f++)(h=e[f])&&h.from>l&&h.to<c&&(e[f]=null,(o||(o=[])).push(h));if(!o)continue;n==this.children&&(n=this.children.slice());let u=n[i+2].removeInner(o,l+1);u!=fo?n[i+2]=u:(n.splice(i,3),i-=3)}if(s.length){for(let i=0,o;i<e.length;i++)if(o=e[i])for(let l=0;l<s.length;l++)s[l].eq(o,r)&&(s==this.local&&(s=this.local.slice()),s.splice(l--,1))}return n==this.children&&s==this.local?this:s.length||n.length?new fs(s,n):fo}forChild(e,r){if(this==fo)return this;if(r.isLeaf)return fs.empty;let n,s;for(let l=0;l<this.children.length;l+=3)if(this.children[l]>=e){this.children[l]==e&&(n=this.children[l+2]);break}let i=e+1,o=i+r.content.size;for(let l=0;l<this.local.length;l++){let c=this.local[l];if(c.from<o&&c.to>i&&c.type instanceof sm){let u=Math.max(i,c.from)-i,f=Math.min(o,c.to)-i;u<f&&(s||(s=[])).push(c.copy(u,f))}}if(s){let l=new fs(s.sort(_p),og);return n?new zh([l,n]):l}return n||fo}eq(e){if(this==e)return!0;if(!(e instanceof fs)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let r=0;r<this.local.length;r++)if(!this.local[r].eq(e.local[r]))return!1;for(let r=0;r<this.children.length;r+=3)if(this.children[r]!=e.children[r]||this.children[r+1]!=e.children[r+1]||!this.children[r+2].eq(e.children[r+2]))return!1;return!0}locals(e){return sP(this.localsInner(e))}localsInner(e){if(this==fo)return og;if(e.inlineContent||!this.local.some(sm.is))return this.local;let r=[];for(let n=0;n<this.local.length;n++)this.local[n].type instanceof sm||r.push(this.local[n]);return r}forEachSet(e){e(this)}}fs.empty=new fs([],[]);fs.removeOverlap=sP;const fo=fs.empty;class zh{constructor(e){this.members=e}map(e,r){const n=this.members.map(s=>s.map(e,r,Cp));return zh.from(n)}forChild(e,r){if(r.isLeaf)return fs.empty;let n=[];for(let s=0;s<this.members.length;s++){let i=this.members[s].forChild(e,r);i!=fo&&(i instanceof zh?n=n.concat(i.members):n.push(i))}return zh.from(n)}eq(e){if(!(e instanceof zh)||e.members.length!=this.members.length)return!1;for(let r=0;r<this.members.length;r++)if(!this.members[r].eq(e.members[r]))return!1;return!0}locals(e){let r,n=!0;for(let s=0;s<this.members.length;s++){let i=this.members[s].localsInner(e);if(i.length)if(!r)r=i;else{n&&(r=r.slice(),n=!1);for(let o=0;o<i.length;o++)r.push(i[o])}}return r?sP(n?r:r.sort(_p)):og}static from(e){switch(e.length){case 0:return fo;case 1:return e[0];default:return new zh(e.every(r=>r instanceof fs)?e:e.reduce((r,n)=>r.concat(n instanceof fs?n:n.members),[]))}}forEachSet(e){for(let r=0;r<this.members.length;r++)this.members[r].forEachSet(e)}}function TNe(t,e,r,n,s,i,o){let l=t.slice();for(let u=0,f=i;u<r.maps.length;u++){let h=0;r.maps[u].forEach((g,p,v,w)=>{let y=w-v-(p-g);for(let N=0;N<l.length;N+=3){let k=l[N+1];if(k<0||g>k+f-h)continue;let S=l[N]+f-h;p>=S?l[N+1]=g<=S?-2:-1:g>=f&&y&&(l[N]+=y,l[N+1]+=y)}h+=y}),f=r.maps[u].map(f,-1)}let c=!1;for(let u=0;u<l.length;u+=3)if(l[u+1]<0){if(l[u+1]==-2){c=!0,l[u+1]=-1;continue}let f=r.map(t[u]+i),h=f-s;if(h<0||h>=n.content.size){c=!0;continue}let g=r.map(t[u+1]+i,-1),p=g-s,{index:v,offset:w}=n.content.findIndex(h),y=n.maybeChild(v);if(y&&w==h&&w+y.nodeSize==p){let N=l[u+2].mapInner(r,y,f+1,t[u]+i+1,o);N!=fo?(l[u]=h,l[u+1]=p,l[u+2]=N):(l[u+1]=-2,c=!0)}else c=!0}if(c){let u=MNe(l,t,e,r,s,i,o),f=Hj(u,n,0,o);e=f.local;for(let h=0;h<l.length;h+=3)l[h+1]<0&&(l.splice(h,3),h-=3);for(let h=0,g=0;h<f.children.length;h+=3){let p=f.children[h];for(;g<l.length&&l[g]<p;)g+=3;l.splice(g,0,f.children[h],f.children[h+1],f.children[h+2])}}return new fs(e.sort(_p),l)}function BZ(t,e){if(!e||!t.length)return t;let r=[];for(let n=0;n<t.length;n++){let s=t[n];r.push(new Po(s.from+e,s.to+e,s.type))}return r}function MNe(t,e,r,n,s,i,o){function l(c,u){for(let f=0;f<c.local.length;f++){let h=c.local[f].map(n,s,u);h?r.push(h):o.onRemove&&o.onRemove(c.local[f].spec)}for(let f=0;f<c.children.length;f+=3)l(c.children[f+2],c.children[f]+u+1)}for(let c=0;c<t.length;c+=3)t[c+1]==-1&&l(t[c+2],e[c]+i+1);return r}function $Z(t,e,r){if(e.isLeaf)return null;let n=r+e.nodeSize,s=null;for(let i=0,o;i<t.length;i++)(o=t[i])&&o.from>r&&o.to<n&&((s||(s=[])).push(o),t[i]=null);return s}function HZ(t){let e=[];for(let r=0;r<t.length;r++)t[r]!=null&&e.push(t[r]);return e}function Hj(t,e,r,n){let s=[],i=!1;e.forEach((l,c)=>{let u=$Z(t,l,c+r);if(u){i=!0;let f=Hj(u,l,r+c+1,n);f!=fo&&s.push(c,c+l.nodeSize,f)}});let o=BZ(i?HZ(t):t,-r).sort(_p);for(let l=0;l<o.length;l++)o[l].type.valid(e,o[l])||(n.onRemove&&n.onRemove(o[l].spec),o.splice(l--,1));return o.length||s.length?new fs(o,s):fo}function _p(t,e){return t.from-e.from||t.to-e.to}function sP(t){let e=t;for(let r=0;r<e.length-1;r++){let n=e[r];if(n.from!=n.to)for(let s=r+1;s<e.length;s++){let i=e[s];if(i.from==n.from){i.to!=n.to&&(e==t&&(e=t.slice()),e[s]=i.copy(i.from,n.to),KF(e,s+1,i.copy(n.to,i.to)));continue}else{i.from<n.to&&(e==t&&(e=t.slice()),e[r]=n.copy(n.from,i.from),KF(e,s,n.copy(i.from,n.to)));break}}}return e}function KF(t,e,r){for(;e<t.length&&_p(r,t[e])>0;)e++;t.splice(e,0,r)}function l_(t){let e=[];return t.someProp("decorations",r=>{let n=r(t.state);n&&n!=fo&&e.push(n)}),t.cursorWrapper&&e.push(fs.create(t.state.doc,[t.cursorWrapper.deco])),zh.from(e)}const ENe={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},ONe=ul&&nm<=11;class DNe{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class PNe{constructor(e,r){this.view=e,this.handleDOMChange=r,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new DNe,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(n=>{for(let s=0;s<n.length;s++)this.queue.push(n[s]);ul&&nm<=11&&n.some(s=>s.type=="childList"&&s.removedNodes.length||s.type=="characterData"&&s.oldValue.length>s.target.nodeValue.length)?this.flushSoon():this.flush()}),ONe&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,ENe)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let r=0;r<e.length;r++)this.queue.push(e[r]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(HF(this.view)){if(this.suppressingSelectionUpdates)return _f(this.view);if(ul&&nm<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Fp(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let r=new Set,n;for(let i=e.focusNode;i;i=tx(i))r.add(i);for(let i=e.anchorNode;i;i=tx(i))if(r.has(i)){n=i;break}let s=n&&this.view.docView.nearestDesc(n);if(s&&s.ignoreMutation({type:"selection",target:n.nodeType==3?n.parentNode:n}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let r=this.pendingRecords();r.length&&(this.queue=[]);let n=e.domSelectionRange(),s=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(n)&&HF(e)&&!this.ignoreSelectionChange(n),i=-1,o=-1,l=!1,c=[];if(e.editable)for(let f=0;f<r.length;f++){let h=this.registerMutation(r[f],c);h&&(i=i<0?h.from:Math.min(h.from,i),o=o<0?h.to:Math.max(h.to,o),h.typeOver&&(l=!0))}if(gc&&c.length){let f=c.filter(h=>h.nodeName=="BR");if(f.length==2){let[h,g]=f;h.parentNode&&h.parentNode.parentNode==g.parentNode?g.remove():h.remove()}else{let{focusNode:h}=this.currentSelection;for(let g of f){let p=g.parentNode;p&&p.nodeName=="LI"&&(!h||INe(e,h)!=p)&&g.remove()}}}let u=null;i<0&&s&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&XN(n)&&(u=QD(e))&&u.eq(yn.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,_f(e),this.currentSelection.set(n),e.scrollToSelection()):(i>-1||s)&&(i>-1&&(e.docView.markDirty(i,o),LNe(e)),this.handleDOMChange(i,o,l,c),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(n)||_f(e),this.currentSelection.set(n))}registerMutation(e,r){if(r.indexOf(e.target)>-1)return null;let n=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(n==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!n||n.ignoreMutation(e))return null;if(e.type=="childList"){for(let f=0;f<e.addedNodes.length;f++){let h=e.addedNodes[f];r.push(h),h.nodeType==3&&(this.lastChangedTextNode=h)}if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(e.target))return{from:n.posBefore,to:n.posAfter};let s=e.previousSibling,i=e.nextSibling;if(ul&&nm<=11&&e.addedNodes.length)for(let f=0;f<e.addedNodes.length;f++){let{previousSibling:h,nextSibling:g}=e.addedNodes[f];(!h||Array.prototype.indexOf.call(e.addedNodes,h)<0)&&(s=h),(!g||Array.prototype.indexOf.call(e.addedNodes,g)<0)&&(i=g)}let o=s&&s.parentNode==e.target?Gi(s)+1:0,l=n.localPosFromDOM(e.target,o,-1),c=i&&i.parentNode==e.target?Gi(i):e.target.childNodes.length,u=n.localPosFromDOM(e.target,c,1);return{from:l,to:u}}else return e.type=="attributes"?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:(this.lastChangedTextNode=e.target,{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let JF=new WeakMap,XF=!1;function LNe(t){if(!JF.has(t)&&(JF.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=gc,XF)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),XF=!0}}function QF(t,e){let r=e.startContainer,n=e.startOffset,s=e.endContainer,i=e.endOffset,o=t.domAtPos(t.state.selection.anchor);return Fp(o.node,o.offset,s,i)&&([r,n,s,i]=[s,i,r,n]),{anchorNode:r,anchorOffset:n,focusNode:s,focusOffset:i}}function RNe(t,e){if(e.getComposedRanges){let s=e.getComposedRanges(t.root)[0];if(s)return QF(t,s)}let r;function n(s){s.preventDefault(),s.stopImmediatePropagation(),r=s.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",n,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",n,!0),r?QF(t,r):null}function INe(t,e){for(let r=e.parentNode;r&&r!=t.dom;r=r.parentNode){let n=t.docView.nearestDesc(r,!0);if(n&&n.node.isBlock)return r}return null}function FNe(t,e,r){let{node:n,fromOffset:s,toOffset:i,from:o,to:l}=t.docView.parseRange(e,r),c=t.domSelectionRange(),u,f=c.anchorNode;if(f&&t.dom.contains(f.nodeType==1?f:f.parentNode)&&(u=[{node:f,offset:c.anchorOffset}],XN(c)||u.push({node:c.focusNode,offset:c.focusOffset})),xo&&t.input.lastKeyCode===8)for(let y=i;y>s;y--){let N=n.childNodes[y-1],k=N.pmViewDesc;if(N.nodeName=="BR"&&!k){i=y;break}if(!k||k.size)break}let h=t.state.doc,g=t.someProp("domParser")||rm.fromSchema(t.state.schema),p=h.resolve(o),v=null,w=g.parse(n,{topNode:p.parent,topMatch:p.parent.contentMatchAt(p.index()),topOpen:!0,from:s,to:i,preserveWhitespace:p.parent.type.whitespace=="pre"?"full":!0,findPositions:u,ruleFromNode:BNe,context:p});if(u&&u[0].pos!=null){let y=u[0].pos,N=u[1]&&u[1].pos;N==null&&(N=y),v={anchor:y+o,head:N+o}}return{doc:w,sel:v,from:o,to:l}}function BNe(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if($o&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let r=document.createElement("div");return r.appendChild(document.createElement("li")),{skip:r}}else if(t.parentNode.lastChild==t||$o&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const $Ne=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function HNe(t,e,r,n,s){let i=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let E=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,L=QD(t,E);if(L&&!t.state.selection.eq(L)){if(xo&&mf&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",F=>F(t,tp(13,"Enter"))))return;let R=t.state.tr.setSelection(L);E=="pointer"?R.setMeta("pointer",!0):E=="key"&&R.scrollIntoView(),i&&R.setMeta("composition",i),t.dispatch(R)}return}let o=t.state.doc.resolve(e),l=o.sharedDepth(r);e=o.before(l+1),r=t.state.doc.resolve(r).after(l+1);let c=t.state.selection,u=FNe(t,e,r),f=t.state.doc,h=f.slice(u.from,u.to),g,p;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(g=t.state.selection.to,p="end"):(g=t.state.selection.from,p="start"),t.input.lastKeyCode=null;let v=UNe(h.content,u.doc.content,u.from,g,p);if(v&&t.input.domChangeCount++,(rx&&t.input.lastIOSEnter>Date.now()-225||mf)&&s.some(E=>E.nodeType==1&&!$Ne.test(E.nodeName))&&(!v||v.endA>=v.endB)&&t.someProp("handleKeyDown",E=>E(t,tp(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!v)if(n&&c instanceof rn&&!c.empty&&c.$head.sameParent(c.$anchor)&&!t.composing&&!(u.sel&&u.sel.anchor!=u.sel.head))v={start:c.from,endA:c.to,endB:c.to};else{if(u.sel){let E=ZF(t,t.state.doc,u.sel);if(E&&!E.eq(t.state.selection)){let L=t.state.tr.setSelection(E);i&&L.setMeta("composition",i),t.dispatch(L)}}return}t.state.selection.from<t.state.selection.to&&v.start==v.endB&&t.state.selection instanceof rn&&(v.start>t.state.selection.from&&v.start<=t.state.selection.from+2&&t.state.selection.from>=u.from?v.start=t.state.selection.from:v.endA<t.state.selection.to&&v.endA>=t.state.selection.to-2&&t.state.selection.to<=u.to&&(v.endB+=t.state.selection.to-v.endA,v.endA=t.state.selection.to)),ul&&nm<=11&&v.endB==v.start+1&&v.endA==v.start&&v.start>u.from&&u.doc.textBetween(v.start-u.from-1,v.start-u.from+1)=="  "&&(v.start--,v.endA--,v.endB--);let w=u.doc.resolveNoCache(v.start-u.from),y=u.doc.resolveNoCache(v.endB-u.from),N=f.resolve(v.start),k=w.sameParent(y)&&w.parent.inlineContent&&N.end()>=v.endA;if((rx&&t.input.lastIOSEnter>Date.now()-225&&(!k||s.some(E=>E.nodeName=="DIV"||E.nodeName=="P"))||!k&&w.pos<u.doc.content.size&&(!w.sameParent(y)||!w.parent.inlineContent)&&w.pos<y.pos&&!/\S/.test(u.doc.textBetween(w.pos,y.pos,"","")))&&t.someProp("handleKeyDown",E=>E(t,tp(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>v.start&&qNe(f,v.start,v.endA,w,y)&&t.someProp("handleKeyDown",E=>E(t,tp(8,"Backspace")))){mf&&xo&&t.domObserver.suppressSelectionUpdates();return}xo&&v.endB==v.start&&(t.input.lastChromeDelete=Date.now()),mf&&!k&&w.start()!=y.start()&&y.parentOffset==0&&w.depth==y.depth&&u.sel&&u.sel.anchor==u.sel.head&&u.sel.head==v.endA&&(v.endB-=2,y=u.doc.resolveNoCache(v.endB-u.from),setTimeout(()=>{t.someProp("handleKeyDown",function(E){return E(t,tp(13,"Enter"))})},20));let S=v.start,T=v.endA,_=E=>{let L=E||t.state.tr.replace(S,T,u.doc.slice(v.start-u.from,v.endB-u.from));if(u.sel){let R=ZF(t,L.doc,u.sel);R&&!(xo&&t.composing&&R.empty&&(v.start!=v.endB||t.input.lastChromeDelete<Date.now()-100)&&(R.head==S||R.head==L.mapping.map(T)-1)||ul&&R.empty&&R.head==S)&&L.setSelection(R)}return i&&L.setMeta("composition",i),L.scrollIntoView()},D;if(k){if(w.pos==y.pos){ul&&nm<=11&&w.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>_f(t),20));let E=_(t.state.tr.delete(S,T)),L=f.resolve(v.start).marksAcross(f.resolve(v.endA));L&&E.ensureMarks(L),t.dispatch(E)}else if(v.endA==v.endB&&(D=zNe(w.parent.content.cut(w.parentOffset,y.parentOffset),N.parent.content.cut(N.parentOffset,v.endA-N.start())))){let E=_(t.state.tr);D.type=="add"?E.addMark(S,T,D.mark):E.removeMark(S,T,D.mark),t.dispatch(E)}else if(w.parent.child(w.index()).isText&&w.index()==y.index()-(y.textOffset?0:1)){let E=w.parent.textBetween(w.parentOffset,y.parentOffset),L=()=>_(t.state.tr.insertText(E,S,T));t.someProp("handleTextInput",R=>R(t,S,T,E,L))||t.dispatch(L())}}else t.dispatch(_())}function ZF(t,e,r){return Math.max(r.anchor,r.head)>e.content.size?null:ZD(t,e.resolve(r.anchor),e.resolve(r.head))}function zNe(t,e){let r=t.firstChild.marks,n=e.firstChild.marks,s=r,i=n,o,l,c;for(let f=0;f<n.length;f++)s=n[f].removeFromSet(s);for(let f=0;f<r.length;f++)i=r[f].removeFromSet(i);if(s.length==1&&i.length==0)l=s[0],o="add",c=f=>f.mark(l.addToSet(f.marks));else if(s.length==0&&i.length==1)l=i[0],o="remove",c=f=>f.mark(l.removeFromSet(f.marks));else return null;let u=[];for(let f=0;f<e.childCount;f++)u.push(c(e.child(f)));if(Yt.from(u).eq(t))return{mark:l,type:o}}function qNe(t,e,r,n,s){if(r-e<=s.pos-n.pos||c_(n,!0,!1)<s.pos)return!1;let i=t.resolve(e);if(!n.parent.isTextblock){let l=i.nodeAfter;return l!=null&&r==e+l.nodeSize}if(i.parentOffset<i.parent.content.size||!i.parent.isTextblock)return!1;let o=t.resolve(c_(i,!0,!0));return!o.parent.isTextblock||o.pos>r||c_(o,!0,!1)<r?!1:n.parent.content.cut(n.parentOffset).eq(o.parent.content)}function c_(t,e,r){let n=t.depth,s=e?t.end():t.pos;for(;n>0&&(e||t.indexAfter(n)==t.node(n).childCount);)n--,s++,e=!1;if(r){let i=t.node(n).maybeChild(t.indexAfter(n));for(;i&&!i.isLeaf;)i=i.firstChild,s++}return s}function UNe(t,e,r,n,s){let i=t.findDiffStart(e,r);if(i==null)return null;let{a:o,b:l}=t.findDiffEnd(e,r+t.size,r+e.size);if(s=="end"){let c=Math.max(0,i-Math.min(o,l));n-=o+c-i}if(o<i&&t.size<e.size){let c=n<=i&&n>=o?i-n:0;i-=c,i&&i<e.size&&eB(e.textBetween(i-1,i+1))&&(i+=c?1:-1),l=i+(l-o),o=i}else if(l<i){let c=n<=i&&n>=l?i-n:0;i-=c,i&&i<t.size&&eB(t.textBetween(i-1,i+1))&&(i+=c?1:-1),o=i+(o-l),l=i}return{start:i,endA:o,endB:l}}function eB(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),r=t.charCodeAt(1);return e>=56320&&e<=57343&&r>=55296&&r<=56319}class zZ{constructor(e,r){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new cNe,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=r,this.state=r.state,this.directPlugins=r.plugins||[],this.directPlugins.forEach(sB),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=nB(this),rB(this),this.nodeViews=aB(this),this.docView=LF(this.state.doc,tB(this),l_(this),this.dom,this),this.domObserver=new PNe(this,(n,s,i,o)=>HNe(this,n,s,i,o)),this.domObserver.start(),uNe(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let r in e)this._props[r]=e[r];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&FM(this);let r=this._props;this._props=e,e.plugins&&(e.plugins.forEach(sB),this.directPlugins=e.plugins),this.updateStateInner(e.state,r)}setProps(e){let r={};for(let n in this._props)r[n]=this._props[n];r.state=this.state;for(let n in e)r[n]=e[n];this.update(r)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,r){var n;let s=this.state,i=!1,o=!1;e.storedMarks&&this.composing&&(LZ(this),o=!0),this.state=e;let l=s.plugins!=e.plugins||this._props.plugins!=r.plugins;if(l||this._props.plugins!=r.plugins||this._props.nodeViews!=r.nodeViews){let p=aB(this);VNe(p,this.nodeViews)&&(this.nodeViews=p,i=!0)}(l||r.handleDOMEvents!=this._props.handleDOMEvents)&&FM(this),this.editable=nB(this),rB(this);let c=l_(this),u=tB(this),f=s.plugins!=e.plugins&&!s.doc.eq(e.doc)?"reset":e.scrollToSelection>s.scrollToSelection?"to selection":"preserve",h=i||!this.docView.matchesNode(e.doc,u,c);(h||!e.selection.eq(s.selection))&&(o=!0);let g=f=="preserve"&&o&&this.dom.style.overflowAnchor==null&&S5e(this);if(o){this.domObserver.stop();let p=h&&(ul||xo)&&!this.composing&&!s.selection.empty&&!e.selection.empty&&WNe(s.selection,e.selection);if(h){let v=xo?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=NNe(this)),(i||!this.docView.update(e.doc,u,c,this))&&(this.docView.updateOuterDeco(u),this.docView.destroy(),this.docView=LF(e.doc,u,c,this.dom,this)),v&&!this.trackWrites&&(p=!0)}p||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&Y5e(this))?_f(this,p):(NZ(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(s),!((n=this.dragging)===null||n===void 0)&&n.node&&!s.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,s),f=="reset"?this.dom.scrollTop=0:f=="to selection"?this.scrollToSelection():g&&k5e(g)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",r=>r(this)))if(this.state.selection instanceof Fr){let r=this.docView.domAfterPos(this.state.selection.from);r.nodeType==1&&TF(this,r.getBoundingClientRect(),e)}else TF(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let r=0;r<this.directPlugins.length;r++){let n=this.directPlugins[r];n.spec.view&&this.pluginViews.push(n.spec.view(this))}for(let r=0;r<this.state.plugins.length;r++){let n=this.state.plugins[r];n.spec.view&&this.pluginViews.push(n.spec.view(this))}}else for(let r=0;r<this.pluginViews.length;r++){let n=this.pluginViews[r];n.update&&n.update(this,e)}}updateDraggedNode(e,r){let n=e.node,s=-1;if(this.state.doc.nodeAt(n.from)==n.node)s=n.from;else{let i=n.from+(this.state.doc.content.size-r.doc.content.size);(i>0&&this.state.doc.nodeAt(i))==n.node&&(s=i)}this.dragging=new IZ(e.slice,e.move,s<0?void 0:Fr.create(this.state.doc,s))}someProp(e,r){let n=this._props&&this._props[e],s;if(n!=null&&(s=r?r(n):n))return s;for(let o=0;o<this.directPlugins.length;o++){let l=this.directPlugins[o].props[e];if(l!=null&&(s=r?r(l):l))return s}let i=this.state.plugins;if(i)for(let o=0;o<i.length;o++){let l=i[o].props[e];if(l!=null&&(s=r?r(l):l))return s}}hasFocus(){if(ul){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&C5e(this.dom),_f(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let r=this.dom.parentNode;r;r=r.parentNode)if(r.nodeType==9||r.nodeType==11&&r.host)return r.getSelection||(Object.getPrototypeOf(r).getSelection=()=>r.ownerDocument.getSelection()),this._root=r}return e||document}updateRoot(){this._root=null}posAtCoords(e){return E5e(this,e)}coordsAtPos(e,r=1){return pZ(this,e,r)}domAtPos(e,r=0){return this.docView.domFromPos(e,r)}nodeDOM(e){let r=this.docView.descAt(e);return r?r.nodeDOM:null}posAtDOM(e,r,n=-1){let s=this.docView.posFromDOM(e,r,n);if(s==null)throw new RangeError("DOM position not inside the editor");return s}endOfTextblock(e,r){return R5e(this,r||this.state,e)}pasteHTML(e,r){return lv(this,"",e,!1,r||new ClipboardEvent("paste"))}pasteText(e,r){return lv(this,e,null,!0,r||new ClipboardEvent("paste"))}serializeForClipboard(e){return eP(this,e)}destroy(){this.docView&&(dNe(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],l_(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,h5e())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return hNe(this,e)}domSelectionRange(){let e=this.domSelection();return e?$o&&this.root.nodeType===11&&b5e(this.dom.ownerDocument)==this.dom&&RNe(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}zZ.prototype.dispatch=function(t){let e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))};function tB(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",r=>{if(typeof r=="function"&&(r=r(t.state)),r)for(let n in r)n=="class"?e.class+=" "+r[n]:n=="style"?e.style=(e.style?e.style+";":"")+r[n]:!e[n]&&n!="contenteditable"&&n!="nodeName"&&(e[n]=String(r[n]))}),e.translate||(e.translate="no"),[Po.node(0,t.state.doc.content.size,e)]}function rB(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:Po.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function nB(t){return!t.someProp("editable",e=>e(t.state)===!1)}function WNe(t,e){let r=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(r)!=e.$anchor.start(r)}function aB(t){let e=Object.create(null);function r(n){for(let s in n)Object.prototype.hasOwnProperty.call(e,s)||(e[s]=n[s])}return t.someProp("nodeViews",r),t.someProp("markViews",r),e}function VNe(t,e){let r=0,n=0;for(let s in t){if(t[s]!=e[s])return!0;r++}for(let s in e)n++;return r!=n}function sB(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var hm={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},zj={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},GNe=typeof navigator<"u"&&/Mac/.test(navigator.platform),YNe=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Yi=0;Yi<10;Yi++)hm[48+Yi]=hm[96+Yi]=String(Yi);for(var Yi=1;Yi<=24;Yi++)hm[Yi+111]="F"+Yi;for(var Yi=65;Yi<=90;Yi++)hm[Yi]=String.fromCharCode(Yi+32),zj[Yi]=String.fromCharCode(Yi);for(var u_ in hm)zj.hasOwnProperty(u_)||(zj[u_]=hm[u_]);function KNe(t){var e=GNe&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||YNe&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",r=!e&&t.key||(t.shiftKey?zj:hm)[t.keyCode]||t.key||"Unidentified";return r=="Esc"&&(r="Escape"),r=="Del"&&(r="Delete"),r=="Left"&&(r="ArrowLeft"),r=="Up"&&(r="ArrowUp"),r=="Right"&&(r="ArrowRight"),r=="Down"&&(r="ArrowDown"),r}const JNe=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),XNe=typeof navigator<"u"&&/Win/.test(navigator.platform);function QNe(t){let e=t.split(/-(?!$)/),r=e[e.length-1];r=="Space"&&(r=" ");let n,s,i,o;for(let l=0;l<e.length-1;l++){let c=e[l];if(/^(cmd|meta|m)$/i.test(c))o=!0;else if(/^a(lt)?$/i.test(c))n=!0;else if(/^(c|ctrl|control)$/i.test(c))s=!0;else if(/^s(hift)?$/i.test(c))i=!0;else if(/^mod$/i.test(c))JNe?o=!0:s=!0;else throw new Error("Unrecognized modifier name: "+c)}return n&&(r="Alt-"+r),s&&(r="Ctrl-"+r),o&&(r="Meta-"+r),i&&(r="Shift-"+r),r}function ZNe(t){let e=Object.create(null);for(let r in t)e[QNe(r)]=t[r];return e}function d_(t,e,r=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),r&&e.shiftKey&&(t="Shift-"+t),t}function eSe(t){return new Ps({props:{handleKeyDown:qZ(t)}})}function qZ(t){let e=ZNe(t);return function(r,n){let s=KNe(n),i,o=e[d_(s,n)];if(o&&o(r.state,r.dispatch,r))return!0;if(s.length==1&&s!=" "){if(n.shiftKey){let l=e[d_(s,n,!1)];if(l&&l(r.state,r.dispatch,r))return!0}if((n.altKey||n.metaKey||n.ctrlKey)&&!(XNe&&n.ctrlKey&&n.altKey)&&(i=hm[n.keyCode])&&i!=s){let l=e[d_(i,n)];if(l&&l(r.state,r.dispatch,r))return!0}}return!1}}const iP=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function UZ(t,e){let{$cursor:r}=t.selection;return!r||(e?!e.endOfTextblock("backward",t):r.parentOffset>0)?null:r}const WZ=(t,e,r)=>{let n=UZ(t,r);if(!n)return!1;let s=oP(n);if(!s){let o=n.blockRange(),l=o&&Bx(o);return l==null?!1:(e&&e(t.tr.lift(o,l).scrollIntoView()),!0)}let i=s.nodeBefore;if(eee(t,s,e,-1))return!0;if(n.parent.content.size==0&&(nx(i,"end")||Fr.isSelectable(i)))for(let o=n.depth;;o--){let l=KN(t.doc,n.before(o),n.after(o),pr.empty);if(l&&l.slice.size<l.to-l.from){if(e){let c=t.tr.step(l);c.setSelection(nx(i,"end")?yn.findFrom(c.doc.resolve(c.mapping.map(s.pos,-1)),-1):Fr.create(c.doc,s.pos-i.nodeSize)),e(c.scrollIntoView())}return!0}if(o==1||n.node(o-1).childCount>1)break}return i.isAtom&&s.depth==n.depth-1?(e&&e(t.tr.delete(s.pos-i.nodeSize,s.pos).scrollIntoView()),!0):!1},tSe=(t,e,r)=>{let n=UZ(t,r);if(!n)return!1;let s=oP(n);return s?VZ(t,s,e):!1},rSe=(t,e,r)=>{let n=YZ(t,r);if(!n)return!1;let s=lP(n);return s?VZ(t,s,e):!1};function VZ(t,e,r){let n=e.nodeBefore,s=n,i=e.pos-1;for(;!s.isTextblock;i--){if(s.type.spec.isolating)return!1;let f=s.lastChild;if(!f)return!1;s=f}let o=e.nodeAfter,l=o,c=e.pos+1;for(;!l.isTextblock;c++){if(l.type.spec.isolating)return!1;let f=l.firstChild;if(!f)return!1;l=f}let u=KN(t.doc,i,c,pr.empty);if(!u||u.from!=i||u instanceof Mi&&u.slice.size>=c-i)return!1;if(r){let f=t.tr.step(u);f.setSelection(rn.create(f.doc,i)),r(f.scrollIntoView())}return!0}function nx(t,e,r=!1){for(let n=t;n;n=e=="start"?n.firstChild:n.lastChild){if(n.isTextblock)return!0;if(r&&n.childCount!=1)return!1}return!1}const GZ=(t,e,r)=>{let{$head:n,empty:s}=t.selection,i=n;if(!s)return!1;if(n.parent.isTextblock){if(r?!r.endOfTextblock("backward",t):n.parentOffset>0)return!1;i=oP(n)}let o=i&&i.nodeBefore;return!o||!Fr.isSelectable(o)?!1:(e&&e(t.tr.setSelection(Fr.create(t.doc,i.pos-o.nodeSize)).scrollIntoView()),!0)};function oP(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function YZ(t,e){let{$cursor:r}=t.selection;return!r||(e?!e.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)?null:r}const KZ=(t,e,r)=>{let n=YZ(t,r);if(!n)return!1;let s=lP(n);if(!s)return!1;let i=s.nodeAfter;if(eee(t,s,e,1))return!0;if(n.parent.content.size==0&&(nx(i,"start")||Fr.isSelectable(i))){let o=KN(t.doc,n.before(),n.after(),pr.empty);if(o&&o.slice.size<o.to-o.from){if(e){let l=t.tr.step(o);l.setSelection(nx(i,"start")?yn.findFrom(l.doc.resolve(l.mapping.map(s.pos)),1):Fr.create(l.doc,l.mapping.map(s.pos))),e(l.scrollIntoView())}return!0}}return i.isAtom&&s.depth==n.depth-1?(e&&e(t.tr.delete(s.pos,s.pos+i.nodeSize).scrollIntoView()),!0):!1},JZ=(t,e,r)=>{let{$head:n,empty:s}=t.selection,i=n;if(!s)return!1;if(n.parent.isTextblock){if(r?!r.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)return!1;i=lP(n)}let o=i&&i.nodeAfter;return!o||!Fr.isSelectable(o)?!1:(e&&e(t.tr.setSelection(Fr.create(t.doc,i.pos)).scrollIntoView()),!0)};function lP(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let r=t.node(e);if(t.index(e)+1<r.childCount)return t.doc.resolve(t.after(e+1));if(r.type.spec.isolating)break}return null}const nSe=(t,e)=>{let r=t.selection,n=r instanceof Fr,s;if(n){if(r.node.isTextblock||!bm(t.doc,r.from))return!1;s=r.from}else if(s=YN(t.doc,r.from,-1),s==null)return!1;if(e){let i=t.tr.join(s);n&&i.setSelection(Fr.create(i.doc,s-t.doc.resolve(s).nodeBefore.nodeSize)),e(i.scrollIntoView())}return!0},aSe=(t,e)=>{let r=t.selection,n;if(r instanceof Fr){if(r.node.isTextblock||!bm(t.doc,r.to))return!1;n=r.to}else if(n=YN(t.doc,r.to,1),n==null)return!1;return e&&e(t.tr.join(n).scrollIntoView()),!0},sSe=(t,e)=>{let{$from:r,$to:n}=t.selection,s=r.blockRange(n),i=s&&Bx(s);return i==null?!1:(e&&e(t.tr.lift(s,i).scrollIntoView()),!0)},XZ=(t,e)=>{let{$head:r,$anchor:n}=t.selection;return!r.parent.type.spec.code||!r.sameParent(n)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function cP(t){for(let e=0;e<t.edgeCount;e++){let{type:r}=t.edge(e);if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}const iSe=(t,e)=>{let{$head:r,$anchor:n}=t.selection;if(!r.parent.type.spec.code||!r.sameParent(n))return!1;let s=r.node(-1),i=r.indexAfter(-1),o=cP(s.contentMatchAt(i));if(!o||!s.canReplaceWith(i,i,o))return!1;if(e){let l=r.after(),c=t.tr.replaceWith(l,l,o.createAndFill());c.setSelection(yn.near(c.doc.resolve(l),1)),e(c.scrollIntoView())}return!0},QZ=(t,e)=>{let r=t.selection,{$from:n,$to:s}=r;if(r instanceof Ol||n.parent.inlineContent||s.parent.inlineContent)return!1;let i=cP(s.parent.contentMatchAt(s.indexAfter()));if(!i||!i.isTextblock)return!1;if(e){let o=(!n.parentOffset&&s.index()<s.parent.childCount?n:s).pos,l=t.tr.insert(o,i.createAndFill());l.setSelection(rn.create(l.doc,o+1)),e(l.scrollIntoView())}return!0},ZZ=(t,e)=>{let{$cursor:r}=t.selection;if(!r||r.parent.content.size)return!1;if(r.depth>1&&r.after()!=r.end(-1)){let i=r.before();if(Cf(t.doc,i))return e&&e(t.tr.split(i).scrollIntoView()),!0}let n=r.blockRange(),s=n&&Bx(n);return s==null?!1:(e&&e(t.tr.lift(n,s).scrollIntoView()),!0)};function oSe(t){return(e,r)=>{let{$from:n,$to:s}=e.selection;if(e.selection instanceof Fr&&e.selection.node.isBlock)return!n.parentOffset||!Cf(e.doc,n.pos)?!1:(r&&r(e.tr.split(n.pos).scrollIntoView()),!0);if(!n.depth)return!1;let i=[],o,l,c=!1,u=!1;for(let p=n.depth;;p--)if(n.node(p).isBlock){c=n.end(p)==n.pos+(n.depth-p),u=n.start(p)==n.pos-(n.depth-p),l=cP(n.node(p-1).contentMatchAt(n.indexAfter(p-1))),i.unshift(c&&l?{type:l}:null),o=p;break}else{if(p==1)return!1;i.unshift(null)}let f=e.tr;(e.selection instanceof rn||e.selection instanceof Ol)&&f.deleteSelection();let h=f.mapping.map(n.pos),g=Cf(f.doc,h,i.length,i);if(g||(i[0]=l?{type:l}:null,g=Cf(f.doc,h,i.length,i)),!g)return!1;if(f.split(h,i.length,i),!c&&u&&n.node(o).type!=l){let p=f.mapping.map(n.before(o)),v=f.doc.resolve(p);l&&n.node(o-1).canReplaceWith(v.index(),v.index()+1,l)&&f.setNodeMarkup(f.mapping.map(n.before(o)),l)}return r&&r(f.scrollIntoView()),!0}}const lSe=oSe(),cSe=(t,e)=>{let{$from:r,to:n}=t.selection,s,i=r.sharedDepth(n);return i==0?!1:(s=r.before(i),e&&e(t.tr.setSelection(Fr.create(t.doc,s))),!0)};function uSe(t,e,r){let n=e.nodeBefore,s=e.nodeAfter,i=e.index();return!n||!s||!n.type.compatibleContent(s.type)?!1:!n.content.size&&e.parent.canReplace(i-1,i)?(r&&r(t.tr.delete(e.pos-n.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(i,i+1)||!(s.isTextblock||bm(t.doc,e.pos))?!1:(r&&r(t.tr.join(e.pos).scrollIntoView()),!0)}function eee(t,e,r,n){let s=e.nodeBefore,i=e.nodeAfter,o,l,c=s.type.spec.isolating||i.type.spec.isolating;if(!c&&uSe(t,e,r))return!0;let u=!c&&e.parent.canReplace(e.index(),e.index()+1);if(u&&(o=(l=s.contentMatchAt(s.childCount)).findWrapping(i.type))&&l.matchType(o[0]||i.type).validEnd){if(r){let p=e.pos+i.nodeSize,v=Yt.empty;for(let N=o.length-1;N>=0;N--)v=Yt.from(o[N].create(null,v));v=Yt.from(s.copy(v));let w=t.tr.step(new Oi(e.pos-1,p,e.pos,p,new pr(v,1,0),o.length,!0)),y=w.doc.resolve(p+2*o.length);y.nodeAfter&&y.nodeAfter.type==s.type&&bm(w.doc,y.pos)&&w.join(y.pos),r(w.scrollIntoView())}return!0}let f=i.type.spec.isolating||n>0&&c?null:yn.findFrom(e,1),h=f&&f.$from.blockRange(f.$to),g=h&&Bx(h);if(g!=null&&g>=e.depth)return r&&r(t.tr.lift(h,g).scrollIntoView()),!0;if(u&&nx(i,"start",!0)&&nx(s,"end")){let p=s,v=[];for(;v.push(p),!p.isTextblock;)p=p.lastChild;let w=i,y=1;for(;!w.isTextblock;w=w.firstChild)y++;if(p.canReplace(p.childCount,p.childCount,w.content)){if(r){let N=Yt.empty;for(let S=v.length-1;S>=0;S--)N=Yt.from(v[S].copy(N));let k=t.tr.step(new Oi(e.pos-v.length,e.pos+i.nodeSize,e.pos+y,e.pos+i.nodeSize-y,new pr(N,v.length,0),0,!0));r(k.scrollIntoView())}return!0}}return!1}function tee(t){return function(e,r){let n=e.selection,s=t<0?n.$from:n.$to,i=s.depth;for(;s.node(i).isInline;){if(!i)return!1;i--}return s.node(i).isTextblock?(r&&r(e.tr.setSelection(rn.create(e.doc,t<0?s.start(i):s.end(i)))),!0):!1}}const dSe=tee(-1),fSe=tee(1);function hSe(t,e=null){return function(r,n){let{$from:s,$to:i}=r.selection,o=s.blockRange(i),l=o&&KD(o,t,e);return l?(n&&n(r.tr.wrap(o,l).scrollIntoView()),!0):!1}}function iB(t,e=null){return function(r,n){let s=!1;for(let i=0;i<r.selection.ranges.length&&!s;i++){let{$from:{pos:o},$to:{pos:l}}=r.selection.ranges[i];r.doc.nodesBetween(o,l,(c,u)=>{if(s)return!1;if(!(!c.isTextblock||c.hasMarkup(t,e)))if(c.type==t)s=!0;else{let f=r.doc.resolve(u),h=f.index();s=f.parent.canReplaceWith(h,h+1,t)}})}if(!s)return!1;if(n){let i=r.tr;for(let o=0;o<r.selection.ranges.length;o++){let{$from:{pos:l},$to:{pos:c}}=r.selection.ranges[o];i.setBlockType(l,c,t,e)}n(i.scrollIntoView())}return!0}}function uP(...t){return function(e,r,n){for(let s=0;s<t.length;s++)if(t[s](e,r,n))return!0;return!1}}uP(iP,WZ,GZ);uP(iP,KZ,JZ);uP(XZ,QZ,ZZ,lSe);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function mSe(t,e=null){return function(r,n){let{$from:s,$to:i}=r.selection,o=s.blockRange(i);if(!o)return!1;let l=n?r.tr:null;return pSe(l,o,t,e)?(n&&n(l.scrollIntoView()),!0):!1}}function pSe(t,e,r,n=null){let s=!1,i=e,o=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(r)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let c=o.resolve(e.start-2);i=new Lj(c,c,e.depth),e.endIndex<e.parent.childCount&&(e=new Lj(e.$from,o.resolve(e.$to.end(e.depth)),e.depth)),s=!0}let l=KD(i,r,n,e);return l?(t&&gSe(t,e,l,s,r),!0):!1}function gSe(t,e,r,n,s){let i=Yt.empty;for(let f=r.length-1;f>=0;f--)i=Yt.from(r[f].type.create(r[f].attrs,i));t.step(new Oi(e.start-(n?2:0),e.end,e.start,e.end,new pr(i,0,0),r.length,!0));let o=0;for(let f=0;f<r.length;f++)r[f].type==s&&(o=f+1);let l=r.length-o,c=e.start+r.length-(n?2:0),u=e.parent;for(let f=e.startIndex,h=e.endIndex,g=!0;f<h;f++,g=!1)!g&&Cf(t.doc,c,l)&&(t.split(c,l),c+=2*l),c+=u.child(f).nodeSize;return t}function xSe(t){return function(e,r){let{$from:n,$to:s}=e.selection,i=n.blockRange(s,o=>o.childCount>0&&o.firstChild.type==t);return i?r?n.node(i.depth-1).type==t?bSe(e,r,t,i):ySe(e,r,i):!0:!1}}function bSe(t,e,r,n){let s=t.tr,i=n.end,o=n.$to.end(n.depth);i<o&&(s.step(new Oi(i-1,o,i,o,new pr(Yt.from(r.create(null,n.parent.copy())),1,0),1,!0)),n=new Lj(s.doc.resolve(n.$from.pos),s.doc.resolve(o),n.depth));const l=Bx(n);if(l==null)return!1;s.lift(n,l);let c=s.doc.resolve(s.mapping.map(i,-1)-1);return bm(s.doc,c.pos)&&c.nodeBefore.type==c.nodeAfter.type&&s.join(c.pos),e(s.scrollIntoView()),!0}function ySe(t,e,r){let n=t.tr,s=r.parent;for(let p=r.end,v=r.endIndex-1,w=r.startIndex;v>w;v--)p-=s.child(v).nodeSize,n.delete(p-1,p+1);let i=n.doc.resolve(r.start),o=i.nodeAfter;if(n.mapping.map(r.end)!=r.start+i.nodeAfter.nodeSize)return!1;let l=r.startIndex==0,c=r.endIndex==s.childCount,u=i.node(-1),f=i.index(-1);if(!u.canReplace(f+(l?0:1),f+1,o.content.append(c?Yt.empty:Yt.from(s))))return!1;let h=i.pos,g=h+o.nodeSize;return n.step(new Oi(h-(l?1:0),g+(c?1:0),h+1,g-1,new pr((l?Yt.empty:Yt.from(s.copy(Yt.empty))).append(c?Yt.empty:Yt.from(s.copy(Yt.empty))),l?0:1,c?0:1),l?0:1)),e(n.scrollIntoView()),!0}function vSe(t){return function(e,r){let{$from:n,$to:s}=e.selection,i=n.blockRange(s,u=>u.childCount>0&&u.firstChild.type==t);if(!i)return!1;let o=i.startIndex;if(o==0)return!1;let l=i.parent,c=l.child(o-1);if(c.type!=t)return!1;if(r){let u=c.lastChild&&c.lastChild.type==l.type,f=Yt.from(u?t.create():null),h=new pr(Yt.from(t.create(null,Yt.from(l.type.create(null,f)))),u?3:1,0),g=i.start,p=i.end;r(e.tr.step(new Oi(g-(u?3:1),p,g,p,h,1,!0)).scrollIntoView())}return!0}}var wSe=Object.defineProperty,ree=(t,e)=>{for(var r in e)wSe(t,r,{get:e[r],enumerable:!0})};function eS(t){const{state:e,transaction:r}=t;let{selection:n}=r,{doc:s}=r,{storedMarks:i}=r;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return i},get selection(){return n},get doc(){return s},get tr(){return n=r.selection,s=r.doc,i=r.storedMarks,r}}}var tS=class{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:e,state:r}=this,{view:n}=e,{tr:s}=r,i=this.buildProps(s);return Object.fromEntries(Object.entries(t).map(([o,l])=>[o,(...u)=>{const f=l(...u)(i);return!s.getMeta("preventDispatch")&&!this.hasCustomState&&n.dispatch(s),f}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,e=!0){const{rawCommands:r,editor:n,state:s}=this,{view:i}=n,o=[],l=!!t,c=t||s.tr,u=()=>(!l&&e&&!c.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(c),o.every(h=>h===!0)),f={...Object.fromEntries(Object.entries(r).map(([h,g])=>[h,(...v)=>{const w=this.buildProps(c,e),y=g(...v)(w);return o.push(y),f}])),run:u};return f}createCan(t){const{rawCommands:e,state:r}=this,n=!1,s=t||r.tr,i=this.buildProps(s,n);return{...Object.fromEntries(Object.entries(e).map(([l,c])=>[l,(...u)=>c(...u)({...i,dispatch:void 0})])),chain:()=>this.createChain(s,n)}}buildProps(t,e=!0){const{rawCommands:r,editor:n,state:s}=this,{view:i}=n,o={tr:t,editor:n,view:i,state:eS({state:s,transaction:t}),dispatch:e?()=>{}:void 0,chain:()=>this.createChain(t,e),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(r).map(([l,c])=>[l,(...u)=>c(...u)(o)]))}};return o}},jSe=class{constructor(){this.callbacks={}}on(e,r){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(r),this}emit(e,...r){const n=this.callbacks[e];return n&&n.forEach(s=>s.apply(this,r)),this}off(e,r){const n=this.callbacks[e];return n&&(r?this.callbacks[e]=n.filter(s=>s!==r):delete this.callbacks[e]),this}once(e,r){const n=(...s)=>{this.off(e,n),r.apply(this,s)};return this.on(e,n)}removeAllListeners(){this.callbacks={}}};function nee(t,e){const r=new iZ(t);return e.forEach(n=>{n.steps.forEach(s=>{r.step(s)})}),r}var aee=t=>{const e=t.childNodes;for(let r=e.length-1;r>=0;r-=1){const n=e[r];n.nodeType===3&&n.nodeValue&&/^(\n\s\s|\n)$/.test(n.nodeValue)?t.removeChild(n):n.nodeType===1&&aee(n)}return t};function Hw(t){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const e=`<body>${t}</body>`,r=new window.DOMParser().parseFromString(e,"text/html").body;return aee(r)}function uv(t,e,r){if(t instanceof tm||t instanceof Yt)return t;r={slice:!0,parseOptions:{},...r};const n=typeof t=="object"&&t!==null,s=typeof t=="string";if(n)try{if(Array.isArray(t)&&t.length>0)return Yt.fromArray(t.map(l=>e.nodeFromJSON(l)));const o=e.nodeFromJSON(t);return r.errorOnInvalidContent&&o.check(),o}catch(i){if(r.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:i});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",i),uv("",e,r)}if(s){if(r.errorOnInvalidContent){let o=!1,l="";const c=new UQ({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:u=>(o=!0,l=typeof u=="string"?u:u.outerHTML,null)}]}})});if(r.slice?rm.fromSchema(c).parseSlice(Hw(t),r.parseOptions):rm.fromSchema(c).parse(Hw(t),r.parseOptions),r.errorOnInvalidContent&&o)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${l}`)})}const i=rm.fromSchema(e);return r.slice?i.parseSlice(Hw(t),r.parseOptions).content:i.parse(Hw(t),r.parseOptions)}return uv("",e,r)}function BM(t,e,r={},n={}){return uv(t,e,{slice:!1,parseOptions:r,errorOnInvalidContent:n.errorOnInvalidContent})}function NSe(t){for(let e=0;e<t.edgeCount;e+=1){const{type:r}=t.edge(e);if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}function SSe(t,e,r){const n=[];return t.nodesBetween(e.from,e.to,(s,i)=>{r(s)&&n.push({node:s,pos:i})}),n}function kSe(t,e){for(let r=t.depth;r>0;r-=1){const n=t.node(r);if(e(n))return{pos:r>0?t.before(r):0,start:t.start(r),depth:r,node:n}}}function rS(t){return e=>kSe(e.$from,t)}function Lr(t,e,r){return t.config[e]===void 0&&t.parent?Lr(t.parent,e,r):typeof t.config[e]=="function"?t.config[e].bind({...r,parent:t.parent?Lr(t.parent,e,r):null}):t.config[e]}function dP(t){return t.map(e=>{const r={name:e.name,options:e.options,storage:e.storage},n=Lr(e,"addExtensions",r);return n?[e,...dP(n())]:e}).flat(10)}function fP(t,e){const r=Zp.fromSchema(e).serializeFragment(t),s=document.implementation.createHTMLDocument().createElement("div");return s.appendChild(r),s.innerHTML}function see(t){return typeof t=="function"}function ha(t,e=void 0,...r){return see(t)?e?t.bind(e)(...r):t(...r):t}function CSe(t={}){return Object.keys(t).length===0&&t.constructor===Object}function dv(t){const e=t.filter(s=>s.type==="extension"),r=t.filter(s=>s.type==="node"),n=t.filter(s=>s.type==="mark");return{baseExtensions:e,nodeExtensions:r,markExtensions:n}}function iee(t){const e=[],{nodeExtensions:r,markExtensions:n}=dv(t),s=[...r,...n],i={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(o=>{const l={name:o.name,options:o.options,storage:o.storage,extensions:s},c=Lr(o,"addGlobalAttributes",l);if(!c)return;c().forEach(f=>{f.types.forEach(h=>{Object.entries(f.attributes).forEach(([g,p])=>{e.push({type:h,name:g,attribute:{...i,...p}})})})})}),s.forEach(o=>{const l={name:o.name,options:o.options,storage:o.storage},c=Lr(o,"addAttributes",l);if(!c)return;const u=c();Object.entries(u).forEach(([f,h])=>{const g={...i,...h};typeof(g==null?void 0:g.default)=="function"&&(g.default=g.default()),g!=null&&g.isRequired&&(g==null?void 0:g.default)===void 0&&delete g.default,e.push({type:o.name,name:f,attribute:g})})}),e}function Os(...t){return t.filter(e=>!!e).reduce((e,r)=>{const n={...e};return Object.entries(r).forEach(([s,i])=>{if(!n[s]){n[s]=i;return}if(s==="class"){const l=i?String(i).split(" "):[],c=n[s]?n[s].split(" "):[],u=l.filter(f=>!c.includes(f));n[s]=[...c,...u].join(" ")}else if(s==="style"){const l=i?i.split(";").map(f=>f.trim()).filter(Boolean):[],c=n[s]?n[s].split(";").map(f=>f.trim()).filter(Boolean):[],u=new Map;c.forEach(f=>{const[h,g]=f.split(":").map(p=>p.trim());u.set(h,g)}),l.forEach(f=>{const[h,g]=f.split(":").map(p=>p.trim());u.set(h,g)}),n[s]=Array.from(u.entries()).map(([f,h])=>`${f}: ${h}`).join("; ")}else n[s]=i}),n},{})}function qj(t,e){return e.filter(r=>r.type===t.type.name).filter(r=>r.attribute.rendered).map(r=>r.attribute.renderHTML?r.attribute.renderHTML(t.attrs)||{}:{[r.name]:t.attrs[r.name]}).reduce((r,n)=>Os(r,n),{})}function _Se(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function oB(t,e){return"style"in t?t:{...t,getAttrs:r=>{const n=t.getAttrs?t.getAttrs(r):t.attrs;if(n===!1)return!1;const s=e.reduce((i,o)=>{const l=o.attribute.parseHTML?o.attribute.parseHTML(r):_Se(r.getAttribute(o.name));return l==null?i:{...i,[o.name]:l}},{});return{...n,...s}}}}function lB(t){return Object.fromEntries(Object.entries(t).filter(([e,r])=>e==="attrs"&&CSe(r)?!1:r!=null))}function ASe(t,e){var r;const n=iee(t),{nodeExtensions:s,markExtensions:i}=dv(t),o=(r=s.find(u=>Lr(u,"topNode")))==null?void 0:r.name,l=Object.fromEntries(s.map(u=>{const f=n.filter(N=>N.type===u.name),h={name:u.name,options:u.options,storage:u.storage,editor:e},g=t.reduce((N,k)=>{const S=Lr(k,"extendNodeSchema",h);return{...N,...S?S(u):{}}},{}),p=lB({...g,content:ha(Lr(u,"content",h)),marks:ha(Lr(u,"marks",h)),group:ha(Lr(u,"group",h)),inline:ha(Lr(u,"inline",h)),atom:ha(Lr(u,"atom",h)),selectable:ha(Lr(u,"selectable",h)),draggable:ha(Lr(u,"draggable",h)),code:ha(Lr(u,"code",h)),whitespace:ha(Lr(u,"whitespace",h)),linebreakReplacement:ha(Lr(u,"linebreakReplacement",h)),defining:ha(Lr(u,"defining",h)),isolating:ha(Lr(u,"isolating",h)),attrs:Object.fromEntries(f.map(N=>{var k,S;return[N.name,{default:(k=N==null?void 0:N.attribute)==null?void 0:k.default,validate:(S=N==null?void 0:N.attribute)==null?void 0:S.validate}]}))}),v=ha(Lr(u,"parseHTML",h));v&&(p.parseDOM=v.map(N=>oB(N,f)));const w=Lr(u,"renderHTML",h);w&&(p.toDOM=N=>w({node:N,HTMLAttributes:qj(N,f)}));const y=Lr(u,"renderText",h);return y&&(p.toText=y),[u.name,p]})),c=Object.fromEntries(i.map(u=>{const f=n.filter(y=>y.type===u.name),h={name:u.name,options:u.options,storage:u.storage,editor:e},g=t.reduce((y,N)=>{const k=Lr(N,"extendMarkSchema",h);return{...y,...k?k(u):{}}},{}),p=lB({...g,inclusive:ha(Lr(u,"inclusive",h)),excludes:ha(Lr(u,"excludes",h)),group:ha(Lr(u,"group",h)),spanning:ha(Lr(u,"spanning",h)),code:ha(Lr(u,"code",h)),attrs:Object.fromEntries(f.map(y=>{var N,k;return[y.name,{default:(N=y==null?void 0:y.attribute)==null?void 0:N.default,validate:(k=y==null?void 0:y.attribute)==null?void 0:k.validate}]}))}),v=ha(Lr(u,"parseHTML",h));v&&(p.parseDOM=v.map(y=>oB(y,f)));const w=Lr(u,"renderHTML",h);return w&&(p.toDOM=y=>w({mark:y,HTMLAttributes:qj(y,f)})),[u.name,p]}));return new UQ({topNode:o,nodes:l,marks:c})}function TSe(t){const e=t.filter((r,n)=>t.indexOf(r)!==n);return Array.from(new Set(e))}function hP(t){return t.sort((r,n)=>{const s=Lr(r,"priority")||100,i=Lr(n,"priority")||100;return s>i?-1:s<i?1:0})}function oee(t){const e=hP(dP(t)),r=TSe(e.map(n=>n.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(n=>`'${n}'`).join(", ")}]. This can lead to issues.`),e}function lee(t,e,r){const{from:n,to:s}=e,{blockSeparator:i=`

`,textSerializers:o={}}=r||{};let l="";return t.nodesBetween(n,s,(c,u,f,h)=>{var g;c.isBlock&&u>n&&(l+=i);const p=o==null?void 0:o[c.type.name];if(p)return f&&(l+=p({node:c,pos:u,parent:f,index:h,range:e})),!1;c.isText&&(l+=(g=c==null?void 0:c.text)==null?void 0:g.slice(Math.max(n,u)-u,s-u))}),l}function MSe(t,e){const r={from:0,to:t.content.size};return lee(t,r,e)}function cee(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,r])=>[e,r.spec.toText]))}function qf(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}function uee(t,e){const r=qf(e,t.schema),{from:n,to:s,empty:i}=t.selection,o=[];i?(t.storedMarks&&o.push(...t.storedMarks),o.push(...t.selection.$head.marks())):t.doc.nodesBetween(n,s,c=>{o.push(...c.marks)});const l=o.find(c=>c.type.name===r.name);return l?{...l.attrs}:{}}function ai(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}function ESe(t,e){const r=ai(e,t.schema),{from:n,to:s}=t.selection,i=[];t.doc.nodesBetween(n,s,l=>{i.push(l)});const o=i.reverse().find(l=>l.type.name===r.name);return o?{...o.attrs}:{}}function nS(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function dee(t,e){const r=nS(typeof e=="string"?e:e.name,t.schema);return r==="node"?ESe(t,e):r==="mark"?uee(t,e):{}}function OSe(t,e=JSON.stringify){const r={};return t.filter(n=>{const s=e(n);return Object.prototype.hasOwnProperty.call(r,s)?!1:r[s]=!0})}function DSe(t){const e=OSe(t);return e.length===1?e:e.filter((r,n)=>!e.filter((i,o)=>o!==n).some(i=>r.oldRange.from>=i.oldRange.from&&r.oldRange.to<=i.oldRange.to&&r.newRange.from>=i.newRange.from&&r.newRange.to<=i.newRange.to))}function fee(t){const{mapping:e,steps:r}=t,n=[];return e.maps.forEach((s,i)=>{const o=[];if(s.ranges.length)s.forEach((l,c)=>{o.push({from:l,to:c})});else{const{from:l,to:c}=r[i];if(l===void 0||c===void 0)return;o.push({from:l,to:c})}o.forEach(({from:l,to:c})=>{const u=e.slice(i).map(l,-1),f=e.slice(i).map(c),h=e.invert().map(u,-1),g=e.invert().map(f);n.push({oldRange:{from:h,to:g},newRange:{from:u,to:f}})})}),DSe(n)}function mP(t){return Object.prototype.toString.call(t)==="[object RegExp]"}function Uj(t,e,r={strict:!0}){const n=Object.keys(e);return n.length?n.every(s=>r.strict?e[s]===t[s]:mP(e[s])?e[s].test(t[s]):e[s]===t[s]):!0}function hee(t,e,r={}){return t.find(n=>n.type===e&&Uj(Object.fromEntries(Object.keys(r).map(s=>[s,n.attrs[s]])),r))}function cB(t,e,r={}){return!!hee(t,e,r)}function pP(t,e,r){var n;if(!t||!e)return;let s=t.parent.childAfter(t.parentOffset);if((!s.node||!s.node.marks.some(f=>f.type===e))&&(s=t.parent.childBefore(t.parentOffset)),!s.node||!s.node.marks.some(f=>f.type===e)||(r=r||((n=s.node.marks[0])==null?void 0:n.attrs),!hee([...s.node.marks],e,r)))return;let o=s.index,l=t.start()+s.offset,c=o+1,u=l+s.node.nodeSize;for(;o>0&&cB([...t.parent.child(o-1).marks],e,r);)o-=1,l-=t.parent.child(o).nodeSize;for(;c<t.parent.childCount&&cB([...t.parent.child(c).marks],e,r);)u+=t.parent.child(c).nodeSize,c+=1;return{from:l,to:u}}function gP(t,e,r){const n=[];return t===e?r.resolve(t).marks().forEach(s=>{const i=r.resolve(t),o=pP(i,s.type);o&&n.push({mark:s,...o})}):r.nodesBetween(t,e,(s,i)=>{!s||(s==null?void 0:s.nodeSize)===void 0||n.push(...s.marks.map(o=>({from:i,to:i+s.nodeSize,mark:o})))}),n}var PSe=(t,e,r,n=20)=>{const s=t.doc.resolve(r);let i=n,o=null;for(;i>0&&o===null;){const l=s.node(i);(l==null?void 0:l.type.name)===e?o=l:i-=1}return[o,i]};function f_(t,e){return e.nodes[t]||e.marks[t]||null}function V2(t,e,r){return Object.fromEntries(Object.entries(r).filter(([n])=>{const s=t.find(i=>i.type===e&&i.name===n);return s?s.attribute.keepOnSplit:!1}))}var LSe=(t,e=500)=>{let r="";const n=t.parentOffset;return t.parent.nodesBetween(Math.max(0,n-e),n,(s,i,o,l)=>{var c,u;const f=((u=(c=s.type.spec).toText)==null?void 0:u.call(c,{node:s,pos:i,parent:o,index:l}))||s.textContent||"%leaf%";r+=s.isAtom&&!s.isText?f:f.slice(0,Math.max(0,n-i))}),r};function $M(t,e,r={}){const{empty:n,ranges:s}=t.selection,i=e?qf(e,t.schema):null;if(n)return!!(t.storedMarks||t.selection.$from.marks()).filter(h=>i?i.name===h.type.name:!0).find(h=>Uj(h.attrs,r,{strict:!1}));let o=0;const l=[];if(s.forEach(({$from:h,$to:g})=>{const p=h.pos,v=g.pos;t.doc.nodesBetween(p,v,(w,y)=>{if(!w.isText&&!w.marks.length)return;const N=Math.max(p,y),k=Math.min(v,y+w.nodeSize),S=k-N;o+=S,l.push(...w.marks.map(T=>({mark:T,from:N,to:k})))})}),o===0)return!1;const c=l.filter(h=>i?i.name===h.mark.type.name:!0).filter(h=>Uj(h.mark.attrs,r,{strict:!1})).reduce((h,g)=>h+g.to-g.from,0),u=l.filter(h=>i?h.mark.type!==i&&h.mark.type.excludes(i):!0).reduce((h,g)=>h+g.to-g.from,0);return(c>0?c+u:c)>=o}function mm(t,e,r={}){const{from:n,to:s,empty:i}=t.selection,o=e?ai(e,t.schema):null,l=[];t.doc.nodesBetween(n,s,(h,g)=>{if(h.isText)return;const p=Math.max(n,g),v=Math.min(s,g+h.nodeSize);l.push({node:h,from:p,to:v})});const c=s-n,u=l.filter(h=>o?o.name===h.node.type.name:!0).filter(h=>Uj(h.node.attrs,r,{strict:!1}));return i?!!u.length:u.reduce((h,g)=>h+g.to-g.from,0)>=c}function RSe(t,e,r={}){if(!e)return mm(t,null,r)||$M(t,null,r);const n=nS(e,t.schema);return n==="node"?mm(t,e,r):n==="mark"?$M(t,e,r):!1}var ISe=(t,e)=>{const{$from:r,$to:n,$anchor:s}=t.selection;if(e){const i=rS(l=>l.type.name===e)(t.selection);if(!i)return!1;const o=t.doc.resolve(i.pos+1);return s.pos+1===o.end()}return!(n.parentOffset<n.parent.nodeSize-2||r.pos!==n.pos)},FSe=t=>{const{$from:e,$to:r}=t.selection;return!(e.parentOffset>0||e.pos!==r.pos)};function uB(t,e){return Array.isArray(e)?e.some(r=>(typeof r=="string"?r:r.name)===t.name):e}function dB(t,e){const{nodeExtensions:r}=dv(e),n=r.find(o=>o.name===t);if(!n)return!1;const s={name:n.name,options:n.options,storage:n.storage},i=ha(Lr(n,"group",s));return typeof i!="string"?!1:i.split(" ").includes("list")}function aS(t,{checkChildren:e=!0,ignoreWhitespace:r=!1}={}){var n;if(r){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((n=t.text)!=null?n:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let s=!0;return t.content.forEach(i=>{s!==!1&&(aS(i,{ignoreWhitespace:r,checkChildren:e})||(s=!1))}),s}return!1}function mee(t){return t instanceof Fr}function pee(t){return t instanceof rn}function up(t=0,e=0,r=0){return Math.min(Math.max(t,e),r)}function gee(t,e=null){if(!e)return null;const r=yn.atStart(t),n=yn.atEnd(t);if(e==="start"||e===!0)return r;if(e==="end")return n;const s=r.from,i=n.to;return e==="all"?rn.create(t,up(0,s,i),up(t.content.size,s,i)):rn.create(t,up(e,s,i),up(e,s,i))}function BSe(t,e,r){const n=t.steps.length-1;if(n<e)return;const s=t.steps[n];if(!(s instanceof Mi||s instanceof Oi))return;const i=t.mapping.maps[n];let o=0;i.forEach((l,c,u,f)=>{o===0&&(o=f)}),t.setSelection(yn.near(t.doc.resolve(o),r))}var sS=class{constructor(t){var e;this.find=t.find,this.handler=t.handler,this.undoable=(e=t.undoable)!=null?e:!0}},$Se=(t,e)=>{if(mP(e))return e.exec(t);const r=e(t);if(!r)return null;const n=[r.text];return n.index=r.index,n.input=t,n.data=r.data,r.replaceWith&&(r.text.includes(r.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),n.push(r.replaceWith)),n};function zw(t){var e;const{editor:r,from:n,to:s,text:i,rules:o,plugin:l}=t,{view:c}=r;if(c.composing)return!1;const u=c.state.doc.resolve(n);if(u.parent.type.spec.code||(e=u.nodeBefore||u.nodeAfter)!=null&&e.marks.find(g=>g.type.spec.code))return!1;let f=!1;const h=LSe(u)+i;return o.forEach(g=>{if(f)return;const p=$Se(h,g.find);if(!p)return;const v=c.state.tr,w=eS({state:c.state,transaction:v}),y={from:n-(p[0].length-i.length),to:s},{commands:N,chain:k,can:S}=new tS({editor:r,state:w});g.handler({state:w,range:y,match:p,commands:N,chain:k,can:S})===null||!v.steps.length||(g.undoable&&v.setMeta(l,{transform:v,from:n,to:s,text:i}),c.dispatch(v),f=!0)}),f}function HSe(t){const{editor:e,rules:r}=t,n=new Ps({state:{init(){return null},apply(s,i,o){const l=s.getMeta(n);if(l)return l;const c=s.getMeta("applyInputRules");return!!c&&setTimeout(()=>{let{text:f}=c;typeof f=="string"?f=f:f=fP(Yt.from(f),o.schema);const{from:h}=c,g=h+f.length;zw({editor:e,from:h,to:g,text:f,rules:r,plugin:n})}),s.selectionSet||s.docChanged?null:i}},props:{handleTextInput(s,i,o,l){return zw({editor:e,from:i,to:o,text:l,rules:r,plugin:n})},handleDOMEvents:{compositionend:s=>(setTimeout(()=>{const{$cursor:i}=s.state.selection;i&&zw({editor:e,from:i.pos,to:i.pos,text:"",rules:r,plugin:n})}),!1)},handleKeyDown(s,i){if(i.key!=="Enter")return!1;const{$cursor:o}=s.state.selection;return o?zw({editor:e,from:o.pos,to:o.pos,text:`
`,rules:r,plugin:n}):!1}},isInputRules:!0});return n}function zSe(t){return Object.prototype.toString.call(t).slice(8,-1)}function qw(t){return zSe(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function xee(t,e){const r={...t};return qw(t)&&qw(e)&&Object.keys(e).forEach(n=>{qw(e[n])&&qw(t[n])?r[n]=xee(t[n],e[n]):r[n]=e[n]}),r}var xP=class{constructor(t={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...t},this.name=this.config.name}get options(){return{...ha(Lr(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...ha(Lr(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(t={}){const e=this.extend({...this.config,addOptions:()=>xee(this.options,t)});return e.name=this.name,e.parent=this.parent,e}extend(t={}){const e=new this.constructor({...this.config,...t});return e.parent=this,this.child=e,e.name="name"in t?t.name:e.parent.name,e}},Uf=class bee extends xP{constructor(){super(...arguments),this.type="mark"}static create(e={}){const r=typeof e=="function"?e():e;return new bee(r)}static handleExit({editor:e,mark:r}){const{tr:n}=e.state,s=e.state.selection.$from;if(s.pos===s.end()){const o=s.marks();if(!!!o.find(u=>(u==null?void 0:u.type.name)===r.name))return!1;const c=o.find(u=>(u==null?void 0:u.type.name)===r.name);return c&&n.removeStoredMark(c),n.insertText(" ",s.pos),e.view.dispatch(n),!0}return!1}configure(e){return super.configure(e)}extend(e){const r=typeof e=="function"?e():e;return super.extend(r)}};function qSe(t){return typeof t=="number"}var USe=class{constructor(t){this.find=t.find,this.handler=t.handler}},WSe=(t,e,r)=>{if(mP(e))return[...t.matchAll(e)];const n=e(t,r);return n?n.map(s=>{const i=[s.text];return i.index=s.index,i.input=t,i.data=s.data,s.replaceWith&&(s.text.includes(s.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),i.push(s.replaceWith)),i}):[]};function VSe(t){const{editor:e,state:r,from:n,to:s,rule:i,pasteEvent:o,dropEvent:l}=t,{commands:c,chain:u,can:f}=new tS({editor:e,state:r}),h=[];return r.doc.nodesBetween(n,s,(p,v)=>{var w,y,N,k,S;if((y=(w=p.type)==null?void 0:w.spec)!=null&&y.code||!(p.isText||p.isTextblock||p.isInline))return;const T=(S=(k=(N=p.content)==null?void 0:N.size)!=null?k:p.nodeSize)!=null?S:0,_=Math.max(n,v),D=Math.min(s,v+T);if(_>=D)return;const E=p.isText?p.text||"":p.textBetween(_-v,D-v,void 0,"￼");WSe(E,i.find,o).forEach(R=>{if(R.index===void 0)return;const F=_+R.index+1,A=F+R[0].length,M={from:r.tr.mapping.map(F),to:r.tr.mapping.map(A)},B=i.handler({state:r,range:M,match:R,commands:c,chain:u,can:f,pasteEvent:o,dropEvent:l});h.push(B)})}),h.every(p=>p!==null)}var Uw=null,GSe=t=>{var e;const r=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=r.clipboardData)==null||e.setData("text/html",t),r};function YSe(t){const{editor:e,rules:r}=t;let n=null,s=!1,i=!1,o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,l;try{l=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{l=null}const c=({state:f,from:h,to:g,rule:p,pasteEvt:v})=>{const w=f.tr,y=eS({state:f,transaction:w});if(!(!VSe({editor:e,state:y,from:Math.max(h-1,0),to:g.b-1,rule:p,pasteEvent:v,dropEvent:l})||!w.steps.length)){try{l=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{l=null}return o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,w}};return r.map(f=>new Ps({view(h){const g=v=>{var w;n=(w=h.dom.parentElement)!=null&&w.contains(v.target)?h.dom.parentElement:null,n&&(Uw=e)},p=()=>{Uw&&(Uw=null)};return window.addEventListener("dragstart",g),window.addEventListener("dragend",p),{destroy(){window.removeEventListener("dragstart",g),window.removeEventListener("dragend",p)}}},props:{handleDOMEvents:{drop:(h,g)=>{if(i=n===h.dom.parentElement,l=g,!i){const p=Uw;p!=null&&p.isEditable&&setTimeout(()=>{const v=p.state.selection;v&&p.commands.deleteRange({from:v.from,to:v.to})},10)}return!1},paste:(h,g)=>{var p;const v=(p=g.clipboardData)==null?void 0:p.getData("text/html");return o=g,s=!!(v!=null&&v.includes("data-pm-slice")),!1}}},appendTransaction:(h,g,p)=>{const v=h[0],w=v.getMeta("uiEvent")==="paste"&&!s,y=v.getMeta("uiEvent")==="drop"&&!i,N=v.getMeta("applyPasteRules"),k=!!N;if(!w&&!y&&!k)return;if(k){let{text:_}=N;typeof _=="string"?_=_:_=fP(Yt.from(_),p.schema);const{from:D}=N,E=D+_.length,L=GSe(_);return c({rule:f,state:p,from:D,to:{b:E},pasteEvt:L})}const S=g.doc.content.findDiffStart(p.doc.content),T=g.doc.content.findDiffEnd(p.doc.content);if(!(!qSe(S)||!T||S===T.b))return c({rule:f,state:p,from:S,to:T,pasteEvt:o})}}))}var iS=class{constructor(t,e){this.splittableMarks=[],this.editor=e,this.extensions=oee(t),this.schema=ASe(this.extensions,e),this.setupExtensions()}get commands(){return this.extensions.reduce((t,e)=>{const r={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:f_(e.name,this.schema)},n=Lr(e,"addCommands",r);return n?{...t,...n()}:t},{})}get plugins(){const{editor:t}=this;return hP([...this.extensions].reverse()).flatMap(n=>{const s={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:f_(n.name,this.schema)},i=[],o=Lr(n,"addKeyboardShortcuts",s);let l={};if(n.type==="mark"&&Lr(n,"exitable",s)&&(l.ArrowRight=()=>Uf.handleExit({editor:t,mark:n})),o){const g=Object.fromEntries(Object.entries(o()).map(([p,v])=>[p,()=>v({editor:t})]));l={...l,...g}}const c=eSe(l);i.push(c);const u=Lr(n,"addInputRules",s);if(uB(n,t.options.enableInputRules)&&u){const g=u();if(g&&g.length){const p=HSe({editor:t,rules:g}),v=Array.isArray(p)?p:[p];i.push(...v)}}const f=Lr(n,"addPasteRules",s);if(uB(n,t.options.enablePasteRules)&&f){const g=f();if(g&&g.length){const p=YSe({editor:t,rules:g});i.push(...p)}}const h=Lr(n,"addProseMirrorPlugins",s);if(h){const g=h();i.push(...g)}return i})}get attributes(){return iee(this.extensions)}get nodeViews(){const{editor:t}=this,{nodeExtensions:e}=dv(this.extensions);return Object.fromEntries(e.filter(r=>!!Lr(r,"addNodeView")).map(r=>{const n=this.attributes.filter(l=>l.type===r.name),s={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:t,type:ai(r.name,this.schema)},i=Lr(r,"addNodeView",s);if(!i)return[];const o=(l,c,u,f,h)=>{const g=qj(l,n);return i()({node:l,view:c,getPos:u,decorations:f,innerDecorations:h,editor:t,extension:r,HTMLAttributes:g})};return[r.name,o]}))}get markViews(){const{editor:t}=this,{markExtensions:e}=dv(this.extensions);return Object.fromEntries(e.filter(r=>!!Lr(r,"addMarkView")).map(r=>{const n=this.attributes.filter(l=>l.type===r.name),s={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:t,type:qf(r.name,this.schema)},i=Lr(r,"addMarkView",s);if(!i)return[];const o=(l,c,u)=>{const f=qj(l,n);return i()({mark:l,view:c,inline:u,editor:t,extension:r,HTMLAttributes:f,updateAttributes:h=>{uCe(l,t,h)}})};return[r.name,o]}))}setupExtensions(){const t=this.extensions;this.editor.extensionStorage=Object.fromEntries(t.map(e=>[e.name,e.storage])),t.forEach(e=>{var r;const n={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:f_(e.name,this.schema)};e.type==="mark"&&((r=ha(Lr(e,"keepOnSplit",n)))==null||r)&&this.splittableMarks.push(e.name);const s=Lr(e,"onBeforeCreate",n),i=Lr(e,"onCreate",n),o=Lr(e,"onUpdate",n),l=Lr(e,"onSelectionUpdate",n),c=Lr(e,"onTransaction",n),u=Lr(e,"onFocus",n),f=Lr(e,"onBlur",n),h=Lr(e,"onDestroy",n);s&&this.editor.on("beforeCreate",s),i&&this.editor.on("create",i),o&&this.editor.on("update",o),l&&this.editor.on("selectionUpdate",l),c&&this.editor.on("transaction",c),u&&this.editor.on("focus",u),f&&this.editor.on("blur",f),h&&this.editor.on("destroy",h)})}};iS.resolve=oee;iS.sort=hP;iS.flatten=dP;var KSe={};ree(KSe,{ClipboardTextSerializer:()=>vee,Commands:()=>Nee,Delete:()=>See,Drop:()=>kee,Editable:()=>Cee,FocusEvents:()=>Aee,Keymap:()=>Tee,Paste:()=>Mee,Tabindex:()=>Eee,focusEventsPluginKey:()=>_ee});var La=class yee extends xP{constructor(){super(...arguments),this.type="extension"}static create(e={}){const r=typeof e=="function"?e():e;return new yee(r)}configure(e){return super.configure(e)}extend(e){const r=typeof e=="function"?e():e;return super.extend(r)}},vee=La.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Ps({key:new Pi("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:r}=t,{doc:n,selection:s}=e,{ranges:i}=s,o=Math.min(...i.map(f=>f.$from.pos)),l=Math.max(...i.map(f=>f.$to.pos)),c=cee(r);return lee(n,{from:o,to:l},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:c})}}})]}}),wee={};ree(wee,{blur:()=>JSe,clearContent:()=>XSe,clearNodes:()=>QSe,command:()=>ZSe,createParagraphNear:()=>eke,cut:()=>tke,deleteCurrentNode:()=>rke,deleteNode:()=>nke,deleteRange:()=>ake,deleteSelection:()=>ske,enter:()=>ike,exitCode:()=>oke,extendMarkRange:()=>lke,first:()=>cke,focus:()=>dke,forEach:()=>fke,insertContent:()=>hke,insertContentAt:()=>pke,joinBackward:()=>bke,joinDown:()=>xke,joinForward:()=>yke,joinItemBackward:()=>vke,joinItemForward:()=>wke,joinTextblockBackward:()=>jke,joinTextblockForward:()=>Nke,joinUp:()=>gke,keyboardShortcut:()=>kke,lift:()=>Cke,liftEmptyBlock:()=>_ke,liftListItem:()=>Ake,newlineInCode:()=>Tke,resetAttributes:()=>Mke,scrollIntoView:()=>Eke,selectAll:()=>Oke,selectNodeBackward:()=>Dke,selectNodeForward:()=>Pke,selectParentNode:()=>Lke,selectTextblockEnd:()=>Rke,selectTextblockStart:()=>Ike,setContent:()=>Fke,setMark:()=>$ke,setMeta:()=>Hke,setNode:()=>zke,setNodeSelection:()=>qke,setTextSelection:()=>Uke,sinkListItem:()=>Wke,splitBlock:()=>Vke,splitListItem:()=>Gke,toggleList:()=>Yke,toggleMark:()=>Kke,toggleNode:()=>Jke,toggleWrap:()=>Xke,undoInputRule:()=>Qke,unsetAllMarks:()=>Zke,unsetMark:()=>eCe,updateAttributes:()=>tCe,wrapIn:()=>rCe,wrapInList:()=>nCe});var JSe=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var r;t.isDestroyed||(e.dom.blur(),(r=window==null?void 0:window.getSelection())==null||r.removeAllRanges())}),!0),XSe=(t=!0)=>({commands:e})=>e.setContent("",{emitUpdate:t}),QSe=()=>({state:t,tr:e,dispatch:r})=>{const{selection:n}=e,{ranges:s}=n;return r&&s.forEach(({$from:i,$to:o})=>{t.doc.nodesBetween(i.pos,o.pos,(l,c)=>{if(l.type.isText)return;const{doc:u,mapping:f}=e,h=u.resolve(f.map(c)),g=u.resolve(f.map(c+l.nodeSize)),p=h.blockRange(g);if(!p)return;const v=Bx(p);if(l.type.isTextblock){const{defaultType:w}=h.parent.contentMatchAt(h.index());e.setNodeMarkup(p.start,w)}(v||v===0)&&e.lift(p,v)})}),!0},ZSe=t=>e=>t(e),eke=()=>({state:t,dispatch:e})=>QZ(t,e),tke=(t,e)=>({editor:r,tr:n})=>{const{state:s}=r,i=s.doc.slice(t.from,t.to);n.deleteRange(t.from,t.to);const o=n.mapping.map(e);return n.insert(o,i.content),n.setSelection(new rn(n.doc.resolve(Math.max(o-1,0)))),!0},rke=()=>({tr:t,dispatch:e})=>{const{selection:r}=t,n=r.$anchor.node();if(n.content.size>0)return!1;const s=t.selection.$anchor;for(let i=s.depth;i>0;i-=1)if(s.node(i).type===n.type){if(e){const l=s.before(i),c=s.after(i);t.delete(l,c).scrollIntoView()}return!0}return!1},nke=t=>({tr:e,state:r,dispatch:n})=>{const s=ai(t,r.schema),i=e.selection.$anchor;for(let o=i.depth;o>0;o-=1)if(i.node(o).type===s){if(n){const c=i.before(o),u=i.after(o);e.delete(c,u).scrollIntoView()}return!0}return!1},ake=t=>({tr:e,dispatch:r})=>{const{from:n,to:s}=t;return r&&e.delete(n,s),!0},ske=()=>({state:t,dispatch:e})=>iP(t,e),ike=()=>({commands:t})=>t.keyboardShortcut("Enter"),oke=()=>({state:t,dispatch:e})=>iSe(t,e),lke=(t,e={})=>({tr:r,state:n,dispatch:s})=>{const i=qf(t,n.schema),{doc:o,selection:l}=r,{$from:c,from:u,to:f}=l;if(s){const h=pP(c,i,e);if(h&&h.from<=u&&h.to>=f){const g=rn.create(o,h.from,h.to);r.setSelection(g)}}return!0},cke=t=>e=>{const r=typeof t=="function"?t(e):t;for(let n=0;n<r.length;n+=1)if(r[n](e))return!0;return!1};function uke(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function bP(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var dke=(t=null,e={})=>({editor:r,view:n,tr:s,dispatch:i})=>{e={scrollIntoView:!0,...e};const o=()=>{(bP()||uke())&&n.dom.focus(),requestAnimationFrame(()=>{r.isDestroyed||(n.focus(),e!=null&&e.scrollIntoView&&r.commands.scrollIntoView())})};if(n.hasFocus()&&t===null||t===!1)return!0;if(i&&t===null&&!pee(r.state.selection))return o(),!0;const l=gee(s.doc,t)||r.state.selection,c=r.state.selection.eq(l);return i&&(c||s.setSelection(l),c&&s.storedMarks&&s.setStoredMarks(s.storedMarks),o()),!0},fke=(t,e)=>r=>t.every((n,s)=>e(n,{...r,index:s})),hke=(t,e)=>({tr:r,commands:n})=>n.insertContentAt({from:r.selection.from,to:r.selection.to},t,e),mke=t=>!("type"in t),pke=(t,e,r)=>({tr:n,dispatch:s,editor:i})=>{var o;if(s){r={parseOptions:i.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...r};let l;const c=y=>{i.emit("contentError",{editor:i,error:y,disableCollaboration:()=>{"collaboration"in i.storage&&typeof i.storage.collaboration=="object"&&i.storage.collaboration&&(i.storage.collaboration.isDisabled=!0)}})},u={preserveWhitespace:"full",...r.parseOptions};if(!r.errorOnInvalidContent&&!i.options.enableContentCheck&&i.options.emitContentError)try{uv(e,i.schema,{parseOptions:u,errorOnInvalidContent:!0})}catch(y){c(y)}try{l=uv(e,i.schema,{parseOptions:u,errorOnInvalidContent:(o=r.errorOnInvalidContent)!=null?o:i.options.enableContentCheck})}catch(y){return c(y),!1}let{from:f,to:h}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},g=!0,p=!0;if((mke(l)?l:[l]).forEach(y=>{y.check(),g=g?y.isText&&y.marks.length===0:!1,p=p?y.isBlock:!1}),f===h&&p){const{parent:y}=n.doc.resolve(f);y.isTextblock&&!y.type.spec.code&&!y.childCount&&(f-=1,h+=1)}let w;if(g){if(Array.isArray(e))w=e.map(y=>y.text||"").join("");else if(e instanceof Yt){let y="";e.forEach(N=>{N.text&&(y+=N.text)}),w=y}else typeof e=="object"&&e&&e.text?w=e.text:w=e;n.insertText(w,f,h)}else{w=l;const y=n.doc.resolve(f),N=y.node(),k=y.parentOffset===0,S=N.isText||N.isTextblock,T=N.content.size>0;k&&S&&T&&(f=Math.max(0,f-1)),n.replaceWith(f,h,w)}r.updateSelection&&BSe(n,n.steps.length-1,-1),r.applyInputRules&&n.setMeta("applyInputRules",{from:f,text:w}),r.applyPasteRules&&n.setMeta("applyPasteRules",{from:f,text:w})}return!0},gke=()=>({state:t,dispatch:e})=>nSe(t,e),xke=()=>({state:t,dispatch:e})=>aSe(t,e),bke=()=>({state:t,dispatch:e})=>WZ(t,e),yke=()=>({state:t,dispatch:e})=>KZ(t,e),vke=()=>({state:t,dispatch:e,tr:r})=>{try{const n=YN(t.doc,t.selection.$from.pos,-1);return n==null?!1:(r.join(n,2),e&&e(r),!0)}catch{return!1}},wke=()=>({state:t,dispatch:e,tr:r})=>{try{const n=YN(t.doc,t.selection.$from.pos,1);return n==null?!1:(r.join(n,2),e&&e(r),!0)}catch{return!1}},jke=()=>({state:t,dispatch:e})=>tSe(t,e),Nke=()=>({state:t,dispatch:e})=>rSe(t,e);function jee(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function Ske(t){const e=t.split(/-(?!$)/);let r=e[e.length-1];r==="Space"&&(r=" ");let n,s,i,o;for(let l=0;l<e.length-1;l+=1){const c=e[l];if(/^(cmd|meta|m)$/i.test(c))o=!0;else if(/^a(lt)?$/i.test(c))n=!0;else if(/^(c|ctrl|control)$/i.test(c))s=!0;else if(/^s(hift)?$/i.test(c))i=!0;else if(/^mod$/i.test(c))bP()||jee()?o=!0:s=!0;else throw new Error(`Unrecognized modifier name: ${c}`)}return n&&(r=`Alt-${r}`),s&&(r=`Ctrl-${r}`),o&&(r=`Meta-${r}`),i&&(r=`Shift-${r}`),r}var kke=t=>({editor:e,view:r,tr:n,dispatch:s})=>{const i=Ske(t).split(/-(?!$)/),o=i.find(u=>!["Alt","Ctrl","Meta","Shift"].includes(u)),l=new KeyboardEvent("keydown",{key:o==="Space"?" ":o,altKey:i.includes("Alt"),ctrlKey:i.includes("Ctrl"),metaKey:i.includes("Meta"),shiftKey:i.includes("Shift"),bubbles:!0,cancelable:!0}),c=e.captureTransaction(()=>{r.someProp("handleKeyDown",u=>u(r,l))});return c==null||c.steps.forEach(u=>{const f=u.map(n.mapping);f&&s&&n.maybeStep(f)}),!0},Cke=(t,e={})=>({state:r,dispatch:n})=>{const s=ai(t,r.schema);return mm(r,s,e)?sSe(r,n):!1},_ke=()=>({state:t,dispatch:e})=>ZZ(t,e),Ake=t=>({state:e,dispatch:r})=>{const n=ai(t,e.schema);return xSe(n)(e,r)},Tke=()=>({state:t,dispatch:e})=>XZ(t,e);function fB(t,e){const r=typeof e=="string"?[e]:e;return Object.keys(t).reduce((n,s)=>(r.includes(s)||(n[s]=t[s]),n),{})}var Mke=(t,e)=>({tr:r,state:n,dispatch:s})=>{let i=null,o=null;const l=nS(typeof t=="string"?t:t.name,n.schema);return l?(l==="node"&&(i=ai(t,n.schema)),l==="mark"&&(o=qf(t,n.schema)),s&&r.selection.ranges.forEach(c=>{n.doc.nodesBetween(c.$from.pos,c.$to.pos,(u,f)=>{i&&i===u.type&&r.setNodeMarkup(f,void 0,fB(u.attrs,e)),o&&u.marks.length&&u.marks.forEach(h=>{o===h.type&&r.addMark(f,f+u.nodeSize,o.create(fB(h.attrs,e)))})})}),!0):!1},Eke=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),Oke=()=>({tr:t,dispatch:e})=>{if(e){const r=new Ol(t.doc);t.setSelection(r)}return!0},Dke=()=>({state:t,dispatch:e})=>GZ(t,e),Pke=()=>({state:t,dispatch:e})=>JZ(t,e),Lke=()=>({state:t,dispatch:e})=>cSe(t,e),Rke=()=>({state:t,dispatch:e})=>fSe(t,e),Ike=()=>({state:t,dispatch:e})=>dSe(t,e),Fke=(t,{errorOnInvalidContent:e,emitUpdate:r=!0,parseOptions:n={}}={})=>({editor:s,tr:i,dispatch:o,commands:l})=>{const{doc:c}=i;if(n.preserveWhitespace!=="full"){const u=BM(t,s.schema,n,{errorOnInvalidContent:e??s.options.enableContentCheck});return o&&i.replaceWith(0,c.content.size,u).setMeta("preventUpdate",!r),!0}return o&&i.setMeta("preventUpdate",!r),l.insertContentAt({from:0,to:c.content.size},t,{parseOptions:n,errorOnInvalidContent:e??s.options.enableContentCheck})};function Bke(t,e,r){var n;const{selection:s}=e;let i=null;if(pee(s)&&(i=s.$cursor),i){const l=(n=t.storedMarks)!=null?n:i.marks();return i.parent.type.allowsMarkType(r)&&(!!r.isInSet(l)||!l.some(u=>u.type.excludes(r)))}const{ranges:o}=s;return o.some(({$from:l,$to:c})=>{let u=l.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(r):!1;return t.doc.nodesBetween(l.pos,c.pos,(f,h,g)=>{if(u)return!1;if(f.isInline){const p=!g||g.type.allowsMarkType(r),v=!!r.isInSet(f.marks)||!f.marks.some(w=>w.type.excludes(r));u=p&&v}return!u}),u})}var $ke=(t,e={})=>({tr:r,state:n,dispatch:s})=>{const{selection:i}=r,{empty:o,ranges:l}=i,c=qf(t,n.schema);if(s)if(o){const u=uee(n,c);r.addStoredMark(c.create({...u,...e}))}else l.forEach(u=>{const f=u.$from.pos,h=u.$to.pos;n.doc.nodesBetween(f,h,(g,p)=>{const v=Math.max(p,f),w=Math.min(p+g.nodeSize,h);g.marks.find(N=>N.type===c)?g.marks.forEach(N=>{c===N.type&&r.addMark(v,w,c.create({...N.attrs,...e}))}):r.addMark(v,w,c.create(e))})});return Bke(n,r,c)},Hke=(t,e)=>({tr:r})=>(r.setMeta(t,e),!0),zke=(t,e={})=>({state:r,dispatch:n,chain:s})=>{const i=ai(t,r.schema);let o;return r.selection.$anchor.sameParent(r.selection.$head)&&(o=r.selection.$anchor.parent.attrs),i.isTextblock?s().command(({commands:l})=>iB(i,{...o,...e})(r)?!0:l.clearNodes()).command(({state:l})=>iB(i,{...o,...e})(l,n)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},qke=t=>({tr:e,dispatch:r})=>{if(r){const{doc:n}=e,s=up(t,0,n.content.size),i=Fr.create(n,s);e.setSelection(i)}return!0},Uke=t=>({tr:e,dispatch:r})=>{if(r){const{doc:n}=e,{from:s,to:i}=typeof t=="number"?{from:t,to:t}:t,o=rn.atStart(n).from,l=rn.atEnd(n).to,c=up(s,o,l),u=up(i,o,l),f=rn.create(n,c,u);e.setSelection(f)}return!0},Wke=t=>({state:e,dispatch:r})=>{const n=ai(t,e.schema);return vSe(n)(e,r)};function hB(t,e){const r=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(r){const n=r.filter(s=>e==null?void 0:e.includes(s.type.name));t.tr.ensureMarks(n)}}var Vke=({keepMarks:t=!0}={})=>({tr:e,state:r,dispatch:n,editor:s})=>{const{selection:i,doc:o}=e,{$from:l,$to:c}=i,u=s.extensionManager.attributes,f=V2(u,l.node().type.name,l.node().attrs);if(i instanceof Fr&&i.node.isBlock)return!l.parentOffset||!Cf(o,l.pos)?!1:(n&&(t&&hB(r,s.extensionManager.splittableMarks),e.split(l.pos).scrollIntoView()),!0);if(!l.parent.isBlock)return!1;const h=c.parentOffset===c.parent.content.size,g=l.depth===0?void 0:NSe(l.node(-1).contentMatchAt(l.indexAfter(-1)));let p=h&&g?[{type:g,attrs:f}]:void 0,v=Cf(e.doc,e.mapping.map(l.pos),1,p);if(!p&&!v&&Cf(e.doc,e.mapping.map(l.pos),1,g?[{type:g}]:void 0)&&(v=!0,p=g?[{type:g,attrs:f}]:void 0),n){if(v&&(i instanceof rn&&e.deleteSelection(),e.split(e.mapping.map(l.pos),1,p),g&&!h&&!l.parentOffset&&l.parent.type!==g)){const w=e.mapping.map(l.before()),y=e.doc.resolve(w);l.node(-1).canReplaceWith(y.index(),y.index()+1,g)&&e.setNodeMarkup(e.mapping.map(l.before()),g)}t&&hB(r,s.extensionManager.splittableMarks),e.scrollIntoView()}return v},Gke=(t,e={})=>({tr:r,state:n,dispatch:s,editor:i})=>{var o;const l=ai(t,n.schema),{$from:c,$to:u}=n.selection,f=n.selection.node;if(f&&f.isBlock||c.depth<2||!c.sameParent(u))return!1;const h=c.node(-1);if(h.type!==l)return!1;const g=i.extensionManager.attributes;if(c.parent.content.size===0&&c.node(-1).childCount===c.indexAfter(-1)){if(c.depth===2||c.node(-3).type!==l||c.index(-2)!==c.node(-2).childCount-1)return!1;if(s){let N=Yt.empty;const k=c.index(-1)?1:c.index(-2)?2:3;for(let L=c.depth-k;L>=c.depth-3;L-=1)N=Yt.from(c.node(L).copy(N));const S=c.indexAfter(-1)<c.node(-2).childCount?1:c.indexAfter(-2)<c.node(-3).childCount?2:3,T={...V2(g,c.node().type.name,c.node().attrs),...e},_=((o=l.contentMatch.defaultType)==null?void 0:o.createAndFill(T))||void 0;N=N.append(Yt.from(l.createAndFill(null,_)||void 0));const D=c.before(c.depth-(k-1));r.replace(D,c.after(-S),new pr(N,4-k,0));let E=-1;r.doc.nodesBetween(D,r.doc.content.size,(L,R)=>{if(E>-1)return!1;L.isTextblock&&L.content.size===0&&(E=R+1)}),E>-1&&r.setSelection(rn.near(r.doc.resolve(E))),r.scrollIntoView()}return!0}const p=u.pos===c.end()?h.contentMatchAt(0).defaultType:null,v={...V2(g,h.type.name,h.attrs),...e},w={...V2(g,c.node().type.name,c.node().attrs),...e};r.delete(c.pos,u.pos);const y=p?[{type:l,attrs:v},{type:p,attrs:w}]:[{type:l,attrs:v}];if(!Cf(r.doc,c.pos,2))return!1;if(s){const{selection:N,storedMarks:k}=n,{splittableMarks:S}=i.extensionManager,T=k||N.$to.parentOffset&&N.$from.marks();if(r.split(c.pos,2,y).scrollIntoView(),!T||!s)return!0;const _=T.filter(D=>S.includes(D.type.name));r.ensureMarks(_)}return!0},h_=(t,e)=>{const r=rS(o=>o.type===e)(t.selection);if(!r)return!0;const n=t.doc.resolve(Math.max(0,r.pos-1)).before(r.depth);if(n===void 0)return!0;const s=t.doc.nodeAt(n);return r.node.type===(s==null?void 0:s.type)&&bm(t.doc,r.pos)&&t.join(r.pos),!0},m_=(t,e)=>{const r=rS(o=>o.type===e)(t.selection);if(!r)return!0;const n=t.doc.resolve(r.start).after(r.depth);if(n===void 0)return!0;const s=t.doc.nodeAt(n);return r.node.type===(s==null?void 0:s.type)&&bm(t.doc,n)&&t.join(n),!0},Yke=(t,e,r,n={})=>({editor:s,tr:i,state:o,dispatch:l,chain:c,commands:u,can:f})=>{const{extensions:h,splittableMarks:g}=s.extensionManager,p=ai(t,o.schema),v=ai(e,o.schema),{selection:w,storedMarks:y}=o,{$from:N,$to:k}=w,S=N.blockRange(k),T=y||w.$to.parentOffset&&w.$from.marks();if(!S)return!1;const _=rS(D=>dB(D.type.name,h))(w);if(S.depth>=1&&_&&S.depth-_.depth<=1){if(_.node.type===p)return u.liftListItem(v);if(dB(_.node.type.name,h)&&p.validContent(_.node.content)&&l)return c().command(()=>(i.setNodeMarkup(_.pos,p),!0)).command(()=>h_(i,p)).command(()=>m_(i,p)).run()}return!r||!T||!l?c().command(()=>f().wrapInList(p,n)?!0:u.clearNodes()).wrapInList(p,n).command(()=>h_(i,p)).command(()=>m_(i,p)).run():c().command(()=>{const D=f().wrapInList(p,n),E=T.filter(L=>g.includes(L.type.name));return i.ensureMarks(E),D?!0:u.clearNodes()}).wrapInList(p,n).command(()=>h_(i,p)).command(()=>m_(i,p)).run()},Kke=(t,e={},r={})=>({state:n,commands:s})=>{const{extendEmptyMarkRange:i=!1}=r,o=qf(t,n.schema);return $M(n,o,e)?s.unsetMark(o,{extendEmptyMarkRange:i}):s.setMark(o,e)},Jke=(t,e,r={})=>({state:n,commands:s})=>{const i=ai(t,n.schema),o=ai(e,n.schema),l=mm(n,i,r);let c;return n.selection.$anchor.sameParent(n.selection.$head)&&(c=n.selection.$anchor.parent.attrs),l?s.setNode(o,c):s.setNode(i,{...c,...r})},Xke=(t,e={})=>({state:r,commands:n})=>{const s=ai(t,r.schema);return mm(r,s,e)?n.lift(s):n.wrapIn(s,e)},Qke=()=>({state:t,dispatch:e})=>{const r=t.plugins;for(let n=0;n<r.length;n+=1){const s=r[n];let i;if(s.spec.isInputRules&&(i=s.getState(t))){if(e){const o=t.tr,l=i.transform;for(let c=l.steps.length-1;c>=0;c-=1)o.step(l.steps[c].invert(l.docs[c]));if(i.text){const c=o.doc.resolve(i.from).marks();o.replaceWith(i.from,i.to,t.schema.text(i.text,c))}else o.delete(i.from,i.to)}return!0}}return!1},Zke=()=>({tr:t,dispatch:e})=>{const{selection:r}=t,{empty:n,ranges:s}=r;return n||e&&s.forEach(i=>{t.removeMark(i.$from.pos,i.$to.pos)}),!0},eCe=(t,e={})=>({tr:r,state:n,dispatch:s})=>{var i;const{extendEmptyMarkRange:o=!1}=e,{selection:l}=r,c=qf(t,n.schema),{$from:u,empty:f,ranges:h}=l;if(!s)return!0;if(f&&o){let{from:g,to:p}=l;const v=(i=u.marks().find(y=>y.type===c))==null?void 0:i.attrs,w=pP(u,c,v);w&&(g=w.from,p=w.to),r.removeMark(g,p,c)}else h.forEach(g=>{r.removeMark(g.$from.pos,g.$to.pos,c)});return r.removeStoredMark(c),!0},tCe=(t,e={})=>({tr:r,state:n,dispatch:s})=>{let i=null,o=null;const l=nS(typeof t=="string"?t:t.name,n.schema);return l?(l==="node"&&(i=ai(t,n.schema)),l==="mark"&&(o=qf(t,n.schema)),s&&r.selection.ranges.forEach(c=>{const u=c.$from.pos,f=c.$to.pos;let h,g,p,v;r.selection.empty?n.doc.nodesBetween(u,f,(w,y)=>{i&&i===w.type&&(p=Math.max(y,u),v=Math.min(y+w.nodeSize,f),h=y,g=w)}):n.doc.nodesBetween(u,f,(w,y)=>{y<u&&i&&i===w.type&&(p=Math.max(y,u),v=Math.min(y+w.nodeSize,f),h=y,g=w),y>=u&&y<=f&&(i&&i===w.type&&r.setNodeMarkup(y,void 0,{...w.attrs,...e}),o&&w.marks.length&&w.marks.forEach(N=>{if(o===N.type){const k=Math.max(y,u),S=Math.min(y+w.nodeSize,f);r.addMark(k,S,o.create({...N.attrs,...e}))}}))}),g&&(h!==void 0&&r.setNodeMarkup(h,void 0,{...g.attrs,...e}),o&&g.marks.length&&g.marks.forEach(w=>{o===w.type&&r.addMark(p,v,o.create({...w.attrs,...e}))}))}),!0):!1},rCe=(t,e={})=>({state:r,dispatch:n})=>{const s=ai(t,r.schema);return hSe(s,e)(r,n)},nCe=(t,e={})=>({state:r,dispatch:n})=>{const s=ai(t,r.schema);return mSe(s,e)(r,n)},Nee=La.create({name:"commands",addCommands(){return{...wee}}}),See=La.create({name:"delete",onUpdate({transaction:t,appendedTransactions:e}){var r,n,s;const i=()=>{var o,l,c,u;if((u=(c=(l=(o=this.editor.options.coreExtensionOptions)==null?void 0:o.delete)==null?void 0:l.filterTransaction)==null?void 0:c.call(l,t))!=null?u:t.getMeta("y-sync$"))return;const f=nee(t.before,[t,...e]);fee(f).forEach(p=>{f.mapping.mapResult(p.oldRange.from).deletedAfter&&f.mapping.mapResult(p.oldRange.to).deletedBefore&&f.before.nodesBetween(p.oldRange.from,p.oldRange.to,(v,w)=>{const y=w+v.nodeSize-2,N=p.oldRange.from<=w&&y<=p.oldRange.to;this.editor.emit("delete",{type:"node",node:v,from:w,to:y,newFrom:f.mapping.map(w),newTo:f.mapping.map(y),deletedRange:p.oldRange,newRange:p.newRange,partial:!N,editor:this.editor,transaction:t,combinedTransform:f})})});const g=f.mapping;f.steps.forEach((p,v)=>{var w,y;if(p instanceof su){const N=g.slice(v).map(p.from,-1),k=g.slice(v).map(p.to),S=g.invert().map(N,-1),T=g.invert().map(k),_=(w=f.doc.nodeAt(N-1))==null?void 0:w.marks.some(E=>E.eq(p.mark)),D=(y=f.doc.nodeAt(k))==null?void 0:y.marks.some(E=>E.eq(p.mark));this.editor.emit("delete",{type:"mark",mark:p.mark,from:p.from,to:p.to,deletedRange:{from:S,to:T},newRange:{from:N,to:k},partial:!!(D||_),editor:this.editor,transaction:t,combinedTransform:f})}})};(s=(n=(r=this.editor.options.coreExtensionOptions)==null?void 0:r.delete)==null?void 0:n.async)==null||s?setTimeout(i,0):i()}}),kee=La.create({name:"drop",addProseMirrorPlugins(){return[new Ps({key:new Pi("tiptapDrop"),props:{handleDrop:(t,e,r,n)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:r,moved:n})}}})]}}),Cee=La.create({name:"editable",addProseMirrorPlugins(){return[new Ps({key:new Pi("editable"),props:{editable:()=>this.editor.options.editable}})]}}),_ee=new Pi("focusEvents"),Aee=La.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new Ps({key:_ee,props:{handleDOMEvents:{focus:(e,r)=>{t.isFocused=!0;const n=t.state.tr.setMeta("focus",{event:r}).setMeta("addToHistory",!1);return e.dispatch(n),!1},blur:(e,r)=>{t.isFocused=!1;const n=t.state.tr.setMeta("blur",{event:r}).setMeta("addToHistory",!1);return e.dispatch(n),!1}}}})]}}),Tee=La.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:o})=>[()=>o.undoInputRule(),()=>o.command(({tr:l})=>{const{selection:c,doc:u}=l,{empty:f,$anchor:h}=c,{pos:g,parent:p}=h,v=h.parent.isTextblock&&g>0?l.doc.resolve(g-1):h,w=v.parent.type.spec.isolating,y=h.pos-h.parentOffset,N=w&&v.parent.childCount===1?y===h.pos:yn.atStart(u).from===g;return!f||!p.type.isTextblock||p.textContent.length||!N||N&&h.parent.type.name==="paragraph"?!1:o.clearNodes()}),()=>o.deleteSelection(),()=>o.joinBackward(),()=>o.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:o})=>[()=>o.deleteSelection(),()=>o.deleteCurrentNode(),()=>o.joinForward(),()=>o.selectNodeForward()]),n={Enter:()=>this.editor.commands.first(({commands:o})=>[()=>o.newlineInCode(),()=>o.createParagraphNear(),()=>o.liftEmptyBlock(),()=>o.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},s={...n},i={...n,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return bP()||jee()?i:s},addProseMirrorPlugins(){return[new Ps({key:new Pi("clearDocument"),appendTransaction:(t,e,r)=>{if(t.some(w=>w.getMeta("composition")))return;const n=t.some(w=>w.docChanged)&&!e.doc.eq(r.doc),s=t.some(w=>w.getMeta("preventClearDocument"));if(!n||s)return;const{empty:i,from:o,to:l}=e.selection,c=yn.atStart(e.doc).from,u=yn.atEnd(e.doc).to;if(i||!(o===c&&l===u)||!aS(r.doc))return;const g=r.tr,p=eS({state:r,transaction:g}),{commands:v}=new tS({editor:this.editor,state:p});if(v.clearNodes(),!!g.steps.length)return g}})]}}),Mee=La.create({name:"paste",addProseMirrorPlugins(){return[new Ps({key:new Pi("tiptapPaste"),props:{handlePaste:(t,e,r)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:r})}}})]}}),Eee=La.create({name:"tabindex",addProseMirrorPlugins(){return[new Ps({key:new Pi("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),aCe=class lg{constructor(e,r,n=!1,s=null){this.currentNode=null,this.actualDepth=null,this.isBlock=n,this.resolvedPos=e,this.editor=r,this.currentNode=s}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!=null?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let r=this.from,n=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You can’t set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}r=this.from+1,n=this.to-1}this.editor.commands.insertContentAt({from:r,to:n},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),r=this.resolvedPos.doc.resolve(e);return new lg(r,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new lg(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new lg(e,this.editor)}get children(){const e=[];return this.node.content.forEach((r,n)=>{const s=r.isBlock&&!r.isTextblock,i=r.isAtom&&!r.isText,o=this.pos+n+(i?0:1);if(o<0||o>this.resolvedPos.doc.nodeSize-2)return;const l=this.resolvedPos.doc.resolve(o);if(!s&&l.depth<=this.depth)return;const c=new lg(l,this.editor,s,s?r:null);s&&(c.actualDepth=this.depth+1),e.push(new lg(l,this.editor,s,s?r:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,r={}){let n=null,s=this.parent;for(;s&&!n;){if(s.node.type.name===e)if(Object.keys(r).length>0){const i=s.node.attrs,o=Object.keys(r);for(let l=0;l<o.length;l+=1){const c=o[l];if(i[c]!==r[c])break}}else n=s;s=s.parent}return n}querySelector(e,r={}){return this.querySelectorAll(e,r,!0)[0]||null}querySelectorAll(e,r={},n=!1){let s=[];if(!this.children||this.children.length===0)return s;const i=Object.keys(r);return this.children.forEach(o=>{n&&s.length>0||(o.node.type.name===e&&i.every(c=>r[c]===o.node.attrs[c])&&s.push(o),!(n&&s.length>0)&&(s=s.concat(o.querySelectorAll(e,r,n))))}),s}setAttribute(e){const{tr:r}=this.editor.state;r.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(r)}},sCe=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function iCe(t,e,r){const n=document.querySelector("style[data-tiptap-style]");if(n!==null)return n;const s=document.createElement("style");return e&&s.setAttribute("nonce",e),s.setAttribute("data-tiptap-style",""),s.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(s),s}var oCe=class extends jSe{constructor(t={}){super(),this.css=null,this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:n})=>{throw n},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(t),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:n,slice:s,moved:i})=>this.options.onDrop(n,s,i)),this.on("paste",({event:n,slice:s})=>this.options.onPaste(n,s)),this.on("delete",this.options.onDelete);const e=this.createDoc(),r=gee(e,this.options.autofocus);this.editorState=xg.create({doc:e,schema:this.schema,selection:r||void 0}),this.options.element&&this.mount(this.options.element)}mount(t){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(t),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const t=this.editorView.dom;t!=null&&t.editor&&delete t.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(t){console.warn("Failed to remove CSS element:",t)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=iCe(sCe,this.options.injectNonce))}setOptions(t={}){this.options={...this.options,...t},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(t,e=!0){this.setOptions({editable:t}),e&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:t=>{this.editorState=t},dispatch:t=>{this.dispatchTransaction(t)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(t,e)=>{if(this.editorView)return this.editorView[e];if(e==="state")return this.editorState;if(e in t)return Reflect.get(t,e);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${e}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(t,e){const r=see(e)?e(t,[...this.state.plugins]):[...this.state.plugins,t],n=this.state.reconfigure({plugins:r});return this.view.updateState(n),n}unregisterPlugin(t){if(this.isDestroyed)return;const e=this.state.plugins;let r=e;if([].concat(t).forEach(s=>{const i=typeof s=="string"?`${s}$`:s.key;r=r.filter(o=>!o.key.startsWith(i))}),e.length===r.length)return;const n=this.state.reconfigure({plugins:r});return this.view.updateState(n),n}createExtensionManager(){var t,e;const n=[...this.options.enableCoreExtensions?[Cee,vee.configure({blockSeparator:(e=(t=this.options.coreExtensionOptions)==null?void 0:t.clipboardTextSerializer)==null?void 0:e.blockSeparator}),Nee,Aee,Tee,Eee,kee,Mee,See].filter(s=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[s.name]!==!1:!0):[],...this.options.extensions].filter(s=>["extension","node","mark"].includes(s==null?void 0:s.type));this.extensionManager=new iS(n,this)}createCommandManager(){this.commandManager=new tS({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let t;try{t=BM(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(e){if(!(e instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(e.message))throw e;this.emit("contentError",{editor:this,error:e,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(r=>r.name!=="collaboration"),this.createExtensionManager()}}),t=BM(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return t}createView(t){var e;this.editorView=new zZ(t,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)==null?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const r=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(r),this.prependClass(),this.injectCSS();const n=this.view.dom;n.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1;const e=this.capturedTransaction;return this.capturedTransaction=null,e}dispatchTransaction(t){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=t;return}t.steps.forEach(u=>{var f;return(f=this.capturedTransaction)==null?void 0:f.step(u)});return}const{state:e,transactions:r}=this.state.applyTransaction(t),n=!this.state.selection.eq(e.selection),s=r.includes(t),i=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:t,nextState:e}),!s)return;this.view.updateState(e),this.emit("transaction",{editor:this,transaction:t,appendedTransactions:r.slice(1)}),n&&this.emit("selectionUpdate",{editor:this,transaction:t});const o=r.findLast(u=>u.getMeta("focus")||u.getMeta("blur")),l=o==null?void 0:o.getMeta("focus"),c=o==null?void 0:o.getMeta("blur");l&&this.emit("focus",{editor:this,event:l.event,transaction:o}),c&&this.emit("blur",{editor:this,event:c.event,transaction:o}),!(t.getMeta("preventUpdate")||!r.some(u=>u.docChanged)||i.doc.eq(e.doc))&&this.emit("update",{editor:this,transaction:t,appendedTransactions:r.slice(1)})}getAttributes(t){return dee(this.state,t)}isActive(t,e){const r=typeof t=="string"?t:null,n=typeof t=="string"?e:t;return RSe(this.state,r,n)}getJSON(){return this.state.doc.toJSON()}getHTML(){return fP(this.state.doc.content,this.schema)}getText(t){const{blockSeparator:e=`

`,textSerializers:r={}}=t||{};return MSe(this.state.doc,{blockSeparator:e,textSerializers:{...cee(this.schema),...r}})}get isEmpty(){return aS(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var t,e;return(e=(t=this.editorView)==null?void 0:t.isDestroyed)!=null?e:!0}$node(t,e){var r;return((r=this.$doc)==null?void 0:r.querySelector(t,e))||null}$nodes(t,e){var r;return((r=this.$doc)==null?void 0:r.querySelectorAll(t,e))||null}$pos(t){const e=this.state.doc.resolve(t);return new aCe(e,this)}get $doc(){return this.$pos(0)}};function $p(t){return new sS({find:t.find,handler:({state:e,range:r,match:n})=>{const s=ha(t.getAttributes,void 0,n);if(s===!1||s===null)return null;const{tr:i}=e,o=n[n.length-1],l=n[0];if(o){const c=l.search(/\S/),u=r.from+l.indexOf(o),f=u+o.length;if(gP(r.from,r.to,e.doc).filter(p=>p.mark.type.excluded.find(w=>w===t.type&&w!==p.mark.type)).filter(p=>p.to>u).length)return null;f<r.to&&i.delete(f,r.to),u>r.from&&i.delete(r.from+c,u);const g=r.from+c+o.length;i.addMark(r.from+c,g,t.type.create(s||{})),i.removeStoredMark(t.type)}},undoable:t.undoable})}function lCe(t){return new sS({find:t.find,handler:({state:e,range:r,match:n})=>{const s=ha(t.getAttributes,void 0,n)||{},{tr:i}=e,o=r.from;let l=r.to;const c=t.type.create(s);if(n[1]){const u=n[0].lastIndexOf(n[1]);let f=o+u;f>l?f=l:l=f+n[1].length;const h=n[0][n[0].length-1];i.insertText(h,o+n[0].length-1),i.replaceWith(f,l,c)}else if(n[0]){const u=t.type.isInline?o:o-1;i.insert(u,t.type.create(s)).delete(i.mapping.map(o),i.mapping.map(l))}i.scrollIntoView()},undoable:t.undoable})}function HM(t){return new sS({find:t.find,handler:({state:e,range:r,match:n})=>{const s=e.doc.resolve(r.from),i=ha(t.getAttributes,void 0,n)||{};if(!s.node(-1).canReplaceWith(s.index(-1),s.indexAfter(-1),t.type))return null;e.tr.delete(r.from,r.to).setBlockType(r.from,r.from,t.type,i)},undoable:t.undoable})}function ax(t){return new sS({find:t.find,handler:({state:e,range:r,match:n,chain:s})=>{const i=ha(t.getAttributes,void 0,n)||{},o=e.tr.delete(r.from,r.to),c=o.doc.resolve(r.from).blockRange(),u=c&&KD(c,t.type,i);if(!u)return null;if(o.wrap(c,u),t.keepMarks&&t.editor){const{selection:h,storedMarks:g}=e,{splittableMarks:p}=t.editor.extensionManager,v=g||h.$to.parentOffset&&h.$from.marks();if(v){const w=v.filter(y=>p.includes(y.type.name));o.ensureMarks(w)}}if(t.keepAttributes){const h=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";s().updateAttributes(h,i).run()}const f=o.doc.resolve(r.from-1).nodeBefore;f&&f.type===t.type&&bm(o.doc,r.from-1)&&(!t.joinPredicate||t.joinPredicate(n,f))&&o.join(r.from-1)},undoable:t.undoable})}function cCe(t,e){const{selection:r}=t,{$from:n}=r;if(r instanceof Fr){const i=n.index();return n.parent.canReplaceWith(i,i+1,e)}let s=n.depth;for(;s>=0;){const i=n.index(s);if(n.node(s).contentMatchAt(i).matchType(e))return!0;s-=1}return!1}function uCe(t,e,r={}){const{state:n}=e,{doc:s,tr:i}=n,o=t;s.descendants((l,c)=>{const u=i.mapping.map(c),f=i.mapping.map(c)+l.nodeSize;let h=null;if(l.marks.forEach(p=>{if(p!==o)return!1;h=p}),!h)return;let g=!1;if(Object.keys(r).forEach(p=>{r[p]!==h.attrs[p]&&(g=!0)}),g){const p=t.type.create({...t.attrs,...r});i.removeMark(u,f,t.type),i.addMark(u,f,p)}}),i.docChanged&&e.view.dispatch(i)}var Rl=class Oee extends xP{constructor(){super(...arguments),this.type="node"}static create(e={}){const r=typeof e=="function"?e():e;return new Oee(r)}configure(e){return super.configure(e)}extend(e){const r=typeof e=="function"?e():e;return super.extend(r)}};function pm(t){return new USe({find:t.find,handler:({state:e,range:r,match:n,pasteEvent:s})=>{const i=ha(t.getAttributes,void 0,n,s);if(i===!1||i===null)return null;const{tr:o}=e,l=n[n.length-1],c=n[0];let u=r.to;if(l){const f=c.search(/\S/),h=r.from+c.indexOf(l),g=h+l.length;if(gP(r.from,r.to,e.doc).filter(v=>v.mark.type.excluded.find(y=>y===t.type&&y!==v.mark.type)).filter(v=>v.to>h).length)return null;g<r.to&&o.delete(g,r.to),h>r.from&&o.delete(r.from+f,h),u=r.from+f+l.length,o.addMark(r.from+f,u,t.type.create(i||{})),o.removeStoredMark(t.type)}}})}var dCe=20,Dee=(t,e=0)=>{const r=[];return!t.children.length||e>dCe||Array.from(t.children).forEach(n=>{n.tagName==="SPAN"?r.push(n):n.children.length&&r.push(...Dee(n,e+1))}),r},fCe=t=>{if(!t.children.length)return;const e=Dee(t);e&&e.forEach(r=>{var n,s;const i=r.getAttribute("style"),o=(s=(n=r.parentElement)==null?void 0:n.closest("span"))==null?void 0:s.getAttribute("style");r.setAttribute("style",`${o};${i}`)})},hCe=Uf.create({name:"textStyle",priority:101,addOptions(){return{HTMLAttributes:{},mergeNestedSpanStyles:!0}},parseHTML(){return[{tag:"span",consuming:!1,getAttrs:t=>t.hasAttribute("style")?(this.options.mergeNestedSpanStyles&&fCe(t),{}):!1}]},renderHTML({HTMLAttributes:t}){return["span",Os(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleTextStyle:t=>({commands:e})=>e.toggleMark(this.name,t),removeEmptyTextStyle:()=>({tr:t})=>{const{selection:e}=t;return t.doc.nodesBetween(e.from,e.to,(r,n)=>{if(r.isTextblock)return!0;r.marks.filter(s=>s.type===this.type).some(s=>Object.values(s.attrs).some(i=>!!i))||t.removeMark(n,n+r.nodeSize,this.type)}),!0}}}}),mCe=La.create({name:"backgroundColor",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{backgroundColor:{default:null,parseHTML:t=>{var e;const r=t.getAttribute("style");if(r){const n=r.split(";").map(s=>s.trim()).filter(Boolean);for(let s=n.length-1;s>=0;s-=1){const i=n[s].split(":");if(i.length>=2){const o=i[0].trim().toLowerCase(),l=i.slice(1).join(":").trim();if(o==="background-color")return l.replace(/['"]+/g,"")}}}return(e=t.style.backgroundColor)==null?void 0:e.replace(/['"]+/g,"")},renderHTML:t=>t.backgroundColor?{style:`background-color: ${t.backgroundColor}`}:{}}}}]},addCommands(){return{setBackgroundColor:t=>({chain:e})=>e().setMark("textStyle",{backgroundColor:t}).run(),unsetBackgroundColor:()=>({chain:t})=>t().setMark("textStyle",{backgroundColor:null}).removeEmptyTextStyle().run()}}}),Pee=La.create({name:"color",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:t=>{var e;const r=t.getAttribute("style");if(r){const n=r.split(";").map(s=>s.trim()).filter(Boolean);for(let s=n.length-1;s>=0;s-=1){const i=n[s].split(":");if(i.length>=2){const o=i[0].trim().toLowerCase(),l=i.slice(1).join(":").trim();if(o==="color")return l.replace(/['"]+/g,"")}}}return(e=t.style.color)==null?void 0:e.replace(/['"]+/g,"")},renderHTML:t=>t.color?{style:`color: ${t.color}`}:{}}}}]},addCommands(){return{setColor:t=>({chain:e})=>e().setMark("textStyle",{color:t}).run(),unsetColor:()=>({chain:t})=>t().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()}}}),Lee=La.create({name:"fontFamily",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontFamily:{default:null,parseHTML:t=>t.style.fontFamily,renderHTML:t=>t.fontFamily?{style:`font-family: ${t.fontFamily}`}:{}}}}]},addCommands(){return{setFontFamily:t=>({chain:e})=>e().setMark("textStyle",{fontFamily:t}).run(),unsetFontFamily:()=>({chain:t})=>t().setMark("textStyle",{fontFamily:null}).removeEmptyTextStyle().run()}}}),pCe=La.create({name:"fontSize",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontSize:{default:null,parseHTML:t=>t.style.fontSize,renderHTML:t=>t.fontSize?{style:`font-size: ${t.fontSize}`}:{}}}}]},addCommands(){return{setFontSize:t=>({chain:e})=>e().setMark("textStyle",{fontSize:t}).run(),unsetFontSize:()=>({chain:t})=>t().setMark("textStyle",{fontSize:null}).removeEmptyTextStyle().run()}}}),gCe=La.create({name:"lineHeight",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{lineHeight:{default:null,parseHTML:t=>t.style.lineHeight,renderHTML:t=>t.lineHeight?{style:`line-height: ${t.lineHeight}`}:{}}}}]},addCommands(){return{setLineHeight:t=>({chain:e})=>e().setMark("textStyle",{lineHeight:t}).run(),unsetLineHeight:()=>({chain:t})=>t().setMark("textStyle",{lineHeight:null}).removeEmptyTextStyle().run()}}}),xCe=La.create({name:"textStyleKit",addExtensions(){const t=[];return this.options.backgroundColor!==!1&&t.push(mCe.configure(this.options.backgroundColor)),this.options.color!==!1&&t.push(Pee.configure(this.options.color)),this.options.fontFamily!==!1&&t.push(Lee.configure(this.options.fontFamily)),this.options.fontSize!==!1&&t.push(pCe.configure(this.options.fontSize)),this.options.lineHeight!==!1&&t.push(gCe.configure(this.options.lineHeight)),this.options.textStyle!==!1&&t.push(hCe.configure(this.options.textStyle)),t}}),bCe=La.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:null}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:t=>{const e=t.style.textAlign;return this.options.alignments.includes(e)?e:this.options.defaultAlignment},renderHTML:t=>t.textAlign?{style:`text-align: ${t.textAlign}`}:{}}}}]},addCommands(){return{setTextAlign:t=>({commands:e})=>this.options.alignments.includes(t)?this.options.types.map(r=>e.updateAttributes(r,{textAlign:t})).every(r=>r):!1,unsetTextAlign:()=>({commands:t})=>this.options.types.map(e=>t.resetAttributes(e,"textAlign")).every(e=>e),toggleTextAlign:t=>({editor:e,commands:r})=>this.options.alignments.includes(t)?e.isActive({textAlign:t})?r.unsetTextAlign():r.setTextAlign(t):!1}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),yCe=bCe,vCe=Pee,wCe=Lee;const jCe="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mögensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",NCe="ελ1υ2бг1ел3дети4ею2католик6ом3мкд2он1сква6онлайн5рг3рус2ф2сайт3рб3укр3қаз3հայ3ישראל5קום3ابوظبي5رامكو5لاردن4بحرين5جزائر5سعودية6عليان5مغرب5مارات5یران5بارت2زار4يتك3ھارت5تونس4سودان3رية5شبكة4عراق2ب2مان4فلسطين6قطر3كاثوليك6وم3مصر2ليسيا5وريتانيا7قع4همراه5پاکستان7ڀارت4कॉम3नेट3भारत0म्3ोत5संगठन5বাংলা5ভারত2ৰত4ਭਾਰਤ4ભારત4ଭାରତ4இந்தியா6லங்கை6சிங்கப்பூர்11భారత్5ಭಾರತ4ഭാരതം5ලංකා4คอม3ไทย3ລາວ3გე2みんな3アマゾン4クラウド4グーグル4コム2ストア3セール3ファッション6ポイント4世界2中信1国1國1文网3亚马逊3企业2佛山2信息2健康2八卦2公司1益2台湾1灣2商城1店1标2嘉里0大酒店5在线2大拿2天主教3娱乐2家電2广东2微博2慈善2我爱你3手机2招聘2政务1府2新加坡2闻2时尚2書籍2机构2淡马锡3游戏2澳門2点看2移动2组织机构4网址1店1站1络2联通2谷歌2购物2通販2集团2電訊盈科4飞利浦3食品2餐厅2香格里拉3港2닷넷1컴2삼성2한국2",zM="numeric",qM="ascii",UM="alpha",Ay="asciinumeric",py="alphanumeric",WM="domain",Ree="emoji",SCe="scheme",kCe="slashscheme",p_="whitespace";function CCe(t,e){return t in e||(e[t]=[]),e[t]}function dp(t,e,r){e[zM]&&(e[Ay]=!0,e[py]=!0),e[qM]&&(e[Ay]=!0,e[UM]=!0),e[Ay]&&(e[py]=!0),e[UM]&&(e[py]=!0),e[py]&&(e[WM]=!0),e[Ree]&&(e[WM]=!0);for(const n in e){const s=CCe(n,r);s.indexOf(t)<0&&s.push(t)}}function _Ce(t,e){const r={};for(const n in e)e[n].indexOf(t)>=0&&(r[n]=!0);return r}function il(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}il.groups={};il.prototype={accepts(){return!!this.t},go(t){const e=this,r=e.j[t];if(r)return r;for(let n=0;n<e.jr.length;n++){const s=e.jr[n][0],i=e.jr[n][1];if(i&&s.test(t))return i}return e.jd},has(t,e=!1){return e?t in this.j:!!this.go(t)},ta(t,e,r,n){for(let s=0;s<t.length;s++)this.tt(t[s],e,r,n)},tr(t,e,r,n){n=n||il.groups;let s;return e&&e.j?s=e:(s=new il(e),r&&n&&dp(e,r,n)),this.jr.push([t,s]),s},ts(t,e,r,n){let s=this;const i=t.length;if(!i)return s;for(let o=0;o<i-1;o++)s=s.tt(t[o]);return s.tt(t[i-1],e,r,n)},tt(t,e,r,n){n=n||il.groups;const s=this;if(e&&e.j)return s.j[t]=e,e;const i=e;let o,l=s.go(t);if(l?(o=new il,Object.assign(o.j,l.j),o.jr.push.apply(o.jr,l.jr),o.jd=l.jd,o.t=l.t):o=new il,i){if(n)if(o.t&&typeof o.t=="string"){const c=Object.assign(_Ce(o.t,n),r);dp(i,c,n)}else r&&dp(i,r,n);o.t=i}return s.j[t]=o,o}};const bn=(t,e,r,n,s)=>t.ta(e,r,n,s),Ss=(t,e,r,n,s)=>t.tr(e,r,n,s),mB=(t,e,r,n,s)=>t.ts(e,r,n,s),Xt=(t,e,r,n,s)=>t.tt(e,r,n,s),of="WORD",VM="UWORD",Iee="ASCIINUMERICAL",Fee="ALPHANUMERICAL",fv="LOCALHOST",GM="TLD",YM="UTLD",G2="SCHEME",cg="SLASH_SCHEME",yP="NUM",KM="WS",vP="NL",Ty="OPENBRACE",My="CLOSEBRACE",Wj="OPENBRACKET",Vj="CLOSEBRACKET",Gj="OPENPAREN",Yj="CLOSEPAREN",Kj="OPENANGLEBRACKET",Jj="CLOSEANGLEBRACKET",Xj="FULLWIDTHLEFTPAREN",Qj="FULLWIDTHRIGHTPAREN",Zj="LEFTCORNERBRACKET",e5="RIGHTCORNERBRACKET",t5="LEFTWHITECORNERBRACKET",r5="RIGHTWHITECORNERBRACKET",n5="FULLWIDTHLESSTHAN",a5="FULLWIDTHGREATERTHAN",s5="AMPERSAND",i5="APOSTROPHE",o5="ASTERISK",Bh="AT",l5="BACKSLASH",c5="BACKTICK",u5="CARET",qh="COLON",wP="COMMA",d5="DOLLAR",$u="DOT",f5="EQUALS",jP="EXCLAMATION",sc="HYPHEN",Ey="PERCENT",h5="PIPE",m5="PLUS",p5="POUND",Oy="QUERY",NP="QUOTE",Bee="FULLWIDTHMIDDLEDOT",SP="SEMI",Hu="SLASH",Dy="TILDE",g5="UNDERSCORE",$ee="EMOJI",x5="SYM";var Hee=Object.freeze({__proto__:null,ALPHANUMERICAL:Fee,AMPERSAND:s5,APOSTROPHE:i5,ASCIINUMERICAL:Iee,ASTERISK:o5,AT:Bh,BACKSLASH:l5,BACKTICK:c5,CARET:u5,CLOSEANGLEBRACKET:Jj,CLOSEBRACE:My,CLOSEBRACKET:Vj,CLOSEPAREN:Yj,COLON:qh,COMMA:wP,DOLLAR:d5,DOT:$u,EMOJI:$ee,EQUALS:f5,EXCLAMATION:jP,FULLWIDTHGREATERTHAN:a5,FULLWIDTHLEFTPAREN:Xj,FULLWIDTHLESSTHAN:n5,FULLWIDTHMIDDLEDOT:Bee,FULLWIDTHRIGHTPAREN:Qj,HYPHEN:sc,LEFTCORNERBRACKET:Zj,LEFTWHITECORNERBRACKET:t5,LOCALHOST:fv,NL:vP,NUM:yP,OPENANGLEBRACKET:Kj,OPENBRACE:Ty,OPENBRACKET:Wj,OPENPAREN:Gj,PERCENT:Ey,PIPE:h5,PLUS:m5,POUND:p5,QUERY:Oy,QUOTE:NP,RIGHTCORNERBRACKET:e5,RIGHTWHITECORNERBRACKET:r5,SCHEME:G2,SEMI:SP,SLASH:Hu,SLASH_SCHEME:cg,SYM:x5,TILDE:Dy,TLD:GM,UNDERSCORE:g5,UTLD:YM,UWORD:VM,WORD:of,WS:KM});const ef=/[a-z]/,Gb=new RegExp("\\p{L}","u"),g_=new RegExp("\\p{Emoji}","u"),tf=/\d/,x_=/\s/,pB="\r",b_=`
`,ACe="️",TCe="‍",y_="￼";let Ww=null,Vw=null;function MCe(t=[]){const e={};il.groups=e;const r=new il;Ww==null&&(Ww=gB(jCe)),Vw==null&&(Vw=gB(NCe)),Xt(r,"'",i5),Xt(r,"{",Ty),Xt(r,"}",My),Xt(r,"[",Wj),Xt(r,"]",Vj),Xt(r,"(",Gj),Xt(r,")",Yj),Xt(r,"<",Kj),Xt(r,">",Jj),Xt(r,"（",Xj),Xt(r,"）",Qj),Xt(r,"「",Zj),Xt(r,"」",e5),Xt(r,"『",t5),Xt(r,"』",r5),Xt(r,"＜",n5),Xt(r,"＞",a5),Xt(r,"&",s5),Xt(r,"*",o5),Xt(r,"@",Bh),Xt(r,"`",c5),Xt(r,"^",u5),Xt(r,":",qh),Xt(r,",",wP),Xt(r,"$",d5),Xt(r,".",$u),Xt(r,"=",f5),Xt(r,"!",jP),Xt(r,"-",sc),Xt(r,"%",Ey),Xt(r,"|",h5),Xt(r,"+",m5),Xt(r,"#",p5),Xt(r,"?",Oy),Xt(r,'"',NP),Xt(r,"/",Hu),Xt(r,";",SP),Xt(r,"~",Dy),Xt(r,"_",g5),Xt(r,"\\",l5),Xt(r,"・",Bee);const n=Ss(r,tf,yP,{[zM]:!0});Ss(n,tf,n);const s=Ss(n,ef,Iee,{[Ay]:!0}),i=Ss(n,Gb,Fee,{[py]:!0}),o=Ss(r,ef,of,{[qM]:!0});Ss(o,tf,s),Ss(o,ef,o),Ss(s,tf,s),Ss(s,ef,s);const l=Ss(r,Gb,VM,{[UM]:!0});Ss(l,ef),Ss(l,tf,i),Ss(l,Gb,l),Ss(i,tf,i),Ss(i,ef),Ss(i,Gb,i);const c=Xt(r,b_,vP,{[p_]:!0}),u=Xt(r,pB,KM,{[p_]:!0}),f=Ss(r,x_,KM,{[p_]:!0});Xt(r,y_,f),Xt(u,b_,c),Xt(u,y_,f),Ss(u,x_,f),Xt(f,pB),Xt(f,b_),Ss(f,x_,f),Xt(f,y_,f);const h=Ss(r,g_,$ee,{[Ree]:!0});Xt(h,"#"),Ss(h,g_,h),Xt(h,ACe,h);const g=Xt(h,TCe);Xt(g,"#"),Ss(g,g_,h);const p=[[ef,o],[tf,s]],v=[[ef,null],[Gb,l],[tf,i]];for(let w=0;w<Ww.length;w++)Eh(r,Ww[w],GM,of,p);for(let w=0;w<Vw.length;w++)Eh(r,Vw[w],YM,VM,v);dp(GM,{tld:!0,ascii:!0},e),dp(YM,{utld:!0,alpha:!0},e),Eh(r,"file",G2,of,p),Eh(r,"mailto",G2,of,p),Eh(r,"http",cg,of,p),Eh(r,"https",cg,of,p),Eh(r,"ftp",cg,of,p),Eh(r,"ftps",cg,of,p),dp(G2,{scheme:!0,ascii:!0},e),dp(cg,{slashscheme:!0,ascii:!0},e),t=t.sort((w,y)=>w[0]>y[0]?1:-1);for(let w=0;w<t.length;w++){const y=t[w][0],k=t[w][1]?{[SCe]:!0}:{[kCe]:!0};y.indexOf("-")>=0?k[WM]=!0:ef.test(y)?tf.test(y)?k[Ay]=!0:k[qM]=!0:k[zM]=!0,mB(r,y,y,k)}return mB(r,"localhost",fv,{ascii:!0}),r.jd=new il(x5),{start:r,tokens:Object.assign({groups:e},Hee)}}function zee(t,e){const r=ECe(e.replace(/[A-Z]/g,l=>l.toLowerCase())),n=r.length,s=[];let i=0,o=0;for(;o<n;){let l=t,c=null,u=0,f=null,h=-1,g=-1;for(;o<n&&(c=l.go(r[o]));)l=c,l.accepts()?(h=0,g=0,f=l):h>=0&&(h+=r[o].length,g++),u+=r[o].length,i+=r[o].length,o++;i-=h,o-=g,u-=h,s.push({t:f.t,v:e.slice(i-u,i),s:i-u,e:i})}return s}function ECe(t){const e=[],r=t.length;let n=0;for(;n<r;){let s=t.charCodeAt(n),i,o=s<55296||s>56319||n+1===r||(i=t.charCodeAt(n+1))<56320||i>57343?t[n]:t.slice(n,n+2);e.push(o),n+=o.length}return e}function Eh(t,e,r,n,s){let i;const o=e.length;for(let l=0;l<o-1;l++){const c=e[l];t.j[c]?i=t.j[c]:(i=new il(n),i.jr=s.slice(),t.j[c]=i),t=i}return i=new il(r),i.jr=s.slice(),t.j[e[o-1]]=i,i}function gB(t){const e=[],r=[];let n=0,s="0123456789";for(;n<t.length;){let i=0;for(;s.indexOf(t[n+i])>=0;)i++;if(i>0){e.push(r.join(""));for(let o=parseInt(t.substring(n,n+i),10);o>0;o--)r.pop();n+=i}else r.push(t[n]),n++}return e}const hv={defaultProtocol:"http",events:null,format:xB,formatHref:xB,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function kP(t,e=null){let r=Object.assign({},hv);t&&(r=Object.assign(r,t instanceof kP?t.o:t));const n=r.ignoreTags,s=[];for(let i=0;i<n.length;i++)s.push(n[i].toUpperCase());this.o=r,e&&(this.defaultRender=e),this.ignoreTags=s}kP.prototype={o:hv,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,r){const n=e!=null;let s=this.o[t];return s&&(typeof s=="object"?(s=r.t in s?s[r.t]:hv[t],typeof s=="function"&&n&&(s=s(e,r))):typeof s=="function"&&n&&(s=s(e,r.t,r)),s)},getObj(t,e,r){let n=this.o[t];return typeof n=="function"&&e!=null&&(n=n(e,r.t,r)),n},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function xB(t){return t}function qee(t,e){this.t="token",this.v=t,this.tk=e}qee.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),r=t.get("truncate",e,this),n=t.get("format",e,this);return r&&n.length>r?n.substring(0,r)+"…":n},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=hv.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,r=this.toHref(t.get("defaultProtocol")),n=t.get("formatHref",r,this),s=t.get("tagName",r,e),i=this.toFormattedString(t),o={},l=t.get("className",r,e),c=t.get("target",r,e),u=t.get("rel",r,e),f=t.getObj("attributes",r,e),h=t.getObj("events",r,e);return o.href=n,l&&(o.class=l),c&&(o.target=c),u&&(o.rel=u),f&&Object.assign(o,f),{tagName:s,attributes:o,content:i,eventListeners:h}}};function oS(t,e){class r extends qee{constructor(s,i){super(s,i),this.t=t}}for(const n in e)r.prototype[n]=e[n];return r.t=t,r}const bB=oS("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),yB=oS("text"),OCe=oS("nl"),Gw=oS("url",{isLink:!0,toHref(t=hv.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==fv&&t[1].t===qh}}),ec=t=>new il(t);function DCe({groups:t}){const e=t.domain.concat([s5,o5,Bh,l5,c5,u5,d5,f5,sc,yP,Ey,h5,m5,p5,Hu,x5,Dy,g5]),r=[i5,qh,wP,$u,jP,Ey,Oy,NP,SP,Kj,Jj,Ty,My,Vj,Wj,Gj,Yj,Xj,Qj,Zj,e5,t5,r5,n5,a5],n=[s5,i5,o5,l5,c5,u5,d5,f5,sc,Ty,My,Ey,h5,m5,p5,Oy,Hu,x5,Dy,g5],s=ec(),i=Xt(s,Dy);bn(i,n,i),bn(i,t.domain,i);const o=ec(),l=ec(),c=ec();bn(s,t.domain,o),bn(s,t.scheme,l),bn(s,t.slashscheme,c),bn(o,n,i),bn(o,t.domain,o);const u=Xt(o,Bh);Xt(i,Bh,u),Xt(l,Bh,u),Xt(c,Bh,u);const f=Xt(i,$u);bn(f,n,i),bn(f,t.domain,i);const h=ec();bn(u,t.domain,h),bn(h,t.domain,h);const g=Xt(h,$u);bn(g,t.domain,h);const p=ec(bB);bn(g,t.tld,p),bn(g,t.utld,p),Xt(u,fv,p);const v=Xt(h,sc);Xt(v,sc,v),bn(v,t.domain,h),bn(p,t.domain,h),Xt(p,$u,g),Xt(p,sc,v);const w=Xt(p,qh);bn(w,t.numeric,bB);const y=Xt(o,sc),N=Xt(o,$u);Xt(y,sc,y),bn(y,t.domain,o),bn(N,n,i),bn(N,t.domain,o);const k=ec(Gw);bn(N,t.tld,k),bn(N,t.utld,k),bn(k,t.domain,o),bn(k,n,i),Xt(k,$u,N),Xt(k,sc,y),Xt(k,Bh,u);const S=Xt(k,qh),T=ec(Gw);bn(S,t.numeric,T);const _=ec(Gw),D=ec();bn(_,e,_),bn(_,r,D),bn(D,e,_),bn(D,r,D),Xt(k,Hu,_),Xt(T,Hu,_);const E=Xt(l,qh),L=Xt(c,qh),R=Xt(L,Hu),F=Xt(R,Hu);bn(l,t.domain,o),Xt(l,$u,N),Xt(l,sc,y),bn(c,t.domain,o),Xt(c,$u,N),Xt(c,sc,y),bn(E,t.domain,_),Xt(E,Hu,_),Xt(E,Oy,_),bn(F,t.domain,_),bn(F,e,_),Xt(F,Hu,_);const A=[[Ty,My],[Wj,Vj],[Gj,Yj],[Kj,Jj],[Xj,Qj],[Zj,e5],[t5,r5],[n5,a5]];for(let M=0;M<A.length;M++){const[B,z]=A[M],Y=Xt(_,B);Xt(D,B,Y),Xt(Y,z,_);const W=ec(Gw);bn(Y,e,W);const H=ec();bn(Y,r),bn(W,e,W),bn(W,r,H),bn(H,e,W),bn(H,r,H),Xt(W,z,_),Xt(H,z,_)}return Xt(s,fv,k),Xt(s,vP,OCe),{start:s,tokens:Hee}}function PCe(t,e,r){let n=r.length,s=0,i=[],o=[];for(;s<n;){let l=t,c=null,u=null,f=0,h=null,g=-1;for(;s<n&&!(c=l.go(r[s].t));)o.push(r[s++]);for(;s<n&&(u=c||l.go(r[s].t));)c=null,l=u,l.accepts()?(g=0,h=l):g>=0&&g++,s++,f++;if(g<0)s-=f,s<n&&(o.push(r[s]),s++);else{o.length>0&&(i.push(v_(yB,e,o)),o=[]),s-=g,f-=g;const p=h.t,v=r.slice(s-f,s);i.push(v_(p,e,v))}}return o.length>0&&i.push(v_(yB,e,o)),i}function v_(t,e,r){const n=r[0].s,s=r[r.length-1].e,i=e.slice(n,s);return new t(i,r)}const LCe=typeof console<"u"&&console&&console.warn||(()=>{}),RCe="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",Va={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function ICe(){return il.groups={},Va.scanner=null,Va.parser=null,Va.tokenQueue=[],Va.pluginQueue=[],Va.customSchemes=[],Va.initialized=!1,Va}function vB(t,e=!1){if(Va.initialized&&LCe(`linkifyjs: already initialized - will not register custom scheme "${t}" ${RCe}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);Va.customSchemes.push([t,e])}function FCe(){Va.scanner=MCe(Va.customSchemes);for(let t=0;t<Va.tokenQueue.length;t++)Va.tokenQueue[t][1]({scanner:Va.scanner});Va.parser=DCe(Va.scanner.tokens);for(let t=0;t<Va.pluginQueue.length;t++)Va.pluginQueue[t][1]({scanner:Va.scanner,parser:Va.parser});return Va.initialized=!0,Va}function CP(t){return Va.initialized||FCe(),PCe(Va.parser.start,t,zee(Va.scanner.start,t))}CP.scan=zee;function Uee(t,e=null,r=null){if(e&&typeof e=="object"){if(r)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);r=e,e=null}const n=new kP(r),s=CP(t),i=[];for(let o=0;o<s.length;o++){const l=s[o];l.isLink&&(!e||l.t===e)&&n.check(l)&&i.push(l.toFormattedObject(n))}return i}var _P="[\0-   ᠎ -\u2029 　]",BCe=new RegExp(_P),$Ce=new RegExp(`${_P}$`),HCe=new RegExp(_P,"g");function zCe(t){return t.length===1?t[0].isLink:t.length===3&&t[1].isLink?["()","[]"].includes(t[0].value+t[2].value):!1}function qCe(t){return new Ps({key:new Pi("autolink"),appendTransaction:(e,r,n)=>{const s=e.some(u=>u.docChanged)&&!r.doc.eq(n.doc),i=e.some(u=>u.getMeta("preventAutolink"));if(!s||i)return;const{tr:o}=n,l=nee(r.doc,[...e]);if(fee(l).forEach(({newRange:u})=>{const f=SSe(n.doc,u,p=>p.isTextblock);let h,g;if(f.length>1)h=f[0],g=n.doc.textBetween(h.pos,h.pos+h.node.nodeSize,void 0," ");else if(f.length){const p=n.doc.textBetween(u.from,u.to," "," ");if(!$Ce.test(p))return;h=f[0],g=n.doc.textBetween(h.pos,u.to,void 0," ")}if(h&&g){const p=g.split(BCe).filter(Boolean);if(p.length<=0)return!1;const v=p[p.length-1],w=h.pos+g.lastIndexOf(v);if(!v)return!1;const y=CP(v).map(N=>N.toObject(t.defaultProtocol));if(!zCe(y))return!1;y.filter(N=>N.isLink).map(N=>({...N,from:w+N.start+1,to:w+N.end+1})).filter(N=>n.schema.marks.code?!n.doc.rangeHasMark(N.from,N.to,n.schema.marks.code):!0).filter(N=>t.validate(N.value)).filter(N=>t.shouldAutoLink(N.value)).forEach(N=>{gP(N.from,N.to,n.doc).some(k=>k.mark.type===t.type)||o.addMark(N.from,N.to,t.type.create({href:N.href}))})}}),!!o.steps.length)return o}})}function UCe(t){return new Ps({key:new Pi("handleClickLink"),props:{handleClick:(e,r,n)=>{var s,i;if(n.button!==0||!e.editable)return!1;let o=null;if(n.target instanceof HTMLAnchorElement)o=n.target;else{let f=n.target;const h=[];for(;f.nodeName!=="DIV";)h.push(f),f=f.parentNode;o=h.find(g=>g.nodeName==="A")}if(!o)return!1;const l=dee(e.state,t.type.name),c=(s=o==null?void 0:o.href)!=null?s:l.href,u=(i=o==null?void 0:o.target)!=null?i:l.target;return t.enableClickSelection&&t.editor.commands.extendMarkRange(t.type.name),o&&c?(window.open(c,u),!0):!1}}})}function WCe(t){return new Ps({key:new Pi("handlePasteLink"),props:{handlePaste:(e,r,n)=>{const{state:s}=e,{selection:i}=s,{empty:o}=i;if(o)return!1;let l="";n.content.forEach(u=>{l+=u.textContent});const c=Uee(l,{defaultProtocol:t.defaultProtocol}).find(u=>u.isLink&&u.value===l);return!l||!c?!1:t.editor.commands.setMark(t.type,{href:c.href})}}})}function Wm(t,e){const r=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(n=>{const s=typeof n=="string"?n:n.scheme;s&&r.push(s)}),!t||t.replace(HCe,"").match(new RegExp(`^(?:(?:${r.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var Wee=Uf.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(t=>{if(typeof t=="string"){vB(t);return}vB(t.scheme,t.optionalSlashes)})},onDestroy(){ICe()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(t,e)=>!!Wm(t,e.protocols),validate:t=>!!t,shouldAutoLink:t=>!!t}},addAttributes(){return{href:{default:null,parseHTML(t){return t.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:t=>{const e=t.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:r=>!!Wm(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:t}){return this.options.isAllowedUri(t.href,{defaultValidate:e=>!!Wm(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",Os(this.options.HTMLAttributes,t),0]:["a",Os(this.options.HTMLAttributes,{...t,href:""}),0]},addCommands(){return{setLink:t=>({chain:e})=>{const{href:r}=t;return this.options.isAllowedUri(r,{defaultValidate:n=>!!Wm(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,t).setMeta("preventAutolink",!0).run():!1},toggleLink:t=>({chain:e})=>{const{href:r}=t||{};return r&&!this.options.isAllowedUri(r,{defaultValidate:n=>!!Wm(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[pm({find:t=>{const e=[];if(t){const{protocols:r,defaultProtocol:n}=this.options,s=Uee(t).filter(i=>i.isLink&&this.options.isAllowedUri(i.value,{defaultValidate:o=>!!Wm(o,r),protocols:r,defaultProtocol:n}));s.length&&s.forEach(i=>e.push({text:i.value,data:{href:i.href},index:i.start}))}return e},type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)==null?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[],{protocols:e,defaultProtocol:r}=this.options;return this.options.autolink&&t.push(qCe({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:n=>this.options.isAllowedUri(n,{defaultValidate:s=>!!Wm(s,e),protocols:e,defaultProtocol:r}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&t.push(UCe({type:this.type,editor:this.editor,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&t.push(WCe({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type})),t}}),VCe=Wee,w_={exports:{}},j_={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wB;function GCe(){if(wB)return j_;wB=1;var t=Xv();function e(h,g){return h===g&&(h!==0||1/h===1/g)||h!==h&&g!==g}var r=typeof Object.is=="function"?Object.is:e,n=t.useState,s=t.useEffect,i=t.useLayoutEffect,o=t.useDebugValue;function l(h,g){var p=g(),v=n({inst:{value:p,getSnapshot:g}}),w=v[0].inst,y=v[1];return i(function(){w.value=p,w.getSnapshot=g,c(w)&&y({inst:w})},[h,p,g]),s(function(){return c(w)&&y({inst:w}),h(function(){c(w)&&y({inst:w})})},[h]),o(p),p}function c(h){var g=h.getSnapshot;h=h.value;try{var p=g();return!r(h,p)}catch{return!0}}function u(h,g){return g()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:l;return j_.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:f,j_}var jB;function Vee(){return jB||(jB=1,w_.exports=GCe()),w_.exports}var Gee=Vee(),N_,NB;function YCe(){return NB||(NB=1,N_=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var n,s,i;if(Array.isArray(e)){if(n=e.length,n!=r.length)return!1;for(s=n;s--!==0;)if(!t(e[s],r[s]))return!1;return!0}if(e instanceof Map&&r instanceof Map){if(e.size!==r.size)return!1;for(s of e.entries())if(!r.has(s[0]))return!1;for(s of e.entries())if(!t(s[1],r.get(s[0])))return!1;return!0}if(e instanceof Set&&r instanceof Set){if(e.size!==r.size)return!1;for(s of e.entries())if(!r.has(s[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(r)){if(n=e.length,n!=r.length)return!1;for(s=n;s--!==0;)if(e[s]!==r[s])return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(i=Object.keys(e),n=i.length,n!==Object.keys(r).length)return!1;for(s=n;s--!==0;)if(!Object.prototype.hasOwnProperty.call(r,i[s]))return!1;for(s=n;s--!==0;){var o=i[s];if(!(o==="_owner"&&e.$$typeof)&&!t(e[o],r[o]))return!1}return!0}return e!==e&&r!==r}),N_}var KCe=YCe();const JCe=Vn(KCe);var S_={exports:{}},k_={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SB;function XCe(){if(SB)return k_;SB=1;var t=Xv(),e=Vee();function r(u,f){return u===f&&(u!==0||1/u===1/f)||u!==u&&f!==f}var n=typeof Object.is=="function"?Object.is:r,s=e.useSyncExternalStore,i=t.useRef,o=t.useEffect,l=t.useMemo,c=t.useDebugValue;return k_.useSyncExternalStoreWithSelector=function(u,f,h,g,p){var v=i(null);if(v.current===null){var w={hasValue:!1,value:null};v.current=w}else w=v.current;v=l(function(){function N(D){if(!k){if(k=!0,S=D,D=g(D),p!==void 0&&w.hasValue){var E=w.value;if(p(E,D))return T=E}return T=D}if(E=T,n(S,D))return E;var L=g(D);return p!==void 0&&p(E,L)?(S=D,E):(S=D,T=L)}var k=!1,S,T,_=h===void 0?null:h;return[function(){return N(f())},_===null?void 0:function(){return N(_())}]},[f,h,g,p]);var y=s(u,v[0],v[1]);return o(function(){w.hasValue=!0,w.value=y},[y]),c(y),y},k_}var kB;function QCe(){return kB||(kB=1,S_.exports=XCe()),S_.exports}var ZCe=QCe(),e_e=(...t)=>e=>{t.forEach(r=>{typeof r=="function"?r(e):r&&(r.current=e)})},t_e=({contentComponent:t})=>{const e=Gee.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return a.jsx(a.Fragment,{children:Object.values(e)})};function r_e(){const t=new Set;let e={};return{subscribe(r){return t.add(r),()=>{t.delete(r)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(r,n){e={...e,[r]:lK.createPortal(n.reactElement,n.element,r)},t.forEach(s=>s())},removeRenderer(r){const n={...e};delete n[r],e=n,t.forEach(s=>s())}}}var n_e=class extends pe.Component{constructor(t){var e;super(t),this.editorContentRef=pe.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((e=t.editor)!=null&&e.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const t=this.props.editor;if(t&&!t.isDestroyed&&t.options.element){if(t.contentComponent)return;const e=this.editorContentRef.current;e.append(t.view.dom),t.setOptions({element:e}),t.contentComponent=r_e(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=t.contentComponent.subscribe(()=>{this.setState(r=>r.hasContentComponentInitialized?r:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),t.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var t;const e=this.props.editor;if(e){this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null;try{if(!((t=e.view.dom)!=null&&t.firstChild))return;const r=document.createElement("div");r.append(e.view.dom),e.setOptions({element:r})}catch{}}}render(){const{editor:t,innerRef:e,...r}=this.props;return a.jsxs(a.Fragment,{children:[a.jsx("div",{ref:e_e(e,this.editorContentRef),...r}),(t==null?void 0:t.contentComponent)&&a.jsx(t_e,{contentComponent:t.contentComponent})]})}},a_e=b.forwardRef((t,e)=>{const r=pe.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return pe.createElement(n_e,{key:r,innerRef:e,...t})}),s_e=pe.memo(a_e),i_e=typeof window<"u"?b.useLayoutEffect:b.useEffect,o_e=class{constructor(t){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=t,this.lastSnapshot={editor:t,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(t){return this.subscribers.add(t),()=>{this.subscribers.delete(t)}}watch(t){if(this.editor=t,this.editor){const e=()=>{this.transactionNumber+=1,this.subscribers.forEach(n=>n())},r=this.editor;return r.on("transaction",e),()=>{r.off("transaction",e)}}}};function Yee(t){var e;const[r]=b.useState(()=>new o_e(t.editor)),n=ZCe.useSyncExternalStoreWithSelector(r.subscribe,r.getSnapshot,r.getServerSnapshot,t.selector,(e=t.equalityFn)!=null?e:JCe);return i_e(()=>r.watch(t.editor),[t.editor,r]),b.useDebugValue(n),n}var l_e=!1,JM=typeof window>"u",c_e=JM||!!(typeof window<"u"&&window.next),u_e=class Kee{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(r=>r())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?JM||c_e?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...n)=>{var s,i;return(i=(s=this.options.current).onBeforeCreate)==null?void 0:i.call(s,...n)},onBlur:(...n)=>{var s,i;return(i=(s=this.options.current).onBlur)==null?void 0:i.call(s,...n)},onCreate:(...n)=>{var s,i;return(i=(s=this.options.current).onCreate)==null?void 0:i.call(s,...n)},onDestroy:(...n)=>{var s,i;return(i=(s=this.options.current).onDestroy)==null?void 0:i.call(s,...n)},onFocus:(...n)=>{var s,i;return(i=(s=this.options.current).onFocus)==null?void 0:i.call(s,...n)},onSelectionUpdate:(...n)=>{var s,i;return(i=(s=this.options.current).onSelectionUpdate)==null?void 0:i.call(s,...n)},onTransaction:(...n)=>{var s,i;return(i=(s=this.options.current).onTransaction)==null?void 0:i.call(s,...n)},onUpdate:(...n)=>{var s,i;return(i=(s=this.options.current).onUpdate)==null?void 0:i.call(s,...n)},onContentError:(...n)=>{var s,i;return(i=(s=this.options.current).onContentError)==null?void 0:i.call(s,...n)},onDrop:(...n)=>{var s,i;return(i=(s=this.options.current).onDrop)==null?void 0:i.call(s,...n)},onPaste:(...n)=>{var s,i;return(i=(s=this.options.current).onPaste)==null?void 0:i.call(s,...n)},onDelete:(...n)=>{var s,i;return(i=(s=this.options.current).onDelete)==null?void 0:i.call(s,...n)}};return new oCe(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,r){return Object.keys(e).every(n=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(n)?!0:n==="extensions"&&e.extensions&&r.extensions?e.extensions.length!==r.extensions.length?!1:e.extensions.every((s,i)=>{var o;return s===((o=r.extensions)==null?void 0:o[i])}):e[n]===r[n])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?Kee.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((n,s)=>n===e[s]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,r=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){r&&r.setOptions(this.options.current);return}r&&!r.isDestroyed&&(r.destroy(),this.instanceId===e&&this.setEditor(null))},1)}};function d_e(t={},e=[]){const r=b.useRef(t);r.current=t;const[n]=b.useState(()=>new u_e(r)),s=Gee.useSyncExternalStore(n.subscribe,n.getEditor,n.getServerSnapshot);return b.useDebugValue(s),b.useEffect(n.onRender(e)),Yee({editor:s,selector:({transactionNumber:i})=>t.shouldRerenderOnTransaction===!1||t.shouldRerenderOnTransaction===void 0?null:t.immediatelyRender&&i===0?0:i+1}),s}var f_e=b.createContext({editor:null});f_e.Consumer;var h_e=b.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),m_e=()=>b.useContext(h_e);pe.forwardRef((t,e)=>{const{onDragStart:r}=m_e(),n=t.as||"div";return a.jsx(n,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:r,style:{whiteSpace:"normal",...t.style}})});pe.createContext({markViewContentRef:()=>{}});var b5=(t,e)=>{if(t==="slot")return 0;if(t instanceof Function)return t(e);const{children:r,...n}=e??{};if(t==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[t,n,r]},p_e=/^\s*>\s$/,g_e=Rl.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return b5("blockquote",{...Os(this.options.HTMLAttributes,t),children:b5("slot",{})})},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[ax({find:p_e,type:this.type})]}}),x_e=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,b_e=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,y_e=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,v_e=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,w_e=Uf.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return b5("strong",{...Os(this.options.HTMLAttributes,t),children:b5("slot",{})})},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[$p({find:x_e,type:this.type}),$p({find:y_e,type:this.type})]},addPasteRules(){return[pm({find:b_e,type:this.type}),pm({find:v_e,type:this.type})]}}),j_e=/(^|[^`])`([^`]+)`(?!`)$/,N_e=/(^|[^`])`([^`]+)`(?!`)/g,S_e=Uf.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",Os(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[$p({find:j_e,type:this.type})]},addPasteRules(){return[pm({find:N_e,type:this.type})]}}),C_=4,k_e=/^```([a-z]+)?[\s\n]$/,C_e=/^~~~([a-z]+)?[\s\n]$/,__e=Rl.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:C_,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:r}=this.options;if(!r)return null;const i=[...((e=t.firstElementChild)==null?void 0:e.classList)||[]].filter(o=>o.startsWith(r)).map(o=>o.replace(r,""))[0];return i||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",Os(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,r=e.pos===1;return!t||e.parent.type.name!==this.name?!1:r||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const r=(e=this.options.tabSize)!=null?e:C_,{state:n}=t,{selection:s}=n,{$from:i,empty:o}=s;if(i.parent.type!==this.type)return!1;const l=" ".repeat(r);return o?t.commands.insertContent(l):t.commands.command(({tr:c})=>{const{from:u,to:f}=s,p=n.doc.textBetween(u,f,`
`,`
`).split(`
`).map(v=>l+v).join(`
`);return c.replaceWith(u,f,n.schema.text(p)),!0})},"Shift-Tab":({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const r=(e=this.options.tabSize)!=null?e:C_,{state:n}=t,{selection:s}=n,{$from:i,empty:o}=s;return i.parent.type!==this.type?!1:o?t.commands.command(({tr:l})=>{var c;const{pos:u}=i,f=i.start(),h=i.end(),p=n.doc.textBetween(f,h,`
`,`
`).split(`
`);let v=0,w=0;const y=u-f;for(let D=0;D<p.length;D+=1){if(w+p[D].length>=y){v=D;break}w+=p[D].length+1}const k=((c=p[v].match(/^ */))==null?void 0:c[0])||"",S=Math.min(k.length,r);if(S===0)return!0;let T=f;for(let D=0;D<v;D+=1)T+=p[D].length+1;return l.delete(T,T+S),u-T<=S&&l.setSelection(rn.create(l.doc,T)),!0}):t.commands.command(({tr:l})=>{const{from:c,to:u}=s,g=n.doc.textBetween(c,u,`
`,`
`).split(`
`).map(p=>{var v;const w=((v=p.match(/^ */))==null?void 0:v[0])||"",y=Math.min(w.length,r);return p.slice(y)}).join(`
`);return l.replaceWith(c,u,n.schema.text(g)),!0})},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:r}=e,{$from:n,empty:s}=r;if(!s||n.parent.type!==this.type)return!1;const i=n.parentOffset===n.parent.nodeSize-2,o=n.parent.textContent.endsWith(`

`);return!i||!o?!1:t.chain().command(({tr:l})=>(l.delete(n.pos-2,n.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:r,doc:n}=e,{$from:s,empty:i}=r;if(!i||s.parent.type!==this.type||!(s.parentOffset===s.parent.nodeSize-2))return!1;const l=s.after();return l===void 0?!1:n.nodeAt(l)?t.commands.command(({tr:u})=>(u.setSelection(yn.near(n.resolve(l))),!0)):t.commands.exitCode()}}},addInputRules(){return[HM({find:k_e,type:this.type,getAttributes:t=>({language:t[1]})}),HM({find:C_e,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new Ps({key:new Pi("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const r=e.clipboardData.getData("text/plain"),n=e.clipboardData.getData("vscode-editor-data"),s=n?JSON.parse(n):void 0,i=s==null?void 0:s.mode;if(!r||!i)return!1;const{tr:o,schema:l}=t.state,c=l.text(r.replace(/\r\n?/g,`
`));return o.replaceSelectionWith(this.type.create({language:i},c)),o.selection.$from.parent.type!==this.type&&o.setSelection(rn.near(o.doc.resolve(Math.max(0,o.selection.from-2)))),o.setMeta("paste",!0),t.dispatch(o),!0}}})]}}),A_e=Rl.create({name:"doc",topNode:!0,content:"block+"}),T_e=Rl.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",Os(this.options.HTMLAttributes,t)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:r,editor:n})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:s,storedMarks:i}=r;if(s.$from.parent.type.spec.isolating)return!1;const{keepMarks:o}=this.options,{splittableMarks:l}=n.extensionManager,c=i||s.$to.parentOffset&&s.$from.marks();return e().insertContent({type:this.name}).command(({tr:u,dispatch:f})=>{if(f&&c&&o){const h=c.filter(g=>l.includes(g.type.name));u.ensureMarks(h)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),M_e=Rl.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,Os(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>HM({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}}),E_e=Rl.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",Os(this.options.HTMLAttributes,t)]},addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{if(!cCe(e,e.schema.nodes[this.name]))return!1;const{selection:r}=e,{$to:n}=r,s=t();return mee(r)?s.insertContentAt(n.pos,{type:this.name}):s.insertContent({type:this.name}),s.command(({state:i,tr:o,dispatch:l})=>{if(l){const{$to:c}=o.selection,u=c.end();if(c.nodeAfter)c.nodeAfter.isTextblock?o.setSelection(rn.create(o.doc,c.pos+1)):c.nodeAfter.isBlock?o.setSelection(Fr.create(o.doc,c.pos)):o.setSelection(rn.create(o.doc,c.pos));else{const f=i.schema.nodes[this.options.nextNodeType]||c.parent.type.contentMatch.defaultType,h=f==null?void 0:f.create();h&&(o.insert(u,h),o.setSelection(rn.create(o.doc,u+1)))}o.scrollIntoView()}return!0}).run()}}},addInputRules(){return[lCe({find:/^(?:---|—-|___\s|\*\*\*\s)$/,type:this.type})]}}),O_e=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,D_e=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,P_e=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,L_e=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,R_e=Uf.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",Os(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[$p({find:O_e,type:this.type}),$p({find:P_e,type:this.type})]},addPasteRules(){return[pm({find:D_e,type:this.type}),pm({find:L_e,type:this.type})]}}),I_e=Object.defineProperty,F_e=(t,e)=>{for(var r in e)I_e(t,r,{get:e[r],enumerable:!0})},B_e="listItem",CB="textStyle",_B=/^\s*([-+*])\s$/,Jee=Rl.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",Os(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(B_e,this.editor.getAttributes(CB)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=ax({find:_B,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=ax({find:_B,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(CB),editor:this.editor})),[t]}}),Xee=Rl.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",Os(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),$_e={};F_e($_e,{findListItemPos:()=>h1,getNextListDepth:()=>AP,handleBackspace:()=>XM,handleDelete:()=>QM,hasListBefore:()=>Qee,hasListItemAfter:()=>H_e,hasListItemBefore:()=>Zee,listItemHasSubList:()=>ete,nextListIsDeeper:()=>tte,nextListIsHigher:()=>rte});var h1=(t,e)=>{const{$from:r}=e.selection,n=ai(t,e.schema);let s=null,i=r.depth,o=r.pos,l=null;for(;i>0&&l===null;)s=r.node(i),s.type===n?l=i:(i-=1,o-=1);return l===null?null:{$pos:e.doc.resolve(o),depth:l}},AP=(t,e)=>{const r=h1(t,e);if(!r)return!1;const[,n]=PSe(e,t,r.$pos.pos+4);return n},Qee=(t,e,r)=>{const{$anchor:n}=t.selection,s=Math.max(0,n.pos-2),i=t.doc.resolve(s).node();return!(!i||!r.includes(i.type.name))},Zee=(t,e)=>{var r;const{$anchor:n}=e.selection,s=e.doc.resolve(n.pos-2);return!(s.index()===0||((r=s.nodeBefore)==null?void 0:r.type.name)!==t)},ete=(t,e,r)=>{if(!r)return!1;const n=ai(t,e.schema);let s=!1;return r.descendants(i=>{i.type===n&&(s=!0)}),s},XM=(t,e,r)=>{if(t.commands.undoInputRule())return!0;if(t.state.selection.from!==t.state.selection.to)return!1;if(!mm(t.state,e)&&Qee(t.state,e,r)){const{$anchor:l}=t.state.selection,c=t.state.doc.resolve(l.before()-1),u=[];c.node().descendants((g,p)=>{g.type.name===e&&u.push({node:g,pos:p})});const f=u.at(-1);if(!f)return!1;const h=t.state.doc.resolve(c.start()+f.pos+1);return t.chain().cut({from:l.start()-1,to:l.end()+1},h.end()).joinForward().run()}if(!mm(t.state,e)||!FSe(t.state))return!1;const n=h1(e,t.state);if(!n)return!1;const i=t.state.doc.resolve(n.$pos.pos-2).node(n.depth),o=ete(e,t.state,i);return Zee(e,t.state)&&!o?t.commands.joinItemBackward():t.chain().liftListItem(e).run()},tte=(t,e)=>{const r=AP(t,e),n=h1(t,e);return!n||!r?!1:r>n.depth},rte=(t,e)=>{const r=AP(t,e),n=h1(t,e);return!n||!r?!1:r<n.depth},QM=(t,e)=>{if(!mm(t.state,e)||!ISe(t.state,e))return!1;const{selection:r}=t.state,{$from:n,$to:s}=r;return!r.empty&&n.sameParent(s)?!1:tte(e,t.state)?t.chain().focus(t.state.selection.from+4).lift(e).joinBackward().run():rte(e,t.state)?t.chain().joinForward().joinBackward().run():t.commands.joinItemForward()},H_e=(t,e)=>{var r;const{$anchor:n}=e.selection,s=e.doc.resolve(n.pos-n.parentOffset-2);return!(s.index()===s.parent.childCount-1||((r=s.nodeAfter)==null?void 0:r.type.name)!==t)},nte=La.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:r})=>{t.state.schema.nodes[r]!==void 0&&QM(t,r)&&(e=!0)}),e},"Mod-Delete":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:r})=>{t.state.schema.nodes[r]!==void 0&&QM(t,r)&&(e=!0)}),e},Backspace:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:r,wrapperNames:n})=>{t.state.schema.nodes[r]!==void 0&&XM(t,r,n)&&(e=!0)}),e},"Mod-Backspace":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:r,wrapperNames:n})=>{t.state.schema.nodes[r]!==void 0&&XM(t,r,n)&&(e=!0)}),e}}}}),z_e="listItem",AB="textStyle",TB=/^(\d+)\.\s$/,ate=Rl.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:null,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...r}=t;return e===1?["ol",Os(this.options.HTMLAttributes,r),0]:["ol",Os(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(z_e,this.editor.getAttributes(AB)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=ax({find:TB,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,r)=>r.childCount+r.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=ax({find:TB,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(AB)}),joinPredicate:(e,r)=>r.childCount+r.attrs.start===+e[1],editor:this.editor})),[t]}}),q_e=/^\s*(\[([( |x])?\])\s$/,U_e=Rl.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:t=>{const e=t.getAttribute("data-checked");return e===""||e==="true"},renderHTML:t=>({"data-checked":t.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:t,HTMLAttributes:e}){return["li",Os(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:t.attrs.checked?"checked":null}],["span"]],["div",0]]},addKeyboardShortcuts(){const t={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...t,Tab:()=>this.editor.commands.sinkListItem(this.name)}:t},addNodeView(){return({node:t,HTMLAttributes:e,getPos:r,editor:n})=>{const s=document.createElement("li"),i=document.createElement("label"),o=document.createElement("span"),l=document.createElement("input"),c=document.createElement("div"),u=f=>{var h,g;l.ariaLabel=((g=(h=this.options.a11y)==null?void 0:h.checkboxLabel)==null?void 0:g.call(h,f,l.checked))||`Task item checkbox for ${f.textContent||"empty task item"}`};return u(t),i.contentEditable="false",l.type="checkbox",l.addEventListener("mousedown",f=>f.preventDefault()),l.addEventListener("change",f=>{if(!n.isEditable&&!this.options.onReadOnlyChecked){l.checked=!l.checked;return}const{checked:h}=f.target;n.isEditable&&typeof r=="function"&&n.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:g})=>{const p=r();if(typeof p!="number")return!1;const v=g.doc.nodeAt(p);return g.setNodeMarkup(p,void 0,{...v==null?void 0:v.attrs,checked:h}),!0}).run(),!n.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(t,h)||(l.checked=!l.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([f,h])=>{s.setAttribute(f,h)}),s.dataset.checked=t.attrs.checked,l.checked=t.attrs.checked,i.append(l,o),s.append(i,c),Object.entries(e).forEach(([f,h])=>{s.setAttribute(f,h)}),{dom:s,contentDOM:c,update:f=>f.type!==this.type?!1:(s.dataset.checked=f.attrs.checked,l.checked=f.attrs.checked,u(f),!0)}}},addInputRules(){return[ax({find:q_e,type:this.type,getAttributes:t=>({checked:t[t.length-1]==="x"})})]}}),W_e=Rl.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:t}){return["ul",Os(this.options.HTMLAttributes,t,{"data-type":this.name}),0]},addCommands(){return{toggleTaskList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});La.create({name:"listKit",addExtensions(){const t=[];return this.options.bulletList!==!1&&t.push(Jee.configure(this.options.bulletList)),this.options.listItem!==!1&&t.push(Xee.configure(this.options.listItem)),this.options.listKeymap!==!1&&t.push(nte.configure(this.options.listKeymap)),this.options.orderedList!==!1&&t.push(ate.configure(this.options.orderedList)),this.options.taskItem!==!1&&t.push(U_e.configure(this.options.taskItem)),this.options.taskList!==!1&&t.push(W_e.configure(this.options.taskList)),t}});var V_e=Rl.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",Os(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),G_e=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,Y_e=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,K_e=Uf.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",Os(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[$p({find:G_e,type:this.type})]},addPasteRules(){return[pm({find:Y_e,type:this.type})]}}),J_e=Rl.create({name:"text",group:"inline"}),X_e=Uf.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",Os(this.options.HTMLAttributes,t),0]},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}});function Q_e(t={}){return new Ps({view(e){return new Z_e(e,t)}})}class Z_e{constructor(e,r){var n;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(n=r.width)!==null&&n!==void 0?n:1,this.color=r.color===!1?void 0:r.color||"black",this.class=r.class,this.handlers=["dragover","dragend","drop","dragleave"].map(s=>{let i=o=>{this[s](o)};return e.dom.addEventListener(s,i),{name:s,handler:i}})}destroy(){this.handlers.forEach(({name:e,handler:r})=>this.editorView.dom.removeEventListener(e,r))}update(e,r){this.cursorPos!=null&&r.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),r=!e.parent.inlineContent,n,s=this.editorView.dom,i=s.getBoundingClientRect(),o=i.width/s.offsetWidth,l=i.height/s.offsetHeight;if(r){let h=e.nodeBefore,g=e.nodeAfter;if(h||g){let p=this.editorView.nodeDOM(this.cursorPos-(h?h.nodeSize:0));if(p){let v=p.getBoundingClientRect(),w=h?v.bottom:v.top;h&&g&&(w=(w+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let y=this.width/2*l;n={left:v.left,right:v.right,top:w-y,bottom:w+y}}}}if(!n){let h=this.editorView.coordsAtPos(this.cursorPos),g=this.width/2*o;n={left:h.left-g,right:h.left+g,top:h.top,bottom:h.bottom}}let c=this.editorView.dom.offsetParent;this.element||(this.element=c.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",r),this.element.classList.toggle("prosemirror-dropcursor-inline",!r);let u,f;if(!c||c==document.body&&getComputedStyle(c).position=="static")u=-pageXOffset,f=-pageYOffset;else{let h=c.getBoundingClientRect(),g=h.width/c.offsetWidth,p=h.height/c.offsetHeight;u=h.left-c.scrollLeft*g,f=h.top-c.scrollTop*p}this.element.style.left=(n.left-u)/o+"px",this.element.style.top=(n.top-f)/l+"px",this.element.style.width=(n.right-n.left)/o+"px",this.element.style.height=(n.bottom-n.top)/l+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let r=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),n=r&&r.inside>=0&&this.editorView.state.doc.nodeAt(r.inside),s=n&&n.type.spec.disableDropCursor,i=typeof s=="function"?s(this.editorView,r,e):s;if(r&&!i){let o=r.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let l=tZ(this.editorView.state.doc,o,this.editorView.dragging.slice);l!=null&&(o=l)}this.setCursor(o),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}class As extends yn{constructor(e){super(e,e)}map(e,r){let n=e.resolve(r.map(this.head));return As.valid(n)?new As(n):yn.near(n)}content(){return pr.empty}eq(e){return e instanceof As&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new As(e.resolve(r.pos))}getBookmark(){return new TP(this.anchor)}static valid(e){let r=e.parent;if(r.isTextblock||!e3e(e)||!t3e(e))return!1;let n=r.type.spec.allowGapCursor;if(n!=null)return n;let s=r.contentMatchAt(e.index()).defaultType;return s&&s.isTextblock}static findGapCursorFrom(e,r,n=!1){e:for(;;){if(!n&&As.valid(e))return e;let s=e.pos,i=null;for(let o=e.depth;;o--){let l=e.node(o);if(r>0?e.indexAfter(o)<l.childCount:e.index(o)>0){i=l.child(r>0?e.indexAfter(o):e.index(o)-1);break}else if(o==0)return null;s+=r;let c=e.doc.resolve(s);if(As.valid(c))return c}for(;;){let o=r>0?i.firstChild:i.lastChild;if(!o){if(i.isAtom&&!i.isText&&!Fr.isSelectable(i)){e=e.doc.resolve(s+i.nodeSize*r),n=!1;continue e}break}i=o,s+=r;let l=e.doc.resolve(s);if(As.valid(l))return l}return null}}}As.prototype.visible=!1;As.findFrom=As.findGapCursorFrom;yn.jsonID("gapcursor",As);class TP{constructor(e){this.pos=e}map(e){return new TP(e.map(this.pos))}resolve(e){let r=e.resolve(this.pos);return As.valid(r)?new As(r):yn.near(r)}}function e3e(t){for(let e=t.depth;e>=0;e--){let r=t.index(e),n=t.node(e);if(r==0){if(n.type.spec.isolating)return!0;continue}for(let s=n.child(r-1);;s=s.lastChild){if(s.childCount==0&&!s.inlineContent||s.isAtom||s.type.spec.isolating)return!0;if(s.inlineContent)return!1}}return!0}function t3e(t){for(let e=t.depth;e>=0;e--){let r=t.indexAfter(e),n=t.node(e);if(r==n.childCount){if(n.type.spec.isolating)return!0;continue}for(let s=n.child(r);;s=s.firstChild){if(s.childCount==0&&!s.inlineContent||s.isAtom||s.type.spec.isolating)return!0;if(s.inlineContent)return!1}}return!0}function r3e(){return new Ps({props:{decorations:i3e,createSelectionBetween(t,e,r){return e.pos==r.pos&&As.valid(r)?new As(r):null},handleClick:a3e,handleKeyDown:n3e,handleDOMEvents:{beforeinput:s3e}}})}const n3e=qZ({ArrowLeft:Yw("horiz",-1),ArrowRight:Yw("horiz",1),ArrowUp:Yw("vert",-1),ArrowDown:Yw("vert",1)});function Yw(t,e){const r=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(n,s,i){let o=n.selection,l=e>0?o.$to:o.$from,c=o.empty;if(o instanceof rn){if(!i.endOfTextblock(r)||l.depth==0)return!1;c=!1,l=n.doc.resolve(e>0?l.after():l.before())}let u=As.findGapCursorFrom(l,e,c);return u?(s&&s(n.tr.setSelection(new As(u))),!0):!1}}function a3e(t,e,r){if(!t||!t.editable)return!1;let n=t.state.doc.resolve(e);if(!As.valid(n))return!1;let s=t.posAtCoords({left:r.clientX,top:r.clientY});return s&&s.inside>-1&&Fr.isSelectable(t.state.doc.nodeAt(s.inside))?!1:(t.dispatch(t.state.tr.setSelection(new As(n))),!0)}function s3e(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof As))return!1;let{$from:r}=t.state.selection,n=r.parent.contentMatchAt(r.index()).findWrapping(t.state.schema.nodes.text);if(!n)return!1;let s=Yt.empty;for(let o=n.length-1;o>=0;o--)s=Yt.from(n[o].createAndFill(null,s));let i=t.state.tr.replace(r.pos,r.pos,new pr(s,0,0));return i.setSelection(rn.near(i.doc.resolve(r.pos+1))),t.dispatch(i),!1}function i3e(t){if(!(t.selection instanceof As))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",fs.create(t.doc,[Po.widget(t.selection.head,e,{key:"gapcursor"})])}var y5=200,Di=function(){};Di.prototype.append=function(e){return e.length?(e=Di.from(e),!this.length&&e||e.length<y5&&this.leafAppend(e)||this.length<y5&&e.leafPrepend(this)||this.appendInner(e)):this};Di.prototype.prepend=function(e){return e.length?Di.from(e).append(this):this};Di.prototype.appendInner=function(e){return new o3e(this,e)};Di.prototype.slice=function(e,r){return e===void 0&&(e=0),r===void 0&&(r=this.length),e>=r?Di.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,r))};Di.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Di.prototype.forEach=function(e,r,n){r===void 0&&(r=0),n===void 0&&(n=this.length),r<=n?this.forEachInner(e,r,n,0):this.forEachInvertedInner(e,r,n,0)};Di.prototype.map=function(e,r,n){r===void 0&&(r=0),n===void 0&&(n=this.length);var s=[];return this.forEach(function(i,o){return s.push(e(i,o))},r,n),s};Di.from=function(e){return e instanceof Di?e:e&&e.length?new ste(e):Di.empty};var ste=(function(t){function e(n){t.call(this),this.values=n}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(s,i){return s==0&&i==this.length?this:new e(this.values.slice(s,i))},e.prototype.getInner=function(s){return this.values[s]},e.prototype.forEachInner=function(s,i,o,l){for(var c=i;c<o;c++)if(s(this.values[c],l+c)===!1)return!1},e.prototype.forEachInvertedInner=function(s,i,o,l){for(var c=i-1;c>=o;c--)if(s(this.values[c],l+c)===!1)return!1},e.prototype.leafAppend=function(s){if(this.length+s.length<=y5)return new e(this.values.concat(s.flatten()))},e.prototype.leafPrepend=function(s){if(this.length+s.length<=y5)return new e(s.flatten().concat(this.values))},r.length.get=function(){return this.values.length},r.depth.get=function(){return 0},Object.defineProperties(e.prototype,r),e})(Di);Di.empty=new ste([]);var o3e=(function(t){function e(r,n){t.call(this),this.left=r,this.right=n,this.length=r.length+n.length,this.depth=Math.max(r.depth,n.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(n){return n<this.left.length?this.left.get(n):this.right.get(n-this.left.length)},e.prototype.forEachInner=function(n,s,i,o){var l=this.left.length;if(s<l&&this.left.forEachInner(n,s,Math.min(i,l),o)===!1||i>l&&this.right.forEachInner(n,Math.max(s-l,0),Math.min(this.length,i)-l,o+l)===!1)return!1},e.prototype.forEachInvertedInner=function(n,s,i,o){var l=this.left.length;if(s>l&&this.right.forEachInvertedInner(n,s-l,Math.max(i,l)-l,o+l)===!1||i<l&&this.left.forEachInvertedInner(n,Math.min(s,l),i,o)===!1)return!1},e.prototype.sliceInner=function(n,s){if(n==0&&s==this.length)return this;var i=this.left.length;return s<=i?this.left.slice(n,s):n>=i?this.right.slice(n-i,s-i):this.left.slice(n,i).append(this.right.slice(0,s-i))},e.prototype.leafAppend=function(n){var s=this.right.leafAppend(n);if(s)return new e(this.left,s)},e.prototype.leafPrepend=function(n){var s=this.left.leafPrepend(n);if(s)return new e(s,this.right)},e.prototype.appendInner=function(n){return this.left.depth>=Math.max(this.right.depth,n.depth)+1?new e(this.left,new e(this.right,n)):new e(this,n)},e})(Di);const l3e=500;class ru{constructor(e,r){this.items=e,this.eventCount=r}popEvent(e,r){if(this.eventCount==0)return null;let n=this.items.length;for(;;n--)if(this.items.get(n-1).selection){--n;break}let s,i;r&&(s=this.remapping(n,this.items.length),i=s.maps.length);let o=e.tr,l,c,u=[],f=[];return this.items.forEach((h,g)=>{if(!h.step){s||(s=this.remapping(n,g+1),i=s.maps.length),i--,f.push(h);return}if(s){f.push(new zu(h.map));let p=h.step.map(s.slice(i)),v;p&&o.maybeStep(p).doc&&(v=o.mapping.maps[o.mapping.maps.length-1],u.push(new zu(v,void 0,void 0,u.length+f.length))),i--,v&&s.appendMap(v,i)}else o.maybeStep(h.step);if(h.selection)return l=s?h.selection.map(s.slice(i)):h.selection,c=new ru(this.items.slice(0,n).append(f.reverse().concat(u)),this.eventCount-1),!1},this.items.length,0),{remaining:c,transform:o,selection:l}}addTransform(e,r,n,s){let i=[],o=this.eventCount,l=this.items,c=!s&&l.length?l.get(l.length-1):null;for(let f=0;f<e.steps.length;f++){let h=e.steps[f].invert(e.docs[f]),g=new zu(e.mapping.maps[f],h,r),p;(p=c&&c.merge(g))&&(g=p,f?i.pop():l=l.slice(0,l.length-1)),i.push(g),r&&(o++,r=void 0),s||(c=g)}let u=o-n.depth;return u>u3e&&(l=c3e(l,u),o-=u),new ru(l.append(i),o)}remapping(e,r){let n=new sv;return this.items.forEach((s,i)=>{let o=s.mirrorOffset!=null&&i-s.mirrorOffset>=e?n.maps.length-s.mirrorOffset:void 0;n.appendMap(s.map,o)},e,r),n}addMaps(e){return this.eventCount==0?this:new ru(this.items.append(e.map(r=>new zu(r))),this.eventCount)}rebased(e,r){if(!this.eventCount)return this;let n=[],s=Math.max(0,this.items.length-r),i=e.mapping,o=e.steps.length,l=this.eventCount;this.items.forEach(g=>{g.selection&&l--},s);let c=r;this.items.forEach(g=>{let p=i.getMirror(--c);if(p==null)return;o=Math.min(o,p);let v=i.maps[p];if(g.step){let w=e.steps[p].invert(e.docs[p]),y=g.selection&&g.selection.map(i.slice(c+1,p));y&&l++,n.push(new zu(v,w,y))}else n.push(new zu(v))},s);let u=[];for(let g=r;g<o;g++)u.push(new zu(i.maps[g]));let f=this.items.slice(0,s).append(u).append(n),h=new ru(f,l);return h.emptyItemCount()>l3e&&(h=h.compress(this.items.length-n.length)),h}emptyItemCount(){let e=0;return this.items.forEach(r=>{r.step||e++}),e}compress(e=this.items.length){let r=this.remapping(0,e),n=r.maps.length,s=[],i=0;return this.items.forEach((o,l)=>{if(l>=e)s.push(o),o.selection&&i++;else if(o.step){let c=o.step.map(r.slice(n)),u=c&&c.getMap();if(n--,u&&r.appendMap(u,n),c){let f=o.selection&&o.selection.map(r.slice(n));f&&i++;let h=new zu(u.invert(),c,f),g,p=s.length-1;(g=s.length&&s[p].merge(h))?s[p]=g:s.push(h)}}else o.map&&n--},this.items.length,0),new ru(Di.from(s.reverse()),i)}}ru.empty=new ru(Di.empty,0);function c3e(t,e){let r;return t.forEach((n,s)=>{if(n.selection&&e--==0)return r=s,!1}),t.slice(r)}class zu{constructor(e,r,n,s){this.map=e,this.step=r,this.selection=n,this.mirrorOffset=s}merge(e){if(this.step&&e.step&&!e.selection){let r=e.step.merge(this.step);if(r)return new zu(r.getMap().invert(),r,this.selection)}}}class $h{constructor(e,r,n,s,i){this.done=e,this.undone=r,this.prevRanges=n,this.prevTime=s,this.prevComposition=i}}const u3e=20;function d3e(t,e,r,n){let s=r.getMeta(Ap),i;if(s)return s.historyState;r.getMeta(m3e)&&(t=new $h(t.done,t.undone,null,0,-1));let o=r.getMeta("appendedTransaction");if(r.steps.length==0)return t;if(o&&o.getMeta(Ap))return o.getMeta(Ap).redo?new $h(t.done.addTransform(r,void 0,n,Y2(e)),t.undone,MB(r.mapping.maps),t.prevTime,t.prevComposition):new $h(t.done,t.undone.addTransform(r,void 0,n,Y2(e)),null,t.prevTime,t.prevComposition);if(r.getMeta("addToHistory")!==!1&&!(o&&o.getMeta("addToHistory")===!1)){let l=r.getMeta("composition"),c=t.prevTime==0||!o&&t.prevComposition!=l&&(t.prevTime<(r.time||0)-n.newGroupDelay||!f3e(r,t.prevRanges)),u=o?__(t.prevRanges,r.mapping):MB(r.mapping.maps);return new $h(t.done.addTransform(r,c?e.selection.getBookmark():void 0,n,Y2(e)),ru.empty,u,r.time,l??t.prevComposition)}else return(i=r.getMeta("rebased"))?new $h(t.done.rebased(r,i),t.undone.rebased(r,i),__(t.prevRanges,r.mapping),t.prevTime,t.prevComposition):new $h(t.done.addMaps(r.mapping.maps),t.undone.addMaps(r.mapping.maps),__(t.prevRanges,r.mapping),t.prevTime,t.prevComposition)}function f3e(t,e){if(!e)return!1;if(!t.docChanged)return!0;let r=!1;return t.mapping.maps[0].forEach((n,s)=>{for(let i=0;i<e.length;i+=2)n<=e[i+1]&&s>=e[i]&&(r=!0)}),r}function MB(t){let e=[];for(let r=t.length-1;r>=0&&e.length==0;r--)t[r].forEach((n,s,i,o)=>e.push(i,o));return e}function __(t,e){if(!t)return null;let r=[];for(let n=0;n<t.length;n+=2){let s=e.map(t[n],1),i=e.map(t[n+1],-1);s<=i&&r.push(s,i)}return r}function h3e(t,e,r){let n=Y2(e),s=Ap.get(e).spec.config,i=(r?t.undone:t.done).popEvent(e,n);if(!i)return null;let o=i.selection.resolve(i.transform.doc),l=(r?t.done:t.undone).addTransform(i.transform,e.selection.getBookmark(),s,n),c=new $h(r?l:i.remaining,r?i.remaining:l,null,0,-1);return i.transform.setSelection(o).setMeta(Ap,{redo:r,historyState:c})}let A_=!1,EB=null;function Y2(t){let e=t.plugins;if(EB!=e){A_=!1,EB=e;for(let r=0;r<e.length;r++)if(e[r].spec.historyPreserveItems){A_=!0;break}}return A_}const Ap=new Pi("history"),m3e=new Pi("closeHistory");function p3e(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new Ps({key:Ap,state:{init(){return new $h(ru.empty,ru.empty,null,0,-1)},apply(e,r,n){return d3e(r,n,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,r){let n=r.inputType,s=n=="historyUndo"?ote:n=="historyRedo"?lte:null;return s?(r.preventDefault(),s(e.state,e.dispatch)):!1}}}})}function ite(t,e){return(r,n)=>{let s=Ap.getState(r);if(!s||(t?s.undone:s.done).eventCount==0)return!1;if(n){let i=h3e(s,r,t);i&&n(e?i.scrollIntoView():i)}return!0}}const ote=ite(!1,!0),lte=ite(!0,!0);La.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:t=>t.length,wordCounter:t=>t.split(" ").filter(e=>e!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=t=>{const e=(t==null?void 0:t.node)||this.editor.state.doc;if(((t==null?void 0:t.mode)||this.options.mode)==="textSize"){const n=e.textBetween(0,e.content.size,void 0," ");return this.options.textCounter(n)}return e.nodeSize},this.storage.words=t=>{const e=(t==null?void 0:t.node)||this.editor.state.doc,r=e.textBetween(0,e.content.size," "," ");return this.options.wordCounter(r)}},addProseMirrorPlugins(){let t=!1;return[new Ps({key:new Pi("characterCount"),appendTransaction:(e,r,n)=>{if(t)return;const s=this.options.limit;if(s==null||s===0){t=!0;return}const i=this.storage.characters({node:n.doc});if(i>s){const o=i-s,l=0,c=o;console.warn(`[CharacterCount] Initial content exceeded limit of ${s} characters. Content was automatically trimmed.`);const u=n.tr.deleteRange(l,c);return t=!0,u}t=!0},filterTransaction:(e,r)=>{const n=this.options.limit;if(!e.docChanged||n===0||n===null||n===void 0)return!0;const s=this.storage.characters({node:r.doc}),i=this.storage.characters({node:e.doc});if(i<=n||s>n&&i>n&&i<=s)return!0;if(s>n&&i>n&&i>s||!e.getMeta("paste"))return!1;const l=e.selection.$head.pos,c=i-n,u=l-c,f=l;return e.deleteRange(u,f),!(this.storage.characters({node:e.doc})>n)}})]}});var g3e=La.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[Q_e(this.options)]}});La.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new Ps({key:new Pi("focus"),props:{decorations:({doc:t,selection:e})=>{const{isEditable:r,isFocused:n}=this.editor,{anchor:s}=e,i=[];if(!r||!n)return fs.create(t,[]);let o=0;this.options.mode==="deepest"&&t.descendants((c,u)=>{if(c.isText)return;if(!(s>=u&&s<=u+c.nodeSize-1))return!1;o+=1});let l=0;return t.descendants((c,u)=>{if(c.isText||!(s>=u&&s<=u+c.nodeSize-1))return!1;if(l+=1,this.options.mode==="deepest"&&o-l>0||this.options.mode==="shallowest"&&l>1)return this.options.mode==="deepest";i.push(Po.node(u,u+c.nodeSize,{class:this.options.className}))}),fs.create(t,i)}}})]}});var x3e=La.create({name:"gapCursor",addProseMirrorPlugins(){return[r3e()]},extendNodeSchema(t){var e;const r={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=ha(Lr(t,"allowGapCursor",r)))!=null?e:null}}});La.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something …",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new Ps({key:new Pi("placeholder"),props:{decorations:({doc:t,selection:e})=>{const r=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:n}=e,s=[];if(!r)return null;const i=this.editor.isEmpty;return t.descendants((o,l)=>{const c=n>=l&&n<=l+o.nodeSize,u=!o.isLeaf&&aS(o);if((c||!this.options.showOnlyCurrent)&&u){const f=[this.options.emptyNodeClass];i&&f.push(this.options.emptyEditorClass);const h=Po.node(l,l+o.nodeSize,{class:f.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:o,pos:l,hasAnchor:c}):this.options.placeholder});s.push(h)}return this.options.includeChildren}),fs.create(t,s)}}})]}});La.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:t,options:e}=this;return[new Ps({key:new Pi("selection"),props:{decorations(r){return r.selection.empty||t.isFocused||!t.isEditable||mee(r.selection)||t.view.dragging?null:fs.create(r.doc,[Po.inline(r.selection.from,r.selection.to,{class:e.className})])}}})]}});function OB({types:t,node:e}){return e&&Array.isArray(t)&&t.includes(e.type)||(e==null?void 0:e.type)===t}var b3e=La.create({name:"trailingNode",addOptions(){return{node:"paragraph",notAfter:[]}},addProseMirrorPlugins(){const t=new Pi(this.name),e=Object.entries(this.editor.schema.nodes).map(([,r])=>r).filter(r=>(this.options.notAfter||[]).concat(this.options.node).includes(r.name));return[new Ps({key:t,appendTransaction:(r,n,s)=>{const{doc:i,tr:o,schema:l}=s,c=t.getState(s),u=i.content.size,f=l.nodes[this.options.node];if(c)return o.insert(u,f.create())},state:{init:(r,n)=>{const s=n.tr.doc.lastChild;return!OB({node:s,types:e})},apply:(r,n)=>{if(!r.docChanged)return n;const s=r.doc.lastChild;return!OB({node:s,types:e})}}})]}}),y3e=La.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>ote(t,e),redo:()=>({state:t,dispatch:e})=>lte(t,e)}},addProseMirrorPlugins(){return[p3e(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-я":()=>this.editor.commands.undo(),"Shift-Mod-я":()=>this.editor.commands.redo()}}}),v3e=La.create({name:"starterKit",addExtensions(){var t,e,r,n;const s=[];return this.options.bold!==!1&&s.push(w_e.configure(this.options.bold)),this.options.blockquote!==!1&&s.push(g_e.configure(this.options.blockquote)),this.options.bulletList!==!1&&s.push(Jee.configure(this.options.bulletList)),this.options.code!==!1&&s.push(S_e.configure(this.options.code)),this.options.codeBlock!==!1&&s.push(__e.configure(this.options.codeBlock)),this.options.document!==!1&&s.push(A_e.configure(this.options.document)),this.options.dropcursor!==!1&&s.push(g3e.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&s.push(x3e.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&s.push(T_e.configure(this.options.hardBreak)),this.options.heading!==!1&&s.push(M_e.configure(this.options.heading)),this.options.undoRedo!==!1&&s.push(y3e.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&s.push(E_e.configure(this.options.horizontalRule)),this.options.italic!==!1&&s.push(R_e.configure(this.options.italic)),this.options.listItem!==!1&&s.push(Xee.configure(this.options.listItem)),this.options.listKeymap!==!1&&s.push(nte.configure((t=this.options)==null?void 0:t.listKeymap)),this.options.link!==!1&&s.push(Wee.configure((e=this.options)==null?void 0:e.link)),this.options.orderedList!==!1&&s.push(ate.configure(this.options.orderedList)),this.options.paragraph!==!1&&s.push(V_e.configure(this.options.paragraph)),this.options.strike!==!1&&s.push(K_e.configure(this.options.strike)),this.options.text!==!1&&s.push(J_e.configure(this.options.text)),this.options.underline!==!1&&s.push(X_e.configure((r=this.options)==null?void 0:r.underline)),this.options.trailingNode!==!1&&s.push(b3e.configure((n=this.options)==null?void 0:n.trailingNode)),s}}),w3e=v3e,j3e=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))$/,N3e=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))/g,S3e=Uf.create({name:"highlight",addOptions(){return{multicolor:!1,HTMLAttributes:{}}},addAttributes(){return this.options.multicolor?{color:{default:null,parseHTML:t=>t.getAttribute("data-color")||t.style.backgroundColor,renderHTML:t=>t.color?{"data-color":t.color,style:`background-color: ${t.color}; color: inherit`}:{}}}:{}},parseHTML(){return[{tag:"mark"}]},renderHTML({HTMLAttributes:t}){return["mark",Os(this.options.HTMLAttributes,t),0]},addCommands(){return{setHighlight:t=>({commands:e})=>e.setMark(this.name,t),toggleHighlight:t=>({commands:e})=>e.toggleMark(this.name,t),unsetHighlight:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-h":()=>this.editor.commands.toggleHighlight()}},addInputRules(){return[$p({find:j3e,type:this.type})]},addPasteRules(){return[pm({find:N3e,type:this.type})]}}),k3e=S3e;const C3e=[xCe,w3e.configure({bold:{HTMLAttributes:{class:"font-bold"}},italic:{HTMLAttributes:{class:"italic"}},strike:{HTMLAttributes:{class:"line-through"}},underline:{HTMLAttributes:{class:"underline"}}}),vCe.configure({types:["textStyle"]}),k3e.configure({multicolor:!0}),wCe.configure({types:["textStyle"]}),VCe.configure({openOnClick:!1,HTMLAttributes:{class:"text-blue-500 underline hover:text-blue-700 cursor-pointer"}}),yCe.configure({types:["heading","paragraph"],alignments:["left","center","right","justify"]})],_3e=({editor:t,onClose:e})=>{const[r,n]=b.useState(()=>t.getAttributes("link").href||""),[s,i]=b.useState(()=>({from:t.state.selection.from,to:t.state.selection.to})),[o,l]=b.useState(()=>{try{const{from:f,to:h}=t.state.selection;return f===h?"":t.state.doc.textBetween(f,h)||""}catch{return""}}),c=()=>{t.chain().focus().setTextSelection(s).run(),r?o?t.chain().focus().extendMarkRange("link").setLink({href:r}).run():t.chain().focus().insertContent({type:"text",text:o||r,marks:[{type:"link",attrs:{href:r}}]}).run():t.chain().focus().unsetLink().run(),e()},u=()=>{t.chain().focus().setTextSelection(s).run(),t.chain().focus().unsetLink().run(),e()};return a.jsx("div",{className:"fixed inset-0 backdrop-brightness-50 bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 w-96",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Add/Edit Link"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"URL"}),a.jsx("input",{type:"url",value:r,onChange:f=>n(f.target.value),placeholder:"https://example.com",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",autoFocus:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Text ",!o&&a.jsx("span",{className:"text-orange-500",children:"(required if no text selected)"})]}),a.jsx("input",{type:"text",value:o,onChange:f=>l(f.target.value),placeholder:o||"Enter link text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),!o&&a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"No text selected. Enter text above or select text first."})]})]}),a.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[a.jsx("button",{onClick:e,className:"px-4 py-2 text-sm text-gray-600 hover:text-gray-800 transition-colors",children:"Cancel"}),t.getAttributes("link").href&&a.jsx("button",{onClick:u,className:"px-4 py-2 text-sm text-red-600 hover:text-red-800 transition-colors",children:"Remove Link"}),a.jsx("button",{onClick:c,disabled:!r,className:"px-4 py-2 text-sm bg-blue-500 text-white rounded-md hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Save Link"})]})]})})},A3e=({editor:t,type:e,onClose:r})=>{const n=["#000000","#FFFFFF","#FF0000","#00FF00","#0000FF","#FFFF00","#FF00FF","#00FFFF","#FFA500","#800080","#008000","#800000","#008080","#000080","#808080","#FFE4E1","#F0FFF0","#F0F8FF","#FFF8DC","#F5F5F5"],s=e==="color"?t.getAttributes("textStyle").color:t.getAttributes("highlight").color,i=l=>{e==="color"?t.chain().focus().setColor(l).run():t.chain().focus().setHighlight({color:l}).run(),r()},o=()=>{e==="color"?t.chain().focus().unsetColor().run():t.chain().focus().unsetHighlight().run(),r()};return a.jsx("div",{className:"fixed inset-0 backdrop-brightness-50 bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 w-80",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:e==="color"?"Text Color":"Background Color"}),a.jsx("div",{className:"grid grid-cols-5 gap-2 mb-4",children:n.map(l=>a.jsx("button",{onClick:()=>i(l),className:`w-8 h-8 rounded border border-gray-300 ${s===l?"ring-2 ring-blue-500":""}`,style:{backgroundColor:l},title:l},l))}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("button",{onClick:o,className:"px-4 py-2 text-sm text-red-600 hover:text-red-800 transition-colors",children:"Remove Color"}),a.jsx("button",{onClick:r,className:"px-4 py-2 text-sm text-gray-600 hover:text-gray-800 transition-colors",children:"Close"})]})]})})};function T3e({editor:t}){const[e,r]=b.useState(!1),[n,s]=b.useState(null),[i,o]=b.useState(!1);if(!t)return null;const l=Yee({editor:t,selector:u=>({isBold:u.editor.isActive("bold")??!1,canBold:u.editor.can().chain().toggleBold().run()??!1,isItalic:u.editor.isActive("italic")??!1,canItalic:u.editor.can().chain().toggleItalic().run()??!1,isStrike:u.editor.isActive("strike")??!1,canStrike:u.editor.can().chain().toggleStrike().run()??!1,isCode:u.editor.isActive("code")??!1,canCode:u.editor.can().chain().toggleCode().run()??!1,isLink:u.editor.isActive("link")??!1,currentColor:u.editor.getAttributes("textStyle").color,currentBackgroundColor:u.editor.getAttributes("highlight").color,currentFontFamily:u.editor.getAttributes("textStyle").fontFamily,isAlignLeft:u.editor.isActive({textAlign:"left"})??!1,isAlignCenter:u.editor.isActive({textAlign:"center"})??!1,isAlignRight:u.editor.isActive({textAlign:"right"})??!1,isAlignJustify:u.editor.isActive({textAlign:"justify"})??!1,canClearMarks:u.editor.can().chain().unsetAllMarks().run()??!1,isParagraph:u.editor.isActive("paragraph")??!1,isHeading1:u.editor.isActive("heading",{level:1})??!1,isHeading2:u.editor.isActive("heading",{level:2})??!1,isHeading3:u.editor.isActive("heading",{level:3})??!1,isBulletList:u.editor.isActive("bulletList")??!1,isOrderedList:u.editor.isActive("orderedList")??!1,canUndo:u.editor.can().chain().undo().run()??!1,canRedo:u.editor.can().chain().redo().run()??!1})}),c=["Arial, sans-serif","Georgia, serif","Times New Roman, serif","Helvetica, sans-serif","Courier New, monospace","Verdana, sans-serif","Trebuchet MS, sans-serif","Comic Sans MS, cursive"];return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"border-b border-gray-200 bg-gray-50 p-2 sm:p-3",children:a.jsxs("div",{className:"flex flex-wrap gap-1 sm:gap-2",children:[a.jsxs("div",{className:"flex items-center gap-1 sm:gap-1",children:[a.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleBold().run(),disabled:!l.canBold,className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isBold?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Bold",children:a.jsx(rme,{size:18})}),a.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleItalic().run(),disabled:!l.canItalic,className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isItalic?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Italic",children:a.jsx(ope,{size:18})}),a.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleStrike().run(),disabled:!l.canStrike,className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isStrike?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Strikethrough",children:a.jsx(l0e,{size:18})}),a.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleCode().run(),disabled:!l.canCode,className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isCode?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Code",children:a.jsx(kme,{size:18})})]}),a.jsx("div",{className:"w-px bg-gray-300 mx-1"}),a.jsxs("div",{className:"flex items-center gap-1 sm:gap-1",children:[a.jsx("button",{type:"button",onClick:()=>t.chain().focus().setTextAlign("left").run(),className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isAlignLeft?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Align Left",children:a.jsx(Vhe,{size:18})}),a.jsx("button",{type:"button",onClick:()=>t.chain().focus().setTextAlign("center").run(),className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isAlignCenter?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Align Center",children:a.jsx(zhe,{size:18})}),a.jsx("button",{type:"button",onClick:()=>t.chain().focus().setTextAlign("right").run(),className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isAlignRight?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Align Right",children:a.jsx(Yhe,{size:18})}),a.jsx("button",{type:"button",onClick:()=>t.chain().focus().setTextAlign("justify").run(),className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isAlignJustify?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Justify",children:a.jsx(Uhe,{size:18})})]}),a.jsx("div",{className:"w-px bg-gray-300 mx-1"}),a.jsxs("div",{className:"flex items-center gap-1 sm:gap-1",children:[a.jsxs("button",{type:"button",onClick:()=>s("color"),className:"p-2 text-sm rounded border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 transition-colors flex items-center justify-center relative",title:"Text Color",children:[a.jsx(Ppe,{size:18}),l.currentColor&&a.jsx("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 rounded-full border border-white",style:{backgroundColor:l.currentColor}})]}),a.jsxs("button",{type:"button",onClick:()=>s("backgroundColor"),className:"p-2 text-sm rounded border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 transition-colors flex items-center justify-center relative",title:"Background Color",children:[a.jsx(Ope,{size:18}),l.currentBackgroundColor&&a.jsx("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 rounded-full border border-white",style:{backgroundColor:l.currentBackgroundColor}})]})]}),a.jsx("div",{className:"w-px bg-gray-300 mx-1"}),a.jsxs("div",{className:"flex items-center gap-1 sm:gap-1 relative",children:[a.jsx("button",{type:"button",onClick:()=>o(!i),className:"p-2 text-sm rounded border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 transition-colors flex items-center justify-center",title:"Font Family",children:a.jsx(eX,{size:18})}),i&&a.jsxs("div",{className:"absolute top-full left-0 mt-1 bg-white border border-gray-300 rounded-md shadow-lg z-10 w-48",children:[c.map(u=>a.jsx("button",{onClick:()=>{t.chain().focus().setFontFamily(u).run(),o(!1)},className:"w-full px-3 py-2 text-left hover:bg-gray-50 transition-colors",style:{fontFamily:u},children:u.split(",")[0]},u)),a.jsx("button",{type:"button",onClick:()=>{t.chain().focus().unsetFontFamily().run(),o(!1)},className:"w-full px-3 py-2 text-left hover:bg-gray-50 transition-colors text-red-600",children:"Reset Font"})]})]}),a.jsx("div",{className:"w-px bg-gray-300 mx-1"}),a.jsx("button",{type:"button",onClick:u=>{u.preventDefault(),u.stopPropagation(),r(!0)},className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isLink?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Insert Link",children:a.jsx(hpe,{size:18})}),a.jsx("div",{className:"w-px bg-gray-300 mx-1"}),a.jsxs("div",{className:"flex items-center gap-1 sm:gap-1",children:[a.jsx("button",{type:"button",onClick:()=>t.chain().focus().unsetAllMarks().run(),className:"p-2 text-sm rounded border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 transition-colors flex items-center justify-center",title:"Clear formatting",children:a.jsx(Kpe,{size:18})}),a.jsx("button",{type:"button",onClick:()=>t.chain().focus().clearNodes().run(),className:"p-2 text-sm rounded border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 transition-colors flex items-center justify-center",title:"Clear nodes",children:a.jsx(In,{size:18})})]}),a.jsx("div",{className:"w-px bg-gray-300 mx-1"}),a.jsxs("div",{className:"flex items-center gap-1 sm:gap-1",children:[a.jsx("button",{type:"button",onClick:()=>t.chain().focus().setParagraph().run(),className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isParagraph?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Paragraph",children:a.jsx(Fpe,{size:18})}),a.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleHeading({level:1}).run(),className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isHeading1?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Heading 1",children:a.jsx(Xme,{size:18})}),a.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleHeading({level:2}).run(),className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isHeading2?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Heading 2",children:a.jsx(Zme,{size:18})}),a.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleHeading({level:3}).run(),className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isHeading3?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Heading 3",children:a.jsx(tpe,{size:18})})]}),a.jsx("div",{className:"w-px bg-gray-300 mx-1"}),a.jsxs("div",{className:"flex items-center gap-1 sm:gap-1",children:[a.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleBulletList().run(),className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isBulletList?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Bullet List",children:a.jsx(kD,{size:18})}),a.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleOrderedList().run(),className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isOrderedList?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Ordered List",children:a.jsx(xpe,{size:18})})]}),a.jsx("div",{className:"w-px bg-gray-300 mx-1"}),a.jsxs("div",{className:"flex items-center gap-1 sm:gap-1",children:[a.jsx("button",{type:"button",onClick:()=>t.chain().focus().undo().run(),disabled:!l.canUndo,className:"p-2 text-sm rounded border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center",title:"Undo",children:a.jsx(g0e,{size:18})}),a.jsx("button",{type:"button",onClick:()=>t.chain().focus().redo().run(),disabled:!l.canRedo,className:"p-2 text-sm rounded border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center",title:"Redo",children:a.jsx(Wpe,{size:18})})]})]})}),e&&a.jsx(_3e,{editor:t,onClose:()=>r(!1)}),n&&a.jsx(A3e,{editor:t,type:n,onClose:()=>s(null)})]})}const Lf=({value:t,onChange:e})=>{const r=d_e({extensions:C3e,content:t,onUpdate:({editor:n})=>{const s=n.getHTML();e(s)},editorProps:{attributes:{class:"tiptap-editor min-h-[120px] p-4 prose max-w-none focus:outline-none"},transformPastedHTML(n){return n}},parseOptions:{preserveWhitespace:"full"}});return r?a.jsxs("div",{className:"border border-gray-300 rounded-lg focus-within:ring-2 focus-within:ring-blue-500 focus-within:border-blue-500 bg-white transition-all duration-200",children:[a.jsx(T3e,{editor:r}),a.jsx(s_e,{editor:r,className:"min-h-[120px]"})]}):a.jsx("div",{className:"border border-gray-300 rounded-lg p-4 min-h-[120px] bg-gray-50 flex items-center justify-center",children:a.jsx("div",{className:"text-gray-500",children:"Loading editor..."})})},M3e=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(O.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(Ft,{size:24})})]}),a.jsx("div",{children:n})]})}):null,E3e=()=>{var Ee,ke,ge,Ce,Ke,fe,ye;const{getAllMasterData:t,submitMachineHistory:e}=or(),r=tr(),[n,s]=b.useState(!1),[i,o]=b.useState(null),[l,c]=b.useState(null),[u,f]=b.useState(!1),[h,g]=b.useState(()=>{const ae=localStorage.getItem("sidebarOpen");return ae?JSON.parse(ae):!1}),p=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!h)),g(ae=>!ae)},[v,w]=b.useState(window.innerWidth<768),[y,N]=b.useState([]),[k,S]=b.useState([]),[T,_]=b.useState([]),[D,E]=b.useState([]),[L,R]=b.useState([]),[F,A]=b.useState([]),[M,B]=b.useState([]),[z,Y]=b.useState([]),[W,H]=b.useState([]),q={date:new Date().toISOString().split("T")[0],shift:"",group:"",stopJam:0,stopMenit:0,startJam:0,startMenit:0,stopTime:"",unit:"",mesin:"",runningHour:0,itemTrouble:"",jenisGangguan:"",bentukTindakan:"",perbaikanPerawatan:"",rootCause:"",jenisAktivitas:"",kegiatan:"",kodePart:"",sparePart:"",idPart:"",jumlah:0,unitSparePart:""},[X,oe]=b.useState(q),K=b.useCallback((ae,se)=>{if(ae&&typeof ae=="object"&&"value"in ae&&se)oe(bt=>({...bt,[se]:ae.value}));else if(ae&&"target"in ae){const{name:bt,value:pt}=ae.target;oe(Re=>{if(["stopJam","startJam"].includes(bt)){const Me=pt.replace(/[^\d]/g,""),qe=parseInt(Me,10);return{...Re,[bt]:Me===""?0:Math.max(0,Math.min(23,isNaN(qe)?0:qe))}}if(["stopMenit","startMenit"].includes(bt)){const Me=pt.replace(/[^\d]/g,""),qe=parseInt(Me,10);return{...Re,[bt]:Me===""?0:Math.max(0,Math.min(59,isNaN(qe)?0:qe))}}return bt==="runningHour"||bt==="jumlah"?{...Re,[bt]:pt.replace(/[^\d.]/g,"")}:{...Re,[bt]:pt}})}},[]),V=b.useCallback(ae=>{if(typeof ae=="string"){const se=ae.replace(/[^\d]/g,""),bt=parseInt(se,10);return isNaN(bt)?"":bt.toLocaleString("id-ID").replace(/,/g,".")}return isNaN(ae)||ae===null||ae===void 0?"":ae.toLocaleString("id-ID").replace(/,/g,".")},[]),J=async ae=>{ae.preventDefault(),s(!0),o(null),c(null);const se={...X,perbaikanPerawatan:X.jenisAktivitas==="Perbaikan"?"Perbaikan":"Perawatan",runningHour:X.runningHour?parseInt(String(X.runningHour).replace(/\./g,""),10):0,jumlah:X.jumlah?parseInt(String(X.jumlah).replace(/\./g,""),10):0,stopJam:X.stopJam===0&&String(X.stopJam)===""?null:X.stopJam,stopMenit:X.stopMenit===0&&String(X.stopMenit)===""?null:X.stopMenit,startJam:X.startJam===0&&String(X.startJam)===""?null:X.startJam,startMenit:X.startMenit===0&&String(X.startMenit)===""?null:X.startMenit};try{await e(se),c("Data history mesin berhasil disimpan!"),f(!0),Q()}catch(bt){o(bt.message||"Gagal menyimpan data history mesin. Silakan coba lagi."),console.error("Submission error:",bt)}finally{s(!1)}},Q=b.useCallback(()=>{oe(q),o(null),c(null)},[]),re=b.useCallback(()=>{f(!1),r("/machinehistory")},[r]);b.useEffect(()=>{(async()=>{var se,bt,pt,Re,Me,qe,tt,Ve,Te;try{const le=await t();N(((se=le.mesin)==null?void 0:se.data)||[]),S(((bt=le.shifts)==null?void 0:bt.data)||[]),_(((pt=le.groups)==null?void 0:pt.data)||[]),E(((Re=le.stoptimes)==null?void 0:Re.data)||[]),R(((Me=le.units)==null?void 0:Me.data)||[]),A(((qe=le.itemtroubles)==null?void 0:qe.data)||[]),B(((tt=le.jenisaktivitas)==null?void 0:tt.data)||[]),Y(((Ve=le.kegiatans)==null?void 0:Ve.data)||[]),H(((Te=le.unitspareparts)==null?void 0:Te.data)||[])}catch(le){console.error("Gagal mengambil semua data master:",le),o(le.message||"Gagal memuat daftar data master.")}})()},[t]);const ce={control:(ae,se)=>({...ae,minHeight:"42px",borderColor:se.isFocused?"#3B82F6":"#D1D5DB",boxShadow:se.isFocused?"0 0 0 1px #3B82F6":"none","&:hover":{borderColor:"#9CA3AF"},borderRadius:"0.5rem",backgroundColor:"#FFFFFF",padding:"0 0.5rem",transition:"all 0.15s ease-in-out"}),valueContainer:ae=>({...ae,padding:"0"}),singleValue:ae=>({...ae,color:"#374151"}),placeholder:ae=>({...ae,color:"#6B7280"}),dropdownIndicator:ae=>({...ae,color:"#9CA3AF","&:hover":{color:"#6B7280"}}),indicatorSeparator:ae=>({...ae,display:"none"}),menu:ae=>({...ae,zIndex:9999,borderRadius:"0.5rem",border:"1px solid #E5E7EB",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"}),option:(ae,se)=>({...ae,backgroundColor:se.isFocused?"#EFF6FF":"#FFFFFF",color:"#1F2937","&:active":{backgroundColor:"#DBEAFE"},padding:"0.625rem 1rem"})};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Add Machine History",mainTitleHighlight:"Machine History",description:"Manage activities and their configurations within the system.",icon:a.jsx(qg,{}),isMobile:v,toggleSidebar:p}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Record New Machine History"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Fill in the details for machine maintenance and issues"})]}),a.jsxs(O.button,{onClick:()=>r("/machinehistory"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(hn,{className:"text-lg"})," Back to History"]})]}),a.jsxs(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[i&&a.jsxs(O.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:i}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(Ft,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>o(null)})})]}),a.jsxs("form",{onSubmit:J,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(Cr,{className:"mr-2 text-blue-500"})," General Information"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"date",className:"block text-sm font-medium text-gray-700 mb-1",children:["Date ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"date",name:"date",id:"date",value:X.date,onChange:K,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"shift",className:"block text-sm font-medium text-gray-700 mb-1",children:["Shift ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(un,{name:"shift",id:"shift",options:(k||[]).map(ae=>({value:ae.id,label:ae.name})),value:k.map(ae=>({value:ae.id,label:ae.name})).find(ae=>ae.value===X.shift),onChange:ae=>K(ae,"shift"),placeholder:"Select Shift",styles:ce,required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"group",className:"block text-sm font-medium text-gray-700 mb-1",children:["Group ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(un,{name:"group",id:"group",options:(T||[]).map(ae=>({value:ae.id,label:ae.name})),value:T.map(ae=>({value:ae.id,label:ae.name})).find(ae=>ae.value===X.group),onChange:ae=>K(ae,"group"),placeholder:"Select Group",styles:ce,required:!0})]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(Cr,{className:"mr-2 text-indigo-500"})," Time Details"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Start Time ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"number",name:"startJam",id:"startJam",value:X.startJam===null?"":X.startJam,onChange:K,min:"0",max:"23",placeholder:"HH",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0}),a.jsx("span",{className:"text-gray-500 text-lg",children:":"}),a.jsx("input",{type:"number",name:"startMenit",id:"startMenit",value:X.startMenit===null?"":X.startMenit,onChange:K,min:"0",max:"59",placeholder:"MM",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Stop Time ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"number",name:"stopJam",id:"stopJam",value:X.stopJam===null?"":X.stopJam,onChange:K,min:"0",max:"23",placeholder:"HH",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0}),a.jsx("span",{className:"text-gray-500 text-lg",children:":"}),a.jsx("input",{type:"number",name:"stopMenit",id:"stopMenit",value:X.stopMenit===null?"":X.stopMenit,onChange:K,min:"0",max:"59",placeholder:"MM",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"stopTime",className:"block text-sm font-medium text-gray-700 mb-1",children:["Stop Type ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(un,{name:"stopTime",id:"stopTime",options:(D||[]).map(ae=>({value:ae.id,label:ae.name})),value:D.find(ae=>ae.id===X.stopTime)?{value:X.stopTime,label:((Ee=D.find(ae=>ae.id===X.stopTime))==null?void 0:Ee.name)||""}:null,onChange:ae=>K(ae,"stopTime"),placeholder:"Select Stop Type",styles:ce,required:!0})]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(Ll,{className:"mr-2 text-green-500"})," Machine Details"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"mesin",className:"block text-sm font-medium text-gray-700 mb-1",children:["Machine ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(un,{name:"mesin",id:"mesin",options:(y||[]).map(ae=>({value:ae.id,label:ae.name})),value:y.find(ae=>ae.id===X.mesin)?{value:X.mesin,label:((ke=y.find(ae=>ae.id===X.mesin))==null?void 0:ke.name)||""}:null,onChange:ae=>K(ae,"mesin"),placeholder:"Select Machine",styles:ce,required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"runningHour",className:"block text-sm font-medium text-gray-700 mb-1",children:["Running Hour ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"runningHour",id:"runningHour",value:V(X.runningHour),onChange:K,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., 12.500",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"unit",className:"block text-sm font-medium text-gray-700 mb-1",children:["Unit ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(un,{name:"unit",id:"unit",options:(L||[]).map(ae=>({value:ae.id,label:ae.name})),value:L.find(ae=>ae.id===X.unit)?{value:X.unit,label:((ge=L.find(ae=>ae.id===X.unit))==null?void 0:ge.name)||""}:null,onChange:ae=>K(ae,"unit"),placeholder:"Select Unit",styles:ce,required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"itemTrouble",className:"block text-sm font-medium text-gray-700 mb-1",children:["Item Trouble ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(un,{name:"itemTrouble",id:"itemTrouble",options:(F||[]).map(ae=>({value:ae.id,label:ae.name})),value:F.find(ae=>ae.id===X.itemTrouble)?{value:X.itemTrouble,label:((Ce=F.find(ae=>ae.id===X.itemTrouble))==null?void 0:Ce.name)||""}:null,onChange:ae=>K(ae,"itemTrouble"),placeholder:"Select Item Trouble",styles:ce,required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"jenisGangguan",className:"block text-sm font-medium text-gray-700 mb-1",children:["Type of Disturbance / Damage ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"jenisGangguan",id:"jenisGangguan",value:X.jenisGangguan,onChange:K,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., Electrical Issue",required:!0})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsxs("label",{htmlFor:"bentukTindakan",className:"block text-sm font-medium text-gray-700 mb-1",children:["Action Taken ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Lf,{value:X.bentukTindakan,onChange:ae=>{oe(se=>({...se,bentukTindakan:ae}))}})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"rootCause",className:"block text-sm font-medium text-gray-700 mb-1",children:["Root Cause ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("textarea",{name:"rootCause",id:"rootCause",value:X.rootCause,onChange:K,rows:3,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"Identify the root cause...",required:!0})]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(Rx,{className:"mr-2 text-purple-500"})," Activity Details"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"jenisAktivitas",className:"block text-sm font-medium text-gray-700 mb-1",children:["Type of Activity ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(un,{name:"jenisAktivitas",id:"jenisAktivitas",options:(M||[]).map(ae=>({value:ae.id,label:ae.name})),value:M.find(ae=>ae.id===X.jenisAktivitas)?{value:X.jenisAktivitas,label:((Ke=M.find(ae=>ae.id===X.jenisAktivitas))==null?void 0:Ke.name)||""}:null,onChange:ae=>K(ae,"jenisAktivitas"),placeholder:"Select Type of Activity",styles:ce,required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"kegiatan",className:"block text-sm font-medium text-gray-700 mb-1",children:["Activity ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(un,{name:"kegiatan",id:"kegiatan",options:(z||[]).map(ae=>({value:ae.id,label:ae.name})),value:z.find(ae=>ae.id===X.kegiatan)?{value:X.kegiatan,label:((fe=z.find(ae=>ae.id===X.kegiatan))==null?void 0:fe.name)||""}:null,onChange:ae=>K(ae,"kegiatan"),placeholder:"Select Activity",styles:ce,required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"kodePart",className:"block text-sm font-medium text-gray-700 mb-1",children:"Part Code"}),a.jsx("input",{type:"text",name:"kodePart",id:"kodePart",value:X.kodePart,onChange:K,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., P001"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"sparePart",className:"block text-sm font-medium text-gray-700 mb-1",children:"Spare Part"}),a.jsx("input",{type:"text",name:"sparePart",id:"sparePart",value:X.sparePart,onChange:K,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., Oil Filter"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"idPart",className:"block text-sm font-medium text-gray-700 mb-1",children:"Part ID"}),a.jsx("input",{type:"text",name:"idPart",id:"idPart",value:X.idPart,onChange:K,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., SPU-005"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"jumlah",className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantity"}),a.jsx("input",{type:"text",name:"jumlah",id:"jumlah",value:V(X.jumlah),onChange:K,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., 5"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"unitSparePart",className:"block text-sm font-medium text-gray-700 mb-1",children:"Spare Part Unit"}),a.jsx(un,{name:"unitSparePart",id:"unitSparePart",options:(W||[]).map(ae=>({value:ae.id,label:ae.name})),value:W.find(ae=>ae.id===X.unitSparePart)?{value:X.unitSparePart,label:((ye=W.find(ae=>ae.id===X.unitSparePart))==null?void 0:ye.name)||""}:null,onChange:ae=>K(ae,"unitSparePart"),placeholder:"Select Unit",styles:ce})]})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsxs(O.button,{type:"button",onClick:Q,whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",children:[a.jsx(In,{className:"mr-2 h-5 w-5"})," Clear Form"]}),a.jsx(O.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:n,children:n?a.jsxs(a.Fragment,{children:[a.jsx(mn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(vn,{className:"mr-2 h-5 w-5"})," Save Record"]})})]})]})]})]})]}),a.jsx(M3e,{isOpen:u,onClose:re,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(fr,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:"Your machine history record has been added successfully!"}),a.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:re,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Go to Machine History"})]})})]})},O3e=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(O.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(Ft,{size:24})})]}),a.jsx("div",{children:n})]})}):null,D3e=()=>{var B,z,Y,W,H,q,X,oe,K,V,J,Q,re,ce,Ee,ke,ge,Ce,Ke,fe,ye,ae,se,bt,pt,Re,Me,qe,tt,Ve,Te,le,Je,Ge,ut,Pe;const{id:t}=si(),e=tr(),[r,n]=b.useState(()=>{const Ne=localStorage.getItem("sidebarOpen");return Ne?JSON.parse(Ne):!1}),s=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!r)),n(Ne=>!Ne)},[i,o]=b.useState(window.innerWidth<768),{getMachineHistoryById:l,updateMachineHistory:c,masterData:u,isMasterDataLoading:f}=or(),[h,g]=b.useState({date:"",shift:"",group:"",stopJam:null,stopMenit:null,startJam:null,startMenit:null,stopTime:"",unit:"",mesin:"",runningHour:0,itemTrouble:"",jenisGangguan:"",bentukTindakan:"",perbaikanPerawatan:"",rootCause:"",jenisAktivitas:"",kegiatan:"",kodePart:"",sparePart:"",idPart:"",jumlah:0,unitSparePart:""}),[p,v]=b.useState(!0),[w,y]=b.useState(!1),[N,k]=b.useState(null),[S,T]=b.useState(null),[_,D]=b.useState(!1);b.useEffect(()=>{(async()=>{var ze,me,De,je,We;try{if(v(!0),f||!u)return;if(t){const ve=(await l(t)).data;ve?g({date:ve.date||"",shift:String(ve.shift_id)||"",group:String(ve.group_id)||"",stopJam:((ze=ve.startstop)==null?void 0:ze.stop_time_hh)??null,stopMenit:((me=ve.startstop)==null?void 0:me.stop_time_mm)??null,startJam:((De=ve.startstop)==null?void 0:De.start_time_hh)??null,startMenit:((je=ve.startstop)==null?void 0:je.start_time_mm)??null,stopTime:String(ve.stoptime_id)||"",unit:String(ve.unit_id)||"",mesin:String(ve.mesin_id)||"",runningHour:ve.running_hour??0,itemTrouble:String(ve.itemtrouble_id)||"",jenisGangguan:ve.jenis_gangguan||"",bentukTindakan:ve.bentuk_tindakan||"",perbaikanPerawatan:((We=ve.jenisaktifitas)==null?void 0:We.name)==="Perbaikan"?"Perbaikan":"Perawatan",rootCause:ve.root_cause||"",jenisAktivitas:String(ve.jenisaktifitas_id)||"",kegiatan:String(ve.kegiatan_id)||"",kodePart:ve.kode_part||"",sparePart:ve.spare_part||"",idPart:ve.id_part||"",jumlah:ve.jumlah??0,unitSparePart:String(ve.unitsp_id)||""}):k("Data history mesin tidak ditemukan.")}else k("ID history mesin tidak diberikan untuk pengeditan.")}catch(rt){console.error("Error fetching machine history:",rt),k(rt.message||"Terjadi kesalahan saat memuat data.")}finally{v(!1)}})()},[t,u,f,l]);const E=b.useCallback((Ne,ze)=>{if(Ne&&typeof Ne=="object"&&"value"in Ne&&ze)g(me=>({...me,[ze]:Ne.value}));else if(Ne&&"target"in Ne){const{name:me,value:De,type:je}=Ne.target;g(We=>{if(["stopJam","startJam"].includes(me)){const rt=De.replace(/[^\d]/g,""),ve=parseInt(rt,10);return{...We,[me]:rt===""?null:Math.max(0,Math.min(23,isNaN(ve)?0:ve))}}if(["stopMenit","startMenit"].includes(me)){const rt=De.replace(/[^\d]/g,""),ve=parseInt(rt,10);return{...We,[me]:rt===""?null:Math.max(0,Math.min(59,isNaN(ve)?0:ve))}}return me==="runningHour"||me==="jumlah"?{...We,[me]:De.replace(/[^\d.]/g,"")}:{...We,[me]:De}})}},[]),L=b.useCallback(Ne=>{if(Ne===null||isNaN(Number(Ne)))return"";if(typeof Ne=="string"){const ze=Ne.replace(/[^\d]/g,""),me=parseInt(ze,10);return isNaN(me)?"":me.toLocaleString("id-ID").replace(/,/g,".")}return Ne.toLocaleString("id-ID").replace(/,/g,".")},[]),R=async Ne=>{Ne.preventDefault(),y(!0),k(null),T(null);const ze={...h,perbaikanPerawatan:h.jenisAktivitas==="Perbaikan"?"Perbaikan":"Perawatan",runningHour:h.runningHour?parseInt(String(h.runningHour).replace(/\./g,""),10):0,jumlah:h.jumlah?parseInt(String(h.jumlah).replace(/\./g,""),10):0};try{const me=await c(t,ze);T(me.message||"Machine history updated successfully!"),D(!0)}catch(me){console.error("Error updating machine history:",me),k(me.message||"Failed to update machine history.")}finally{y(!1)}},F=b.useCallback(()=>{g({date:"",shift:"",group:"",stopJam:null,stopMenit:null,startJam:null,startMenit:null,stopTime:"",unit:"",mesin:"",runningHour:0,itemTrouble:"",jenisGangguan:"",bentukTindakan:"",perbaikanPerawatan:"",rootCause:"",jenisAktivitas:"",kegiatan:"",kodePart:"",sparePart:"",idPart:"",jumlah:0,unitSparePart:""}),k(null),T(null)},[]),A=b.useCallback(()=>{D(!1),e("/machinehistory")},[e]),M={control:(Ne,ze)=>({...Ne,minHeight:"42px",borderColor:ze.isFocused?"#3B82F6":"#D1D5DB",boxShadow:ze.isFocused?"0 0 0 1px #3B82F6":"none","&:hover":{borderColor:"#9CA3AF"},borderRadius:"0.5rem",backgroundColor:"#FFFFFF",padding:"0 0.5rem",transition:"all 0.15s ease-in-out"}),valueContainer:Ne=>({...Ne,padding:"0"}),singleValue:Ne=>({...Ne,color:"#374151"}),placeholder:Ne=>({...Ne,color:"#6B7280"}),dropdownIndicator:Ne=>({...Ne,color:"#9CA3AF","&:hover":{color:"#6B7280"}}),indicatorSeparator:Ne=>({...Ne,display:"none"}),menu:Ne=>({...Ne,zIndex:9999,borderRadius:"0.5rem",border:"1px solid #E5E7EB",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"}),option:(Ne,ze)=>({...Ne,backgroundColor:ze.isFocused?"#EFF6FF":"#FFFFFF",color:"#1F2937","&:active":{backgroundColor:"#DBEAFE"},padding:"0.625rem 1rem"})};return f||p?a.jsx("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900 justify-center items-center",children:a.jsxs("div",{className:"bg-blue-100 border border-blue-400 text-blue-700 px-6 py-4 rounded-lg flex items-center shadow-lg animate-pulse",role:"alert",children:[a.jsx(mn,{className:"animate-spin mr-3 text-2xl"}),a.jsx("span",{className:"font-semibold text-lg",children:"Loading Data... Please wait."})]})}):!u&&!f?a.jsx("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900 justify-center items-center",children:a.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-6 py-4 rounded-lg flex items-center shadow-lg",role:"alert",children:[a.jsx(Ft,{className:"mr-3 text-2xl"}),a.jsx("span",{className:"font-semibold text-lg",children:"Error: Master data failed to load. Please refresh the page."})]})}):N&&!h.date?a.jsx("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900 justify-center items-center",children:a.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-6 py-4 rounded-lg flex items-center shadow-lg",role:"alert",children:[a.jsx(Ft,{className:"mr-3 text-2xl"}),a.jsxs("span",{className:"font-semibold text-lg",children:["Error: ",N]})]})}):a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Edit Machine History",mainTitleHighlight:"Machine History",description:"Manage activities and their configurations within the system.",icon:a.jsx(qg,{}),isMobile:i,toggleSidebar:s}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Edit Machine History Record ",t&&`(ID: ${t})`]}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Update maintenance activities and machine issues"})]}),a.jsxs(O.button,{onClick:()=>e("/machinehistory"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(hn,{className:"text-lg"})," Back to History"]})]}),a.jsxs(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[N&&a.jsxs(O.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:N}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(Ft,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>k(null)})})]}),a.jsxs("form",{onSubmit:R,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(Cr,{className:"mr-2 text-blue-500"})," General Information"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"date",className:"block text-sm font-medium text-gray-700 mb-1",children:["Date ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"date",name:"date",id:"date",value:h.date,onChange:E,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"shift",className:"block text-sm font-medium text-gray-700 mb-1",children:["Shift ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(un,{name:"shift",id:"shift",options:((z=(B=u==null?void 0:u.shifts)==null?void 0:B.data)==null?void 0:z.map(Ne=>({value:Ne.id,label:Ne.name})))||[],value:((W=(Y=u==null?void 0:u.shifts)==null?void 0:Y.data)==null?void 0:W.map(Ne=>({value:Ne.id,label:Ne.name})).find(Ne=>String(Ne.value)===String(h.shift)))||null,onChange:Ne=>E(Ne,"shift"),placeholder:"Select Shift",styles:M,required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"group",className:"block text-sm font-medium text-gray-700 mb-1",children:["Group ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(un,{name:"group",id:"group",options:((q=(H=u==null?void 0:u.groups)==null?void 0:H.data)==null?void 0:q.map(Ne=>({value:Ne.id,label:Ne.name})))||[],value:((oe=(X=u==null?void 0:u.groups)==null?void 0:X.data)==null?void 0:oe.map(Ne=>({value:Ne.id,label:Ne.name})).find(Ne=>String(Ne.value)===String(h.group)))||null,onChange:Ne=>E(Ne,"group"),placeholder:"Select Group",styles:M,required:!0})]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(Cr,{className:"mr-2 text-indigo-500"})," Time Details"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Start Time ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"number",name:"startJam",id:"startJam",value:h.startJam===null?"":h.startJam,onChange:E,min:"0",max:"23",placeholder:"HH",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0}),a.jsx("span",{className:"text-gray-500 text-lg",children:":"}),a.jsx("input",{type:"number",name:"startMenit",id:"startMenit",value:h.startMenit===null?"":h.startMenit,onChange:E,min:"0",max:"59",placeholder:"MM",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Stop Time ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"number",name:"stopJam",id:"stopJam",value:h.stopJam===null?"":h.stopJam,onChange:E,min:"0",max:"23",placeholder:"HH",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0}),a.jsx("span",{className:"text-gray-500 text-lg",children:":"}),a.jsx("input",{type:"number",name:"stopMenit",id:"stopMenit",value:h.stopMenit===null?"":h.stopMenit,onChange:E,min:"0",max:"59",placeholder:"MM",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"stopTime",className:"block text-sm font-medium text-gray-700 mb-1",children:["Stop Type ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(un,{name:"stopTime",id:"stopTime",options:((V=(K=u==null?void 0:u.stoptimes)==null?void 0:K.data)==null?void 0:V.map(Ne=>({value:Ne.id,label:Ne.name})))||[],value:((Q=(J=u==null?void 0:u.stoptimes)==null?void 0:J.data)==null?void 0:Q.map(Ne=>({value:Ne.id,label:Ne.name})).find(Ne=>String(Ne.value)===String(h.stopTime)))||null,onChange:Ne=>E(Ne,"stopTime"),placeholder:"Select Stop Type",styles:M,required:!0})]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(Ll,{className:"mr-2 text-green-500"})," Machine Details"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"mesin",className:"block text-sm font-medium text-gray-700 mb-1",children:["Machine ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(un,{name:"mesin",id:"mesin",options:((ce=(re=u==null?void 0:u.mesin)==null?void 0:re.data)==null?void 0:ce.map(Ne=>({value:Ne.id,label:Ne.name})))||[],value:((ke=(Ee=u==null?void 0:u.mesin)==null?void 0:Ee.data)==null?void 0:ke.map(Ne=>({value:Ne.id,label:Ne.name})).find(Ne=>String(Ne.value)===String(h.mesin)))||null,onChange:Ne=>E(Ne,"mesin"),placeholder:"Select Machine",styles:M,required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"runningHour",className:"block text-sm font-medium text-gray-700 mb-1",children:["Running Hour ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"runningHour",id:"runningHour",value:L(h.runningHour),onChange:E,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., 12.500",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"unit",className:"block text-sm font-medium text-gray-700 mb-1",children:["Unit ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(un,{name:"unit",id:"unit",options:((Ce=(ge=u==null?void 0:u.units)==null?void 0:ge.data)==null?void 0:Ce.map(Ne=>({value:Ne.id,label:Ne.name})))||[],value:((fe=(Ke=u==null?void 0:u.units)==null?void 0:Ke.data)==null?void 0:fe.map(Ne=>({value:Ne.id,label:Ne.name})).find(Ne=>String(Ne.value)===String(h.unit)))||null,onChange:Ne=>E(Ne,"unit"),placeholder:"Select Unit",styles:M,required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"itemTrouble",className:"block text-sm font-medium text-gray-700 mb-1",children:["Item Trouble ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(un,{name:"itemTrouble",id:"itemTrouble",options:((ae=(ye=u==null?void 0:u.itemtroubles)==null?void 0:ye.data)==null?void 0:ae.map(Ne=>({value:Ne.id,label:Ne.name})))||[],value:((bt=(se=u==null?void 0:u.itemtroubles)==null?void 0:se.data)==null?void 0:bt.map(Ne=>({value:Ne.id,label:Ne.name})).find(Ne=>String(Ne.value)===String(h.itemTrouble)))||null,onChange:Ne=>E(Ne,"itemTrouble"),placeholder:"Select Item Trouble",styles:M,required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"jenisGangguan",className:"block text-sm font-medium text-gray-700 mb-1",children:["Type of Disturbance ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"jenisGangguan",id:"jenisGangguan",value:h.jenisGangguan,onChange:E,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., Electrical Issue",required:!0})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsxs("label",{htmlFor:"bentukTindakan",className:"block text-sm font-medium text-gray-700 mb-1",children:["Action Taken ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Lf,{value:h.bentukTindakan,onChange:Ne=>{g(ze=>({...ze,bentukTindakan:Ne}))}})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"rootCause",className:"block text-sm font-medium text-gray-700 mb-1",children:["Root Cause ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("textarea",{name:"rootCause",id:"rootCause",value:h.rootCause,onChange:E,rows:3,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"Identify the root cause...",required:!0})]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(Rx,{className:"mr-2 text-purple-500"})," Activity Details"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"jenisAktivitas",className:"block text-sm font-medium text-gray-700 mb-1",children:["Type of Activity ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(un,{name:"jenisAktivitas",id:"jenisAktivitas",options:((Re=(pt=u==null?void 0:u.jenisaktivitas)==null?void 0:pt.data)==null?void 0:Re.map(Ne=>({value:Ne.id,label:Ne.name})))||[],value:((qe=(Me=u==null?void 0:u.jenisaktivitas)==null?void 0:Me.data)==null?void 0:qe.map(Ne=>({value:Ne.id,label:Ne.name})).find(Ne=>String(Ne.value)===String(h.jenisAktivitas)))||null,onChange:Ne=>E(Ne,"jenisAktivitas"),placeholder:"Select Type of Activity",styles:M,required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"kegiatan",className:"block text-sm font-medium text-gray-700 mb-1",children:["Activity ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(un,{name:"kegiatan",id:"kegiatan",options:((Ve=(tt=u==null?void 0:u.kegiatans)==null?void 0:tt.data)==null?void 0:Ve.map(Ne=>({value:Ne.id,label:Ne.name})))||[],value:((le=(Te=u==null?void 0:u.kegiatans)==null?void 0:Te.data)==null?void 0:le.map(Ne=>({value:Ne.id,label:Ne.name})).find(Ne=>String(Ne.value)===String(h.kegiatan)))||null,onChange:Ne=>E(Ne,"kegiatan"),placeholder:"Select Activity",styles:M,required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"kodePart",className:"block text-sm font-medium text-gray-700 mb-1",children:"Part Code"}),a.jsx("input",{type:"text",name:"kodePart",id:"kodePart",value:h.kodePart,onChange:E,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., P001"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"sparePart",className:"block text-sm font-medium text-gray-700 mb-1",children:"Spare Part"}),a.jsx("input",{type:"text",name:"sparePart",id:"sparePart",value:h.sparePart,onChange:E,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., Oil Filter"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"idPart",className:"block text-sm font-medium text-gray-700 mb-1",children:"Part ID"}),a.jsx("input",{type:"text",name:"idPart",id:"idPart",value:h.idPart,onChange:E,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., SPU-005"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"jumlah",className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantity"}),a.jsx("input",{type:"text",name:"jumlah",id:"jumlah",value:L(h.jumlah),onChange:E,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., 5"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"unitSparePart",className:"block text-sm font-medium text-gray-700 mb-1",children:"Spare Part Unit"}),a.jsx(un,{name:"unitSparePart",id:"unitSparePart",options:((Ge=(Je=u==null?void 0:u.unitspareparts)==null?void 0:Je.data)==null?void 0:Ge.map(Ne=>({value:Ne.id,label:Ne.name})))||[],value:((Pe=(ut=u==null?void 0:u.unitspareparts)==null?void 0:ut.data)==null?void 0:Pe.map(Ne=>({value:Ne.id,label:Ne.name})).find(Ne=>String(Ne.value)===String(h.unitSparePart)))||null,onChange:Ne=>E(Ne,"unitSparePart"),placeholder:"Select Unit",styles:M})]})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsxs(O.button,{type:"button",onClick:F,whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",children:[a.jsx(In,{className:"mr-2 h-5 w-5"})," Clear Form"]}),a.jsx(O.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:w,children:w?a.jsxs(a.Fragment,{children:[a.jsx(mn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(vn,{className:"mr-2 h-5 w-5"})," Save Changes"]})})]})]})]})]})]}),a.jsx(O3e,{isOpen:_,onClose:A,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(fr,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:"Your machine history record has been updated successfully!"}),a.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:A,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Go to Machine History"})]})})]})},DB={dashboard:{view:"1",edit:"2"},assets:{view:"3",create:"4",edit:"5",delete:"6"},workorders:{view:"7",create:"8",assign:"9",complete:"10",edit:"18",delete:"19"},machinehistory:{view:"31",create:"32",edit:"33",delete:"34"},inventory:{view:"23",create:"24",edit:"25",delete:"26"},reports:{view:"11",create:"20",edit:"21",export:"12",delete:"22"},teams:{view:"27",create:"28",edit:"29",delete:"30"},settings:{view:"13",edit:"14"},permissions:{view:"15",edit:"16"},users:{manage:"17"}},P3e=()=>{var Ke;const{user:t,logout:e,fetchWithAuth:r,getUsers:n,hasPermission:s,updateUserPermissions:i,deleteUser:o,createRole:l,updateRole:c}=or(),u=tr();Ds();const[f,h]=b.useState(()=>{const fe=localStorage.getItem("sidebarOpen");return fe?JSON.parse(fe):!1}),[g,p]=b.useState(window.innerWidth<768),[v,w]=b.useState("roles"),[y,N]=b.useState(null),[k,S]=b.useState(null),[T,_]=b.useState(!1),[D,E]=b.useState({}),[L,R]=b.useState("all"),[F,A]=b.useState(""),[M,B]=b.useState([]),[z,Y]=b.useState([]),[W,H]=b.useState(!1);b.useRef(null),b.useEffect(()=>{const fe=()=>{p(window.innerWidth<768),window.innerWidth<768&&h(!1)};return window.addEventListener("resize",fe),()=>window.removeEventListener("resize",fe)},[]),b.useEffect(()=>{localStorage.setItem("sidebarOpen",JSON.stringify(f))},[f]),b.useEffect(()=>{const fe=async()=>{try{const[ye,ae]=await Promise.all([n(),r("/roles")]),bt=ye.map(Re=>({id:String(Re.id),name:Re.name,nik:Re.nik,email:Re.email,roleId:Re.role_id?String(Re.role_id):null,role:Re.role?{id:Re.role.id,name:Re.role.name}:void 0,customPermissions:Re.customPermissions||[],department:Re.department||null,department_id:Re.department_id||null,permissions:Re.permissions||Re.allPermissions||[]})),pt=ae.map(Re=>({id:String(Re.id),name:Re.name,description:Re.description||`${Re.name} role`,permissions:Re.permissions.map(String),isSuperadmin:Re.name==="superadmin"}));B(bt),Y(pt)}catch(ye){console.error("Failed to fetch data:",ye)}};s("view_permissions")&&fe()},[n,r,s]);const q=()=>{h(fe=>!fe)},X=fe=>{E(ye=>({...ye,[fe]:!ye[fe]}))},oe=fe=>{!y||y.isSuperadmin||N(ye=>({...ye,permissions:ye.permissions.includes(fe)?ye.permissions.filter(ae=>ae!==fe):[...ye.permissions,fe]}))},K=fe=>{!k||k.roleId==="3"||S(ye=>{if(!ye)return null;const ae=ye.customPermissions.includes(fe)?ye.customPermissions.filter(se=>se!==fe):[...ye.customPermissions,fe];return{...ye,customPermissions:ae,permissions:[...new Set([...ye.rolePermissions||[],...ae])]}})},V=fe=>{N(fe),_(!0)},J=b.useCallback(async()=>{if(!y||!s("edit_permissions")){alert("You don't have permission or role data is incomplete.");return}if(!y.name.trim()){alert("Role name cannot be empty!");return}try{const fe={name:y.name,description:y.description,permissions:y.permissions};y.id?await c(y.id,fe):await l(fe);const ae=(await r("/roles")).map(se=>({id:String(se.id),name:se.name,description:se.description,permissions:se.permissions.map(String),isSuperadmin:se.name==="superadmin"}));Y(ae),_(!1),N(null)}catch(fe){console.error("Failed to save role:",fe)}},[y,s,c,l,r]),Q=fe=>{const ye=z.find(ae=>String(ae.id)===String(fe.roleId));S({...fe,rolePermissions:(ye==null?void 0:ye.permissions)||[],customPermissions:fe.customPermissions||[],permissions:fe.permissions||[]})},re=async()=>{if(k)try{const fe=await i(k.id,{roleId:k.roleId||null,customPermissions:k.customPermissions||[]});B(M.map(ye=>{if(ye.id===fe.id){const ae=fe.roleId||null,se=z.find(Me=>String(Me.id)===String(ae)),bt=(se==null?void 0:se.permissions)||[],pt=fe.customPermissions||[],Re=[...new Set([...bt,...pt])];return{...fe,roleId:ae,customPermissions:pt,rolePermissions:bt,permissions:Re}}return ye})),S(null)}catch(fe){console.error("Failed to save user:",fe)}},ce=async fe=>{if(!(!s("manage_users")||!window.confirm("Are you sure you want to delete this role?")))try{await r(`/roles/${fe}`,{method:"DELETE"});const ae=(await r("/roles")).map(se=>({id:String(se.id),name:se.name,description:se.description,permissions:se.permissions.map(String),isSuperadmin:se.name==="superadmin"}));Y(ae)}catch(ye){console.error("Failed to delete role:",ye)}},Ee=b.useCallback(async fe=>{if(window.confirm("Are you sure you want to delete this user?")){H(!0);try{await o(fe);const ye=await n();B(ye)}catch(ye){console.error("Failed to delete user:",ye)}finally{H(!1)}}},[o,n]),ke=fe=>{if(!fe)return"No Role";const ye=z.find(ae=>String(ae.id)===String(fe));return ye?ye.name:"No Role"},ge=["all",...new Set(M.map(fe=>{var ye;return((ye=fe.department)==null?void 0:ye.name)||""}).filter(Boolean))],Ce=M.filter(fe=>{var ye;return L==="all"||((ye=fe.department)==null?void 0:ye.name)===L}).filter(fe=>fe.name.toLowerCase().includes(F.toLowerCase())||fe.nik.toLowerCase().includes(F.toLowerCase()));return s("15")?a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Permission",mainTitleHighlight:"Management",description:"Manage user roles and permissions to control access and functionality within the system.",icon:a.jsx(Dp,{}),isMobile:g,toggleSidebar:q}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsx(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Permission ",a.jsx("span",{className:"text-blue-600",children:"Management"})]}),a.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Manage user roles and permissions to control access and functionality within the system."})]})}),a.jsx("div",{className:"bg-white rounded-2xl shadow-md p-5 border border-blue-100 mb-6",children:a.jsxs("div",{className:"flex border-b border-gray-100",children:[a.jsxs("button",{onClick:()=>w("roles"),className:`px-6 py-3 font-medium text-sm flex items-center ${v==="roles"?"text-blue-700 border-b-2 border-blue-700":"text-gray-600 hover:text-gray-900"}`,children:[a.jsx(Dp,{className:"mr-2 text-base"}),"Roles & Permissions"]}),a.jsxs("button",{onClick:()=>w("users"),className:`px-6 py-3 font-medium text-sm flex items-center ${v==="users"?"text-blue-700 border-b-2 border-blue-700":"text-gray-600 hover:text-gray-900"}`,children:[a.jsx(Pa,{className:"mr-2 text-base"}),"User Permissions"]})]})}),v==="roles"&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Roles"}),s("16")&&a.jsxs(O.button,{onClick:()=>{_(!0),N({id:null,name:"",description:"",permissions:[],isSuperadmin:!1})},whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[a.jsx(pa,{className:"text-base"}),a.jsx("span",{children:"Add Role"})]})]}),T&&a.jsxs(O.div,{whileHover:{y:-2,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.05)"},transition:{type:"spring",stiffness:300},className:"bg-white rounded-2xl shadow-md p-6 mb-6 border border-blue-100",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:y!=null&&y.id?"Edit Role":"Add New Role"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role Name"}),a.jsx("input",{type:"text",value:(y==null?void 0:y.name)||"",onChange:fe=>N(ye=>({...ye,name:fe.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., Maintenance Manager"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("input",{type:"text",value:(y==null?void 0:y.description)||"",onChange:fe=>N(ye=>({...ye,description:fe.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Brief description of the role"})]})]}),a.jsx("h4",{className:"font-medium text-gray-700 mb-3",children:"Permissions"}),a.jsx("div",{className:"space-y-4",children:Object.entries(DB).map(([fe,ye])=>a.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[a.jsxs("button",{onClick:()=>X(fe),className:"w-full flex justify-between items-center p-3 bg-gray-50 hover:bg-gray-100 transition-colors duration-200",children:[a.jsx("span",{className:"font-medium text-gray-700 capitalize",children:fe.replace(/([A-Z])/g," $1").trim()}),D[fe]?a.jsx(dj,{}):a.jsx(la,{})]}),a.jsx(ar,{children:D[fe]&&a.jsx(O.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"p-3 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 bg-white",children:Object.entries(ye).map(([ae,se])=>a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:`perm-${se}`,checked:(y==null?void 0:y.isSuperadmin)||(y==null?void 0:y.permissions.includes(se))||!1,onChange:()=>oe(se),disabled:y==null?void 0:y.isSuperadmin,className:"h-4 w-4 text-blue-600 rounded focus:ring-blue-500 border-gray-300"}),a.jsx("label",{htmlFor:`perm-${se}`,className:"ml-2 text-sm text-gray-700",children:a.jsxs("div",{className:"font-medium",children:[ae," ",fe.replace(/([A-Z])/g," $1").trim(),(y==null?void 0:y.isSuperadmin)&&a.jsx("span",{className:"ml-2 text-xs bg-blue-100 text-blue-800 px-2 py-0.5 rounded",children:"Superadmin"})]})})]},se))})})]},fe))}),a.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[a.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>{_(!1),N(null)},className:"px-4 py-2 border border-gray-300 text-gray-700 hover:bg-gray-50 rounded-lg transition-colors duration-200 font-medium text-sm",children:"Cancel"}),a.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:J,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors duration-200 font-medium text-sm",children:"Save Role"})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:z.map(fe=>a.jsxs(O.div,{whileHover:{y:-2,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.05)"},transition:{type:"spring",stiffness:300},className:"bg-white rounded-2xl shadow-sm p-6 border border-blue-100 h-full",children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:[fe.name,fe.isSuperadmin&&a.jsx("span",{className:"ml-2 text-xs bg-blue-100 text-blue-800 px-2 py-0.5 rounded",children:"Superadmin"})]}),a.jsxs("div",{className:"flex space-x-2",children:[!fe.isSuperadmin&&s("16")&&a.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>V(fe),className:"text-blue-600 hover:text-blue-800 transition-colors duration-200 p-1 rounded-full hover:bg-blue-50",title:"Edit",children:a.jsx(Ba,{className:"text-base"})}),!fe.isSuperadmin&&s("17")&&a.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>ce(fe.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:a.jsx(In,{className:"text-base"})})]})]}),a.jsx("p",{className:"text-gray-600 text-sm mb-4",children:fe.description}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-gray-500",children:"Permissions:"}),a.jsx("span",{className:"font-medium text-gray-900",children:fe.permissions.length})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-gray-500",children:"Users with this role:"}),a.jsx("span",{className:"font-medium text-gray-900",children:M.filter(ye=>ye.roleId===fe.id).length})]})]})]},fe.id))})]}),v==="users"&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0 mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Users"}),a.jsxs("div",{className:"flex flex-col md:flex-row space-y-3 md:space-y-0 md:space-x-3",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Da,{className:"absolute left-3 top-3 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search users...",value:F,onChange:fe=>A(fe.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 pl-10 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent w-full"})]}),a.jsx("select",{value:L,onChange:fe=>R(fe.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:ge.map(fe=>a.jsx("option",{value:fe,children:fe==="all"?"All Departments":fe},fe))}),s("17")&&a.jsxs(O.button,{whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},onClick:()=>u("/permissions/adduser"),className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[a.jsx(w0e,{className:"text-base"}),a.jsx("span",{children:"Add User"})]})]})]}),a.jsx("div",{className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:a.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:a.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[a.jsx("thead",{className:"bg-blue-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Name"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"NIK"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Email"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Department"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Role"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Permissions"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:Ce.map(fe=>{var ye,ae,se;return a.jsxs("tr",{className:"hover:bg-blue-50 transition-colors duration-150",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:fe.name}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:fe.nik}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:fe.email}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:((ye=fe.department)==null?void 0:ye.name)||"-"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:((ae=fe.role)==null?void 0:ae.name)||ke(fe.roleId)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:fe.roleId==="3"?a.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-blue-100 text-blue-800",children:"All permissions"}):(se=fe.customPermissions)!=null&&se.length?a.jsxs("span",{className:"cursor-help border-b border-dashed border-gray-400",title:fe.customPermissions.join(", "),children:[fe.customPermissions.length," custom"]}):a.jsx("span",{className:"italic text-gray-400",children:"None"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-2",children:s("edit_permissions")&&a.jsxs(a.Fragment,{children:[a.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>Q(fe),className:"text-blue-600 hover:text-blue-800 transition-colors duration-200 p-1 rounded-full hover:bg-blue-50",title:"Edit",children:a.jsx(Ba,{className:"text-base"})}),fe.id!==(t==null?void 0:t.id)&&s("manage_users")&&a.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>Ee(fe.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:a.jsx(In,{className:"text-base"})})]})})]},fe.id)})})]})})})]})]})]}),a.jsx(ar,{children:k&&a.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:a.jsxs(O.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex justify-between items-center border-b border-gray-100 p-4 sticky top-0 bg-white z-10",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Edit User Permissions"}),a.jsx("button",{onClick:()=>S(null),className:"text-gray-500 hover:text-gray-700",children:a.jsx(Ft,{className:"text-xl"})})]}),a.jsxs("div",{className:"p-6",children:[!k.roleId&&a.jsx("div",{className:"p-3 bg-yellow-50 rounded-md mb-4",children:a.jsx("p",{className:"text-yellow-700",children:"⚠️ This user has no role assigned. Permissions will come only from custom permissions."})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),a.jsx("div",{className:"font-medium text-gray-900",children:k.name})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"NIK"}),a.jsx("div",{className:"text-gray-600",children:k.nik})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),a.jsx("div",{className:"text-gray-600",children:k.email})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department"}),a.jsx("div",{className:"text-gray-600",children:((Ke=k.department)==null?void 0:Ke.name)||"-"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),a.jsxs("select",{value:k.roleId||"",onChange:fe=>{const ye=fe.target.value||null,ae=z.find(se=>String(se.id)===String(ye));S({...k,roleId:ye,rolePermissions:(ae==null?void 0:ae.permissions)||[]})},className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"",children:"No Role"}),z.map(fe=>a.jsx("option",{value:String(fe.id),children:fe.name},fe.id))]})]})]}),a.jsx("h4",{className:"font-medium text-gray-700 mb-3",children:"Custom Permissions"}),a.jsx("div",{className:"space-y-4",children:Object.entries(DB).map(([fe,ye])=>a.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[a.jsxs("button",{onClick:()=>X(fe),className:"w-full flex justify-between items-center p-3 bg-gray-50 hover:bg-gray-100 transition-colors duration-200",children:[a.jsx("span",{className:"font-medium text-gray-700 capitalize",children:fe.replace(/([A-Z])/g," $1").trim()}),D[fe]?a.jsx(dj,{}):a.jsx(la,{})]}),a.jsx(ar,{children:D[fe]&&a.jsx(O.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"p-3 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 bg-white",children:Object.entries(ye).map(([ae,se])=>{var qe,tt;const bt=((qe=k.rolePermissions)==null?void 0:qe.includes(se))||!1,pt=k.roleId==="3",Re=pt||bt||((tt=k.customPermissions)==null?void 0:tt.includes(se)),Me=pt||bt;return a.jsxs("div",{className:`flex items-center ${Me?"opacity-50":""}`,children:[a.jsx("input",{type:"checkbox",id:`user-perm-${se}`,checked:Re,onChange:()=>!Me&&K(se),disabled:Me,className:`h-4 w-4 rounded focus:ring-blue-500 ${pt?"text-blue-600":bt?"text-purple-600":"text-blue-600"}`}),a.jsx("label",{htmlFor:`user-perm-${se}`,className:"ml-2 text-sm text-gray-700",children:a.jsxs("div",{className:"font-medium flex items-center",children:[ae," ",fe.replace(/([A-Z])/g," $1").trim(),pt&&a.jsx("span",{className:"ml-2 text-xs bg-blue-100 text-blue-800 px-2 py-0.5 rounded",children:"Superadmin"}),bt&&!pt&&a.jsx("span",{className:"ml-2 text-xs bg-purple-100 text-purple-800 px-2 py-0.5 rounded",children:"from role"})]})})]},se)})})})]},fe))})]}),a.jsxs("div",{className:"flex justify-end space-x-3 p-4 border-t border-gray-100 sticky bottom-0 bg-white",children:[a.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>S(null),className:"px-4 py-2 border border-gray-300 text-gray-700 hover:bg-gray-50 rounded-lg transition-colors duration-200 font-medium text-sm",children:"Cancel"}),a.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:re,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors duration-200 font-medium text-sm",children:"Save Changes"})]})]})})})]}):a.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50 font-sans",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 text-center border border-red-200",children:[a.jsx(Hr,{className:"text-red-500 text-4xl mx-auto mb-4"}),a.jsx("p",{className:"text-xl text-red-600 font-semibold",children:"You don't have permission to access this page"})]})})},L3e=()=>{const{changePassword:t}=or(),e=tr(),[r,n]=b.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[s,i]=b.useState({currentPassword:"",newPassword:"",confirmPassword:"",general:""}),[o,l]=b.useState(!1),[c,u]=b.useState({current:!1,new:!1,confirm:!1}),[f,h]=b.useState(""),g=y=>{const{name:N,value:k}=y.target;n(S=>({...S,[N]:k})),s[N]&&i(S=>({...S,[N]:"",general:""}))},p=y=>{u(N=>({...N,[y]:!N[y]}))},v=()=>{let y=!0;const N={currentPassword:"",newPassword:"",confirmPassword:"",general:""};return r.currentPassword||(N.currentPassword="Current password is required",y=!1),r.newPassword?r.newPassword.length<8&&(N.newPassword="Password must be at least 8 characters",y=!1):(N.newPassword="New password is required",y=!1),r.newPassword!==r.confirmPassword&&(N.confirmPassword="Passwords do not match",y=!1),i(N),y},w=async y=>{if(y.preventDefault(),!!v()){l(!0),h("");try{await t(r.currentPassword,r.newPassword),h("Your password has been changed successfully!"),n({currentPassword:"",newPassword:"",confirmPassword:""}),i({currentPassword:"",newPassword:"",confirmPassword:"",general:""})}catch(N){console.error("Password change error:",N),i(k=>({...k,general:N.message||"Failed to change password. Please try again."}))}finally{l(!1)}}};return a.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[a.jsxs("header",{className:"bg-white shadow-sm py-4 px-6 flex items-center",children:[a.jsx(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>e(-1),className:"p-2 rounded-full hover:bg-gray-100 mr-4",children:a.jsx(HO,{className:"text-xl text-gray-700"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Change Password"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Update your account password"})]})]}),a.jsxs("main",{className:"flex-1 p-4 md:p-6 max-w-3xl mx-auto w-full",children:[a.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"bg-white rounded-xl shadow-sm p-6 border border-blue-100",children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center mr-3",children:a.jsx(wR,{className:"text-blue-600 text-lg"})}),a.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Password Update"})]}),a.jsx("p",{className:"text-gray-600 text-sm",children:"Please enter your current password and set a new one."})]}),a.jsxs("form",{onSubmit:w,className:"space-y-6",children:[a.jsxs(ar,{children:[s.general&&a.jsxs(O.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0},className:"bg-red-50 border-l-4 border-red-500 p-4 rounded flex items-start",children:[a.jsx(xw,{className:"text-red-500 mr-3 mt-0.5 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-red-700 font-medium",children:"Error"}),a.jsx("p",{className:"text-red-600 text-sm",children:s.general})]})]}),f&&a.jsxs(O.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0},className:"bg-green-50 border-l-4 border-green-500 p-4 rounded flex items-start",children:[a.jsx(Yle,{className:"text-green-500 mr-3 mt-0.5 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-green-700 font-medium",children:"Success"}),a.jsx("p",{className:"text-green-600 text-sm",children:f})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"currentPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Current Password"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:c.current?"text":"password",id:"currentPassword",name:"currentPassword",value:r.currentPassword,onChange:g,className:`w-full border ${s.currentPassword?"border-red-300":"border-gray-300"} rounded-md px-3 py-2 pr-10 focus:outline-none focus:ring-2 focus:ring-blue-500`,disabled:o,autoComplete:"current-password"}),a.jsx("button",{type:"button",onClick:()=>p("current"),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-500 hover:text-gray-700","aria-label":c.current?"Hide password":"Show password",children:c.current?a.jsx(_2,{}):a.jsx(A2,{})})]}),s.currentPassword&&a.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[a.jsx(xw,{className:"mr-1"})," ",s.currentPassword]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"New Password"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:c.new?"text":"password",id:"newPassword",name:"newPassword",value:r.newPassword,onChange:g,className:`w-full border ${s.newPassword?"border-red-300":"border-gray-300"} rounded-md px-3 py-2 pr-10 focus:outline-none focus:ring-2 focus:ring-blue-500`,disabled:o,autoComplete:"new-password"}),a.jsx("button",{type:"button",onClick:()=>p("new"),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-500 hover:text-gray-700","aria-label":c.new?"Hide password":"Show password",children:c.new?a.jsx(_2,{}):a.jsx(A2,{})})]}),a.jsxs("div",{className:"mt-3 bg-blue-50 p-3 rounded-md",children:[a.jsxs("p",{className:"text-xs font-medium text-gray-700 mb-1 flex items-center",children:[a.jsx(vR,{className:"mr-1 text-blue-500"})," Password requirement:"]}),a.jsx("p",{className:"text-xs text-gray-600",children:"Must be at least 8 characters long"})]}),s.newPassword&&a.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[a.jsx(xw,{className:"mr-1"})," ",s.newPassword]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm New Password"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:c.confirm?"text":"password",id:"confirmPassword",name:"confirmPassword",value:r.confirmPassword,onChange:g,className:`w-full border ${s.confirmPassword?"border-red-300":"border-gray-300"} rounded-md px-3 py-2 pr-10 focus:outline-none focus:ring-2 focus:ring-blue-500`,disabled:o,autoComplete:"new-password"}),a.jsx("button",{type:"button",onClick:()=>p("confirm"),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-500 hover:text-gray-700","aria-label":c.confirm?"Hide password":"Show password",children:c.confirm?a.jsx(_2,{}):a.jsx(A2,{})})]}),s.confirmPassword&&a.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[a.jsx(xw,{className:"mr-1"})," ",s.confirmPassword]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-100",children:[a.jsx(O.button,{type:"button",whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>e(-1),disabled:o,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 disabled:opacity-50",children:"Cancel"}),a.jsx(O.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},disabled:o||r.newPassword.length<8||r.newPassword!==r.confirmPassword,className:`px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:hover:bg-blue-600 flex items-center ${o?"opacity-75":""}`,children:o?a.jsxs(a.Fragment,{children:[a.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Updating..."]}):a.jsxs(a.Fragment,{children:[a.jsx(wR,{className:"mr-2"}),"Update Password"]})})]})]})]}),a.jsxs("div",{className:"mt-6 bg-white rounded-xl shadow-sm p-6 border border-blue-100",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-3 flex items-center",children:[a.jsx(vR,{className:"text-blue-500 mr-2"})," Security Tip"]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Choose a password that's easy for you to remember but hard for others to guess. Avoid using common words or personal information."})]})]})]})},R3e=["Dashboard","Assets","Work Orders","Machine History","Inventory","Reports","Team","Settings","Permissions","Users"],I3e=[{id:"1",name:"View Dashboard",description:"Can view dashboard",category:"Dashboard"},{id:"2",name:"Edit Dashboard",description:"Can edit dashboard",category:"Dashboard"},{id:"3",name:"View Assets",description:"Can view assets",category:"Assets"},{id:"4",name:"Create Assets",description:"Can create assets",category:"Assets"},{id:"5",name:"Edit Assets",description:"Can edit assets",category:"Assets"},{id:"6",name:"Delete Assets",description:"Can delete assets",category:"Assets"},{id:"7",name:"View Work Orders",description:"Can view work orders",category:"Work Orders"},{id:"8",name:"Create Work Orders",description:"Can create work orders",category:"Work Orders"},{id:"9",name:"Assign Work Orders",description:"Can assign work orders",category:"Work Orders"},{id:"10",name:"Complete Work Orders",description:"Can complete work orders",category:"Work Orders"},{id:"18",name:"Edit Work Orders",description:"Can edit work orders",category:"Work Orders"},{id:"19",name:"Delete Work Orders",description:"Can delete work orders",category:"Work Orders"},{id:"31",name:"View Machine History",description:"Can view machine history",category:"Machine History"},{id:"32",name:"Create Machine History",description:"Can create machine history",category:"Machine History"},{id:"33",name:"Edit Machine History",description:"Can edit machine history",category:"Machine History"},{id:"34",name:"Delete Machine History",description:"Can delete machine history",category:"Machine History"},{id:"23",name:"View Inventory",description:"Can view inventory",category:"Inventory"},{id:"24",name:"Create Inventory",description:"Can create inventory",category:"Inventory"},{id:"25",name:"Edit Inventory",description:"Can edit inventory",category:"Inventory"},{id:"26",name:"Delete Inventory",description:"Can delete inventory",category:"Inventory"},{id:"11",name:"View Reports",description:"Can view reports",category:"Reports"},{id:"12",name:"Export Reports",description:"Can export reports",category:"Reports"},{id:"20",name:"Create Reports",description:"Can create reports",category:"Reports"},{id:"21",name:"Edit Reports",description:"Can edit reports",category:"Reports"},{id:"22",name:"Delete Reports",description:"Can delete reports",category:"Reports"},{id:"27",name:"View Team",description:"Can view team",category:"Team"},{id:"28",name:"Create Team",description:"Can create team",category:"Team"},{id:"29",name:"Edit Team",description:"Can edit team",category:"Team"},{id:"30",name:"Delete Team",description:"Can delete team",category:"Team"},{id:"13",name:"View Settings",description:"Can view settings",category:"Settings"},{id:"14",name:"Edit Settings",description:"Can edit settings",category:"Settings"},{id:"15",name:"View Permissions",description:"Can view permissions",category:"Permissions"},{id:"16",name:"Edit Permissions",description:"Can edit permissions",category:"Permissions"},{id:"17",name:"Manage Users",description:"Can manage users",category:"Users"}],F3e=()=>{const t=tr(),{user:e,register:r,getRoles:n,hasPermission:s,getDepartment:i}=or(),[o,l]=b.useState(!1),[c,u]=b.useState({}),[f,h]=b.useState(!1),[g,p]=b.useState({}),[v,w]=b.useState([]),[y,N]=b.useState([]),[k,S]=b.useState(window.innerWidth<768),[T,_]=b.useState(()=>{const W=localStorage.getItem("sidebarOpen");return JSON.parse(W||"false")}),D=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!T)),_(W=>!W)},[E,L]=b.useState({name:"",nik:"",email:"",roleId:"",customPermissions:[],department_id:"",password:"",confirmPassword:""});b.useEffect(()=>{(async()=>{try{const H=await n();w(H);const q=await i();N(q)}catch(H){console.error("Failed to fetch data:",H)}})()},[n,i,t]);const R=R3e.reduce((W,H)=>(W[H]=I3e.filter(q=>q.category===H),W),{}),F=W=>{u(H=>({...H,[W]:!H[W]}))},A=W=>{L(H=>({...H,customPermissions:H.customPermissions.includes(W)?H.customPermissions.filter(q=>q!==W):[...H.customPermissions,W]}))},M=W=>{const{name:H,value:q}=W.target;L(X=>({...X,[H]:q})),g[H]&&p(X=>({...X,[H]:""}))},B=()=>{const W={};return E.name.trim()||(W.name="Name is required"),E.nik.trim()?/^\d+$/.test(E.nik)||(W.nik="NIK must be numeric"):W.nik="NIK is required",E.password?E.password.length<6&&(W.password="Password must be at least 6 characters"):W.password="Password is required",E.password!==E.confirmPassword&&(W.confirmPassword="Passwords do not match"),E.department_id||(W.department="Department is required"),E.roleId||(W.roleId="Role is required"),p(W),Object.keys(W).length===0},z=W=>{const H=v.find(q=>q.id===W);return H?H.permissions:[]},Y=async W=>{if(W.preventDefault(),!B())return;const H={name:E.name,nik:E.nik,email:E.email,password:E.password,confirmPassword:E.confirmPassword,department:E.department_id,roleId:E.roleId,customPermissions:E.customPermissions,customPermissionsCount:E.customPermissions.length};console.log("🔄 Submit Payload:",JSON.stringify(H,null,2)),console.log("📊 Payload Details:",{hasName:!!E.name,hasNIK:!!E.nik,hasEmail:!!E.email,hasPassword:!!E.password,passwordsMatch:E.password===E.confirmPassword,hasDepartment:!!E.department_id,hasRole:!!E.roleId,customPermissionsSelected:E.customPermissions.length}),h(!0);try{console.log("🚀 Starting user registration..."),await r(E.name,E.email,E.nik,E.password,E.department_id,E.roleId,E.customPermissions),console.log("✅ User created successfully"),t("/permissions",{state:{success:"User created successfully"}})}catch(q){console.error("❌ Failed to create user:",q),console.error("🔍 Error details:",{message:q.message,stack:q.stack,payload:H}),p({form:q.message||"Failed to create user. Please try again."})}finally{h(!1)}};return s("manage_users")?a.jsxs("div",{className:`flex h-screen font-sans antialiased ${o?"dark bg-gray-900":"bg-blue-50"} text-gray-900`,children:[a.jsx(er,{})," ",a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Add User",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:a.jsx(cn,{}),isMobile:k,toggleSidebar:D}),a.jsxs("main",{className:`flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar ${o?"bg-gray-900":"bg-gray-50"}`,children:[a.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:`${o?"text-gray-100":"text-gray-900"} text-2xl md:text-3xl font-bold`,children:"Add New User"}),a.jsx("p",{className:`${o?"text-gray-400":"text-gray-600"} mt-1`,children:"Fill out the form below to add a new user to the system."})]}),a.jsxs(O.button,{onClick:()=>t("/permissions"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:`${o?"bg-gray-800 border-gray-700 text-gray-200 hover:bg-gray-700":"bg-white border-gray-200 text-gray-800 hover:bg-blue-50"} flex items-center space-x-2 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md border`,children:[a.jsx(HO,{className:"text-lg"}),a.jsx("span",{className:"font-semibold",children:"Back to Permissions"})]})]}),g.form&&a.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:`${o?"bg-red-900 border-red-700 text-red-200":"bg-red-100 border-red-400 text-red-700"} px-4 py-3 rounded relative border mb-6`,role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsxs("span",{className:"block sm:inline",children:[" ",g.form]})]}),a.jsxs("form",{onSubmit:Y,children:[a.jsxs(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:`${o?"bg-gray-800 border-gray-700":"bg-white border-blue-50"} rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border mb-6`,children:[a.jsx("h3",{className:`text-lg font-semibold mb-4 ${o?"text-gray-100":"text-gray-900"}`,children:"User Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium ${o?"text-gray-300":"text-gray-700"}`,children:"Full Name*"}),a.jsx("input",{type:"text",name:"name",value:E.name,onChange:M,className:`mt-1 block w-full border ${o?"bg-gray-700 border-gray-600 text-gray-100":"border-gray-200 bg-white text-gray-900"} rounded-lg shadow-sm p-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200`,placeholder:"Enter full name"}),g.name&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:g.name})]}),a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium ${o?"text-gray-300":"text-gray-700"}`,children:"NIK (Employee ID)*"}),a.jsx("input",{type:"text",name:"nik",value:E.nik,onChange:M,className:`mt-1 block w-full border ${o?"bg-gray-700 border-gray-600 text-gray-100":"border-gray-200 bg-white text-gray-900"} rounded-lg shadow-sm p-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200`,placeholder:"Enter NIK (numeric only)"}),g.nik&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:g.nik})]}),a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium ${o?"text-gray-300":"text-gray-700"}`,children:"Email*"}),a.jsx("input",{type:"text",name:"email",value:E.email,onChange:M,className:`mt-1 block w-full border ${o?"bg-gray-700 border-gray-600 text-gray-100":"border-gray-200 bg-white text-gray-900"} rounded-lg shadow-sm p-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200`,placeholder:"Enter Email"}),g.email&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:g.email})]}),a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium ${o?"text-gray-300":"text-gray-700"}`,children:"Department*"}),a.jsxs("select",{name:"department_id",value:E.department_id,onChange:M,className:`mt-1 block w-full border ${o?"bg-gray-700 border-gray-600 text-gray-100":"border-gray-200 bg-white text-gray-900"} rounded-lg shadow-sm p-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200`,children:[a.jsx("option",{value:"",children:"Select Department"}),y.map(W=>a.jsx("option",{value:W.id,children:W.name},W.id))]}),g.department_id&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:g.department_id})]}),a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium ${o?"text-gray-300":"text-gray-700"}`,children:"Password*"}),a.jsx("input",{type:"password",name:"password",value:E.password,onChange:M,className:`mt-1 block w-full border ${o?"bg-gray-700 border-gray-600 text-gray-100":"border-gray-200 bg-white text-gray-900"} rounded-lg shadow-sm p-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200`,placeholder:"Enter password (min 6 chars)"}),g.password&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:g.password})]}),a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium ${o?"text-gray-300":"text-gray-700"}`,children:"Confirm Password*"}),a.jsx("input",{type:"password",name:"confirmPassword",value:E.confirmPassword,onChange:M,className:`mt-1 block w-full border ${o?"bg-gray-700 border-gray-600 text-gray-100":"border-gray-200 bg-white text-gray-900"} rounded-lg shadow-sm p-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200`,placeholder:"Confirm password"}),g.confirmPassword&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:g.confirmPassword})]}),a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium ${o?"text-gray-300":"text-gray-700"}`,children:"Role*"}),a.jsxs("select",{name:"roleId",value:E.roleId,onChange:M,className:`mt-1 block w-full border ${o?"bg-gray-700 border-gray-600 text-gray-100":"border-gray-200 bg-white text-gray-900"} rounded-lg shadow-sm p-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200`,children:[a.jsx("option",{value:"",children:"Select Role"}),v.map(W=>a.jsx("option",{value:W.id,children:W.name},W.id))]}),g.roleId&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:g.roleId})]})]})]}),a.jsxs(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:`${o?"bg-gray-800 border-gray-700":"bg-white border-blue-50"} rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border mb-6`,children:[a.jsx("h3",{className:`text-lg font-semibold mb-4 ${o?"text-gray-100":"text-gray-900"}`,children:"Custom Permissions"}),a.jsx("p",{className:`text-sm mb-4 ${o?"text-gray-400":"text-gray-600"}`,children:"Select additional permissions beyond the user's role. Permissions already included in the role are disabled."}),a.jsx("div",{className:"space-y-4",children:Object.entries(R).map(([W,H])=>a.jsxs("div",{className:`${o?"border-gray-700":"border-gray-200"} border rounded-lg overflow-hidden`,children:[a.jsxs("button",{type:"button",onClick:()=>F(W),className:`w-full flex justify-between items-center p-3 ${o?"bg-gray-700 hover:bg-gray-600":"bg-gray-50 hover:bg-gray-100"} transition-colors duration-200`,children:[a.jsx("span",{className:`font-medium ${o?"text-gray-200":"text-gray-700"}`,children:W}),c[W]?a.jsx(Jle,{className:`${o?"text-gray-400":"text-gray-500"}`}):a.jsx(Kle,{className:`${o?"text-gray-400":"text-gray-500"}`})]}),a.jsx(ar,{children:c[W]&&a.jsx(O.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:`p-3 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 ${o?"bg-gray-800":"bg-white"}`,children:H.map(q=>{const X=E.roleId?z(E.roleId).includes(q.id):!1,oe=E.customPermissions.includes(q.id),K=X;return a.jsxs("div",{className:`flex items-center ${K?"opacity-50":""}`,children:[a.jsx("input",{type:"checkbox",id:`perm-${q.id}`,checked:oe||X,onChange:()=>!K&&A(q.id),disabled:K,className:`h-4 w-4 rounded focus:ring-blue-500
                                  ${X?o?"text-purple-400 bg-gray-700 border-gray-600":"text-purple-600":o?"text-blue-400 bg-gray-700 border-gray-600":"text-blue-600"} border-gray-300`}),a.jsxs("label",{htmlFor:`perm-${q.id}`,className:`ml-2 text-sm ${o?"text-gray-300":"text-gray-700"}`,children:[a.jsxs("div",{className:"font-medium flex items-center",children:[q.name,X&&a.jsx("span",{className:`ml-2 text-xs ${o?"bg-purple-900 text-purple-300":"bg-purple-100 text-purple-800"} px-2 py-0.5 rounded`,children:"from role"})]}),a.jsx("div",{className:"text-gray-500 text-xs",children:q.description})]})]},q.id)})})})]},W))})]}),a.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[a.jsx(O.button,{type:"button",onClick:()=>t("/permissions"),whileHover:{scale:1.03},whileTap:{scale:.97},className:`${o?"border-gray-600 text-gray-200 hover:bg-gray-700":"border-gray-200 text-gray-700 hover:bg-blue-50"} inline-flex items-center px-5 py-2.5 border text-base font-medium rounded-md shadow-sm bg-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200`,children:"Cancel"}),a.jsx(O.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},disabled:f,className:`inline-flex items-center px-5 py-2.5 border border-transparent text-base font-medium rounded-md shadow-sm text-white ${o?"bg-blue-700 hover:bg-blue-800":"bg-blue-600 hover:bg-blue-700"} focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed`,children:f?a.jsxs(a.Fragment,{children:[a.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Zle,{className:"mr-2 h-5 w-5"}),"Create User"]})})]})]})]})]})]}):a.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100",children:a.jsx("div",{className:"text-xl",children:"You don't have permission to access this page"})})},Kw=({title:t,value:e,change:r,icon:n})=>{const s=r.startsWith("+");return a.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),a.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),a.jsxs("p",{className:`mt-3 text-xs font-semibold ${s?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})},B3e=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(O.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl mx-auto p-6 border border-blue-100 max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(Ft,{size:24})})]}),a.jsx("div",{children:n})]})}):null,$3e=({isOpen:t,onClose:e,onAssign:r,workOrder:n,users:s})=>{const[i,o]=b.useState(""),l=()=>{n&&i&&(r(n.id,i),e())};return!t||!n?null:a.jsx(B3e,{isOpen:t,onClose:e,title:`Assign Work Order #${n.work_order_no||n.id}`,children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("p",{className:"text-gray-700",children:["Work Order ",a.jsxs("strong",{children:["#",n.work_order_no||n.id]})," from ",a.jsx("strong",{children:n.requester.name})," needs to be assigned."]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"user-select",className:"block text-sm font-medium text-gray-700 mb-1",children:"Select User"}),a.jsxs("select",{id:"user-select",value:i,onChange:c=>o(c.target.value),className:"mt-1 block w-full pl-3 pr-10 py-2.5 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md",children:[a.jsx("option",{value:"",children:"Select User"}),s.map(c=>{var u;return a.jsxs("option",{value:c.id,children:[c.name," - ",((u=c.department)==null?void 0:u.name)||c.department_name," (",c.position||"No Position",")"]},c.id)})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:e,className:"px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),a.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:l,disabled:!i,className:`px-4 py-2 rounded-md text-sm font-semibold transition-colors duration-200 ${i?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-300 text-gray-600 cursor-not-allowed"}`,children:"Assign"})]})]})})},H3e=()=>{const[t,e]=b.useState(!1),[r,n]=b.useState(!1),[s,i]=b.useState(""),[o,l]=b.useState("all"),[c,u]=b.useState(!1),[f,h]=b.useState(!1),[g,p]=b.useState(!1),[v,w]=b.useState(null),[y,N]=b.useState(1),[k]=b.useState(5),[S,T]=b.useState(window.innerWidth<768),[_,D]=b.useState(!1),[E,L]=b.useState(!1),[R,F]=b.useState([]),[A,M]=b.useState(!0),[B,z]=b.useState(null),[Y,W]=b.useState(!1),[H,q]=b.useState(null),[X,oe]=b.useState(!1),[K,V]=b.useState([]),[J,Q]=b.useState(!1),re=tr(),ce=Ds(),Ee=b.useRef(null),ke=b.useRef(null),{user:ge,getWorkOrdersIT:Ce,updateWorkOrderIT:Ke,getUsers:fe,hasPermission:ye,getVendor:ae}=or(),se=ce.pathname==="/workorders/it/assignment",bt=ce.pathname==="/workorders/it/reports",pt=ce.pathname==="/workorders/it/knowledgebase",Re=ce.pathname==="/workorders/it",Me=ce.pathname==="/workorders/it/receiver";ce.pathname;const qe=b.useCallback(async()=>{M(!0),z(null);try{const Fe=(await Ce()).filter(Xe=>{var wt,$e,Ue;return((($e=(wt=Xe.service)==null?void 0:wt.owner)==null?void 0:$e.id)||((Ue=Xe.service)==null?void 0:Ue.service_owner))===Number(ge==null?void 0:ge.id)});F(Fe)}catch(te){z(te.message||"Failed to load work orders.")}finally{M(!1)}},[Ce,ge==null?void 0:ge.id]),tt=b.useCallback(async()=>{try{const te=await fe();V(te)}catch(te){console.error("Failed to fetch users:",te)}},[fe]),Ve=b.useCallback(async(te,Fe)=>{W(!0),q(null),oe(!1);try{const Xe=await Ke({...Fe,id:te});return F(lt=>lt.map(wt=>wt.id===te?Xe:wt)),oe(!0),setTimeout(()=>oe(!1),3e3),Xe}catch(Xe){throw q(Xe.message||"Failed to update work order."),Xe}finally{W(!1)}},[Ke]),Te=()=>{T(window.innerWidth<768),window.innerWidth<768&&n(!1)},le=te=>{Ee.current&&!Ee.current.contains(te.target)&&D(!1),ke.current&&!ke.current.contains(te.target)&&L(!1)};b.useEffect(()=>(window.addEventListener("resize",Te),document.addEventListener("mousedown",le),qe(),tt(),()=>{window.removeEventListener("resize",Te),document.removeEventListener("mousedown",le)}),[qe,tt]);const Je=te=>{switch(te){case"New":return"bg-gray-500 text-white";case"Assigned":return"bg-blue-600 text-white";case"In Progress":return"bg-cyan-500 text-white";case"Escalated":return"bg-purple-500 text-white";case"Vendor Handled":return"bg-red-500 text-white";case"Resolved":return"bg-orange-500 text-white";case"Cancel":return"bg-red-500 text-white";case"Closed":return"bg-gray-900 text-white";default:return"bg-gray-500 text-white"}},Ge=te=>{switch(te==null?void 0:te.toLowerCase()){case"high":return"bg-red-500 text-white";case"medium":return"bg-yellow-500 text-white";case"low":return"bg-green-500 text-white";case"critical":return"bg-purple-500 text-white";default:return"bg-gray-500 text-white"}},ut=te=>{switch(te){case"New":return 1;case"Assigned":return 2;case"In Progress":return 3;case"Escalated":return 4;case"Vendor Handled":return 5;case"Resolved":return 6;case"Cancel":return 7;case"Closed":return 8;default:return 9}},Pe=te=>{switch(te==null?void 0:te.toLowerCase()){case"critical":return 1;case"high":return 2;case"medium":return 3;case"low":return 4;default:return 5}},Ne=b.useCallback(te=>{const Fe=R.find(Xe=>Xe.id===te);Fe&&(w(Fe),h(!0))},[R]);b.useCallback(te=>{const Fe=R.find(Xe=>Xe.id===te);Fe&&(w(Fe),p(!0))},[R]),b.useCallback(async te=>{try{await Ve(te.id,te),p(!1),w(null)}catch{}},[Ve]);const ze=()=>{n(te=>!te)},me=R.filter(te=>{var lt,wt,$e,Ue;const Fe=((wt=(lt=te.requester)==null?void 0:lt.name)==null?void 0:wt.toLowerCase().includes(s.toLowerCase()))||(($e=te.work_order_no)==null?void 0:$e.toLowerCase().includes(s.toLowerCase()))||((Ue=te.complaint)==null?void 0:Ue.toLowerCase().includes(s.toLowerCase()))||String(te.id).includes(s),Xe=o==="all"||te.handling_status===o;return Fe&&Xe}).sort((te,Fe)=>{var Ue,et;const Xe=ut(te.handling_status),lt=ut(Fe.handling_status);if(Xe!==lt)return Xe-lt;const wt=Pe(((Ue=te.service)==null?void 0:Ue.priority)||"Medium"),$e=Pe(((et=Fe.service)==null?void 0:et.priority)||"Medium");return wt!==$e?wt-$e:new Date(Fe.created_at).getTime()-new Date(te.created_at).getTime()}),De=y*k,je=De-k,We=me.slice(je,De),rt=Math.ceil(me.length/k),ve=te=>N(te),xe=b.useCallback(te=>{w(te),Q(!0)},[]),Qe=b.useCallback(async(te,Fe)=>{try{await Ve(te,{assigned_to_id:parseInt(Fe),handling_status:"Assigned",handling_date:new Date().toISOString()}),Q(!1),w(null)}catch(Xe){console.error("Failed to assign work order:",Xe)}},[Ve]),yt=te=>{var Fe;return te.vendor?`${te.vendor.name}`:((Fe=te.assigned_to)==null?void 0:Fe.name)||"Unassigned"},st=te=>te.vendor?"vendor":te.assigned_to?"user":"unassigned",_e=({order:te,onClose:Fe})=>{var Wt,mt,Ct,Vt,br,gn,wn,ir,Wr,Kr,Zt,ct;const Xe=dt=>dt==null?"-":typeof dt=="object"&&dt!==null?dt.name||dt.title||dt.id||"-":typeof dt=="string"?dt.trim()!==""?dt.trim():"-":typeof dt=="number"?dt.toString():String(dt),lt=dt=>dt?new Date(dt).toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-",wt=({status:dt})=>{const Mt={New:"bg-gray-100 text-gray-800 border-gray-300",Assigned:"bg-blue-100 text-blue-800 border-blue-300","In Progress":"bg-cyan-100 text-cyan-800 border-cyan-300",Escalated:"bg-purple-100 text-purple-800 border-purple-300","Vendor Handled":"bg-red-100 text-red-800 border-red-300",Resolved:"bg-orange-100 text-orange-800 border-orange-300",Cancel:"bg-gray-100 text-gray-800 border-gray-300",Closed:"bg-green-100 text-green-800 border-green-300"};return a.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold border ${Mt[dt]||Mt.New}`,children:dt})},$e=({priority:dt})=>{const Mt={Critical:"bg-purple-100 text-purple-800 border-purple-300",High:"bg-red-100 text-red-800 border-red-300",Medium:"bg-yellow-100 text-yellow-800 border-yellow-300",Low:"bg-green-100 text-green-800 border-green-300"};return a.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold border ${Mt[dt]||Mt.Medium}`,children:dt||"Medium"})},Ue=({title:dt,children:Mt,icon:he})=>a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[a.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-4 border-b border-gray-200",children:a.jsxs("div",{className:"flex items-center",children:[he&&a.jsx("div",{className:"mr-3 text-blue-600",children:he}),a.jsx("h3",{className:"text-lg font-bold text-gray-900",children:dt})]})}),a.jsx("div",{className:"p-6",children:Mt})]}),et=({label:dt,value:Mt,icon:he,fullWidth:it=!1,priority:kt="medium"})=>{const cr={high:"border-l-4 border-l-blue-500 bg-blue-25",medium:"border-l-2 border-l-gray-200",low:"border-l border-l-gray-100"};return a.jsx("div",{className:`${it?"col-span-full":""}`,children:a.jsx("div",{className:`p-4 rounded-lg ${cr[kt]} transition-all duration-200 hover:shadow-sm`,children:a.jsxs("div",{className:"flex items-start space-x-3",children:[he&&a.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:he}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1",children:dt}),a.jsx("p",{className:"text-sm font-medium text-gray-900 leading-relaxed",children:Mt})]})]})})})},Rt=({label:dt,htmlContent:Mt,icon:he,fullWidth:it=!1})=>{if(!Mt)return a.jsx(et,{label:dt,value:"-",icon:he,fullWidth:it,priority:"low"});const kt=pd.sanitize(Mt,{ALLOWED_TAGS:["h1","h2","h3","h4","h5","h6","p","br","span","div","ol","ul","li","strong","b","em","i","u","s","strike","code","mark","sub","sup","blockquote","pre"],ALLOWED_ATTR:["style","class","data-color","align","type","start"]});return a.jsx("div",{className:`${it?"col-span-full":""}`,children:a.jsx("div",{className:"p-4 rounded-lg border-l-2 border-l-blue-200 bg-blue-25 transition-all duration-200 hover:shadow-sm",children:a.jsxs("div",{className:"flex items-start space-x-3",children:[he&&a.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:he}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:dt}),a.jsx("div",{className:`rich-text-content text-sm text-gray-900 leading-relaxed prose prose-sm max-w-none\r
                          prose-headings:font-semibold prose-p:my-2 prose-ul:my-2 prose-ol:my-2\r
                          prose-li:my-1 prose-strong:font-semibold prose-em:italic`,dangerouslySetInnerHTML:{__html:kt}})]})]})})})},Ut=({order:dt})=>{const Mt=dt.handling_status==="New",he=dt.handling_status==="Assigned",it=Mt&&ye("assign_workorders");return a.jsxs("div",{className:"flex flex-wrap gap-3 mt-6 pt-6 border-t border-gray-200",children:[it&&a.jsxs(O.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{Q(!0)},className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors duration-200 font-semibold text-sm",children:[a.jsx(cn,{className:"w-4 h-4 mr-2"}),"Assign Technician"]}),he&&a.jsxs(O.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>re(`/workorders/it/receiver/editreceiver/${dt.id}`),className:"inline-flex items-center px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500 transition-colors duration-200 font-semibold text-sm",children:[a.jsx(Ba,{className:"w-4 h-4 mr-2"}),"Edit Assignment"]}),a.jsxs(O.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:Fe,className:"inline-flex items-center px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500 transition-colors duration-200 font-semibold text-sm",children:[a.jsx(Ft,{className:"w-4 h-4 mr-2"}),"Close"]})]})};return a.jsxs("div",{className:"space-y-6 max-h-[70vh] overflow-y-auto custom-scrollbar pr-2",children:[a.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6",children:a.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:["#",te.work_order_no||te.id]}),a.jsx(wt,{status:te.handling_status}),a.jsx($e,{priority:(Wt=te.service)==null?void 0:Wt.priority})]}),a.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(ga,{className:"w-4 h-4"}),"Created: ",lt(te.date)]}),a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(Cr,{className:"w-4 h-4"}),te.handling_date?`Handling: ${lt(te.handling_date)}`:"Not yet handled"]})]})]})})}),a.jsx(Ue,{title:"Service Owner Information",icon:a.jsx(cn,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(et,{label:"Service Owner",value:Xe(((Ct=(mt=te.service)==null?void 0:mt.owner)==null?void 0:Ct.name)||(ge==null?void 0:ge.name)),icon:a.jsx(cn,{className:"w-4 h-4"}),priority:"high"}),a.jsx(et,{label:"Service Department",value:Xe((Vt=ge==null?void 0:ge.department)==null?void 0:Vt.name),icon:a.jsx(qs,{className:"w-4 h-4"})}),a.jsx(et,{label:"Service Type",value:Xe((br=te.service_type)==null?void 0:br.group_name),icon:a.jsx(ia,{className:"w-4 h-4"}),priority:"high"}),a.jsx(et,{label:"Service Name",value:Xe((gn=te.service)==null?void 0:gn.service_name),icon:a.jsx(fn,{className:"w-4 h-4"}),priority:"high"})]})}),a.jsx(Ue,{title:"Request Information",icon:a.jsx(fn,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsx(et,{label:"Requester",value:Xe((wn=te.requester)==null?void 0:wn.name),icon:a.jsx(cn,{className:"w-4 h-4"}),priority:"high"}),a.jsx(et,{label:"Requester Department",value:Xe(te.department_name||((ir=te.department)==null?void 0:ir.name)),icon:a.jsx(qs,{className:"w-4 h-4"})}),a.jsx(et,{label:"Reception Method",value:Xe(te.reception_method),icon:a.jsx(ni,{className:"w-4 h-4"})}),a.jsx(et,{label:"Known By",value:Xe((Wr=te.known_by)==null?void 0:Wr.name),icon:a.jsx(bo,{className:"w-4 h-4"})}),a.jsx(et,{label:"Asset Number",value:Xe(te.asset_no),icon:a.jsx(fn,{className:"w-4 h-4"})})]})}),a.jsx(Ue,{title:"Technical Details",icon:a.jsx(ia,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsx(et,{label:"Device Information",value:Xe(te.device_info),icon:a.jsx(qs,{className:"w-4 h-4"}),fullWidth:!0}),a.jsx(Rt,{label:"Complaint Details",htmlContent:te.complaint||"",icon:a.jsx(Hr,{className:"w-4 h-4"}),fullWidth:!0})]})}),a.jsx(Ue,{title:"Assignment & Handling",icon:a.jsx(Cr,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:col-span-2",children:[a.jsx(et,{label:"Current Status",value:Xe(te.handling_status),icon:a.jsx(Cr,{className:"w-4 h-4"}),priority:"high"}),a.jsx(et,{label:"Priority Level",value:Xe(((Kr=te.service)==null?void 0:Kr.priority)||"Medium"),icon:a.jsx(Hr,{className:"w-4 h-4"}),priority:"high"})]}),a.jsx(et,{label:"Assigned To",value:Xe(((Zt=te.assigned_to)==null?void 0:Zt.name)||"Unassigned"),icon:a.jsx(cn,{className:"w-4 h-4"})}),a.jsx(et,{label:"Assignment Type",value:te.vendor?"Vendor":te.assigned_to?"Internal Technician":"Not Assigned",icon:a.jsx(qs,{className:"w-4 h-4"})}),a.jsx(et,{label:"Handling Start Date",value:lt(te.handling_date||"-"),icon:a.jsx(ga,{className:"w-4 h-4"})}),a.jsx(et,{label:"Received By",value:Xe(((ct=te.received_by)==null?void 0:ct.name)||"-"),icon:a.jsx(fr,{className:"w-4 h-4"})}),a.jsx(Rt,{label:"Action Taken",htmlContent:te.action_taken||"",icon:a.jsx(ia,{className:"w-4 h-4"}),fullWidth:!0}),a.jsx(Rt,{label:"Technical Remarks",htmlContent:te.remarks||"",icon:a.jsx(fn,{className:"w-4 h-4"}),fullWidth:!0})]})}),te.vendor&&a.jsx(Ue,{title:"Vendor Assignment",icon:a.jsx(cn,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsx(et,{label:"Vendor Name",value:Xe(te.vendor.name),icon:a.jsx(cn,{className:"w-4 h-4"}),priority:"high"}),a.jsx(et,{label:"Contact Person",value:Xe(te.vendor.contact_person),icon:a.jsx(cn,{className:"w-4 h-4"})}),a.jsx(et,{label:"Email",value:Xe(te.vendor.email),icon:a.jsx(Xp,{className:"w-4 h-4"})}),a.jsx(et,{label:"Phone",value:Xe(te.vendor.telp),icon:a.jsx(iu,{className:"w-4 h-4"})}),a.jsx(et,{label:"Mobile",value:Xe(te.vendor.HP),icon:a.jsx(iu,{className:"w-4 h-4"})}),a.jsx(et,{label:"Address",value:Xe(te.vendor.address),icon:a.jsx(gs,{className:"w-4 h-4"}),fullWidth:!0})]})}),a.jsx(Ue,{title:"Timeline",icon:a.jsx(Cr,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-lg border border-green-200",children:[a.jsx("span",{className:"text-sm font-medium text-green-800",children:"Request Created"}),a.jsx("span",{className:"text-sm text-green-600",children:lt(te.date)})]}),te.handling_date&&a.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg border border-blue-200",children:[a.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Handling Started"}),a.jsx("span",{className:"text-sm text-blue-600",children:lt(te.handling_date)})]}),te.assigned_to&&a.jsxs("div",{className:"flex justify-between items-center p-3 bg-purple-50 rounded-lg border border-purple-200",children:[a.jsx("span",{className:"text-sm font-medium text-purple-800",children:"Assigned to Technician"}),a.jsx("span",{className:"text-sm text-purple-600",children:Xe(te.assigned_to.name)})]})]})}),te.attachment&&a.jsx(Ue,{title:"Attachment",icon:a.jsx(yc,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-blue-25 rounded-lg border-l-4 border-l-blue-400",children:[a.jsx(yc,{className:"w-5 h-5 text-blue-600 flex-shrink-0"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"Supporting Document"}),a.jsxs("a",{href:te.attachment,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-blue-600 hover:text-blue-800 font-medium text-sm transition-colors duration-200",children:[a.jsx(SD,{className:"w-4 h-4 mr-1"}),"View Attachment"]})]})]})}),a.jsx(Ut,{order:te})]})};return b.useEffect(()=>{N(1),document.documentElement.classList.toggle("dark",t)},[s,o,t]),A?a.jsxs("div",{className:"flex h-screen items-center justify-center bg-blue-50",children:[a.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-blue-600"}),a.jsx("p",{className:"ml-4 text-lg text-gray-700",children:"Loading work orders..."})]}):B?a.jsxs("div",{className:"flex h-screen items-center justify-center bg-red-50",children:[a.jsx(Hr,{className:"text-red-600 text-5xl"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-lg text-red-800",children:B}),a.jsx("button",{onClick:qe,className:"mt-4 px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Try Again"})]})]}):a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"IT Work Orders - Receiver",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:a.jsx(fn,{}),isMobile:S,toggleSidebar:ze}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"isi style mb-6 flex space-x-6 border-b border-gray-200",children:[a.jsx(O.div,{whileTap:{scale:.98},onClick:()=>re("/workorders/it"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${Re?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Request"}),a.jsx(O.div,{whileTap:{scale:.98},onClick:()=>re("/workorders/it/receiver"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${Me?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Receiver"}),a.jsx(O.div,{whileTap:{scale:.98},onClick:()=>re("/workorders/it/assignment"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${se?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Assignment"}),a.jsx(O.div,{whileTap:{scale:.98},onClick:()=>re("/workorders/it/reports"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${bt?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Reports"}),a.jsx(O.div,{whileTap:{scale:.98},onClick:()=>re("/workorders/it/knowledgebase"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${pt?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Knowledge Base"})]}),H&&a.jsxs(O.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",children:[a.jsx("span",{className:"block sm:inline",children:H}),a.jsx("button",{onClick:()=>q(null),className:"absolute top-0 right-0 p-3",children:a.jsx(Ft,{size:16})})]}),X&&a.jsxs(O.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-4 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative",children:[a.jsx("span",{className:"block sm:inline",children:"Work order updated successfully!"}),a.jsx("button",{onClick:()=>oe(!1),className:"absolute top-0 right-0 p-3",children:a.jsx(Ft,{size:16})})]}),a.jsx(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"IT Receiver"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Manage IT-related work orders as a service owner"})]})}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[a.jsx(Kw,{title:"Total IT Assignments",value:me.length.toString(),change:"+8%",icon:a.jsx(fn,{})}),a.jsx(Kw,{title:"In Progress",value:me.filter(te=>["In Progress","Escalated","Vendor Handled"].includes(te.handling_status)).length.toString(),change:"-1",icon:a.jsx(ia,{})}),a.jsx(Kw,{title:"Resolved",value:me.filter(te=>["Resolved","Done"].includes(te.handling_status)).length.toString(),change:"+1",icon:a.jsx(fr,{})}),a.jsx(Kw,{title:"Assigned",value:me.filter(te=>te.handling_status==="Assigned").length.toString(),change:"+3",icon:a.jsx(Cr,{})})]}),a.jsx(O.div,{layout:!0,className:"mb-6 bg-white rounded-2xl shadow-md p-4 md:p-6 border border-blue-50",children:a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Da,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),a.jsx("input",{type:"text",placeholder:"Search IT assignments...",className:"w-full pl-12 pr-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base transition-all duration-200",value:s,onChange:te=>i(te.target.value)})]}),a.jsx(ar,{children:c&&a.jsx(O.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3 w-full md:w-auto",children:a.jsxs("select",{className:"border border-gray-200 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base appearance-none bg-no-repeat bg-right-12 bg-center-y transition-all duration-200",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='currentColor'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/svg%3E")`,backgroundSize:"1.2rem"},value:o,onChange:te=>l(te.target.value),children:[a.jsx("option",{value:"all",children:"All Statuses"}),a.jsx("option",{value:"New",children:"New"}),a.jsx("option",{value:"Assigned",children:"Assigned"}),a.jsx("option",{value:"In Progress",children:"In Progress"}),a.jsx("option",{value:"Escalated",children:"Escalated"}),a.jsx("option",{value:"Vendor Handled",children:"Vendor Handled"}),a.jsx("option",{value:"Resolved",children:"Resolved"}),a.jsx("option",{value:"Done",children:"Done"}),a.jsx("option",{value:"Cancel",children:"Cancel"})]})})})]})}),a.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-50",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-100",children:[a.jsx("thead",{className:"bg-blue-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Requester"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Date"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Handling Date"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Priority"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Ticket Status"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Assigned To"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:We.length>0?We.map(te=>{var Ue,et,Rt,Ut;const Xe=!(te.handling_status==="Resolved"||te.handling_status==="Done"||te.handling_status==="Cancel"||te.handling_status==="Closed")&&ye("edit_workorders"),lt=te.handling_status==="New";["In Progress","Escalated","Vendor Handled"].includes(te.handling_status);const wt=yt(te),$e=st(te);return a.jsxs(O.tr,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.2},whileHover:{backgroundColor:"rgba(239, 246, 255, 1)"},className:"transition-colors duration-150",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 cursor-pointer hover:text-blue-600 hover:underline transition-colors duration-200",onClick:()=>Ne(te.id),title:"Click to view details",children:te.work_order_no||"-"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:te.requester.name}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:new Date(te.date).toLocaleDateString()}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:te.handling_date?new Date(te.handling_date).toLocaleDateString():"-"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-bold rounded-full ${Ge((Ue=te.service)==null?void 0:Ue.priority)} shadow-sm`,children:((et=te.service)==null?void 0:et.priority)||"Medium"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-bold rounded-full ${Je(te.handling_status)} shadow-sm`,children:te.handling_status})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:lt?a.jsx(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>xe(te),className:"px-3 py-1.5 text-xs font-semibold rounded-full text-white bg-blue-600 hover:bg-blue-700 transition-colors duration-200",children:"Click to Assign"}):a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:`text-sm font-medium ${$e==="vendor"?"text-purple-600":$e==="user"?"text-blue-600":"text-gray-500"}`,children:wt}),$e==="vendor"&&a.jsx("span",{className:"ml-2 px-1.5 py-0.5 text-xs bg-purple-100 text-purple-800 rounded-full",children:"Vendor"})]})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium flex items-center space-x-2",children:[a.jsx(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Ne(te.id),className:"text-blue-600 hover:text-blue-800 transition-colors duration-200 flex items-center space-x-1",title:"View Details",children:a.jsx(bo,{className:"text-lg"})}),Xe&&(te.handling_status!=="In Progress"||!((Rt=te.assigned_to)!=null&&Rt.name)||((Ut=te.assigned_to)==null?void 0:Ut.name)==="N/A")&&a.jsx(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>re(`/workorders/it/receiver/editreceiver/${te.id}`),className:"text-gray-600 hover:text-gray-800 transition-colors duration-200 flex items-center space-x-1",title:"Edit Assignment",children:a.jsx(Ba,{className:"text-lg"})})]})]},te.id)}):a.jsx("tr",{children:a.jsx("td",{colSpan:6,className:"px-6 py-10 text-center text-gray-600 text-lg",children:"No IT work orders for assignment found matching your criteria."})})})]})})}),me.length>k&&a.jsxs(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"mt-8 flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{className:"text-sm text-gray-600 mb-4 sm:mb-0",children:["Showing ",a.jsx("span",{className:"font-semibold",children:je+1})," to ",a.jsx("span",{className:"font-semibold",children:Math.min(De,me.length)})," of"," ",a.jsx("span",{className:"font-semibold",children:me.length})," results"]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>ve(y-1),disabled:y===1,className:"px-4 py-2 border border-gray-200 rounded-lg bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm",children:"Previous"}),Array.from({length:rt},(te,Fe)=>a.jsx(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>ve(Fe+1),className:`px-4 py-2 rounded-lg transition-colors duration-200 shadow-sm
                          ${y===Fe+1?"bg-blue-600 text-white shadow-md":"bg-white text-gray-700 hover:bg-blue-50 border border-gray-200"}
                        `,children:Fe+1},Fe+1)),a.jsx(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>ve(y+1),disabled:y===rt,className:"px-4 py-2 border border-gray-200 rounded-lg bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm",children:"Next"})]})]})]})]}),v&&a.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 p-4 overflow-y-auto",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsxs("h3",{className:"text-2xl font-bold text-gray-900",children:["Work Order Details #",v.work_order_no||v.id]}),a.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{h(!1),w(null)},className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(Ft,{size:24})})]}),a.jsx("div",{className:"overflow-y-auto max-h-[70vh]",children:a.jsx(_e,{order:v,onClose:()=>{h(!1),w(null)}})})]})})}),v&&a.jsx($3e,{isOpen:J,onClose:()=>{Q(!1),w(null)},onAssign:Qe,workOrder:v,users:K})]})},PB=({content:t,className:e=""})=>{if(!t)return a.jsx("div",{className:`w-full bg-blue-50 border border-blue-100 rounded-lg p-3 text-gray-800 text-base font-medium min-h-[44px] flex items-center ${e}`,children:"-"});const r=pd.sanitize(t,{ALLOWED_TAGS:["h1","h2","h3","h4","h5","h6","p","br","span","div","ol","ul","li","strong","b","em","i","u","s","strike","code","mark","sub","sup"],ALLOWED_ATTR:["style","class","data-color","align","type","start"]});return a.jsx("div",{className:`rich-text-content w-full bg-blue-50 border border-blue-100 rounded-lg p-4 text-gray-800 min-h-[44px] ${e}`,dangerouslySetInnerHTML:{__html:r}})},z3e=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(O.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl mx-auto p-6 border border-blue-100 max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100 sticky top-0 bg-white",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(Ft,{size:24})})]}),a.jsx("div",{children:n})]})}):null,q3e=()=>{const[t,e]=b.useState(!1),[r,n]=b.useState(!1),[s,i]=b.useState(""),[o,l]=b.useState("all"),[c,u]=b.useState(!1),[f,h]=b.useState(null),[g,p]=b.useState(null),[v,w]=b.useState(1),[y]=b.useState(5),[N,k]=b.useState(window.innerWidth<768),[S,T]=b.useState(!1),[_,D]=b.useState(!1),[E,L]=b.useState(!0),[R,F]=b.useState(null),{user:A,hasPermission:M,getWorkOrdersIT:B}=or(),z=tr(),Y=Ds(),W=b.useRef(null),H=b.useRef(null);Y.pathname,Y.pathname;const q=Y.pathname==="/workorders/it";Y.pathname;const X=Y.pathname==="/workorders/it/assignment",oe=Y.pathname==="/workorders/it/receiver",K=Y.pathname==="/workorders/it/reports",V=Y.pathname==="/workorders/it/knowledgebase",[J,Q]=b.useState([]),re=b.useCallback(async()=>{try{L(!0),F(null);const bt=(await B()).filter(pt=>pt.action_taken&&pt.handling_status==="Closed").map(pt=>{var qe,tt,Ve;const Re=pt.complaint.split(" ").slice(0,5).join(" "),Me=`Solution for: ${Re}${Re.length<pt.complaint.length?"...":""}`;return{id:pt.id,title:Me,content:pt.action_taken||"No action taken details available.",category:((qe=pt.service)==null?void 0:qe.service_name)||"General",tags:[((tt=pt.service_type)==null?void 0:tt.group_name)||"General",pt.handling_status||"Completed",...pt.asset_no?[`Asset: ${pt.asset_no}`]:[]],lastUpdated:pt.handling_date||pt.updated_at||pt.created_at,workOrderNo:pt.work_order_no,technician:((Ve=pt.assigned_to)==null?void 0:Ve.name)||"Unknown Technician",completionDate:pt.handling_date||pt.updated_at}});Q(bt)}catch(se){F("Failed to load knowledge base articles"),console.error("Error loading work orders:",se)}finally{L(!1)}},[B]);b.useEffect(()=>{const se=()=>{k(window.innerWidth<768),window.innerWidth<768&&n(!1)};return window.addEventListener("resize",se),()=>window.removeEventListener("resize",se)},[]),b.useEffect(()=>{const se=bt=>{W.current&&!W.current.contains(bt.target)&&T(!1),H.current&&!H.current.contains(bt.target)&&D(!1)};return document.addEventListener("mousedown",se),()=>{document.removeEventListener("mousedown",se)}},[]),b.useEffect(()=>{re()},[re]),b.useEffect(()=>{w(1),document.documentElement.classList.toggle("dark",t)},[s,o,r,t]);const ce=()=>{n(se=>!se)},Ee=b.useCallback(se=>{p(se),u(!0)},[]),ke=J.filter(se=>{const bt=se.title.toLowerCase().includes(s.toLowerCase())||se.content.toLowerCase().includes(s.toLowerCase())||se.tags.some(Re=>Re.toLowerCase().includes(s.toLowerCase())),pt=o==="all"||se.category===o;return bt&&pt}),ge=Array.from(new Set(J.map(se=>se.category))),Ce=v*y,Ke=Ce-y,fe=ke.slice(Ke,Ce),ye=Math.ceil(ke.length/y),ae=se=>w(se);return A?a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"IT Work Orders - Knowladge Base",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:a.jsx(df,{}),isMobile:N,toggleSidebar:ce}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"isi style mb-6 flex space-x-6 border-b border-gray-200",children:[a.jsx(O.div,{whileTap:{scale:.98},onClick:()=>z("/workorders/it"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${q?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Request"}),a.jsx(O.div,{whileTap:{scale:.98},onClick:()=>z("/workorders/it/receiver"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${oe?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Receiver"}),a.jsx(O.div,{whileTap:{scale:.98},onClick:()=>z("/workorders/it/assignment"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${X?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Assignment"}),a.jsx(O.div,{whileTap:{scale:.98},onClick:()=>z("/workorders/it/reports"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${K?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Reports"}),a.jsx(O.div,{whileTap:{scale:.98},onClick:()=>z("/workorders/it/knowledgebase"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${V?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Knowledge Base"})]}),a.jsx(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"IT Knowledge Base"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Find solutions and information from completed work orders."})]})}),a.jsx("div",{className:"bg-white rounded-2xl shadow-md p-6 mb-6 border border-blue-100",children:a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[a.jsxs("div",{className:"relative w-full md:w-2/3",children:[a.jsx(Da,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),a.jsx("input",{type:"text",placeholder:"Search articles by title, content, or tags...",value:s,onChange:se=>i(se.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),a.jsxs("div",{className:"relative w-full md:w-1/3",children:[a.jsxs("select",{value:o,onChange:se=>l(se.target.value),className:"w-full p-2.5 border border-gray-300 rounded-lg appearance-none focus:ring-blue-500 focus:border-blue-500 pr-8 bg-white",children:[a.jsx("option",{value:"all",children:"All Categories"}),ge.map(se=>a.jsx("option",{value:se,children:se},se))]}),a.jsx(la,{className:"absolute right-3 top-3.5 text-gray-400",size:18})]})]})}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:"Knowledge Articles"}),a.jsxs("div",{className:"text-sm text-gray-500",children:[ke.length," articles found"]})]}),E?a.jsxs("div",{className:"text-center py-10",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"mt-2 text-gray-600",children:"Loading knowledge base..."})]}):R?a.jsxs("div",{className:"text-center py-10 text-red-500",children:[a.jsx(Zs,{className:"mx-auto h-12 w-12 text-red-400 mb-2"}),a.jsx("p",{className:"text-lg font-medium",children:R}),a.jsx("button",{onClick:re,className:"mt-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Retry"})]}):fe.length===0?a.jsxs("div",{className:"text-center py-10 text-gray-500",children:[a.jsx(Zs,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsx("p",{className:"mt-2 text-lg",children:"No articles found matching your criteria."}),a.jsx("p",{className:"text-sm",children:"Try adjusting your filters or search query."})]}):a.jsx("div",{className:"grid grid-cols-1 gap-4",children:a.jsx(ar,{children:fe.map(se=>a.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,x:-20},transition:{duration:.3},className:"bg-gray-50 p-5 rounded-xl border border-gray-200 shadow-sm cursor-pointer hover:bg-blue-50 hover:border-blue-200 transition-all duration-200",onClick:()=>Ee(se),children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:se.title}),a.jsx("div",{className:"text-gray-700 text-sm line-clamp-2 mb-3",children:a.jsx(PB,{content:se.content,className:"line-clamp-2 bg-transparent border-none p-0"})}),a.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[a.jsx("span",{className:"px-2 py-0.5 bg-blue-100 text-blue-800 text-xs font-medium rounded-full",children:se.category}),se.tags.map(bt=>a.jsx("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-700 text-xs font-medium rounded-full",children:bt},bt))]}),a.jsxs("div",{className:"flex justify-between items-center text-xs text-gray-500",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("span",{className:"flex items-center",children:[a.jsx(vf,{size:12,className:"mr-1"}),se.workOrderNo]}),a.jsxs("span",{className:"flex items-center",children:[a.jsx(FI,{size:12,className:"mr-1"}),se.technician]})]}),a.jsxs("span",{className:"flex items-center",children:[a.jsx(ga,{size:12,className:"mr-1"}),new Date(se.lastUpdated).toLocaleDateString()]})]})]},se.id))})}),ke.length>y&&a.jsxs("nav",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6 mt-6",children:[a.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[a.jsx(O.button,{onClick:()=>ae(v-1),disabled:v===1,whileHover:{scale:1.05},whileTap:{scale:.95},className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),a.jsx(O.button,{onClick:()=>ae(v+1),disabled:v===ye,whileHover:{scale:1.05},whileTap:{scale:.95},className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]}),a.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[a.jsx("div",{children:a.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",a.jsx("span",{className:"font-medium",children:Ke+1})," to ",a.jsx("span",{className:"font-medium",children:Math.min(Ce,ke.length)})," of"," ",a.jsx("span",{className:"font-medium",children:ke.length})," results"]})}),a.jsx("div",{children:a.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[a.jsxs(O.button,{onClick:()=>ae(v-1),disabled:v===1,whileHover:{scale:1.05},whileTap:{scale:.95},className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx("span",{className:"sr-only",children:"Previous"}),a.jsx(hd,{className:"h-5 w-5","aria-hidden":"true"})]}),[...Array(ye)].map((se,bt)=>a.jsx(O.button,{onClick:()=>ae(bt+1),whileHover:{scale:1.05},whileTap:{scale:.95},className:`relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium ${v===bt+1?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:bt+1},bt)),a.jsxs(O.button,{onClick:()=>ae(v+1),disabled:v===ye,whileHover:{scale:1.05},whileTap:{scale:.95},className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx("span",{className:"sr-only",children:"Next"}),a.jsx(ta,{className:"h-5 w-5","aria-hidden":"true"})]})]})})]})]})]})]})]}),g&&a.jsx(z3e,{isOpen:c,onClose:()=>u(!1),title:g.title,children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-600",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(vf,{size:16,className:"mr-2 text-blue-600"}),a.jsx("span",{className:"font-medium",children:"Work Order:"}),a.jsx("span",{className:"ml-2",children:g.workOrderNo})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(FI,{size:16,className:"mr-2 text-green-600"}),a.jsx("span",{className:"font-medium",children:"Technician:"}),a.jsx("span",{className:"ml-2",children:g.technician})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(ga,{size:16,className:"mr-2 text-purple-600"}),a.jsx("span",{className:"font-medium",children:"Completed:"}),a.jsx("span",{className:"ml-2",children:new Date(g.completionDate).toLocaleDateString()})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(df,{size:16,className:"mr-2 text-orange-600"}),a.jsx("span",{className:"font-medium",children:"Category:"}),a.jsx("span",{className:"ml-2",children:g.category})]})]}),a.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[a.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Solution Details"}),a.jsx(PB,{content:g.content})]}),a.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[a.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Tags"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:g.tags.map(se=>a.jsx("span",{className:"px-3 py-1 bg-gray-100 text-gray-700 text-sm rounded-full",children:se},se))})]}),a.jsxs("div",{className:"border-t border-gray-200 pt-4 text-xs text-gray-500",children:["Last updated: ",new Date(g.lastUpdated).toLocaleDateString()," at ",new Date(g.lastUpdated).toLocaleTimeString()]})]})})]}):a.jsx("div",{className:"flex items-center justify-center h-screen",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})})};var U3e=["allowCreateWhileLoading","createOptionPosition","formatCreateLabel","isValidNewOption","getNewOptionData","onCreateOption","options","onChange"],LB=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",r=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,s=String(e).toLowerCase(),i=String(n.getOptionValue(r)).toLowerCase(),o=String(n.getOptionLabel(r)).toLowerCase();return i===s||o===s},T_={formatCreateLabel:function(e){return'Create "'.concat(e,'"')},isValidNewOption:function(e,r,n,s){return!(!e||r.some(function(i){return LB(e,i,s)})||n.some(function(i){return LB(e,i,s)}))},getNewOptionData:function(e,r){return{label:r,value:e,__isNew__:!0}}};function W3e(t){var e=t.allowCreateWhileLoading,r=e===void 0?!1:e,n=t.createOptionPosition,s=n===void 0?"last":n,i=t.formatCreateLabel,o=i===void 0?T_.formatCreateLabel:i,l=t.isValidNewOption,c=l===void 0?T_.isValidNewOption:l,u=t.getNewOptionData,f=u===void 0?T_.getNewOptionData:u,h=t.onCreateOption,g=t.options,p=g===void 0?[]:g,v=t.onChange,w=gd(t,U3e),y=w.getOptionValue,N=y===void 0?wQ:y,k=w.getOptionLabel,S=k===void 0?vQ:k,T=w.inputValue,_=w.isLoading,D=w.isMulti,E=w.value,L=w.name,R=b.useMemo(function(){return c(T,Tj(E),p,{getOptionValue:N,getOptionLabel:S})?f(T,o(T)):void 0},[o,f,S,N,T,c,p,E]),F=b.useMemo(function(){return(r||!_)&&R?s==="first"?[R].concat(Tg(p)):[].concat(Tg(p),[R]):p},[r,s,_,R,p]),A=b.useCallback(function(M,B){if(B.action!=="select-option")return v(M,B);var z=Array.isArray(M)?M:[M];if(z[z.length-1]===R){if(h)h(T);else{var Y=f(T,T),W={action:"create-option",name:L,option:Y};v(dy(D,[].concat(Tg(Tj(E)),[Y]),Y),W)}return}v(M,B)},[f,T,D,L,R,h,v,E]);return Ir(Ir({},w),{},{options:F,onChange:A})}var V3e=b.forwardRef(function(t,e){var r=GX(t),n=W3e(r);return b.createElement(VD,Ur({ref:e},n))}),cte=V3e;const G3e=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(O.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(Ft,{size:24})})]}),a.jsx("div",{children:n})]})}):null,Y3e=()=>{var Ge,ut,Pe,Ne,ze;const{addWorkOrderIT:t,user:e,getUsers:r,getServices:n,getDepartment:s,getServiceGroups:i}=or(),o=tr(),[l,c]=b.useState([]),[u,f]=b.useState([]),[h,g]=b.useState([]),[p,v]=b.useState([]),[w,y]=b.useState(window.innerWidth<768),[N,k]=b.useState(()=>{const me=localStorage.getItem("sidebarOpen");return me?JSON.parse(me):!1}),[S,T]=b.useState(!1),[_,D]=b.useState(null),[E,L]=b.useState(null),[R,F]=b.useState(!1),[A,M]=b.useState(null),[B,z]=b.useState([]),[Y,W]=b.useState([]),[H,q]=b.useState(!1),[X,oe]=b.useState(null),K=b.useRef(null),V=b.useRef(null),J=me=>{me.preventDefault(),me.stopPropagation(),q(!0)},Q=()=>{const me=document.createElement("input");me.type="file",me.accept="image/*, .pdf, .doc, .docx, .xls, .xlsx",me.onchange=De=>{const je=De.target;if(je.files&&je.files.length>0){const We=je.files[0];M(We),Ce(rt=>({...rt,attachment:We.name}))}q(!1)},me.click()},re=async()=>{try{const me=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});oe(me),K.current&&(K.current.srcObject=me)}catch(me){console.error("Error accessing camera:",me),alert("Tidak dapat mengakses kamera. Pastikan izin kamera telah diberikan.")}},ce=()=>{if(K.current&&V.current){const me=V.current,De=me.getContext("2d");if(De){me.width=K.current.videoWidth,me.height=K.current.videoHeight,De.drawImage(K.current,0,0);const je=me.toDataURL("image/jpeg",.8);Ce(We=>({...We,attachment:je})),X&&(X.getTracks().forEach(We=>We.stop()),oe(null))}}q(!1)},Ee=()=>{X&&(X.getTracks().forEach(me=>me.stop()),oe(null)),q(!1)},ke={date:new Date().toISOString().split("T")[0],reception_method:"Electronic Work Order System",requester_id:e!=null&&e.id?parseInt(e.id):0,known_by_id:((Ge=e==null?void 0:e.department)==null?void 0:Ge.head_id)||null,department_id:(e==null?void 0:e.department_id)||0,service_group_id:null,service_catalogue_id:null,asset_no:"",device_info:"",complaint:"",attachment:null,received_by_id:null,handling_date:null,action_taken:null,handling_status:"New",remarks:null,assigned_to_id:null},[ge,Ce]=b.useState(ke),Ke=ge.reception_method==="Electronic Work Order System";b.useEffect(()=>{e&&(async()=>{try{const De=await i(e!=null&&e.id?parseInt(e.id):0);console.log("Raw service groups data:",De);const je=De.map(ve=>({id:Number(ve.id),name:ve.group_name||ve.name||"",description:ve.group_description||ve.description||void 0}));console.log("Mapped service groups:",je),W(je);const We=await s();f(We);const rt=await r();if(c(rt),e&&e.id){const ve=await n(parseInt(e.id));console.log("Services data:",ve),g(ve)}}catch(De){console.error("Failed to fetch master data:",De)}})()},[e,r,n,s,i]),b.useEffect(()=>{if(ge.reception_method==="Electronic Work Order System"&&e&&u.length>0){const me=u.find(je=>je.id===e.department_id),De=(me==null?void 0:me.head_id)||null;Ce(je=>({...je,requester_id:parseInt(e.id),department_id:e.department_id||0,known_by_id:De}))}},[ge.reception_method,e,u]),b.useEffect(()=>{const me=()=>{y(window.innerWidth<768),window.innerWidth<768&&k(!1)};return window.addEventListener("resize",me),()=>window.removeEventListener("resize",me)},[]),b.useEffect(()=>{if(ge.service_group_id!==null&&h.length>0){const me=h.filter(De=>De.service_group&&De.service_group.id===ge.service_group_id);z(me),console.log("Filtered services for group",ge.service_group_id,":",me)}else z([])},[ge.service_group_id,h]),b.useEffect(()=>{localStorage.setItem("sidebarOpen",JSON.stringify(N))},[N]);const fe=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!N)),k(me=>!me)},ye=b.useCallback((me,De)=>{let je,We;if(me&&"target"in me)je=me.target.name,We=me.target.value;else if(me&&typeof me=="object"&&"value"in me&&De)je=De,We=me.value;else if(me===null&&De)je=De,We=null;else return;Ce(rt=>({...rt,[je]:We}))},[]),ae=me=>{const De=(me==null?void 0:me.value)||"";Ce(je=>{var rt,ve;const We={...je,reception_method:De};return De==="Electronic Work Order System"&&e?{...We,requester_id:parseInt(e.id),department_id:((rt=e.department)==null?void 0:rt.id)||0,known_by_id:((ve=e.department)==null?void 0:ve.head_id)||null}:We})},se=me=>{Ce(De=>({...De,asset_no:me?me.value:""}))},bt=b.useCallback(()=>{M(null),Ce(me=>({...me,attachment:null}))},[]),pt=async me=>{if(me.preventDefault(),T(!0),D(null),!ge.service_group_id){D("Service Type is required"),T(!1);return}if(!ge.service_catalogue_id){D("Service is required"),T(!1);return}if(!B.find(We=>We.id===ge.service_catalogue_id)){D("Selected service is not available for the chosen service type"),T(!1);return}const je={...ge,service_group_id:ge.service_group_id,service_catalogue_id:ge.service_catalogue_id};console.log("Submitting data:",je);try{const We=await t(je);L({message:"Work Order created successfully!",work_order:We.work_order||We}),F(!0)}catch(We){D(We.message||"Gagal menyimpan work order. Silakan coba lagi."),console.error("Submission error:",We)}finally{T(!1)}},Re=me=>{const De=me?parseInt(me.value):null;Ce(je=>({...je,service_group_id:De,service_catalogue_id:null}))},Me=me=>{const De=me?parseInt(me.value):null;Ce(je=>({...je,service_catalogue_id:De}))},qe=b.useCallback(()=>{F(!1),o("/workorders/it")},[o]);b.useEffect(()=>{const me=De=>{H&&q(!1)};return H&&document.addEventListener("mousedown",me),()=>{document.removeEventListener("mousedown",me)}},[H]);const tt={control:(me,De)=>({...me,minHeight:"42px",borderColor:De.isFocused?"#3B82F6":"#D1D5DB",boxShadow:De.isFocused?"0 0 0 1px #3B82F6":"none","&:hover":{borderColor:"#9CA3AF"},borderRadius:"0.5rem",backgroundColor:"#FFFFFF",padding:"0 0.5rem",transition:"all 0.15s ease-in-out"}),valueContainer:me=>({...me,padding:"0"}),singleValue:me=>({...me,color:"#374151"}),placeholder:me=>({...me,color:"#6B7280"}),dropdownIndicator:me=>({...me,color:"#9CA3AF","&:hover":{color:"#6B7280"}}),indicatorSeparator:me=>({...me,display:"none"}),menu:me=>({...me,zIndex:9999,borderRadius:"0.5rem",border:"1px solid #E5E7EB",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"}),option:(me,De)=>({...me,backgroundColor:De.isFocused?"#EFF6FF":"#FFFFFF",color:"#1F2937","&:active":{backgroundColor:"#DBEAFE"},padding:"0.625rem 1rem"})},Ve=b.useCallback(me=>{if(!me)return;const De=parseInt(me.value),je=l.find(We=>parseInt(We.id)===De);if(je){const We=u.find(rt=>rt.id===je.department_id);Ce(rt=>({...rt,requester_id:De,department_id:je.department_id||0,known_by_id:(We==null?void 0:We.head_id)||null}))}},[l,u]),Te=()=>{if(Ke){const De=u.find(je=>je.id===(e==null?void 0:e.department_id));return(De==null?void 0:De.name)||"No department assigned"}const me=u.find(De=>De.id===ge.department_id);return(me==null?void 0:me.name)||"No department assigned"},le=()=>{if(Ke){const De=u.find(je=>je.id===(e==null?void 0:e.department_id));if(De&&De.head_id){const je=l.find(We=>parseInt(We.id)===De.head_id);return(je==null?void 0:je.name)||"No department head assigned"}return"No department head assigned"}const me=u.find(De=>De.id===ge.department_id);if(me&&me.head_id){const De=l.find(je=>parseInt(je.id)===me.head_id);return(De==null?void 0:De.name)||"No department head assigned"}return"No department head assigned"},Je=({selectedFile:me,attachment:De,onRemove:je})=>!me&&!De?null:a.jsxs("div",{className:"mt-4 p-4 border border-gray-200 rounded-xl bg-white shadow-sm",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:`p-3 rounded-lg ${me?"bg-blue-50":"bg-purple-50"}`,children:me?a.jsx(RI,{className:"h-6 w-6 text-blue-600"}):a.jsx(eM,{className:"h-6 w-6 text-purple-600"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-semibold text-gray-900 truncate",children:me?me.name:"Photo from camera"}),a.jsxs("div",{className:"flex items-center space-x-4 mt-1",children:[a.jsx("p",{className:"text-xs text-gray-500",children:me?`${(me.size/1024/1024).toFixed(2)} MB`:"JPEG Image"}),a.jsx("span",{className:"text-xs px-2 py-1 bg-green-100 text-green-700 rounded-full",children:"Ready to upload"})]})]})]}),a.jsx(O.button,{type:"button",onClick:je,whileHover:{scale:1.05},whileTap:{scale:.95},className:"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition-colors duration-200",title:"Remove attachment",children:a.jsx(Ft,{size:18})})]}),De&&De.startsWith("data:image")&&a.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-100",children:[a.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Preview:"}),a.jsx("div",{className:"flex justify-center",children:a.jsx("img",{src:De,alt:"Captured",className:"h-32 w-32 object-cover rounded-lg border shadow-sm"})})]})]});return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Add Work Order",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:a.jsx(fn,{}),isMobile:w,toggleSidebar:fe}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Work Order"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Fill in the details to create a new maintenance or service request"})]}),a.jsxs(O.button,{onClick:()=>o("/workorders/it"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(hd,{className:"text-lg"})," Back to Work Orders"]})]}),a.jsxs(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[_&&a.jsxs(O.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:_}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(Ft,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>D(null)})})]}),a.jsxs("form",{onSubmit:pt,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(Cr,{className:"mr-2 text-blue-500"})," General Information"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"date",className:"block text-sm font-medium text-gray-700 mb-1",children:["Date ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"date",id:"date",name:"date",value:ge.date,onChange:ye,required:!0,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700"})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"reception_method",className:"block text-sm font-medium text-gray-700 mb-1",children:["Reception Method ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(un,{id:"reception_method",name:"reception_method",options:[{value:"Electronic Work Order System",label:"Electronic Work Order System"},{value:"Direct Information",label:"Direct Information"},{value:"Phone",label:"Phone"},{value:"Whatsapp",label:"Whatsapp"},{value:"Email",label:"Email"}],value:{value:ge.reception_method,label:ge.reception_method},onChange:ae,placeholder:"Select Reception Method",styles:tt,required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"requester_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Requester ",a.jsx("span",{className:"text-red-500",children:"*"})]}),Ke?a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-blue-50 text-gray-700",children:a.jsx("span",{children:(e==null?void 0:e.name)||"Current User"})}):a.jsx(un,{id:"requester_id",name:"requester_id",options:l.map(me=>({value:String(me.id),label:me.name})),value:l.find(me=>parseInt(me.id)===ge.requester_id)?{value:String(ge.requester_id),label:((ut=l.find(me=>parseInt(me.id)===ge.requester_id))==null?void 0:ut.name)||""}:null,onChange:Ve,placeholder:"Select Requester",styles:tt,required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"department_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Department ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-blue-50 text-gray-700",children:a.jsx("span",{children:Te()})})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"known_by_id",className:"block text-sm font-medium text-gray-700 mb-1",children:"Known By (Head)"}),a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-blue-50 text-gray-700",children:a.jsx("span",{children:le()})})]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(Ll,{className:"mr-2 text-green-500"})," Service Details"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"service_group_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Service Type ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(un,{id:"service_group_id",name:"service_group_id",options:Y.map(me=>({value:String(me.id),label:me.name})),value:ge.service_group_id!==null?{value:String(ge.service_group_id),label:((Pe=Y.find(me=>me.id===ge.service_group_id))==null?void 0:Pe.name)||""}:null,onChange:Re,placeholder:"Select Service Type",styles:tt,required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"service_catalogue_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Service ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(un,{id:"service_catalogue_id",name:"service_catalogue_id",options:B.map(me=>({value:String(me.id),label:me.service_name})),value:ge.service_catalogue_id!==null?{value:String(ge.service_catalogue_id),label:((Ne=B.find(me=>me.id===ge.service_catalogue_id))==null?void 0:Ne.service_name)||""}:null,onChange:Me,placeholder:ge.service_group_id!==null?B.length===0?"No services available for selected type":"Select Service":"Please select Service Type first",styles:tt,isDisabled:ge.service_group_id===null||B.length===0,required:!0}),B.length===0&&ge.service_group_id&&a.jsx("p",{className:"text-sm text-yellow-500 mt-1",children:"No services available for selected type"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"asset_no",className:"block text-sm font-medium text-gray-700 mb-1",children:"No. Asset "}),a.jsx(cte,{name:"asset_no",id:"asset_no",options:p,value:ge.asset_no?{value:ge.asset_no,label:ge.asset_no}:null,onChange:se,onCreateOption:me=>{const De={value:me,label:me};v(je=>[...je,De]),se(De)},placeholder:"Type or select Asset No.",styles:tt,isClearable:!0,required:!1})]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(Rx,{className:"mr-2 text-purple-500"})," Device & Complaint Details"]}),a.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"device_info",className:"block text-sm font-medium text-gray-700 mb-1",children:["Device Information ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("textarea",{id:"device_info",name:"device_info",value:ge.device_info,onChange:ye,required:!0,rows:3,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"Provide details about the device (e.g., model, serial number)."})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"complaint",className:"block text-sm font-medium text-gray-700 mb-1",children:["Complaint ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Lf,{value:ge.complaint,onChange:me=>{Ce(De=>({...De,complaint:me}))}})]})]})]}),a.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[a.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:["Attachment ",a.jsx("span",{className:"text-gray-400 font-normal",children:"(Optional)"})]}),!A&&!ge.attachment?a.jsx(O.button,{type:"button",whileHover:{scale:1.01},whileTap:{scale:.99},className:"w-full p-8 border-2 border-dashed border-gray-300 rounded-xl bg-white hover:border-blue-400 hover:bg-blue-50/50 transition-all duration-300 group",onClick:J,children:a.jsxs("div",{className:"space-y-3 text-center",children:[a.jsx("div",{className:"mx-auto w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center group-hover:bg-blue-100 transition-colors",children:a.jsx(yc,{className:"h-6 w-6 text-gray-400 group-hover:text-blue-500"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Click to select attachment"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PNG, JPG, GIF, PDF up to 10MB"})]})]})}):a.jsx("div",{className:"w-full p-6 border-2 border-blue-200 border-dashed rounded-xl bg-blue-50/30",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"mx-auto w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center mb-3",children:a.jsx(yc,{className:"h-5 w-5 text-blue-600"})}),a.jsx("p",{className:"text-sm font-medium text-blue-900",children:A?`File selected: ${A.name}`:"Photo captured from camera"}),a.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"File ready for upload. Click to change."})]})}),a.jsx(Je,{selectedFile:A,attachment:ge.attachment,onRemove:bt}),a.jsx(ar,{children:H&&a.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 p-4",onClick:()=>q(!1),children:a.jsxs(O.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-xl w-full max-w-md mx-auto overflow-hidden",onClick:me=>me.stopPropagation(),children:[a.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-100",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Select Attachment"}),a.jsx("button",{type:"button",onClick:()=>q(!1),className:"text-gray-400 hover:text-gray-600 transition-colors p-1 rounded-lg hover:bg-gray-100",children:a.jsx(Ft,{size:20})})]}),X?a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsxs("div",{className:"relative bg-black rounded-lg overflow-hidden",children:[a.jsx("video",{ref:K,autoPlay:!0,playsInline:!0,className:"w-full h-64 object-cover"}),a.jsx("canvas",{ref:V,className:"hidden"})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(O.button,{type:"button",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:ce,className:"flex-1 bg-blue-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Take Photo"}),a.jsx(O.button,{type:"button",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ee,className:"flex-1 bg-gray-200 text-gray-700 py-3 px-4 rounded-lg font-medium hover:bg-gray-300 transition-colors",children:"Cancel"})]})]}):a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsxs(O.button,{type:"button",whileHover:{scale:1.02},whileTap:{scale:.98},onClick:Q,className:"w-full p-4 border-2 border-dashed border-gray-200 rounded-xl hover:border-blue-300 hover:bg-blue-50/50 transition-all duration-200 flex items-center space-x-4",children:[a.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:a.jsx(RI,{className:"h-6 w-6 text-blue-600"})}),a.jsxs("div",{className:"text-left",children:[a.jsx("div",{className:"font-medium text-gray-900",children:"Select File"}),a.jsx("div",{className:"text-sm text-gray-500",children:"From your device"})]})]}),a.jsxs(O.button,{type:"button",whileHover:{scale:1.02},whileTap:{scale:.98},onClick:re,className:"w-full p-4 border-2 border-dashed border-gray-200 rounded-xl hover:border-purple-300 hover:bg-purple-50/50 transition-all duration-200 flex items-center space-x-4",children:[a.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:a.jsx(eM,{className:"h-6 w-6 text-purple-600"})}),a.jsxs("div",{className:"text-left",children:[a.jsx("div",{className:"font-medium text-gray-900",children:"Take Photo"}),a.jsx("div",{className:"text-sm text-gray-500",children:"Use camera"})]})]})]})]})})})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsxs(O.button,{type:"button",onClick:()=>{Ce(ke),M(null),D(null),L(null)},whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",children:[a.jsx(In,{className:"mr-2 h-5 w-5"})," Clear Form"]}),a.jsx(O.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},disabled:S,className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed",children:S?a.jsxs(a.Fragment,{children:[a.jsx(mn,{className:"animate-spin mr-2 h-5 w-5"}),"Adding..."]}):a.jsxs(a.Fragment,{children:[a.jsx(vn,{className:"mr-2 h-5 w-5"})," Add Work Order"]})})]})]})]})]})]}),a.jsx(G3e,{isOpen:R,onClose:qe,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(fr,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center mb-2",children:E==null?void 0:E.message}),a.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Work Order Number: ",(ze=E==null?void 0:E.work_order)==null?void 0:ze.work_order_no]}),a.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:qe,className:"mt-6 px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold",children:"Go to Work Orders"})]})})]})},K3e=()=>{const t=tr(),{user:e}=or(),[r,n]=b.useState(!1),[s,i]=b.useState(window.innerWidth>=768),[o,l]=b.useState(window.innerWidth<768),[c,u]=b.useState(!1),[f,h]=b.useState(!1),g=b.useRef(null),p=b.useRef(null);b.useEffect(()=>{const y=()=>{l(window.innerWidth<768),window.innerWidth<768?i(!1):i(!0)};return window.addEventListener("resize",y),()=>window.removeEventListener("resize",y)},[]),b.useEffect(()=>{const y=N=>{g.current&&!g.current.contains(N.target)&&u(!1),p.current&&!p.current.contains(N.target)&&h(!1)};return document.addEventListener("mousedown",y),()=>{document.removeEventListener("mousedown",y)}},[]);const v=()=>{i(y=>!y)};b.useEffect(()=>{document.documentElement.classList.toggle("dark",r)},[r]);const w=y=>{t(y)};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Select Work Order",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:a.jsx(fn,{}),isMobile:o,toggleSidebar:v}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 text-center",children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Select Work Order Department"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Choose the department you wish to manage work orders for."})]}),a.jsxs("div",{className:"flex flex-col md:flex-row justify-center items-center gap-6 max-w-4xl mx-auto py-8",children:[a.jsxs(O.div,{className:"w-full md:w-1/2 bg-white rounded-2xl shadow-xl p-8 border border-blue-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>w("/workorders/it"),children:[a.jsx(Tme,{size:64,className:"text-blue-600 mb-4"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"IT Work Orders"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Manage and track IT-related maintenance and service requests."}),a.jsxs("span",{className:"text-blue-600 font-semibold flex items-center",children:["Go to IT Work Orders ",a.jsx(ta,{size:18,className:"ml-1"})]})]}),a.jsxs(O.div,{className:"w-full md:w-1/2 bg-white rounded-2xl shadow-xl p-8 border border-green-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>w("/workorders/td"),children:[a.jsx(rM,{size:64,className:"text-green-600 mb-4"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"TD Work Orders"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Handle technical department maintenance, repairs, and tasks."}),a.jsxs("span",{className:"text-green-600 font-semibold flex items-center",children:["Go to TD Work Orders ",a.jsx(ta,{size:18,className:"ml-1"})]})]})]})]})]})]})},J3e=()=>{const t=tr(),{user:e}=or(),[r,n]=b.useState(!1),[s,i]=b.useState(window.innerWidth>=768),[o,l]=b.useState(window.innerWidth<768),[c,u]=b.useState(!1),[f,h]=b.useState(!1),g=b.useRef(null),p=b.useRef(null);b.useEffect(()=>{const y=()=>{l(window.innerWidth<768),window.innerWidth<768?i(!1):i(!0)};return window.addEventListener("resize",y),()=>window.removeEventListener("resize",y)},[]),b.useEffect(()=>{const y=N=>{g.current&&!g.current.contains(N.target)&&u(!1),p.current&&!p.current.contains(N.target)&&h(!1)};return document.addEventListener("mousedown",y),()=>{document.removeEventListener("mousedown",y)}},[]);const v=()=>{i(y=>!y)};b.useEffect(()=>{document.documentElement.classList.toggle("dark",r)},[r]);const w=y=>{t(y)};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Work Location",mainTitleHighlight:"Page",description:"Manage work shifts and their configurations within the system.",icon:a.jsx(gs,{}),isMobile:o,toggleSidebar:v}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 text-center",children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Select Work Location Type"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Choose the type of work location you wish to manage."})]}),a.jsxs("div",{className:"flex flex-col md:flex-row justify-center items-center gap-6 max-w-5xl mx-auto py-8",children:[a.jsxs(O.div,{className:"w-full md:w-1/3 bg-white rounded-2xl shadow-xl p-8 border border-blue-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>w("/worklocation/workarea"),children:[a.jsx(gs,{size:64,className:"text-blue-600 mb-4"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Work Area"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Manage and define specific work areas within your facilities."}),a.jsxs("span",{className:"text-blue-600 font-semibold flex items-center",children:["Go to Work Area ",a.jsx(ta,{size:18,className:"ml-1"})]})]}),a.jsxs(O.div,{className:"w-full md:w-1/3 bg-white rounded-2xl shadow-xl p-8 border border-green-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>w("/worklocation/department"),children:[a.jsx(cl,{size:64,className:"text-green-600 mb-4"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Departments"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Organize and manage work orders by specific company departments."}),a.jsxs("span",{className:"text-green-600 font-semibold flex items-center",children:["Go to Department ",a.jsx(ta,{size:18,className:"ml-1"})]})]}),a.jsxs(O.div,{className:"w-full md:w-1/3 bg-white rounded-2xl shadow-xl p-8 border border-purple-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>w("/worklocation/workunit"),children:[a.jsx(Cg,{size:64,className:"text-purple-600 mb-4"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Work Unit"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Define and track the precise physical locations of individual units."}),a.jsxs("span",{className:"text-purple-600 font-semibold flex items-center",children:["Go to Work Unit ",a.jsx(ta,{size:18,className:"ml-1"})]})]})]})]})]})]})},X3e=()=>{const t=tr(),{user:e}=or(),[r,n]=b.useState(!1),[s,i]=b.useState(window.innerWidth>=768),[o,l]=b.useState(window.innerWidth<768),[c,u]=b.useState(!1),[f,h]=b.useState(!1),g=b.useRef(null),p=b.useRef(null);b.useEffect(()=>{const y=()=>{l(window.innerWidth<768),window.innerWidth<768?i(!1):i(!0)};return window.addEventListener("resize",y),()=>window.removeEventListener("resize",y)},[]),b.useEffect(()=>{const y=N=>{g.current&&!g.current.contains(N.target)&&u(!1),p.current&&!p.current.contains(N.target)&&h(!1)};return document.addEventListener("mousedown",y),()=>{document.removeEventListener("mousedown",y)}},[]);const v=()=>{i(y=>!y)};b.useEffect(()=>{document.documentElement.classList.toggle("dark",r)},[r]);const w=y=>{t(y)};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Work Arrangement",mainTitleHighlight:"Page",description:"Manage work shifts and their configurations within the system.",icon:a.jsx(Pa,{}),isMobile:o,toggleSidebar:v}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 text-center",children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Select Work Arrangement Type"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Choose how you want to manage work groups and shifts."})]}),a.jsxs("div",{className:"flex flex-col md:flex-row justify-center items-center gap-6 max-w-4xl mx-auto py-8",children:[a.jsxs(O.div,{className:"w-full md:w-1/2 bg-white rounded-2xl shadow-xl p-8 border border-blue-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>w("/workarrangement/workgroup"),children:[a.jsx(Pa,{size:64,className:"text-blue-600 mb-4"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:" Work Group Management"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Organize and manage teams or groups for various work arrangements."}),a.jsxs("span",{className:"text-blue-600 font-semibold flex items-center",children:["Go to Group Management ",a.jsx(ta,{size:18,className:"ml-1"})]})]}),a.jsxs(O.div,{className:"w-full md:w-1/2 bg-white rounded-2xl shadow-xl p-8 border border-green-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>w("/workarrangement/workshift"),children:[a.jsx(Cr,{size:64,className:"text-green-600 mb-4"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Work Shift Management"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Plan and manage work shifts and schedules for your workforce."}),a.jsxs("span",{className:"text-green-600 font-semibold flex items-center",children:["Go to Shift Management ",a.jsx(ta,{size:18,className:"ml-1"})]})]})]})]})]})]})},Q3e=()=>{const t=tr(),{user:e}=or(),[r,n]=b.useState(!1),[s,i]=b.useState(window.innerWidth>=768),[o,l]=b.useState(window.innerWidth<768),[c,u]=b.useState(!1),[f,h]=b.useState(!1),g=b.useRef(null),p=b.useRef(null);b.useEffect(()=>{const y=()=>{l(window.innerWidth<768),window.innerWidth<768?i(!1):i(!0)};return window.addEventListener("resize",y),()=>window.removeEventListener("resize",y)},[]),b.useEffect(()=>{const y=N=>{g.current&&!g.current.contains(N.target)&&u(!1),p.current&&!p.current.contains(N.target)&&h(!1)};return document.addEventListener("mousedown",y),()=>{document.removeEventListener("mousedown",y)}},[]);const v=()=>{i(y=>!y)};b.useEffect(()=>{document.documentElement.classList.toggle("dark",r)},[r]);const w=y=>{t(y)};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Spare Paarts",mainTitleHighlight:"Groups",description:"Manage service groups used across the service management system.",icon:a.jsx(ia,{}),isMobile:o,toggleSidebar:v}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 text-center",children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Spare Part Management"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Select a category to manage your spare parts inventory and settings."})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 max-w-6xl mx-auto py-8",children:[a.jsxs(O.div,{className:"w-full bg-white rounded-2xl shadow-xl p-8 border border-blue-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>w("/sparepart/generalsettings"),children:[a.jsx(qs,{size:64,className:"text-blue-600 mb-4"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"General Settings"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Configure overall settings for spare part management."}),a.jsxs("span",{className:"text-blue-600 font-semibold flex items-center",children:["Go to Settings ",a.jsx(ta,{size:18,className:"ml-1"})]})]}),a.jsxs(O.div,{className:"w-full bg-white rounded-2xl shadow-xl p-8 border border-green-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>w("/sparepart/spareparttype"),children:[a.jsx(eX,{size:64,className:"text-green-600 mb-4"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Spare Part Type"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Define and manage different types of spare parts."}),a.jsxs("span",{className:"text-green-600 font-semibold flex items-center",children:["Go to Types ",a.jsx(ta,{size:18,className:"ml-1"})]})]}),a.jsxs(O.div,{className:"w-full bg-white rounded-2xl shadow-xl p-8 border border-purple-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>w("/sparepart/sparepartgroup"),children:[a.jsx(WJ,{size:64,className:"text-purple-600 mb-4"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Spare Part Group"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Categorize spare parts into logical groups."}),a.jsxs("span",{className:"text-purple-600 font-semibold flex items-center",children:["Go to Groups ",a.jsx(ta,{size:18,className:"ml-1"})]})]}),a.jsxs(O.div,{className:"w-full bg-white rounded-2xl shadow-xl p-8 border border-orange-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>w("/sparepart/sparepartmaintenance"),children:[a.jsx(Ll,{size:64,className:"text-orange-600 mb-4"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Spare Part Maintenance"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Manage maintenance records related to spare parts."}),a.jsxs("span",{className:"text-orange-600 font-semibold flex items-center",children:["Go to Maintenance ",a.jsx(ta,{size:18,className:"ml-1"})]})]})]})]})]})]})},Z3e=()=>{const t=tr(),{user:e}=or(),[r,n]=b.useState(!1),[s,i]=b.useState(window.innerWidth>=768),[o,l]=b.useState(window.innerWidth<768),[c,u]=b.useState(!1),[f,h]=b.useState(!1),g=b.useRef(null),p=b.useRef(null);b.useEffect(()=>{const y=()=>{l(window.innerWidth<768),window.innerWidth<768?i(!1):i(!0)};return window.addEventListener("resize",y),()=>window.removeEventListener("resize",y)},[]),b.useEffect(()=>{const y=N=>{g.current&&!g.current.contains(N.target)&&u(!1),p.current&&!p.current.contains(N.target)&&h(!1)};return document.addEventListener("mousedown",y),()=>{document.removeEventListener("mousedown",y)}},[]);const v=()=>{i(y=>!y)};b.useEffect(()=>{document.documentElement.classList.toggle("dark",r)},[r]);const w=y=>{t(y)};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Assets",mainTitleHighlight:"Trail",description:"Manage activities and their configurations within the system.",icon:a.jsx(Ya,{}),isMobile:o,toggleSidebar:v}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 text-center",children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Asset Management"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Select a category to manage your assets."})]}),a.jsxs("div",{className:"flex flex-col md:flex-row justify-center items-center gap-6 max-w-4xl mx-auto py-8",children:[a.jsxs(O.div,{className:"w-full md:w-1/2 bg-white rounded-2xl shadow-xl p-8 border border-blue-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>w("/assets/assetsgroup"),children:[a.jsx(WJ,{size:64,className:"text-blue-600 mb-4"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Assets Group"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Organize your assets into logical groups for better management."}),a.jsxs("span",{className:"text-blue-600 font-semibold flex items-center",children:["Go to Assets Group ",a.jsx(ta,{size:18,className:"ml-1"})]})]}),a.jsxs(O.div,{className:"w-full md:w-1/2 bg-white rounded-2xl shadow-xl p-8 border border-green-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>w("/assets/assetsdata"),children:[a.jsx(ON,{size:64,className:"text-green-600 mb-4"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Assets Data"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"View and manage detailed information about your individual assets."}),a.jsxs("span",{className:"text-green-600 font-semibold flex items-center",children:["Go to Assets Data ",a.jsx(ta,{size:18,className:"ml-1"})]})]})]})]})]})]})},eAe=()=>{const t=tr(),{user:e}=or(),[r,n]=b.useState(!1),[s,i]=b.useState(window.innerWidth>=768),[o,l]=b.useState(window.innerWidth<768),[c,u]=b.useState(!1),[f,h]=b.useState(!1),g=b.useRef(null),p=b.useRef(null);b.useEffect(()=>{const y=()=>{l(window.innerWidth<768),window.innerWidth<768?i(!1):i(!0)};return window.addEventListener("resize",y),()=>window.removeEventListener("resize",y)},[]),b.useEffect(()=>{const y=N=>{g.current&&!g.current.contains(N.target)&&u(!1),p.current&&!p.current.contains(N.target)&&h(!1)};return document.addEventListener("mousedown",y),()=>{document.removeEventListener("mousedown",y)}},[]);const v=()=>{i(y=>!y)};b.useEffect(()=>{document.documentElement.classList.toggle("dark",r)},[r]);const w=y=>{t(y)};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Services",mainTitleHighlight:"Groups",description:"Manage service groups used across the service management system.",icon:a.jsx(JJ,{}),isMobile:o,toggleSidebar:v}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 text-center",children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Service Management"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Select a category to manage your services."})]}),a.jsxs("div",{className:"flex flex-col md:flex-row justify-center items-center gap-6 max-w-4xl mx-auto py-8",children:[a.jsxs(O.div,{className:"w-full md:w-1/2 bg-white rounded-2xl shadow-xl p-8 border border-blue-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>w("/services/servicegroups"),children:[a.jsx(Pa,{size:64,className:"text-blue-600 mb-4"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Service Group"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Organize and manage groups of services or service teams."}),a.jsxs("span",{className:"text-blue-600 font-semibold flex items-center",children:["Go to Service Group ",a.jsx(ta,{size:18,className:"ml-1"})]})]}),a.jsxs(O.div,{className:"w-full md:w-1/2 bg-white rounded-2xl shadow-xl p-8 border border-green-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>w("/services/servicecatalogues"),children:[a.jsx(df,{size:64,className:"text-green-600 mb-4"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Service Catalogue"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Browse and manage the list of available services."}),a.jsxs("span",{className:"text-green-600 font-semibold flex items-center",children:["Go to Service Catalogue ",a.jsx(ta,{size:18,className:"ml-1"})]})]})]})]})]})]})},tAe=()=>{const t=tr(),{user:e}=or(),[r,n]=b.useState(!1),[s,i]=b.useState(window.innerWidth>=768),[o,l]=b.useState(window.innerWidth<768),[c,u]=b.useState(!1),[f,h]=b.useState(!1),g=b.useRef(null),p=b.useRef(null);b.useEffect(()=>{const y=()=>{l(window.innerWidth<768),window.innerWidth<768?i(!1):i(!0)};return window.addEventListener("resize",y),()=>window.removeEventListener("resize",y)},[]),b.useEffect(()=>{const y=N=>{g.current&&!g.current.contains(N.target)&&u(!1),p.current&&!p.current.contains(N.target)&&h(!1)};return document.addEventListener("mousedown",y),()=>{document.removeEventListener("mousedown",y)}},[]);const v=()=>{i(y=>!y)};b.useEffect(()=>{document.documentElement.classList.toggle("dark",r)},[r]);const w=y=>{t(y)};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Maintenance Activity",mainTitleHighlight:"Management",description:"blablablabl",icon:a.jsx(Ll,{}),isMobile:o,toggleSidebar:v}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 text-center",children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Maintenance Activity Management"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Select a category to manage maintenance activities."})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 max-w-6xl mx-auto py-8",children:[a.jsxs(O.div,{className:"w-full bg-white rounded-2xl shadow-xl p-8 border border-blue-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>w("/maintenanceactivity/activitytypes"),children:[a.jsx(nM,{size:64,className:"text-blue-600 mb-4"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Activity Type"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Define and manage different types of maintenance activities."}),a.jsxs("span",{className:"text-blue-600 font-semibold flex items-center",children:["Go to Activity Types ",a.jsx(ta,{size:18,className:"ml-1"})]})]}),a.jsxs(O.div,{className:"w-full bg-white rounded-2xl shadow-xl p-8 border border-green-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>w("/maintenanceactivity/activity"),children:[a.jsx(hc,{size:64,className:"text-green-600 mb-4"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Activity"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Manage the details of individual maintenance activities."}),a.jsxs("span",{className:"text-green-600 font-semibold flex items-center",children:["Go to Activities ",a.jsx(ta,{size:18,className:"ml-1"})]})]}),a.jsxs(O.div,{className:"w-full bg-white rounded-2xl shadow-xl p-8 border border-purple-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>w("/maintenanceactivity/stoptimes"),children:[a.jsx(Cr,{size:64,className:"text-purple-600 mb-4"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Stop Time"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Record and analyze machine downtime and stop times."}),a.jsxs("span",{className:"text-purple-600 font-semibold flex items-center",children:["Go to Stop Time ",a.jsx(ta,{size:18,className:"ml-1"})]})]}),a.jsxs(O.div,{className:"w-full bg-white rounded-2xl shadow-xl p-8 border border-orange-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>w("/maintenanceactivity/troubleitem"),children:[a.jsx(Hr,{size:64,className:"text-orange-600 mb-4"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Trouble Item"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Manage and categorize common trouble items or issues."}),a.jsxs("span",{className:"text-orange-600 font-semibold flex items-center",children:["Go to Trouble Items ",a.jsx(ta,{size:18,className:"ml-1"})]})]})]})]})]})]})};var M_,RB;function fl(){if(RB)return M_;RB=1;var t=Array.isArray;return M_=t,M_}var E_,IB;function ute(){if(IB)return E_;IB=1;var t=typeof pw=="object"&&pw&&pw.Object===Object&&pw;return E_=t,E_}var O_,FB;function xd(){if(FB)return O_;FB=1;var t=ute(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return O_=r,O_}var D_,BB;function m1(){if(BB)return D_;BB=1;var t=xd(),e=t.Symbol;return D_=e,D_}var P_,$B;function rAe(){if($B)return P_;$B=1;var t=m1(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,s=t?t.toStringTag:void 0;function i(o){var l=r.call(o,s),c=o[s];try{o[s]=void 0;var u=!0}catch{}var f=n.call(o);return u&&(l?o[s]=c:delete o[s]),f}return P_=i,P_}var L_,HB;function nAe(){if(HB)return L_;HB=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return L_=r,L_}var R_,zB;function Wf(){if(zB)return R_;zB=1;var t=m1(),e=rAe(),r=nAe(),n="[object Null]",s="[object Undefined]",i=t?t.toStringTag:void 0;function o(l){return l==null?l===void 0?s:n:i&&i in Object(l)?e(l):r(l)}return R_=o,R_}var I_,qB;function Vf(){if(qB)return I_;qB=1;function t(e){return e!=null&&typeof e=="object"}return I_=t,I_}var F_,UB;function $x(){if(UB)return F_;UB=1;var t=Wf(),e=Vf(),r="[object Symbol]";function n(s){return typeof s=="symbol"||e(s)&&t(s)==r}return F_=n,F_}var B_,WB;function MP(){if(WB)return B_;WB=1;var t=fl(),e=$x(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function s(i,o){if(t(i))return!1;var l=typeof i;return l=="number"||l=="symbol"||l=="boolean"||i==null||e(i)?!0:n.test(i)||!r.test(i)||o!=null&&i in Object(o)}return B_=s,B_}var $_,VB;function vm(){if(VB)return $_;VB=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return $_=t,$_}var H_,GB;function EP(){if(GB)return H_;GB=1;var t=Wf(),e=vm(),r="[object AsyncFunction]",n="[object Function]",s="[object GeneratorFunction]",i="[object Proxy]";function o(l){if(!e(l))return!1;var c=t(l);return c==n||c==s||c==r||c==i}return H_=o,H_}var z_,YB;function aAe(){if(YB)return z_;YB=1;var t=xd(),e=t["__core-js_shared__"];return z_=e,z_}var q_,KB;function sAe(){if(KB)return q_;KB=1;var t=aAe(),e=(function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!e&&e in n}return q_=r,q_}var U_,JB;function dte(){if(JB)return U_;JB=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return U_=r,U_}var W_,XB;function iAe(){if(XB)return W_;XB=1;var t=EP(),e=sAe(),r=vm(),n=dte(),s=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,o=Function.prototype,l=Object.prototype,c=o.toString,u=l.hasOwnProperty,f=RegExp("^"+c.call(u).replace(s,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function h(g){if(!r(g)||e(g))return!1;var p=t(g)?f:i;return p.test(n(g))}return W_=h,W_}var V_,QB;function oAe(){if(QB)return V_;QB=1;function t(e,r){return e==null?void 0:e[r]}return V_=t,V_}var G_,ZB;function e0(){if(ZB)return G_;ZB=1;var t=iAe(),e=oAe();function r(n,s){var i=e(n,s);return t(i)?i:void 0}return G_=r,G_}var Y_,e$;function lS(){if(e$)return Y_;e$=1;var t=e0(),e=t(Object,"create");return Y_=e,Y_}var K_,t$;function lAe(){if(t$)return K_;t$=1;var t=lS();function e(){this.__data__=t?t(null):{},this.size=0}return K_=e,K_}var J_,r$;function cAe(){if(r$)return J_;r$=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return J_=t,J_}var X_,n$;function uAe(){if(n$)return X_;n$=1;var t=lS(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function s(i){var o=this.__data__;if(t){var l=o[i];return l===e?void 0:l}return n.call(o,i)?o[i]:void 0}return X_=s,X_}var Q_,a$;function dAe(){if(a$)return Q_;a$=1;var t=lS(),e=Object.prototype,r=e.hasOwnProperty;function n(s){var i=this.__data__;return t?i[s]!==void 0:r.call(i,s)}return Q_=n,Q_}var Z_,s$;function fAe(){if(s$)return Z_;s$=1;var t=lS(),e="__lodash_hash_undefined__";function r(n,s){var i=this.__data__;return this.size+=this.has(n)?0:1,i[n]=t&&s===void 0?e:s,this}return Z_=r,Z_}var e3,i$;function hAe(){if(i$)return e3;i$=1;var t=lAe(),e=cAe(),r=uAe(),n=dAe(),s=fAe();function i(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=n,i.prototype.set=s,e3=i,e3}var t3,o$;function mAe(){if(o$)return t3;o$=1;function t(){this.__data__=[],this.size=0}return t3=t,t3}var r3,l$;function OP(){if(l$)return r3;l$=1;function t(e,r){return e===r||e!==e&&r!==r}return r3=t,r3}var n3,c$;function cS(){if(c$)return n3;c$=1;var t=OP();function e(r,n){for(var s=r.length;s--;)if(t(r[s][0],n))return s;return-1}return n3=e,n3}var a3,u$;function pAe(){if(u$)return a3;u$=1;var t=cS(),e=Array.prototype,r=e.splice;function n(s){var i=this.__data__,o=t(i,s);if(o<0)return!1;var l=i.length-1;return o==l?i.pop():r.call(i,o,1),--this.size,!0}return a3=n,a3}var s3,d$;function gAe(){if(d$)return s3;d$=1;var t=cS();function e(r){var n=this.__data__,s=t(n,r);return s<0?void 0:n[s][1]}return s3=e,s3}var i3,f$;function xAe(){if(f$)return i3;f$=1;var t=cS();function e(r){return t(this.__data__,r)>-1}return i3=e,i3}var o3,h$;function bAe(){if(h$)return o3;h$=1;var t=cS();function e(r,n){var s=this.__data__,i=t(s,r);return i<0?(++this.size,s.push([r,n])):s[i][1]=n,this}return o3=e,o3}var l3,m$;function uS(){if(m$)return l3;m$=1;var t=mAe(),e=pAe(),r=gAe(),n=xAe(),s=bAe();function i(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=n,i.prototype.set=s,l3=i,l3}var c3,p$;function DP(){if(p$)return c3;p$=1;var t=e0(),e=xd(),r=t(e,"Map");return c3=r,c3}var u3,g$;function yAe(){if(g$)return u3;g$=1;var t=hAe(),e=uS(),r=DP();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return u3=n,u3}var d3,x$;function vAe(){if(x$)return d3;x$=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return d3=t,d3}var f3,b$;function dS(){if(b$)return f3;b$=1;var t=vAe();function e(r,n){var s=r.__data__;return t(n)?s[typeof n=="string"?"string":"hash"]:s.map}return f3=e,f3}var h3,y$;function wAe(){if(y$)return h3;y$=1;var t=dS();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return h3=e,h3}var m3,v$;function jAe(){if(v$)return m3;v$=1;var t=dS();function e(r){return t(this,r).get(r)}return m3=e,m3}var p3,w$;function NAe(){if(w$)return p3;w$=1;var t=dS();function e(r){return t(this,r).has(r)}return p3=e,p3}var g3,j$;function SAe(){if(j$)return g3;j$=1;var t=dS();function e(r,n){var s=t(this,r),i=s.size;return s.set(r,n),this.size+=s.size==i?0:1,this}return g3=e,g3}var x3,N$;function PP(){if(N$)return x3;N$=1;var t=yAe(),e=wAe(),r=jAe(),n=NAe(),s=SAe();function i(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=n,i.prototype.set=s,x3=i,x3}var b3,S$;function fte(){if(S$)return b3;S$=1;var t=PP(),e="Expected a function";function r(n,s){if(typeof n!="function"||s!=null&&typeof s!="function")throw new TypeError(e);var i=function(){var o=arguments,l=s?s.apply(this,o):o[0],c=i.cache;if(c.has(l))return c.get(l);var u=n.apply(this,o);return i.cache=c.set(l,u)||c,u};return i.cache=new(r.Cache||t),i}return r.Cache=t,b3=r,b3}var y3,k$;function kAe(){if(k$)return y3;k$=1;var t=fte(),e=500;function r(n){var s=t(n,function(o){return i.size===e&&i.clear(),o}),i=s.cache;return s}return y3=r,y3}var v3,C$;function CAe(){if(C$)return v3;C$=1;var t=kAe(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(s){var i=[];return s.charCodeAt(0)===46&&i.push(""),s.replace(e,function(o,l,c,u){i.push(c?u.replace(r,"$1"):l||o)}),i});return v3=n,v3}var w3,_$;function LP(){if(_$)return w3;_$=1;function t(e,r){for(var n=-1,s=e==null?0:e.length,i=Array(s);++n<s;)i[n]=r(e[n],n,e);return i}return w3=t,w3}var j3,A$;function _Ae(){if(A$)return j3;A$=1;var t=m1(),e=LP(),r=fl(),n=$x(),s=t?t.prototype:void 0,i=s?s.toString:void 0;function o(l){if(typeof l=="string")return l;if(r(l))return e(l,o)+"";if(n(l))return i?i.call(l):"";var c=l+"";return c=="0"&&1/l==-1/0?"-0":c}return j3=o,j3}var N3,T$;function hte(){if(T$)return N3;T$=1;var t=_Ae();function e(r){return r==null?"":t(r)}return N3=e,N3}var S3,M$;function mte(){if(M$)return S3;M$=1;var t=fl(),e=MP(),r=CAe(),n=hte();function s(i,o){return t(i)?i:e(i,o)?[i]:r(n(i))}return S3=s,S3}var k3,E$;function fS(){if(E$)return k3;E$=1;var t=$x();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return k3=e,k3}var C3,O$;function RP(){if(O$)return C3;O$=1;var t=mte(),e=fS();function r(n,s){s=t(s,n);for(var i=0,o=s.length;n!=null&&i<o;)n=n[e(s[i++])];return i&&i==o?n:void 0}return C3=r,C3}var _3,D$;function pte(){if(D$)return _3;D$=1;var t=RP();function e(r,n,s){var i=r==null?void 0:t(r,n);return i===void 0?s:i}return _3=e,_3}var AAe=pte();const Dl=Vn(AAe);var A3,P$;function TAe(){if(P$)return A3;P$=1;function t(e){return e==null}return A3=t,A3}var MAe=TAe();const nn=Vn(MAe);var T3,L$;function EAe(){if(L$)return T3;L$=1;var t=Wf(),e=fl(),r=Vf(),n="[object String]";function s(i){return typeof i=="string"||!e(i)&&r(i)&&t(i)==n}return T3=s,T3}var OAe=EAe();const Hp=Vn(OAe);var DAe=EP();const Yr=Vn(DAe);var PAe=vm();const Hx=Vn(PAe);var M3={exports:{}},aa={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R$;function LAe(){if(R$)return aa;R$=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),p=Symbol.for("react.offscreen"),v;v=Symbol.for("react.module.reference");function w(y){if(typeof y=="object"&&y!==null){var N=y.$$typeof;switch(N){case t:switch(y=y.type,y){case r:case s:case n:case u:case f:return y;default:switch(y=y&&y.$$typeof,y){case l:case o:case c:case g:case h:case i:return y;default:return N}}case e:return N}}}return aa.ContextConsumer=o,aa.ContextProvider=i,aa.Element=t,aa.ForwardRef=c,aa.Fragment=r,aa.Lazy=g,aa.Memo=h,aa.Portal=e,aa.Profiler=s,aa.StrictMode=n,aa.Suspense=u,aa.SuspenseList=f,aa.isAsyncMode=function(){return!1},aa.isConcurrentMode=function(){return!1},aa.isContextConsumer=function(y){return w(y)===o},aa.isContextProvider=function(y){return w(y)===i},aa.isElement=function(y){return typeof y=="object"&&y!==null&&y.$$typeof===t},aa.isForwardRef=function(y){return w(y)===c},aa.isFragment=function(y){return w(y)===r},aa.isLazy=function(y){return w(y)===g},aa.isMemo=function(y){return w(y)===h},aa.isPortal=function(y){return w(y)===e},aa.isProfiler=function(y){return w(y)===s},aa.isStrictMode=function(y){return w(y)===n},aa.isSuspense=function(y){return w(y)===u},aa.isSuspenseList=function(y){return w(y)===f},aa.isValidElementType=function(y){return typeof y=="string"||typeof y=="function"||y===r||y===s||y===n||y===u||y===f||y===p||typeof y=="object"&&y!==null&&(y.$$typeof===g||y.$$typeof===h||y.$$typeof===i||y.$$typeof===o||y.$$typeof===c||y.$$typeof===v||y.getModuleId!==void 0)},aa.typeOf=w,aa}var I$;function RAe(){return I$||(I$=1,M3.exports=LAe()),M3.exports}var IAe=RAe(),E3,F$;function gte(){if(F$)return E3;F$=1;var t=Wf(),e=Vf(),r="[object Number]";function n(s){return typeof s=="number"||e(s)&&t(s)==r}return E3=n,E3}var O3,B$;function FAe(){if(B$)return O3;B$=1;var t=gte();function e(r){return t(r)&&r!=+r}return O3=e,O3}var BAe=FAe();const zx=Vn(BAe);var $Ae=gte();const HAe=Vn($Ae);var Lo=function(e){return e===0?0:e>0?1:-1},fp=function(e){return Hp(e)&&e.indexOf("%")===e.length-1},Qt=function(e){return HAe(e)&&!zx(e)},zAe=function(e){return nn(e)},vi=function(e){return Qt(e)||Hp(e)},qAe=0,t0=function(e){var r=++qAe;return"".concat(e||"").concat(r)},Ro=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Qt(e)&&!Hp(e))return n;var i;if(fp(e)){var o=e.indexOf("%");i=r*parseFloat(e.slice(0,o))/100}else i=+e;return zx(i)&&(i=n),s&&i>r&&(i=r),i},Uh=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},UAe=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},s=0;s<r;s++)if(!n[e[s]])n[e[s]]=!0;else return!0;return!1},yi=function(e,r){return Qt(e)&&Qt(r)?function(n){return e+n*(r-e)}:function(){return r}};function v5(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):Dl(n,e))===r})}var WAe=function(e,r){return Qt(e)&&Qt(r)?e-r:Hp(e)&&Hp(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function Dg(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function ZM(t){"@babel/helpers - typeof";return ZM=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ZM(t)}var VAe=["viewBox","children"],GAe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],$$=["points","pathLength"],D3={svg:VAe,polygon:$$,polyline:$$},IP=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],w5=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(b.isValidElement(e)&&(n=e.props),!Hx(n))return null;var s={};return Object.keys(n).forEach(function(i){IP.includes(i)&&(s[i]=r||function(o){return n[i](n,o)})}),s},YAe=function(e,r,n){return function(s){return e(r,n,s),null}},zp=function(e,r,n){if(!Hx(e)||ZM(e)!=="object")return null;var s=null;return Object.keys(e).forEach(function(i){var o=e[i];IP.includes(i)&&typeof o=="function"&&(s||(s={}),s[i]=YAe(o,r,n))}),s},KAe=["children"],JAe=["children"];function H$(t,e){if(t==null)return{};var r=XAe(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function XAe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function eE(t){"@babel/helpers - typeof";return eE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eE(t)}var z$={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Af=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},q$=null,P3=null,FP=function t(e){if(e===q$&&Array.isArray(P3))return P3;var r=[];return b.Children.forEach(e,function(n){nn(n)||(IAe.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),P3=r,q$=e,r};function Pl(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(s){return Af(s)}):n=[Af(e)],FP(t).forEach(function(s){var i=Dl(s,"type.displayName")||Dl(s,"type.name");n.indexOf(i)!==-1&&r.push(s)}),r}function kl(t,e){var r=Pl(t,e);return r&&r[0]}var U$=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,s=r.height;return!(!Qt(n)||n<=0||!Qt(s)||s<=0)},QAe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],ZAe=function(e){return e&&e.type&&Hp(e.type)&&QAe.indexOf(e.type)>=0},xte=function(e){return e&&eE(e)==="object"&&"clipDot"in e},e4e=function(e,r,n,s){var i,o=(i=D3==null?void 0:D3[s])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!Yr(e)&&(s&&o.includes(r)||GAe.includes(r))||n&&IP.includes(r)},Mr=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var s=e;if(b.isValidElement(e)&&(s=e.props),!Hx(s))return null;var i={};return Object.keys(s).forEach(function(o){var l;e4e((l=s)===null||l===void 0?void 0:l[o],o,r,n)&&(i[o]=s[o])}),i},tE=function t(e,r){if(e===r)return!0;var n=b.Children.count(e);if(n!==b.Children.count(r))return!1;if(n===0)return!0;if(n===1)return W$(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var s=0;s<n;s++){var i=e[s],o=r[s];if(Array.isArray(i)||Array.isArray(o)){if(!t(i,o))return!1}else if(!W$(i,o))return!1}return!0},W$=function(e,r){if(nn(e)&&nn(r))return!0;if(!nn(e)&&!nn(r)){var n=e.props||{},s=n.children,i=H$(n,KAe),o=r.props||{},l=o.children,c=H$(o,JAe);return s&&l?Dg(i,c)&&tE(s,l):!s&&!l?Dg(i,c):!1}return!1},V$=function(e,r){var n=[],s={};return FP(e).forEach(function(i,o){if(ZAe(i))n.push(i);else if(i){var l=Af(i.type),c=r[l]||{},u=c.handler,f=c.once;if(u&&(!f||!s[l])){var h=u(i,l,o);n.push(h),s[l]=!0}}}),n},t4e=function(e){var r=e&&e.type;return r&&z$[r]?z$[r]:null},r4e=function(e,r){return FP(r).indexOf(e)},n4e=["children","width","height","viewBox","className","style","title","desc"];function rE(){return rE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},rE.apply(this,arguments)}function a4e(t,e){if(t==null)return{};var r=s4e(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function s4e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function nE(t){var e=t.children,r=t.width,n=t.height,s=t.viewBox,i=t.className,o=t.style,l=t.title,c=t.desc,u=a4e(t,n4e),f=s||{width:r,height:n,x:0,y:0},h=_r("recharts-surface",i);return pe.createElement("svg",rE({},Mr(u,!0,"svg"),{className:h,width:r,height:n,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height)}),pe.createElement("title",null,l),pe.createElement("desc",null,c),e)}var i4e=["children","className"];function aE(){return aE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},aE.apply(this,arguments)}function o4e(t,e){if(t==null)return{};var r=l4e(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function l4e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Tn=pe.forwardRef(function(t,e){var r=t.children,n=t.className,s=o4e(t,i4e),i=_r("recharts-layer",n);return pe.createElement("g",aE({className:i},Mr(s,!0),{ref:e}),r)}),cu=function(e,r){for(var n=arguments.length,s=new Array(n>2?n-2:0),i=2;i<n;i++)s[i-2]=arguments[i]},L3,G$;function c4e(){if(G$)return L3;G$=1;function t(e,r,n){var s=-1,i=e.length;r<0&&(r=-r>i?0:i+r),n=n>i?i:n,n<0&&(n+=i),i=r>n?0:n-r>>>0,r>>>=0;for(var o=Array(i);++s<i;)o[s]=e[s+r];return o}return L3=t,L3}var R3,Y$;function u4e(){if(Y$)return R3;Y$=1;var t=c4e();function e(r,n,s){var i=r.length;return s=s===void 0?i:s,!n&&s>=i?r:t(r,n,s)}return R3=e,R3}var I3,K$;function bte(){if(K$)return I3;K$=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",s=e+r+n,i="\\ufe0e\\ufe0f",o="\\u200d",l=RegExp("["+o+t+s+i+"]");function c(u){return l.test(u)}return I3=c,I3}var F3,J$;function d4e(){if(J$)return F3;J$=1;function t(e){return e.split("")}return F3=t,F3}var B3,X$;function f4e(){if(X$)return B3;X$=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",s=e+r+n,i="\\ufe0e\\ufe0f",o="["+t+"]",l="["+s+"]",c="\\ud83c[\\udffb-\\udfff]",u="(?:"+l+"|"+c+")",f="[^"+t+"]",h="(?:\\ud83c[\\udde6-\\uddff]){2}",g="[\\ud800-\\udbff][\\udc00-\\udfff]",p="\\u200d",v=u+"?",w="["+i+"]?",y="(?:"+p+"(?:"+[f,h,g].join("|")+")"+w+v+")*",N=w+v+y,k="(?:"+[f+l+"?",l,h,g,o].join("|")+")",S=RegExp(c+"(?="+c+")|"+k+N,"g");function T(_){return _.match(S)||[]}return B3=T,B3}var $3,Q$;function h4e(){if(Q$)return $3;Q$=1;var t=d4e(),e=bte(),r=f4e();function n(s){return e(s)?r(s):t(s)}return $3=n,$3}var H3,Z$;function m4e(){if(Z$)return H3;Z$=1;var t=u4e(),e=bte(),r=h4e(),n=hte();function s(i){return function(o){o=n(o);var l=e(o)?r(o):void 0,c=l?l[0]:o.charAt(0),u=l?t(l,1).join(""):o.slice(1);return c[i]()+u}}return H3=s,H3}var z3,eH;function p4e(){if(eH)return z3;eH=1;var t=m4e(),e=t("toUpperCase");return z3=e,z3}var g4e=p4e();const hS=Vn(g4e);function Ia(t){return function(){return t}}const yte=Math.cos,j5=Math.sin,pu=Math.sqrt,N5=Math.PI,mS=2*N5,sE=Math.PI,iE=2*sE,Qm=1e-6,x4e=iE-Qm;function vte(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function b4e(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return vte;const r=10**e;return function(n){this._+=n[0];for(let s=1,i=n.length;s<i;++s)this._+=Math.round(arguments[s]*r)/r+n[s]}}class y4e{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?vte:b4e(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,s){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+s}`}bezierCurveTo(e,r,n,s,i,o){this._append`C${+e},${+r},${+n},${+s},${this._x1=+i},${this._y1=+o}`}arcTo(e,r,n,s,i){if(e=+e,r=+r,n=+n,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=n-e,u=s-r,f=o-e,h=l-r,g=f*f+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(g>Qm)if(!(Math.abs(h*c-u*f)>Qm)||!i)this._append`L${this._x1=e},${this._y1=r}`;else{let p=n-o,v=s-l,w=c*c+u*u,y=p*p+v*v,N=Math.sqrt(w),k=Math.sqrt(g),S=i*Math.tan((sE-Math.acos((w+g-y)/(2*N*k)))/2),T=S/k,_=S/N;Math.abs(T-1)>Qm&&this._append`L${e+T*f},${r+T*h}`,this._append`A${i},${i},0,0,${+(h*p>f*v)},${this._x1=e+_*c},${this._y1=r+_*u}`}}arc(e,r,n,s,i,o){if(e=+e,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(s),c=n*Math.sin(s),u=e+l,f=r+c,h=1^o,g=o?s-i:i-s;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>Qm||Math.abs(this._y1-f)>Qm)&&this._append`L${u},${f}`,n&&(g<0&&(g=g%iE+iE),g>x4e?this._append`A${n},${n},0,1,${h},${e-l},${r-c}A${n},${n},0,1,${h},${this._x1=u},${this._y1=f}`:g>Qm&&this._append`A${n},${n},0,${+(g>=sE)},${h},${this._x1=e+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(e,r,n,s){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+s}h${-n}Z`}toString(){return this._}}function BP(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new y4e(e)}function $P(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function wte(t){this._context=t}wte.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function pS(t){return new wte(t)}function jte(t){return t[0]}function Nte(t){return t[1]}function Ste(t,e){var r=Ia(!0),n=null,s=pS,i=null,o=BP(l);t=typeof t=="function"?t:t===void 0?jte:Ia(t),e=typeof e=="function"?e:e===void 0?Nte:Ia(e);function l(c){var u,f=(c=$P(c)).length,h,g=!1,p;for(n==null&&(i=s(p=o())),u=0;u<=f;++u)!(u<f&&r(h=c[u],u,c))===g&&((g=!g)?i.lineStart():i.lineEnd()),g&&i.point(+t(h,u,c),+e(h,u,c));if(p)return i=null,p+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:Ia(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:Ia(+c),l):e},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Ia(!!c),l):r},l.curve=function(c){return arguments.length?(s=c,n!=null&&(i=s(n)),l):s},l.context=function(c){return arguments.length?(c==null?n=i=null:i=s(n=c),l):n},l}function Jw(t,e,r){var n=null,s=Ia(!0),i=null,o=pS,l=null,c=BP(u);t=typeof t=="function"?t:t===void 0?jte:Ia(+t),e=typeof e=="function"?e:Ia(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?Nte:Ia(+r);function u(h){var g,p,v,w=(h=$P(h)).length,y,N=!1,k,S=new Array(w),T=new Array(w);for(i==null&&(l=o(k=c())),g=0;g<=w;++g){if(!(g<w&&s(y=h[g],g,h))===N)if(N=!N)p=g,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),v=g-1;v>=p;--v)l.point(S[v],T[v]);l.lineEnd(),l.areaEnd()}N&&(S[g]=+t(y,g,h),T[g]=+e(y,g,h),l.point(n?+n(y,g,h):S[g],r?+r(y,g,h):T[g]))}if(k)return l=null,k+""||null}function f(){return Ste().defined(s).curve(o).context(i)}return u.x=function(h){return arguments.length?(t=typeof h=="function"?h:Ia(+h),n=null,u):t},u.x0=function(h){return arguments.length?(t=typeof h=="function"?h:Ia(+h),u):t},u.x1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:Ia(+h),u):n},u.y=function(h){return arguments.length?(e=typeof h=="function"?h:Ia(+h),r=null,u):e},u.y0=function(h){return arguments.length?(e=typeof h=="function"?h:Ia(+h),u):e},u.y1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:Ia(+h),u):r},u.lineX0=u.lineY0=function(){return f().x(t).y(e)},u.lineY1=function(){return f().x(t).y(r)},u.lineX1=function(){return f().x(n).y(e)},u.defined=function(h){return arguments.length?(s=typeof h=="function"?h:Ia(!!h),u):s},u.curve=function(h){return arguments.length?(o=h,i!=null&&(l=o(i)),u):o},u.context=function(h){return arguments.length?(h==null?i=l=null:l=o(i=h),u):i},u}class kte{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function v4e(t){return new kte(t,!0)}function w4e(t){return new kte(t,!1)}const HP={draw(t,e){const r=pu(e/N5);t.moveTo(r,0),t.arc(0,0,r,0,mS)}},j4e={draw(t,e){const r=pu(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},Cte=pu(1/3),N4e=Cte*2,S4e={draw(t,e){const r=pu(e/N4e),n=r*Cte;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},k4e={draw(t,e){const r=pu(e),n=-r/2;t.rect(n,n,r,r)}},C4e=.8908130915292852,_te=j5(N5/10)/j5(7*N5/10),_4e=j5(mS/10)*_te,A4e=-yte(mS/10)*_te,T4e={draw(t,e){const r=pu(e*C4e),n=_4e*r,s=A4e*r;t.moveTo(0,-r),t.lineTo(n,s);for(let i=1;i<5;++i){const o=mS*i/5,l=yte(o),c=j5(o);t.lineTo(c*r,-l*r),t.lineTo(l*n-c*s,c*n+l*s)}t.closePath()}},q3=pu(3),M4e={draw(t,e){const r=-pu(e/(q3*3));t.moveTo(0,r*2),t.lineTo(-q3*r,-r),t.lineTo(q3*r,-r),t.closePath()}},tc=-.5,rc=pu(3)/2,oE=1/pu(12),E4e=(oE/2+1)*3,O4e={draw(t,e){const r=pu(e/E4e),n=r/2,s=r*oE,i=n,o=r*oE+r,l=-i,c=o;t.moveTo(n,s),t.lineTo(i,o),t.lineTo(l,c),t.lineTo(tc*n-rc*s,rc*n+tc*s),t.lineTo(tc*i-rc*o,rc*i+tc*o),t.lineTo(tc*l-rc*c,rc*l+tc*c),t.lineTo(tc*n+rc*s,tc*s-rc*n),t.lineTo(tc*i+rc*o,tc*o-rc*i),t.lineTo(tc*l+rc*c,tc*c-rc*l),t.closePath()}};function D4e(t,e){let r=null,n=BP(s);t=typeof t=="function"?t:Ia(t||HP),e=typeof e=="function"?e:Ia(e===void 0?64:+e);function s(){let i;if(r||(r=i=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),i)return r=null,i+""||null}return s.type=function(i){return arguments.length?(t=typeof i=="function"?i:Ia(i),s):t},s.size=function(i){return arguments.length?(e=typeof i=="function"?i:Ia(+i),s):e},s.context=function(i){return arguments.length?(r=i??null,s):r},s}function S5(){}function k5(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function Ate(t){this._context=t}Ate.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:k5(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:k5(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function P4e(t){return new Ate(t)}function Tte(t){this._context=t}Tte.prototype={areaStart:S5,areaEnd:S5,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:k5(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function L4e(t){return new Tte(t)}function Mte(t){this._context=t}Mte.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:k5(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function R4e(t){return new Mte(t)}function Ete(t){this._context=t}Ete.prototype={areaStart:S5,areaEnd:S5,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function I4e(t){return new Ete(t)}function tH(t){return t<0?-1:1}function rH(t,e,r){var n=t._x1-t._x0,s=e-t._x1,i=(t._y1-t._y0)/(n||s<0&&-0),o=(r-t._y1)/(s||n<0&&-0),l=(i*s+o*n)/(n+s);return(tH(i)+tH(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function nH(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function U3(t,e,r){var n=t._x0,s=t._y0,i=t._x1,o=t._y1,l=(i-n)/3;t._context.bezierCurveTo(n+l,s+l*e,i-l,o-l*r,i,o)}function C5(t){this._context=t}C5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:U3(this,this._t0,nH(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,U3(this,nH(this,r=rH(this,t,e)),r);break;default:U3(this,this._t0,r=rH(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function Ote(t){this._context=new Dte(t)}(Ote.prototype=Object.create(C5.prototype)).point=function(t,e){C5.prototype.point.call(this,e,t)};function Dte(t){this._context=t}Dte.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,s,i){this._context.bezierCurveTo(e,t,n,r,i,s)}};function F4e(t){return new C5(t)}function B4e(t){return new Ote(t)}function Pte(t){this._context=t}Pte.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=aH(t),s=aH(e),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],s[0][i],n[1][i],s[1][i],t[o],e[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function aH(t){var e,r=t.length-1,n,s=new Array(r),i=new Array(r),o=new Array(r);for(s[0]=0,i[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)s[e]=1,i[e]=4,o[e]=4*t[e]+2*t[e+1];for(s[r-1]=2,i[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=s[e]/i[e-1],i[e]-=n,o[e]-=n*o[e-1];for(s[r-1]=o[r-1]/i[r-1],e=r-2;e>=0;--e)s[e]=(o[e]-s[e+1])/i[e];for(i[r-1]=(t[r]+s[r-1])/2,e=0;e<r-1;++e)i[e]=2*t[e+1]-s[e+1];return[s,i]}function $4e(t){return new Pte(t)}function gS(t,e){this._context=t,this._t=e}gS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function H4e(t){return new gS(t,.5)}function z4e(t){return new gS(t,0)}function q4e(t){return new gS(t,1)}function sx(t,e){if((o=t.length)>1)for(var r=1,n,s,i=t[e[0]],o,l=i.length;r<o;++r)for(s=i,i=t[e[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(s[n][1])?s[n][0]:s[n][1]}function lE(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function U4e(t,e){return t[e]}function W4e(t){const e=[];return e.key=t,e}function V4e(){var t=Ia([]),e=lE,r=sx,n=U4e;function s(i){var o=Array.from(t.apply(this,arguments),W4e),l,c=o.length,u=-1,f;for(const h of i)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(h,o[l].key,u,i)]).data=h;for(l=0,f=$P(e(o));l<c;++l)o[f[l]].index=l;return r(o,f),o}return s.keys=function(i){return arguments.length?(t=typeof i=="function"?i:Ia(Array.from(i)),s):t},s.value=function(i){return arguments.length?(n=typeof i=="function"?i:Ia(+i),s):n},s.order=function(i){return arguments.length?(e=i==null?lE:typeof i=="function"?i:Ia(Array.from(i)),s):e},s.offset=function(i){return arguments.length?(r=i??sx,s):r},s}function G4e(t,e){if((n=t.length)>0){for(var r,n,s=0,i=t[0].length,o;s<i;++s){for(o=r=0;r<n;++r)o+=t[r][s][1]||0;if(o)for(r=0;r<n;++r)t[r][s][1]/=o}sx(t,e)}}function Y4e(t,e){if((s=t.length)>0){for(var r=0,n=t[e[0]],s,i=n.length;r<i;++r){for(var o=0,l=0;o<s;++o)l+=t[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}sx(t,e)}}function K4e(t,e){if(!(!((o=t.length)>0)||!((i=(s=t[e[0]]).length)>0))){for(var r=0,n=1,s,i,o;n<i;++n){for(var l=0,c=0,u=0;l<o;++l){for(var f=t[e[l]],h=f[n][1]||0,g=f[n-1][1]||0,p=(h-g)/2,v=0;v<l;++v){var w=t[e[v]],y=w[n][1]||0,N=w[n-1][1]||0;p+=y-N}c+=h,u+=p*h}s[n-1][1]+=s[n-1][0]=r,c&&(r-=u/c)}s[n-1][1]+=s[n-1][0]=r,sx(t,e)}}function mv(t){"@babel/helpers - typeof";return mv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mv(t)}var J4e=["type","size","sizeType"];function cE(){return cE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cE.apply(this,arguments)}function sH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function iH(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sH(Object(r),!0).forEach(function(n){X4e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function X4e(t,e,r){return e=Q4e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Q4e(t){var e=Z4e(t,"string");return mv(e)=="symbol"?e:e+""}function Z4e(t,e){if(mv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(mv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eTe(t,e){if(t==null)return{};var r=tTe(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function tTe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Lte={symbolCircle:HP,symbolCross:j4e,symbolDiamond:S4e,symbolSquare:k4e,symbolStar:T4e,symbolTriangle:M4e,symbolWye:O4e},rTe=Math.PI/180,nTe=function(e){var r="symbol".concat(hS(e));return Lte[r]||HP},aTe=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var s=18*rTe;return 1.25*e*e*(Math.tan(s)-Math.tan(s*2)*Math.pow(Math.tan(s),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},sTe=function(e,r){Lte["symbol".concat(hS(e))]=r},zP=function(e){var r=e.type,n=r===void 0?"circle":r,s=e.size,i=s===void 0?64:s,o=e.sizeType,l=o===void 0?"area":o,c=eTe(e,J4e),u=iH(iH({},c),{},{type:n,size:i,sizeType:l}),f=function(){var y=nTe(n),N=D4e().type(y).size(aTe(i,l,n));return N()},h=u.className,g=u.cx,p=u.cy,v=Mr(u,!0);return g===+g&&p===+p&&i===+i?pe.createElement("path",cE({},v,{className:_r("recharts-symbols",h),transform:"translate(".concat(g,", ").concat(p,")"),d:f()})):null};zP.registerSymbol=sTe;function ix(t){"@babel/helpers - typeof";return ix=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ix(t)}function uE(){return uE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},uE.apply(this,arguments)}function oH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function iTe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oH(Object(r),!0).forEach(function(n){pv(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function oTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lTe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ite(n.key),n)}}function cTe(t,e,r){return e&&lTe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function uTe(t,e,r){return e=_5(e),dTe(t,Rte()?Reflect.construct(e,r||[],_5(t).constructor):e.apply(t,r))}function dTe(t,e){if(e&&(ix(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fTe(t)}function fTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Rte(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Rte=function(){return!!t})()}function _5(t){return _5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_5(t)}function hTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dE(t,e)}function dE(t,e){return dE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},dE(t,e)}function pv(t,e,r){return e=Ite(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ite(t){var e=mTe(t,"string");return ix(e)=="symbol"?e:e+""}function mTe(t,e){if(ix(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ix(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var nc=32,qP=(function(t){function e(){return oTe(this,e),uTe(this,e,arguments)}return hTe(e,t),cTe(e,[{key:"renderIcon",value:function(n){var s=this.props.inactiveColor,i=nc/2,o=nc/6,l=nc/3,c=n.inactive?s:n.color;if(n.type==="plainline")return pe.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:nc,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return pe.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(nc,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return pe.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(nc/8,"h").concat(nc,"v").concat(nc*3/4,"h").concat(-nc,"z"),className:"recharts-legend-icon"});if(pe.isValidElement(n.legendIcon)){var u=iTe({},n);return delete u.legendIcon,pe.cloneElement(n.legendIcon,u)}return pe.createElement(zP,{fill:c,cx:i,cy:i,size:nc,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,s=this.props,i=s.payload,o=s.iconSize,l=s.layout,c=s.formatter,u=s.inactiveColor,f={x:0,y:0,width:nc,height:nc},h={display:l==="horizontal"?"inline-block":"block",marginRight:10},g={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(p,v){var w=p.formatter||c,y=_r(pv(pv({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",p.inactive));if(p.type==="none")return null;var N=Yr(p.value)?null:p.value;cu(!Yr(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var k=p.inactive?u:p.color;return pe.createElement("li",uE({className:y,style:h,key:"legend-item-".concat(v)},zp(n.props,p,v)),pe.createElement(nE,{width:o,height:o,viewBox:f,style:g},n.renderIcon(p)),pe.createElement("span",{className:"recharts-legend-item-text",style:{color:k}},w?w(N,p,v):N))})}},{key:"render",value:function(){var n=this.props,s=n.payload,i=n.layout,o=n.align;if(!s||!s.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return pe.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])})(b.PureComponent);pv(qP,"displayName","Legend");pv(qP,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var W3,lH;function pTe(){if(lH)return W3;lH=1;var t=uS();function e(){this.__data__=new t,this.size=0}return W3=e,W3}var V3,cH;function gTe(){if(cH)return V3;cH=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return V3=t,V3}var G3,uH;function xTe(){if(uH)return G3;uH=1;function t(e){return this.__data__.get(e)}return G3=t,G3}var Y3,dH;function bTe(){if(dH)return Y3;dH=1;function t(e){return this.__data__.has(e)}return Y3=t,Y3}var K3,fH;function yTe(){if(fH)return K3;fH=1;var t=uS(),e=DP(),r=PP(),n=200;function s(i,o){var l=this.__data__;if(l instanceof t){var c=l.__data__;if(!e||c.length<n-1)return c.push([i,o]),this.size=++l.size,this;l=this.__data__=new r(c)}return l.set(i,o),this.size=l.size,this}return K3=s,K3}var J3,hH;function Fte(){if(hH)return J3;hH=1;var t=uS(),e=pTe(),r=gTe(),n=xTe(),s=bTe(),i=yTe();function o(l){var c=this.__data__=new t(l);this.size=c.size}return o.prototype.clear=e,o.prototype.delete=r,o.prototype.get=n,o.prototype.has=s,o.prototype.set=i,J3=o,J3}var X3,mH;function vTe(){if(mH)return X3;mH=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return X3=e,X3}var Q3,pH;function wTe(){if(pH)return Q3;pH=1;function t(e){return this.__data__.has(e)}return Q3=t,Q3}var Z3,gH;function Bte(){if(gH)return Z3;gH=1;var t=PP(),e=vTe(),r=wTe();function n(s){var i=-1,o=s==null?0:s.length;for(this.__data__=new t;++i<o;)this.add(s[i])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,Z3=n,Z3}var eA,xH;function $te(){if(xH)return eA;xH=1;function t(e,r){for(var n=-1,s=e==null?0:e.length;++n<s;)if(r(e[n],n,e))return!0;return!1}return eA=t,eA}var tA,bH;function Hte(){if(bH)return tA;bH=1;function t(e,r){return e.has(r)}return tA=t,tA}var rA,yH;function zte(){if(yH)return rA;yH=1;var t=Bte(),e=$te(),r=Hte(),n=1,s=2;function i(o,l,c,u,f,h){var g=c&n,p=o.length,v=l.length;if(p!=v&&!(g&&v>p))return!1;var w=h.get(o),y=h.get(l);if(w&&y)return w==l&&y==o;var N=-1,k=!0,S=c&s?new t:void 0;for(h.set(o,l),h.set(l,o);++N<p;){var T=o[N],_=l[N];if(u)var D=g?u(_,T,N,l,o,h):u(T,_,N,o,l,h);if(D!==void 0){if(D)continue;k=!1;break}if(S){if(!e(l,function(E,L){if(!r(S,L)&&(T===E||f(T,E,c,u,h)))return S.push(L)})){k=!1;break}}else if(!(T===_||f(T,_,c,u,h))){k=!1;break}}return h.delete(o),h.delete(l),k}return rA=i,rA}var nA,vH;function jTe(){if(vH)return nA;vH=1;var t=xd(),e=t.Uint8Array;return nA=e,nA}var aA,wH;function NTe(){if(wH)return aA;wH=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(s,i){n[++r]=[i,s]}),n}return aA=t,aA}var sA,jH;function UP(){if(jH)return sA;jH=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(s){n[++r]=s}),n}return sA=t,sA}var iA,NH;function STe(){if(NH)return iA;NH=1;var t=m1(),e=jTe(),r=OP(),n=zte(),s=NTe(),i=UP(),o=1,l=2,c="[object Boolean]",u="[object Date]",f="[object Error]",h="[object Map]",g="[object Number]",p="[object RegExp]",v="[object Set]",w="[object String]",y="[object Symbol]",N="[object ArrayBuffer]",k="[object DataView]",S=t?t.prototype:void 0,T=S?S.valueOf:void 0;function _(D,E,L,R,F,A,M){switch(L){case k:if(D.byteLength!=E.byteLength||D.byteOffset!=E.byteOffset)return!1;D=D.buffer,E=E.buffer;case N:return!(D.byteLength!=E.byteLength||!A(new e(D),new e(E)));case c:case u:case g:return r(+D,+E);case f:return D.name==E.name&&D.message==E.message;case p:case w:return D==E+"";case h:var B=s;case v:var z=R&o;if(B||(B=i),D.size!=E.size&&!z)return!1;var Y=M.get(D);if(Y)return Y==E;R|=l,M.set(D,E);var W=n(B(D),B(E),R,F,A,M);return M.delete(D),W;case y:if(T)return T.call(D)==T.call(E)}return!1}return iA=_,iA}var oA,SH;function qte(){if(SH)return oA;SH=1;function t(e,r){for(var n=-1,s=r.length,i=e.length;++n<s;)e[i+n]=r[n];return e}return oA=t,oA}var lA,kH;function kTe(){if(kH)return lA;kH=1;var t=qte(),e=fl();function r(n,s,i){var o=s(n);return e(n)?o:t(o,i(n))}return lA=r,lA}var cA,CH;function CTe(){if(CH)return cA;CH=1;function t(e,r){for(var n=-1,s=e==null?0:e.length,i=0,o=[];++n<s;){var l=e[n];r(l,n,e)&&(o[i++]=l)}return o}return cA=t,cA}var uA,_H;function _Te(){if(_H)return uA;_H=1;function t(){return[]}return uA=t,uA}var dA,AH;function ATe(){if(AH)return dA;AH=1;var t=CTe(),e=_Te(),r=Object.prototype,n=r.propertyIsEnumerable,s=Object.getOwnPropertySymbols,i=s?function(o){return o==null?[]:(o=Object(o),t(s(o),function(l){return n.call(o,l)}))}:e;return dA=i,dA}var fA,TH;function TTe(){if(TH)return fA;TH=1;function t(e,r){for(var n=-1,s=Array(e);++n<e;)s[n]=r(n);return s}return fA=t,fA}var hA,MH;function MTe(){if(MH)return hA;MH=1;var t=Wf(),e=Vf(),r="[object Arguments]";function n(s){return e(s)&&t(s)==r}return hA=n,hA}var mA,EH;function WP(){if(EH)return mA;EH=1;var t=MTe(),e=Vf(),r=Object.prototype,n=r.hasOwnProperty,s=r.propertyIsEnumerable,i=t((function(){return arguments})())?t:function(o){return e(o)&&n.call(o,"callee")&&!s.call(o,"callee")};return mA=i,mA}var gy={exports:{}},pA,OH;function ETe(){if(OH)return pA;OH=1;function t(){return!1}return pA=t,pA}gy.exports;var DH;function Ute(){return DH||(DH=1,(function(t,e){var r=xd(),n=ETe(),s=e&&!e.nodeType&&e,i=s&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===s,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;t.exports=u})(gy,gy.exports)),gy.exports}var gA,PH;function VP(){if(PH)return gA;PH=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,s){var i=typeof n;return s=s??t,!!s&&(i=="number"||i!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<s}return gA=r,gA}var xA,LH;function GP(){if(LH)return xA;LH=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return xA=e,xA}var bA,RH;function OTe(){if(RH)return bA;RH=1;var t=Wf(),e=GP(),r=Vf(),n="[object Arguments]",s="[object Array]",i="[object Boolean]",o="[object Date]",l="[object Error]",c="[object Function]",u="[object Map]",f="[object Number]",h="[object Object]",g="[object RegExp]",p="[object Set]",v="[object String]",w="[object WeakMap]",y="[object ArrayBuffer]",N="[object DataView]",k="[object Float32Array]",S="[object Float64Array]",T="[object Int8Array]",_="[object Int16Array]",D="[object Int32Array]",E="[object Uint8Array]",L="[object Uint8ClampedArray]",R="[object Uint16Array]",F="[object Uint32Array]",A={};A[k]=A[S]=A[T]=A[_]=A[D]=A[E]=A[L]=A[R]=A[F]=!0,A[n]=A[s]=A[y]=A[i]=A[N]=A[o]=A[l]=A[c]=A[u]=A[f]=A[h]=A[g]=A[p]=A[v]=A[w]=!1;function M(B){return r(B)&&e(B.length)&&!!A[t(B)]}return bA=M,bA}var yA,IH;function Wte(){if(IH)return yA;IH=1;function t(e){return function(r){return e(r)}}return yA=t,yA}var xy={exports:{}};xy.exports;var FH;function DTe(){return FH||(FH=1,(function(t,e){var r=ute(),n=e&&!e.nodeType&&e,s=n&&!0&&t&&!t.nodeType&&t,i=s&&s.exports===n,o=i&&r.process,l=(function(){try{var c=s&&s.require&&s.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}})();t.exports=l})(xy,xy.exports)),xy.exports}var vA,BH;function Vte(){if(BH)return vA;BH=1;var t=OTe(),e=Wte(),r=DTe(),n=r&&r.isTypedArray,s=n?e(n):t;return vA=s,vA}var wA,$H;function PTe(){if($H)return wA;$H=1;var t=TTe(),e=WP(),r=fl(),n=Ute(),s=VP(),i=Vte(),o=Object.prototype,l=o.hasOwnProperty;function c(u,f){var h=r(u),g=!h&&e(u),p=!h&&!g&&n(u),v=!h&&!g&&!p&&i(u),w=h||g||p||v,y=w?t(u.length,String):[],N=y.length;for(var k in u)(f||l.call(u,k))&&!(w&&(k=="length"||p&&(k=="offset"||k=="parent")||v&&(k=="buffer"||k=="byteLength"||k=="byteOffset")||s(k,N)))&&y.push(k);return y}return wA=c,wA}var jA,HH;function LTe(){if(HH)return jA;HH=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,s=typeof n=="function"&&n.prototype||t;return r===s}return jA=e,jA}var NA,zH;function Gte(){if(zH)return NA;zH=1;function t(e,r){return function(n){return e(r(n))}}return NA=t,NA}var SA,qH;function RTe(){if(qH)return SA;qH=1;var t=Gte(),e=t(Object.keys,Object);return SA=e,SA}var kA,UH;function ITe(){if(UH)return kA;UH=1;var t=LTe(),e=RTe(),r=Object.prototype,n=r.hasOwnProperty;function s(i){if(!t(i))return e(i);var o=[];for(var l in Object(i))n.call(i,l)&&l!="constructor"&&o.push(l);return o}return kA=s,kA}var CA,WH;function p1(){if(WH)return CA;WH=1;var t=EP(),e=GP();function r(n){return n!=null&&e(n.length)&&!t(n)}return CA=r,CA}var _A,VH;function xS(){if(VH)return _A;VH=1;var t=PTe(),e=ITe(),r=p1();function n(s){return r(s)?t(s):e(s)}return _A=n,_A}var AA,GH;function FTe(){if(GH)return AA;GH=1;var t=kTe(),e=ATe(),r=xS();function n(s){return t(s,r,e)}return AA=n,AA}var TA,YH;function BTe(){if(YH)return TA;YH=1;var t=FTe(),e=1,r=Object.prototype,n=r.hasOwnProperty;function s(i,o,l,c,u,f){var h=l&e,g=t(i),p=g.length,v=t(o),w=v.length;if(p!=w&&!h)return!1;for(var y=p;y--;){var N=g[y];if(!(h?N in o:n.call(o,N)))return!1}var k=f.get(i),S=f.get(o);if(k&&S)return k==o&&S==i;var T=!0;f.set(i,o),f.set(o,i);for(var _=h;++y<p;){N=g[y];var D=i[N],E=o[N];if(c)var L=h?c(E,D,N,o,i,f):c(D,E,N,i,o,f);if(!(L===void 0?D===E||u(D,E,l,c,f):L)){T=!1;break}_||(_=N=="constructor")}if(T&&!_){var R=i.constructor,F=o.constructor;R!=F&&"constructor"in i&&"constructor"in o&&!(typeof R=="function"&&R instanceof R&&typeof F=="function"&&F instanceof F)&&(T=!1)}return f.delete(i),f.delete(o),T}return TA=s,TA}var MA,KH;function $Te(){if(KH)return MA;KH=1;var t=e0(),e=xd(),r=t(e,"DataView");return MA=r,MA}var EA,JH;function HTe(){if(JH)return EA;JH=1;var t=e0(),e=xd(),r=t(e,"Promise");return EA=r,EA}var OA,XH;function Yte(){if(XH)return OA;XH=1;var t=e0(),e=xd(),r=t(e,"Set");return OA=r,OA}var DA,QH;function zTe(){if(QH)return DA;QH=1;var t=e0(),e=xd(),r=t(e,"WeakMap");return DA=r,DA}var PA,ZH;function qTe(){if(ZH)return PA;ZH=1;var t=$Te(),e=DP(),r=HTe(),n=Yte(),s=zTe(),i=Wf(),o=dte(),l="[object Map]",c="[object Object]",u="[object Promise]",f="[object Set]",h="[object WeakMap]",g="[object DataView]",p=o(t),v=o(e),w=o(r),y=o(n),N=o(s),k=i;return(t&&k(new t(new ArrayBuffer(1)))!=g||e&&k(new e)!=l||r&&k(r.resolve())!=u||n&&k(new n)!=f||s&&k(new s)!=h)&&(k=function(S){var T=i(S),_=T==c?S.constructor:void 0,D=_?o(_):"";if(D)switch(D){case p:return g;case v:return l;case w:return u;case y:return f;case N:return h}return T}),PA=k,PA}var LA,ez;function UTe(){if(ez)return LA;ez=1;var t=Fte(),e=zte(),r=STe(),n=BTe(),s=qTe(),i=fl(),o=Ute(),l=Vte(),c=1,u="[object Arguments]",f="[object Array]",h="[object Object]",g=Object.prototype,p=g.hasOwnProperty;function v(w,y,N,k,S,T){var _=i(w),D=i(y),E=_?f:s(w),L=D?f:s(y);E=E==u?h:E,L=L==u?h:L;var R=E==h,F=L==h,A=E==L;if(A&&o(w)){if(!o(y))return!1;_=!0,R=!1}if(A&&!R)return T||(T=new t),_||l(w)?e(w,y,N,k,S,T):r(w,y,E,N,k,S,T);if(!(N&c)){var M=R&&p.call(w,"__wrapped__"),B=F&&p.call(y,"__wrapped__");if(M||B){var z=M?w.value():w,Y=B?y.value():y;return T||(T=new t),S(z,Y,N,k,T)}}return A?(T||(T=new t),n(w,y,N,k,S,T)):!1}return LA=v,LA}var RA,tz;function YP(){if(tz)return RA;tz=1;var t=UTe(),e=Vf();function r(n,s,i,o,l){return n===s?!0:n==null||s==null||!e(n)&&!e(s)?n!==n&&s!==s:t(n,s,i,o,r,l)}return RA=r,RA}var IA,rz;function WTe(){if(rz)return IA;rz=1;var t=Fte(),e=YP(),r=1,n=2;function s(i,o,l,c){var u=l.length,f=u,h=!c;if(i==null)return!f;for(i=Object(i);u--;){var g=l[u];if(h&&g[2]?g[1]!==i[g[0]]:!(g[0]in i))return!1}for(;++u<f;){g=l[u];var p=g[0],v=i[p],w=g[1];if(h&&g[2]){if(v===void 0&&!(p in i))return!1}else{var y=new t;if(c)var N=c(v,w,p,i,o,y);if(!(N===void 0?e(w,v,r|n,c,y):N))return!1}}return!0}return IA=s,IA}var FA,nz;function Kte(){if(nz)return FA;nz=1;var t=vm();function e(r){return r===r&&!t(r)}return FA=e,FA}var BA,az;function VTe(){if(az)return BA;az=1;var t=Kte(),e=xS();function r(n){for(var s=e(n),i=s.length;i--;){var o=s[i],l=n[o];s[i]=[o,l,t(l)]}return s}return BA=r,BA}var $A,sz;function Jte(){if(sz)return $A;sz=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return $A=t,$A}var HA,iz;function GTe(){if(iz)return HA;iz=1;var t=WTe(),e=VTe(),r=Jte();function n(s){var i=e(s);return i.length==1&&i[0][2]?r(i[0][0],i[0][1]):function(o){return o===s||t(o,s,i)}}return HA=n,HA}var zA,oz;function YTe(){if(oz)return zA;oz=1;function t(e,r){return e!=null&&r in Object(e)}return zA=t,zA}var qA,lz;function KTe(){if(lz)return qA;lz=1;var t=mte(),e=WP(),r=fl(),n=VP(),s=GP(),i=fS();function o(l,c,u){c=t(c,l);for(var f=-1,h=c.length,g=!1;++f<h;){var p=i(c[f]);if(!(g=l!=null&&u(l,p)))break;l=l[p]}return g||++f!=h?g:(h=l==null?0:l.length,!!h&&s(h)&&n(p,h)&&(r(l)||e(l)))}return qA=o,qA}var UA,cz;function JTe(){if(cz)return UA;cz=1;var t=YTe(),e=KTe();function r(n,s){return n!=null&&e(n,s,t)}return UA=r,UA}var WA,uz;function XTe(){if(uz)return WA;uz=1;var t=YP(),e=pte(),r=JTe(),n=MP(),s=Kte(),i=Jte(),o=fS(),l=1,c=2;function u(f,h){return n(f)&&s(h)?i(o(f),h):function(g){var p=e(g,f);return p===void 0&&p===h?r(g,f):t(h,p,l|c)}}return WA=u,WA}var VA,dz;function qx(){if(dz)return VA;dz=1;function t(e){return e}return VA=t,VA}var GA,fz;function QTe(){if(fz)return GA;fz=1;function t(e){return function(r){return r==null?void 0:r[e]}}return GA=t,GA}var YA,hz;function ZTe(){if(hz)return YA;hz=1;var t=RP();function e(r){return function(n){return t(n,r)}}return YA=e,YA}var KA,mz;function e6e(){if(mz)return KA;mz=1;var t=QTe(),e=ZTe(),r=MP(),n=fS();function s(i){return r(i)?t(n(i)):e(i)}return KA=s,KA}var JA,pz;function bd(){if(pz)return JA;pz=1;var t=GTe(),e=XTe(),r=qx(),n=fl(),s=e6e();function i(o){return typeof o=="function"?o:o==null?r:typeof o=="object"?n(o)?e(o[0],o[1]):t(o):s(o)}return JA=i,JA}var XA,gz;function Xte(){if(gz)return XA;gz=1;function t(e,r,n,s){for(var i=e.length,o=n+(s?1:-1);s?o--:++o<i;)if(r(e[o],o,e))return o;return-1}return XA=t,XA}var QA,xz;function t6e(){if(xz)return QA;xz=1;function t(e){return e!==e}return QA=t,QA}var ZA,bz;function r6e(){if(bz)return ZA;bz=1;function t(e,r,n){for(var s=n-1,i=e.length;++s<i;)if(e[s]===r)return s;return-1}return ZA=t,ZA}var e4,yz;function n6e(){if(yz)return e4;yz=1;var t=Xte(),e=t6e(),r=r6e();function n(s,i,o){return i===i?r(s,i,o):t(s,e,o)}return e4=n,e4}var t4,vz;function a6e(){if(vz)return t4;vz=1;var t=n6e();function e(r,n){var s=r==null?0:r.length;return!!s&&t(r,n,0)>-1}return t4=e,t4}var r4,wz;function s6e(){if(wz)return r4;wz=1;function t(e,r,n){for(var s=-1,i=e==null?0:e.length;++s<i;)if(n(r,e[s]))return!0;return!1}return r4=t,r4}var n4,jz;function i6e(){if(jz)return n4;jz=1;function t(){}return n4=t,n4}var a4,Nz;function o6e(){if(Nz)return a4;Nz=1;var t=Yte(),e=i6e(),r=UP(),n=1/0,s=t&&1/r(new t([,-0]))[1]==n?function(i){return new t(i)}:e;return a4=s,a4}var s4,Sz;function l6e(){if(Sz)return s4;Sz=1;var t=Bte(),e=a6e(),r=s6e(),n=Hte(),s=o6e(),i=UP(),o=200;function l(c,u,f){var h=-1,g=e,p=c.length,v=!0,w=[],y=w;if(f)v=!1,g=r;else if(p>=o){var N=u?null:s(c);if(N)return i(N);v=!1,g=n,y=new t}else y=u?[]:w;e:for(;++h<p;){var k=c[h],S=u?u(k):k;if(k=f||k!==0?k:0,v&&S===S){for(var T=y.length;T--;)if(y[T]===S)continue e;u&&y.push(S),w.push(k)}else g(y,S,f)||(y!==w&&y.push(S),w.push(k))}return w}return s4=l,s4}var i4,kz;function c6e(){if(kz)return i4;kz=1;var t=bd(),e=l6e();function r(n,s){return n&&n.length?e(n,t(s,2)):[]}return i4=r,i4}var u6e=c6e();const Cz=Vn(u6e);function Qte(t,e,r){return e===!0?Cz(t,r):Yr(e)?Cz(t,e):t}function ox(t){"@babel/helpers - typeof";return ox=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ox(t)}var d6e=["ref"];function _z(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function rf(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_z(Object(r),!0).forEach(function(n){bS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_z(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function f6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Az(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ere(n.key),n)}}function h6e(t,e,r){return e&&Az(t.prototype,e),r&&Az(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function m6e(t,e,r){return e=A5(e),p6e(t,Zte()?Reflect.construct(e,r||[],A5(t).constructor):e.apply(t,r))}function p6e(t,e){if(e&&(ox(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return g6e(t)}function g6e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Zte(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Zte=function(){return!!t})()}function A5(t){return A5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},A5(t)}function x6e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fE(t,e)}function fE(t,e){return fE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},fE(t,e)}function bS(t,e,r){return e=ere(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ere(t){var e=b6e(t,"string");return ox(e)=="symbol"?e:e+""}function b6e(t,e){if(ox(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ox(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function y6e(t,e){if(t==null)return{};var r=v6e(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function v6e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function w6e(t){return t.value}function j6e(t,e){if(pe.isValidElement(t))return pe.cloneElement(t,e);if(typeof t=="function")return pe.createElement(t,e);e.ref;var r=y6e(e,d6e);return pe.createElement(qP,r)}var Tz=1,Tf=(function(t){function e(){var r;f6e(this,e);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=m6e(this,e,[].concat(s)),bS(r,"lastBoundingBox",{width:-1,height:-1}),r}return x6e(e,t),h6e(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,s=this.getBBox();s?(Math.abs(s.width-this.lastBoundingBox.width)>Tz||Math.abs(s.height-this.lastBoundingBox.height)>Tz)&&(this.lastBoundingBox.width=s.width,this.lastBoundingBox.height=s.height,n&&n(s)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?rf({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var s=this.props,i=s.layout,o=s.align,l=s.verticalAlign,c=s.margin,u=s.chartWidth,f=s.chartHeight,h,g;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&i==="vertical"){var p=this.getBBoxSnapshot();h={left:((u||0)-p.width)/2}}else h=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var v=this.getBBoxSnapshot();g={top:((f||0)-v.height)/2}}else g=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return rf(rf({},h),g)}},{key:"render",value:function(){var n=this,s=this.props,i=s.content,o=s.width,l=s.height,c=s.wrapperStyle,u=s.payloadUniqBy,f=s.payload,h=rf(rf({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return pe.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(p){n.wrapperNode=p}},j6e(i,rf(rf({},this.props),{},{payload:Qte(f,u,w6e)})))}}],[{key:"getWithHeight",value:function(n,s){var i=rf(rf({},this.defaultProps),n.props),o=i.layout;return o==="vertical"&&Qt(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||s}:null}}])})(b.PureComponent);bS(Tf,"displayName","Legend");bS(Tf,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var o4,Mz;function N6e(){if(Mz)return o4;Mz=1;var t=m1(),e=WP(),r=fl(),n=t?t.isConcatSpreadable:void 0;function s(i){return r(i)||e(i)||!!(n&&i&&i[n])}return o4=s,o4}var l4,Ez;function tre(){if(Ez)return l4;Ez=1;var t=qte(),e=N6e();function r(n,s,i,o,l){var c=-1,u=n.length;for(i||(i=e),l||(l=[]);++c<u;){var f=n[c];s>0&&i(f)?s>1?r(f,s-1,i,o,l):t(l,f):o||(l[l.length]=f)}return l}return l4=r,l4}var c4,Oz;function S6e(){if(Oz)return c4;Oz=1;function t(e){return function(r,n,s){for(var i=-1,o=Object(r),l=s(r),c=l.length;c--;){var u=l[e?c:++i];if(n(o[u],u,o)===!1)break}return r}}return c4=t,c4}var u4,Dz;function k6e(){if(Dz)return u4;Dz=1;var t=S6e(),e=t();return u4=e,u4}var d4,Pz;function rre(){if(Pz)return d4;Pz=1;var t=k6e(),e=xS();function r(n,s){return n&&t(n,s,e)}return d4=r,d4}var f4,Lz;function C6e(){if(Lz)return f4;Lz=1;var t=p1();function e(r,n){return function(s,i){if(s==null)return s;if(!t(s))return r(s,i);for(var o=s.length,l=n?o:-1,c=Object(s);(n?l--:++l<o)&&i(c[l],l,c)!==!1;);return s}}return f4=e,f4}var h4,Rz;function KP(){if(Rz)return h4;Rz=1;var t=rre(),e=C6e(),r=e(t);return h4=r,h4}var m4,Iz;function nre(){if(Iz)return m4;Iz=1;var t=KP(),e=p1();function r(n,s){var i=-1,o=e(n)?Array(n.length):[];return t(n,function(l,c,u){o[++i]=s(l,c,u)}),o}return m4=r,m4}var p4,Fz;function _6e(){if(Fz)return p4;Fz=1;function t(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}return p4=t,p4}var g4,Bz;function A6e(){if(Bz)return g4;Bz=1;var t=$x();function e(r,n){if(r!==n){var s=r!==void 0,i=r===null,o=r===r,l=t(r),c=n!==void 0,u=n===null,f=n===n,h=t(n);if(!u&&!h&&!l&&r>n||l&&c&&f&&!u&&!h||i&&c&&f||!s&&f||!o)return 1;if(!i&&!l&&!h&&r<n||h&&s&&o&&!i&&!l||u&&s&&o||!c&&o||!f)return-1}return 0}return g4=e,g4}var x4,$z;function T6e(){if($z)return x4;$z=1;var t=A6e();function e(r,n,s){for(var i=-1,o=r.criteria,l=n.criteria,c=o.length,u=s.length;++i<c;){var f=t(o[i],l[i]);if(f){if(i>=u)return f;var h=s[i];return f*(h=="desc"?-1:1)}}return r.index-n.index}return x4=e,x4}var b4,Hz;function M6e(){if(Hz)return b4;Hz=1;var t=LP(),e=RP(),r=bd(),n=nre(),s=_6e(),i=Wte(),o=T6e(),l=qx(),c=fl();function u(f,h,g){h.length?h=t(h,function(w){return c(w)?function(y){return e(y,w.length===1?w[0]:w)}:w}):h=[l];var p=-1;h=t(h,i(r));var v=n(f,function(w,y,N){var k=t(h,function(S){return S(w)});return{criteria:k,index:++p,value:w}});return s(v,function(w,y){return o(w,y,g)})}return b4=u,b4}var y4,zz;function E6e(){if(zz)return y4;zz=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return y4=t,y4}var v4,qz;function O6e(){if(qz)return v4;qz=1;var t=E6e(),e=Math.max;function r(n,s,i){return s=e(s===void 0?n.length-1:s,0),function(){for(var o=arguments,l=-1,c=e(o.length-s,0),u=Array(c);++l<c;)u[l]=o[s+l];l=-1;for(var f=Array(s+1);++l<s;)f[l]=o[l];return f[s]=i(u),t(n,this,f)}}return v4=r,v4}var w4,Uz;function D6e(){if(Uz)return w4;Uz=1;function t(e){return function(){return e}}return w4=t,w4}var j4,Wz;function are(){if(Wz)return j4;Wz=1;var t=e0(),e=(function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}})();return j4=e,j4}var N4,Vz;function P6e(){if(Vz)return N4;Vz=1;var t=D6e(),e=are(),r=qx(),n=e?function(s,i){return e(s,"toString",{configurable:!0,enumerable:!1,value:t(i),writable:!0})}:r;return N4=n,N4}var S4,Gz;function L6e(){if(Gz)return S4;Gz=1;var t=800,e=16,r=Date.now;function n(s){var i=0,o=0;return function(){var l=r(),c=e-(l-o);if(o=l,c>0){if(++i>=t)return arguments[0]}else i=0;return s.apply(void 0,arguments)}}return S4=n,S4}var k4,Yz;function R6e(){if(Yz)return k4;Yz=1;var t=P6e(),e=L6e(),r=e(t);return k4=r,k4}var C4,Kz;function I6e(){if(Kz)return C4;Kz=1;var t=qx(),e=O6e(),r=R6e();function n(s,i){return r(e(s,i,t),s+"")}return C4=n,C4}var _4,Jz;function yS(){if(Jz)return _4;Jz=1;var t=OP(),e=p1(),r=VP(),n=vm();function s(i,o,l){if(!n(l))return!1;var c=typeof o;return(c=="number"?e(l)&&r(o,l.length):c=="string"&&o in l)?t(l[o],i):!1}return _4=s,_4}var A4,Xz;function F6e(){if(Xz)return A4;Xz=1;var t=tre(),e=M6e(),r=I6e(),n=yS(),s=r(function(i,o){if(i==null)return[];var l=o.length;return l>1&&n(i,o[0],o[1])?o=[]:l>2&&n(o[0],o[1],o[2])&&(o=[o[0]]),e(i,t(o,1),[])});return A4=s,A4}var B6e=F6e();const JP=Vn(B6e);function gv(t){"@babel/helpers - typeof";return gv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gv(t)}function hE(){return hE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hE.apply(this,arguments)}function $6e(t,e){return U6e(t)||q6e(t,e)||z6e(t,e)||H6e()}function H6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function z6e(t,e){if(t){if(typeof t=="string")return Qz(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Qz(t,e)}}function Qz(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function q6e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){u=!0,s=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function U6e(t){if(Array.isArray(t))return t}function Zz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function T4(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Zz(Object(r),!0).forEach(function(n){W6e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Zz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function W6e(t,e,r){return e=V6e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function V6e(t){var e=G6e(t,"string");return gv(e)=="symbol"?e:e+""}function G6e(t,e){if(gv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Y6e(t){return Array.isArray(t)&&vi(t[0])&&vi(t[1])?t.join(" ~ "):t}var K6e=function(e){var r=e.separator,n=r===void 0?" : ":r,s=e.contentStyle,i=s===void 0?{}:s,o=e.itemStyle,l=o===void 0?{}:o,c=e.labelStyle,u=c===void 0?{}:c,f=e.payload,h=e.formatter,g=e.itemSorter,p=e.wrapperClassName,v=e.labelClassName,w=e.label,y=e.labelFormatter,N=e.accessibilityLayer,k=N===void 0?!1:N,S=function(){if(f&&f.length){var M={padding:0,margin:0},B=(g?JP(f,g):f).map(function(z,Y){if(z.type==="none")return null;var W=T4({display:"block",paddingTop:4,paddingBottom:4,color:z.color||"#000"},l),H=z.formatter||h||Y6e,q=z.value,X=z.name,oe=q,K=X;if(H&&oe!=null&&K!=null){var V=H(q,X,z,Y,f);if(Array.isArray(V)){var J=$6e(V,2);oe=J[0],K=J[1]}else oe=V}return pe.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(Y),style:W},vi(K)?pe.createElement("span",{className:"recharts-tooltip-item-name"},K):null,vi(K)?pe.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,pe.createElement("span",{className:"recharts-tooltip-item-value"},oe),pe.createElement("span",{className:"recharts-tooltip-item-unit"},z.unit||""))});return pe.createElement("ul",{className:"recharts-tooltip-item-list",style:M},B)}return null},T=T4({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),_=T4({margin:0},u),D=!nn(w),E=D?w:"",L=_r("recharts-default-tooltip",p),R=_r("recharts-tooltip-label",v);D&&y&&f!==void 0&&f!==null&&(E=y(w,f));var F=k?{role:"status","aria-live":"assertive"}:{};return pe.createElement("div",hE({className:L,style:T},F),pe.createElement("p",{className:R,style:_},pe.isValidElement(E)?E:"".concat(E)),S())};function xv(t){"@babel/helpers - typeof";return xv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xv(t)}function Xw(t,e,r){return e=J6e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function J6e(t){var e=X6e(t,"string");return xv(e)=="symbol"?e:e+""}function X6e(t,e){if(xv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Yb="recharts-tooltip-wrapper",Q6e={visibility:"hidden"};function Z6e(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return _r(Yb,Xw(Xw(Xw(Xw({},"".concat(Yb,"-right"),Qt(r)&&e&&Qt(e.x)&&r>=e.x),"".concat(Yb,"-left"),Qt(r)&&e&&Qt(e.x)&&r<e.x),"".concat(Yb,"-bottom"),Qt(n)&&e&&Qt(e.y)&&n>=e.y),"".concat(Yb,"-top"),Qt(n)&&e&&Qt(e.y)&&n<e.y))}function eq(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,s=t.offsetTopLeft,i=t.position,o=t.reverseDirection,l=t.tooltipDimension,c=t.viewBox,u=t.viewBoxDimension;if(i&&Qt(i[n]))return i[n];var f=r[n]-l-s,h=r[n]+s;if(e[n])return o[n]?f:h;if(o[n]){var g=f,p=c[n];return g<p?Math.max(h,c[n]):Math.max(f,c[n])}var v=h+l,w=c[n]+u;return v>w?Math.max(f,c[n]):Math.max(h,c[n])}function eMe(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function tMe(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,s=t.position,i=t.reverseDirection,o=t.tooltipBox,l=t.useTranslate3d,c=t.viewBox,u,f,h;return o.height>0&&o.width>0&&r?(f=eq({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),h=eq({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=eMe({translateX:f,translateY:h,useTranslate3d:l})):u=Q6e,{cssProperties:u,cssClasses:Z6e({translateX:f,translateY:h,coordinate:r})}}function lx(t){"@babel/helpers - typeof";return lx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lx(t)}function tq(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function rq(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tq(Object(r),!0).forEach(function(n){pE(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tq(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rMe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nMe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ire(n.key),n)}}function aMe(t,e,r){return e&&nMe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function sMe(t,e,r){return e=T5(e),iMe(t,sre()?Reflect.construct(e,r||[],T5(t).constructor):e.apply(t,r))}function iMe(t,e){if(e&&(lx(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oMe(t)}function oMe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sre(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sre=function(){return!!t})()}function T5(t){return T5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},T5(t)}function lMe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mE(t,e)}function mE(t,e){return mE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},mE(t,e)}function pE(t,e,r){return e=ire(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ire(t){var e=cMe(t,"string");return lx(e)=="symbol"?e:e+""}function cMe(t,e){if(lx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(lx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var nq=1,uMe=(function(t){function e(){var r;rMe(this,e);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=sMe(this,e,[].concat(s)),pE(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),pE(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,f;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(f=r.props.coordinate)===null||f===void 0?void 0:f.y)!==null&&u!==void 0?u:0}})}}),r}return lMe(e,t),aMe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>nq||Math.abs(n.height-this.state.lastBoundingBox.height)>nq)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,s;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,u=s.children,f=s.coordinate,h=s.hasPayload,g=s.isAnimationActive,p=s.offset,v=s.position,w=s.reverseDirection,y=s.useTranslate3d,N=s.viewBox,k=s.wrapperStyle,S=tMe({allowEscapeViewBox:o,coordinate:f,offsetTopLeft:p,position:v,reverseDirection:w,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:N}),T=S.cssClasses,_=S.cssProperties,D=rq(rq({transition:g&&i?"transform ".concat(l,"ms ").concat(c):void 0},_),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&h?"visible":"hidden",position:"absolute",top:0,left:0},k);return pe.createElement("div",{tabIndex:-1,className:T,style:D,ref:function(L){n.wrapperNode=L}},u)}}])})(b.PureComponent),dMe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},wm={isSsr:dMe()};function cx(t){"@babel/helpers - typeof";return cx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cx(t)}function aq(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function sq(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aq(Object(r),!0).forEach(function(n){XP(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aq(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fMe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hMe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,lre(n.key),n)}}function mMe(t,e,r){return e&&hMe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function pMe(t,e,r){return e=M5(e),gMe(t,ore()?Reflect.construct(e,r||[],M5(t).constructor):e.apply(t,r))}function gMe(t,e){if(e&&(cx(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xMe(t)}function xMe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ore(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ore=function(){return!!t})()}function M5(t){return M5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},M5(t)}function bMe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gE(t,e)}function gE(t,e){return gE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},gE(t,e)}function XP(t,e,r){return e=lre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lre(t){var e=yMe(t,"string");return cx(e)=="symbol"?e:e+""}function yMe(t,e){if(cx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(cx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function vMe(t){return t.dataKey}function wMe(t,e){return pe.isValidElement(t)?pe.cloneElement(t,e):typeof t=="function"?pe.createElement(t,e):pe.createElement(K6e,e)}var Ts=(function(t){function e(){return fMe(this,e),pMe(this,e,arguments)}return bMe(e,t),mMe(e,[{key:"render",value:function(){var n=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,u=s.content,f=s.coordinate,h=s.filterNull,g=s.isAnimationActive,p=s.offset,v=s.payload,w=s.payloadUniqBy,y=s.position,N=s.reverseDirection,k=s.useTranslate3d,S=s.viewBox,T=s.wrapperStyle,_=v??[];h&&_.length&&(_=Qte(v.filter(function(E){return E.value!=null&&(E.hide!==!0||n.props.includeHidden)}),w,vMe));var D=_.length>0;return pe.createElement(uMe,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:g,active:i,coordinate:f,hasPayload:D,offset:p,position:y,reverseDirection:N,useTranslate3d:k,viewBox:S,wrapperStyle:T},wMe(u,sq(sq({},this.props),{},{payload:_})))}}])})(b.PureComponent);XP(Ts,"displayName","Tooltip");XP(Ts,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!wm.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var M4,iq;function jMe(){if(iq)return M4;iq=1;var t=xd(),e=function(){return t.Date.now()};return M4=e,M4}var E4,oq;function NMe(){if(oq)return E4;oq=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return E4=e,E4}var O4,lq;function SMe(){if(lq)return O4;lq=1;var t=NMe(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return O4=r,O4}var D4,cq;function cre(){if(cq)return D4;cq=1;var t=SMe(),e=vm(),r=$x(),n=NaN,s=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt;function c(u){if(typeof u=="number")return u;if(r(u))return n;if(e(u)){var f=typeof u.valueOf=="function"?u.valueOf():u;u=e(f)?f+"":f}if(typeof u!="string")return u===0?u:+u;u=t(u);var h=i.test(u);return h||o.test(u)?l(u.slice(2),h?2:8):s.test(u)?n:+u}return D4=c,D4}var P4,uq;function kMe(){if(uq)return P4;uq=1;var t=vm(),e=jMe(),r=cre(),n="Expected a function",s=Math.max,i=Math.min;function o(l,c,u){var f,h,g,p,v,w,y=0,N=!1,k=!1,S=!0;if(typeof l!="function")throw new TypeError(n);c=r(c)||0,t(u)&&(N=!!u.leading,k="maxWait"in u,g=k?s(r(u.maxWait)||0,c):g,S="trailing"in u?!!u.trailing:S);function T(B){var z=f,Y=h;return f=h=void 0,y=B,p=l.apply(Y,z),p}function _(B){return y=B,v=setTimeout(L,c),N?T(B):p}function D(B){var z=B-w,Y=B-y,W=c-z;return k?i(W,g-Y):W}function E(B){var z=B-w,Y=B-y;return w===void 0||z>=c||z<0||k&&Y>=g}function L(){var B=e();if(E(B))return R(B);v=setTimeout(L,D(B))}function R(B){return v=void 0,S&&f?T(B):(f=h=void 0,p)}function F(){v!==void 0&&clearTimeout(v),y=0,f=w=h=v=void 0}function A(){return v===void 0?p:R(e())}function M(){var B=e(),z=E(B);if(f=arguments,h=this,w=B,z){if(v===void 0)return _(w);if(k)return clearTimeout(v),v=setTimeout(L,c),T(w)}return v===void 0&&(v=setTimeout(L,c)),p}return M.cancel=F,M.flush=A,M}return P4=o,P4}var L4,dq;function CMe(){if(dq)return L4;dq=1;var t=kMe(),e=vm(),r="Expected a function";function n(s,i,o){var l=!0,c=!0;if(typeof s!="function")throw new TypeError(r);return e(o)&&(l="leading"in o?!!o.leading:l,c="trailing"in o?!!o.trailing:c),t(s,i,{leading:l,maxWait:i,trailing:c})}return L4=n,L4}var _Me=CMe();const ure=Vn(_Me);function bv(t){"@babel/helpers - typeof";return bv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bv(t)}function fq(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Qw(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fq(Object(r),!0).forEach(function(n){AMe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fq(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function AMe(t,e,r){return e=TMe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function TMe(t){var e=MMe(t,"string");return bv(e)=="symbol"?e:e+""}function MMe(t,e){if(bv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function EMe(t,e){return LMe(t)||PMe(t,e)||DMe(t,e)||OMe()}function OMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DMe(t,e){if(t){if(typeof t=="string")return hq(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hq(t,e)}}function hq(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function PMe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){u=!0,s=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function LMe(t){if(Array.isArray(t))return t}var Cl=b.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,s=n===void 0?{width:-1,height:-1}:n,i=t.width,o=i===void 0?"100%":i,l=t.height,c=l===void 0?"100%":l,u=t.minWidth,f=u===void 0?0:u,h=t.minHeight,g=t.maxHeight,p=t.children,v=t.debounce,w=v===void 0?0:v,y=t.id,N=t.className,k=t.onResize,S=t.style,T=S===void 0?{}:S,_=b.useRef(null),D=b.useRef();D.current=k,b.useImperativeHandle(e,function(){return Object.defineProperty(_.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),_.current},configurable:!0})});var E=b.useState({containerWidth:s.width,containerHeight:s.height}),L=EMe(E,2),R=L[0],F=L[1],A=b.useCallback(function(B,z){F(function(Y){var W=Math.round(B),H=Math.round(z);return Y.containerWidth===W&&Y.containerHeight===H?Y:{containerWidth:W,containerHeight:H}})},[]);b.useEffect(function(){var B=function(X){var oe,K=X[0].contentRect,V=K.width,J=K.height;A(V,J),(oe=D.current)===null||oe===void 0||oe.call(D,V,J)};w>0&&(B=ure(B,w,{trailing:!0,leading:!1}));var z=new ResizeObserver(B),Y=_.current.getBoundingClientRect(),W=Y.width,H=Y.height;return A(W,H),z.observe(_.current),function(){z.disconnect()}},[A,w]);var M=b.useMemo(function(){var B=R.containerWidth,z=R.containerHeight;if(B<0||z<0)return null;cu(fp(o)||fp(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),cu(!r||r>0,"The aspect(%s) must be greater than zero.",r);var Y=fp(o)?B:o,W=fp(c)?z:c;r&&r>0&&(Y?W=Y/r:W&&(Y=W*r),g&&W>g&&(W=g)),cu(Y>0||W>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,Y,W,o,c,f,h,r);var H=!Array.isArray(p)&&Af(p.type).endsWith("Chart");return pe.Children.map(p,function(q){return pe.isValidElement(q)?b.cloneElement(q,Qw({width:Y,height:W},H?{style:Qw({height:"100%",width:"100%",maxHeight:W,maxWidth:Y},q.props.style)}:{})):q})},[r,p,c,g,h,f,R,o]);return pe.createElement("div",{id:y?"".concat(y):void 0,className:_r("recharts-responsive-container",N),style:Qw(Qw({},T),{},{width:o,height:c,minWidth:f,minHeight:h,maxHeight:g}),ref:_},M)}),qp=function(e){return null};qp.displayName="Cell";function yv(t){"@babel/helpers - typeof";return yv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yv(t)}function mq(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function xE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mq(Object(r),!0).forEach(function(n){RMe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mq(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function RMe(t,e,r){return e=IMe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function IMe(t){var e=FMe(t,"string");return yv(e)=="symbol"?e:e+""}function FMe(t,e){if(yv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(yv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var X0={widthCache:{},cacheCount:0},BMe=2e3,$Me={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},pq="recharts_measurement_span";function HMe(t){var e=xE({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var Py=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||wm.isSsr)return{width:0,height:0};var n=HMe(r),s=JSON.stringify({text:e,copyStyle:n});if(X0.widthCache[s])return X0.widthCache[s];try{var i=document.getElementById(pq);i||(i=document.createElement("span"),i.setAttribute("id",pq),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=xE(xE({},$Me),n);Object.assign(i.style,o),i.textContent="".concat(e);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return X0.widthCache[s]=c,++X0.cacheCount>BMe&&(X0.cacheCount=0,X0.widthCache={}),c}catch{return{width:0,height:0}}},zMe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function vv(t){"@babel/helpers - typeof";return vv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vv(t)}function E5(t,e){return VMe(t)||WMe(t,e)||UMe(t,e)||qMe()}function qMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UMe(t,e){if(t){if(typeof t=="string")return gq(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gq(t,e)}}function gq(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function WMe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){u=!0,s=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function VMe(t){if(Array.isArray(t))return t}function GMe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xq(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,KMe(n.key),n)}}function YMe(t,e,r){return e&&xq(t.prototype,e),r&&xq(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function KMe(t){var e=JMe(t,"string");return vv(e)=="symbol"?e:e+""}function JMe(t,e){if(vv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var bq=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,yq=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,XMe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,QMe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,dre={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},ZMe=Object.keys(dre),bg="NaN";function eEe(t,e){return t*dre[e]}var Zw=(function(){function t(e,r){GMe(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!XMe.test(r)&&(this.num=NaN,this.unit=""),ZMe.includes(r)&&(this.num=eEe(e,r),this.unit="px")}return YMe(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,s=(n=QMe.exec(r))!==null&&n!==void 0?n:[],i=E5(s,3),o=i[1],l=i[2];return new t(parseFloat(o),l??"")}}])})();function fre(t){if(t.includes(bg))return bg;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=bq.exec(e))!==null&&r!==void 0?r:[],s=E5(n,4),i=s[1],o=s[2],l=s[3],c=Zw.parse(i??""),u=Zw.parse(l??""),f=o==="*"?c.multiply(u):c.divide(u);if(f.isNaN())return bg;e=e.replace(bq,f.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,g=(h=yq.exec(e))!==null&&h!==void 0?h:[],p=E5(g,4),v=p[1],w=p[2],y=p[3],N=Zw.parse(v??""),k=Zw.parse(y??""),S=w==="+"?N.add(k):N.subtract(k);if(S.isNaN())return bg;e=e.replace(yq,S.toString())}return e}var vq=/\(([^()]*)\)/;function tEe(t){for(var e=t;e.includes("(");){var r=vq.exec(e),n=E5(r,2),s=n[1];e=e.replace(vq,fre(s))}return e}function rEe(t){var e=t.replace(/\s+/g,"");return e=tEe(e),e=fre(e),e}function nEe(t){try{return rEe(t)}catch{return bg}}function R4(t){var e=nEe(t.slice(5,-1));return e===bg?"":e}var aEe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],sEe=["dx","dy","angle","className","breakAll"];function bE(){return bE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bE.apply(this,arguments)}function wq(t,e){if(t==null)return{};var r=iEe(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function iEe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function jq(t,e){return uEe(t)||cEe(t,e)||lEe(t,e)||oEe()}function oEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lEe(t,e){if(t){if(typeof t=="string")return Nq(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Nq(t,e)}}function Nq(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function cEe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){u=!0,s=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function uEe(t){if(Array.isArray(t))return t}var hre=/[ \f\n\r\t\v\u2028\u2029]+/,mre=function(e){var r=e.children,n=e.breakAll,s=e.style;try{var i=[];nn(r)||(n?i=r.toString().split(""):i=r.toString().split(hre));var o=i.map(function(c){return{word:c,width:Py(c,s).width}}),l=n?0:Py(" ",s).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},dEe=function(e,r,n,s,i){var o=e.maxLines,l=e.children,c=e.style,u=e.breakAll,f=Qt(o),h=l,g=function(){var Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Y.reduce(function(W,H){var q=H.word,X=H.width,oe=W[W.length-1];if(oe&&(s==null||i||oe.width+X+n<Number(s)))oe.words.push(q),oe.width+=X+n;else{var K={words:[q],width:X};W.push(K)}return W},[])},p=g(r),v=function(Y){return Y.reduce(function(W,H){return W.width>H.width?W:H})};if(!f)return p;for(var w="…",y=function(Y){var W=h.slice(0,Y),H=mre({breakAll:u,style:c,children:W+w}).wordsWithComputedWidth,q=g(H),X=q.length>o||v(q).width>Number(s);return[X,q]},N=0,k=h.length-1,S=0,T;N<=k&&S<=h.length-1;){var _=Math.floor((N+k)/2),D=_-1,E=y(D),L=jq(E,2),R=L[0],F=L[1],A=y(_),M=jq(A,1),B=M[0];if(!R&&!B&&(N=_+1),R&&B&&(k=_-1),!R&&B){T=F;break}S++}return T||p},Sq=function(e){var r=nn(e)?[]:e.toString().split(hre);return[{words:r}]},fEe=function(e){var r=e.width,n=e.scaleToFit,s=e.children,i=e.style,o=e.breakAll,l=e.maxLines;if((r||n)&&!wm.isSsr){var c,u,f=mre({breakAll:o,children:s,style:i});if(f){var h=f.wordsWithComputedWidth,g=f.spaceWidth;c=h,u=g}else return Sq(s);return dEe({breakAll:o,children:s,maxLines:l,style:i},c,u,r,n)}return Sq(s)},kq="#808080",Up=function(e){var r=e.x,n=r===void 0?0:r,s=e.y,i=s===void 0?0:s,o=e.lineHeight,l=o===void 0?"1em":o,c=e.capHeight,u=c===void 0?"0.71em":c,f=e.scaleToFit,h=f===void 0?!1:f,g=e.textAnchor,p=g===void 0?"start":g,v=e.verticalAnchor,w=v===void 0?"end":v,y=e.fill,N=y===void 0?kq:y,k=wq(e,aEe),S=b.useMemo(function(){return fEe({breakAll:k.breakAll,children:k.children,maxLines:k.maxLines,scaleToFit:h,style:k.style,width:k.width})},[k.breakAll,k.children,k.maxLines,h,k.style,k.width]),T=k.dx,_=k.dy,D=k.angle,E=k.className,L=k.breakAll,R=wq(k,sEe);if(!vi(n)||!vi(i))return null;var F=n+(Qt(T)?T:0),A=i+(Qt(_)?_:0),M;switch(w){case"start":M=R4("calc(".concat(u,")"));break;case"middle":M=R4("calc(".concat((S.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:M=R4("calc(".concat(S.length-1," * -").concat(l,")"));break}var B=[];if(h){var z=S[0].width,Y=k.width;B.push("scale(".concat((Qt(Y)?Y/z:1)/z,")"))}return D&&B.push("rotate(".concat(D,", ").concat(F,", ").concat(A,")")),B.length&&(R.transform=B.join(" ")),pe.createElement("text",bE({},Mr(R,!0),{x:F,y:A,className:_r("recharts-text",E),textAnchor:p,fill:N.includes("url")?kq:N}),S.map(function(W,H){var q=W.words.join(L?"":" ");return pe.createElement("tspan",{x:F,dy:H===0?M:l,key:"".concat(q,"-").concat(H)},q)}))};function im(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function hEe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function QP(t){let e,r,n;t.length!==2?(e=im,r=(l,c)=>im(t(l),c),n=(l,c)=>t(l)-c):(e=t===im||t===hEe?t:mEe,r=t,n=t);function s(l,c,u=0,f=l.length){if(u<f){if(e(c,c)!==0)return f;do{const h=u+f>>>1;r(l[h],c)<0?u=h+1:f=h}while(u<f)}return u}function i(l,c,u=0,f=l.length){if(u<f){if(e(c,c)!==0)return f;do{const h=u+f>>>1;r(l[h],c)<=0?u=h+1:f=h}while(u<f)}return u}function o(l,c,u=0,f=l.length){const h=s(l,c,u,f-1);return h>u&&n(l[h-1],c)>-n(l[h],c)?h-1:h}return{left:s,center:o,right:i}}function mEe(){return 0}function pre(t){return t===null?NaN:+t}function*pEe(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const gEe=QP(im),g1=gEe.right;QP(pre).center;class Cq extends Map{constructor(e,r=yEe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,s]of e)this.set(n,s)}get(e){return super.get(_q(this,e))}has(e){return super.has(_q(this,e))}set(e,r){return super.set(xEe(this,e),r)}delete(e){return super.delete(bEe(this,e))}}function _q({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function xEe({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function bEe({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function yEe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function vEe(t=im){if(t===im)return gre;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function gre(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const wEe=Math.sqrt(50),jEe=Math.sqrt(10),NEe=Math.sqrt(2);function O5(t,e,r){const n=(e-t)/Math.max(0,r),s=Math.floor(Math.log10(n)),i=n/Math.pow(10,s),o=i>=wEe?10:i>=jEe?5:i>=NEe?2:1;let l,c,u;return s<0?(u=Math.pow(10,-s)/o,l=Math.round(t*u),c=Math.round(e*u),l/u<t&&++l,c/u>e&&--c,u=-u):(u=Math.pow(10,s)*o,l=Math.round(t/u),c=Math.round(e/u),l*u<t&&++l,c*u>e&&--c),c<l&&.5<=r&&r<2?O5(t,e,r*2):[l,c,u]}function yE(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[s,i,o]=n?O5(e,t,r):O5(t,e,r);if(!(i>=s))return[];const l=i-s+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(i-u)/-o;else for(let u=0;u<l;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(s+u)/-o;else for(let u=0;u<l;++u)c[u]=(s+u)*o;return c}function vE(t,e,r){return e=+e,t=+t,r=+r,O5(t,e,r)[2]}function wE(t,e,r){e=+e,t=+t,r=+r;const n=e<t,s=n?vE(e,t,r):vE(t,e,r);return(n?-1:1)*(s<0?1/-s:s)}function Aq(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function Tq(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function xre(t,e,r=0,n=1/0,s){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(s=s===void 0?gre:vEe(s);n>r;){if(n-r>600){const c=n-r+1,u=e-r+1,f=Math.log(c),h=.5*Math.exp(2*f/3),g=.5*Math.sqrt(f*h*(c-h)/c)*(u-c/2<0?-1:1),p=Math.max(r,Math.floor(e-u*h/c+g)),v=Math.min(n,Math.floor(e+(c-u)*h/c+g));xre(t,e,p,v,s)}const i=t[e];let o=r,l=n;for(Kb(t,r,e),s(t[n],i)>0&&Kb(t,r,n);o<l;){for(Kb(t,o,l),++o,--l;s(t[o],i)<0;)++o;for(;s(t[l],i)>0;)--l}s(t[r],i)===0?Kb(t,r,l):(++l,Kb(t,l,n)),l<=e&&(r=l+1),e<=l&&(n=l-1)}return t}function Kb(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function SEe(t,e,r){if(t=Float64Array.from(pEe(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return Tq(t);if(e>=1)return Aq(t);var n,s=(n-1)*e,i=Math.floor(s),o=Aq(xre(t,i).subarray(0,i+1)),l=Tq(t.subarray(i+1));return o+(l-o)*(s-i)}}function kEe(t,e,r=pre){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,s=(n-1)*e,i=Math.floor(s),o=+r(t[i],i,t),l=+r(t[i+1],i+1,t);return o+(l-o)*(s-i)}}function CEe(t,e,r){t=+t,e=+e,r=(s=arguments.length)<2?(e=t,t=0,1):s<3?1:+r;for(var n=-1,s=Math.max(0,Math.ceil((e-t)/r))|0,i=new Array(s);++n<s;)i[n]=t+n*r;return i}function kc(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Gf(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const jE=Symbol("implicit");function ZP(){var t=new Cq,e=[],r=[],n=jE;function s(i){let o=t.get(i);if(o===void 0){if(n!==jE)return n;t.set(i,o=e.push(i)-1)}return r[o%r.length]}return s.domain=function(i){if(!arguments.length)return e.slice();e=[],t=new Cq;for(const o of i)t.has(o)||t.set(o,e.push(o)-1);return s},s.range=function(i){return arguments.length?(r=Array.from(i),s):r.slice()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return ZP(e,r).unknown(n)},kc.apply(s,arguments),s}function wv(){var t=ZP().unknown(void 0),e=t.domain,r=t.range,n=0,s=1,i,o,l=!1,c=0,u=0,f=.5;delete t.unknown;function h(){var g=e().length,p=s<n,v=p?s:n,w=p?n:s;i=(w-v)/Math.max(1,g-c+u*2),l&&(i=Math.floor(i)),v+=(w-v-i*(g-c))*f,o=i*(1-c),l&&(v=Math.round(v),o=Math.round(o));var y=CEe(g).map(function(N){return v+i*N});return r(p?y.reverse():y)}return t.domain=function(g){return arguments.length?(e(g),h()):e()},t.range=function(g){return arguments.length?([n,s]=g,n=+n,s=+s,h()):[n,s]},t.rangeRound=function(g){return[n,s]=g,n=+n,s=+s,l=!0,h()},t.bandwidth=function(){return o},t.step=function(){return i},t.round=function(g){return arguments.length?(l=!!g,h()):l},t.padding=function(g){return arguments.length?(c=Math.min(1,u=+g),h()):c},t.paddingInner=function(g){return arguments.length?(c=Math.min(1,g),h()):c},t.paddingOuter=function(g){return arguments.length?(u=+g,h()):u},t.align=function(g){return arguments.length?(f=Math.max(0,Math.min(1,g)),h()):f},t.copy=function(){return wv(e(),[n,s]).round(l).paddingInner(c).paddingOuter(u).align(f)},kc.apply(h(),arguments)}function bre(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return bre(e())},t}function Ly(){return bre(wv.apply(null,arguments).paddingInner(1))}function eL(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function yre(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function x1(){}var jv=.7,D5=1/jv,Pg="\\s*([+-]?\\d+)\\s*",Nv="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ad="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",_Ee=/^#([0-9a-f]{3,8})$/,AEe=new RegExp(`^rgb\\(${Pg},${Pg},${Pg}\\)$`),TEe=new RegExp(`^rgb\\(${ad},${ad},${ad}\\)$`),MEe=new RegExp(`^rgba\\(${Pg},${Pg},${Pg},${Nv}\\)$`),EEe=new RegExp(`^rgba\\(${ad},${ad},${ad},${Nv}\\)$`),OEe=new RegExp(`^hsl\\(${Nv},${ad},${ad}\\)$`),DEe=new RegExp(`^hsla\\(${Nv},${ad},${ad},${Nv}\\)$`),Mq={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};eL(x1,Sv,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Eq,formatHex:Eq,formatHex8:PEe,formatHsl:LEe,formatRgb:Oq,toString:Oq});function Eq(){return this.rgb().formatHex()}function PEe(){return this.rgb().formatHex8()}function LEe(){return vre(this).formatHsl()}function Oq(){return this.rgb().formatRgb()}function Sv(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=_Ee.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?Dq(e):r===3?new ll(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?e2(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?e2(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=AEe.exec(t))?new ll(e[1],e[2],e[3],1):(e=TEe.exec(t))?new ll(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=MEe.exec(t))?e2(e[1],e[2],e[3],e[4]):(e=EEe.exec(t))?e2(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=OEe.exec(t))?Rq(e[1],e[2]/100,e[3]/100,1):(e=DEe.exec(t))?Rq(e[1],e[2]/100,e[3]/100,e[4]):Mq.hasOwnProperty(t)?Dq(Mq[t]):t==="transparent"?new ll(NaN,NaN,NaN,0):null}function Dq(t){return new ll(t>>16&255,t>>8&255,t&255,1)}function e2(t,e,r,n){return n<=0&&(t=e=r=NaN),new ll(t,e,r,n)}function REe(t){return t instanceof x1||(t=Sv(t)),t?(t=t.rgb(),new ll(t.r,t.g,t.b,t.opacity)):new ll}function NE(t,e,r,n){return arguments.length===1?REe(t):new ll(t,e,r,n??1)}function ll(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}eL(ll,NE,yre(x1,{brighter(t){return t=t==null?D5:Math.pow(D5,t),new ll(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?jv:Math.pow(jv,t),new ll(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ll(Tp(this.r),Tp(this.g),Tp(this.b),P5(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Pq,formatHex:Pq,formatHex8:IEe,formatRgb:Lq,toString:Lq}));function Pq(){return`#${hp(this.r)}${hp(this.g)}${hp(this.b)}`}function IEe(){return`#${hp(this.r)}${hp(this.g)}${hp(this.b)}${hp((isNaN(this.opacity)?1:this.opacity)*255)}`}function Lq(){const t=P5(this.opacity);return`${t===1?"rgb(":"rgba("}${Tp(this.r)}, ${Tp(this.g)}, ${Tp(this.b)}${t===1?")":`, ${t})`}`}function P5(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Tp(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function hp(t){return t=Tp(t),(t<16?"0":"")+t.toString(16)}function Rq(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new nu(t,e,r,n)}function vre(t){if(t instanceof nu)return new nu(t.h,t.s,t.l,t.opacity);if(t instanceof x1||(t=Sv(t)),!t)return new nu;if(t instanceof nu)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,s=Math.min(e,r,n),i=Math.max(e,r,n),o=NaN,l=i-s,c=(i+s)/2;return l?(e===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-e)/l+2:o=(e-r)/l+4,l/=c<.5?i+s:2-i-s,o*=60):l=c>0&&c<1?0:o,new nu(o,l,c,t.opacity)}function FEe(t,e,r,n){return arguments.length===1?vre(t):new nu(t,e,r,n??1)}function nu(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}eL(nu,FEe,yre(x1,{brighter(t){return t=t==null?D5:Math.pow(D5,t),new nu(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?jv:Math.pow(jv,t),new nu(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,s=2*r-n;return new ll(I4(t>=240?t-240:t+120,s,n),I4(t,s,n),I4(t<120?t+240:t-120,s,n),this.opacity)},clamp(){return new nu(Iq(this.h),t2(this.s),t2(this.l),P5(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=P5(this.opacity);return`${t===1?"hsl(":"hsla("}${Iq(this.h)}, ${t2(this.s)*100}%, ${t2(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Iq(t){return t=(t||0)%360,t<0?t+360:t}function t2(t){return Math.max(0,Math.min(1,t||0))}function I4(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const tL=t=>()=>t;function BEe(t,e){return function(r){return t+r*e}}function $Ee(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function HEe(t){return(t=+t)==1?wre:function(e,r){return r-e?$Ee(e,r,t):tL(isNaN(e)?r:e)}}function wre(t,e){var r=e-t;return r?BEe(t,r):tL(isNaN(t)?e:t)}const Fq=(function t(e){var r=HEe(e);function n(s,i){var o=r((s=NE(s)).r,(i=NE(i)).r),l=r(s.g,i.g),c=r(s.b,i.b),u=wre(s.opacity,i.opacity);return function(f){return s.r=o(f),s.g=l(f),s.b=c(f),s.opacity=u(f),s+""}}return n.gamma=t,n})(1);function zEe(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),s;return function(i){for(s=0;s<r;++s)n[s]=t[s]*(1-i)+e[s]*i;return n}}function qEe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function UEe(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,s=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)s[o]=Ux(t[o],e[o]);for(;o<r;++o)i[o]=e[o];return function(l){for(o=0;o<n;++o)i[o]=s[o](l);return i}}function WEe(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function L5(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function VEe(t,e){var r={},n={},s;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(s in e)s in t?r[s]=Ux(t[s],e[s]):n[s]=e[s];return function(i){for(s in r)n[s]=r[s](i);return n}}var SE=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,F4=new RegExp(SE.source,"g");function GEe(t){return function(){return t}}function YEe(t){return function(e){return t(e)+""}}function KEe(t,e){var r=SE.lastIndex=F4.lastIndex=0,n,s,i,o=-1,l=[],c=[];for(t=t+"",e=e+"";(n=SE.exec(t))&&(s=F4.exec(e));)(i=s.index)>r&&(i=e.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(s=s[0])?l[o]?l[o]+=s:l[++o]=s:(l[++o]=null,c.push({i:o,x:L5(n,s)})),r=F4.lastIndex;return r<e.length&&(i=e.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?YEe(c[0].x):GEe(e):(e=c.length,function(u){for(var f=0,h;f<e;++f)l[(h=c[f]).i]=h.x(u);return l.join("")})}function Ux(t,e){var r=typeof e,n;return e==null||r==="boolean"?tL(e):(r==="number"?L5:r==="string"?(n=Sv(e))?(e=n,Fq):KEe:e instanceof Sv?Fq:e instanceof Date?WEe:qEe(e)?zEe:Array.isArray(e)?UEe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?VEe:L5)(t,e)}function rL(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function JEe(t,e){e===void 0&&(e=t,t=Ux);for(var r=0,n=e.length-1,s=e[0],i=new Array(n<0?0:n);r<n;)i[r]=t(s,s=e[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function XEe(t){return function(){return t}}function R5(t){return+t}var Bq=[0,1];function Io(t){return t}function kE(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:XEe(isNaN(e)?NaN:.5)}function QEe(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function ZEe(t,e,r){var n=t[0],s=t[1],i=e[0],o=e[1];return s<n?(n=kE(s,n),i=r(o,i)):(n=kE(n,s),i=r(i,o)),function(l){return i(n(l))}}function eOe(t,e,r){var n=Math.min(t.length,e.length)-1,s=new Array(n),i=new Array(n),o=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<n;)s[o]=kE(t[o],t[o+1]),i[o]=r(e[o],e[o+1]);return function(l){var c=g1(t,l,1,n)-1;return i[c](s[c](l))}}function b1(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function vS(){var t=Bq,e=Bq,r=Ux,n,s,i,o=Io,l,c,u;function f(){var g=Math.min(t.length,e.length);return o!==Io&&(o=QEe(t[0],t[g-1])),l=g>2?eOe:ZEe,c=u=null,h}function h(g){return g==null||isNaN(g=+g)?i:(c||(c=l(t.map(n),e,r)))(n(o(g)))}return h.invert=function(g){return o(s((u||(u=l(e,t.map(n),L5)))(g)))},h.domain=function(g){return arguments.length?(t=Array.from(g,R5),f()):t.slice()},h.range=function(g){return arguments.length?(e=Array.from(g),f()):e.slice()},h.rangeRound=function(g){return e=Array.from(g),r=rL,f()},h.clamp=function(g){return arguments.length?(o=g?!0:Io,f()):o!==Io},h.interpolate=function(g){return arguments.length?(r=g,f()):r},h.unknown=function(g){return arguments.length?(i=g,h):i},function(g,p){return n=g,s=p,f()}}function nL(){return vS()(Io,Io)}function tOe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function I5(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function ux(t){return t=I5(Math.abs(t)),t?t[1]:NaN}function rOe(t,e){return function(r,n){for(var s=r.length,i=[],o=0,l=t[0],c=0;s>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(s-=l,s+l)),!((c+=l+1)>n));)l=t[o=(o+1)%t.length];return i.reverse().join(e)}}function nOe(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var aOe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function kv(t){if(!(e=aOe.exec(t)))throw new Error("invalid format: "+t);var e;return new aL({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}kv.prototype=aL.prototype;function aL(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}aL.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function sOe(t){e:for(var e=t.length,r=1,n=-1,s;r<e;++r)switch(t[r]){case".":n=s=r;break;case"0":n===0&&(n=r),s=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(s+1):t}var jre;function iOe(t,e){var r=I5(t,e);if(!r)return t+"";var n=r[0],s=r[1],i=s-(jre=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+I5(t,Math.max(0,e+i-1))[0]}function $q(t,e){var r=I5(t,e);if(!r)return t+"";var n=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+n:n.length>s+1?n.slice(0,s+1)+"."+n.slice(s+1):n+new Array(s-n.length+2).join("0")}const Hq={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:tOe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>$q(t*100,e),r:$q,s:iOe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function zq(t){return t}var qq=Array.prototype.map,Uq=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function oOe(t){var e=t.grouping===void 0||t.thousands===void 0?zq:rOe(qq.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",s=t.decimal===void 0?".":t.decimal+"",i=t.numerals===void 0?zq:nOe(qq.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"−":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function u(h){h=kv(h);var g=h.fill,p=h.align,v=h.sign,w=h.symbol,y=h.zero,N=h.width,k=h.comma,S=h.precision,T=h.trim,_=h.type;_==="n"?(k=!0,_="g"):Hq[_]||(S===void 0&&(S=12),T=!0,_="g"),(y||g==="0"&&p==="=")&&(y=!0,g="0",p="=");var D=w==="$"?r:w==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",E=w==="$"?n:/[%p]/.test(_)?o:"",L=Hq[_],R=/[defgprs%]/.test(_);S=S===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function F(A){var M=D,B=E,z,Y,W;if(_==="c")B=L(A)+B,A="";else{A=+A;var H=A<0||1/A<0;if(A=isNaN(A)?c:L(Math.abs(A),S),T&&(A=sOe(A)),H&&+A==0&&v!=="+"&&(H=!1),M=(H?v==="("?v:l:v==="-"||v==="("?"":v)+M,B=(_==="s"?Uq[8+jre/3]:"")+B+(H&&v==="("?")":""),R){for(z=-1,Y=A.length;++z<Y;)if(W=A.charCodeAt(z),48>W||W>57){B=(W===46?s+A.slice(z+1):A.slice(z))+B,A=A.slice(0,z);break}}}k&&!y&&(A=e(A,1/0));var q=M.length+A.length+B.length,X=q<N?new Array(N-q+1).join(g):"";switch(k&&y&&(A=e(X+A,X.length?N-B.length:1/0),X=""),p){case"<":A=M+A+B+X;break;case"=":A=M+X+A+B;break;case"^":A=X.slice(0,q=X.length>>1)+M+A+B+X.slice(q);break;default:A=X+M+A+B;break}return i(A)}return F.toString=function(){return h+""},F}function f(h,g){var p=u((h=kv(h),h.type="f",h)),v=Math.max(-8,Math.min(8,Math.floor(ux(g)/3)))*3,w=Math.pow(10,-v),y=Uq[8+v/3];return function(N){return p(w*N)+y}}return{format:u,formatPrefix:f}}var r2,sL,Nre;lOe({thousands:",",grouping:[3],currency:["$",""]});function lOe(t){return r2=oOe(t),sL=r2.format,Nre=r2.formatPrefix,r2}function cOe(t){return Math.max(0,-ux(Math.abs(t)))}function uOe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ux(e)/3)))*3-ux(Math.abs(t)))}function dOe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,ux(e)-ux(t))+1}function Sre(t,e,r,n){var s=wE(t,e,r),i;switch(n=kv(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(i=uOe(s,o))&&(n.precision=i),Nre(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=dOe(s,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=cOe(s))&&(n.precision=i-(n.type==="%")*2);break}}return sL(n)}function jm(t){var e=t.domain;return t.ticks=function(r){var n=e();return yE(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var s=e();return Sre(s[0],s[s.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),s=0,i=n.length-1,o=n[s],l=n[i],c,u,f=10;for(l<o&&(u=o,o=l,l=u,u=s,s=i,i=u);f-- >0;){if(u=vE(o,l,r),u===c)return n[s]=o,n[i]=l,e(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return t},t}function F5(){var t=nL();return t.copy=function(){return b1(t,F5())},kc.apply(t,arguments),jm(t)}function kre(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,R5),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return kre(t).unknown(e)},t=arguments.length?Array.from(t,R5):[0,1],jm(r)}function Cre(t,e){t=t.slice();var r=0,n=t.length-1,s=t[r],i=t[n],o;return i<s&&(o=r,r=n,n=o,o=s,s=i,i=o),t[r]=e.floor(s),t[n]=e.ceil(i),t}function Wq(t){return Math.log(t)}function Vq(t){return Math.exp(t)}function fOe(t){return-Math.log(-t)}function hOe(t){return-Math.exp(-t)}function mOe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function pOe(t){return t===10?mOe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function gOe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function Gq(t){return(e,r)=>-t(-e,r)}function iL(t){const e=t(Wq,Vq),r=e.domain;let n=10,s,i;function o(){return s=gOe(n),i=pOe(n),r()[0]<0?(s=Gq(s),i=Gq(i),t(fOe,hOe)):t(Wq,Vq),e}return e.base=function(l){return arguments.length?(n=+l,o()):n},e.domain=function(l){return arguments.length?(r(l),o()):r()},e.ticks=l=>{const c=r();let u=c[0],f=c[c.length-1];const h=f<u;h&&([u,f]=[f,u]);let g=s(u),p=s(f),v,w;const y=l==null?10:+l;let N=[];if(!(n%1)&&p-g<y){if(g=Math.floor(g),p=Math.ceil(p),u>0){for(;g<=p;++g)for(v=1;v<n;++v)if(w=g<0?v/i(-g):v*i(g),!(w<u)){if(w>f)break;N.push(w)}}else for(;g<=p;++g)for(v=n-1;v>=1;--v)if(w=g>0?v/i(-g):v*i(g),!(w<u)){if(w>f)break;N.push(w)}N.length*2<y&&(N=yE(u,f,y))}else N=yE(g,p,Math.min(p-g,y)).map(i);return h?N.reverse():N},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=kv(c)).precision==null&&(c.trim=!0),c=sL(c)),l===1/0)return c;const u=Math.max(1,n*l/e.ticks().length);return f=>{let h=f/i(Math.round(s(f)));return h*n<n-.5&&(h*=n),h<=u?c(f):""}},e.nice=()=>r(Cre(r(),{floor:l=>i(Math.floor(s(l))),ceil:l=>i(Math.ceil(s(l)))})),e}function _re(){const t=iL(vS()).domain([1,10]);return t.copy=()=>b1(t,_re()).base(t.base()),kc.apply(t,arguments),t}function Yq(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Kq(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function oL(t){var e=1,r=t(Yq(e),Kq(e));return r.constant=function(n){return arguments.length?t(Yq(e=+n),Kq(e)):e},jm(r)}function Are(){var t=oL(vS());return t.copy=function(){return b1(t,Are()).constant(t.constant())},kc.apply(t,arguments)}function Jq(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function xOe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function bOe(t){return t<0?-t*t:t*t}function lL(t){var e=t(Io,Io),r=1;function n(){return r===1?t(Io,Io):r===.5?t(xOe,bOe):t(Jq(r),Jq(1/r))}return e.exponent=function(s){return arguments.length?(r=+s,n()):r},jm(e)}function cL(){var t=lL(vS());return t.copy=function(){return b1(t,cL()).exponent(t.exponent())},kc.apply(t,arguments),t}function yOe(){return cL.apply(null,arguments).exponent(.5)}function Xq(t){return Math.sign(t)*t*t}function vOe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function Tre(){var t=nL(),e=[0,1],r=!1,n;function s(i){var o=vOe(t(i));return isNaN(o)?n:r?Math.round(o):o}return s.invert=function(i){return t.invert(Xq(i))},s.domain=function(i){return arguments.length?(t.domain(i),s):t.domain()},s.range=function(i){return arguments.length?(t.range((e=Array.from(i,R5)).map(Xq)),s):e.slice()},s.rangeRound=function(i){return s.range(i).round(!0)},s.round=function(i){return arguments.length?(r=!!i,s):r},s.clamp=function(i){return arguments.length?(t.clamp(i),s):t.clamp()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return Tre(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},kc.apply(s,arguments),jm(s)}function Mre(){var t=[],e=[],r=[],n;function s(){var o=0,l=Math.max(1,e.length);for(r=new Array(l-1);++o<l;)r[o-1]=kEe(t,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:e[g1(r,o)]}return i.invertExtent=function(o){var l=e.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:t[0],l<r.length?r[l]:t[t.length-1]]},i.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let l of o)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(im),s()},i.range=function(o){return arguments.length?(e=Array.from(o),s()):e.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return Mre().domain(t).range(e).unknown(n)},kc.apply(i,arguments)}function Ere(){var t=0,e=1,r=1,n=[.5],s=[0,1],i;function o(c){return c!=null&&c<=c?s[g1(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*e-(c-r)*t)/(r+1);return o}return o.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},o.range=function(c){return arguments.length?(r=(s=Array.from(c)).length-1,l()):s.slice()},o.invertExtent=function(c){var u=s.indexOf(c);return u<0?[NaN,NaN]:u<1?[t,n[0]]:u>=r?[n[r-1],e]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return Ere().domain([t,e]).range(s).unknown(i)},kc.apply(jm(o),arguments)}function Ore(){var t=[.5],e=[0,1],r,n=1;function s(i){return i!=null&&i<=i?e[g1(t,i,0,n)]:r}return s.domain=function(i){return arguments.length?(t=Array.from(i),n=Math.min(t.length,e.length-1),s):t.slice()},s.range=function(i){return arguments.length?(e=Array.from(i),n=Math.min(t.length,e.length-1),s):e.slice()},s.invertExtent=function(i){var o=e.indexOf(i);return[t[o-1],t[o]]},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return Ore().domain(t).range(e).unknown(r)},kc.apply(s,arguments)}const B4=new Date,$4=new Date;function wi(t,e,r,n){function s(i){return t(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(t(i=new Date(+i)),i),s.ceil=i=>(t(i=new Date(i-1)),e(i,1),t(i),i),s.round=i=>{const o=s(i),l=s.ceil(i);return i-o<l-i?o:l},s.offset=(i,o)=>(e(i=new Date(+i),o==null?1:Math.floor(o)),i),s.range=(i,o,l)=>{const c=[];if(i=s.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let u;do c.push(u=new Date(+i)),e(i,l),t(i);while(u<i&&i<o);return c},s.filter=i=>wi(o=>{if(o>=o)for(;t(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;e(o,-1),!i(o););else for(;--l>=0;)for(;e(o,1),!i(o););}),r&&(s.count=(i,o)=>(B4.setTime(+i),$4.setTime(+o),t(B4),t($4),Math.floor(r(B4,$4))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(n?o=>n(o)%i===0:o=>s.count(0,o)%i===0):s)),s}const B5=wi(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);B5.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?wi(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):B5);B5.range;const pf=1e3,mc=pf*60,gf=mc*60,Rf=gf*24,uL=Rf*7,Qq=Rf*30,H4=Rf*365,mp=wi(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*pf)},(t,e)=>(e-t)/pf,t=>t.getUTCSeconds());mp.range;const dL=wi(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*pf)},(t,e)=>{t.setTime(+t+e*mc)},(t,e)=>(e-t)/mc,t=>t.getMinutes());dL.range;const fL=wi(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*mc)},(t,e)=>(e-t)/mc,t=>t.getUTCMinutes());fL.range;const hL=wi(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*pf-t.getMinutes()*mc)},(t,e)=>{t.setTime(+t+e*gf)},(t,e)=>(e-t)/gf,t=>t.getHours());hL.range;const mL=wi(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*gf)},(t,e)=>(e-t)/gf,t=>t.getUTCHours());mL.range;const y1=wi(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*mc)/Rf,t=>t.getDate()-1);y1.range;const wS=wi(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Rf,t=>t.getUTCDate()-1);wS.range;const Dre=wi(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Rf,t=>Math.floor(t/Rf));Dre.range;function r0(t){return wi(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*mc)/uL)}const jS=r0(0),$5=r0(1),wOe=r0(2),jOe=r0(3),dx=r0(4),NOe=r0(5),SOe=r0(6);jS.range;$5.range;wOe.range;jOe.range;dx.range;NOe.range;SOe.range;function n0(t){return wi(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/uL)}const NS=n0(0),H5=n0(1),kOe=n0(2),COe=n0(3),fx=n0(4),_Oe=n0(5),AOe=n0(6);NS.range;H5.range;kOe.range;COe.range;fx.range;_Oe.range;AOe.range;const pL=wi(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());pL.range;const gL=wi(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());gL.range;const If=wi(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());If.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:wi(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});If.range;const Ff=wi(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ff.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:wi(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Ff.range;function Pre(t,e,r,n,s,i){const o=[[mp,1,pf],[mp,5,5*pf],[mp,15,15*pf],[mp,30,30*pf],[i,1,mc],[i,5,5*mc],[i,15,15*mc],[i,30,30*mc],[s,1,gf],[s,3,3*gf],[s,6,6*gf],[s,12,12*gf],[n,1,Rf],[n,2,2*Rf],[r,1,uL],[e,1,Qq],[e,3,3*Qq],[t,1,H4]];function l(u,f,h){const g=f<u;g&&([u,f]=[f,u]);const p=h&&typeof h.range=="function"?h:c(u,f,h),v=p?p.range(u,+f+1):[];return g?v.reverse():v}function c(u,f,h){const g=Math.abs(f-u)/h,p=QP(([,,y])=>y).right(o,g);if(p===o.length)return t.every(wE(u/H4,f/H4,h));if(p===0)return B5.every(Math.max(wE(u,f,h),1));const[v,w]=o[g/o[p-1][2]<o[p][2]/g?p-1:p];return v.every(w)}return[l,c]}const[TOe,MOe]=Pre(Ff,gL,NS,Dre,mL,fL),[EOe,OOe]=Pre(If,pL,jS,y1,hL,dL);function z4(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function q4(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Jb(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function DOe(t){var e=t.dateTime,r=t.date,n=t.time,s=t.periods,i=t.days,o=t.shortDays,l=t.months,c=t.shortMonths,u=Xb(s),f=Qb(s),h=Xb(i),g=Qb(i),p=Xb(o),v=Qb(o),w=Xb(l),y=Qb(l),N=Xb(c),k=Qb(c),S={a:H,A:q,b:X,B:oe,c:null,d:aU,e:aU,f:rDe,g:fDe,G:mDe,H:ZOe,I:eDe,j:tDe,L:Lre,m:nDe,M:aDe,p:K,q:V,Q:oU,s:lU,S:sDe,u:iDe,U:oDe,V:lDe,w:cDe,W:uDe,x:null,X:null,y:dDe,Y:hDe,Z:pDe,"%":iU},T={a:J,A:Q,b:re,B:ce,c:null,d:sU,e:sU,f:yDe,g:TDe,G:EDe,H:gDe,I:xDe,j:bDe,L:Ire,m:vDe,M:wDe,p:Ee,q:ke,Q:oU,s:lU,S:jDe,u:NDe,U:SDe,V:kDe,w:CDe,W:_De,x:null,X:null,y:ADe,Y:MDe,Z:ODe,"%":iU},_={a:F,A,b:M,B,c:z,d:rU,e:rU,f:KOe,g:tU,G:eU,H:nU,I:nU,j:WOe,L:YOe,m:UOe,M:VOe,p:R,q:qOe,Q:XOe,s:QOe,S:GOe,u:FOe,U:BOe,V:$Oe,w:IOe,W:HOe,x:Y,X:W,y:tU,Y:eU,Z:zOe,"%":JOe};S.x=D(r,S),S.X=D(n,S),S.c=D(e,S),T.x=D(r,T),T.X=D(n,T),T.c=D(e,T);function D(ge,Ce){return function(Ke){var fe=[],ye=-1,ae=0,se=ge.length,bt,pt,Re;for(Ke instanceof Date||(Ke=new Date(+Ke));++ye<se;)ge.charCodeAt(ye)===37&&(fe.push(ge.slice(ae,ye)),(pt=Zq[bt=ge.charAt(++ye)])!=null?bt=ge.charAt(++ye):pt=bt==="e"?" ":"0",(Re=Ce[bt])&&(bt=Re(Ke,pt)),fe.push(bt),ae=ye+1);return fe.push(ge.slice(ae,ye)),fe.join("")}}function E(ge,Ce){return function(Ke){var fe=Jb(1900,void 0,1),ye=L(fe,ge,Ke+="",0),ae,se;if(ye!=Ke.length)return null;if("Q"in fe)return new Date(fe.Q);if("s"in fe)return new Date(fe.s*1e3+("L"in fe?fe.L:0));if(Ce&&!("Z"in fe)&&(fe.Z=0),"p"in fe&&(fe.H=fe.H%12+fe.p*12),fe.m===void 0&&(fe.m="q"in fe?fe.q:0),"V"in fe){if(fe.V<1||fe.V>53)return null;"w"in fe||(fe.w=1),"Z"in fe?(ae=q4(Jb(fe.y,0,1)),se=ae.getUTCDay(),ae=se>4||se===0?H5.ceil(ae):H5(ae),ae=wS.offset(ae,(fe.V-1)*7),fe.y=ae.getUTCFullYear(),fe.m=ae.getUTCMonth(),fe.d=ae.getUTCDate()+(fe.w+6)%7):(ae=z4(Jb(fe.y,0,1)),se=ae.getDay(),ae=se>4||se===0?$5.ceil(ae):$5(ae),ae=y1.offset(ae,(fe.V-1)*7),fe.y=ae.getFullYear(),fe.m=ae.getMonth(),fe.d=ae.getDate()+(fe.w+6)%7)}else("W"in fe||"U"in fe)&&("w"in fe||(fe.w="u"in fe?fe.u%7:"W"in fe?1:0),se="Z"in fe?q4(Jb(fe.y,0,1)).getUTCDay():z4(Jb(fe.y,0,1)).getDay(),fe.m=0,fe.d="W"in fe?(fe.w+6)%7+fe.W*7-(se+5)%7:fe.w+fe.U*7-(se+6)%7);return"Z"in fe?(fe.H+=fe.Z/100|0,fe.M+=fe.Z%100,q4(fe)):z4(fe)}}function L(ge,Ce,Ke,fe){for(var ye=0,ae=Ce.length,se=Ke.length,bt,pt;ye<ae;){if(fe>=se)return-1;if(bt=Ce.charCodeAt(ye++),bt===37){if(bt=Ce.charAt(ye++),pt=_[bt in Zq?Ce.charAt(ye++):bt],!pt||(fe=pt(ge,Ke,fe))<0)return-1}else if(bt!=Ke.charCodeAt(fe++))return-1}return fe}function R(ge,Ce,Ke){var fe=u.exec(Ce.slice(Ke));return fe?(ge.p=f.get(fe[0].toLowerCase()),Ke+fe[0].length):-1}function F(ge,Ce,Ke){var fe=p.exec(Ce.slice(Ke));return fe?(ge.w=v.get(fe[0].toLowerCase()),Ke+fe[0].length):-1}function A(ge,Ce,Ke){var fe=h.exec(Ce.slice(Ke));return fe?(ge.w=g.get(fe[0].toLowerCase()),Ke+fe[0].length):-1}function M(ge,Ce,Ke){var fe=N.exec(Ce.slice(Ke));return fe?(ge.m=k.get(fe[0].toLowerCase()),Ke+fe[0].length):-1}function B(ge,Ce,Ke){var fe=w.exec(Ce.slice(Ke));return fe?(ge.m=y.get(fe[0].toLowerCase()),Ke+fe[0].length):-1}function z(ge,Ce,Ke){return L(ge,e,Ce,Ke)}function Y(ge,Ce,Ke){return L(ge,r,Ce,Ke)}function W(ge,Ce,Ke){return L(ge,n,Ce,Ke)}function H(ge){return o[ge.getDay()]}function q(ge){return i[ge.getDay()]}function X(ge){return c[ge.getMonth()]}function oe(ge){return l[ge.getMonth()]}function K(ge){return s[+(ge.getHours()>=12)]}function V(ge){return 1+~~(ge.getMonth()/3)}function J(ge){return o[ge.getUTCDay()]}function Q(ge){return i[ge.getUTCDay()]}function re(ge){return c[ge.getUTCMonth()]}function ce(ge){return l[ge.getUTCMonth()]}function Ee(ge){return s[+(ge.getUTCHours()>=12)]}function ke(ge){return 1+~~(ge.getUTCMonth()/3)}return{format:function(ge){var Ce=D(ge+="",S);return Ce.toString=function(){return ge},Ce},parse:function(ge){var Ce=E(ge+="",!1);return Ce.toString=function(){return ge},Ce},utcFormat:function(ge){var Ce=D(ge+="",T);return Ce.toString=function(){return ge},Ce},utcParse:function(ge){var Ce=E(ge+="",!0);return Ce.toString=function(){return ge},Ce}}}var Zq={"-":"",_:" ",0:"0"},Li=/^\s*\d+/,POe=/^%/,LOe=/[\\^$*+?|[\]().{}]/g;function Kn(t,e,r){var n=t<0?"-":"",s=(n?-t:t)+"",i=s.length;return n+(i<r?new Array(r-i+1).join(e)+s:s)}function ROe(t){return t.replace(LOe,"\\$&")}function Xb(t){return new RegExp("^(?:"+t.map(ROe).join("|")+")","i")}function Qb(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function IOe(t,e,r){var n=Li.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function FOe(t,e,r){var n=Li.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function BOe(t,e,r){var n=Li.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function $Oe(t,e,r){var n=Li.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function HOe(t,e,r){var n=Li.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function eU(t,e,r){var n=Li.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function tU(t,e,r){var n=Li.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function zOe(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function qOe(t,e,r){var n=Li.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function UOe(t,e,r){var n=Li.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function rU(t,e,r){var n=Li.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function WOe(t,e,r){var n=Li.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function nU(t,e,r){var n=Li.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function VOe(t,e,r){var n=Li.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function GOe(t,e,r){var n=Li.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function YOe(t,e,r){var n=Li.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function KOe(t,e,r){var n=Li.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function JOe(t,e,r){var n=POe.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function XOe(t,e,r){var n=Li.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function QOe(t,e,r){var n=Li.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function aU(t,e){return Kn(t.getDate(),e,2)}function ZOe(t,e){return Kn(t.getHours(),e,2)}function eDe(t,e){return Kn(t.getHours()%12||12,e,2)}function tDe(t,e){return Kn(1+y1.count(If(t),t),e,3)}function Lre(t,e){return Kn(t.getMilliseconds(),e,3)}function rDe(t,e){return Lre(t,e)+"000"}function nDe(t,e){return Kn(t.getMonth()+1,e,2)}function aDe(t,e){return Kn(t.getMinutes(),e,2)}function sDe(t,e){return Kn(t.getSeconds(),e,2)}function iDe(t){var e=t.getDay();return e===0?7:e}function oDe(t,e){return Kn(jS.count(If(t)-1,t),e,2)}function Rre(t){var e=t.getDay();return e>=4||e===0?dx(t):dx.ceil(t)}function lDe(t,e){return t=Rre(t),Kn(dx.count(If(t),t)+(If(t).getDay()===4),e,2)}function cDe(t){return t.getDay()}function uDe(t,e){return Kn($5.count(If(t)-1,t),e,2)}function dDe(t,e){return Kn(t.getFullYear()%100,e,2)}function fDe(t,e){return t=Rre(t),Kn(t.getFullYear()%100,e,2)}function hDe(t,e){return Kn(t.getFullYear()%1e4,e,4)}function mDe(t,e){var r=t.getDay();return t=r>=4||r===0?dx(t):dx.ceil(t),Kn(t.getFullYear()%1e4,e,4)}function pDe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Kn(e/60|0,"0",2)+Kn(e%60,"0",2)}function sU(t,e){return Kn(t.getUTCDate(),e,2)}function gDe(t,e){return Kn(t.getUTCHours(),e,2)}function xDe(t,e){return Kn(t.getUTCHours()%12||12,e,2)}function bDe(t,e){return Kn(1+wS.count(Ff(t),t),e,3)}function Ire(t,e){return Kn(t.getUTCMilliseconds(),e,3)}function yDe(t,e){return Ire(t,e)+"000"}function vDe(t,e){return Kn(t.getUTCMonth()+1,e,2)}function wDe(t,e){return Kn(t.getUTCMinutes(),e,2)}function jDe(t,e){return Kn(t.getUTCSeconds(),e,2)}function NDe(t){var e=t.getUTCDay();return e===0?7:e}function SDe(t,e){return Kn(NS.count(Ff(t)-1,t),e,2)}function Fre(t){var e=t.getUTCDay();return e>=4||e===0?fx(t):fx.ceil(t)}function kDe(t,e){return t=Fre(t),Kn(fx.count(Ff(t),t)+(Ff(t).getUTCDay()===4),e,2)}function CDe(t){return t.getUTCDay()}function _De(t,e){return Kn(H5.count(Ff(t)-1,t),e,2)}function ADe(t,e){return Kn(t.getUTCFullYear()%100,e,2)}function TDe(t,e){return t=Fre(t),Kn(t.getUTCFullYear()%100,e,2)}function MDe(t,e){return Kn(t.getUTCFullYear()%1e4,e,4)}function EDe(t,e){var r=t.getUTCDay();return t=r>=4||r===0?fx(t):fx.ceil(t),Kn(t.getUTCFullYear()%1e4,e,4)}function ODe(){return"+0000"}function iU(){return"%"}function oU(t){return+t}function lU(t){return Math.floor(+t/1e3)}var Q0,Bre,$re;DDe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function DDe(t){return Q0=DOe(t),Bre=Q0.format,Q0.parse,$re=Q0.utcFormat,Q0.utcParse,Q0}function PDe(t){return new Date(t)}function LDe(t){return t instanceof Date?+t:+new Date(+t)}function xL(t,e,r,n,s,i,o,l,c,u){var f=nL(),h=f.invert,g=f.domain,p=u(".%L"),v=u(":%S"),w=u("%I:%M"),y=u("%I %p"),N=u("%a %d"),k=u("%b %d"),S=u("%B"),T=u("%Y");function _(D){return(c(D)<D?p:l(D)<D?v:o(D)<D?w:i(D)<D?y:n(D)<D?s(D)<D?N:k:r(D)<D?S:T)(D)}return f.invert=function(D){return new Date(h(D))},f.domain=function(D){return arguments.length?g(Array.from(D,LDe)):g().map(PDe)},f.ticks=function(D){var E=g();return t(E[0],E[E.length-1],D??10)},f.tickFormat=function(D,E){return E==null?_:u(E)},f.nice=function(D){var E=g();return(!D||typeof D.range!="function")&&(D=e(E[0],E[E.length-1],D??10)),D?g(Cre(E,D)):f},f.copy=function(){return b1(f,xL(t,e,r,n,s,i,o,l,c,u))},f}function RDe(){return kc.apply(xL(EOe,OOe,If,pL,jS,y1,hL,dL,mp,Bre).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function IDe(){return kc.apply(xL(TOe,MOe,Ff,gL,NS,wS,mL,fL,mp,$re).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function SS(){var t=0,e=1,r,n,s,i,o=Io,l=!1,c;function u(h){return h==null||isNaN(h=+h)?c:o(s===0?.5:(h=(i(h)-r)*s,l?Math.max(0,Math.min(1,h)):h))}u.domain=function(h){return arguments.length?([t,e]=h,r=i(t=+t),n=i(e=+e),s=r===n?0:1/(n-r),u):[t,e]},u.clamp=function(h){return arguments.length?(l=!!h,u):l},u.interpolator=function(h){return arguments.length?(o=h,u):o};function f(h){return function(g){var p,v;return arguments.length?([p,v]=g,o=h(p,v),u):[o(0),o(1)]}}return u.range=f(Ux),u.rangeRound=f(rL),u.unknown=function(h){return arguments.length?(c=h,u):c},function(h){return i=h,r=h(t),n=h(e),s=r===n?0:1/(n-r),u}}function Nm(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Hre(){var t=jm(SS()(Io));return t.copy=function(){return Nm(t,Hre())},Gf.apply(t,arguments)}function zre(){var t=iL(SS()).domain([1,10]);return t.copy=function(){return Nm(t,zre()).base(t.base())},Gf.apply(t,arguments)}function qre(){var t=oL(SS());return t.copy=function(){return Nm(t,qre()).constant(t.constant())},Gf.apply(t,arguments)}function bL(){var t=lL(SS());return t.copy=function(){return Nm(t,bL()).exponent(t.exponent())},Gf.apply(t,arguments)}function FDe(){return bL.apply(null,arguments).exponent(.5)}function Ure(){var t=[],e=Io;function r(n){if(n!=null&&!isNaN(n=+n))return e((g1(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let s of n)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(im),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,s)=>e(s/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(s,i)=>SEe(t,i/n))},r.copy=function(){return Ure(e).domain(t)},Gf.apply(r,arguments)}function kS(){var t=0,e=.5,r=1,n=1,s,i,o,l,c,u=Io,f,h=!1,g;function p(w){return isNaN(w=+w)?g:(w=.5+((w=+f(w))-i)*(n*w<n*i?l:c),u(h?Math.max(0,Math.min(1,w)):w))}p.domain=function(w){return arguments.length?([t,e,r]=w,s=f(t=+t),i=f(e=+e),o=f(r=+r),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),n=i<s?-1:1,p):[t,e,r]},p.clamp=function(w){return arguments.length?(h=!!w,p):h},p.interpolator=function(w){return arguments.length?(u=w,p):u};function v(w){return function(y){var N,k,S;return arguments.length?([N,k,S]=y,u=JEe(w,[N,k,S]),p):[u(0),u(.5),u(1)]}}return p.range=v(Ux),p.rangeRound=v(rL),p.unknown=function(w){return arguments.length?(g=w,p):g},function(w){return f=w,s=w(t),i=w(e),o=w(r),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),n=i<s?-1:1,p}}function Wre(){var t=jm(kS()(Io));return t.copy=function(){return Nm(t,Wre())},Gf.apply(t,arguments)}function Vre(){var t=iL(kS()).domain([.1,1,10]);return t.copy=function(){return Nm(t,Vre()).base(t.base())},Gf.apply(t,arguments)}function Gre(){var t=oL(kS());return t.copy=function(){return Nm(t,Gre()).constant(t.constant())},Gf.apply(t,arguments)}function yL(){var t=lL(kS());return t.copy=function(){return Nm(t,yL()).exponent(t.exponent())},Gf.apply(t,arguments)}function BDe(){return yL.apply(null,arguments).exponent(.5)}const cU=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:wv,scaleDiverging:Wre,scaleDivergingLog:Vre,scaleDivergingPow:yL,scaleDivergingSqrt:BDe,scaleDivergingSymlog:Gre,scaleIdentity:kre,scaleImplicit:jE,scaleLinear:F5,scaleLog:_re,scaleOrdinal:ZP,scalePoint:Ly,scalePow:cL,scaleQuantile:Mre,scaleQuantize:Ere,scaleRadial:Tre,scaleSequential:Hre,scaleSequentialLog:zre,scaleSequentialPow:bL,scaleSequentialQuantile:Ure,scaleSequentialSqrt:FDe,scaleSequentialSymlog:qre,scaleSqrt:yOe,scaleSymlog:Are,scaleThreshold:Ore,scaleTime:RDe,scaleUtc:IDe,tickFormat:Sre},Symbol.toStringTag,{value:"Module"}));var U4,uU;function CS(){if(uU)return U4;uU=1;var t=$x();function e(r,n,s){for(var i=-1,o=r.length;++i<o;){var l=r[i],c=n(l);if(c!=null&&(u===void 0?c===c&&!t(c):s(c,u)))var u=c,f=l}return f}return U4=e,U4}var W4,dU;function Yre(){if(dU)return W4;dU=1;function t(e,r){return e>r}return W4=t,W4}var V4,fU;function $De(){if(fU)return V4;fU=1;var t=CS(),e=Yre(),r=qx();function n(s){return s&&s.length?t(s,r,e):void 0}return V4=n,V4}var HDe=$De();const Yh=Vn(HDe);var G4,hU;function Kre(){if(hU)return G4;hU=1;function t(e,r){return e<r}return G4=t,G4}var Y4,mU;function zDe(){if(mU)return Y4;mU=1;var t=CS(),e=Kre(),r=qx();function n(s){return s&&s.length?t(s,r,e):void 0}return Y4=n,Y4}var qDe=zDe();const _S=Vn(qDe);var K4,pU;function UDe(){if(pU)return K4;pU=1;var t=LP(),e=bd(),r=nre(),n=fl();function s(i,o){var l=n(i)?t:r;return l(i,e(o,3))}return K4=s,K4}var J4,gU;function WDe(){if(gU)return J4;gU=1;var t=tre(),e=UDe();function r(n,s){return t(e(n,s),1)}return J4=r,J4}var VDe=WDe();const GDe=Vn(VDe);var X4,xU;function YDe(){if(xU)return X4;xU=1;var t=YP();function e(r,n){return t(r,n)}return X4=e,X4}var KDe=YDe();const Wp=Vn(KDe);var Wx=1e9,JDe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},wL,as=!0,jc="[DecimalError] ",Mp=jc+"Invalid argument: ",vL=jc+"Exponent out of range: ",Vx=Math.floor,Zm=Math.pow,XDe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Al,Ai=1e7,Ga=7,Jre=9007199254740991,z5=Vx(Jre/Ga),xr={};xr.absoluteValue=xr.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};xr.comparedTo=xr.cmp=function(t){var e,r,n,s,i=this;if(t=new i.constructor(t),i.s!==t.s)return i.s||-t.s;if(i.e!==t.e)return i.e>t.e^i.s<0?1:-1;for(n=i.d.length,s=t.d.length,e=0,r=n<s?n:s;e<r;++e)if(i.d[e]!==t.d[e])return i.d[e]>t.d[e]^i.s<0?1:-1;return n===s?0:n>s^i.s<0?1:-1};xr.decimalPlaces=xr.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*Ga;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};xr.dividedBy=xr.div=function(t){return Mf(this,new this.constructor(t))};xr.dividedToIntegerBy=xr.idiv=function(t){var e=this,r=e.constructor;return Oa(Mf(e,new r(t),0,1),r.precision)};xr.equals=xr.eq=function(t){return!this.cmp(t)};xr.exponent=function(){return ri(this)};xr.greaterThan=xr.gt=function(t){return this.cmp(t)>0};xr.greaterThanOrEqualTo=xr.gte=function(t){return this.cmp(t)>=0};xr.isInteger=xr.isint=function(){return this.e>this.d.length-2};xr.isNegative=xr.isneg=function(){return this.s<0};xr.isPositive=xr.ispos=function(){return this.s>0};xr.isZero=function(){return this.s===0};xr.lessThan=xr.lt=function(t){return this.cmp(t)<0};xr.lessThanOrEqualTo=xr.lte=function(t){return this.cmp(t)<1};xr.logarithm=xr.log=function(t){var e,r=this,n=r.constructor,s=n.precision,i=s+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(Al))throw Error(jc+"NaN");if(r.s<1)throw Error(jc+(r.s?"NaN":"-Infinity"));return r.eq(Al)?new n(0):(as=!1,e=Mf(Cv(r,i),Cv(t,i),i),as=!0,Oa(e,s))};xr.minus=xr.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Zre(e,t):Xre(e,(t.s=-t.s,t))};xr.modulo=xr.mod=function(t){var e,r=this,n=r.constructor,s=n.precision;if(t=new n(t),!t.s)throw Error(jc+"NaN");return r.s?(as=!1,e=Mf(r,t,0,1).times(t),as=!0,r.minus(e)):Oa(new n(r),s)};xr.naturalExponential=xr.exp=function(){return Qre(this)};xr.naturalLogarithm=xr.ln=function(){return Cv(this)};xr.negated=xr.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};xr.plus=xr.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Xre(e,t):Zre(e,(t.s=-t.s,t))};xr.precision=xr.sd=function(t){var e,r,n,s=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Mp+t);if(e=ri(s)+1,n=s.d.length-1,r=n*Ga+1,n=s.d[n],n){for(;n%10==0;n/=10)r--;for(n=s.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};xr.squareRoot=xr.sqrt=function(){var t,e,r,n,s,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(jc+"NaN")}for(t=ri(l),as=!1,s=Math.sqrt(+l),s==0||s==1/0?(e=Xu(l.d),(e.length+t)%2==0&&(e+="0"),s=Math.sqrt(e),t=Vx((t+1)/2)-(t<0||t%2),s==1/0?e="5e"+t:(e=s.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new c(e)):n=new c(s.toString()),r=c.precision,s=o=r+3;;)if(i=n,n=i.plus(Mf(l,i,o+2)).times(.5),Xu(i.d).slice(0,o)===(e=Xu(n.d)).slice(0,o)){if(e=e.slice(o-3,o+1),s==o&&e=="4999"){if(Oa(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(e!="9999")break;o+=4}return as=!0,Oa(n,r)};xr.times=xr.mul=function(t){var e,r,n,s,i,o,l,c,u,f=this,h=f.constructor,g=f.d,p=(t=new h(t)).d;if(!f.s||!t.s)return new h(0);for(t.s*=f.s,r=f.e+t.e,c=g.length,u=p.length,c<u&&(i=g,g=p,p=i,o=c,c=u,u=o),i=[],o=c+u,n=o;n--;)i.push(0);for(n=u;--n>=0;){for(e=0,s=c+n;s>n;)l=i[s]+p[n]*g[s-n-1]+e,i[s--]=l%Ai|0,e=l/Ai|0;i[s]=(i[s]+e)%Ai|0}for(;!i[--o];)i.pop();return e?++r:i.shift(),t.d=i,t.e=r,as?Oa(t,h.precision):t};xr.toDecimalPlaces=xr.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(dd(t,0,Wx),e===void 0?e=n.rounding:dd(e,0,8),Oa(r,t+ri(r)+1,e))};xr.toExponential=function(t,e){var r,n=this,s=n.constructor;return t===void 0?r=Vp(n,!0):(dd(t,0,Wx),e===void 0?e=s.rounding:dd(e,0,8),n=Oa(new s(n),t+1,e),r=Vp(n,!0,t+1)),r};xr.toFixed=function(t,e){var r,n,s=this,i=s.constructor;return t===void 0?Vp(s):(dd(t,0,Wx),e===void 0?e=i.rounding:dd(e,0,8),n=Oa(new i(s),t+ri(s)+1,e),r=Vp(n.abs(),!1,t+ri(n)+1),s.isneg()&&!s.isZero()?"-"+r:r)};xr.toInteger=xr.toint=function(){var t=this,e=t.constructor;return Oa(new e(t),ri(t)+1,e.rounding)};xr.toNumber=function(){return+this};xr.toPower=xr.pow=function(t){var e,r,n,s,i,o,l=this,c=l.constructor,u=12,f=+(t=new c(t));if(!t.s)return new c(Al);if(l=new c(l),!l.s){if(t.s<1)throw Error(jc+"Infinity");return l}if(l.eq(Al))return l;if(n=c.precision,t.eq(Al))return Oa(l,n);if(e=t.e,r=t.d.length-1,o=e>=r,i=l.s,o){if((r=f<0?-f:f)<=Jre){for(s=new c(Al),e=Math.ceil(n/Ga+4),as=!1;r%2&&(s=s.times(l),yU(s.d,e)),r=Vx(r/2),r!==0;)l=l.times(l),yU(l.d,e);return as=!0,t.s<0?new c(Al).div(s):Oa(s,n)}}else if(i<0)throw Error(jc+"NaN");return i=i<0&&t.d[Math.max(e,r)]&1?-1:1,l.s=1,as=!1,s=t.times(Cv(l,n+u)),as=!0,s=Qre(s),s.s=i,s};xr.toPrecision=function(t,e){var r,n,s=this,i=s.constructor;return t===void 0?(r=ri(s),n=Vp(s,r<=i.toExpNeg||r>=i.toExpPos)):(dd(t,1,Wx),e===void 0?e=i.rounding:dd(e,0,8),s=Oa(new i(s),t,e),r=ri(s),n=Vp(s,t<=r||r<=i.toExpNeg,t)),n};xr.toSignificantDigits=xr.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(dd(t,1,Wx),e===void 0?e=n.rounding:dd(e,0,8)),Oa(new n(r),t,e)};xr.toString=xr.valueOf=xr.val=xr.toJSON=xr[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=ri(t),r=t.constructor;return Vp(t,e<=r.toExpNeg||e>=r.toExpPos)};function Xre(t,e){var r,n,s,i,o,l,c,u,f=t.constructor,h=f.precision;if(!t.s||!e.s)return e.s||(e=new f(t)),as?Oa(e,h):e;if(c=t.d,u=e.d,o=t.e,s=e.e,c=c.slice(),i=o-s,i){for(i<0?(n=c,i=-i,l=u.length):(n=u,s=o,l=c.length),o=Math.ceil(h/Ga),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/Ai|0,c[i]%=Ai;for(r&&(c.unshift(r),++s),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=s,as?Oa(e,h):e}function dd(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Mp+t)}function Xu(t){var e,r,n,s=t.length-1,i="",o=t[0];if(s>0){for(i+=o,e=1;e<s;e++)n=t[e]+"",r=Ga-n.length,r&&(i+=Hh(r)),i+=n;o=t[e],n=o+"",r=Ga-n.length,r&&(i+=Hh(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Mf=(function(){function t(n,s){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*s+o,n[l]=i%Ai|0,o=i/Ai|0;return o&&n.unshift(o),n}function e(n,s,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=s[l]){c=n[l]>s[l]?1:-1;break}return c}function r(n,s,i){for(var o=0;i--;)n[i]-=o,o=n[i]<s[i]?1:0,n[i]=o*Ai+n[i]-s[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,s,i,o){var l,c,u,f,h,g,p,v,w,y,N,k,S,T,_,D,E,L,R=n.constructor,F=n.s==s.s?1:-1,A=n.d,M=s.d;if(!n.s)return new R(n);if(!s.s)throw Error(jc+"Division by zero");for(c=n.e-s.e,E=M.length,_=A.length,p=new R(F),v=p.d=[],u=0;M[u]==(A[u]||0);)++u;if(M[u]>(A[u]||0)&&--c,i==null?k=i=R.precision:o?k=i+(ri(n)-ri(s))+1:k=i,k<0)return new R(0);if(k=k/Ga+2|0,u=0,E==1)for(f=0,M=M[0],k++;(u<_||f)&&k--;u++)S=f*Ai+(A[u]||0),v[u]=S/M|0,f=S%M|0;else{for(f=Ai/(M[0]+1)|0,f>1&&(M=t(M,f),A=t(A,f),E=M.length,_=A.length),T=E,w=A.slice(0,E),y=w.length;y<E;)w[y++]=0;L=M.slice(),L.unshift(0),D=M[0],M[1]>=Ai/2&&++D;do f=0,l=e(M,w,E,y),l<0?(N=w[0],E!=y&&(N=N*Ai+(w[1]||0)),f=N/D|0,f>1?(f>=Ai&&(f=Ai-1),h=t(M,f),g=h.length,y=w.length,l=e(h,w,g,y),l==1&&(f--,r(h,E<g?L:M,g))):(f==0&&(l=f=1),h=M.slice()),g=h.length,g<y&&h.unshift(0),r(w,h,y),l==-1&&(y=w.length,l=e(M,w,E,y),l<1&&(f++,r(w,E<y?L:M,y))),y=w.length):l===0&&(f++,w=[0]),v[u++]=f,l&&w[0]?w[y++]=A[T]||0:(w=[A[T]],y=1);while((T++<_||w[0]!==void 0)&&k--)}return v[0]||v.shift(),p.e=c,Oa(p,o?i+ri(p)+1:i)}})();function Qre(t,e){var r,n,s,i,o,l,c=0,u=0,f=t.constructor,h=f.precision;if(ri(t)>16)throw Error(vL+ri(t));if(!t.s)return new f(Al);for(as=!1,l=h,o=new f(.03125);t.abs().gte(.1);)t=t.times(o),u+=5;for(n=Math.log(Zm(2,u))/Math.LN10*2+5|0,l+=n,r=s=i=new f(Al),f.precision=l;;){if(s=Oa(s.times(t),l),r=r.times(++c),o=i.plus(Mf(s,r,l)),Xu(o.d).slice(0,l)===Xu(i.d).slice(0,l)){for(;u--;)i=Oa(i.times(i),l);return f.precision=h,e==null?(as=!0,Oa(i,h)):i}i=o}}function ri(t){for(var e=t.e*Ga,r=t.d[0];r>=10;r/=10)e++;return e}function Q4(t,e,r){if(e>t.LN10.sd())throw as=!0,r&&(t.precision=r),Error(jc+"LN10 precision limit exceeded");return Oa(new t(t.LN10),e)}function Hh(t){for(var e="";t--;)e+="0";return e}function Cv(t,e){var r,n,s,i,o,l,c,u,f,h=1,g=10,p=t,v=p.d,w=p.constructor,y=w.precision;if(p.s<1)throw Error(jc+(p.s?"NaN":"-Infinity"));if(p.eq(Al))return new w(0);if(e==null?(as=!1,u=y):u=e,p.eq(10))return e==null&&(as=!0),Q4(w,u);if(u+=g,w.precision=u,r=Xu(v),n=r.charAt(0),i=ri(p),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(t),r=Xu(p.d),n=r.charAt(0),h++;i=ri(p),n>1?(p=new w("0."+r),i++):p=new w(n+"."+r.slice(1))}else return c=Q4(w,u+2,y).times(i+""),p=Cv(new w(n+"."+r.slice(1)),u-g).plus(c),w.precision=y,e==null?(as=!0,Oa(p,y)):p;for(l=o=p=Mf(p.minus(Al),p.plus(Al),u),f=Oa(p.times(p),u),s=3;;){if(o=Oa(o.times(f),u),c=l.plus(Mf(o,new w(s),u)),Xu(c.d).slice(0,u)===Xu(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(Q4(w,u+2,y).times(i+""))),l=Mf(l,new w(h),u),w.precision=y,e==null?(as=!0,Oa(l,y)):l;l=c,s+=2}}function bU(t,e){var r,n,s;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(s=e.length;e.charCodeAt(s-1)===48;)--s;if(e=e.slice(n,s),e){if(s-=n,r=r-n-1,t.e=Vx(r/Ga),t.d=[],n=(r+1)%Ga,r<0&&(n+=Ga),n<s){for(n&&t.d.push(+e.slice(0,n)),s-=Ga;n<s;)t.d.push(+e.slice(n,n+=Ga));e=e.slice(n),n=Ga-e.length}else n-=s;for(;n--;)e+="0";if(t.d.push(+e),as&&(t.e>z5||t.e<-z5))throw Error(vL+r)}else t.s=0,t.e=0,t.d=[0];return t}function Oa(t,e,r){var n,s,i,o,l,c,u,f,h=t.d;for(o=1,i=h[0];i>=10;i/=10)o++;if(n=e-o,n<0)n+=Ga,s=e,u=h[f=0];else{if(f=Math.ceil((n+1)/Ga),i=h.length,f>=i)return t;for(u=i=h[f],o=1;i>=10;i/=10)o++;n%=Ga,s=n-Ga+o}if(r!==void 0&&(i=Zm(10,o-s-1),l=u/i%10|0,c=e<0||h[f+1]!==void 0||u%i,c=r<4?(l||c)&&(r==0||r==(t.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?s>0?u/Zm(10,o-s):0:h[f-1])%10&1||r==(t.s<0?8:7))),e<1||!h[0])return c?(i=ri(t),h.length=1,e=e-i-1,h[0]=Zm(10,(Ga-e%Ga)%Ga),t.e=Vx(-e/Ga)||0):(h.length=1,h[0]=t.e=t.s=0),t;if(n==0?(h.length=f,i=1,f--):(h.length=f+1,i=Zm(10,Ga-n),h[f]=s>0?(u/Zm(10,o-s)%Zm(10,s)|0)*i:0),c)for(;;)if(f==0){(h[0]+=i)==Ai&&(h[0]=1,++t.e);break}else{if(h[f]+=i,h[f]!=Ai)break;h[f--]=0,i=1}for(n=h.length;h[--n]===0;)h.pop();if(as&&(t.e>z5||t.e<-z5))throw Error(vL+ri(t));return t}function Zre(t,e){var r,n,s,i,o,l,c,u,f,h,g=t.constructor,p=g.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new g(t),as?Oa(e,p):e;if(c=t.d,h=e.d,n=e.e,u=t.e,c=c.slice(),o=u-n,o){for(f=o<0,f?(r=c,o=-o,l=h.length):(r=h,n=u,l=c.length),s=Math.max(Math.ceil(p/Ga),l)+2,o>s&&(o=s,r.length=1),r.reverse(),s=o;s--;)r.push(0);r.reverse()}else{for(s=c.length,l=h.length,f=s<l,f&&(l=s),s=0;s<l;s++)if(c[s]!=h[s]){f=c[s]<h[s];break}o=0}for(f&&(r=c,c=h,h=r,e.s=-e.s),l=c.length,s=h.length-l;s>0;--s)c[l++]=0;for(s=h.length;s>o;){if(c[--s]<h[s]){for(i=s;i&&c[--i]===0;)c[i]=Ai-1;--c[i],c[s]+=Ai}c[s]-=h[s]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(e.d=c,e.e=n,as?Oa(e,p):e):new g(0)}function Vp(t,e,r){var n,s=ri(t),i=Xu(t.d),o=i.length;return e?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+Hh(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(s<0?"e":"e+")+s):s<0?(i="0."+Hh(-s-1)+i,r&&(n=r-o)>0&&(i+=Hh(n))):s>=o?(i+=Hh(s+1-o),r&&(n=r-s-1)>0&&(i=i+"."+Hh(n))):((n=s+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(s+1===o&&(i+="."),i+=Hh(n))),t.s<0?"-"+i:i}function yU(t,e){if(t.length>e)return t.length=e,!0}function ene(t){var e,r,n;function s(i){var o=this;if(!(o instanceof s))return new s(i);if(o.constructor=s,i instanceof s){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Mp+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return bU(o,i.toString())}else if(typeof i!="string")throw Error(Mp+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,XDe.test(i))bU(o,i);else throw Error(Mp+i)}if(s.prototype=xr,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=ene,s.config=s.set=QDe,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return s.config(t),s}function QDe(t){if(!t||typeof t!="object")throw Error(jc+"Object expected");var e,r,n,s=["precision",1,Wx,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<s.length;e+=3)if((n=t[r=s[e]])!==void 0)if(Vx(n)===n&&n>=s[e+1]&&n<=s[e+2])this[r]=n;else throw Error(Mp+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Mp+r+": "+n);return this}var wL=ene(JDe);Al=new wL(1);const Ca=wL;function ZDe(t){return nPe(t)||rPe(t)||tPe(t)||ePe()}function ePe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tPe(t,e){if(t){if(typeof t=="string")return CE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return CE(t,e)}}function rPe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function nPe(t){if(Array.isArray(t))return CE(t)}function CE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var aPe=function(e){return e},tne={},rne=function(e){return e===tne},vU=function(e){return function r(){return arguments.length===0||arguments.length===1&&rne(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},sPe=function t(e,r){return e===1?r:vU(function(){for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];var o=s.filter(function(l){return l!==tne}).length;return o>=e?r.apply(void 0,s):t(e-o,vU(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var f=s.map(function(h){return rne(h)?c.shift():h});return r.apply(void 0,ZDe(f).concat(c))}))})},AS=function(e){return sPe(e.length,e)},_E=function(e,r){for(var n=[],s=e;s<r;++s)n[s-e]=s;return n},iPe=AS(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),oPe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return aPe;var s=r.reverse(),i=s[0],o=s.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},AE=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},nne=function(e){var r=null,n=null;return function(){for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r&&i.every(function(l,c){return l===r[c]})||(r=i,n=e.apply(void 0,i)),n}};function lPe(t){var e;return t===0?e=1:e=Math.floor(new Ca(t).abs().log(10).toNumber())+1,e}function cPe(t,e,r){for(var n=new Ca(t),s=0,i=[];n.lt(e)&&s<1e5;)i.push(n.toNumber()),n=n.add(r),s++;return i}var uPe=AS(function(t,e,r){var n=+t,s=+e;return n+r*(s-n)}),dPe=AS(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),fPe=AS(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const TS={rangeStep:cPe,getDigitCount:lPe,interpolateNumber:uPe,uninterpolateNumber:dPe,uninterpolateTruncation:fPe};function TE(t){return pPe(t)||mPe(t)||ane(t)||hPe()}function hPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mPe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function pPe(t){if(Array.isArray(t))return ME(t)}function _v(t,e){return bPe(t)||xPe(t,e)||ane(t,e)||gPe()}function gPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ane(t,e){if(t){if(typeof t=="string")return ME(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ME(t,e)}}function ME(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function xPe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,s=!1,i=void 0;try{for(var o=t[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(e&&r.length===e));n=!0);}catch(c){s=!0,i=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(s)throw i}}return r}}function bPe(t){if(Array.isArray(t))return t}function sne(t){var e=_v(t,2),r=e[0],n=e[1],s=r,i=n;return r>n&&(s=n,i=r),[s,i]}function ine(t,e,r){if(t.lte(0))return new Ca(0);var n=TS.getDigitCount(t.toNumber()),s=new Ca(10).pow(n),i=t.div(s),o=n!==1?.05:.1,l=new Ca(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(s);return e?c:new Ca(Math.ceil(c))}function yPe(t,e,r){var n=1,s=new Ca(t);if(!s.isint()&&r){var i=Math.abs(t);i<1?(n=new Ca(10).pow(TS.getDigitCount(t)-1),s=new Ca(Math.floor(s.div(n).toNumber())).mul(n)):i>1&&(s=new Ca(Math.floor(t)))}else t===0?s=new Ca(Math.floor((e-1)/2)):r||(s=new Ca(Math.floor(t)));var o=Math.floor((e-1)/2),l=oPe(iPe(function(c){return s.add(new Ca(c-o).mul(n)).toNumber()}),_E);return l(0,e)}function one(t,e,r,n){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new Ca(0),tickMin:new Ca(0),tickMax:new Ca(0)};var i=ine(new Ca(e).sub(t).div(r-1),n,s),o;t<=0&&e>=0?o=new Ca(0):(o=new Ca(t).add(e).div(2),o=o.sub(new Ca(o).mod(i)));var l=Math.ceil(o.sub(t).div(i).toNumber()),c=Math.ceil(new Ca(e).sub(o).div(i).toNumber()),u=l+c+1;return u>r?one(t,e,r,n,s+1):(u<r&&(c=e>0?c+(r-u):c,l=e>0?l:l+(r-u)),{step:i,tickMin:o.sub(new Ca(l).mul(i)),tickMax:o.add(new Ca(c).mul(i))})}function vPe(t){var e=_v(t,2),r=e[0],n=e[1],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(s,2),l=sne([r,n]),c=_v(l,2),u=c[0],f=c[1];if(u===-1/0||f===1/0){var h=f===1/0?[u].concat(TE(_E(0,s-1).map(function(){return 1/0}))):[].concat(TE(_E(0,s-1).map(function(){return-1/0})),[f]);return r>n?AE(h):h}if(u===f)return yPe(u,s,i);var g=one(u,f,o,i),p=g.step,v=g.tickMin,w=g.tickMax,y=TS.rangeStep(v,w.add(new Ca(.1).mul(p)),p);return r>n?AE(y):y}function wPe(t,e){var r=_v(t,2),n=r[0],s=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=sne([n,s]),l=_v(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,s];if(c===u)return[c];var f=Math.max(e,2),h=ine(new Ca(u).sub(c).div(f-1),i,0),g=[].concat(TE(TS.rangeStep(new Ca(c),new Ca(u).sub(new Ca(.99).mul(h)),h)),[u]);return n>s?AE(g):g}var jPe=nne(vPe),NPe=nne(wPe),SPe="Invariant failed";function Gp(t,e){throw new Error(SPe)}var kPe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function hx(t){"@babel/helpers - typeof";return hx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hx(t)}function q5(){return q5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},q5.apply(this,arguments)}function CPe(t,e){return MPe(t)||TPe(t,e)||APe(t,e)||_Pe()}function _Pe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function APe(t,e){if(t){if(typeof t=="string")return wU(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wU(t,e)}}function wU(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function TPe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){u=!0,s=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function MPe(t){if(Array.isArray(t))return t}function EPe(t,e){if(t==null)return{};var r=OPe(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function OPe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function DPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PPe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,une(n.key),n)}}function LPe(t,e,r){return e&&PPe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function RPe(t,e,r){return e=U5(e),IPe(t,lne()?Reflect.construct(e,r||[],U5(t).constructor):e.apply(t,r))}function IPe(t,e){if(e&&(hx(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FPe(t)}function FPe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lne(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lne=function(){return!!t})()}function U5(t){return U5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},U5(t)}function BPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&EE(t,e)}function EE(t,e){return EE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},EE(t,e)}function cne(t,e,r){return e=une(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function une(t){var e=$Pe(t,"string");return hx(e)=="symbol"?e:e+""}function $Pe(t,e){if(hx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(hx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var v1=(function(t){function e(){return DPe(this,e),RPe(this,e,arguments)}return BPe(e,t),LPe(e,[{key:"render",value:function(){var n=this.props,s=n.offset,i=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,f=n.xAxis,h=n.yAxis,g=EPe(n,kPe),p=Mr(g,!1);this.props.direction==="x"&&f.type!=="number"&&Gp();var v=c.map(function(w){var y=u(w,l),N=y.x,k=y.y,S=y.value,T=y.errorVal;if(!T)return null;var _=[],D,E;if(Array.isArray(T)){var L=CPe(T,2);D=L[0],E=L[1]}else D=E=T;if(i==="vertical"){var R=f.scale,F=k+s,A=F+o,M=F-o,B=R(S-D),z=R(S+E);_.push({x1:z,y1:A,x2:z,y2:M}),_.push({x1:B,y1:F,x2:z,y2:F}),_.push({x1:B,y1:A,x2:B,y2:M})}else if(i==="horizontal"){var Y=h.scale,W=N+s,H=W-o,q=W+o,X=Y(S-D),oe=Y(S+E);_.push({x1:H,y1:oe,x2:q,y2:oe}),_.push({x1:W,y1:X,x2:W,y2:oe}),_.push({x1:H,y1:X,x2:q,y2:X})}return pe.createElement(Tn,q5({className:"recharts-errorBar",key:"bar-".concat(_.map(function(K){return"".concat(K.x1,"-").concat(K.x2,"-").concat(K.y1,"-").concat(K.y2)}))},p),_.map(function(K){return pe.createElement("line",q5({},K,{key:"line-".concat(K.x1,"-").concat(K.x2,"-").concat(K.y1,"-").concat(K.y2)}))}))});return pe.createElement(Tn,{className:"recharts-errorBars"},v)}}])})(pe.Component);cne(v1,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});cne(v1,"displayName","ErrorBar");function Av(t){"@babel/helpers - typeof";return Av=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Av(t)}function jU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Vm(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jU(Object(r),!0).forEach(function(n){HPe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function HPe(t,e,r){return e=zPe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zPe(t){var e=qPe(t,"string");return Av(e)=="symbol"?e:e+""}function qPe(t,e){if(Av(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Av(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dne=function(e){var r=e.children,n=e.formattedGraphicalItems,s=e.legendWidth,i=e.legendContent,o=kl(r,Tf);if(!o)return null;var l=Tf.defaultProps,c=l!==void 0?Vm(Vm({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:i==="children"?u=(n||[]).reduce(function(f,h){var g=h.item,p=h.props,v=p.sectors||p.data||[];return f.concat(v.map(function(w){return{type:o.props.iconType||g.props.legendType,value:w.name,color:w.fill,payload:w}}))},[]):u=(n||[]).map(function(f){var h=f.item,g=h.type.defaultProps,p=g!==void 0?Vm(Vm({},g),h.props):{},v=p.dataKey,w=p.name,y=p.legendType,N=p.hide;return{inactive:N,dataKey:v,type:c.iconType||y||"square",color:jL(h),value:w||v,payload:p}}),Vm(Vm(Vm({},c),Tf.getWithHeight(o,s)),{},{payload:u,item:o})};function Tv(t){"@babel/helpers - typeof";return Tv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tv(t)}function NU(t){return GPe(t)||VPe(t)||WPe(t)||UPe()}function UPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WPe(t,e){if(t){if(typeof t=="string")return OE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return OE(t,e)}}function VPe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function GPe(t){if(Array.isArray(t))return OE(t)}function OE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function SU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function _s(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SU(Object(r),!0).forEach(function(n){Lg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Lg(t,e,r){return e=YPe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function YPe(t){var e=KPe(t,"string");return Tv(e)=="symbol"?e:e+""}function KPe(t,e){if(Tv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Tv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zs(t,e,r){return nn(t)||nn(e)?r:vi(e)?Dl(t,e,r):Yr(e)?e(t):r}function Ry(t,e,r,n){var s=GDe(t,function(l){return zs(l,e)});if(r==="number"){var i=s.filter(function(l){return Qt(l)||parseFloat(l)});return i.length?[_S(i),Yh(i)]:[1/0,-1/0]}var o=n?s.filter(function(l){return!nn(l)}):s;return o.map(function(l){return vi(l)||l instanceof Date?l:""})}var JPe=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<l;u++){var f=u>0?s[u-1].coordinate:s[l-1].coordinate,h=s[u].coordinate,g=u>=l-1?s[0].coordinate:s[u+1].coordinate,p=void 0;if(Lo(h-f)!==Lo(g-h)){var v=[];if(Lo(g-h)===Lo(c[1]-c[0])){p=g;var w=h+c[1]-c[0];v[0]=Math.min(w,(w+f)/2),v[1]=Math.max(w,(w+f)/2)}else{p=f;var y=g+c[1]-c[0];v[0]=Math.min(h,(y+h)/2),v[1]=Math.max(h,(y+h)/2)}var N=[Math.min(h,(p+h)/2),Math.max(h,(p+h)/2)];if(e>N[0]&&e<=N[1]||e>=v[0]&&e<=v[1]){o=s[u].index;break}}else{var k=Math.min(f,g),S=Math.max(f,g);if(e>(k+h)/2&&e<=(S+h)/2){o=s[u].index;break}}}else for(var T=0;T<l;T++)if(T===0&&e<=(n[T].coordinate+n[T+1].coordinate)/2||T>0&&T<l-1&&e>(n[T].coordinate+n[T-1].coordinate)/2&&e<=(n[T].coordinate+n[T+1].coordinate)/2||T===l-1&&e>(n[T].coordinate+n[T-1].coordinate)/2){o=n[T].index;break}return o},jL=function(e){var r,n=e,s=n.type.displayName,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?_s(_s({},e.type.defaultProps),e.props):e.props,o=i.stroke,l=i.fill,c;switch(s){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},XPe=function(e){var r=e.barSize,n=e.totalSize,s=e.stackGroups,i=s===void 0?{}:s;if(!i)return{};for(var o={},l=Object.keys(i),c=0,u=l.length;c<u;c++)for(var f=i[l[c]].stackGroups,h=Object.keys(f),g=0,p=h.length;g<p;g++){var v=f[h[g]],w=v.items,y=v.cateAxisId,N=w.filter(function(E){return Af(E.type).indexOf("Bar")>=0});if(N&&N.length){var k=N[0].type.defaultProps,S=k!==void 0?_s(_s({},k),N[0].props):N[0].props,T=S.barSize,_=S[y];o[_]||(o[_]=[]);var D=nn(T)?r:T;o[_].push({item:N[0],stackList:N.slice(1),barSize:nn(D)?void 0:Ro(D,n,0)})}}return o},QPe=function(e){var r=e.barGap,n=e.barCategoryGap,s=e.bandSize,i=e.sizeList,o=i===void 0?[]:i,l=e.maxBarSize,c=o.length;if(c<1)return null;var u=Ro(r,s,0,!0),f,h=[];if(o[0].barSize===+o[0].barSize){var g=!1,p=s/c,v=o.reduce(function(T,_){return T+_.barSize||0},0);v+=(c-1)*u,v>=s&&(v-=(c-1)*u,u=0),v>=s&&p>0&&(g=!0,p*=.9,v=c*p);var w=(s-v)/2>>0,y={offset:w-u,size:0};f=o.reduce(function(T,_){var D={item:_.item,position:{offset:y.offset+y.size+u,size:g?p:_.barSize}},E=[].concat(NU(T),[D]);return y=E[E.length-1].position,_.stackList&&_.stackList.length&&_.stackList.forEach(function(L){E.push({item:L,position:y})}),E},h)}else{var N=Ro(n,s,0,!0);s-2*N-(c-1)*u<=0&&(u=0);var k=(s-2*N-(c-1)*u)/c;k>1&&(k>>=0);var S=l===+l?Math.min(k,l):k;f=o.reduce(function(T,_,D){var E=[].concat(NU(T),[{item:_.item,position:{offset:N+(k+u)*D+(k-S)/2,size:S}}]);return _.stackList&&_.stackList.length&&_.stackList.forEach(function(L){E.push({item:L,position:E[E.length-1].position})}),E},h)}return f},ZPe=function(e,r,n,s){var i=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=dne({children:i,legendWidth:c});if(u){var f=s||{},h=f.width,g=f.height,p=u.align,v=u.verticalAlign,w=u.layout;if((w==="vertical"||w==="horizontal"&&v==="middle")&&p!=="center"&&Qt(e[p]))return _s(_s({},e),{},Lg({},p,e[p]+(h||0)));if((w==="horizontal"||w==="vertical"&&p==="center")&&v!=="middle"&&Qt(e[v]))return _s(_s({},e),{},Lg({},v,e[v]+(g||0)))}return e},eLe=function(e,r,n){return nn(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},fne=function(e,r,n,s,i){var o=r.props.children,l=Pl(o,v1).filter(function(u){return eLe(s,i,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return e.reduce(function(u,f){var h=zs(f,n);if(nn(h))return u;var g=Array.isArray(h)?[_S(h),Yh(h)]:[h,h],p=c.reduce(function(v,w){var y=zs(f,w,0),N=g[0]-Math.abs(Array.isArray(y)?y[0]:y),k=g[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(N,v[0]),Math.max(k,v[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},tLe=function(e,r,n,s,i){var o=r.map(function(l){return fne(e,l,n,i,s)}).filter(function(l){return!nn(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},hne=function(e,r,n,s,i){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&fne(e,c,u,s)||Ry(e,u,n,i)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var f=0,h=u.length;f<h;f++)l[u[f]]||(l[u[f]]=!0,c.push(u[f]));return c},[])},mne=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},pne=function(e,r,n,s){if(s)return e.map(function(c){return c.coordinate});var i,o,l=e.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===n&&(o=!0),c.coordinate});return i||l.push(r),o||l.push(n),l},xf=function(e,r,n){if(!e)return null;var s=e.scale,i=e.duplicateDomain,o=e.type,l=e.range,c=e.realScaleType==="scaleBand"?s.bandwidth()/2:2,u=(r||n)&&o==="category"&&s.bandwidth?s.bandwidth()/c:0;if(u=e.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Lo(l[0]-l[1])*2*u:u,r&&(e.ticks||e.niceTicks)){var f=(e.ticks||e.niceTicks).map(function(h){var g=i?i.indexOf(h):h;return{coordinate:s(g)+u,value:h,offset:u}});return f.filter(function(h){return!zx(h.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(h,g){return{coordinate:s(h)+u,value:h,index:g,offset:u}}):s.ticks&&!n?s.ticks(e.tickCount).map(function(h){return{coordinate:s(h)+u,value:h,offset:u}}):s.domain().map(function(h,g){return{coordinate:s(h)+u,value:i?i[h]:h,index:g,offset:u}})},Z4=new WeakMap,n2=function(e,r){if(typeof r!="function")return e;Z4.has(e)||Z4.set(e,new WeakMap);var n=Z4.get(e);if(n.has(r))return n.get(r);var s=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,s),s},gne=function(e,r,n){var s=e.scale,i=e.type,o=e.layout,l=e.axisType;if(s==="auto")return o==="radial"&&l==="radiusAxis"?{scale:wv(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:F5(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Ly(),realScaleType:"point"}:i==="category"?{scale:wv(),realScaleType:"band"}:{scale:F5(),realScaleType:"linear"};if(Hp(s)){var c="scale".concat(hS(s));return{scale:(cU[c]||Ly)(),realScaleType:cU[c]?c:"point"}}return Yr(s)?{scale:s}:{scale:Ly(),realScaleType:"point"}},kU=1e-4,xne=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,s=e.range(),i=Math.min(s[0],s[1])-kU,o=Math.max(s[0],s[1])+kU,l=e(r[0]),c=e(r[n-1]);(l<i||l>o||c<i||c>o)&&e.domain([r[0],r[n-1]])}},rLe=function(e,r){if(!e)return null;for(var n=0,s=e.length;n<s;n++)if(e[n].item===r)return e[n].position;return null},nLe=function(e,r){if(!r||r.length!==2||!Qt(r[0])||!Qt(r[1]))return e;var n=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]),i=[e[0],e[1]];return(!Qt(e[0])||e[0]<n)&&(i[0]=n),(!Qt(e[1])||e[1]>s)&&(i[1]=s),i[0]>s&&(i[0]=s),i[1]<n&&(i[1]=n),i},aLe=function(e){var r=e.length;if(!(r<=0))for(var n=0,s=e[0].length;n<s;++n)for(var i=0,o=0,l=0;l<r;++l){var c=zx(e[l][n][1])?e[l][n][0]:e[l][n][1];c>=0?(e[l][n][0]=i,e[l][n][1]=i+c,i=e[l][n][1]):(e[l][n][0]=o,e[l][n][1]=o+c,o=e[l][n][1])}},sLe=function(e){var r=e.length;if(!(r<=0))for(var n=0,s=e[0].length;n<s;++n)for(var i=0,o=0;o<r;++o){var l=zx(e[o][n][1])?e[o][n][0]:e[o][n][1];l>=0?(e[o][n][0]=i,e[o][n][1]=i+l,i=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},iLe={sign:aLe,expand:G4e,none:sx,silhouette:Y4e,wiggle:K4e,positive:sLe},oLe=function(e,r,n){var s=r.map(function(l){return l.props.dataKey}),i=iLe[n],o=V4e().keys(s).value(function(l,c){return+zs(l,c,0)}).order(lE).offset(i);return o(e)},lLe=function(e,r,n,s,i,o){if(!e)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(h,g){var p,v=(p=g.type)!==null&&p!==void 0&&p.defaultProps?_s(_s({},g.type.defaultProps),g.props):g.props,w=v.stackId,y=v.hide;if(y)return h;var N=v[n],k=h[N]||{hasStack:!1,stackGroups:{}};if(vi(w)){var S=k.stackGroups[w]||{numericAxisId:n,cateAxisId:s,items:[]};S.items.push(g),k.hasStack=!0,k.stackGroups[w]=S}else k.stackGroups[t0("_stackId_")]={numericAxisId:n,cateAxisId:s,items:[g]};return _s(_s({},h),{},Lg({},N,k))},c),f={};return Object.keys(u).reduce(function(h,g){var p=u[g];if(p.hasStack){var v={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(w,y){var N=p.stackGroups[y];return _s(_s({},w),{},Lg({},y,{numericAxisId:n,cateAxisId:s,items:N.items,stackedData:oLe(e,N.items,i)}))},v)}return _s(_s({},h),{},Lg({},g,p))},f)},bne=function(e,r){var n=r.realScaleType,s=r.type,i=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&s==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=e.domain();if(!u.length)return null;var f=jPe(u,i,l);return e.domain([_S(f),Yh(f)]),{niceTicks:f}}if(i&&s==="number"){var h=e.domain(),g=NPe(h,i,l);return{niceTicks:g}}return null};function W5(t){var e=t.axis,r=t.ticks,n=t.bandSize,s=t.entry,i=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!nn(s[e.dataKey])){var l=v5(r,"value",s[e.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=zs(s,nn(o)?e.dataKey:o);return nn(c)?null:e.scale(c)}var CU=function(e){var r=e.axis,n=e.ticks,s=e.offset,i=e.bandSize,o=e.entry,l=e.index;if(r.type==="category")return n[l]?n[l].coordinate+s:null;var c=zs(o,r.dataKey,r.domain[l]);return nn(c)?null:r.scale(c)-i/2+s},cLe=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var s=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return s<=0&&i>=0?0:i<0?i:s}return n[0]},uLe=function(e,r){var n,s=(n=e.type)!==null&&n!==void 0&&n.defaultProps?_s(_s({},e.type.defaultProps),e.props):e.props,i=s.stackId;if(vi(i)){var o=r[i];if(o){var l=o.items.indexOf(e);return l>=0?o.stackedData[l]:null}}return null},dLe=function(e){return e.reduce(function(r,n){return[_S(n.concat([r[0]]).filter(Qt)),Yh(n.concat([r[1]]).filter(Qt))]},[1/0,-1/0])},yne=function(e,r,n){return Object.keys(e).reduce(function(s,i){var o=e[i],l=o.stackedData,c=l.reduce(function(u,f){var h=dLe(f.slice(r,n+1));return[Math.min(u[0],h[0]),Math.max(u[1],h[1])]},[1/0,-1/0]);return[Math.min(c[0],s[0]),Math.max(c[1],s[1])]},[1/0,-1/0]).map(function(s){return s===1/0||s===-1/0?0:s})},_U=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,AU=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,DE=function(e,r,n){if(Yr(e))return e(r,n);if(!Array.isArray(e))return r;var s=[];if(Qt(e[0]))s[0]=n?e[0]:Math.min(e[0],r[0]);else if(_U.test(e[0])){var i=+_U.exec(e[0])[1];s[0]=r[0]-i}else Yr(e[0])?s[0]=e[0](r[0]):s[0]=r[0];if(Qt(e[1]))s[1]=n?e[1]:Math.max(e[1],r[1]);else if(AU.test(e[1])){var o=+AU.exec(e[1])[1];s[1]=r[1]+o}else Yr(e[1])?s[1]=e[1](r[1]):s[1]=r[1];return s},V5=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var s=e.scale.bandwidth();if(!n||s>0)return s}if(e&&r&&r.length>=2){for(var i=JP(r,function(h){return h.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var u=i[l],f=i[l-1];o=Math.min((u.coordinate||0)-(f.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},TU=function(e,r,n){return!e||!e.length||Wp(e,Dl(n,"type.defaultProps.domain"))?r:e},vne=function(e,r){var n=e.type.defaultProps?_s(_s({},e.type.defaultProps),e.props):e.props,s=n.dataKey,i=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,f=n.hide;return _s(_s({},Mr(e,!1)),{},{dataKey:s,unit:o,formatter:l,name:i||s,color:jL(e),value:zs(r,s),type:c,payload:r,chartType:u,hide:f})};function Mv(t){"@babel/helpers - typeof";return Mv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mv(t)}function MU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function cf(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MU(Object(r),!0).forEach(function(n){wne(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wne(t,e,r){return e=fLe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fLe(t){var e=hLe(t,"string");return Mv(e)=="symbol"?e:e+""}function hLe(t,e){if(Mv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Mv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mLe(t,e){return bLe(t)||xLe(t,e)||gLe(t,e)||pLe()}function pLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gLe(t,e){if(t){if(typeof t=="string")return EU(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return EU(t,e)}}function EU(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function xLe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){u=!0,s=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function bLe(t){if(Array.isArray(t))return t}var G5=Math.PI/180,yLe=function(e){return e*180/Math.PI},Fa=function(e,r,n,s){return{x:e+Math.cos(-G5*s)*n,y:r+Math.sin(-G5*s)*n}},jne=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},vLe=function(e,r,n,s,i){var o=e.width,l=e.height,c=e.startAngle,u=e.endAngle,f=Ro(e.cx,o,o/2),h=Ro(e.cy,l,l/2),g=jne(o,l,n),p=Ro(e.innerRadius,g,0),v=Ro(e.outerRadius,g,g*.8),w=Object.keys(r);return w.reduce(function(y,N){var k=r[N],S=k.domain,T=k.reversed,_;if(nn(k.range))s==="angleAxis"?_=[c,u]:s==="radiusAxis"&&(_=[p,v]),T&&(_=[_[1],_[0]]);else{_=k.range;var D=_,E=mLe(D,2);c=E[0],u=E[1]}var L=gne(k,i),R=L.realScaleType,F=L.scale;F.domain(S).range(_),xne(F);var A=bne(F,cf(cf({},k),{},{realScaleType:R})),M=cf(cf(cf({},k),A),{},{range:_,radius:v,realScaleType:R,scale:F,cx:f,cy:h,innerRadius:p,outerRadius:v,startAngle:c,endAngle:u});return cf(cf({},y),{},wne({},N,M))},{})},wLe=function(e,r){var n=e.x,s=e.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(s-o,2))},jLe=function(e,r){var n=e.x,s=e.y,i=r.cx,o=r.cy,l=wLe({x:n,y:s},{x:i,y:o});if(l<=0)return{radius:l};var c=(n-i)/l,u=Math.acos(c);return s>o&&(u=2*Math.PI-u),{radius:l,angle:yLe(u),angleInRadian:u}},NLe=function(e){var r=e.startAngle,n=e.endAngle,s=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(s,i);return{startAngle:r-o*360,endAngle:n-o*360}},SLe=function(e,r){var n=r.startAngle,s=r.endAngle,i=Math.floor(n/360),o=Math.floor(s/360),l=Math.min(i,o);return e+l*360},OU=function(e,r){var n=e.x,s=e.y,i=jLe({x:n,y:s},r),o=i.radius,l=i.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var f=NLe(r),h=f.startAngle,g=f.endAngle,p=l,v;if(h<=g){for(;p>g;)p-=360;for(;p<h;)p+=360;v=p>=h&&p<=g}else{for(;p>h;)p-=360;for(;p<g;)p+=360;v=p>=g&&p<=h}return v?cf(cf({},r),{},{radius:o,angle:SLe(p,r)}):null},Nne=function(e){return!b.isValidElement(e)&&!Yr(e)&&typeof e!="boolean"?e.className:""};function Ev(t){"@babel/helpers - typeof";return Ev=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ev(t)}var kLe=["offset"];function CLe(t){return MLe(t)||TLe(t)||ALe(t)||_Le()}function _Le(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ALe(t,e){if(t){if(typeof t=="string")return PE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return PE(t,e)}}function TLe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function MLe(t){if(Array.isArray(t))return PE(t)}function PE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ELe(t,e){if(t==null)return{};var r=OLe(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function OLe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function DU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function bi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?DU(Object(r),!0).forEach(function(n){DLe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):DU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function DLe(t,e,r){return e=PLe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function PLe(t){var e=LLe(t,"string");return Ev(e)=="symbol"?e:e+""}function LLe(t,e){if(Ev(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ev(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ov(){return Ov=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ov.apply(this,arguments)}var RLe=function(e){var r=e.value,n=e.formatter,s=nn(e.children)?r:e.children;return Yr(n)?n(s):s},ILe=function(e,r){var n=Lo(r-e),s=Math.min(Math.abs(r-e),360);return n*s},FLe=function(e,r,n){var s=e.position,i=e.viewBox,o=e.offset,l=e.className,c=i,u=c.cx,f=c.cy,h=c.innerRadius,g=c.outerRadius,p=c.startAngle,v=c.endAngle,w=c.clockWise,y=(h+g)/2,N=ILe(p,v),k=N>=0?1:-1,S,T;s==="insideStart"?(S=p+k*o,T=w):s==="insideEnd"?(S=v-k*o,T=!w):s==="end"&&(S=v+k*o,T=w),T=N<=0?T:!T;var _=Fa(u,f,y,S),D=Fa(u,f,y,S+(T?1:-1)*359),E="M".concat(_.x,",").concat(_.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(T?0:1,`,
    `).concat(D.x,",").concat(D.y),L=nn(e.id)?t0("recharts-radial-line-"):e.id;return pe.createElement("text",Ov({},n,{dominantBaseline:"central",className:_r("recharts-radial-bar-label",l)}),pe.createElement("defs",null,pe.createElement("path",{id:L,d:E})),pe.createElement("textPath",{xlinkHref:"#".concat(L)},r))},BLe=function(e){var r=e.viewBox,n=e.offset,s=e.position,i=r,o=i.cx,l=i.cy,c=i.innerRadius,u=i.outerRadius,f=i.startAngle,h=i.endAngle,g=(f+h)/2;if(s==="outside"){var p=Fa(o,l,u+n,g),v=p.x,w=p.y;return{x:v,y:w,textAnchor:v>=o?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var y=(c+u)/2,N=Fa(o,l,y,g),k=N.x,S=N.y;return{x:k,y:S,textAnchor:"middle",verticalAnchor:"middle"}},$Le=function(e){var r=e.viewBox,n=e.parentViewBox,s=e.offset,i=e.position,o=r,l=o.x,c=o.y,u=o.width,f=o.height,h=f>=0?1:-1,g=h*s,p=h>0?"end":"start",v=h>0?"start":"end",w=u>=0?1:-1,y=w*s,N=w>0?"end":"start",k=w>0?"start":"end";if(i==="top"){var S={x:l+u/2,y:c-h*s,textAnchor:"middle",verticalAnchor:p};return bi(bi({},S),n?{height:Math.max(c-n.y,0),width:u}:{})}if(i==="bottom"){var T={x:l+u/2,y:c+f+g,textAnchor:"middle",verticalAnchor:v};return bi(bi({},T),n?{height:Math.max(n.y+n.height-(c+f),0),width:u}:{})}if(i==="left"){var _={x:l-y,y:c+f/2,textAnchor:N,verticalAnchor:"middle"};return bi(bi({},_),n?{width:Math.max(_.x-n.x,0),height:f}:{})}if(i==="right"){var D={x:l+u+y,y:c+f/2,textAnchor:k,verticalAnchor:"middle"};return bi(bi({},D),n?{width:Math.max(n.x+n.width-D.x,0),height:f}:{})}var E=n?{width:u,height:f}:{};return i==="insideLeft"?bi({x:l+y,y:c+f/2,textAnchor:k,verticalAnchor:"middle"},E):i==="insideRight"?bi({x:l+u-y,y:c+f/2,textAnchor:N,verticalAnchor:"middle"},E):i==="insideTop"?bi({x:l+u/2,y:c+g,textAnchor:"middle",verticalAnchor:v},E):i==="insideBottom"?bi({x:l+u/2,y:c+f-g,textAnchor:"middle",verticalAnchor:p},E):i==="insideTopLeft"?bi({x:l+y,y:c+g,textAnchor:k,verticalAnchor:v},E):i==="insideTopRight"?bi({x:l+u-y,y:c+g,textAnchor:N,verticalAnchor:v},E):i==="insideBottomLeft"?bi({x:l+y,y:c+f-g,textAnchor:k,verticalAnchor:p},E):i==="insideBottomRight"?bi({x:l+u-y,y:c+f-g,textAnchor:N,verticalAnchor:p},E):Hx(i)&&(Qt(i.x)||fp(i.x))&&(Qt(i.y)||fp(i.y))?bi({x:l+Ro(i.x,u),y:c+Ro(i.y,f),textAnchor:"end",verticalAnchor:"end"},E):bi({x:l+u/2,y:c+f/2,textAnchor:"middle",verticalAnchor:"middle"},E)},HLe=function(e){return"cx"in e&&Qt(e.cx)};function Ei(t){var e=t.offset,r=e===void 0?5:e,n=ELe(t,kLe),s=bi({offset:r},n),i=s.viewBox,o=s.position,l=s.value,c=s.children,u=s.content,f=s.className,h=f===void 0?"":f,g=s.textBreakAll;if(!i||nn(l)&&nn(c)&&!b.isValidElement(u)&&!Yr(u))return null;if(b.isValidElement(u))return b.cloneElement(u,s);var p;if(Yr(u)){if(p=b.createElement(u,s),b.isValidElement(p))return p}else p=RLe(s);var v=HLe(i),w=Mr(s,!0);if(v&&(o==="insideStart"||o==="insideEnd"||o==="end"))return FLe(s,p,w);var y=v?BLe(s):$Le(s);return pe.createElement(Up,Ov({className:_r("recharts-label",h)},w,y,{breakAll:g}),p)}Ei.displayName="Label";var Sne=function(e){var r=e.cx,n=e.cy,s=e.angle,i=e.startAngle,o=e.endAngle,l=e.r,c=e.radius,u=e.innerRadius,f=e.outerRadius,h=e.x,g=e.y,p=e.top,v=e.left,w=e.width,y=e.height,N=e.clockWise,k=e.labelViewBox;if(k)return k;if(Qt(w)&&Qt(y)){if(Qt(h)&&Qt(g))return{x:h,y:g,width:w,height:y};if(Qt(p)&&Qt(v))return{x:p,y:v,width:w,height:y}}return Qt(h)&&Qt(g)?{x:h,y:g,width:0,height:0}:Qt(r)&&Qt(n)?{cx:r,cy:n,startAngle:i||s||0,endAngle:o||s||0,innerRadius:u||0,outerRadius:f||c||l||0,clockWise:N}:e.viewBox?e.viewBox:{}},zLe=function(e,r){return e?e===!0?pe.createElement(Ei,{key:"label-implicit",viewBox:r}):vi(e)?pe.createElement(Ei,{key:"label-implicit",viewBox:r,value:e}):b.isValidElement(e)?e.type===Ei?b.cloneElement(e,{key:"label-implicit",viewBox:r}):pe.createElement(Ei,{key:"label-implicit",content:e,viewBox:r}):Yr(e)?pe.createElement(Ei,{key:"label-implicit",content:e,viewBox:r}):Hx(e)?pe.createElement(Ei,Ov({viewBox:r},e,{key:"label-implicit"})):null:null},qLe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var s=e.children,i=Sne(e),o=Pl(s,Ei).map(function(c,u){return b.cloneElement(c,{viewBox:r||i,key:"label-".concat(u)})});if(!n)return o;var l=zLe(e.label,r||i);return[l].concat(CLe(o))};Ei.parseViewBox=Sne;Ei.renderCallByParent=qLe;var eT,PU;function ULe(){if(PU)return eT;PU=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return eT=t,eT}var WLe=ULe();const VLe=Vn(WLe);function Dv(t){"@babel/helpers - typeof";return Dv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dv(t)}var GLe=["valueAccessor"],YLe=["data","dataKey","clockWise","id","textBreakAll"];function KLe(t){return ZLe(t)||QLe(t)||XLe(t)||JLe()}function JLe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XLe(t,e){if(t){if(typeof t=="string")return LE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return LE(t,e)}}function QLe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ZLe(t){if(Array.isArray(t))return LE(t)}function LE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Y5(){return Y5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Y5.apply(this,arguments)}function LU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function RU(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LU(Object(r),!0).forEach(function(n){e8e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function e8e(t,e,r){return e=t8e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function t8e(t){var e=r8e(t,"string");return Dv(e)=="symbol"?e:e+""}function r8e(t,e){if(Dv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Dv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function IU(t,e){if(t==null)return{};var r=n8e(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function n8e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var a8e=function(e){return Array.isArray(e.value)?VLe(e.value):e.value};function sd(t){var e=t.valueAccessor,r=e===void 0?a8e:e,n=IU(t,GLe),s=n.data,i=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=IU(n,YLe);return!s||!s.length?null:pe.createElement(Tn,{className:"recharts-label-list"},s.map(function(f,h){var g=nn(i)?r(f,h):zs(f&&f.payload,i),p=nn(l)?{}:{id:"".concat(l,"-").concat(h)};return pe.createElement(Ei,Y5({},Mr(f,!0),u,p,{parentViewBox:f.parentViewBox,value:g,textBreakAll:c,viewBox:Ei.parseViewBox(nn(o)?f:RU(RU({},f),{},{clockWise:o})),key:"label-".concat(h),index:h}))}))}sd.displayName="LabelList";function s8e(t,e){return t?t===!0?pe.createElement(sd,{key:"labelList-implicit",data:e}):pe.isValidElement(t)||Yr(t)?pe.createElement(sd,{key:"labelList-implicit",data:e,content:t}):Hx(t)?pe.createElement(sd,Y5({data:e},t,{key:"labelList-implicit"})):null:null}function i8e(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,s=Pl(n,sd).map(function(o,l){return b.cloneElement(o,{data:e,key:"labelList-".concat(l)})});if(!r)return s;var i=s8e(t.label,e);return[i].concat(KLe(s))}sd.renderCallByParent=i8e;function Pv(t){"@babel/helpers - typeof";return Pv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pv(t)}function RE(){return RE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},RE.apply(this,arguments)}function FU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function BU(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FU(Object(r),!0).forEach(function(n){o8e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function o8e(t,e,r){return e=l8e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function l8e(t){var e=c8e(t,"string");return Pv(e)=="symbol"?e:e+""}function c8e(t,e){if(Pv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Pv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var u8e=function(e,r){var n=Lo(r-e),s=Math.min(Math.abs(r-e),359.999);return n*s},a2=function(e){var r=e.cx,n=e.cy,s=e.radius,i=e.angle,o=e.sign,l=e.isExternal,c=e.cornerRadius,u=e.cornerIsExternal,f=c*(l?1:-1)+s,h=Math.asin(c/f)/G5,g=u?i:i+o*h,p=Fa(r,n,f,g),v=Fa(r,n,s,g),w=u?i-o*h:i,y=Fa(r,n,f*Math.cos(h*G5),w);return{center:p,circleTangency:v,lineTangency:y,theta:h}},kne=function(e){var r=e.cx,n=e.cy,s=e.innerRadius,i=e.outerRadius,o=e.startAngle,l=e.endAngle,c=u8e(o,l),u=o+c,f=Fa(r,n,i,o),h=Fa(r,n,i,u),g="M ".concat(f.x,",").concat(f.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(s>0){var p=Fa(r,n,s,o),v=Fa(r,n,s,u);g+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else g+="L ".concat(r,",").concat(n," Z");return g},d8e=function(e){var r=e.cx,n=e.cy,s=e.innerRadius,i=e.outerRadius,o=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,u=e.startAngle,f=e.endAngle,h=Lo(f-u),g=a2({cx:r,cy:n,radius:i,angle:u,sign:h,cornerRadius:o,cornerIsExternal:c}),p=g.circleTangency,v=g.lineTangency,w=g.theta,y=a2({cx:r,cy:n,radius:i,angle:f,sign:-h,cornerRadius:o,cornerIsExternal:c}),N=y.circleTangency,k=y.lineTangency,S=y.theta,T=c?Math.abs(u-f):Math.abs(u-f)-w-S;if(T<0)return l?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):kne({cx:r,cy:n,innerRadius:s,outerRadius:i,startAngle:u,endAngle:f});var _="M ".concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(T>180),",").concat(+(h<0),",").concat(N.x,",").concat(N.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(k.x,",").concat(k.y,`
  `);if(s>0){var D=a2({cx:r,cy:n,radius:s,angle:u,sign:h,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),E=D.circleTangency,L=D.lineTangency,R=D.theta,F=a2({cx:r,cy:n,radius:s,angle:f,sign:-h,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),A=F.circleTangency,M=F.lineTangency,B=F.theta,z=c?Math.abs(u-f):Math.abs(u-f)-R-B;if(z<0&&o===0)return"".concat(_,"L").concat(r,",").concat(n,"Z");_+="L".concat(M.x,",").concat(M.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(A.x,",").concat(A.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(z>180),",").concat(+(h>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(L.x,",").concat(L.y,"Z")}else _+="L".concat(r,",").concat(n,"Z");return _},f8e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Cne=function(e){var r=BU(BU({},f8e),e),n=r.cx,s=r.cy,i=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,f=r.startAngle,h=r.endAngle,g=r.className;if(o<i||f===h)return null;var p=_r("recharts-sector",g),v=o-i,w=Ro(l,v,0,!0),y;return w>0&&Math.abs(f-h)<360?y=d8e({cx:n,cy:s,innerRadius:i,outerRadius:o,cornerRadius:Math.min(w,v/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:f,endAngle:h}):y=kne({cx:n,cy:s,innerRadius:i,outerRadius:o,startAngle:f,endAngle:h}),pe.createElement("path",RE({},Mr(r,!0),{className:p,d:y,role:"img"}))};function Lv(t){"@babel/helpers - typeof";return Lv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lv(t)}function IE(){return IE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},IE.apply(this,arguments)}function $U(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function HU(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$U(Object(r),!0).forEach(function(n){h8e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$U(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function h8e(t,e,r){return e=m8e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function m8e(t){var e=p8e(t,"string");return Lv(e)=="symbol"?e:e+""}function p8e(t,e){if(Lv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Lv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zU={curveBasisClosed:L4e,curveBasisOpen:R4e,curveBasis:P4e,curveBumpX:v4e,curveBumpY:w4e,curveLinearClosed:I4e,curveLinear:pS,curveMonotoneX:F4e,curveMonotoneY:B4e,curveNatural:$4e,curveStep:H4e,curveStepAfter:q4e,curveStepBefore:z4e},s2=function(e){return e.x===+e.x&&e.y===+e.y},Zb=function(e){return e.x},ey=function(e){return e.y},g8e=function(e,r){if(Yr(e))return e;var n="curve".concat(hS(e));return(n==="curveMonotone"||n==="curveBump")&&r?zU["".concat(n).concat(r==="vertical"?"Y":"X")]:zU[n]||pS},x8e=function(e){var r=e.type,n=r===void 0?"linear":r,s=e.points,i=s===void 0?[]:s,o=e.baseLine,l=e.layout,c=e.connectNulls,u=c===void 0?!1:c,f=g8e(n,l),h=u?i.filter(function(w){return s2(w)}):i,g;if(Array.isArray(o)){var p=u?o.filter(function(w){return s2(w)}):o,v=h.map(function(w,y){return HU(HU({},w),{},{base:p[y]})});return l==="vertical"?g=Jw().y(ey).x1(Zb).x0(function(w){return w.base.x}):g=Jw().x(Zb).y1(ey).y0(function(w){return w.base.y}),g.defined(s2).curve(f),g(v)}return l==="vertical"&&Qt(o)?g=Jw().y(ey).x1(Zb).x0(o):Qt(o)?g=Jw().x(Zb).y1(ey).y0(o):g=Ste().x(Zb).y(ey),g.defined(s2).curve(f),g(h)},Ep=function(e){var r=e.className,n=e.points,s=e.path,i=e.pathRef;if((!n||!n.length)&&!s)return null;var o=n&&n.length?x8e(e):s;return b.createElement("path",IE({},Mr(e,!1),w5(e),{className:_r("recharts-curve",r),d:o,ref:i}))},tT={exports:{}},rT,qU;function b8e(){if(qU)return rT;qU=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return rT=t,rT}var nT,UU;function y8e(){if(UU)return nT;UU=1;var t=b8e();function e(){}function r(){}return r.resetWarningCache=e,nT=function(){function n(o,l,c,u,f,h){if(h!==t){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}n.isRequired=n;function s(){return n}var i={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:s,element:n,elementType:n,instanceOf:s,node:n,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:r,resetWarningCache:e};return i.PropTypes=i,i},nT}var WU;function v8e(){return WU||(WU=1,tT.exports=y8e()()),tT.exports}var w8e=v8e();const sa=Vn(w8e);var j8e=Object.getOwnPropertyNames,N8e=Object.getOwnPropertySymbols,S8e=Object.prototype.hasOwnProperty;function VU(t,e){return function(n,s,i){return t(n,s,i)&&e(n,s,i)}}function i2(t){return function(r,n,s){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,s);var i=s.cache,o=i.get(r),l=i.get(n);if(o&&l)return o===n&&l===r;i.set(r,n),i.set(n,r);var c=t(r,n,s);return i.delete(r),i.delete(n),c}}function k8e(t){return t!=null?t[Symbol.toStringTag]:void 0}function GU(t){return j8e(t).concat(N8e(t))}var C8e=Object.hasOwn||(function(t,e){return S8e.call(t,e)});function a0(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var _8e="__v",A8e="__o",T8e="_owner",YU=Object.getOwnPropertyDescriptor,KU=Object.keys;function M8e(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function E8e(t,e){return a0(t.getTime(),e.getTime())}function O8e(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function D8e(t,e){return t===e}function JU(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var s=new Array(n),i=t.entries(),o,l,c=0;(o=i.next())&&!o.done;){for(var u=e.entries(),f=!1,h=0;(l=u.next())&&!l.done;){if(s[h]){h++;continue}var g=o.value,p=l.value;if(r.equals(g[0],p[0],c,h,t,e,r)&&r.equals(g[1],p[1],g[0],p[0],t,e,r)){f=s[h]=!0;break}h++}if(!f)return!1;c++}return!0}var P8e=a0;function L8e(t,e,r){var n=KU(t),s=n.length;if(KU(e).length!==s)return!1;for(;s-- >0;)if(!_ne(t,e,r,n[s]))return!1;return!0}function ty(t,e,r){var n=GU(t),s=n.length;if(GU(e).length!==s)return!1;for(var i,o,l;s-- >0;)if(i=n[s],!_ne(t,e,r,i)||(o=YU(t,i),l=YU(e,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function R8e(t,e){return a0(t.valueOf(),e.valueOf())}function I8e(t,e){return t.source===e.source&&t.flags===e.flags}function XU(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var s=new Array(n),i=t.values(),o,l;(o=i.next())&&!o.done;){for(var c=e.values(),u=!1,f=0;(l=c.next())&&!l.done;){if(!s[f]&&r.equals(o.value,l.value,o.value,l.value,t,e,r)){u=s[f]=!0;break}f++}if(!u)return!1}return!0}function F8e(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function B8e(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function _ne(t,e,r,n){return(n===T8e||n===A8e||n===_8e)&&(t.$$typeof||e.$$typeof)?!0:C8e(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var $8e="[object Arguments]",H8e="[object Boolean]",z8e="[object Date]",q8e="[object Error]",U8e="[object Map]",W8e="[object Number]",V8e="[object Object]",G8e="[object RegExp]",Y8e="[object Set]",K8e="[object String]",J8e="[object URL]",X8e=Array.isArray,QU=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,ZU=Object.assign,Q8e=Object.prototype.toString.call.bind(Object.prototype.toString);function Z8e(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,s=t.areFunctionsEqual,i=t.areMapsEqual,o=t.areNumbersEqual,l=t.areObjectsEqual,c=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,f=t.areSetsEqual,h=t.areTypedArraysEqual,g=t.areUrlsEqual,p=t.unknownTagComparators;return function(w,y,N){if(w===y)return!0;if(w==null||y==null)return!1;var k=typeof w;if(k!==typeof y)return!1;if(k!=="object")return k==="number"?o(w,y,N):k==="function"?s(w,y,N):!1;var S=w.constructor;if(S!==y.constructor)return!1;if(S===Object)return l(w,y,N);if(X8e(w))return e(w,y,N);if(QU!=null&&QU(w))return h(w,y,N);if(S===Date)return r(w,y,N);if(S===RegExp)return u(w,y,N);if(S===Map)return i(w,y,N);if(S===Set)return f(w,y,N);var T=Q8e(w);if(T===z8e)return r(w,y,N);if(T===G8e)return u(w,y,N);if(T===U8e)return i(w,y,N);if(T===Y8e)return f(w,y,N);if(T===V8e)return typeof w.then!="function"&&typeof y.then!="function"&&l(w,y,N);if(T===J8e)return g(w,y,N);if(T===q8e)return n(w,y,N);if(T===$8e)return l(w,y,N);if(T===H8e||T===W8e||T===K8e)return c(w,y,N);if(p){var _=p[T];if(!_){var D=k8e(w);D&&(_=p[D])}if(_)return _(w,y,N)}return!1}}function e7e(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,s={areArraysEqual:n?ty:M8e,areDatesEqual:E8e,areErrorsEqual:O8e,areFunctionsEqual:D8e,areMapsEqual:n?VU(JU,ty):JU,areNumbersEqual:P8e,areObjectsEqual:n?ty:L8e,arePrimitiveWrappersEqual:R8e,areRegExpsEqual:I8e,areSetsEqual:n?VU(XU,ty):XU,areTypedArraysEqual:n?ty:F8e,areUrlsEqual:B8e,unknownTagComparators:void 0};if(r&&(s=ZU({},s,r(s))),e){var i=i2(s.areArraysEqual),o=i2(s.areMapsEqual),l=i2(s.areObjectsEqual),c=i2(s.areSetsEqual);s=ZU({},s,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return s}function t7e(t){return function(e,r,n,s,i,o,l){return t(e,r,l)}}function r7e(t){var e=t.circular,r=t.comparator,n=t.createState,s=t.equals,i=t.strict;if(n)return function(c,u){var f=n(),h=f.cache,g=h===void 0?e?new WeakMap:void 0:h,p=f.meta;return r(c,u,{cache:g,equals:s,meta:p,strict:i})};if(e)return function(c,u){return r(c,u,{cache:new WeakMap,equals:s,meta:void 0,strict:i})};var o={cache:void 0,equals:s,meta:void 0,strict:i};return function(c,u){return r(c,u,o)}}var n7e=Sm();Sm({strict:!0});Sm({circular:!0});Sm({circular:!0,strict:!0});Sm({createInternalComparator:function(){return a0}});Sm({strict:!0,createInternalComparator:function(){return a0}});Sm({circular:!0,createInternalComparator:function(){return a0}});Sm({circular:!0,createInternalComparator:function(){return a0},strict:!0});function Sm(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,s=t.createState,i=t.strict,o=i===void 0?!1:i,l=e7e(t),c=Z8e(l),u=n?n(c):t7e(c);return r7e({circular:r,comparator:c,createState:s,equals:u,strict:o})}function a7e(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function eW(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function s(i){r<0&&(r=i),i-r>e?(t(i),r=-1):a7e(s)};requestAnimationFrame(n)}function FE(t){"@babel/helpers - typeof";return FE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},FE(t)}function s7e(t){return c7e(t)||l7e(t)||o7e(t)||i7e()}function i7e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o7e(t,e){if(t){if(typeof t=="string")return tW(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tW(t,e)}}function tW(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function l7e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function c7e(t){if(Array.isArray(t))return t}function u7e(){var t={},e=function(){return null},r=!1,n=function s(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,l=s7e(o),c=l[0],u=l.slice(1);if(typeof c=="number"){eW(s.bind(null,u),c);return}s(c),eW(s.bind(null,u));return}FE(i)==="object"&&(t=i,e(t)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return e=i,function(){e=function(){return null}}}}}function Rv(t){"@babel/helpers - typeof";return Rv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rv(t)}function rW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function nW(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rW(Object(r),!0).forEach(function(n){Ane(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ane(t,e,r){return e=d7e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function d7e(t){var e=f7e(t,"string");return Rv(e)==="symbol"?e:String(e)}function f7e(t,e){if(Rv(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Rv(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var h7e=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,s){return n.filter(function(i){return s.includes(i)})})},m7e=function(e){return e},p7e=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Iy=function(e,r){return Object.keys(r).reduce(function(n,s){return nW(nW({},n),{},Ane({},s,e(s,r[s])))},{})},aW=function(e,r,n){return e.map(function(s){return"".concat(p7e(s)," ").concat(r,"ms ").concat(n)}).join(",")};function g7e(t,e){return y7e(t)||b7e(t,e)||Tne(t,e)||x7e()}function x7e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b7e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){u=!0,s=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function y7e(t){if(Array.isArray(t))return t}function v7e(t){return N7e(t)||j7e(t)||Tne(t)||w7e()}function w7e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tne(t,e){if(t){if(typeof t=="string")return BE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return BE(t,e)}}function j7e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function N7e(t){if(Array.isArray(t))return BE(t)}function BE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var K5=1e-4,Mne=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},Ene=function(e,r){return e.map(function(n,s){return n*Math.pow(r,s)}).reduce(function(n,s){return n+s})},sW=function(e,r){return function(n){var s=Mne(e,r);return Ene(s,n)}},S7e=function(e,r){return function(n){var s=Mne(e,r),i=[].concat(v7e(s.map(function(o,l){return o*l}).slice(1)),[0]);return Ene(i,n)}},iW=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var s=r[0],i=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":s=0,i=0,o=1,l=1;break;case"ease":s=.25,i=.1,o=.25,l=1;break;case"ease-in":s=.42,i=0,o=1,l=1;break;case"ease-out":s=.42,i=0,o=.58,l=1;break;case"ease-in-out":s=0,i=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),f=g7e(u,4);s=f[0],i=f[1],o=f[2],l=f[3]}}}var h=sW(s,o),g=sW(i,l),p=S7e(s,o),v=function(N){return N>1?1:N<0?0:N},w=function(N){for(var k=N>1?1:N,S=k,T=0;T<8;++T){var _=h(S)-k,D=p(S);if(Math.abs(_-k)<K5||D<K5)return g(S);S=v(S-_/D)}return g(S)};return w.isStepper=!1,w},k7e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,s=e.damping,i=s===void 0?8:s,o=e.dt,l=o===void 0?17:o,c=function(f,h,g){var p=-(f-h)*n,v=g*i,w=g+(p-v)*l/1e3,y=g*l/1e3+f;return Math.abs(y-h)<K5&&Math.abs(w)<K5?[h,0]:[y,w]};return c.isStepper=!0,c.dt=l,c},C7e=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var s=r[0];if(typeof s=="string")switch(s){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return iW(s);case"spring":return k7e();default:if(s.split("(")[0]==="cubic-bezier")return iW(s)}return typeof s=="function"?s:null};function Iv(t){"@babel/helpers - typeof";return Iv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Iv(t)}function oW(t){return T7e(t)||A7e(t)||One(t)||_7e()}function _7e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function A7e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function T7e(t){if(Array.isArray(t))return HE(t)}function lW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function qi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lW(Object(r),!0).forEach(function(n){$E(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $E(t,e,r){return e=M7e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function M7e(t){var e=E7e(t,"string");return Iv(e)==="symbol"?e:String(e)}function E7e(t,e){if(Iv(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Iv(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function O7e(t,e){return L7e(t)||P7e(t,e)||One(t,e)||D7e()}function D7e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function One(t,e){if(t){if(typeof t=="string")return HE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return HE(t,e)}}function HE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function P7e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){u=!0,s=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function L7e(t){if(Array.isArray(t))return t}var J5=function(e,r,n){return e+(r-e)*n},zE=function(e){var r=e.from,n=e.to;return r!==n},R7e=function t(e,r,n){var s=Iy(function(i,o){if(zE(o)){var l=e(o.from,o.to,o.velocity),c=O7e(l,2),u=c[0],f=c[1];return qi(qi({},o),{},{from:u,velocity:f})}return o},r);return n<1?Iy(function(i,o){return zE(o)?qi(qi({},o),{},{velocity:J5(o.velocity,s[i].velocity,n),from:J5(o.from,s[i].from,n)}):o},r):t(e,s,n-1)};const I7e=(function(t,e,r,n,s){var i=h7e(t,e),o=i.reduce(function(y,N){return qi(qi({},y),{},$E({},N,[t[N],e[N]]))},{}),l=i.reduce(function(y,N){return qi(qi({},y),{},$E({},N,{from:t[N],velocity:0,to:e[N]}))},{}),c=-1,u,f,h=function(){return null},g=function(){return Iy(function(N,k){return k.from},l)},p=function(){return!Object.values(l).filter(zE).length},v=function(N){u||(u=N);var k=N-u,S=k/r.dt;l=R7e(r,l,S),s(qi(qi(qi({},t),e),g())),u=N,p()||(c=requestAnimationFrame(h))},w=function(N){f||(f=N);var k=(N-f)/n,S=Iy(function(_,D){return J5.apply(void 0,oW(D).concat([r(k)]))},o);if(s(qi(qi(qi({},t),e),S)),k<1)c=requestAnimationFrame(h);else{var T=Iy(function(_,D){return J5.apply(void 0,oW(D).concat([r(1)]))},o);s(qi(qi(qi({},t),e),T))}};return h=r.isStepper?v:w,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(c)}}});function mx(t){"@babel/helpers - typeof";return mx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mx(t)}var F7e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function B7e(t,e){if(t==null)return{};var r=$7e(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function $7e(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,i;for(i=0;i<n.length;i++)s=n[i],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function aT(t){return U7e(t)||q7e(t)||z7e(t)||H7e()}function H7e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function z7e(t,e){if(t){if(typeof t=="string")return qE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qE(t,e)}}function q7e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function U7e(t){if(Array.isArray(t))return qE(t)}function qE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function cW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Yc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cW(Object(r),!0).forEach(function(n){by(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function by(t,e,r){return e=Dne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function W7e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function V7e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Dne(n.key),n)}}function G7e(t,e,r){return e&&V7e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Dne(t){var e=Y7e(t,"string");return mx(e)==="symbol"?e:String(e)}function Y7e(t,e){if(mx(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(mx(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function K7e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&UE(t,e)}function UE(t,e){return UE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},UE(t,e)}function J7e(t){var e=X7e();return function(){var n=X5(t),s;if(e){var i=X5(this).constructor;s=Reflect.construct(n,arguments,i)}else s=n.apply(this,arguments);return WE(this,s)}}function WE(t,e){if(e&&(mx(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VE(t)}function VE(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function X7e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function X5(t){return X5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},X5(t)}var fu=(function(t){K7e(r,t);var e=J7e(r);function r(n,s){var i;W7e(this,r),i=e.call(this,n,s);var o=i.props,l=o.isActive,c=o.attributeName,u=o.from,f=o.to,h=o.steps,g=o.children,p=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(VE(i)),i.changeStyle=i.changeStyle.bind(VE(i)),!l||p<=0)return i.state={style:{}},typeof g=="function"&&(i.state={style:f}),WE(i);if(h&&h.length)i.state={style:h[0].style};else if(u){if(typeof g=="function")return i.state={style:u},WE(i);i.state={style:c?by({},c,u):u}}else i.state={style:{}};return i}return G7e(r,[{key:"componentDidMount",value:function(){var s=this.props,i=s.isActive,o=s.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(s){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,f=i.to,h=i.from,g=this.state.style;if(l){if(!o){var p={style:c?by({},c,f):f};this.state&&g&&(c&&g[c]!==f||!c&&g!==f)&&this.setState(p);return}if(!(n7e(s.to,f)&&s.canBegin&&s.isActive)){var v=!s.canBegin||!s.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var w=v||u?h:s.to;if(this.state&&g){var y={style:c?by({},c,w):w};(c&&g[c]!==w||!c&&g!==w)&&this.setState(y)}this.runAnimation(Yc(Yc({},this.props),{},{from:w,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var s=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),s&&s()}},{key:"handleStyleChange",value:function(s){this.changeStyle(s)}},{key:"changeStyle",value:function(s){this.mounted&&this.setState({style:s})}},{key:"runJSAnimation",value:function(s){var i=this,o=s.from,l=s.to,c=s.duration,u=s.easing,f=s.begin,h=s.onAnimationEnd,g=s.onAnimationStart,p=I7e(o,l,C7e(u),c,this.changeStyle),v=function(){i.stopJSAnimation=p()};this.manager.start([g,f,v,c,h])}},{key:"runStepAnimation",value:function(s){var i=this,o=s.steps,l=s.begin,c=s.onAnimationStart,u=o[0],f=u.style,h=u.duration,g=h===void 0?0:h,p=function(w,y,N){if(N===0)return w;var k=y.duration,S=y.easing,T=S===void 0?"ease":S,_=y.style,D=y.properties,E=y.onAnimationEnd,L=N>0?o[N-1]:y,R=D||Object.keys(_);if(typeof T=="function"||T==="spring")return[].concat(aT(w),[i.runJSAnimation.bind(i,{from:L.style,to:_,duration:k,easing:T}),k]);var F=aW(R,k,T),A=Yc(Yc(Yc({},L.style),_),{},{transition:F});return[].concat(aT(w),[A,k,E]).filter(m7e)};return this.manager.start([c].concat(aT(o.reduce(p,[f,Math.max(g,l)])),[s.onAnimationEnd]))}},{key:"runAnimation",value:function(s){this.manager||(this.manager=u7e());var i=s.begin,o=s.duration,l=s.attributeName,c=s.to,u=s.easing,f=s.onAnimationStart,h=s.onAnimationEnd,g=s.steps,p=s.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(s);return}if(g.length>1){this.runStepAnimation(s);return}var w=l?by({},l,c):c,y=aW(Object.keys(w),o,u);v.start([f,i,Yc(Yc({},w),{},{transition:y}),o,h])}},{key:"render",value:function(){var s=this.props,i=s.children;s.begin;var o=s.duration;s.attributeName,s.easing;var l=s.isActive;s.steps,s.from,s.to,s.canBegin,s.onAnimationEnd,s.shouldReAnimate,s.onAnimationReStart;var c=B7e(s,F7e),u=b.Children.count(i),f=this.state.style;if(typeof i=="function")return i(f);if(!l||u===0||o<=0)return i;var h=function(p){var v=p.props,w=v.style,y=w===void 0?{}:w,N=v.className,k=b.cloneElement(p,Yc(Yc({},c),{},{style:Yc(Yc({},y),f),className:N}));return k};return u===1?h(b.Children.only(i)):pe.createElement("div",null,b.Children.map(i,function(g){return h(g)}))}}]),r})(b.PureComponent);fu.displayName="Animate";fu.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};fu.propTypes={from:sa.oneOfType([sa.object,sa.string]),to:sa.oneOfType([sa.object,sa.string]),attributeName:sa.string,duration:sa.number,begin:sa.number,easing:sa.oneOfType([sa.string,sa.func]),steps:sa.arrayOf(sa.shape({duration:sa.number.isRequired,style:sa.object.isRequired,easing:sa.oneOfType([sa.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),sa.func]),properties:sa.arrayOf("string"),onAnimationEnd:sa.func})),children:sa.oneOfType([sa.node,sa.func]),isActive:sa.bool,canBegin:sa.bool,onAnimationEnd:sa.func,shouldReAnimate:sa.bool,onAnimationStart:sa.func,onAnimationReStart:sa.func};function Fv(t){"@babel/helpers - typeof";return Fv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fv(t)}function Q5(){return Q5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Q5.apply(this,arguments)}function Q7e(t,e){return rRe(t)||tRe(t,e)||eRe(t,e)||Z7e()}function Z7e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eRe(t,e){if(t){if(typeof t=="string")return uW(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uW(t,e)}}function uW(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function tRe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){u=!0,s=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function rRe(t){if(Array.isArray(t))return t}function dW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function fW(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dW(Object(r),!0).forEach(function(n){nRe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nRe(t,e,r){return e=aRe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function aRe(t){var e=sRe(t,"string");return Fv(e)=="symbol"?e:e+""}function sRe(t,e){if(Fv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hW=function(e,r,n,s,i){var o=Math.min(Math.abs(n)/2,Math.abs(s)/2),l=s>=0?1:-1,c=n>=0?1:-1,u=s>=0&&n>=0||s<0&&n<0?1:0,f;if(o>0&&i instanceof Array){for(var h=[0,0,0,0],g=0,p=4;g<p;g++)h[g]=i[g]>o?o:i[g];f="M".concat(e,",").concat(r+l*h[0]),h[0]>0&&(f+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(u,",").concat(e+c*h[0],",").concat(r)),f+="L ".concat(e+n-c*h[1],",").concat(r),h[1]>0&&(f+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(u,`,
        `).concat(e+n,",").concat(r+l*h[1])),f+="L ".concat(e+n,",").concat(r+s-l*h[2]),h[2]>0&&(f+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(u,`,
        `).concat(e+n-c*h[2],",").concat(r+s)),f+="L ".concat(e+c*h[3],",").concat(r+s),h[3]>0&&(f+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(r+s-l*h[3])),f+="Z"}else if(o>0&&i===+i&&i>0){var v=Math.min(o,i);f="M ".concat(e,",").concat(r+l*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+c*v,",").concat(r,`
            L `).concat(e+n-c*v,",").concat(r,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+n,",").concat(r+l*v,`
            L `).concat(e+n,",").concat(r+s-l*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+n-c*v,",").concat(r+s,`
            L `).concat(e+c*v,",").concat(r+s,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e,",").concat(r+s-l*v," Z")}else f="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(s," h ").concat(-n," Z");return f},iRe=function(e,r){if(!e||!r)return!1;var n=e.x,s=e.y,i=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(i,i+l),f=Math.max(i,i+l),h=Math.min(o,o+c),g=Math.max(o,o+c);return n>=u&&n<=f&&s>=h&&s<=g}return!1},oRe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},NL=function(e){var r=fW(fW({},oRe),e),n=b.useRef(),s=b.useState(-1),i=Q7e(s,2),o=i[0],l=i[1];b.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var T=n.current.getTotalLength();T&&l(T)}catch{}},[]);var c=r.x,u=r.y,f=r.width,h=r.height,g=r.radius,p=r.className,v=r.animationEasing,w=r.animationDuration,y=r.animationBegin,N=r.isAnimationActive,k=r.isUpdateAnimationActive;if(c!==+c||u!==+u||f!==+f||h!==+h||f===0||h===0)return null;var S=_r("recharts-rectangle",p);return k?pe.createElement(fu,{canBegin:o>0,from:{width:f,height:h,x:c,y:u},to:{width:f,height:h,x:c,y:u},duration:w,animationEasing:v,isActive:k},function(T){var _=T.width,D=T.height,E=T.x,L=T.y;return pe.createElement(fu,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:w,isActive:N,easing:v},pe.createElement("path",Q5({},Mr(r,!0),{className:S,d:hW(E,L,_,D,g),ref:n})))}):pe.createElement("path",Q5({},Mr(r,!0),{className:S,d:hW(c,u,f,h,g)}))},lRe=["points","className","baseLinePoints","connectNulls"];function yg(){return yg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yg.apply(this,arguments)}function cRe(t,e){if(t==null)return{};var r=uRe(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function uRe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function mW(t){return mRe(t)||hRe(t)||fRe(t)||dRe()}function dRe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fRe(t,e){if(t){if(typeof t=="string")return GE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return GE(t,e)}}function hRe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function mRe(t){if(Array.isArray(t))return GE(t)}function GE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var pW=function(e){return e&&e.x===+e.x&&e.y===+e.y},pRe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){pW(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),pW(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Fy=function(e,r){var n=pRe(e);r&&(n=[n.reduce(function(i,o){return[].concat(mW(i),mW(o))},[])]);var s=n.map(function(i){return i.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(s,"Z"):s},gRe=function(e,r,n){var s=Fy(e,n);return"".concat(s.slice(-1)==="Z"?s.slice(0,-1):s,"L").concat(Fy(r.reverse(),n).slice(1))},xRe=function(e){var r=e.points,n=e.className,s=e.baseLinePoints,i=e.connectNulls,o=cRe(e,lRe);if(!r||!r.length)return null;var l=_r("recharts-polygon",n);if(s&&s.length){var c=o.stroke&&o.stroke!=="none",u=gRe(r,s,i);return pe.createElement("g",{className:l},pe.createElement("path",yg({},Mr(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?pe.createElement("path",yg({},Mr(o,!0),{fill:"none",d:Fy(r,i)})):null,c?pe.createElement("path",yg({},Mr(o,!0),{fill:"none",d:Fy(s,i)})):null)}var f=Fy(r,i);return pe.createElement("path",yg({},Mr(o,!0),{fill:f.slice(-1)==="Z"?o.fill:"none",className:l,d:f}))};function YE(){return YE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},YE.apply(this,arguments)}var w1=function(e){var r=e.cx,n=e.cy,s=e.r,i=e.className,o=_r("recharts-dot",i);return r===+r&&n===+n&&s===+s?b.createElement("circle",YE({},Mr(e,!1),w5(e),{className:o,cx:r,cy:n,r:s})):null};function Bv(t){"@babel/helpers - typeof";return Bv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bv(t)}var bRe=["x","y","top","left","width","height","className"];function KE(){return KE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},KE.apply(this,arguments)}function gW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function yRe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gW(Object(r),!0).forEach(function(n){vRe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vRe(t,e,r){return e=wRe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wRe(t){var e=jRe(t,"string");return Bv(e)=="symbol"?e:e+""}function jRe(t,e){if(Bv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function NRe(t,e){if(t==null)return{};var r=SRe(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function SRe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var kRe=function(e,r,n,s,i,o){return"M".concat(e,",").concat(i,"v").concat(s,"M").concat(o,",").concat(r,"h").concat(n)},CRe=function(e){var r=e.x,n=r===void 0?0:r,s=e.y,i=s===void 0?0:s,o=e.top,l=o===void 0?0:o,c=e.left,u=c===void 0?0:c,f=e.width,h=f===void 0?0:f,g=e.height,p=g===void 0?0:g,v=e.className,w=NRe(e,bRe),y=yRe({x:n,y:i,top:l,left:u,width:h,height:p},w);return!Qt(n)||!Qt(i)||!Qt(h)||!Qt(p)||!Qt(l)||!Qt(u)?null:pe.createElement("path",KE({},Mr(y,!0),{className:_r("recharts-cross",v),d:kRe(n,i,h,p,l,u)}))},sT,xW;function _Re(){if(xW)return sT;xW=1;var t=CS(),e=Yre(),r=bd();function n(s,i){return s&&s.length?t(s,r(i,2),e):void 0}return sT=n,sT}var ARe=_Re();const TRe=Vn(ARe);var iT,bW;function MRe(){if(bW)return iT;bW=1;var t=CS(),e=bd(),r=Kre();function n(s,i){return s&&s.length?t(s,e(i,2),r):void 0}return iT=n,iT}var ERe=MRe();const ORe=Vn(ERe);var DRe=["cx","cy","angle","ticks","axisLine"],PRe=["ticks","tick","angle","tickFormatter","stroke"];function px(t){"@babel/helpers - typeof";return px=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},px(t)}function By(){return By=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},By.apply(this,arguments)}function yW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Gm(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yW(Object(r),!0).forEach(function(n){MS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vW(t,e){if(t==null)return{};var r=LRe(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function LRe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function RRe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Lne(n.key),n)}}function IRe(t,e,r){return e&&wW(t.prototype,e),r&&wW(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function FRe(t,e,r){return e=Z5(e),BRe(t,Pne()?Reflect.construct(e,r||[],Z5(t).constructor):e.apply(t,r))}function BRe(t,e){if(e&&(px(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $Re(t)}function $Re(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Pne(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Pne=function(){return!!t})()}function Z5(t){return Z5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Z5(t)}function HRe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&JE(t,e)}function JE(t,e){return JE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},JE(t,e)}function MS(t,e,r){return e=Lne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Lne(t){var e=zRe(t,"string");return px(e)=="symbol"?e:e+""}function zRe(t,e){if(px(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(px(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ES=(function(t){function e(){return RRe(this,e),FRe(this,e,arguments)}return HRe(e,t),IRe(e,[{key:"getTickValueCoord",value:function(n){var s=n.coordinate,i=this.props,o=i.angle,l=i.cx,c=i.cy;return Fa(l,c,s,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,s;switch(n){case"left":s="end";break;case"right":s="start";break;default:s="middle";break}return s}},{key:"getViewBox",value:function(){var n=this.props,s=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=TRe(l,function(f){return f.coordinate||0}),u=ORe(l,function(f){return f.coordinate||0});return{cx:s,cy:i,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=n.axisLine,u=vW(n,DRe),f=l.reduce(function(v,w){return[Math.min(v[0],w.coordinate),Math.max(v[1],w.coordinate)]},[1/0,-1/0]),h=Fa(s,i,f[0],o),g=Fa(s,i,f[1],o),p=Gm(Gm(Gm({},Mr(u,!1)),{},{fill:"none"},Mr(c,!1)),{},{x1:h.x,y1:h.y,x2:g.x,y2:g.y});return pe.createElement("line",By({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var n=this,s=this.props,i=s.ticks,o=s.tick,l=s.angle,c=s.tickFormatter,u=s.stroke,f=vW(s,PRe),h=this.getTickTextAnchor(),g=Mr(f,!1),p=Mr(o,!1),v=i.map(function(w,y){var N=n.getTickValueCoord(w),k=Gm(Gm(Gm(Gm({textAnchor:h,transform:"rotate(".concat(90-l,", ").concat(N.x,", ").concat(N.y,")")},g),{},{stroke:"none",fill:u},p),{},{index:y},N),{},{payload:w});return pe.createElement(Tn,By({className:_r("recharts-polar-radius-axis-tick",Nne(o)),key:"tick-".concat(w.coordinate)},zp(n.props,w,y)),e.renderTickItem(o,k,c?c(w.value,y):w.value))});return pe.createElement(Tn,{className:"recharts-polar-radius-axis-ticks"},v)}},{key:"render",value:function(){var n=this.props,s=n.ticks,i=n.axisLine,o=n.tick;return!s||!s.length?null:pe.createElement(Tn,{className:_r("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),Ei.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,s,i){var o;return pe.isValidElement(n)?o=pe.cloneElement(n,s):Yr(n)?o=n(s):o=pe.createElement(Up,By({},s,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])})(b.PureComponent);MS(ES,"displayName","PolarRadiusAxis");MS(ES,"axisType","radiusAxis");MS(ES,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function gx(t){"@babel/helpers - typeof";return gx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gx(t)}function rp(){return rp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},rp.apply(this,arguments)}function jW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Ym(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jW(Object(r),!0).forEach(function(n){OS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qRe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ine(n.key),n)}}function URe(t,e,r){return e&&NW(t.prototype,e),r&&NW(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function WRe(t,e,r){return e=eN(e),VRe(t,Rne()?Reflect.construct(e,r||[],eN(t).constructor):e.apply(t,r))}function VRe(t,e){if(e&&(gx(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GRe(t)}function GRe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Rne(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Rne=function(){return!!t})()}function eN(t){return eN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},eN(t)}function YRe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&XE(t,e)}function XE(t,e){return XE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},XE(t,e)}function OS(t,e,r){return e=Ine(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ine(t){var e=KRe(t,"string");return gx(e)=="symbol"?e:e+""}function KRe(t,e){if(gx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var JRe=Math.PI/180,SW=1e-5,DS=(function(t){function e(){return qRe(this,e),WRe(this,e,arguments)}return YRe(e,t),URe(e,[{key:"getTickLineCoord",value:function(n){var s=this.props,i=s.cx,o=s.cy,l=s.radius,c=s.orientation,u=s.tickSize,f=u||8,h=Fa(i,o,l,n.coordinate),g=Fa(i,o,l+(c==="inner"?-1:1)*f,n.coordinate);return{x1:h.x,y1:h.y,x2:g.x,y2:g.y}}},{key:"getTickTextAnchor",value:function(n){var s=this.props.orientation,i=Math.cos(-n.coordinate*JRe),o;return i>SW?o=s==="outer"?"start":"end":i<-SW?o=s==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.cx,i=n.cy,o=n.radius,l=n.axisLine,c=n.axisLineType,u=Ym(Ym({},Mr(this.props,!1)),{},{fill:"none"},Mr(l,!1));if(c==="circle")return pe.createElement(w1,rp({className:"recharts-polar-angle-axis-line"},u,{cx:s,cy:i,r:o}));var f=this.props.ticks,h=f.map(function(g){return Fa(s,i,o,g.coordinate)});return pe.createElement(xRe,rp({className:"recharts-polar-angle-axis-line"},u,{points:h}))}},{key:"renderTicks",value:function(){var n=this,s=this.props,i=s.ticks,o=s.tick,l=s.tickLine,c=s.tickFormatter,u=s.stroke,f=Mr(this.props,!1),h=Mr(o,!1),g=Ym(Ym({},f),{},{fill:"none"},Mr(l,!1)),p=i.map(function(v,w){var y=n.getTickLineCoord(v),N=n.getTickTextAnchor(v),k=Ym(Ym(Ym({textAnchor:N},f),{},{stroke:"none",fill:u},h),{},{index:w,payload:v,x:y.x2,y:y.y2});return pe.createElement(Tn,rp({className:_r("recharts-polar-angle-axis-tick",Nne(o)),key:"tick-".concat(v.coordinate)},zp(n.props,v,w)),l&&pe.createElement("line",rp({className:"recharts-polar-angle-axis-tick-line"},g,y)),o&&e.renderTickItem(o,k,c?c(v.value,w):v.value))});return pe.createElement(Tn,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var n=this.props,s=n.ticks,i=n.radius,o=n.axisLine;return i<=0||!s||!s.length?null:pe.createElement(Tn,{className:_r("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,s,i){var o;return pe.isValidElement(n)?o=pe.cloneElement(n,s):Yr(n)?o=n(s):o=pe.createElement(Up,rp({},s,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])})(b.PureComponent);OS(DS,"displayName","PolarAngleAxis");OS(DS,"axisType","angleAxis");OS(DS,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var oT,kW;function XRe(){if(kW)return oT;kW=1;var t=Gte(),e=t(Object.getPrototypeOf,Object);return oT=e,oT}var lT,CW;function QRe(){if(CW)return lT;CW=1;var t=Wf(),e=XRe(),r=Vf(),n="[object Object]",s=Function.prototype,i=Object.prototype,o=s.toString,l=i.hasOwnProperty,c=o.call(Object);function u(f){if(!r(f)||t(f)!=n)return!1;var h=e(f);if(h===null)return!0;var g=l.call(h,"constructor")&&h.constructor;return typeof g=="function"&&g instanceof g&&o.call(g)==c}return lT=u,lT}var ZRe=QRe();const eIe=Vn(ZRe);var cT,_W;function tIe(){if(_W)return cT;_W=1;var t=Wf(),e=Vf(),r="[object Boolean]";function n(s){return s===!0||s===!1||e(s)&&t(s)==r}return cT=n,cT}var rIe=tIe();const nIe=Vn(rIe);function $v(t){"@babel/helpers - typeof";return $v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$v(t)}function tN(){return tN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},tN.apply(this,arguments)}function aIe(t,e){return lIe(t)||oIe(t,e)||iIe(t,e)||sIe()}function sIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iIe(t,e){if(t){if(typeof t=="string")return AW(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return AW(t,e)}}function AW(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function oIe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){u=!0,s=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function lIe(t){if(Array.isArray(t))return t}function TW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function MW(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TW(Object(r),!0).forEach(function(n){cIe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cIe(t,e,r){return e=uIe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uIe(t){var e=dIe(t,"string");return $v(e)=="symbol"?e:e+""}function dIe(t,e){if($v(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($v(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var EW=function(e,r,n,s,i){var o=n-s,l;return l="M ".concat(e,",").concat(r),l+="L ".concat(e+n,",").concat(r),l+="L ".concat(e+n-o/2,",").concat(r+i),l+="L ".concat(e+n-o/2-s,",").concat(r+i),l+="L ".concat(e,",").concat(r," Z"),l},fIe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},hIe=function(e){var r=MW(MW({},fIe),e),n=b.useRef(),s=b.useState(-1),i=aIe(s,2),o=i[0],l=i[1];b.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var S=n.current.getTotalLength();S&&l(S)}catch{}},[]);var c=r.x,u=r.y,f=r.upperWidth,h=r.lowerWidth,g=r.height,p=r.className,v=r.animationEasing,w=r.animationDuration,y=r.animationBegin,N=r.isUpdateAnimationActive;if(c!==+c||u!==+u||f!==+f||h!==+h||g!==+g||f===0&&h===0||g===0)return null;var k=_r("recharts-trapezoid",p);return N?pe.createElement(fu,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:g,x:c,y:u},to:{upperWidth:f,lowerWidth:h,height:g,x:c,y:u},duration:w,animationEasing:v,isActive:N},function(S){var T=S.upperWidth,_=S.lowerWidth,D=S.height,E=S.x,L=S.y;return pe.createElement(fu,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:w,easing:v},pe.createElement("path",tN({},Mr(r,!0),{className:k,d:EW(E,L,T,_,D),ref:n})))}):pe.createElement("g",null,pe.createElement("path",tN({},Mr(r,!0),{className:k,d:EW(c,u,f,h,g)})))},mIe=["option","shapeType","propTransformer","activeClassName","isActive"];function Hv(t){"@babel/helpers - typeof";return Hv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hv(t)}function pIe(t,e){if(t==null)return{};var r=gIe(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function gIe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function OW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function rN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OW(Object(r),!0).forEach(function(n){xIe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xIe(t,e,r){return e=bIe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bIe(t){var e=yIe(t,"string");return Hv(e)=="symbol"?e:e+""}function yIe(t,e){if(Hv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vIe(t,e){return rN(rN({},e),t)}function wIe(t,e){return t==="symbols"}function DW(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return pe.createElement(NL,r);case"trapezoid":return pe.createElement(hIe,r);case"sector":return pe.createElement(Cne,r);case"symbols":if(wIe(e))return pe.createElement(zP,r);break;default:return null}}function jIe(t){return b.isValidElement(t)?t.props:t}function Fne(t){var e=t.option,r=t.shapeType,n=t.propTransformer,s=n===void 0?vIe:n,i=t.activeClassName,o=i===void 0?"recharts-active-shape":i,l=t.isActive,c=pIe(t,mIe),u;if(b.isValidElement(e))u=b.cloneElement(e,rN(rN({},c),jIe(e)));else if(Yr(e))u=e(c);else if(eIe(e)&&!nIe(e)){var f=s(e,c);u=pe.createElement(DW,{shapeType:r,elementProps:f})}else{var h=c;u=pe.createElement(DW,{shapeType:r,elementProps:h})}return l?pe.createElement(Tn,{className:o},u):u}function PS(t,e){return e!=null&&"trapezoids"in t.props}function LS(t,e){return e!=null&&"sectors"in t.props}function zv(t,e){return e!=null&&"points"in t.props}function NIe(t,e){var r,n,s=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,i=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return s&&i}function SIe(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function kIe(t,e){var r=t.x===e.x,n=t.y===e.y,s=t.z===e.z;return r&&n&&s}function CIe(t,e){var r;return PS(t,e)?r=NIe:LS(t,e)?r=SIe:zv(t,e)&&(r=kIe),r}function _Ie(t,e){var r;return PS(t,e)?r="trapezoids":LS(t,e)?r="sectors":zv(t,e)&&(r="points"),r}function AIe(t,e){if(PS(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(LS(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return zv(t,e)?e.payload:{}}function TIe(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,s=_Ie(r,e),i=AIe(r,e),o=n.filter(function(c,u){var f=Wp(i,c),h=r.props[s].filter(function(v){var w=CIe(r,e);return w(v,e)}),g=r.props[s].indexOf(h[h.length-1]),p=u===g;return f&&p}),l=n.indexOf(o[o.length-1]);return l}var K2;function xx(t){"@babel/helpers - typeof";return xx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xx(t)}function vg(){return vg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vg.apply(this,arguments)}function PW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Ra(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PW(Object(r),!0).forEach(function(n){dc(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function MIe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,$ne(n.key),n)}}function EIe(t,e,r){return e&&LW(t.prototype,e),r&&LW(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function OIe(t,e,r){return e=nN(e),DIe(t,Bne()?Reflect.construct(e,r||[],nN(t).constructor):e.apply(t,r))}function DIe(t,e){if(e&&(xx(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PIe(t)}function PIe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Bne(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Bne=function(){return!!t})()}function nN(t){return nN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},nN(t)}function LIe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&QE(t,e)}function QE(t,e){return QE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},QE(t,e)}function dc(t,e,r){return e=$ne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $ne(t){var e=RIe(t,"string");return xx(e)=="symbol"?e:e+""}function RIe(t,e){if(xx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var gu=(function(t){function e(r){var n;return MIe(this,e),n=OIe(this,e,[r]),dc(n,"pieRef",null),dc(n,"sectorRefs",[]),dc(n,"id",t0("recharts-pie-")),dc(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Yr(s)&&s()}),dc(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Yr(s)&&s()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return LIe(e,t),EIe(e,[{key:"isActiveIndex",value:function(n){var s=this.props.activeIndex;return Array.isArray(s)?s.indexOf(n)!==-1:n===s}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,l=i.labelLine,c=i.dataKey,u=i.valueKey,f=Mr(this.props,!1),h=Mr(o,!1),g=Mr(l,!1),p=o&&o.offsetRadius||20,v=n.map(function(w,y){var N=(w.startAngle+w.endAngle)/2,k=Fa(w.cx,w.cy,w.outerRadius+p,N),S=Ra(Ra(Ra(Ra({},f),w),{},{stroke:"none"},h),{},{index:y,textAnchor:e.getTextAnchor(k.x,w.cx)},k),T=Ra(Ra(Ra(Ra({},f),w),{},{fill:"none",stroke:w.fill},g),{},{index:y,points:[Fa(w.cx,w.cy,w.outerRadius,N),k]}),_=c;return nn(c)&&nn(u)?_="value":nn(c)&&(_=u),pe.createElement(Tn,{key:"label-".concat(w.startAngle,"-").concat(w.endAngle,"-").concat(w.midAngle,"-").concat(y)},l&&e.renderLabelLineItem(l,T,"line"),e.renderLabelItem(o,S,zs(w,_)))});return pe.createElement(Tn,{className:"recharts-pie-labels"},v)}},{key:"renderSectorsStatically",value:function(n){var s=this,i=this.props,o=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return n.map(function(u,f){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var h=s.isActiveIndex(f),g=c&&s.hasActiveIndex()?c:null,p=h?o:g,v=Ra(Ra({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return pe.createElement(Tn,vg({ref:function(y){y&&!s.sectorRefs.includes(y)&&s.sectorRefs.push(y)},tabIndex:-1,className:"recharts-pie-sector"},zp(s.props,u,f),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(f)}),pe.createElement(Fne,vg({option:p,isActive:h,shapeType:"sector"},v)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,s=this.props,i=s.sectors,o=s.isAnimationActive,l=s.animationBegin,c=s.animationDuration,u=s.animationEasing,f=s.animationId,h=this.state,g=h.prevSectors,p=h.prevIsAnimationActive;return pe.createElement(fu,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(f,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(v){var w=v.t,y=[],N=i&&i[0],k=N.startAngle;return i.forEach(function(S,T){var _=g&&g[T],D=T>0?Dl(S,"paddingAngle",0):0;if(_){var E=yi(_.endAngle-_.startAngle,S.endAngle-S.startAngle),L=Ra(Ra({},S),{},{startAngle:k+D,endAngle:k+E(w)+D});y.push(L),k=L.endAngle}else{var R=S.endAngle,F=S.startAngle,A=yi(0,R-F),M=A(w),B=Ra(Ra({},S),{},{startAngle:k+D,endAngle:k+M+D});y.push(B),k=B.endAngle}}),pe.createElement(Tn,null,n.renderSectorsStatically(y))})}},{key:"attachKeyboardHandlers",value:function(n){var s=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[o].focus(),s.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--s.state.sectorToFocus<0?s.sectorRefs.length-1:s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[l].focus(),s.setState({sectorToFocus:l});break}case"Escape":{s.sectorRefs[s.state.sectorToFocus].blur(),s.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,s=n.sectors,i=n.isAnimationActive,o=this.state.prevSectors;return i&&s&&s.length&&(!o||!Wp(o,s))?this.renderSectorsWithAnimation():this.renderSectorsStatically(s)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,s=this.props,i=s.hide,o=s.sectors,l=s.className,c=s.label,u=s.cx,f=s.cy,h=s.innerRadius,g=s.outerRadius,p=s.isAnimationActive,v=this.state.isAnimationFinished;if(i||!o||!o.length||!Qt(u)||!Qt(f)||!Qt(h)||!Qt(g))return null;var w=_r("recharts-pie",l);return pe.createElement(Tn,{tabIndex:this.props.rootTabIndex,className:w,ref:function(N){n.pieRef=N}},this.renderSectors(),c&&this.renderLabels(o),Ei.renderCallByParent(this.props,null,!1),(!p||v)&&sd.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return s.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:s.curSectors,isAnimationFinished:!0}:n.sectors!==s.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,s){return n>s?"start":n<s?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,s,i){if(pe.isValidElement(n))return pe.cloneElement(n,s);if(Yr(n))return n(s);var o=_r("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return pe.createElement(Ep,vg({},s,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,s,i){if(pe.isValidElement(n))return pe.cloneElement(n,s);var o=i;if(Yr(n)&&(o=n(s),pe.isValidElement(o)))return o;var l=_r("recharts-pie-label-text",typeof n!="boolean"&&!Yr(n)?n.className:"");return pe.createElement(Up,vg({},s,{alignmentBaseline:"middle",className:l}),o)}}])})(b.PureComponent);K2=gu;dc(gu,"displayName","Pie");dc(gu,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!wm.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});dc(gu,"parseDeltaAngle",function(t,e){var r=Lo(e-t),n=Math.min(Math.abs(e-t),360);return r*n});dc(gu,"getRealPieData",function(t){var e=t.data,r=t.children,n=Mr(t,!1),s=Pl(r,qp);return e&&e.length?e.map(function(i,o){return Ra(Ra(Ra({payload:i},n),i),s&&s[o]&&s[o].props)}):s&&s.length?s.map(function(i){return Ra(Ra({},n),i.props)}):[]});dc(gu,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,s=e.width,i=e.height,o=jne(s,i),l=n+Ro(t.cx,s,s/2),c=r+Ro(t.cy,i,i/2),u=Ro(t.innerRadius,o,0),f=Ro(t.outerRadius,o,o*.8),h=t.maxRadius||Math.sqrt(s*s+i*i)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:f,maxRadius:h}});dc(gu,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?Ra(Ra({},e.type.defaultProps),e.props):e.props,s=K2.getRealPieData(n);if(!s||!s.length)return null;var i=n.cornerRadius,o=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,f=n.nameKey,h=n.valueKey,g=n.tooltipType,p=Math.abs(n.minAngle),v=K2.parseCoordinateOfPie(n,r),w=K2.parseDeltaAngle(o,l),y=Math.abs(w),N=u;nn(u)&&nn(h)?(cu(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),N="value"):nn(u)&&(cu(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),N=h);var k=s.filter(function(L){return zs(L,N,0)!==0}).length,S=(y>=360?k:k-1)*c,T=y-k*p-S,_=s.reduce(function(L,R){var F=zs(R,N,0);return L+(Qt(F)?F:0)},0),D;if(_>0){var E;D=s.map(function(L,R){var F=zs(L,N,0),A=zs(L,f,R),M=(Qt(F)?F:0)/_,B;R?B=E.endAngle+Lo(w)*c*(F!==0?1:0):B=o;var z=B+Lo(w)*((F!==0?p:0)+M*T),Y=(B+z)/2,W=(v.innerRadius+v.outerRadius)/2,H=[{name:A,value:F,payload:L,dataKey:N,type:g}],q=Fa(v.cx,v.cy,W,Y);return E=Ra(Ra(Ra({percent:M,cornerRadius:i,name:A,tooltipPayload:H,midAngle:Y,middleRadius:W,tooltipPosition:q},L),v),{},{value:zs(L,N),startAngle:B,endAngle:z,payload:L,paddingAngle:Lo(w)*c}),E})}return Ra(Ra({},v),{},{sectors:D,data:s})});var uT,RW;function IIe(){if(RW)return uT;RW=1;var t=Math.ceil,e=Math.max;function r(n,s,i,o){for(var l=-1,c=e(t((s-n)/(i||1)),0),u=Array(c);c--;)u[o?c:++l]=n,n+=i;return u}return uT=r,uT}var dT,IW;function Hne(){if(IW)return dT;IW=1;var t=cre(),e=1/0,r=17976931348623157e292;function n(s){if(!s)return s===0?s:0;if(s=t(s),s===e||s===-e){var i=s<0?-1:1;return i*r}return s===s?s:0}return dT=n,dT}var fT,FW;function FIe(){if(FW)return fT;FW=1;var t=IIe(),e=yS(),r=Hne();function n(s){return function(i,o,l){return l&&typeof l!="number"&&e(i,o,l)&&(o=l=void 0),i=r(i),o===void 0?(o=i,i=0):o=r(o),l=l===void 0?i<o?1:-1:r(l),t(i,o,l,s)}}return fT=n,fT}var hT,BW;function BIe(){if(BW)return hT;BW=1;var t=FIe(),e=t();return hT=e,hT}var $Ie=BIe();const aN=Vn($Ie);function qv(t){"@babel/helpers - typeof";return qv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qv(t)}function $W(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function HW(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$W(Object(r),!0).forEach(function(n){zne(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$W(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zne(t,e,r){return e=HIe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function HIe(t){var e=zIe(t,"string");return qv(e)=="symbol"?e:e+""}function zIe(t,e){if(qv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qIe=["Webkit","Moz","O","ms"],UIe=function(e,r){var n=e.replace(/(\w)/,function(i){return i.toUpperCase()}),s=qIe.reduce(function(i,o){return HW(HW({},i),{},zne({},o+n,r))},{});return s[e]=r,s};function bx(t){"@babel/helpers - typeof";return bx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bx(t)}function sN(){return sN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},sN.apply(this,arguments)}function zW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function mT(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zW(Object(r),!0).forEach(function(n){Sl(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function WIe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Une(n.key),n)}}function VIe(t,e,r){return e&&qW(t.prototype,e),r&&qW(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function GIe(t,e,r){return e=iN(e),YIe(t,qne()?Reflect.construct(e,r||[],iN(t).constructor):e.apply(t,r))}function YIe(t,e){if(e&&(bx(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KIe(t)}function KIe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qne(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qne=function(){return!!t})()}function iN(t){return iN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},iN(t)}function JIe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ZE(t,e)}function ZE(t,e){return ZE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},ZE(t,e)}function Sl(t,e,r){return e=Une(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Une(t){var e=XIe(t,"string");return bx(e)=="symbol"?e:e+""}function XIe(t,e){if(bx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var QIe=function(e){var r=e.data,n=e.startIndex,s=e.endIndex,i=e.x,o=e.width,l=e.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=Ly().domain(aN(0,c)).range([i,i+o-l]),f=u.domain().map(function(h){return u(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(s),scale:u,scaleValues:f}},UW=function(e){return e.changedTouches&&!!e.changedTouches.length},yx=(function(t){function e(r){var n;return WIe(this,e),n=GIe(this,e,[r]),Sl(n,"handleDrag",function(s){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(s):n.state.isSlideMoving&&n.handleSlideDrag(s)}),Sl(n,"handleTouchMove",function(s){s.changedTouches!=null&&s.changedTouches.length>0&&n.handleDrag(s.changedTouches[0])}),Sl(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var s=n.props,i=s.endIndex,o=s.onDragEnd,l=s.startIndex;o==null||o({endIndex:i,startIndex:l})}),n.detachDragEndListener()}),Sl(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Sl(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Sl(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Sl(n,"handleSlideDragStart",function(s){var i=UW(s)?s.changedTouches[0]:s;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return JIe(e,t),VIe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var s=n.startX,i=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,f=u.length-1,h=Math.min(s,i),g=Math.max(s,i),p=e.getIndexInRange(o,h),v=e.getIndexInRange(o,g);return{startIndex:p-p%c,endIndex:v===f?f:v-v%c}}},{key:"getTextOfTick",value:function(n){var s=this.props,i=s.data,o=s.tickFormatter,l=s.dataKey,c=zs(i[n],l,n);return Yr(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var s=this.state,i=s.slideMoveStartX,o=s.startX,l=s.endX,c=this.props,u=c.x,f=c.width,h=c.travellerWidth,g=c.startIndex,p=c.endIndex,v=c.onChange,w=n.pageX-i;w>0?w=Math.min(w,u+f-h-l,u+f-h-o):w<0&&(w=Math.max(w,u-o,u-l));var y=this.getIndex({startX:o+w,endX:l+w});(y.startIndex!==g||y.endIndex!==p)&&v&&v(y),this.setState({startX:o+w,endX:l+w,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,s){var i=UW(s)?s.changedTouches[0]:s;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var s=this.state,i=s.brushMoveStartX,o=s.movingTravellerId,l=s.endX,c=s.startX,u=this.state[o],f=this.props,h=f.x,g=f.width,p=f.travellerWidth,v=f.onChange,w=f.gap,y=f.data,N={startX:this.state.startX,endX:this.state.endX},k=n.pageX-i;k>0?k=Math.min(k,h+g-p-u):k<0&&(k=Math.max(k,h-u)),N[o]=u+k;var S=this.getIndex(N),T=S.startIndex,_=S.endIndex,D=function(){var L=y.length-1;return o==="startX"&&(l>c?T%w===0:_%w===0)||l<c&&_===L||o==="endX"&&(l>c?_%w===0:T%w===0)||l>c&&_===L};this.setState(Sl(Sl({},o,u+k),"brushMoveStartX",n.pageX),function(){v&&D()&&v(S)})}},{key:"handleTravellerMoveKeyboard",value:function(n,s){var i=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,f=this.state[s],h=l.indexOf(f);if(h!==-1){var g=h+n;if(!(g===-1||g>=l.length)){var p=l[g];s==="startX"&&p>=u||s==="endX"&&p<=c||this.setState(Sl({},s,p),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return pe.createElement("rect",{stroke:u,fill:c,x:s,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,l=n.height,c=n.data,u=n.children,f=n.padding,h=b.Children.only(u);return h?pe.cloneElement(h,{x:s,y:i,width:o,height:l,margin:f,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,s){var i,o,l=this,c=this.props,u=c.y,f=c.travellerWidth,h=c.height,g=c.traveller,p=c.ariaLabel,v=c.data,w=c.startIndex,y=c.endIndex,N=Math.max(n,this.props.x),k=mT(mT({},Mr(this.props,!1)),{},{x:N,y:u,width:f,height:h}),S=p||"Min value: ".concat((i=v[w])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=v[y])===null||o===void 0?void 0:o.name);return pe.createElement(Tn,{tabIndex:0,role:"slider","aria-label":S,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[s],onTouchStart:this.travellerDragStartHandlers[s],onKeyDown:function(_){["ArrowLeft","ArrowRight"].includes(_.key)&&(_.preventDefault(),_.stopPropagation(),l.handleTravellerMoveKeyboard(_.key==="ArrowRight"?1:-1,s))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(g,k))}},{key:"renderSlide",value:function(n,s){var i=this.props,o=i.y,l=i.height,c=i.stroke,u=i.travellerWidth,f=Math.min(n,s)+u,h=Math.max(Math.abs(s-n)-u,0);return pe.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:f,y:o,width:h,height:l})}},{key:"renderText",value:function(){var n=this.props,s=n.startIndex,i=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,f=this.state,h=f.startX,g=f.endX,p=5,v={pointerEvents:"none",fill:u};return pe.createElement(Tn,{className:"recharts-brush-texts"},pe.createElement(Up,sN({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,g)-p,y:o+l/2},v),this.getTextOfTick(s)),pe.createElement(Up,sN({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,g)+c+p,y:o+l/2},v),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,s=n.data,i=n.className,o=n.children,l=n.x,c=n.y,u=n.width,f=n.height,h=n.alwaysShowText,g=this.state,p=g.startX,v=g.endX,w=g.isTextActive,y=g.isSlideMoving,N=g.isTravellerMoving,k=g.isTravellerFocused;if(!s||!s.length||!Qt(l)||!Qt(c)||!Qt(u)||!Qt(f)||u<=0||f<=0)return null;var S=_r("recharts-brush",i),T=pe.Children.count(o)===1,_=UIe("userSelect","none");return pe.createElement(Tn,{className:S,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:_},this.renderBackground(),T&&this.renderPanorama(),this.renderSlide(p,v),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(v,"endX"),(w||y||N||k||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var s=n.x,i=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(i+l/2)-1;return pe.createElement(pe.Fragment,null,pe.createElement("rect",{x:s,y:i,width:o,height:l,fill:c,stroke:"none"}),pe.createElement("line",{x1:s+1,y1:u,x2:s+o-1,y2:u,fill:"none",stroke:"#fff"}),pe.createElement("line",{x1:s+1,y1:u+2,x2:s+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,s){var i;return pe.isValidElement(n)?i=pe.cloneElement(n,s):Yr(n)?i=n(s):i=e.renderDefaultTraveller(s),i}},{key:"getDerivedStateFromProps",value:function(n,s){var i=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,f=n.startIndex,h=n.endIndex;if(i!==s.prevData||u!==s.prevUpdateId)return mT({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},i&&i.length?QIe({data:i,width:o,x:l,travellerWidth:c,startIndex:f,endIndex:h}):{scale:null,scaleValues:null});if(s.scale&&(o!==s.prevWidth||l!==s.prevX||c!==s.prevTravellerWidth)){s.scale.range([l,l+o-c]);var g=s.scale.domain().map(function(p){return s.scale(p)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:s.scale(n.startIndex),endX:s.scale(n.endIndex),scaleValues:g}}return null}},{key:"getIndexInRange",value:function(n,s){for(var i=n.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>s?l=c:o=c}return s>=n[l]?l:o}}])})(b.PureComponent);Sl(yx,"displayName","Brush");Sl(yx,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var pT,WW;function ZIe(){if(WW)return pT;WW=1;var t=KP();function e(r,n){var s;return t(r,function(i,o,l){return s=n(i,o,l),!s}),!!s}return pT=e,pT}var gT,VW;function e9e(){if(VW)return gT;VW=1;var t=$te(),e=bd(),r=ZIe(),n=fl(),s=yS();function i(o,l,c){var u=n(o)?t:r;return c&&s(o,l,c)&&(l=void 0),u(o,e(l,3))}return gT=i,gT}var t9e=e9e();const r9e=Vn(t9e);var id=function(e,r){var n=e.alwaysShow,s=e.ifOverflow;return n&&(s="extendDomain"),s===r},xT,GW;function n9e(){if(GW)return xT;GW=1;var t=are();function e(r,n,s){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:s,writable:!0}):r[n]=s}return xT=e,xT}var bT,YW;function a9e(){if(YW)return bT;YW=1;var t=n9e(),e=rre(),r=bd();function n(s,i){var o={};return i=r(i,3),e(s,function(l,c,u){t(o,c,i(l,c,u))}),o}return bT=n,bT}var s9e=a9e();const i9e=Vn(s9e);var yT,KW;function o9e(){if(KW)return yT;KW=1;function t(e,r){for(var n=-1,s=e==null?0:e.length;++n<s;)if(!r(e[n],n,e))return!1;return!0}return yT=t,yT}var vT,JW;function l9e(){if(JW)return vT;JW=1;var t=KP();function e(r,n){var s=!0;return t(r,function(i,o,l){return s=!!n(i,o,l),s}),s}return vT=e,vT}var wT,XW;function c9e(){if(XW)return wT;XW=1;var t=o9e(),e=l9e(),r=bd(),n=fl(),s=yS();function i(o,l,c){var u=n(o)?t:e;return c&&s(o,l,c)&&(l=void 0),u(o,r(l,3))}return wT=i,wT}var u9e=c9e();const Wne=Vn(u9e);var d9e=["x","y"];function Uv(t){"@babel/helpers - typeof";return Uv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uv(t)}function eO(){return eO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},eO.apply(this,arguments)}function QW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function ry(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?QW(Object(r),!0).forEach(function(n){f9e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):QW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function f9e(t,e,r){return e=h9e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function h9e(t){var e=m9e(t,"string");return Uv(e)=="symbol"?e:e+""}function m9e(t,e){if(Uv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Uv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function p9e(t,e){if(t==null)return{};var r=g9e(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function g9e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function x9e(t,e){var r=t.x,n=t.y,s=p9e(t,d9e),i="".concat(r),o=parseInt(i,10),l="".concat(n),c=parseInt(l,10),u="".concat(e.height||s.height),f=parseInt(u,10),h="".concat(e.width||s.width),g=parseInt(h,10);return ry(ry(ry(ry(ry({},e),s),o?{x:o}:{}),c?{y:c}:{}),{},{height:f,width:g,name:e.name,radius:e.radius})}function ZW(t){return pe.createElement(Fne,eO({shapeType:"rectangle",propTransformer:x9e,activeClassName:"recharts-active-bar"},t))}var b9e=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,s){if(typeof e=="number")return e;var i=Qt(n)||zAe(n);return i?e(n,s):(i||Gp(),r)}},y9e=["value","background"],Vne;function vx(t){"@babel/helpers - typeof";return vx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vx(t)}function v9e(t,e){if(t==null)return{};var r=w9e(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function w9e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function oN(){return oN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},oN.apply(this,arguments)}function eV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Xs(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eV(Object(r),!0).forEach(function(n){Kh(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function j9e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tV(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Yne(n.key),n)}}function N9e(t,e,r){return e&&tV(t.prototype,e),r&&tV(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function S9e(t,e,r){return e=lN(e),k9e(t,Gne()?Reflect.construct(e,r||[],lN(t).constructor):e.apply(t,r))}function k9e(t,e){if(e&&(vx(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return C9e(t)}function C9e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Gne(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Gne=function(){return!!t})()}function lN(t){return lN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},lN(t)}function _9e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tO(t,e)}function tO(t,e){return tO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},tO(t,e)}function Kh(t,e,r){return e=Yne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Yne(t){var e=A9e(t,"string");return vx(e)=="symbol"?e:e+""}function A9e(t,e){if(vx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var uu=(function(t){function e(){var r;j9e(this,e);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=S9e(this,e,[].concat(s)),Kh(r,"state",{isAnimationFinished:!1}),Kh(r,"id",t0("recharts-bar-")),Kh(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Kh(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return _9e(e,t),N9e(e,[{key:"renderRectanglesStatically",value:function(n){var s=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,u=i.activeBar,f=Mr(this.props,!1);return n&&n.map(function(h,g){var p=g===c,v=p?u:o,w=Xs(Xs(Xs({},f),h),{},{isActive:p,option:v,index:g,dataKey:l,onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd});return pe.createElement(Tn,oN({className:"recharts-bar-rectangle"},zp(s.props,h,g),{key:"rectangle-".concat(h==null?void 0:h.x,"-").concat(h==null?void 0:h.y,"-").concat(h==null?void 0:h.value,"-").concat(g)}),pe.createElement(ZW,w))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,s=this.props,i=s.data,o=s.layout,l=s.isAnimationActive,c=s.animationBegin,u=s.animationDuration,f=s.animationEasing,h=s.animationId,g=this.state.prevData;return pe.createElement(fu,{begin:c,duration:u,isActive:l,easing:f,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var v=p.t,w=i.map(function(y,N){var k=g&&g[N];if(k){var S=yi(k.x,y.x),T=yi(k.y,y.y),_=yi(k.width,y.width),D=yi(k.height,y.height);return Xs(Xs({},y),{},{x:S(v),y:T(v),width:_(v),height:D(v)})}if(o==="horizontal"){var E=yi(0,y.height),L=E(v);return Xs(Xs({},y),{},{y:y.y+y.height-L,height:L})}var R=yi(0,y.width),F=R(v);return Xs(Xs({},y),{},{width:F})});return pe.createElement(Tn,null,n.renderRectanglesStatically(w))})}},{key:"renderRectangles",value:function(){var n=this.props,s=n.data,i=n.isAnimationActive,o=this.state.prevData;return i&&s&&s.length&&(!o||!Wp(o,s))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(s)}},{key:"renderBackground",value:function(){var n=this,s=this.props,i=s.data,o=s.dataKey,l=s.activeIndex,c=Mr(this.props.background,!1);return i.map(function(u,f){u.value;var h=u.background,g=v9e(u,y9e);if(!h)return null;var p=Xs(Xs(Xs(Xs(Xs({},g),{},{fill:"#eee"},h),c),zp(n.props,u,f)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:f,className:"recharts-bar-background-rectangle"});return pe.createElement(ZW,oN({key:"background-bar-".concat(f),option:n.props.background,isActive:f===l},p))})}},{key:"renderErrorBar",value:function(n,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,u=i.layout,f=i.children,h=Pl(f,v1);if(!h)return null;var g=u==="vertical"?o[0].height/2:o[0].width/2,p=function(y,N){var k=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:k,errorVal:zs(y,N)}},v={clipPath:n?"url(#clipPath-".concat(s,")"):null};return pe.createElement(Tn,v,h.map(function(w){return pe.cloneElement(w,{key:"error-bar-".concat(s,"-").concat(w.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:g,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,s=n.hide,i=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,f=n.top,h=n.width,g=n.height,p=n.isAnimationActive,v=n.background,w=n.id;if(s||!i||!i.length)return null;var y=this.state.isAnimationFinished,N=_r("recharts-bar",o),k=l&&l.allowDataOverflow,S=c&&c.allowDataOverflow,T=k||S,_=nn(w)?this.id:w;return pe.createElement(Tn,{className:N},k||S?pe.createElement("defs",null,pe.createElement("clipPath",{id:"clipPath-".concat(_)},pe.createElement("rect",{x:k?u:u-h/2,y:S?f:f-g/2,width:k?h:h*2,height:S?g:g*2}))):null,pe.createElement(Tn,{className:"recharts-bar-rectangles",clipPath:T?"url(#clipPath-".concat(_,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(T,_),(!p||y)&&sd.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:s.curData}:n.data!==s.curData?{curData:n.data}:null}}])})(b.PureComponent);Vne=uu;Kh(uu,"displayName","Bar");Kh(uu,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!wm.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Kh(uu,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,s=t.bandSize,i=t.xAxis,o=t.yAxis,l=t.xAxisTicks,c=t.yAxisTicks,u=t.stackedData,f=t.dataStartIndex,h=t.displayedData,g=t.offset,p=rLe(n,r);if(!p)return null;var v=e.layout,w=r.type.defaultProps,y=w!==void 0?Xs(Xs({},w),r.props):r.props,N=y.dataKey,k=y.children,S=y.minPointSize,T=v==="horizontal"?o:i,_=u?T.scale.domain():null,D=cLe({numericAxis:T}),E=Pl(k,qp),L=h.map(function(R,F){var A,M,B,z,Y,W;u?A=nLe(u[f+F],_):(A=zs(R,N),Array.isArray(A)||(A=[D,A]));var H=b9e(S,Vne.defaultProps.minPointSize)(A[1],F);if(v==="horizontal"){var q,X=[o.scale(A[0]),o.scale(A[1])],oe=X[0],K=X[1];M=CU({axis:i,ticks:l,bandSize:s,offset:p.offset,entry:R,index:F}),B=(q=K??oe)!==null&&q!==void 0?q:void 0,z=p.size;var V=oe-K;if(Y=Number.isNaN(V)?0:V,W={x:M,y:o.y,width:z,height:o.height},Math.abs(H)>0&&Math.abs(Y)<Math.abs(H)){var J=Lo(Y||H)*(Math.abs(H)-Math.abs(Y));B-=J,Y+=J}}else{var Q=[i.scale(A[0]),i.scale(A[1])],re=Q[0],ce=Q[1];if(M=re,B=CU({axis:o,ticks:c,bandSize:s,offset:p.offset,entry:R,index:F}),z=ce-re,Y=p.size,W={x:i.x,y:B,width:i.width,height:Y},Math.abs(H)>0&&Math.abs(z)<Math.abs(H)){var Ee=Lo(z||H)*(Math.abs(H)-Math.abs(z));z+=Ee}}return Xs(Xs(Xs({},R),{},{x:M,y:B,width:z,height:Y,value:u?A:A[1],payload:R,background:W},E&&E[F]&&E[F].props),{},{tooltipPayload:[vne(r,R)],tooltipPosition:{x:M+z/2,y:B+Y/2}})});return Xs({data:L,layout:v},g)});function Wv(t){"@babel/helpers - typeof";return Wv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wv(t)}function T9e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rV(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Kne(n.key),n)}}function M9e(t,e,r){return e&&rV(t.prototype,e),r&&rV(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function nV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function eu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nV(Object(r),!0).forEach(function(n){RS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function RS(t,e,r){return e=Kne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Kne(t){var e=E9e(t,"string");return Wv(e)=="symbol"?e:e+""}function E9e(t,e){if(Wv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var SL=function(e,r,n,s,i){var o=e.width,l=e.height,c=e.layout,u=e.children,f=Object.keys(r),h={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},g=!!kl(u,uu);return f.reduce(function(p,v){var w=r[v],y=w.orientation,N=w.domain,k=w.padding,S=k===void 0?{}:k,T=w.mirror,_=w.reversed,D="".concat(y).concat(T?"Mirror":""),E,L,R,F,A;if(w.type==="number"&&(w.padding==="gap"||w.padding==="no-gap")){var M=N[1]-N[0],B=1/0,z=w.categoricalDomain.sort(WAe);if(z.forEach(function(Q,re){re>0&&(B=Math.min((Q||0)-(z[re-1]||0),B))}),Number.isFinite(B)){var Y=B/M,W=w.layout==="vertical"?n.height:n.width;if(w.padding==="gap"&&(E=Y*W/2),w.padding==="no-gap"){var H=Ro(e.barCategoryGap,Y*W),q=Y*W/2;E=q-H-(q-H)/W*H}}}s==="xAxis"?L=[n.left+(S.left||0)+(E||0),n.left+n.width-(S.right||0)-(E||0)]:s==="yAxis"?L=c==="horizontal"?[n.top+n.height-(S.bottom||0),n.top+(S.top||0)]:[n.top+(S.top||0)+(E||0),n.top+n.height-(S.bottom||0)-(E||0)]:L=w.range,_&&(L=[L[1],L[0]]);var X=gne(w,i,g),oe=X.scale,K=X.realScaleType;oe.domain(N).range(L),xne(oe);var V=bne(oe,eu(eu({},w),{},{realScaleType:K}));s==="xAxis"?(A=y==="top"&&!T||y==="bottom"&&T,R=n.left,F=h[D]-A*w.height):s==="yAxis"&&(A=y==="left"&&!T||y==="right"&&T,R=h[D]-A*w.width,F=n.top);var J=eu(eu(eu({},w),V),{},{realScaleType:K,x:R,y:F,scale:oe,width:s==="xAxis"?n.width:w.width,height:s==="yAxis"?n.height:w.height});return J.bandSize=V5(J,V),!w.hide&&s==="xAxis"?h[D]+=(A?-1:1)*J.height:w.hide||(h[D]+=(A?-1:1)*J.width),eu(eu({},p),{},RS({},v,J))},{})},Jne=function(e,r){var n=e.x,s=e.y,i=r.x,o=r.y;return{x:Math.min(n,i),y:Math.min(s,o),width:Math.abs(i-n),height:Math.abs(o-s)}},O9e=function(e){var r=e.x1,n=e.y1,s=e.x2,i=e.y2;return Jne({x:r,y:n},{x:s,y:i})},Xne=(function(){function t(e){T9e(this,t),this.scale=e}return M9e(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(s){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),s=n[0],i=n[n.length-1];return s<=i?r>=s&&r<=i:r>=i&&r<=s}}],[{key:"create",value:function(r){return new t(r)}}])})();RS(Xne,"EPS",1e-4);var kL=function(e){var r=Object.keys(e).reduce(function(n,s){return eu(eu({},n),{},RS({},s,Xne.create(e[s])))},{});return eu(eu({},r),{},{apply:function(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return i9e(s,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(s){return Wne(s,function(i,o){return r[o].isInRange(i)})}})};function D9e(t){return(t%180+180)%180}var P9e=function(e){var r=e.width,n=e.height,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=D9e(s),o=i*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},jT,aV;function L9e(){if(aV)return jT;aV=1;var t=bd(),e=p1(),r=xS();function n(s){return function(i,o,l){var c=Object(i);if(!e(i)){var u=t(o,3);i=r(i),o=function(h){return u(c[h],h,c)}}var f=s(i,o,l);return f>-1?c[u?i[f]:f]:void 0}}return jT=n,jT}var NT,sV;function R9e(){if(sV)return NT;sV=1;var t=Hne();function e(r){var n=t(r),s=n%1;return n===n?s?n-s:n:0}return NT=e,NT}var ST,iV;function I9e(){if(iV)return ST;iV=1;var t=Xte(),e=bd(),r=R9e(),n=Math.max;function s(i,o,l){var c=i==null?0:i.length;if(!c)return-1;var u=l==null?0:r(l);return u<0&&(u=n(c+u,0)),t(i,e(o,3),u)}return ST=s,ST}var kT,oV;function F9e(){if(oV)return kT;oV=1;var t=L9e(),e=I9e(),r=t(e);return kT=r,kT}var B9e=F9e();const $9e=Vn(B9e);var H9e=fte();const z9e=Vn(H9e);var q9e=z9e(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),CL=b.createContext(void 0),_L=b.createContext(void 0),Qne=b.createContext(void 0),Zne=b.createContext({}),eae=b.createContext(void 0),tae=b.createContext(0),rae=b.createContext(0),lV=function(e){var r=e.state,n=r.xAxisMap,s=r.yAxisMap,i=r.offset,o=e.clipPathId,l=e.children,c=e.width,u=e.height,f=q9e(i);return pe.createElement(CL.Provider,{value:n},pe.createElement(_L.Provider,{value:s},pe.createElement(Zne.Provider,{value:i},pe.createElement(Qne.Provider,{value:f},pe.createElement(eae.Provider,{value:o},pe.createElement(tae.Provider,{value:u},pe.createElement(rae.Provider,{value:c},l)))))))},U9e=function(){return b.useContext(eae)},nae=function(e){var r=b.useContext(CL);r==null&&Gp();var n=r[e];return n==null&&Gp(),n},W9e=function(){var e=b.useContext(CL);return Uh(e)},V9e=function(){var e=b.useContext(_L),r=$9e(e,function(n){return Wne(n.domain,Number.isFinite)});return r||Uh(e)},aae=function(e){var r=b.useContext(_L);r==null&&Gp();var n=r[e];return n==null&&Gp(),n},G9e=function(){var e=b.useContext(Qne);return e},Y9e=function(){return b.useContext(Zne)},AL=function(){return b.useContext(rae)},TL=function(){return b.useContext(tae)};function wx(t){"@babel/helpers - typeof";return wx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wx(t)}function K9e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function J9e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,iae(n.key),n)}}function X9e(t,e,r){return e&&J9e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Q9e(t,e,r){return e=cN(e),Z9e(t,sae()?Reflect.construct(e,r||[],cN(t).constructor):e.apply(t,r))}function Z9e(t,e){if(e&&(wx(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eFe(t)}function eFe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sae(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sae=function(){return!!t})()}function cN(t){return cN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},cN(t)}function tFe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rO(t,e)}function rO(t,e){return rO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},rO(t,e)}function cV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function uV(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cV(Object(r),!0).forEach(function(n){ML(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ML(t,e,r){return e=iae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iae(t){var e=rFe(t,"string");return wx(e)=="symbol"?e:e+""}function rFe(t,e){if(wx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function nFe(t,e){return oFe(t)||iFe(t,e)||sFe(t,e)||aFe()}function aFe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sFe(t,e){if(t){if(typeof t=="string")return dV(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dV(t,e)}}function dV(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function iFe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){u=!0,s=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function oFe(t){if(Array.isArray(t))return t}function nO(){return nO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},nO.apply(this,arguments)}var lFe=function(e,r){var n;return pe.isValidElement(e)?n=pe.cloneElement(e,r):Yr(e)?n=e(r):n=pe.createElement("line",nO({},r,{className:"recharts-reference-line-line"})),n},cFe=function(e,r,n,s,i,o,l,c,u){var f=i.x,h=i.y,g=i.width,p=i.height;if(n){var v=u.y,w=e.y.apply(v,{position:o});if(id(u,"discard")&&!e.y.isInRange(w))return null;var y=[{x:f+g,y:w},{x:f,y:w}];return c==="left"?y.reverse():y}if(r){var N=u.x,k=e.x.apply(N,{position:o});if(id(u,"discard")&&!e.x.isInRange(k))return null;var S=[{x:k,y:h+p},{x:k,y:h}];return l==="top"?S.reverse():S}if(s){var T=u.segment,_=T.map(function(D){return e.apply(D,{position:o})});return id(u,"discard")&&r9e(_,function(D){return!e.isInRange(D)})?null:_}return null};function uFe(t){var e=t.x,r=t.y,n=t.segment,s=t.xAxisId,i=t.yAxisId,o=t.shape,l=t.className,c=t.alwaysShow,u=U9e(),f=nae(s),h=aae(i),g=G9e();if(!u||!g)return null;cu(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=kL({x:f.scale,y:h.scale}),v=vi(e),w=vi(r),y=n&&n.length===2,N=cFe(p,v,w,y,g,t.position,f.orientation,h.orientation,t);if(!N)return null;var k=nFe(N,2),S=k[0],T=S.x,_=S.y,D=k[1],E=D.x,L=D.y,R=id(t,"hidden")?"url(#".concat(u,")"):void 0,F=uV(uV({clipPath:R},Mr(t,!0)),{},{x1:T,y1:_,x2:E,y2:L});return pe.createElement(Tn,{className:_r("recharts-reference-line",l)},lFe(o,F),Ei.renderCallByParent(t,O9e({x1:T,y1:_,x2:E,y2:L})))}var EL=(function(t){function e(){return K9e(this,e),Q9e(this,e,arguments)}return tFe(e,t),X9e(e,[{key:"render",value:function(){return pe.createElement(uFe,this.props)}}])})(pe.Component);ML(EL,"displayName","ReferenceLine");ML(EL,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function aO(){return aO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},aO.apply(this,arguments)}function jx(t){"@babel/helpers - typeof";return jx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jx(t)}function fV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function hV(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fV(Object(r),!0).forEach(function(n){IS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dFe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fFe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,lae(n.key),n)}}function hFe(t,e,r){return e&&fFe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function mFe(t,e,r){return e=uN(e),pFe(t,oae()?Reflect.construct(e,r||[],uN(t).constructor):e.apply(t,r))}function pFe(t,e){if(e&&(jx(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gFe(t)}function gFe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oae(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oae=function(){return!!t})()}function uN(t){return uN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},uN(t)}function xFe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sO(t,e)}function sO(t,e){return sO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},sO(t,e)}function IS(t,e,r){return e=lae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lae(t){var e=bFe(t,"string");return jx(e)=="symbol"?e:e+""}function bFe(t,e){if(jx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(jx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var yFe=function(e){var r=e.x,n=e.y,s=e.xAxis,i=e.yAxis,o=kL({x:s.scale,y:i.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return id(e,"discard")&&!o.isInRange(l)?null:l},FS=(function(t){function e(){return dFe(this,e),mFe(this,e,arguments)}return xFe(e,t),hFe(e,[{key:"render",value:function(){var n=this.props,s=n.x,i=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=vi(s),f=vi(i);if(cu(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!f)return null;var h=yFe(this.props);if(!h)return null;var g=h.x,p=h.y,v=this.props,w=v.shape,y=v.className,N=id(this.props,"hidden")?"url(#".concat(c,")"):void 0,k=hV(hV({clipPath:N},Mr(this.props,!0)),{},{cx:g,cy:p});return pe.createElement(Tn,{className:_r("recharts-reference-dot",y)},e.renderDot(w,k),Ei.renderCallByParent(this.props,{x:g-o,y:p-o,width:2*o,height:2*o}))}}])})(pe.Component);IS(FS,"displayName","ReferenceDot");IS(FS,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});IS(FS,"renderDot",function(t,e){var r;return pe.isValidElement(t)?r=pe.cloneElement(t,e):Yr(t)?r=t(e):r=pe.createElement(w1,aO({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function iO(){return iO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},iO.apply(this,arguments)}function Nx(t){"@babel/helpers - typeof";return Nx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nx(t)}function mV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function pV(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mV(Object(r),!0).forEach(function(n){BS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vFe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wFe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,uae(n.key),n)}}function jFe(t,e,r){return e&&wFe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function NFe(t,e,r){return e=dN(e),SFe(t,cae()?Reflect.construct(e,r||[],dN(t).constructor):e.apply(t,r))}function SFe(t,e){if(e&&(Nx(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kFe(t)}function kFe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cae(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cae=function(){return!!t})()}function dN(t){return dN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},dN(t)}function CFe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oO(t,e)}function oO(t,e){return oO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},oO(t,e)}function BS(t,e,r){return e=uae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uae(t){var e=_Fe(t,"string");return Nx(e)=="symbol"?e:e+""}function _Fe(t,e){if(Nx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Nx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var AFe=function(e,r,n,s,i){var o=i.x1,l=i.x2,c=i.y1,u=i.y2,f=i.xAxis,h=i.yAxis;if(!f||!h)return null;var g=kL({x:f.scale,y:h.scale}),p={x:e?g.x.apply(o,{position:"start"}):g.x.rangeMin,y:n?g.y.apply(c,{position:"start"}):g.y.rangeMin},v={x:r?g.x.apply(l,{position:"end"}):g.x.rangeMax,y:s?g.y.apply(u,{position:"end"}):g.y.rangeMax};return id(i,"discard")&&(!g.isInRange(p)||!g.isInRange(v))?null:Jne(p,v)},$S=(function(t){function e(){return vFe(this,e),NFe(this,e,arguments)}return CFe(e,t),jFe(e,[{key:"render",value:function(){var n=this.props,s=n.x1,i=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,f=n.clipPathId;cu(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=vi(s),g=vi(i),p=vi(o),v=vi(l),w=this.props.shape;if(!h&&!g&&!p&&!v&&!w)return null;var y=AFe(h,g,p,v,this.props);if(!y&&!w)return null;var N=id(this.props,"hidden")?"url(#".concat(f,")"):void 0;return pe.createElement(Tn,{className:_r("recharts-reference-area",c)},e.renderRect(w,pV(pV({clipPath:N},Mr(this.props,!0)),y)),Ei.renderCallByParent(this.props,y))}}])})(pe.Component);BS($S,"displayName","ReferenceArea");BS($S,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});BS($S,"renderRect",function(t,e){var r;return pe.isValidElement(t)?r=pe.cloneElement(t,e):Yr(t)?r=t(e):r=pe.createElement(NL,iO({},e,{className:"recharts-reference-area-rect"})),r});function dae(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],s=0;s<t.length;s+=e)n.push(t[s]);return n}function TFe(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return P9e(n,r)}function MFe(t,e,r){var n=r==="width",s=t.x,i=t.y,o=t.width,l=t.height;return e===1?{start:n?s:i,end:n?s+o:i+l}:{start:n?s+o:i+l,end:n?s:i}}function fN(t,e,r,n,s){if(t*e<t*n||t*e>t*s)return!1;var i=r();return t*(e-t*i/2-n)>=0&&t*(e+t*i/2-s)<=0}function EFe(t,e){return dae(t,e+1)}function OFe(t,e,r,n,s){for(var i=(n||[]).slice(),o=e.start,l=e.end,c=0,u=1,f=o,h=function(){var v=n==null?void 0:n[c];if(v===void 0)return{v:dae(n,u)};var w=c,y,N=function(){return y===void 0&&(y=r(v,w)),y},k=v.coordinate,S=c===0||fN(t,k,N,f,l);S||(c=0,f=o,u+=1),S&&(f=k+t*(N()/2+s),c+=u)},g;u<=i.length;)if(g=h(),g)return g.v;return[]}function Vv(t){"@babel/helpers - typeof";return Vv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vv(t)}function gV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function ho(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gV(Object(r),!0).forEach(function(n){DFe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function DFe(t,e,r){return e=PFe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function PFe(t){var e=LFe(t,"string");return Vv(e)=="symbol"?e:e+""}function LFe(t,e){if(Vv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function RFe(t,e,r,n,s){for(var i=(n||[]).slice(),o=i.length,l=e.start,c=e.end,u=function(g){var p=i[g],v,w=function(){return v===void 0&&(v=r(p,g)),v};if(g===o-1){var y=t*(p.coordinate+t*w()/2-c);i[g]=p=ho(ho({},p),{},{tickCoord:y>0?p.coordinate-y*t:p.coordinate})}else i[g]=p=ho(ho({},p),{},{tickCoord:p.coordinate});var N=fN(t,p.tickCoord,w,l,c);N&&(c=p.tickCoord-t*(w()/2+s),i[g]=ho(ho({},p),{},{isShow:!0}))},f=o-1;f>=0;f--)u(f);return i}function IFe(t,e,r,n,s,i){var o=(n||[]).slice(),l=o.length,c=e.start,u=e.end;if(i){var f=n[l-1],h=r(f,l-1),g=t*(f.coordinate+t*h/2-u);o[l-1]=f=ho(ho({},f),{},{tickCoord:g>0?f.coordinate-g*t:f.coordinate});var p=fN(t,f.tickCoord,function(){return h},c,u);p&&(u=f.tickCoord-t*(h/2+s),o[l-1]=ho(ho({},f),{},{isShow:!0}))}for(var v=i?l-1:l,w=function(k){var S=o[k],T,_=function(){return T===void 0&&(T=r(S,k)),T};if(k===0){var D=t*(S.coordinate-t*_()/2-c);o[k]=S=ho(ho({},S),{},{tickCoord:D<0?S.coordinate-D*t:S.coordinate})}else o[k]=S=ho(ho({},S),{},{tickCoord:S.coordinate});var E=fN(t,S.tickCoord,_,c,u);E&&(c=S.tickCoord+t*(_()/2+s),o[k]=ho(ho({},S),{},{isShow:!0}))},y=0;y<v;y++)w(y);return o}function OL(t,e,r){var n=t.tick,s=t.ticks,i=t.viewBox,o=t.minTickGap,l=t.orientation,c=t.interval,u=t.tickFormatter,f=t.unit,h=t.angle;if(!s||!s.length||!n)return[];if(Qt(c)||wm.isSsr)return EFe(s,typeof c=="number"&&Qt(c)?c:0);var g=[],p=l==="top"||l==="bottom"?"width":"height",v=f&&p==="width"?Py(f,{fontSize:e,letterSpacing:r}):{width:0,height:0},w=function(S,T){var _=Yr(u)?u(S.value,T):S.value;return p==="width"?TFe(Py(_,{fontSize:e,letterSpacing:r}),v,h):Py(_,{fontSize:e,letterSpacing:r})[p]},y=s.length>=2?Lo(s[1].coordinate-s[0].coordinate):1,N=MFe(i,y,p);return c==="equidistantPreserveStart"?OFe(y,N,w,s,o):(c==="preserveStart"||c==="preserveStartEnd"?g=IFe(y,N,w,s,o,c==="preserveStartEnd"):g=RFe(y,N,w,s,o),g.filter(function(k){return k.isShow}))}var FFe=["viewBox"],BFe=["viewBox"],$Fe=["ticks"];function Sx(t){"@babel/helpers - typeof";return Sx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sx(t)}function wg(){return wg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wg.apply(this,arguments)}function xV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function xi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xV(Object(r),!0).forEach(function(n){DL(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function CT(t,e){if(t==null)return{};var r=HFe(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function HFe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function zFe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bV(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,hae(n.key),n)}}function qFe(t,e,r){return e&&bV(t.prototype,e),r&&bV(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function UFe(t,e,r){return e=hN(e),WFe(t,fae()?Reflect.construct(e,r||[],hN(t).constructor):e.apply(t,r))}function WFe(t,e){if(e&&(Sx(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VFe(t)}function VFe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fae(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fae=function(){return!!t})()}function hN(t){return hN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hN(t)}function GFe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lO(t,e)}function lO(t,e){return lO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},lO(t,e)}function DL(t,e,r){return e=hae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hae(t){var e=YFe(t,"string");return Sx(e)=="symbol"?e:e+""}function YFe(t,e){if(Sx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Sx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Gx=(function(t){function e(r){var n;return zFe(this,e),n=UFe(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return GFe(e,t),qFe(e,[{key:"shouldComponentUpdate",value:function(n,s){var i=n.viewBox,o=CT(n,FFe),l=this.props,c=l.viewBox,u=CT(l,BFe);return!Dg(i,c)||!Dg(o,u)||!Dg(s,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var s=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];s&&this.setState({fontSize:window.getComputedStyle(s).fontSize,letterSpacing:window.getComputedStyle(s).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var s=this.props,i=s.x,o=s.y,l=s.width,c=s.height,u=s.orientation,f=s.tickSize,h=s.mirror,g=s.tickMargin,p,v,w,y,N,k,S=h?-1:1,T=n.tickSize||f,_=Qt(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":p=v=n.coordinate,y=o+ +!h*c,w=y-S*T,k=w-S*g,N=_;break;case"left":w=y=n.coordinate,v=i+ +!h*l,p=v-S*T,N=p-S*g,k=_;break;case"right":w=y=n.coordinate,v=i+ +h*l,p=v+S*T,N=p+S*g,k=_;break;default:p=v=n.coordinate,y=o+ +h*c,w=y+S*T,k=w+S*g,N=_;break}return{line:{x1:p,y1:w,x2:v,y2:y},tick:{x:N,y:k}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,s=n.orientation,i=n.mirror,o;switch(s){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,s=n.orientation,i=n.mirror,o="end";switch(s){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,f=n.axisLine,h=xi(xi(xi({},Mr(this.props,!1)),Mr(f,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var g=+(c==="top"&&!u||c==="bottom"&&u);h=xi(xi({},h),{},{x1:s,y1:i+g*l,x2:s+o,y2:i+g*l})}else{var p=+(c==="left"&&!u||c==="right"&&u);h=xi(xi({},h),{},{x1:s+p*o,y1:i,x2:s+p*o,y2:i+l})}return pe.createElement("line",wg({},h,{className:_r("recharts-cartesian-axis-line",Dl(f,"className"))}))}},{key:"renderTicks",value:function(n,s,i){var o=this,l=this.props,c=l.tickLine,u=l.stroke,f=l.tick,h=l.tickFormatter,g=l.unit,p=OL(xi(xi({},this.props),{},{ticks:n}),s,i),v=this.getTickTextAnchor(),w=this.getTickVerticalAnchor(),y=Mr(this.props,!1),N=Mr(f,!1),k=xi(xi({},y),{},{fill:"none"},Mr(c,!1)),S=p.map(function(T,_){var D=o.getTickLineCoord(T),E=D.line,L=D.tick,R=xi(xi(xi(xi({textAnchor:v,verticalAnchor:w},y),{},{stroke:"none",fill:u},N),L),{},{index:_,payload:T,visibleTicksCount:p.length,tickFormatter:h});return pe.createElement(Tn,wg({className:"recharts-cartesian-axis-tick",key:"tick-".concat(T.value,"-").concat(T.coordinate,"-").concat(T.tickCoord)},zp(o.props,T,_)),c&&pe.createElement("line",wg({},k,E,{className:_r("recharts-cartesian-axis-tick-line",Dl(c,"className"))})),f&&e.renderTickItem(f,R,"".concat(Yr(h)?h(T.value,_):T.value).concat(g||"")))});return pe.createElement("g",{className:"recharts-cartesian-axis-ticks"},S)}},{key:"render",value:function(){var n=this,s=this.props,i=s.axisLine,o=s.width,l=s.height,c=s.ticksGenerator,u=s.className,f=s.hide;if(f)return null;var h=this.props,g=h.ticks,p=CT(h,$Fe),v=g;return Yr(c)&&(v=g&&g.length>0?c(this.props):c(p)),o<=0||l<=0||!v||!v.length?null:pe.createElement(Tn,{className:_r("recharts-cartesian-axis",u),ref:function(y){n.layerReference=y}},i&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),Ei.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,s,i){var o,l=_r(s.className,"recharts-cartesian-axis-tick-value");return pe.isValidElement(n)?o=pe.cloneElement(n,xi(xi({},s),{},{className:l})):Yr(n)?o=n(xi(xi({},s),{},{className:l})):o=pe.createElement(Up,wg({},s,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])})(b.Component);DL(Gx,"displayName","CartesianAxis");DL(Gx,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var KFe=["x1","y1","x2","y2","key"],JFe=["offset"];function Yp(t){"@babel/helpers - typeof";return Yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yp(t)}function yV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function mo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yV(Object(r),!0).forEach(function(n){XFe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function XFe(t,e,r){return e=QFe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function QFe(t){var e=ZFe(t,"string");return Yp(e)=="symbol"?e:e+""}function ZFe(t,e){if(Yp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Yp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pp(){return pp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pp.apply(this,arguments)}function vV(t,e){if(t==null)return{};var r=eBe(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function eBe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var tBe=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,s=e.x,i=e.y,o=e.width,l=e.height,c=e.ry;return pe.createElement("rect",{x:s,y:i,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function mae(t,e){var r;if(pe.isValidElement(t))r=pe.cloneElement(t,e);else if(Yr(t))r=t(e);else{var n=e.x1,s=e.y1,i=e.x2,o=e.y2,l=e.key,c=vV(e,KFe),u=Mr(c,!1);u.offset;var f=vV(u,JFe);r=pe.createElement("line",pp({},f,{x1:n,y1:s,x2:i,y2:o,fill:"none",key:l}))}return r}function rBe(t){var e=t.x,r=t.width,n=t.horizontal,s=n===void 0?!0:n,i=t.horizontalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(l,c){var u=mo(mo({},t),{},{x1:e,y1:l,x2:e+r,y2:l,key:"line-".concat(c),index:c});return mae(s,u)});return pe.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function nBe(t){var e=t.y,r=t.height,n=t.vertical,s=n===void 0?!0:n,i=t.verticalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(l,c){var u=mo(mo({},t),{},{x1:l,y1:e,x2:l,y2:e+r,key:"line-".concat(c),index:c});return mae(s,u)});return pe.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function aBe(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,s=t.y,i=t.width,o=t.height,l=t.horizontalPoints,c=t.horizontal,u=c===void 0?!0:c;if(!u||!e||!e.length)return null;var f=l.map(function(g){return Math.round(g+s-s)}).sort(function(g,p){return g-p});s!==f[0]&&f.unshift(0);var h=f.map(function(g,p){var v=!f[p+1],w=v?s+o-g:f[p+1]-g;if(w<=0)return null;var y=p%e.length;return pe.createElement("rect",{key:"react-".concat(p),y:g,x:n,height:w,width:i,stroke:"none",fill:e[y],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return pe.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function sBe(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,s=t.fillOpacity,i=t.x,o=t.y,l=t.width,c=t.height,u=t.verticalPoints;if(!r||!n||!n.length)return null;var f=u.map(function(g){return Math.round(g+i-i)}).sort(function(g,p){return g-p});i!==f[0]&&f.unshift(0);var h=f.map(function(g,p){var v=!f[p+1],w=v?i+l-g:f[p+1]-g;if(w<=0)return null;var y=p%n.length;return pe.createElement("rect",{key:"react-".concat(p),x:g,y:o,width:w,height:c,stroke:"none",fill:n[y],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return pe.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var iBe=function(e,r){var n=e.xAxis,s=e.width,i=e.height,o=e.offset;return pne(OL(mo(mo(mo({},Gx.defaultProps),n),{},{ticks:xf(n,!0),viewBox:{x:0,y:0,width:s,height:i}})),o.left,o.left+o.width,r)},oBe=function(e,r){var n=e.yAxis,s=e.width,i=e.height,o=e.offset;return pne(OL(mo(mo(mo({},Gx.defaultProps),n),{},{ticks:xf(n,!0),viewBox:{x:0,y:0,width:s,height:i}})),o.top,o.top+o.height,r)},Z0={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function au(t){var e,r,n,s,i,o,l=AL(),c=TL(),u=Y9e(),f=mo(mo({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Z0.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:Z0.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:Z0.horizontal,horizontalFill:(s=t.horizontalFill)!==null&&s!==void 0?s:Z0.horizontalFill,vertical:(i=t.vertical)!==null&&i!==void 0?i:Z0.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:Z0.verticalFill,x:Qt(t.x)?t.x:u.left,y:Qt(t.y)?t.y:u.top,width:Qt(t.width)?t.width:u.width,height:Qt(t.height)?t.height:u.height}),h=f.x,g=f.y,p=f.width,v=f.height,w=f.syncWithTicks,y=f.horizontalValues,N=f.verticalValues,k=W9e(),S=V9e();if(!Qt(p)||p<=0||!Qt(v)||v<=0||!Qt(h)||h!==+h||!Qt(g)||g!==+g)return null;var T=f.verticalCoordinatesGenerator||iBe,_=f.horizontalCoordinatesGenerator||oBe,D=f.horizontalPoints,E=f.verticalPoints;if((!D||!D.length)&&Yr(_)){var L=y&&y.length,R=_({yAxis:S?mo(mo({},S),{},{ticks:L?y:S.ticks}):void 0,width:l,height:c,offset:u},L?!0:w);cu(Array.isArray(R),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Yp(R),"]")),Array.isArray(R)&&(D=R)}if((!E||!E.length)&&Yr(T)){var F=N&&N.length,A=T({xAxis:k?mo(mo({},k),{},{ticks:F?N:k.ticks}):void 0,width:l,height:c,offset:u},F?!0:w);cu(Array.isArray(A),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Yp(A),"]")),Array.isArray(A)&&(E=A)}return pe.createElement("g",{className:"recharts-cartesian-grid"},pe.createElement(tBe,{fill:f.fill,fillOpacity:f.fillOpacity,x:f.x,y:f.y,width:f.width,height:f.height,ry:f.ry}),pe.createElement(rBe,pp({},f,{offset:u,horizontalPoints:D,xAxis:k,yAxis:S})),pe.createElement(nBe,pp({},f,{offset:u,verticalPoints:E,xAxis:k,yAxis:S})),pe.createElement(aBe,pp({},f,{horizontalPoints:D})),pe.createElement(sBe,pp({},f,{verticalPoints:E})))}au.displayName="CartesianGrid";var lBe=["type","layout","connectNulls","ref"],cBe=["key"];function kx(t){"@babel/helpers - typeof";return kx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kx(t)}function wV(t,e){if(t==null)return{};var r=uBe(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function uBe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function $y(){return $y=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$y.apply(this,arguments)}function jV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Nl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jV(Object(r),!0).forEach(function(n){tu(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function eg(t){return mBe(t)||hBe(t)||fBe(t)||dBe()}function dBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fBe(t,e){if(t){if(typeof t=="string")return cO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cO(t,e)}}function hBe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function mBe(t){if(Array.isArray(t))return cO(t)}function cO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function pBe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NV(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,gae(n.key),n)}}function gBe(t,e,r){return e&&NV(t.prototype,e),r&&NV(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function xBe(t,e,r){return e=mN(e),bBe(t,pae()?Reflect.construct(e,r||[],mN(t).constructor):e.apply(t,r))}function bBe(t,e){if(e&&(kx(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yBe(t)}function yBe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pae(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pae=function(){return!!t})()}function mN(t){return mN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mN(t)}function vBe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uO(t,e)}function uO(t,e){return uO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},uO(t,e)}function tu(t,e,r){return e=gae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gae(t){var e=wBe(t,"string");return kx(e)=="symbol"?e:e+""}function wBe(t,e){if(kx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(kx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Bf=(function(t){function e(){var r;pBe(this,e);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=xBe(this,e,[].concat(s)),tu(r,"state",{isAnimationFinished:!0,totalLength:0}),tu(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),tu(r,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(N,k){return N+k});if(!u)return r.generateSimpleStrokeDasharray(l,o);for(var f=Math.floor(o/u),h=o%u,g=l-o,p=[],v=0,w=0;v<c.length;w+=c[v],++v)if(w+c[v]>h){p=[].concat(eg(c.slice(0,v)),[h-w]);break}var y=p.length%2===0?[0,g]:[g];return[].concat(eg(e.repeat(c,f)),eg(p),y).map(function(N){return"".concat(N,"px")}).join(", ")}),tu(r,"id",t0("recharts-line-")),tu(r,"pathRef",function(o){r.mainCurve=o}),tu(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),tu(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return vBe(e,t),gBe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,l=i.xAxis,c=i.yAxis,u=i.layout,f=i.children,h=Pl(f,v1);if(!h)return null;var g=function(w,y){return{x:w.x,y:w.y,value:w.value,errorVal:zs(w.payload,y)}},p={clipPath:n?"url(#clipPath-".concat(s,")"):null};return pe.createElement(Tn,p,h.map(function(v){return pe.cloneElement(v,{key:"bar-".concat(v.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:g})}))}},{key:"renderDots",value:function(n,s,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,f=l.dataKey,h=Mr(this.props,!1),g=Mr(c,!0),p=u.map(function(w,y){var N=Nl(Nl(Nl({key:"dot-".concat(y),r:3},h),g),{},{index:y,cx:w.x,cy:w.y,value:w.value,dataKey:f,payload:w.payload,points:u});return e.renderDotItem(c,N)}),v={clipPath:n?"url(#clipPath-".concat(s?"":"dots-").concat(i,")"):null};return pe.createElement(Tn,$y({className:"recharts-line-dots",key:"dots"},v),p)}},{key:"renderCurveStatically",value:function(n,s,i,o){var l=this.props,c=l.type,u=l.layout,f=l.connectNulls;l.ref;var h=wV(l,lBe),g=Nl(Nl(Nl({},Mr(h,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:s?"url(#clipPath-".concat(i,")"):null,points:n},o),{},{type:c,layout:u,connectNulls:f});return pe.createElement(Ep,$y({},g,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,s){var i=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,f=o.animationBegin,h=o.animationDuration,g=o.animationEasing,p=o.animationId,v=o.animateNewValues,w=o.width,y=o.height,N=this.state,k=N.prevPoints,S=N.totalLength;return pe.createElement(fu,{begin:f,duration:h,isActive:u,easing:g,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(T){var _=T.t;if(k){var D=k.length/l.length,E=l.map(function(M,B){var z=Math.floor(B*D);if(k[z]){var Y=k[z],W=yi(Y.x,M.x),H=yi(Y.y,M.y);return Nl(Nl({},M),{},{x:W(_),y:H(_)})}if(v){var q=yi(w*2,M.x),X=yi(y/2,M.y);return Nl(Nl({},M),{},{x:q(_),y:X(_)})}return Nl(Nl({},M),{},{x:M.x,y:M.y})});return i.renderCurveStatically(E,n,s)}var L=yi(0,S),R=L(_),F;if(c){var A="".concat(c).split(/[,\s]+/gim).map(function(M){return parseFloat(M)});F=i.getStrokeDasharray(R,S,A)}else F=i.generateSimpleStrokeDasharray(S,R);return i.renderCurveStatically(l,n,s,{strokeDasharray:F})})}},{key:"renderCurve",value:function(n,s){var i=this.props,o=i.points,l=i.isAnimationActive,c=this.state,u=c.prevPoints,f=c.totalLength;return l&&o&&o.length&&(!u&&f>0||!Wp(u,o))?this.renderCurveWithAnimation(n,s):this.renderCurveStatically(o,n,s)}},{key:"render",value:function(){var n,s=this.props,i=s.hide,o=s.dot,l=s.points,c=s.className,u=s.xAxis,f=s.yAxis,h=s.top,g=s.left,p=s.width,v=s.height,w=s.isAnimationActive,y=s.id;if(i||!l||!l.length)return null;var N=this.state.isAnimationFinished,k=l.length===1,S=_r("recharts-line",c),T=u&&u.allowDataOverflow,_=f&&f.allowDataOverflow,D=T||_,E=nn(y)?this.id:y,L=(n=Mr(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},R=L.r,F=R===void 0?3:R,A=L.strokeWidth,M=A===void 0?2:A,B=xte(o)?o:{},z=B.clipDot,Y=z===void 0?!0:z,W=F*2+M;return pe.createElement(Tn,{className:S},T||_?pe.createElement("defs",null,pe.createElement("clipPath",{id:"clipPath-".concat(E)},pe.createElement("rect",{x:T?g:g-p/2,y:_?h:h-v/2,width:T?p:p*2,height:_?v:v*2})),!Y&&pe.createElement("clipPath",{id:"clipPath-dots-".concat(E)},pe.createElement("rect",{x:g-W/2,y:h-W/2,width:p+W,height:v+W}))):null,!k&&this.renderCurve(D,E),this.renderErrorBar(D,E),(k||o)&&this.renderDots(D,Y,E),(!w||N)&&sd.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:s.curPoints}:n.points!==s.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,s){for(var i=n.length%2!==0?[].concat(eg(n),[0]):n,o=[],l=0;l<s;++l)o=[].concat(eg(o),eg(i));return o}},{key:"renderDotItem",value:function(n,s){var i;if(pe.isValidElement(n))i=pe.cloneElement(n,s);else if(Yr(n))i=n(s);else{var o=s.key,l=wV(s,cBe),c=_r("recharts-line-dot",typeof n!="boolean"?n.className:"");i=pe.createElement(w1,$y({key:o},l,{className:c}))}return i}}])})(b.PureComponent);tu(Bf,"displayName","Line");tu(Bf,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!wm.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});tu(Bf,"getComposedData",function(t){var e=t.props,r=t.xAxis,n=t.yAxis,s=t.xAxisTicks,i=t.yAxisTicks,o=t.dataKey,l=t.bandSize,c=t.displayedData,u=t.offset,f=e.layout,h=c.map(function(g,p){var v=zs(g,o);return f==="horizontal"?{x:W5({axis:r,ticks:s,bandSize:l,entry:g,index:p}),y:nn(v)?null:n.scale(v),value:v,payload:g}:{x:nn(v)?null:r.scale(v),y:W5({axis:n,ticks:i,bandSize:l,entry:g,index:p}),value:v,payload:g}});return Nl({points:h,layout:f},u)});var jBe=["layout","type","stroke","connectNulls","isRange","ref"],NBe=["key"],xae;function Cx(t){"@babel/helpers - typeof";return Cx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cx(t)}function bae(t,e){if(t==null)return{};var r=SBe(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function SBe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function gp(){return gp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gp.apply(this,arguments)}function SV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Ih(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SV(Object(r),!0).forEach(function(n){Qu(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kBe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kV(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,vae(n.key),n)}}function CBe(t,e,r){return e&&kV(t.prototype,e),r&&kV(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function _Be(t,e,r){return e=pN(e),ABe(t,yae()?Reflect.construct(e,r||[],pN(t).constructor):e.apply(t,r))}function ABe(t,e){if(e&&(Cx(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TBe(t)}function TBe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yae(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yae=function(){return!!t})()}function pN(t){return pN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},pN(t)}function MBe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dO(t,e)}function dO(t,e){return dO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},dO(t,e)}function Qu(t,e,r){return e=vae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vae(t){var e=EBe(t,"string");return Cx(e)=="symbol"?e:e+""}function EBe(t,e){if(Cx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Cx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var $f=(function(t){function e(){var r;kBe(this,e);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=_Be(this,e,[].concat(s)),Qu(r,"state",{isAnimationFinished:!0}),Qu(r,"id",t0("recharts-area-")),Qu(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Yr(o)&&o()}),Qu(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Yr(o)&&o()}),r}return MBe(e,t),CBe(e,[{key:"renderDots",value:function(n,s,i){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var c=this.props,u=c.dot,f=c.points,h=c.dataKey,g=Mr(this.props,!1),p=Mr(u,!0),v=f.map(function(y,N){var k=Ih(Ih(Ih({key:"dot-".concat(N),r:3},g),p),{},{index:N,cx:y.x,cy:y.y,dataKey:h,value:y.value,payload:y.payload,points:f});return e.renderDotItem(u,k)}),w={clipPath:n?"url(#clipPath-".concat(s?"":"dots-").concat(i,")"):null};return pe.createElement(Tn,gp({className:"recharts-area-dots"},w),v)}},{key:"renderHorizontalRect",value:function(n){var s=this.props,i=s.baseLine,o=s.points,l=s.strokeWidth,c=o[0].x,u=o[o.length-1].x,f=n*Math.abs(c-u),h=Yh(o.map(function(g){return g.y||0}));return Qt(i)&&typeof i=="number"?h=Math.max(i,h):i&&Array.isArray(i)&&i.length&&(h=Math.max(Yh(i.map(function(g){return g.y||0})),h)),Qt(h)?pe.createElement("rect",{x:c<u?c:c-f,y:0,width:f,height:Math.floor(h+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var s=this.props,i=s.baseLine,o=s.points,l=s.strokeWidth,c=o[0].y,u=o[o.length-1].y,f=n*Math.abs(c-u),h=Yh(o.map(function(g){return g.x||0}));return Qt(i)&&typeof i=="number"?h=Math.max(i,h):i&&Array.isArray(i)&&i.length&&(h=Math.max(Yh(i.map(function(g){return g.x||0})),h)),Qt(h)?pe.createElement("rect",{x:0,y:c<u?c:c-f,width:h+(l?parseInt("".concat(l),10):1),height:Math.floor(f)}):null}},{key:"renderClipRect",value:function(n){var s=this.props.layout;return s==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,s,i,o){var l=this.props,c=l.layout,u=l.type,f=l.stroke,h=l.connectNulls,g=l.isRange;l.ref;var p=bae(l,jBe);return pe.createElement(Tn,{clipPath:i?"url(#clipPath-".concat(o,")"):null},pe.createElement(Ep,gp({},Mr(p,!0),{points:n,connectNulls:h,type:u,baseLine:s,layout:c,stroke:"none",className:"recharts-area-area"})),f!=="none"&&pe.createElement(Ep,gp({},Mr(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:h,fill:"none",points:n})),f!=="none"&&g&&pe.createElement(Ep,gp({},Mr(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:h,fill:"none",points:s})))}},{key:"renderAreaWithAnimation",value:function(n,s){var i=this,o=this.props,l=o.points,c=o.baseLine,u=o.isAnimationActive,f=o.animationBegin,h=o.animationDuration,g=o.animationEasing,p=o.animationId,v=this.state,w=v.prevPoints,y=v.prevBaseLine;return pe.createElement(fu,{begin:f,duration:h,isActive:u,easing:g,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(N){var k=N.t;if(w){var S=w.length/l.length,T=l.map(function(L,R){var F=Math.floor(R*S);if(w[F]){var A=w[F],M=yi(A.x,L.x),B=yi(A.y,L.y);return Ih(Ih({},L),{},{x:M(k),y:B(k)})}return L}),_;if(Qt(c)&&typeof c=="number"){var D=yi(y,c);_=D(k)}else if(nn(c)||zx(c)){var E=yi(y,0);_=E(k)}else _=c.map(function(L,R){var F=Math.floor(R*S);if(y[F]){var A=y[F],M=yi(A.x,L.x),B=yi(A.y,L.y);return Ih(Ih({},L),{},{x:M(k),y:B(k)})}return L});return i.renderAreaStatically(T,_,n,s)}return pe.createElement(Tn,null,pe.createElement("defs",null,pe.createElement("clipPath",{id:"animationClipPath-".concat(s)},i.renderClipRect(k))),pe.createElement(Tn,{clipPath:"url(#animationClipPath-".concat(s,")")},i.renderAreaStatically(l,c,n,s)))})}},{key:"renderArea",value:function(n,s){var i=this.props,o=i.points,l=i.baseLine,c=i.isAnimationActive,u=this.state,f=u.prevPoints,h=u.prevBaseLine,g=u.totalLength;return c&&o&&o.length&&(!f&&g>0||!Wp(f,o)||!Wp(h,l))?this.renderAreaWithAnimation(n,s):this.renderAreaStatically(o,l,n,s)}},{key:"render",value:function(){var n,s=this.props,i=s.hide,o=s.dot,l=s.points,c=s.className,u=s.top,f=s.left,h=s.xAxis,g=s.yAxis,p=s.width,v=s.height,w=s.isAnimationActive,y=s.id;if(i||!l||!l.length)return null;var N=this.state.isAnimationFinished,k=l.length===1,S=_r("recharts-area",c),T=h&&h.allowDataOverflow,_=g&&g.allowDataOverflow,D=T||_,E=nn(y)?this.id:y,L=(n=Mr(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},R=L.r,F=R===void 0?3:R,A=L.strokeWidth,M=A===void 0?2:A,B=xte(o)?o:{},z=B.clipDot,Y=z===void 0?!0:z,W=F*2+M;return pe.createElement(Tn,{className:S},T||_?pe.createElement("defs",null,pe.createElement("clipPath",{id:"clipPath-".concat(E)},pe.createElement("rect",{x:T?f:f-p/2,y:_?u:u-v/2,width:T?p:p*2,height:_?v:v*2})),!Y&&pe.createElement("clipPath",{id:"clipPath-dots-".concat(E)},pe.createElement("rect",{x:f-W/2,y:u-W/2,width:p+W,height:v+W}))):null,k?null:this.renderArea(D,E),(o||k)&&this.renderDots(D,Y,E),(!w||N)&&sd.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:s.curPoints,prevBaseLine:s.curBaseLine}:n.points!==s.curPoints||n.baseLine!==s.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])})(b.PureComponent);xae=$f;Qu($f,"displayName","Area");Qu($f,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!wm.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Qu($f,"getBaseValue",function(t,e,r,n){var s=t.layout,i=t.baseValue,o=e.props.baseValue,l=o??i;if(Qt(l)&&typeof l=="number")return l;var c=s==="horizontal"?n:r,u=c.scale.domain();if(c.type==="number"){var f=Math.max(u[0],u[1]),h=Math.min(u[0],u[1]);return l==="dataMin"?h:l==="dataMax"||f<0?f:Math.max(Math.min(u[0],u[1]),0)}return l==="dataMin"?u[0]:l==="dataMax"?u[1]:u[0]});Qu($f,"getComposedData",function(t){var e=t.props,r=t.item,n=t.xAxis,s=t.yAxis,i=t.xAxisTicks,o=t.yAxisTicks,l=t.bandSize,c=t.dataKey,u=t.stackedData,f=t.dataStartIndex,h=t.displayedData,g=t.offset,p=e.layout,v=u&&u.length,w=xae.getBaseValue(e,r,n,s),y=p==="horizontal",N=!1,k=h.map(function(T,_){var D;v?D=u[f+_]:(D=zs(T,c),Array.isArray(D)?N=!0:D=[w,D]);var E=D[1]==null||v&&zs(T,c)==null;return y?{x:W5({axis:n,ticks:i,bandSize:l,entry:T,index:_}),y:E?null:s.scale(D[1]),value:D,payload:T}:{x:E?null:n.scale(D[1]),y:W5({axis:s,ticks:o,bandSize:l,entry:T,index:_}),value:D,payload:T}}),S;return v||N?S=k.map(function(T){var _=Array.isArray(T.value)?T.value[0]:null;return y?{x:T.x,y:_!=null&&T.y!=null?s.scale(_):null}:{x:_!=null?n.scale(_):null,y:T.y}}):S=y?s.scale(w):n.scale(w),Ih({points:k,baseLine:S,layout:p,isRange:N},g)});Qu($f,"renderDotItem",function(t,e){var r;if(pe.isValidElement(t))r=pe.cloneElement(t,e);else if(Yr(t))r=t(e);else{var n=_r("recharts-area-dot",typeof t!="boolean"?t.className:""),s=e.key,i=bae(e,NBe);r=pe.createElement(w1,gp({},i,{key:s,className:n}))}return r});function _x(t){"@babel/helpers - typeof";return _x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_x(t)}function OBe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DBe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Nae(n.key),n)}}function PBe(t,e,r){return e&&DBe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function LBe(t,e,r){return e=gN(e),RBe(t,wae()?Reflect.construct(e,r||[],gN(t).constructor):e.apply(t,r))}function RBe(t,e){if(e&&(_x(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return IBe(t)}function IBe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wae(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wae=function(){return!!t})()}function gN(t){return gN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gN(t)}function FBe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fO(t,e)}function fO(t,e){return fO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},fO(t,e)}function jae(t,e,r){return e=Nae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Nae(t){var e=BBe(t,"string");return _x(e)=="symbol"?e:e+""}function BBe(t,e){if(_x(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_x(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function hO(){return hO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hO.apply(this,arguments)}function $Be(t){var e=t.xAxisId,r=AL(),n=TL(),s=nae(e);return s==null?null:b.createElement(Gx,hO({},s,{className:_r("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return xf(o,!0)}}))}var Mo=(function(t){function e(){return OBe(this,e),LBe(this,e,arguments)}return FBe(e,t),PBe(e,[{key:"render",value:function(){return b.createElement($Be,this.props)}}])})(b.Component);jae(Mo,"displayName","XAxis");jae(Mo,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Ax(t){"@babel/helpers - typeof";return Ax=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ax(t)}function HBe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zBe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Cae(n.key),n)}}function qBe(t,e,r){return e&&zBe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function UBe(t,e,r){return e=xN(e),WBe(t,Sae()?Reflect.construct(e,r||[],xN(t).constructor):e.apply(t,r))}function WBe(t,e){if(e&&(Ax(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VBe(t)}function VBe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Sae(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Sae=function(){return!!t})()}function xN(t){return xN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xN(t)}function GBe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mO(t,e)}function mO(t,e){return mO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},mO(t,e)}function kae(t,e,r){return e=Cae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Cae(t){var e=YBe(t,"string");return Ax(e)=="symbol"?e:e+""}function YBe(t,e){if(Ax(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ax(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function pO(){return pO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pO.apply(this,arguments)}var KBe=function(e){var r=e.yAxisId,n=AL(),s=TL(),i=aae(r);return i==null?null:b.createElement(Gx,pO({},i,{className:_r("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:s},ticksGenerator:function(l){return xf(l,!0)}}))},Eo=(function(t){function e(){return HBe(this,e),UBe(this,e,arguments)}return GBe(e,t),qBe(e,[{key:"render",value:function(){return b.createElement(KBe,this.props)}}])})(b.Component);kae(Eo,"displayName","YAxis");kae(Eo,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function CV(t){return ZBe(t)||QBe(t)||XBe(t)||JBe()}function JBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XBe(t,e){if(t){if(typeof t=="string")return gO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gO(t,e)}}function QBe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ZBe(t){if(Array.isArray(t))return gO(t)}function gO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var xO=function(e,r,n,s,i){var o=Pl(e,EL),l=Pl(e,FS),c=[].concat(CV(o),CV(l)),u=Pl(e,$S),f="".concat(s,"Id"),h=s[0],g=r;if(c.length&&(g=c.reduce(function(w,y){if(y.props[f]===n&&id(y.props,"extendDomain")&&Qt(y.props[h])){var N=y.props[h];return[Math.min(w[0],N),Math.max(w[1],N)]}return w},g)),u.length){var p="".concat(h,"1"),v="".concat(h,"2");g=u.reduce(function(w,y){if(y.props[f]===n&&id(y.props,"extendDomain")&&Qt(y.props[p])&&Qt(y.props[v])){var N=y.props[p],k=y.props[v];return[Math.min(w[0],N,k),Math.max(w[1],N,k)]}return w},g)}return i&&i.length&&(g=i.reduce(function(w,y){return Qt(y)?[Math.min(w[0],y),Math.max(w[1],y)]:w},g)),g},_T={exports:{}},_V;function e$e(){return _V||(_V=1,(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function s(c,u,f){this.fn=c,this.context=u,this.once=f||!1}function i(c,u,f,h,g){if(typeof f!="function")throw new TypeError("The listener must be a function");var p=new s(f,h||c,g),v=r?r+u:u;return c._events[v]?c._events[v].fn?c._events[v]=[c._events[v],p]:c._events[v].push(p):(c._events[v]=p,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],f,h;if(this._eventsCount===0)return u;for(h in f=this._events)e.call(f,h)&&u.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(f)):u},l.prototype.listeners=function(u){var f=r?r+u:u,h=this._events[f];if(!h)return[];if(h.fn)return[h.fn];for(var g=0,p=h.length,v=new Array(p);g<p;g++)v[g]=h[g].fn;return v},l.prototype.listenerCount=function(u){var f=r?r+u:u,h=this._events[f];return h?h.fn?1:h.length:0},l.prototype.emit=function(u,f,h,g,p,v){var w=r?r+u:u;if(!this._events[w])return!1;var y=this._events[w],N=arguments.length,k,S;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),N){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,f),!0;case 3:return y.fn.call(y.context,f,h),!0;case 4:return y.fn.call(y.context,f,h,g),!0;case 5:return y.fn.call(y.context,f,h,g,p),!0;case 6:return y.fn.call(y.context,f,h,g,p,v),!0}for(S=1,k=new Array(N-1);S<N;S++)k[S-1]=arguments[S];y.fn.apply(y.context,k)}else{var T=y.length,_;for(S=0;S<T;S++)switch(y[S].once&&this.removeListener(u,y[S].fn,void 0,!0),N){case 1:y[S].fn.call(y[S].context);break;case 2:y[S].fn.call(y[S].context,f);break;case 3:y[S].fn.call(y[S].context,f,h);break;case 4:y[S].fn.call(y[S].context,f,h,g);break;default:if(!k)for(_=1,k=new Array(N-1);_<N;_++)k[_-1]=arguments[_];y[S].fn.apply(y[S].context,k)}}return!0},l.prototype.on=function(u,f,h){return i(this,u,f,h,!1)},l.prototype.once=function(u,f,h){return i(this,u,f,h,!0)},l.prototype.removeListener=function(u,f,h,g){var p=r?r+u:u;if(!this._events[p])return this;if(!f)return o(this,p),this;var v=this._events[p];if(v.fn)v.fn===f&&(!g||v.once)&&(!h||v.context===h)&&o(this,p);else{for(var w=0,y=[],N=v.length;w<N;w++)(v[w].fn!==f||g&&!v[w].once||h&&v[w].context!==h)&&y.push(v[w]);y.length?this._events[p]=y.length===1?y[0]:y:o(this,p)}return this},l.prototype.removeAllListeners=function(u){var f;return u?(f=r?r+u:u,this._events[f]&&o(this,f)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,t.exports=l})(_T)),_T.exports}var t$e=e$e();const r$e=Vn(t$e);var AT=new r$e,TT="recharts.syncMouseEvents";function Gv(t){"@babel/helpers - typeof";return Gv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gv(t)}function n$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a$e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_ae(n.key),n)}}function s$e(t,e,r){return e&&a$e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function MT(t,e,r){return e=_ae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _ae(t){var e=i$e(t,"string");return Gv(e)=="symbol"?e:e+""}function i$e(t,e){if(Gv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var o$e=(function(){function t(){n$e(this,t),MT(this,"activeIndex",0),MT(this,"coordinateList",[]),MT(this,"layout","horizontal")}return s$e(t,[{key:"setDetails",value:function(r){var n,s=r.coordinateList,i=s===void 0?null:s,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,f=r.offset,h=f===void 0?null:f,g=r.mouseHandlerCallback,p=g===void 0?null:g;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var s=this.container.getBoundingClientRect(),i=s.x,o=s.y,l=s.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,f=((n=window)===null||n===void 0?void 0:n.scrollY)||0,h=i+c+u,g=o+this.offset.top+l/2+f;this.mouseHandlerCallback({pageX:h,pageY:g})}}}])})();function l$e(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],s=t==null?void 0:t[1];if(n&&s&&Qt(n)&&Qt(s))return!0}return!1}function c$e(t,e,r,n){var s=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-s:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-s,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function Aae(t){var e=t.cx,r=t.cy,n=t.radius,s=t.startAngle,i=t.endAngle,o=Fa(e,r,n,s),l=Fa(e,r,n,i);return{points:[o,l],cx:e,cy:r,radius:n,startAngle:s,endAngle:i}}function u$e(t,e,r){var n,s,i,o;if(t==="horizontal")n=e.x,i=n,s=r.top,o=r.top+r.height;else if(t==="vertical")s=e.y,o=s,n=r.left,i=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,c=e.cy,u=e.innerRadius,f=e.outerRadius,h=e.angle,g=Fa(l,c,u,h),p=Fa(l,c,f,h);n=g.x,s=g.y,i=p.x,o=p.y}else return Aae(e);return[{x:n,y:s},{x:i,y:o}]}function Yv(t){"@babel/helpers - typeof";return Yv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yv(t)}function AV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function o2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AV(Object(r),!0).forEach(function(n){d$e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function d$e(t,e,r){return e=f$e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function f$e(t){var e=h$e(t,"string");return Yv(e)=="symbol"?e:e+""}function h$e(t,e){if(Yv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Yv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function m$e(t){var e,r,n=t.element,s=t.tooltipEventType,i=t.isActive,o=t.activeCoordinate,l=t.activePayload,c=t.offset,u=t.activeTooltipIndex,f=t.tooltipAxisBandSize,h=t.layout,g=t.chartName,p=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!i||!o||g!=="ScatterChart"&&s!=="axis")return null;var v,w=Ep;if(g==="ScatterChart")v=o,w=CRe;else if(g==="BarChart")v=c$e(h,o,c,f),w=NL;else if(h==="radial"){var y=Aae(o),N=y.cx,k=y.cy,S=y.radius,T=y.startAngle,_=y.endAngle;v={cx:N,cy:k,startAngle:T,endAngle:_,innerRadius:S,outerRadius:S},w=Cne}else v={points:u$e(h,o,c)},w=Ep;var D=o2(o2(o2(o2({stroke:"#ccc",pointerEvents:"none"},c),v),Mr(p,!1)),{},{payload:l,payloadIndex:u,className:_r("recharts-tooltip-cursor",p.className)});return b.isValidElement(p)?b.cloneElement(p,D):b.createElement(w,D)}var p$e=["item"],g$e=["children","className","width","height","style","compact","title","desc"];function Tx(t){"@babel/helpers - typeof";return Tx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tx(t)}function jg(){return jg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jg.apply(this,arguments)}function TV(t,e){return y$e(t)||b$e(t,e)||Mae(t,e)||x$e()}function x$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b$e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){u=!0,s=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function y$e(t){if(Array.isArray(t))return t}function MV(t,e){if(t==null)return{};var r=v$e(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function v$e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function w$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function j$e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Eae(n.key),n)}}function N$e(t,e,r){return e&&j$e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function S$e(t,e,r){return e=bN(e),k$e(t,Tae()?Reflect.construct(e,r||[],bN(t).constructor):e.apply(t,r))}function k$e(t,e){if(e&&(Tx(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return C$e(t)}function C$e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Tae(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Tae=function(){return!!t})()}function bN(t){return bN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bN(t)}function _$e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bO(t,e)}function bO(t,e){return bO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},bO(t,e)}function Mx(t){return M$e(t)||T$e(t)||Mae(t)||A$e()}function A$e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mae(t,e){if(t){if(typeof t=="string")return yO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yO(t,e)}}function T$e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function M$e(t){if(Array.isArray(t))return yO(t)}function yO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function EV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Dt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?EV(Object(r),!0).forEach(function(n){Gr(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):EV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Gr(t,e,r){return e=Eae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Eae(t){var e=E$e(t,"string");return Tx(e)=="symbol"?e:e+""}function E$e(t,e){if(Tx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Tx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var O$e={xAxis:["bottom","top"],yAxis:["left","right"]},D$e={width:"100%",height:"100%"},Oae={x:0,y:0};function l2(t){return t}var P$e=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},L$e=function(e,r,n,s){var i=r.find(function(f){return f&&f.index===n});if(i){if(e==="horizontal")return{x:i.coordinate,y:s.y};if(e==="vertical")return{x:s.x,y:i.coordinate};if(e==="centric"){var o=i.coordinate,l=s.radius;return Dt(Dt(Dt({},s),Fa(s.cx,s.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,u=s.angle;return Dt(Dt(Dt({},s),Fa(s.cx,s.cy,c,u)),{},{angle:u,radius:c})}return Oae},HS=function(e,r){var n=r.graphicalItems,s=r.dataStartIndex,i=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(Mx(l),Mx(u)):l},[]);return o.length>0?o:e&&e.length&&Qt(s)&&Qt(i)?e.slice(s,i+1):[]};function Dae(t){return t==="number"?[0,"auto"]:void 0}var vO=function(e,r,n,s){var i=e.graphicalItems,o=e.tooltipAxis,l=HS(r,e);return n<0||!i||!i.length||n>=l.length?null:i.reduce(function(c,u){var f,h=(f=u.props.data)!==null&&f!==void 0?f:r;h&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(h=h.slice(e.dataStartIndex,e.dataEndIndex+1));var g;if(o.dataKey&&!o.allowDuplicatedCategory){var p=h===void 0?l:h;g=v5(p,o.dataKey,s)}else g=h&&h[n]||l[n];return g?[].concat(Mx(c),[vne(u,g)]):c},[])},OV=function(e,r,n,s){var i=s||{x:e.chartX,y:e.chartY},o=P$e(i,n),l=e.orderedTooltipTicks,c=e.tooltipAxis,u=e.tooltipTicks,f=JPe(o,l,u,c);if(f>=0&&u){var h=u[f]&&u[f].value,g=vO(e,r,f,h),p=L$e(n,l,f,i);return{activeTooltipIndex:f,activeLabel:h,activePayload:g,activeCoordinate:p}}return null},R$e=function(e,r){var n=r.axes,s=r.graphicalItems,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,f=e.layout,h=e.children,g=e.stackOffset,p=mne(f,i);return n.reduce(function(v,w){var y,N=w.type.defaultProps!==void 0?Dt(Dt({},w.type.defaultProps),w.props):w.props,k=N.type,S=N.dataKey,T=N.allowDataOverflow,_=N.allowDuplicatedCategory,D=N.scale,E=N.ticks,L=N.includeHidden,R=N[o];if(v[R])return v;var F=HS(e.data,{graphicalItems:s.filter(function(V){var J,Q=o in V.props?V.props[o]:(J=V.type.defaultProps)===null||J===void 0?void 0:J[o];return Q===R}),dataStartIndex:c,dataEndIndex:u}),A=F.length,M,B,z;l$e(N.domain,T,k)&&(M=DE(N.domain,null,T),p&&(k==="number"||D!=="auto")&&(z=Ry(F,S,"category")));var Y=Dae(k);if(!M||M.length===0){var W,H=(W=N.domain)!==null&&W!==void 0?W:Y;if(S){if(M=Ry(F,S,k),k==="category"&&p){var q=UAe(M);_&&q?(B=M,M=aN(0,A)):_||(M=TU(H,M,w).reduce(function(V,J){return V.indexOf(J)>=0?V:[].concat(Mx(V),[J])},[]))}else if(k==="category")_?M=M.filter(function(V){return V!==""&&!nn(V)}):M=TU(H,M,w).reduce(function(V,J){return V.indexOf(J)>=0||J===""||nn(J)?V:[].concat(Mx(V),[J])},[]);else if(k==="number"){var X=tLe(F,s.filter(function(V){var J,Q,re=o in V.props?V.props[o]:(J=V.type.defaultProps)===null||J===void 0?void 0:J[o],ce="hide"in V.props?V.props.hide:(Q=V.type.defaultProps)===null||Q===void 0?void 0:Q.hide;return re===R&&(L||!ce)}),S,i,f);X&&(M=X)}p&&(k==="number"||D!=="auto")&&(z=Ry(F,S,"category"))}else p?M=aN(0,A):l&&l[R]&&l[R].hasStack&&k==="number"?M=g==="expand"?[0,1]:yne(l[R].stackGroups,c,u):M=hne(F,s.filter(function(V){var J=o in V.props?V.props[o]:V.type.defaultProps[o],Q="hide"in V.props?V.props.hide:V.type.defaultProps.hide;return J===R&&(L||!Q)}),k,f,!0);if(k==="number")M=xO(h,M,R,i,E),H&&(M=DE(H,M,T));else if(k==="category"&&H){var oe=H,K=M.every(function(V){return oe.indexOf(V)>=0});K&&(M=oe)}}return Dt(Dt({},v),{},Gr({},R,Dt(Dt({},N),{},{axisType:i,domain:M,categoricalDomain:z,duplicateDomain:B,originalDomain:(y=N.domain)!==null&&y!==void 0?y:Y,isCategorical:p,layout:f})))},{})},I$e=function(e,r){var n=r.graphicalItems,s=r.Axis,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,f=e.layout,h=e.children,g=HS(e.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),p=g.length,v=mne(f,i),w=-1;return n.reduce(function(y,N){var k=N.type.defaultProps!==void 0?Dt(Dt({},N.type.defaultProps),N.props):N.props,S=k[o],T=Dae("number");if(!y[S]){w++;var _;return v?_=aN(0,p):l&&l[S]&&l[S].hasStack?(_=yne(l[S].stackGroups,c,u),_=xO(h,_,S,i)):(_=DE(T,hne(g,n.filter(function(D){var E,L,R=o in D.props?D.props[o]:(E=D.type.defaultProps)===null||E===void 0?void 0:E[o],F="hide"in D.props?D.props.hide:(L=D.type.defaultProps)===null||L===void 0?void 0:L.hide;return R===S&&!F}),"number",f),s.defaultProps.allowDataOverflow),_=xO(h,_,S,i)),Dt(Dt({},y),{},Gr({},S,Dt(Dt({axisType:i},s.defaultProps),{},{hide:!0,orientation:Dl(O$e,"".concat(i,".").concat(w%2),null),domain:_,originalDomain:T,isCategorical:v,layout:f})))}return y},{})},F$e=function(e,r){var n=r.axisType,s=n===void 0?"xAxis":n,i=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,f=e.children,h="".concat(s,"Id"),g=Pl(f,i),p={};return g&&g.length?p=R$e(e,{axes:g,graphicalItems:o,axisType:s,axisIdKey:h,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(p=I$e(e,{Axis:i,graphicalItems:o,axisType:s,axisIdKey:h,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),p},B$e=function(e){var r=Uh(e),n=xf(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:JP(n,function(s){return s.coordinate}),tooltipAxis:r,tooltipAxisBandSize:V5(r,n)}},DV=function(e){var r=e.children,n=e.defaultShowTooltip,s=kl(r,yx),i=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),s&&s.props&&(s.props.startIndex>=0&&(i=s.props.startIndex),s.props.endIndex>=0&&(o=s.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},$$e=function(e){return!e||!e.length?!1:e.some(function(r){var n=Af(r&&r.type);return n&&n.indexOf("Bar")>=0})},PV=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},H$e=function(e,r){var n=e.props,s=e.graphicalItems,i=e.xAxisMap,o=i===void 0?{}:i,l=e.yAxisMap,c=l===void 0?{}:l,u=n.width,f=n.height,h=n.children,g=n.margin||{},p=kl(h,yx),v=kl(h,Tf),w=Object.keys(c).reduce(function(_,D){var E=c[D],L=E.orientation;return!E.mirror&&!E.hide?Dt(Dt({},_),{},Gr({},L,_[L]+E.width)):_},{left:g.left||0,right:g.right||0}),y=Object.keys(o).reduce(function(_,D){var E=o[D],L=E.orientation;return!E.mirror&&!E.hide?Dt(Dt({},_),{},Gr({},L,Dl(_,"".concat(L))+E.height)):_},{top:g.top||0,bottom:g.bottom||0}),N=Dt(Dt({},y),w),k=N.bottom;p&&(N.bottom+=p.props.height||yx.defaultProps.height),v&&r&&(N=ZPe(N,s,n,r));var S=u-N.left-N.right,T=f-N.top-N.bottom;return Dt(Dt({brushBottom:k},N),{},{width:Math.max(S,0),height:Math.max(T,0)})},z$e=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},zS=function(e){var r=e.chartName,n=e.GraphicalChild,s=e.defaultTooltipEventType,i=s===void 0?"axis":s,o=e.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=e.axisComponents,u=e.legendContent,f=e.formatAxisMap,h=e.defaultProps,g=function(N,k){var S=k.graphicalItems,T=k.stackGroups,_=k.offset,D=k.updateId,E=k.dataStartIndex,L=k.dataEndIndex,R=N.barSize,F=N.layout,A=N.barGap,M=N.barCategoryGap,B=N.maxBarSize,z=PV(F),Y=z.numericAxisName,W=z.cateAxisName,H=$$e(S),q=[];return S.forEach(function(X,oe){var K=HS(N.data,{graphicalItems:[X],dataStartIndex:E,dataEndIndex:L}),V=X.type.defaultProps!==void 0?Dt(Dt({},X.type.defaultProps),X.props):X.props,J=V.dataKey,Q=V.maxBarSize,re=V["".concat(Y,"Id")],ce=V["".concat(W,"Id")],Ee={},ke=c.reduce(function(tt,Ve){var Te=k["".concat(Ve.axisType,"Map")],le=V["".concat(Ve.axisType,"Id")];Te&&Te[le]||Ve.axisType==="zAxis"||Gp();var Je=Te[le];return Dt(Dt({},tt),{},Gr(Gr({},Ve.axisType,Je),"".concat(Ve.axisType,"Ticks"),xf(Je)))},Ee),ge=ke[W],Ce=ke["".concat(W,"Ticks")],Ke=T&&T[re]&&T[re].hasStack&&uLe(X,T[re].stackGroups),fe=Af(X.type).indexOf("Bar")>=0,ye=V5(ge,Ce),ae=[],se=H&&XPe({barSize:R,stackGroups:T,totalSize:z$e(ke,W)});if(fe){var bt,pt,Re=nn(Q)?B:Q,Me=(bt=(pt=V5(ge,Ce,!0))!==null&&pt!==void 0?pt:Re)!==null&&bt!==void 0?bt:0;ae=QPe({barGap:A,barCategoryGap:M,bandSize:Me!==ye?Me:ye,sizeList:se[ce],maxBarSize:Re}),Me!==ye&&(ae=ae.map(function(tt){return Dt(Dt({},tt),{},{position:Dt(Dt({},tt.position),{},{offset:tt.position.offset-Me/2})})}))}var qe=X&&X.type&&X.type.getComposedData;qe&&q.push({props:Dt(Dt({},qe(Dt(Dt({},ke),{},{displayedData:K,props:N,dataKey:J,item:X,bandSize:ye,barPosition:ae,offset:_,stackedData:Ke,layout:F,dataStartIndex:E,dataEndIndex:L}))),{},Gr(Gr(Gr({key:X.key||"item-".concat(oe)},Y,ke[Y]),W,ke[W]),"animationId",D)),childIndex:r4e(X,N.children),item:X})}),q},p=function(N,k){var S=N.props,T=N.dataStartIndex,_=N.dataEndIndex,D=N.updateId;if(!U$({props:S}))return null;var E=S.children,L=S.layout,R=S.stackOffset,F=S.data,A=S.reverseStackOrder,M=PV(L),B=M.numericAxisName,z=M.cateAxisName,Y=Pl(E,n),W=lLe(F,Y,"".concat(B,"Id"),"".concat(z,"Id"),R,A),H=c.reduce(function(V,J){var Q="".concat(J.axisType,"Map");return Dt(Dt({},V),{},Gr({},Q,F$e(S,Dt(Dt({},J),{},{graphicalItems:Y,stackGroups:J.axisType===B&&W,dataStartIndex:T,dataEndIndex:_}))))},{}),q=H$e(Dt(Dt({},H),{},{props:S,graphicalItems:Y}),k==null?void 0:k.legendBBox);Object.keys(H).forEach(function(V){H[V]=f(S,H[V],q,V.replace("Map",""),r)});var X=H["".concat(z,"Map")],oe=B$e(X),K=g(S,Dt(Dt({},H),{},{dataStartIndex:T,dataEndIndex:_,updateId:D,graphicalItems:Y,stackGroups:W,offset:q}));return Dt(Dt({formattedGraphicalItems:K,graphicalItems:Y,offset:q,stackGroups:W},oe),H)},v=(function(y){function N(k){var S,T,_;return w$e(this,N),_=S$e(this,N,[k]),Gr(_,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Gr(_,"accessibilityManager",new o$e),Gr(_,"handleLegendBBoxUpdate",function(D){if(D){var E=_.state,L=E.dataStartIndex,R=E.dataEndIndex,F=E.updateId;_.setState(Dt({legendBBox:D},p({props:_.props,dataStartIndex:L,dataEndIndex:R,updateId:F},Dt(Dt({},_.state),{},{legendBBox:D}))))}}),Gr(_,"handleReceiveSyncEvent",function(D,E,L){if(_.props.syncId===D){if(L===_.eventEmitterSymbol&&typeof _.props.syncMethod!="function")return;_.applySyncEvent(E)}}),Gr(_,"handleBrushChange",function(D){var E=D.startIndex,L=D.endIndex;if(E!==_.state.dataStartIndex||L!==_.state.dataEndIndex){var R=_.state.updateId;_.setState(function(){return Dt({dataStartIndex:E,dataEndIndex:L},p({props:_.props,dataStartIndex:E,dataEndIndex:L,updateId:R},_.state))}),_.triggerSyncEvent({dataStartIndex:E,dataEndIndex:L})}}),Gr(_,"handleMouseEnter",function(D){var E=_.getMouseInfo(D);if(E){var L=Dt(Dt({},E),{},{isTooltipActive:!0});_.setState(L),_.triggerSyncEvent(L);var R=_.props.onMouseEnter;Yr(R)&&R(L,D)}}),Gr(_,"triggeredAfterMouseMove",function(D){var E=_.getMouseInfo(D),L=E?Dt(Dt({},E),{},{isTooltipActive:!0}):{isTooltipActive:!1};_.setState(L),_.triggerSyncEvent(L);var R=_.props.onMouseMove;Yr(R)&&R(L,D)}),Gr(_,"handleItemMouseEnter",function(D){_.setState(function(){return{isTooltipActive:!0,activeItem:D,activePayload:D.tooltipPayload,activeCoordinate:D.tooltipPosition||{x:D.cx,y:D.cy}}})}),Gr(_,"handleItemMouseLeave",function(){_.setState(function(){return{isTooltipActive:!1}})}),Gr(_,"handleMouseMove",function(D){D.persist(),_.throttleTriggeredAfterMouseMove(D)}),Gr(_,"handleMouseLeave",function(D){_.throttleTriggeredAfterMouseMove.cancel();var E={isTooltipActive:!1};_.setState(E),_.triggerSyncEvent(E);var L=_.props.onMouseLeave;Yr(L)&&L(E,D)}),Gr(_,"handleOuterEvent",function(D){var E=t4e(D),L=Dl(_.props,"".concat(E));if(E&&Yr(L)){var R,F;/.*touch.*/i.test(E)?F=_.getMouseInfo(D.changedTouches[0]):F=_.getMouseInfo(D),L((R=F)!==null&&R!==void 0?R:{},D)}}),Gr(_,"handleClick",function(D){var E=_.getMouseInfo(D);if(E){var L=Dt(Dt({},E),{},{isTooltipActive:!0});_.setState(L),_.triggerSyncEvent(L);var R=_.props.onClick;Yr(R)&&R(L,D)}}),Gr(_,"handleMouseDown",function(D){var E=_.props.onMouseDown;if(Yr(E)){var L=_.getMouseInfo(D);E(L,D)}}),Gr(_,"handleMouseUp",function(D){var E=_.props.onMouseUp;if(Yr(E)){var L=_.getMouseInfo(D);E(L,D)}}),Gr(_,"handleTouchMove",function(D){D.changedTouches!=null&&D.changedTouches.length>0&&_.throttleTriggeredAfterMouseMove(D.changedTouches[0])}),Gr(_,"handleTouchStart",function(D){D.changedTouches!=null&&D.changedTouches.length>0&&_.handleMouseDown(D.changedTouches[0])}),Gr(_,"handleTouchEnd",function(D){D.changedTouches!=null&&D.changedTouches.length>0&&_.handleMouseUp(D.changedTouches[0])}),Gr(_,"handleDoubleClick",function(D){var E=_.props.onDoubleClick;if(Yr(E)){var L=_.getMouseInfo(D);E(L,D)}}),Gr(_,"handleContextMenu",function(D){var E=_.props.onContextMenu;if(Yr(E)){var L=_.getMouseInfo(D);E(L,D)}}),Gr(_,"triggerSyncEvent",function(D){_.props.syncId!==void 0&&AT.emit(TT,_.props.syncId,D,_.eventEmitterSymbol)}),Gr(_,"applySyncEvent",function(D){var E=_.props,L=E.layout,R=E.syncMethod,F=_.state.updateId,A=D.dataStartIndex,M=D.dataEndIndex;if(D.dataStartIndex!==void 0||D.dataEndIndex!==void 0)_.setState(Dt({dataStartIndex:A,dataEndIndex:M},p({props:_.props,dataStartIndex:A,dataEndIndex:M,updateId:F},_.state)));else if(D.activeTooltipIndex!==void 0){var B=D.chartX,z=D.chartY,Y=D.activeTooltipIndex,W=_.state,H=W.offset,q=W.tooltipTicks;if(!H)return;if(typeof R=="function")Y=R(q,D);else if(R==="value"){Y=-1;for(var X=0;X<q.length;X++)if(q[X].value===D.activeLabel){Y=X;break}}var oe=Dt(Dt({},H),{},{x:H.left,y:H.top}),K=Math.min(B,oe.x+oe.width),V=Math.min(z,oe.y+oe.height),J=q[Y]&&q[Y].value,Q=vO(_.state,_.props.data,Y),re=q[Y]?{x:L==="horizontal"?q[Y].coordinate:K,y:L==="horizontal"?V:q[Y].coordinate}:Oae;_.setState(Dt(Dt({},D),{},{activeLabel:J,activeCoordinate:re,activePayload:Q,activeTooltipIndex:Y}))}else _.setState(D)}),Gr(_,"renderCursor",function(D){var E,L=_.state,R=L.isTooltipActive,F=L.activeCoordinate,A=L.activePayload,M=L.offset,B=L.activeTooltipIndex,z=L.tooltipAxisBandSize,Y=_.getTooltipEventType(),W=(E=D.props.active)!==null&&E!==void 0?E:R,H=_.props.layout,q=D.key||"_recharts-cursor";return pe.createElement(m$e,{key:q,activeCoordinate:F,activePayload:A,activeTooltipIndex:B,chartName:r,element:D,isActive:W,layout:H,offset:M,tooltipAxisBandSize:z,tooltipEventType:Y})}),Gr(_,"renderPolarAxis",function(D,E,L){var R=Dl(D,"type.axisType"),F=Dl(_.state,"".concat(R,"Map")),A=D.type.defaultProps,M=A!==void 0?Dt(Dt({},A),D.props):D.props,B=F&&F[M["".concat(R,"Id")]];return b.cloneElement(D,Dt(Dt({},B),{},{className:_r(R,B.className),key:D.key||"".concat(E,"-").concat(L),ticks:xf(B,!0)}))}),Gr(_,"renderPolarGrid",function(D){var E=D.props,L=E.radialLines,R=E.polarAngles,F=E.polarRadius,A=_.state,M=A.radiusAxisMap,B=A.angleAxisMap,z=Uh(M),Y=Uh(B),W=Y.cx,H=Y.cy,q=Y.innerRadius,X=Y.outerRadius;return b.cloneElement(D,{polarAngles:Array.isArray(R)?R:xf(Y,!0).map(function(oe){return oe.coordinate}),polarRadius:Array.isArray(F)?F:xf(z,!0).map(function(oe){return oe.coordinate}),cx:W,cy:H,innerRadius:q,outerRadius:X,key:D.key||"polar-grid",radialLines:L})}),Gr(_,"renderLegend",function(){var D=_.state.formattedGraphicalItems,E=_.props,L=E.children,R=E.width,F=E.height,A=_.props.margin||{},M=R-(A.left||0)-(A.right||0),B=dne({children:L,formattedGraphicalItems:D,legendWidth:M,legendContent:u});if(!B)return null;var z=B.item,Y=MV(B,p$e);return b.cloneElement(z,Dt(Dt({},Y),{},{chartWidth:R,chartHeight:F,margin:A,onBBoxUpdate:_.handleLegendBBoxUpdate}))}),Gr(_,"renderTooltip",function(){var D,E=_.props,L=E.children,R=E.accessibilityLayer,F=kl(L,Ts);if(!F)return null;var A=_.state,M=A.isTooltipActive,B=A.activeCoordinate,z=A.activePayload,Y=A.activeLabel,W=A.offset,H=(D=F.props.active)!==null&&D!==void 0?D:M;return b.cloneElement(F,{viewBox:Dt(Dt({},W),{},{x:W.left,y:W.top}),active:H,label:Y,payload:H?z:[],coordinate:B,accessibilityLayer:R})}),Gr(_,"renderBrush",function(D){var E=_.props,L=E.margin,R=E.data,F=_.state,A=F.offset,M=F.dataStartIndex,B=F.dataEndIndex,z=F.updateId;return b.cloneElement(D,{key:D.key||"_recharts-brush",onChange:n2(_.handleBrushChange,D.props.onChange),data:R,x:Qt(D.props.x)?D.props.x:A.left,y:Qt(D.props.y)?D.props.y:A.top+A.height+A.brushBottom-(L.bottom||0),width:Qt(D.props.width)?D.props.width:A.width,startIndex:M,endIndex:B,updateId:"brush-".concat(z)})}),Gr(_,"renderReferenceElement",function(D,E,L){if(!D)return null;var R=_,F=R.clipPathId,A=_.state,M=A.xAxisMap,B=A.yAxisMap,z=A.offset,Y=D.type.defaultProps||{},W=D.props,H=W.xAxisId,q=H===void 0?Y.xAxisId:H,X=W.yAxisId,oe=X===void 0?Y.yAxisId:X;return b.cloneElement(D,{key:D.key||"".concat(E,"-").concat(L),xAxis:M[q],yAxis:B[oe],viewBox:{x:z.left,y:z.top,width:z.width,height:z.height},clipPathId:F})}),Gr(_,"renderActivePoints",function(D){var E=D.item,L=D.activePoint,R=D.basePoint,F=D.childIndex,A=D.isRange,M=[],B=E.props.key,z=E.item.type.defaultProps!==void 0?Dt(Dt({},E.item.type.defaultProps),E.item.props):E.item.props,Y=z.activeDot,W=z.dataKey,H=Dt(Dt({index:F,dataKey:W,cx:L.x,cy:L.y,r:4,fill:jL(E.item),strokeWidth:2,stroke:"#fff",payload:L.payload,value:L.value},Mr(Y,!1)),w5(Y));return M.push(N.renderActiveDot(Y,H,"".concat(B,"-activePoint-").concat(F))),R?M.push(N.renderActiveDot(Y,Dt(Dt({},H),{},{cx:R.x,cy:R.y}),"".concat(B,"-basePoint-").concat(F))):A&&M.push(null),M}),Gr(_,"renderGraphicChild",function(D,E,L){var R=_.filterFormatItem(D,E,L);if(!R)return null;var F=_.getTooltipEventType(),A=_.state,M=A.isTooltipActive,B=A.tooltipAxis,z=A.activeTooltipIndex,Y=A.activeLabel,W=_.props.children,H=kl(W,Ts),q=R.props,X=q.points,oe=q.isRange,K=q.baseLine,V=R.item.type.defaultProps!==void 0?Dt(Dt({},R.item.type.defaultProps),R.item.props):R.item.props,J=V.activeDot,Q=V.hide,re=V.activeBar,ce=V.activeShape,Ee=!!(!Q&&M&&H&&(J||re||ce)),ke={};F!=="axis"&&H&&H.props.trigger==="click"?ke={onClick:n2(_.handleItemMouseEnter,D.props.onClick)}:F!=="axis"&&(ke={onMouseLeave:n2(_.handleItemMouseLeave,D.props.onMouseLeave),onMouseEnter:n2(_.handleItemMouseEnter,D.props.onMouseEnter)});var ge=b.cloneElement(D,Dt(Dt({},R.props),ke));function Ce(Ve){return typeof B.dataKey=="function"?B.dataKey(Ve.payload):null}if(Ee)if(z>=0){var Ke,fe;if(B.dataKey&&!B.allowDuplicatedCategory){var ye=typeof B.dataKey=="function"?Ce:"payload.".concat(B.dataKey.toString());Ke=v5(X,ye,Y),fe=oe&&K&&v5(K,ye,Y)}else Ke=X==null?void 0:X[z],fe=oe&&K&&K[z];if(ce||re){var ae=D.props.activeIndex!==void 0?D.props.activeIndex:z;return[b.cloneElement(D,Dt(Dt(Dt({},R.props),ke),{},{activeIndex:ae})),null,null]}if(!nn(Ke))return[ge].concat(Mx(_.renderActivePoints({item:R,activePoint:Ke,basePoint:fe,childIndex:z,isRange:oe})))}else{var se,bt=(se=_.getItemByXY(_.state.activeCoordinate))!==null&&se!==void 0?se:{graphicalItem:ge},pt=bt.graphicalItem,Re=pt.item,Me=Re===void 0?D:Re,qe=pt.childIndex,tt=Dt(Dt(Dt({},R.props),ke),{},{activeIndex:qe});return[b.cloneElement(Me,tt),null,null]}return oe?[ge,null,null]:[ge,null]}),Gr(_,"renderCustomized",function(D,E,L){return b.cloneElement(D,Dt(Dt({key:"recharts-customized-".concat(L)},_.props),_.state))}),Gr(_,"renderMap",{CartesianGrid:{handler:l2,once:!0},ReferenceArea:{handler:_.renderReferenceElement},ReferenceLine:{handler:l2},ReferenceDot:{handler:_.renderReferenceElement},XAxis:{handler:l2},YAxis:{handler:l2},Brush:{handler:_.renderBrush,once:!0},Bar:{handler:_.renderGraphicChild},Line:{handler:_.renderGraphicChild},Area:{handler:_.renderGraphicChild},Radar:{handler:_.renderGraphicChild},RadialBar:{handler:_.renderGraphicChild},Scatter:{handler:_.renderGraphicChild},Pie:{handler:_.renderGraphicChild},Funnel:{handler:_.renderGraphicChild},Tooltip:{handler:_.renderCursor,once:!0},PolarGrid:{handler:_.renderPolarGrid,once:!0},PolarAngleAxis:{handler:_.renderPolarAxis},PolarRadiusAxis:{handler:_.renderPolarAxis},Customized:{handler:_.renderCustomized}}),_.clipPathId="".concat((S=k.id)!==null&&S!==void 0?S:t0("recharts"),"-clip"),_.throttleTriggeredAfterMouseMove=ure(_.triggeredAfterMouseMove,(T=k.throttleDelay)!==null&&T!==void 0?T:1e3/60),_.state={},_}return _$e(N,y),N$e(N,[{key:"componentDidMount",value:function(){var S,T;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(T=this.props.margin.top)!==null&&T!==void 0?T:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var S=this.props,T=S.children,_=S.data,D=S.height,E=S.layout,L=kl(T,Ts);if(L){var R=L.props.defaultIndex;if(!(typeof R!="number"||R<0||R>this.state.tooltipTicks.length-1)){var F=this.state.tooltipTicks[R]&&this.state.tooltipTicks[R].value,A=vO(this.state,_,R,F),M=this.state.tooltipTicks[R].coordinate,B=(this.state.offset.top+D)/2,z=E==="horizontal",Y=z?{x:M,y:B}:{y:M,x:B},W=this.state.formattedGraphicalItems.find(function(q){var X=q.item;return X.type.name==="Scatter"});W&&(Y=Dt(Dt({},Y),W.props.points[R].tooltipPosition),A=W.props.points[R].tooltipPayload);var H={activeTooltipIndex:R,isTooltipActive:!0,activeLabel:F,activePayload:A,activeCoordinate:Y};this.setState(H),this.renderCursor(L),this.accessibilityManager.setIndex(R)}}}},{key:"getSnapshotBeforeUpdate",value:function(S,T){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==T.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==S.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==S.margin){var _,D;this.accessibilityManager.setDetails({offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(D=this.props.margin.top)!==null&&D!==void 0?D:0}})}return null}},{key:"componentDidUpdate",value:function(S){tE([kl(S.children,Ts)],[kl(this.props.children,Ts)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var S=kl(this.props.children,Ts);if(S&&typeof S.props.shared=="boolean"){var T=S.props.shared?"axis":"item";return l.indexOf(T)>=0?T:i}return i}},{key:"getMouseInfo",value:function(S){if(!this.container)return null;var T=this.container,_=T.getBoundingClientRect(),D=zMe(_),E={chartX:Math.round(S.pageX-D.left),chartY:Math.round(S.pageY-D.top)},L=_.width/T.offsetWidth||1,R=this.inRange(E.chartX,E.chartY,L);if(!R)return null;var F=this.state,A=F.xAxisMap,M=F.yAxisMap,B=this.getTooltipEventType(),z=OV(this.state,this.props.data,this.props.layout,R);if(B!=="axis"&&A&&M){var Y=Uh(A).scale,W=Uh(M).scale,H=Y&&Y.invert?Y.invert(E.chartX):null,q=W&&W.invert?W.invert(E.chartY):null;return Dt(Dt({},E),{},{xValue:H,yValue:q},z)}return z?Dt(Dt({},E),z):null}},{key:"inRange",value:function(S,T){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,D=this.props.layout,E=S/_,L=T/_;if(D==="horizontal"||D==="vertical"){var R=this.state.offset,F=E>=R.left&&E<=R.left+R.width&&L>=R.top&&L<=R.top+R.height;return F?{x:E,y:L}:null}var A=this.state,M=A.angleAxisMap,B=A.radiusAxisMap;if(M&&B){var z=Uh(M);return OU({x:E,y:L},z)}return null}},{key:"parseEventsOfWrapper",value:function(){var S=this.props.children,T=this.getTooltipEventType(),_=kl(S,Ts),D={};_&&T==="axis"&&(_.props.trigger==="click"?D={onClick:this.handleClick}:D={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var E=w5(this.props,this.handleOuterEvent);return Dt(Dt({},E),D)}},{key:"addListener",value:function(){AT.on(TT,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){AT.removeListener(TT,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(S,T,_){for(var D=this.state.formattedGraphicalItems,E=0,L=D.length;E<L;E++){var R=D[E];if(R.item===S||R.props.key===S.key||T===Af(R.item.type)&&_===R.childIndex)return R}return null}},{key:"renderClipPath",value:function(){var S=this.clipPathId,T=this.state.offset,_=T.left,D=T.top,E=T.height,L=T.width;return pe.createElement("defs",null,pe.createElement("clipPath",{id:S},pe.createElement("rect",{x:_,y:D,height:E,width:L})))}},{key:"getXScales",value:function(){var S=this.state.xAxisMap;return S?Object.entries(S).reduce(function(T,_){var D=TV(_,2),E=D[0],L=D[1];return Dt(Dt({},T),{},Gr({},E,L.scale))},{}):null}},{key:"getYScales",value:function(){var S=this.state.yAxisMap;return S?Object.entries(S).reduce(function(T,_){var D=TV(_,2),E=D[0],L=D[1];return Dt(Dt({},T),{},Gr({},E,L.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(S){var T;return(T=this.state.xAxisMap)===null||T===void 0||(T=T[S])===null||T===void 0?void 0:T.scale}},{key:"getYScaleByAxisId",value:function(S){var T;return(T=this.state.yAxisMap)===null||T===void 0||(T=T[S])===null||T===void 0?void 0:T.scale}},{key:"getItemByXY",value:function(S){var T=this.state,_=T.formattedGraphicalItems,D=T.activeItem;if(_&&_.length)for(var E=0,L=_.length;E<L;E++){var R=_[E],F=R.props,A=R.item,M=A.type.defaultProps!==void 0?Dt(Dt({},A.type.defaultProps),A.props):A.props,B=Af(A.type);if(B==="Bar"){var z=(F.data||[]).find(function(q){return iRe(S,q)});if(z)return{graphicalItem:R,payload:z}}else if(B==="RadialBar"){var Y=(F.data||[]).find(function(q){return OU(S,q)});if(Y)return{graphicalItem:R,payload:Y}}else if(PS(R,D)||LS(R,D)||zv(R,D)){var W=TIe({graphicalItem:R,activeTooltipItem:D,itemData:M.data}),H=M.activeIndex===void 0?W:M.activeIndex;return{graphicalItem:Dt(Dt({},R),{},{childIndex:H}),payload:zv(R,D)?M.data[W]:R.props.data[W]}}}return null}},{key:"render",value:function(){var S=this;if(!U$(this))return null;var T=this.props,_=T.children,D=T.className,E=T.width,L=T.height,R=T.style,F=T.compact,A=T.title,M=T.desc,B=MV(T,g$e),z=Mr(B,!1);if(F)return pe.createElement(lV,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},pe.createElement(nE,jg({},z,{width:E,height:L,title:A,desc:M}),this.renderClipPath(),V$(_,this.renderMap)));if(this.props.accessibilityLayer){var Y,W;z.tabIndex=(Y=this.props.tabIndex)!==null&&Y!==void 0?Y:0,z.role=(W=this.props.role)!==null&&W!==void 0?W:"application",z.onKeyDown=function(q){S.accessibilityManager.keyboardEvent(q)},z.onFocus=function(){S.accessibilityManager.focus()}}var H=this.parseEventsOfWrapper();return pe.createElement(lV,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},pe.createElement("div",jg({className:_r("recharts-wrapper",D),style:Dt({position:"relative",cursor:"default",width:E,height:L},R)},H,{ref:function(X){S.container=X}}),pe.createElement(nE,jg({},z,{width:E,height:L,title:A,desc:M,style:D$e}),this.renderClipPath(),V$(_,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(b.Component);Gr(v,"displayName",r),Gr(v,"defaultProps",Dt({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),Gr(v,"getDerivedStateFromProps",function(y,N){var k=y.dataKey,S=y.data,T=y.children,_=y.width,D=y.height,E=y.layout,L=y.stackOffset,R=y.margin,F=N.dataStartIndex,A=N.dataEndIndex;if(N.updateId===void 0){var M=DV(y);return Dt(Dt(Dt({},M),{},{updateId:0},p(Dt(Dt({props:y},M),{},{updateId:0}),N)),{},{prevDataKey:k,prevData:S,prevWidth:_,prevHeight:D,prevLayout:E,prevStackOffset:L,prevMargin:R,prevChildren:T})}if(k!==N.prevDataKey||S!==N.prevData||_!==N.prevWidth||D!==N.prevHeight||E!==N.prevLayout||L!==N.prevStackOffset||!Dg(R,N.prevMargin)){var B=DV(y),z={chartX:N.chartX,chartY:N.chartY,isTooltipActive:N.isTooltipActive},Y=Dt(Dt({},OV(N,S,E)),{},{updateId:N.updateId+1}),W=Dt(Dt(Dt({},B),z),Y);return Dt(Dt(Dt({},W),p(Dt({props:y},W),N)),{},{prevDataKey:k,prevData:S,prevWidth:_,prevHeight:D,prevLayout:E,prevStackOffset:L,prevMargin:R,prevChildren:T})}if(!tE(T,N.prevChildren)){var H,q,X,oe,K=kl(T,yx),V=K&&(H=(q=K.props)===null||q===void 0?void 0:q.startIndex)!==null&&H!==void 0?H:F,J=K&&(X=(oe=K.props)===null||oe===void 0?void 0:oe.endIndex)!==null&&X!==void 0?X:A,Q=V!==F||J!==A,re=!nn(S),ce=re&&!Q?N.updateId:N.updateId+1;return Dt(Dt({updateId:ce},p(Dt(Dt({props:y},N),{},{updateId:ce,dataStartIndex:V,dataEndIndex:J}),N)),{},{prevChildren:T,dataStartIndex:V,dataEndIndex:J})}return null}),Gr(v,"renderActiveDot",function(y,N,k){var S;return b.isValidElement(y)?S=b.cloneElement(y,N):Yr(y)?S=y(N):S=pe.createElement(w1,N),pe.createElement(Tn,{className:"recharts-active-dot",key:k},S)});var w=b.forwardRef(function(N,k){return pe.createElement(v,jg({},N,{ref:k}))});return w.displayName=v.displayName,w},yN=zS({chartName:"LineChart",GraphicalChild:Bf,axisComponents:[{axisType:"xAxis",AxisComp:Mo},{axisType:"yAxis",AxisComp:Eo}],formatAxisMap:SL}),Hy=zS({chartName:"BarChart",GraphicalChild:uu,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Mo},{axisType:"yAxis",AxisComp:Eo}],formatAxisMap:SL}),PL=zS({chartName:"PieChart",GraphicalChild:gu,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:DS},{axisType:"radiusAxis",AxisComp:ES}],formatAxisMap:vLe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),q$e=zS({chartName:"AreaChart",GraphicalChild:$f,axisComponents:[{axisType:"xAxis",AxisComp:Mo},{axisType:"yAxis",AxisComp:Eo}],formatAxisMap:SL});const LV=(t,e,r,n)=>{if(t==null||e===null||e===void 0||r===null||r===void 0||n===null||n===void 0)return null;const s=t*60+e,i=r*60+n;let o=Math.abs(i-s);return o>720&&(o=1440-o),o},c2=t=>{if(t==null||isNaN(t)||t<0)return"-";const e=Math.round(t*100)/100,r=Math.floor(e/60),n=e%60;return e===0?"0min":r===0&&n>0?`${n.toFixed(2)}min`:r>0&&n===0?`${r}h`:`${r}h ${n.toFixed(2)}min`},ET=({title:t,value:e,change:r,icon:n})=>{const s=r==null?void 0:r.startsWith("+");return a.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),a.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),r&&a.jsxs("p",{className:`mt-3 text-xs font-semibold ${s?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})},U$e=()=>{const[t,e]=b.useState(()=>{const Y=localStorage.getItem("sidebarOpen");return Y?JSON.parse(Y):!1}),[r,n]=b.useState(!1),[s,i]=b.useState([]),[o,l]=b.useState(!0),[c,u]=b.useState(null),{user:f,getMachineHistories:h}=or(),g=tr(),p=Ds(),[v,w]=b.useState(window.innerWidth<768),[y,N]=b.useState(!1),[k,S]=b.useState(!1),T=pe.useRef(null),_=pe.useRef(null),D=p.pathname==="/machinehistory",E=p.pathname==="/machinehistory/reports";b.useEffect(()=>{(async()=>{l(!0);try{const W=await h();i(W||[])}catch(W){console.error("Failed to fetch machine history for reports:",W),u("Failed to load machine history data for reports."),i([])}finally{l(!1)}})()},[h]),b.useEffect(()=>{const Y=()=>{w(window.innerWidth<768),window.innerWidth<768&&e(!1)};return window.addEventListener("resize",Y),()=>window.removeEventListener("resize",Y)},[]),b.useEffect(()=>{const Y=W=>{T.current&&!T.current.contains(W.target)&&N(!1),_.current&&!_.current.contains(W.target)&&S(!1)};return document.addEventListener("mousedown",Y),()=>{document.removeEventListener("mousedown",Y)}},[]);const L=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!t)),e(Y=>!Y)},R=b.useMemo(()=>s.length,[s]),F=b.useMemo(()=>{const Y={};return s.forEach(W=>{W.mesin&&(Y[W.mesin]=(Y[W.mesin]||0)+1)}),Object.entries(Y).sort(([,W],[,H])=>H-W).slice(0,3).map(([W,H])=>({name:W,count:H}))},[s]),A=b.useMemo(()=>{const Y={};return s.forEach(W=>{if(W.mesin){const H=LV(W.stopJam,W.stopMenit,W.startJam,W.startMenit);H!==null&&(Y[W.mesin]||(Y[W.mesin]={totalMinutes:0,count:0}),Y[W.mesin].totalMinutes+=H,Y[W.mesin].count+=1)}}),Object.entries(Y).map(([W,H])=>{const q=H.count>0?H.totalMinutes/H.count:0,X=Math.round(q*100)/100;return{name:W,averageDowntimeMinutes:X,displayDowntime:c2(X)}})},[s]),M=b.useMemo(()=>{const Y={};return s.forEach(W=>{if(W.date){const H=new Date(W.date),q=H.getFullYear(),X=(H.getMonth()+1).toString().padStart(2,"0"),oe=`${q}-${X}`;Y[oe]=(Y[oe]||0)+1}}),Object.entries(Y).sort(([W],[H])=>W.localeCompare(H)).map(([W,H])=>{const[q,X]=W.split("-");return{name:`${new Date(Number(q),Number(X)-1,1).toLocaleString("en-US",{month:"short"})} ${q}`,"Maintenance Events":H}})},[s]),B=b.useMemo(()=>{const Y={Perbaikan:0,Perawatan:0};return s.forEach(W=>{W.perbaikanPerawatan==="Perbaikan"?Y.Perbaikan+=1:W.perbaikanPerawatan==="Perawatan"&&(Y.Perawatan+=1)}),[{name:"Repairs",value:Y.Perbaikan},{name:"Maintenance",value:Y.Perawatan}].filter(W=>W.value>0)},[s]),z=["#8884d8","#82ca9d","#ffc658","#ff7300"];return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Machine History",mainTitleHighlight:"Machine History",description:"Manage activities and their configurations within the system.",icon:a.jsx(qg,{}),isMobile:v,toggleSidebar:L}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"isi style mb-6 flex space-x-6 border-b border-gray-200",children:[a.jsx(O.div,{whileTap:{scale:.98},onClick:()=>g("/machinehistory"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${D?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Record"}),a.jsx(O.div,{whileTap:{scale:.98},onClick:()=>g("/machinehistory/reports"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${E?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Reports"})]}),a.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8",children:[a.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Machine History ",a.jsx("span",{className:"text-blue-600",children:"Reports & Analytics"})]}),a.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Gain insights into machine maintenance trends, downtime, and performance."})]}),o?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),a.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading analytics data..."})]}):s.length===0?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx(Zs,{className:"text-blue-500 text-4xl mx-auto mb-4"}),a.jsx("p",{className:"text-gray-700 text-base font-medium",children:"No machine history records available to generate reports."})]}):a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[a.jsx(ET,{title:"Total Maintenance Events",value:R.toLocaleString("id-ID"),icon:a.jsx(fn,{})}),a.jsx(ET,{title:"Avg. Downtime (All Machines)",value:c2(Math.round(s.reduce((Y,W)=>Y+(LV(W.stopJam,W.stopMenit,W.startJam,W.startMenit)||0),0)/s.length*100)/100),icon:a.jsx(Cr,{})}),a.jsx(ET,{title:"Machines Maintained",value:new Set(s.map(Y=>Y.mesin)).size.toLocaleString("id-ID"),icon:a.jsx(ia,{})}),a.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1,ease:"easeOut"},className:"lg:col-span-2 bg-white rounded-2xl shadow-md p-6 border border-blue-50",children:[a.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[a.jsx(bc,{className:"mr-2 text-blue-600"})," Most Frequently Maintained Machines"]}),a.jsx(Cl,{width:"100%",height:300,children:a.jsxs(Hy,{data:F,margin:{top:20,right:30,left:20,bottom:5},children:[a.jsx(au,{strokeDasharray:"3 3",stroke:"#e0e7ff"}),a.jsx(Mo,{dataKey:"name",tickLine:!1,axisLine:!1,style:{fontSize:"12px",fill:"#6B7280"}}),a.jsx(Eo,{allowDecimals:!1,tickLine:!1,axisLine:!1,style:{fontSize:"12px",fill:"#6B7280"}}),a.jsx(Ts,{cursor:{fill:"rgba(239, 246, 255, 0.7)"},contentStyle:{backgroundColor:"#fff",border:"1px solid #e0e7ff",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",padding:"10px"},labelStyle:{fontWeight:"bold",color:"#374151"},itemStyle:{color:"#4B5563"}}),a.jsx(uu,{dataKey:"count",fill:"#3B82F6",barSize:30,radius:[10,10,0,0]})]})}),F.length===0&&a.jsx("p",{className:"text-center text-gray-500 mt-4 text-sm",children:"No data for most frequently maintained machines."})]}),a.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2,ease:"easeOut"},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 flex flex-col items-center justify-center",children:[a.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[a.jsx(fr,{className:"mr-2 text-blue-600"})," Maintenance Type Distribution"]}),B.length>0?a.jsx(Cl,{width:"100%",height:300,children:a.jsxs(PL,{children:[a.jsx(gu,{data:B,cx:"50%",cy:"50%",labelLine:!1,outerRadius:100,fill:"#8884d8",dataKey:"value",nameKey:"name",children:B.map((Y,W)=>a.jsx(qp,{fill:z[W%z.length]},`cell-${W}`))}),a.jsx(Ts,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e0e7ff",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",padding:"10px"},labelStyle:{fontWeight:"bold",color:"#374151"},itemStyle:{color:"#4B5563"},formatter:(Y,W)=>[`${Y} events`,W]}),a.jsx(Tf,{layout:"vertical",align:"right",verticalAlign:"middle",wrapperStyle:{fontSize:"12px",color:"#6B7280"}})]})}):a.jsx("p",{className:"text-center text-gray-500 mt-4 text-sm",children:"No data for maintenance types."})]}),a.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3,ease:"easeOut"},className:"lg:col-span-3 bg-white rounded-2xl shadow-md p-6 border border-blue-50",children:[a.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[a.jsx(Cr,{className:"mr-2 text-blue-600"})," Average Downtime per Machine"]}),a.jsx(Cl,{width:"100%",height:350,children:a.jsxs(Hy,{data:A,margin:{top:20,right:30,left:20,bottom:5},children:[a.jsx(au,{strokeDasharray:"3 3",stroke:"#e0e7ff"}),a.jsx(Mo,{dataKey:"name",tickLine:!1,axisLine:!1,style:{fontSize:"12px",fill:"#6B7280"}}),a.jsx(Eo,{tickFormatter:Y=>c2(Y),tickLine:!1,axisLine:!1,style:{fontSize:"12px",fill:"#6B7280"}}),a.jsx(Ts,{cursor:{fill:"rgba(239, 246, 255, 0.7)"},contentStyle:{backgroundColor:"#fff",border:"1px solid #e0e7ff",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",padding:"10px"},labelStyle:{fontWeight:"bold",color:"#374151"},itemStyle:{color:"#4B5563"},formatter:Y=>c2(Y)}),a.jsx(uu,{dataKey:"averageDowntimeMinutes",fill:"#82ca9d",barSize:30,radius:[10,10,0,0]})]})}),A.length===0&&a.jsx("p",{className:"text-center text-gray-500 mt-4 text-sm",children:"No data for average downtime per machine."})]}),a.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4,ease:"easeOut"},className:"lg:col-span-3 bg-white rounded-2xl shadow-md p-6 border border-blue-50",children:[a.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[a.jsx(ff,{className:"mr-2 text-blue-600"})," Maintenance Trend Over Time"]}),a.jsx(Cl,{width:"100%",height:350,children:a.jsxs(yN,{data:M,margin:{top:20,right:30,left:20,bottom:5},children:[a.jsx(au,{strokeDasharray:"3 3",stroke:"#e0e7ff"}),a.jsx(Mo,{dataKey:"name",tickLine:!1,axisLine:!1,style:{fontSize:"12px",fill:"#6B7280"}}),a.jsx(Eo,{allowDecimals:!1,tickLine:!1,axisLine:!1,style:{fontSize:"12px",fill:"#6B7280"}}),a.jsx(Ts,{cursor:{fill:"rgba(239, 246, 255, 0.7)"},contentStyle:{backgroundColor:"#fff",border:"1px solid #e0e7ff",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",padding:"10px"},labelStyle:{fontWeight:"bold",color:"#374151"},itemStyle:{color:"#4B5563"}}),a.jsx(Tf,{wrapperStyle:{fontSize:"12px",color:"#6B7280"}}),a.jsx(Bf,{type:"monotone",dataKey:"Maintenance Events",stroke:"#3B82F6",strokeWidth:2,dot:{r:4},activeDot:{r:6}})]})}),M.length===0&&a.jsx("p",{className:"text-center text-gray-500 mt-4 text-sm",children:"No data for maintenance trend over time."})]})]})]})]})]})};function W$e(t,e){const[r,n]=b.useState(t);return b.useEffect(()=>{const s=setTimeout(()=>{n(t)},e);return()=>{clearTimeout(s)}},[t,e]),r}const V$e=()=>{const[t,e]=b.useState(()=>{const ye=localStorage.getItem("sidebarOpen");return ye?JSON.parse(ye):!1}),[r,n]=b.useState(!1),[s,i]=b.useState([]),[o,l]=b.useState(!0),[c,u]=b.useState(null),[f,h]=b.useState(1),[g]=b.useState(10),{user:p,getAuditTrail:v,isAuthenticated:w}=or();tr();const[y,N]=b.useState(window.innerWidth<768),[k,S]=b.useState(!1),[T,_]=b.useState(!1),D=b.useRef(null),E=b.useRef(null),[L,R]=b.useState({key:"changed_at",direction:"descending"}),[F,A]=b.useState(""),M=W$e(F,300),[B,z]=b.useState(!1),[Y,W]=b.useState(null),H=b.useCallback(async()=>{try{l(!0),u(null);const ye=await v();i(ye)}catch(ye){console.error("Failed to fetch audit trail:",ye),u("Failed to load audit trail data. Please try again."),i([])}finally{l(!1)}},[v]);b.useEffect(()=>{H()},[H]),b.useEffect(()=>{const ye=()=>{N(window.innerWidth<768),window.innerWidth<768&&e(!1)};return window.addEventListener("resize",ye),()=>window.removeEventListener("resize",ye)},[]),b.useEffect(()=>{const ye=ae=>{D.current&&!D.current.contains(ae.target)&&S(!1),E.current&&!E.current.contains(ae.target)&&_(!1)};return document.addEventListener("mousedown",ye),()=>{document.removeEventListener("mousedown",ye)}},[]);const q=ye=>{A(ye.target.value)},X=ye=>{let ae="ascending";L&&L.key===ye&&L.direction==="ascending"&&(ae="descending"),R({key:ye,direction:ae})},oe=ye=>typeof ye=="object"&&ye!==null?ye.name||ye.toString():(ye==null?void 0:ye.toString())||"",K=b.useCallback(ye=>{W(ye),z(!0)},[]),V=ye=>{switch(ye){case"created":return"bg-green-500 text-white";case"updated":return"bg-blue-600 text-white";case"deleted":return"bg-red-500 text-white";default:return"bg-gray-500 text-white"}},J=ye=>ye?ye.replace("App\\Models\\",""):"Unknown",Q=pe.useMemo(()=>{let ye=[...s||[]];if(M.trim()){const ae=M.toLowerCase().trim();ye=ye.filter(se=>{var pt,Re,Me;return[((pt=se.changed_by)==null?void 0:pt.toLowerCase())||"",((Re=se.action)==null?void 0:Re.toLowerCase())||"",((Me=se.recordable_type)==null?void 0:Me.toLowerCase())||"",JSON.stringify(se.old_data_snapshot||{}).toLowerCase(),JSON.stringify(se.new_data_snapshot||{}).toLowerCase()].some(qe=>qe.includes(ae))})}return L!==null?ye.sort((ae,se)=>{if(L.key==="changed_at"){const Re=new Date(ae.changed_at).getTime(),Me=new Date(se.changed_at).getTime();return L.direction==="ascending"?Re-Me:Me-Re}const bt=oe(ae[L.key]),pt=oe(se[L.key]);return bt<pt?L.direction==="ascending"?-1:1:bt>pt?L.direction==="ascending"?1:-1:0}):ye.sort((ae,se)=>{const bt=new Date(ae.changed_at).getTime();return new Date(se.changed_at).getTime()-bt}),ye},[s,M,L]),re=f*g,ce=re-g,Ee=Q.slice(ce,re),ke=Math.ceil(Q.length/g),ge=ye=>h(ye),Ce=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!t)),e(ye=>!ye)},Ke=ye=>{try{return new Date(ye).toLocaleString()}catch{return ye}},fe=({log:ye,onClose:ae})=>{const se=Ge=>Ge==null?"-":typeof Ge=="object"&&Ge!==null?JSON.stringify(Ge):typeof Ge=="string"?Ge.trim()!==""?Ge.trim():"-":typeof Ge=="number"?Ge.toString():typeof Ge=="boolean"?Ge?"Yes":"No":String(Ge),bt=Ge=>!Ge||Ge.trim()===""?"-":pd.sanitize(Ge,{ALLOWED_TAGS:["h1","h2","h3","h4","h5","h6","p","br","span","div","ol","ul","li","strong","b","em","i","u","s","strike","code","mark","sub","sup","blockquote","pre"],ALLOWED_ATTR:["style","class","data-color","align","type","start"]}),pt=Ge=>{try{return new Date(Ge).toLocaleString()}catch{return Ge}},Re=Ge=>Ge?Ge.replace("App\\Models\\",""):"Unknown",Me=({title:Ge,children:ut,icon:Pe})=>a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[a.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-4 border-b border-gray-200",children:a.jsxs("div",{className:"flex items-center",children:[Pe&&a.jsx("div",{className:"mr-3 text-blue-600",children:Pe}),a.jsx("h3",{className:"text-lg font-bold text-gray-900",children:Ge})]})}),a.jsx("div",{className:"p-6",children:ut})]}),qe=({label:Ge,value:ut,icon:Pe,fullWidth:Ne=!1,priority:ze="medium"})=>{const me={high:"border-l-4 border-l-blue-500 bg-blue-25",medium:"border-l-2 border-l-gray-200",low:"border-l border-l-gray-100"};return a.jsx("div",{className:`${Ne?"col-span-full":""}`,children:a.jsx("div",{className:`p-4 rounded-lg ${me[ze]} transition-all duration-200 hover:shadow-sm`,children:a.jsxs("div",{className:"flex items-start space-x-3",children:[Pe&&a.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:Pe}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1",children:Ge}),a.jsx("p",{className:"text-sm font-medium text-gray-900 leading-relaxed",children:ut})]})]})})})},tt=()=>{const Ge=ye.old_data_snapshot?Object.keys(ye.old_data_snapshot):[],ut=ye.new_data_snapshot?Object.keys(ye.new_data_snapshot):[];return[...new Set([...Ge,...ut])].filter(Ne=>!["id","created_at","updated_at","deleted_at"].includes(Ne))},Ve=(Ge,ut)=>{if(Ge===void 0&&ut===void 0||Ge===null&&ut===null)return!0;if(Ge===void 0&&ut===null||Ge===null&&ut===void 0)return!1;if(Ge===ut)return!0;if(!isNaN(Number(Ge))&&!isNaN(Number(ut)))return Number(Ge)===Number(ut);if(typeof Ge=="boolean"&&typeof ut=="boolean")return Ge===ut;if(typeof Ge=="string"&&typeof ut=="string")return Ge.trim().toLowerCase()===ut.trim().toLowerCase();if(typeof Ge=="object"&&typeof ut=="object"&&Ge!==null&&ut!==null)try{return JSON.stringify(Ge)===JSON.stringify(ut)}catch{return String(Ge)===String(ut)}const Pe=String(Ge||"").trim(),Ne=String(ut||"").trim();return(Pe===""||Pe==="null"||Pe==="undefined")&&(Ne===""||Ne==="null"||Ne==="undefined")?!0:Pe===Ne},Te=()=>{const Ge=tt();if(Ge.length===0)return a.jsx("div",{className:"text-center py-8 text-gray-500",children:"No data changes recorded"});const ut=Ge.map(ze=>{const me=ye.old_data_snapshot??{},De=ye.new_data_snapshot??{},je=Object.prototype.hasOwnProperty.call(me,ze),We=Object.prototype.hasOwnProperty.call(De,ze),rt=je?me[ze]:void 0;let ve=We?De[ze]:void 0;ye.action==="updated"&&je&&!We&&(ve=rt);let xe;return!je&&We?xe="added":je&&!We?xe=ye.action==="deleted"?"removed":"unchanged":Ve(rt,ve)?xe="unchanged":xe="updated",{key:ze,oldValue:rt,newValue:ve,status:xe}}),Pe=ut.filter(ze=>ze.status!=="unchanged").length,Ne=ut.length-Pe;return a.jsxs("div",{className:"overflow-x-auto",children:[a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Field"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Old Value"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"New Value"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:ut.map(({key:ze,oldValue:me,newValue:De,status:je})=>{const We=ze.split("_").map(yt=>yt.charAt(0).toUpperCase()+yt.slice(1)).join(" "),rt=ze.toLowerCase().includes("complaint")||ze.toLowerCase().includes("action_taken")||ze.toLowerCase().includes("remarks"),ve=rt?bt(String(me||"")):se(me),xe=rt?bt(String(De||"")):se(De),Qe=je==="updated"?"bg-yellow-50":je==="added"?"bg-green-50":je==="removed"?"bg-red-50":"";return a.jsxs("tr",{className:Qe,children:[a.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900",children:We}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:rt?a.jsx("div",{className:`p-2 rounded rich-text-content prose prose-sm max-w-none ${je==="removed"?"bg-red-100 text-red-800 border border-red-200":je==="updated"?"bg-yellow-100 text-yellow-800 border border-yellow-200":"bg-gray-100 text-gray-800 border border-gray-200"}`,dangerouslySetInnerHTML:{__html:ve}}):a.jsx("div",{className:`p-2 rounded ${je==="removed"?"bg-red-100 text-red-800 border border-red-200":je==="updated"?"bg-yellow-100 text-yellow-800 border border-yellow-200":"bg-gray-100 text-gray-800 border border-gray-200"}`,children:ve})}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:rt?a.jsx("div",{className:`p-2 rounded rich-text-content prose prose-sm max-w-none ${je==="added"?"bg-green-100 text-green-800 border border-green-200":je==="updated"?"bg-yellow-100 text-yellow-800 border border-yellow-200":"bg-gray-100 text-gray-800 border border-gray-200"}`,dangerouslySetInnerHTML:{__html:xe}}):a.jsx("div",{className:`p-2 rounded ${je==="added"?"bg-green-100 text-green-800 border border-green-200":je==="updated"?"bg-yellow-100 text-yellow-800 border border-yellow-200":"bg-gray-100 text-gray-800 border border-gray-200"}`,children:xe})}),a.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm",children:je==="added"?a.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[a.jsx(pa,{className:"w-3 h-3 mr-1"}),"Added"]}):je==="removed"?a.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[a.jsx(In,{className:"w-3 h-3 mr-1"}),"Removed"]}):je==="updated"?a.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[a.jsx(hc,{className:"w-3 h-3 mr-1"}),"Updated"]}):a.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-700",children:[a.jsx(fr,{className:"w-3 h-3 mr-1"}),"Unchanged"]})})]},ze)})})]}),a.jsxs("div",{className:"mt-4 text-sm text-gray-600",children:[a.jsx("span",{className:"font-medium",children:Pe})," field(s) changed • ",a.jsx("span",{className:"font-medium",children:Ne})," field(s) unchanged"]})]})},le=(Ge,ut)=>{if(!Ge||Object.keys(Ge).length===0)return a.jsxs("div",{className:"text-center py-8 text-gray-500 bg-white rounded-lg border border-gray-200",children:["No ",ut," data available"]});const Pe=Object.entries(Ge).filter(([Ne])=>!["id","created_at","updated_at","deleted_at"].includes(Ne));return Pe.length===0?a.jsxs("div",{className:"text-center py-8 text-gray-500 bg-white rounded-lg border border-gray-200",children:["No ",ut," data available"]}):a.jsx("div",{className:"space-y-4",children:Pe.map(([Ne,ze])=>{const me=Ne.split("_").map(je=>je.charAt(0).toUpperCase()+je.slice(1)).join(" "),De=Ne.toLowerCase().includes("complaint")||Ne.toLowerCase().includes("action_taken")||Ne.toLowerCase().includes("remarks");return a.jsxs("div",{className:"flex flex-col md:flex-row md:items-start gap-3 p-4 bg-white rounded-lg border border-gray-200 hover:bg-gray-50 transition-colors",children:[a.jsx("div",{className:"md:w-1/3 lg:w-1/4",children:a.jsx("h4",{className:"text-sm font-semibold text-gray-700 break-words",children:me})}),a.jsx("div",{className:"md:w-2/3 lg:w-3/4",children:De?a.jsx("div",{className:`rich-text-content bg-blue-50 border border-blue-100 rounded-lg p-3 text-gray-800 text-sm break-words prose prose-sm max-w-none\r
                          prose-headings:font-semibold prose-p:my-2 prose-ul:my-2 prose-ol:my-2\r
                          prose-li:my-1 prose-strong:font-semibold prose-em:italic`,dangerouslySetInnerHTML:{__html:bt(String(ze||""))}}):a.jsx("div",{className:"bg-blue-50 border border-blue-100 rounded-lg p-3 text-gray-800 text-sm break-words",children:se(ze)})})]},Ne)})})},Je=(Ge,ut)=>{if(!Ge||Object.keys(Ge).length===0)return a.jsxs("div",{className:"text-center py-4 text-gray-500",children:["No ",ut.toLowerCase()," available"]});const Pe=Object.entries(Ge).filter(([Ne,ze])=>!(["id","created_at","updated_at","deleted_at"].includes(Ne)||ze==null||ze===""));return Pe.length===0?a.jsxs("div",{className:"text-center py-4 text-gray-500",children:["No ",ut.toLowerCase()," available"]}):a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:Pe.map(([Ne,ze])=>{const me=Ne.split("_").map(De=>De.charAt(0).toUpperCase()+De.slice(1)).join(" ");return a.jsx(qe,{label:me,value:se(ze)},Ne)})})};return a.jsxs("div",{className:"space-y-6 max-h-[70vh] overflow-y-auto custom-scrollbar pr-2",children:[a.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6",children:a.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:["Audit Log #",ye.id]}),a.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-bold rounded-full ${ye.action==="created"?"bg-green-100 text-green-800 border border-green-300":ye.action==="updated"?"bg-blue-100 text-blue-800 border border-blue-300":ye.action==="deleted"?"bg-red-100 text-red-800 border border-red-300":"bg-gray-100 text-gray-800 border border-gray-300"}`,children:ye.action.charAt(0).toUpperCase()+ye.action.slice(1)})]}),a.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(Cr,{className:"w-4 h-4"}),"Timestamp: ",pt(ye.changed_at)]}),a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(cn,{className:"w-4 h-4"}),"User: ",ye.changed_by||"N/A"]})]})]})})}),a.jsx(Me,{title:"General Information",icon:a.jsx(fn,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsx(qe,{label:"Audit ID",value:se(ye.id),icon:a.jsx(Dp,{className:"w-4 h-4"}),priority:"high"}),a.jsx(qe,{label:"Timestamp",value:pt(ye.changed_at),icon:a.jsx(Cr,{className:"w-4 h-4"}),priority:"high"}),a.jsx(qe,{label:"User",value:se(ye.changed_by),icon:a.jsx(cn,{className:"w-4 h-4"}),priority:"high"}),a.jsx(qe,{label:"Action",value:se(ye.action),icon:a.jsx(hc,{className:"w-4 h-4"}),priority:"high"}),a.jsx(qe,{label:"Record Type",value:Re(ye.recordable_type),icon:a.jsx(vf,{className:"w-4 h-4"})}),a.jsx(qe,{label:"Record ID",value:se(ye.recordable_id),icon:a.jsx(Ug,{className:"w-4 h-4"})})]})}),ye.recordable_details&&Object.keys(ye.recordable_details).length>0&&a.jsx(Me,{title:"Record Details",icon:a.jsx(vf,{className:"w-5 h-5"}),children:Je(ye.recordable_details,"Record Details")}),a.jsx(Me,{title:"Data Changes Comparison",icon:a.jsx(hc,{className:"w-5 h-5"}),children:Te()}),a.jsx(Me,{title:"Complete Data Snapshots",icon:a.jsx(ON,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"space-y-8",children:[ye.old_data_snapshot&&Object.keys(ye.old_data_snapshot).length>0&&a.jsxs("div",{className:"w-full",children:[a.jsx("h4",{className:"text-md font-semibold text-gray-700 mb-4 pb-2 border-b border-gray-200",children:"Old Data Snapshot"}),a.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:le(ye.old_data_snapshot,"old")})]}),ye.new_data_snapshot&&Object.keys(ye.new_data_snapshot).length>0&&a.jsxs("div",{className:"w-full",children:[a.jsx("h4",{className:"text-md font-semibold text-gray-700 mb-4 pb-2 border-b border-gray-200",children:"New Data Snapshot"}),a.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:le(ye.new_data_snapshot,"new")})]})]})}),a.jsx(Me,{title:"Audit Summary",icon:a.jsx(bc,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"p-4 bg-blue-25 rounded-lg border-l-4 border-l-blue-400",children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Action Type"}),a.jsx("p",{className:"text-lg font-bold text-blue-600",children:ye.action.charAt(0).toUpperCase()+ye.action.slice(1)})]}),a.jsxs("div",{className:"p-4 bg-green-25 rounded-lg border-l-4 border-l-green-400",children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Record Information"}),a.jsxs("p",{className:"text-sm text-green-600",children:[Re(ye.recordable_type)," • ID: ",ye.recordable_id]})]})]})}),a.jsx("div",{className:"flex justify-end pt-6 border-t border-gray-100 mt-8",children:a.jsx(O.button,{type:"button",onClick:ae,whileHover:{scale:1.03,boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.97},className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold",children:"Close Details"})})]})};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Audit Trail",mainTitleHighlight:"Trail",description:"Manage activities and their configurations within the system.",icon:a.jsx(Ug,{}),isMobile:y,toggleSidebar:Ce}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-8",children:[a.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Audit ",a.jsx("span",{className:"text-blue-600",children:"Trail"})]}),a.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Track all user activities and system changes for enhanced security and accountability."})]}),a.jsx(O.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:a.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Da,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),a.jsx("input",{type:"text",placeholder:"Search by user, action, or details...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:F,onChange:q,"aria-label":"Search audit logs"})]})})}),o?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),a.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading audit trail data..."})]}):c?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx(Hr,{className:"text-red-500 text-4xl mx-auto mb-4"}),a.jsx("p",{className:"text-red-700 text-base font-medium",children:c}),a.jsx("button",{onClick:H,className:"mt-5 px-5 py-2 bg-red-100 text-red-700 rounded-md hover:bg-red-200 transition-colors duration-200 text-sm",children:"Retry"})]}):Q.length===0?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx(Zs,{className:"text-blue-500 text-4xl mx-auto mb-4"}),a.jsx("p",{className:"text-gray-700 text-base font-medium",children:M?"No audit entries found matching your search.":"No audit entries available."}),M&&a.jsx("button",{onClick:()=>A(""),className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear Search"})]}):a.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:a.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:a.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[a.jsx("thead",{className:"bg-blue-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider cursor-pointer",onClick:()=>X("changed_at"),children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Cr,{className:"mr-2 text-sm"})," Timestamp",(L==null?void 0:L.key)==="changed_at"?a.jsx("span",{className:"ml-1",children:L.direction==="ascending"?"↑":"↓"}):a.jsx("span",{className:"ml-1 text-gray-400",children:"↓"})]})}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider cursor-pointer",onClick:()=>X("changed_by"),children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(cn,{className:"mr-2 text-sm"})," User",(L==null?void 0:L.key)==="changed_by"&&a.jsx("span",{className:"ml-1",children:L.direction==="ascending"?"↑":"↓"})]})}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider cursor-pointer",onClick:()=>X("action"),children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(hc,{className:"mr-2 text-sm"})," Action",(L==null?void 0:L.key)==="action"&&a.jsx("span",{className:"ml-1",children:L.direction==="ascending"?"↑":"↓"})]})}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider cursor-pointer",onClick:()=>X("recordable_type"),children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(vf,{className:"mr-2 text-sm"})," Record Type",(L==null?void 0:L.key)==="recordable_type"&&a.jsx("span",{className:"ml-1",children:L.direction==="ascending"?"↑":"↓"})]})}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:Ee.map(ye=>a.jsxs(O.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:Ke(ye.changed_at)})}),a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:ye.changed_by||"N/A"})}),a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-bold rounded-full ${V(ye.action)} shadow-sm`,children:ye.action.charAt(0).toUpperCase()+ye.action.slice(1)})}),a.jsxs("td",{className:"px-5 py-3",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:J(ye.recordable_type)}),ye.recordable_id&&a.jsxs("div",{className:"text-xs text-gray-500",children:["ID: ",ye.recordable_id]})]}),a.jsx("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium",children:a.jsxs(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K(ye),className:"text-blue-600 hover:text-blue-800 transition-colors duration-200 flex items-center space-x-1",title:"View Details",children:[a.jsx(bo,{className:"text-lg"}),a.jsx("span",{children:"View"})]})})]},ye.id))})]})})}),Q.length>g&&a.jsxs(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"mt-8 flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0",children:[a.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",a.jsx("span",{className:"font-semibold",children:ce+1})," to ",a.jsx("span",{className:"font-semibold",children:Math.min(re,Q.length)})," of"," ",a.jsx("span",{className:"font-semibold",children:Q.length})," results"]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>ge(f-1),disabled:f===1,className:"px-4 py-2 border border-blue-200 rounded-md bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm font-medium text-sm","aria-label":"Previous page",children:"Previous"}),Array.from({length:ke},(ye,ae)=>a.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>ge(ae+1),className:`px-3.5 py-2 rounded-md transition-colors duration-200 shadow-sm font-medium text-sm
                      ${f===ae+1?"bg-blue-600 text-white shadow-md":"bg-white text-gray-700 hover:bg-blue-50 border border-blue-200"}
                    `,"aria-label":`Go to page ${ae+1}`,children:ae+1},ae+1)),a.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>ge(f+1),disabled:f===ke,className:"px-4 py-2 border border-blue-200 rounded-md bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm font-medium text-sm","aria-label":"Next page",children:"Next"})]})]})]})]}),Y&&a.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 p-4 overflow-y-auto",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsxs("h3",{className:"text-2xl font-bold text-gray-900",children:["Audit Details #",Y.id]}),a.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{z(!1),W(null)},className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(Ft,{size:24})})]}),a.jsx("div",{className:"overflow-y-auto max-h-[70vh]",children:a.jsx(fe,{log:Y,onClose:()=>{z(!1),W(null)}})})]})})})]})},G$e=()=>{const t=tr(),{user:e}=or(),[r,n]=b.useState(!1),[s,i]=b.useState(window.innerWidth>=768),[o,l]=b.useState(window.innerWidth<768),[c,u]=b.useState(!1),[f,h]=b.useState(!1),g=b.useRef(null),p=b.useRef(null);b.useEffect(()=>{const y=()=>{l(window.innerWidth<768),window.innerWidth<768?i(!1):i(!0)};return window.addEventListener("resize",y),()=>window.removeEventListener("resize",y)},[]),b.useEffect(()=>{const y=N=>{g.current&&!g.current.contains(N.target)&&u(!1),p.current&&!p.current.contains(N.target)&&h(!1)};return document.addEventListener("mousedown",y),()=>{document.removeEventListener("mousedown",y)}},[]);const v=()=>{i(y=>!y)};b.useEffect(()=>{document.documentElement.classList.toggle("dark",r)},[r]);const w=y=>{t(y)};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Workflow Approval",mainTitleHighlight:"Page",description:"Manage work shifts and their configurations within the system.",icon:a.jsx(fj,{}),isMobile:o,toggleSidebar:v}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 text-center",children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Select Workflow Approval Menu"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Choose the type of workflow approval you wish to manage."})]}),a.jsx("div",{className:"flex flex-col md:flex-row justify-center items-center gap-6 max-w-5xl mx-auto py-8",children:a.jsxs(O.div,{className:"w-full md:w-1/3 bg-white rounded-2xl shadow-xl p-8 border border-green-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>w("/workflowapproval/monitoringapproval"),children:[a.jsx(Qh,{size:64,className:"text-green-600 mb-4"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Monitoring Approval"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Organize and manage work orders by specific company departments."}),a.jsxs("span",{className:"text-green-600 font-semibold flex items-center",children:["Go to Monitoring Approval ",a.jsx(ta,{size:18,className:"ml-1"})]})]})})]})]})]})},RV=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(O.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(Ft,{size:24})})]}),a.jsx("div",{children:n})]})}):null,Y$e=()=>{const t=tr(),{getApprovalTemplates:e,createApprovalTemplate:r,deleteApprovalTemplate:n,setApprovalTemplateActive:s}=or(),[i,o]=b.useState(window.innerWidth<768),[l,c]=b.useState(()=>{const B=localStorage.getItem("sidebarOpen");return JSON.parse(B||"false")}),u=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!l)),c(B=>!B)},[f,h]=b.useState(!1),[g,p]=b.useState(""),[v,w]=b.useState([]),[y,N]=b.useState(!1),[k,S]=b.useState(""),[T,_]=b.useState(!1),[D,E]=b.useState(null),L=(B,z,Y)=>{E({type:B,templateId:z,templateName:Y}),_(!0)},R=async()=>{if(D)try{N(!0),D.type==="activate"?(await s(D.templateId),w(B=>B.map(z=>({...z,is_active:z.id===D.templateId})))):D.type==="delete"&&(await n(D.templateId),await F()),_(!1),E(null),S("")}catch(B){S(`Failed to ${D.type} template`),console.error(`Error ${D.type}ing template:`,B)}finally{N(!1)}};b.useEffect(()=>{F()},[]);const F=async()=>{try{N(!0);const B=await e();w(B||[])}catch(B){S("Failed to load approval templates"),console.error("Error loading templates:",B)}finally{N(!1)}},A=async()=>{if(!g.trim()){S("Template name must be filled out.");return}try{N(!0);const B=await r({name:g,is_active:!1});w(z=>[...z,B]),h(!1),p(""),S("")}catch(B){S("Failed to create template"),console.error("Error creating template:",B)}finally{N(!1)}},M=B=>{t(`/workflowapproval/monitoringapproval/configureapproval/${B.id}`)};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Monitoring Approval",mainTitleHighlight:"Page",description:"Manage work shifts and their configurations within the system.",icon:a.jsx(fj,{}),isMobile:i,toggleSidebar:u}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[a.jsx(kD,{className:"mr-2 text-gray-700",size:24})," Select or Create Template"]}),a.jsxs(O.button,{onClick:()=>h(!0),whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-5 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-semibold flex items-center text-sm shadow-md disabled:opacity-50",disabled:y,children:[a.jsx(GJ,{size:18,className:"mr-2"})," Create New Template"]})]}),k&&a.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:k}),y?a.jsx("div",{className:"flex justify-center items-center py-8",children:a.jsx(Wg,{className:"animate-spin text-blue-600",size:32})}):a.jsx("div",{className:"space-y-4",children:v.length>0?v.map(B=>a.jsx(O.div,{whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(0,0,0,0.08)"},whileTap:{scale:.98},className:"p-6 bg-white rounded-lg border border-gray-200 cursor-pointer transition-all duration-200",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("h3",{className:"text-lg font-bold text-gray-800 flex items-center",children:[a.jsx(vf,{size:20,className:"mr-2 text-blue-500"}),B.name]}),a.jsxs("div",{className:"mt-2 flex items-center space-x-2",children:[a.jsx("span",{className:`text-xs font-medium px-2.5 py-1 rounded-full ${B.is_active?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:B.is_active?"Active":"Inactive"}),B.approvers&&a.jsxs("span",{className:"text-xs text-gray-500",children:[B.approvers.length," approver(s)"]})]})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(O.button,{onClick:()=>M(B),whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 text-sm font-semibold rounded-lg text-blue-600 hover:bg-blue-100 transition-colors",disabled:y,children:"Configure"}),!B.is_active&&a.jsx(O.button,{onClick:z=>{z.stopPropagation(),L("activate",B.id,B.name)},whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 text-sm font-semibold rounded-lg bg-green-500 text-white hover:bg-green-600 transition-colors",disabled:y,children:"Activate"}),a.jsx(O.button,{onClick:z=>{z.stopPropagation(),L("delete",B.id,B.name)},whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 text-sm font-semibold rounded-lg bg-red-500 text-white hover:bg-red-600 transition-colors",disabled:y,children:"Delete"})]})]})},B.id)):a.jsx("div",{className:"p-6 text-center text-gray-500 border border-dashed border-gray-300 rounded-lg",children:"No templates found. Create the first template to get started."})}),a.jsx(RV,{isOpen:T,onClose:()=>{_(!1),E(null)},title:"Confirm Action",children:a.jsxs("div",{className:"space-y-5 text-center py-3",children:[a.jsx(Hr,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),a.jsxs("p",{className:"text-base text-gray-700 font-medium",children:["Are you sure you want to ",D==null?void 0:D.type,' template "',D==null?void 0:D.templateName,'"?',(D==null?void 0:D.type)==="delete"&&" This action cannot be undone."]}),a.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[a.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>{_(!1),E(null)},className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),a.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:R,className:`px-5 py-2.5 text-white rounded-md hover:opacity-90 focus:outline-none focus:ring-2 focus:ring-offset-2 transition-colors duration-200 font-semibold text-sm ${(D==null?void 0:D.type)==="delete"?"bg-red-600 hover:bg-red-700 focus:ring-red-500":"bg-green-600 hover:bg-green-700 focus:ring-green-500"}`,children:(D==null?void 0:D.type)==="delete"?"Delete":"Activate"})]})]})}),a.jsx(RV,{isOpen:f,onClose:()=>h(!1),title:"Create New Template",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"templateName",className:"block text-sm font-medium text-gray-700",children:"Template Name"}),a.jsx("input",{type:"text",id:"templateName",value:g,onChange:B=>p(B.target.value),placeholder:"e.g., Production Approval Flow",className:"mt-1 block w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150"})]}),k&&a.jsx("div",{className:"p-2 bg-red-100 border border-red-400 text-red-700 rounded text-sm",children:k}),a.jsxs("div",{className:"flex justify-end pt-2 space-x-3",children:[a.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>{h(!1),p(""),S("")},className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 font-semibold text-sm",children:"Cancel"}),a.jsxs(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:A,className:"px-5 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-semibold text-sm disabled:opacity-50 disabled:cursor-not-allowed flex items-center",disabled:y||!g.trim(),children:[y?a.jsx(Wg,{className:"animate-spin mr-2",size:16}):null,"Create Template"]})]})]})})]})]})]})},IV=({isOpen:t,onClose:e,title:r,children:n,className:s})=>a.jsx(ar,{children:t&&a.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:a.jsxs(O.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${s||"max-w-xl w-full"}`,children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:r}),a.jsx("button",{onClick:e,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:a.jsx(Ft,{className:"text-xl"})})]}),a.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:n})]})})}),K$e=()=>{const[t,e]=b.useState([]),[r,n]=b.useState(!0),[s,i]=b.useState(!1),[o,l]=b.useState(null),[c,u]=b.useState(""),[f,h]=b.useState(""),[g,p]=b.useState(!1),[v,w]=b.useState(null),[y,N]=b.useState(!1),[k,S]=b.useState(null),T=b.useRef(!0),[_,D]=b.useState(null),[E]=b.useState(window.innerWidth<768),[L,R]=b.useState(()=>{const oe=localStorage.getItem("sidebarOpen");return oe?JSON.parse(oe):!1}),F=tr(),{getServiceGroups:A,getServiceGroup:M,hasPermission:B,deleteServiceGroup:z}=or(),Y=()=>{const oe=!L;R(oe),localStorage.setItem("sidebarOpen",JSON.stringify(oe))},W=b.useCallback(async()=>{try{n(!0);const K=(await A(0)).map(V=>({id:Number(V.id),name:V.group_name??"",description:V.group_description??void 0}));e(K)}catch(oe){S("Failed to load service groups"),console.error("Error loading service groups:",oe)}finally{T.current&&n(!1)}},[A]);b.useEffect(()=>(T.current=!0,W(),()=>{T.current=!1}),[W]);const H=async()=>{if(!c.trim()){S("Group Name is required");return}p(!0),S(null);try{if(await new Promise(oe=>setTimeout(oe,500)),o)e(oe=>oe.map(K=>K.id===o.id?{...K,name:c.trim(),description:f.trim()||void 0}:K));else{const oe={id:t.length>0?Math.max(...t.map(K=>K.id))+1:1,name:c.trim(),description:f.trim()||void 0};e(K=>[...K,oe])}i(!1),l(null),u(""),h("")}catch(oe){S("Failed to save service group"),console.error("Error saving service group:",oe)}finally{p(!1)}},q=oe=>{w(oe),N(!0),S(null)},X=async oe=>{try{await z(oe),e(t.filter(K=>K.id!==oe)),N(!1),w(null)}catch(K){console.error("Failed to delete Service Group:",K),S("Failed to delete service group. Please try again.")}};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Service Groups",mainTitleHighlight:"Groups",description:"Manage service groups used across the service management system.",icon:a.jsx(Pa,{}),isMobile:E,toggleSidebar:Y}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-8 flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Service ",a.jsx("span",{className:"text-blue-600",children:"Groups"})]}),a.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Manage service groups used across the service management system."})]}),B("manage_users")&&a.jsxs(O.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>F("/services/servicegroups/addservicegroup"),className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[a.jsx(pa,{className:"text-base"}),a.jsx("span",{children:"Add Group"})]})]}),r?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),a.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading service groups..."})]}):t.length===0?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("div",{className:"text-blue-500 text-4xl mx-auto mb-4",children:a.jsx(YJ,{})}),a.jsx("p",{className:"text-gray-700 text-base font-medium",children:"No service groups available."}),B("manage_users")&&a.jsx("button",{onClick:()=>F("/service/servicegroups/"),className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Create first group"})]}):a.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:a.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:a.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[a.jsx("thead",{className:"bg-blue-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Group Name"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Group Description"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:t.map((oe,K)=>a.jsxs(O.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:K+1})}),a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:oe.name})}),a.jsx("td",{className:"px-5 py-3",children:a.jsx("div",{className:"text-sm text-gray-600 truncate max-w-xs",children:oe.description||"-"})}),B("manage_users")&&a.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[a.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>F(`/services/servicegroups/editservicegroup/${oe.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit",children:a.jsx(Ba,{className:"inline text-base"})}),a.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>q(oe.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:a.jsx(In,{className:"inline text-base"})})]})]},oe.id))})]})})}),k&&a.jsx("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:a.jsx("p",{className:"text-sm text-red-600 font-medium",children:k})})]})]}),a.jsx(IV,{isOpen:s,onClose:()=>i(!1),title:o?"Edit Service Group":"Add Service Group",className:"max-w-lg",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Group Name"}),a.jsx("input",{value:c,onChange:oe=>u(oe.target.value),type:"text",className:"mt-2 w-full px-4 py-2 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Group Description"}),a.jsx("textarea",{value:f,onChange:oe=>h(oe.target.value),className:"mt-2 w-full px-4 py-2 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm",rows:4})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-100",children:[a.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>{i(!1),l(null),u(""),h(""),S(null)},className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),a.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:H,disabled:g,className:"px-5 py-2.5 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold text-sm",children:g?"Saving...":"Save"})]}),k&&a.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:a.jsx("p",{className:"text-sm text-red-600 font-medium",children:k})})]})}),a.jsx(IV,{isOpen:y,onClose:()=>N(!1),title:"Confirm Deletion",children:a.jsxs("div",{className:"space-y-5 text-center py-3",children:[a.jsx("div",{className:"text-red-500 text-5xl mx-auto animate-pulse",children:a.jsx(In,{})}),a.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this service group? This action cannot be undone."}),a.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[a.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>N(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),a.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>v&&X(v),disabled:g,className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:g?"Deleting...":"Delete"})]})]})})]})};function J$e(t,e){const[r,n]=b.useState(t);return b.useEffect(()=>{const s=setTimeout(()=>{n(t)},e);return()=>{clearTimeout(s)}},[t,e]),r}const OT=({isOpen:t,onClose:e,title:r,children:n,className:s})=>a.jsx(ar,{children:t&&a.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.18},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:a.jsxs(O.div,{initial:{y:50,opacity:0,scale:.98},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.98},transition:{duration:.28,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${s||"max-w-xl w-full"}`,children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:r}),a.jsx("button",{onClick:e,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150",children:a.jsx(Ft,{className:"text-xl"})})]}),a.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:n})]})})}),u2=({title:t,currentCount:e,lastMonthCount:r,icon:n,usePercentage:s=!0})=>{const l=s?((f,h)=>{if(h===0)return f>0?"+100%":"0%";const g=(f-h)/h*100;return`${g>=0?"+":""}${Math.round(g)}%`})(e,r):((f,h)=>{const g=f-h;return`${g>0?"+":g<0?"":"+"}${g}`})(e,r),c=e>=r,u=s?`${l} from last month`:`${l} from last month`;return a.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),a.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),a.jsx("p",{className:`mt-3 text-xs font-semibold ${c?"text-green-600":"text-red-600"}`,children:u})]})},X$e=()=>{const t=or(),[e,r]=b.useState(()=>{const $e=localStorage.getItem("sidebarOpen");return JSON.parse($e||"false")}),n=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!e)),r($e=>!$e)},s=tr(),[i,o]=b.useState(null),l=$e=>{o($e),u(!0)},[c,u]=b.useState(!1),[f,h]=b.useState(!1),[g,p]=b.useState(!1),[v,w]=b.useState(!1),[y,N]=b.useState(""),[k,S]=b.useState(!1),[T,_]=b.useState(""),[D,E]=b.useState(""),[L,R]=b.useState(!0),[F,A]=b.useState([]),[M,B]=b.useState([]),[z,Y]=b.useState([]),[W,H]=b.useState(!1),[q,X]=b.useState(null),[oe,K]=b.useState(!1),[V,J]=b.useState(null),[Q,re]=b.useState(null),[ce,Ee]=b.useState(!1),ke=J$e(y,300),ge=b.useRef(null),[Ce,Ke]=b.useState(1),fe=10,[ye,ae]=b.useState({key:"created_at",direction:"descending"}),[se,bt]=b.useState(null),[pt,Re]=b.useState(!1),[Me,qe]=b.useState(window.innerWidth<768),tt=b.useRef(null),Ve=b.useRef(null),Te=b.useCallback(async()=>{try{const Ue=(await t.getServiceGroups(0)||[]).map(et=>et.group_name||et.group_description?{id:et.id,group_name:et.group_name,group_description:et.group_description,name:et.group_name||et.name}:{id:et.id,name:et.name||null});B(Ue)}catch{B([])}},[t]),le=b.useCallback(async()=>{try{const Ue=(await t.getUsers()||[]).map(et=>({id:Number(et.id),name:et.name}));Y(Ue)}catch{Y([])}},[t]),Je=b.useCallback($e=>({id:$e.id??0,service_name:$e.service_name??$e.name??"",service_description:$e.service_description??$e.description??"",service_group:$e.service_group??$e.service_group??0,priority:$e.priority??"Low",service_owner:Number($e.service_owner??$e.service_owner??$e.owner??0),sla:Number($e.sla??$e.sla??0),impact:$e.impact??"",created_at:$e.created_at??$e.createdAt??new Date().toISOString(),updated_at:$e.updated_at??$e.updatedAt??new Date().toISOString()}),[]),Ge=b.useCallback(async()=>{R(!0),bt(null);try{const Ue=(await t.getServices(0)||[]).map(Je);Ue.sort((et,Rt)=>et.created_at<Rt.created_at?1:-1),A(Ue)}catch{bt("Failed to load service catalogue."),A([])}finally{R(!1)}},[t,Je]);b.useEffect(()=>{let $e=!0;return $e&&(Ge(),Te(),le()),()=>{$e=!1}},[Ge,Te,le]),b.useEffect(()=>{const $e=()=>{qe(window.innerWidth<768)};return window.addEventListener("resize",$e),()=>window.removeEventListener("resize",$e)},[]),b.useEffect(()=>{const $e=Ue=>{tt.current&&!tt.current.contains(Ue.target)&&w(!1),Ve.current&&!Ve.current.contains(Ue.target)&&p(!1)};return document.addEventListener("mousedown",$e),()=>{document.removeEventListener("mousedown",$e)}},[]);const ut=($e,Ue)=>{re({type:$e,message:Ue}),setTimeout(()=>re(null),3e3)},Pe=F.length,Ne=b.useMemo(()=>{const $e={Critical:0,High:0,Medium:0,Low:0};return F.forEach(Ue=>{const et=Ue.priority||"Low";$e[et]=($e[et]||0)+1}),$e},[F]),ze=b.useMemo(()=>{if(F.length===0)return 0;const $e=F.reduce((Ue,et)=>Ue+(et.sla||0),0);return Math.round($e/F.length*100)/100},[F]),me=b.useMemo(()=>{const $e=new Set;return F.forEach(Ue=>$e.add(Ue.service_owner)),$e.size},[F]),De=b.useMemo(()=>{const $e=new Date;return $e.setMonth($e.getMonth()-1),F.filter(Ue=>new Date(Ue.created_at)<$e)},[F]),je=()=>{_(""),E(""),N("")},We=$e=>{let Ue="ascending";ye&&ye.key===$e&&ye.direction==="ascending"&&(Ue="descending"),ae({key:$e,direction:Ue})},rt=async $e=>{if($e){Ee(!0);try{const et=(await $e.text()).split(`
`).map(Ut=>Ut.trim()).filter(Boolean),Rt=[];for(let Ut=0;Ut<et.length;Ut++){const Wt=et[Ut].split(",").map(Ct=>Ct.trim()),mt={service_name:Wt[1]||`Imported Service ${Ut+1}`,service_description:Wt[2]||"",service_type:M[0]?Number(M[0].id):0,priority:Wt[4]||"Low",service_owner:z[0]?z[0].id:0,sla:Number(Wt[6])||24,impact:Wt[7]||""};Rt.push(mt)}for(const Ut of Rt)await t.fetchWithAuth("/service-catalogues",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ut)});await Ge(),ut("success",`Imported ${Rt.length} services`)}catch{ut("error","Import failed")}finally{Ee(!1)}}},ve=$e=>{var et;const Ue=((et=$e.target.files)==null?void 0:et[0])||null;Ue&&rt(Ue),$e.target.value=""},xe=$e=>{J($e),K(!0)},Qe=async()=>{if(V){Re(!0);try{await t.fetchWithAuth(`/service-catalogues/${V}`,{method:"DELETE"}),await Ge(),K(!1),J(null),ut("success","Service deleted")}catch{ut("error","Failed to delete service")}finally{Re(!1)}}},yt=b.useMemo(()=>{let $e=[...F];if(ke.trim()){const Ue=ke.toLowerCase().trim();$e=$e.filter(et=>et.service_name.toLowerCase().includes(Ue)||(et.service_description||"").toLowerCase().includes(Ue))}return T&&($e=$e.filter(Ue=>String(Ue.service_group.id)===String(T))),D&&($e=$e.filter(Ue=>Ue.priority===D)),ye&&$e.sort((Ue,et)=>{const Rt=Ue[ye.key],Ut=et[ye.key];return Rt<Ut?ye.direction==="ascending"?-1:1:Rt>Ut?ye.direction==="ascending"?1:-1:0}),$e},[F,ke,T,D,ye]),st=$e=>{switch($e){case"Critical":return"bg-red-500 text-white";case"High":return"bg-orange-500 text-white";case"Medium":return"bg-yellow-500 text-white";case"Low":return"bg-gray-500 text-white";default:return"bg-gray-500 text-white"}},_e=Ce*fe,te=_e-fe,Fe=yt.slice(te,_e),Xe=Math.max(1,Math.ceil(yt.length/fe)),lt=()=>{const[$e,Ue]=b.useState((q==null?void 0:q.service_name)||""),[et,Rt]=b.useState((q==null?void 0:q.service_description)||""),[Ut,Wt]=b.useState((q==null?void 0:q.service_group.id)||""),[mt,Ct]=b.useState((q==null?void 0:q.priority)||"Low"),[Vt,br]=b.useState((q==null?void 0:q.service_owner)||(z[0]?z[0].id:"")),[gn,wn]=b.useState((q==null?void 0:q.sla)||24),[ir,Wr]=b.useState((q==null?void 0:q.impact)||""),[Kr,Zt]=b.useState({}),ct=async()=>{if(Zt({}),!$e.trim()){Zt({service_name:"Service Name is required"});return}if(!Ut){Zt(dt=>({...dt,service_type:"Service Type is required"}));return}if(!mt){Zt(dt=>({...dt,priority:"Priority is required"}));return}if(isNaN(Number(gn))){Zt(dt=>({...dt,sla:"SLA must be a number"}));return}Re(!0);try{const dt={service_name:$e.trim(),service_description:et.trim(),service_type:Number(Ut),priority:mt,service_owner:Number(Vt)||0,sla:Number(gn)||0,impact:ir.trim()};q?(await t.fetchWithAuth(`/service-catalogues/${q.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(dt)}),ut("success","Service updated")):(await t.fetchWithAuth("/service-catalogues",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(dt)}),ut("success","Service created")),await Ge(),H(!1)}catch{ut("error","Save failed")}finally{Re(!1)}};return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Service Name *"}),a.jsx("input",{value:$e,onChange:dt=>Ue(dt.target.value),className:"w-full mt-2 px-4 py-2 border border-blue-200 rounded-lg bg-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/30"}),Kr.service_name&&a.jsx("p",{className:"text-xs text-red-600 mt-1",children:Kr.service_name})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Service Description"}),a.jsx("textarea",{value:et,onChange:dt=>Rt(dt.target.value),rows:3,className:"w-full mt-2 px-4 py-2 border border-blue-200 rounded-lg bg-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/30"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Service Type *"}),a.jsxs("select",{value:Ut,onChange:dt=>Wt(dt.target.value?Number(dt.target.value):""),className:"w-full mt-2 px-4 py-2 border border-blue-200 rounded-lg bg-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/30",children:[a.jsx("option",{value:"",children:"-- Select Group --"}),M.map(dt=>a.jsx("option",{value:String(dt.id),children:dt.group_name??dt.name??String(dt.id)},String(dt.id)))]}),Kr.service_type&&a.jsx("p",{className:"text-xs text-red-600 mt-1",children:Kr.service_type})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Priority *"}),a.jsxs("select",{value:mt,onChange:dt=>Ct(dt.target.value),className:"w-full mt-2 px-4 py-2 border border-blue-200 rounded-lg bg-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/30",children:[a.jsx("option",{value:"Low",children:"Low"}),a.jsx("option",{value:"Medium",children:"Medium"}),a.jsx("option",{value:"High",children:"High"}),a.jsx("option",{value:"Critical",children:"Critical"})]}),Kr.priority&&a.jsx("p",{className:"text-xs text-red-600 mt-1",children:Kr.priority})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"SLA (hours) *"}),a.jsx("input",{type:"number",value:gn,onChange:dt=>wn(Number(dt.target.value)),className:"w-full mt-2 px-4 py-2 border border-blue-200 rounded-lg bg-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/30"}),Kr.sla&&a.jsx("p",{className:"text-xs text-red-600 mt-1",children:Kr.sla})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Service Owner"}),a.jsxs("select",{value:Vt,onChange:dt=>br(dt.target.value?Number(dt.target.value):""),className:"w-full mt-2 px-4 py-2 border border-blue-200 rounded-lg bg-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/30",children:[a.jsx("option",{value:"",children:"-- Select Owner --"}),z.map(dt=>a.jsx("option",{value:dt.id,children:dt.name},dt.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Impact"}),a.jsx("textarea",{value:ir,onChange:dt=>Wr(dt.target.value),rows:2,className:"w-full mt-2 px-4 py-2 border border-blue-200 rounded-lg bg-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/30"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-100 mt-3",children:[a.jsx(O.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>H(!1),className:"px-5 py-2 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),a.jsx(O.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:ct,disabled:pt,className:"px-5 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold text-sm disabled:opacity-60",children:pt?"Saving...":"Save"})]})]})},wt=({service:$e,onClose:Ue})=>{var br,gn,wn;const et=ir=>ir==null?"-":typeof ir=="string"?ir.trim()!==""?ir.trim():"-":typeof ir=="number"?ir.toString():String(ir),Rt=ir=>ir?new Date(ir).toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-",Ut=({priority:ir})=>{const Wr={Critical:"bg-red-100 text-red-800 border-red-300",High:"bg-orange-100 text-orange-800 border-orange-300",Medium:"bg-yellow-100 text-yellow-800 border-yellow-300",Low:"bg-gray-100 text-gray-800 border-gray-300"};return a.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold border ${Wr[ir]||Wr.Low}`,children:ir})},Wt=({title:ir,children:Wr,icon:Kr})=>a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[a.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-4 border-b border-gray-200",children:a.jsxs("div",{className:"flex items-center",children:[Kr&&a.jsx("div",{className:"mr-3 text-blue-600",children:Kr}),a.jsx("h3",{className:"text-lg font-bold text-gray-900",children:ir})]})}),a.jsx("div",{className:"p-6",children:Wr})]}),mt=({label:ir,value:Wr,icon:Kr,fullWidth:Zt=!1,priority:ct="medium"})=>{const dt={high:"border-l-4 border-l-blue-500 bg-blue-25",medium:"border-l-2 border-l-gray-200",low:"border-l border-l-gray-100"};return a.jsx("div",{className:`${Zt?"col-span-full":""}`,children:a.jsx("div",{className:`p-4 rounded-lg ${dt[ct]} transition-all duration-200 hover:shadow-sm`,children:a.jsxs("div",{className:"flex items-start space-x-3",children:[Kr&&a.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:Kr}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1",children:ir}),a.jsx("p",{className:"text-sm font-medium text-gray-900 leading-relaxed",children:Wr})]})]})})})},Ct=((br=z.find(ir=>ir.id===Number($e.service_owner)))==null?void 0:br.name)??String($e.service_owner),Vt=((gn=M.find(ir=>String(ir.id)===String($e.service_group.id)))==null?void 0:gn.group_name)??((wn=M.find(ir=>String(ir.id)===String($e.service_group.id)))==null?void 0:wn.name)??String($e.service_group.id);return a.jsxs("div",{className:"space-y-6 max-h-[70vh] overflow-y-auto custom-scrollbar pr-2",children:[a.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6",children:a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:$e.service_name}),a.jsx(Ut,{priority:$e.priority})]}),a.jsxs("p",{className:"text-gray-600 flex items-center gap-2",children:[a.jsx(ga,{className:"w-4 h-4"}),"Created: ",Rt($e.created_at)]})]}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs(O.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:Ue,className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-lg text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:[a.jsx(Ft,{className:"w-4 h-4 mr-2"}),"Close"]})})]})}),a.jsx(Wt,{title:"Service Information",icon:a.jsx(Zs,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsx(mt,{label:"Service Name",value:et($e.service_name),icon:a.jsx(df,{className:"w-4 h-4"}),priority:"high"}),a.jsx(mt,{label:"Service Type",value:et(Vt),icon:a.jsx(YJ,{className:"w-4 h-4"}),priority:"high"}),a.jsx(mt,{label:"Priority",value:et($e.priority),icon:a.jsx(Hr,{className:"w-4 h-4"}),priority:"high"})]})}),a.jsx(Wt,{title:"Service Details",icon:a.jsx(df,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsx(mt,{label:"Service Description",value:et($e.service_description),icon:a.jsx(df,{className:"w-4 h-4"}),fullWidth:!0}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(mt,{label:"Service Owner",value:et(Ct),icon:a.jsx(cn,{className:"w-4 h-4"})}),a.jsx(mt,{label:"SLA (hours)",value:et($e.sla),icon:a.jsx(Cr,{className:"w-4 h-4"})})]})]})}),a.jsx(Wt,{title:"Additional Information",icon:a.jsx(Zs,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsx(mt,{label:"Impact",value:et($e.impact),icon:a.jsx(Hr,{className:"w-4 h-4"}),fullWidth:!0}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(mt,{label:"Created At",value:Rt($e.created_at),icon:a.jsx(ga,{className:"w-4 h-4"})}),a.jsx(mt,{label:"Updated At",value:Rt($e.updated_at),icon:a.jsx(ga,{className:"w-4 h-4"})})]})]})})]})};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Service Catalogue",mainTitleHighlight:"Management",description:"Manage user roles and permissions to control access and functionality within the system.",icon:a.jsx(df,{}),isMobile:Me,toggleSidebar:n}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Service ",a.jsx("span",{className:"text-blue-600",children:"Catalogue"})]}),a.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Browse and manage the list of available services."})]}),a.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[a.jsxs(O.button,{onClick:()=>s("/services/servicecatalogues/addservicecatalogue"),whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[a.jsx(pa,{className:"text-base"}),a.jsx("span",{children:"Add Service"})]}),a.jsxs("label",{className:"flex items-center cursor-pointer",children:[a.jsx("input",{type:"file",accept:".csv",onChange:ve,className:"hidden"}),a.jsxs(O.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(ni,{className:"text-base"}),a.jsx("span",{children:ce?"Importing...":"Import"})]})]}),a.jsxs(O.button,{onClick:()=>S($e=>!$e),whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(Ki,{className:"text-base"}),a.jsx("span",{children:"Filters"}),a.jsx(O.span,{animate:{rotate:k?180:0},transition:{duration:.2},children:a.jsx(la,{className:"text-base"})})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[a.jsx(u2,{title:"Total Services",currentCount:Pe,lastMonthCount:De.length,icon:a.jsx(Zs,{})}),a.jsx(u2,{title:"Critical",currentCount:Ne.Critical,lastMonthCount:De.filter($e=>$e.priority==="Critical").length,icon:a.jsx(Zs,{}),usePercentage:!1}),a.jsx(u2,{title:"Average SLA (hrs)",currentCount:ze,lastMonthCount:De.length>0?Math.round(De.reduce(($e,Ue)=>$e+(Ue.sla||0),0)/De.length*100)/100:0,icon:a.jsx(Zs,{}),usePercentage:!1}),a.jsx(u2,{title:"Total Owners",currentCount:me,lastMonthCount:new Set(De.map($e=>$e.service_owner)).size,icon:a.jsx(cn,{}),usePercentage:!1})]}),a.jsxs(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.05},children:[a.jsx("div",{className:"mb-4 bg-white rounded-2xl shadow-md p-4 md:p-6 border border-blue-50",children:a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Da,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),a.jsx("input",{ref:ge,value:y,onChange:$e=>N($e.target.value),placeholder:"Search services by name or description...",className:"w-full pl-12 pr-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base transition-all duration-200"})]}),a.jsx(ar,{children:k&&a.jsxs(O.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3 w-full md:w-auto",children:[a.jsxs("select",{value:T,onChange:$e=>_($e.target.value),className:"border border-gray-200 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base appearance-none bg-no-repeat bg-right-12 bg-center-y transition-all duration-200",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='currentColor'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/svg%3E")`,backgroundSize:"1.2rem"},children:[a.jsx("option",{value:"",children:"All Groups"}),M.map($e=>a.jsx("option",{value:String($e.id),children:$e.group_name??$e.name??String($e.id)},String($e.id)))]}),a.jsxs("select",{value:D,onChange:$e=>E($e.target.value),className:"border border-gray-200 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base appearance-none bg-no-repeat bg-right-12 bg-center-y transition-all duration-200",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='currentColor'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/svg%3E")`,backgroundSize:"1.2rem"},children:[a.jsx("option",{value:"",children:"All Priorities"}),a.jsx("option",{value:"Critical",children:"Critical"}),a.jsx("option",{value:"High",children:"High"}),a.jsx("option",{value:"Medium",children:"Medium"}),a.jsx("option",{value:"Low",children:"Low"})]})]})})]})}),L?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),a.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading service catalogue..."})]}):se?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 text-center border border-yellow-100",children:[a.jsx(Zs,{className:"text-yellow-500 text-4xl mx-auto mb-4"}),a.jsx("p",{className:"text-gray-700 text-base font-medium",children:se}),a.jsx("div",{className:"mt-4",children:a.jsx("button",{onClick:Ge,className:"px-4 py-2 bg-blue-600 text-white rounded-md",children:"Retry"})})]}):yt.length===0?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx(Zs,{className:"text-blue-500 text-4xl mx-auto mb-4"}),a.jsx("p",{className:"text-gray-700 text-base font-medium",children:ke||T||D?"No services found matching your filters.":"No services available."}),(ke||T||D)&&a.jsx("button",{onClick:je,className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear All Filters"})]}):a.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-100",children:[a.jsx("thead",{className:"bg-blue-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",onClick:()=>We("service_name"),children:"Service Name"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Group"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Priority"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Service Owner"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"SLA (hrs)"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Impact"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:Fe.map(($e,Ue)=>{var Ut,Wt,mt;const et=((Ut=z.find(Ct=>Ct.id===Number($e.service_owner)))==null?void 0:Ut.name)??String($e.service_owner),Rt=((Wt=M.find(Ct=>String(Ct.id)===String($e.service_group.id)))==null?void 0:Wt.group_name)??((mt=M.find(Ct=>String(Ct.id)===String($e.service_group.id)))==null?void 0:mt.name)??String($e.service_group.id);return a.jsxs(O.tr,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.2},whileHover:{backgroundColor:"rgba(239, 246, 255, 1)"},className:"transition-colors duration-150",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:te+Ue+1}),a.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:$e.service_name}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:Rt}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-bold rounded-full ${st($e.priority)} shadow-sm`,children:$e.priority})}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:et}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:$e.sla}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:$e.impact||"-"}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium flex items-center space-x-2",children:[a.jsx(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>l($e),className:"text-blue-600 hover:text-blue-800 transition-colors duration-200 flex items-center space-x-1",title:"View Details",children:a.jsx(bo,{className:"text-lg"})}),a.jsx(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>s(`/services/servicecatalogues/editservicecatalogue/${$e.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 flex items-center space-x-1",title:"Edit",children:a.jsx(Ba,{className:"text-lg"})}),a.jsx(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>xe($e.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 flex items-center space-x-1",title:"Delete",children:a.jsx(In,{className:"text-lg"})})]})]},$e.id)})})]})})}),yt.length>fe&&a.jsxs(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"mt-8 flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{className:"text-sm text-gray-600 mb-4 sm:mb-0",children:["Showing ",a.jsx("span",{className:"font-semibold",children:te+1})," to ",a.jsx("span",{className:"font-semibold",children:Math.min(_e,yt.length)})," of"," ",a.jsx("span",{className:"font-semibold",children:yt.length})," results"]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Ke($e=>Math.max(1,$e-1)),disabled:Ce===1,className:"px-4 py-2 border border-gray-200 rounded-lg bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm",children:"Previous"}),Array.from({length:Xe},($e,Ue)=>a.jsx(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Ke(Ue+1),className:`px-4 py-2 rounded-lg transition-colors duration-200 shadow-sm
                          ${Ce===Ue+1?"bg-blue-600 text-white shadow-md":"bg-white text-gray-700 hover:bg-blue-50 border border-gray-200"}
                        `,children:Ue+1},Ue+1)),a.jsx(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Ke($e=>Math.min(Xe,$e+1)),disabled:Ce===Xe,className:"px-4 py-2 border border-gray-200 rounded-lg bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm",children:"Next"})]})]})]})]})]}),a.jsx(OT,{isOpen:W,onClose:()=>H(!1),title:q?"Edit Service":"Add Service",className:"max-w-3xl",children:a.jsx(lt,{})}),a.jsx(OT,{isOpen:oe,onClose:()=>K(!1),title:"Confirm Deletion",children:a.jsxs("div",{className:"space-y-5 text-center py-3",children:[a.jsx(Zs,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),a.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this service? This action cannot be undone."}),a.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[a.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>K(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),a.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:Qe,disabled:pt,className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm disabled:opacity-60",children:"Delete"})]})]})}),a.jsx(OT,{isOpen:c,onClose:()=>u(!1),title:"Service Details",className:"max-w-5xl",children:i&&a.jsx(wt,{service:i,onClose:()=>u(!1)})}),Q&&a.jsx("div",{className:"fixed bottom-6 right-6 z-50",children:a.jsx(O.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:`px-5 py-3 rounded-lg shadow-md ${Q.type==="success"?"bg-green-600 text-white":"bg-red-600 text-white"}`,children:Q.message})})]})},Q$e=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(O.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(Ft,{size:24})})]}),a.jsx("div",{children:n})]})}):null,Z$e=()=>{const t=or(),{addServiceGroup:e}=t,[r,n]=b.useState(window.innerWidth<768),[s,i]=b.useState(()=>{const T=localStorage.getItem("sidebarOpen");return JSON.parse(T||"false")}),o=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!s)),i(T=>!T)},l=tr(),[c,u]=b.useState(""),[f,h]=b.useState(""),[g,p]=b.useState(!1),[v,w]=b.useState(null),[y,N]=b.useState(!1),k=async T=>{if(T.preventDefault(),w(null),!c.trim()){w("Group Name is required");return}p(!0);try{await e({group_name:c.trim(),group_description:f.trim()||null}),N(!0)}catch(_){const D=_ instanceof Error?_.message:"Failed to save service group";w(D)}finally{p(!1)}},S=()=>{N(!1),l("/services/servicegroups")};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Edit Group",mainTitleHighlight:"Management",description:"Manage user roles and permissions to control access and functionality within the system.",icon:a.jsx(Pa,{}),isMobile:r,toggleSidebar:o}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(O.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.25},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create Service Group"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Add a new service group to categorize services."})]}),a.jsxs(O.button,{onClick:()=>l("/services/servicegroups"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(hn,{className:"text-lg"})," Back"]})]}),a.jsxs(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.08},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[v&&a.jsxs("div",{className:"bg-red-100 border border-red-300 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-semibold",children:"Error: "}),a.jsx("span",{className:"ml-2",children:v})]}),a.jsxs("form",{onSubmit:k,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Group Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{name:"group_name",value:c,onChange:T=>u(T.target.value),type:"text",className:"mt-2 w-full px-4 py-2 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Group Description"}),a.jsx("textarea",{name:"group_description",value:f,onChange:T=>h(T.target.value),rows:4,className:"mt-2 w-full px-4 py-2 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-100",children:[a.jsx(O.button,{type:"button",whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>l("/services/servicegroups"),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),a.jsx(O.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},disabled:g,className:"px-5 py-2.5 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold text-sm flex items-center",children:g?a.jsxs(a.Fragment,{children:[a.jsx(mn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(vn,{className:"mr-2 h-5 w-5"}),"Save"]})})]})]})]})]})]}),a.jsx(Q$e,{isOpen:y,onClose:S,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(fr,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:"Service group has been created successfully."}),a.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:S,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Go to Service Groups"})]})})]})},eHe=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(O.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(Ft,{size:24})})]}),a.jsx("div",{children:n})]})}):null,tHe=()=>{const e=si().id,r=tr(),n=or(),{getServiceGroup:s,updateServiceGroup:i}=n,[o,l]=b.useState(window.innerWidth<768),[c,u]=b.useState(()=>{const R=localStorage.getItem("sidebarOpen");return JSON.parse(R||"false")}),f=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!c)),u(R=>!R)},[h,g]=b.useState(""),[p,v]=b.useState(""),[w,y]=b.useState(!1),[N,k]=b.useState(!0),[S,T]=b.useState(null),[_,D]=b.useState(!1);b.useEffect(()=>{let R=!0;return(async()=>{k(!0),T(null);try{if(!e){T("Missing service group id");return}const A=await s(e);if(!R)return;g(String(A.group_name??"")),v(String(A.group_description??"")||"")}catch(A){const M=A instanceof Error?A.message:"Failed to load service group";T(M)}finally{R&&k(!1)}})(),()=>{R=!1}},[s,e]);const E=async R=>{if(R.preventDefault(),T(null),!h.trim()){T("Group Name is required");return}y(!0);try{const F=Number(e);await i(F,{group_name:h.trim(),group_description:p.trim()||null}),D(!0)}catch(F){const A=F instanceof Error?F.message:"Failed to update service group";T(A)}finally{y(!1)}},L=()=>{D(!1),r("/services/servicegroups")};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Edit Group",mainTitleHighlight:"Management",description:"Manage user roles and permissions to control access and functionality within the system.",icon:a.jsx(Pa,{}),isMobile:o,toggleSidebar:f}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsx(O.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.25},className:"mb-6",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Service Group"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Update the service group details below."})]})}),a.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.08},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:N?a.jsxs("div",{className:"text-center p-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-4 border-b-4 border-blue-500 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading service group..."})]}):a.jsxs(a.Fragment,{children:[S&&a.jsxs("div",{className:"bg-red-100 border border-red-300 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-semibold",children:"Error: "}),a.jsx("span",{className:"ml-2",children:S})]}),a.jsxs("form",{onSubmit:E,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Group Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{name:"group_name",value:h,onChange:R=>g(R.target.value),type:"text",className:"mt-2 w-full px-4 py-2 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Group Description"}),a.jsx("textarea",{name:"group_description",value:p,onChange:R=>v(R.target.value),rows:4,className:"mt-2 w-full px-4 py-2 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-100",children:[a.jsx(O.button,{type:"button",whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>r("/services/servicegroups"),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),a.jsx(O.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},disabled:w,className:"px-5 py-2.5 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold text-sm flex items-center",children:w?a.jsxs(a.Fragment,{children:[a.jsx(mn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(vn,{className:"mr-2 h-5 w-5"}),"Save Changes"]})})]})]})]})})]})]}),a.jsx(eHe,{isOpen:_,onClose:L,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(fr,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:"Service group has been updated successfully."}),a.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:L,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Go to Service Groups"})]})})]})},rHe=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(O.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(Ft,{size:24})})]}),a.jsx("div",{children:n})]})}):null,nHe=()=>{const{id:t}=si(),{updateServiceCatalogue:e,getServiceGroups:r,getUsers:n,fetchWithAuth:s}=or(),i=tr(),[o,l]=b.useState(window.innerWidth<768),[c,u]=b.useState(()=>{const Y=localStorage.getItem("sidebarOpen");return JSON.parse(Y||"false")}),f=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!c)),u(Y=>!Y)},[h,g]=b.useState(!1),[p,v]=b.useState(!0),[w,y]=b.useState(null),[N,k]=b.useState(null),[S,T]=b.useState(!1),[_,D]=b.useState([]),[E,L]=b.useState([]),[R,F]=b.useState({service_name:"",service_description:"",service_group:null,priority:"Low",service_owner:"",sla:24,impact:""}),A=b.useCallback(async()=>{var Y;try{const[W,H,q]=await Promise.all([s(`/service-catalogues/${t}`),r(0),n()]),X=W.data||W;D(H),L(q),X&&(console.log("Service Data from API:",X),F({service_name:X.service_name||"",service_description:X.service_description||"",service_group:((Y=X.service_group)==null?void 0:Y.id)||null,priority:X.priority||"Low",service_owner:String(X.service_owner||""),sla:X.sla?parseFloat(X.sla):24,impact:X.impact||""}))}catch(W){console.error("Error fetching service data:",W),y(W.message||"Failed to load service data")}finally{v(!1)}},[t,s,r,n]);b.useEffect(()=>{t&&A()},[t,A]);const M=Y=>{const{name:W,value:H}=Y.target;F(q=>({...q,[W]:W==="sla"?Number(H):W==="service_group"?H===""?null:Number(H):H}))},B=async Y=>{if(Y.preventDefault(),g(!0),y(null),!R.service_name||R.service_group===null||!R.priority||!R.service_owner||!R.sla){y("Please fill all required fields"),g(!1);return}try{const W={service_name:R.service_name,service_description:R.service_description,service_group:R.service_group,priority:R.priority,service_owner:Number(R.service_owner),sla:R.sla,impact:R.impact};await e(t,W),k("Service Catalogue updated successfully!"),T(!0)}catch(W){y(W.message||"Failed to update Service Catalogue")}finally{g(!1)}},z=()=>{T(!1),i("/services/servicecatalogues")};return p?a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsx("div",{className:"flex-1 flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500"})})]}):a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Edit Catalogue",mainTitleHighlight:"Management",description:"Manage user roles and permissions to control access and functionality within the system.",icon:a.jsx(df,{}),isMobile:o,toggleSidebar:f}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Service Catalogue"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Update service details"})]}),a.jsxs(O.button,{onClick:()=>i("/services/servicecatalogues"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(hn,{className:"text-lg"})," Back to Catalogue"]})]}),a.jsxs(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[w&&a.jsxs(O.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:w}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(Ft,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>y(null)})})]}),a.jsxs("form",{onSubmit:B,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Service Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"service_name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Service Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"service_name",id:"service_name",value:R.service_name,onChange:M,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"service_group",className:"block text-sm font-medium text-gray-700 mb-1",children:["Service Type ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{name:"service_group",id:"service_group",value:R.service_group||"",onChange:M,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0,children:[a.jsx("option",{value:"",children:"Select Service Type"}),_.map(Y=>a.jsx("option",{value:Y.id,children:Y.group_name||Y.name},Y.id))]})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"priority",className:"block text-sm font-medium text-gray-700 mb-1",children:["Priority ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{name:"priority",id:"priority",value:R.priority,onChange:M,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0,children:[a.jsx("option",{value:"Low",children:"Low"}),a.jsx("option",{value:"Medium",children:"Medium"}),a.jsx("option",{value:"High",children:"High"}),a.jsx("option",{value:"Critical",children:"Critical"})]})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"service_owner",className:"block text-sm font-medium text-gray-700 mb-1",children:["Service Owner ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{name:"service_owner",id:"service_owner",value:R.service_owner,onChange:M,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0,children:[a.jsx("option",{value:"",children:"Select Service Owner"}),E.map(Y=>a.jsx("option",{value:Y.id,children:Y.name},Y.id))]})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"sla",className:"block text-sm font-medium text-gray-700 mb-1",children:["SLA (hours) ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"number",name:"sla",id:"sla",value:R.sla,onChange:M,min:"1",step:"0.01",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"impact",className:"block text-sm font-medium text-gray-700 mb-1",children:"Impact"}),a.jsx("input",{type:"text",name:"impact",id:"impact",value:R.impact,onChange:M,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700"})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{htmlFor:"service_description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Service Description"}),a.jsx("textarea",{name:"service_description",id:"service_description",value:R.service_description,onChange:M,rows:4,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700"})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsx(O.button,{type:"button",onClick:()=>i("/services/servicecatalogues"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),a.jsx(O.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:h,children:h?a.jsxs(a.Fragment,{children:[a.jsx(mn,{className:"animate-spin mr-2 h-5 w-5"}),"Updating..."]}):a.jsxs(a.Fragment,{children:[a.jsx(vn,{className:"mr-2 h-5 w-5"})," Update Service"]})})]})]})]})]})]}),a.jsx(rHe,{isOpen:S,onClose:z,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(fr,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:N}),a.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:z,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Service Catalogue"})]})})]})},aHe=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(O.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(Ft,{size:24})})]}),a.jsx("div",{children:n})]})}):null,sHe=()=>{const{addServiceCatalogue:t,getServiceGroups:e,getUsers:r}=or(),n=tr(),[s,i]=b.useState(window.innerWidth<768),[o,l]=b.useState(()=>{const A=localStorage.getItem("sidebarOpen");return JSON.parse(A||"false")}),c=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!o)),l(A=>!A)},[u,f]=b.useState(!1),[h,g]=b.useState(null),[p,v]=b.useState(null),[w,y]=b.useState(!1),[N,k]=b.useState([]),[S,T]=b.useState([]),[_,D]=b.useState({service_name:"",service_description:"",service_group:"",priority:"Low",service_owner:"",sla:24,impact:""}),E=b.useCallback(async()=>{try{const[A,M]=await Promise.all([e(0),r()]),B=M.filter(z=>{var W,H,q,X;const Y=((H=(W=z.department)==null?void 0:W.name)==null?void 0:H.toLowerCase())||((X=(q=z.department)==null?void 0:q.name)==null?void 0:X.toLowerCase())||"";return Y.includes("information and technology")&&Y.includes("technology")||Y==="it"});k(A),T(B)}catch(A){g(A.message||"Failed to load form data")}},[e,r]);b.useEffect(()=>{E()},[E]);const L=A=>{const{name:M,value:B}=A.target;D(z=>({...z,[M]:M==="sla"?Number(B):B}))},R=async A=>{if(A.preventDefault(),f(!0),g(null),!_.service_name||!_.service_group||!_.priority||!_.service_owner||!_.sla){g("Please fill all required fields"),f(!1);return}try{const M={service_name:_.service_name,service_description:_.service_description,service_group:Number(_.service_group),priority:_.priority,service_owner:Number(_.service_owner),sla:_.sla,impact:_.impact};await t(M),v("Service Catalogue created successfully!"),y(!0)}catch(M){g(M.message||"Failed to create Service Catalogue")}finally{f(!1)}},F=()=>{y(!1),n("/services/servicecatalogues")};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Add Catalogue",mainTitleHighlight:"Management",description:"Manage user roles and permissions to control access and functionality within the system.",icon:a.jsx(df,{}),isMobile:s,toggleSidebar:c}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Service Catalogue"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Add a new service to the catalogue"})]}),a.jsxs(O.button,{onClick:()=>n("/services/servicecatalogues"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(hn,{className:"text-lg"})," Back to Catalogue"]})]}),a.jsxs(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[h&&a.jsxs(O.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:h}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(Ft,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>g(null)})})]}),a.jsxs("form",{onSubmit:R,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Service Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"service_name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Service Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"service_name",id:"service_name",value:_.service_name,onChange:L,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"service_group",className:"block text-sm font-medium text-gray-700 mb-1",children:["Service Type ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{name:"service_group",id:"service_group",value:_.service_group,onChange:L,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0,children:[a.jsx("option",{value:"",children:"Select Service Type"}),N.map(A=>a.jsx("option",{value:A.id,children:A.group_name||A.name},A.id))]})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"priority",className:"block text-sm font-medium text-gray-700 mb-1",children:["Priority ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{name:"priority",id:"priority",value:_.priority,onChange:L,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0,children:[a.jsx("option",{value:"Low",children:"Low"}),a.jsx("option",{value:"Medium",children:"Medium"}),a.jsx("option",{value:"High",children:"High"}),a.jsx("option",{value:"Critical",children:"Critical"})]})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"service_owner",className:"block text-sm font-medium text-gray-700 mb-1",children:["Service Owner ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{name:"service_owner",id:"service_owner",value:_.service_owner,onChange:L,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0,children:[a.jsx("option",{value:"",children:"Select Service Owner"}),S.map(A=>a.jsx("option",{value:A.id,children:A.name},A.id))]})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"sla",className:"block text-sm font-medium text-gray-700 mb-1",children:["SLA (hours) ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"number",name:"sla",id:"sla",value:_.sla,onChange:L,min:"1",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"impact",className:"block text-sm font-medium text-gray-700 mb-1",children:"Impact"}),a.jsx("input",{type:"text",name:"impact",id:"impact",value:_.impact,onChange:L,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700"})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{htmlFor:"service_description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Service Description"}),a.jsx("textarea",{name:"service_description",id:"service_description",value:_.service_description,onChange:L,rows:4,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700"})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsx(O.button,{type:"button",onClick:()=>n("/services/servicecatalogues"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),a.jsx(O.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:u,children:u?a.jsxs(a.Fragment,{children:[a.jsx(mn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(vn,{className:"mr-2 h-5 w-5"})," Save Service"]})})]})]})]})]})]}),a.jsx(aHe,{isOpen:w,onClose:F,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(fr,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:p}),a.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:F,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Service Catalogue"})]})})]})},iHe=({isOpen:t,onClose:e,title:r,children:n,className:s})=>a.jsx(ar,{children:t&&a.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:a.jsxs(O.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${s||"max-w-xl w-full"}`,children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:r}),a.jsx("button",{onClick:e,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:a.jsx(Ft,{className:"text-xl"})})]}),a.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:n})]})})}),d2=({title:t,value:e,change:r,icon:n})=>{const s=r.startsWith("+");return a.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),a.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),a.jsxs("p",{className:`mt-3 text-xs font-semibold ${s?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})},oHe=()=>{const[t,e]=b.useState([]),[r,n]=b.useState([]),{getDepartment:s,getUsers:i,deleteDepartment:o}=or(),[l,c]=b.useState(!0),[u,f]=b.useState(null),[h,g]=b.useState(""),[p,v]=b.useState(!1),[w,y]=b.useState(null),[N,k]=b.useState(!1),[S]=b.useState(window.innerWidth<768),[T,_]=b.useState(()=>{const oe=localStorage.getItem("sidebarOpen");return oe?JSON.parse(oe):!1}),D=tr(),E=b.useRef(null),[L,R]=b.useState(!1),F=b.useMemo(()=>[{id:"department",name:"Department"},{id:"head",name:"Head"}],[]),A=b.useCallback(async()=>{try{c(!0);const oe=await s(),K=await i(),V=[...oe].sort((J,Q)=>J.id-Q.id);e(V),n(K)}catch(oe){f("Failed to load departments"),console.error("Error loading departments:",oe)}finally{c(!1)}},[s,i]);b.useEffect(()=>{A()},[A]);const M=()=>{const oe=!T;_(oe),localStorage.setItem("sidebarOpen",JSON.stringify(oe))},B=()=>{alert("Import functionality is not yet implemented.")},z=oe=>{const K=oe.target.value;g(K)},Y=b.useMemo(()=>{if(!h)return F;const oe=h.toLowerCase();return F.filter(K=>K.name.toLowerCase().includes(oe))},[h,F]),W=oe=>{var K;g(`${oe}: `),R(!1),(K=E.current)==null||K.focus()},H=b.useMemo(()=>{if(!h.trim())return t;const oe=h.toLowerCase().trim(),K=oe.split(":");let V="all",J=oe;return K.length>1&&F.some(Q=>Q.name.toLowerCase()===K[0].trim())&&(V=K[0].trim(),J=K.slice(1).join(":").trim()),t.filter(Q=>{var Ee,ke,ge;const re=(Ee=Q.name)==null?void 0:Ee.toLowerCase().includes(J),ce=(ge=(ke=Q.head)==null?void 0:ke.name)==null?void 0:ge.toLowerCase().includes(J);return V==="department"?re:V==="head"?ce:re||ce})},[t,h,F]),q=async oe=>{try{await o(oe),e(t.filter(K=>K.id!==oe)),v(!1),y(null)}catch(K){console.error("Failed to delete department:",K),f("Failed to delete department. Please try again.")}},X=b.useCallback(oe=>{y(oe),v(!0)},[]);return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Departments",mainTitleHighlight:"Page",description:"Manage departments and their configurations within the system.",icon:a.jsx(cl,{}),isMobile:S,toggleSidebar:M}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Departments ",a.jsx("span",{className:"text-blue-600",children:"Management"})]}),a.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Organize and manage departments by specific company requirements."})]}),a.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[a.jsxs(O.button,{onClick:()=>D("/worklocation/department/adddepartment"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[a.jsx(pa,{className:"text-base"}),a.jsx("span",{children:"Add Department"})]}),a.jsxs(O.button,{onClick:B,whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(ni,{className:"text-base"}),a.jsx("span",{children:"Import"})]}),a.jsxs(O.button,{onClick:()=>k(!N),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(Ki,{className:"text-base"}),a.jsx("span",{children:"Filters"}),a.jsx(O.span,{animate:{rotate:N?180:0},transition:{duration:.2},children:a.jsx(la,{className:"text-base"})})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[a.jsx(d2,{title:"Total Departments",value:t.length.toString(),change:`+${Math.floor(t.length/10*100)}%`,icon:a.jsx(cl,{className:"w-6 h-6"})}),a.jsx(d2,{title:"Head Departments",value:t.filter(oe=>oe.head_id!==null).length.toString(),change:`+${Math.floor(t.filter(oe=>oe.head_id!==null).length/t.length*100)}%`,icon:a.jsx(cn,{className:"w-6 h-6"})}),a.jsx(d2,{title:"Departments with Email",value:t.filter(oe=>{var K;return(K=oe.head)==null?void 0:K.email}).length.toString(),change:`+${Math.floor(t.filter(oe=>{var K;return(K=oe.head)==null?void 0:K.email}).length/t.length*100)}%`,icon:a.jsx(Xp,{className:"w-6 h-6"})}),a.jsx(d2,{title:"Total Employees",value:r.length.toString(),change:`+${Math.floor(r.length/50*100)}%`,icon:a.jsx(Pa,{className:"w-6 h-6"})})]}),a.jsxs(O.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[a.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Da,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),a.jsx("input",{ref:E,type:"text",placeholder:"Search by department or head...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:h,onChange:z,onFocus:()=>R(!0),"aria-label":"Search departments"}),a.jsx(ar,{children:L&&Y.length>0&&a.jsx(O.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.15},className:"search-suggestions absolute left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-10 max-h-56 overflow-y-auto custom-scrollbar",children:Y.map(oe=>a.jsx(O.button,{onClick:()=>W(oe.name),whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},className:"w-full text-left p-3 text-gray-700 hover:text-blue-700 transition-colors duration-150 text-sm",role:"option",children:a.jsx("span",{className:"font-semibold",children:oe.name})},oe.id))})})]})}),a.jsx(ar,{children:N&&a.jsx(O.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full"})})]}),l?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),a.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading department data..."})]}):H.length===0?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("p",{className:"text-gray-700 text-base font-medium",children:h?"No departments found matching your search.":"No departments available."}),h&&a.jsx("button",{onClick:()=>g(""),className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear Search"})]}):a.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:a.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:a.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[a.jsx("thead",{className:"bg-blue-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Department"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Head Department"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Email Head Department"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:H.map((oe,K)=>{var V,J;return a.jsxs(O.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:K+1})}),a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:oe.name})}),a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:((V=oe.head)==null?void 0:V.name)||"-"})}),a.jsx("td",{className:"px-5 py-3",children:a.jsx("div",{className:"text-sm text-gray-600 truncate max-w-xs",children:((J=oe.head)==null?void 0:J.email)||"-"})}),a.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[a.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>D(`/worklocation/department/editdepartment/${oe.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit",children:a.jsx(Ba,{className:"inline text-base"})}),a.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>X(oe.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:a.jsx(In,{className:"inline text-base"})})]})]},oe.id)})})]})})})]})]}),a.jsx(iHe,{isOpen:p,onClose:()=>v(!1),title:"Confirm Deletion",children:a.jsxs("div",{className:"space-y-5 text-center py-3",children:[a.jsx(Hr,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),a.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this department? This action cannot be undone."}),a.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[a.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>v(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),a.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>w&&q(w),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})]})},lHe=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(O.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(Ft,{size:24})})]}),a.jsx("div",{children:n})]})}):null,cHe=()=>{const[t,e]=b.useState(window.innerWidth<768),[r,n]=b.useState([]),[s,i]=b.useState([]),{addDepartment:o,getUsers:l}=or(),[c,u]=b.useState(()=>{const F=localStorage.getItem("sidebarOpen");return F?JSON.parse(F):!1}),[f,h]=b.useState(null),[g,p]=b.useState(null),[v,w]=b.useState(!1),[y,N]=b.useState(!1),k=tr(),[S,T]=b.useState({name:"",head_id:0}),_=()=>{u(F=>!F)},D=F=>{const{name:A,value:M}=F.target;T(B=>({...B,[A]:A==="sla"?Number(M):M}))},E=b.useCallback(async()=>{try{const[F]=await Promise.all([l()]);n(F)}catch(F){h(F.message||"Failed to load form data")}},[l]);b.useEffect(()=>{E()},[E]);const L=async F=>{F.preventDefault(),N(!0),h(null);try{const A={name:S.name,head_id:S.head_id};await o(A),p("Department created successfully!"),w(!0)}catch(A){h(A.message||"Failed to create Department")}finally{N(!1)}};b.useCallback(F=>{if(!F)return;const A=parseInt(F.value),M=r.find(B=>parseInt(B.id)===A);if(M){const B=s.find(z=>z.id===M.department_id);T(z=>({...z,id:A,department_id:M.department_id||0,known_by_id:(B==null?void 0:B.head_id)||null}))}},[r,s]);const R=()=>{w(!1),k("/worklocation/department")};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Add Department",mainTitleHighlight:"Management",description:"blablablabl",icon:a.jsx(cl,{}),isMobile:t,toggleSidebar:_}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[a.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Department and Head"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Add a new Department and Head information"})]}),a.jsxs(O.button,{onClick:()=>k("/worklocation/department"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(hn,{className:"text-lg"})," Back to Department Management"]})]}),a.jsxs(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[f&&a.jsxs(O.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:f}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(Ft,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>h(null)})})]}),a.jsxs("form",{onSubmit:L,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Department Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Name Department ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"name",id:"name",value:S.name,onChange:D,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"head_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Head Department ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{name:"head_id",id:"head_id",value:S.head_id,onChange:D,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0,children:[a.jsx("option",{value:"",children:"Select Head Department"}),r.map(F=>a.jsx("option",{value:F.id,children:F.name||F.name},F.id))]})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsx(O.button,{type:"button",onClick:()=>k("/worklocations"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),a.jsx(O.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:y,children:y?a.jsxs(a.Fragment,{children:[a.jsx(mn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(vn,{className:"mr-2 h-5 w-5"})," Save Department"]})})]})]})]})]})]}),a.jsx(lHe,{isOpen:v,onClose:R,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(fr,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:g}),a.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:R,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Department"})]})})]})},uHe=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(O.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(Ft,{size:24})})]}),a.jsx("div",{children:n})]})}):null,dHe=()=>{const{id:t}=si(),[e,r]=b.useState(window.innerWidth<768),[n,s]=b.useState([]),[i,o]=b.useState(),{addDepartment:l,getUsers:c,updateDepartment:u,getDepartmentById:f}=or(),[h,g]=b.useState(()=>{const B=localStorage.getItem("sidebarOpen");return B?JSON.parse(B):!1}),[p,v]=b.useState(null),[w,y]=b.useState(null),[N,k]=b.useState(!1),[S,T]=b.useState(!1),_=tr(),[D,E]=b.useState({name:"",head_id:0}),L=()=>{g(B=>!B)};b.useEffect(()=>{i&&E({name:i.name||"",head_id:i.head_id||0})},[i]);const R=B=>{const{name:z,value:Y}=B.target;E(W=>({...W,[z]:z==="sla"?Number(Y):Y}))},F=b.useCallback(async()=>{try{if(t){const[B,z]=await Promise.all([f(t),c()]);o(B),s(z)}}catch(B){v(B.message||"Failed to load form data")}},[t,f,c]);b.useEffect(()=>{t&&F()},[t,F]);const A=async B=>{B.preventDefault(),T(!0),v(null);try{const z={name:D.name,head_id:D.head_id};await u(t,z),y("Department update successfully!"),k(!0)}catch(z){v(z.message||"Failed to create Department")}finally{T(!1)}},M=()=>{k(!1),_("/worklocation/department")};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Edit Department",mainTitleHighlight:"Management",description:"blablablabl",icon:a.jsx(cl,{}),isMobile:e,toggleSidebar:L}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[a.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Department and Head"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Update Department and Head information"})]}),a.jsxs(O.button,{onClick:()=>_("/worklocation/department"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(hn,{className:"text-lg"})," Back to Department Management"]})]}),a.jsxs(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[p&&a.jsxs(O.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:p}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(Ft,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>v(null)})})]}),a.jsxs("form",{onSubmit:A,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Department Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Name Department ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"name",id:"name",value:D.name,onChange:R,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"head_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Head Department ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{name:"head_id",id:"head_id",value:D.head_id,onChange:R,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0,children:[a.jsx("option",{value:"",children:"Select Head Department"}),n.map(B=>a.jsx("option",{value:B.id,children:B.name||B.name},B.id))]})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsx(O.button,{type:"button",onClick:()=>_("/worklocations"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),a.jsx(O.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:S,children:S?a.jsxs(a.Fragment,{children:[a.jsx(mn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(vn,{className:"mr-2 h-5 w-5"})," Save Department"]})})]})]})]})]})]}),a.jsx(uHe,{isOpen:N,onClose:M,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(fr,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:w}),a.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:M,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Department Management"})]})})]})},fHe=({isOpen:t,onClose:e,title:r,children:n,className:s})=>a.jsx(ar,{children:t&&a.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4 backdrop-blur-sm",children:a.jsxs(O.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${s||"max-w-xl w-full"}`,children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:r}),a.jsx("button",{onClick:e,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:a.jsx(Ft,{className:"text-xl"})})]}),a.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:n})]})})}),hHe=({title:t,value:e,change:r,icon:n})=>{const s=r.startsWith("+");return a.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),a.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),a.jsxs("p",{className:`mt-3 text-xs font-semibold ${s?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})},mHe=()=>{const[t,e]=b.useState([]),{getStopTimes:r,deleteStopTimes:n}=or(),[s,i]=b.useState(!0),[o,l]=b.useState(null),[c,u]=b.useState(""),[f,h]=b.useState(!1),[g,p]=b.useState(null),[v,w]=b.useState(!1),[y]=b.useState(window.innerWidth<768),[N,k]=b.useState(()=>{const H=localStorage.getItem("sidebarOpen");return H?JSON.parse(H):!1}),S=tr(),T=b.useRef(null),[_,D]=b.useState(!1),E=b.useMemo(()=>[{id:"stoptime",name:"Stop Time"},{id:"description",name:"Description"}],[]),L=b.useCallback(async()=>{try{i(!0);const q=[...await r()].sort((X,oe)=>X.id-oe.id);e(q)}catch(H){l("Failed to load stop times"),console.error("Error loading stop times:",H)}finally{i(!1)}},[r]);b.useEffect(()=>{L()},[L]);const R=()=>{const H=!N;k(H),localStorage.setItem("sidebarOpen",JSON.stringify(H))},F=()=>{alert("Import functionality is not yet implemented.")},A=H=>{const q=H.target.value;u(q)},M=b.useMemo(()=>{if(!c)return E;const H=c.toLowerCase();return E.filter(q=>q.name.toLowerCase().includes(H))},[c,E]),B=H=>{var q;u(`${H}: `),D(!1),(q=T.current)==null||q.focus()},z=b.useMemo(()=>{if(!c.trim())return t;const H=c.toLowerCase().trim(),q=H.split(":");let X="all",oe=H;return q.length>1&&E.some(K=>K.name.toLowerCase()===q[0].trim())&&(X=q[0].trim(),oe=q.slice(1).join(":").trim()),t.filter(K=>{var Q,re;const V=(Q=K.name)==null?void 0:Q.toLowerCase().includes(oe),J=(re=K.description)==null?void 0:re.toLowerCase().includes(oe);return X==="stop time"?V:X==="description"?J:V||J})},[t,c,E]),Y=async H=>{try{await n(H),e(t.filter(q=>q.id!==H)),h(!1),p(null)}catch(q){console.error("Failed to delete stop time:",q),l("Failed to delete stop time. Please try again.")}},W=b.useCallback(H=>{p(H),h(!0)},[]);return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Stop Times",mainTitleHighlight:"Page",description:"Manage stop times and their configurations within the system.",icon:a.jsx(Cr,{}),isMobile:y,toggleSidebar:R}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Stop Times ",a.jsx("span",{className:"text-blue-600",children:"Management"})]}),a.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Organize and manage stop times by specific company requirements."})]}),a.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[a.jsxs(O.button,{onClick:()=>S("/maintenanceactivity/stoptimes/addstoptime"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[a.jsx(pa,{className:"text-base"}),a.jsx("span",{children:"Add Stop Time"})]}),a.jsxs(O.button,{onClick:F,whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(ni,{className:"text-base"}),a.jsx("span",{children:"Import"})]}),a.jsxs(O.button,{onClick:()=>w(!v),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(Ki,{className:"text-base"}),a.jsx("span",{children:"Filters"}),a.jsx(O.span,{animate:{rotate:v?180:0},transition:{duration:.2},children:a.jsx(la,{className:"text-base"})})]})]})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:a.jsx(hHe,{title:"Total Stop Times",value:t.length.toString(),change:`+${Math.floor(t.length/10*100)}%`,icon:a.jsx(Cr,{className:"w-6 h-6"})})}),a.jsxs(O.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[a.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Da,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),a.jsx("input",{ref:T,type:"text",placeholder:"Search by stop time or description...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:c,onChange:A,onFocus:()=>D(!0),"aria-label":"Search stop times"}),a.jsx(ar,{children:_&&M.length>0&&a.jsx(O.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.15},className:"search-suggestions absolute left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-10 max-h-56 overflow-y-auto custom-scrollbar",children:M.map(H=>a.jsx(O.button,{onClick:()=>B(H.name),whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},className:"w-full text-left p-3 text-gray-700 hover:text-blue-700 transition-colors duration-150 text-sm",role:"option",children:a.jsx("span",{className:"font-semibold",children:H.name})},H.id))})})]})}),a.jsx(ar,{children:v&&a.jsx(O.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full"})})]}),s?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),a.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading stop time data..."})]}):z.length===0?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("p",{className:"text-gray-700 text-base font-medium",children:c?"No stop times found matching your search.":"No stop times available."}),c&&a.jsx("button",{onClick:()=>u(""),className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear Search"})]}):a.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:a.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:a.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[a.jsx("thead",{className:"bg-blue-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Stop Time"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Description"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:z.map((H,q)=>a.jsxs(O.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:q+1})}),a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:H.name})}),a.jsx("td",{className:"px-5 py-3",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:H.description||"-"})}),a.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[a.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>S(`/maintenanceactivity/stoptimes/editstoptime/${H.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit",children:a.jsx(Ba,{className:"inline text-base"})}),a.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>W(H.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:a.jsx(In,{className:"inline text-base"})})]})]},H.id))})]})})})]})]}),a.jsx(fHe,{isOpen:f,onClose:()=>h(!1),title:"Confirm Deletion",children:a.jsxs("div",{className:"space-y-5 text-center py-3",children:[a.jsx(Hr,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),a.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this stop time? This action cannot be undone."}),a.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[a.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>h(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),a.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>g&&Y(g),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})]})},pHe=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(O.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(Ft,{size:24})})]}),a.jsx("div",{children:n})]})}):null,gHe=()=>{const[t,e]=b.useState(window.innerWidth<768),[r,n]=b.useState([]),[s,i]=b.useState([]),{addStopTimes:o,getStopTimes:l}=or(),[c,u]=b.useState(()=>{const F=localStorage.getItem("sidebarOpen");return F?JSON.parse(F):!1}),[f,h]=b.useState(null),[g,p]=b.useState(null),[v,w]=b.useState(!1),[y,N]=b.useState(!1),k=tr(),[S,T]=b.useState({name:"",description:""}),_=()=>{u(F=>!F)},D=F=>{const{name:A,value:M}=F.target;T(B=>({...B,[A]:A==="sla"?Number(M):M}))},E=b.useCallback(async()=>{try{const[F]=await Promise.all([l()]);n(F)}catch(F){h(F.message||"Failed to load form data")}},[l]);b.useEffect(()=>{E()},[E]);const L=async F=>{F.preventDefault(),N(!0),h(null);try{const A={name:S.name,description:S.description};await o(A),p("Stop Time created successfully!"),w(!0)}catch(A){h(A.message||"Failed to create Stop Time")}finally{N(!1)}},R=()=>{w(!1),k("/maintenanceactivity/stoptimes")};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Create Stop Times",mainTitleHighlight:"Management",description:"blablablabl",icon:a.jsx(Cr,{}),isMobile:t,toggleSidebar:_}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[a.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Stop Times"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Add a new Stop Times information"})]}),a.jsxs(O.button,{onClick:()=>k("/maintenanceactivity/stoptimes"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(hn,{className:"text-lg"})," Back to Stop Times Management"]})]}),a.jsxs(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[f&&a.jsxs(O.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:f}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(Ft,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>h(null)})})]}),a.jsxs("form",{onSubmit:L,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Stop Times Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Stop Times Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"name",id:"name",value:S.name,onChange:D,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"description",id:"description",value:S.description,onChange:D,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsx(O.button,{type:"button",onClick:()=>k("/maintenanceactivity/stoptimes"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),a.jsx(O.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:y,children:y?a.jsxs(a.Fragment,{children:[a.jsx(mn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(vn,{className:"mr-2 h-5 w-5"})," Save Service"]})})]})]})]})]})]}),a.jsx(pHe,{isOpen:v,onClose:R,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(fr,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:g}),a.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:R,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Stop Times Management"})]})})]})},xHe=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(O.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(Ft,{size:24})})]}),a.jsx("div",{children:n})]})}):null,bHe=()=>{const{id:t}=si(),[e,r]=b.useState(window.innerWidth<768),[n,s]=b.useState([]),[i,o]=b.useState(),{getStopTimes:l,updateStopTimes:c,getStopTimesById:u}=or(),[f,h]=b.useState(()=>{const M=localStorage.getItem("sidebarOpen");return M?JSON.parse(M):!1}),[g,p]=b.useState(null),[v,w]=b.useState(null),[y,N]=b.useState(!1),[k,S]=b.useState(!1),T=tr(),[_,D]=b.useState({name:"",description:""}),E=()=>{h(M=>!M)};b.useEffect(()=>{i&&D({name:i.name||"",description:i.description||""})},[i]);const L=M=>{const{name:B,value:z}=M.target;D(Y=>({...Y,[B]:B==="sla"?Number(z):z}))},R=b.useCallback(async()=>{try{if(t){const[M]=await Promise.all([u(t)]);o(M)}}catch(M){p(M.message||"Failed to load form data")}},[t,u]);b.useEffect(()=>{t&&R()},[t,R]);const F=async M=>{M.preventDefault(),S(!0),p(null);try{const B={name:_.name,description:_.description};await c(t,B),w("Stop Time update successfully!"),N(!0)}catch(B){p(B.message||"Failed to update Stop Time")}finally{S(!1)}},A=()=>{N(!1),T("/maintenanceactivity/stoptimes")};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Edit Stop Times",mainTitleHighlight:"Management",description:"blablablabl",icon:a.jsx(Cr,{}),isMobile:e,toggleSidebar:E}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[a.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Stop Times"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Update Stop Timesinformation"})]}),a.jsxs(O.button,{onClick:()=>T("/maintenanceactivity/stoptimes"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(hn,{className:"text-lg"})," Back to Stop Times Management"]})]}),a.jsxs(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[g&&a.jsxs(O.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:g}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(Ft,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>p(null)})})]}),a.jsxs("form",{onSubmit:F,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Stop Times Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Stop Times Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"name",id:"name",value:_.name,onChange:L,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"description",id:"description",value:_.description,onChange:L,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsx(O.button,{type:"button",onClick:()=>T("/maintenanceactivity/stoptimes"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),a.jsx(O.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:k,children:k?a.jsxs(a.Fragment,{children:[a.jsx(mn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(vn,{className:"mr-2 h-5 w-5"})," Save Service"]})})]})]})]})]})]}),a.jsx(xHe,{isOpen:y,onClose:A,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(fr,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:v}),a.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:A,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Stop Times Management"})]})})]})},yHe=({isOpen:t,onClose:e,title:r,children:n,className:s})=>a.jsx(ar,{children:t&&a.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:a.jsxs(O.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${s||"max-w-xl w-full"}`,children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:r}),a.jsx("button",{onClick:e,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:a.jsx(Ft,{className:"text-xl"})})]}),a.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:n})]})})}),vHe=({title:t,value:e,change:r,icon:n})=>{const s=r.startsWith("+");return a.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),a.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),a.jsxs("p",{className:`mt-3 text-xs font-semibold ${s?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})},wHe=()=>{const[t,e]=b.useState([]),{getActivityTypes:r,deleteActivityTypes:n}=or(),[s,i]=b.useState(!0),[o,l]=b.useState(null),[c,u]=b.useState(""),[f,h]=b.useState(!1),[g,p]=b.useState(null),[v,w]=b.useState(!1),[y]=b.useState(window.innerWidth<768),[N,k]=b.useState(()=>{const H=localStorage.getItem("sidebarOpen");return H?JSON.parse(H):!1}),S=tr(),T=b.useRef(null),[_,D]=b.useState(!1),E=b.useMemo(()=>[{id:"activitytype",name:"Activity Type"}],[]),L=b.useCallback(async()=>{try{i(!0);const q=[...await r()].sort((X,oe)=>X.id-oe.id);e(q)}catch(H){l("Failed to load activity types"),console.error("Error loading activity types:",H)}finally{i(!1)}},[r]);b.useEffect(()=>{L()},[L]);const R=()=>{const H=!N;k(H),localStorage.setItem("sidebarOpen",JSON.stringify(H))},F=()=>{alert("Import functionality is not yet implemented.")},A=H=>{const q=H.target.value;u(q)},M=b.useMemo(()=>{if(!c)return E;const H=c.toLowerCase();return E.filter(q=>q.name.toLowerCase().includes(H))},[c,E]),B=H=>{var q;u(`${H}: `),D(!1),(q=T.current)==null||q.focus()},z=b.useMemo(()=>{if(!c.trim())return t;const H=c.toLowerCase().trim(),q=H.split(":");let X="all",oe=H;return q.length>1&&E.some(K=>K.name.toLowerCase()===q[0].trim())&&(X=q[0].trim(),oe=q.slice(1).join(":").trim()),t.filter(K=>{var J;const V=(J=K.name)==null?void 0:J.toLowerCase().includes(oe);return V})},[t,c,E]),Y=async H=>{try{await n(H),e(t.filter(q=>q.id!==H)),h(!1),p(null)}catch(q){console.error("Failed to delete activity type:",q),l("Failed to delete activity type. Please try again.")}},W=b.useCallback(H=>{p(H),h(!0)},[]);return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Activity Types",mainTitleHighlight:"Page",description:"Manage activity types and their configurations within the system.",icon:a.jsx(nM,{}),isMobile:y,toggleSidebar:R}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Activity Types ",a.jsx("span",{className:"text-blue-600",children:"Management"})]}),a.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Organize and manage activity types by specific company requirements."})]}),a.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[a.jsxs(O.button,{onClick:()=>S("/maintenanceactivity/activitytypes/addactivitytype"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[a.jsx(pa,{className:"text-base"}),a.jsx("span",{children:"Add Activity Type"})]}),a.jsxs(O.button,{onClick:F,whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(ni,{className:"text-base"}),a.jsx("span",{children:"Import"})]}),a.jsxs(O.button,{onClick:()=>w(!v),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(Ki,{className:"text-base"}),a.jsx("span",{children:"Filters"}),a.jsx(O.span,{animate:{rotate:v?180:0},transition:{duration:.2},children:a.jsx(la,{className:"text-base"})})]})]})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:a.jsx(vHe,{title:"Total Activity Types",value:t.length.toString(),change:`+${Math.floor(t.length/10*100)}%`,icon:a.jsx(nM,{className:"w-6 h-6"})})}),a.jsxs(O.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[a.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Da,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),a.jsx("input",{ref:T,type:"text",placeholder:"Search by activity type...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:c,onChange:A,onFocus:()=>D(!0),"aria-label":"Search activity types"}),a.jsx(ar,{children:_&&M.length>0&&a.jsx(O.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.15},className:"search-suggestions absolute left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-10 max-h-56 overflow-y-auto custom-scrollbar",children:M.map(H=>a.jsx(O.button,{onClick:()=>B(H.name),whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},className:"w-full text-left p-3 text-gray-700 hover:text-blue-700 transition-colors duration-150 text-sm",role:"option",children:a.jsx("span",{className:"font-semibold",children:H.name})},H.id))})})]})}),a.jsx(ar,{children:v&&a.jsx(O.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full"})})]}),s?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),a.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading activity type data..."})]}):z.length===0?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("p",{className:"text-gray-700 text-base font-medium",children:c?"No activity types found matching your search.":"No activity types available."}),c&&a.jsx("button",{onClick:()=>u(""),className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear Search"})]}):a.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:a.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:a.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[a.jsx("thead",{className:"bg-blue-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Activity Type"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:z.map((H,q)=>a.jsxs(O.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:q+1})}),a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:H.name})}),a.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[a.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>S(`/maintenanceactivity/activitytypes/editactivitytype/${H.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit",children:a.jsx(Ba,{className:"inline text-base"})}),a.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>W(H.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:a.jsx(In,{className:"inline text-base"})})]})]},H.id))})]})})})]})]}),a.jsx(yHe,{isOpen:f,onClose:()=>h(!1),title:"Confirm Deletion",children:a.jsxs("div",{className:"space-y-5 text-center py-3",children:[a.jsx(Hr,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),a.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this activity type? This action cannot be undone."}),a.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[a.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>h(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),a.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>g&&Y(g),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})]})},jHe=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(O.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(Ft,{size:24})})]}),a.jsx("div",{children:n})]})}):null,FV=()=>{const[t,e]=b.useState(window.innerWidth<768),[r,n]=b.useState([]),[s,i]=b.useState([]),{addActivityTypes:o,getActivityTypes:l}=or(),[c,u]=b.useState(()=>{const F=localStorage.getItem("sidebarOpen");return F?JSON.parse(F):!1}),[f,h]=b.useState(null),[g,p]=b.useState(null),[v,w]=b.useState(!1),[y,N]=b.useState(!1),k=tr(),[S,T]=b.useState({name:""}),_=()=>{u(F=>!F)},D=F=>{const{name:A,value:M}=F.target;T(B=>({...B,[A]:A==="sla"?Number(M):M}))},E=b.useCallback(async()=>{try{const[F]=await Promise.all([l()]);n(F)}catch(F){h(F.message||"Failed to load form data")}},[l]);b.useEffect(()=>{E()},[E]);const L=async F=>{F.preventDefault(),N(!0),h(null);try{const A={name:S.name};await o(A),p("Activity Type created successfully!"),w(!0)}catch(A){h(A.message||"Failed to create Activity Type")}finally{N(!1)}},R=()=>{w(!1),k("/maintenanceactivity/activitytypes")};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Create Activity Type",mainTitleHighlight:"Management",description:"blablablabl",icon:a.jsx(Ug,{}),isMobile:t,toggleSidebar:_}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[a.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Activity Type"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Add a new Activity Type information"})]}),a.jsxs(O.button,{onClick:()=>k("/maintenanceactivity/activitytypes"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(hn,{className:"text-lg"})," Back to Activity Types Management"]})]}),a.jsxs(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[f&&a.jsxs(O.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:f}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(Ft,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>h(null)})})]}),a.jsxs("form",{onSubmit:L,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Activity Types Information"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-6",children:a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Name Activity Type ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"name",id:"name",value:S.name,onChange:D,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsx(O.button,{type:"button",onClick:()=>k("/maintenanceactivity/activitytypes"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),a.jsx(O.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:y,children:y?a.jsxs(a.Fragment,{children:[a.jsx(mn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(vn,{className:"mr-2 h-5 w-5"})," Save Service"]})})]})]})]})]})]}),a.jsx(jHe,{isOpen:v,onClose:R,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(fr,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:g}),a.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:R,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Activity Types Management"})]})})]})},NHe=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(O.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(Ft,{size:24})})]}),a.jsx("div",{children:n})]})}):null,SHe=()=>{const{id:t}=si(),[e,r]=b.useState(window.innerWidth<768),[n,s]=b.useState([]),[i,o]=b.useState(),{getActivityTypes:l,updateActivityTypes:c,getActivityTypesById:u}=or(),[f,h]=b.useState(()=>{const M=localStorage.getItem("sidebarOpen");return M?JSON.parse(M):!1}),[g,p]=b.useState(null),[v,w]=b.useState(null),[y,N]=b.useState(!1),[k,S]=b.useState(!1),T=tr(),[_,D]=b.useState({name:""}),E=()=>{h(M=>!M)};b.useEffect(()=>{i&&D({name:i.name||""})},[i]);const L=M=>{const{name:B,value:z}=M.target;D(Y=>({...Y,[B]:B==="sla"?Number(z):z}))},R=b.useCallback(async()=>{try{if(t){const[M]=await Promise.all([u(t)]);o(M)}}catch(M){p(M.message||"Failed to load form data")}},[t,u]);b.useEffect(()=>{t&&R()},[t,R]);const F=async M=>{M.preventDefault(),S(!0),p(null);try{const B={name:_.name};await c(t,B),w("Activity Type update successfully!"),N(!0)}catch(B){p(B.message||"Failed to update Activity Type")}finally{S(!1)}},A=()=>{N(!1),T("/maintenanceactivity/activitytypes")};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Edit Activity Type",mainTitleHighlight:"Management",description:"blablablabl",icon:a.jsx(Ug,{}),isMobile:e,toggleSidebar:E}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[a.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Activity Type"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Update Activity Type information"})]}),a.jsxs(O.button,{onClick:()=>T("/maintenanceactivity/activitytypes"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(hn,{className:"text-lg"})," Back to Activity Type Management"]})]}),a.jsxs(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[g&&a.jsxs(O.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:g}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(Ft,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>p(null)})})]}),a.jsxs("form",{onSubmit:F,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Activity Type Information"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Name Activity Type ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"name",id:"name",value:_.name,onChange:L,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsx(O.button,{type:"button",onClick:()=>T("/maintenanceactivity/activitytypes"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),a.jsx(O.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:k,children:k?a.jsxs(a.Fragment,{children:[a.jsx(mn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(vn,{className:"mr-2 h-5 w-5"})," Save Service"]})})]})]})]})]})]}),a.jsx(NHe,{isOpen:y,onClose:A,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(fr,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:v}),a.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:A,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Activity Types Management"})]})})]})},f2=({title:t,currentCount:e,lastMonthCount:r,icon:n,usePercentage:s=!0})=>{const i=s?kHe(e,r):CHe(e,r),o=e>=r,l=s?`${i} from last month`:`${i} from last month`;return a.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),a.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),a.jsx("p",{className:`mt-3 text-xs font-semibold ${o?"text-green-600":"text-red-600"}`,children:l})]})},kHe=(t,e)=>{if(e===0)return t>0?"+100%":"0%";const r=(t-e)/e*100;return`${r>=0?"+":""}${Math.round(r)}%`},CHe=(t,e)=>{const r=t-e;return`${r>0?"+":r<0?"":"+"}${r}`},_He=()=>{const[t,e]=b.useState(!1),[r,n]=b.useState(!1),[s,i]=b.useState(""),[o,l]=b.useState("all"),[c,u]=b.useState(!1),[f,h]=b.useState(!1),[g,p]=b.useState(null),[v,w]=b.useState(null),[y,N]=b.useState(!1),[k,S]=b.useState(null),[T,_]=b.useState(1),[D]=b.useState(5),[E,L]=b.useState(window.innerWidth<768),[R,F]=b.useState(!1),[A,M]=b.useState(!1),[B,z]=b.useState([]),[Y,W]=b.useState([]),[H,q]=b.useState(!0),[X,oe]=b.useState(null),[K,V]=b.useState(null),[J,Q]=b.useState([]),[re,ce]=b.useState(!1),[Ee,ke]=b.useState(!1),[ge,Ce]=b.useState(null),[Ke,fe]=b.useState(null),{user:ye,getWorkOrdersIT:ae,deleteWorkOrder:se,hasPermission:bt,fetchWithAuth:pt,getVendor:Re}=or(),Me=tr(),qe=Ds(),tt=b.useRef(null),Ve=b.useRef(null);qe.pathname,qe.pathname;const Te=qe.pathname==="/workorders/it";qe.pathname;const le=qe.pathname==="/workorders/it/assignment",Je=qe.pathname==="/workorders/it/receiver",Ge=qe.pathname==="/workorders/it/reports",ut=qe.pathname==="/workorders/it/knowledgebase";b.useEffect(()=>{const Ue=()=>{L(window.innerWidth<768),window.innerWidth<768&&n(!1)};return window.addEventListener("resize",Ue),()=>window.removeEventListener("resize",Ue)},[]),b.useEffect(()=>{const Ue=et=>{tt.current&&!tt.current.contains(et.target)&&F(!1),Ve.current&&!Ve.current.contains(et.target)&&M(!1)};return document.addEventListener("mousedown",Ue),()=>{document.removeEventListener("mousedown",Ue)}},[]),b.useEffect(()=>{let Ue=!0;return(async()=>{try{q(!0),oe(null);const Rt=await ae();if(!Ue)return;const Ut=Rt.filter(Ct=>Ct.requester_id===Number(ye==null?void 0:ye.id));z(Ut);const Wt=new Date;Wt.setMonth(Wt.getMonth()-1);const mt=Ut.filter(Ct=>new Date(Ct.date)<Wt);Q(mt)}catch(Rt){if(!Ue)return;oe("Failed to load work orders. Please try again."),console.error("Error loading work orders:",Rt)}finally{Ue&&q(!1)}})(),()=>{Ue=!1}},[ae,ye==null?void 0:ye.id]),b.useEffect(()=>{_(1),document.documentElement.classList.toggle("dark",t)},[s,o,t]);const Pe=Ue=>{switch(Ue){case"New":return"bg-gray-500 text-white";case"Assigned":return"bg-blue-600 text-white";case"In Progress":return"bg-cyan-500 text-white";case"Escalated":return"bg-purple-500 text-white";case"Vendor Handled":return"bg-red-500 text-white";case"Resolved":return"bg-orange-500 text-white";case"Cancel":return"bg-gray-500 text-white";case"Closed":return"bg-red-500 text-white";default:return"bg-gray-500 text-white"}},Ne=b.useCallback(Ue=>{const et=B.find(Rt=>Rt.id===Ue);et&&(p(et),h(!0))},[B]);b.useCallback(Ue=>{S(Ue),N(!0)},[]);const ze=b.useCallback(async Ue=>{try{q(!0),oe(null),await se(Ue);const Rt=(await ae()).filter(Ut=>Ut.requester_id===Number(ye==null?void 0:ye.id));z(Rt),N(!1),S(null),V("Work order deleted successfully."),setTimeout(()=>V(null),2500)}catch(et){oe("Failed to delete work order."),console.error("Error deleting work order:",et)}finally{q(!1)}},[se,ae,ye==null?void 0:ye.id]),me=b.useCallback(Ue=>{fe(Ue),ke(!0)},[]),De=b.useCallback(Ue=>{Ce(Ue),ce(!0)},[]),je=b.useCallback(async Ue=>{try{q(!0),oe(null),await pt(`/ayam/${Ue}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({handling_status:"Cancel"})});const Rt=(await ae()).filter(mt=>mt.requester_id===Number(ye==null?void 0:ye.id));z(Rt);const Ut=new Date;Ut.setMonth(Ut.getMonth()-1);const Wt=Rt.filter(mt=>new Date(mt.date)<Ut);Q(Wt),h(!1),p(null),ke(!1),fe(null),V("Work order cancelled successfully."),setTimeout(()=>V(null),2500)}catch(et){oe("Failed to cancel work order."),console.error("Error cancelling work order:",et)}finally{q(!1)}},[pt,ae,ye==null?void 0:ye.id]),We=b.useCallback(async Ue=>{try{q(!0),oe(null),await pt(`/ayam/${Ue}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({handling_status:"Closed"})});const Rt=(await ae()).filter(mt=>mt.requester_id===Number(ye==null?void 0:ye.id));z(Rt);const Ut=new Date;Ut.setMonth(Ut.getMonth()-1);const Wt=Rt.filter(mt=>new Date(mt.date)<Ut);Q(Wt),h(!1),p(null),ce(!1),Ce(null),V("Work order completed successfully."),setTimeout(()=>V(null),2500)}catch(et){oe("Failed to complete work order."),console.error("Error completing work order:",et)}finally{q(!1)}},[pt,ae,ye==null?void 0:ye.id]),rt=Ue=>Ue.filter(et=>["Assigned","In Progress","Escalated","Vendor Handled","Resolved"].includes(et.handling_status)),ve=Ue=>Ue.filter(et=>["Closed","Cancel"].includes(et.handling_status)),xe=Ue=>Ue.filter(et=>et.handling_status==="New"),Qe=()=>{n(Ue=>!Ue)},yt=Ue=>{var et;return Ue.vendor?`${Ue.vendor.name}`:((et=Ue.assigned_to)==null?void 0:et.name)||"Unassigned"},st=Ue=>Ue.vendor?"vendor":Ue.assigned_to?"user":"unassigned",_e=B.filter(Ue=>{var Ut,Wt,mt,Ct;const et=((Wt=(Ut=Ue.requester)==null?void 0:Ut.name)==null?void 0:Wt.toLowerCase().includes(s.toLowerCase()))||((mt=Ue.work_order_no)==null?void 0:mt.toLowerCase().includes(s.toLowerCase()))||((Ct=Ue.complaint)==null?void 0:Ct.toLowerCase().includes(s.toLowerCase()))||String(Ue.id).includes(s),Rt=o==="all"||Ue.handling_status===o;return et&&Rt}).sort((Ue,et)=>new Date(et.created_at).getTime()-new Date(Ue.created_at).getTime()),te=T*D,Fe=te-D,Xe=_e.slice(Fe,te),lt=Math.ceil(_e.length/D),wt=Ue=>_(Ue),$e=({order:Ue,onClose:et})=>{var gn,wn,ir,Wr,Kr;const Rt=Zt=>Zt==null?"-":typeof Zt=="object"&&Zt!==null?Zt.name||Zt.title||Zt.id||"-":typeof Zt=="string"?Zt.trim()!==""?Zt.trim():"-":typeof Zt=="number"?Zt.toString():String(Zt),Ut=Zt=>Zt?new Date(Zt).toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-",Wt=({status:Zt})=>{const ct={New:"bg-gray-100 text-gray-800 border-gray-300",Assigned:"bg-blue-100 text-blue-800 border-blue-300","In Progress":"bg-cyan-100 text-cyan-800 border-cyan-300",Escalated:"bg-purple-100 text-purple-800 border-purple-300","Vendor Handled":"bg-red-100 text-red-800 border-red-300",Resolved:"bg-orange-100 text-orange-800 border-orange-300",Cancel:"bg-gray-100 text-gray-800 border-gray-300",Closed:"bg-green-100 text-green-800 border-green-300"};return a.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold border ${ct[Zt]||ct.New}`,children:Zt})},mt=({title:Zt,children:ct,icon:dt})=>a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[a.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-4 border-b border-gray-200",children:a.jsxs("div",{className:"flex items-center",children:[dt&&a.jsx("div",{className:"mr-3 text-blue-600",children:dt}),a.jsx("h3",{className:"text-lg font-bold text-gray-900",children:Zt})]})}),a.jsx("div",{className:"p-6",children:ct})]}),Ct=({label:Zt,value:ct,icon:dt,fullWidth:Mt=!1,priority:he="medium"})=>{const it={high:"border-l-4 border-l-blue-500 bg-blue-25",medium:"border-l-2 border-l-gray-200",low:"border-l border-l-gray-100"};return a.jsx("div",{className:`${Mt?"col-span-full":""}`,children:a.jsx("div",{className:`p-4 rounded-lg ${it[he]} transition-all duration-200 hover:shadow-sm`,children:a.jsxs("div",{className:"flex items-start space-x-3",children:[dt&&a.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:dt}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1",children:Zt}),a.jsx("p",{className:"text-sm font-medium text-gray-900 leading-relaxed",children:ct})]})]})})})},Vt=({label:Zt,htmlContent:ct,icon:dt,fullWidth:Mt=!1})=>{if(!ct)return a.jsx(Ct,{label:Zt,value:"-",icon:dt,fullWidth:Mt,priority:"low"});const he=pd.sanitize(ct,{ALLOWED_TAGS:["h1","h2","h3","h4","h5","h6","p","br","span","div","ol","ul","li","strong","b","em","i","u","s","strike","code","mark","sub","sup","blockquote","pre"],ALLOWED_ATTR:["style","class","data-color","align","type","start"]});return a.jsx("div",{className:`${Mt?"col-span-full":""}`,children:a.jsx("div",{className:"p-4 rounded-lg border-l-2 border-l-blue-200 bg-blue-25 transition-all duration-200 hover:shadow-sm",children:a.jsxs("div",{className:"flex items-start space-x-3",children:[dt&&a.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:dt}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:Zt}),a.jsx("div",{className:`rich-text-content text-sm text-gray-900 leading-relaxed prose prose-sm max-w-none\r
                          prose-headings:font-semibold prose-p:my-2 prose-ul:my-2 prose-ol:my-2\r
                          prose-li:my-1 prose-strong:font-semibold prose-em:italic`,dangerouslySetInnerHTML:{__html:he}})]})]})})})},br=({order:Zt})=>{const ct=Et=>{switch(Et==null?void 0:Et.toLowerCase()){case"new":return a.jsx(VJ,{className:"w-4 h-4"});case"assigned":return a.jsx(cn,{className:"w-4 h-4"});case"in progress":return a.jsx(Cr,{className:"w-4 h-4"});case"resolved":return a.jsx(ZJ,{className:"w-4 h-4"});case"closed":return a.jsx(fr,{className:"w-4 h-4"});case"cancel":return a.jsx(ND,{className:"w-4 h-4"});case"escalated":return a.jsx(Hr,{className:"w-4 h-4"});case"vendor handled":return a.jsx(ia,{className:"w-4 h-4"});default:return a.jsx(hc,{className:"w-4 h-4"})}},dt=Et=>{switch(Et==null?void 0:Et.toLowerCase()){case"new":return"bg-blue-500";case"assigned":return"bg-purple-500";case"in progress":return"bg-yellow-500";case"resolved":return"bg-green-500";case"closed":return"bg-green-600";case"cancel":return"bg-red-500";case"escalated":return"bg-orange-500";case"vendor handled":return"bg-indigo-500";default:return"bg-gray-500"}},Mt=(Et,sr)=>({new:"Work order telah dibuat dan menunggu penanganan",assigned:`Telah ditugaskan kepada ${(sr==null?void 0:sr.assigned_to)||"teknisi"}`,"in progress":"Sedang dalam proses pengerjaan",resolved:"Masalah telah diselesaikan",closed:"Work order telah ditutup",cancel:"Work order dibatalkan",escalated:"Telah di-escalate ke level yang lebih tinggi","vendor handled":"Ditangani oleh vendor eksternal",updated:"Work order diperbarui"})[Et.toLowerCase()]||`Status: ${Et}`,he=()=>{var sr,Er;const Et=[];if(Et.push({id:"created",status:"new",date:Zt.date,changed_by:((sr=Zt.requester)==null?void 0:sr.name)||"System",description:"Work order dibuat",duration:"0 days",isSystemEvent:!0}),Zt.status_history&&Zt.status_history.length>0&&[...Zt.status_history].sort((dr,Br)=>new Date(dr.changed_at).getTime()-new Date(Br.changed_at).getTime()).forEach((dr,Br)=>{var Mn,en;const ba=Et[Et.length-1],zr=it(ba.date,dr.changed_at);let Ri=dr.action,ya=Mt(dr.action);dr.action==="updated"&&((Mn=dr.new_data)!=null&&Mn.handling_status)&&(Ri=dr.new_data.handling_status,ya=Mt(dr.new_data.handling_status,{assigned_to:(en=Zt.assigned_to)==null?void 0:en.name}));let Sn="System";dr.user_id===55?Sn="DevTest User 1":dr.user_id===41?Sn="Regular User QC":dr.user_id===57?Sn="DevTest User 2":dr.user_id===36?Sn="Super Admin User":dr.user_id===37?Sn="Admin User One":dr.user_id===40?Sn="Regular User IT":dr.user_id===42||dr.user_id===56?Sn="Monitor":dr.changed_by?Sn=dr.changed_by:Sn=`User ${dr.user_id}`,Et.push({id:dr.id.toString(),status:Ri,date:dr.changed_at,changed_by:Sn,description:ya,duration:zr,comments:dr.comments,old_data:dr.old_data,new_data:dr.new_data,isStatusChange:!0})}),(Er=Zt.received_by)!=null&&Er.name&&Zt.handling_date&&!Et.some(dr=>{var Br,ba;return dr.status==="received"||((Br=dr.new_data)==null?void 0:Br.received_by_id)&&((ba=dr.new_data)==null?void 0:ba.handling_status)==="Resolved"})){const dr=Et[Et.length-1],Br=it(dr.date,Zt.handling_date),ba={id:"received",status:"received",date:Zt.handling_date,changed_by:Zt.received_by.name,description:"Diterima oleh teknisi",duration:Br,isManualEvent:!0};Et.push(ba)}return Et.sort((Nr,dr)=>new Date(Nr.date).getTime()-new Date(dr.date).getTime())},it=(Et,sr)=>{const Er=new Date(Et),Nr=new Date(sr),dr=Math.abs(Nr.getTime()-Er.getTime()),Br=Math.ceil(dr/(1e3*60*60*24));if(Br===0){const ba=Math.ceil(dr/36e5),zr=Math.ceil(dr/(1e3*60));return zr<60?`${zr} minutes`:`${ba} hours`}return`${Br} day${Br>1?"s":""}`},kt=Et=>{const sr=new Date(Et);return{date:sr.toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric"}),time:sr.toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"})}},cr=Et=>{var sr,Er,Nr;return(sr=Et.new_data)!=null&&sr.handling_status?`Diubah menjadi: ${Et.new_data.handling_status}`:(Er=Et.new_data)!=null&&Er.assigned_to_id?"Ditugaskan ke teknisi":(Nr=Et.new_data)!=null&&Nr.action_taken?`Tindakan diambil: ${Et.new_data.action_taken.substring(0,50)}...`:null},Xr=he();return a.jsxs("div",{className:"space-y-6",children:[Xr.map((Et,sr)=>{const Er=kt(Et.date),Nr=sr===Xr.length-1,dr=cr(Et);return a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("div",{className:`w-3 h-3 rounded-full ${dt(Et.status)}`}),!Nr&&a.jsx("div",{className:"w-0.5 h-16 bg-gray-300 mt-1"})]}),a.jsxs("div",{className:"flex-1 pb-4",children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[ct(Et.status),a.jsxs("div",{children:[a.jsx("span",{className:"font-semibold text-sm capitalize text-gray-900",children:Et.status}),a.jsx("p",{className:"text-xs text-gray-600 mt-1",children:Et.description})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:Er.date}),a.jsx("div",{className:"text-xs text-gray-500",children:Er.time})]})]}),a.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 space-y-2",children:[a.jsxs("div",{className:"flex justify-between items-center text-xs",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("span",{className:"text-gray-600",children:[a.jsx("strong",{children:"Changed by:"})," ",Et.changed_by]}),Et.duration&&Et.duration!=="0 days"&&a.jsxs("span",{className:"text-blue-600 font-semibold",children:["⏱️ ",Et.duration]})]}),Et.duration&&Et.duration!=="0 days"&&sr>0&&a.jsx("div",{className:"text-right",children:a.jsx("span",{className:"text-gray-500 text-xs",children:"Duration from previous"})})]}),dr&&a.jsx("div",{className:"text-xs text-gray-700 bg-white p-2 rounded border",children:dr}),Et.comments&&a.jsxs("div",{className:"text-xs text-gray-700 bg-white p-2 rounded border",children:[a.jsx("strong",{children:"Comments:"})," ",Et.comments]}),Et.status==="assigned"&&Zt.assigned_to&&a.jsxs("div",{className:"text-xs text-gray-700",children:[a.jsx("strong",{children:"Assigned to:"})," ",Zt.assigned_to.name,Zt.assigned_to.email&&` (${Zt.assigned_to.email})`]}),(Et.status==="resolved"||Et.status==="closed")&&Zt.action_taken&&a.jsxs("div",{className:"text-xs text-gray-700",children:[a.jsx("strong",{children:"Action taken:"})," ",Zt.action_taken.substring(0,100),"..."]})]}),Nr&&a.jsxs("div",{className:"mt-3 p-3 bg-blue-50 rounded-lg border border-blue-200",children:[a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"font-semibold text-blue-800",children:"Total duration from creation"}),a.jsx("span",{className:"font-bold text-blue-600 text-lg",children:it(Zt.date,Et.date)})]}),a.jsxs("div",{className:"text-xs text-blue-600 mt-1",children:["Created: ",kt(Zt.date).date," • Current: ",Er.date]})]})]})]},Et.id)}),Zt.handling_status==="Closed"&&Zt.handling_date&&a.jsxs("div",{className:"mt-6 p-4 bg-green-50 rounded-lg border border-green-200",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-green-800",children:"Work Order Completed"}),a.jsxs("p",{className:"text-sm text-green-600",children:["Total resolution time: ",it(Zt.date,Zt.handling_date)]})]}),a.jsx(fr,{className:"w-8 h-8 text-green-500"})]}),a.jsxs("div",{className:"text-xs text-green-600 mt-2 grid grid-cols-2 gap-2",children:[a.jsxs("div",{children:["Created: ",kt(Zt.date).date]}),a.jsxs("div",{children:["Completed: ",kt(Zt.handling_date).date]}),a.jsxs("div",{className:"col-span-2",children:[a.jsx("strong",{children:"Timeline:"})," ",Xr.length," status changes"]})]})]})]})};return a.jsxs("div",{className:"space-y-6 max-h-[70vh] overflow-y-auto custom-scrollbar pr-2",children:[a.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6",children:a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:["#",Ue.work_order_no||Ue.id]}),a.jsx(Wt,{status:Ue.handling_status})]}),a.jsxs("p",{className:"text-gray-600 flex items-center gap-2",children:[a.jsx(ga,{className:"w-4 h-4"}),"Created: ",Ut(Ue.date)]})]}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs(O.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:et,className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-lg text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:[a.jsx(Ft,{className:"w-4 h-4 mr-2"}),"Close"]})})]})}),a.jsx(mt,{title:"General Information",icon:a.jsx(cn,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsx(Ct,{label:"Work Order No",value:Rt(Ue.work_order_no),icon:a.jsx(fn,{className:"w-4 h-4"}),priority:"high"}),a.jsx(Ct,{label:"Reception Method",value:Rt(Ue.reception_method),icon:a.jsx(ni,{className:"w-4 h-4"})}),a.jsx(Ct,{label:"Requester",value:Rt((gn=Ue.requester)==null?void 0:gn.name),icon:a.jsx(cn,{className:"w-4 h-4"}),priority:"high"}),a.jsx(Ct,{label:"Department",value:Rt((wn=Ue.department)==null?void 0:wn.name),icon:a.jsx(qs,{className:"w-4 h-4"})}),a.jsx(Ct,{label:"Known By",value:Rt((ir=Ue.known_by)==null?void 0:ir.name),icon:a.jsx(bo,{className:"w-4 h-4"})})]})}),a.jsx(mt,{title:"Service Details",icon:a.jsx(ia,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsx(Ct,{label:"Service Type",value:Rt(Ue.service_type.group_name),icon:a.jsx(qs,{className:"w-4 h-4"}),priority:"high"}),a.jsx(Ct,{label:"Service",value:Rt(Ue.service.service_name),icon:a.jsx(ia,{className:"w-4 h-4"}),priority:"high"}),a.jsx(Ct,{label:"No Asset",value:Rt(Ue.asset_no),icon:a.jsx(fn,{className:"w-4 h-4"})})]})}),a.jsx(mt,{title:"Device & Complaint",icon:a.jsx(Hr,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsx(Ct,{label:"Device Information",value:Rt(Ue.device_info),icon:a.jsx(qs,{className:"w-4 h-4"}),fullWidth:!0}),a.jsx(Vt,{label:"Complaint Details",htmlContent:Ue.complaint||"",icon:a.jsx(Hr,{className:"w-4 h-4"}),fullWidth:!0})]})}),a.jsx(mt,{title:"Handling Information",icon:a.jsx(Cr,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:col-span-2",children:[a.jsx(Ct,{label:"Ticket Status",value:Rt(Ue.handling_status),icon:a.jsx(Cr,{className:"w-4 h-4"}),priority:"high"}),a.jsx(Ct,{label:"Handling Date",value:Ut(Ue.handling_date||"-"),icon:a.jsx(ga,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:col-span-2",children:[a.jsx(Ct,{label:"Assigned To",value:Rt((Wr=Ue.assigned_to)==null?void 0:Wr.name),icon:a.jsx(cn,{className:"w-4 h-4"})}),a.jsx(Ct,{label:"Received By",value:Rt((Kr=Ue.received_by)==null?void 0:Kr.name),icon:a.jsx(fr,{className:"w-4 h-4"})})]}),a.jsx(Vt,{label:"Action Taken",htmlContent:Ue.action_taken||"",icon:a.jsx(ia,{className:"w-4 h-4"}),fullWidth:!0}),a.jsx(Vt,{label:"Remarks",htmlContent:Ue.remarks||"",icon:a.jsx(fn,{className:"w-4 h-4"}),fullWidth:!0})]})}),Ue.status_history&&Ue.status_history.length>0&&a.jsx(mt,{title:"Work Order Timeline",icon:a.jsx(KJ,{className:"w-5 h-5"}),children:a.jsx(br,{order:Ue})}),Ue.vendor&&a.jsx(mt,{title:"Vendor Details",icon:a.jsx(cn,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsx(Ct,{label:"Vendor Name",value:Rt(Ue.vendor.name),icon:a.jsx(cn,{className:"w-4 h-4"}),priority:"high"}),a.jsx(Ct,{label:"Contact Person",value:Rt(Ue.vendor.contact_person),icon:a.jsx(cn,{className:"w-4 h-4"})}),a.jsx(Ct,{label:"Email",value:Rt(Ue.vendor.email),icon:a.jsx(Xp,{className:"w-4 h-4"})}),a.jsx(Ct,{label:"Phone",value:Rt(Ue.vendor.telp),icon:a.jsx(iu,{className:"w-4 h-4"})}),a.jsx(Ct,{label:"Mobile",value:Rt(Ue.vendor.HP),icon:a.jsx(iu,{className:"w-4 h-4"})}),a.jsx(Ct,{label:"Address",value:Rt(Ue.vendor.address),icon:a.jsx(gs,{className:"w-4 h-4"}),fullWidth:!0})]})}),Ue.attachment&&a.jsx(mt,{title:"Attachment",icon:a.jsx(yc,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-blue-25 rounded-lg border-l-4 border-l-blue-400",children:[a.jsx(yc,{className:"w-5 h-5 text-blue-600 flex-shrink-0"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"Document Attachment"}),a.jsxs("a",{href:Ue.attachment,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-blue-600 hover:text-blue-800 font-medium text-sm transition-colors duration-200",children:[a.jsx(SD,{className:"w-4 h-4 mr-1"}),"View Attachment"]})]})]})})]})};return H?a.jsxs("div",{className:"flex h-screen items-center justify-center bg-blue-50",children:[a.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-blue-600"}),a.jsx("p",{className:"ml-4 text-lg text-gray-700",children:"Loading work orders..."})]}):X?a.jsxs("div",{className:"flex h-screen items-center justify-center bg-red-50",children:[a.jsx(Hr,{className:"text-red-600 text-5xl"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-lg text-red-800",children:X}),a.jsx("button",{onClick:()=>{(async()=>{try{q(!0),oe(null);const Rt=(await ae()).filter(mt=>mt.requester_id===Number(ye==null?void 0:ye.id));z(Rt);const Ut=new Date;Ut.setMonth(Ut.getMonth()-1);const Wt=Rt.filter(mt=>new Date(mt.date)<Ut);Q(Wt)}catch{oe("Failed to load work orders. Please try again.")}finally{q(!1)}})()},className:"mt-4 px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Try Again"})]})]}):a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"IT Work Orders - Request",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:a.jsx(fn,{}),isMobile:E,toggleSidebar:Qe}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"isi style mb-6 flex space-x-6 border-b border-gray-200",children:[a.jsx(O.div,{whileTap:{scale:.98},onClick:()=>Me("/workorders/it"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${Te?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Request"}),a.jsx(O.div,{whileTap:{scale:.98},onClick:()=>Me("/workorders/it/receiver"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${Je?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Receiver"}),a.jsx(O.div,{whileTap:{scale:.98},onClick:()=>Me("/workorders/it/assignment"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${le?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Assignment"}),a.jsx(O.div,{whileTap:{scale:.98},onClick:()=>Me("/workorders/it/reports"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${Ge?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Reports"}),a.jsx(O.div,{whileTap:{scale:.98},onClick:()=>Me("/workorders/it/knowledgebase"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${ut?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Knowledge Base"})]}),a.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"IT Request"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Submit and track your IT-related maintenance and service requests"})]}),a.jsxs("div",{className:"flex flex-wrap gap-3",children:[a.jsxs(O.button,{onClick:()=>Me("/workorders/it/addworkorder"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(pa,{className:"text-lg"}),a.jsx("span",{className:"font-semibold",children:"Create New Work Order"})]}),a.jsxs(O.button,{onClick:()=>u(!c),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(Ki,{className:"text-lg"}),a.jsx("span",{className:"font-semibold",children:"Filters"}),c?a.jsx(dj,{}):a.jsx(la,{})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[a.jsx(f2,{title:"Total IT Requests",currentCount:_e.length,lastMonthCount:J.length,icon:a.jsx(fn,{})}),a.jsx(f2,{title:"IT New WO",currentCount:xe(_e).length,lastMonthCount:xe(J).length,icon:a.jsx(Cr,{}),usePercentage:!1}),a.jsx(f2,{title:"IT Progress",currentCount:rt(_e).length,lastMonthCount:rt(J).length,icon:a.jsx(ia,{}),usePercentage:!1}),a.jsx(f2,{title:"IT Closed",currentCount:ve(_e).length,lastMonthCount:ve(J).length,icon:a.jsx(fr,{}),usePercentage:!1})]}),a.jsx(O.div,{layout:!0,className:"mb-6 bg-white rounded-2xl shadow-md p-4 md:p-6 border border-blue-50",children:a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Da,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),a.jsx("input",{type:"text",placeholder:"Search IT requests by device, ID, or assignee...",className:"w-full pl-12 pr-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base transition-all duration-200",value:s,onChange:Ue=>i(Ue.target.value)})]}),a.jsx(ar,{children:c&&a.jsx(O.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3 w-full md:w-auto",children:a.jsxs("select",{className:"border border-gray-200 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base appearance-none bg-no-repeat bg-right-12 bg-center-y transition-all duration-200",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='currentColor'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/svg%3E")`,backgroundSize:"1.2rem"},value:o,onChange:Ue=>l(Ue.target.value),children:[a.jsx("option",{value:"all",children:"All Statuses"}),a.jsx("option",{value:"New",children:"New"}),a.jsx("option",{value:"Assigned",children:"Assigned"}),a.jsx("option",{value:"In Progress",children:"In Progress"}),a.jsx("option",{value:"Escalated",children:"Escalated"}),a.jsx("option",{value:"Vendor Handled",children:"Vendor Handled"}),a.jsx("option",{value:"Resolved",children:"Resolved"}),a.jsx("option",{value:"Cancel",children:"Cancel"}),a.jsx("option",{value:"Closed",children:"Closed"})]})})})]})}),a.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:a.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:a.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[a.jsx("thead",{className:"bg-blue-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Date"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Device Information"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No Asset"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Service Name"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Ticket Status"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Assigned To"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:Xe.length>0?Xe.map(Ue=>{const et=yt(Ue),Rt=st(Ue);return a.jsxs(O.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[a.jsx("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium text-gray-900 cursor-pointer hover:text-blue-600 hover:underline transition-colors duration-200",onClick:()=>Ne(Ue.id),title:"Click to view details",children:Ue.work_order_no||"-"}),a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:new Date(Ue.date).toLocaleDateString()})}),a.jsx("td",{className:"px-5 py-3",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:Ue.device_info})}),a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:Ue.asset_no||"-"})}),a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:Ue.service_type.group_name||"N/A"})}),a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("span",{className:`px-2.5 py-0.5 inline-flex text-xs leading-5 font-bold rounded-full shadow-sm ${Pe(Ue.handling_status)}`,children:Ue.handling_status})}),a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:`text-sm font-medium ${Rt==="vendor"?"text-purple-600":Rt==="user"?"text-blue-600":"text-gray-500"}`,children:et}),Rt==="vendor"&&a.jsx("span",{className:"ml-2 px-1.5 py-0.5 text-xs bg-purple-100 text-purple-800 rounded-full",children:"Vendor"})]})}),a.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[a.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>Ne(Ue.id),className:"text-blue-600 hover:text-blue-800 transition-colors duration-200 p-1 rounded-full hover:bg-blue-50",title:"View Details",children:a.jsx(bo,{className:"text-base"})}),Ue.handling_status==="New"&&a.jsxs(a.Fragment,{children:[a.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>Me(`/workorders/it/editworkorder/${Ue.id}`),className:"text-gray-600 hover:text-gray-800 transition-colors duration-200 p-1 rounded-full hover:bg-gray-50",title:"Edit Work Order",children:a.jsx(Ba,{className:"text-base"})}),a.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>me(Ue.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Cancel Work Order",children:a.jsx(Ft,{className:"text-base"})})]}),Ue.handling_status==="Resolved"&&a.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:Ut=>{De(Ue.id)},className:"text-green-600 hover:text-green-800 transition-colors duration-200 p-1 rounded-full hover:bg-green-50",title:"Mark as Closed",children:a.jsx(fr,{className:"text-base"})})]})]},Ue.id)}):a.jsx("tr",{children:a.jsx("td",{colSpan:8,className:"px-5 py-8 text-center text-gray-600 text-base",children:"No IT work order requests found matching your criteria."})})})]})})}),_e.length>D&&a.jsxs(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"mt-8 flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0",children:[a.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",a.jsx("span",{className:"font-semibold",children:Fe+1})," to ",a.jsx("span",{className:"font-semibold",children:Math.min(te,_e.length)})," of"," ",a.jsx("span",{className:"font-semibold",children:_e.length})," results"]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>wt(T-1),disabled:T===1,className:"px-4 py-2 border border-blue-200 rounded-md bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm font-medium text-sm","aria-label":"Previous page",children:"Previous"}),Array.from({length:lt},(Ue,et)=>a.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>wt(et+1),className:`px-3.5 py-2 rounded-md transition-colors duration-200 shadow-sm font-medium text-sm
            ${T===et+1?"bg-blue-600 text-white shadow-md":"bg-white text-gray-700 hover:bg-blue-50 border border-blue-200"}
          `,"aria-label":`Go to page ${et+1}`,children:et+1},et+1)),a.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>wt(T+1),disabled:T===lt,className:"px-4 py-2 border border-blue-200 rounded-md bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm font-medium text-sm","aria-label":"Next page",children:"Next"})]})]})]})]}),g&&a.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 p-4 overflow-y-auto",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsxs("h3",{className:"text-2xl font-bold text-gray-900",children:["Work Order Details #",g.id]}),a.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{h(!1),p(null)},className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(Ft,{size:24})})]}),a.jsx("div",{className:"overflow-y-auto max-h-[80vh]",children:a.jsx($e,{order:g,onClose:()=>{h(!1),p(null)}})})]})})}),a.jsx(ar,{children:y&&a.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 p-4",children:a.jsx("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md mx-auto p-6 border border-blue-100",children:a.jsxs("div",{className:"space-y-5 text-center py-3",children:[a.jsx(Hr,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),a.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this record? This action cannot be undone."}),a.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[a.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>N(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),a.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>k!==null&&ze(k),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})})}),K&&a.jsx(O.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:"fixed bottom-6 right-6 bg-green-600 text-white px-4 py-2 rounded-lg shadow-lg",children:K}),a.jsx(ar,{children:re&&a.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 p-4",children:a.jsx("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md mx-auto p-6 border border-blue-100",children:a.jsxs("div",{className:"space-y-5 text-center py-3",children:[a.jsx(fr,{className:"text-green-500 text-5xl mx-auto"}),a.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to mark this work order as completed? This action will close the ticket."}),a.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[a.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>ce(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),a.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>ge!==null&&We(ge),className:"px-5 py-2.5 bg-green-600 text-white rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-colors duration-200 font-semibold text-sm",children:"Yes, Complete"})]})]})})})}),a.jsx(ar,{children:Ee&&a.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:a.jsx("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md mx-auto p-6 border border-blue-100",children:a.jsxs("div",{className:"space-y-5 text-center py-3",children:[a.jsx(Hr,{className:"text-orange-500 text-5xl mx-auto"}),a.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to cancel this work order? This action cannot be undone."}),a.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[a.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>ke(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"No, Keep It"}),a.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>Ke!==null&&je(Ke),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Yes, Cancel"})]})]})})})}),X&&a.jsxs(O.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:"fixed bottom-6 right-6 bg-red-600 text-white px-4 py-2 rounded-lg shadow-lg",children:[X,a.jsx("button",{onClick:()=>oe(null),className:"ml-2 underline",children:"Dismiss"})]})]})},AHe=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(O.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(Ft,{size:24})})]}),a.jsx("div",{children:n})]})}):null,THe=()=>{var De,je,We,rt,ve;const{updateWorkOrderIT:t,user:e,getUsers:r,getServices:n,getDepartment:s,getServiceGroups:i,getWorkOrderById:o}=or(),l=tr(),{id:c}=si(),[u,f]=b.useState([]),[h,g]=b.useState([]),[p,v]=b.useState([]),[w,y]=b.useState([]),[N,k]=b.useState(window.innerWidth<768),[S,T]=b.useState(()=>{const xe=localStorage.getItem("sidebarOpen");return xe?JSON.parse(xe):!1}),[_,D]=b.useState(!1),[E,L]=b.useState(!1),[R,F]=b.useState(!1),[A,M]=b.useState(!1),[B,z]=b.useState(!0),[Y,W]=b.useState(null),[H,q]=b.useState(null),[X,oe]=b.useState(!1),[K,V]=b.useState(null),J=b.useRef(null),Q=b.useRef(null),[re,ce]=b.useState([]),[Ee,ke]=b.useState([]),[ge,Ce]=b.useState([]),[Ke,fe]=b.useState(!1),ye={date:new Date().toISOString().split("T")[0],reception_method:"Electronic Work Order System",requester_id:e!=null&&e.id?parseInt(e.id):0,known_by_id:((De=e==null?void 0:e.department)==null?void 0:De.head_id)||null,department_id:(e==null?void 0:e.department_id)||0,service_group_id:null,service_catalogue_id:null,asset_no:"",device_info:"",complaint:"",attachment:null,received_by_id:null,handling_date:null,action_taken:null,handling_status:"New",remarks:null},[ae,se]=b.useState(ye),bt=ae.reception_method==="Electronic Work Order System";b.useEffect(()=>{(async()=>{if(c)try{z(!0);const Qe=await o(parseInt(c));console.log("Work Order Data:",Qe),se({id:Qe.id,date:Qe.date.split("T")[0],reception_method:Qe.reception_method,requester_id:Qe.requester_id,known_by_id:Qe.known_by_id,department_id:Qe.department_id,service_group_id:Qe.service_group_id,service_catalogue_id:Qe.service_catalogue_id,asset_no:Qe.asset_no,device_info:Qe.device_info,complaint:Qe.complaint,attachment:Qe.attachment,received_by_id:Qe.received_by_id,handling_date:Qe.handling_date?Qe.handling_date.split("T")[0]:null,action_taken:Qe.action_taken,handling_status:Qe.handling_status,remarks:Qe.remarks})}catch(Qe){console.error("Failed to fetch work order data:",Qe),W(Qe.message||"Gagal memuat data work order. Silakan coba lagi.")}finally{z(!1)}})()},[c,o]),b.useEffect(()=>{e&&(async()=>{try{const yt=(await i(0)).map(te=>({id:Number(te.id),name:te.group_name??"",description:te.group_description??void 0}));ke(yt),Ce(yt);const st=await s();g(st);const _e=await r();if(f(_e),e&&e.id){const Fe=await n(parseInt(e.id));v(Fe),console.log("Services loaded:",Fe)}}catch(Qe){console.error("Failed to fetch master data:",Qe)}})()},[e,r,n,s,i]),b.useEffect(()=>{var xe;if(ae.reception_method==="Electronic Work Order System"&&e){const Qe=((xe=e.department)==null?void 0:xe.head_id)||null;se(yt=>({...yt,requester_id:parseInt(e.id),department_id:e.department_id||0,known_by_id:Qe}))}},[ae.reception_method,e]),b.useEffect(()=>{const xe=()=>{k(window.innerWidth<768),window.innerWidth<768&&T(!1)};return window.addEventListener("resize",xe),()=>window.removeEventListener("resize",xe)},[]),b.useEffect(()=>{const xe=Qe=>{J.current&&!J.current.contains(Qe.target)&&L(!1),Q.current&&!Q.current.contains(Qe.target)&&F(!1)};return document.addEventListener("mousedown",xe),()=>{document.removeEventListener("mousedown",xe)}},[]),b.useEffect(()=>{if(ae.service_group_id&&p.length>0){const xe=p.filter(Qe=>Qe.service_group.id===ae.service_group_id);ce(xe)}else ce([])},[ae.service_group_id,p]),b.useEffect(()=>{document.documentElement.classList.toggle("dark",_),localStorage.setItem("sidebarOpen",JSON.stringify(S))},[S,_]);const pt=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!S)),T(xe=>!xe)},Re=b.useCallback((xe,Qe)=>{let yt,st;if(xe&&"target"in xe)yt=xe.target.name,st=xe.target.value;else if(xe&&typeof xe=="object"&&"value"in xe&&Qe)yt=Qe,st=xe.value;else if(xe===null&&Qe)yt=Qe,st=null;else return;se(_e=>({..._e,[yt]:st}))},[]),Me=xe=>{const Qe=(xe==null?void 0:xe.value)||"";se(yt=>{var _e,te;const st={...yt,reception_method:Qe};return Qe==="Electronic Work Order System"&&e?{...st,requester_id:parseInt(e.id),department_id:((_e=e.department)==null?void 0:_e.id)||0,known_by_id:((te=e.department)==null?void 0:te.head_id)||null}:st})},qe=xe=>{se(Qe=>({...Qe,asset_no:xe?xe.value:""}))},tt=b.useCallback(xe=>{xe.target.files&&xe.target.files.length>0?(V(xe.target.files[0]),se(Qe=>({...Qe,attachment:xe.target.files[0].name}))):(V(null),se(Qe=>({...Qe,attachment:null})))},[]),Ve=b.useCallback(()=>{V(null),se(xe=>({...xe,attachment:null}))},[]),Te=async xe=>{xe.preventDefault(),M(!0),W(null);const Qe={id:ae.id,date:ae.date,reception_method:ae.reception_method,requester_id:ae.requester_id,known_by_id:ae.known_by_id,department_id:ae.department_id,service_group_id:ae.service_group_id,service_catalogue_id:ae.service_catalogue_id,asset_no:ae.asset_no,device_info:ae.device_info,complaint:ae.complaint,attachment:ae.attachment};try{await t(Qe),q({message:"Work Order berhasil diperbarui!",work_order:{work_order_no:`WO-IT-${ae.id}`}}),oe(!0)}catch(yt){W(yt.message||"Gagal memperbarui work order. Silakan coba lagi."),console.error("Submission error:",yt)}finally{M(!1)}},le=xe=>{const Qe=xe?parseInt(xe.value):null;se(yt=>({...yt,service_group_id:Qe,service_catalogue_id:null}))},Je=xe=>{const Qe=xe?parseInt(xe.value):null;se(yt=>({...yt,service_catalogue_id:Qe}))},Ge=b.useCallback(()=>{oe(!1),l("/workorders/it")},[l]),ut={control:(xe,Qe)=>({...xe,minHeight:"42px",borderColor:Qe.isFocused?"#3B82F6":"#D1D5DB",boxShadow:Qe.isFocused?"0 0 0 1px #3B82F6":"none","&:hover":{borderColor:"#9CA3AF"},borderRadius:"0.5rem",backgroundColor:"#FFFFFF",padding:"0 0.5rem",transition:"all 0.15s ease-in-out"}),valueContainer:xe=>({...xe,padding:"0"}),singleValue:xe=>({...xe,color:"#374151"}),placeholder:xe=>({...xe,color:"#6B7280"}),dropdownIndicator:xe=>({...xe,color:"#9CA3AF","&:hover":{color:"#6B7280"}}),indicatorSeparator:xe=>({...xe,display:"none"}),menu:xe=>({...xe,zIndex:9999,borderRadius:"0.5rem",border:"1px solid #E5E7EB",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"}),option:(xe,Qe)=>({...xe,backgroundColor:Qe.isFocused?"#EFF6FF":"#FFFFFF",color:"#1F2937","&:active":{backgroundColor:"#DBEAFE"},padding:"0.625rem 1rem"})},Pe=b.useCallback(xe=>{if(!xe)return;const Qe=parseInt(xe.value),yt=u.find(st=>parseInt(st.id)===Qe);if(yt){const st=h.find(_e=>_e.id===yt.department_id);se(_e=>({..._e,requester_id:Qe,department_id:yt.department_id||0,known_by_id:(st==null?void 0:st.head_id)||null}))}},[u,h]),Ne=()=>{if(bt){const Qe=h.find(yt=>yt.id===(e==null?void 0:e.department_id));return(Qe==null?void 0:Qe.name)||"No department assigned"}const xe=h.find(Qe=>Qe.id===ae.department_id);return(xe==null?void 0:xe.name)||"No department assigned"},ze=()=>{if(bt){const Qe=h.find(yt=>yt.id===(e==null?void 0:e.department_id));if(Qe&&Qe.head_id){const yt=u.find(st=>parseInt(st.id)===Qe.head_id);return(yt==null?void 0:yt.name)||"No department head assigned"}return"No department head assigned"}const xe=h.find(Qe=>Qe.id===ae.department_id);if(xe&&xe.head_id){const Qe=u.find(yt=>parseInt(yt.id)===xe.head_id);return(Qe==null?void 0:Qe.name)||"No department head assigned"}return"No department head assigned"},me=()=>{if(!ae.attachment)return null;try{const Qe=new URL(ae.attachment).pathname;return Qe.substring(Qe.lastIndexOf("/")+1)}catch{return ae.attachment}};return B?a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsx("div",{className:"flex-1 flex flex-col overflow-hidden",children:a.jsx("div",{className:"flex items-center justify-center h-full",children:a.jsxs("div",{className:"text-center",children:[a.jsx(mn,{className:"animate-spin h-12 w-12 text-blue-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Memuat data work order..."})]})})})]}):a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Edit Work Order",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:a.jsx(fn,{}),isMobile:N,toggleSidebar:pt}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Work Order"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Perbarui detail work order yang sudah ada"})]}),a.jsxs(O.button,{onClick:()=>l("/workorders/it"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(hd,{className:"text-lg"})," Back to Work Orders"]})]}),a.jsxs(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[Y&&a.jsxs(O.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:Y}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(Ft,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>W(null)})})]}),a.jsxs("form",{onSubmit:Te,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(Cr,{className:"mr-2 text-blue-500"})," General Information"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"date",className:"block text-sm font-medium text-gray-700 mb-1",children:["Date ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"date",id:"date",name:"date",value:ae.date,onChange:Re,required:!0,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700"})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"reception_method",className:"block text-sm font-medium text-gray-700 mb-1",children:["Reception Method ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(un,{id:"reception_method",name:"reception_method",options:[{value:"Electronic Work Order System",label:"Electronic Work Order System"},{value:"Direct Information",label:"Direct Information"},{value:"Phone",label:"Phone"},{value:"Whatsapp",label:"Whatsapp"},{value:"Email",label:"Email"}],value:{value:ae.reception_method,label:ae.reception_method},onChange:Me,placeholder:"Select Reception Method",styles:ut,required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"requester_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Requester ",a.jsx("span",{className:"text-red-500",children:"*"})]}),bt?a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-blue-50 text-gray-700",children:a.jsx("span",{children:(e==null?void 0:e.name)||"Current User"})}):a.jsx(un,{id:"requester_id",name:"requester_id",options:u.map(xe=>({value:String(xe.id),label:xe.name})),value:u.find(xe=>parseInt(xe.id)===ae.requester_id)?{value:String(ae.requester_id),label:((je=u.find(xe=>parseInt(xe.id)===ae.requester_id))==null?void 0:je.name)||""}:null,onChange:Pe,placeholder:"Select Requester",styles:ut,required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"department_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Department ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-blue-50 text-gray-700",children:a.jsx("span",{children:Ne()})})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"known_by_id",className:"block text-sm font-medium text-gray-700 mb-1",children:"Known By (Head)"}),a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-blue-50 text-gray-700",children:a.jsx("span",{children:ze()})})]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(Ll,{className:"mr-2 text-green-500"})," Service Details"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"service_group_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Service Type ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(un,{id:"service_group_id",name:"service_group_id",options:Ee.map(xe=>({value:String(xe.id),label:xe.name})),value:ae.service_group_id!==null?{value:String(ae.service_group_id),label:((We=Ee.find(xe=>xe.id===ae.service_group_id))==null?void 0:We.name)||""}:null,onChange:le,placeholder:"Select Service Type",styles:ut,required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"service_catalogue_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Service ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(un,{id:"service_catalogue_id",name:"service_catalogue_id",options:re.map(xe=>({value:String(xe.id),label:xe.service_name})),value:ae.service_catalogue_id!==null?{value:String(ae.service_catalogue_id),label:((rt=re.find(xe=>xe.id===ae.service_catalogue_id))==null?void 0:rt.service_name)||""}:null,onChange:Je,placeholder:ae.service_group_id!==null?re.length===0?"No services available for selected type":"Select Service":"Please select Service Type first",styles:ut,isDisabled:ae.service_group_id===null||re.length===0,required:!0}),re.length===0&&ae.service_group_id&&a.jsx("p",{className:"text-sm text-yellow-500 mt-1",children:"No services available for selected type"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"asset_no",className:"block text-sm font-medium text-gray-700 mb-1",children:"No. Asset "}),a.jsx(cte,{name:"asset_no",id:"asset_no",options:w,value:ae.asset_no?{value:ae.asset_no,label:ae.asset_no}:null,onChange:qe,onCreateOption:xe=>{const Qe={value:xe,label:xe};y(yt=>[...yt,Qe]),qe(Qe)},placeholder:"Type or select Asset No.",styles:ut,isClearable:!0,required:!1})]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(Rx,{className:"mr-2 text-purple-500"})," Device & Complaint Details"]}),a.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"device_info",className:"block text-sm font-medium text-gray-700 mb-1",children:["Device Information ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("textarea",{id:"device_info",name:"device_info",value:ae.device_info,onChange:Re,required:!0,rows:3,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"Provide details about the device (e.g., model, serial number)."})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"complaint",className:"block text-sm font-medium text-gray-700 mb-1",children:["Complaint ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Lf,{value:ae.complaint,onChange:xe=>{se(Qe=>({...Qe,complaint:xe}))}})]})]})]}),a.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-100",children:[a.jsx("label",{htmlFor:"attachment",className:"block text-sm font-medium text-gray-700 mb-1",children:"Attachment (Optional)"}),a.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-200 border-dashed rounded-lg cursor-pointer hover:border-blue-400 transition-all duration-200",children:a.jsxs("div",{className:"space-y-1 text-center",children:[a.jsx(yc,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsxs("div",{className:"flex text-sm text-gray-600",children:[a.jsxs("label",{htmlFor:"file-upload",className:"relative cursor-pointer rounded-md bg-white font-medium text-blue-600 hover:text-blue-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-blue-500 focus-within:ring-offset-2",children:[a.jsx("span",{children:"Upload a file"}),a.jsx("input",{id:"file-upload",name:"file-upload",type:"file",className:"sr-only",onChange:tt})]}),a.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),a.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF, PDF up to 10MB"})]})}),K&&a.jsx("ul",{className:"mt-3 border border-gray-200 rounded-md divide-y divide-gray-200",children:a.jsxs("li",{className:"flex items-center justify-between py-2 pl-3 pr-4 text-sm",children:[a.jsxs("div",{className:"flex w-0 flex-1 items-center",children:[a.jsx(yc,{className:"h-5 w-5 flex-shrink-0 text-gray-400","aria-hidden":"true"}),a.jsx("span",{className:"ml-2 w-0 flex-1 truncate",children:K.name})]}),a.jsx("div",{className:"ml-4 flex-shrink-0",children:a.jsx(O.button,{type:"button",onClick:Ve,whileHover:{scale:1.1},whileTap:{scale:.9},className:"font-medium text-red-600 hover:text-red-900 transition-colors duration-200",children:"Remove"})})]},K.name)}),ae.attachment&&!K&&a.jsx("div",{className:"mt-3",children:a.jsxs("p",{className:"text-sm text-gray-600",children:["Current attachment: ",me()]})})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsxs(O.button,{type:"button",onClick:()=>l("/workorders/it"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",children:[a.jsx(hn,{className:"mr-2 h-5 w-5"})," Cancel"]}),a.jsx(O.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},disabled:A,className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed",children:A?a.jsxs(a.Fragment,{children:[a.jsx(mn,{className:"animate-spin mr-2 h-5 w-5"}),"Updating..."]}):a.jsxs(a.Fragment,{children:[a.jsx(vn,{className:"mr-2 h-5 w-5"})," Update Work Order"]})})]})]})]})]})]}),a.jsx(AHe,{isOpen:X,onClose:Ge,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(fr,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center mb-2",children:H==null?void 0:H.message}),a.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Work Order Number: ",(ve=H==null?void 0:H.work_order)==null?void 0:ve.work_order_no]}),a.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:Ge,className:"mt-6 px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold",children:"Go to Work Orders"})]})})]})},MHe=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(O.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(Ft,{size:24})})]}),a.jsx("div",{children:n})]})}):null,EHe=()=>{var je,We,rt;const{updateWorkOrderIT:t,user:e,getUsers:r,getServices:n,getDepartment:s,getServiceGroups:i,getWorkOrderById:o,getVendor:l}=or(),c=tr(),{id:u}=si(),[f,h]=b.useState([]),[g,p]=b.useState([]),[v,w]=b.useState([]),[y,N]=b.useState(window.innerWidth<768),[k,S]=b.useState(()=>{const ve=localStorage.getItem("sidebarOpen");return ve?JSON.parse(ve):!1}),[T,_]=b.useState(!1),[D,E]=b.useState(!1),[L,R]=b.useState(!1),[F,A]=b.useState(!1),[M,B]=b.useState(!0),[z,Y]=b.useState(null),[W,H]=b.useState(null),[q,X]=b.useState(!1),oe=b.useRef(null),K=b.useRef(null),[V,J]=b.useState([]),[Q,re]=b.useState([]),[ce,Ee]=b.useState(!1),[ke,ge]=b.useState([]),[Ce,Ke]=b.useState(!1),[fe,ye]=b.useState(null),[ae,se]=b.useState(!1),bt=({content:ve,className:xe=""})=>{if(!ve)return a.jsx("div",{className:`p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700 ${xe}`,children:a.jsx("span",{children:"-"})});const Qe=pd.sanitize(ve,{ALLOWED_TAGS:["h1","h2","h3","h4","h5","h6","p","br","span","div","ol","ul","li","strong","b","em","i","u","s","strike","code","mark","sub","sup","blockquote","table","thead","tbody","tr","th","td"],ALLOWED_ATTR:["style","class","align","type","start","colspan","rowspan"]});return a.jsx("div",{className:`rich-text-content p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700 ${xe}`,dangerouslySetInnerHTML:{__html:Qe}})},pt={date:new Date().toISOString().split("T")[0],reception_method:"Electronic Work Order System",requester_id:e!=null&&e.id?parseInt(e.id):0,known_by_id:((je=e==null?void 0:e.department)==null?void 0:je.head_id)||null,department_id:(e==null?void 0:e.department_id)||0,service_group_id:null,service_catalogue_id:null,asset_no:"",device_info:"",complaint:"",attachment:null,received_by_id:null,handling_date:null,action_taken:null,handling_status:"New",remarks:null,assigned_to_id:null,vendor_id:null},[Re,Me]=b.useState(pt);b.useEffect(()=>{const ve=Re.handling_status==="Escalated",xe=Re.handling_status==="Vendor Handled";Ee(ve),Ke(xe),!ve&&Re.assigned_to_id&&Me(Qe=>({...Qe,assigned_to_id:null})),xe||(Me(Qe=>({...Qe,vendor_id:null})),ye(null),se(!1))},[Re.handling_status]),b.useEffect(()=>{const ve=async()=>{if(u)try{B(!0);const xe=await o(parseInt(u));if(Me({id:xe.id,date:xe.date.split("T")[0],reception_method:xe.reception_method,requester_id:xe.requester_id,known_by_id:xe.known_by_id,department_id:xe.department_id,service_group_id:xe.service_group_id,service_catalogue_id:xe.service_catalogue_id,asset_no:xe.asset_no,device_info:xe.device_info,complaint:xe.complaint,attachment:xe.attachment,received_by_id:xe.received_by_id,handling_date:xe.handling_date?xe.handling_date.split("T")[0]:null,action_taken:xe.action_taken,handling_status:xe.handling_status,remarks:xe.remarks,vendor_id:xe.vendor_id||null}),xe.vendor_id&&ke.length>0){const Qe=ke.find(yt=>yt.id===xe.vendor_id);Qe&&ye(Qe)}}catch(xe){console.error("Failed to fetch work order data:",xe),Y(xe.message||"Gagal memuat data work order. Silakan coba lagi.")}finally{B(!1)}};ke.length>0&&ve()},[u,o,ke]),b.useEffect(()=>{e&&(async()=>{try{const xe=await l();ge(xe);const yt=(await i(0)).map(te=>({id:Number(te.id),name:te.group_name??"",description:te.group_description??void 0}));re(yt);const st=await s();p(st);const _e=await r();if(h(_e),e&&e.id){const te=await n(parseInt(e.id));w(te)}}catch(xe){console.error("Failed to fetch master data:",xe)}})()},[e,r,n,s,i,l]),b.useEffect(()=>{const ve=()=>{N(window.innerWidth<768),window.innerWidth<768&&S(!1)};return window.addEventListener("resize",ve),()=>window.removeEventListener("resize",ve)},[]),b.useEffect(()=>{const ve=xe=>{oe.current&&!oe.current.contains(xe.target)&&E(!1),K.current&&!K.current.contains(xe.target)&&R(!1)};return document.addEventListener("mousedown",ve),()=>{document.removeEventListener("mousedown",ve)}},[]),b.useEffect(()=>{if(Re.service_group_id&&v.length>0){const ve=v.filter(xe=>xe.service_group.id===Re.service_group_id);J(ve)}else J([])},[Re.service_group_id,v]),b.useEffect(()=>{document.documentElement.classList.toggle("dark",T),localStorage.setItem("sidebarOpen",JSON.stringify(k))},[k,T]);const qe=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!k)),S(ve=>!ve)},tt=b.useCallback((ve,xe)=>{let Qe,yt;if(ve&&"target"in ve)Qe=ve.target.name,yt=ve.target.value;else if(ve&&typeof ve=="object"&&"value"in ve&&xe)Qe=xe,xe==="assigned_to_id"||xe==="requester_id"||xe==="known_by_id"?yt=ve.value?parseInt(ve.value):null:yt=ve.value;else if(ve===null&&xe)Qe=xe,yt=null;else return;Me(st=>({...st,[Qe]:yt}))},[]),Ve=ve=>{ye(ve),Me(xe=>({...xe,vendor_id:ve.id})),se(!1)},Te=async ve=>{if(ve.preventDefault(),A(!0),Y(null),Re.handling_status==="Escalated"&&!Re.assigned_to_id){Y("Assigned To is required for Escalated status"),A(!1);return}if(Re.handling_status==="Vendor Handled"&&!Re.vendor_id){Y("Vendor selection is required for Vendor Handled status"),A(!1);return}if(!Re.handling_status){Y("Handling status is required"),A(!1);return}if(!Re.handling_date){Y("Handling date is required"),A(!1);return}if(!Re.action_taken||Re.action_taken.length<5){Y("Action taken must be at least 5 characters"),A(!1);return}const xe={...Re,id:Re.id,received_by_id:e!=null&&e.id?parseInt(e.id):null,handling_date:Re.handling_date,action_taken:Re.action_taken,handling_status:Re.handling_status,remarks:Re.remarks,assigned_to_id:Re.assigned_to_id?parseInt(Re.assigned_to_id):null,vendor_id:Re.vendor_id};try{await t(xe),H({message:"Work Order berhasil diperbarui!",work_order:{work_order_no:`WO-IT-${Re.id}`}}),X(!0)}catch(Qe){Y(Qe.message||"Gagal memperbarui work order. Silakan coba lagi."),console.error("Submission error:",Qe)}finally{A(!1)}},le=b.useCallback(()=>{X(!1),c("/workorders/it/receiver")},[c]),Je={control:(ve,xe)=>({...ve,minHeight:"42px",borderColor:xe.isFocused?"#3B82F6":"#D1D5DB",boxShadow:xe.isFocused?"0 0 0 1px #3B82F6":"none","&:hover":{borderColor:"#9CA3AF"},borderRadius:"0.5rem",backgroundColor:"#FFFFFF",padding:"0 0.5rem",transition:"all 0.15s ease-in-out"}),valueContainer:ve=>({...ve,padding:"0"}),singleValue:ve=>({...ve,color:"#374151"}),placeholder:ve=>({...ve,color:"#6B7280"}),dropdownIndicator:ve=>({...ve,color:"#9CA3AF","&:hover":{color:"#6B7280"}}),indicatorSeparator:ve=>({...ve,display:"none"}),menu:ve=>({...ve,zIndex:9999,borderRadius:"0.5rem",border:"1px solid #E5E7EB",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"}),option:(ve,xe)=>({...ve,backgroundColor:xe.isFocused?"#EFF6FF":"#FFFFFF",color:"#1F2937","&:active":{backgroundColor:"#DBEAFE"},padding:"0.625rem 1rem"})},Ge=()=>{const ve=f.find(xe=>parseInt(xe.id)===Re.requester_id);return(ve==null?void 0:ve.name)||"Unknown"},ut=()=>{const ve=g.find(xe=>xe.id===Re.department_id);return(ve==null?void 0:ve.name)||"No department assigned"},Pe=()=>{const ve=g.find(xe=>xe.id===Re.department_id);if(ve&&ve.head_id){const xe=f.find(Qe=>parseInt(Qe.id)===ve.head_id);return(xe==null?void 0:xe.name)||"No department head assigned"}return"No department head assigned"},Ne=()=>{const ve=Q.find(xe=>xe.id===Re.service_group_id);return(ve==null?void 0:ve.name)||"Unknown"},ze=()=>{const ve=v.find(xe=>xe.id===Re.service_catalogue_id);return(ve==null?void 0:ve.service_name)||"Unknown"},me=()=>{if(!Re.attachment)return null;try{const xe=new URL(Re.attachment).pathname;return xe.substring(xe.lastIndexOf("/")+1)}catch{return Re.attachment}},De=()=>{Re.attachment&&window.open(Re.attachment,"_blank")};return M?a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsx("div",{className:"flex-1 flex flex-col overflow-hidden",children:a.jsx("div",{className:"flex items-center justify-center h-full",children:a.jsxs("div",{className:"text-center",children:[a.jsx(mn,{className:"animate-spin h-12 w-12 text-blue-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Memuat data work order..."})]})})})]}):a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Edit Receiver",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:a.jsx(fn,{}),isMobile:y,toggleSidebar:qe}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Update Work Order"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Perbarui status dan penanganan work order"})]}),a.jsxs(O.button,{onClick:()=>c("/workorders/it/receiver"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(hd,{className:"text-lg"})," Back to Receiver"]})]}),a.jsxs(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[z&&a.jsxs(O.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:z}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(Ft,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>Y(null)})})]}),a.jsxs("form",{onSubmit:Te,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(Cr,{className:"mr-2 text-blue-500"})," General Information"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:a.jsx("span",{children:Re.date})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reception Method"}),a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:a.jsx("span",{children:Re.reception_method})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Requester"}),a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:a.jsx("span",{children:Ge()})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department"}),a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:a.jsx("span",{children:ut()})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Known By (Head)"}),a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:a.jsx("span",{children:Pe()})})]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(Ll,{className:"mr-2 text-green-500"})," Service Details"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Service Type"}),a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:a.jsx("span",{children:Ne()})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Service"}),a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:a.jsx("span",{children:ze()})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"No. Asset"}),a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:a.jsx("span",{children:Re.asset_no})})]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(Rx,{className:"mr-2 text-purple-500"})," Device & Complaint Details"]}),a.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Device Information"}),a.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:a.jsx("span",{children:Re.device_info})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Complaint"}),a.jsx(bt,{content:Re.complaint,className:"min-h-[100px]"})]})]})]}),Re.attachment&&a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(yc,{className:"mr-2 text-gray-500"})," Attachment"]}),a.jsxs("div",{className:"flex items-center justify-between p-2.5 border border-gray-300 rounded-lg bg-gray-50",children:[a.jsx("span",{className:"text-gray-700",children:me()}),a.jsx(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:De,className:"ml-4 px-3 py-1 bg-blue-600 text-white text-sm rounded-md hover:bg-blue-700 transition-colors",children:"View"})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(fr,{className:"mr-2 text-blue-500"})," Handling Information"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"received_by_id",className:"block text-sm font-medium text-gray-700 mb-1",children:"Received By"}),a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-blue-50 text-gray-700",children:a.jsx("span",{children:(e==null?void 0:e.name)||"Current User"})})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"handling_date",className:"block text-sm font-medium text-gray-700 mb-1",children:["Handling Date ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"date",id:"handling_date",name:"handling_date",value:Re.handling_date||"",onChange:tt,required:!0,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700"})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"handling_status",className:"block text-sm font-medium text-gray-700 mb-1",children:["Ticket Status ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(un,{id:"handling_status",name:"handling_status",options:[{value:"New",label:"New"},{value:"In Progress",label:"In Progress"},{value:"Escalated",label:"Escalated"},{value:"Vendor Handled",label:"Vendor Handled"},{value:"Resolved",label:"Resolved"}],value:Re.handling_status?{value:Re.handling_status,label:Re.handling_status}:null,onChange:ve=>tt(ve,"handling_status"),placeholder:"Select Handling Status",styles:Je,required:!0})]}),ce&&a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"assigned_to_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Assigned To ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(un,{id:"assigned_to_id",name:"assigned_to_id",options:f.map(ve=>({value:String(ve.id),label:ve.name})),value:Re.assigned_to_id?{value:String(Re.assigned_to_id),label:((We=f.find(ve=>parseInt(ve.id)===Re.assigned_to_id))==null?void 0:We.name)||"Unknown"}:null,onChange:ve=>tt(ve,"assigned_to_id"),placeholder:"Select Assignee",styles:Je,required:ce})]}),Ce&&a.jsxs("div",{className:"md:col-span-2 bg-gray-50 p-4 rounded-lg border border-gray-200",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(Ll,{className:"mr-2 text-gray-600"})," Vendor Information"]}),fe?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h4",{className:"font-semibold text-gray-800",children:"Selected Vendor"}),a.jsx(O.button,{type:"button",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ye(null),Me(ve=>({...ve,vendor_id:null})),se(!1)},className:"px-2 py-1 bg-red-100 text-red-700 text-sm rounded-md hover:bg-red-200 transition-colors",children:"Change Vendor"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Vendor Name"}),a.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:fe.name})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Person"}),a.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:fe.contact_person})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),a.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:fe.address||"-"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),a.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:fe.email})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),a.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:fe.telp||"-"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mobile"}),a.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:fe.HP||"-"})]})]})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Select Vendor ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(O.button,{type:"button",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>se(!ae),className:"px-3 py-1 bg-gray-600 text-white text-sm rounded-md hover:bg-gray-700 transition-colors",children:ae?"Hide Vendors":"Select Vendor"})]}),ae&&a.jsx("div",{className:"border border-gray-200 rounded-lg bg-white max-h-60 overflow-y-auto",children:ke.length>0?ke.map(ve=>a.jsxs(O.div,{whileHover:{backgroundColor:"rgba(0, 0, 0, 0.05)"},className:"p-3 border-b border-gray-100 cursor-pointer transition-colors",onClick:()=>Ve(ve),children:[a.jsx("div",{className:"font-medium text-gray-900",children:ve.name}),a.jsxs("div",{className:"text-sm text-gray-600",children:[ve.contact_person," • ",ve.email]}),a.jsx("div",{className:"text-xs text-gray-500",children:ve.address})]},ve.id)):a.jsxs("div",{className:"p-4 text-center text-gray-600",children:[a.jsx(Hr,{className:"mx-auto h-6 w-6 mb-2"}),"No vendors available"]})})]})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsxs("label",{htmlFor:"action_taken",className:"block text-sm font-medium text-gray-700 mb-1",children:["Action Taken ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Lf,{value:Re.action_taken||"",onChange:ve=>{Me(xe=>({...xe,action_taken:ve}))}})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsxs("label",{htmlFor:"remarks",className:"block text-sm font-medium text-gray-700 mb-1",children:["Remarks ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Lf,{value:Re.remarks||"",onChange:ve=>{Me(xe=>({...xe,remarks:ve}))}})]})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsxs(O.button,{type:"button",onClick:()=>c("/workorders/it/receiver"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",children:[a.jsx(hn,{className:"mr-2 h-5 w-5"})," Cancel"]}),a.jsx(O.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},disabled:F,className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed",children:F?a.jsxs(a.Fragment,{children:[a.jsx(mn,{className:"animate-spin mr-2 h-5 w-5"}),"Updating..."]}):a.jsxs(a.Fragment,{children:[a.jsx(vn,{className:"mr-2 h-5 w-5"})," Update Work Order"]})})]})]})]})]})]}),a.jsx(MHe,{isOpen:q,onClose:le,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(fr,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center mb-2",children:W==null?void 0:W.message}),a.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Work Order Number: ",(rt=W==null?void 0:W.work_order)==null?void 0:rt.work_order_no]}),a.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:le,className:"mt-6 px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold",children:"Go to Work Orders"})]})})]})},h2=({title:t,value:e,change:r,icon:n})=>{const s=r.startsWith("+");return a.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),a.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),a.jsxs("p",{className:`mt-3 text-xs font-semibold ${s?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})},OHe=()=>{const[t,e]=b.useState(!1),[r,n]=b.useState(!1),[s,i]=b.useState(""),[o,l]=b.useState("all"),[c,u]=b.useState(!1),[f,h]=b.useState(!1),[g,p]=b.useState(null),[v,w]=b.useState(1),[y]=b.useState(5),[N,k]=b.useState(window.innerWidth<768),[S,T]=b.useState(!1),[_,D]=b.useState(!1),[E,L]=b.useState([]),[R,F]=b.useState(!0),[A,M]=b.useState(null),[B,z]=b.useState(!1),[Y,W]=b.useState(null),[H,q]=b.useState(!1),[X,oe]=b.useState(""),K=tr(),V=Ds(),J=b.useRef(null),Q=b.useRef(null),{user:re,getWorkOrdersIT:ce,updateWorkOrderIT:Ee,hasPermission:ke}=or(),ge=V.pathname==="/workorders/it/assignment",Ce=V.pathname==="/workorders/it/reports",Ke=V.pathname==="/workorders/it/knowledgebase",fe=V.pathname==="/workorders/it",ye=V.pathname==="/workorders/it/receiver";V.pathname;const ae=({order:je,onClose:We})=>{var Fe,Xe,lt,wt,$e,Ue,et,Rt,Ut,Wt;const rt=mt=>mt==null?"-":typeof mt=="object"&&mt!==null?mt.name||mt.title||mt.id||"-":typeof mt=="string"?mt.trim()!==""?mt.trim():"-":typeof mt=="number"?mt.toString():String(mt),ve=mt=>mt?new Date(mt).toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-",xe=({status:mt})=>{const Ct={New:"bg-gray-100 text-gray-800 border-gray-300",Assigned:"bg-blue-100 text-blue-800 border-blue-300","In Progress":"bg-cyan-100 text-cyan-800 border-cyan-300",Escalated:"bg-purple-100 text-purple-800 border-purple-300","Vendor Handled":"bg-red-100 text-red-800 border-red-300",Resolved:"bg-orange-100 text-orange-800 border-orange-300",Cancel:"bg-gray-100 text-gray-800 border-gray-300",Closed:"bg-green-100 text-green-800 border-green-300"};return a.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold border ${Ct[mt]||Ct.New}`,children:mt})},Qe=({priority:mt})=>{const Ct={Critical:"bg-purple-100 text-purple-800 border-purple-300",High:"bg-red-100 text-red-800 border-red-300",Medium:"bg-yellow-100 text-yellow-800 border-yellow-300",Low:"bg-green-100 text-green-800 border-green-300"};return a.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold border ${Ct[mt]||Ct.Medium}`,children:mt||"Medium"})},yt=({title:mt,children:Ct,icon:Vt})=>a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[a.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-4 border-b border-gray-200",children:a.jsxs("div",{className:"flex items-center",children:[Vt&&a.jsx("div",{className:"mr-3 text-blue-600",children:Vt}),a.jsx("h3",{className:"text-lg font-bold text-gray-900",children:mt})]})}),a.jsx("div",{className:"p-6",children:Ct})]}),st=({label:mt,value:Ct,icon:Vt,fullWidth:br=!1,priority:gn="medium"})=>{const wn={high:"border-l-4 border-l-blue-500 bg-blue-25",medium:"border-l-2 border-l-gray-200",low:"border-l border-l-gray-100"};return a.jsx("div",{className:`${br?"col-span-full":""}`,children:a.jsx("div",{className:`p-4 rounded-lg ${wn[gn]} transition-all duration-200 hover:shadow-sm`,children:a.jsxs("div",{className:"flex items-start space-x-3",children:[Vt&&a.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:Vt}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1",children:mt}),a.jsx("p",{className:"text-sm font-medium text-gray-900 leading-relaxed",children:Ct})]})]})})})},_e=({label:mt,htmlContent:Ct,icon:Vt,fullWidth:br=!1})=>{if(!Ct)return a.jsx(st,{label:mt,value:"-",icon:Vt,fullWidth:br,priority:"low"});const gn=pd.sanitize(Ct,{ALLOWED_TAGS:["h1","h2","h3","h4","h5","h6","p","br","span","div","ol","ul","li","strong","b","em","i","u","s","strike","code","mark","sub","sup","blockquote","pre"],ALLOWED_ATTR:["style","class","data-color","align","type","start"]});return a.jsx("div",{className:`${br?"col-span-full":""}`,children:a.jsx("div",{className:"p-4 rounded-lg border-l-2 border-l-blue-200 bg-blue-25 transition-all duration-200 hover:shadow-sm",children:a.jsxs("div",{className:"flex items-start space-x-3",children:[Vt&&a.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:Vt}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:mt}),a.jsx("div",{className:`rich-text-content text-sm text-gray-900 leading-relaxed prose prose-sm max-w-none\r
                          prose-headings:font-semibold prose-p:my-2 prose-ul:my-2 prose-ol:my-2\r
                          prose-li:my-1 prose-strong:font-semibold prose-em:italic`,dangerouslySetInnerHTML:{__html:gn}})]})]})})})},te=({order:mt})=>{const Vt=!["Resolved","Cancel","Closed"].includes(mt.handling_status)&&mt.assigned_to_id===Number(re==null?void 0:re.id);return a.jsxs("div",{className:"flex flex-wrap gap-3 mt-6 pt-6 border-t border-gray-200",children:[Vt&&a.jsxs(O.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>K(`/workorders/it/assignment/editassignment/${mt.id}`),className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors duration-200 font-semibold text-sm",children:[a.jsx(Ba,{className:"w-4 h-4 mr-2"}),"Update Progress"]}),a.jsxs(O.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:We,className:"inline-flex items-center px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500 transition-colors duration-200 font-semibold text-sm",children:[a.jsx(Ft,{className:"w-4 h-4 mr-2"}),"Close"]})]})};return a.jsxs("div",{className:"space-y-6 max-h-[70vh] overflow-y-auto custom-scrollbar pr-2",children:[a.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6",children:a.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:["#",je.work_order_no||je.id]}),a.jsx(xe,{status:je.handling_status}),a.jsx(Qe,{priority:(Fe=je.service)==null?void 0:Fe.priority})]}),a.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(ga,{className:"w-4 h-4"}),"Created: ",ve(je.date)]}),a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(Cr,{className:"w-4 h-4"}),je.handling_date?`Assigned: ${ve(je.handling_date)}`:"Not yet assigned"]})]})]})})}),a.jsx(yt,{title:"My Assignment Details",icon:a.jsx(cn,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(st,{label:"Assigned To",value:rt(((Xe=je.assigned_to)==null?void 0:Xe.name)||(re==null?void 0:re.name)),icon:a.jsx(cn,{className:"w-4 h-4"}),priority:"high"}),a.jsx(st,{label:"Assignment Type",value:je.vendor?"Vendor":"Internal Technician",icon:a.jsx(qs,{className:"w-4 h-4"})}),a.jsx(st,{label:"Current Status",value:rt(je.handling_status),icon:a.jsx(Cr,{className:"w-4 h-4"}),priority:"high"}),a.jsx(st,{label:"Priority Level",value:rt(((lt=je.service)==null?void 0:lt.priority)||"Medium"),icon:a.jsx(Hr,{className:"w-4 h-4"}),priority:"high"})]})}),a.jsx(yt,{title:"Service & Technical Information",icon:a.jsx(ia,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(st,{label:"Service Type",value:rt((wt=je.service_type)==null?void 0:wt.group_name),icon:a.jsx(qs,{className:"w-4 h-4"})}),a.jsx(st,{label:"Service Name",value:rt(($e=je.service)==null?void 0:$e.service_name),icon:a.jsx(fn,{className:"w-4 h-4"})}),a.jsx(st,{label:"Service Owner",value:rt((et=(Ue=je.service)==null?void 0:Ue.owner)==null?void 0:et.name),icon:a.jsx(cn,{className:"w-4 h-4"})}),a.jsx(st,{label:"Asset Number",value:rt(je.asset_no),icon:a.jsx(fn,{className:"w-4 h-4"})})]})}),a.jsx(yt,{title:"Request Information",icon:a.jsx(fn,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsx(st,{label:"Requester",value:rt((Rt=je.requester)==null?void 0:Rt.name),icon:a.jsx(cn,{className:"w-4 h-4"})}),a.jsx(st,{label:"Requester Department",value:rt(je.department_name||((Ut=je.department)==null?void 0:Ut.name)),icon:a.jsx(qs,{className:"w-4 h-4"})}),a.jsx(st,{label:"Reception Method",value:rt(je.reception_method),icon:a.jsx(ni,{className:"w-4 h-4"})}),a.jsx(st,{label:"Known By",value:rt((Wt=je.known_by)==null?void 0:Wt.name),icon:a.jsx(bo,{className:"w-4 h-4"})})]})}),a.jsx(yt,{title:"Problem Details",icon:a.jsx(Hr,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsx(st,{label:"Device Information",value:rt(je.device_info),icon:a.jsx(qs,{className:"w-4 h-4"}),fullWidth:!0}),a.jsx(_e,{label:"Complaint Description",htmlContent:je.complaint||"",icon:a.jsx(Hr,{className:"w-4 h-4"}),fullWidth:!0})]})}),a.jsx(yt,{title:"Progress & Actions",icon:a.jsx(Cr,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsx(_e,{label:"Action Taken",htmlContent:je.action_taken||"No actions recorded yet",icon:a.jsx(ia,{className:"w-4 h-4"}),fullWidth:!0}),a.jsx(_e,{label:"Technical Notes & Remarks",htmlContent:je.remarks||"No remarks yet",icon:a.jsx(fn,{className:"w-4 h-4"}),fullWidth:!0})]})}),je.vendor&&a.jsx(yt,{title:"Vendor Information",icon:a.jsx(cn,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsx(st,{label:"Vendor Name",value:rt(je.vendor.name),icon:a.jsx(cn,{className:"w-4 h-4"}),priority:"high"}),a.jsx(st,{label:"Contact Person",value:rt(je.vendor.contact_person),icon:a.jsx(cn,{className:"w-4 h-4"})}),a.jsx(st,{label:"Email",value:rt(je.vendor.email),icon:a.jsx(Xp,{className:"w-4 h-4"})}),a.jsx(st,{label:"Phone",value:rt(je.vendor.telp),icon:a.jsx(iu,{className:"w-4 h-4"})}),a.jsx(st,{label:"Mobile",value:rt(je.vendor.HP),icon:a.jsx(iu,{className:"w-4 h-4"})}),a.jsx(st,{label:"Address",value:rt(je.vendor.address),icon:a.jsx(gs,{className:"w-4 h-4"}),fullWidth:!0})]})}),a.jsx(yt,{title:"Timeline & Status History",icon:a.jsx(Cr,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-lg border border-green-200",children:[a.jsx("span",{className:"text-sm font-medium text-green-800",children:"Request Created"}),a.jsx("span",{className:"text-sm text-green-600",children:ve(je.date)})]}),je.handling_date&&a.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg border border-blue-200",children:[a.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Assigned to You"}),a.jsx("span",{className:"text-sm text-blue-600",children:ve(je.handling_date)})]}),je.action_taken&&a.jsxs("div",{className:"flex justify-between items-center p-3 bg-purple-50 rounded-lg border border-purple-200",children:[a.jsx("span",{className:"text-sm font-medium text-purple-800",children:"Work Started"}),a.jsx("span",{className:"text-sm text-purple-600",children:"In Progress"})]}),["Resolved","Closed"].includes(je.handling_status)&&a.jsxs("div",{className:"flex justify-between items-center p-3 bg-orange-50 rounded-lg border border-orange-200",children:[a.jsx("span",{className:"text-sm font-medium text-orange-800",children:"Work Completed"}),a.jsx("span",{className:"text-sm text-orange-600",children:je.handling_status})]})]})}),!["Resolved","Closed","Cancel"].includes(je.handling_status)&&a.jsx(yt,{title:"Next Steps",icon:a.jsx(fr,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-blue-25 rounded-lg border border-blue-200",children:[a.jsx(fr,{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"Update Progress"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Click 'Update Progress' to record your work and update the status"})]})]}),je.handling_status==="Assigned"&&a.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-yellow-25 rounded-lg border border-yellow-200",children:[a.jsx(Cr,{className:"w-5 h-5 text-yellow-600 mt-0.5 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"Start Working"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Change status to 'In Progress' when you begin working on this task"})]})]}),je.handling_status==="In Progress"&&a.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-green-25 rounded-lg border border-green-200",children:[a.jsx(ia,{className:"w-5 h-5 text-green-600 mt-0.5 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"Complete Work"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Change status to 'Resolved' when the work is completed"})]})]})]})}),je.attachment&&a.jsx(yt,{title:"Supporting Documents",icon:a.jsx(yc,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-blue-25 rounded-lg border-l-4 border-l-blue-400",children:[a.jsx(yc,{className:"w-5 h-5 text-blue-600 flex-shrink-0"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"Related Attachment"}),a.jsxs("a",{href:je.attachment,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-blue-600 hover:text-blue-800 font-medium text-sm transition-colors duration-200",children:[a.jsx(SD,{className:"w-4 h-4 mr-1"}),"View Attachment"]})]})]})}),a.jsx(te,{order:je})]})},se=b.useCallback(async()=>{F(!0),M(null);try{const We=(await ce()).filter(rt=>rt.assigned_to_id===Number(re==null?void 0:re.id));L(We)}catch(je){M(je.message||"Failed to load work orders.")}finally{F(!1)}},[ce,re==null?void 0:re.id]),bt=b.useCallback(async(je,We)=>{z(!0),W(null),q(!1);try{const rt=await Ee({...We,id:je});return L(ve=>ve.map(xe=>xe.id===je?rt:xe)),q(!0),setTimeout(()=>q(!1),3e3),rt}catch(rt){throw W(rt.message||"Failed to update work order."),rt}finally{z(!1)}},[Ee]),pt=()=>{k(window.innerWidth<768),window.innerWidth<768&&n(!1)},Re=je=>{J.current&&!J.current.contains(je.target)&&T(!1),Q.current&&!Q.current.contains(je.target)&&D(!1)};b.useEffect(()=>(window.addEventListener("resize",pt),document.addEventListener("mousedown",Re),se(),()=>{window.removeEventListener("resize",pt),document.removeEventListener("mousedown",Re)}),[se]);const Me=je=>{switch(je){case"New":return"bg-gray-500 text-white";case"Assigned":return"bg-blue-600 text-white";case"In Progress":return"bg-cyan-500 text-white";case"Escalated":return"bg-purple-500 text-white";case"Vendor Handled":return"bg-red-500 text-white";case"Resolved":return"bg-orange-500 text-white";case"Cancel":return"bg-red-500 text-white";case"Closed":return"bg-gray-900 text-white";default:return"bg-gray-500 text-white"}},qe=je=>{switch(je==null?void 0:je.toLowerCase()){case"high":return"bg-red-500 text-white";case"medium":return"bg-yellow-500 text-white";case"low":return"bg-green-500 text-white";case"critical":return"bg-purple-500 text-white";default:return"bg-gray-500 text-white"}},tt=je=>{switch(je){case"Assigned":return 1;case"In Progress":return 2;case"Escalated":return 3;case"Vendor Handled":return 4;case"Resolved":return 5;case"Cancel":return 6;case"Closed":return 7;default:return 8}},Ve=je=>{switch(je==null?void 0:je.toLowerCase()){case"critical":return 1;case"high":return 2;case"medium":return 3;case"low":return 4;default:return 5}},Te=b.useCallback(je=>{const We=E.find(rt=>rt.id===je);We&&(p(We),h(!0))},[E]);b.useCallback(async je=>{if(!X.trim()){W("Vendor name is required");return}try{await bt(je,{assigned_to_name:X.trim(),handling_status:"Vendor Handled",handling_date:new Date().toISOString()}),oe(""),q(!0)}catch(We){console.error("Failed to assign vendor:",We)}},[bt,X]),b.useCallback(async(je,We)=>{try{await bt(je,{handling_status:We,handling_date:new Date().toISOString()})}catch(rt){console.error("Failed to update status:",rt)}},[bt]);const le=je=>{var We;return je.vendor?`${je.vendor.name}`:((We=je.assigned_to)==null?void 0:We.name)||"Unassigned"},Je=je=>je.vendor?"vendor":je.assigned_to?"user":"unassigned",Ge=()=>{n(je=>!je)},ut=E.filter(je=>{var ve,xe,Qe,yt;const We=((xe=(ve=je.requester)==null?void 0:ve.name)==null?void 0:xe.toLowerCase().includes(s.toLowerCase()))||((Qe=je.work_order_no)==null?void 0:Qe.toLowerCase().includes(s.toLowerCase()))||((yt=je.complaint)==null?void 0:yt.toLowerCase().includes(s.toLowerCase()))||String(je.id).includes(s),rt=o==="all"||je.handling_status===o;return We&&rt}).sort((je,We)=>{var yt,st;const rt=tt(je.handling_status),ve=tt(We.handling_status);if(rt!==ve)return rt-ve;const xe=Ve((yt=je.service)==null?void 0:yt.priority),Qe=Ve((st=We.service)==null?void 0:st.priority);return xe!==Qe?xe-Qe:new Date(We.created_at).getTime()-new Date(je.created_at).getTime()}),Pe=v*y,Ne=Pe-y,ze=ut.slice(Ne,Pe),me=Math.ceil(ut.length/y),De=je=>w(je);return b.useEffect(()=>{w(1),document.documentElement.classList.toggle("dark",t)},[s,o,t]),R?a.jsxs("div",{className:"flex h-screen items-center justify-center bg-blue-50",children:[a.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-blue-600"}),a.jsx("p",{className:"ml-4 text-lg text-gray-700",children:"Loading work orders..."})]}):A?a.jsxs("div",{className:"flex h-screen items-center justify-center bg-red-50",children:[a.jsx(Hr,{className:"text-red-600 text-5xl"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-lg text-red-800",children:A}),a.jsx("button",{onClick:se,className:"mt-4 px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Try Again"})]})]}):a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"IT Work Orders - Assigments",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:a.jsx(fn,{}),isMobile:N,toggleSidebar:Ge}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"isi style mb-6 flex space-x-6 border-b border-gray-200",children:[a.jsx(O.div,{whileTap:{scale:.98},onClick:()=>K("/workorders/it"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${fe?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Request"}),a.jsx(O.div,{whileTap:{scale:.98},onClick:()=>K("/workorders/it/receiver"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${ye?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Receiver"}),a.jsx(O.div,{whileTap:{scale:.98},onClick:()=>K("/workorders/it/assignment"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${ge?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Assignment"}),a.jsx(O.div,{whileTap:{scale:.98},onClick:()=>K("/workorders/it/reports"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${Ce?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Reports"}),a.jsx(O.div,{whileTap:{scale:.98},onClick:()=>K("/workorders/it/knowledgebase"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${Ke?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Knowledge Base"})]}),Y&&a.jsxs(O.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",children:[a.jsx("span",{className:"block sm:inline",children:Y}),a.jsx("button",{onClick:()=>W(null),className:"absolute top-0 right-0 p-3",children:a.jsx(Ft,{size:16})})]}),H&&a.jsxs(O.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-4 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative",children:[a.jsx("span",{className:"block sm:inline",children:"Work order updated successfully!"}),a.jsx("button",{onClick:()=>q(!1),className:"absolute top-0 right-0 p-3",children:a.jsx(Ft,{size:16})})]}),a.jsx(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"IT Assignment"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Manage assigned IT work orders as a technician/vendor"})]})}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[a.jsx(h2,{title:"Total Assignments",value:ut.length.toString(),change:"+8%",icon:a.jsx(fn,{})}),a.jsx(h2,{title:"In Progress",value:ut.filter(je=>je.handling_status==="In Progress").length.toString(),change:"-1",icon:a.jsx(ia,{})}),a.jsx(h2,{title:"Resolved",value:ut.filter(je=>je.handling_status==="Resolved").length.toString(),change:"+1",icon:a.jsx(fr,{})}),a.jsx(h2,{title:"Vendor Handled",value:ut.filter(je=>je.handling_status==="Vendor Handled").length.toString(),change:"+3",icon:a.jsx(Cr,{})})]}),a.jsx(O.div,{layout:!0,className:"mb-6 bg-white rounded-2xl shadow-md p-4 md:p-6 border border-blue-50",children:a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Da,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),a.jsx("input",{type:"text",placeholder:"Search assignments...",className:"w-full pl-12 pr-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base transition-all duration-200",value:s,onChange:je=>i(je.target.value)})]}),a.jsx(ar,{children:c&&a.jsx(O.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3 w-full md:w-auto",children:a.jsxs("select",{className:"border border-gray-200 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base appearance-none bg-no-repeat bg-right-12 bg-center-y transition-all duration-200",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='currentColor'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/svg%3E")`,backgroundSize:"1.2rem"},value:o,onChange:je=>l(je.target.value),children:[a.jsx("option",{value:"all",children:"All Statuses"}),a.jsx("option",{value:"Assigned",children:"Assigned"}),a.jsx("option",{value:"In Progress",children:"In Progress"}),a.jsx("option",{value:"Escalated",children:"Escalated"}),a.jsx("option",{value:"Vendor Handled",children:"Vendor Handled"}),a.jsx("option",{value:"Resolved",children:"Resolved"}),a.jsx("option",{value:"Cancel",children:"Cancel"}),a.jsx("option",{value:"Closed",children:"Closed"})]})})})]})}),a.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-50",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-100",children:[a.jsx("thead",{className:"bg-blue-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Requester"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Date"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Handling Date"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Priority"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Ticket Status"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Assigned To"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:ze.length>0?ze.map(je=>{var ve,xe;je.handling_status,["Resolved","Cancel","Closed"].includes(je.handling_status),je.handling_status;const We=le(je),rt=Je(je);return a.jsxs(O.tr,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.2},whileHover:{backgroundColor:"rgba(239, 246, 255, 1)"},className:"transition-colors duration-150",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 cursor-pointer hover:text-blue-600 hover:underline transition-colors duration-200",onClick:()=>Te(je.id),title:"Click to view details",children:je.work_order_no||"-"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:je.requester.name}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:new Date(je.date).toLocaleDateString()}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:je.handling_date?new Date(je.handling_date).toLocaleDateString():"-"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-bold rounded-full ${qe((ve=je.service)==null?void 0:ve.priority)} shadow-sm`,children:((xe=je.service)==null?void 0:xe.priority)||"Medium"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-bold rounded-full ${Me(je.handling_status)} shadow-sm`,children:je.handling_status})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:`text-sm font-medium ${rt==="vendor"?"text-purple-600":rt==="user"?"text-blue-600":"text-gray-500"}`,children:We}),rt==="vendor"&&a.jsx("span",{className:"ml-2 px-1.5 py-0.5 text-xs bg-purple-100 text-purple-800 rounded-full",children:"Vendor"})]})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium flex items-center space-x-2",children:[a.jsx(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Te(je.id),className:"text-blue-600 hover:text-blue-800 transition-colors duration-200 flex items-center space-x-1",title:"View Details",children:a.jsx(bo,{className:"text-lg"})}),a.jsx(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K(`/workorders/it/assignment/editassignment/${je.id}`),className:"text-gray-600 hover:text-gray-800 transition-colors duration-200 flex items-center space-x-1",title:"Edit Assignment",children:a.jsx(Ba,{className:"text-lg"})})]})]},je.id)}):a.jsx("tr",{children:a.jsx("td",{colSpan:6,className:"px-6 py-10 text-center text-gray-600 text-lg",children:"No IT assignments found matching your criteria."})})})]})})}),ut.length>y&&a.jsxs(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"mt-8 flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{className:"text-sm text-gray-600 mb-4 sm:mb-0",children:["Showing ",a.jsx("span",{className:"font-semibold",children:Ne+1})," to ",a.jsx("span",{className:"font-semibold",children:Math.min(Pe,ut.length)})," of"," ",a.jsx("span",{className:"font-semibold",children:ut.length})," results"]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>De(v-1),disabled:v===1,className:"px-4 py-2 border border-gray-200 rounded-lg bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm",children:"Previous"}),Array.from({length:me},(je,We)=>a.jsx(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>De(We+1),className:`px-4 py-2 rounded-lg transition-colors duration-200 shadow-sm
                          ${v===We+1?"bg-blue-600 text-white shadow-md":"bg-white text-gray-700 hover:bg-blue-50 border border-gray-200"}
                        `,children:We+1},We+1)),a.jsx(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>De(v+1),disabled:v===me,className:"px-4 py-2 border border-gray-200 rounded-lg bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm",children:"Next"})]})]})]})]}),g&&a.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 p-4 overflow-y-auto",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsxs("h3",{className:"text-2xl font-bold text-gray-900",children:["Work Order Details #",g.work_order_no||g.id]}),a.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{h(!1),p(null)},className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(Ft,{size:24})})]}),a.jsx("div",{className:"overflow-y-auto max-h-[70vh]",children:a.jsx(ae,{order:g,onClose:()=>{h(!1),p(null)}})})]})})})]})},DHe=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(O.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(Ft,{size:24})})]}),a.jsx("div",{children:n})]})}):null,PHe=()=>{var je,We,rt;const{updateWorkOrderIT:t,user:e,getUsers:r,getServices:n,getDepartment:s,getServiceGroups:i,getWorkOrderById:o,getVendor:l}=or(),c=tr(),{id:u}=si(),[f,h]=b.useState([]),[g,p]=b.useState([]),[v,w]=b.useState([]),[y,N]=b.useState(window.innerWidth<768),[k,S]=b.useState(()=>{const ve=localStorage.getItem("sidebarOpen");return ve?JSON.parse(ve):!1}),[T,_]=b.useState(!1),[D,E]=b.useState(!1),[L,R]=b.useState(!1),[F,A]=b.useState(!1),[M,B]=b.useState(!0),[z,Y]=b.useState(null),[W,H]=b.useState(null),[q,X]=b.useState(!1),oe=b.useRef(null),K=b.useRef(null),[V,J]=b.useState([]),[Q,re]=b.useState([]),[ce,Ee]=b.useState(!1),[ke,ge]=b.useState([]),[Ce,Ke]=b.useState(!1),[fe,ye]=b.useState(null),[ae,se]=b.useState(!1),bt=({content:ve,className:xe=""})=>{if(!ve)return a.jsx("div",{className:`p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700 ${xe}`,children:a.jsx("span",{children:"-"})});const Qe=pd.sanitize(ve,{ALLOWED_TAGS:["h1","h2","h3","h4","h5","h6","p","br","span","div","ol","ul","li","strong","b","em","i","u","s","strike","code","mark","sub","sup","blockquote","table","thead","tbody","tr","th","td"],ALLOWED_ATTR:["style","class","align","type","start","colspan","rowspan"]});return a.jsx("div",{className:`rich-text-content p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700 ${xe}`,dangerouslySetInnerHTML:{__html:Qe}})},pt={date:new Date().toISOString().split("T")[0],reception_method:"Electronic Work Order System",requester_id:e!=null&&e.id?parseInt(e.id):0,known_by_id:((je=e==null?void 0:e.department)==null?void 0:je.head_id)||null,department_id:(e==null?void 0:e.department_id)||0,service_group_id:null,service_catalogue_id:null,asset_no:"",device_info:"",complaint:"",attachment:null,received_by_id:null,handling_date:null,action_taken:null,handling_status:"New",remarks:null,assigned_to_id:null,vendor_id:null},[Re,Me]=b.useState(pt);b.useEffect(()=>{const ve=Re.handling_status!=="New",xe=Re.handling_status==="Vendor Handled";Ee(ve),Ke(xe),!xe&&Re.vendor_id&&(Me(Qe=>({...Qe,vendor_id:null})),ye(null),se(!1))},[Re.handling_status]),b.useEffect(()=>{const ve=async()=>{if(u)try{B(!0);const xe=await o(parseInt(u));if(Me({id:xe.id,date:xe.date.split("T")[0],reception_method:xe.reception_method,requester_id:xe.requester_id,known_by_id:xe.known_by_id,department_id:xe.department_id,service_group_id:xe.service_group_id,service_catalogue_id:xe.service_catalogue_id,asset_no:xe.asset_no,device_info:xe.device_info,complaint:xe.complaint,attachment:xe.attachment,received_by_id:xe.received_by_id,handling_date:xe.handling_date?xe.handling_date.split("T")[0]:null,action_taken:xe.action_taken,handling_status:xe.handling_status,remarks:xe.remarks,assigned_to_id:xe.assigned_to_id,vendor_id:xe.vendor_id||null}),xe.vendor_id&&ke.length>0){const Qe=ke.find(yt=>yt.id===xe.vendor_id);Qe&&ye(Qe)}}catch(xe){console.error("Failed to fetch work order data:",xe),Y(xe.message||"Gagal memuat data work order. Silakan coba lagi.")}finally{B(!1)}};ke.length>0&&ve()},[u,o,ke]),b.useEffect(()=>{e&&(async()=>{try{const xe=await l();ge(xe);const yt=(await i(0)).map(te=>({id:Number(te.id),name:te.group_name??"",description:te.group_description??void 0}));re(yt);const st=await s();p(st);const _e=await r();if(h(_e),e&&e.id){const te=await n(parseInt(e.id));w(te)}}catch(xe){console.error("Failed to fetch master data:",xe)}})()},[e,r,n,s,i,l]),b.useEffect(()=>{const ve=()=>{N(window.innerWidth<768),window.innerWidth<768&&S(!1)};return window.addEventListener("resize",ve),()=>window.removeEventListener("resize",ve)},[]),b.useEffect(()=>{const ve=xe=>{oe.current&&!oe.current.contains(xe.target)&&E(!1),K.current&&!K.current.contains(xe.target)&&R(!1)};return document.addEventListener("mousedown",ve),()=>{document.removeEventListener("mousedown",ve)}},[]),b.useEffect(()=>{if(Re.service_group_id&&v.length>0){const ve=v.filter(xe=>xe.service_group.id===Re.service_group_id);J(ve)}else J([])},[Re.service_group_id,v]),b.useEffect(()=>{document.documentElement.classList.toggle("dark",T),localStorage.setItem("sidebarOpen",JSON.stringify(k))},[k,T]);const qe=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!k)),S(ve=>!ve)},tt=b.useCallback((ve,xe)=>{let Qe,yt;if(ve&&"target"in ve)Qe=ve.target.name,yt=ve.target.value;else if(ve&&typeof ve=="object"&&"value"in ve&&xe)Qe=xe,xe==="assigned_to_id"||xe==="requester_id"||xe==="known_by_id"?yt=ve.value?parseInt(ve.value):null:yt=ve.value;else if(ve===null&&xe)Qe=xe,yt=null;else return;Me(st=>({...st,[Qe]:yt}))},[]),Ve=ve=>{ye(ve),Me(xe=>({...xe,vendor_id:ve.id})),se(!1)},Te=async ve=>{ve.preventDefault(),A(!0),Y(null);const xe=["In Progress","Escalated","Vendor Handled","Resolved"];if(Re.handling_status&&xe.includes(Re.handling_status)&&!Re.assigned_to_id){Y("Assigned To is required for this status"),A(!1);return}if(Re.handling_status==="Vendor Handled"&&!Re.vendor_id){Y("Vendor selection is required for Vendor Handled status"),A(!1);return}if(!Re.handling_status){Y("Handling status is required"),A(!1);return}if(!Re.handling_date){Y("Handling date is required"),A(!1);return}if(!Re.action_taken||Re.action_taken.length<5){Y("Action taken must be at least 5 characters"),A(!1);return}const Qe={...Re,id:Re.id,received_by_id:e!=null&&e.id?parseInt(e.id):null,handling_date:Re.handling_date,action_taken:Re.action_taken,handling_status:Re.handling_status,remarks:Re.remarks,assigned_to_id:Re.assigned_to_id?parseInt(Re.assigned_to_id):null,vendor_id:Re.vendor_id};try{await t(Qe),H({message:"Work Order berhasil diperbarui!",work_order:{work_order_no:`WO-IT-${Re.id}`}}),X(!0)}catch(yt){Y(yt.message||"Gagal memperbarui work order. Silakan coba lagi."),console.error("Submission error:",yt)}finally{A(!1)}},le=b.useCallback(()=>{X(!1),c("/workorders/it/assignment")},[c]),Je={control:(ve,xe)=>({...ve,minHeight:"42px",borderColor:xe.isFocused?"#3B82F6":"#D1D5DB",boxShadow:xe.isFocused?"0 0 0 1px #3B82F6":"none","&:hover":{borderColor:"#9CA3AF"},borderRadius:"0.5rem",backgroundColor:"#FFFFFF",padding:"0 0.5rem",transition:"all 0.15s ease-in-out"}),valueContainer:ve=>({...ve,padding:"0"}),singleValue:ve=>({...ve,color:"#374151"}),placeholder:ve=>({...ve,color:"#6B7280"}),dropdownIndicator:ve=>({...ve,color:"#9CA3AF","&:hover":{color:"#6B7280"}}),indicatorSeparator:ve=>({...ve,display:"none"}),menu:ve=>({...ve,zIndex:9999,borderRadius:"0.5rem",border:"1px solid #E5E7EB",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"}),option:(ve,xe)=>({...ve,backgroundColor:xe.isFocused?"#EFF6FF":"#FFFFFF",color:"#1F2937","&:active":{backgroundColor:"#DBEAFE"},padding:"0.625rem 1rem"})},Ge=()=>{const ve=f.find(xe=>parseInt(xe.id)===Re.requester_id);return(ve==null?void 0:ve.name)||"Unknown"},ut=()=>{const ve=g.find(xe=>xe.id===Re.department_id);return(ve==null?void 0:ve.name)||"No department assigned"},Pe=()=>{const ve=g.find(xe=>xe.id===Re.department_id);if(ve&&ve.head_id){const xe=f.find(Qe=>parseInt(Qe.id)===ve.head_id);return(xe==null?void 0:xe.name)||"No department head assigned"}return"No department head assigned"},Ne=()=>{const ve=Q.find(xe=>xe.id===Re.service_group_id);return(ve==null?void 0:ve.name)||"Unknown"},ze=()=>{const ve=v.find(xe=>xe.id===Re.service_catalogue_id);return(ve==null?void 0:ve.service_name)||"Unknown"},me=()=>{if(!Re.attachment)return null;try{const xe=new URL(Re.attachment).pathname;return xe.substring(xe.lastIndexOf("/")+1)}catch{return Re.attachment}},De=()=>{Re.attachment&&window.open(Re.attachment,"_blank")};return M?a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsx("div",{className:"flex-1 flex flex-col overflow-hidden",children:a.jsx("div",{className:"flex items-center justify-center h-full",children:a.jsxs("div",{className:"text-center",children:[a.jsx(mn,{className:"animate-spin h-12 w-12 text-blue-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Memuat data work order..."})]})})})]}):a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Edit Assignment",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:a.jsx(fn,{}),isMobile:y,toggleSidebar:qe}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Update Work Order"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Perbarui status dan penanganan work order"})]}),a.jsxs(O.button,{onClick:()=>c("/workorders/it/assignment"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(hd,{className:"text-lg"})," Back to Assignment"]})]}),a.jsxs(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[z&&a.jsxs(O.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:z}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(Ft,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>Y(null)})})]}),a.jsxs("form",{onSubmit:Te,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(Cr,{className:"mr-2 text-blue-500"})," General Information"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:a.jsx("span",{children:Re.date})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reception Method"}),a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:a.jsx("span",{children:Re.reception_method})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Requester"}),a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:a.jsx("span",{children:Ge()})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department"}),a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:a.jsx("span",{children:ut()})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Known By (Head)"}),a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:a.jsx("span",{children:Pe()})})]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(Ll,{className:"mr-2 text-green-500"})," Service Details"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Service Type"}),a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:a.jsx("span",{children:Ne()})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Service"}),a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:a.jsx("span",{children:ze()})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"No. Asset"}),a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:a.jsx("span",{children:Re.asset_no})})]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(Rx,{className:"mr-2 text-purple-500"})," Device & Complaint Details"]}),a.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Device Information"}),a.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:a.jsx("span",{children:Re.device_info})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Complaint"}),a.jsx(bt,{content:Re.complaint,className:"min-h-[100px]"})]})]})]}),Re.attachment&&a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(yc,{className:"mr-2 text-gray-500"})," Attachment"]}),a.jsxs("div",{className:"flex items-center justify-between p-2.5 border border-gray-300 rounded-lg bg-gray-50",children:[a.jsx("span",{className:"text-gray-700",children:me()}),a.jsx(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:De,className:"ml-4 px-3 py-1 bg-blue-600 text-white text-sm rounded-md hover:bg-blue-700 transition-colors",children:"View"})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(fr,{className:"mr-2 text-blue-500"})," Handling Information"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"received_by_id",className:"block text-sm font-medium text-gray-700 mb-1",children:"Received By"}),a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-blue-50 text-gray-700",children:a.jsx("span",{children:(e==null?void 0:e.name)||"Current User"})})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"handling_date",className:"block text-sm font-medium text-gray-700 mb-1",children:["Handling Date ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"date",id:"handling_date",name:"handling_date",value:Re.handling_date||"",onChange:tt,required:!0,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700"})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"handling_status",className:"block text-sm font-medium text-gray-700 mb-1",children:["Ticket Status ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(un,{id:"handling_status",name:"handling_status",options:[{value:"New",label:"New"},{value:"In Progress",label:"In Progress"},{value:"Escalated",label:"Escalated"},{value:"Vendor Handled",label:"Vendor Handled"},{value:"Resolved",label:"Resolved"}],value:Re.handling_status?{value:Re.handling_status,label:Re.handling_status}:null,onChange:ve=>tt(ve,"handling_status"),placeholder:"Select Handling Status",styles:Je,required:!0})]}),ce&&a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"assigned_to_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Assigned To ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(un,{id:"assigned_to_id",name:"assigned_to_id",options:f.map(ve=>({value:String(ve.id),label:ve.name})),value:Re.assigned_to_id?{value:String(Re.assigned_to_id),label:((We=f.find(ve=>parseInt(ve.id)===Re.assigned_to_id))==null?void 0:We.name)||"Unknown"}:null,onChange:ve=>tt(ve,"assigned_to_id"),placeholder:"Select Assignee",styles:Je,required:ce})]}),Ce&&a.jsxs("div",{className:"md:col-span-2 bg-gray-50 p-4 rounded-lg border border-gray-200",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(Ll,{className:"mr-2 text-gray-600"})," Vendor Information"]}),fe?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h4",{className:"font-semibold text-gray-800",children:"Selected Vendor"}),a.jsx(O.button,{type:"button",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ye(null),Me(ve=>({...ve,vendor_id:null})),se(!1)},className:"px-2 py-1 bg-red-100 text-red-700 text-sm rounded-md hover:bg-red-200 transition-colors",children:"Change Vendor"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Vendor Name"}),a.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:fe.name})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Person"}),a.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:fe.contact_person})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),a.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:fe.address||"-"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),a.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:fe.email})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),a.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:fe.telp||"-"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mobile"}),a.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:fe.HP||"-"})]})]})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Select Vendor ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(O.button,{type:"button",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>se(!ae),className:"px-3 py-1 bg-gray-600 text-white text-sm rounded-md hover:bg-gray-700 transition-colors",children:ae?"Hide Vendors":"Select Vendor"})]}),ae&&a.jsx("div",{className:"border border-gray-200 rounded-lg bg-white max-h-60 overflow-y-auto",children:ke.length>0?ke.map(ve=>a.jsxs(O.div,{whileHover:{backgroundColor:"rgba(0, 0, 0, 0.05)"},className:"p-3 border-b border-gray-100 cursor-pointer transition-colors",onClick:()=>Ve(ve),children:[a.jsx("div",{className:"font-medium text-gray-900",children:ve.name}),a.jsxs("div",{className:"text-sm text-gray-600",children:[ve.contact_person," • ",ve.email]}),a.jsx("div",{className:"text-xs text-gray-500",children:ve.address})]},ve.id)):a.jsxs("div",{className:"p-4 text-center text-gray-600",children:[a.jsx(Hr,{className:"mx-auto h-6 w-6 mb-2"}),"No vendors available"]})})]})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsxs("label",{htmlFor:"action_taken",className:"block text-sm font-medium text-gray-700 mb-1",children:["Action Taken ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Lf,{value:Re.action_taken||"",onChange:ve=>{Me(xe=>({...xe,action_taken:ve}))}})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsxs("label",{htmlFor:"remarks",className:"block text-sm font-medium text-gray-700 mb-1",children:["Remarks ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Lf,{value:Re.remarks||"",onChange:ve=>{Me(xe=>({...xe,remarks:ve}))}})]})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsxs(O.button,{type:"button",onClick:()=>c("/workorders/it/assignment"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",children:[a.jsx(hn,{className:"mr-2 h-5 w-5"})," Cancel"]}),a.jsx(O.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},disabled:F,className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed",children:F?a.jsxs(a.Fragment,{children:[a.jsx(mn,{className:"animate-spin mr-2 h-5 w-5"}),"Updating..."]}):a.jsxs(a.Fragment,{children:[a.jsx(vn,{className:"mr-2 h-5 w-5"})," Update Work Order"]})})]})]})]})]})]}),a.jsx(DHe,{isOpen:q,onClose:le,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(fr,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center mb-2",children:W==null?void 0:W.message}),a.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Work Order Number: ",(rt=W==null?void 0:W.work_order)==null?void 0:rt.work_order_no]}),a.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:le,className:"mt-6 px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold",children:"Go to Work Orders"})]})})]})},LHe=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(O.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(Ft,{size:24})})]}),a.jsx("div",{children:n})]})}):null,RHe=()=>{const{id:t}=si(),[e,r]=b.useState(window.innerWidth<768),[n,s]=b.useState([]),[i,o]=b.useState(),{getActivity:l,updateActivity:c,getActivityById:u}=or(),[f,h]=b.useState(()=>{const M=localStorage.getItem("sidebarOpen");return M?JSON.parse(M):!1}),[g,p]=b.useState(null),[v,w]=b.useState(null),[y,N]=b.useState(!1),[k,S]=b.useState(!1),T=tr(),[_,D]=b.useState({name:"",description:""}),E=()=>{h(M=>!M)};b.useEffect(()=>{i&&D({name:i.name||"",description:i.description||""})},[i]);const L=M=>{const{name:B,value:z}=M.target;D(Y=>({...Y,[B]:B==="sla"?Number(z):z}))},R=b.useCallback(async()=>{try{if(t){const[M]=await Promise.all([u(t)]);o(M)}}catch(M){p(M.message||"Failed to load form data")}},[t,u]);b.useEffect(()=>{t&&R()},[t,R]);const F=async M=>{M.preventDefault(),S(!0),p(null);try{const B={name:_.name,description:_.description};await c(t,B),w("Activity update successfully!"),N(!0)}catch(B){p(B.message||"Failed to update Activity")}finally{S(!1)}},A=()=>{N(!1),T("/maintenanceactivity/activity")};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Edit Activity",mainTitleHighlight:"Management",description:"blablablabl",icon:a.jsx(hc,{}),isMobile:e,toggleSidebar:E}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[a.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Activity"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Update Activity information"})]}),a.jsxs(O.button,{onClick:()=>T("/maintenanceactivity/activity"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(hn,{className:"text-lg"})," Back to Activity Management"]})]}),a.jsxs(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[g&&a.jsxs(O.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:g}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(Ft,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>p(null)})})]}),a.jsxs("form",{onSubmit:F,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Activity Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Activity Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"name",id:"name",value:_.name,onChange:L,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"description",id:"description",value:_.description,onChange:L,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsx(O.button,{type:"button",onClick:()=>T("/maintenanceactivity/activity"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),a.jsx(O.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:k,children:k?a.jsxs(a.Fragment,{children:[a.jsx(mn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(vn,{className:"mr-2 h-5 w-5"})," Save Activity"]})})]})]})]})]})]}),a.jsx(LHe,{isOpen:y,onClose:A,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(fr,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:v}),a.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:A,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Activity Management"})]})})]})},IHe=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(O.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(Ft,{size:24})})]}),a.jsx("div",{children:n})]})}):null,FHe=()=>{const[t,e]=b.useState(window.innerWidth<768),[r,n]=b.useState([]),[s,i]=b.useState([]),{addActivity:o,getActivity:l}=or(),[c,u]=b.useState(()=>{const F=localStorage.getItem("sidebarOpen");return F?JSON.parse(F):!1}),[f,h]=b.useState(null),[g,p]=b.useState(null),[v,w]=b.useState(!1),[y,N]=b.useState(!1),k=tr(),[S,T]=b.useState({name:"",description:""}),_=()=>{u(F=>!F)},D=F=>{const{name:A,value:M}=F.target;T(B=>({...B,[A]:A==="sla"?Number(M):M}))},E=b.useCallback(async()=>{try{const[F]=await Promise.all([l()]);n(F)}catch(F){h(F.message||"Failed to load form data")}},[l]);b.useEffect(()=>{E()},[E]);const L=async F=>{F.preventDefault(),N(!0),h(null);try{const A={name:S.name,description:S.description};await o(A),p("Activity created successfully!"),w(!0)}catch(A){h(A.message||"Failed to create Activity")}finally{N(!1)}},R=()=>{w(!1),k("/maintenanceactivity/activity")};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Create Activity",mainTitleHighlight:"Management",description:"blablablabl",icon:a.jsx(hc,{}),isMobile:t,toggleSidebar:_}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[a.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Activity"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Add a new Activity information"})]}),a.jsxs(O.button,{onClick:()=>k("/maintenanceactivity/activity"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(hn,{className:"text-lg"})," Back to Activity Management"]})]}),a.jsxs(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[f&&a.jsxs(O.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:f}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(Ft,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>h(null)})})]}),a.jsxs("form",{onSubmit:L,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Activity Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Activity Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"name",id:"name",value:S.name,onChange:D,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"description",id:"description",value:S.description,onChange:D,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsx(O.button,{type:"button",onClick:()=>k("/maintenanceactivity/activity"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),a.jsx(O.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:y,children:y?a.jsxs(a.Fragment,{children:[a.jsx(mn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(vn,{className:"mr-2 h-5 w-5"})," Save Activity"]})})]})]})]})]})]}),a.jsx(IHe,{isOpen:v,onClose:R,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(fr,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:g}),a.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:R,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Activity Management"})]})})]})},BHe=({isOpen:t,onClose:e,title:r,children:n,className:s})=>a.jsx(ar,{children:t&&a.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:a.jsxs(O.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${s||"max-w-xl w-full"}`,children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:r}),a.jsx("button",{onClick:e,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:a.jsx(Ft,{className:"text-xl"})})]}),a.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:n})]})})}),$He=({title:t,value:e,change:r,icon:n})=>{const s=r.startsWith("+");return a.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),a.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),a.jsxs("p",{className:`mt-3 text-xs font-semibold ${s?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})},HHe=()=>{const[t,e]=b.useState([]),{getActivity:r,deleteActivity:n}=or(),[s,i]=b.useState(!0),[o,l]=b.useState(null),[c,u]=b.useState(""),[f,h]=b.useState(!1),[g,p]=b.useState(null),[v,w]=b.useState(!1),[y]=b.useState(window.innerWidth<768),[N,k]=b.useState(()=>{const H=localStorage.getItem("sidebarOpen");return H?JSON.parse(H):!1}),S=tr(),T=b.useRef(null),[_,D]=b.useState(!1),E=b.useMemo(()=>[{id:"activity",name:"Activity"},{id:"description",name:"Description"}],[]),L=b.useCallback(async()=>{try{i(!0);const q=[...await r()].sort((X,oe)=>X.id-oe.id);e(q)}catch(H){l("Failed to load activities"),console.error("Error loading activities:",H)}finally{i(!1)}},[r]);b.useEffect(()=>{L()},[L]);const R=()=>{const H=!N;k(H),localStorage.setItem("sidebarOpen",JSON.stringify(H))},F=()=>{alert("Import functionality is not yet implemented.")},A=H=>{const q=H.target.value;u(q)},M=b.useMemo(()=>{if(!c)return E;const H=c.toLowerCase();return E.filter(q=>q.name.toLowerCase().includes(H))},[c,E]),B=H=>{var q;u(`${H}: `),D(!1),(q=T.current)==null||q.focus()},z=b.useMemo(()=>{if(!c.trim())return t;const H=c.toLowerCase().trim(),q=H.split(":");let X="all",oe=H;return q.length>1&&E.some(K=>K.name.toLowerCase()===q[0].trim())&&(X=q[0].trim(),oe=q.slice(1).join(":").trim()),t.filter(K=>{var Q,re;const V=(Q=K.name)==null?void 0:Q.toLowerCase().includes(oe),J=(re=K.description)==null?void 0:re.toLowerCase().includes(oe);return X==="activity"?V:X==="description"?J:V||J})},[t,c,E]),Y=async H=>{try{await n(H),e(t.filter(q=>q.id!==H)),h(!1),p(null)}catch(q){console.error("Failed to delete activity:",q),l("Failed to delete activity. Please try again.")}},W=b.useCallback(H=>{p(H),h(!0)},[]);return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Activity",mainTitleHighlight:"Page",description:"Manage activities and their configurations within the system.",icon:a.jsx(hc,{}),isMobile:y,toggleSidebar:R}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Activity ",a.jsx("span",{className:"text-blue-600",children:"Management"})]}),a.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Organize and manage activities by specific company requirements."})]}),a.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[a.jsxs(O.button,{onClick:()=>S("/maintenanceactivity/activity/addactivity"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[a.jsx(pa,{className:"text-base"}),a.jsx("span",{children:"Add Activity"})]}),a.jsxs(O.button,{onClick:F,whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(ni,{className:"text-base"}),a.jsx("span",{children:"Import"})]}),a.jsxs(O.button,{onClick:()=>w(!v),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(Ki,{className:"text-base"}),a.jsx("span",{children:"Filters"}),a.jsx(O.span,{animate:{rotate:v?180:0},transition:{duration:.2},children:a.jsx(la,{className:"text-base"})})]})]})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:a.jsx($He,{title:"Total Activities",value:t.length.toString(),change:`+${Math.floor(t.length/10*100)}%`,icon:a.jsx(hc,{className:"w-6 h-6"})})}),a.jsxs(O.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[a.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Da,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),a.jsx("input",{ref:T,type:"text",placeholder:"Search by activity or description...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:c,onChange:A,onFocus:()=>D(!0),"aria-label":"Search activities"}),a.jsx(ar,{children:_&&M.length>0&&a.jsx(O.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.15},className:"search-suggestions absolute left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-10 max-h-56 overflow-y-auto custom-scrollbar",children:M.map(H=>a.jsx(O.button,{onClick:()=>B(H.name),whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},className:"w-full text-left p-3 text-gray-700 hover:text-blue-700 transition-colors duration-150 text-sm",role:"option",children:a.jsx("span",{className:"font-semibold",children:H.name})},H.id))})})]})}),a.jsx(ar,{children:v&&a.jsx(O.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full"})})]}),s?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),a.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading activity data..."})]}):z.length===0?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("p",{className:"text-gray-700 text-base font-medium",children:c?"No activities found matching your search.":"No activities available."}),c&&a.jsx("button",{onClick:()=>u(""),className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear Search"})]}):a.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:a.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:a.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[a.jsx("thead",{className:"bg-blue-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Activity"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Description"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:z.map((H,q)=>a.jsxs(O.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:q+1})}),a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:H.name})}),a.jsx("td",{className:"px-5 py-3",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:H.description||"-"})}),a.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[a.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>S(`/maintenanceactivity/activity/editactivity/${H.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit",children:a.jsx(Ba,{className:"inline text-base"})}),a.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>W(H.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:a.jsx(In,{className:"inline text-base"})})]})]},H.id))})]})})})]})]}),a.jsx(BHe,{isOpen:f,onClose:()=>h(!1),title:"Confirm Deletion",children:a.jsxs("div",{className:"space-y-5 text-center py-3",children:[a.jsx(Hr,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),a.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this activity? This action cannot be undone."}),a.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[a.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>h(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),a.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>g&&Y(g),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})]})},zHe=({isOpen:t,onClose:e,title:r,children:n,className:s})=>a.jsx(ar,{children:t&&a.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4 backdrop-blur-sm",children:a.jsxs(O.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${s||"max-w-xl w-full"}`,children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:r}),a.jsx("button",{onClick:e,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:a.jsx(Ft,{className:"text-xl"})})]}),a.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:n})]})})}),qHe=({title:t,value:e,change:r,icon:n})=>{const s=r.startsWith("+");return a.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),a.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),a.jsxs("p",{className:`mt-3 text-xs font-semibold ${s?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})},UHe=()=>{const[t,e]=b.useState([]),{getTroubleItem:r,deleteTroubleItem:n}=or(),[s,i]=b.useState(!0),[o,l]=b.useState(null),[c,u]=b.useState(""),[f,h]=b.useState(!1),[g,p]=b.useState(null),[v,w]=b.useState(!1),[y]=b.useState(window.innerWidth<768),[N,k]=b.useState(()=>{const H=localStorage.getItem("sidebarOpen");return H?JSON.parse(H):!1}),S=tr(),T=b.useRef(null),[_,D]=b.useState(!1),E=b.useMemo(()=>[{id:"troubleitem",name:"Trouble Item"},{id:"description",name:"Description"}],[]),L=b.useCallback(async()=>{try{i(!0);const q=[...await r()].sort((X,oe)=>X.id-oe.id);e(q)}catch(H){l("Failed to load trouble items"),console.error("Error loading trouble items:",H)}finally{i(!1)}},[r]);b.useEffect(()=>{L()},[L]);const R=()=>{const H=!N;k(H),localStorage.setItem("sidebarOpen",JSON.stringify(H))},F=()=>{alert("Import functionality is not yet implemented.")},A=H=>{const q=H.target.value;u(q)},M=b.useMemo(()=>{if(!c)return E;const H=c.toLowerCase();return E.filter(q=>q.name.toLowerCase().includes(H))},[c,E]),B=H=>{var q;u(`${H}: `),D(!1),(q=T.current)==null||q.focus()},z=b.useMemo(()=>{if(!c.trim())return t;const H=c.toLowerCase().trim(),q=H.split(":");let X="all",oe=H;return q.length>1&&E.some(K=>K.name.toLowerCase()===q[0].trim())&&(X=q[0].trim(),oe=q.slice(1).join(":").trim()),t.filter(K=>{var Q,re;const V=(Q=K.name)==null?void 0:Q.toLowerCase().includes(oe),J=(re=K.description)==null?void 0:re.toLowerCase().includes(oe);return X==="trouble item"?V:X==="description"?J:V||J})},[t,c,E]),Y=async H=>{try{await n(H),e(t.filter(q=>q.id!==H)),h(!1),p(null)}catch(q){console.error("Failed to delete trouble item:",q),l("Failed to delete trouble item. Please try again.")}},W=b.useCallback(H=>{p(H),h(!0)},[]);return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Trouble Item",mainTitleHighlight:"Page",description:"Manage trouble items and their configurations within the system.",icon:a.jsx(Hr,{}),isMobile:y,toggleSidebar:R}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Trouble Item ",a.jsx("span",{className:"text-blue-600",children:"Management"})]}),a.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Organize and manage trouble items by specific company requirements."})]}),a.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[a.jsxs(O.button,{onClick:()=>S("/maintenanceactivity/troubleitem/addtroubleitem"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[a.jsx(pa,{className:"text-base"}),a.jsx("span",{children:"Add Trouble Item"})]}),a.jsxs(O.button,{onClick:F,whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(ni,{className:"text-base"}),a.jsx("span",{children:"Import"})]}),a.jsxs(O.button,{onClick:()=>w(!v),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(Ki,{className:"text-base"}),a.jsx("span",{children:"Filters"}),a.jsx(O.span,{animate:{rotate:v?180:0},transition:{duration:.2},children:a.jsx(la,{className:"text-base"})})]})]})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:a.jsx(qHe,{title:"Total Trouble Items",value:t.length.toString(),change:`+${Math.floor(t.length/10*100)}%`,icon:a.jsx(Hr,{className:"w-6 h-6"})})}),a.jsxs(O.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[a.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Da,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),a.jsx("input",{ref:T,type:"text",placeholder:"Search by trouble item or description...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:c,onChange:A,onFocus:()=>D(!0),"aria-label":"Search trouble items"}),a.jsx(ar,{children:_&&M.length>0&&a.jsx(O.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.15},className:"search-suggestions absolute left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-10 max-h-56 overflow-y-auto custom-scrollbar",children:M.map(H=>a.jsx(O.button,{onClick:()=>B(H.name),whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},className:"w-full text-left p-3 text-gray-700 hover:text-blue-700 transition-colors duration-150 text-sm",role:"option",children:a.jsx("span",{className:"font-semibold",children:H.name})},H.id))})})]})}),a.jsx(ar,{children:v&&a.jsx(O.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full"})})]}),s?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),a.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading trouble item data..."})]}):z.length===0?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("p",{className:"text-gray-700 text-base font-medium",children:c?"No trouble items found matching your search.":"No trouble items available."}),c&&a.jsx("button",{onClick:()=>u(""),className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear Search"})]}):a.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:a.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:a.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[a.jsx("thead",{className:"bg-blue-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Trouble Item"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Description"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:z.map((H,q)=>a.jsxs(O.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:q+1})}),a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:H.name})}),a.jsx("td",{className:"px-5 py-3",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:H.description||"-"})}),a.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[a.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>S(`/maintenanceactivity/troubleitem/edittroubleitem/${H.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit",children:a.jsx(Ba,{className:"inline text-base"})}),a.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>W(H.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:a.jsx(In,{className:"inline text-base"})})]})]},H.id))})]})})})]})]}),a.jsx(zHe,{isOpen:f,onClose:()=>h(!1),title:"Confirm Deletion",children:a.jsxs("div",{className:"space-y-5 text-center py-3",children:[a.jsx(Hr,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),a.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this trouble item? This action cannot be undone."}),a.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[a.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>h(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),a.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>g&&Y(g),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})]})},WHe=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(O.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(Ft,{size:24})})]}),a.jsx("div",{children:n})]})}):null,BV=()=>{const[t,e]=b.useState(window.innerWidth<768),[r,n]=b.useState([]),[s,i]=b.useState([]),{addTroubleItem:o,getTroubleItem:l}=or(),[c,u]=b.useState(()=>{const F=localStorage.getItem("sidebarOpen");return F?JSON.parse(F):!1}),[f,h]=b.useState(null),[g,p]=b.useState(null),[v,w]=b.useState(!1),[y,N]=b.useState(!1),k=tr(),[S,T]=b.useState({name:"",description:""}),_=()=>{u(F=>!F)},D=F=>{const{name:A,value:M}=F.target;T(B=>({...B,[A]:A==="sla"?Number(M):M}))},E=b.useCallback(async()=>{try{const[F]=await Promise.all([l()]);n(F)}catch(F){h(F.message||"Failed to load form data")}},[l]);b.useEffect(()=>{E()},[E]);const L=async F=>{F.preventDefault(),N(!0),h(null);try{const A={name:S.name,description:S.description};await o(A),p("Trouble Item created successfully!"),w(!0)}catch(A){h(A.message||"Failed to create Trouble Item")}finally{N(!1)}},R=()=>{w(!1),k("/maintenanceactivity/troubleitem")};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Create Trouble Item",mainTitleHighlight:"Management",description:"blablablabl",icon:a.jsx(Hr,{}),isMobile:t,toggleSidebar:_}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[a.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Trouble Item"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Add a new Trouble Item information"})]}),a.jsxs(O.button,{onClick:()=>k("/maintenanceactivity/troubleitem"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(hn,{className:"text-lg"})," Back to Trouble Item Management"]})]}),a.jsxs(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[f&&a.jsxs(O.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:f}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(Ft,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>h(null)})})]}),a.jsxs("form",{onSubmit:L,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Trouble Item Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Trouble Item Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"name",id:"name",value:S.name,onChange:D,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"description",id:"description",value:S.description,onChange:D,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsx(O.button,{type:"button",onClick:()=>k("/maintenanceactivity/troubleitem"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),a.jsx(O.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:y,children:y?a.jsxs(a.Fragment,{children:[a.jsx(mn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(vn,{className:"mr-2 h-5 w-5"})," Save Trouble Item"]})})]})]})]})]})]}),a.jsx(WHe,{isOpen:v,onClose:R,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(fr,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:g}),a.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:R,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Trouble Item Management"})]})})]})},VHe=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(O.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(Ft,{size:24})})]}),a.jsx("div",{children:n})]})}):null,GHe=()=>{const[t,e]=b.useState(window.innerWidth<768),[r,n]=b.useState([]),[s,i]=b.useState([]),{addWorkUnit:o,getWorkUnit:l}=or(),[c,u]=b.useState(()=>{const F=localStorage.getItem("sidebarOpen");return F?JSON.parse(F):!1}),[f,h]=b.useState(null),[g,p]=b.useState(null),[v,w]=b.useState(!1),[y,N]=b.useState(!1),k=tr(),[S,T]=b.useState({name:"",is_production:"",description:""}),_=()=>{u(F=>!F)},D=F=>{const{name:A,value:M}=F.target;T(B=>({...B,[A]:A==="sla"?Number(M):M}))},E=b.useCallback(async()=>{try{const[F]=await Promise.all([l()]);n(F)}catch(F){h(F.message||"Failed to load form data")}},[l]);b.useEffect(()=>{E()},[E]);const L=async F=>{F.preventDefault(),N(!0),h(null);try{const A={name:S.name,is_production:S.is_production,description:S.description};await o(A),p("Work Unit created successfully!"),w(!0)}catch(A){h(A.message||"Failed to create Work Unit")}finally{N(!1)}},R=()=>{w(!1),k("/worklocation/workunit")};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Create Work Unit",mainTitleHighlight:"Management",description:"blablablabl",icon:a.jsx(Cg,{}),isMobile:t,toggleSidebar:_}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[a.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Work Unit"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Add a new Work Unit information"})]}),a.jsxs(O.button,{onClick:()=>k("/worklocation/workunit"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(hn,{className:"text-lg"})," Back to Work Unit Management"]})]}),a.jsxs(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[f&&a.jsxs(O.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:f}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(Ft,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>h(null)})})]}),a.jsxs("form",{onSubmit:L,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Work Unit Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Work Unit Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"name",id:"name",value:S.name,onChange:D,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"is_production",className:"block text-sm font-medium text-gray-700 mb-1",children:["Zone ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{name:"is_production",id:"is_production",value:S.is_production,onChange:D,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0,children:[a.jsx("option",{value:"Production",children:"Production"}),a.jsx("option",{value:"Not Production",children:"Not Production"})]})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Lf,{value:S.description,onChange:F=>{T(A=>({...A,description:F}))}})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsx(O.button,{type:"button",onClick:()=>k("/worklocation/workunit"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),a.jsx(O.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:y,children:y?a.jsxs(a.Fragment,{children:[a.jsx(mn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(vn,{className:"mr-2 h-5 w-5"})," Save Work Unit"]})})]})]})]})]})]}),a.jsx(VHe,{isOpen:v,onClose:R,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(fr,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:g}),a.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:R,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Work Unit Management"})]})})]})},YHe=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(O.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(Ft,{size:24})})]}),a.jsx("div",{children:n})]})}):null,KHe=()=>{const{id:t}=si(),[e,r]=b.useState(window.innerWidth<768),[n,s]=b.useState([]),[i,o]=b.useState(),{getWorkUnit:l,updateWorkUnit:c,getWorkUnitById:u}=or(),[f,h]=b.useState(()=>{const M=localStorage.getItem("sidebarOpen");return M?JSON.parse(M):!1}),[g,p]=b.useState(null),[v,w]=b.useState(null),[y,N]=b.useState(!1),[k,S]=b.useState(!1),T=tr(),[_,D]=b.useState({name:"",is_production:"",description:""}),E=()=>{h(M=>!M)};b.useEffect(()=>{i&&D({name:i.name||"",is_production:i.is_production||"",description:i.description||""})},[i]);const L=M=>{const{name:B,value:z}=M.target;D(Y=>({...Y,[B]:B==="sla"?Number(z):z}))},R=b.useCallback(async()=>{try{if(t){const[M]=await Promise.all([u(t)]);o(M)}}catch(M){p(M.message||"Failed to load form data")}},[t,u]);b.useEffect(()=>{t&&R()},[t,R]);const F=async M=>{M.preventDefault(),S(!0),p(null);try{const B={name:_.name,is_production:_.is_production,description:_.description};await c(t,B),w("Work Unit update successfully!"),N(!0)}catch(B){p(B.message||"Failed to update Work Unit")}finally{S(!1)}},A=()=>{N(!1),T("/worklocation/workunit")};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Edit Work Unit",mainTitleHighlight:"Management",description:"blablablabl",icon:a.jsx(Cg,{}),isMobile:e,toggleSidebar:E}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[a.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Work Unit"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Update Work Unit information"})]}),a.jsxs(O.button,{onClick:()=>T("/worklocation/workunit"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(hn,{className:"text-lg"})," Back to Work Unit Management"]})]}),a.jsxs(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[g&&a.jsxs(O.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:g}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(Ft,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>p(null)})})]}),a.jsxs("form",{onSubmit:F,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Work Unit Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Work Unit Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"name",id:"name",value:_.name,onChange:L,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"is_production",className:"block text-sm font-medium text-gray-700 mb-1",children:["Zone ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{name:"is_production",id:"is_production",value:_.is_production,onChange:L,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0,children:[a.jsx("option",{value:"Production",children:"Production"}),a.jsx("option",{value:"Not Production",children:"Not Production"})]})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"description",id:"description",value:_.description,onChange:L,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsx(O.button,{type:"button",onClick:()=>T("/worklocation/workunit"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),a.jsx(O.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:k,children:k?a.jsxs(a.Fragment,{children:[a.jsx(mn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(vn,{className:"mr-2 h-5 w-5"})," Save Work Unit"]})})]})]})]})]})]}),a.jsx(YHe,{isOpen:y,onClose:A,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(fr,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:v}),a.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:A,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Work Unit Management"})]})})]})},JHe=({isOpen:t,onClose:e,title:r,children:n,className:s})=>a.jsx(ar,{children:t&&a.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:a.jsxs(O.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${s||"max-w-xl w-full"}`,children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:r}),a.jsx("button",{onClick:e,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:a.jsx(Ft,{className:"text-xl"})})]}),a.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:n})]})})}),$V=({title:t,value:e,change:r,icon:n})=>{const s=r.startsWith("+");return a.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),a.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),a.jsxs("p",{className:`mt-3 text-xs font-semibold ${s?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})},XHe=()=>{const[t,e]=b.useState([]),{getWorkUnit:r,deleteWorkUnit:n}=or(),[s,i]=b.useState(!0),[o,l]=b.useState(null),[c,u]=b.useState(""),[f,h]=b.useState(!1),[g,p]=b.useState(null),[v,w]=b.useState(!1),[y]=b.useState(window.innerWidth<768),[N,k]=b.useState(()=>{const H=localStorage.getItem("sidebarOpen");return H?JSON.parse(H):!1}),S=tr(),T=b.useRef(null),[_,D]=b.useState(!1),E=b.useMemo(()=>[{id:"workunit",name:"Work Unit"},{id:"description",name:"Description"}],[]),L=b.useCallback(async()=>{try{i(!0);const q=[...await r()].sort((X,oe)=>X.id-oe.id);e(q)}catch(H){l("Failed to load work units"),console.error("Error loading work units:",H)}finally{i(!1)}},[r]);b.useEffect(()=>{L()},[L]);const R=()=>{const H=!N;k(H),localStorage.setItem("sidebarOpen",JSON.stringify(H))},F=()=>{alert("Import functionality is not yet implemented.")},A=H=>{const q=H.target.value;u(q)},M=b.useMemo(()=>{if(!c)return E;const H=c.toLowerCase();return E.filter(q=>q.name.toLowerCase().includes(H))},[c,E]),B=H=>{var q;u(`${H}: `),D(!1),(q=T.current)==null||q.focus()},z=b.useMemo(()=>{if(!c.trim())return t;const H=c.toLowerCase().trim(),q=H.split(":");let X="all",oe=H;return q.length>1&&E.some(K=>K.name.toLowerCase()===q[0].trim())&&(X=q[0].trim(),oe=q.slice(1).join(":").trim()),t.filter(K=>{var Q,re;const V=(Q=K.name)==null?void 0:Q.toLowerCase().includes(oe),J=(re=K.description)==null?void 0:re.toLowerCase().includes(oe);return X==="work unit"?V:X==="description"?J:V||J})},[t,c,E]),Y=async H=>{try{await n(H),e(t.filter(q=>q.id!==H)),h(!1),p(null)}catch(q){console.error("Failed to delete work unit:",q),l("Failed to delete work unit. Please try again.")}},W=b.useCallback(H=>{p(H),h(!0)},[]);return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Work Unit",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:a.jsx(Cg,{}),isMobile:y,toggleSidebar:R}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Work Unit ",a.jsx("span",{className:"text-blue-600",children:"Management"})]}),a.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Organize and manage work units by specific company requirements."})]}),a.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[a.jsxs(O.button,{onClick:()=>S("/worklocation/workunit/addworkunit"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[a.jsx(pa,{className:"text-base"}),a.jsx("span",{children:"Add Work Unit"})]}),a.jsxs(O.button,{onClick:F,whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(ni,{className:"text-base"}),a.jsx("span",{children:"Import"})]}),a.jsxs(O.button,{onClick:()=>w(!v),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(Ki,{className:"text-base"}),a.jsx("span",{children:"Filters"}),a.jsx(O.span,{animate:{rotate:v?180:0},transition:{duration:.2},children:a.jsx(la,{className:"text-base"})})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[a.jsx($V,{title:"Total Work Units",value:t.length.toString(),change:`+${Math.floor(t.length/10*100)}%`,icon:a.jsx(Cg,{className:"w-6 h-6"})}),a.jsx($V,{title:"Production Units",value:t.filter(H=>String(H.is_production)==="1").length.toString(),change:`+${Math.floor(t.filter(H=>String(H.is_production)==="1").length/t.length*100)}%`,icon:a.jsx(Cg,{className:"w-6 h-6"})})]}),a.jsxs(O.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[a.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Da,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),a.jsx("input",{ref:T,type:"text",placeholder:"Search by work unit or description...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:c,onChange:A,onFocus:()=>D(!0),"aria-label":"Search work units"}),a.jsx(ar,{children:_&&M.length>0&&a.jsx(O.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.15},className:"search-suggestions absolute left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-10 max-h-56 overflow-y-auto custom-scrollbar",children:M.map(H=>a.jsx(O.button,{onClick:()=>B(H.name),whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},className:"w-full text-left p-3 text-gray-700 hover:text-blue-700 transition-colors duration-150 text-sm",role:"option",children:a.jsx("span",{className:"font-semibold",children:H.name})},H.id))})})]})}),a.jsx(ar,{children:v&&a.jsx(O.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full"})})]}),s?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),a.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading work unit data..."})]}):z.length===0?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("p",{className:"text-gray-700 text-base font-medium",children:c?"No work units found matching your search.":"No work units available."}),c&&a.jsx("button",{onClick:()=>u(""),className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear Search"})]}):a.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:a.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:a.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[a.jsx("thead",{className:"bg-blue-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Work Unit"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Production?"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Description"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:z.map((H,q)=>a.jsxs(O.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:q+1})}),a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:H.name})}),a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:String(H.is_production)==="1"?"Yes":"No"})}),a.jsx("td",{className:"px-5 py-3",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:H.description||"-"})}),a.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[a.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>S(`/worklocation/workunit/editworkunit/${H.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit",children:a.jsx(Ba,{className:"inline text-base"})}),a.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>W(H.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:a.jsx(In,{className:"inline text-base"})})]})]},H.id))})]})})})]})]}),a.jsx(JHe,{isOpen:f,onClose:()=>h(!1),title:"Confirm Deletion",children:a.jsxs("div",{className:"space-y-5 text-center py-3",children:[a.jsx(Hr,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),a.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this work unit? This action cannot be undone."}),a.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[a.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>h(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),a.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>g&&Y(g),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})]})},QHe=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(O.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(Ft,{size:24})})]}),a.jsx("div",{children:n})]})}):null,HV=()=>{const{id:t}=si(),[e,r]=b.useState(window.innerWidth<768),[n,s]=b.useState([]),[i,o]=b.useState(),{getWorkGroup:l,updateWorkGroup:c,getWorkGroupById:u}=or(),[f,h]=b.useState(()=>{const M=localStorage.getItem("sidebarOpen");return M?JSON.parse(M):!1}),[g,p]=b.useState(null),[v,w]=b.useState(null),[y,N]=b.useState(!1),[k,S]=b.useState(!1),T=tr(),[_,D]=b.useState({name:"",description:""}),E=()=>{h(M=>!M)};b.useEffect(()=>{i&&D({name:i.name||"",description:i.description||""})},[i]);const L=M=>{const{name:B,value:z}=M.target;D(Y=>({...Y,[B]:B==="sla"?Number(z):z}))},R=b.useCallback(async()=>{try{if(t){const[M]=await Promise.all([u(t)]);o(M)}}catch(M){p(M.message||"Failed to load form data")}},[t,u]);b.useEffect(()=>{t&&R()},[t,R]);const F=async M=>{M.preventDefault(),S(!0),p(null);try{const B={name:_.name,description:_.description};await c(t,B),w("Work Group update successfully!"),N(!0)}catch(B){p(B.message||"Failed to update Work Group")}finally{S(!1)}},A=()=>{N(!1),T("/workarrangement/workgroup")};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Edit Work Group",mainTitleHighlight:"Management",description:"blablablabl",icon:a.jsx(Pa,{}),isMobile:e,toggleSidebar:E}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[a.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Work Group"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Update Work Group information"})]}),a.jsxs(O.button,{onClick:()=>T("/workarrangement/workgroup"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(hn,{className:"text-lg"})," Back to Work Group Management"]})]}),a.jsxs(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[g&&a.jsxs(O.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:g}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(Ft,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>p(null)})})]}),a.jsxs("form",{onSubmit:F,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Work Group Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Work Group Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"name",id:"name",value:_.name,onChange:L,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"description",id:"description",value:_.description,onChange:L,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsx(O.button,{type:"button",onClick:()=>T("/workarrangement/workgroup"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),a.jsx(O.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:k,children:k?a.jsxs(a.Fragment,{children:[a.jsx(mn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(vn,{className:"mr-2 h-5 w-5"})," Save Work Group"]})})]})]})]})]})]}),a.jsx(QHe,{isOpen:y,onClose:A,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(fr,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:v}),a.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:A,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Work Group Management"})]})})]})},ZHe=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(O.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(Ft,{size:24})})]}),a.jsx("div",{children:n})]})}):null,zV=()=>{const[t,e]=b.useState(window.innerWidth<768),[r,n]=b.useState([]),[s,i]=b.useState([]),{addWorkGroup:o,getWorkGroup:l}=or(),[c,u]=b.useState(()=>{const F=localStorage.getItem("sidebarOpen");return F?JSON.parse(F):!1}),[f,h]=b.useState(null),[g,p]=b.useState(null),[v,w]=b.useState(!1),[y,N]=b.useState(!1),k=tr(),[S,T]=b.useState({name:"",description:""}),_=()=>{u(F=>!F)},D=F=>{const{name:A,value:M}=F.target;T(B=>({...B,[A]:A==="sla"?Number(M):M}))},E=b.useCallback(async()=>{try{const[F]=await Promise.all([l()]);n(F)}catch(F){h(F.message||"Failed to load form data")}},[l]);b.useEffect(()=>{E()},[E]);const L=async F=>{F.preventDefault(),N(!0),h(null);try{const A={name:S.name,description:S.description};await o(A),p("Work Group created successfully!"),w(!0)}catch(A){h(A.message||"Failed to create Work Group")}finally{N(!1)}},R=()=>{w(!1),k("/maintenanceactivity/activity")};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Create Work Group",mainTitleHighlight:"Management",description:"blablablabl",icon:a.jsx(Pa,{}),isMobile:t,toggleSidebar:_}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[a.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Work Group"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Add a new Work Group information"})]}),a.jsxs(O.button,{onClick:()=>k("/workarrangement/workgroup"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(hn,{className:"text-lg"})," Back to Work Group Management"]})]}),a.jsxs(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[f&&a.jsxs(O.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:f}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(Ft,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>h(null)})})]}),a.jsxs("form",{onSubmit:L,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Work Group Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Work Group Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"name",id:"name",value:S.name,onChange:D,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"description",id:"description",value:S.description,onChange:D,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsx(O.button,{type:"button",onClick:()=>k("/workarrangement/workgroup"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),a.jsx(O.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:y,children:y?a.jsxs(a.Fragment,{children:[a.jsx(mn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(vn,{className:"mr-2 h-5 w-5"})," Save Work Group"]})})]})]})]})]})]}),a.jsx(ZHe,{isOpen:v,onClose:R,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(fr,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:g}),a.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:R,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Work Group Management"})]})})]})},eze=({isOpen:t,onClose:e,title:r,children:n,className:s})=>a.jsx(ar,{children:t&&a.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:a.jsxs(O.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${s||"max-w-xl w-full"}`,children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:r}),a.jsx("button",{onClick:e,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:a.jsx(Ft,{className:"text-xl"})})]}),a.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:n})]})})}),qV=({title:t,value:e,change:r,icon:n})=>{const s=r.startsWith("+");return a.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),a.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),a.jsxs("p",{className:`mt-3 text-xs font-semibold ${s?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})},UV=()=>{const[t,e]=b.useState([]),{getWorkGroup:r,deleteWorkGroup:n}=or(),[s,i]=b.useState(!0),[o,l]=b.useState(null),[c,u]=b.useState(""),[f,h]=b.useState(!1),[g,p]=b.useState(null),[v,w]=b.useState(!1),[y]=b.useState(window.innerWidth<768),[N,k]=b.useState(()=>{const H=localStorage.getItem("sidebarOpen");return H?JSON.parse(H):!1}),S=tr(),T=b.useRef(null),[_,D]=b.useState(!1),E=b.useMemo(()=>[{id:"workgroup",name:"Work Group"},{id:"description",name:"Description"}],[]),L=b.useCallback(async()=>{try{i(!0);const q=[...await r()].sort((X,oe)=>X.id-oe.id);e(q)}catch(H){l("Failed to load work groups"),console.error("Error loading work groups:",H)}finally{i(!1)}},[r]);b.useEffect(()=>{L()},[L]);const R=()=>{const H=!N;k(H),localStorage.setItem("sidebarOpen",JSON.stringify(H))},F=()=>{alert("Import functionality is not yet implemented.")},A=H=>{const q=H.target.value;u(q)},M=b.useMemo(()=>{if(!c)return E;const H=c.toLowerCase();return E.filter(q=>q.name.toLowerCase().includes(H))},[c,E]),B=H=>{var q;u(`${H}: `),D(!1),(q=T.current)==null||q.focus()},z=b.useMemo(()=>{if(!c.trim())return t;const H=c.toLowerCase().trim(),q=H.split(":");let X="all",oe=H;return q.length>1&&E.some(K=>K.name.toLowerCase()===q[0].trim())&&(X=q[0].trim(),oe=q.slice(1).join(":").trim()),t.filter(K=>{var Q,re;const V=(Q=K.name)==null?void 0:Q.toLowerCase().includes(oe),J=(re=K.description)==null?void 0:re.toLowerCase().includes(oe);return X==="work group"?V:X==="description"?J:V||J})},[t,c,E]),Y=async H=>{try{await n(H),e(t.filter(q=>q.id!==H)),h(!1),p(null)}catch(q){console.error("Failed to delete work group:",q),l("Failed to delete work group. Please try again.")}},W=b.useCallback(H=>{p(H),h(!0)},[]);return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Work Group",mainTitleHighlight:"Page",description:"Manage work groups and their configurations within the system.",icon:a.jsx(Pa,{}),isMobile:y,toggleSidebar:R}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Work Group ",a.jsx("span",{className:"text-blue-600",children:"Management"})]}),a.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Organize and manage work groups by specific company requirements."})]}),a.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[a.jsxs(O.button,{onClick:()=>S("/workarrangement/workgroup/addworkgroup"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[a.jsx(pa,{className:"text-base"}),a.jsx("span",{children:"Add Work Group"})]}),a.jsxs(O.button,{onClick:F,whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(ni,{className:"text-base"}),a.jsx("span",{children:"Import"})]}),a.jsxs(O.button,{onClick:()=>w(!v),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(Ki,{className:"text-base"}),a.jsx("span",{children:"Filters"}),a.jsx(O.span,{animate:{rotate:v?180:0},transition:{duration:.2},children:a.jsx(la,{className:"text-base"})})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[a.jsx(qV,{title:"Total Work Groups",value:t.length.toString(),change:`+${Math.floor(t.length/10*100)}%`,icon:a.jsx(Pa,{className:"w-6 h-6"})}),a.jsx(qV,{title:"Active Groups",value:t.filter(H=>H.description&&H.description.length>0).length.toString(),change:`+${Math.floor(t.filter(H=>H.description&&H.description.length>0).length/t.length*100)}%`,icon:a.jsx(Pa,{className:"w-6 h-6"})})]}),a.jsxs(O.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[a.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Da,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),a.jsx("input",{ref:T,type:"text",placeholder:"Search by work group or description...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:c,onChange:A,onFocus:()=>D(!0),"aria-label":"Search work groups"}),a.jsx(ar,{children:_&&M.length>0&&a.jsx(O.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.15},className:"search-suggestions absolute left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-10 max-h-56 overflow-y-auto custom-scrollbar",children:M.map(H=>a.jsx(O.button,{onClick:()=>B(H.name),whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},className:"w-full text-left p-3 text-gray-700 hover:text-blue-700 transition-colors duration-150 text-sm",role:"option",children:a.jsx("span",{className:"font-semibold",children:H.name})},H.id))})})]})}),a.jsx(ar,{children:v&&a.jsx(O.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full"})})]}),s?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),a.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading work group data..."})]}):z.length===0?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("p",{className:"text-gray-700 text-base font-medium",children:c?"No work groups found matching your search.":"No work groups available."}),c&&a.jsx("button",{onClick:()=>u(""),className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear Search"})]}):a.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:a.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:a.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[a.jsx("thead",{className:"bg-blue-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Work Group"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Description"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:z.map((H,q)=>a.jsxs(O.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:q+1})}),a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:H.name})}),a.jsx("td",{className:"px-5 py-3",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:H.description||"-"})}),a.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[a.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>S(`/workarrangement/workgroup/editworkgroup/${H.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit",children:a.jsx(Ba,{className:"inline text-base"})}),a.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>W(H.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:a.jsx(In,{className:"inline text-base"})})]})]},H.id))})]})})})]})]}),a.jsx(eze,{isOpen:f,onClose:()=>h(!1),title:"Confirm Deletion",children:a.jsxs("div",{className:"space-y-5 text-center py-3",children:[a.jsx(Hr,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),a.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this work group? This action cannot be undone."}),a.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[a.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>h(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),a.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>g&&Y(g),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})]})},tze=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(O.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(Ft,{size:24})})]}),a.jsx("div",{children:n})]})}):null,rze=()=>{const{id:t}=si(),[e,r]=b.useState(window.innerWidth<768),[n,s]=b.useState([]),[i,o]=b.useState(),{getWorkShift:l,updateWorkShift:c,getWorkShiftById:u}=or(),[f,h]=b.useState(()=>{const M=localStorage.getItem("sidebarOpen");return M?JSON.parse(M):!1}),[g,p]=b.useState(null),[v,w]=b.useState(null),[y,N]=b.useState(!1),[k,S]=b.useState(!1),T=tr(),[_,D]=b.useState({name:"",description:""}),E=()=>{h(M=>!M)};b.useEffect(()=>{i&&D({name:i.name||"",description:i.description||""})},[i]);const L=M=>{const{name:B,value:z}=M.target;D(Y=>({...Y,[B]:B==="sla"?Number(z):z}))},R=b.useCallback(async()=>{try{if(t){const[M]=await Promise.all([u(t)]);o(M)}}catch(M){p(M.message||"Failed to load form data")}},[t,u]);b.useEffect(()=>{t&&R()},[t,R]);const F=async M=>{M.preventDefault(),S(!0),p(null);try{const B={name:_.name,description:_.description};await c(t,B),w("Work Shift update successfully!"),N(!0)}catch(B){p(B.message||"Failed to update Work Shift")}finally{S(!1)}},A=()=>{N(!1),T("/workarrangement/workshift")};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Edit Work Shift",mainTitleHighlight:"Management",description:"blablablabl",icon:a.jsx(Cr,{}),isMobile:e,toggleSidebar:E}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[a.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Work Shift"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Update Work Shift information"})]}),a.jsxs(O.button,{onClick:()=>T("/workarrangement/workshift"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(hn,{className:"text-lg"})," Back to Work Shift Management"]})]}),a.jsxs(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[g&&a.jsxs(O.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:g}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(Ft,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>p(null)})})]}),a.jsxs("form",{onSubmit:F,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Work Shift Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Work Shift Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"name",id:"name",value:_.name,onChange:L,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"description",id:"description",value:_.description,onChange:L,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsx(O.button,{type:"button",onClick:()=>T("/workarrangement/workshift"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),a.jsx(O.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:k,children:k?a.jsxs(a.Fragment,{children:[a.jsx(mn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(vn,{className:"mr-2 h-5 w-5"})," Save Work Shift"]})})]})]})]})]})]}),a.jsx(tze,{isOpen:y,onClose:A,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(fr,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:v}),a.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:A,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Work Shift Management"})]})})]})},nze=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(O.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(Ft,{size:24})})]}),a.jsx("div",{children:n})]})}):null,aze=()=>{const[t,e]=b.useState(window.innerWidth<768),[r,n]=b.useState([]),[s,i]=b.useState([]),{addWorkShift:o,getWorkShift:l}=or(),[c,u]=b.useState(()=>{const F=localStorage.getItem("sidebarOpen");return F?JSON.parse(F):!1}),[f,h]=b.useState(null),[g,p]=b.useState(null),[v,w]=b.useState(!1),[y,N]=b.useState(!1),k=tr(),[S,T]=b.useState({name:"",description:""}),_=()=>{u(F=>!F)},D=F=>{const{name:A,value:M}=F.target;T(B=>({...B,[A]:A==="sla"?Number(M):M}))},E=b.useCallback(async()=>{try{const[F]=await Promise.all([l()]);n(F)}catch(F){h(F.message||"Failed to load form data")}},[l]);b.useEffect(()=>{E()},[E]);const L=async F=>{F.preventDefault(),N(!0),h(null);try{const A={name:S.name,description:S.description};await o(A),p("Work Shift created successfully!"),w(!0)}catch(A){h(A.message||"Failed to create Work Shift")}finally{N(!1)}},R=()=>{w(!1),k("/workarrangement/workshift")};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Create Work Shift",mainTitleHighlight:"Management",description:"blablablabl",icon:a.jsx(Cr,{}),isMobile:t,toggleSidebar:_}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[a.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Work Shift"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Add a new Work Shift information"})]}),a.jsxs(O.button,{onClick:()=>k("/workarrangement/workshift"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(hn,{className:"text-lg"})," Back to Work Shift Management"]})]}),a.jsxs(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[f&&a.jsxs(O.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:f}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(Ft,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>h(null)})})]}),a.jsxs("form",{onSubmit:L,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Work Shift Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Work Shift Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"name",id:"name",value:S.name,onChange:D,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"description",id:"description",value:S.description,onChange:D,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsx(O.button,{type:"button",onClick:()=>k("/workarrangement/workshift"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),a.jsx(O.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:y,children:y?a.jsxs(a.Fragment,{children:[a.jsx(mn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(vn,{className:"mr-2 h-5 w-5"})," Save Work Shift"]})})]})]})]})]})]}),a.jsx(nze,{isOpen:v,onClose:R,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(fr,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:g}),a.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:R,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Work Shift Management"})]})})]})},sze=({isOpen:t,onClose:e,title:r,children:n,className:s})=>a.jsx(ar,{children:t&&a.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:a.jsxs(O.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${s||"max-w-xl w-full"}`,children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:r}),a.jsx("button",{onClick:e,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:a.jsx(Ft,{className:"text-xl"})})]}),a.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:n})]})})}),WV=({title:t,value:e,change:r,icon:n})=>{const s=r.startsWith("+");return a.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),a.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),a.jsxs("p",{className:`mt-3 text-xs font-semibold ${s?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})},ize=()=>{const[t,e]=b.useState([]),{getWorkShift:r,deleteWorkShift:n}=or(),[s,i]=b.useState(!0),[o,l]=b.useState(null),[c,u]=b.useState(""),[f,h]=b.useState(!1),[g,p]=b.useState(null),[v,w]=b.useState(!1),[y]=b.useState(window.innerWidth<768),[N,k]=b.useState(()=>{const H=localStorage.getItem("sidebarOpen");return H?JSON.parse(H):!1}),S=tr(),T=b.useRef(null),[_,D]=b.useState(!1),E=b.useMemo(()=>[{id:"workshift",name:"Work Shift"},{id:"description",name:"Description"}],[]),L=b.useCallback(async()=>{try{i(!0);const q=[...await r()].sort((X,oe)=>X.id-oe.id);e(q)}catch(H){l("Failed to load work shifts"),console.error("Error loading work shifts:",H)}finally{i(!1)}},[r]);b.useEffect(()=>{L()},[L]);const R=()=>{const H=!N;k(H),localStorage.setItem("sidebarOpen",JSON.stringify(H))},F=()=>{alert("Import functionality is not yet implemented.")},A=H=>{const q=H.target.value;u(q)},M=b.useMemo(()=>{if(!c)return E;const H=c.toLowerCase();return E.filter(q=>q.name.toLowerCase().includes(H))},[c,E]),B=H=>{var q;u(`${H}: `),D(!1),(q=T.current)==null||q.focus()},z=b.useMemo(()=>{if(!c.trim())return t;const H=c.toLowerCase().trim(),q=H.split(":");let X="all",oe=H;return q.length>1&&E.some(K=>K.name.toLowerCase()===q[0].trim())&&(X=q[0].trim(),oe=q.slice(1).join(":").trim()),t.filter(K=>{var Q,re;const V=(Q=K.name)==null?void 0:Q.toLowerCase().includes(oe),J=(re=K.description)==null?void 0:re.toLowerCase().includes(oe);return X==="work shift"?V:X==="description"?J:V||J})},[t,c,E]),Y=async H=>{try{await n(H),e(t.filter(q=>q.id!==H)),h(!1),p(null)}catch(q){console.error("Failed to delete work shift:",q),l("Failed to delete work shift. Please try again.")}},W=b.useCallback(H=>{p(H),h(!0)},[]);return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Work Shift",mainTitleHighlight:"Page",description:"Manage work shifts and their configurations within the system.",icon:a.jsx(Cr,{}),isMobile:y,toggleSidebar:R}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Work Shift ",a.jsx("span",{className:"text-blue-600",children:"Management"})]}),a.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Organize and manage work shifts by specific company requirements."})]}),a.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[a.jsxs(O.button,{onClick:()=>S("/workarrangement/workshift/addworkshift"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[a.jsx(pa,{className:"text-base"}),a.jsx("span",{children:"Add Work Shift"})]}),a.jsxs(O.button,{onClick:F,whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(ni,{className:"text-base"}),a.jsx("span",{children:"Import"})]}),a.jsxs(O.button,{onClick:()=>w(!v),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(Ki,{className:"text-base"}),a.jsx("span",{children:"Filters"}),a.jsx(O.span,{animate:{rotate:v?180:0},transition:{duration:.2},children:a.jsx(la,{className:"text-base"})})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[a.jsx(WV,{title:"Total Work Shifts",value:t.length.toString(),change:`+${Math.floor(t.length/10*100)}%`,icon:a.jsx(Cr,{className:"w-6 h-6"})}),a.jsx(WV,{title:"Active Shifts",value:t.filter(H=>H.description&&H.description.length>0).length.toString(),change:`+${Math.floor(t.filter(H=>H.description&&H.description.length>0).length/t.length*100)}%`,icon:a.jsx(Cr,{className:"w-6 h-6"})})]}),a.jsxs(O.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[a.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Da,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),a.jsx("input",{ref:T,type:"text",placeholder:"Search by work shift or description...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:c,onChange:A,onFocus:()=>D(!0),"aria-label":"Search work shifts"}),a.jsx(ar,{children:_&&M.length>0&&a.jsx(O.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.15},className:"search-suggestions absolute left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-10 max-h-56 overflow-y-auto custom-scrollbar",children:M.map(H=>a.jsx(O.button,{onClick:()=>B(H.name),whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},className:"w-full text-left p-3 text-gray-700 hover:text-blue-700 transition-colors duration-150 text-sm",role:"option",children:a.jsx("span",{className:"font-semibold",children:H.name})},H.id))})})]})}),a.jsx(ar,{children:v&&a.jsx(O.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full"})})]}),s?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),a.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading work shift data..."})]}):z.length===0?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("p",{className:"text-gray-700 text-base font-medium",children:c?"No work shifts found matching your search.":"No work shifts available."}),c&&a.jsx("button",{onClick:()=>u(""),className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear Search"})]}):a.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:a.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:a.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[a.jsx("thead",{className:"bg-blue-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Work Shift"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Description"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:z.map((H,q)=>a.jsxs(O.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:q+1})}),a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:H.name})}),a.jsx("td",{className:"px-5 py-3",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:H.description||"-"})}),a.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[a.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>S(`/workarrangement/workshift/editworkshift/${H.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit",children:a.jsx(Ba,{className:"inline text-base"})}),a.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>W(H.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:a.jsx(In,{className:"inline text-base"})})]})]},H.id))})]})})})]})]}),a.jsx(sze,{isOpen:f,onClose:()=>h(!1),title:"Confirm Deletion",children:a.jsxs("div",{className:"space-y-5 text-center py-3",children:[a.jsx(Hr,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),a.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this work shift? This action cannot be undone."}),a.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[a.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>h(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),a.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>g&&Y(g),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})]})},oze=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(O.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(Ft,{size:24})})]}),a.jsx("div",{children:n})]})}):null,lze=()=>{const t=tr(),{getAllMasterMonitoring:e,addMonitoringSchedule:r,addMonitoringActivities:n,getMesinDetail:s}=or(),[i,o]=b.useState(window.innerWidth<768),[l,c]=b.useState(()=>{const Q=localStorage.getItem("sidebarOpen");return JSON.parse(Q||"false")}),u=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!l)),c(Q=>!Q)},[f,h]=b.useState(!1),[g,p]=b.useState(null),[v,w]=b.useState(null),[y,N]=b.useState(!1),[k,S]=b.useState(null),[T,_]=b.useState(!0),[D,E]=b.useState(1),[L,R]=b.useState({startDate:null,endDate:null,units:[]}),F={control:(Q,re)=>({...Q,minHeight:"42px",borderColor:re.isFocused?"#3B82F6":"#D1D5DB",boxShadow:re.isFocused?"0 0 0 1px #3B82F6":"none","&:hover":{borderColor:"#9CA3AF"},borderRadius:"0.5rem",backgroundColor:"#FFFFFF",padding:"0 0.5rem",transition:"all 0.15s ease-in-out"}),valueContainer:Q=>({...Q,padding:"0"}),singleValue:Q=>({...Q,color:"#374151"}),placeholder:Q=>({...Q,color:"#6B7280"}),dropdownIndicator:Q=>({...Q,color:"#9CA3AF"}),clearIndicator:Q=>({...Q,color:"#9CA3AF"}),menu:Q=>({...Q,zIndex:9999,borderRadius:"0.5rem",border:"1px solid #E5E7EB",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"}),option:(Q,re)=>({...Q,backgroundColor:re.isFocused?"#EFF6FF":"#FFFFFF",color:"#1F2937","&:active":{backgroundColor:"#DBEAFE"},padding:"0.625rem 1rem"})};b.useEffect(()=>{(async()=>{try{_(!0);const re=await e();S(re)}catch{p("Gagal memuat data master")}finally{_(!1)}})()},[e]);const A=b.useCallback(()=>{R(Q=>({...Q,units:[...Q.units,{id:0,name:"",machines:[]}]}))},[]),M=b.useCallback(Q=>{R(re=>({...re,units:re.units.filter((ce,Ee)=>Ee!==Q)}))},[]),B=b.useCallback((Q,re)=>{var ce;if(re){const Ee=(ce=k==null?void 0:k.unitsWithMachines)==null?void 0:ce.find(ke=>ke.id===re.value);Ee&&R(ke=>{const ge=[...ke.units];return ge[Q]={id:Ee.id,name:Ee.name,machines:[]},{...ke,units:ge}})}else R(Ee=>{const ke=[...Ee.units];return ke[Q]={id:0,name:"",machines:[]},{...Ee,units:ke}})},[k]),z=b.useCallback(Q=>{R(re=>{const ce=[...re.units];return ce[Q].machines=[...ce[Q].machines,{id:0,name:"",intervalId:null,items:[]}],{...re,units:ce}})},[]),Y=b.useCallback((Q,re)=>{R(ce=>{const Ee=[...ce.units];return Ee[Q].machines=Ee[Q].machines.filter((ke,ge)=>ge!==re),{...ce,units:Ee}})},[]),W=b.useCallback(async(Q,re,ce)=>{if(ce)try{const Ee=await s(ce.value);Ee&&R(ke=>{const ge=[...ke.units];return ge[Q].machines[re]={id:Ee.id,name:Ee.name,intervalId:null,items:Ee.item_mesin.map(Ce=>({...Ce,hasil_monitoring:"",hasil_keterangan:"",interval_type:""}))},{...ke,units:ge}})}catch(Ee){console.error("Error fetching machine detail:",Ee),p("Gagal memuat detail mesin")}else R(Ee=>{const ke=[...Ee.units];return ke[Q].machines[re]={id:0,name:"",intervalId:null,items:[]},{...Ee,units:ke}})},[s]),H=b.useCallback((Q,re,ce)=>{var Ee,ke,ge;if(ce&&((ke=(Ee=L.units[Q])==null?void 0:Ee.machines[re])!=null&&ke.id)){const Ce=(ge=k==null?void 0:k.intervals)==null?void 0:ge.find(Ke=>Ke.id_interval===ce.value);Ce&&R(Ke=>{const fe=[...Ke.units],ye=fe[Q].machines[re],ae=ye.items.filter(se=>se.interval_id===Ce.id_interval);return fe[Q].machines[re]={...ye,intervalId:Ce.id_interval,intervalType:Ce.type_interval,items:ae.map(se=>({...se,interval_type:Ce.type_interval}))},{...Ke,units:fe}})}else R(Ce=>{const Ke=[...Ce.units],fe=Ke[Q].machines[re];return Ke[Q].machines[re]={...fe,intervalId:null,intervalType:void 0,items:fe.items.map(ye=>({...ye,interval_type:""}))},{...Ce,units:Ke}})},[k,L.units]);b.useCallback((Q,re,ce,Ee,ke)=>{R(ge=>{const Ce=[...ge.units];return Ce[Q].machines[re].items[ce]={...Ce[Q].machines[re].items[ce],[Ee]:ke},{...ge,units:Ce}})},[]);const q=["January","February","March","April","May","June","July","August","September","October","November","December"],X=async Q=>{Q.preventDefault(),h(!0),p(null);try{if(!L.startDate||!L.endDate)throw new Error("Tanggal mulai dan selesai harus diisi");if(L.units.length===0||L.units.some(ke=>!ke.id))throw new Error("Pilih setidaknya satu unit");const re=ke=>{const ge=ke.getFullYear(),Ce=String(ke.getMonth()+1).padStart(2,"0"),Ke=String(ke.getDate()).padStart(2,"0");return`${ge}-${Ce}-${Ke}`},ce=[],Ee=[];for(const ke of L.units)for(const ge of ke.machines)if(ge.id&&ge.items.length>0){const Ce=ge.items.map(ye=>ye.id),Ke={tahun:L.startDate.getFullYear(),bulan:q[L.startDate.getMonth()],tgl_start:re(L.startDate),tgl_end:re(L.endDate),unit:ke.name,id_mesins:ge.id,id_interval:ge.intervalId||1,item_mesin_ids:Ce},fe=await r(Ke);ce.push(fe)}if(ce.length===0)throw new Error("Tidak ada data monitoring yang valid untuk disimpan");w("Data monitoring berhasil disimpan!"),N(!0)}catch(re){p(re.message||"Gagal menyimpan data monitoring")}finally{h(!1)}},oe=b.useCallback(()=>{N(!1),t("/monitoringmaintenance")},[t]),K=b.useMemo(()=>{switch(D){case 1:return!L.startDate||!L.endDate;case 2:return L.units.length===0||L.units.every(re=>!re.id);case 3:return L.units.every(re=>re.machines.length===0||re.machines.every(ce=>!ce.id||!ce.intervalId||ce.items.length===0));case 4:return!L.units.some(re=>re.machines.some(ce=>ce.id&&ce.intervalId&&ce.items.length>0));default:return!0}},[D,L]),V=()=>a.jsx("div",{className:"flex justify-around items-center mb-8 border-b-2 border-gray-100",children:[1,2,3,4].map(Q=>a.jsxs("button",{type:"button",onClick:()=>E(Q),disabled:Q===2&&(!L.startDate||!L.endDate)||Q===3&&(L.units.length===0||L.units.every(re=>!re.id))||Q===4&&L.units.every(re=>re.machines.every(ce=>!ce.id||!ce.intervalId)),className:`px-4 py-2 font-medium ${D===Q?"border-b-2 border-blue-500 text-blue-600":"text-gray-500"} ${Q===2&&(!L.startDate||!L.endDate)||Q===3&&(L.units.length===0||L.units.every(re=>!re.id))||Q===4&&L.units.every(re=>re.machines.every(ce=>!ce.id||!ce.intervalId))?"opacity-50 cursor-not-allowed":""}`,children:[Q,". ",["Date","Unit","Machine & Interval","Item"][Q-1]]},Q))}),J=()=>{if(T)return a.jsx("div",{className:"flex justify-center items-center py-8",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})});switch(D){case 1:return a.jsxs(O.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Monitoring Schedule"}),a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-6 md:gap-8",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),a.jsx(fm,{selected:L.startDate,onChange:Q=>R(re=>({...re,startDate:Q})),dateFormat:"dd/MM/yyyy",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholderText:"Pilih Tanggal Mulai",isClearable:!0})]}),a.jsx("div",{className:"text-gray-400 hidden md:block mt-6",children:a.jsx(Zhe,{size:24})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),a.jsx(fm,{selected:L.endDate,onChange:Q=>R(re=>({...re,endDate:Q})),dateFormat:"dd/MM/yyyy",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholderText:"Pilih Tanggal Selesai",isClearable:!0})]})]})]},"step1");case 2:return a.jsxs(O.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Unit"}),a.jsxs("div",{className:"space-y-4",children:[L.units.map((Q,re)=>{var ce;return a.jsxs(O.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 border border-gray-200 rounded-lg bg-gray-50 flex items-center space-x-2",children:[a.jsx("div",{className:"flex-1",children:a.jsx(un,{options:((ce=k==null?void 0:k.unitsWithMachines)==null?void 0:ce.map(Ee=>({value:Ee.id,label:Ee.name})))||[],value:Q.id?{value:Q.id,label:Q.name}:null,onChange:Ee=>B(re,Ee),isClearable:!0,placeholder:"Pilih Unit",styles:F,noOptionsMessage:()=>"Tidak ada unit tersedia"})}),L.units.length>1&&a.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>M(re),className:"text-red-500 hover:text-red-700 p-1",type:"button",children:a.jsx(In,{size:20})})]},re)}),a.jsxs(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:A,className:"flex items-center justify-center w-full px-4 py-2 border-2 border-dashed border-gray-300 rounded-lg text-gray-600 hover:bg-gray-100",type:"button",children:[a.jsx(pa,{size:20,className:"mr-2"})," Add Unit"]})]})]},"step2");case 3:return a.jsxs(O.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Machine & Interval"}),a.jsx("div",{className:"space-y-6",children:L.units.map((Q,re)=>Q.id&&a.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg bg-gray-50",children:[a.jsx("h3",{className:"font-semibold text-gray-700 mb-3",children:Q.name}),a.jsx("div",{className:"space-y-4",children:Q.machines.map((ce,Ee)=>{var ke,ge,Ce,Ke;return a.jsxs(O.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 border border-gray-300 rounded-lg bg-white space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Machine"}),a.jsx(un,{options:((Ce=(ge=(ke=k==null?void 0:k.unitsWithMachines)==null?void 0:ke.find(fe=>fe.id===Q.id))==null?void 0:ge.mesin)==null?void 0:Ce.map(fe=>({value:fe.id,label:fe.name})))||[],value:ce.id?{value:ce.id,label:ce.name}:null,onChange:fe=>W(re,Ee,fe),isClearable:!0,placeholder:"Select Machine",styles:F})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Interval"}),a.jsx(un,{options:((Ke=k==null?void 0:k.intervals)==null?void 0:Ke.map(fe=>({value:fe.id_interval,label:fe.type_interval})))||[],value:ce.intervalId?{value:ce.intervalId,label:ce.intervalType}:null,onChange:fe=>H(re,Ee,fe),isClearable:!0,placeholder:ce.id?"Select Interval":"Please Select Machine",isDisabled:!ce.id||ce.items.length===0,styles:F})]})]}),ce.id&&a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-sm font-medium text-blue-800",children:["Total ",ce.items.length," item monitoring tersedia"]}),ce.intervalId&&a.jsxs("span",{className:"text-sm text-green-600",children:[ce.items.filter(fe=>fe.interval_id===ce.intervalId).length," item untuk interval ",ce.intervalType]})]}),ce.items.length===0&&a.jsx("span",{className:"text-xs text-orange-600 bg-orange-100 px-2 py-1 rounded mt-2 inline-block",children:"Mesin ini belum memiliki item monitoring"})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>Y(re,Ee),className:"text-red-500 hover:text-red-700",children:a.jsx(In,{size:20})})})]},Ee)})}),a.jsxs(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>z(re),className:"mt-4 flex items-center justify-center w-full px-4 py-2 border-2 border-dashed border-gray-300 rounded-lg text-gray-600 hover:bg-gray-100",children:[a.jsx(pa,{size:20,className:"mr-2"})," Add Machine"]})]},re))})]},"step3");case 4:return a.jsxs(O.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Item Monitoring"}),a.jsx("div",{className:"space-y-6",children:L.units.map((Q,re)=>Q.id&&Q.machines.map((ce,Ee)=>ce.id&&a.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg bg-gray-50",children:[a.jsxs("h3",{className:"font-semibold text-gray-700 mb-3",children:[Q.name," - ",ce.name]}),ce.items.length>0?a.jsx("div",{className:"space-y-4",children:ce.items.map((ke,ge)=>a.jsxs(O.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-3 border border-gray-300 rounded-lg bg-white",children:[a.jsxs("h4",{className:"font-bold text-gray-800 mb-2",children:[ke.item_mesin," (",ke.satuan,")"]}),ke.interval_type&&a.jsx("span",{className:"bg-green-100 text-green-800 text-xs font-medium px-2.5 py-0.5 rounded",children:ke.interval_type}),ke.standard_min&&ke.standard_max&&a.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Standar: ",ke.standard_min," - ",ke.standard_max]}),ke.standard_visual&&a.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Standar Visual: ",ke.standard_visual]})]},ge))}):a.jsx("p",{className:"text-gray-500 italic mt-2",children:"Tidak ada item monitoring untuk mesin ini."})]},`${re}-${Ee}`)))})]},"step4");default:return null}};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Create Monitoring Schedule",mainTitleHighlight:"Create Monitoring Schedule",description:"Manage user roles and permissions to control access and functionality within the system.",icon:a.jsx(Qh,{}),isMobile:i,toggleSidebar:u}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create Monitoring Schedule"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"All create detail for monitoring schedule"})]}),a.jsxs(O.button,{onClick:()=>t("/monitoringmaintenance"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg shadow-md",children:[a.jsx(hn,{className:"text-lg"})," Back To Monitoring Maintenance"]})]}),a.jsxs(O.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[g&&a.jsxs(O.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:g}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(Ft,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>p(null)})})]}),V(),a.jsx(ar,{mode:"wait",children:J()}),a.jsxs("div",{className:"flex justify-between items-center mt-8 pt-6 border-t border-gray-100",children:[D>1&&a.jsxs(O.button,{type:"button",onClick:()=>E(Q=>Q-1),whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-6 py-3 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:ring-2 focus:ring-blue-500 flex items-center",children:[a.jsx(hd,{className:"mr-2 h-5 w-5"})," Back"]}),D<4?a.jsxs(O.button,{type:"button",onClick:()=>E(Q=>Q+1),disabled:K,whileHover:{scale:K?1:1.03},whileTap:{scale:K?1:.97},className:`ml-auto px-6 py-3 border border-transparent rounded-lg text-sm font-medium text-white bg-blue-600 focus:ring-2 focus:ring-blue-500 flex items-center ${K?"opacity-50 cursor-not-allowed":"hover:bg-blue-700"}`,children:["Lanjut ",a.jsx(ta,{className:"ml-2 h-5 w-5"})]}):a.jsx(O.button,{type:"button",onClick:X,disabled:K||f,whileHover:{scale:K?1:1.03},whileTap:{scale:K?1:.97},className:`ml-auto px-6 py-3 border border-transparent rounded-lg text-sm font-medium text-white bg-blue-600 focus:ring-2 focus:ring-blue-500 flex items-center ${K||f?"opacity-50 cursor-not-allowed":"hover:bg-blue-700"}`,children:f?a.jsxs(a.Fragment,{children:[a.jsx(mn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(vn,{className:"mr-2 h-5 w-5"})," Save Monitoring"]})})]})]})]})]}),a.jsx(oze,{isOpen:y,onClose:oe,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(fr,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:"Data monitoring schedule berhasil disimpan!"}),a.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:oe,className:"mt-6 px-6 py-3 border border-transparent rounded-lg text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:ring-2 focus:ring-blue-500",children:"Go to Monitoring Mainteannce"})]})})]})},cze="modulepreload",uze=function(t){return"/"+t},VV={},DT=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){let o=function(u){return Promise.all(u.map(f=>Promise.resolve(f).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));s=o(r.map(u=>{if(u=uze(u),u in VV)return;VV[u]=!0;const f=u.endsWith(".css"),h=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${h}`))return;const g=document.createElement("link");if(g.rel=f?"stylesheet":cze,f||(g.as="script"),g.crossOrigin="",g.href=u,c&&g.setAttribute("nonce",c),document.head.appendChild(g),f)return new Promise((p,v)=>{g.addEventListener("load",p),g.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})};var hu=Uint8Array,Tl=Uint16Array,LL=Int32Array,RL=new hu([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),IL=new hu([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),GV=new hu([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Pae=function(t,e){for(var r=new Tl(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var s=new LL(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)s[i]=i-r[n]<<5|n;return{b:r,r:s}},Lae=Pae(RL,2),dze=Lae.b,wO=Lae.r;dze[28]=258,wO[258]=28;var fze=Pae(IL,0),YV=fze.r,jO=new Tl(32768);for(var Ka=0;Ka<32768;++Ka){var Oh=(Ka&43690)>>1|(Ka&21845)<<1;Oh=(Oh&52428)>>2|(Oh&13107)<<2,Oh=(Oh&61680)>>4|(Oh&3855)<<4,jO[Ka]=((Oh&65280)>>8|(Oh&255)<<8)>>1}var zy=(function(t,e,r){for(var n=t.length,s=0,i=new Tl(e);s<n;++s)t[s]&&++i[t[s]-1];var o=new Tl(e);for(s=1;s<e;++s)o[s]=o[s-1]+i[s-1]<<1;var l;if(r){l=new Tl(1<<e);var c=15-e;for(s=0;s<n;++s)if(t[s])for(var u=s<<4|t[s],f=e-t[s],h=o[t[s]-1]++<<f,g=h|(1<<f)-1;h<=g;++h)l[jO[h]>>c]=u}else for(l=new Tl(n),s=0;s<n;++s)t[s]&&(l[s]=jO[o[t[s]-1]++]>>15-t[s]);return l}),Kp=new hu(288);for(var Ka=0;Ka<144;++Ka)Kp[Ka]=8;for(var Ka=144;Ka<256;++Ka)Kp[Ka]=9;for(var Ka=256;Ka<280;++Ka)Kp[Ka]=7;for(var Ka=280;Ka<288;++Ka)Kp[Ka]=8;var vN=new hu(32);for(var Ka=0;Ka<32;++Ka)vN[Ka]=5;var hze=zy(Kp,9,0),mze=zy(vN,5,0),Rae=function(t){return(t+7)/8|0},pze=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new hu(t.subarray(e,r))},nf=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},ny=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},PT=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var s=r.length,i=r.slice();if(!s)return{t:Fae,l:0};if(s==1){var o=new hu(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(_,D){return _.f-D.f}),r.push({s:-1,f:25001});var l=r[0],c=r[1],u=0,f=1,h=2;for(r[0]={s:-1,f:l.f+c.f,l,r:c};f!=s-1;)l=r[r[u].f<r[h].f?u++:h++],c=r[u!=f&&r[u].f<r[h].f?u++:h++],r[f++]={s:-1,f:l.f+c.f,l,r:c};for(var g=i[0].s,n=1;n<s;++n)i[n].s>g&&(g=i[n].s);var p=new Tl(g+1),v=NO(r[f-1],p,0);if(v>e){var n=0,w=0,y=v-e,N=1<<y;for(i.sort(function(D,E){return p[E.s]-p[D.s]||D.f-E.f});n<s;++n){var k=i[n].s;if(p[k]>e)w+=N-(1<<v-p[k]),p[k]=e;else break}for(w>>=y;w>0;){var S=i[n].s;p[S]<e?w-=1<<e-p[S]++-1:++n}for(;n>=0&&w;--n){var T=i[n].s;p[T]==e&&(--p[T],++w)}v=e}return{t:new hu(p),l:v}},NO=function(t,e,r){return t.s==-1?Math.max(NO(t.l,e,r+1),NO(t.r,e,r+1)):e[t.s]=r},KV=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new Tl(++e),n=0,s=t[0],i=1,o=function(c){r[n++]=c},l=1;l<=e;++l)if(t[l]==s&&l!=e)++i;else{if(!s&&i>2){for(;i>138;i-=138)o(32754);i>2&&(o(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(o(s),--i;i>6;i-=6)o(8304);i>2&&(o(i-3<<5|8208),i=0)}for(;i--;)o(s);i=1,s=t[l]}return{c:r.subarray(0,n),n:e}},ay=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},Iae=function(t,e,r){var n=r.length,s=Rae(e+2);t[s]=n&255,t[s+1]=n>>8,t[s+2]=t[s]^255,t[s+3]=t[s+1]^255;for(var i=0;i<n;++i)t[s+i+4]=r[i];return(s+4+n)*8},JV=function(t,e,r,n,s,i,o,l,c,u,f){nf(e,f++,r),++s[256];for(var h=PT(s,15),g=h.t,p=h.l,v=PT(i,15),w=v.t,y=v.l,N=KV(g),k=N.c,S=N.n,T=KV(w),_=T.c,D=T.n,E=new Tl(19),L=0;L<k.length;++L)++E[k[L]&31];for(var L=0;L<_.length;++L)++E[_[L]&31];for(var R=PT(E,7),F=R.t,A=R.l,M=19;M>4&&!F[GV[M-1]];--M);var B=u+5<<3,z=ay(s,Kp)+ay(i,vN)+o,Y=ay(s,g)+ay(i,w)+o+14+3*M+ay(E,F)+2*E[16]+3*E[17]+7*E[18];if(c>=0&&B<=z&&B<=Y)return Iae(e,f,t.subarray(c,c+u));var W,H,q,X;if(nf(e,f,1+(Y<z)),f+=2,Y<z){W=zy(g,p,0),H=g,q=zy(w,y,0),X=w;var oe=zy(F,A,0);nf(e,f,S-257),nf(e,f+5,D-1),nf(e,f+10,M-4),f+=14;for(var L=0;L<M;++L)nf(e,f+3*L,F[GV[L]]);f+=3*M;for(var K=[k,_],V=0;V<2;++V)for(var J=K[V],L=0;L<J.length;++L){var Q=J[L]&31;nf(e,f,oe[Q]),f+=F[Q],Q>15&&(nf(e,f,J[L]>>5&127),f+=J[L]>>12)}}else W=hze,H=Kp,q=mze,X=vN;for(var L=0;L<l;++L){var re=n[L];if(re>255){var Q=re>>18&31;ny(e,f,W[Q+257]),f+=H[Q+257],Q>7&&(nf(e,f,re>>23&31),f+=RL[Q]);var ce=re&31;ny(e,f,q[ce]),f+=X[ce],ce>3&&(ny(e,f,re>>5&8191),f+=IL[ce])}else ny(e,f,W[re]),f+=H[re]}return ny(e,f,W[256]),f+H[256]},gze=new LL([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Fae=new hu(0),xze=function(t,e,r,n,s,i){var o=i.z||t.length,l=new hu(n+o+5*(1+Math.ceil(o/7e3))+s),c=l.subarray(n,l.length-s),u=i.l,f=(i.r||0)&7;if(e){f&&(c[0]=i.r>>3);for(var h=gze[e-1],g=h>>13,p=h&8191,v=(1<<r)-1,w=i.p||new Tl(32768),y=i.h||new Tl(v+1),N=Math.ceil(r/3),k=2*N,S=function(ae){return(t[ae]^t[ae+1]<<N^t[ae+2]<<k)&v},T=new LL(25e3),_=new Tl(288),D=new Tl(32),E=0,L=0,R=i.i||0,F=0,A=i.w||0,M=0;R+2<o;++R){var B=S(R),z=R&32767,Y=y[B];if(w[z]=Y,y[B]=z,A<=R){var W=o-R;if((E>7e3||F>24576)&&(W>423||!u)){f=JV(t,c,0,T,_,D,L,F,M,R-M,f),F=E=L=0,M=R;for(var H=0;H<286;++H)_[H]=0;for(var H=0;H<30;++H)D[H]=0}var q=2,X=0,oe=p,K=z-Y&32767;if(W>2&&B==S(R-K))for(var V=Math.min(g,W)-1,J=Math.min(32767,R),Q=Math.min(258,W);K<=J&&--oe&&z!=Y;){if(t[R+q]==t[R+q-K]){for(var re=0;re<Q&&t[R+re]==t[R+re-K];++re);if(re>q){if(q=re,X=K,re>V)break;for(var ce=Math.min(K,re-2),Ee=0,H=0;H<ce;++H){var ke=R-K+H&32767,ge=w[ke],Ce=ke-ge&32767;Ce>Ee&&(Ee=Ce,Y=ke)}}}z=Y,Y=w[z],K+=z-Y&32767}if(X){T[F++]=268435456|wO[q]<<18|YV[X];var Ke=wO[q]&31,fe=YV[X]&31;L+=RL[Ke]+IL[fe],++_[257+Ke],++D[fe],A=R+q,++E}else T[F++]=t[R],++_[t[R]]}}for(R=Math.max(R,A);R<o;++R)T[F++]=t[R],++_[t[R]];f=JV(t,c,u,T,_,D,L,F,M,R-M,f),u||(i.r=f&7|c[f/8|0]<<3,f-=7,i.h=y,i.p=w,i.i=R,i.w=A)}else{for(var R=i.w||0;R<o+u;R+=65535){var ye=R+65535;ye>=o&&(c[f/8|0]=u,ye=o),f=Iae(c,f+1,t.subarray(R,ye))}i.i=o}return pze(l,0,n+Rae(f)+s)},Bae=function(){var t=1,e=0;return{p:function(r){for(var n=t,s=e,i=r.length|0,o=0;o!=i;){for(var l=Math.min(o+2655,i);o<l;++o)s+=n+=r[o];n=(n&65535)+15*(n>>16),s=(s&65535)+15*(s>>16)}t=n,e=s},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},bze=function(t,e,r,n,s){if(!s&&(s={l:1},e.dictionary)){var i=e.dictionary.subarray(-32768),o=new hu(i.length+t.length);o.set(i),o.set(t,i.length),t=o,s.w=i.length}return xze(t,e.level==null?6:e.level,e.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,s)},$ae=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},yze=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var s=Bae();s.p(e.dictionary),$ae(t,2,s.d())}};function SO(t,e){e||(e={});var r=Bae();r.p(t);var n=bze(t,e,e.dictionary?6:2,4);return yze(n,e),$ae(n,n.length-4,r.d()),n}var vze=typeof TextDecoder<"u"&&new TextDecoder,wze=0;try{vze.decode(Fae,{stream:!0}),wze=1}catch{}function XV(t,e="utf8"){return new TextDecoder(e).decode(t)}const jze=new TextEncoder;function Nze(t){return jze.encode(t)}const Sze=1024*8,kze=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),LT={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class FL{constructor(e=Sze,r={}){Jt(this,"buffer");Jt(this,"byteLength");Jt(this,"byteOffset");Jt(this,"length");Jt(this,"offset");Jt(this,"lastWrittenByte");Jt(this,"littleEndian");Jt(this,"_data");Jt(this,"_mark");Jt(this,"_marks");let n=!1;typeof e=="number"?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);const s=r.offset?r.offset>>>0:0,i=e.byteLength-s;let o=s;(ArrayBuffer.isView(e)||e instanceof FL)&&(e.byteLength!==e.buffer.byteLength&&(o=e.byteOffset+s),e=e.buffer),n?this.lastWrittenByte=i:this.lastWrittenByte=0,this.buffer=e,this.length=i,this.byteLength=i,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,i),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const n=(this.offset+e)*2,s=new Uint8Array(n);s.set(new Uint8Array(this.buffer)),this.buffer=s.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,r){const n=LT[r].BYTES_PER_ELEMENT*e,s=this.byteOffset+this.offset,i=this.buffer.slice(s,s+n);if(this.littleEndian===kze&&r!=="uint8"&&r!=="int8"){const l=new Uint8Array(this.buffer.slice(s,s+n));l.reverse();const c=new LT[r](l.buffer);return this.offset+=n,c.reverse(),c}const o=new LT[r](i);return this.offset+=n,o}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let r="";for(let n=0;n<e;n++)r+=this.readChar();return r}readUtf8(e=1){return XV(this.readBytes(e))}decodeText(e=1,r="utf8"){return XV(this.readBytes(e),r)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let r=0;r<e.length;r++)this._data.setUint8(this.offset++,e[r]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let r=0;r<e.length;r++)this.writeUint8(e.charCodeAt(r));return this}writeUtf8(e){return this.writeBytes(Nze(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Yx(t){let e=t.length;for(;--e>=0;)t[e]=0}const Cze=3,_ze=258,Hae=29,Aze=256,Tze=Aze+1+Hae,zae=30,Mze=512,Eze=new Array((Tze+2)*2);Yx(Eze);const Oze=new Array(zae*2);Yx(Oze);const Dze=new Array(Mze);Yx(Dze);const Pze=new Array(_ze-Cze+1);Yx(Pze);const Lze=new Array(Hae);Yx(Lze);const Rze=new Array(zae);Yx(Rze);const Ize=(t,e,r,n)=>{let s=t&65535|0,i=t>>>16&65535|0,o=0;for(;r!==0;){o=r>2e3?2e3:r,r-=o;do s=s+e[n++]|0,i=i+s|0;while(--o);s%=65521,i%=65521}return s|i<<16|0};var kO=Ize;const Fze=()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;e[r]=t}return e},Bze=new Uint32Array(Fze()),$ze=(t,e,r,n)=>{const s=Bze,i=n+r;t^=-1;for(let o=n;o<i;o++)t=t>>>8^s[(t^e[o])&255];return t^-1};var Iu=$ze,CO={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},qae={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const Hze=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var zze=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const r=e.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)Hze(r,n)&&(t[n]=r[n])}}return t},qze=t=>{let e=0;for(let n=0,s=t.length;n<s;n++)e+=t[n].length;const r=new Uint8Array(e);for(let n=0,s=0,i=t.length;n<i;n++){let o=t[n];r.set(o,s),s+=o.length}return r},Uae={assign:zze,flattenChunks:qze};let Wae=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Wae=!1}const Kv=new Uint8Array(256);for(let t=0;t<256;t++)Kv[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Kv[254]=Kv[254]=1;var Uze=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,r,n,s,i,o=t.length,l=0;for(s=0;s<o;s++)r=t.charCodeAt(s),(r&64512)===55296&&s+1<o&&(n=t.charCodeAt(s+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),s++)),l+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(l),i=0,s=0;i<l;s++)r=t.charCodeAt(s),(r&64512)===55296&&s+1<o&&(n=t.charCodeAt(s+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),s++)),r<128?e[i++]=r:r<2048?(e[i++]=192|r>>>6,e[i++]=128|r&63):r<65536?(e[i++]=224|r>>>12,e[i++]=128|r>>>6&63,e[i++]=128|r&63):(e[i++]=240|r>>>18,e[i++]=128|r>>>12&63,e[i++]=128|r>>>6&63,e[i++]=128|r&63);return e};const Wze=(t,e)=>{if(e<65534&&t.subarray&&Wae)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let r="";for(let n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r};var Vze=(t,e)=>{const r=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let n,s;const i=new Array(r*2);for(s=0,n=0;n<r;){let o=t[n++];if(o<128){i[s++]=o;continue}let l=Kv[o];if(l>4){i[s++]=65533,n+=l-1;continue}for(o&=l===2?31:l===3?15:7;l>1&&n<r;)o=o<<6|t[n++]&63,l--;if(l>1){i[s++]=65533;continue}o<65536?i[s++]=o:(o-=65536,i[s++]=55296|o>>10&1023,i[s++]=56320|o&1023)}return Wze(i,s)},Gze=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let r=e-1;for(;r>=0&&(t[r]&192)===128;)r--;return r<0||r===0?e:r+Kv[t[r]]>e?r:e},_O={string2buf:Uze,buf2string:Vze,utf8border:Gze};function Yze(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Kze=Yze;const m2=16209,Jze=16191;var Xze=function(e,r){let n,s,i,o,l,c,u,f,h,g,p,v,w,y,N,k,S,T,_,D,E,L,R,F;const A=e.state;n=e.next_in,R=e.input,s=n+(e.avail_in-5),i=e.next_out,F=e.output,o=i-(r-e.avail_out),l=i+(e.avail_out-257),c=A.dmax,u=A.wsize,f=A.whave,h=A.wnext,g=A.window,p=A.hold,v=A.bits,w=A.lencode,y=A.distcode,N=(1<<A.lenbits)-1,k=(1<<A.distbits)-1;e:do{v<15&&(p+=R[n++]<<v,v+=8,p+=R[n++]<<v,v+=8),S=w[p&N];t:for(;;){if(T=S>>>24,p>>>=T,v-=T,T=S>>>16&255,T===0)F[i++]=S&65535;else if(T&16){_=S&65535,T&=15,T&&(v<T&&(p+=R[n++]<<v,v+=8),_+=p&(1<<T)-1,p>>>=T,v-=T),v<15&&(p+=R[n++]<<v,v+=8,p+=R[n++]<<v,v+=8),S=y[p&k];r:for(;;){if(T=S>>>24,p>>>=T,v-=T,T=S>>>16&255,T&16){if(D=S&65535,T&=15,v<T&&(p+=R[n++]<<v,v+=8,v<T&&(p+=R[n++]<<v,v+=8)),D+=p&(1<<T)-1,D>c){e.msg="invalid distance too far back",A.mode=m2;break e}if(p>>>=T,v-=T,T=i-o,D>T){if(T=D-T,T>f&&A.sane){e.msg="invalid distance too far back",A.mode=m2;break e}if(E=0,L=g,h===0){if(E+=u-T,T<_){_-=T;do F[i++]=g[E++];while(--T);E=i-D,L=F}}else if(h<T){if(E+=u+h-T,T-=h,T<_){_-=T;do F[i++]=g[E++];while(--T);if(E=0,h<_){T=h,_-=T;do F[i++]=g[E++];while(--T);E=i-D,L=F}}}else if(E+=h-T,T<_){_-=T;do F[i++]=g[E++];while(--T);E=i-D,L=F}for(;_>2;)F[i++]=L[E++],F[i++]=L[E++],F[i++]=L[E++],_-=3;_&&(F[i++]=L[E++],_>1&&(F[i++]=L[E++]))}else{E=i-D;do F[i++]=F[E++],F[i++]=F[E++],F[i++]=F[E++],_-=3;while(_>2);_&&(F[i++]=F[E++],_>1&&(F[i++]=F[E++]))}}else if((T&64)===0){S=y[(S&65535)+(p&(1<<T)-1)];continue r}else{e.msg="invalid distance code",A.mode=m2;break e}break}}else if((T&64)===0){S=w[(S&65535)+(p&(1<<T)-1)];continue t}else if(T&32){A.mode=Jze;break e}else{e.msg="invalid literal/length code",A.mode=m2;break e}break}}while(n<s&&i<l);_=v>>3,n-=_,v-=_<<3,p&=(1<<v)-1,e.next_in=n,e.next_out=i,e.avail_in=n<s?5+(s-n):5-(n-s),e.avail_out=i<l?257+(l-i):257-(i-l),A.hold=p,A.bits=v};const tg=15,QV=852,ZV=592,eG=0,RT=1,tG=2,Qze=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Zze=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),eqe=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),tqe=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),rqe=(t,e,r,n,s,i,o,l)=>{const c=l.bits;let u=0,f=0,h=0,g=0,p=0,v=0,w=0,y=0,N=0,k=0,S,T,_,D,E,L=null,R;const F=new Uint16Array(tg+1),A=new Uint16Array(tg+1);let M=null,B,z,Y;for(u=0;u<=tg;u++)F[u]=0;for(f=0;f<n;f++)F[e[r+f]]++;for(p=c,g=tg;g>=1&&F[g]===0;g--);if(p>g&&(p=g),g===0)return s[i++]=1<<24|64<<16|0,s[i++]=1<<24|64<<16|0,l.bits=1,0;for(h=1;h<g&&F[h]===0;h++);for(p<h&&(p=h),y=1,u=1;u<=tg;u++)if(y<<=1,y-=F[u],y<0)return-1;if(y>0&&(t===eG||g!==1))return-1;for(A[1]=0,u=1;u<tg;u++)A[u+1]=A[u]+F[u];for(f=0;f<n;f++)e[r+f]!==0&&(o[A[e[r+f]]++]=f);if(t===eG?(L=M=o,R=20):t===RT?(L=Qze,M=Zze,R=257):(L=eqe,M=tqe,R=0),k=0,f=0,u=h,E=i,v=p,w=0,_=-1,N=1<<p,D=N-1,t===RT&&N>QV||t===tG&&N>ZV)return 1;for(;;){B=u-w,o[f]+1<R?(z=0,Y=o[f]):o[f]>=R?(z=M[o[f]-R],Y=L[o[f]-R]):(z=96,Y=0),S=1<<u-w,T=1<<v,h=T;do T-=S,s[E+(k>>w)+T]=B<<24|z<<16|Y|0;while(T!==0);for(S=1<<u-1;k&S;)S>>=1;if(S!==0?(k&=S-1,k+=S):k=0,f++,--F[u]===0){if(u===g)break;u=e[r+o[f]]}if(u>p&&(k&D)!==_){for(w===0&&(w=p),E+=h,v=u-w,y=1<<v;v+w<g&&(y-=F[v+w],!(y<=0));)v++,y<<=1;if(N+=1<<v,t===RT&&N>QV||t===tG&&N>ZV)return 1;_=k&D,s[_]=p<<24|v<<16|E-i|0}}return k!==0&&(s[E+k]=u-w<<24|64<<16|0),l.bits=p,0};var qy=rqe;const nqe=0,Vae=1,Gae=2,{Z_FINISH:rG,Z_BLOCK:aqe,Z_TREES:p2,Z_OK:Jp,Z_STREAM_END:sqe,Z_NEED_DICT:iqe,Z_STREAM_ERROR:Nc,Z_DATA_ERROR:Yae,Z_MEM_ERROR:Kae,Z_BUF_ERROR:oqe,Z_DEFLATED:nG}=qae,qS=16180,aG=16181,sG=16182,iG=16183,oG=16184,lG=16185,cG=16186,uG=16187,dG=16188,fG=16189,wN=16190,af=16191,IT=16192,hG=16193,FT=16194,mG=16195,pG=16196,gG=16197,xG=16198,g2=16199,x2=16200,bG=16201,yG=16202,vG=16203,wG=16204,jG=16205,BT=16206,NG=16207,SG=16208,rs=16209,Jae=16210,Xae=16211,lqe=852,cqe=592,uqe=15,dqe=uqe,kG=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function fqe(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const s0=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<qS||e.mode>Xae?1:0},Qae=t=>{if(s0(t))return Nc;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=qS,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(lqe),e.distcode=e.distdyn=new Int32Array(cqe),e.sane=1,e.back=-1,Jp},Zae=t=>{if(s0(t))return Nc;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,Qae(t)},ese=(t,e)=>{let r;if(s0(t))return Nc;const n=t.state;return e<0?(r=0,e=-e):(r=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Nc:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,Zae(t))},tse=(t,e)=>{if(!t)return Nc;const r=new fqe;t.state=r,r.strm=t,r.window=null,r.mode=qS;const n=ese(t,e);return n!==Jp&&(t.state=null),n},hqe=t=>tse(t,dqe);let CG=!0,$T,HT;const mqe=t=>{if(CG){$T=new Int32Array(512),HT=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(qy(Vae,t.lens,0,288,$T,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;qy(Gae,t.lens,0,32,HT,0,t.work,{bits:5}),CG=!1}t.lencode=$T,t.lenbits=9,t.distcode=HT,t.distbits=5},rse=(t,e,r,n)=>{let s;const i=t.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),n>=i.wsize?(i.window.set(e.subarray(r-i.wsize,r),0),i.wnext=0,i.whave=i.wsize):(s=i.wsize-i.wnext,s>n&&(s=n),i.window.set(e.subarray(r-n,r-n+s),i.wnext),n-=s,n?(i.window.set(e.subarray(r-n,r),0),i.wnext=n,i.whave=i.wsize):(i.wnext+=s,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=s))),0},pqe=(t,e)=>{let r,n,s,i,o,l,c,u,f,h,g,p,v,w,y=0,N,k,S,T,_,D,E,L;const R=new Uint8Array(4);let F,A;const M=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(s0(t)||!t.output||!t.input&&t.avail_in!==0)return Nc;r=t.state,r.mode===af&&(r.mode=IT),o=t.next_out,s=t.output,c=t.avail_out,i=t.next_in,n=t.input,l=t.avail_in,u=r.hold,f=r.bits,h=l,g=c,L=Jp;e:for(;;)switch(r.mode){case qS:if(r.wrap===0){r.mode=IT;break}for(;f<16;){if(l===0)break e;l--,u+=n[i++]<<f,f+=8}if(r.wrap&2&&u===35615){r.wbits===0&&(r.wbits=15),r.check=0,R[0]=u&255,R[1]=u>>>8&255,r.check=Iu(r.check,R,2,0),u=0,f=0,r.mode=aG;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((u&255)<<8)+(u>>8))%31){t.msg="incorrect header check",r.mode=rs;break}if((u&15)!==nG){t.msg="unknown compression method",r.mode=rs;break}if(u>>>=4,f-=4,E=(u&15)+8,r.wbits===0&&(r.wbits=E),E>15||E>r.wbits){t.msg="invalid window size",r.mode=rs;break}r.dmax=1<<r.wbits,r.flags=0,t.adler=r.check=1,r.mode=u&512?fG:af,u=0,f=0;break;case aG:for(;f<16;){if(l===0)break e;l--,u+=n[i++]<<f,f+=8}if(r.flags=u,(r.flags&255)!==nG){t.msg="unknown compression method",r.mode=rs;break}if(r.flags&57344){t.msg="unknown header flags set",r.mode=rs;break}r.head&&(r.head.text=u>>8&1),r.flags&512&&r.wrap&4&&(R[0]=u&255,R[1]=u>>>8&255,r.check=Iu(r.check,R,2,0)),u=0,f=0,r.mode=sG;case sG:for(;f<32;){if(l===0)break e;l--,u+=n[i++]<<f,f+=8}r.head&&(r.head.time=u),r.flags&512&&r.wrap&4&&(R[0]=u&255,R[1]=u>>>8&255,R[2]=u>>>16&255,R[3]=u>>>24&255,r.check=Iu(r.check,R,4,0)),u=0,f=0,r.mode=iG;case iG:for(;f<16;){if(l===0)break e;l--,u+=n[i++]<<f,f+=8}r.head&&(r.head.xflags=u&255,r.head.os=u>>8),r.flags&512&&r.wrap&4&&(R[0]=u&255,R[1]=u>>>8&255,r.check=Iu(r.check,R,2,0)),u=0,f=0,r.mode=oG;case oG:if(r.flags&1024){for(;f<16;){if(l===0)break e;l--,u+=n[i++]<<f,f+=8}r.length=u,r.head&&(r.head.extra_len=u),r.flags&512&&r.wrap&4&&(R[0]=u&255,R[1]=u>>>8&255,r.check=Iu(r.check,R,2,0)),u=0,f=0}else r.head&&(r.head.extra=null);r.mode=lG;case lG:if(r.flags&1024&&(p=r.length,p>l&&(p=l),p&&(r.head&&(E=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(i,i+p),E)),r.flags&512&&r.wrap&4&&(r.check=Iu(r.check,n,p,i)),l-=p,i+=p,r.length-=p),r.length))break e;r.length=0,r.mode=cG;case cG:if(r.flags&2048){if(l===0)break e;p=0;do E=n[i+p++],r.head&&E&&r.length<65536&&(r.head.name+=String.fromCharCode(E));while(E&&p<l);if(r.flags&512&&r.wrap&4&&(r.check=Iu(r.check,n,p,i)),l-=p,i+=p,E)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=uG;case uG:if(r.flags&4096){if(l===0)break e;p=0;do E=n[i+p++],r.head&&E&&r.length<65536&&(r.head.comment+=String.fromCharCode(E));while(E&&p<l);if(r.flags&512&&r.wrap&4&&(r.check=Iu(r.check,n,p,i)),l-=p,i+=p,E)break e}else r.head&&(r.head.comment=null);r.mode=dG;case dG:if(r.flags&512){for(;f<16;){if(l===0)break e;l--,u+=n[i++]<<f,f+=8}if(r.wrap&4&&u!==(r.check&65535)){t.msg="header crc mismatch",r.mode=rs;break}u=0,f=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=af;break;case fG:for(;f<32;){if(l===0)break e;l--,u+=n[i++]<<f,f+=8}t.adler=r.check=kG(u),u=0,f=0,r.mode=wN;case wN:if(r.havedict===0)return t.next_out=o,t.avail_out=c,t.next_in=i,t.avail_in=l,r.hold=u,r.bits=f,iqe;t.adler=r.check=1,r.mode=af;case af:if(e===aqe||e===p2)break e;case IT:if(r.last){u>>>=f&7,f-=f&7,r.mode=BT;break}for(;f<3;){if(l===0)break e;l--,u+=n[i++]<<f,f+=8}switch(r.last=u&1,u>>>=1,f-=1,u&3){case 0:r.mode=hG;break;case 1:if(mqe(r),r.mode=g2,e===p2){u>>>=2,f-=2;break e}break;case 2:r.mode=pG;break;case 3:t.msg="invalid block type",r.mode=rs}u>>>=2,f-=2;break;case hG:for(u>>>=f&7,f-=f&7;f<32;){if(l===0)break e;l--,u+=n[i++]<<f,f+=8}if((u&65535)!==(u>>>16^65535)){t.msg="invalid stored block lengths",r.mode=rs;break}if(r.length=u&65535,u=0,f=0,r.mode=FT,e===p2)break e;case FT:r.mode=mG;case mG:if(p=r.length,p){if(p>l&&(p=l),p>c&&(p=c),p===0)break e;s.set(n.subarray(i,i+p),o),l-=p,i+=p,c-=p,o+=p,r.length-=p;break}r.mode=af;break;case pG:for(;f<14;){if(l===0)break e;l--,u+=n[i++]<<f,f+=8}if(r.nlen=(u&31)+257,u>>>=5,f-=5,r.ndist=(u&31)+1,u>>>=5,f-=5,r.ncode=(u&15)+4,u>>>=4,f-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=rs;break}r.have=0,r.mode=gG;case gG:for(;r.have<r.ncode;){for(;f<3;){if(l===0)break e;l--,u+=n[i++]<<f,f+=8}r.lens[M[r.have++]]=u&7,u>>>=3,f-=3}for(;r.have<19;)r.lens[M[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,F={bits:r.lenbits},L=qy(nqe,r.lens,0,19,r.lencode,0,r.work,F),r.lenbits=F.bits,L){t.msg="invalid code lengths set",r.mode=rs;break}r.have=0,r.mode=xG;case xG:for(;r.have<r.nlen+r.ndist;){for(;y=r.lencode[u&(1<<r.lenbits)-1],N=y>>>24,k=y>>>16&255,S=y&65535,!(N<=f);){if(l===0)break e;l--,u+=n[i++]<<f,f+=8}if(S<16)u>>>=N,f-=N,r.lens[r.have++]=S;else{if(S===16){for(A=N+2;f<A;){if(l===0)break e;l--,u+=n[i++]<<f,f+=8}if(u>>>=N,f-=N,r.have===0){t.msg="invalid bit length repeat",r.mode=rs;break}E=r.lens[r.have-1],p=3+(u&3),u>>>=2,f-=2}else if(S===17){for(A=N+3;f<A;){if(l===0)break e;l--,u+=n[i++]<<f,f+=8}u>>>=N,f-=N,E=0,p=3+(u&7),u>>>=3,f-=3}else{for(A=N+7;f<A;){if(l===0)break e;l--,u+=n[i++]<<f,f+=8}u>>>=N,f-=N,E=0,p=11+(u&127),u>>>=7,f-=7}if(r.have+p>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=rs;break}for(;p--;)r.lens[r.have++]=E}}if(r.mode===rs)break;if(r.lens[256]===0){t.msg="invalid code -- missing end-of-block",r.mode=rs;break}if(r.lenbits=9,F={bits:r.lenbits},L=qy(Vae,r.lens,0,r.nlen,r.lencode,0,r.work,F),r.lenbits=F.bits,L){t.msg="invalid literal/lengths set",r.mode=rs;break}if(r.distbits=6,r.distcode=r.distdyn,F={bits:r.distbits},L=qy(Gae,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,F),r.distbits=F.bits,L){t.msg="invalid distances set",r.mode=rs;break}if(r.mode=g2,e===p2)break e;case g2:r.mode=x2;case x2:if(l>=6&&c>=258){t.next_out=o,t.avail_out=c,t.next_in=i,t.avail_in=l,r.hold=u,r.bits=f,Xze(t,g),o=t.next_out,s=t.output,c=t.avail_out,i=t.next_in,n=t.input,l=t.avail_in,u=r.hold,f=r.bits,r.mode===af&&(r.back=-1);break}for(r.back=0;y=r.lencode[u&(1<<r.lenbits)-1],N=y>>>24,k=y>>>16&255,S=y&65535,!(N<=f);){if(l===0)break e;l--,u+=n[i++]<<f,f+=8}if(k&&(k&240)===0){for(T=N,_=k,D=S;y=r.lencode[D+((u&(1<<T+_)-1)>>T)],N=y>>>24,k=y>>>16&255,S=y&65535,!(T+N<=f);){if(l===0)break e;l--,u+=n[i++]<<f,f+=8}u>>>=T,f-=T,r.back+=T}if(u>>>=N,f-=N,r.back+=N,r.length=S,k===0){r.mode=jG;break}if(k&32){r.back=-1,r.mode=af;break}if(k&64){t.msg="invalid literal/length code",r.mode=rs;break}r.extra=k&15,r.mode=bG;case bG:if(r.extra){for(A=r.extra;f<A;){if(l===0)break e;l--,u+=n[i++]<<f,f+=8}r.length+=u&(1<<r.extra)-1,u>>>=r.extra,f-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=yG;case yG:for(;y=r.distcode[u&(1<<r.distbits)-1],N=y>>>24,k=y>>>16&255,S=y&65535,!(N<=f);){if(l===0)break e;l--,u+=n[i++]<<f,f+=8}if((k&240)===0){for(T=N,_=k,D=S;y=r.distcode[D+((u&(1<<T+_)-1)>>T)],N=y>>>24,k=y>>>16&255,S=y&65535,!(T+N<=f);){if(l===0)break e;l--,u+=n[i++]<<f,f+=8}u>>>=T,f-=T,r.back+=T}if(u>>>=N,f-=N,r.back+=N,k&64){t.msg="invalid distance code",r.mode=rs;break}r.offset=S,r.extra=k&15,r.mode=vG;case vG:if(r.extra){for(A=r.extra;f<A;){if(l===0)break e;l--,u+=n[i++]<<f,f+=8}r.offset+=u&(1<<r.extra)-1,u>>>=r.extra,f-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=rs;break}r.mode=wG;case wG:if(c===0)break e;if(p=g-c,r.offset>p){if(p=r.offset-p,p>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=rs;break}p>r.wnext?(p-=r.wnext,v=r.wsize-p):v=r.wnext-p,p>r.length&&(p=r.length),w=r.window}else w=s,v=o-r.offset,p=r.length;p>c&&(p=c),c-=p,r.length-=p;do s[o++]=w[v++];while(--p);r.length===0&&(r.mode=x2);break;case jG:if(c===0)break e;s[o++]=r.length,c--,r.mode=x2;break;case BT:if(r.wrap){for(;f<32;){if(l===0)break e;l--,u|=n[i++]<<f,f+=8}if(g-=c,t.total_out+=g,r.total+=g,r.wrap&4&&g&&(t.adler=r.check=r.flags?Iu(r.check,s,g,o-g):kO(r.check,s,g,o-g)),g=c,r.wrap&4&&(r.flags?u:kG(u))!==r.check){t.msg="incorrect data check",r.mode=rs;break}u=0,f=0}r.mode=NG;case NG:if(r.wrap&&r.flags){for(;f<32;){if(l===0)break e;l--,u+=n[i++]<<f,f+=8}if(r.wrap&4&&u!==(r.total&4294967295)){t.msg="incorrect length check",r.mode=rs;break}u=0,f=0}r.mode=SG;case SG:L=sqe;break e;case rs:L=Yae;break e;case Jae:return Kae;case Xae:default:return Nc}return t.next_out=o,t.avail_out=c,t.next_in=i,t.avail_in=l,r.hold=u,r.bits=f,(r.wsize||g!==t.avail_out&&r.mode<rs&&(r.mode<BT||e!==rG))&&rse(t,t.output,t.next_out,g-t.avail_out),h-=t.avail_in,g-=t.avail_out,t.total_in+=h,t.total_out+=g,r.total+=g,r.wrap&4&&g&&(t.adler=r.check=r.flags?Iu(r.check,s,g,t.next_out-g):kO(r.check,s,g,t.next_out-g)),t.data_type=r.bits+(r.last?64:0)+(r.mode===af?128:0)+(r.mode===g2||r.mode===FT?256:0),(h===0&&g===0||e===rG)&&L===Jp&&(L=oqe),L},gqe=t=>{if(s0(t))return Nc;let e=t.state;return e.window&&(e.window=null),t.state=null,Jp},xqe=(t,e)=>{if(s0(t))return Nc;const r=t.state;return(r.wrap&2)===0?Nc:(r.head=e,e.done=!1,Jp)},bqe=(t,e)=>{const r=e.length;let n,s,i;return s0(t)||(n=t.state,n.wrap!==0&&n.mode!==wN)?Nc:n.mode===wN&&(s=1,s=kO(s,e,r,0),s!==n.check)?Yae:(i=rse(t,e,r,r),i?(n.mode=Jae,Kae):(n.havedict=1,Jp))};var yqe=Zae,vqe=ese,wqe=Qae,jqe=hqe,Nqe=tse,Sqe=pqe,kqe=gqe,Cqe=xqe,_qe=bqe,Aqe="pako inflate (from Nodeca project)",uf={inflateReset:yqe,inflateReset2:vqe,inflateResetKeep:wqe,inflateInit:jqe,inflateInit2:Nqe,inflate:Sqe,inflateEnd:kqe,inflateGetHeader:Cqe,inflateSetDictionary:_qe,inflateInfo:Aqe};function Tqe(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Mqe=Tqe;const nse=Object.prototype.toString,{Z_NO_FLUSH:Eqe,Z_FINISH:Oqe,Z_OK:Jv,Z_STREAM_END:zT,Z_NEED_DICT:qT,Z_STREAM_ERROR:Dqe,Z_DATA_ERROR:_G,Z_MEM_ERROR:Pqe}=qae;function j1(t){this.options=Uae.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Kze,this.strm.avail_out=0;let r=uf.inflateInit2(this.strm,e.windowBits);if(r!==Jv)throw new Error(CO[r]);if(this.header=new Mqe,uf.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=_O.string2buf(e.dictionary):nse.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=uf.inflateSetDictionary(this.strm,e.dictionary),r!==Jv)))throw new Error(CO[r])}j1.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize,s=this.options.dictionary;let i,o,l;if(this.ended)return!1;for(e===~~e?o=e:o=e===!0?Oqe:Eqe,nse.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),i=uf.inflate(r,o),i===qT&&s&&(i=uf.inflateSetDictionary(r,s),i===Jv?i=uf.inflate(r,o):i===_G&&(i=qT));r.avail_in>0&&i===zT&&r.state.wrap>0&&t[r.next_in]!==0;)uf.inflateReset(r),i=uf.inflate(r,o);switch(i){case Dqe:case _G:case qT:case Pqe:return this.onEnd(i),this.ended=!0,!1}if(l=r.avail_out,r.next_out&&(r.avail_out===0||i===zT))if(this.options.to==="string"){let c=_O.utf8border(r.output,r.next_out),u=r.next_out-c,f=_O.buf2string(r.output,c);r.next_out=u,r.avail_out=n-u,u&&r.output.set(r.output.subarray(c,c+u),0),this.onData(f)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(i===Jv&&l===0)){if(i===zT)return i=uf.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};j1.prototype.onData=function(t){this.chunks.push(t)};j1.prototype.onEnd=function(t){t===Jv&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Uae.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function Lqe(t,e){const r=new j1(e);if(r.push(t),r.err)throw r.msg||CO[r.err];return r.result}var Rqe=j1,Iqe=Lqe,Fqe={Inflate:Rqe,inflate:Iqe};const{Inflate:Bqe,inflate:$qe}=Fqe;var AG=Bqe,Hqe=$qe;const ase=[];for(let t=0;t<256;t++){let e=t;for(let r=0;r<8;r++)e&1?e=3988292384^e>>>1:e=e>>>1;ase[t]=e}const TG=4294967295;function zqe(t,e,r){let n=t;for(let s=0;s<r;s++)n=ase[(n^e[s])&255]^n>>>8;return n}function qqe(t,e){return(zqe(TG,t,e)^TG)>>>0}function MG(t,e,r){const n=t.readUint32(),s=qqe(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(s!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${s}`)}function sse(t,e,r){for(let n=0;n<r;n++)e[n]=t[n]}function ise(t,e,r,n){let s=0;for(;s<n;s++)e[s]=t[s];for(;s<r;s++)e[s]=t[s]+e[s-n]&255}function ose(t,e,r,n){let s=0;if(r.length===0)for(;s<n;s++)e[s]=t[s];else for(;s<n;s++)e[s]=t[s]+r[s]&255}function lse(t,e,r,n,s){let i=0;if(r.length===0){for(;i<s;i++)e[i]=t[i];for(;i<n;i++)e[i]=t[i]+(e[i-s]>>1)&255}else{for(;i<s;i++)e[i]=t[i]+(r[i]>>1)&255;for(;i<n;i++)e[i]=t[i]+(e[i-s]+r[i]>>1)&255}}function cse(t,e,r,n,s){let i=0;if(r.length===0){for(;i<s;i++)e[i]=t[i];for(;i<n;i++)e[i]=t[i]+e[i-s]&255}else{for(;i<s;i++)e[i]=t[i]+r[i]&255;for(;i<n;i++)e[i]=t[i]+Uqe(e[i-s],r[i],r[i-s])&255}}function Uqe(t,e,r){const n=t+e-r,s=Math.abs(n-t),i=Math.abs(n-e),o=Math.abs(n-r);return s<=i&&s<=o?t:i<=o?e:r}function Wqe(t,e,r,n,s,i){switch(t){case 0:sse(e,r,s);break;case 1:ise(e,r,s,i);break;case 2:ose(e,r,n,s);break;case 3:lse(e,r,n,s,i);break;case 4:cse(e,r,n,s,i);break;default:throw new Error(`Unsupported filter: ${t}`)}}const Vqe=new Uint16Array([255]),Gqe=new Uint8Array(Vqe.buffer),Yqe=Gqe[0]===255;function Kqe(t){const{data:e,width:r,height:n,channels:s,depth:i}=t,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],l=Math.ceil(i/8)*s,c=new Uint8Array(n*r*l);let u=0;for(let f=0;f<7;f++){const h=o[f],g=Math.ceil((r-h.x)/h.xStep),p=Math.ceil((n-h.y)/h.yStep);if(g<=0||p<=0)continue;const v=g*l,w=new Uint8Array(v);for(let y=0;y<p;y++){const N=e[u++],k=e.subarray(u,u+v);u+=v;const S=new Uint8Array(v);Wqe(N,k,S,w,v,l),w.set(S);for(let T=0;T<g;T++){const _=h.x+T*h.xStep,D=h.y+y*h.yStep;if(!(_>=r||D>=n))for(let E=0;E<l;E++)c[(D*r+_)*l+E]=S[T*l+E]}}}if(i===16){const f=new Uint16Array(c.buffer);if(Yqe)for(let h=0;h<f.length;h++)f[h]=Jqe(f[h]);return f}else return c}function Jqe(t){return(t&255)<<8|t>>8&255}const Xqe=new Uint16Array([255]),Qqe=new Uint8Array(Xqe.buffer),Zqe=Qqe[0]===255,eUe=new Uint8Array(0);function EG(t){const{data:e,width:r,height:n,channels:s,depth:i}=t,o=Math.ceil(i/8)*s,l=Math.ceil(i/8*s*r),c=new Uint8Array(n*l);let u=eUe,f=0,h,g;for(let p=0;p<n;p++){switch(h=e.subarray(f+1,f+1+l),g=c.subarray(p*l,(p+1)*l),e[f]){case 0:sse(h,g,l);break;case 1:ise(h,g,l,o);break;case 2:ose(h,g,u,l);break;case 3:lse(h,g,u,l,o);break;case 4:cse(h,g,u,l,o);break;default:throw new Error(`Unsupported filter: ${e[f]}`)}u=g,f+=l+1}if(i===16){const p=new Uint16Array(c.buffer);if(Zqe)for(let v=0;v<p.length;v++)p[v]=tUe(p[v]);return p}else return c}function tUe(t){return(t&255)<<8|t>>8&255}const J2=Uint8Array.of(137,80,78,71,13,10,26,10);function OG(t){if(!rUe(t.readBytes(J2.length)))throw new Error("wrong PNG signature")}function rUe(t){if(t.length<J2.length)return!1;for(let e=0;e<J2.length;e++)if(t[e]!==J2[e])return!1;return!0}const nUe="tEXt",aUe=0,use=new TextDecoder("latin1");function sUe(t){if(oUe(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const iUe=/^[\u0000-\u00FF]*$/;function oUe(t){if(!iUe.test(t))throw new Error("invalid latin1 text")}function lUe(t,e,r){const n=dse(e);t[n]=cUe(e,r-n.length-1)}function dse(t){for(t.mark();t.readByte()!==aUe;);const e=t.offset;t.reset();const r=use.decode(t.readBytes(e-t.offset-1));return t.skip(1),sUe(r),r}function cUe(t,e){return use.decode(t.readBytes(e))}const jl={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},UT={UNKNOWN:-1,DEFLATE:0},DG={UNKNOWN:-1,ADAPTIVE:0},WT={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},b2={NONE:0,BACKGROUND:1,PREVIOUS:2},VT={SOURCE:0,OVER:1};class uUe extends FL{constructor(r,n={}){super(r);Jt(this,"_checkCrc");Jt(this,"_inflator");Jt(this,"_png");Jt(this,"_apng");Jt(this,"_end");Jt(this,"_hasPalette");Jt(this,"_palette");Jt(this,"_hasTransparency");Jt(this,"_transparency");Jt(this,"_compressionMethod");Jt(this,"_filterMethod");Jt(this,"_interlaceMethod");Jt(this,"_colorType");Jt(this,"_isAnimated");Jt(this,"_numberOfFrames");Jt(this,"_numberOfPlays");Jt(this,"_frames");Jt(this,"_writingDataChunks");const{checkCrc:s=!1}=n;this._checkCrc=s,this._inflator=new AG,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=UT.UNKNOWN,this._filterMethod=DG.UNKNOWN,this._interlaceMethod=WT.UNKNOWN,this._colorType=jl.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(OG(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeChunk(r,n)}return this.decodeImage(),this._png}decodeApng(){for(OG(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(r,n)}return this.decodeApngImage(),this._apng}decodeChunk(r,n){const s=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case nUe:lUe(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-s!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?MG(this,r+4,n):this.skip(4)}decodeApngChunk(r,n){const s=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,n),this.offset=s+r;break}if(this.offset-s!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?MG(this,r+4,n):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=dUe(this.readUint8());const n=this.readUint8();this._colorType=n;let s;switch(n){case jl.GREYSCALE:s=1;break;case jl.TRUECOLOUR:s=3;break;case jl.INDEXED_COLOUR:s=1;break;case jl.GREYSCALE_ALPHA:s=2;break;case jl.TRUECOLOUR_ALPHA:s=4;break;case jl.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=s,this._compressionMethod=this.readUint8(),this._compressionMethod!==UT.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const n=r/3;this._hasPalette=!0;const s=[];this._palette=s;for(let i=0;i<n;i++)s.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const n=r,s=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,s,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let n=r,s=this.offset+this.byteOffset;if(s+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,s,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case jl.GREYSCALE:case jl.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let n=0;n<r/2;n++)this._transparency[n]=this.readUint16();break}case jl.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let n=0;for(;n<r;n++){const s=this.readByte();this._palette[n].push(s)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case jl.UNKNOWN:case jl.GREYSCALE_ALPHA:case jl.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const n=dse(this),s=this.readUint8();if(s!==UT.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${s}`);const i=this.readBytes(r-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:Hqe(i)}}decodepHYs(){const r=this.readUint32(),n=this.readUint32(),s=this.readByte();this._png.resolution={x:r,y:n,unit:s}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const n={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},s=this._frames.at(r);if(s){if(s.data=EG({data:s.data,width:s.width,height:s.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||s.xOffset===0&&s.yOffset===0&&s.width===this._png.width&&s.height===this._png.height)n.data=s.data;else{const i=this._apng.frames.at(r-1);this.disposeFrame(s,i,n),this.addFrameDataToCanvas(n,s)}this._apng.frames.push(n)}}return this._apng}disposeFrame(r,n,s){switch(r.disposeOp){case b2.NONE:break;case b2.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let o=0;o<this._png.width;o++){const l=(i*r.width+o)*this._png.channels;for(let c=0;c<this._png.channels;c++)s.data[l+c]=0}break;case b2.PREVIOUS:s.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,n){const s=1<<this._png.depth,i=(o,l)=>{const c=((o+n.yOffset)*this._png.width+n.xOffset+l)*this._png.channels,u=(o*n.width+l)*this._png.channels;return{index:c,frameIndex:u}};switch(n.blendOp){case VT.SOURCE:for(let o=0;o<n.height;o++)for(let l=0;l<n.width;l++){const{index:c,frameIndex:u}=i(o,l);for(let f=0;f<this._png.channels;f++)r.data[c+f]=n.data[u+f]}break;case VT.OVER:for(let o=0;o<n.height;o++)for(let l=0;l<n.width;l++){const{index:c,frameIndex:u}=i(o,l);for(let f=0;f<this._png.channels;f++){const h=n.data[u+this._png.channels-1]/s,g=f%(this._png.channels-1)===0?1:n.data[u+f],p=Math.floor(h*g+(1-h)*r.data[c+f]);r.data[c+f]+=p}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==DG.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===WT.NO_INTERLACE)this._png.data=EG({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===WT.ADAM7)this._png.data=Kqe({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,n=this._frames.at(-1);n?n.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:b2.NONE,blendOp:VT.SOURCE,data:r}),this._inflator=new AG,this._writingDataChunks=!1}}function dUe(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var PG;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(PG||(PG={}));function fUe(t,e){return new uUe(t,e).decode()}var Zr=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function GT(){Zr.console&&typeof Zr.console.log=="function"&&Zr.console.log.apply(Zr.console,arguments)}var Ma={log:GT,warn:function(t){Zr.console&&(typeof Zr.console.warn=="function"?Zr.console.warn.apply(Zr.console,arguments):GT.call(null,arguments))},error:function(t){Zr.console&&(typeof Zr.console.error=="function"?Zr.console.error.apply(Zr.console,arguments):GT(t))}};function YT(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){ep(n.response,e,r)},n.onerror=function(){Ma.error("could not download file")},n.send()}function LG(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function y2(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var ep=Zr.saveAs||((typeof window>"u"?"undefined":zn(window))!=="object"||window!==Zr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=Zr.URL||Zr.webkitURL,s=document.createElement("a");e=e||t.name||"download",s.download=e,s.rel="noopener",typeof t=="string"?(s.href=t,s.origin!==location.origin?LG(s.href)?YT(t,e,r):y2(s,s.target="_blank"):y2(s)):(s.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(s.href)},4e4),setTimeout(function(){y2(s)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(LG(t))YT(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){y2(n)})}else navigator.msSaveOrOpenBlob((function(s,i){return i===void 0?i={autoBom:!1}:zn(i)!=="object"&&(Ma.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s})(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return YT(t,e,r);var s=t.type==="application/octet-stream",i=/constructor/i.test(Zr.HTMLElement)||Zr.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||s&&i)&&(typeof FileReader>"u"?"undefined":zn(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var f=l.result;f=o?f:f.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=f:location=f,n=null},l.readAsDataURL(t)}else{var c=Zr.URL||Zr.webkitURL,u=c.createObjectURL(t);n?n.location=u:location.href=u,n=null,setTimeout(function(){c.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function fse(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<r.length;n++){var s=r[n].re,i=r[n].process,o=s.exec(t);o&&(e=i(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),u=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),"#"+l+c+u}}var X2=Zr.atob.bind(Zr),RG=Zr.btoa.bind(Zr);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function KT(t,e){var r=t[0],n=t[1],s=t[2],i=t[3];r=io(r,n,s,i,e[0],7,-680876936),i=io(i,r,n,s,e[1],12,-389564586),s=io(s,i,r,n,e[2],17,606105819),n=io(n,s,i,r,e[3],22,-1044525330),r=io(r,n,s,i,e[4],7,-176418897),i=io(i,r,n,s,e[5],12,1200080426),s=io(s,i,r,n,e[6],17,-1473231341),n=io(n,s,i,r,e[7],22,-45705983),r=io(r,n,s,i,e[8],7,1770035416),i=io(i,r,n,s,e[9],12,-1958414417),s=io(s,i,r,n,e[10],17,-42063),n=io(n,s,i,r,e[11],22,-1990404162),r=io(r,n,s,i,e[12],7,1804603682),i=io(i,r,n,s,e[13],12,-40341101),s=io(s,i,r,n,e[14],17,-1502002290),r=oo(r,n=io(n,s,i,r,e[15],22,1236535329),s,i,e[1],5,-165796510),i=oo(i,r,n,s,e[6],9,-1069501632),s=oo(s,i,r,n,e[11],14,643717713),n=oo(n,s,i,r,e[0],20,-373897302),r=oo(r,n,s,i,e[5],5,-701558691),i=oo(i,r,n,s,e[10],9,38016083),s=oo(s,i,r,n,e[15],14,-660478335),n=oo(n,s,i,r,e[4],20,-405537848),r=oo(r,n,s,i,e[9],5,568446438),i=oo(i,r,n,s,e[14],9,-1019803690),s=oo(s,i,r,n,e[3],14,-187363961),n=oo(n,s,i,r,e[8],20,1163531501),r=oo(r,n,s,i,e[13],5,-1444681467),i=oo(i,r,n,s,e[2],9,-51403784),s=oo(s,i,r,n,e[7],14,1735328473),r=lo(r,n=oo(n,s,i,r,e[12],20,-1926607734),s,i,e[5],4,-378558),i=lo(i,r,n,s,e[8],11,-2022574463),s=lo(s,i,r,n,e[11],16,1839030562),n=lo(n,s,i,r,e[14],23,-35309556),r=lo(r,n,s,i,e[1],4,-1530992060),i=lo(i,r,n,s,e[4],11,1272893353),s=lo(s,i,r,n,e[7],16,-155497632),n=lo(n,s,i,r,e[10],23,-1094730640),r=lo(r,n,s,i,e[13],4,681279174),i=lo(i,r,n,s,e[0],11,-358537222),s=lo(s,i,r,n,e[3],16,-722521979),n=lo(n,s,i,r,e[6],23,76029189),r=lo(r,n,s,i,e[9],4,-640364487),i=lo(i,r,n,s,e[12],11,-421815835),s=lo(s,i,r,n,e[15],16,530742520),r=co(r,n=lo(n,s,i,r,e[2],23,-995338651),s,i,e[0],6,-198630844),i=co(i,r,n,s,e[7],10,1126891415),s=co(s,i,r,n,e[14],15,-1416354905),n=co(n,s,i,r,e[5],21,-57434055),r=co(r,n,s,i,e[12],6,1700485571),i=co(i,r,n,s,e[3],10,-1894986606),s=co(s,i,r,n,e[10],15,-1051523),n=co(n,s,i,r,e[1],21,-2054922799),r=co(r,n,s,i,e[8],6,1873313359),i=co(i,r,n,s,e[15],10,-30611744),s=co(s,i,r,n,e[6],15,-1560198380),n=co(n,s,i,r,e[13],21,1309151649),r=co(r,n,s,i,e[4],6,-145523070),i=co(i,r,n,s,e[11],10,-1120210379),s=co(s,i,r,n,e[2],15,718787259),n=co(n,s,i,r,e[9],21,-343485551),t[0]=Jh(r,t[0]),t[1]=Jh(n,t[1]),t[2]=Jh(s,t[2]),t[3]=Jh(i,t[3])}function US(t,e,r,n,s,i){return e=Jh(Jh(e,t),Jh(n,i)),Jh(e<<s|e>>>32-s,r)}function io(t,e,r,n,s,i,o){return US(e&r|~e&n,t,e,s,i,o)}function oo(t,e,r,n,s,i,o){return US(e&n|r&~n,t,e,s,i,o)}function lo(t,e,r,n,s,i,o){return US(e^r^n,t,e,s,i,o)}function co(t,e,r,n,s,i,o){return US(r^(e|~n),t,e,s,i,o)}function hse(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)KT(n,hUe(t.substring(e-64,e)));t=t.substring(e-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)s[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(s[e>>2]|=128<<(e%4<<3),e>55)for(KT(n,s),e=0;e<16;e++)s[e]=0;return s[14]=8*r,KT(n,s),n}function hUe(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}var IG="0123456789abcdef".split("");function mUe(t){for(var e="",r=0;r<4;r++)e+=IG[t>>8*r+4&15]+IG[t>>8*r&15];return e}function pUe(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function AO(t){return hse(t).map(pUe).join("")}var gUe=(function(t){for(var e=0;e<t.length;e++)t[e]=mUe(t[e]);return t.join("")})(hse("hello"))!="5d41402abc4b2a76b9719d911017c592";function Jh(t,e){if(gUe){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function TO(t,e){var r,n,s,i;if(t!==r){for(var o=(s=t,i=1+(256/t.length|0),new Array(i+1).join(s)),l=[],c=0;c<256;c++)l[c]=c;var u=0;for(c=0;c<256;c++){var f=l[c];u=(u+f+o.charCodeAt(c))%256,l[c]=l[u],l[u]=f}r=t,n=l}else l=n;var h=e.length,g=0,p=0,v="";for(c=0;c<h;c++)p=(p+(f=l[g=(g+1)%256]))%256,l[g]=l[p],l[p]=f,o=l[(l[g]+l[p])%256],v+=String.fromCharCode(e.charCodeAt(c)^o);return v}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var FG={print:4,modify:8,copy:16,"annot-forms":32};function ug(t,e,r,n){this.v=1,this.r=2;var s=192;t.forEach(function(l){if(FG.perm!==void 0)throw new Error("Invalid permission: "+l);s+=FG[l]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var i=(e+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,o),this.P=-(1+(255^s)),this.encryptionKey=AO(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=TO(this.encryptionKey,this.padding)}function dg(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var s=t.charCodeAt(n);e+=s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?"#"+("0"+s.toString(16)).slice(-2):t[n]}return e}function BG(t){if(zn(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,s){if(s=s||!1,typeof r!="string"||typeof n!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var i=Math.random().toString(35);return e[r][i]=[n,!!s],i},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),s=[];for(var i in e[r]){var o=e[r][i];try{o[0].apply(t,n)}catch(l){Zr.console&&Ma.error("jsPDF PubSub Error",l.message,l)}o[1]&&s.push(i)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function jN(t){if(!(this instanceof jN))return new jN(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function mse(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function np(t,e,r,n,s){if(!(this instanceof np))return new np(t,e,r,n,s);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,mse.call(this,n,s)}function Ng(t,e,r,n,s){if(!(this instanceof Ng))return new Ng(t,e,r,n,s);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,mse.call(this,n,s)}function Tr(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],s=arguments[2],i=arguments[3],o=[],l=1,c=16,u="S",f=null;zn(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,s=t.format||s,i=t.compress||t.compressPdf||i,(f=t.encryption||null)!==null&&(f.userPassword=f.userPassword||"",f.ownerPassword=f.ownerPassword||"",f.userPermissions=f.userPermissions||[]),l=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(c=t.floatPrecision),u=t.defaultPathOperation||"S"),o=t.filters||(i===!0?["FlateEncode"]:o),n=n||"mm",r=(""+(r||"P")).toLowerCase();var h=t.putOnlyUsedFonts||!1,g={},p={internal:{},__private__:{}};p.__private__.PubSub=BG;var v="1.3",w=p.__private__.getPdfVersion=function(){return v};p.__private__.setPdfVersion=function(U){v=U};var y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return y};var N=p.__private__.getPageFormat=function(U){return y[U]};s=s||"a4";var k="compat",S="advanced",T=k;function _(){this.saveGraphicsState(),se(new et(ze,0,0,-ze,0,Oc()*ze).toString()+" cm"),this.setFontSize(this.getFontSize()/ze),u="n",T=S}function D(){this.restoreGraphicsState(),u="S",T=k}var E=p.__private__.combineFontStyleAndFontWeight=function(U,ue){if(U=="bold"&&ue=="normal"||U=="bold"&&ue==400||U=="normal"&&ue=="italic"||U=="bold"&&ue=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return ue&&(U=ue==400||ue==="normal"?U==="italic"?"italic":"normal":ue!=700&&ue!=="bold"||U!=="normal"?(ue==700?"bold":ue)+""+U:"bold"),U};p.advancedAPI=function(U){var ue=T===k;return ue&&_.call(this),typeof U!="function"||(U(this),ue&&D.call(this)),this},p.compatAPI=function(U){var ue=T===S;return ue&&D.call(this),typeof U!="function"||(U(this),ue&&_.call(this)),this},p.isAdvancedAPI=function(){return T===S};var L,R=function(U){if(T!==S)throw new Error(U+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},F=p.roundToPrecision=p.__private__.roundToPrecision=function(U,ue){var Be=e||ue;if(isNaN(U)||isNaN(Be))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return U.toFixed(Be).replace(/0+$/,"")};L=p.hpf=p.__private__.hpf=typeof c=="number"?function(U){if(isNaN(U))throw new Error("Invalid argument passed to jsPDF.hpf");return F(U,c)}:c==="smart"?function(U){if(isNaN(U))throw new Error("Invalid argument passed to jsPDF.hpf");return F(U,U>-1&&U<1?16:5)}:function(U){if(isNaN(U))throw new Error("Invalid argument passed to jsPDF.hpf");return F(U,16)};var A=p.f2=p.__private__.f2=function(U){if(isNaN(U))throw new Error("Invalid argument passed to jsPDF.f2");return F(U,2)},M=p.__private__.f3=function(U){if(isNaN(U))throw new Error("Invalid argument passed to jsPDF.f3");return F(U,3)},B=p.scale=p.__private__.scale=function(U){if(isNaN(U))throw new Error("Invalid argument passed to jsPDF.scale");return T===k?U*ze:T===S?U:void 0},z=function(U){return B((function(ue){return T===k?Oc()-ue:T===S?ue:void 0})(U))};p.__private__.setPrecision=p.setPrecision=function(U){typeof parseInt(U,10)=="number"&&(e=parseInt(U,10))};var Y,W="00000000000000000000000000000000",H=p.__private__.getFileId=function(){return W},q=p.__private__.setFileId=function(U){return W=U!==void 0&&/^[a-fA-F0-9]{32}$/.test(U)?U.toUpperCase():W.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),f!==null&&($a=new ug(f.userPermissions,f.userPassword,f.ownerPassword,W)),W};p.setFileId=function(U){return q(U),this},p.getFileId=function(){return H()};var X=p.__private__.convertDateToPDFDate=function(U){var ue=U.getTimezoneOffset(),Be=ue<0?"+":"-",Ze=Math.floor(Math.abs(ue/60)),ft=Math.abs(ue%60),Pt=[Be,Q(Ze),"'",Q(ft),"'"].join("");return["D:",U.getFullYear(),Q(U.getMonth()+1),Q(U.getDate()),Q(U.getHours()),Q(U.getMinutes()),Q(U.getSeconds()),Pt].join("")},oe=p.__private__.convertPDFDateToDate=function(U){var ue=parseInt(U.substr(2,4),10),Be=parseInt(U.substr(6,2),10)-1,Ze=parseInt(U.substr(8,2),10),ft=parseInt(U.substr(10,2),10),Pt=parseInt(U.substr(12,2),10),qt=parseInt(U.substr(14,2),10);return new Date(ue,Be,Ze,ft,Pt,qt,0)},K=p.__private__.setCreationDate=function(U){var ue;if(U===void 0&&(U=new Date),U instanceof Date)ue=X(U);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(U))throw new Error("Invalid argument passed to jsPDF.setCreationDate");ue=U}return Y=ue},V=p.__private__.getCreationDate=function(U){var ue=Y;return U==="jsDate"&&(ue=oe(Y)),ue};p.setCreationDate=function(U){return K(U),this},p.getCreationDate=function(U){return V(U)};var J,Q=p.__private__.padd2=function(U){return("0"+parseInt(U)).slice(-2)},re=p.__private__.padd2Hex=function(U){return("00"+(U=U.toString())).substr(U.length)},ce=0,Ee=[],ke=[],ge=0,Ce=[],Ke=[],fe=!1,ye=ke;p.__private__.setCustomOutputDestination=function(U){fe=!0,ye=U};var ae=function(U){fe||(ye=U)};p.__private__.resetCustomOutputDestination=function(){fe=!1,ye=ke};var se=p.__private__.out=function(U){return U=U.toString(),ge+=U.length+1,ye.push(U),ye},bt=p.__private__.write=function(U){return se(arguments.length===1?U.toString():Array.prototype.join.call(arguments," "))},pt=p.__private__.getArrayBuffer=function(U){for(var ue=U.length,Be=new ArrayBuffer(ue),Ze=new Uint8Array(Be);ue--;)Ze[ue]=U.charCodeAt(ue);return Be},Re=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return Re};var Me=t.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(U){return Me=T===S?U/ze:U,this};var qe,tt=p.__private__.getFontSize=p.getFontSize=function(){return T===k?Me:Me*ze},Ve=t.R2L||!1;p.__private__.setR2L=p.setR2L=function(U){return Ve=U,this},p.__private__.getR2L=p.getR2L=function(){return Ve};var Te,le=p.__private__.setZoomMode=function(U){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(U))qe=U;else if(isNaN(U)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(U)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+U+'" is not recognized.');qe=U}else qe=parseInt(U,10)};p.__private__.getZoomMode=function(){return qe};var Je,Ge=p.__private__.setPageMode=function(U){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(U)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+U+'" is not recognized.');Te=U};p.__private__.getPageMode=function(){return Te};var ut=p.__private__.setLayoutMode=function(U){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(U)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+U+'" is not recognized.');Je=U};p.__private__.getLayoutMode=function(){return Je},p.__private__.setDisplayMode=p.setDisplayMode=function(U,ue,Be){return le(U),ut(ue),Ge(Be),this};var Pe={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(U){if(Object.keys(Pe).indexOf(U)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Pe[U]},p.__private__.getDocumentProperties=function(){return Pe},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(U){for(var ue in Pe)Pe.hasOwnProperty(ue)&&U[ue]&&(Pe[ue]=U[ue]);return this},p.__private__.setDocumentProperty=function(U,ue){if(Object.keys(Pe).indexOf(U)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Pe[U]=ue};var Ne,ze,me,De,je,We={},rt={},ve=[],xe={},Qe={},yt={},st={},_e=null,te=0,Fe=[],Xe=new BG(p),lt=t.hotfixes||[],wt={},$e={},Ue=[],et=function U(ue,Be,Ze,ft,Pt,qt){if(!(this instanceof U))return new U(ue,Be,Ze,ft,Pt,qt);isNaN(ue)&&(ue=1),isNaN(Be)&&(Be=0),isNaN(Ze)&&(Ze=0),isNaN(ft)&&(ft=1),isNaN(Pt)&&(Pt=0),isNaN(qt)&&(qt=0),this._matrix=[ue,Be,Ze,ft,Pt,qt]};Object.defineProperty(et.prototype,"sx",{get:function(){return this._matrix[0]},set:function(U){this._matrix[0]=U}}),Object.defineProperty(et.prototype,"shy",{get:function(){return this._matrix[1]},set:function(U){this._matrix[1]=U}}),Object.defineProperty(et.prototype,"shx",{get:function(){return this._matrix[2]},set:function(U){this._matrix[2]=U}}),Object.defineProperty(et.prototype,"sy",{get:function(){return this._matrix[3]},set:function(U){this._matrix[3]=U}}),Object.defineProperty(et.prototype,"tx",{get:function(){return this._matrix[4]},set:function(U){this._matrix[4]=U}}),Object.defineProperty(et.prototype,"ty",{get:function(){return this._matrix[5]},set:function(U){this._matrix[5]=U}}),Object.defineProperty(et.prototype,"a",{get:function(){return this._matrix[0]},set:function(U){this._matrix[0]=U}}),Object.defineProperty(et.prototype,"b",{get:function(){return this._matrix[1]},set:function(U){this._matrix[1]=U}}),Object.defineProperty(et.prototype,"c",{get:function(){return this._matrix[2]},set:function(U){this._matrix[2]=U}}),Object.defineProperty(et.prototype,"d",{get:function(){return this._matrix[3]},set:function(U){this._matrix[3]=U}}),Object.defineProperty(et.prototype,"e",{get:function(){return this._matrix[4]},set:function(U){this._matrix[4]=U}}),Object.defineProperty(et.prototype,"f",{get:function(){return this._matrix[5]},set:function(U){this._matrix[5]=U}}),Object.defineProperty(et.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(et.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(et.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(et.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),et.prototype.join=function(U){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(L).join(U)},et.prototype.multiply=function(U){var ue=U.sx*this.sx+U.shy*this.shx,Be=U.sx*this.shy+U.shy*this.sy,Ze=U.shx*this.sx+U.sy*this.shx,ft=U.shx*this.shy+U.sy*this.sy,Pt=U.tx*this.sx+U.ty*this.shx+this.tx,qt=U.tx*this.shy+U.ty*this.sy+this.ty;return new et(ue,Be,Ze,ft,Pt,qt)},et.prototype.decompose=function(){var U=this.sx,ue=this.shy,Be=this.shx,Ze=this.sy,ft=this.tx,Pt=this.ty,qt=Math.sqrt(U*U+ue*ue),yr=(U/=qt)*Be+(ue/=qt)*Ze;Be-=U*yr,Ze-=ue*yr;var Sr=Math.sqrt(Be*Be+Ze*Ze);return yr/=Sr,U*(Ze/=Sr)<ue*(Be/=Sr)&&(U=-U,ue=-ue,yr=-yr,qt=-qt),{scale:new et(qt,0,0,Sr,0,0),translate:new et(1,0,0,1,ft,Pt),rotate:new et(U,ue,-ue,U,0,0),skew:new et(1,0,yr,1,0,0)}},et.prototype.toString=function(U){return this.join(" ")},et.prototype.inversed=function(){var U=this.sx,ue=this.shy,Be=this.shx,Ze=this.sy,ft=this.tx,Pt=this.ty,qt=1/(U*Ze-ue*Be),yr=Ze*qt,Sr=-ue*qt,Vr=-Be*qt,tn=U*qt;return new et(yr,Sr,Vr,tn,-yr*ft-Vr*Pt,-Sr*ft-tn*Pt)},et.prototype.applyToPoint=function(U){var ue=U.x*this.sx+U.y*this.shx+this.tx,Be=U.x*this.shy+U.y*this.sy+this.ty;return new Fl(ue,Be)},et.prototype.applyToRectangle=function(U){var ue=this.applyToPoint(U),Be=this.applyToPoint(new Fl(U.x+U.w,U.y+U.h));return new Tc(ue.x,ue.y,Be.x-ue.x,Be.y-ue.y)},et.prototype.clone=function(){var U=this.sx,ue=this.shy,Be=this.shx,Ze=this.sy,ft=this.tx,Pt=this.ty;return new et(U,ue,Be,Ze,ft,Pt)},p.Matrix=et;var Rt=p.matrixMult=function(U,ue){return ue.multiply(U)},Ut=new et(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=Ut;var Wt=function(U,ue){if(!Qe[U]){var Be=(ue instanceof np?"Sh":"P")+(Object.keys(xe).length+1).toString(10);ue.id=Be,Qe[U]=Be,xe[Be]=ue,Xe.publish("addPattern",ue)}};p.ShadingPattern=np,p.TilingPattern=Ng,p.addShadingPattern=function(U,ue){return R("addShadingPattern()"),Wt(U,ue),this},p.beginTilingPattern=function(U){R("beginTilingPattern()"),Md(U.boundingBox[0],U.boundingBox[1],U.boundingBox[2]-U.boundingBox[0],U.boundingBox[3]-U.boundingBox[1],U.matrix)},p.endTilingPattern=function(U,ue){R("endTilingPattern()"),ue.stream=Ke[J].join(`
`),Wt(U,ue),Xe.publish("endTilingPattern",ue),Ue.pop().restore()};var mt,Ct=p.__private__.newObject=function(){var U=Vt();return br(U,!0),U},Vt=p.__private__.newObjectDeferred=function(){return ce++,Ee[ce]=function(){return ge},ce},br=function(U,ue){return ue=typeof ue=="boolean"&&ue,Ee[U]=ge,ue&&se(U+" 0 obj"),U},gn=p.__private__.newAdditionalObject=function(){var U={objId:Vt(),content:""};return Ce.push(U),U},wn=Vt(),ir=Vt(),Wr=p.__private__.decodeColorString=function(U){var ue=U.split(" ");if(ue.length!==2||ue[1]!=="g"&&ue[1]!=="G")ue.length!==5||ue[4]!=="k"&&ue[4]!=="K"||(ue=[(1-ue[0])*(1-ue[3]),(1-ue[1])*(1-ue[3]),(1-ue[2])*(1-ue[3]),"r"]);else{var Be=parseFloat(ue[0]);ue=[Be,Be,Be,"r"]}for(var Ze="#",ft=0;ft<3;ft++)Ze+=("0"+Math.floor(255*parseFloat(ue[ft])).toString(16)).slice(-2);return Ze},Kr=p.__private__.encodeColorString=function(U){var ue;typeof U=="string"&&(U={ch1:U});var Be=U.ch1,Ze=U.ch2,ft=U.ch3,Pt=U.ch4,qt=U.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Be=="string"&&Be.charAt(0)!=="#"){var yr=new fse(Be);if(yr.ok)Be=yr.toHex();else if(!/^\d*\.?\d*$/.test(Be))throw new Error('Invalid color "'+Be+'" passed to jsPDF.encodeColorString.')}if(typeof Be=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Be)&&(Be="#"+Be[1]+Be[1]+Be[2]+Be[2]+Be[3]+Be[3]),typeof Be=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Be)){var Sr=parseInt(Be.substr(1),16);Be=Sr>>16&255,Ze=Sr>>8&255,ft=255&Sr}if(Ze===void 0||Pt===void 0&&Be===Ze&&Ze===ft)ue=typeof Be=="string"?Be+" "+qt[0]:U.precision===2?A(Be/255)+" "+qt[0]:M(Be/255)+" "+qt[0];else if(Pt===void 0||zn(Pt)==="object"){if(Pt&&!isNaN(Pt.a)&&Pt.a===0)return["1.","1.","1.",qt[1]].join(" ");ue=typeof Be=="string"?[Be,Ze,ft,qt[1]].join(" "):U.precision===2?[A(Be/255),A(Ze/255),A(ft/255),qt[1]].join(" "):[M(Be/255),M(Ze/255),M(ft/255),qt[1]].join(" ")}else ue=typeof Be=="string"?[Be,Ze,ft,Pt,qt[2]].join(" "):U.precision===2?[A(Be),A(Ze),A(ft),A(Pt),qt[2]].join(" "):[M(Be),M(Ze),M(ft),M(Pt),qt[2]].join(" ");return ue},Zt=p.__private__.getFilters=function(){return o},ct=p.__private__.putStream=function(U){var ue=(U=U||{}).data||"",Be=U.filters||Zt(),Ze=U.alreadyAppliedFilters||[],ft=U.addLength1||!1,Pt=ue.length,qt=U.objectId,yr=function(Ls){return Ls};if(f!==null&&qt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");f!==null&&(yr=$a.encryptor(qt,0));var Sr={};Be===!0&&(Be=["FlateEncode"]);var Vr=U.additionalKeyValues||[],tn=(Sr=Tr.API.processDataByFilters!==void 0?Tr.API.processDataByFilters(ue,Be):{data:ue,reverseChain:[]}).reverseChain+(Array.isArray(Ze)?Ze.join(" "):Ze.toString());if(Sr.data.length!==0&&(Vr.push({key:"Length",value:Sr.data.length}),ft===!0&&Vr.push({key:"Length1",value:Pt})),tn.length!=0)if(tn.split("/").length-1==1)Vr.push({key:"Filter",value:tn});else{Vr.push({key:"Filter",value:"["+tn+"]"});for(var qn=0;qn<Vr.length;qn+=1)if(Vr[qn].key==="DecodeParms"){for(var Ha=[],is=0;is<Sr.reverseChain.split("/").length-1;is+=1)Ha.push("null");Ha.push(Vr[qn].value),Vr[qn].value="["+Ha.join(" ")+"]"}}se("<<");for(var va=0;va<Vr.length;va++)se("/"+Vr[va].key+" "+Vr[va].value);se(">>"),Sr.data.length!==0&&(se("stream"),se(yr(Sr.data)),se("endstream"))},dt=p.__private__.putPage=function(U){var ue=U.number,Be=U.data,Ze=U.objId,ft=U.contentsObjId;br(Ze,!0),se("<</Type /Page"),se("/Parent "+U.rootDictionaryObjId+" 0 R"),se("/Resources "+U.resourceDictionaryObjId+" 0 R"),se("/MediaBox ["+parseFloat(L(U.mediaBox.bottomLeftX))+" "+parseFloat(L(U.mediaBox.bottomLeftY))+" "+L(U.mediaBox.topRightX)+" "+L(U.mediaBox.topRightY)+"]"),U.cropBox!==null&&se("/CropBox ["+L(U.cropBox.bottomLeftX)+" "+L(U.cropBox.bottomLeftY)+" "+L(U.cropBox.topRightX)+" "+L(U.cropBox.topRightY)+"]"),U.bleedBox!==null&&se("/BleedBox ["+L(U.bleedBox.bottomLeftX)+" "+L(U.bleedBox.bottomLeftY)+" "+L(U.bleedBox.topRightX)+" "+L(U.bleedBox.topRightY)+"]"),U.trimBox!==null&&se("/TrimBox ["+L(U.trimBox.bottomLeftX)+" "+L(U.trimBox.bottomLeftY)+" "+L(U.trimBox.topRightX)+" "+L(U.trimBox.topRightY)+"]"),U.artBox!==null&&se("/ArtBox ["+L(U.artBox.bottomLeftX)+" "+L(U.artBox.bottomLeftY)+" "+L(U.artBox.topRightX)+" "+L(U.artBox.topRightY)+"]"),typeof U.userUnit=="number"&&U.userUnit!==1&&se("/UserUnit "+U.userUnit),Xe.publish("putPage",{objId:Ze,pageContext:Fe[ue],pageNumber:ue,page:Be}),se("/Contents "+ft+" 0 R"),se(">>"),se("endobj");var Pt=Be.join(`
`);return T===S&&(Pt+=`
Q`),br(ft,!0),ct({data:Pt,filters:Zt(),objectId:ft}),se("endobj"),Ze},Mt=p.__private__.putPages=function(){var U,ue,Be=[];for(U=1;U<=te;U++)Fe[U].objId=Vt(),Fe[U].contentsObjId=Vt();for(U=1;U<=te;U++)Be.push(dt({number:U,data:Ke[U],objId:Fe[U].objId,contentsObjId:Fe[U].contentsObjId,mediaBox:Fe[U].mediaBox,cropBox:Fe[U].cropBox,bleedBox:Fe[U].bleedBox,trimBox:Fe[U].trimBox,artBox:Fe[U].artBox,userUnit:Fe[U].userUnit,rootDictionaryObjId:wn,resourceDictionaryObjId:ir}));br(wn,!0),se("<</Type /Pages");var Ze="/Kids [";for(ue=0;ue<te;ue++)Ze+=Be[ue]+" 0 R ";se(Ze+"]"),se("/Count "+te),se(">>"),se("endobj"),Xe.publish("postPutPages")},he=function(U){Xe.publish("putFont",{font:U,out:se,newObject:Ct,putStream:ct}),U.isAlreadyPutted!==!0&&(U.objectNumber=Ct(),se("<<"),se("/Type /Font"),se("/BaseFont /"+dg(U.postScriptName)),se("/Subtype /Type1"),typeof U.encoding=="string"&&se("/Encoding /"+U.encoding),se("/FirstChar 32"),se("/LastChar 255"),se(">>"),se("endobj"))},it=function(U){U.objectNumber=Ct();var ue=[];ue.push({key:"Type",value:"/XObject"}),ue.push({key:"Subtype",value:"/Form"}),ue.push({key:"BBox",value:"["+[L(U.x),L(U.y),L(U.x+U.width),L(U.y+U.height)].join(" ")+"]"}),ue.push({key:"Matrix",value:"["+U.matrix.toString()+"]"});var Be=U.pages[1].join(`
`);ct({data:Be,additionalKeyValues:ue,objectId:U.objectNumber}),se("endobj")},kt=function(U,ue){ue||(ue=21);var Be=Ct(),Ze=(function(qt,yr){var Sr,Vr=[],tn=1/(yr-1);for(Sr=0;Sr<1;Sr+=tn)Vr.push(Sr);if(Vr.push(1),qt[0].offset!=0){var qn={offset:0,color:qt[0].color};qt.unshift(qn)}if(qt[qt.length-1].offset!=1){var Ha={offset:1,color:qt[qt.length-1].color};qt.push(Ha)}for(var is="",va=0,Ls=0;Ls<Vr.length;Ls++){for(Sr=Vr[Ls];Sr>qt[va+1].offset;)va++;var xs=qt[va].offset,li=(Sr-xs)/(qt[va+1].offset-xs),Uo=qt[va].color,to=qt[va+1].color;is+=re(Math.round((1-li)*Uo[0]+li*to[0]).toString(16))+re(Math.round((1-li)*Uo[1]+li*to[1]).toString(16))+re(Math.round((1-li)*Uo[2]+li*to[2]).toString(16))}return is.trim()})(U.colors,ue),ft=[];ft.push({key:"FunctionType",value:"0"}),ft.push({key:"Domain",value:"[0.0 1.0]"}),ft.push({key:"Size",value:"["+ue+"]"}),ft.push({key:"BitsPerSample",value:"8"}),ft.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ft.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ct({data:Ze,additionalKeyValues:ft,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Be}),se("endobj"),U.objectNumber=Ct(),se("<< /ShadingType "+U.type),se("/ColorSpace /DeviceRGB");var Pt="/Coords ["+L(parseFloat(U.coords[0]))+" "+L(parseFloat(U.coords[1]))+" ";U.type===2?Pt+=L(parseFloat(U.coords[2]))+" "+L(parseFloat(U.coords[3])):Pt+=L(parseFloat(U.coords[2]))+" "+L(parseFloat(U.coords[3]))+" "+L(parseFloat(U.coords[4]))+" "+L(parseFloat(U.coords[5])),se(Pt+="]"),U.matrix&&se("/Matrix ["+U.matrix.toString()+"]"),se("/Function "+Be+" 0 R"),se("/Extend [true true]"),se(">>"),se("endobj")},cr=function(U,ue){var Be=Vt(),Ze=Ct();ue.push({resourcesOid:Be,objectOid:Ze}),U.objectNumber=Ze;var ft=[];ft.push({key:"Type",value:"/Pattern"}),ft.push({key:"PatternType",value:"1"}),ft.push({key:"PaintType",value:"1"}),ft.push({key:"TilingType",value:"1"}),ft.push({key:"BBox",value:"["+U.boundingBox.map(L).join(" ")+"]"}),ft.push({key:"XStep",value:L(U.xStep)}),ft.push({key:"YStep",value:L(U.yStep)}),ft.push({key:"Resources",value:Be+" 0 R"}),U.matrix&&ft.push({key:"Matrix",value:"["+U.matrix.toString()+"]"}),ct({data:U.stream,additionalKeyValues:ft,objectId:U.objectNumber}),se("endobj")},Xr=function(U){for(var ue in U.objectNumber=Ct(),se("<<"),U)switch(ue){case"opacity":se("/ca "+A(U[ue]));break;case"stroke-opacity":se("/CA "+A(U[ue]))}se(">>"),se("endobj")},Et=function(U){br(U.resourcesOid,!0),se("<<"),se("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var ue in se("/Font <<"),We)We.hasOwnProperty(ue)&&(h===!1||h===!0&&g.hasOwnProperty(ue))&&se("/"+ue+" "+We[ue].objectNumber+" 0 R");se(">>")})(),(function(){if(Object.keys(xe).length>0){for(var ue in se("/Shading <<"),xe)xe.hasOwnProperty(ue)&&xe[ue]instanceof np&&xe[ue].objectNumber>=0&&se("/"+ue+" "+xe[ue].objectNumber+" 0 R");Xe.publish("putShadingPatternDict"),se(">>")}})(),(function(ue){if(Object.keys(xe).length>0){for(var Be in se("/Pattern <<"),xe)xe.hasOwnProperty(Be)&&xe[Be]instanceof p.TilingPattern&&xe[Be].objectNumber>=0&&xe[Be].objectNumber<ue&&se("/"+Be+" "+xe[Be].objectNumber+" 0 R");Xe.publish("putTilingPatternDict"),se(">>")}})(U.objectOid),(function(){if(Object.keys(yt).length>0){var ue;for(ue in se("/ExtGState <<"),yt)yt.hasOwnProperty(ue)&&yt[ue].objectNumber>=0&&se("/"+ue+" "+yt[ue].objectNumber+" 0 R");Xe.publish("putGStateDict"),se(">>")}})(),(function(){for(var ue in se("/XObject <<"),wt)wt.hasOwnProperty(ue)&&wt[ue].objectNumber>=0&&se("/"+ue+" "+wt[ue].objectNumber+" 0 R");Xe.publish("putXobjectDict"),se(">>")})(),se(">>"),se("endobj")},sr=function(U){rt[U.fontName]=rt[U.fontName]||{},rt[U.fontName][U.fontStyle]=U.id},Er=function(U,ue,Be,Ze,ft){var Pt={id:"F"+(Object.keys(We).length+1).toString(10),postScriptName:U,fontName:ue,fontStyle:Be,encoding:Ze,isStandardFont:ft||!1,metadata:{}};return Xe.publish("addFont",{font:Pt,instance:this}),We[Pt.id]=Pt,sr(Pt),Pt.id},Nr=p.__private__.pdfEscape=p.pdfEscape=function(U,ue){return(function(Be,Ze){var ft,Pt,qt,yr,Sr,Vr,tn,qn,Ha;if(qt=(Ze=Ze||{}).sourceEncoding||"Unicode",Sr=Ze.outputEncoding,(Ze.autoencode||Sr)&&We[Ne].metadata&&We[Ne].metadata[qt]&&We[Ne].metadata[qt].encoding&&(yr=We[Ne].metadata[qt].encoding,!Sr&&We[Ne].encoding&&(Sr=We[Ne].encoding),!Sr&&yr.codePages&&(Sr=yr.codePages[0]),typeof Sr=="string"&&(Sr=yr[Sr]),Sr)){for(tn=!1,Vr=[],ft=0,Pt=Be.length;ft<Pt;ft++)(qn=Sr[Be.charCodeAt(ft)])?Vr.push(String.fromCharCode(qn)):Vr.push(Be[ft]),Vr[ft].charCodeAt(0)>>8&&(tn=!0);Be=Vr.join("")}for(ft=Be.length;tn===void 0&&ft!==0;)Be.charCodeAt(ft-1)>>8&&(tn=!0),ft--;if(!tn)return Be;for(Vr=Ze.noBOM?[]:[254,255],ft=0,Pt=Be.length;ft<Pt;ft++){if((Ha=(qn=Be.charCodeAt(ft))>>8)>>8)throw new Error("Character at position "+ft+" of string '"+Be+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Vr.push(Ha),Vr.push(qn-(Ha<<8))}return String.fromCharCode.apply(void 0,Vr)})(U,ue).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},dr=p.__private__.beginPage=function(U){Ke[++te]=[],Fe[te]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(U[0]),topRightY:Number(U[1])}},zr(te),ae(Ke[J])},Br=function(U,ue){var Be,Ze,ft;switch(r=ue||r,typeof U=="string"&&(Be=N(U.toLowerCase()),Array.isArray(Be)&&(Ze=Be[0],ft=Be[1])),Array.isArray(U)&&(Ze=U[0]*ze,ft=U[1]*ze),isNaN(Ze)&&(Ze=s[0],ft=s[1]),(Ze>14400||ft>14400)&&(Ma.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ze=Math.min(14400,Ze),ft=Math.min(14400,ft)),s=[Ze,ft],r.substr(0,1)){case"l":ft>Ze&&(s=[ft,Ze]);break;case"p":Ze>ft&&(s=[ft,Ze])}dr(s),ss(an),se(jo),Qf!==0&&se(Qf+" J"),Gs!==0&&se(Gs+" j"),Xe.publish("addPage",{pageNumber:te})},ba=function(U){U>0&&U<=te&&(Ke.splice(U,1),Fe.splice(U,1),te--,J>te&&(J=te),this.setPage(J))},zr=function(U){U>0&&U<=te&&(J=U)},Ri=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return Ke.length-1},ya=function(U,ue,Be){var Ze,ft=void 0;return Be=Be||{},U=U!==void 0?U:We[Ne].fontName,ue=ue!==void 0?ue:We[Ne].fontStyle,Ze=U.toLowerCase(),rt[Ze]!==void 0&&rt[Ze][ue]!==void 0?ft=rt[Ze][ue]:rt[U]!==void 0&&rt[U][ue]!==void 0?ft=rt[U][ue]:Be.disableWarning===!1&&Ma.warn("Unable to look up font label for font '"+U+"', '"+ue+"'. Refer to getFontList() for available fonts."),ft||Be.noFallback||(ft=rt.times[ue])==null&&(ft=rt.times.normal),ft},Sn=p.__private__.putInfo=function(){var U=Ct(),ue=function(Ze){return Ze};for(var Be in f!==null&&(ue=$a.encryptor(U,0)),se("<<"),se("/Producer ("+Nr(ue("jsPDF "+Tr.version))+")"),Pe)Pe.hasOwnProperty(Be)&&Pe[Be]&&se("/"+Be.substr(0,1).toUpperCase()+Be.substr(1)+" ("+Nr(ue(Pe[Be]))+")");se("/CreationDate ("+Nr(ue(Y))+")"),se(">>"),se("endobj")},Mn=p.__private__.putCatalog=function(U){var ue=(U=U||{}).rootDictionaryObjId||wn;switch(Ct(),se("<<"),se("/Type /Catalog"),se("/Pages "+ue+" 0 R"),qe||(qe="fullwidth"),qe){case"fullwidth":se("/OpenAction [3 0 R /FitH null]");break;case"fullheight":se("/OpenAction [3 0 R /FitV null]");break;case"fullpage":se("/OpenAction [3 0 R /Fit]");break;case"original":se("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Be=""+qe;Be.substr(Be.length-1)==="%"&&(qe=parseInt(qe)/100),typeof qe=="number"&&se("/OpenAction [3 0 R /XYZ null null "+A(qe)+"]")}switch(Je||(Je="continuous"),Je){case"continuous":se("/PageLayout /OneColumn");break;case"single":se("/PageLayout /SinglePage");break;case"two":case"twoleft":se("/PageLayout /TwoColumnLeft");break;case"tworight":se("/PageLayout /TwoColumnRight")}Te&&se("/PageMode /"+Te),Xe.publish("putCatalog"),se(">>"),se("endobj")},en=p.__private__.putTrailer=function(){se("trailer"),se("<<"),se("/Size "+(ce+1)),se("/Root "+ce+" 0 R"),se("/Info "+(ce-1)+" 0 R"),f!==null&&se("/Encrypt "+$a.oid+" 0 R"),se("/ID [ <"+W+"> <"+W+"> ]"),se(">>")},Fn=p.__private__.putHeader=function(){se("%PDF-"+v),se("%ºß¬à")},Cc=p.__private__.putXRef=function(){var U="0000000000";se("xref"),se("0 "+(ce+1)),se("0000000000 65535 f ");for(var ue=1;ue<=ce;ue++)typeof Ee[ue]=="function"?se((U+Ee[ue]()).slice(-10)+" 00000 n "):Ee[ue]!==void 0?se((U+Ee[ue]).slice(-10)+" 00000 n "):se("0000000000 00000 n ")},Xi=p.__private__.buildDocument=function(){var U;ce=0,ge=0,ke=[],Ee=[],Ce=[],wn=Vt(),ir=Vt(),ae(ke),Xe.publish("buildDocument"),Fn(),Mt(),(function(){Xe.publish("putAdditionalObjects");for(var Be=0;Be<Ce.length;Be++){var Ze=Ce[Be];br(Ze.objId,!0),se(Ze.content),se("endobj")}Xe.publish("postPutAdditionalObjects")})(),U=[],(function(){for(var Be in We)We.hasOwnProperty(Be)&&(h===!1||h===!0&&g.hasOwnProperty(Be))&&he(We[Be])})(),(function(){var Be;for(Be in yt)yt.hasOwnProperty(Be)&&Xr(yt[Be])})(),(function(){for(var Be in wt)wt.hasOwnProperty(Be)&&it(wt[Be])})(),(function(Be){var Ze;for(Ze in xe)xe.hasOwnProperty(Ze)&&(xe[Ze]instanceof np?kt(xe[Ze]):xe[Ze]instanceof Ng&&cr(xe[Ze],Be))})(U),Xe.publish("putResources"),U.forEach(Et),Et({resourcesOid:ir,objectOid:Number.MAX_SAFE_INTEGER}),Xe.publish("postPutResources"),f!==null&&($a.oid=Ct(),se("<<"),se("/Filter /Standard"),se("/V "+$a.v),se("/R "+$a.r),se("/U <"+$a.toHexString($a.U)+">"),se("/O <"+$a.toHexString($a.O)+">"),se("/P "+$a.P),se(">>"),se("endobj")),Sn(),Mn();var ue=ge;return Cc(),en(),se("startxref"),se(""+ue),se("%%EOF"),ae(Ke[J]),ke.join(`
`)},vo=p.__private__.getBlob=function(U){return new Blob([pt(U)],{type:"application/pdf"})},Qi=p.output=p.__private__.output=(mt=function(U,ue){switch(typeof(ue=ue||{})=="string"?ue={filename:ue}:ue.filename=ue.filename||"generated.pdf",U){case void 0:return Xi();case"save":p.save(ue.filename);break;case"arraybuffer":return pt(Xi());case"blob":return vo(Xi());case"bloburi":case"bloburl":if(Zr.URL!==void 0&&typeof Zr.URL.createObjectURL=="function")return Zr.URL&&Zr.URL.createObjectURL(vo(Xi()))||void 0;Ma.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Be="",Ze=Xi();try{Be=RG(Ze)}catch{Be=RG(unescape(encodeURIComponent(Ze)))}return"data:application/pdf;filename="+ue.filename+";base64,"+Be;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Zr)==="[object Window]"){var ft="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Pt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';ue.pdfObjectUrl&&(ft=ue.pdfObjectUrl,Pt="");var qt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ft+'"'+Pt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(ue)+");<\/script></body></html>",yr=Zr.open();return yr!==null&&yr.document.write(qt),yr}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Zr)==="[object Window]"){var Sr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(ue.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+ue.filename+'" width="500px" height="400px" /></body></html>',Vr=Zr.open();if(Vr!==null){Vr.document.write(Sr);var tn=this;Vr.document.documentElement.querySelector("#pdfViewer").onload=function(){Vr.document.title=ue.filename,Vr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(tn.output("bloburl"))}}return Vr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Zr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var qn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",ue)+'"></iframe></body></html>',Ha=Zr.open();if(Ha!==null&&(Ha.document.write(qn),Ha.document.title=ue.filename),Ha||typeof safari>"u")return Ha;break;case"datauri":case"dataurl":return Zr.document.location.href=this.output("datauristring",ue);default:return null}},mt.foo=function(){try{return mt.apply(this,arguments)}catch(Be){var U=Be.stack||"";~U.indexOf(" at ")&&(U=U.split(" at ")[1]);var ue="Error in function "+U.split(`
`)[0].split("<")[0]+": "+Be.message;if(!Zr.console)throw new Error(ue);Zr.console.error(ue,Be),Zr.alert&&alert(ue)}},mt.foo.bar=mt,mt.foo),qo=function(U){return Array.isArray(lt)===!0&&lt.indexOf(U)>-1};switch(n){case"pt":ze=1;break;case"mm":ze=72/25.4;break;case"cm":ze=72/2.54;break;case"in":ze=72;break;case"px":ze=qo("px_scaling")==1?.75:96/72;break;case"pc":case"em":ze=12;break;case"ex":ze=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);ze=n}var $a=null;K(),q();var Vs=p.__private__.getPageInfo=p.getPageInfo=function(U){if(isNaN(U)||U%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Fe[U].objId,pageNumber:U,pageContext:Fe[U]}},vd=p.__private__.getPageInfoByObjId=function(U){if(isNaN(U)||U%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var ue in Fe)if(Fe[ue].objId===U)break;return Vs(ue)},Yf=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:Fe[J].objId,pageNumber:J,pageContext:Fe[J]}};p.addPage=function(){return Br.apply(this,arguments),this},p.setPage=function(){return zr.apply(this,arguments),ae.call(this,Ke[J]),this},p.insertPage=function(U){return this.addPage(),this.movePage(J,U),this},p.movePage=function(U,ue){var Be,Ze;if(U>ue){Be=Ke[U],Ze=Fe[U];for(var ft=U;ft>ue;ft--)Ke[ft]=Ke[ft-1],Fe[ft]=Fe[ft-1];Ke[ue]=Be,Fe[ue]=Ze,this.setPage(ue)}else if(U<ue){Be=Ke[U],Ze=Fe[U];for(var Pt=U;Pt<ue;Pt++)Ke[Pt]=Ke[Pt+1],Fe[Pt]=Fe[Pt+1];Ke[ue]=Be,Fe[ue]=Ze,this.setPage(ue)}return this},p.deletePage=function(){return ba.apply(this,arguments),this},p.__private__.text=p.text=function(U,ue,Be,Ze,ft){var Pt,qt,yr,Sr,Vr,tn,qn,Ha,is,va=(Ze=Ze||{}).scope||this;if(typeof U=="number"&&typeof ue=="number"&&(typeof Be=="string"||Array.isArray(Be))){var Ls=Be;Be=ue,ue=U,U=Ls}if(arguments[3]instanceof et==0?(yr=arguments[4],Sr=arguments[5],zn(qn=arguments[3])==="object"&&qn!==null||(typeof yr=="string"&&(Sr=yr,yr=null),typeof qn=="string"&&(Sr=qn,qn=null),typeof qn=="number"&&(yr=qn,qn=null),Ze={flags:qn,angle:yr,align:Sr})):(R("The transform parameter of text() with a Matrix value"),is=ft),isNaN(ue)||isNaN(Be)||U==null)throw new Error("Invalid arguments passed to jsPDF.text");if(U.length===0)return va;var xs,li="",Uo=typeof Ze.lineHeightFactor=="number"?Ze.lineHeightFactor:Kt,to=va.internal.scaleFactor;function f0(Un){return Un=Un.split("	").join(Array(Ze.TabLen||9).join(" ")),Nr(Un,qn)}function eh(Un){for(var Ln,wa=Un.concat(),cs=[],Gl=wa.length;Gl--;)typeof(Ln=wa.shift())=="string"?cs.push(Ln):Array.isArray(Un)&&(Ln.length===1||Ln[1]===void 0&&Ln[2]===void 0)?cs.push(Ln[0]):cs.push([Ln[0],Ln[1],Ln[2]]);return cs}function Od(Un,Ln){var wa;if(typeof Un=="string")wa=Ln(Un)[0];else if(Array.isArray(Un)){for(var cs,Gl,xl=Un.concat(),Ld=[],Am=xl.length;Am--;)typeof(cs=xl.shift())=="string"?Ld.push(Ln(cs)[0]):Array.isArray(cs)&&typeof cs[0]=="string"&&(Gl=Ln(cs[0],cs[1],cs[2]),Ld.push([Gl[0],Gl[1],Gl[2]]));wa=Ld}return wa}var $l=!1,ml=!0;if(typeof U=="string")$l=!0;else if(Array.isArray(U)){var Dd=U.concat();qt=[];for(var vu,ci=Dd.length;ci--;)(typeof(vu=Dd.shift())!="string"||Array.isArray(vu)&&typeof vu[0]!="string")&&(ml=!1);$l=ml}if($l===!1)throw new Error('Type of text must be string or Array. "'+U+'" is not recognized.');typeof U=="string"&&(U=U.match(/[\r?\n]/)?U.split(/\r\n|\r|\n/g):[U]);var wu=Me/va.internal.scaleFactor,ju=wu*(Uo-1);switch(Ze.baseline){case"bottom":Be-=ju;break;case"top":Be+=wu-ju;break;case"hanging":Be+=wu-2*ju;break;case"middle":Be+=wu/2-ju}if((tn=Ze.maxWidth||0)>0&&(typeof U=="string"?U=va.splitTextToSize(U,tn):Object.prototype.toString.call(U)==="[object Array]"&&(U=U.reduce(function(Un,Ln){return Un.concat(va.splitTextToSize(Ln,tn))},[]))),Pt={text:U,x:ue,y:Be,options:Ze,mutex:{pdfEscape:Nr,activeFontKey:Ne,fonts:We,activeFontSize:Me}},Xe.publish("preProcessText",Pt),U=Pt.text,yr=(Ze=Pt.options).angle,is instanceof et==0&&yr&&typeof yr=="number"){yr*=Math.PI/180,Ze.rotationDirection===0&&(yr=-yr),T===S&&(yr=-yr);var th=Math.cos(yr),Hl=Math.sin(yr);is=new et(th,Hl,-Hl,th,0,0)}else yr&&yr instanceof et&&(is=yr);T!==S||is||(is=Ut),(Vr=Ze.charSpace||Ac)!==void 0&&(li+=L(B(Vr))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Ha=Ze.horizontalScale)!==void 0&&(li+=L(100*Ha)+` Tz
`),Ze.lang;var Xa=-1,Dc=Ze.renderingMode!==void 0?Ze.renderingMode:Ze.stroke,rh=va.internal.getCurrentPageInfo().pageContext;switch(Dc){case 0:case!1:case"fill":Xa=0;break;case 1:case!0:case"stroke":Xa=1;break;case 2:case"fillThenStroke":Xa=2;break;case 3:case"invisible":Xa=3;break;case 4:case"fillAndAddForClipping":Xa=4;break;case 5:case"strokeAndAddPathForClipping":Xa=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Xa=6;break;case 7:case"addToPathForClipping":Xa=7}var Cm=rh.usedRenderingMode!==void 0?rh.usedRenderingMode:-1;Xa!==-1?li+=Xa+` Tr
`:Cm!==-1&&(li+=`0 Tr
`),Xa!==-1&&(rh.usedRenderingMode=Xa),Sr=Ze.align||"left";var So,pl=Me*Uo,Pc=va.internal.pageSize.getWidth(),_m=We[Ne];Vr=Ze.charSpace||Ac,tn=Ze.maxWidth||0,qn=Object.assign({autoencode:!0,noBOM:!0},Ze.flags);var gl=[],Nu=function(Un){return va.getStringUnitWidth(Un,{font:_m,charSpace:Vr,fontSize:Me,doKerning:!1})*Me/to};if(Object.prototype.toString.call(U)==="[object Array]"){var ro;qt=eh(U),Sr!=="left"&&(So=qt.map(Nu));var Fi,zl=0;if(Sr==="right"){ue-=So[0],U=[],ci=qt.length;for(var ql=0;ql<ci;ql++)ql===0?(Fi=eo(ue),ro=oi(Be)):(Fi=B(zl-So[ql]),ro=-pl),U.push([qt[ql],Fi,ro]),zl=So[ql]}else if(Sr==="center"){ue-=So[0]/2,U=[],ci=qt.length;for(var Lc=0;Lc<ci;Lc++)Lc===0?(Fi=eo(ue),ro=oi(Be)):(Fi=B((zl-So[Lc])/2),ro=-pl),U.push([qt[Lc],Fi,ro]),zl=So[Lc]}else if(Sr==="left"){U=[],ci=qt.length;for(var nh=0;nh<ci;nh++)U.push(qt[nh])}else if(Sr==="justify"&&_m.encoding==="Identity-H"){U=[],ci=qt.length,tn=tn!==0?tn:Pc;for(var ah=0,ls=0;ls<ci;ls++)if(ro=ls===0?oi(Be):-pl,Fi=ls===0?eo(ue):ah,ls<ci-1){var h0=B((tn-So[ls])/(qt[ls].split(" ").length-1)),Ul=qt[ls].split(" ");U.push([Ul[0]+" ",Fi,ro]),ah=0;for(var Wl=1;Wl<Ul.length;Wl++){var ui=(Nu(Ul[Wl-1]+" "+Ul[Wl])-Nu(Ul[Wl]))*to+h0;Wl==Ul.length-1?U.push([Ul[Wl],ui,0]):U.push([Ul[Wl]+" ",ui,0]),ah-=ui}}else U.push([qt[ls],Fi,ro]);U.push(["",ah,0])}else{if(Sr!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(U=[],ci=qt.length,tn=tn!==0?tn:Pc,ls=0;ls<ci;ls++){ro=ls===0?oi(Be):-pl,Fi=ls===0?eo(ue):0;var Rc=qt[ls].split(" ").length-1,sh=Rc>0?(tn-So[ls])/Rc:0;ls<ci-1?gl.push(L(B(sh))):gl.push(0),U.push([qt[ls],Fi,ro])}}}(typeof Ze.R2L=="boolean"?Ze.R2L:Ve)===!0&&(U=Od(U,function(Un,Ln,wa){return[Un.split("").reverse().join(""),Ln,wa]})),Pt={text:U,x:ue,y:Be,options:Ze,mutex:{pdfEscape:Nr,activeFontKey:Ne,fonts:We,activeFontSize:Me}},Xe.publish("postProcessText",Pt),U=Pt.text,xs=Pt.mutex.isHex||!1;var ih=We[Ne].encoding;ih!=="WinAnsiEncoding"&&ih!=="StandardEncoding"||(U=Od(U,function(Un,Ln,wa){return[f0(Un),Ln,wa]})),qt=eh(U),U=[];for(var Ic,Fc,Vl,Pd=Array.isArray(qt[0])?1:0,ko="",Bc=function(Un,Ln,wa){var cs="";return wa instanceof et?(wa=typeof Ze.angle=="number"?Rt(wa,new et(1,0,0,1,Un,Ln)):Rt(new et(1,0,0,1,Un,Ln),wa),T===S&&(wa=Rt(new et(1,0,0,-1,0,0),wa)),cs=wa.join(" ")+` Tm
`):cs=L(Un)+" "+L(Ln)+` Td
`,cs},ji=0;ji<qt.length;ji++){switch(ko="",Pd){case 1:Vl=(xs?"<":"(")+qt[ji][0]+(xs?">":")"),Ic=parseFloat(qt[ji][1]),Fc=parseFloat(qt[ji][2]);break;case 0:Vl=(xs?"<":"(")+qt[ji]+(xs?">":")"),Ic=eo(ue),Fc=oi(Be)}gl!==void 0&&gl[ji]!==void 0&&(ko=gl[ji]+` Tw
`),ji===0?U.push(ko+Bc(Ic,Fc,is)+Vl):Pd===0?U.push(ko+Vl):Pd===1&&U.push(ko+Bc(Ic,Fc,is)+Vl)}U=Pd===0?U.join(` Tj
T* `):U.join(` Tj
`),U+=` Tj
`;var Wo=`BT
/`;return Wo+=Ne+" "+Me+` Tf
`,Wo+=L(Me*Uo)+` TL
`,Wo+=Il+`
`,Wo+=li,Wo+=U,se(Wo+="ET"),g[Ne]=!0,va};var wd=p.__private__.clip=p.clip=function(U){return se(U==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return wd("evenodd")},p.__private__.discardPath=p.discardPath=function(){return se("n"),this};var ii=p.__private__.isValidStyle=function(U){var ue=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(U)!==-1&&(ue=!0),ue};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(U){return ii(U)&&(u=U),this};var jd=p.__private__.getStyle=p.getStyle=function(U){var ue=u;switch(U){case"D":case"S":ue="S";break;case"F":ue="f";break;case"FD":case"DF":ue="B";break;case"f":case"f*":case"B":case"B*":ue=U}return ue},Nd=p.close=function(){return se("h"),this};p.stroke=function(){return se("S"),this},p.fill=function(U){return Ii("f",U),this},p.fillEvenOdd=function(U){return Ii("f*",U),this},p.fillStroke=function(U){return Ii("B",U),this},p.fillStrokeEvenOdd=function(U){return Ii("B*",U),this};var Ii=function(U,ue){zn(ue)==="object"?Jf(ue,U):se(U)},Sd=function(U){U===null||T===S&&U===void 0||(U=jd(U),se(U))};function Kf(U,ue,Be,Ze,ft){var Pt=new Ng(ue||this.boundingBox,Be||this.xStep,Ze||this.yStep,this.gState,ft||this.matrix);Pt.stream=this.stream;var qt=U+"$$"+this.cloneIndex+++"$$";return Wt(qt,Pt),Pt}var Jf=function(U,ue){var Be=Qe[U.key],Ze=xe[Be];if(Ze instanceof np)se("q"),se(kd(ue)),Ze.gState&&p.setGState(Ze.gState),se(U.matrix.toString()+" cm"),se("/"+Be+" sh"),se("Q");else if(Ze instanceof Ng){var ft=new et(1,0,0,-1,0,Oc());U.matrix&&(ft=ft.multiply(U.matrix||Ut),Be=Kf.call(Ze,U.key,U.boundingBox,U.xStep,U.yStep,ft).id),se("q"),se("/Pattern cs"),se("/"+Be+" scn"),Ze.gState&&p.setGState(Ze.gState),se(ue),se("Q")}},kd=function(U){switch(U){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Cd=p.moveTo=function(U,ue){return se(L(B(U))+" "+L(z(ue))+" m"),this},ie=p.lineTo=function(U,ue){return se(L(B(U))+" "+L(z(ue))+" l"),this},ne=p.curveTo=function(U,ue,Be,Ze,ft,Pt){return se([L(B(U)),L(z(ue)),L(B(Be)),L(z(Ze)),L(B(ft)),L(z(Pt)),"c"].join(" ")),this};p.__private__.line=p.line=function(U,ue,Be,Ze,ft){if(isNaN(U)||isNaN(ue)||isNaN(Be)||isNaN(Ze)||!ii(ft))throw new Error("Invalid arguments passed to jsPDF.line");return T===k?this.lines([[Be-U,Ze-ue]],U,ue,[1,1],ft||"S"):this.lines([[Be-U,Ze-ue]],U,ue,[1,1]).stroke()},p.__private__.lines=p.lines=function(U,ue,Be,Ze,ft,Pt){var qt,yr,Sr,Vr,tn,qn,Ha,is,va,Ls,xs,li;if(typeof U=="number"&&(li=Be,Be=ue,ue=U,U=li),Ze=Ze||[1,1],Pt=Pt||!1,isNaN(ue)||isNaN(Be)||!Array.isArray(U)||!Array.isArray(Ze)||!ii(ft)||typeof Pt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Cd(ue,Be),qt=Ze[0],yr=Ze[1],Vr=U.length,Ls=ue,xs=Be,Sr=0;Sr<Vr;Sr++)(tn=U[Sr]).length===2?(Ls=tn[0]*qt+Ls,xs=tn[1]*yr+xs,ie(Ls,xs)):(qn=tn[0]*qt+Ls,Ha=tn[1]*yr+xs,is=tn[2]*qt+Ls,va=tn[3]*yr+xs,Ls=tn[4]*qt+Ls,xs=tn[5]*yr+xs,ne(qn,Ha,is,va,Ls,xs));return Pt&&Nd(),Sd(ft),this},p.path=function(U){for(var ue=0;ue<U.length;ue++){var Be=U[ue],Ze=Be.c;switch(Be.op){case"m":Cd(Ze[0],Ze[1]);break;case"l":ie(Ze[0],Ze[1]);break;case"c":ne.apply(this,Ze);break;case"h":Nd()}}return this},p.__private__.rect=p.rect=function(U,ue,Be,Ze,ft){if(isNaN(U)||isNaN(ue)||isNaN(Be)||isNaN(Ze)||!ii(ft))throw new Error("Invalid arguments passed to jsPDF.rect");return T===k&&(Ze=-Ze),se([L(B(U)),L(z(ue)),L(B(Be)),L(B(Ze)),"re"].join(" ")),Sd(ft),this},p.__private__.triangle=p.triangle=function(U,ue,Be,Ze,ft,Pt,qt){if(isNaN(U)||isNaN(ue)||isNaN(Be)||isNaN(Ze)||isNaN(ft)||isNaN(Pt)||!ii(qt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Be-U,Ze-ue],[ft-Be,Pt-Ze],[U-ft,ue-Pt]],U,ue,[1,1],qt,!0),this},p.__private__.roundedRect=p.roundedRect=function(U,ue,Be,Ze,ft,Pt,qt){if(isNaN(U)||isNaN(ue)||isNaN(Be)||isNaN(Ze)||isNaN(ft)||isNaN(Pt)||!ii(qt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var yr=4/3*(Math.SQRT2-1);return ft=Math.min(ft,.5*Be),Pt=Math.min(Pt,.5*Ze),this.lines([[Be-2*ft,0],[ft*yr,0,ft,Pt-Pt*yr,ft,Pt],[0,Ze-2*Pt],[0,Pt*yr,-ft*yr,Pt,-ft,Pt],[2*ft-Be,0],[-ft*yr,0,-ft,-Pt*yr,-ft,-Pt],[0,2*Pt-Ze],[0,-Pt*yr,ft*yr,-Pt,ft,-Pt]],U+ft,ue,[1,1],qt,!0),this},p.__private__.ellipse=p.ellipse=function(U,ue,Be,Ze,ft){if(isNaN(U)||isNaN(ue)||isNaN(Be)||isNaN(Ze)||!ii(ft))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Pt=4/3*(Math.SQRT2-1)*Be,qt=4/3*(Math.SQRT2-1)*Ze;return Cd(U+Be,ue),ne(U+Be,ue-qt,U+Pt,ue-Ze,U,ue-Ze),ne(U-Pt,ue-Ze,U-Be,ue-qt,U-Be,ue),ne(U-Be,ue+qt,U-Pt,ue+Ze,U,ue+Ze),ne(U+Pt,ue+Ze,U+Be,ue+qt,U+Be,ue),Sd(ft),this},p.__private__.circle=p.circle=function(U,ue,Be,Ze){if(isNaN(U)||isNaN(ue)||isNaN(Be)||!ii(Ze))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(U,ue,Be,Be,Ze)},p.setFont=function(U,ue,Be){return Be&&(ue=E(ue,Be)),Ne=ya(U,ue,{disableWarning:!1}),this};var He=p.__private__.getFont=p.getFont=function(){return We[ya.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var U,ue,Be={};for(U in rt)if(rt.hasOwnProperty(U))for(ue in Be[U]=[],rt[U])rt[U].hasOwnProperty(ue)&&Be[U].push(ue);return Be},p.addFont=function(U,ue,Be,Ze,ft){var Pt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Pt.indexOf(arguments[3])!==-1?ft=arguments[3]:arguments[3]&&Pt.indexOf(arguments[3])==-1&&(Be=E(Be,Ze)),Er.call(this,U,ue,Be,ft=ft||"Identity-H")};var Kt,an=t.lineWidth||.200025,rr=p.__private__.getLineWidth=p.getLineWidth=function(){return an},ss=p.__private__.setLineWidth=p.setLineWidth=function(U){return an=U,se(L(B(U))+" w"),this};p.__private__.setLineDash=Tr.API.setLineDash=Tr.API.setLineDashPattern=function(U,ue){if(U=U||[],ue=ue||0,isNaN(ue)||!Array.isArray(U))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return U=U.map(function(Be){return L(B(Be))}).join(" "),ue=L(B(ue)),se("["+U+"] "+ue+" d"),this};var Zi=p.__private__.getLineHeight=p.getLineHeight=function(){return Me*Kt};p.__private__.getLineHeight=p.getLineHeight=function(){return Me*Kt};var wo=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(U){return typeof(U=U||1.15)=="number"&&(Kt=U),this},_c=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return Kt};wo(t.lineHeight);var eo=p.__private__.getHorizontalCoordinate=function(U){return B(U)},oi=p.__private__.getVerticalCoordinate=function(U){return T===S?U:Fe[J].mediaBox.topRightY-Fe[J].mediaBox.bottomLeftY-B(U)},km=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(U){return L(eo(U))},_d=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(U){return L(oi(U))},jo=t.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return Wr(jo)},p.__private__.setStrokeColor=p.setDrawColor=function(U,ue,Be,Ze){return jo=Kr({ch1:U,ch2:ue,ch3:Be,ch4:Ze,pdfColorType:"draw",precision:2}),se(jo),this};var Ad=t.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return Wr(Ad)},p.__private__.setFillColor=p.setFillColor=function(U,ue,Be,Ze){return Ad=Kr({ch1:U,ch2:ue,ch3:Be,ch4:Ze,pdfColorType:"fill",precision:2}),se(Ad),this};var Il=t.textColor||"0 g",Td=p.__private__.getTextColor=p.getTextColor=function(){return Wr(Il)};p.__private__.setTextColor=p.setTextColor=function(U,ue,Be,Ze){return Il=Kr({ch1:U,ch2:ue,ch3:Be,ch4:Ze,pdfColorType:"text",precision:3}),this};var Ac=t.charSpace,Xf=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(Ac||0)};p.__private__.setCharSpace=p.setCharSpace=function(U){if(isNaN(U))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ac=U,this};var Qf=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(U){var ue=p.CapJoinStyles[U];if(ue===void 0)throw new Error("Line cap style of '"+U+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Qf=ue,se(ue+" J"),this};var Gs=0;p.__private__.setLineJoin=p.setLineJoin=function(U){var ue=p.CapJoinStyles[U];if(ue===void 0)throw new Error("Line join style of '"+U+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Gs=ue,se(ue+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(U){if(U=U||0,isNaN(U))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return se(L(B(U))+" M"),this},p.GState=jN,p.setGState=function(U){(U=typeof U=="string"?yt[st[U]]:No(null,U)).equals(_e)||(se("/"+U.id+" gs"),_e=U)};var No=function(U,ue){if(!U||!st[U]){var Be=!1;for(var Ze in yt)if(yt.hasOwnProperty(Ze)&&yt[Ze].equals(ue)){Be=!0;break}if(Be)ue=yt[Ze];else{var ft="GS"+(Object.keys(yt).length+1).toString(10);yt[ft]=ue,ue.id=ft}return U&&(st[U]=ue.id),Xe.publish("addGState",ue),ue}};p.addGState=function(U,ue){return No(U,ue),this},p.saveGraphicsState=function(){return se("q"),ve.push({key:Ne,size:Me,color:Il}),this},p.restoreGraphicsState=function(){se("Q");var U=ve.pop();return Ne=U.key,Me=U.size,Il=U.color,_e=null,this},p.setCurrentTransformationMatrix=function(U){return se(U.toString()+" cm"),this},p.comment=function(U){return se("#"+U),this};var Fl=function(U,ue){var Be=U||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Be},set:function(Pt){isNaN(Pt)||(Be=parseFloat(Pt))}});var Ze=ue||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ze},set:function(Pt){isNaN(Pt)||(Ze=parseFloat(Pt))}});var ft="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ft},set:function(Pt){ft=Pt.toString()}}),this},Tc=function(U,ue,Be,Ze){Fl.call(this,U,ue),this.type="rect";var ft=Be||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ft},set:function(qt){isNaN(qt)||(ft=parseFloat(qt))}});var Pt=Ze||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Pt},set:function(qt){isNaN(qt)||(Pt=parseFloat(qt))}}),this},Zf=function(){this.page=te,this.currentPage=J,this.pages=Ke.slice(0),this.pagesContext=Fe.slice(0),this.x=me,this.y=De,this.matrix=je,this.width=yu(J),this.height=Bl(J),this.outputDestination=ye,this.id="",this.objectNumber=-1};Zf.prototype.restore=function(){te=this.page,J=this.currentPage,Fe=this.pagesContext,Ke=this.pages,me=this.x,De=this.y,je=this.matrix,Ed(J,this.width),Ec(J,this.height),ye=this.outputDestination};var Md=function(U,ue,Be,Ze,ft){Ue.push(new Zf),te=J=0,Ke=[],me=U,De=ue,je=ft,dr([Be,Ze])};for(var Mc in p.beginFormObject=function(U,ue,Be,Ze,ft){return Md(U,ue,Be,Ze,ft),this},p.endFormObject=function(U){return(function(ue){if($e[ue])Ue.pop().restore();else{var Be=new Zf,Ze="Xo"+(Object.keys(wt).length+1).toString(10);Be.id=Ze,$e[ue]=Ze,wt[Ze]=Be,Xe.publish("addFormObject",Be),Ue.pop().restore()}})(U),this},p.doFormObject=function(U,ue){var Be=wt[$e[U]];return se("q"),se(ue.toString()+" cm"),se("/"+Be.id+" Do"),se("Q"),this},p.getFormObject=function(U){var ue=wt[$e[U]];return{x:ue.x,y:ue.y,width:ue.width,height:ue.height,matrix:ue.matrix}},p.save=function(U,ue){return U=U||"generated.pdf",(ue=ue||{}).returnPromise=ue.returnPromise||!1,ue.returnPromise===!1?(ep(vo(Xi()),U),typeof ep.unload=="function"&&Zr.setTimeout&&setTimeout(ep.unload,911),this):new Promise(function(Be,Ze){try{var ft=ep(vo(Xi()),U);typeof ep.unload=="function"&&Zr.setTimeout&&setTimeout(ep.unload,911),Be(ft)}catch(Pt){Ze(Pt.message)}})},Tr.API)Tr.API.hasOwnProperty(Mc)&&(Mc==="events"&&Tr.API.events.length?(function(U,ue){var Be,Ze,ft;for(ft=ue.length-1;ft!==-1;ft--)Be=ue[ft][0],Ze=ue[ft][1],U.subscribe.apply(U,[Be].concat(typeof Ze=="function"?[Ze]:Ze))})(Xe,Tr.API.events):p[Mc]=Tr.API[Mc]);function yu(U){return Fe[U].mediaBox.topRightX-Fe[U].mediaBox.bottomLeftX}function Ed(U,ue){Fe[U].mediaBox.topRightX=ue+Fe[U].mediaBox.bottomLeftX}function Bl(U){return Fe[U].mediaBox.topRightY-Fe[U].mediaBox.bottomLeftY}function Ec(U,ue){Fe[U].mediaBox.topRightY=ue+Fe[U].mediaBox.bottomLeftY}var c0=p.getPageWidth=function(U){return yu(U=U||J)/ze},u0=p.setPageWidth=function(U,ue){Ed(U,ue*ze)},Oc=p.getPageHeight=function(U){return Bl(U=U||J)/ze},d0=p.setPageHeight=function(U,ue){Ec(U,ue*ze)};return p.internal={pdfEscape:Nr,getStyle:jd,getFont:He,getFontSize:tt,getCharSpace:Xf,getTextColor:Td,getLineHeight:Zi,getLineHeightFactor:_c,getLineWidth:rr,write:bt,getHorizontalCoordinate:eo,getVerticalCoordinate:oi,getCoordinateString:km,getVerticalCoordinateString:_d,collections:{},newObject:Ct,newAdditionalObject:gn,newObjectDeferred:Vt,newObjectDeferredBegin:br,getFilters:Zt,putStream:ct,events:Xe,scaleFactor:ze,pageSize:{getWidth:function(){return c0(J)},setWidth:function(U){u0(J,U)},getHeight:function(){return Oc(J)},setHeight:function(U){d0(J,U)}},encryptionOptions:f,encryption:$a,getEncryptor:function(U){return f!==null?$a.encryptor(U,0):function(ue){return ue}},output:Qi,getNumberOfPages:Ri,pages:Ke,out:se,f2:A,f3:M,getPageInfo:Vs,getPageInfoByObjId:vd,getCurrentPageInfo:Yf,getPDFVersion:w,Point:Fl,Rectangle:Tc,Matrix:et,hasHotfix:qo},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return c0(J)},set:function(U){u0(J,U)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return Oc(J)},set:function(U){d0(J,U)},enumerable:!0,configurable:!0}),(function(U){for(var ue=0,Be=Re.length;ue<Be;ue++){var Ze=Er.call(this,U[ue][0],U[ue][1],U[ue][2],Re[ue][3],!0);h===!1&&(g[Ze]=!0);var ft=U[ue][0].split("-");sr({id:Ze,fontName:ft[0],fontStyle:ft[1]||""})}Xe.publish("addFonts",{fonts:We,dictionary:rt})}).call(p,Re),Ne="F1",Br(s,r),Xe.publish("initialized"),p}ug.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},ug.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},ug.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},ug.prototype.processOwnerPassword=function(t,e){return TO(AO(e).substr(0,5),t)},ug.prototype.encryptor=function(t,e){var r=AO(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return TO(r,n)}},jN.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||zn(t)!==zn(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},Tr.API={events:[]},Tr.version="3.0.3";var ks=Tr.API,BL=1,i0=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},rg=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},ln=function(t){return t.toFixed(2)},Dh=function(t){return t.toFixed(5)};ks.__acroform__={};var hl=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},$G=function(t){return t*BL},Bu=function(t){var e=new gse,r=jr.internal.getHeight(t)||0,n=jr.internal.getWidth(t)||0;return e.BBox=[0,0,Number(ln(n)),Number(ln(r))],e},xUe=ks.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},bUe=ks.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},yUe=ks.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Bs=ks.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return yUe(t,e-1)},$s=ks.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return xUe(t,e-1)},Hs=ks.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return bUe(t,e-1)},vUe=ks.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,s=t[0],i=t[1],o=t[2],l=t[3],c={};return c.lowerLeft_X=r(s)||0,c.lowerLeft_Y=n(i+l)||0,c.upperRight_X=r(s+o)||0,c.upperRight_Y=n(i)||0,[Number(ln(c.lowerLeft_X)),Number(ln(c.lowerLeft_Y)),Number(ln(c.upperRight_X)),Number(ln(c.upperRight_Y))]},wUe=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=MO(t,r),s=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+s+" "+ln(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var i=Bu(t);return i.scope=t.scope,i.stream=e.join(`
`),i}},MO=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},s=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");s=t.multiline?s.map(function(A){return A.split(`
`)}):s.map(function(A){return[A]});var i=r,o=jr.internal.getHeight(t)||0;o=o<0?-o:o;var l=jr.internal.getWidth(t)||0;l=l<0?-l:l;var c=function(A,M,B){if(A+1<s.length){var z=M+" "+s[A+1][0];return v2(z,t,B).width<=l-4}return!1};i++;e:for(;i>0;){e="",i--;var u,f,h=v2("3",t,i).height,g=t.multiline?o-i:(o-h)/2,p=g+=2,v=0,w=0,y=0;if(i<=0){e=`(...) Tj
`,e+="% Width of Text: "+v2(e,t,i=12).width+", FieldWidth:"+l+`
`;break}for(var N="",k=0,S=0;S<s.length;S++)if(s.hasOwnProperty(S)){var T=!1;if(s[S].length!==1&&y!==s[S].length-1){if((h+2)*(k+2)+2>o)continue e;N+=s[S][y],T=!0,w=S,S--}else{N=(N+=s[S][y]+" ").substr(N.length-1)==" "?N.substr(0,N.length-1):N;var _=parseInt(S),D=c(_,N,i),E=S>=s.length-1;if(D&&!E){N+=" ",y=0;continue}if(D||E){if(E)w=_;else if(t.multiline&&(h+2)*(k+2)+2>o)continue e}else{if(!t.multiline||(h+2)*(k+2)+2>o)continue e;w=_}}for(var L="",R=v;R<=w;R++){var F=s[R];if(t.multiline){if(R===w){L+=F[y]+" ",y=(y+1)%F.length;continue}if(R===v){L+=F[F.length-1]+" ";continue}}L+=F[0]+" "}switch(L=L.substr(L.length-1)==" "?L.substr(0,L.length-1):L,f=v2(L,t,i).width,t.textAlign){case"right":u=l-f-2;break;case"center":u=(l-f)/2;break;default:u=2}e+=ln(u)+" "+ln(p)+` Td
`,e+="("+i0(L)+`) Tj
`,e+=-ln(u)+` 0 Td
`,p=-(i+2),f=0,v=T?w:w+1,k++,N=""}break}return n.text=e,n.fontSize=i,n},v2=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),s=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:s}},jUe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},NUe=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},SUe=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(xu.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(jUe)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");BL=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new xse,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in n)if(n.hasOwnProperty(s)){var i=n[s];i.objId=void 0,i.hasAnnotation&&NUe(i,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,s){var i=!n;for(var o in n||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(o)){var l=n[o],c=[],u=l.Rect;if(l.Rect&&(l.Rect=vUe(l.Rect,s)),s.internal.newObjectDeferredBegin(l.objId,!0),l.DA=jr.createDefaultAppearanceStream(l),zn(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=u,l.hasAppearanceStream&&!l.appearanceStreamContent){var f=wUe(l);c.push({key:"AP",value:"<</N "+f+">>"}),s.internal.acroformPlugin.xForms.push(f)}if(l.appearanceStreamContent){var h="";for(var g in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(g)){var p=l.appearanceStreamContent[g];if(h+="/"+g+" ",h+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var o in p)if(p.hasOwnProperty(o)){var v=p[o];typeof v=="function"&&(v=v.call(s,l)),h+="/"+o+" "+v+" ",s.internal.acroformPlugin.xForms.indexOf(v)>=0||s.internal.acroformPlugin.xForms.push(v)}}else typeof(v=p)=="function"&&(v=v.call(s,l)),h+="/"+o+" "+v,s.internal.acroformPlugin.xForms.indexOf(v)>=0||s.internal.acroformPlugin.xForms.push(v);h+=">>"}c.push({key:"AP",value:`<<
`+h+">>"})}s.internal.putStream({additionalKeyValues:c,objectId:l.objId}),s.internal.out("endobj")}i&&(function(w,y){for(var N in w)if(w.hasOwnProperty(N)){var k=N,S=w[N];y.internal.newObjectDeferredBegin(S.objId,!0),zn(S)==="object"&&typeof S.putStream=="function"&&S.putStream(),delete w[k]}})(s.internal.acroformPlugin.xForms,s)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},pse=ks.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(o){return o};if(Array.isArray(t)){for(var s="[",i=0;i<t.length;i++)switch(i!==0&&(s+=" "),zn(t[i])){case"boolean":case"number":case"object":s+=t[i].toString();break;case"string":t[i].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),s+="("+i0(n(t[i].toString()))+")"):s+=t[i].toString()}return s+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},JT=function(t,e,r){var n=function(s){return s};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),"("+i0(n(t))+")"},Zu=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Zu.prototype.toString=function(){return this.objId+" 0 R"},Zu.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Zu.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],s=this[n];s&&(Array.isArray(s)?t.push({key:n,value:pse(s,this.objId,this.scope)}):s instanceof Zu?(s.scope=this.scope,t.push({key:n,value:s.objId+" 0 R"})):typeof s!="function"&&t.push({key:n,value:s}))}return t};var gse=function(){Zu.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};hl(gse,Zu);var xse=function(){Zu.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+i0(r(t))+")"}},set:function(r){t=r}})};hl(xse,Zu);var xu=function t(){Zu.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(N){if(isNaN(N))throw new Error('Invalid value "'+N+'" for attribute F supplied.');e=N}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Bs(e,3)},set:function(N){N?this.F=$s(e,3):this.F=Hs(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(N){if(isNaN(N))throw new Error('Invalid value "'+N+'" for attribute Ff supplied.');r=N}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(N){n=N!==void 0?N:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(N){n[0]=N}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(N){n[1]=N}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(N){n[2]=N}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(N){n[3]=N}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(N){switch(N){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=N;break;default:throw new Error('Invalid value "'+N+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof NN)return;i="FieldObject"+t.FieldNum++}var N=function(k){return k};return this.scope&&(N=this.scope.internal.getEncryptor(this.objId)),"("+i0(N(i))+")"},set:function(N){i=N.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(N){i=N}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(N){o=N}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(N){l=N}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(N){c=N}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/BL:u},set:function(N){u=N}});var f="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return f},set:function(N){f=N}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof NN||this instanceof Op))return JT(h,this.objId,this.scope)},set:function(N){N=N.toString(),h=N}});var g=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof Ti==0?JT(g,this.objId,this.scope):g},set:function(N){N=N.toString(),g=this instanceof Ti==0?N.substr(0,1)==="("?rg(N.substr(1,N.length-2)):rg(N):N}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ti==1?rg(g.substr(1,g.length-1)):g},set:function(N){N=N.toString(),g=this instanceof Ti==1?"/"+N:N}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(N){this.V=N}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Ti==0?JT(p,this.objId,this.scope):p},set:function(N){N=N.toString(),p=this instanceof Ti==0?N.substr(0,1)==="("?rg(N.substr(1,N.length-2)):rg(N):N}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ti==1?rg(p.substr(1,p.length-1)):p},set:function(N){N=N.toString(),p=this instanceof Ti==1?"/"+N:N}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var v,w=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return w},set:function(N){N=!!N,w=N}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(v)return v},set:function(N){v=N}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Bs(this.Ff,1)},set:function(N){N?this.Ff=$s(this.Ff,1):this.Ff=Hs(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Bs(this.Ff,2)},set:function(N){N?this.Ff=$s(this.Ff,2):this.Ff=Hs(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Bs(this.Ff,3)},set:function(N){N?this.Ff=$s(this.Ff,3):this.Ff=Hs(this.Ff,3)}});var y=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(y!==null)return y},set:function(N){if([0,1,2].indexOf(N)===-1)throw new Error('Invalid value "'+N+'" for attribute Q supplied.');y=N}}),Object.defineProperty(this,"textAlign",{get:function(){var N;switch(y){case 0:default:N="left";break;case 1:N="center";break;case 2:N="right"}return N},configurable:!0,enumerable:!0,set:function(N){switch(N){case"right":case 2:y=2;break;case"center":case 1:y=1;break;default:y=0}}})};hl(xu,Zu);var Rg=function(){xu.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return pse(e,this.objId,this.scope)},set:function(r){var n,s;s=[],typeof(n=r)=="string"&&(s=(function(i,o,l){l||(l=1);for(var c,u=[];c=o.exec(i);)u.push(c[l]);return u})(n,/\((.*?)\)/g)),e=s}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Bs(this.Ff,18)},set:function(r){r?this.Ff=$s(this.Ff,18):this.Ff=Hs(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Bs(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=$s(this.Ff,19):this.Ff=Hs(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Bs(this.Ff,20)},set:function(r){r?(this.Ff=$s(this.Ff,20),e.sort()):this.Ff=Hs(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Bs(this.Ff,22)},set:function(r){r?this.Ff=$s(this.Ff,22):this.Ff=Hs(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Bs(this.Ff,23)},set:function(r){r?this.Ff=$s(this.Ff,23):this.Ff=Hs(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Bs(this.Ff,27)},set:function(r){r?this.Ff=$s(this.Ff,27):this.Ff=Hs(this.Ff,27)}}),this.hasAppearanceStream=!1};hl(Rg,xu);var Ig=function(){Rg.call(this),this.fontName="helvetica",this.combo=!1};hl(Ig,Rg);var Fg=function(){Ig.call(this),this.combo=!0};hl(Fg,Ig);var Q2=function(){Fg.call(this),this.edit=!0};hl(Q2,Fg);var Ti=function(){xu.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Bs(this.Ff,15)},set:function(r){r?this.Ff=$s(this.Ff,15):this.Ff=Hs(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Bs(this.Ff,16)},set:function(r){r?this.Ff=$s(this.Ff,16):this.Ff=Hs(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Bs(this.Ff,17)},set:function(r){r?this.Ff=$s(this.Ff,17):this.Ff=Hs(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Bs(this.Ff,26)},set:function(r){r?this.Ff=$s(this.Ff,26):this.Ff=Hs(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,s=[];for(n in s.push("<<"),e)s.push("/"+n+" ("+i0(r(e[n]))+")");return s.push(">>"),s.join(`
`)}},set:function(r){zn(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};hl(Ti,xu);var Z2=function(){Ti.call(this),this.pushButton=!0};hl(Z2,Ti);var Bg=function(){Ti.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};hl(Bg,Ti);var NN=function(){var t,e;xu.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(s){t=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(s){e=s}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(l){return l};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var i,o=[];for(i in o.push("<<"),n)o.push("/"+i+" ("+i0(s(n[i]))+")");return o.push(">>"),o.join(`
`)},set:function(s){zn(s)==="object"&&(n=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(s){typeof s=="string"&&(n.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(s){r=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(s){r="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=jr.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};hl(NN,xu),Bg.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},Bg.prototype.createOption=function(t){var e=new NN;return e.Parent=this,e.optionName=t,this.Kids.push(e),kUe.call(this.scope,e),e};var ej=function(){Ti.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=jr.CheckBox.createAppearanceStream()};hl(ej,Ti);var Op=function(){xu.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Bs(this.Ff,13)},set:function(e){e?this.Ff=$s(this.Ff,13):this.Ff=Hs(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Bs(this.Ff,21)},set:function(e){e?this.Ff=$s(this.Ff,21):this.Ff=Hs(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Bs(this.Ff,23)},set:function(e){e?this.Ff=$s(this.Ff,23):this.Ff=Hs(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Bs(this.Ff,24)},set:function(e){e?this.Ff=$s(this.Ff,24):this.Ff=Hs(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Bs(this.Ff,25)},set:function(e){e?this.Ff=$s(this.Ff,25):this.Ff=Hs(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Bs(this.Ff,26)},set:function(e){e?this.Ff=$s(this.Ff,26):this.Ff=Hs(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};hl(Op,xu);var tj=function(){Op.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Bs(this.Ff,14)},set:function(t){t?this.Ff=$s(this.Ff,14):this.Ff=Hs(this.Ff,14)}}),this.password=!0};hl(tj,Op);var jr={CheckBox:{createAppearanceStream:function(){return{N:{On:jr.CheckBox.YesNormal},D:{On:jr.CheckBox.YesPushDown,Off:jr.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Bu(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,s=t.scope.__private__.encodeColorString(t.color),i=MO(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+ln(jr.internal.getWidth(t))+" "+ln(jr.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+ln(i.fontSize)+" Tf "+s),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=Bu(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),s=[],i=jr.internal.getHeight(t),o=jr.internal.getWidth(t),l=MO(t,t.caption);return s.push("1 g"),s.push("0 0 "+ln(o)+" "+ln(i)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+ln(o-1)+" "+ln(i-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+r+" "+ln(l.fontSize)+" Tf "+n),s.push(l.text),s.push("ET"),s.push("Q"),e.stream=s.join(`
`),e},OffPushDown:function(t){var e=Bu(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+ln(jr.internal.getWidth(t))+" "+ln(jr.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:jr.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=jr.RadioButton.Circle.YesNormal,e.D[t]=jr.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Bu(t);e.scope=t.scope;var r=[],n=jr.internal.getWidth(t)<=jr.internal.getHeight(t)?jr.internal.getWidth(t)/4:jr.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var s=jr.internal.Bezier_C,i=Number((n*s).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Dh(jr.internal.getWidth(t)/2)+" "+Dh(jr.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Bu(t);e.scope=t.scope;var r=[],n=jr.internal.getWidth(t)<=jr.internal.getHeight(t)?jr.internal.getWidth(t)/4:jr.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),i=Number((s*jr.internal.Bezier_C).toFixed(5)),o=Number((n*jr.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Dh(jr.internal.getWidth(t)/2)+" "+Dh(jr.internal.getHeight(t)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),r.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),r.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),r.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Dh(jr.internal.getWidth(t)/2)+" "+Dh(jr.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Bu(t);e.scope=t.scope;var r=[],n=jr.internal.getWidth(t)<=jr.internal.getHeight(t)?jr.internal.getWidth(t)/4:jr.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),i=Number((s*jr.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Dh(jr.internal.getWidth(t)/2)+" "+Dh(jr.internal.getHeight(t)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),r.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),r.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),r.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:jr.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=jr.RadioButton.Cross.YesNormal,e.D[t]=jr.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Bu(t);e.scope=t.scope;var r=[],n=jr.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+ln(jr.internal.getWidth(t)-2)+" "+ln(jr.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(ln(n.x1.x)+" "+ln(n.x1.y)+" m"),r.push(ln(n.x2.x)+" "+ln(n.x2.y)+" l"),r.push(ln(n.x4.x)+" "+ln(n.x4.y)+" m"),r.push(ln(n.x3.x)+" "+ln(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Bu(t);e.scope=t.scope;var r=jr.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+ln(jr.internal.getWidth(t))+" "+ln(jr.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+ln(jr.internal.getWidth(t)-2)+" "+ln(jr.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(ln(r.x1.x)+" "+ln(r.x1.y)+" m"),n.push(ln(r.x2.x)+" "+ln(r.x2.y)+" l"),n.push(ln(r.x4.x)+" "+ln(r.x4.y)+" m"),n.push(ln(r.x3.x)+" "+ln(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Bu(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+ln(jr.internal.getWidth(t))+" "+ln(jr.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};jr.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=jr.internal.getWidth(t),r=jr.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},jr.internal.getWidth=function(t){var e=0;return zn(t)==="object"&&(e=$G(t.Rect[2])),e},jr.internal.getHeight=function(t){var e=0;return zn(t)==="object"&&(e=$G(t.Rect[3])),e};var kUe=ks.addField=function(t){if(SUe(this,t),!(t instanceof xu))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};ks.AcroFormChoiceField=Rg,ks.AcroFormListBox=Ig,ks.AcroFormComboBox=Fg,ks.AcroFormEditBox=Q2,ks.AcroFormButton=Ti,ks.AcroFormPushButton=Z2,ks.AcroFormRadioButton=Bg,ks.AcroFormCheckBox=ej,ks.AcroFormTextField=Op,ks.AcroFormPasswordField=tj,ks.AcroFormAppearance=jr,ks.AcroForm={ChoiceField:Rg,ListBox:Ig,ComboBox:Fg,EditBox:Q2,Button:Ti,PushButton:Z2,RadioButton:Bg,CheckBox:ej,TextField:Op,PasswordField:tj,Appearance:jr},Tr.AcroForm={ChoiceField:Rg,ListBox:Ig,ComboBox:Fg,EditBox:Q2,Button:Ti,PushButton:Z2,RadioButton:Bg,CheckBox:ej,TextField:Op,PasswordField:tj,Appearance:jr};Tr.AcroForm;function bse(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){var e="addImage_";t.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},s=t.__addimage__.getImageFileTypeByImageData=function(A,M){var B,z,Y,W,H,q=r;if((M=M||r)==="RGBA"||A.data!==void 0&&A.data instanceof Uint8ClampedArray&&"height"in A&&"width"in A)return"RGBA";if(D(A))for(H in n)for(Y=n[H],B=0;B<Y.length;B+=1){for(W=!0,z=0;z<Y[B].length;z+=1)if(Y[B][z]!==void 0&&Y[B][z]!==A[z]){W=!1;break}if(W===!0){q=H;break}}else for(H in n)for(Y=n[H],B=0;B<Y.length;B+=1){for(W=!0,z=0;z<Y[B].length;z+=1)if(Y[B][z]!==void 0&&Y[B][z]!==A.charCodeAt(z)){W=!1;break}if(W===!0){q=H;break}}return q===r&&M!==r&&(q=M),q},i=function A(M){for(var B=this.internal.write,z=this.internal.putStream,Y=(0,this.internal.getFilters)();Y.indexOf("FlateEncode")!==-1;)Y.splice(Y.indexOf("FlateEncode"),1);M.objectId=this.internal.newObject();var W=[];if(W.push({key:"Type",value:"/XObject"}),W.push({key:"Subtype",value:"/Image"}),W.push({key:"Width",value:M.width}),W.push({key:"Height",value:M.height}),M.colorSpace===N.INDEXED?W.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(M.palette.length/3-1)+" "+("sMask"in M&&M.sMask!==void 0?M.objectId+2:M.objectId+1)+" 0 R]"}):(W.push({key:"ColorSpace",value:"/"+M.colorSpace}),M.colorSpace===N.DEVICE_CMYK&&W.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),W.push({key:"BitsPerComponent",value:M.bitsPerComponent}),"decodeParameters"in M&&M.decodeParameters!==void 0&&W.push({key:"DecodeParms",value:"<<"+M.decodeParameters+">>"}),"transparency"in M&&Array.isArray(M.transparency)&&M.transparency.length>0){for(var H="",q=0,X=M.transparency.length;q<X;q++)H+=M.transparency[q]+" "+M.transparency[q]+" ";W.push({key:"Mask",value:"["+H+"]"})}M.sMask!==void 0&&W.push({key:"SMask",value:M.objectId+1+" 0 R"});var oe=M.filter!==void 0?["/"+M.filter]:void 0;if(z({data:M.data,additionalKeyValues:W,alreadyAppliedFilters:oe,objectId:M.objectId}),B("endobj"),"sMask"in M&&M.sMask!==void 0){var K,V=(K=M.sMaskBitsPerComponent)!==null&&K!==void 0?K:M.bitsPerComponent,J={width:M.width,height:M.height,colorSpace:"DeviceGray",bitsPerComponent:V,data:M.sMask};"filter"in M&&(J.decodeParameters="/Predictor ".concat(M.predictor," /Colors 1 /BitsPerComponent ").concat(V," /Columns ").concat(M.width),J.filter=M.filter),A.call(this,J)}if(M.colorSpace===N.INDEXED){var Q=this.internal.newObject();z({data:L(new Uint8Array(M.palette)),objectId:Q}),B("endobj")}},o=function(){var A=this.internal.collections[e+"images"];for(var M in A)i.call(this,A[M])},l=function(){var A,M=this.internal.collections[e+"images"],B=this.internal.write;for(var z in M)B("/I"+(A=M[z]).index,A.objectId,"0","R")},c=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",l))},u=function(){var A=this.internal.collections[e+"images"];return c.call(this),A},f=function(){return Object.keys(this.internal.collections[e+"images"]).length},h=function(A){return typeof t["process"+A.toUpperCase()]=="function"},g=function(A){return zn(A)==="object"&&A.nodeType===1},p=function(A,M){if(A.nodeName==="IMG"&&A.hasAttribute("src")){var B=""+A.getAttribute("src");if(B.indexOf("data:image/")===0)return X2(unescape(B).split("base64,").pop());var z=t.loadFile(B,!0);if(z!==void 0)return z}if(A.nodeName==="CANVAS"){if(A.width===0||A.height===0)throw new Error("Given canvas must have data. Canvas width: "+A.width+", height: "+A.height);var Y;switch(M){case"PNG":Y="image/png";break;case"WEBP":Y="image/webp";break;default:Y="image/jpeg"}return X2(A.toDataURL(Y,1).split("base64,").pop())}},v=function(A){var M=this.internal.collections[e+"images"];if(M){for(var B in M)if(A===M[B].alias)return M[B]}},w=function(A,M,B){return A||M||(A=-96,M=-96),A<0&&(A=-1*B.width*72/A/this.internal.scaleFactor),M<0&&(M=-1*B.height*72/M/this.internal.scaleFactor),A===0&&(A=M*B.width/B.height),M===0&&(M=A*B.height/B.width),[A,M]},y=function(A,M,B,z,Y,W){var H=w.call(this,B,z,Y),q=this.internal.getCoordinateString,X=this.internal.getVerticalCoordinateString,oe=u.call(this);if(B=H[0],z=H[1],oe[Y.index]=Y,W){W*=Math.PI/180;var K=Math.cos(W),V=Math.sin(W),J=function(re){return re.toFixed(4)},Q=[J(K),J(V),J(-1*V),J(K),0,0,"cm"]}this.internal.write("q"),W?(this.internal.write([1,"0","0",1,q(A),X(M+z),"cm"].join(" ")),this.internal.write(Q.join(" ")),this.internal.write([q(B),"0","0",q(z),"0","0","cm"].join(" "))):this.internal.write([q(B),"0","0",q(z),q(A),X(M+z),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Y.index+" Do"),this.internal.write("Q")},N=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var k=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},S=t.__addimage__.sHashCode=function(A){var M,B,z=0;if(typeof A=="string")for(B=A.length,M=0;M<B;M++)z=(z<<5)-z+A.charCodeAt(M),z|=0;else if(D(A))for(B=A.byteLength/2,M=0;M<B;M++)z=(z<<5)-z+A[M],z|=0;return z},T=t.__addimage__.validateStringAsBase64=function(A){(A=A||"").toString().trim();var M=!0;return A.length===0&&(M=!1),A.length%4!=0&&(M=!1),/^[A-Za-z0-9+/]+$/.test(A.substr(0,A.length-2))===!1&&(M=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(A.substr(-2))===!1&&(M=!1),M},_=t.__addimage__.extractImageFromDataUrl=function(A){if(A==null||!(A=A.trim()).startsWith("data:"))return null;var M=A.indexOf(",");return M<0?null:A.substring(0,M).trim().endsWith("base64")?A.substring(M+1):null};t.__addimage__.isArrayBuffer=function(A){return A instanceof ArrayBuffer};var D=t.__addimage__.isArrayBufferView=function(A){return A instanceof Int8Array||A instanceof Uint8Array||A instanceof Uint8ClampedArray||A instanceof Int16Array||A instanceof Uint16Array||A instanceof Int32Array||A instanceof Uint32Array||A instanceof Float32Array||A instanceof Float64Array},E=t.__addimage__.binaryStringToUint8Array=function(A){for(var M=A.length,B=new Uint8Array(M),z=0;z<M;z++)B[z]=A.charCodeAt(z);return B},L=t.__addimage__.arrayBufferToBinaryString=function(A){for(var M="",B=D(A)?A:new Uint8Array(A),z=0;z<B.length;z+=8192)M+=String.fromCharCode.apply(null,B.subarray(z,z+8192));return M};t.addImage=function(){var A,M,B,z,Y,W,H,q,X;if(typeof arguments[1]=="number"?(M=r,B=arguments[1],z=arguments[2],Y=arguments[3],W=arguments[4],H=arguments[5],q=arguments[6],X=arguments[7]):(M=arguments[1],B=arguments[2],z=arguments[3],Y=arguments[4],W=arguments[5],H=arguments[6],q=arguments[7],X=arguments[8]),zn(A=arguments[0])==="object"&&!g(A)&&"imageData"in A){var oe=A;A=oe.imageData,M=oe.format||M||r,B=oe.x||B||0,z=oe.y||z||0,Y=oe.w||oe.width||Y,W=oe.h||oe.height||W,H=oe.alias||H,q=oe.compression||q,X=oe.rotation||oe.angle||X}var K=this.internal.getFilters();if(q===void 0&&K.indexOf("FlateEncode")!==-1&&(q="SLOW"),isNaN(B)||isNaN(z))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var V=R.call(this,A,M,H,q);return y.call(this,B,z,Y,W,V,X),this};var R=function(A,M,B,z){var Y,W,H;if(typeof A=="string"&&s(A)===r){A=unescape(A);var q=F(A,!1);(q!==""||(q=t.loadFile(A,!0))!==void 0)&&(A=q)}if(g(A)&&(A=p(A,M)),M=s(A,M),!h(M))throw new Error("addImage does not support files of type '"+M+"', please ensure that a plugin for '"+M+"' support is added.");if(((H=B)==null||H.length===0)&&(B=(function(X){return typeof X=="string"||D(X)?S(X):D(X.data)?S(X.data):null})(A)),(Y=v.call(this,B))||(A instanceof Uint8Array||M==="RGBA"||(W=A,A=E(A)),Y=this["process"+M.toUpperCase()](A,f.call(this),B,(function(X){return X&&typeof X=="string"&&(X=X.toUpperCase()),X in t.image_compression?X:k.NONE})(z),W)),!Y)throw new Error("An unknown error occurred whilst processing the image.");return Y},F=t.__addimage__.convertBase64ToBinaryString=function(A,M){M=typeof M!="boolean"||M;var B,z="";if(typeof A=="string"){var Y;B=(Y=_(A))!==null&&Y!==void 0?Y:A;try{z=X2(B)}catch(W){if(M)throw T(B)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+W.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return z};t.getImageProperties=function(A){var M,B,z="";if(g(A)&&(A=p(A)),typeof A=="string"&&s(A)===r&&((z=F(A,!1))===""&&(z=t.loadFile(A)||""),A=z),B=s(A),!h(B))throw new Error("addImage does not support files of type '"+B+"', please ensure that a plugin for '"+B+"' support is added.");if(A instanceof Uint8Array||(A=E(A)),!(M=this["process"+B.toUpperCase()](A)))throw new Error("An unknown error occurred whilst processing the image");return M.fileType=B,M}})(Tr.API),(function(t){var e=function(r){if(r!==void 0&&r!="")return!0};Tr.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,s,i,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,f=!1,h=0;h<u.length&&!f;h++)switch((n=u[h]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(f=!0);break;case"reference":case"text":case"freetext":f=!0}if(f!=0){this.internal.write("/Annots [");for(var g=0;g<u.length;g++){n=u[g];var p=this.internal.pdfEscape,v=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var w=this.internal.newAdditionalObject(),y=this.internal.newAdditionalObject(),N=this.internal.getEncryptor(w.objId),k=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(s="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y)+"] ")+"/Contents ("+p(N(n.contents))+")",i+=" /Popup "+y.objId+" 0 R",i+=" /P "+c.objId+" 0 R",i+=" /T ("+p(N(k))+") >>",w.content=i;var S=w.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+o(n.bounds.x+30)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+l(n.bounds.y)+"] ")+" /Parent "+S,n.open&&(i+=" /Open true"),i+=" >>",y.content=i,this.internal.write(w.objId,"0 R",y.objId,"0 R");break;case"freetext":s="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y+n.bounds.h)+"] ";var T=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+p(v(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+T+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var _=this.annotations._nameMap[n.options.name];n.options.pageNumber=_.page,n.options.top=_.y}else n.options.top||(n.options.top=0);if(s="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+p(v(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;default:var D=l(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+D+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,s,i,o){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(r),y:u(n),w:c(r+s),h:u(n+i)},options:o,type:"link"})},t.textWithLink=function(r,n,s,i){var o,l,c=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){l=i.maxWidth;var f=this.splitTextToSize(r,l).length;o=Math.ceil(u*f)}else l=c,o=u;return this.text(r,n,s,i),s+=.2*u,i.align==="center"&&(n-=c/2),i.align==="right"&&(n-=c),this.link(n,s-u,l,o,i),c},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}})(Tr.API),(function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];t.__arabicParser__={};var i=t.__arabicParser__.isInArabicSubstitutionA=function(w){return e[w.charCodeAt(0)]!==void 0},o=t.__arabicParser__.isArabicLetter=function(w){return typeof w=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(w)},l=t.__arabicParser__.isArabicEndLetter=function(w){return o(w)&&i(w)&&e[w.charCodeAt(0)].length<=2},c=t.__arabicParser__.isArabicAlfLetter=function(w){return o(w)&&s.indexOf(w.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(w){return o(w)&&i(w)&&e[w.charCodeAt(0)].length>=1};var u=t.__arabicParser__.arabicLetterHasFinalForm=function(w){return o(w)&&i(w)&&e[w.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(w){return o(w)&&i(w)&&e[w.charCodeAt(0)].length>=3};var f=t.__arabicParser__.arabicLetterHasMedialForm=function(w){return o(w)&&i(w)&&e[w.charCodeAt(0)].length==4},h=t.__arabicParser__.resolveLigatures=function(w){var y=0,N=r,k="",S=0;for(y=0;y<w.length;y+=1)N[w.charCodeAt(y)]!==void 0?(S++,typeof(N=N[w.charCodeAt(y)])=="number"&&(k+=String.fromCharCode(N),N=r,S=0),y===w.length-1&&(N=r,k+=w.charAt(y-(S-1)),y-=S-1,S=0)):(N=r,k+=w.charAt(y-S),y-=S,S=0);return k};t.__arabicParser__.isArabicDiacritic=function(w){return w!==void 0&&n[w.charCodeAt(0)]!==void 0};var g=t.__arabicParser__.getCorrectForm=function(w,y,N){return o(w)?i(w)===!1?-1:!u(w)||!o(y)&&!o(N)||!o(N)&&l(y)||l(w)&&!o(y)||l(w)&&c(y)||l(w)&&l(y)?0:f(w)&&o(y)&&!l(y)&&o(N)&&u(N)?3:l(w)||!o(N)?1:2:-1},p=function(w){var y=0,N=0,k=0,S="",T="",_="",D=(w=w||"").split("\\s+"),E=[];for(y=0;y<D.length;y+=1){for(E.push(""),N=0;N<D[y].length;N+=1)S=D[y][N],T=D[y][N-1],_=D[y][N+1],o(S)?(k=g(S,T,_),E[y]+=k!==-1?String.fromCharCode(e[S.charCodeAt(0)][k]):S):E[y]+=S;E[y]=h(E[y])}return E.join(" ")},v=t.__arabicParser__.processArabic=t.processArabic=function(){var w,y=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,N=[];if(Array.isArray(y)){var k=0;for(N=[],k=0;k<y.length;k+=1)Array.isArray(y[k])?N.push([p(y[k][0]),y[k][1],y[k][2]]):N.push([p(y[k])]);w=N}else w=p(y);return typeof arguments[0]=="string"?w:(arguments[0].text=w,arguments[0])};t.events.push(["preProcessText",v])})(Tr.API),Tr.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(l){s=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(l){i=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var s;if((r=r||"2d")!=="2d")return null;for(s in n)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=n[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(Tr.API),(function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(w){c=w}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(w){u=w}});var f=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return f},set:function(w){f=w}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(w){h=w}});var g=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return g},set:function(w){g=w}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(w){p=w}});var v=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return v},set:function(w){v=w}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},t.getTextDimensions=function(c,u){n.call(this);var f=(u=u||{}).fontSize||this.getFontSize(),h=u.font||this.getFont(),g=u.scaleFactor||this.internal.scaleFactor,p=0,v=0,w=0,y=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var N=u.maxWidth;N>0?typeof c=="string"?c=this.splitTextToSize(c,N):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(S,T){return S.concat(y.splitTextToSize(T,N))},[])):c=Array.isArray(c)?c:[c];for(var k=0;k<c.length;k++)p<(w=this.getStringUnitWidth(c[k],{font:h})*f)&&(p=w);return p!==0&&(v=c.length),{w:p/=g,h:Math.max((v*f*this.getLineHeightFactor()-f*(this.getLineHeightFactor()-1))/g,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new i(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var c;c=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var u=this.internal.__cell__.lastCell,f=this.internal.__cell__.padding,h=this.internal.__cell__.margins||e,g=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===c.lineNumber?(c.x=(u.x||0)+(u.width||0),c.y=u.y||0):u.y+u.height+c.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=h.top,p&&g&&(this.printHeaderRow(c.lineNumber,!0),c.y+=g[0].height)):c.y=u.y+u.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-f,c.y+f,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+f,{align:"center",baseline:"top",maxWidth:c.width-f-f}):this.text(c.text,c.x+f,c.y+f,{align:"left",baseline:"top",maxWidth:c.width-f-f})),this.internal.__cell__.lastCell=c,this};t.table=function(c,u,f,h,g){if(n.call(this),!f)throw new Error("No data for PDF table.");var p,v,w,y,N=[],k=[],S=[],T={},_={},D=[],E=[],L=(g=g||{}).autoSize||!1,R=g.printHeaders!==!1,F=g.css&&g.css["font-size"]!==void 0?16*g.css["font-size"]:g.fontSize||12,A=g.margins||Object.assign({width:this.getPageWidth()},e),M=typeof g.padding=="number"?g.padding:3,B=g.headerBackgroundColor||"#c8c8c8",z=g.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=R,this.internal.__cell__.margins=A,this.internal.__cell__.table_font_size=F,this.internal.__cell__.padding=M,this.internal.__cell__.headerBackgroundColor=B,this.internal.__cell__.headerTextColor=z,this.setFontSize(F),h==null)k=N=Object.keys(f[0]),S=N.map(function(){return"left"});else if(Array.isArray(h)&&zn(h[0])==="object")for(N=h.map(function(oe){return oe.name}),k=h.map(function(oe){return oe.prompt||oe.name||""}),S=h.map(function(oe){return oe.align||"left"}),p=0;p<h.length;p+=1)_[h[p].name]=.7499990551181103*h[p].width;else Array.isArray(h)&&typeof h[0]=="string"&&(k=N=h,S=N.map(function(){return"left"}));if(L||Array.isArray(h)&&typeof h[0]=="string")for(p=0;p<N.length;p+=1){for(T[y=N[p]]=f.map(function(oe){return oe[y]}),this.setFont(void 0,"bold"),D.push(this.getTextDimensions(k[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),v=T[y],this.setFont(void 0,"normal"),w=0;w<v.length;w+=1)D.push(this.getTextDimensions(v[w],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);_[y]=Math.max.apply(null,D)+M+M,D=[]}if(R){var Y={};for(p=0;p<N.length;p+=1)Y[N[p]]={},Y[N[p]].text=k[p],Y[N[p]].align=S[p];var W=l.call(this,Y,_);E=N.map(function(oe){return new i(c,u,_[oe],W,Y[oe].text,void 0,Y[oe].align)}),this.setTableHeaderRow(E),this.printHeaderRow(1,!1)}var H=h.reduce(function(oe,K){return oe[K.name]=K.align,oe},{});for(p=0;p<f.length;p+=1){"rowStart"in g&&g.rowStart instanceof Function&&g.rowStart({row:p,data:f[p]},this);var q=l.call(this,f[p],_);for(w=0;w<N.length;w+=1){var X=f[p][N[w]];"cellStart"in g&&g.cellStart instanceof Function&&g.cellStart({row:p,col:w,data:X},this),o.call(this,new i(c,u,_[N[w]],q,X,p+2,H[N[w]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=u,this};var l=function(c,u){var f=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,g=this.internal.scaleFactor;return Object.keys(c).map(function(p){var v=c[p];return this.splitTextToSize(v.hasOwnProperty("text")?v.text:v,u[p]-f-f)},this).map(function(p){return this.getLineHeightFactor()*p.length*h/g+f+f},this).reduce(function(p,v){return Math.max(p,v)},0)};t.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},t.printHeaderRow=function(c,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var f;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var g=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){f=this.internal.__cell__.tableHeaderRow[p].clone(),u&&(f.y=this.internal.__cell__.margins.top||0,g.push(f)),f.lineNumber=c;var v=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,f),this.setTextColor(v)}g.length>0&&this.setTableHeaderRow(g),this.setFont(void 0,"normal"),r=!1}})(Tr.API);var yse={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},vse=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],EO=bse(vse),wse=[100,200,300,400,500,600,700,800,900],CUe=bse(wse);function XT(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=(function(i){return yse[i=i||"normal"]?i:"normal"})(t.style),n=(function(i){return i?typeof i=="number"?i>=100&&i<=900&&i%100==0?i:400:/^\d00$/.test(i)?parseInt(i):i==="bold"?700:400:400})(t.weight),s=(function(i){return typeof EO[i=i||"normal"]=="number"?i:"normal"})(t.stretch);return{family:e,style:r,weight:n,stretch:s,src:t.src||[],ref:t.ref||{name:e,style:[s,r,n].join(" ")}}}function HG(t,e,r,n){var s;for(s=r;s>=0&&s<e.length;s+=n)if(t[e[s]])return t[e[s]];for(s=r;s>=0&&s<e.length;s-=n)if(t[e[s]])return t[e[s]]}var _Ue={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},zG={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function qG(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function UG(t){return t.trimLeft()}function AUe(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function TUe(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var w2,WG,VG,ng,j2,GG,YG,KG,QT=["times"];function JG(t,e,r,n,s){var i=4,o=QG;switch(s){case Tr.API.image_compression.FAST:i=1,o=XG;break;case Tr.API.image_compression.MEDIUM:i=6,o=ZG;break;case Tr.API.image_compression.SLOW:i=9,o=eY}t=(function(c,u,f,h){for(var g,p=c.length/u,v=new Uint8Array(c.length+p),w=[MUe,XG,QG,ZG,eY],y=0;y<p;y+=1){var N=y*u,k=c.subarray(N,N+u);if(h)v.set(h(k,f,g),N+y);else{for(var S=w.length,T=[],_=0;_<S;_+=1)T[_]=w[_](k,f,g);var D=OUe(T.concat());v.set(T[D],N+y)}g=k}return v})(t,e,Math.ceil(r*n/8),o);var l=SO(t,{level:i});return Tr.API.__addimage__.arrayBufferToBinaryString(l)}function MUe(t){var e=Array.apply([],t);return e.unshift(0),e}function XG(t,e){var r=t.length,n=[];n[0]=1;for(var s=0;s<r;s+=1){var i=t[s-e]||0;n[s+1]=t[s]-i+256&255}return n}function QG(t,e,r){var n=t.length,s=[];s[0]=2;for(var i=0;i<n;i+=1){var o=r&&r[i]||0;s[i+1]=t[i]-o+256&255}return s}function ZG(t,e,r){var n=t.length,s=[];s[0]=3;for(var i=0;i<n;i+=1){var o=t[i-e]||0,l=r&&r[i]||0;s[i+1]=t[i]+256-(o+l>>>1)&255}return s}function eY(t,e,r){var n=t.length,s=[];s[0]=4;for(var i=0;i<n;i+=1){var o=EUe(t[i-e]||0,r&&r[i]||0,r&&r[i-e]||0);s[i+1]=t[i]-o+256&255}return s}function EUe(t,e,r){if(t===e&&e===r)return t;var n=Math.abs(e-r),s=Math.abs(t-r),i=Math.abs(t+e-r-r);return n<=s&&n<=i?t:s<=i?e:r}function OUe(t){var e=t.map(function(r){return r.reduce(function(n,s){return n+Math.abs(s)},0)});return e.indexOf(Math.min.apply(null,e))}function ZT(t,e,r){var n=e*r,s=Math.floor(n/8),i=16-(n-8*s+r),o=(1<<r)-1;return jse(t,s)>>i&o}function tY(t,e,r,n){var s=r*n,i=Math.floor(s/8),o=16-(s-8*i+n),l=(1<<n)-1,c=(e&l)<<o;(function(u,f,h){if(f+1<u.byteLength)u.setUint16(f,h,!1);else{var g=h>>8&255;u.setUint8(f,g)}})(t,i,jse(t,i)&~(l<<o)&65535|c)}function jse(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function DUe(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,s=t[e++],i=s>>7,o=1<<1+(7&s);t[e++],t[e++];var l=null,c=null;i&&(l=e,c=o,e+=3*o);var u=!0,f=[],h=0,g=null,p=0,v=null;for(this.width=r,this.height=n;u&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,v=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((A=t[e++])>=0))throw Error("Invalid block size");if(A===0)break;e+=A}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var w=t[e++];h=t[e++]|t[e++]<<8,g=t[e++],1&w||(g=null),p=w>>2&7,e++;break;case 254:for(;;){if(!((A=t[e++])>=0))throw Error("Invalid block size");if(A===0)break;e+=A}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var y=t[e++]|t[e++]<<8,N=t[e++]|t[e++]<<8,k=t[e++]|t[e++]<<8,S=t[e++]|t[e++]<<8,T=t[e++],_=T>>6&1,D=1<<1+(7&T),E=l,L=c,R=!1;T>>7&&(R=!0,E=e,L=D,e+=3*D);var F=e;for(e++;;){var A;if(!((A=t[e++])>=0))throw Error("Invalid block size");if(A===0)break;e+=A}f.push({x:y,y:N,width:k,height:S,has_local_palette:R,palette_offset:E,palette_size:L,data_offset:F,data_length:e-F,transparent_index:g,interlaced:!!_,delay:h,disposal:p});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return f.length},this.loopCount=function(){return v},this.frameInfo=function(M){if(M<0||M>=f.length)throw new Error("Frame index out of range.");return f[M]},this.decodeAndBlitFrameBGRA=function(M,B){var z=this.frameInfo(M),Y=z.width*z.height,W=new Uint8Array(Y);rY(t,z.data_offset,W,Y);var H=z.palette_offset,q=z.transparent_index;q===null&&(q=256);var X=z.width,oe=r-X,K=X,V=4*(z.y*r+z.x),J=4*((z.y+z.height)*r+z.x),Q=V,re=4*oe;z.interlaced===!0&&(re+=4*r*7);for(var ce=8,Ee=0,ke=W.length;Ee<ke;++Ee){var ge=W[Ee];if(K===0&&(K=X,(Q+=re)>=J&&(re=4*oe+4*r*(ce-1),Q=V+(X+oe)*(ce<<1),ce>>=1)),ge===q)Q+=4;else{var Ce=t[H+3*ge],Ke=t[H+3*ge+1],fe=t[H+3*ge+2];B[Q++]=fe,B[Q++]=Ke,B[Q++]=Ce,B[Q++]=255}--K}},this.decodeAndBlitFrameRGBA=function(M,B){var z=this.frameInfo(M),Y=z.width*z.height,W=new Uint8Array(Y);rY(t,z.data_offset,W,Y);var H=z.palette_offset,q=z.transparent_index;q===null&&(q=256);var X=z.width,oe=r-X,K=X,V=4*(z.y*r+z.x),J=4*((z.y+z.height)*r+z.x),Q=V,re=4*oe;z.interlaced===!0&&(re+=4*r*7);for(var ce=8,Ee=0,ke=W.length;Ee<ke;++Ee){var ge=W[Ee];if(K===0&&(K=X,(Q+=re)>=J&&(re=4*oe+4*r*(ce-1),Q=V+(X+oe)*(ce<<1),ce>>=1)),ge===q)Q+=4;else{var Ce=t[H+3*ge],Ke=t[H+3*ge+1],fe=t[H+3*ge+2];B[Q++]=Ce,B[Q++]=Ke,B[Q++]=fe,B[Q++]=255}--K}}}function rY(t,e,r,n){for(var s=t[e++],i=1<<s,o=i+1,l=o+1,c=s+1,u=(1<<c)-1,f=0,h=0,g=0,p=t[e++],v=new Int32Array(4096),w=null;;){for(;f<16&&p!==0;)h|=t[e++]<<f,f+=8,p===1?p=t[e++]:--p;if(f<c)break;var y=h&u;if(h>>=c,f-=c,y!==i){if(y===o)break;for(var N=y<l?y:w,k=0,S=N;S>i;)S=v[S]>>8,++k;var T=S;if(g+k+(N!==y?1:0)>n)return void Ma.log("Warning, gif stream longer than expected.");r[g++]=T;var _=g+=k;for(N!==y&&(r[g++]=T),S=N;k--;)S=v[S],r[--_]=255&S,S>>=8;w!==null&&l<4096&&(v[l++]=w<<8|T,l>=u+1&&c<12&&(++c,u=u<<1|1)),w=y}else l=o+1,u=(1<<(c=s+1))-1,w=null}return g!==n&&Ma.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function e6(t){var e,r,n,s,i,o=Math.floor,l=new Array(64),c=new Array(64),u=new Array(64),f=new Array(64),h=new Array(65535),g=new Array(65535),p=new Array(64),v=new Array(64),w=[],y=0,N=7,k=new Array(64),S=new Array(64),T=new Array(64),_=new Array(256),D=new Array(2048),E=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],L=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],R=[0,1,2,3,4,5,6,7,8,9,10,11],F=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],A=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],M=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],B=[0,1,2,3,4,5,6,7,8,9,10,11],z=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Y=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function W(V,J){for(var Q=0,re=0,ce=new Array,Ee=1;Ee<=16;Ee++){for(var ke=1;ke<=V[Ee];ke++)ce[J[re]]=[],ce[J[re]][0]=Q,ce[J[re]][1]=Ee,re++,Q++;Q*=2}return ce}function H(V){for(var J=V[0],Q=V[1]-1;Q>=0;)J&1<<Q&&(y|=1<<N),Q--,--N<0&&(y==255?(q(255),q(0)):q(y),N=7,y=0)}function q(V){w.push(V)}function X(V){q(V>>8&255),q(255&V)}function oe(V,J,Q,re,ce){for(var Ee,ke=ce[0],ge=ce[240],Ce=(function(Me,qe){var tt,Ve,Te,le,Je,Ge,ut,Pe,Ne,ze,me=0;for(Ne=0;Ne<8;++Ne){tt=Me[me],Ve=Me[me+1],Te=Me[me+2],le=Me[me+3],Je=Me[me+4],Ge=Me[me+5],ut=Me[me+6];var De=tt+(Pe=Me[me+7]),je=tt-Pe,We=Ve+ut,rt=Ve-ut,ve=Te+Ge,xe=Te-Ge,Qe=le+Je,yt=le-Je,st=De+Qe,_e=De-Qe,te=We+ve,Fe=We-ve;Me[me]=st+te,Me[me+4]=st-te;var Xe=.707106781*(Fe+_e);Me[me+2]=_e+Xe,Me[me+6]=_e-Xe;var lt=.382683433*((st=yt+xe)-(Fe=rt+je)),wt=.5411961*st+lt,$e=1.306562965*Fe+lt,Ue=.707106781*(te=xe+rt),et=je+Ue,Rt=je-Ue;Me[me+5]=Rt+wt,Me[me+3]=Rt-wt,Me[me+1]=et+$e,Me[me+7]=et-$e,me+=8}for(me=0,Ne=0;Ne<8;++Ne){tt=Me[me],Ve=Me[me+8],Te=Me[me+16],le=Me[me+24],Je=Me[me+32],Ge=Me[me+40],ut=Me[me+48];var Ut=tt+(Pe=Me[me+56]),Wt=tt-Pe,mt=Ve+ut,Ct=Ve-ut,Vt=Te+Ge,br=Te-Ge,gn=le+Je,wn=le-Je,ir=Ut+gn,Wr=Ut-gn,Kr=mt+Vt,Zt=mt-Vt;Me[me]=ir+Kr,Me[me+32]=ir-Kr;var ct=.707106781*(Zt+Wr);Me[me+16]=Wr+ct,Me[me+48]=Wr-ct;var dt=.382683433*((ir=wn+br)-(Zt=Ct+Wt)),Mt=.5411961*ir+dt,he=1.306562965*Zt+dt,it=.707106781*(Kr=br+Ct),kt=Wt+it,cr=Wt-it;Me[me+40]=cr+Mt,Me[me+24]=cr-Mt,Me[me+8]=kt+he,Me[me+56]=kt-he,me++}for(Ne=0;Ne<64;++Ne)ze=Me[Ne]*qe[Ne],p[Ne]=ze>0?ze+.5|0:ze-.5|0;return p})(V,J),Ke=0;Ke<64;++Ke)v[E[Ke]]=Ce[Ke];var fe=v[0]-Q;Q=v[0],fe==0?H(re[0]):(H(re[g[Ee=32767+fe]]),H(h[Ee]));for(var ye=63;ye>0&&v[ye]==0;)ye--;if(ye==0)return H(ke),Q;for(var ae,se=1;se<=ye;){for(var bt=se;v[se]==0&&se<=ye;)++se;var pt=se-bt;if(pt>=16){ae=pt>>4;for(var Re=1;Re<=ae;++Re)H(ge);pt&=15}Ee=32767+v[se],H(ce[(pt<<4)+g[Ee]]),H(h[Ee]),se++}return ye!=63&&H(ke),Q}function K(V){V=Math.min(Math.max(V,1),100),i!=V&&((function(J){for(var Q=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],re=0;re<64;re++){var ce=o((Q[re]*J+50)/100);ce=Math.min(Math.max(ce,1),255),l[E[re]]=ce}for(var Ee=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ke=0;ke<64;ke++){var ge=o((Ee[ke]*J+50)/100);ge=Math.min(Math.max(ge,1),255),c[E[ke]]=ge}for(var Ce=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ke=0,fe=0;fe<8;fe++)for(var ye=0;ye<8;ye++)u[Ke]=1/(l[E[Ke]]*Ce[fe]*Ce[ye]*8),f[Ke]=1/(c[E[Ke]]*Ce[fe]*Ce[ye]*8),Ke++})(V<50?Math.floor(5e3/V):Math.floor(200-2*V)),i=V)}this.encode=function(V,J){J&&K(J),w=new Array,y=0,N=7,X(65496),X(65504),X(16),q(74),q(70),q(73),q(70),q(0),q(1),q(1),q(0),X(1),X(1),q(0),q(0),(function(){X(65499),X(132),q(0);for(var Ve=0;Ve<64;Ve++)q(l[Ve]);q(1);for(var Te=0;Te<64;Te++)q(c[Te])})(),(function(Ve,Te){X(65472),X(17),q(8),X(Te),X(Ve),q(3),q(1),q(17),q(0),q(2),q(17),q(1),q(3),q(17),q(1)})(V.width,V.height),(function(){X(65476),X(418),q(0);for(var Ve=0;Ve<16;Ve++)q(L[Ve+1]);for(var Te=0;Te<=11;Te++)q(R[Te]);q(16);for(var le=0;le<16;le++)q(F[le+1]);for(var Je=0;Je<=161;Je++)q(A[Je]);q(1);for(var Ge=0;Ge<16;Ge++)q(M[Ge+1]);for(var ut=0;ut<=11;ut++)q(B[ut]);q(17);for(var Pe=0;Pe<16;Pe++)q(z[Pe+1]);for(var Ne=0;Ne<=161;Ne++)q(Y[Ne])})(),X(65498),X(12),q(3),q(1),q(0),q(2),q(17),q(3),q(17),q(0),q(63),q(0);var Q=0,re=0,ce=0;y=0,N=7,this.encode.displayName="_encode_";for(var Ee,ke,ge,Ce,Ke,fe,ye,ae,se,bt=V.data,pt=V.width,Re=V.height,Me=4*pt,qe=0;qe<Re;){for(Ee=0;Ee<Me;){for(Ke=Me*qe+Ee,ye=-1,ae=0,se=0;se<64;se++)fe=Ke+(ae=se>>3)*Me+(ye=4*(7&se)),qe+ae>=Re&&(fe-=Me*(qe+1+ae-Re)),Ee+ye>=Me&&(fe-=Ee+ye-Me+4),ke=bt[fe++],ge=bt[fe++],Ce=bt[fe++],k[se]=(D[ke]+D[ge+256|0]+D[Ce+512|0]>>16)-128,S[se]=(D[ke+768|0]+D[ge+1024|0]+D[Ce+1280|0]>>16)-128,T[se]=(D[ke+1280|0]+D[ge+1536|0]+D[Ce+1792|0]>>16)-128;Q=oe(k,u,Q,e,n),re=oe(S,f,re,r,s),ce=oe(T,f,ce,r,s),Ee+=32}qe+=8}if(N>=0){var tt=[];tt[1]=N+1,tt[0]=(1<<N+1)-1,H(tt)}return X(65497),new Uint8Array(w)},t=t||50,(function(){for(var V=String.fromCharCode,J=0;J<256;J++)_[J]=V(J)})(),e=W(L,R),r=W(M,B),n=W(F,A),s=W(z,Y),(function(){for(var V=1,J=2,Q=1;Q<=15;Q++){for(var re=V;re<J;re++)g[32767+re]=Q,h[32767+re]=[],h[32767+re][1]=Q,h[32767+re][0]=re;for(var ce=-(J-1);ce<=-V;ce++)g[32767+ce]=Q,h[32767+ce]=[],h[32767+ce][1]=Q,h[32767+ce][0]=J-1+ce;V<<=1,J<<=1}})(),(function(){for(var V=0;V<256;V++)D[V]=19595*V,D[V+256|0]=38470*V,D[V+512|0]=7471*V+32768,D[V+768|0]=-11059*V,D[V+1024|0]=-21709*V,D[V+1280|0]=32768*V+8421375,D[V+1536|0]=-27439*V,D[V+1792|0]=-5329*V})(),K(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Kc(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function nY(t){function e(R){if(!R)throw Error("assert :P")}function r(R,F,A){for(var M=0;4>M;M++)if(R[F+M]!=A.charCodeAt(M))return!0;return!1}function n(R,F,A,M,B){for(var z=0;z<B;z++)R[F+z]=A[M+z]}function s(R,F,A,M){for(var B=0;B<M;B++)R[F+B]=A}function i(R){return new Int32Array(R)}function o(R,F){for(var A=[],M=0;M<R;M++)A.push(new F);return A}function l(R,F){var A=[];return(function M(B,z,Y){for(var W=Y[z],H=0;H<W&&(B.push(Y.length>z+1?[]:new F),!(Y.length<z+1));H++)M(B[H],z+1,Y)})(A,0,R),A}var c=function(){var R=this;function F(C,I){for(var G=1<<I-1>>>0;C&G;)G>>>=1;return G?(C&G-1)+G:C}function A(C,I,G,Z,de){e(!(Z%G));do C[I+(Z-=G)]=de;while(0<Z)}function M(C,I,G,Z,de){if(e(2328>=de),512>=de)var be=i(512);else if((be=i(de))==null)return 0;return(function(we,Ae,Oe,Ie,nt,vt){var Le,ot,gt=Ae,Tt=1<<Oe,xt=i(16),At=i(16);for(e(nt!=0),e(Ie!=null),e(we!=null),e(0<Oe),ot=0;ot<nt;++ot){if(15<Ie[ot])return 0;++xt[Ie[ot]]}if(xt[0]==nt)return 0;for(At[1]=0,Le=1;15>Le;++Le){if(xt[Le]>1<<Le)return 0;At[Le+1]=At[Le]+xt[Le]}for(ot=0;ot<nt;++ot)Le=Ie[ot],0<Ie[ot]&&(vt[At[Le]++]=ot);if(At[15]==1)return(Ie=new B).g=0,Ie.value=vt[0],A(we,gt,1,Tt,Ie),Tt;var Lt,Gt=-1,$t=Tt-1,wr=0,hr=1,Qr=1,gr=1<<Oe;for(ot=0,Le=1,nt=2;Le<=Oe;++Le,nt<<=1){if(hr+=Qr<<=1,0>(Qr-=xt[Le]))return 0;for(;0<xt[Le];--xt[Le])(Ie=new B).g=Le,Ie.value=vt[ot++],A(we,gt+wr,nt,gr,Ie),wr=F(wr,Le)}for(Le=Oe+1,nt=2;15>=Le;++Le,nt<<=1){if(hr+=Qr<<=1,0>(Qr-=xt[Le]))return 0;for(;0<xt[Le];--xt[Le]){if(Ie=new B,(wr&$t)!=Gt){for(gt+=gr,Lt=1<<(Gt=Le)-Oe;15>Gt&&!(0>=(Lt-=xt[Gt]));)++Gt,Lt<<=1;Tt+=gr=1<<(Lt=Gt-Oe),we[Ae+(Gt=wr&$t)].g=Lt+Oe,we[Ae+Gt].value=gt-Ae-Gt}Ie.g=Le-Oe,Ie.value=vt[ot++],A(we,gt+(wr>>Oe),nt,gr,Ie),wr=F(wr,Le)}}return hr!=2*At[15]-1?0:Tt})(C,I,G,Z,de,be)}function B(){this.value=this.g=0}function z(){this.value=this.g=0}function Y(){this.G=o(5,B),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Nu,z)}function W(C,I,G,Z){e(C!=null),e(I!=null),e(2147483648>Z),C.Ca=254,C.I=0,C.b=-8,C.Ka=0,C.oa=I,C.pa=G,C.Jd=I,C.Yc=G+Z,C.Zc=4<=Z?G+Z-4+1:G,ke(C)}function H(C,I){for(var G=0;0<I--;)G|=Ce(C,128)<<I;return G}function q(C,I){var G=H(C,I);return ge(C)?-G:G}function X(C,I,G,Z){var de,be=0;for(e(C!=null),e(I!=null),e(4294967288>Z),C.Sb=Z,C.Ra=0,C.u=0,C.h=0,4<Z&&(Z=4),de=0;de<Z;++de)be+=I[G+de]<<8*de;C.Ra=be,C.bb=Z,C.oa=I,C.pa=G}function oe(C){for(;8<=C.u&&C.bb<C.Sb;)C.Ra>>>=8,C.Ra+=C.oa[C.pa+C.bb]<<zl-8>>>0,++C.bb,C.u-=8;re(C)&&(C.h=1,C.u=0)}function K(C,I){if(e(0<=I),!C.h&&I<=Fi){var G=Q(C)&ro[I];return C.u+=I,oe(C),G}return C.h=1,C.u=0}function V(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function J(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Q(C){return C.Ra>>>(C.u&zl-1)>>>0}function re(C){return e(C.bb<=C.Sb),C.h||C.bb==C.Sb&&C.u>zl}function ce(C,I){C.u=I,C.h=re(C)}function Ee(C){C.u>=ql&&(e(C.u>=ql),oe(C))}function ke(C){e(C!=null&&C.oa!=null),C.pa<C.Zc?(C.I=(C.oa[C.pa++]|C.I<<8)>>>0,C.b+=8):(e(C!=null&&C.oa!=null),C.pa<C.Yc?(C.b+=8,C.I=C.oa[C.pa++]|C.I<<8):C.Ka?C.b=0:(C.I<<=8,C.b+=8,C.Ka=1))}function ge(C){return H(C,1)}function Ce(C,I){var G=C.Ca;0>C.b&&ke(C);var Z=C.b,de=G*I>>>8,be=(C.I>>>Z>de)+0;for(be?(G-=de,C.I-=de+1<<Z>>>0):G=de+1,Z=G,de=0;256<=Z;)de+=8,Z>>=8;return Z=7^de+Lc[Z],C.b-=Z,C.Ca=(G<<Z)-1,be}function Ke(C,I,G){C[I+0]=G>>24&255,C[I+1]=G>>16&255,C[I+2]=G>>8&255,C[I+3]=255&G}function fe(C,I){return C[I+0]|C[I+1]<<8}function ye(C,I){return fe(C,I)|C[I+2]<<16}function ae(C,I){return fe(C,I)|fe(C,I+2)<<16}function se(C,I){var G=1<<I;return e(C!=null),e(0<I),C.X=i(G),C.X==null?0:(C.Mb=32-I,C.Xa=I,1)}function bt(C,I){e(C!=null),e(I!=null),e(C.Xa==I.Xa),n(I.X,0,C.X,0,1<<I.Xa)}function pt(){this.X=[],this.Xa=this.Mb=0}function Re(C,I,G,Z){e(G!=null),e(Z!=null);var de=G[0],be=Z[0];return de==0&&(de=(C*be+I/2)/I),be==0&&(be=(I*de+C/2)/C),0>=de||0>=be?0:(G[0]=de,Z[0]=be,1)}function Me(C,I){return C+(1<<I)-1>>>I}function qe(C,I){return((4278255360&C)+(4278255360&I)>>>0&4278255360)+((16711935&C)+(16711935&I)>>>0&16711935)>>>0}function tt(C,I){R[I]=function(G,Z,de,be,we,Ae,Oe){var Ie;for(Ie=0;Ie<we;++Ie){var nt=R[C](Ae[Oe+Ie-1],de,be+Ie);Ae[Oe+Ie]=qe(G[Z+Ie],nt)}}}function Ve(){this.ud=this.hd=this.jd=0}function Te(C,I){return((4278124286&(C^I))>>>1)+(C&I)>>>0}function le(C){return 0<=C&&256>C?C:0>C?0:255<C?255:void 0}function Je(C,I){return le(C+(C-I+.5>>1))}function Ge(C,I,G){return Math.abs(I-G)-Math.abs(C-G)}function ut(C,I,G,Z,de,be,we){for(Z=be[we-1],G=0;G<de;++G)be[we+G]=Z=qe(C[I+G],Z)}function Pe(C,I,G,Z,de){var be;for(be=0;be<G;++be){var we=C[I+be],Ae=we>>8&255,Oe=16711935&(Oe=(Oe=16711935&we)+((Ae<<16)+Ae));Z[de+be]=(4278255360&we)+Oe>>>0}}function Ne(C,I){I.jd=255&C,I.hd=C>>8&255,I.ud=C>>16&255}function ze(C,I,G,Z,de,be){var we;for(we=0;we<Z;++we){var Ae=I[G+we],Oe=Ae>>>8,Ie=Ae,nt=255&(nt=(nt=Ae>>>16)+((C.jd<<24>>24)*(Oe<<24>>24)>>>5));Ie=255&(Ie=(Ie+=(C.hd<<24>>24)*(Oe<<24>>24)>>>5)+((C.ud<<24>>24)*(nt<<24>>24)>>>5)),de[be+we]=(4278255360&Ae)+(nt<<16)+Ie}}function me(C,I,G,Z,de){R[I]=function(be,we,Ae,Oe,Ie,nt,vt,Le,ot){for(Oe=vt;Oe<Le;++Oe)for(vt=0;vt<ot;++vt)Ie[nt++]=de(Ae[Z(be[we++])])},R[C]=function(be,we,Ae,Oe,Ie,nt,vt){var Le=8>>be.b,ot=be.Ea,gt=be.K[0],Tt=be.w;if(8>Le)for(be=(1<<be.b)-1,Tt=(1<<Le)-1;we<Ae;++we){var xt,At=0;for(xt=0;xt<ot;++xt)xt&be||(At=Z(Oe[Ie++])),nt[vt++]=de(gt[At&Tt]),At>>=Le}else R["VP8LMapColor"+G](Oe,Ie,gt,Tt,nt,vt,we,Ae,ot)}}function De(C,I,G,Z,de){for(G=I+G;I<G;){var be=C[I++];Z[de++]=be>>16&255,Z[de++]=be>>8&255,Z[de++]=255&be}}function je(C,I,G,Z,de){for(G=I+G;I<G;){var be=C[I++];Z[de++]=be>>16&255,Z[de++]=be>>8&255,Z[de++]=255&be,Z[de++]=be>>24&255}}function We(C,I,G,Z,de){for(G=I+G;I<G;){var be=(we=C[I++])>>16&240|we>>12&15,we=240&we|we>>28&15;Z[de++]=be,Z[de++]=we}}function rt(C,I,G,Z,de){for(G=I+G;I<G;){var be=(we=C[I++])>>16&248|we>>13&7,we=we>>5&224|we>>3&31;Z[de++]=be,Z[de++]=we}}function ve(C,I,G,Z,de){for(G=I+G;I<G;){var be=C[I++];Z[de++]=255&be,Z[de++]=be>>8&255,Z[de++]=be>>16&255}}function xe(C,I,G,Z,de,be){if(be==0)for(G=I+G;I<G;)Ke(Z,((be=C[I++])[0]>>24|be[1]>>8&65280|be[2]<<8&16711680|be[3]<<24)>>>0),de+=32;else n(Z,de,C,I,G)}function Qe(C,I){R[I][0]=R[C+"0"],R[I][1]=R[C+"1"],R[I][2]=R[C+"2"],R[I][3]=R[C+"3"],R[I][4]=R[C+"4"],R[I][5]=R[C+"5"],R[I][6]=R[C+"6"],R[I][7]=R[C+"7"],R[I][8]=R[C+"8"],R[I][9]=R[C+"9"],R[I][10]=R[C+"10"],R[I][11]=R[C+"11"],R[I][12]=R[C+"12"],R[I][13]=R[C+"13"],R[I][14]=R[C+"0"],R[I][15]=R[C+"0"]}function yt(C){return C==Pm||C==b0||C==lh||C==y0}function st(){this.eb=[],this.size=this.A=this.fb=0}function _e(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function te(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new st,this.f.kb=new _e,this.sd=null}function Fe(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Xe(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function lt(C){return alert("todo:WebPSamplerProcessPlane"),C.T}function wt(C,I){var G=C.T,Z=I.ba.f.RGBA,de=Z.eb,be=Z.fb+C.ka*Z.A,we=hi[I.ba.S],Ae=C.y,Oe=C.O,Ie=C.f,nt=C.N,vt=C.ea,Le=C.W,ot=I.cc,gt=I.dc,Tt=I.Mc,xt=I.Nc,At=C.ka,Lt=C.ka+C.T,Gt=C.U,$t=Gt+1>>1;for(At==0?we(Ae,Oe,null,null,Ie,nt,vt,Le,Ie,nt,vt,Le,de,be,null,null,Gt):(we(I.ec,I.fc,Ae,Oe,ot,gt,Tt,xt,Ie,nt,vt,Le,de,be-Z.A,de,be,Gt),++G);At+2<Lt;At+=2)ot=Ie,gt=nt,Tt=vt,xt=Le,nt+=C.Rc,Le+=C.Rc,be+=2*Z.A,we(Ae,(Oe+=2*C.fa)-C.fa,Ae,Oe,ot,gt,Tt,xt,Ie,nt,vt,Le,de,be-Z.A,de,be,Gt);return Oe+=C.fa,C.j+Lt<C.o?(n(I.ec,I.fc,Ae,Oe,Gt),n(I.cc,I.dc,Ie,nt,$t),n(I.Mc,I.Nc,vt,Le,$t),G--):1&Lt||we(Ae,Oe,null,null,Ie,nt,vt,Le,Ie,nt,vt,Le,de,be+Z.A,null,null,Gt),G}function $e(C,I,G){var Z=C.F,de=[C.J];if(Z!=null){var be=C.U,we=I.ba.S,Ae=we==Dm||we==lh;I=I.ba.f.RGBA;var Oe=[0],Ie=C.ka;Oe[0]=C.T,C.Kb&&(Ie==0?--Oe[0]:(--Ie,de[0]-=C.width),C.j+C.ka+C.T==C.o&&(Oe[0]=C.o-C.j-Ie));var nt=I.eb;Ie=I.fb+Ie*I.A,C=Tm(Z,de[0],C.width,be,Oe,nt,Ie+(Ae?0:3),I.A),e(G==Oe),C&&yt(we)&&Rd(nt,Ie,Ae,be,Oe,I.A)}return 0}function Ue(C){var I=C.ma,G=I.ba.S,Z=11>G,de=G==Si||G==Go||G==Dm||G==oh||G==12||yt(G);if(I.memory=null,I.Ib=null,I.Jb=null,I.Nd=null,!Pc(I.Oa,C,de?11:12))return 0;if(de&&yt(G)&&f0(),C.da)alert("todo:use_scaling");else{if(Z){if(I.Ib=lt,C.Kb){if(G=C.U+1>>1,I.memory=i(C.U+2*G),I.memory==null)return 0;I.ec=I.memory,I.fc=0,I.cc=I.ec,I.dc=I.fc+C.U,I.Mc=I.cc,I.Nc=I.dc+G,I.Ib=wt,f0()}}else alert("todo:EmitYUV");de&&(I.Jb=$e,Z&&Uo())}if(Z&&!Mu){for(C=0;256>C;++C)mi[C]=89858*(C-128)+dh>>Zo,VS[C]=-22014*(C-128)+dh,A1[C]=-45773*(C-128),S0[C]=113618*(C-128)+dh>>Zo;for(C=$d;C<Tu;++C)I=76283*(C-16)+dh>>Zo,GS[C-$d]=Xa(I,255),YS[C-$d]=Xa(I+8>>4,15);Mu=1}return 1}function et(C){var I=C.ma,G=C.U,Z=C.T;return e(!(1&C.ka)),0>=G||0>=Z?0:(G=I.Ib(C,I),I.Jb!=null&&I.Jb(C,I,G),I.Dc+=G,1)}function Rt(C){C.ma.memory=null}function Ut(C,I,G,Z){return K(C,8)!=47?0:(I[0]=K(C,14)+1,G[0]=K(C,14)+1,Z[0]=K(C,1),K(C,3)!=0?0:!C.h)}function Wt(C,I){if(4>C)return C+1;var G=C-2>>1;return(2+(1&C)<<G)+K(I,G)+1}function mt(C,I){return 120<I?I-120:1<=(G=((G=Ko[I-1])>>4)*C+(8-(15&G)))?G:1;var G}function Ct(C,I,G){var Z=Q(G),de=C[I+=255&Z].g-8;return 0<de&&(ce(G,G.u+8),Z=Q(G),I+=C[I].value,I+=Z&(1<<de)-1),ce(G,G.u+C[I].g),C[I].value}function Vt(C,I,G){return G.g+=C.g,G.value+=C.value<<I>>>0,e(8>=G.g),C.g}function br(C,I,G){var Z=C.xc;return e((I=Z==0?0:C.vc[C.md*(G>>Z)+(I>>Z)])<C.Wb),C.Ya[I]}function gn(C,I,G,Z){var de=C.ab,be=C.c*I,we=C.C;I=we+I;var Ae=G,Oe=Z;for(Z=C.Ta,G=C.Ua;0<de--;){var Ie=C.gc[de],nt=we,vt=I,Le=Ae,ot=Oe,gt=(Oe=Z,Ae=G,Ie.Ea);switch(e(nt<vt),e(vt<=Ie.nc),Ie.hc){case 2:ls(Le,ot,(vt-nt)*gt,Oe,Ae);break;case 0:var Tt=nt,xt=vt,At=Oe,Lt=Ae,Gt=(gr=Ie).Ea;Tt==0&&(nh(Le,ot,null,null,1,At,Lt),ut(Le,ot+1,0,0,Gt-1,At,Lt+1),ot+=Gt,Lt+=Gt,++Tt);for(var $t=1<<gr.b,wr=$t-1,hr=Me(Gt,gr.b),Qr=gr.K,gr=gr.w+(Tt>>gr.b)*hr;Tt<xt;){var Nn=Qr,Aa=gr,sn=1;for(ah(Le,ot,At,Lt-Gt,1,At,Lt);sn<Gt;){var mr=(sn&~wr)+$t;mr>Gt&&(mr=Gt),(0,Rc[Nn[Aa++]>>8&15])(Le,ot+ +sn,At,Lt+sn-Gt,mr-sn,At,Lt+sn),sn=mr}ot+=Gt,Lt+=Gt,++Tt&wr||(gr+=hr)}vt!=Ie.nc&&n(Oe,Ae-gt,Oe,Ae+(vt-nt-1)*gt,gt);break;case 1:for(gt=Le,xt=ot,Gt=(Le=Ie.Ea)-(Lt=Le&~(At=(ot=1<<Ie.b)-1)),Tt=Me(Le,Ie.b),$t=Ie.K,Ie=Ie.w+(nt>>Ie.b)*Tt;nt<vt;){for(wr=$t,hr=Ie,Qr=new Ve,gr=xt+Lt,Nn=xt+Le;xt<gr;)Ne(wr[hr++],Qr),sh(Qr,gt,xt,ot,Oe,Ae),xt+=ot,Ae+=ot;xt<Nn&&(Ne(wr[hr++],Qr),sh(Qr,gt,xt,Gt,Oe,Ae),xt+=Gt,Ae+=Gt),++nt&At||(Ie+=Tt)}break;case 3:if(Le==Oe&&ot==Ae&&0<Ie.b){for(xt=Oe,Le=gt=Ae+(vt-nt)*gt-(Lt=(vt-nt)*Me(Ie.Ea,Ie.b)),ot=Oe,At=Ae,Tt=[],Lt=(Gt=Lt)-1;0<=Lt;--Lt)Tt[Lt]=ot[At+Lt];for(Lt=Gt-1;0<=Lt;--Lt)xt[Le+Lt]=Tt[Lt];h0(Ie,nt,vt,Oe,gt,Oe,Ae)}else h0(Ie,nt,vt,Le,ot,Oe,Ae)}Ae=Z,Oe=G}Oe!=G&&n(Z,G,Ae,Oe,be)}function wn(C,I){var G=C.V,Z=C.Ba+C.c*C.C,de=I-C.C;if(e(I<=C.l.o),e(16>=de),0<de){var be=C.l,we=C.Ta,Ae=C.Ua,Oe=be.width;if(gn(C,de,G,Z),de=Ae=[Ae],e((G=C.C)<(Z=I)),e(be.v<be.va),Z>be.o&&(Z=be.o),G<be.j){var Ie=be.j-G;G=be.j,de[0]+=Ie*Oe}if(G>=Z?G=0:(de[0]+=4*be.v,be.ka=G-be.j,be.U=be.va-be.v,be.T=Z-G,G=1),G){if(Ae=Ae[0],11>(G=C.ca).S){var nt=G.f.RGBA,vt=(Z=G.S,de=be.U,be=be.T,Ie=nt.eb,nt.A),Le=be;for(nt=nt.fb+C.Ma*nt.A;0<Le--;){var ot=we,gt=Ae,Tt=de,xt=Ie,At=nt;switch(Z){case g0:ih(ot,gt,Tt,xt,At);break;case Si:Ic(ot,gt,Tt,xt,At);break;case Pm:Ic(ot,gt,Tt,xt,At),Rd(xt,At,0,Tt,1,0);break;case x0:Pd(ot,gt,Tt,xt,At);break;case Go:xe(ot,gt,Tt,xt,At,1);break;case b0:xe(ot,gt,Tt,xt,At,1),Rd(xt,At,0,Tt,1,0);break;case Dm:xe(ot,gt,Tt,xt,At,0);break;case lh:xe(ot,gt,Tt,xt,At,0),Rd(xt,At,1,Tt,1,0);break;case oh:Fc(ot,gt,Tt,xt,At);break;case y0:Fc(ot,gt,Tt,xt,At),Vo(xt,At,Tt,1,0);break;case Su:Vl(ot,gt,Tt,xt,At);break;default:e(0)}Ae+=Oe,nt+=vt}C.Ma+=be}else alert("todo:EmitRescaledRowsYUVA");e(C.Ma<=G.height)}}C.C=I,e(C.C<=C.i)}function ir(C){var I;if(0<C.ua)return 0;for(I=0;I<C.Wb;++I){var G=C.Ya[I].G,Z=C.Ya[I].H;if(0<G[1][Z[1]+0].g||0<G[2][Z[2]+0].g||0<G[3][Z[3]+0].g)return 0}return 1}function Wr(C,I,G,Z,de,be){if(C.Z!=0){var we=C.qd,Ae=C.rd;for(e(Hc[C.Z]!=null);I<G;++I)Hc[C.Z](we,Ae,Z,de,Z,de,be),we=Z,Ae=de,de+=be;C.qd=we,C.rd=Ae}}function Kr(C,I){var G=C.l.ma,Z=G.Z==0||G.Z==1?C.l.j:C.C;if(Z=C.C<Z?Z:C.C,e(I<=C.l.o),I>Z){var de=C.l.width,be=G.ca,we=G.tb+de*Z,Ae=C.V,Oe=C.Ba+C.c*Z,Ie=C.gc;e(C.ab==1),e(Ie[0].hc==3),Wl(Ie[0],Z,I,Ae,Oe,be,we),Wr(G,Z,I,be,we,de)}C.C=C.Ma=I}function Zt(C,I,G,Z,de,be,we){var Ae=C.$/Z,Oe=C.$%Z,Ie=C.m,nt=C.s,vt=G+C.$,Le=vt;de=G+Z*de;var ot=G+Z*be,gt=280+nt.ua,Tt=C.Pb?Ae:16777216,xt=0<nt.ua?nt.Wa:null,At=nt.wc,Lt=vt<ot?br(nt,Oe,Ae):null;e(C.C<be),e(ot<=de);var Gt=!1;e:for(;;){for(;Gt||vt<ot;){var $t=0;if(Ae>=Tt){var wr=vt-G;e((Tt=C).Pb),Tt.wd=Tt.m,Tt.xd=wr,0<Tt.s.ua&&bt(Tt.s.Wa,Tt.s.vb),Tt=Ae+ku}if(Oe&At||(Lt=br(nt,Oe,Ae)),e(Lt!=null),Lt.Qb&&(I[vt]=Lt.qb,Gt=!0),!Gt)if(Ee(Ie),Lt.jc){$t=Ie,wr=I;var hr=vt,Qr=Lt.pd[Q($t)&Nu-1];e(Lt.jc),256>Qr.g?(ce($t,$t.u+Qr.g),wr[hr]=Qr.value,$t=0):(ce($t,$t.u+Qr.g-256),e(256<=Qr.value),$t=Qr.value),$t==0&&(Gt=!0)}else $t=Ct(Lt.G[0],Lt.H[0],Ie);if(Ie.h)break;if(Gt||256>$t){if(!Gt)if(Lt.nd)I[vt]=(Lt.qb|$t<<8)>>>0;else{if(Ee(Ie),Gt=Ct(Lt.G[1],Lt.H[1],Ie),Ee(Ie),wr=Ct(Lt.G[2],Lt.H[2],Ie),hr=Ct(Lt.G[3],Lt.H[3],Ie),Ie.h)break;I[vt]=(hr<<24|Gt<<16|$t<<8|wr)>>>0}if(Gt=!1,++vt,++Oe>=Z&&(Oe=0,++Ae,we!=null&&Ae<=be&&!(Ae%16)&&we(C,Ae),xt!=null))for(;Le<vt;)$t=I[Le++],xt.X[(506832829*$t&4294967295)>>>xt.Mb]=$t}else if(280>$t){if($t=Wt($t-256,Ie),wr=Ct(Lt.G[4],Lt.H[4],Ie),Ee(Ie),wr=mt(Z,wr=Wt(wr,Ie)),Ie.h)break;if(vt-G<wr||de-vt<$t)break e;for(hr=0;hr<$t;++hr)I[vt+hr]=I[vt+hr-wr];for(vt+=$t,Oe+=$t;Oe>=Z;)Oe-=Z,++Ae,we!=null&&Ae<=be&&!(Ae%16)&&we(C,Ae);if(e(vt<=de),Oe&At&&(Lt=br(nt,Oe,Ae)),xt!=null)for(;Le<vt;)$t=I[Le++],xt.X[(506832829*$t&4294967295)>>>xt.Mb]=$t}else{if(!($t<gt))break e;for(Gt=$t-280,e(xt!=null);Le<vt;)$t=I[Le++],xt.X[(506832829*$t&4294967295)>>>xt.Mb]=$t;$t=vt,e(!(Gt>>>(wr=xt).Xa)),I[$t]=wr.X[Gt],Gt=!0}Gt||e(Ie.h==re(Ie))}if(C.Pb&&Ie.h&&vt<de)e(C.m.h),C.a=5,C.m=C.wd,C.$=C.xd,0<C.s.ua&&bt(C.s.vb,C.s.Wa);else{if(Ie.h)break e;we!=null&&we(C,Ae>be?be:Ae),C.a=0,C.$=vt-G}return 1}return C.a=3,0}function ct(C){e(C!=null),C.vc=null,C.yc=null,C.Ya=null;var I=C.Wa;I!=null&&(I.X=null),C.vb=null,e(C!=null)}function dt(){var C=new Sr;return C==null?null:(C.a=0,C.xb=Zx,Qe("Predictor","VP8LPredictors"),Qe("Predictor","VP8LPredictors_C"),Qe("PredictorAdd","VP8LPredictorsAdd"),Qe("PredictorAdd","VP8LPredictorsAdd_C"),ls=Pe,sh=ze,ih=De,Ic=je,Fc=We,Vl=rt,Pd=ve,R.VP8LMapColor32b=Ul,R.VP8LMapColor8b=ui,C)}function Mt(C,I,G,Z,de){var be=1,we=[C],Ae=[I],Oe=Z.m,Ie=Z.s,nt=null,vt=0;e:for(;;){if(G)for(;be&&K(Oe,1);){var Le=we,ot=Ae,gt=Z,Tt=1,xt=gt.m,At=gt.gc[gt.ab],Lt=K(xt,2);if(gt.Oc&1<<Lt)be=0;else{switch(gt.Oc|=1<<Lt,At.hc=Lt,At.Ea=Le[0],At.nc=ot[0],At.K=[null],++gt.ab,e(4>=gt.ab),Lt){case 0:case 1:At.b=K(xt,3)+2,Tt=Mt(Me(At.Ea,At.b),Me(At.nc,At.b),0,gt,At.K),At.K=At.K[0];break;case 3:var Gt,$t=K(xt,8)+1,wr=16<$t?0:4<$t?1:2<$t?2:3;if(Le[0]=Me(At.Ea,wr),At.b=wr,Gt=Tt=Mt($t,1,0,gt,At.K)){var hr,Qr=$t,gr=At,Nn=1<<(8>>gr.b),Aa=i(Nn);if(Aa==null)Gt=0;else{var sn=gr.K[0],mr=gr.w;for(Aa[0]=gr.K[0][0],hr=1;hr<1*Qr;++hr)Aa[hr]=qe(sn[mr+hr],Aa[hr-1]);for(;hr<4*Nn;++hr)Aa[hr]=0;gr.K[0]=null,gr.K[0]=Aa,Gt=1}}Tt=Gt;break;case 2:break;default:e(0)}be=Tt}}if(we=we[0],Ae=Ae[0],be&&K(Oe,1)&&!(be=1<=(vt=K(Oe,4))&&11>=vt)){Z.a=3;break e}var nr;if(nr=be)t:{var za,$r,dn,Jn=Z,Rs=we,pi=Ae,ja=vt,bs=G,ki=Jn.m,ys=Jn.s,xn=[null],Bn=1,qa=0,Wn=Jo[ja];r:for(;;){if(bs&&K(ki,1)){var Is=K(ki,3)+2,Ua=Me(Rs,Is),$n=Me(pi,Is),ds=Ua*$n;if(!Mt(Ua,$n,0,Jn,xn))break r;for(xn=xn[0],ys.xc=Is,za=0;za<ds;++za){var Xn=xn[za]>>8&65535;xn[za]=Xn,Xn>=Bn&&(Bn=Xn+1)}}if(ki.h)break r;for($r=0;5>$r;++$r){var vs=Fd[$r];!$r&&0<ja&&(vs+=1<<ja),qa<vs&&(qa=vs)}var ws=o(Bn*Wn,B),ca=Bn,Rn=o(ca,Y);if(Rn==null)var Ci=null;else e(65536>=ca),Ci=Rn;var Za=i(qa);if(Ci==null||Za==null||ws==null){Jn.a=1;break r}var Or=ws;for(za=dn=0;za<Bn;++za){var Dr=Ci[za],Hn=Dr.G,no=Dr.H,el=0,$i=1,js=0;for($r=0;5>$r;++$r){vs=Fd[$r],Hn[$r]=Or,no[$r]=dn,!$r&&0<ja&&(vs+=1<<ja);a:{var Eu,Ou=vs,C0=Jn,Na=Za,tb=Or,rb=dn,_0=0,zc=C0.m,KS=K(zc,1);if(s(Na,0,0,Ou),KS){var nb=K(zc,1)+1,ab=K(zc,1),A0=K(zc,ab==0?1:8);Na[A0]=1,nb==2&&(Na[A0=K(zc,8)]=1);var Ys=1}else{var es=i(19),Fm=K(zc,4)+4;if(19<Fm){C0.a=3;var Du=0;break a}for(Eu=0;Eu<Fm;++Eu)es[Lm[Eu]]=K(zc,3);var hh=void 0,Hd=void 0,Kl=C0,T0=es,mh=Ou,M0=Na,E0=0,qc=Kl.m,sb=8,ib=o(128,B);n:for(;M(ib,0,7,T0,19);){if(K(qc,1)){var T1=2+2*K(qc,3);if((hh=2+K(qc,T1))>mh)break n}else hh=mh;for(Hd=0;Hd<mh&&hh--;){Ee(qc);var ob=ib[0+(127&Q(qc))];ce(qc,qc.u+ob.g);var Pu=ob.value;if(16>Pu)M0[Hd++]=Pu,Pu!=0&&(sb=Pu);else{var M1=Pu==16,E1=Pu-16,O1=ch[E1],lb=K(qc,Yo[E1])+O1;if(Hd+lb>mh)break n;for(var D1=M1?sb:0;0<lb--;)M0[Hd++]=D1}}E0=1;break n}E0||(Kl.a=3),Ys=E0}(Ys=Ys&&!zc.h)&&(_0=M(tb,rb,8,Na,Ou)),Ys&&_0!=0?Du=_0:(C0.a=3,Du=0)}if(Du==0)break r;if($i&&v0[$r]==1&&($i=Or[dn].g==0),el+=Or[dn].g,dn+=Du,3>=$r){var zd,O0=Za[0];for(zd=1;zd<vs;++zd)Za[zd]>O0&&(O0=Za[zd]);js+=O0}}if(Dr.nd=$i,Dr.Qb=0,$i&&(Dr.qb=(Hn[3][no[3]+0].value<<24|Hn[1][no[1]+0].value<<16|Hn[2][no[2]+0].value)>>>0,el==0&&256>Hn[0][no[0]+0].value&&(Dr.Qb=1,Dr.qb+=Hn[0][no[0]+0].value<<8)),Dr.jc=!Dr.Qb&&6>js,Dr.jc){var Bm,Jl=Dr;for(Bm=0;Bm<Nu;++Bm){var Uc=Bm,Wc=Jl.pd[Uc],D0=Jl.G[0][Jl.H[0]+Uc];256<=D0.value?(Wc.g=D0.g+256,Wc.value=D0.value):(Wc.g=0,Wc.value=0,Uc>>=Vt(D0,8,Wc),Uc>>=Vt(Jl.G[1][Jl.H[1]+Uc],16,Wc),Uc>>=Vt(Jl.G[2][Jl.H[2]+Uc],0,Wc),Vt(Jl.G[3][Jl.H[3]+Uc],24,Wc))}}}ys.vc=xn,ys.Wb=Bn,ys.Ya=Ci,ys.yc=ws,nr=1;break t}nr=0}if(!(be=nr)){Z.a=3;break e}if(0<vt){if(Ie.ua=1<<vt,!se(Ie.Wa,vt)){Z.a=1,be=0;break e}}else Ie.ua=0;var P0=Z,qd=we,P1=Ae,ph=P0.s,gh=ph.xc;if(P0.c=qd,P0.i=P1,ph.md=Me(qd,gh),ph.wc=gh==0?-1:(1<<gh)-1,G){Z.xb=Cu;break e}if((nt=i(we*Ae))==null){Z.a=1,be=0;break e}be=(be=Zt(Z,nt,0,we,Ae,Ae,null))&&!Oe.h;break e}return be?(de!=null?de[0]=nt:(e(nt==null),e(G)),Z.$=0,G||ct(Ie)):ct(Ie),be}function he(C,I){var G=C.c*C.i,Z=G+I+16*I;return e(C.c<=I),C.V=i(Z),C.V==null?(C.Ta=null,C.Ua=0,C.a=1,0):(C.Ta=C.V,C.Ua=C.Ba+G+I,1)}function it(C,I){var G=C.C,Z=I-G,de=C.V,be=C.Ba+C.c*G;for(e(I<=C.l.o);0<Z;){var we=16<Z?16:Z,Ae=C.l.ma,Oe=C.l.width,Ie=Oe*we,nt=Ae.ca,vt=Ae.tb+Oe*G,Le=C.Ta,ot=C.Ua;gn(C,we,de,be),Co(Le,ot,nt,vt,Ie),Wr(Ae,G,G+we,nt,vt,Oe),Z-=we,de+=we*C.c,G+=we}e(G==I),C.C=C.Ma=I}function kt(){this.ub=this.yd=this.td=this.Rb=0}function cr(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Xr(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function Et(){this.Yb=(function(){var C=[];return(function I(G,Z,de){for(var be=de[Z],we=0;we<be&&(G.push(de.length>Z+1?[]:0),!(de.length<Z+1));we++)I(G[we],Z+1,de)})(C,0,[3,11]),C})()}function sr(){this.jb=i(3),this.Wc=l([4,8],Et),this.Xc=l([4,17],Et)}function Er(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function Nr(){this.ld=this.La=this.dd=this.tc=0}function dr(){this.Na=this.la=0}function Br(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function ba(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function zr(){this.uc=this.M=this.Nb=0,this.wa=Array(new Nr),this.Y=0,this.ya=Array(new ba),this.aa=0,this.l=new Sn}function Ri(){this.y=i(16),this.f=i(8),this.ea=i(8)}function ya(){this.cb=this.a=0,this.sc="",this.m=new V,this.Od=new kt,this.Kc=new cr,this.ed=new Er,this.Qa=new Xr,this.Ic=this.$c=this.Aa=0,this.D=new zr,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,V),this.ia=0,this.pb=o(4,Br),this.Pa=new sr,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Ri),this.Hd=0,this.rb=Array(new dr),this.sb=0,this.wa=Array(new Nr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new ba),this.L=this.aa=0,this.gd=l([4,2],Nr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Sn(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Mn(){var C=new ya;return C!=null&&(C.a=0,C.sc="OK",C.cb=0,C.Xb=0,_o||(_o=Xi)),C}function en(C,I,G){return C.a==0&&(C.a=I,C.sc=G,C.cb=0),0}function Fn(C,I,G){return 3<=G&&C[I+0]==157&&C[I+1]==1&&C[I+2]==42}function Cc(C,I){if(C==null)return 0;if(C.a=0,C.sc="OK",I==null)return en(C,2,"null VP8Io passed to VP8GetHeaders()");var G=I.data,Z=I.w,de=I.ha;if(4>de)return en(C,7,"Truncated header.");var be=G[Z+0]|G[Z+1]<<8|G[Z+2]<<16,we=C.Od;if(we.Rb=!(1&be),we.td=be>>1&7,we.yd=be>>4&1,we.ub=be>>5,3<we.td)return en(C,3,"Incorrect keyframe parameters.");if(!we.yd)return en(C,4,"Frame not displayable.");Z+=3,de-=3;var Ae=C.Kc;if(we.Rb){if(7>de)return en(C,7,"cannot parse picture header");if(!Fn(G,Z,de))return en(C,3,"Bad code word");Ae.c=16383&(G[Z+4]<<8|G[Z+3]),Ae.Td=G[Z+4]>>6,Ae.i=16383&(G[Z+6]<<8|G[Z+5]),Ae.Ud=G[Z+6]>>6,Z+=7,de-=7,C.za=Ae.c+15>>4,C.Ub=Ae.i+15>>4,I.width=Ae.c,I.height=Ae.i,I.Da=0,I.j=0,I.v=0,I.va=I.width,I.o=I.height,I.da=0,I.ib=I.width,I.hb=I.height,I.U=I.width,I.T=I.height,s((be=C.Pa).jb,0,255,be.jb.length),e((be=C.Qa)!=null),be.Cb=0,be.Bb=0,be.Fb=1,s(be.Zb,0,0,be.Zb.length),s(be.Lb,0,0,be.Lb)}if(we.ub>de)return en(C,7,"bad partition length");W(be=C.m,G,Z,we.ub),Z+=we.ub,de-=we.ub,we.Rb&&(Ae.Ld=ge(be),Ae.Kd=ge(be)),Ae=C.Qa;var Oe,Ie=C.Pa;if(e(be!=null),e(Ae!=null),Ae.Cb=ge(be),Ae.Cb){if(Ae.Bb=ge(be),ge(be)){for(Ae.Fb=ge(be),Oe=0;4>Oe;++Oe)Ae.Zb[Oe]=ge(be)?q(be,7):0;for(Oe=0;4>Oe;++Oe)Ae.Lb[Oe]=ge(be)?q(be,6):0}if(Ae.Bb)for(Oe=0;3>Oe;++Oe)Ie.jb[Oe]=ge(be)?H(be,8):255}else Ae.Bb=0;if(be.Ka)return en(C,3,"cannot parse segment header");if((Ae=C.ed).zd=ge(be),Ae.Tb=H(be,6),Ae.wb=H(be,3),Ae.Pc=ge(be),Ae.Pc&&ge(be)){for(Ie=0;4>Ie;++Ie)ge(be)&&(Ae.vd[Ie]=q(be,6));for(Ie=0;4>Ie;++Ie)ge(be)&&(Ae.od[Ie]=q(be,6))}if(C.L=Ae.Tb==0?0:Ae.zd?1:2,be.Ka)return en(C,3,"cannot parse filter header");var nt=de;if(de=Oe=Z,Z=Oe+nt,Ae=nt,C.Xb=(1<<H(C.m,2))-1,nt<3*(Ie=C.Xb))G=7;else{for(Oe+=3*Ie,Ae-=3*Ie,nt=0;nt<Ie;++nt){var vt=G[de+0]|G[de+1]<<8|G[de+2]<<16;vt>Ae&&(vt=Ae),W(C.Jc[+nt],G,Oe,vt),Oe+=vt,Ae-=vt,de+=3}W(C.Jc[+Ie],G,Oe,Ae),G=Oe<Z?0:5}if(G!=0)return en(C,G,"cannot parse partitions");for(G=H(Oe=C.m,7),de=ge(Oe)?q(Oe,4):0,Z=ge(Oe)?q(Oe,4):0,Ae=ge(Oe)?q(Oe,4):0,Ie=ge(Oe)?q(Oe,4):0,Oe=ge(Oe)?q(Oe,4):0,nt=C.Qa,vt=0;4>vt;++vt){if(nt.Cb){var Le=nt.Zb[vt];nt.Fb||(Le+=G)}else{if(0<vt){C.pb[vt]=C.pb[0];continue}Le=G}var ot=C.pb[vt];ot.Sc[0]=Xo[Xa(Le+de,127)],ot.Sc[1]=Qo[Xa(Le+0,127)],ot.Eb[0]=2*Xo[Xa(Le+Z,127)],ot.Eb[1]=101581*Qo[Xa(Le+Ae,127)]>>16,8>ot.Eb[1]&&(ot.Eb[1]=8),ot.Qc[0]=Xo[Xa(Le+Ie,117)],ot.Qc[1]=Qo[Xa(Le+Oe,127)],ot.lc=Le+Oe}if(!we.Rb)return en(C,4,"Not a key frame.");for(ge(be),we=C.Pa,G=0;4>G;++G){for(de=0;8>de;++de)for(Z=0;3>Z;++Z)for(Ae=0;11>Ae;++Ae)Ie=Ce(be,_a[G][de][Z][Ae])?H(be,8):_1[G][de][Z][Ae],we.Wc[G][de].Yb[Z][Ae]=Ie;for(de=0;17>de;++de)we.Xc[G][de]=we.Wc[G][kn[de]]}return C.kc=ge(be),C.kc&&(C.Bd=H(be,8)),C.cb=1}function Xi(C,I,G,Z,de,be,we){var Ae=I[de].Yb[G];for(G=0;16>de;++de){if(!Ce(C,Ae[G+0]))return de;for(;!Ce(C,Ae[G+1]);)if(Ae=I[++de].Yb[0],G=0,de==16)return 16;var Oe=I[de+1].Yb;if(Ce(C,Ae[G+2])){var Ie=C,nt=0;if(Ce(Ie,(Le=Ae)[(vt=G)+3]))if(Ce(Ie,Le[vt+6])){for(Ae=0,vt=2*(nt=Ce(Ie,Le[vt+8]))+(Le=Ce(Ie,Le[vt+9+nt])),nt=0,Le=C1[vt];Le[Ae];++Ae)nt+=nt+Ce(Ie,Le[Ae]);nt+=3+(8<<vt)}else Ce(Ie,Le[vt+7])?(nt=7+2*Ce(Ie,165),nt+=Ce(Ie,145)):nt=5+Ce(Ie,159);else nt=Ce(Ie,Le[vt+4])?3+Ce(Ie,Le[vt+5]):2;Ae=Oe[2]}else nt=1,Ae=Oe[1];Oe=we+Qx[de],0>(Ie=C).b&&ke(Ie);var vt,Le=Ie.b,ot=(vt=Ie.Ca>>1)-(Ie.I>>Le)>>31;--Ie.b,Ie.Ca+=ot,Ie.Ca|=1,Ie.I-=(vt+1&ot)<<Le,be[Oe]=((nt^ot)-ot)*Z[(0<de)+0]}return 16}function vo(C){var I=C.rb[C.sb-1];I.la=0,I.Na=0,s(C.zc,0,0,C.zc.length),C.ja=0}function Qi(C,I,G,Z,de){de=C[I+G+32*Z]+(de>>3),C[I+G+32*Z]=-256&de?0>de?0:255:de}function qo(C,I,G,Z,de,be){Qi(C,I,0,G,Z+de),Qi(C,I,1,G,Z+be),Qi(C,I,2,G,Z-be),Qi(C,I,3,G,Z-de)}function $a(C){return(20091*C>>16)+C}function Vs(C,I,G,Z){var de,be=0,we=i(16);for(de=0;4>de;++de){var Ae=C[I+0]+C[I+8],Oe=C[I+0]-C[I+8],Ie=(35468*C[I+4]>>16)-$a(C[I+12]),nt=$a(C[I+4])+(35468*C[I+12]>>16);we[be+0]=Ae+nt,we[be+1]=Oe+Ie,we[be+2]=Oe-Ie,we[be+3]=Ae-nt,be+=4,I++}for(de=be=0;4>de;++de)Ae=(C=we[be+0]+4)+we[be+8],Oe=C-we[be+8],Ie=(35468*we[be+4]>>16)-$a(we[be+12]),Qi(G,Z,0,0,Ae+(nt=$a(we[be+4])+(35468*we[be+12]>>16))),Qi(G,Z,1,0,Oe+Ie),Qi(G,Z,2,0,Oe-Ie),Qi(G,Z,3,0,Ae-nt),be++,Z+=32}function vd(C,I,G,Z){var de=C[I+0]+4,be=35468*C[I+4]>>16,we=$a(C[I+4]),Ae=35468*C[I+1]>>16;qo(G,Z,0,de+we,C=$a(C[I+1]),Ae),qo(G,Z,1,de+be,C,Ae),qo(G,Z,2,de-be,C,Ae),qo(G,Z,3,de-we,C,Ae)}function Yf(C,I,G,Z,de){Vs(C,I,G,Z),de&&Vs(C,I+16,G,Z+4)}function wd(C,I,G,Z){Bc(C,I+0,G,Z,1),Bc(C,I+32,G,Z+128,1)}function ii(C,I,G,Z){var de;for(C=C[I+0]+4,de=0;4>de;++de)for(I=0;4>I;++I)Qi(G,Z,I,de,C)}function jd(C,I,G,Z){C[I+0]&&Un(C,I+0,G,Z),C[I+16]&&Un(C,I+16,G,Z+4),C[I+32]&&Un(C,I+32,G,Z+128),C[I+48]&&Un(C,I+48,G,Z+128+4)}function Nd(C,I,G,Z){var de,be=i(16);for(de=0;4>de;++de){var we=C[I+0+de]+C[I+12+de],Ae=C[I+4+de]+C[I+8+de],Oe=C[I+4+de]-C[I+8+de],Ie=C[I+0+de]-C[I+12+de];be[0+de]=we+Ae,be[8+de]=we-Ae,be[4+de]=Ie+Oe,be[12+de]=Ie-Oe}for(de=0;4>de;++de)we=(C=be[0+4*de]+3)+be[3+4*de],Ae=be[1+4*de]+be[2+4*de],Oe=be[1+4*de]-be[2+4*de],Ie=C-be[3+4*de],G[Z+0]=we+Ae>>3,G[Z+16]=Ie+Oe>>3,G[Z+32]=we-Ae>>3,G[Z+48]=Ie-Oe>>3,Z+=64}function Ii(C,I,G){var Z,de=I-32,be=Ni,we=255-C[de-1];for(Z=0;Z<G;++Z){var Ae,Oe=be,Ie=we+C[I-1];for(Ae=0;Ae<G;++Ae)C[I+Ae]=Oe[Ie+C[de+Ae]];I+=32}}function Sd(C,I){Ii(C,I,4)}function Kf(C,I){Ii(C,I,8)}function Jf(C,I){Ii(C,I,16)}function kd(C,I){var G;for(G=0;16>G;++G)n(C,I+32*G,C,I-32,16)}function Cd(C,I){var G;for(G=16;0<G;--G)s(C,I,C[I-1],16),I+=32}function ie(C,I,G){var Z;for(Z=0;16>Z;++Z)s(I,G+32*Z,C,16)}function ne(C,I){var G,Z=16;for(G=0;16>G;++G)Z+=C[I-1+32*G]+C[I+G-32];ie(Z>>5,C,I)}function He(C,I){var G,Z=8;for(G=0;16>G;++G)Z+=C[I-1+32*G];ie(Z>>4,C,I)}function Kt(C,I){var G,Z=8;for(G=0;16>G;++G)Z+=C[I+G-32];ie(Z>>4,C,I)}function an(C,I){ie(128,C,I)}function rr(C,I,G){return C+2*I+G+2>>2}function ss(C,I){var G,Z=I-32;for(Z=new Uint8Array([rr(C[Z-1],C[Z+0],C[Z+1]),rr(C[Z+0],C[Z+1],C[Z+2]),rr(C[Z+1],C[Z+2],C[Z+3]),rr(C[Z+2],C[Z+3],C[Z+4])]),G=0;4>G;++G)n(C,I+32*G,Z,0,Z.length)}function Zi(C,I){var G=C[I-1],Z=C[I-1+32],de=C[I-1+64],be=C[I-1+96];Ke(C,I+0,16843009*rr(C[I-1-32],G,Z)),Ke(C,I+32,16843009*rr(G,Z,de)),Ke(C,I+64,16843009*rr(Z,de,be)),Ke(C,I+96,16843009*rr(de,be,be))}function wo(C,I){var G,Z=4;for(G=0;4>G;++G)Z+=C[I+G-32]+C[I-1+32*G];for(Z>>=3,G=0;4>G;++G)s(C,I+32*G,Z,4)}function _c(C,I){var G=C[I-1+0],Z=C[I-1+32],de=C[I-1+64],be=C[I-1-32],we=C[I+0-32],Ae=C[I+1-32],Oe=C[I+2-32],Ie=C[I+3-32];C[I+0+96]=rr(Z,de,C[I-1+96]),C[I+1+96]=C[I+0+64]=rr(G,Z,de),C[I+2+96]=C[I+1+64]=C[I+0+32]=rr(be,G,Z),C[I+3+96]=C[I+2+64]=C[I+1+32]=C[I+0+0]=rr(we,be,G),C[I+3+64]=C[I+2+32]=C[I+1+0]=rr(Ae,we,be),C[I+3+32]=C[I+2+0]=rr(Oe,Ae,we),C[I+3+0]=rr(Ie,Oe,Ae)}function eo(C,I){var G=C[I+1-32],Z=C[I+2-32],de=C[I+3-32],be=C[I+4-32],we=C[I+5-32],Ae=C[I+6-32],Oe=C[I+7-32];C[I+0+0]=rr(C[I+0-32],G,Z),C[I+1+0]=C[I+0+32]=rr(G,Z,de),C[I+2+0]=C[I+1+32]=C[I+0+64]=rr(Z,de,be),C[I+3+0]=C[I+2+32]=C[I+1+64]=C[I+0+96]=rr(de,be,we),C[I+3+32]=C[I+2+64]=C[I+1+96]=rr(be,we,Ae),C[I+3+64]=C[I+2+96]=rr(we,Ae,Oe),C[I+3+96]=rr(Ae,Oe,Oe)}function oi(C,I){var G=C[I-1+0],Z=C[I-1+32],de=C[I-1+64],be=C[I-1-32],we=C[I+0-32],Ae=C[I+1-32],Oe=C[I+2-32],Ie=C[I+3-32];C[I+0+0]=C[I+1+64]=be+we+1>>1,C[I+1+0]=C[I+2+64]=we+Ae+1>>1,C[I+2+0]=C[I+3+64]=Ae+Oe+1>>1,C[I+3+0]=Oe+Ie+1>>1,C[I+0+96]=rr(de,Z,G),C[I+0+64]=rr(Z,G,be),C[I+0+32]=C[I+1+96]=rr(G,be,we),C[I+1+32]=C[I+2+96]=rr(be,we,Ae),C[I+2+32]=C[I+3+96]=rr(we,Ae,Oe),C[I+3+32]=rr(Ae,Oe,Ie)}function km(C,I){var G=C[I+0-32],Z=C[I+1-32],de=C[I+2-32],be=C[I+3-32],we=C[I+4-32],Ae=C[I+5-32],Oe=C[I+6-32],Ie=C[I+7-32];C[I+0+0]=G+Z+1>>1,C[I+1+0]=C[I+0+64]=Z+de+1>>1,C[I+2+0]=C[I+1+64]=de+be+1>>1,C[I+3+0]=C[I+2+64]=be+we+1>>1,C[I+0+32]=rr(G,Z,de),C[I+1+32]=C[I+0+96]=rr(Z,de,be),C[I+2+32]=C[I+1+96]=rr(de,be,we),C[I+3+32]=C[I+2+96]=rr(be,we,Ae),C[I+3+64]=rr(we,Ae,Oe),C[I+3+96]=rr(Ae,Oe,Ie)}function _d(C,I){var G=C[I-1+0],Z=C[I-1+32],de=C[I-1+64],be=C[I-1+96];C[I+0+0]=G+Z+1>>1,C[I+2+0]=C[I+0+32]=Z+de+1>>1,C[I+2+32]=C[I+0+64]=de+be+1>>1,C[I+1+0]=rr(G,Z,de),C[I+3+0]=C[I+1+32]=rr(Z,de,be),C[I+3+32]=C[I+1+64]=rr(de,be,be),C[I+3+64]=C[I+2+64]=C[I+0+96]=C[I+1+96]=C[I+2+96]=C[I+3+96]=be}function jo(C,I){var G=C[I-1+0],Z=C[I-1+32],de=C[I-1+64],be=C[I-1+96],we=C[I-1-32],Ae=C[I+0-32],Oe=C[I+1-32],Ie=C[I+2-32];C[I+0+0]=C[I+2+32]=G+we+1>>1,C[I+0+32]=C[I+2+64]=Z+G+1>>1,C[I+0+64]=C[I+2+96]=de+Z+1>>1,C[I+0+96]=be+de+1>>1,C[I+3+0]=rr(Ae,Oe,Ie),C[I+2+0]=rr(we,Ae,Oe),C[I+1+0]=C[I+3+32]=rr(G,we,Ae),C[I+1+32]=C[I+3+64]=rr(Z,G,we),C[I+1+64]=C[I+3+96]=rr(de,Z,G),C[I+1+96]=rr(be,de,Z)}function Ad(C,I){var G;for(G=0;8>G;++G)n(C,I+32*G,C,I-32,8)}function Il(C,I){var G;for(G=0;8>G;++G)s(C,I,C[I-1],8),I+=32}function Td(C,I,G){var Z;for(Z=0;8>Z;++Z)s(I,G+32*Z,C,8)}function Ac(C,I){var G,Z=8;for(G=0;8>G;++G)Z+=C[I+G-32]+C[I-1+32*G];Td(Z>>4,C,I)}function Xf(C,I){var G,Z=4;for(G=0;8>G;++G)Z+=C[I+G-32];Td(Z>>3,C,I)}function Qf(C,I){var G,Z=4;for(G=0;8>G;++G)Z+=C[I-1+32*G];Td(Z>>3,C,I)}function Gs(C,I){Td(128,C,I)}function No(C,I,G){var Z=C[I-G],de=C[I+0],be=3*(de-Z)+$c[1020+C[I-2*G]-C[I+G]],we=Om[112+(be+4>>3)];C[I-G]=Ni[255+Z+Om[112+(be+3>>3)]],C[I+0]=Ni[255+de-we]}function Fl(C,I,G,Z){var de=C[I+0],be=C[I+G];return di[255+C[I-2*G]-C[I-G]]>Z||di[255+be-de]>Z}function Tc(C,I,G,Z){return 4*di[255+C[I-G]-C[I+0]]+di[255+C[I-2*G]-C[I+G]]<=Z}function Zf(C,I,G,Z,de){var be=C[I-3*G],we=C[I-2*G],Ae=C[I-G],Oe=C[I+0],Ie=C[I+G],nt=C[I+2*G],vt=C[I+3*G];return 4*di[255+Ae-Oe]+di[255+we-Ie]>Z?0:di[255+C[I-4*G]-be]<=de&&di[255+be-we]<=de&&di[255+we-Ae]<=de&&di[255+vt-nt]<=de&&di[255+nt-Ie]<=de&&di[255+Ie-Oe]<=de}function Md(C,I,G,Z){var de=2*Z+1;for(Z=0;16>Z;++Z)Tc(C,I+Z,G,de)&&No(C,I+Z,G)}function Mc(C,I,G,Z){var de=2*Z+1;for(Z=0;16>Z;++Z)Tc(C,I+Z*G,1,de)&&No(C,I+Z*G,1)}function yu(C,I,G,Z){var de;for(de=3;0<de;--de)Md(C,I+=4*G,G,Z)}function Ed(C,I,G,Z){var de;for(de=3;0<de;--de)Mc(C,I+=4,G,Z)}function Bl(C,I,G,Z,de,be,we,Ae){for(be=2*be+1;0<de--;){if(Zf(C,I,G,be,we))if(Fl(C,I,G,Ae))No(C,I,G);else{var Oe=C,Ie=I,nt=G,vt=Oe[Ie-2*nt],Le=Oe[Ie-nt],ot=Oe[Ie+0],gt=Oe[Ie+nt],Tt=Oe[Ie+2*nt],xt=27*(Lt=$c[1020+3*(ot-Le)+$c[1020+vt-gt]])+63>>7,At=18*Lt+63>>7,Lt=9*Lt+63>>7;Oe[Ie-3*nt]=Ni[255+Oe[Ie-3*nt]+Lt],Oe[Ie-2*nt]=Ni[255+vt+At],Oe[Ie-nt]=Ni[255+Le+xt],Oe[Ie+0]=Ni[255+ot-xt],Oe[Ie+nt]=Ni[255+gt-At],Oe[Ie+2*nt]=Ni[255+Tt-Lt]}I+=Z}}function Ec(C,I,G,Z,de,be,we,Ae){for(be=2*be+1;0<de--;){if(Zf(C,I,G,be,we))if(Fl(C,I,G,Ae))No(C,I,G);else{var Oe=C,Ie=I,nt=G,vt=Oe[Ie-nt],Le=Oe[Ie+0],ot=Oe[Ie+nt],gt=Om[112+(4+(Tt=3*(Le-vt))>>3)],Tt=Om[112+(Tt+3>>3)],xt=gt+1>>1;Oe[Ie-2*nt]=Ni[255+Oe[Ie-2*nt]+xt],Oe[Ie-nt]=Ni[255+vt+Tt],Oe[Ie+0]=Ni[255+Le-gt],Oe[Ie+nt]=Ni[255+ot-xt]}I+=Z}}function c0(C,I,G,Z,de,be){Bl(C,I,G,1,16,Z,de,be)}function u0(C,I,G,Z,de,be){Bl(C,I,1,G,16,Z,de,be)}function Oc(C,I,G,Z,de,be){var we;for(we=3;0<we;--we)Ec(C,I+=4*G,G,1,16,Z,de,be)}function d0(C,I,G,Z,de,be){var we;for(we=3;0<we;--we)Ec(C,I+=4,1,G,16,Z,de,be)}function U(C,I,G,Z,de,be,we,Ae){Bl(C,I,de,1,8,be,we,Ae),Bl(G,Z,de,1,8,be,we,Ae)}function ue(C,I,G,Z,de,be,we,Ae){Bl(C,I,1,de,8,be,we,Ae),Bl(G,Z,1,de,8,be,we,Ae)}function Be(C,I,G,Z,de,be,we,Ae){Ec(C,I+4*de,de,1,8,be,we,Ae),Ec(G,Z+4*de,de,1,8,be,we,Ae)}function Ze(C,I,G,Z,de,be,we,Ae){Ec(C,I+4,1,de,8,be,we,Ae),Ec(G,Z+4,1,de,8,be,we,Ae)}function ft(){this.ba=new te,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Xe,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Pt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function qt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function yr(){this.ua=0,this.Wa=new pt,this.vb=new pt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Y,this.yc=new B}function Sr(){this.xb=this.a=0,this.l=new Sn,this.ca=new te,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new J,this.Pb=0,this.wd=new J,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new yr,this.ab=0,this.gc=o(4,qt),this.Oc=0}function Vr(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Sn,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function tn(C,I,G,Z,de,be,we){for(C=C==null?0:C[I+0],I=0;I<we;++I)de[be+I]=C+G[Z+I]&255,C=de[be+I]}function qn(C,I,G,Z,de,be,we){var Ae;if(C==null)tn(null,null,G,Z,de,be,we);else for(Ae=0;Ae<we;++Ae)de[be+Ae]=C[I+Ae]+G[Z+Ae]&255}function Ha(C,I,G,Z,de,be,we){if(C==null)tn(null,null,G,Z,de,be,we);else{var Ae,Oe=C[I+0],Ie=Oe,nt=Oe;for(Ae=0;Ae<we;++Ae)Ie=nt+(Oe=C[I+Ae])-Ie,nt=G[Z+Ae]+(-256&Ie?0>Ie?0:255:Ie)&255,Ie=Oe,de[be+Ae]=nt}}function is(C,I,G,Z){var de=I.width,be=I.o;if(e(C!=null&&I!=null),0>G||0>=Z||G+Z>be)return null;if(!C.Cc){if(C.ga==null){var we;if(C.ga=new Vr,(we=C.ga==null)||(we=I.width*I.o,e(C.Gb.length==0),C.Gb=i(we),C.Uc=0,C.Gb==null?we=0:(C.mb=C.Gb,C.nb=C.Uc,C.rc=null,we=1),we=!we),!we){we=C.ga;var Ae=C.Fa,Oe=C.P,Ie=C.qc,nt=C.mb,vt=C.nb,Le=Oe+1,ot=Ie-1,gt=we.l;if(e(Ae!=null&&nt!=null&&I!=null),Hc[0]=null,Hc[1]=tn,Hc[2]=qn,Hc[3]=Ha,we.ca=nt,we.tb=vt,we.c=I.width,we.i=I.height,e(0<we.c&&0<we.i),1>=Ie)I=0;else if(we.$a=3&Ae[Oe+0],we.Z=Ae[Oe+0]>>2&3,we.Lc=Ae[Oe+0]>>4&3,Oe=Ae[Oe+0]>>6&3,0>we.$a||1<we.$a||4<=we.Z||1<we.Lc||Oe)I=0;else if(gt.put=et,gt.ac=Ue,gt.bc=Rt,gt.ma=we,gt.width=I.width,gt.height=I.height,gt.Da=I.Da,gt.v=I.v,gt.va=I.va,gt.j=I.j,gt.o=I.o,we.$a)e:{e(we.$a==1),I=dt();t:for(;;){if(I==null){I=0;break e}if(e(we!=null),we.mc=I,I.c=we.c,I.i=we.i,I.l=we.l,I.l.ma=we,I.l.width=we.c,I.l.height=we.i,I.a=0,X(I.m,Ae,Le,ot),!Mt(we.c,we.i,1,I,null)||(I.ab==1&&I.gc[0].hc==3&&ir(I.s)?(we.ic=1,Ae=I.c*I.i,I.Ta=null,I.Ua=0,I.V=i(Ae),I.Ba=0,I.V==null?(I.a=1,I=0):I=1):(we.ic=0,I=he(I,we.c)),!I))break t;I=1;break e}we.mc=null,I=0}else I=ot>=we.c*we.i;we=!I}if(we)return null;C.ga.Lc!=1?C.Ga=0:Z=be-G}e(C.ga!=null),e(G+Z<=be);e:{if(I=(Ae=C.ga).c,be=Ae.l.o,Ae.$a==0){if(Le=C.rc,ot=C.Vc,gt=C.Fa,Oe=C.P+1+G*I,Ie=C.mb,nt=C.nb+G*I,e(Oe<=C.P+C.qc),Ae.Z!=0)for(e(Hc[Ae.Z]!=null),we=0;we<Z;++we)Hc[Ae.Z](Le,ot,gt,Oe,Ie,nt,I),Le=Ie,ot=nt,nt+=I,Oe+=I;else for(we=0;we<Z;++we)n(Ie,nt,gt,Oe,I),Le=Ie,ot=nt,nt+=I,Oe+=I;C.rc=Le,C.Vc=ot}else{if(e(Ae.mc!=null),I=G+Z,e((we=Ae.mc)!=null),e(I<=we.i),we.C>=I)I=1;else if(Ae.ic||Uo(),Ae.ic){Ae=we.V,Le=we.Ba,ot=we.c;var Tt=we.i,xt=(gt=1,Oe=we.$/ot,Ie=we.$%ot,nt=we.m,vt=we.s,we.$),At=ot*Tt,Lt=ot*I,Gt=vt.wc,$t=xt<Lt?br(vt,Ie,Oe):null;e(xt<=At),e(I<=Tt),e(ir(vt));t:for(;;){for(;!nt.h&&xt<Lt;){if(Ie&Gt||($t=br(vt,Ie,Oe)),e($t!=null),Ee(nt),256>(Tt=Ct($t.G[0],$t.H[0],nt)))Ae[Le+xt]=Tt,++xt,++Ie>=ot&&(Ie=0,++Oe<=I&&!(Oe%16)&&Kr(we,Oe));else{if(!(280>Tt)){gt=0;break t}Tt=Wt(Tt-256,nt);var wr,hr=Ct($t.G[4],$t.H[4],nt);if(Ee(nt),!(xt>=(hr=mt(ot,hr=Wt(hr,nt)))&&At-xt>=Tt)){gt=0;break t}for(wr=0;wr<Tt;++wr)Ae[Le+xt+wr]=Ae[Le+xt+wr-hr];for(xt+=Tt,Ie+=Tt;Ie>=ot;)Ie-=ot,++Oe<=I&&!(Oe%16)&&Kr(we,Oe);xt<Lt&&Ie&Gt&&($t=br(vt,Ie,Oe))}e(nt.h==re(nt))}Kr(we,Oe>I?I:Oe);break t}!gt||nt.h&&xt<At?(gt=0,we.a=nt.h?5:3):we.$=xt,I=gt}else I=Zt(we,we.V,we.Ba,we.c,we.i,I,it);if(!I){Z=0;break e}}G+Z>=be&&(C.Cc=1),Z=1}if(!Z)return null;if(C.Cc&&((Z=C.ga)!=null&&(Z.mc=null),C.ga=null,0<C.Ga))return alert("todo:WebPDequantizeLevels"),null}return C.nb+G*de}function va(C,I,G,Z,de,be){for(;0<de--;){var we,Ae=C,Oe=I+(G?1:0),Ie=C,nt=I+(G?0:3);for(we=0;we<Z;++we){var vt=Ie[nt+4*we];vt!=255&&(vt*=32897,Ae[Oe+4*we+0]=Ae[Oe+4*we+0]*vt>>23,Ae[Oe+4*we+1]=Ae[Oe+4*we+1]*vt>>23,Ae[Oe+4*we+2]=Ae[Oe+4*we+2]*vt>>23)}I+=be}}function Ls(C,I,G,Z,de){for(;0<Z--;){var be;for(be=0;be<G;++be){var we=C[I+2*be+0],Ae=15&(Ie=C[I+2*be+1]),Oe=4369*Ae,Ie=(240&Ie|Ie>>4)*Oe>>16;C[I+2*be+0]=(240&we|we>>4)*Oe>>16&240|(15&we|we<<4)*Oe>>16>>4&15,C[I+2*be+1]=240&Ie|Ae}I+=de}}function xs(C,I,G,Z,de,be,we,Ae){var Oe,Ie,nt=255;for(Ie=0;Ie<de;++Ie){for(Oe=0;Oe<Z;++Oe){var vt=C[I+Oe];be[we+4*Oe]=vt,nt&=vt}I+=G,we+=Ae}return nt!=255}function li(C,I,G,Z,de){var be;for(be=0;be<de;++be)G[Z+be]=C[I+be]>>8}function Uo(){Rd=va,Vo=Ls,Tm=xs,Co=li}function to(C,I,G){R[C]=function(Z,de,be,we,Ae,Oe,Ie,nt,vt,Le,ot,gt,Tt,xt,At,Lt,Gt){var $t,wr=Gt-1>>1,hr=Ae[Oe+0]|Ie[nt+0]<<16,Qr=vt[Le+0]|ot[gt+0]<<16;e(Z!=null);var gr=3*hr+Qr+131074>>2;for(I(Z[de+0],255&gr,gr>>16,Tt,xt),be!=null&&(gr=3*Qr+hr+131074>>2,I(be[we+0],255&gr,gr>>16,At,Lt)),$t=1;$t<=wr;++$t){var Nn=Ae[Oe+$t]|Ie[nt+$t]<<16,Aa=vt[Le+$t]|ot[gt+$t]<<16,sn=hr+Nn+Qr+Aa+524296,mr=sn+2*(Nn+Qr)>>3;gr=mr+hr>>1,hr=(sn=sn+2*(hr+Aa)>>3)+Nn>>1,I(Z[de+2*$t-1],255&gr,gr>>16,Tt,xt+(2*$t-1)*G),I(Z[de+2*$t-0],255&hr,hr>>16,Tt,xt+(2*$t-0)*G),be!=null&&(gr=sn+Qr>>1,hr=mr+Aa>>1,I(be[we+2*$t-1],255&gr,gr>>16,At,Lt+(2*$t-1)*G),I(be[we+2*$t+0],255&hr,hr>>16,At,Lt+(2*$t+0)*G)),hr=Nn,Qr=Aa}1&Gt||(gr=3*hr+Qr+131074>>2,I(Z[de+Gt-1],255&gr,gr>>16,Tt,xt+(Gt-1)*G),be!=null&&(gr=3*Qr+hr+131074>>2,I(be[we+Gt-1],255&gr,gr>>16,At,Lt+(Gt-1)*G)))}}function f0(){hi[g0]=Bd,hi[Si]=uh,hi[x0]=eb,hi[Go]=j0,hi[Dm]=_u,hi[oh]=Yl,hi[Su]=Au,hi[Pm]=uh,hi[b0]=j0,hi[lh]=_u,hi[y0]=Yl}function eh(C){return C&-16384?0>C?0:255:C>>N0}function Od(C,I){return eh((19077*C>>8)+(26149*I>>8)-14234)}function $l(C,I,G){return eh((19077*C>>8)-(6419*I>>8)-(13320*G>>8)+8708)}function ml(C,I){return eh((19077*C>>8)+(33050*I>>8)-17685)}function Dd(C,I,G,Z,de){Z[de+0]=Od(C,G),Z[de+1]=$l(C,I,G),Z[de+2]=ml(C,I)}function vu(C,I,G,Z,de){Z[de+0]=ml(C,I),Z[de+1]=$l(C,I,G),Z[de+2]=Od(C,G)}function ci(C,I,G,Z,de){var be=$l(C,I,G);I=be<<3&224|ml(C,I)>>3,Z[de+0]=248&Od(C,G)|be>>5,Z[de+1]=I}function wu(C,I,G,Z,de){var be=240&ml(C,I)|15;Z[de+0]=240&Od(C,G)|$l(C,I,G)>>4,Z[de+1]=be}function ju(C,I,G,Z,de){Z[de+0]=255,Dd(C,I,G,Z,de+1)}function th(C,I,G,Z,de){vu(C,I,G,Z,de),Z[de+3]=255}function Hl(C,I,G,Z,de){Dd(C,I,G,Z,de),Z[de+3]=255}function Xa(C,I){return 0>C?0:C>I?I:C}function Dc(C,I,G){R[C]=function(Z,de,be,we,Ae,Oe,Ie,nt,vt){for(var Le=nt+(-2&vt)*G;nt!=Le;)I(Z[de+0],be[we+0],Ae[Oe+0],Ie,nt),I(Z[de+1],be[we+0],Ae[Oe+0],Ie,nt+G),de+=2,++we,++Oe,nt+=2*G;1&vt&&I(Z[de+0],be[we+0],Ae[Oe+0],Ie,nt)}}function rh(C,I,G){return G==0?C==0?I==0?6:5:I==0?4:0:G}function Cm(C,I,G,Z,de){switch(C>>>30){case 3:Bc(I,G,Z,de,0);break;case 2:ji(I,G,Z,de);break;case 1:Un(I,G,Z,de)}}function So(C,I){var G,Z,de=I.M,be=I.Nb,we=C.oc,Ae=C.pc+40,Oe=C.oc,Ie=C.pc+584,nt=C.oc,vt=C.pc+600;for(G=0;16>G;++G)we[Ae+32*G-1]=129;for(G=0;8>G;++G)Oe[Ie+32*G-1]=129,nt[vt+32*G-1]=129;for(0<de?we[Ae-1-32]=Oe[Ie-1-32]=nt[vt-1-32]=129:(s(we,Ae-32-1,127,21),s(Oe,Ie-32-1,127,9),s(nt,vt-32-1,127,9)),Z=0;Z<C.za;++Z){var Le=I.ya[I.aa+Z];if(0<Z){for(G=-1;16>G;++G)n(we,Ae+32*G-4,we,Ae+32*G+12,4);for(G=-1;8>G;++G)n(Oe,Ie+32*G-4,Oe,Ie+32*G+4,4),n(nt,vt+32*G-4,nt,vt+32*G+4,4)}var ot=C.Gd,gt=C.Hd+Z,Tt=Le.ad,xt=Le.Hc;if(0<de&&(n(we,Ae-32,ot[gt].y,0,16),n(Oe,Ie-32,ot[gt].f,0,8),n(nt,vt-32,ot[gt].ea,0,8)),Le.Za){var At=we,Lt=Ae-32+16;for(0<de&&(Z>=C.za-1?s(At,Lt,ot[gt].y[15],4):n(At,Lt,ot[gt+1].y,0,4)),G=0;4>G;G++)At[Lt+128+G]=At[Lt+256+G]=At[Lt+384+G]=At[Lt+0+G];for(G=0;16>G;++G,xt<<=2)At=we,Lt=Ae+us[G],Qa[Le.Ob[G]](At,Lt),Cm(xt,Tt,16*+G,At,Lt)}else if(At=rh(Z,de,Le.Ob[0]),Bi[At](we,Ae),xt!=0)for(G=0;16>G;++G,xt<<=2)Cm(xt,Tt,16*+G,we,Ae+us[G]);for(G=Le.Gc,At=rh(Z,de,Le.Dd),bl[At](Oe,Ie),bl[At](nt,vt),xt=Tt,At=Oe,Lt=Ie,255&(Le=0|G)&&(170&Le?Wo(xt,256,At,Lt):Ln(xt,256,At,Lt)),Le=nt,xt=vt,255&(G>>=8)&&(170&G?Wo(Tt,320,Le,xt):Ln(Tt,320,Le,xt)),de<C.Ub-1&&(n(ot[gt].y,0,we,Ae+480,16),n(ot[gt].f,0,Oe,Ie+224,8),n(ot[gt].ea,0,nt,vt+224,8)),G=8*be*C.B,ot=C.sa,gt=C.ta+16*Z+16*be*C.R,Tt=C.qa,Le=C.ra+8*Z+G,xt=C.Ha,At=C.Ia+8*Z+G,G=0;16>G;++G)n(ot,gt+G*C.R,we,Ae+32*G,16);for(G=0;8>G;++G)n(Tt,Le+G*C.B,Oe,Ie+32*G,8),n(xt,At+G*C.B,nt,vt+32*G,8)}}function pl(C,I,G,Z,de,be,we,Ae,Oe){var Ie=[0],nt=[0],vt=0,Le=Oe!=null?Oe.kd:0,ot=Oe??new Pt;if(C==null||12>G)return 7;ot.data=C,ot.w=I,ot.ha=G,I=[I],G=[G],ot.gb=[ot.gb];e:{var gt=I,Tt=G,xt=ot.gb;if(e(C!=null),e(Tt!=null),e(xt!=null),xt[0]=0,12<=Tt[0]&&!r(C,gt[0],"RIFF")){if(r(C,gt[0]+8,"WEBP")){xt=3;break e}var At=ae(C,gt[0]+4);if(12>At||4294967286<At){xt=3;break e}if(Le&&At>Tt[0]-8){xt=7;break e}xt[0]=At,gt[0]+=12,Tt[0]-=12}xt=0}if(xt!=0)return xt;for(At=0<ot.gb[0],G=G[0];;){e:{var Lt=C;Tt=I,xt=G;var Gt=Ie,$t=nt,wr=gt=[0];if((gr=vt=[vt])[0]=0,8>xt[0])xt=7;else{if(!r(Lt,Tt[0],"VP8X")){if(ae(Lt,Tt[0]+4)!=10){xt=3;break e}if(18>xt[0]){xt=7;break e}var hr=ae(Lt,Tt[0]+8),Qr=1+ye(Lt,Tt[0]+12);if(2147483648<=Qr*(Lt=1+ye(Lt,Tt[0]+15))){xt=3;break e}wr!=null&&(wr[0]=hr),Gt!=null&&(Gt[0]=Qr),$t!=null&&($t[0]=Lt),Tt[0]+=18,xt[0]-=18,gr[0]=1}xt=0}}if(vt=vt[0],gt=gt[0],xt!=0)return xt;if(Tt=!!(2&gt),!At&&vt)return 3;if(be!=null&&(be[0]=!!(16&gt)),we!=null&&(we[0]=Tt),Ae!=null&&(Ae[0]=0),we=Ie[0],gt=nt[0],vt&&Tt&&Oe==null){xt=0;break}if(4>G){xt=7;break}if(At&&vt||!At&&!vt&&!r(C,I[0],"ALPH")){G=[G],ot.na=[ot.na],ot.P=[ot.P],ot.Sa=[ot.Sa];e:{hr=C,xt=I,At=G;var gr=ot.gb;Gt=ot.na,$t=ot.P,wr=ot.Sa,Qr=22,e(hr!=null),e(At!=null),Lt=xt[0];var Nn=At[0];for(e(Gt!=null),e(wr!=null),Gt[0]=null,$t[0]=null,wr[0]=0;;){if(xt[0]=Lt,At[0]=Nn,8>Nn){xt=7;break e}var Aa=ae(hr,Lt+4);if(4294967286<Aa){xt=3;break e}var sn=8+Aa+1&-2;if(Qr+=sn,0<gr&&Qr>gr){xt=3;break e}if(!r(hr,Lt,"VP8 ")||!r(hr,Lt,"VP8L")){xt=0;break e}if(Nn[0]<sn){xt=7;break e}r(hr,Lt,"ALPH")||(Gt[0]=hr,$t[0]=Lt+8,wr[0]=Aa),Lt+=sn,Nn-=sn}}if(G=G[0],ot.na=ot.na[0],ot.P=ot.P[0],ot.Sa=ot.Sa[0],xt!=0)break}G=[G],ot.Ja=[ot.Ja],ot.xa=[ot.xa];e:if(gr=C,xt=I,At=G,Gt=ot.gb[0],$t=ot.Ja,wr=ot.xa,hr=xt[0],Lt=!r(gr,hr,"VP8 "),Qr=!r(gr,hr,"VP8L"),e(gr!=null),e(At!=null),e($t!=null),e(wr!=null),8>At[0])xt=7;else{if(Lt||Qr){if(gr=ae(gr,hr+4),12<=Gt&&gr>Gt-12){xt=3;break e}if(Le&&gr>At[0]-8){xt=7;break e}$t[0]=gr,xt[0]+=8,At[0]-=8,wr[0]=Qr}else wr[0]=5<=At[0]&&gr[hr+0]==47&&!(gr[hr+4]>>5),$t[0]=At[0];xt=0}if(G=G[0],ot.Ja=ot.Ja[0],ot.xa=ot.xa[0],I=I[0],xt!=0)break;if(4294967286<ot.Ja)return 3;if(Ae==null||Tt||(Ae[0]=ot.xa?2:1),we=[we],gt=[gt],ot.xa){if(5>G){xt=7;break}Ae=we,Le=gt,Tt=be,C==null||5>G?C=0:5<=G&&C[I+0]==47&&!(C[I+4]>>5)?(At=[0],gr=[0],Gt=[0],X($t=new J,C,I,G),Ut($t,At,gr,Gt)?(Ae!=null&&(Ae[0]=At[0]),Le!=null&&(Le[0]=gr[0]),Tt!=null&&(Tt[0]=Gt[0]),C=1):C=0):C=0}else{if(10>G){xt=7;break}Ae=gt,C==null||10>G||!Fn(C,I+3,G-3)?C=0:(Le=C[I+0]|C[I+1]<<8|C[I+2]<<16,Tt=16383&(C[I+7]<<8|C[I+6]),C=16383&(C[I+9]<<8|C[I+8]),1&Le||3<(Le>>1&7)||!(Le>>4&1)||Le>>5>=ot.Ja||!Tt||!C?C=0:(we&&(we[0]=Tt),Ae&&(Ae[0]=C),C=1))}if(!C||(we=we[0],gt=gt[0],vt&&(Ie[0]!=we||nt[0]!=gt)))return 3;Oe!=null&&(Oe[0]=ot,Oe.offset=I-Oe.w,e(4294967286>I-Oe.w),e(Oe.offset==Oe.ha-G));break}return xt==0||xt==7&&vt&&Oe==null?(be!=null&&(be[0]|=ot.na!=null&&0<ot.na.length),Z!=null&&(Z[0]=we),de!=null&&(de[0]=gt),0):xt}function Pc(C,I,G){var Z=I.width,de=I.height,be=0,we=0,Ae=Z,Oe=de;if(I.Da=C!=null&&0<C.Da,I.Da&&(Ae=C.cd,Oe=C.bd,be=C.v,we=C.j,11>G||(be&=-2,we&=-2),0>be||0>we||0>=Ae||0>=Oe||be+Ae>Z||we+Oe>de))return 0;if(I.v=be,I.j=we,I.va=be+Ae,I.o=we+Oe,I.U=Ae,I.T=Oe,I.da=C!=null&&0<C.da,I.da){if(!Re(Ae,Oe,G=[C.ib],be=[C.hb]))return 0;I.ib=G[0],I.hb=be[0]}return I.ob=C!=null&&C.ob,I.Kb=C==null||!C.Sd,I.da&&(I.ob=I.ib<3*Z/4&&I.hb<3*de/4,I.Kb=0),1}function _m(C){if(C==null)return 2;if(11>C.S){var I=C.f.RGBA;I.fb+=(C.height-1)*I.A,I.A=-I.A}else I=C.f.kb,C=C.height,I.O+=(C-1)*I.fa,I.fa=-I.fa,I.N+=(C-1>>1)*I.Ab,I.Ab=-I.Ab,I.W+=(C-1>>1)*I.Db,I.Db=-I.Db,I.F!=null&&(I.J+=(C-1)*I.lb,I.lb=-I.lb);return 0}function gl(C,I,G,Z){if(Z==null||0>=C||0>=I)return 2;if(G!=null){if(G.Da){var de=G.cd,be=G.bd,we=-2&G.v,Ae=-2&G.j;if(0>we||0>Ae||0>=de||0>=be||we+de>C||Ae+be>I)return 2;C=de,I=be}if(G.da){if(!Re(C,I,de=[G.ib],be=[G.hb]))return 2;C=de[0],I=be[0]}}Z.width=C,Z.height=I;e:{var Oe=Z.width,Ie=Z.height;if(C=Z.S,0>=Oe||0>=Ie||!(C>=g0&&13>C))C=2;else{if(0>=Z.Rd&&Z.sd==null){we=be=de=I=0;var nt=(Ae=Oe*k0[C])*Ie;if(11>C||(be=(Ie+1)/2*(I=(Oe+1)/2),C==12&&(we=(de=Oe)*Ie)),(Ie=i(nt+2*be+we))==null){C=1;break e}Z.sd=Ie,11>C?((Oe=Z.f.RGBA).eb=Ie,Oe.fb=0,Oe.A=Ae,Oe.size=nt):((Oe=Z.f.kb).y=Ie,Oe.O=0,Oe.fa=Ae,Oe.Fd=nt,Oe.f=Ie,Oe.N=0+nt,Oe.Ab=I,Oe.Cd=be,Oe.ea=Ie,Oe.W=0+nt+be,Oe.Db=I,Oe.Ed=be,C==12&&(Oe.F=Ie,Oe.J=0+nt+2*be),Oe.Tc=we,Oe.lb=de)}if(I=1,de=Z.S,be=Z.width,we=Z.height,de>=g0&&13>de)if(11>de)C=Z.f.RGBA,I&=(Ae=Math.abs(C.A))*(we-1)+be<=C.size,I&=Ae>=be*k0[de],I&=C.eb!=null;else{C=Z.f.kb,Ae=(be+1)/2,nt=(we+1)/2,Oe=Math.abs(C.fa),Ie=Math.abs(C.Ab);var vt=Math.abs(C.Db),Le=Math.abs(C.lb),ot=Le*(we-1)+be;I&=Oe*(we-1)+be<=C.Fd,I&=Ie*(nt-1)+Ae<=C.Cd,I=(I&=vt*(nt-1)+Ae<=C.Ed)&Oe>=be&Ie>=Ae&vt>=Ae,I&=C.y!=null,I&=C.f!=null,I&=C.ea!=null,de==12&&(I&=Le>=be,I&=ot<=C.Tc,I&=C.F!=null)}else I=0;C=I?0:2}}return C!=0||G!=null&&G.fd&&(C=_m(Z)),C}var Nu=64,ro=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Fi=24,zl=32,ql=8,Lc=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];tt("Predictor0","PredictorAdd0"),R.Predictor0=function(){return 4278190080},R.Predictor1=function(C){return C},R.Predictor2=function(C,I,G){return I[G+0]},R.Predictor3=function(C,I,G){return I[G+1]},R.Predictor4=function(C,I,G){return I[G-1]},R.Predictor5=function(C,I,G){return Te(Te(C,I[G+1]),I[G+0])},R.Predictor6=function(C,I,G){return Te(C,I[G-1])},R.Predictor7=function(C,I,G){return Te(C,I[G+0])},R.Predictor8=function(C,I,G){return Te(I[G-1],I[G+0])},R.Predictor9=function(C,I,G){return Te(I[G+0],I[G+1])},R.Predictor10=function(C,I,G){return Te(Te(C,I[G-1]),Te(I[G+0],I[G+1]))},R.Predictor11=function(C,I,G){var Z=I[G+0];return 0>=Ge(Z>>24&255,C>>24&255,(I=I[G-1])>>24&255)+Ge(Z>>16&255,C>>16&255,I>>16&255)+Ge(Z>>8&255,C>>8&255,I>>8&255)+Ge(255&Z,255&C,255&I)?Z:C},R.Predictor12=function(C,I,G){var Z=I[G+0];return(le((C>>24&255)+(Z>>24&255)-((I=I[G-1])>>24&255))<<24|le((C>>16&255)+(Z>>16&255)-(I>>16&255))<<16|le((C>>8&255)+(Z>>8&255)-(I>>8&255))<<8|le((255&C)+(255&Z)-(255&I)))>>>0},R.Predictor13=function(C,I,G){var Z=I[G-1];return(Je((C=Te(C,I[G+0]))>>24&255,Z>>24&255)<<24|Je(C>>16&255,Z>>16&255)<<16|Je(C>>8&255,Z>>8&255)<<8|Je(255&C,255&Z))>>>0};var nh=R.PredictorAdd0;R.PredictorAdd1=ut,tt("Predictor2","PredictorAdd2"),tt("Predictor3","PredictorAdd3"),tt("Predictor4","PredictorAdd4"),tt("Predictor5","PredictorAdd5"),tt("Predictor6","PredictorAdd6"),tt("Predictor7","PredictorAdd7"),tt("Predictor8","PredictorAdd8"),tt("Predictor9","PredictorAdd9"),tt("Predictor10","PredictorAdd10"),tt("Predictor11","PredictorAdd11"),tt("Predictor12","PredictorAdd12"),tt("Predictor13","PredictorAdd13");var ah=R.PredictorAdd2;me("ColorIndexInverseTransform","MapARGB","32b",function(C){return C>>8&255},function(C){return C}),me("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(C){return C},function(C){return C>>8&255});var ls,h0=R.ColorIndexInverseTransform,Ul=R.MapARGB,Wl=R.VP8LColorIndexInverseTransformAlpha,ui=R.MapAlpha,Rc=R.VP8LPredictorsAdd=[];Rc.length=16,(R.VP8LPredictors=[]).length=16,(R.VP8LPredictorsAdd_C=[]).length=16,(R.VP8LPredictors_C=[]).length=16;var sh,ih,Ic,Fc,Vl,Pd,ko,Bc,ji,Wo,Un,Ln,wa,cs,Gl,xl,Ld,Am,Kx,N1,S1,k1,Jx,Xx,Rd,Vo,Tm,Co,Id=i(511),m0=i(2041),Mm=i(225),Em=i(767),p0=0,$c=m0,Om=Mm,Ni=Em,di=Id,g0=0,Si=1,x0=2,Go=3,Dm=4,oh=5,Su=6,Pm=7,b0=8,lh=9,y0=10,Yo=[2,3,7],ch=[3,3,11],Fd=[280,256,256,256,40],v0=[0,1,1,1,0],Lm=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Ko=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Jo=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],ku=8,Xo=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Qo=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],_o=null,C1=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Qx=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],w0=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],_1=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],fi=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],_a=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],kn=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Bi=[],Qa=[],bl=[],Cu=1,Zx=2,Hc=[],hi=[];to("UpsampleRgbLinePair",Dd,3),to("UpsampleBgrLinePair",vu,3),to("UpsampleRgbaLinePair",Hl,4),to("UpsampleBgraLinePair",th,4),to("UpsampleArgbLinePair",ju,4),to("UpsampleRgba4444LinePair",wu,2),to("UpsampleRgb565LinePair",ci,2);var Bd=R.UpsampleRgbLinePair,eb=R.UpsampleBgrLinePair,uh=R.UpsampleRgbaLinePair,j0=R.UpsampleBgraLinePair,_u=R.UpsampleArgbLinePair,Yl=R.UpsampleRgba4444LinePair,Au=R.UpsampleRgb565LinePair,Zo=16,dh=1<<Zo-1,$d=-227,Tu=482,N0=6,Mu=0,mi=i(256),S0=i(256),A1=i(256),VS=i(256),GS=i(Tu-$d),YS=i(Tu-$d);Dc("YuvToRgbRow",Dd,3),Dc("YuvToBgrRow",vu,3),Dc("YuvToRgbaRow",Hl,4),Dc("YuvToBgraRow",th,4),Dc("YuvToArgbRow",ju,4),Dc("YuvToRgba4444Row",wu,2),Dc("YuvToRgb565Row",ci,2);var us=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],fh=[0,2,8],Rm=[8,7,6,4,4,2,2,2,1,1,1,1],Im=1;this.WebPDecodeRGBA=function(C,I,G,Z,de){var be=Si,we=new ft,Ae=new te;we.ba=Ae,Ae.S=be,Ae.width=[Ae.width],Ae.height=[Ae.height];var Oe=Ae.width,Ie=Ae.height,nt=new Fe;if(nt==null||C==null)var vt=2;else e(nt!=null),vt=pl(C,I,G,nt.width,nt.height,nt.Pd,nt.Qd,nt.format,null);if(vt!=0?Oe=0:(Oe!=null&&(Oe[0]=nt.width[0]),Ie!=null&&(Ie[0]=nt.height[0]),Oe=1),Oe){Ae.width=Ae.width[0],Ae.height=Ae.height[0],Z!=null&&(Z[0]=Ae.width),de!=null&&(de[0]=Ae.height);e:{if(Z=new Sn,(de=new Pt).data=C,de.w=I,de.ha=G,de.kd=1,I=[0],e(de!=null),((C=pl(de.data,de.w,de.ha,null,null,null,I,null,de))==0||C==7)&&I[0]&&(C=4),(I=C)==0){if(e(we!=null),Z.data=de.data,Z.w=de.w+de.offset,Z.ha=de.ha-de.offset,Z.put=et,Z.ac=Ue,Z.bc=Rt,Z.ma=we,de.xa){if((C=dt())==null){we=1;break e}if((function(Le,ot){var gt=[0],Tt=[0],xt=[0];t:for(;;){if(Le==null)return 0;if(ot==null)return Le.a=2,0;if(Le.l=ot,Le.a=0,X(Le.m,ot.data,ot.w,ot.ha),!Ut(Le.m,gt,Tt,xt)){Le.a=3;break t}if(Le.xb=Zx,ot.width=gt[0],ot.height=Tt[0],!Mt(gt[0],Tt[0],1,Le,null))break t;return 1}return e(Le.a!=0),0})(C,Z)){if(Z=(I=gl(Z.width,Z.height,we.Oa,we.ba))==0){t:{Z=C;r:for(;;){if(Z==null){Z=0;break t}if(e(Z.s.yc!=null),e(Z.s.Ya!=null),e(0<Z.s.Wb),e((G=Z.l)!=null),e((de=G.ma)!=null),Z.xb!=0){if(Z.ca=de.ba,Z.tb=de.tb,e(Z.ca!=null),!Pc(de.Oa,G,Go)){Z.a=2;break r}if(!he(Z,G.width)||G.da)break r;if((G.da||yt(Z.ca.S))&&Uo(),11>Z.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),Z.ca.f.kb.F!=null&&Uo()),Z.Pb&&0<Z.s.ua&&Z.s.vb.X==null&&!se(Z.s.vb,Z.s.Wa.Xa)){Z.a=1;break r}Z.xb=0}if(!Zt(Z,Z.V,Z.Ba,Z.c,Z.i,G.o,wn))break r;de.Dc=Z.Ma,Z=1;break t}e(Z.a!=0),Z=0}Z=!Z}Z&&(I=C.a)}else I=C.a}else{if((C=new Mn)==null){we=1;break e}if(C.Fa=de.na,C.P=de.P,C.qc=de.Sa,Cc(C,Z)){if((I=gl(Z.width,Z.height,we.Oa,we.ba))==0){if(C.Aa=0,G=we.Oa,e((de=C)!=null),G!=null){if(0<(Oe=0>(Oe=G.Md)?0:100<Oe?255:255*Oe/100)){for(Ie=nt=0;4>Ie;++Ie)12>(vt=de.pb[Ie]).lc&&(vt.ia=Oe*Rm[0>vt.lc?0:vt.lc]>>3),nt|=vt.ia;nt&&(alert("todo:VP8InitRandom"),de.ia=1)}de.Ga=G.Id,100<de.Ga?de.Ga=100:0>de.Ga&&(de.Ga=0)}(function(Le,ot){if(Le==null)return 0;if(ot==null)return en(Le,2,"NULL VP8Io parameter in VP8Decode().");if(!Le.cb&&!Cc(Le,ot))return 0;if(e(Le.cb),ot.ac==null||ot.ac(ot)){ot.ob&&(Le.L=0);var gt=fh[Le.L];if(Le.L==2?(Le.yb=0,Le.zb=0):(Le.yb=ot.v-gt>>4,Le.zb=ot.j-gt>>4,0>Le.yb&&(Le.yb=0),0>Le.zb&&(Le.zb=0)),Le.Va=ot.o+15+gt>>4,Le.Hb=ot.va+15+gt>>4,Le.Hb>Le.za&&(Le.Hb=Le.za),Le.Va>Le.Ub&&(Le.Va=Le.Ub),0<Le.L){var Tt=Le.ed;for(gt=0;4>gt;++gt){var xt;if(Le.Qa.Cb){var At=Le.Qa.Lb[gt];Le.Qa.Fb||(At+=Tt.Tb)}else At=Tt.Tb;for(xt=0;1>=xt;++xt){var Lt=Le.gd[gt][xt],Gt=At;if(Tt.Pc&&(Gt+=Tt.vd[0],xt&&(Gt+=Tt.od[0])),0<(Gt=0>Gt?0:63<Gt?63:Gt)){var $t=Gt;0<Tt.wb&&($t=4<Tt.wb?$t>>2:$t>>1)>9-Tt.wb&&($t=9-Tt.wb),1>$t&&($t=1),Lt.dd=$t,Lt.tc=2*Gt+$t,Lt.ld=40<=Gt?2:15<=Gt?1:0}else Lt.tc=0;Lt.La=xt}}}gt=0}else en(Le,6,"Frame setup failed"),gt=Le.a;if(gt=gt==0){if(gt){Le.$c=0,0<Le.Aa||(Le.Ic=Im);t:{gt=Le.Ic,Tt=4*($t=Le.za);var wr=32*$t,hr=$t+1,Qr=0<Le.L?$t*(0<Le.Aa?2:1):0,gr=(Le.Aa==2?2:1)*$t;if((Lt=Tt+832+(xt=3*(16*gt+fh[Le.L])/2*wr)+(At=Le.Fa!=null&&0<Le.Fa.length?Le.Kc.c*Le.Kc.i:0))!=Lt)gt=0;else{if(Lt>Le.Vb){if(Le.Vb=0,Le.Ec=i(Lt),Le.Fc=0,Le.Ec==null){gt=en(Le,1,"no memory during frame initialization.");break t}Le.Vb=Lt}Lt=Le.Ec,Gt=Le.Fc,Le.Ac=Lt,Le.Bc=Gt,Gt+=Tt,Le.Gd=o(wr,Ri),Le.Hd=0,Le.rb=o(hr+1,dr),Le.sb=1,Le.wa=Qr?o(Qr,Nr):null,Le.Y=0,Le.D.Nb=0,Le.D.wa=Le.wa,Le.D.Y=Le.Y,0<Le.Aa&&(Le.D.Y+=$t),e(!0),Le.oc=Lt,Le.pc=Gt,Gt+=832,Le.ya=o(gr,ba),Le.aa=0,Le.D.ya=Le.ya,Le.D.aa=Le.aa,Le.Aa==2&&(Le.D.aa+=$t),Le.R=16*$t,Le.B=8*$t,$t=(wr=fh[Le.L])*Le.R,wr=wr/2*Le.B,Le.sa=Lt,Le.ta=Gt+$t,Le.qa=Le.sa,Le.ra=Le.ta+16*gt*Le.R+wr,Le.Ha=Le.qa,Le.Ia=Le.ra+8*gt*Le.B+wr,Le.$c=0,Gt+=xt,Le.mb=At?Lt:null,Le.nb=At?Gt:null,e(Gt+At<=Le.Fc+Le.Vb),vo(Le),s(Le.Ac,Le.Bc,0,Tt),gt=1}}if(gt){if(ot.ka=0,ot.y=Le.sa,ot.O=Le.ta,ot.f=Le.qa,ot.N=Le.ra,ot.ea=Le.Ha,ot.Vd=Le.Ia,ot.fa=Le.R,ot.Rc=Le.B,ot.F=null,ot.J=0,!p0){for(gt=-255;255>=gt;++gt)Id[255+gt]=0>gt?-gt:gt;for(gt=-1020;1020>=gt;++gt)m0[1020+gt]=-128>gt?-128:127<gt?127:gt;for(gt=-112;112>=gt;++gt)Mm[112+gt]=-16>gt?-16:15<gt?15:gt;for(gt=-255;510>=gt;++gt)Em[255+gt]=0>gt?0:255<gt?255:gt;p0=1}ko=Nd,Bc=Yf,Wo=wd,Un=ii,Ln=jd,ji=vd,wa=c0,cs=u0,Gl=U,xl=ue,Ld=Oc,Am=d0,Kx=Be,N1=Ze,S1=Md,k1=Mc,Jx=yu,Xx=Ed,Qa[0]=wo,Qa[1]=Sd,Qa[2]=ss,Qa[3]=Zi,Qa[4]=_c,Qa[5]=oi,Qa[6]=eo,Qa[7]=km,Qa[8]=jo,Qa[9]=_d,Bi[0]=ne,Bi[1]=Jf,Bi[2]=kd,Bi[3]=Cd,Bi[4]=He,Bi[5]=Kt,Bi[6]=an,bl[0]=Ac,bl[1]=Kf,bl[2]=Ad,bl[3]=Il,bl[4]=Qf,bl[5]=Xf,bl[6]=Gs,gt=1}else gt=0}gt&&(gt=(function(Nn,Aa){for(Nn.M=0;Nn.M<Nn.Va;++Nn.M){var sn,mr=Nn.Jc[Nn.M&Nn.Xb],nr=Nn.m,za=Nn;for(sn=0;sn<za.za;++sn){var $r=nr,dn=za,Jn=dn.Ac,Rs=dn.Bc+4*sn,pi=dn.zc,ja=dn.ya[dn.aa+sn];if(dn.Qa.Bb?ja.$b=Ce($r,dn.Pa.jb[0])?2+Ce($r,dn.Pa.jb[2]):Ce($r,dn.Pa.jb[1]):ja.$b=0,dn.kc&&(ja.Ad=Ce($r,dn.Bd)),ja.Za=!Ce($r,145)+0,ja.Za){var bs=ja.Ob,ki=0;for(dn=0;4>dn;++dn){var ys,xn=pi[0+dn];for(ys=0;4>ys;++ys){xn=fi[Jn[Rs+ys]][xn];for(var Bn=w0[Ce($r,xn[0])];0<Bn;)Bn=w0[2*Bn+Ce($r,xn[Bn])];xn=-Bn,Jn[Rs+ys]=xn}n(bs,ki,Jn,Rs,4),ki+=4,pi[0+dn]=xn}}else xn=Ce($r,156)?Ce($r,128)?1:3:Ce($r,163)?2:0,ja.Ob[0]=xn,s(Jn,Rs,xn,4),s(pi,0,xn,4);ja.Dd=Ce($r,142)?Ce($r,114)?Ce($r,183)?1:3:2:0}if(za.m.Ka)return en(Nn,7,"Premature end-of-partition0 encountered.");for(;Nn.ja<Nn.za;++Nn.ja){if(za=mr,$r=(nr=Nn).rb[nr.sb-1],Jn=nr.rb[nr.sb+nr.ja],sn=nr.ya[nr.aa+nr.ja],Rs=nr.kc?sn.Ad:0)$r.la=Jn.la=0,sn.Za||($r.Na=Jn.Na=0),sn.Hc=0,sn.Gc=0,sn.ia=0;else{var qa,Wn;if($r=Jn,Jn=za,Rs=nr.Pa.Xc,pi=nr.ya[nr.aa+nr.ja],ja=nr.pb[pi.$b],dn=pi.ad,bs=0,ki=nr.rb[nr.sb-1],xn=ys=0,s(dn,bs,0,384),pi.Za)var Is=0,Ua=Rs[3];else{Bn=i(16);var $n=$r.Na+ki.Na;if($n=_o(Jn,Rs[1],$n,ja.Eb,0,Bn,0),$r.Na=ki.Na=(0<$n)+0,1<$n)ko(Bn,0,dn,bs);else{var ds=Bn[0]+3>>3;for(Bn=0;256>Bn;Bn+=16)dn[bs+Bn]=ds}Is=1,Ua=Rs[0]}var Xn=15&$r.la,vs=15&ki.la;for(Bn=0;4>Bn;++Bn){var ws=1&vs;for(ds=Wn=0;4>ds;++ds)Xn=Xn>>1|(ws=($n=_o(Jn,Ua,$n=ws+(1&Xn),ja.Sc,Is,dn,bs))>Is)<<7,Wn=Wn<<2|(3<$n?3:1<$n?2:dn[bs+0]!=0),bs+=16;Xn>>=4,vs=vs>>1|ws<<7,ys=(ys<<8|Wn)>>>0}for(Ua=Xn,Is=vs>>4,qa=0;4>qa;qa+=2){for(Wn=0,Xn=$r.la>>4+qa,vs=ki.la>>4+qa,Bn=0;2>Bn;++Bn){for(ws=1&vs,ds=0;2>ds;++ds)$n=ws+(1&Xn),Xn=Xn>>1|(ws=0<($n=_o(Jn,Rs[2],$n,ja.Qc,0,dn,bs)))<<3,Wn=Wn<<2|(3<$n?3:1<$n?2:dn[bs+0]!=0),bs+=16;Xn>>=2,vs=vs>>1|ws<<5}xn|=Wn<<4*qa,Ua|=Xn<<4<<qa,Is|=(240&vs)<<qa}$r.la=Ua,ki.la=Is,pi.Hc=ys,pi.Gc=xn,pi.ia=43690&xn?0:ja.ia,Rs=!(ys|xn)}if(0<nr.L&&(nr.wa[nr.Y+nr.ja]=nr.gd[sn.$b][sn.Za],nr.wa[nr.Y+nr.ja].La|=!Rs),za.Ka)return en(Nn,7,"Premature end-of-file encountered.")}if(vo(Nn),nr=Aa,za=1,sn=(mr=Nn).D,$r=0<mr.L&&mr.M>=mr.zb&&mr.M<=mr.Va,mr.Aa==0)t:{if(sn.M=mr.M,sn.uc=$r,So(mr,sn),za=1,sn=(Wn=mr.D).Nb,$r=(xn=fh[mr.L])*mr.R,Jn=xn/2*mr.B,Bn=16*sn*mr.R,ds=8*sn*mr.B,Rs=mr.sa,pi=mr.ta-$r+Bn,ja=mr.qa,dn=mr.ra-Jn+ds,bs=mr.Ha,ki=mr.Ia-Jn+ds,vs=(Xn=Wn.M)==0,ys=Xn>=mr.Va-1,mr.Aa==2&&So(mr,Wn),Wn.uc)for(ws=($n=mr).D.M,e($n.D.uc),Wn=$n.yb;Wn<$n.Hb;++Wn){Is=Wn,Ua=ws;var ca=(Rn=(js=$n).D).Nb;qa=js.R;var Rn=Rn.wa[Rn.Y+Is],Ci=js.sa,Za=js.ta+16*ca*qa+16*Is,Or=Rn.dd,Dr=Rn.tc;if(Dr!=0)if(e(3<=Dr),js.L==1)0<Is&&k1(Ci,Za,qa,Dr+4),Rn.La&&Xx(Ci,Za,qa,Dr),0<Ua&&S1(Ci,Za,qa,Dr+4),Rn.La&&Jx(Ci,Za,qa,Dr);else{var Hn=js.B,no=js.qa,el=js.ra+8*ca*Hn+8*Is,$i=js.Ha,js=js.Ia+8*ca*Hn+8*Is;ca=Rn.ld,0<Is&&(cs(Ci,Za,qa,Dr+4,Or,ca),xl(no,el,$i,js,Hn,Dr+4,Or,ca)),Rn.La&&(Am(Ci,Za,qa,Dr,Or,ca),N1(no,el,$i,js,Hn,Dr,Or,ca)),0<Ua&&(wa(Ci,Za,qa,Dr+4,Or,ca),Gl(no,el,$i,js,Hn,Dr+4,Or,ca)),Rn.La&&(Ld(Ci,Za,qa,Dr,Or,ca),Kx(no,el,$i,js,Hn,Dr,Or,ca))}}if(mr.ia&&alert("todo:DitherRow"),nr.put!=null){if(Wn=16*Xn,Xn=16*(Xn+1),vs?(nr.y=mr.sa,nr.O=mr.ta+Bn,nr.f=mr.qa,nr.N=mr.ra+ds,nr.ea=mr.Ha,nr.W=mr.Ia+ds):(Wn-=xn,nr.y=Rs,nr.O=pi,nr.f=ja,nr.N=dn,nr.ea=bs,nr.W=ki),ys||(Xn-=xn),Xn>nr.o&&(Xn=nr.o),nr.F=null,nr.J=null,mr.Fa!=null&&0<mr.Fa.length&&Wn<Xn&&(nr.J=is(mr,nr,Wn,Xn-Wn),nr.F=mr.mb,nr.F==null&&nr.F.length==0)){za=en(mr,3,"Could not decode alpha data.");break t}Wn<nr.j&&(xn=nr.j-Wn,Wn=nr.j,e(!(1&xn)),nr.O+=mr.R*xn,nr.N+=mr.B*(xn>>1),nr.W+=mr.B*(xn>>1),nr.F!=null&&(nr.J+=nr.width*xn)),Wn<Xn&&(nr.O+=nr.v,nr.N+=nr.v>>1,nr.W+=nr.v>>1,nr.F!=null&&(nr.J+=nr.v),nr.ka=Wn-nr.j,nr.U=nr.va-nr.v,nr.T=Xn-Wn,za=nr.put(nr))}sn+1!=mr.Ic||ys||(n(mr.sa,mr.ta-$r,Rs,pi+16*mr.R,$r),n(mr.qa,mr.ra-Jn,ja,dn+8*mr.B,Jn),n(mr.Ha,mr.Ia-Jn,bs,ki+8*mr.B,Jn))}if(!za)return en(Nn,6,"Output aborted.")}return 1})(Le,ot)),ot.bc!=null&&ot.bc(ot),gt&=1}return gt?(Le.cb=0,gt):0})(C,Z)||(I=C.a)}}else I=C.a}I==0&&we.Oa!=null&&we.Oa.fd&&(I=_m(we.ba))}we=I}be=we!=0?null:11>be?Ae.f.RGBA.eb:Ae.f.kb.y}else be=null;return be};var k0=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(R,F){for(var A="",M=0;M<4;M++)A+=String.fromCharCode(R[F++]);return A}function f(R,F){return R[F+0]|R[F+1]<<8}function h(R,F){return(R[F+0]|R[F+1]<<8|R[F+2]<<16)>>>0}function g(R,F){return(R[F+0]|R[F+1]<<8|R[F+2]<<16|R[F+3]<<24)>>>0}new c;var p=[0],v=[0],w=[],y=new c,N=t,k=(function(R,F){var A={},M=0,B=!1,z=0,Y=0;if(A.frames=[],!(function(V,J){for(var Q=0;Q<4;Q++)if(V[J+Q]!="RIFF".charCodeAt(Q))return!0;return!1})(R,F)){for(g(R,F+=4),F+=8;F<R.length;){var W=u(R,F),H=g(R,F+=4);F+=4;var q=H+(1&H);switch(W){case"VP8 ":case"VP8L":A.frames[M]===void 0&&(A.frames[M]={}),(K=A.frames[M]).src_off=B?Y:F-8,K.src_size=z+H+8,M++,B&&(B=!1,z=0,Y=0);break;case"VP8X":(K=A.header={}).feature_flags=R[F];var X=F+4;K.canvas_width=1+h(R,X),X+=3,K.canvas_height=1+h(R,X),X+=3;break;case"ALPH":B=!0,z=q+8,Y=F-8;break;case"ANIM":(K=A.header).bgcolor=g(R,F),X=F+4,K.loop_count=f(R,X),X+=2;break;case"ANMF":var oe,K;(K=A.frames[M]={}).offset_x=2*h(R,F),F+=3,K.offset_y=2*h(R,F),F+=3,K.width=1+h(R,F),F+=3,K.height=1+h(R,F),F+=3,K.duration=h(R,F),F+=3,oe=R[F++],K.dispose=1&oe,K.blend=oe>>1&1}W!="ANMF"&&(F+=q)}return A}})(N,0);k.response=N,k.rgbaoutput=!0,k.dataurl=!1;var S=k.header?k.header:null,T=k.frames?k.frames:null;if(S){S.loop_counter=S.loop_count,p=[S.canvas_height],v=[S.canvas_width];for(var _=0;_<T.length&&T[_].blend!=0;_++);}var D=T[0],E=y.WebPDecodeRGBA(N,D.src_off,D.src_size,v,p);D.rgba=E,D.imgwidth=v[0],D.imgheight=p[0];for(var L=0;L<v[0]*p[0]*4;L++)w[L]=E[L];return this.width=v,this.height=p,this.data=w,this}(function(t){var e,r,n,s,i,o,l,c,u,f=function(V){return V=V||{},this.isStrokeTransparent=V.isStrokeTransparent||!1,this.strokeOpacity=V.strokeOpacity||1,this.strokeStyle=V.strokeStyle||"#000000",this.fillStyle=V.fillStyle||"#000000",this.isFillTransparent=V.isFillTransparent||!1,this.fillOpacity=V.fillOpacity||1,this.font=V.font||"10px sans-serif",this.textBaseline=V.textBaseline||"alphabetic",this.textAlign=V.textAlign||"left",this.lineWidth=V.lineWidth||1,this.lineJoin=V.lineJoin||"miter",this.lineCap=V.lineCap||"butt",this.path=V.path||[],this.transform=V.transform!==void 0?V.transform.clone():new c,this.globalCompositeOperation=V.globalCompositeOperation||"normal",this.globalAlpha=V.globalAlpha||1,this.clip_path=V.clip_path||[],this.currentPoint=V.currentPoint||new o,this.miterLimit=V.miterLimit||10,this.lastPoint=V.lastPoint||new o,this.lineDashOffset=V.lineDashOffset||0,this.lineDash=V.lineDash||[],this.margin=V.margin||[0,0,0,0],this.prevPageLastElemOffset=V.prevPageLastElemOffset||0,this.ignoreClearRect=typeof V.ignoreClearRect!="boolean"||V.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new h(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,u=new f}]);var h=function(V){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var J=V;Object.defineProperty(this,"pdf",{get:function(){return J}});var Q=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Q},set:function(ae){Q=!!ae}});var re=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return re},set:function(ae){re=!!ae}});var ce=0;Object.defineProperty(this,"posX",{get:function(){return ce},set:function(ae){isNaN(ae)||(ce=ae)}});var Ee=0;Object.defineProperty(this,"posY",{get:function(){return Ee},set:function(ae){isNaN(ae)||(Ee=ae)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(ae){var se;typeof ae=="number"?se=[ae,ae,ae,ae]:((se=new Array(4))[0]=ae[0],se[1]=ae.length>=2?ae[1]:se[0],se[2]=ae.length>=3?ae[2]:se[0],se[3]=ae.length>=4?ae[3]:se[1]),u.margin=se}});var ke=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ke},set:function(ae){ke=ae}});var ge=0;Object.defineProperty(this,"lastBreak",{get:function(){return ge},set:function(ae){ge=ae}});var Ce=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ce},set:function(ae){Ce=ae}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(ae){ae instanceof f&&(u=ae)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(ae){u.path=ae}});var Ke=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ke},set:function(ae){Ke=ae}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ae){var se;se=g(ae),this.ctx.fillStyle=se.style,this.ctx.isFillTransparent=se.a===0,this.ctx.fillOpacity=se.a,this.pdf.setFillColor(se.r,se.g,se.b,{a:se.a}),this.pdf.setTextColor(se.r,se.g,se.b,{a:se.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ae){var se=g(ae);this.ctx.strokeStyle=se.style,this.ctx.isStrokeTransparent=se.a===0,this.ctx.strokeOpacity=se.a,se.a===0?this.pdf.setDrawColor(255,255,255):(se.a,this.pdf.setDrawColor(se.r,se.g,se.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ae){["butt","round","square"].indexOf(ae)!==-1&&(this.ctx.lineCap=ae,this.pdf.setLineCap(ae))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ae){isNaN(ae)||(this.ctx.lineWidth=ae,this.pdf.setLineWidth(ae))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ae){["bevel","round","miter"].indexOf(ae)!==-1&&(this.ctx.lineJoin=ae,this.pdf.setLineJoin(ae))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ae){isNaN(ae)||(this.ctx.miterLimit=ae,this.pdf.setMiterLimit(ae))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ae){this.ctx.textBaseline=ae}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ae){["right","end","center","left","start"].indexOf(ae)!==-1&&(this.ctx.textAlign=ae)}});var fe=null,ye=null;Object.defineProperty(this,"fontFaces",{get:function(){return ye},set:function(ae){fe=null,ye=ae}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ae){var se;if(this.ctx.font=ae,(se=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ae))!==null){var bt=se[1];se[2];var pt=se[3],Re=se[4];se[5];var Me=se[6],qe=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Re)[2];Re=Math.floor(qe==="px"?parseFloat(Re)*this.pdf.internal.scaleFactor:qe==="em"?parseFloat(Re)*this.pdf.getFontSize():parseFloat(Re)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Re);var tt=(function(ze){var me,De,je=[],We=ze.trim();if(We==="")return QT;if(We in zG)return[zG[We]];for(;We!=="";){switch(De=null,me=(We=UG(We)).charAt(0)){case'"':case"'":De=AUe(We.substring(1),me);break;default:De=TUe(We)}if(De===null||(je.push(De[0]),(We=UG(De[1]))!==""&&We.charAt(0)!==","))return QT;We=We.replace(/^,/,"")}return je})(Me);if(this.fontFaces){var Ve=(function(ze,me){if(fe===null){var De=(function(je){var We=[];return Object.keys(je).forEach(function(rt){je[rt].forEach(function(ve){var xe=null;switch(ve){case"bold":xe={family:rt,weight:"bold"};break;case"italic":xe={family:rt,style:"italic"};break;case"bolditalic":xe={family:rt,weight:"bold",style:"italic"};break;case"":case"normal":xe={family:rt}}xe!==null&&(xe.ref={name:rt,style:ve},We.push(xe))})}),We})(ze.getFontList());fe=(function(je){for(var We={},rt=0;rt<je.length;++rt){var ve=XT(je[rt]),xe=ve.family,Qe=ve.stretch,yt=ve.style,st=ve.weight;We[xe]=We[xe]||{},We[xe][Qe]=We[xe][Qe]||{},We[xe][Qe][yt]=We[xe][Qe][yt]||{},We[xe][Qe][yt][st]=ve}return We})(De.concat(me))}return fe})(this.pdf,this.fontFaces),Te=tt.map(function(ze){return{family:ze,stretch:"normal",weight:pt,style:bt}}),le=(function(ze,me,De){for(var je=(De=De||{}).defaultFontFamily||"times",We=Object.assign({},_Ue,De.genericFontFamilies||{}),rt=null,ve=null,xe=0;xe<me.length;++xe)if(We[(rt=XT(me[xe])).family]&&(rt.family=We[rt.family]),ze.hasOwnProperty(rt.family)){ve=ze[rt.family];break}if(!(ve=ve||ze[je]))throw new Error("Could not find a font-family for the rule '"+qG(rt)+"' and default family '"+je+"'.");if(ve=(function(Qe,yt){if(yt[Qe])return yt[Qe];var st=EO[Qe],_e=st<=EO.normal?-1:1,te=HG(yt,vse,st,_e);if(!te)throw new Error("Could not find a matching font-stretch value for "+Qe);return te})(rt.stretch,ve),ve=(function(Qe,yt){if(yt[Qe])return yt[Qe];for(var st=yse[Qe],_e=0;_e<st.length;++_e)if(yt[st[_e]])return yt[st[_e]];throw new Error("Could not find a matching font-style for "+Qe)})(rt.style,ve),!(ve=(function(Qe,yt){if(yt[Qe])return yt[Qe];if(Qe===400&&yt[500])return yt[500];if(Qe===500&&yt[400])return yt[400];var st=CUe[Qe],_e=HG(yt,wse,st,Qe<400?-1:1);if(!_e)throw new Error("Could not find a matching font-weight for value "+Qe);return _e})(rt.weight,ve)))throw new Error("Failed to resolve a font for the rule '"+qG(rt)+"'.");return ve})(Ve,Te);this.pdf.setFont(le.ref.name,le.ref.style)}else{var Je="";(pt==="bold"||parseInt(pt,10)>=700||bt==="bold")&&(Je="bold"),bt==="italic"&&(Je+="italic"),Je.length===0&&(Je="normal");for(var Ge="",ut={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Pe=0;Pe<tt.length;Pe++){if(this.pdf.internal.getFont(tt[Pe],Je,{noFallback:!0,disableWarning:!0})!==void 0){Ge=tt[Pe];break}if(Je==="bolditalic"&&this.pdf.internal.getFont(tt[Pe],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ge=tt[Pe],Je="bold";else if(this.pdf.internal.getFont(tt[Pe],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ge=tt[Pe],Je="normal";break}}if(Ge===""){for(var Ne=0;Ne<tt.length;Ne++)if(ut[tt[Ne]]){Ge=ut[tt[Ne]];break}}Ge=Ge===""?"Times":Ge,this.pdf.setFont(Ge,Je)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ae){this.ctx.globalCompositeOperation=ae}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ae){this.ctx.globalAlpha=ae}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ae){this.ctx.lineDashOffset=ae,K.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ae){this.ctx.lineDash=ae,K.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ae){this.ctx.ignoreClearRect=!!ae}})};h.prototype.setLineDash=function(V){this.lineDash=V},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){T.call(this,"fill",!1)},h.prototype.stroke=function(){T.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(V,J){if(isNaN(V)||isNaN(J))throw Ma.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Q=this.ctx.transform.applyToPoint(new o(V,J));this.path.push({type:"mt",x:Q.x,y:Q.y}),this.ctx.lastPoint=new o(V,J)},h.prototype.closePath=function(){var V=new o(0,0),J=0;for(J=this.path.length-1;J!==-1;J--)if(this.path[J].type==="begin"&&zn(this.path[J+1])==="object"&&typeof this.path[J+1].x=="number"){V=new o(this.path[J+1].x,this.path[J+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(V.x,V.y)},h.prototype.lineTo=function(V,J){if(isNaN(V)||isNaN(J))throw Ma.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Q=this.ctx.transform.applyToPoint(new o(V,J));this.path.push({type:"lt",x:Q.x,y:Q.y}),this.ctx.lastPoint=new o(Q.x,Q.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),T.call(this,null,!0)},h.prototype.quadraticCurveTo=function(V,J,Q,re){if(isNaN(Q)||isNaN(re)||isNaN(V)||isNaN(J))throw Ma.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ce=this.ctx.transform.applyToPoint(new o(Q,re)),Ee=this.ctx.transform.applyToPoint(new o(V,J));this.path.push({type:"qct",x1:Ee.x,y1:Ee.y,x:ce.x,y:ce.y}),this.ctx.lastPoint=new o(ce.x,ce.y)},h.prototype.bezierCurveTo=function(V,J,Q,re,ce,Ee){if(isNaN(ce)||isNaN(Ee)||isNaN(V)||isNaN(J)||isNaN(Q)||isNaN(re))throw Ma.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ke=this.ctx.transform.applyToPoint(new o(ce,Ee)),ge=this.ctx.transform.applyToPoint(new o(V,J)),Ce=this.ctx.transform.applyToPoint(new o(Q,re));this.path.push({type:"bct",x1:ge.x,y1:ge.y,x2:Ce.x,y2:Ce.y,x:ke.x,y:ke.y}),this.ctx.lastPoint=new o(ke.x,ke.y)},h.prototype.arc=function(V,J,Q,re,ce,Ee){if(isNaN(V)||isNaN(J)||isNaN(Q)||isNaN(re)||isNaN(ce))throw Ma.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Ee=!!Ee,!this.ctx.transform.isIdentity){var ke=this.ctx.transform.applyToPoint(new o(V,J));V=ke.x,J=ke.y;var ge=this.ctx.transform.applyToPoint(new o(0,Q)),Ce=this.ctx.transform.applyToPoint(new o(0,0));Q=Math.sqrt(Math.pow(ge.x-Ce.x,2)+Math.pow(ge.y-Ce.y,2))}Math.abs(ce-re)>=2*Math.PI&&(re=0,ce=2*Math.PI),this.path.push({type:"arc",x:V,y:J,radius:Q,startAngle:re,endAngle:ce,counterclockwise:Ee})},h.prototype.arcTo=function(V,J,Q,re,ce){throw new Error("arcTo not implemented.")},h.prototype.rect=function(V,J,Q,re){if(isNaN(V)||isNaN(J)||isNaN(Q)||isNaN(re))throw Ma.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(V,J),this.lineTo(V+Q,J),this.lineTo(V+Q,J+re),this.lineTo(V,J+re),this.lineTo(V,J),this.lineTo(V+Q,J),this.lineTo(V,J)},h.prototype.fillRect=function(V,J,Q,re){if(isNaN(V)||isNaN(J)||isNaN(Q)||isNaN(re))throw Ma.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var ce={};this.lineCap!=="butt"&&(ce.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ce.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(V,J,Q,re),this.fill(),ce.hasOwnProperty("lineCap")&&(this.lineCap=ce.lineCap),ce.hasOwnProperty("lineJoin")&&(this.lineJoin=ce.lineJoin)}},h.prototype.strokeRect=function(V,J,Q,re){if(isNaN(V)||isNaN(J)||isNaN(Q)||isNaN(re))throw Ma.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");v.call(this)||(this.beginPath(),this.rect(V,J,Q,re),this.stroke())},h.prototype.clearRect=function(V,J,Q,re){if(isNaN(V)||isNaN(J)||isNaN(Q)||isNaN(re))throw Ma.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(V,J,Q,re))},h.prototype.save=function(V){V=typeof V!="boolean"||V;for(var J=this.pdf.internal.getCurrentPageInfo().pageNumber,Q=0;Q<this.pdf.internal.getNumberOfPages();Q++)this.pdf.setPage(Q+1),this.pdf.internal.out("q");if(this.pdf.setPage(J),V){this.ctx.fontSize=this.pdf.internal.getFontSize();var re=new f(this.ctx);this.ctxStack.push(this.ctx),this.ctx=re}},h.prototype.restore=function(V){V=typeof V!="boolean"||V;for(var J=this.pdf.internal.getCurrentPageInfo().pageNumber,Q=0;Q<this.pdf.internal.getNumberOfPages();Q++)this.pdf.setPage(Q+1),this.pdf.internal.out("Q");this.pdf.setPage(J),V&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var g=function(V){var J,Q,re,ce;if(V.isCanvasGradient===!0&&(V=V.getColor()),!V)return{r:0,g:0,b:0,a:0,style:V};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(V))J=0,Q=0,re=0,ce=0;else{var Ee=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(V);if(Ee!==null)J=parseInt(Ee[1]),Q=parseInt(Ee[2]),re=parseInt(Ee[3]),ce=1;else if((Ee=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(V))!==null)J=parseInt(Ee[1]),Q=parseInt(Ee[2]),re=parseInt(Ee[3]),ce=parseFloat(Ee[4]);else{if(ce=1,typeof V=="string"&&V.charAt(0)!=="#"){var ke=new fse(V);V=ke.ok?ke.toHex():"#000000"}V.length===4?(J=V.substring(1,2),J+=J,Q=V.substring(2,3),Q+=Q,re=V.substring(3,4),re+=re):(J=V.substring(1,3),Q=V.substring(3,5),re=V.substring(5,7)),J=parseInt(J,16),Q=parseInt(Q,16),re=parseInt(re,16)}}return{r:J,g:Q,b:re,a:ce,style:V}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},v=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(V,J,Q,re){if(isNaN(J)||isNaN(Q)||typeof V!="string")throw Ma.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(re=isNaN(re)?void 0:re,!p.call(this)){var ce=q(this.ctx.transform.rotation),Ee=this.ctx.transform.scaleX;M.call(this,{text:V,x:J,y:Q,scale:Ee,angle:ce,align:this.textAlign,maxWidth:re})}},h.prototype.strokeText=function(V,J,Q,re){if(isNaN(J)||isNaN(Q)||typeof V!="string")throw Ma.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!v.call(this)){re=isNaN(re)?void 0:re;var ce=q(this.ctx.transform.rotation),Ee=this.ctx.transform.scaleX;M.call(this,{text:V,x:J,y:Q,scale:Ee,renderingMode:"stroke",angle:ce,align:this.textAlign,maxWidth:re})}},h.prototype.measureText=function(V){if(typeof V!="string")throw Ma.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var J=this.pdf,Q=this.pdf.internal.scaleFactor,re=J.internal.getFontSize(),ce=J.getStringUnitWidth(V)*re/J.internal.scaleFactor;return new function(Ee){var ke=(Ee=Ee||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ke}}),this}({width:ce*=Math.round(96*Q/72*1e4)/1e4})},h.prototype.scale=function(V,J){if(isNaN(V)||isNaN(J))throw Ma.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Q=new c(V,0,0,J,0,0);this.ctx.transform=this.ctx.transform.multiply(Q)},h.prototype.rotate=function(V){if(isNaN(V))throw Ma.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var J=new c(Math.cos(V),Math.sin(V),-Math.sin(V),Math.cos(V),0,0);this.ctx.transform=this.ctx.transform.multiply(J)},h.prototype.translate=function(V,J){if(isNaN(V)||isNaN(J))throw Ma.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Q=new c(1,0,0,1,V,J);this.ctx.transform=this.ctx.transform.multiply(Q)},h.prototype.transform=function(V,J,Q,re,ce,Ee){if(isNaN(V)||isNaN(J)||isNaN(Q)||isNaN(re)||isNaN(ce)||isNaN(Ee))throw Ma.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ke=new c(V,J,Q,re,ce,Ee);this.ctx.transform=this.ctx.transform.multiply(ke)},h.prototype.setTransform=function(V,J,Q,re,ce,Ee){V=isNaN(V)?1:V,J=isNaN(J)?0:J,Q=isNaN(Q)?0:Q,re=isNaN(re)?1:re,ce=isNaN(ce)?0:ce,Ee=isNaN(Ee)?0:Ee,this.ctx.transform=new c(V,J,Q,re,ce,Ee)};var w=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(V,J,Q,re,ce,Ee,ke,ge,Ce){var Ke=this.pdf.getImageProperties(V),fe=1,ye=1,ae=1,se=1;re!==void 0&&ge!==void 0&&(ae=ge/re,se=Ce/ce,fe=Ke.width/re*ge/re,ye=Ke.height/ce*Ce/ce),Ee===void 0&&(Ee=J,ke=Q,J=0,Q=0),re!==void 0&&ge===void 0&&(ge=re,Ce=ce),re===void 0&&ge===void 0&&(ge=Ke.width,Ce=Ke.height);for(var bt,pt=this.ctx.transform.decompose(),Re=q(pt.rotate.shx),Me=new c,qe=(Me=(Me=(Me=Me.multiply(pt.translate)).multiply(pt.skew)).multiply(pt.scale)).applyToRectangle(new l(Ee-J*ae,ke-Q*se,re*fe,ce*ye)),tt=y.call(this,qe),Ve=[],Te=0;Te<tt.length;Te+=1)Ve.indexOf(tt[Te])===-1&&Ve.push(tt[Te]);if(S(Ve),this.autoPaging)for(var le=Ve[0],Je=Ve[Ve.length-1],Ge=le;Ge<Je+1;Ge++){this.pdf.setPage(Ge);var ut=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Pe=Ge===1?this.posY+this.margin[0]:this.margin[0],Ne=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ze=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],me=Ge===1?0:Ne+(Ge-2)*ze;if(this.ctx.clip_path.length!==0){var De=this.path;bt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=k(bt,this.posX+this.margin[3],-me+Pe+this.ctx.prevPageLastElemOffset),_.call(this,"fill",!0),this.path=De}var je=JSON.parse(JSON.stringify(qe));je=k([je],this.posX+this.margin[3],-me+Pe+this.ctx.prevPageLastElemOffset)[0];var We=(Ge>le||Ge<Je)&&w.call(this);We&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ut,ze,null).clip().discardPath()),this.pdf.addImage(V,"JPEG",je.x,je.y,je.w,je.h,null,null,Re),We&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(V,"JPEG",qe.x,qe.y,qe.w,qe.h,null,null,Re)};var y=function(V,J,Q){var re=[];J=J||this.pdf.internal.pageSize.width,Q=Q||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ce=this.posY+this.ctx.prevPageLastElemOffset;switch(V.type){default:case"mt":case"lt":re.push(Math.floor((V.y+ce)/Q)+1);break;case"arc":re.push(Math.floor((V.y+ce-V.radius)/Q)+1),re.push(Math.floor((V.y+ce+V.radius)/Q)+1);break;case"qct":var Ee=X(this.ctx.lastPoint.x,this.ctx.lastPoint.y,V.x1,V.y1,V.x,V.y);re.push(Math.floor((Ee.y+ce)/Q)+1),re.push(Math.floor((Ee.y+Ee.h+ce)/Q)+1);break;case"bct":var ke=oe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,V.x1,V.y1,V.x2,V.y2,V.x,V.y);re.push(Math.floor((ke.y+ce)/Q)+1),re.push(Math.floor((ke.y+ke.h+ce)/Q)+1);break;case"rect":re.push(Math.floor((V.y+ce)/Q)+1),re.push(Math.floor((V.y+V.h+ce)/Q)+1)}for(var ge=0;ge<re.length;ge+=1)for(;this.pdf.internal.getNumberOfPages()<re[ge];)N.call(this);return re},N=function(){var V=this.fillStyle,J=this.strokeStyle,Q=this.font,re=this.lineCap,ce=this.lineWidth,Ee=this.lineJoin;this.pdf.addPage(),this.fillStyle=V,this.strokeStyle=J,this.font=Q,this.lineCap=re,this.lineWidth=ce,this.lineJoin=Ee},k=function(V,J,Q){for(var re=0;re<V.length;re++)switch(V[re].type){case"bct":V[re].x2+=J,V[re].y2+=Q;case"qct":V[re].x1+=J,V[re].y1+=Q;default:V[re].x+=J,V[re].y+=Q}return V},S=function(V){return V.sort(function(J,Q){return J-Q})},T=function(V,J){for(var Q,re,ce=this.fillStyle,Ee=this.strokeStyle,ke=this.lineCap,ge=this.lineWidth,Ce=Math.abs(ge*this.ctx.transform.scaleX),Ke=this.lineJoin,fe=JSON.parse(JSON.stringify(this.path)),ye=JSON.parse(JSON.stringify(this.path)),ae=[],se=0;se<ye.length;se++)if(ye[se].x!==void 0)for(var bt=y.call(this,ye[se]),pt=0;pt<bt.length;pt+=1)ae.indexOf(bt[pt])===-1&&ae.push(bt[pt]);for(var Re=0;Re<ae.length;Re++)for(;this.pdf.internal.getNumberOfPages()<ae[Re];)N.call(this);if(S(ae),this.autoPaging)for(var Me=ae[0],qe=ae[ae.length-1],tt=Me;tt<qe+1;tt++){this.pdf.setPage(tt),this.fillStyle=ce,this.strokeStyle=Ee,this.lineCap=ke,this.lineWidth=Ce,this.lineJoin=Ke;var Ve=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Te=tt===1?this.posY+this.margin[0]:this.margin[0],le=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Je=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ge=tt===1?0:le+(tt-2)*Je;if(this.ctx.clip_path.length!==0){var ut=this.path;Q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=k(Q,this.posX+this.margin[3],-Ge+Te+this.ctx.prevPageLastElemOffset),_.call(this,V,!0),this.path=ut}if(re=JSON.parse(JSON.stringify(fe)),this.path=k(re,this.posX+this.margin[3],-Ge+Te+this.ctx.prevPageLastElemOffset),J===!1||tt===0){var Pe=(tt>Me||tt<qe)&&w.call(this);Pe&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ve,Je,null).clip().discardPath()),_.call(this,V,J),Pe&&this.pdf.restoreGraphicsState()}this.lineWidth=ge}else this.lineWidth=Ce,_.call(this,V,J),this.lineWidth=ge;this.path=fe},_=function(V,J){if((V!=="stroke"||J||!v.call(this))&&(V==="stroke"||J||!p.call(this))){for(var Q,re,ce=[],Ee=this.path,ke=0;ke<Ee.length;ke++){var ge=Ee[ke];switch(ge.type){case"begin":ce.push({begin:!0});break;case"close":ce.push({close:!0});break;case"mt":ce.push({start:ge,deltas:[],abs:[]});break;case"lt":var Ce=ce.length;if(Ee[ke-1]&&!isNaN(Ee[ke-1].x)&&(Q=[ge.x-Ee[ke-1].x,ge.y-Ee[ke-1].y],Ce>0)){for(;Ce>=0;Ce--)if(ce[Ce-1].close!==!0&&ce[Ce-1].begin!==!0){ce[Ce-1].deltas.push(Q),ce[Ce-1].abs.push(ge);break}}break;case"bct":Q=[ge.x1-Ee[ke-1].x,ge.y1-Ee[ke-1].y,ge.x2-Ee[ke-1].x,ge.y2-Ee[ke-1].y,ge.x-Ee[ke-1].x,ge.y-Ee[ke-1].y],ce[ce.length-1].deltas.push(Q);break;case"qct":var Ke=Ee[ke-1].x+2/3*(ge.x1-Ee[ke-1].x),fe=Ee[ke-1].y+2/3*(ge.y1-Ee[ke-1].y),ye=ge.x+2/3*(ge.x1-ge.x),ae=ge.y+2/3*(ge.y1-ge.y),se=ge.x,bt=ge.y;Q=[Ke-Ee[ke-1].x,fe-Ee[ke-1].y,ye-Ee[ke-1].x,ae-Ee[ke-1].y,se-Ee[ke-1].x,bt-Ee[ke-1].y],ce[ce.length-1].deltas.push(Q);break;case"arc":ce.push({deltas:[],abs:[],arc:!0}),Array.isArray(ce[ce.length-1].abs)&&ce[ce.length-1].abs.push(ge)}}re=J?null:V==="stroke"?"stroke":"fill";for(var pt=!1,Re=0;Re<ce.length;Re++)if(ce[Re].arc)for(var Me=ce[Re].abs,qe=0;qe<Me.length;qe++){var tt=Me[qe];tt.type==="arc"?L.call(this,tt.x,tt.y,tt.radius,tt.startAngle,tt.endAngle,tt.counterclockwise,void 0,J,!pt):B.call(this,tt.x,tt.y),pt=!0}else if(ce[Re].close===!0)this.pdf.internal.out("h"),pt=!1;else if(ce[Re].begin!==!0){var Ve=ce[Re].start.x,Te=ce[Re].start.y;z.call(this,ce[Re].deltas,Ve,Te),pt=!0}re&&R.call(this,re),J&&F.call(this)}},D=function(V){var J=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Q=J*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return V-Q;case"top":return V+J-Q;case"hanging":return V+J-2*Q;case"middle":return V+J/2-Q;default:return V}},E=function(V){return V+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var V=function(){};return V.colorStops=[],V.addColorStop=function(J,Q){this.colorStops.push([J,Q])},V.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},V.isCanvasGradient=!0,V},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var L=function(V,J,Q,re,ce,Ee,ke,ge,Ce){for(var Ke=W.call(this,Q,re,ce,Ee),fe=0;fe<Ke.length;fe++){var ye=Ke[fe];fe===0&&(Ce?A.call(this,ye.x1+V,ye.y1+J):B.call(this,ye.x1+V,ye.y1+J)),Y.call(this,V,J,ye.x2,ye.y2,ye.x3,ye.y3,ye.x4,ye.y4)}ge?F.call(this):R.call(this,ke)},R=function(V){switch(V){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},F=function(){this.pdf.clip(),this.pdf.discardPath()},A=function(V,J){this.pdf.internal.out(r(V)+" "+n(J)+" m")},M=function(V){var J;switch(V.align){case"right":case"end":J="right";break;case"center":J="center";break;default:J="left"}var Q=this.pdf.getTextDimensions(V.text),re=D.call(this,V.y),ce=E.call(this,re)-Q.h,Ee=this.ctx.transform.applyToPoint(new o(V.x,re)),ke=this.ctx.transform.decompose(),ge=new c;ge=(ge=(ge=ge.multiply(ke.translate)).multiply(ke.skew)).multiply(ke.scale);for(var Ce,Ke,fe,ye=this.ctx.transform.applyToRectangle(new l(V.x,re,Q.w,Q.h)),ae=ge.applyToRectangle(new l(V.x,ce,Q.w,Q.h)),se=y.call(this,ae),bt=[],pt=0;pt<se.length;pt+=1)bt.indexOf(se[pt])===-1&&bt.push(se[pt]);if(S(bt),this.autoPaging)for(var Re=bt[0],Me=bt[bt.length-1],qe=Re;qe<Me+1;qe++){this.pdf.setPage(qe);var tt=qe===1?this.posY+this.margin[0]:this.margin[0],Ve=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Te=this.pdf.internal.pageSize.height-this.margin[2],le=Te-this.margin[0],Je=this.pdf.internal.pageSize.width-this.margin[1],Ge=Je-this.margin[3],ut=qe===1?0:Ve+(qe-2)*le;if(this.ctx.clip_path.length!==0){var Pe=this.path;Ce=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=k(Ce,this.posX+this.margin[3],-1*ut+tt),_.call(this,"fill",!0),this.path=Pe}var Ne=k([JSON.parse(JSON.stringify(ae))],this.posX+this.margin[3],-ut+tt+this.ctx.prevPageLastElemOffset)[0];V.scale>=.01&&(Ke=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ke*V.scale),fe=this.lineWidth,this.lineWidth=fe*V.scale);var ze=this.autoPaging!=="text";if(ze||Ne.y+Ne.h<=Te){if(ze||Ne.y>=tt&&Ne.x<=Je){var me=ze?V.text:this.pdf.splitTextToSize(V.text,V.maxWidth||Je-Ne.x)[0],De=k([JSON.parse(JSON.stringify(ye))],this.posX+this.margin[3],-ut+tt+this.ctx.prevPageLastElemOffset)[0],je=ze&&(qe>Re||qe<Me)&&w.call(this);je&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ge,le,null).clip().discardPath()),this.pdf.text(me,De.x,De.y,{angle:V.angle,align:J,renderingMode:V.renderingMode}),je&&this.pdf.restoreGraphicsState()}}else Ne.y<Te&&(this.ctx.prevPageLastElemOffset+=Te-Ne.y);V.scale>=.01&&(this.pdf.setFontSize(Ke),this.lineWidth=fe)}else V.scale>=.01&&(Ke=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ke*V.scale),fe=this.lineWidth,this.lineWidth=fe*V.scale),this.pdf.text(V.text,Ee.x+this.posX,Ee.y+this.posY,{angle:V.angle,align:J,renderingMode:V.renderingMode,maxWidth:V.maxWidth}),V.scale>=.01&&(this.pdf.setFontSize(Ke),this.lineWidth=fe)},B=function(V,J,Q,re){Q=Q||0,re=re||0,this.pdf.internal.out(r(V+Q)+" "+n(J+re)+" l")},z=function(V,J,Q){return this.pdf.lines(V,J,Q,null,null)},Y=function(V,J,Q,re,ce,Ee,ke,ge){this.pdf.internal.out([e(s(Q+V)),e(i(re+J)),e(s(ce+V)),e(i(Ee+J)),e(s(ke+V)),e(i(ge+J)),"c"].join(" "))},W=function(V,J,Q,re){for(var ce=2*Math.PI,Ee=Math.PI/2;J>Q;)J-=ce;var ke=Math.abs(Q-J);ke<ce&&re&&(ke=ce-ke);for(var ge=[],Ce=re?-1:1,Ke=J;ke>1e-5;){var fe=Ke+Ce*Math.min(ke,Ee);ge.push(H.call(this,V,Ke,fe)),ke-=Math.abs(fe-Ke),Ke=fe}return ge},H=function(V,J,Q){var re=(Q-J)/2,ce=V*Math.cos(re),Ee=V*Math.sin(re),ke=ce,ge=-Ee,Ce=ke*ke+ge*ge,Ke=Ce+ke*ce+ge*Ee,fe=4/3*(Math.sqrt(2*Ce*Ke)-Ke)/(ke*Ee-ge*ce),ye=ke-fe*ge,ae=ge+fe*ke,se=ye,bt=-ae,pt=re+J,Re=Math.cos(pt),Me=Math.sin(pt);return{x1:V*Math.cos(J),y1:V*Math.sin(J),x2:ye*Re-ae*Me,y2:ye*Me+ae*Re,x3:se*Re-bt*Me,y3:se*Me+bt*Re,x4:V*Math.cos(Q),y4:V*Math.sin(Q)}},q=function(V){return 180*V/Math.PI},X=function(V,J,Q,re,ce,Ee){var ke=V+.5*(Q-V),ge=J+.5*(re-J),Ce=ce+.5*(Q-ce),Ke=Ee+.5*(re-Ee),fe=Math.min(V,ce,ke,Ce),ye=Math.max(V,ce,ke,Ce),ae=Math.min(J,Ee,ge,Ke),se=Math.max(J,Ee,ge,Ke);return new l(fe,ae,ye-fe,se-ae)},oe=function(V,J,Q,re,ce,Ee,ke,ge){var Ce,Ke,fe,ye,ae,se,bt,pt,Re,Me,qe,tt,Ve,Te,le=Q-V,Je=re-J,Ge=ce-Q,ut=Ee-re,Pe=ke-ce,Ne=ge-Ee;for(Ke=0;Ke<41;Ke++)Re=(bt=(fe=V+(Ce=Ke/40)*le)+Ce*((ae=Q+Ce*Ge)-fe))+Ce*(ae+Ce*(ce+Ce*Pe-ae)-bt),Me=(pt=(ye=J+Ce*Je)+Ce*((se=re+Ce*ut)-ye))+Ce*(se+Ce*(Ee+Ce*Ne-se)-pt),Ke==0?(qe=Re,tt=Me,Ve=Re,Te=Me):(qe=Math.min(qe,Re),tt=Math.min(tt,Me),Ve=Math.max(Ve,Re),Te=Math.max(Te,Me));return new l(Math.round(qe),Math.round(tt),Math.round(Ve-qe),Math.round(Te-tt))},K=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var V,J,Q=(V=this.ctx.lineDash,J=this.ctx.lineDashOffset,JSON.stringify({lineDash:V,lineDashOffset:J}));this.prevLineDash!==Q&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Q)}}})(Tr.API),(function(t){var e=function(o){var l,c,u,f,h,g,p,v,w,y;for(c=[],u=0,f=(o+=l="\0\0\0\0".slice(o.length%4||4)).length;f>u;u+=4)(h=(o.charCodeAt(u)<<24)+(o.charCodeAt(u+1)<<16)+(o.charCodeAt(u+2)<<8)+o.charCodeAt(u+3))!==0?(g=(h=((h=((h=((h=(h-(y=h%85))/85)-(w=h%85))/85)-(v=h%85))/85)-(p=h%85))/85)%85,c.push(g+33,p+33,v+33,w+33,y+33)):c.push(122);return(function(N,k){for(var S=k;S>0;S--)N.pop()})(c,l.length),String.fromCharCode.apply(String,c)+"~>"},r=function(o){var l,c,u,f,h,g=String,p="length",v=255,w="charCodeAt",y="slice",N="replace";for(o[y](-2),o=o[y](0,-2)[N](/\s/g,"")[N]("z","!!!!!"),u=[],f=0,h=(o+=l="uuuuu"[y](o[p]%5||5))[p];h>f;f+=5)c=52200625*(o[w](f)-33)+614125*(o[w](f+1)-33)+7225*(o[w](f+2)-33)+85*(o[w](f+3)-33)+(o[w](f+4)-33),u.push(v&c>>24,v&c>>16,v&c>>8,v&c);return(function(k,S){for(var T=S;T>0;T--)k.pop()})(u,l[p]),g.fromCharCode.apply(g,u)},n=function(o){return o.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">"},s=function(o){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),l.test(o)===!1)return"";for(var c="",u=0;u<o.length;u+=2)c+=String.fromCharCode("0x"+(o[u]+o[u+1]));return c},i=function(o){for(var l=new Uint8Array(o.length),c=o.length;c--;)l[c]=o.charCodeAt(c);return(l=SO(l)).reduce(function(u,f){return u+String.fromCharCode(f)},"")};t.processDataByFilters=function(o,l){var c=0,u=o||"",f=[];for(typeof(l=l||[])=="string"&&(l=[l]),c=0;c<l.length;c+=1)switch(l[c]){case"ASCII85Decode":case"/ASCII85Decode":u=r(u),f.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=e(u),f.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=s(u),f.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=n(u),f.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=i(u),f.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[c]+'" is not implemented')}return{data:u,reverseChain:f.reverse().join(" ")}}})(Tr.API),(function(t){t.loadFile=function(e,r,n){return(function(s,i,o){i=i!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=(function(c,u,f){var h=new XMLHttpRequest,g=0,p=function(v){var w=v.length,y=[],N=String.fromCharCode;for(g=0;g<w;g+=1)y.push(N(255&v.charCodeAt(g)));return y.join("")};if(h.open("GET",c,!u),h.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(h.onload=function(){h.status===200?f(p(this.responseText)):f(void 0)}),h.send(null),u&&h.status===200)return p(h.responseText)})(s,i,o)}catch{}return l})(e,r,n)},t.loadImageFile=t.loadFile})(Tr.API),(function(t){function e(){return(Zr.html2canvas?Promise.resolve(Zr.html2canvas):DT(()=>import("./html2canvas.esm-QH1iLAAe.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function r(){return(Zr.DOMPurify?Promise.resolve(Zr.DOMPurify):DT(()=>Promise.resolve().then(()=>Hve),void 0)).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var n=function(l){var c=zn(l);return c==="undefined"?"undefined":c==="string"||l instanceof String?"string":c==="number"||l instanceof Number?"number":c==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":c==="object"?"object":"unknown"},s=function(l,c){var u=document.createElement(l);for(var f in c.className&&(u.className=c.className),c.innerHTML&&c.dompurify&&(u.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)u.style[f]=c.style[f];return u},i=function l(c,u){for(var f=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),h=c.firstChild;h;h=h.nextSibling)u!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||f.appendChild(l(h,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(f.width=c.width,f.height=c.height,f.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(f.value=c.value),f.addEventListener("load",function(){f.scrollTop=c.scrollTop,f.scrollLeft=c.scrollLeft},!0)),f},o=function l(c){var u=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),f=l.convert(Promise.resolve(),u);return(f=f.setProgress(1,l,1,[l])).set(c)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(l,c){return l.__proto__=c||o.prototype,l},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(l,c){return this.then(function(){switch(c=c||(function(u){switch(n(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(l),c){case"string":return this.then(r).then(function(u){return this.set({src:s("div",{innerHTML:l,dompurify:u})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},o.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=i(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(c){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,c(this.prop.container,u)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(c){var u=this.opt.jsPDF,f=this.opt.fontFaces,h=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,g=Object.assign({async:!0,allowTaint:!0,scale:h,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete g.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=f,f)for(var p=0;p<f.length;++p){var v=f[p],w=v.src.find(function(y){return y.format==="truetype"});w&&u.addFont(w.url,v.ref.name,v.ref.style)}return g.windowHeight=g.windowHeight||0,g.windowHeight=g.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):g.windowHeight,u.context2d.save(!0),c(this.prop.container,g)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(l,c,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(l,c):this.outputPdf(l,c)},o.prototype.outputPdf=function(l,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,c)})},o.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},o.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(l){if(n(l)!=="object")return this;var c=Object.keys(l||{}).map(function(u){if(u in o.template.prop)return function(){this.prop[u]=l[u]};switch(u){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[u]=l[u]}}},this);return this.then(function(){return this.thenList(c)})},o.prototype.get=function(l,c){return this.then(function(){var u=l in o.template.prop?this.prop[l]:this.opt[l];return c?c(u):u})},o.prototype.setMargin=function(l){return this.then(function(){switch(n(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},o.prototype.setPageSize=function(l){function c(u,f){return Math.floor(u*f/72*96)}return this.then(function(){(l=l||Tr.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:c(l.inner.width,l.k),height:c(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},o.prototype.setProgress=function(l,c,u,f){return l!=null&&(this.progress.val=l),c!=null&&(this.progress.state=c),u!=null&&(this.progress.n=u),f!=null&&(this.progress.stack=f),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(l,c,u,f){return this.setProgress(l?this.progress.val+l:null,c||null,u?this.progress.n+u:null,f?this.progress.stack.concat(f):null)},o.prototype.then=function(l,c){var u=this;return this.thenCore(l,c,function(f,h){return u.updateProgress(null,null,1,[f]),Promise.prototype.then.call(this,function(g){return u.updateProgress(null,f),g}).then(f,h).then(function(g){return u.updateProgress(1),g})})},o.prototype.thenCore=function(l,c,u){u=u||Promise.prototype.then;var f=this;l&&(l=l.bind(f)),c&&(c=c.bind(f));var h=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?f:o.convert(Object.assign({},f),Promise.prototype),g=u.call(h,l,c);return o.convert(g,f.__proto__)},o.prototype.thenExternal=function(l,c){return Promise.prototype.then.call(this,l,c)},o.prototype.thenList=function(l){var c=this;return l.forEach(function(u){c=c.thenCore(u)}),c},o.prototype.catch=function(l){l&&(l=l.bind(this));var c=Promise.prototype.catch.call(this,l);return o.convert(c,this)},o.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},o.prototype.error=function(l){return this.then(function(){throw new Error(l)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,Tr.getPageSize=function(l,c,u){if(zn(l)==="object"){var f=l;l=f.orientation,c=f.unit||c,u=f.format||u}c=c||"mm",u=u||"a4",l=(""+(l||"P")).toLowerCase();var h,g=(""+u).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":h=1;break;case"mm":h=72/25.4;break;case"cm":h=72/2.54;break;case"in":h=72;break;case"px":h=.75;break;case"pc":case"em":h=12;break;case"ex":h=6;break;default:throw"Invalid unit: "+c}var v,w=0,y=0;if(p.hasOwnProperty(g))w=p[g][1]/h,y=p[g][0]/h;else try{w=u[1],y=u[0]}catch{throw new Error("Invalid format: "+u)}if(l==="p"||l==="portrait")l="p",y>w&&(v=y,y=w,w=v);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",w>y&&(v=y,y=w,w=v)}return{width:y,height:w,unit:c,k:h,orientation:l}},t.html=function(l,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(XT):null;var u=new o(c);return c.worker?u:u.from(l).doCallback()}})(Tr.API),Tr.API.addJS=function(t){return VG=t,this.internal.events.subscribe("postPutResources",function(){w2=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(w2+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),WG=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+VG+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){w2!==void 0&&WG!==void 0&&this.internal.out("/Names <</JavaScript "+w2+" 0 R>>")}),this},(function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=r.outline.render().split(/\r\n/),i=0;i<s.length;i++){var o=s[i],l=n.exec(o);if(l!=null){var c=l[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,f=[];for(i=0;i<u;i++){var h=r.internal.newObject();f.push(h);var g=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+g.objId+" 0 R /XYZ null null null]>> endobj")}var p=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<f.length;i++)r.internal.write("(page_"+(i+1)+")"+f[i]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+p+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,s,i){var o={title:s,options:i,children:[]};return n==null&&(n=this.root),n.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var s=0;s<n.children.length;s++)this.genIds_r(n.children[s])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var o=n.children[i];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var c=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,s){for(var i=0;i<s.children.length;i++)n.count++,this.count_r(n,s.children[i]);return n.count}}])})(Tr.API),(function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,s,i,o,l){var c,u=this.decode.DCT_DECODE,f=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,c=(function(h){for(var g,p=256*h.charCodeAt(4)+h.charCodeAt(5),v=h.length,w={width:0,height:0,numcomponents:1},y=4;y<v;y+=2){if(y+=p,e.indexOf(h.charCodeAt(y+1))!==-1){g=256*h.charCodeAt(y+5)+h.charCodeAt(y+6),w={width:256*h.charCodeAt(y+7)+h.charCodeAt(y+8),height:g,numcomponents:h.charCodeAt(y+9)};break}p=256*h.charCodeAt(y+2)+h.charCodeAt(y+3)}return w})(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),c.numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}f={data:r,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:u,index:n,alias:s}}return f}})(Tr.API),Tr.API.processPNG=function(t,e,r,n){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var s,i=fUe(t,{checkCrc:!0}),o=i.width,l=i.height,c=i.channels,u=i.palette,f=i.depth;s=u&&c===1?(function(L){for(var R=L.width,F=L.height,A=L.data,M=L.palette,B=L.depth,z=!1,Y=[],W=[],H=void 0,q=!1,X=0,oe=0;oe<M.length;oe++){var K=lu(M[oe],4),V=K[0],J=K[1],Q=K[2],re=K[3];Y.push(V,J,Q),re!=null&&(re===0?(X++,W.length<1&&W.push(oe)):re<255&&(q=!0))}if(q||X>1){z=!0,W=void 0;var ce=R*F;H=new Uint8Array(ce);for(var Ee=new DataView(A.buffer),ke=0;ke<ce;ke++){var ge=ZT(Ee,ke,B),Ce=lu(M[ge],4)[3];H[ke]=Ce}}else X===0&&(W=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:z?8:void 0,colorBytes:A,alphaBytes:H,needSMask:z,palette:Y,mask:W}})(i):c===2||c===4?(function(L){for(var R=L.data,F=L.width,A=L.height,M=L.channels,B=L.depth,z=M===2?"DeviceGray":"DeviceRGB",Y=M-1,W=F*A,H=Y,q=W*H,X=1*W,oe=Math.ceil(q*B/8),K=Math.ceil(X*B/8),V=new Uint8Array(oe),J=new Uint8Array(K),Q=new DataView(R.buffer),re=new DataView(V.buffer),ce=new DataView(J.buffer),Ee=!1,ke=0;ke<W;ke++){for(var ge=ke*M,Ce=0;Ce<H;Ce++)tY(re,ZT(Q,ge+Ce,B),ke*H+Ce,B);var Ke=ZT(Q,ge+H,B);Ke<(1<<B)-1&&(Ee=!0),tY(ce,Ke,1*ke,B)}return{colorSpace:z,colorsPerPixel:Y,sMaskBitsPerComponent:Ee?B:void 0,colorBytes:V,alphaBytes:J,needSMask:Ee}})(i):(function(L){var R=L.data,F=L.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:F,colorsPerPixel:F==="DeviceGray"?1:3,colorBytes:R instanceof Uint16Array?(function(A){for(var M=A.length,B=new Uint8Array(2*M),z=new DataView(B.buffer,B.byteOffset,B.byteLength),Y=0;Y<M;Y++)z.setUint16(2*Y,A[Y],!1);return B})(R):R,needSMask:!1}})(i);var h,g,p,v=s,w=v.colorSpace,y=v.colorsPerPixel,N=v.sMaskBitsPerComponent,k=v.colorBytes,S=v.alphaBytes,T=v.needSMask,_=v.palette,D=v.mask,E=null;return n!==Tr.API.image_compression.NONE&&typeof SO=="function"?(E=(function(L){var R;switch(L){case Tr.API.image_compression.FAST:R=11;break;case Tr.API.image_compression.MEDIUM:R=13;break;case Tr.API.image_compression.SLOW:R=14;break;default:R=12}return R})(n),h=this.decode.FLATE_DECODE,g="/Predictor ".concat(E," /Colors ").concat(y," /BitsPerComponent ").concat(f," /Columns ").concat(o),t=JG(k,Math.ceil(o*y*f/8),y,f,n),T&&(p=JG(S,Math.ceil(o*N/8),1,N,n))):(h=void 0,g=void 0,t=k,T&&(p=S)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(p&&this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),{alias:r,data:t,index:e,filter:h,decodeParameters:g,transparency:D,palette:_,sMask:p,predictor:E,width:o,height:l,bitsPerComponent:f,sMaskBitsPerComponent:N,colorSpace:w}}},(function(t){t.processGIF89A=function(e,r,n,s){var i=new DUe(e),o=i.width,l=i.height,c=[];i.decodeAndBlitFrameRGBA(0,c);var u={data:c,width:o,height:l},f=new e6(100).encode(u,100);return t.processJPEG.call(this,f,r,n,s)},t.processGIF87A=t.processGIF89A})(Tr.API),Kc.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:s,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Kc.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){Ma.log("bit decode error:"+r)}},Kc.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,s=0;s<e;s++)for(var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*s*4,l=0;l<8&&8*s+l<this.width;l++){var c=this.palette[i>>7-l&1];this.data[o+4*l]=c.blue,this.data[o+4*l+1]=c.green,this.data[o+4*l+2]=c.red,this.data[o+4*l+3]=255}r!==0&&(this.pos+=4-r)}},Kc.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<t;s++){var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*s*4,l=i>>4,c=15&i,u=this.palette[l];if(this.data[o]=u.blue,this.data[o+1]=u.green,this.data[o+2]=u.red,this.data[o+3]=255,2*s+1>=this.width)break;u=this.palette[c],this.data[o+4]=u.blue,this.data[o+4+1]=u.green,this.data[o+4+2]=u.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},Kc.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var s=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(s<this.palette.length){var o=this.palette[s];this.data[i]=o.red,this.data[i+1]=o.green,this.data[i+2]=o.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}t!==0&&(this.pos+=4-t)}},Kc.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&e)/e*255|0,l=(i>>5&e)/e*255|0,c=(i>>10&e)/e*255|0,u=i>>15?255:0,f=n*this.width*4+4*s;this.data[f]=c,this.data[f+1]=l,this.data[f+2]=o,this.data[f+3]=u}this.pos+=t}},Kc.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var s=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&e)/e*255|0,c=(o>>5&r)/r*255|0,u=(o>>11)/e*255|0,f=s*this.width*4+4*i;this.data[f]=u,this.data[f+1]=c,this.data[f+2]=l,this.data[f+3]=255}this.pos+=t}},Kc.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*r;this.data[o]=i,this.data[o+1]=s,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},Kc.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*r;this.data[l]=i,this.data[l+1]=s,this.data[l+2]=n,this.data[l+3]=o}},Kc.prototype.getData=function(){return this.data},(function(t){t.processBMP=function(e,r,n,s){var i=new Kc(e,!1),o=i.width,l=i.height,c={data:i.getData(),width:o,height:l},u=new e6(100).encode(c,100);return t.processJPEG.call(this,u,r,n,s)}})(Tr.API),nY.prototype.getData=function(){return this.data},(function(t){t.processWEBP=function(e,r,n,s){var i=new nY(e),o=i.width,l=i.height,c={data:i.getData(),width:o,height:l},u=new e6(100).encode(c,100);return t.processJPEG.call(this,u,r,n,s)}})(Tr.API),Tr.API.processRGBA=function(t,e,r){for(var n=t.data,s=n.length,i=new Uint8Array(s/4*3),o=new Uint8Array(s/4),l=0,c=0,u=0;u<s;u+=4){var f=n[u],h=n[u+1],g=n[u+2],p=n[u+3];i[l++]=f,i[l++]=h,i[l++]=g,o[c++]=p}var v=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:v,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},Tr.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},ng=Tr.API,j2=ng.getCharWidthsArray=function(t,e){var r,n,s=(e=e||{}).font||this.internal.getFont(),i=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),l=e.widths?e.widths:s.metadata.Unicode.widths,c=l.fof?l.fof:1,u=e.kerning?e.kerning:s.metadata.Unicode.kerning,f=u.fof?u.fof:1,h=e.doKerning!==!1,g=0,p=t.length,v=0,w=l[0]||c,y=[];for(r=0;r<p;r++)n=t.charCodeAt(r),typeof s.metadata.widthOfString=="function"?y.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(n))+o*(1e3/i)||0)/1e3):(g=h&&zn(u[n])==="object"&&!isNaN(parseInt(u[n][v],10))?u[n][v]/f:0,y.push((l[n]||w)/c+g)),v=n;return y},GG=ng.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),s=e.charSpace||this.internal.getCharSpace();return ng.processArabic&&(t=ng.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,s)/r:j2.apply(this,arguments).reduce(function(i,o){return i+o},0)},YG=function(t,e,r,n){for(var s=[],i=0,o=t.length,l=0;i!==o&&l+e[i]<r;)l+=e[i],i++;s.push(t.slice(0,i));var c=i;for(l=0;i!==o;)l+e[i]>n&&(s.push(t.slice(c,i)),l=0,c=i),l+=e[i],i++;return c!==i&&s.push(t.slice(c,i)),s},KG=function(t,e,r){r||(r={});var n,s,i,o,l,c,u,f=[],h=[f],g=r.textIndent||0,p=0,v=0,w=t.split(" "),y=j2.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?w[0].length+2:r.lineIndent||0){var N=Array(c).join(" "),k=[];w.map(function(T){(T=T.split(/\s*\n/)).length>1?k=k.concat(T.map(function(_,D){return(D&&_.length?`
`:"")+_})):k.push(T[0])}),w=k,c=GG.apply(this,[N,r])}for(i=0,o=w.length;i<o;i++){var S=0;if(n=w[i],c&&n[0]==`
`&&(n=n.substr(1),S=1),g+p+(v=(s=j2.apply(this,[n,r])).reduce(function(T,_){return T+_},0))>e||S){if(v>e){for(l=YG.apply(this,[n,s,e-(g+p),e]),f.push(l.shift()),f=[l.pop()];l.length;)h.push([l.shift()]);v=s.slice(n.length-(f[0]?f[0].length:0)).reduce(function(T,_){return T+_},0)}else f=[n];h.push(f),g=v+c,p=y}else f.push(n),g+=p+v,p=y}return u=c?function(T,_){return(_?N:"")+T.join(" ")}:function(T){return T.join(" ")},h.map(u)},ng.splitTextToSize=function(t,e,r){var n,s=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(f){if(f.widths&&f.kerning)return{widths:f.widths,kerning:f.kerning};var h=this.internal.getFont(f.fontName,f.fontStyle),g="Unicode";return h.metadata[g]?{widths:h.metadata[g].widths||{0:1},kerning:h.metadata[g].kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/s;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/s:0,i.lineIndent=r.lineIndent;var l,c,u=[];for(l=0,c=n.length;l<c;l++)u=u.concat(KG.apply(this,[n[l],o,i]));return u},(function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",r="klmnopqrstuvwxyz",n={},s={},i=0;i<16;i++)n[r[i]]=e[i],s[e[i]]=r[i];var o=function(g){return"0x"+parseInt(g,10).toString(16)},l=t.__fontmetrics__.compress=function(g){var p,v,w,y,N=["{"];for(var k in g){if(p=g[k],isNaN(parseInt(k,10))?v="'"+k+"'":(k=parseInt(k,10),v=(v=o(k).slice(2)).slice(0,-1)+s[v.slice(-1)]),typeof p=="number")p<0?(w=o(p).slice(3),y="-"):(w=o(p).slice(2),y=""),w=y+w.slice(0,-1)+s[w.slice(-1)];else{if(zn(p)!=="object")throw new Error("Don't know what to do with value type "+zn(p)+".");w=l(p)}N.push(v+w)}return N.push("}"),N.join("")},c=t.__fontmetrics__.uncompress=function(g){if(typeof g!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,v,w,y,N={},k=1,S=N,T=[],_="",D="",E=g.length-1,L=1;L<E;L+=1)(y=g[L])=="'"?p?(w=p.join(""),p=void 0):p=[]:p?p.push(y):y=="{"?(T.push([S,w]),S={},w=void 0):y=="}"?((v=T.pop())[0][v[1]]=S,w=void 0,S=v[0]):y=="-"?k=-1:w===void 0?n.hasOwnProperty(y)?(_+=n[y],w=parseInt(_,16)*k,k=1,_=""):_+=y:n.hasOwnProperty(y)?(D+=n[y],S[w]=parseInt(D,16)*k,k=1,w=void 0,D=""):D+=y;return N},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},f={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},h={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(g){var p=g.font,v=h.Unicode[p.postScriptName];v&&(p.metadata.Unicode={},p.metadata.Unicode.widths=v.widths,p.metadata.Unicode.kerning=v.kerning);var w=f.Unicode[p.postScriptName];w&&(p.metadata.Unicode.encoding=w,p.encoding=w.codePages[0])}])})(Tr.API),(function(t){var e=function(r){for(var n=r.length,s=new Uint8Array(n),i=0;i<n;i++)s[i]=r.charCodeAt(i);return s};t.API.events.push(["addFont",function(r){var n=void 0,s=r.font,i=r.instance;if(!s.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(n=i.existsFileInVFS(s.postScriptName)===!1?i.loadFile(s.postScriptName):i.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?e(l):e(X2(l)),o.metadata=t.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(s,n)}}])})(Tr),Tr.API.addSvgAsImage=function(t,e,r,n,s,i,o,l){if(isNaN(e)||isNaN(r))throw Ma.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(s))throw Ma.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=n,c.height=s;var u=c.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,c.width,c.height);var f={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return(Zr.canvg?Promise.resolve(Zr.canvg):DT(()=>import("./index.es-BdI6BDZI.js"),__vite__mapDeps([0,1]))).catch(function(g){return Promise.reject(new Error("Could not load canvg: "+g))}).then(function(g){return g.default?g.default:g}).then(function(g){return g.fromString(u,t,f)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(g){return g.render(f)}).then(function(){h.addImage(c.toDataURL("image/jpeg",1),e,r,n,s,o,l)})},Tr.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var s=0;s<this.internal.pages[n].length;s++)this.internal.pages[n][s]=this.internal.pages[n][s].replace(e,r);return this},Tr.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,s,i,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),c=[],u=0,f=0,h=0;function g(v,w){var y,N=!1;for(y=0;y<v.length;y+=1)v[y]===w&&(N=!0);return N}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var p=l.length;for(h=0;h<p;h+=1)r[l[h]].value=r[l[h]].defaultValue,r[l[h]].explicitSet=!1}if(zn(t)==="object"){for(s in t)if(i=t[s],g(l,s)&&i!==void 0){if(r[s].type==="boolean"&&typeof i=="boolean")r[s].value=i;else if(r[s].type==="name"&&g(r[s].valueSet,i))r[s].value=i;else if(r[s].type==="integer"&&Number.isInteger(i))r[s].value=i;else if(r[s].type==="array"){for(u=0;u<i.length;u+=1)if(n=!0,i[u].length===1&&typeof i[u][0]=="number")c.push(String(i[u]-1));else if(i[u].length>1){for(f=0;f<i[u].length;f+=1)typeof i[u][f]!="number"&&(n=!1);n===!0&&c.push([i[u][0]-1,i[u][1]-1].join(" "))}r[s].value="["+c.join(" ")+"]"}else r[s].value=r[s].defaultValue;r[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var v,w=[];for(v in r)r[v].explicitSet===!0&&(r[v].type==="name"?w.push("/"+v+" /"+r[v].value):w.push("/"+v+" "+r[v].value));w.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+w.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},(function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),u=i.length+o.length+l.length+s.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(s+i+o+l+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}})(Tr.API),(function(t){var e=t.API,r=e.pdfEscape16=function(i,o){for(var l,c=o.metadata.Unicode.widths,u=["","0","00","000","0000"],f=[""],h=0,g=i.length;h<g;++h){if(l=o.metadata.characterToGlyph(i.charCodeAt(h)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=i.charCodeAt(h),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return f.join("");l=l.toString(16),f.push(u[4-l.length],l)}return f.join("")},n=function(i){var o,l,c,u,f,h,g;for(f=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],h=0,g=(l=Object.keys(i).sort(function(p,v){return p-v})).length;h<g;h++)o=l[h],c.length>=100&&(f+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),i[o]!==void 0&&i[o]!==null&&typeof i[o].toString=="function"&&(u=("0000"+i[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+u+">"));return c.length&&(f+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),f+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(i){(function(o){var l=o.font,c=o.out,u=o.newObject,f=o.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="Identity-H"){for(var h=l.metadata.Unicode.widths,g=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),p="",v=0;v<g.length;v++)p+=String.fromCharCode(g[v]);var w=u();f({data:p,addLength1:!0,objectId:w}),c("endobj");var y=u();f({data:n(l.metadata.toUnicode),addLength1:!0,objectId:y}),c("endobj");var N=u();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+dg(l.fontName)),c("/FontFile2 "+w+" 0 R"),c("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var k=u();c("<<"),c("/Type /Font"),c("/BaseFont /"+dg(l.fontName)),c("/FontDescriptor "+N+" 0 R"),c("/W "+t.API.PDFObject.convert(h)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=u(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+y+" 0 R"),c("/BaseFont /"+dg(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+k+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]),e.events.push(["putFont",function(i){(function(o){var l=o.font,c=o.out,u=o.newObject,f=o.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var h=l.metadata.rawData,g="",p=0;p<h.length;p++)g+=String.fromCharCode(h[p]);var v=u();f({data:g,addLength1:!0,objectId:v}),c("endobj");var w=u();f({data:n(l.metadata.toUnicode),addLength1:!0,objectId:w}),c("endobj");var y=u();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+v+" 0 R"),c("/Flags 96"),c("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+dg(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=u();for(var N=0;N<l.metadata.hmtx.widths.length;N++)l.metadata.hmtx.widths[N]=parseInt(l.metadata.hmtx.widths[N]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+w+" 0 R/BaseFont/"+dg(l.fontName)+"/FontDescriptor "+y+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]);var s=function(i){var o,l=i.text||"",c=i.x,u=i.y,f=i.options||{},h=i.mutex||{},g=h.pdfEscape,p=h.activeFontKey,v=h.fonts,w=p,y="",N=0,k="",S=v[w].encoding;if(v[w].encoding!=="Identity-H")return{text:l,x:c,y:u,options:f,mutex:h};for(k=l,w=p,Array.isArray(l)&&(k=l[0]),N=0;N<k.length;N+=1)v[w].metadata.hasOwnProperty("cmap")&&(o=v[w].metadata.cmap.unicode.codeMap[k[N].charCodeAt(0)]),o||k[N].charCodeAt(0)<256&&v[w].metadata.hasOwnProperty("Unicode")?y+=k[N]:y+="";var T="";return parseInt(w.slice(1))<14||S==="WinAnsiEncoding"?T=g(y,w).split("").map(function(_){return _.charCodeAt(0).toString(16)}).join(""):S==="Identity-H"&&(T=r(y,v[w])),h.isHex=!0,{text:T,x:c,y:u,options:f,mutex:h}};e.events.push(["postProcessText",function(i){var o=i.text||"",l=[],c={text:o,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(o)){var u=0;for(u=0;u<o.length;u+=1)Array.isArray(o[u])&&o[u].length===3?l.push([s(Object.assign({},c,{text:o[u][0]})).text,o[u][1],o[u][2]]):l.push(s(Object.assign({},c,{text:o[u]})).text);i.text=l}else i.text=s(Object.assign({},c,{text:o})).text}])})(Tr),(function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}})(Tr.API),(function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var s,i,o,l,c,u,f,h=e,g=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],v={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},w={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},y=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],N=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),k=!1,S=0;this.__bidiEngine__={};var T=function(A){var M=A.charCodeAt(),B=M>>8,z=w[B];return z!==void 0?h[256*z+(255&M)]:B===252||B===253?"AL":N.test(B)?"L":B===8?"R":"N"},_=function(A){for(var M,B=0;B<A.length;B++){if((M=T(A.charAt(B)))==="L")return!1;if(M==="R")return!0}return!1},D=function(A,M,B,z){var Y,W,H,q,X=M[z];switch(X){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":k=!1;break;case"N":case"AN":break;case"EN":k&&(X="AN");break;case"AL":k=!0,X="R";break;case"WS":case"BN":X="N";break;case"CS":z<1||z+1>=M.length||(Y=B[z-1])!=="EN"&&Y!=="AN"||(W=M[z+1])!=="EN"&&W!=="AN"?X="N":k&&(W="AN"),X=W===Y?W:"N";break;case"ES":X=(Y=z>0?B[z-1]:"B")==="EN"&&z+1<M.length&&M[z+1]==="EN"?"EN":"N";break;case"ET":if(z>0&&B[z-1]==="EN"){X="EN";break}if(k){X="N";break}for(H=z+1,q=M.length;H<q&&M[H]==="ET";)H++;X=H<q&&M[H]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(q=M.length,H=z+1;H<q&&M[H]==="NSM";)H++;if(H<q){var oe=A[z],K=oe>=1425&&oe<=2303||oe===64286;if(Y=M[H],K&&(Y==="R"||Y==="AL")){X="R";break}}}X=z<1||(Y=M[z-1])==="B"?"N":B[z-1];break;case"B":k=!1,s=!0,X=S;break;case"S":i=!0,X="N"}return X},E=function(A,M,B){var z=A.split("");return B&&L(z,B,{hiLevel:S}),z.reverse(),M&&M.reverse(),z.join("")},L=function(A,M,B){var z,Y,W,H,q,X=-1,oe=A.length,K=0,V=[],J=S?p:g,Q=[];for(k=!1,s=!1,i=!1,Y=0;Y<oe;Y++)Q[Y]=T(A[Y]);for(W=0;W<oe;W++){if(q=K,V[W]=D(A,Q,V,W),z=240&(K=J[q][v[V[W]]]),K&=15,M[W]=H=J[K][5],z>0)if(z===16){for(Y=X;Y<W;Y++)M[Y]=1;X=-1}else X=-1;if(J[K][6])X===-1&&(X=W);else if(X>-1){for(Y=X;Y<W;Y++)M[Y]=H;X=-1}Q[W]==="B"&&(M[W]=0),B.hiLevel|=H}i&&(function(re,ce,Ee){for(var ke=0;ke<Ee;ke++)if(re[ke]==="S"){ce[ke]=S;for(var ge=ke-1;ge>=0&&re[ge]==="WS";ge--)ce[ge]=S}})(Q,M,oe)},R=function(A,M,B,z,Y){if(!(Y.hiLevel<A)){if(A===1&&S===1&&!s)return M.reverse(),void(B&&B.reverse());for(var W,H,q,X,oe=M.length,K=0;K<oe;){if(z[K]>=A){for(q=K+1;q<oe&&z[q]>=A;)q++;for(X=K,H=q-1;X<H;X++,H--)W=M[X],M[X]=M[H],M[H]=W,B&&(W=B[X],B[X]=B[H],B[H]=W);K=q}K++}}},F=function(A,M,B){var z=A.split(""),Y={hiLevel:S};return B||(B=[]),L(z,B,Y),(function(W,H,q){if(q.hiLevel!==0&&f)for(var X,oe=0;oe<W.length;oe++)H[oe]===1&&(X=y.indexOf(W[oe]))>=0&&(W[oe]=y[X+1])})(z,B,Y),R(2,z,M,B,Y),R(1,z,M,B,Y),z.join("")};return this.__bidiEngine__.doBidiReorder=function(A,M,B){if((function(Y,W){if(W)for(var H=0;H<Y.length;H++)W[H]=H;l===void 0&&(l=_(Y)),u===void 0&&(u=_(Y))})(A,M),o||!c||u)if(o&&c&&l^u)S=l?1:0,A=E(A,M,B);else if(!o&&c&&u)S=l?1:0,A=F(A,M,B),A=E(A,M);else if(!o||l||c||u){if(o&&!c&&l^u)A=E(A,M),l?(S=0,A=F(A,M,B)):(S=1,A=F(A,M,B),A=E(A,M));else if(o&&l&&!c&&u)S=1,A=F(A,M,B),A=E(A,M);else if(!o&&!c&&l^u){var z=f;l?(S=1,A=F(A,M,B),S=0,f=!1,A=F(A,M,B),f=z):(S=0,A=F(A,M,B),A=E(A,M),S=1,f=!1,A=F(A,M,B),f=z,A=E(A,M))}}else S=0,A=F(A,M,B);else S=l?1:0,A=F(A,M,B);return A},this.__bidiEngine__.setOptions=function(A){A&&(o=A.isInputVisual,c=A.isOutputVisual,l=A.isInputRtl,u=A.isOutputRtl,f=A.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var s=n.text;n.x,n.y;var i=n.options||{};n.mutex,i.lang;var o=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(s)==="[object Array]"){var l=0;for(o=[],l=0;l<s.length;l+=1)Object.prototype.toString.call(s[l])==="[object Array]"?o.push([r.doBidiReorder(s[l][0]),s[l][1],s[l][2]]):o.push([r.doBidiReorder(s[l])]);n.text=o}else n.text=r.doBidiReorder(s);r.setOptions({isInputVisual:!0})}])})(Tr),Tr.API.TTFFont=(function(){function t(e){var r;if(this.rawData=e,r=this.contents=new gm(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new YUe(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new PUe(this.contents),this.head=new RUe(this),this.name=new HUe(this),this.cmap=new Nse(this),this.toUnicode={},this.hhea=new IUe(this),this.maxp=new zUe(this),this.hmtx=new qUe(this),this.post=new BUe(this),this.os2=new FUe(this),this.loca=new GUe(this),this.glyf=new UUe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,s,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,l,c,u;for(u=[],o=0,l=(c=this.bbox).length;o<l;o++)e=c[o],u.push(Math.round(e*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(s=this.post.italic_angle),32768&(r=s>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var s,i,o,l;for(o=0,i=0,l=(e=""+e).length;0<=l?i<l:i>l;i=0<=l?++i:--i)s=e.charCodeAt(i),o+=this.widthOfGlyph(this.characterToGlyph(s))+n*(1e3/r)||0;return o*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t})();var bu,gm=(function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,s;for(s=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)s.push(this.writeByte(e.charCodeAt(r)));return s},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,s,i,o,l,c;return e=this.readByte(),r=this.readByte(),n=this.readByte(),s=this.readByte(),i=this.readByte(),o=this.readByte(),l=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^s)+16777216*(255^i)+65536*(255^o)+256*(255^l)+(255^c)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*s+16777216*i+65536*o+256*l+c},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,s,i;for(i=[],n=0,s=e.length;n<s;n++)r=e[n],i.push(this.writeByte(r));return i},t})(),PUe=(function(){var t;function e(r){var n,s,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},s=0,i=this.tableCount;0<=i?s<i:s>i;s=0<=i?++s:--s)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,s,i,o,l,c,u,f,h,g,p,v,w;for(w in p=Object.keys(r).length,c=Math.log(2),h=16*Math.floor(Math.log(p)/c),o=Math.floor(h/c),f=16*p-h,(s=new gm).writeInt(this.scalarType),s.writeShort(p),s.writeShort(h),s.writeShort(o),s.writeShort(f),i=16*p,u=s.pos+i,l=null,v=[],r)for(g=r[w],s.writeString(w),s.writeInt(t(g)),s.writeInt(u),s.writeInt(g.length),v=v.concat(g),w==="head"&&(l=u),u+=g.length;u%4;)v.push(0),u++;return s.write(v),n=2981146554-t(s.data),s.pos=l+8,s.writeUInt32(n),s.data},t=function(r){var n,s,i,o;for(r=Sse.call(r);r.length%4;)r.push(0);for(i=new gm(r),s=0,n=0,o=r.length;n<o;n=n+=4)s+=i.readUInt32();return 4294967295&s},e})(),LUe={}.hasOwnProperty,yd=function(t,e){for(var r in e)LUe.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};bu=(function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t})();var RUe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return yd(t,bu),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var r;return(r=new gm).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(e),r.writeShort(this.glyphDataFormat),r.data},t})(),aY=(function(){function t(e,r){var n,s,i,o,l,c,u,f,h,g,p,v,w,y,N,k,S;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),h=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(p=e.readUInt16(),g=p/2,e.pos+=6,i=(function(){var T,_;for(_=[],c=T=0;0<=g?T<g:T>g;c=0<=g?++T:--T)_.push(e.readUInt16());return _})(),e.pos+=2,w=(function(){var T,_;for(_=[],c=T=0;0<=g?T<g:T>g;c=0<=g?++T:--T)_.push(e.readUInt16());return _})(),u=(function(){var T,_;for(_=[],c=T=0;0<=g?T<g:T>g;c=0<=g?++T:--T)_.push(e.readUInt16());return _})(),f=(function(){var T,_;for(_=[],c=T=0;0<=g?T<g:T>g;c=0<=g?++T:--T)_.push(e.readUInt16());return _})(),s=(this.length-e.pos+this.offset)/2,l=(function(){var T,_;for(_=[],c=T=0;0<=s?T<s:T>s;c=0<=s?++T:--T)_.push(e.readUInt16());return _})(),c=N=0,S=i.length;N<S;c=++N)for(y=i[c],n=k=v=w[c];v<=y?k<=y:k>=y;n=v<=y?++k:--k)f[c]===0?o=n+u[c]:(o=l[f[c]/2+(n-v)-(g-c)]||0)!==0&&(o+=u[c]),this.codeMap[n]=65535&o}e.pos=h}return t.encode=function(e,r){var n,s,i,o,l,c,u,f,h,g,p,v,w,y,N,k,S,T,_,D,E,L,R,F,A,M,B,z,Y,W,H,q,X,oe,K,V,J,Q,re,ce,Ee,ke,ge,Ce,Ke,fe;switch(z=new gm,o=Object.keys(e).sort(function(ye,ae){return ye-ae}),r){case"macroman":for(w=0,y=(function(){var ye=[];for(v=0;v<256;++v)ye.push(0);return ye})(),k={0:0},i={},Y=0,X=o.length;Y<X;Y++)k[ge=e[s=o[Y]]]==null&&(k[ge]=++w),i[s]={old:e[s],new:k[e[s]]},y[s]=k[e[s]];return z.writeUInt16(1),z.writeUInt16(0),z.writeUInt32(12),z.writeUInt16(0),z.writeUInt16(262),z.writeUInt16(0),z.write(y),{charMap:i,subtable:z.data,maxGlyphID:w+1};case"unicode":for(M=[],h=[],S=0,k={},n={},N=u=null,W=0,oe=o.length;W<oe;W++)k[_=e[s=o[W]]]==null&&(k[_]=++S),n[s]={old:_,new:k[_]},l=k[_]-s,N!=null&&l===u||(N&&h.push(N),M.push(s),u=l),N=s;for(N&&h.push(N),h.push(65535),M.push(65535),F=2*(R=M.length),L=2*Math.pow(Math.log(R)/Math.LN2,2),g=Math.log(L/2)/Math.LN2,E=2*R-L,c=[],D=[],p=[],v=H=0,K=M.length;H<K;v=++H){if(A=M[v],f=h[v],A===65535){c.push(0),D.push(0);break}if(A-(B=n[A].new)>=32768)for(c.push(0),D.push(2*(p.length+R-v)),s=q=A;A<=f?q<=f:q>=f;s=A<=f?++q:--q)p.push(n[s].new);else c.push(B-A),D.push(0)}for(z.writeUInt16(3),z.writeUInt16(1),z.writeUInt32(12),z.writeUInt16(4),z.writeUInt16(16+8*R+2*p.length),z.writeUInt16(0),z.writeUInt16(F),z.writeUInt16(L),z.writeUInt16(g),z.writeUInt16(E),Ee=0,V=h.length;Ee<V;Ee++)s=h[Ee],z.writeUInt16(s);for(z.writeUInt16(0),ke=0,J=M.length;ke<J;ke++)s=M[ke],z.writeUInt16(s);for(Ce=0,Q=c.length;Ce<Q;Ce++)l=c[Ce],z.writeUInt16(l);for(Ke=0,re=D.length;Ke<re;Ke++)T=D[Ke],z.writeUInt16(T);for(fe=0,ce=p.length;fe<ce;fe++)w=p[fe],z.writeUInt16(w);return{charMap:n,subtable:z.data,maxGlyphID:S+1}}},t})(),Nse=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return yd(t,bu),t.prototype.tag="cmap",t.prototype.parse=function(e){var r,n,s;for(e.pos=this.offset,this.version=e.readUInt16(),s=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=s?n<s:n>s;n=0<=s?++n:--n)r=new aY(e,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(e,r){var n,s;return r==null&&(r="macroman"),n=aY.encode(e,r),(s=new gm).writeUInt16(0),s.writeUInt16(1),n.table=s.data.concat(n.subtable),n},t})(),IUe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return yd(t,bu),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t})(),FUe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return yd(t,bu),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var r,n;for(n=[],r=0;r<10;++r)n.push(e.readByte());return n})(),this.charRange=(function(){var r,n;for(n=[],r=0;r<4;++r)n.push(e.readInt());return n})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(e.readInt());return n})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t})(),BUe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return yd(t,bu),t.prototype.tag="post",t.prototype.parse=function(e){var r,n,s;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(n=e.readUInt16(),this.glyphNameIndex=[],i=0;0<=n?i<n:i>n;i=0<=n?++i:--i)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],s=[];e.pos<this.offset+this.length;)r=e.readByte(),s.push(this.names.push(e.readString(r)));return s;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=(function(){var o,l,c;for(c=[],i=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;i=0<=l?++o:--o)c.push(e.readUInt32());return c}).call(this)}},t})(),$Ue=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},HUe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return yd(t,bu),t.prototype.tag="name",t.prototype.parse=function(e){var r,n,s,i,o,l,c,u,f,h,g;for(e.pos=this.offset,e.readShort(),r=e.readShort(),l=e.readShort(),n=[],i=0;0<=r?i<r:i>r;i=0<=r?++i:--i)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+l+e.readShort()});for(c={},i=f=0,h=n.length;f<h;i=++f)s=n[i],e.pos=s.offset,u=e.readString(s.length),o=new $Ue(u,s),c[g=s.nameID]==null&&(c[g]=[]),c[s.nameID].push(o);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},t})(),zUe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return yd(t,bu),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t})(),qUe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return yd(t,bu),t.prototype.tag="hmtx",t.prototype.parse=function(e){var r,n,s,i,o,l,c;for(e.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var u,f;for(f=[],r=u=0;0<=s?u<s:u>s;r=0<=s?++u:--u)f.push(e.readInt16());return f})(),this.widths=(function(){var u,f,h,g;for(g=[],u=0,f=(h=this.metrics).length;u<f;u++)i=h[u],g.push(i.advance);return g}).call(this),n=this.widths[this.widths.length-1],c=[],r=o=0;0<=s?o<s:o>s;r=0<=s?++o:--o)c.push(this.widths.push(n));return c},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t})(),Sse=[].slice,UUe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return yd(t,bu),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var r,n,s,i,o,l,c,u,f,h;return e in this.cache?this.cache[e]:(i=this.file.loca,r=this.file.contents,n=i.indexOf(e),(s=i.lengthOf(e))===0?this.cache[e]=null:(r.pos=this.offset+n,o=(l=new gm(r.read(s))).readShort(),u=l.readShort(),h=l.readShort(),c=l.readShort(),f=l.readShort(),this.cache[e]=o===-1?new VUe(l,u,h,c,f):new WUe(l,o,u,h,c,f),this.cache[e]))},t.prototype.encode=function(e,r,n){var s,i,o,l,c;for(o=[],i=[],l=0,c=r.length;l<c;l++)s=e[r[l]],i.push(o.length),s&&(o=o.concat(s.encode(n)));return i.push(o.length),{table:o,offsets:i}},t})(),WUe=(function(){function t(e,r,n,s,i,o){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=s,this.xMax=i,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t})(),VUe=(function(){function t(e,r,n,s,i){var o,l;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=s,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new gm(Sse.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t})(),GUe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return yd(t,bu),t.prototype.tag="loca",t.prototype.parse=function(e){var r,n;return e.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var s,i;for(i=[],n=0,s=this.length;n<s;n+=2)i.push(2*e.readUInt16());return i}).call(this):(function(){var s,i;for(i=[],n=0,s=this.length;n<s;n+=4)i.push(e.readUInt32());return i}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,r){for(var n=new Uint32Array(this.offsets.length),s=0,i=0,o=0;o<n.length;++o)if(n[o]=s,i<r.length&&r[i]==o){++i,n[o]=s;var l=this.offsets[o],c=this.offsets[o+1]-l;c>0&&(s+=c)}for(var u=new Array(4*n.length),f=0;f<n.length;++f)u[4*f+3]=255&n[f],u[4*f+2]=(65280&n[f])>>8,u[4*f+1]=(16711680&n[f])>>16,u[4*f]=(4278190080&n[f])>>24;return u},t})(),YUe=(function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,s,i;for(r in s=this.font.cmap.tables[0].codeMap,e={},i=this.subset)n=i[r],e[r]=s[n];return e},t.prototype.glyphsFor=function(e){var r,n,s,i,o,l,c;for(s={},o=0,l=e.length;o<l;o++)s[i=e[o]]=this.font.glyf.glyphFor(i);for(i in r=[],s)(n=s[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in c=this.glyphsFor(r))n=c[i],s[i]=n;return s},t.prototype.encode=function(e,r){var n,s,i,o,l,c,u,f,h,g,p,v,w,y,N;for(s in n=Nse.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),p={0:0},N=n.charMap)p[(c=N[s]).old]=c.new;for(v in g=n.maxGlyphID,o)v in p||(p[v]=g++);return f=(function(k){var S,T;for(S in T={},k)T[k[S]]=S;return T})(p),h=Object.keys(f).sort(function(k,S){return k-S}),w=(function(){var k,S,T;for(T=[],k=0,S=h.length;k<S;k++)l=h[k],T.push(f[l]);return T})(),i=this.font.glyf.encode(o,w,p),u=this.font.loca.encode(i.offsets,w),y={cmap:this.font.cmap.raw(),glyf:i.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(y["OS/2"]=this.font.os2.raw()),this.font.directory.encode(y)},t})();Tr.API.PDFObject=(function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,s,i,o;if(Array.isArray(r))return"["+(function(){var l,c,u;for(u=[],l=0,c=r.length;l<c;l++)n=r[l],u.push(e.convert(n));return u})().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(s in i=["<<"],r)o=r[s],i.push("/"+s+" "+e.convert(o));return i.push(">>"),i.join(`
`)}return""+r},e})();function kse(t,e,r,n,s){n=n||{};var i=1.15,o=s.internal.scaleFactor,l=s.internal.getFontSize()/o,c=s.getLineHeightFactor?s.getLineHeightFactor():i,u=l*c,f=/\r\n|\r|\n/g,h="",g=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(h=typeof t=="string"?t.split(f):t,g=h.length||1),r+=l*(2-i),n.valign==="middle"?r-=g/2*u:n.valign==="bottom"&&(r-=g*u),n.halign==="center"||n.halign==="right"){var p=l;if(n.halign==="center"&&(p*=.5),h&&g>=1){for(var v=0;v<h.length;v++)s.text(h[v],e-s.getStringUnitWidth(h[v])*p,r),r+=u;return s}e-=s.getStringUnitWidth(t)*p}return n.halign==="justify"?s.text(t,e,r,{maxWidth:n.maxWidth||100,align:"justify"}):s.text(t,e,r),s}var sY={},$g=(function(){function t(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return t.setDefaults=function(e,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=e:sY=e},t.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},t.prototype.applyStyles=function(e,r){var n,s,i;r===void 0&&(r=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var o=this.jsPDFDocument.internal.getFont(),l=o.fontStyle,c=o.fontName;if(e.font&&(c=e.font),e.fontStyle){l=e.fontStyle;var u=this.getFontList()[c];u&&u.indexOf(l)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(u[0]),l=u[0])}if(this.jsPDFDocument.setFont(c,l),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!r){var f=t.unifyColor(e.fillColor);f&&(n=this.jsPDFDocument).setFillColor.apply(n,f),f=t.unifyColor(e.textColor),f&&(s=this.jsPDFDocument).setTextColor.apply(s,f),f=t.unifyColor(e.lineColor),f&&(i=this.jsPDFDocument).setDrawColor.apply(i,f),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},t.prototype.splitTextToSize=function(e,r,n){return this.jsPDFDocument.splitTextToSize(e,r,n)},t.prototype.rect=function(e,r,n,s,i){return this.jsPDFDocument.rect(e,r,n,s,i)},t.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},t.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},t.prototype.getDocument=function(){return this.jsPDFDocument},t.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},t.prototype.addPage=function(){return this.jsPDFDocument.addPage()},t.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},t.prototype.getGlobalOptions=function(){return sY||{}},t.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},t.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},t.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},t.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},t.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},t.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},t})(),OO=function(t,e){return OO=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},OO(t,e)};function Cse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");OO(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var _se=(function(t){Cse(e,t);function e(r){var n=t.call(this)||this;return n._element=r,n}return e})(Array);function KUe(t){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/t,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function JUe(t){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[t]}function SN(t,e,r){r.applyStyles(e,!0);var n=Array.isArray(t)?t:[t],s=n.map(function(i){return r.getTextWidth(i)}).reduce(function(i,o){return Math.max(i,o)},0);return s}function Ase(t,e,r,n){var s=e.settings.tableLineWidth,i=e.settings.tableLineColor;t.applyStyles({lineWidth:s,lineColor:i});var o=Tse(s,!1);o&&t.rect(r.x,r.y,e.getWidth(t.pageSize().width),n.y-r.y,o)}function Tse(t,e){var r=t>0,n=e||e===0;return r&&n?"DF":r?"S":n?"F":null}function WS(t,e){var r,n,s,i;if(t=t||e,Array.isArray(t)){if(t.length>=4)return{top:t[0],right:t[1],bottom:t[2],left:t[3]};if(t.length===3)return{top:t[0],right:t[1],bottom:t[2],left:t[1]};if(t.length===2)return{top:t[0],right:t[1],bottom:t[0],left:t[1]};t.length===1?t=t[0]:t=e}return typeof t=="object"?(typeof t.vertical=="number"&&(t.top=t.vertical,t.bottom=t.vertical),typeof t.horizontal=="number"&&(t.right=t.horizontal,t.left=t.horizontal),{left:(r=t.left)!==null&&r!==void 0?r:e,top:(n=t.top)!==null&&n!==void 0?n:e,right:(s=t.right)!==null&&s!==void 0?s:e,bottom:(i=t.bottom)!==null&&i!==void 0?i:e}):(typeof t!="number"&&(t=e),{top:t,right:t,bottom:t,left:t})}function Mse(t,e){var r=WS(e.settings.margin,0);return t.pageSize().width-(r.left+r.right)}function XUe(t,e,r,n,s){var i={},o=1.3333333333333333,l=t6(e,function(S){return s.getComputedStyle(S).backgroundColor});l!=null&&(i.fillColor=l);var c=t6(e,function(S){return s.getComputedStyle(S).color});c!=null&&(i.textColor=c);var u=ZUe(n,r);u&&(i.cellPadding=u);var f="borderTopColor",h=o*r,g=n.borderTopWidth;if(n.borderBottomWidth===g&&n.borderRightWidth===g&&n.borderLeftWidth===g){var p=(parseFloat(g)||0)/h;p&&(i.lineWidth=p)}else i.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/h,right:(parseFloat(n.borderRightWidth)||0)/h,bottom:(parseFloat(n.borderBottomWidth)||0)/h,left:(parseFloat(n.borderLeftWidth)||0)/h},i.lineWidth.top||(i.lineWidth.right?f="borderRightColor":i.lineWidth.bottom?f="borderBottomColor":i.lineWidth.left&&(f="borderLeftColor"));var v=t6(e,function(S){return s.getComputedStyle(S)[f]});v!=null&&(i.lineColor=v);var w=["left","right","center","justify"];w.indexOf(n.textAlign)!==-1&&(i.halign=n.textAlign),w=["middle","bottom","top"],w.indexOf(n.verticalAlign)!==-1&&(i.valign=n.verticalAlign);var y=parseInt(n.fontSize||"");isNaN(y)||(i.fontSize=y/o);var N=QUe(n);N&&(i.fontStyle=N);var k=(n.fontFamily||"").toLowerCase();return t.indexOf(k)!==-1&&(i.font=k),i}function QUe(t){var e="";return(t.fontWeight==="bold"||t.fontWeight==="bolder"||parseInt(t.fontWeight)>=700)&&(e="bold"),(t.fontStyle==="italic"||t.fontStyle==="oblique")&&(e+="italic"),e}function t6(t,e){var r=Ese(t,e);if(!r)return null;var n=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var s=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],i=parseInt(n[4]);return i===0||isNaN(s[0])||isNaN(s[1])||isNaN(s[2])?null:s}function Ese(t,e){var r=e(t);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?t.parentElement==null?null:Ese(t.parentElement,e):r}function ZUe(t,e){var r=[t.paddingTop,t.paddingRight,t.paddingBottom,t.paddingLeft],n=96/(72/e),s=(parseInt(t.lineHeight)-parseInt(t.fontSize))/e/2,i=r.map(function(l){return parseInt(l||"0")/n}),o=WS(i,0);return s>o.top&&(o.top=s),s>o.bottom&&(o.bottom=s),o}function Ose(t,e,r,n,s){var i,o;n===void 0&&(n=!1),s===void 0&&(s=!1);var l;typeof e=="string"?l=r.document.querySelector(e):l=e;var c=Object.keys(t.getFontList()),u=t.scaleFactor(),f=[],h=[],g=[];if(!l)return console.error("Html table could not be found with input: ",e),{head:f,body:h,foot:g};for(var p=0;p<l.rows.length;p++){var v=l.rows[p],w=(o=(i=v==null?void 0:v.parentElement)===null||i===void 0?void 0:i.tagName)===null||o===void 0?void 0:o.toLowerCase(),y=eWe(c,u,r,v,n,s);y&&(w==="thead"?f.push(y):w==="tfoot"?g.push(y):h.push(y))}return{head:f,body:h,foot:g}}function eWe(t,e,r,n,s,i){for(var o=new _se(n),l=0;l<n.cells.length;l++){var c=n.cells[l],u=r.getComputedStyle(c);if(s||u.display!=="none"){var f=void 0;i&&(f=XUe(t,c,e,u,r)),o.push({rowSpan:c.rowSpan,colSpan:c.colSpan,styles:f,_element:c,content:tWe(c)})}}var h=r.getComputedStyle(n);if(o.length>0&&(s||h.display!=="none"))return o}function tWe(t){var e=t.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),e.innerText||e.textContent||""}function rWe(t,e,r){for(var n=0,s=[t,e,r];n<s.length;n++){var i=s[n];i&&typeof i!="object"&&console.error("The options parameter should be of type object, is: "+typeof i),i.startY&&typeof i.startY!="number"&&(console.error("Invalid value for startY option",i.startY),delete i.startY)}}function bf(t,e,r,n,s){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(t),o=1;o<arguments.length;o++){var l=arguments[o];if(l!=null)for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(i[c]=l[c])}return i}function Dse(t,e){var r=new $g(t),n=r.getDocumentOptions(),s=r.getGlobalOptions();rWe(s,n,e);var i=bf({},s,n,e),o;typeof window<"u"&&(o=window);var l=nWe(s,n,e),c=aWe(s,n,e),u=sWe(r,i),f=oWe(r,i,o);return{id:e.tableId,content:f,hooks:c,styles:l,settings:u}}function nWe(t,e,r){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},s=function(c){if(c==="columnStyles"){var u=t[c],f=e[c],h=r[c];n.columnStyles=bf({},u,f,h)}else{var g=[t,e,r],p=g.map(function(v){return v[c]||{}});n[c]=bf({},p[0],p[1],p[2])}},i=0,o=Object.keys(n);i<o.length;i++){var l=o[i];s(l)}return n}function aWe(t,e,r){for(var n=[t,e,r],s={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},i=0,o=n;i<o.length;i++){var l=o[i];l.didParseCell&&s.didParseCell.push(l.didParseCell),l.willDrawCell&&s.willDrawCell.push(l.willDrawCell),l.didDrawCell&&s.didDrawCell.push(l.didDrawCell),l.willDrawPage&&s.willDrawPage.push(l.willDrawPage),l.didDrawPage&&s.didDrawPage.push(l.didDrawPage)}return s}function sWe(t,e){var r,n,s,i,o,l,c,u,f,h,g,p,v=WS(e.margin,40/t.scaleFactor()),w=(r=iWe(t,e.startY))!==null&&r!==void 0?r:v.top,y;e.showFoot===!0?y="everyPage":e.showFoot===!1?y="never":y=(n=e.showFoot)!==null&&n!==void 0?n:"everyPage";var N;e.showHead===!0?N="everyPage":e.showHead===!1?N="never":N=(s=e.showHead)!==null&&s!==void 0?s:"everyPage";var k=(i=e.useCss)!==null&&i!==void 0?i:!1,S=e.theme||(k?"plain":"striped"),T=!!e.horizontalPageBreak,_=(o=e.horizontalPageBreakRepeat)!==null&&o!==void 0?o:null;return{includeHiddenHtml:(l=e.includeHiddenHtml)!==null&&l!==void 0?l:!1,useCss:k,theme:S,startY:w,margin:v,pageBreak:(c=e.pageBreak)!==null&&c!==void 0?c:"auto",rowPageBreak:(u=e.rowPageBreak)!==null&&u!==void 0?u:"auto",tableWidth:(f=e.tableWidth)!==null&&f!==void 0?f:"auto",showHead:N,showFoot:y,tableLineWidth:(h=e.tableLineWidth)!==null&&h!==void 0?h:0,tableLineColor:(g=e.tableLineColor)!==null&&g!==void 0?g:200,horizontalPageBreak:T,horizontalPageBreakRepeat:_,horizontalPageBreakBehaviour:(p=e.horizontalPageBreakBehaviour)!==null&&p!==void 0?p:"afterAllRows"}}function iWe(t,e){var r=t.getLastAutoTable(),n=t.scaleFactor(),s=t.pageNumber(),i=!1;if(r&&r.startPageNumber){var o=r.startPageNumber+r.pageNumber-1;i=o===s}return typeof e=="number"?e:(e==null||e===!1)&&i&&(r==null?void 0:r.finalY)!=null?r.finalY+20/n:null}function oWe(t,e,r){var n=e.head||[],s=e.body||[],i=e.foot||[];if(e.html){var o=e.includeHiddenHtml;if(r){var l=Ose(t,e.html,r,o,e.useCss)||{};n=l.head||n,s=l.body||n,i=l.foot||n}else console.error("Cannot parse html in non browser environment")}var c=e.columns||lWe(n,s,i);return{columns:c,head:n,body:s,foot:i}}function lWe(t,e,r){var n=t[0]||e[0]||r[0]||[],s=[];return Object.keys(n).filter(function(i){return i!=="_element"}).forEach(function(i){var o=1,l;Array.isArray(n)?l=n[parseInt(i)]:l=n[i],typeof l=="object"&&!Array.isArray(l)&&(o=(l==null?void 0:l.colSpan)||1);for(var c=0;c<o;c++){var u=void 0;Array.isArray(n)?u=s.length:u=i+(c>0?"_".concat(c):"");var f={dataKey:u};s.push(f)}}),s}var DO=(function(){function t(e,r,n){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=n,this.doc=e.getDocument()}return t})(),cWe=(function(t){Cse(e,t);function e(r,n,s,i,o,l){var c=t.call(this,r,n,l)||this;return c.cell=s,c.row=i,c.column=o,c.section=i.section,c}return e})(DO),uWe=(function(){function t(e,r){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return t.prototype.getHeadHeight=function(e){return this.head.reduce(function(r,n){return r+n.getMaxCellHeight(e)},0)},t.prototype.getFootHeight=function(e){return this.foot.reduce(function(r,n){return r+n.getMaxCellHeight(e)},0)},t.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},t.prototype.callCellHooks=function(e,r,n,s,i,o){for(var l=0,c=r;l<c.length;l++){var u=c[l],f=new cWe(e,this,n,s,i,o),h=u(f)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],h)return!1}return!0},t.prototype.callEndPageHooks=function(e,r){e.applyStyles(e.userStyles);for(var n=0,s=this.hooks.didDrawPage;n<s.length;n++){var i=s[n];i(new DO(e,this,r))}},t.prototype.callWillDrawPageHooks=function(e,r){for(var n=0,s=this.hooks.willDrawPage;n<s.length;n++){var i=s[n];i(new DO(e,this,r))}},t.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(s,i){return s+i.wrappedWidth},0);return r}else{var n=this.settings.margin;return e-n.left-n.right}},t})(),Pse=(function(){function t(e,r,n,s,i){i===void 0&&(i=!1),this.height=0,this.raw=e,e instanceof _se&&(this.raw=e._element,this.element=e._element),this.index=r,this.section=n,this.cells=s,this.spansMultiplePages=i}return t.prototype.getMaxCellHeight=function(e){var r=this;return e.reduce(function(n,s){var i;return Math.max(n,((i=r.cells[s.index])===null||i===void 0?void 0:i.height)||0)},0)},t.prototype.hasRowSpan=function(e){var r=this;return e.filter(function(n){var s=r.cells[n.index];return s?s.rowSpan>1:!1}).length>0},t.prototype.canEntireRowFit=function(e,r){return this.getMaxCellHeight(r)<=e},t.prototype.getMinimumRowHeight=function(e,r){var n=this;return e.reduce(function(s,i){var o=n.cells[i.index];if(!o)return 0;var l=r.getLineHeight(o.styles.fontSize),c=o.padding("vertical"),u=c+l;return u>s?u:s},0)},t})(),Lse=(function(){function t(e,r,n){var s;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=n,this.raw=e;var i=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,i=(s=e.content)!==null&&s!==void 0?s:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var o=i!=null?""+i:"",l=/\r\n|\r|\n/g;this.text=o.split(l)}return t.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");e=this.y+r/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var s=this.width-this.padding("horizontal");n=this.x+s/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:e}},t.prototype.getContentHeight=function(e,r){r===void 0&&(r=1.15);var n=Array.isArray(this.text)?this.text.length:1,s=this.styles.fontSize/e*r,i=n*s+this.padding("vertical");return Math.max(i,this.styles.minCellHeight)},t.prototype.padding=function(e){var r=WS(this.styles.cellPadding,0);return e==="vertical"?r.top+r.bottom:e==="horizontal"?r.left+r.right:r[e]},t})(),dWe=(function(){function t(e,r,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=r,this.index=n}return t.prototype.getMaxCustomCellWidth=function(e){for(var r=0,n=0,s=e.allRows();n<s.length;n++){var i=s[n],o=i.cells[this.index];o&&typeof o.styles.cellWidth=="number"&&(r=Math.max(r,o.styles.cellWidth))}return r},t})();function fWe(t,e){hWe(t,e);var r=[],n=0;e.columns.forEach(function(i){var o=i.getMaxCustomCellWidth(e);o?i.width=o:(i.width=i.wrappedWidth,r.push(i)),n+=i.width});var s=e.getWidth(t.pageSize().width)-n;s&&(s=PO(r,s,function(i){return Math.max(i.minReadableWidth,i.minWidth)})),s&&(s=PO(r,s,function(i){return i.minWidth})),s=Math.abs(s),!e.settings.horizontalPageBreak&&s>.1/t.scaleFactor()&&(s=s<1?s:Math.round(s),console.warn("Of the table content, ".concat(s," units width could not fit page"))),pWe(e),gWe(e,t),mWe(e)}function hWe(t,e){var r=t.scaleFactor(),n=e.settings.horizontalPageBreak,s=Mse(t,e);e.allRows().forEach(function(i){for(var o=0,l=e.columns;o<l.length;o++){var c=l[o],u=i.cells[c.index];if(u){var f=e.hooks.didParseCell;e.callCellHooks(t,f,u,i,c,null);var h=u.padding("horizontal");u.contentWidth=SN(u.text,u.styles,t)+h;var g=SN(u.text.join(" ").split(/[^\S\u00A0]+/),u.styles,t);if(u.minReadableWidth=g+u.padding("horizontal"),typeof u.styles.cellWidth=="number")u.minWidth=u.styles.cellWidth,u.wrappedWidth=u.styles.cellWidth;else if(u.styles.cellWidth==="wrap"||n===!0)u.contentWidth>s?(u.minWidth=s,u.wrappedWidth=s):(u.minWidth=u.contentWidth,u.wrappedWidth=u.contentWidth);else{var p=10/r;u.minWidth=u.styles.minCellWidth||p,u.wrappedWidth=u.contentWidth,u.minWidth>u.wrappedWidth&&(u.wrappedWidth=u.minWidth)}}}}),e.allRows().forEach(function(i){for(var o=0,l=e.columns;o<l.length;o++){var c=l[o],u=i.cells[c.index];if(u&&u.colSpan===1)c.wrappedWidth=Math.max(c.wrappedWidth,u.wrappedWidth),c.minWidth=Math.max(c.minWidth,u.minWidth),c.minReadableWidth=Math.max(c.minReadableWidth,u.minReadableWidth);else{var f=e.styles.columnStyles[c.dataKey]||e.styles.columnStyles[c.index]||{},h=f.cellWidth||f.minCellWidth;h&&typeof h=="number"&&(c.minWidth=h,c.wrappedWidth=h)}u&&(u.colSpan>1&&!c.minWidth&&(c.minWidth=u.minWidth),u.colSpan>1&&!c.wrappedWidth&&(c.wrappedWidth=u.minWidth))}})}function PO(t,e,r){for(var n=e,s=t.reduce(function(p,v){return p+v.wrappedWidth},0),i=0;i<t.length;i++){var o=t[i],l=o.wrappedWidth/s,c=n*l,u=o.width+c,f=r(o),h=u<f?f:u;e-=h-o.width,o.width=h}if(e=Math.round(e*1e10)/1e10,e){var g=t.filter(function(p){return e<0?p.width>r(p):!0});g.length&&(e=PO(g,e,r))}return e}function mWe(t){for(var e={},r=1,n=t.allRows(),s=0;s<n.length;s++)for(var i=n[s],o=0,l=t.columns;o<l.length;o++){var c=l[o],u=e[c.index];if(r>1)r--,delete i.cells[c.index];else if(u)u.cell.height+=i.height,r=u.cell.colSpan,delete i.cells[c.index],u.left--,u.left<=1&&delete e[c.index];else{var f=i.cells[c.index];if(!f)continue;if(f.height=i.height,f.rowSpan>1){var h=n.length-s,g=f.rowSpan>h?h:f.rowSpan;e[c.index]={cell:f,left:g,row:i}}}}}function pWe(t){for(var e=t.allRows(),r=0;r<e.length;r++)for(var n=e[r],s=null,i=0,o=0,l=0;l<t.columns.length;l++){var c=t.columns[l];if(o-=1,o>1&&t.columns[l+1])i+=c.width,delete n.cells[c.index];else if(s){var u=s;delete n.cells[c.index],s=null,u.width=c.width+i}else{var u=n.cells[c.index];if(!u)continue;if(o=u.colSpan,i=0,u.colSpan>1){s=u,i+=c.width;continue}u.width=c.width+i}}}function gWe(t,e){for(var r={count:0,height:0},n=0,s=t.allRows();n<s.length;n++){for(var i=s[n],o=0,l=t.columns;o<l.length;o++){var c=l[o],u=i.cells[c.index];if(u){e.applyStyles(u.styles,!0);var f=u.width-u.padding("horizontal");if(u.styles.overflow==="linebreak")u.text=e.splitTextToSize(u.text,f+1/e.scaleFactor(),{fontSize:u.styles.fontSize});else if(u.styles.overflow==="ellipsize")u.text=iY(u.text,f,u.styles,e,"...");else if(u.styles.overflow==="hidden")u.text=iY(u.text,f,u.styles,e,"");else if(typeof u.styles.overflow=="function"){var h=u.styles.overflow(u.text,f);typeof h=="string"?u.text=[h]:u.text=h}u.contentHeight=u.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var g=u.contentHeight/u.rowSpan;u.rowSpan>1&&r.count*r.height<g*u.rowSpan?r={height:g,count:u.rowSpan}:r&&r.count>0&&r.height>g&&(g=r.height),g>i.height&&(i.height=g)}}r.count--}}function iY(t,e,r,n,s){return t.map(function(i){return xWe(i,e,r,n,s)})}function xWe(t,e,r,n,s){var i=1e4*n.scaleFactor();if(e=Math.ceil(e*i)/i,e>=SN(t,r,n))return t;for(;e<SN(t+s,r,n)&&!(t.length<=1);)t=t.substring(0,t.length-1);return t.trim()+s}function Rse(t,e){var r=new $g(t),n=bWe(e,r.scaleFactor()),s=new uWe(e,n);return fWe(r,s),r.applyStyles(r.userStyles),s}function bWe(t,e){var r=t.content,n=vWe(r.columns);if(r.head.length===0){var s=oY(n,"head");s&&r.head.push(s)}if(r.foot.length===0){var s=oY(n,"foot");s&&r.foot.push(s)}var i=t.settings.theme,o=t.styles;return{columns:n,head:r6("head",r.head,n,o,i,e),body:r6("body",r.body,n,o,i,e),foot:r6("foot",r.foot,n,o,i,e)}}function r6(t,e,r,n,s,i){var o={},l=e.map(function(c,u){for(var f=0,h={},g=0,p=0,v=0,w=r;v<w.length;v++){var y=w[v];if(o[y.index]==null||o[y.index].left===0)if(p===0){var N=void 0;Array.isArray(c)?N=c[y.index-g-f]:N=c[y.dataKey];var k={};typeof N=="object"&&!Array.isArray(N)&&(k=(N==null?void 0:N.styles)||{});var S=wWe(t,y,u,s,n,i,k),T=new Lse(N,S,t);h[y.dataKey]=T,h[y.index]=T,p=T.colSpan-1,o[y.index]={left:T.rowSpan-1,times:p}}else p--,g++;else o[y.index].left--,p=o[y.index].times,f++}return new Pse(c,u,t,h)});return l}function oY(t,e){var r={};return t.forEach(function(n){if(n.raw!=null){var s=yWe(e,n.raw);s!=null&&(r[n.dataKey]=s)}}),Object.keys(r).length>0?r:null}function yWe(t,e){if(t==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(t==="foot"&&typeof e=="object")return e.footer;return null}function vWe(t){return t.map(function(e,r){var n,s;return typeof e=="object"?s=(n=e.dataKey)!==null&&n!==void 0?n:r:s=r,new dWe(s,e,r)})}function wWe(t,e,r,n,s,i,o){var l=JUe(n),c;t==="head"?c=s.headStyles:t==="body"?c=s.bodyStyles:t==="foot"&&(c=s.footStyles);var u=bf({},l.table,l[t],s.styles,c),f=s.columnStyles[e.dataKey]||s.columnStyles[e.index]||{},h=t==="body"?f:{},g=t==="body"&&r%2===0?bf({},l.alternateRow,s.alternateRowStyles):{},p=KUe(i),v=bf({},p,u,g,h);return bf(v,o)}function jWe(t,e,r){var n;r===void 0&&(r={});var s=Mse(t,e),i=new Map,o=[],l=[],c=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?c=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(c=[e.settings.horizontalPageBreakRepeat]),c.forEach(function(g){var p=e.columns.find(function(v){return v.dataKey===g||v.index===g});p&&!i.has(p.index)&&(i.set(p.index,!0),o.push(p.index),l.push(e.columns[p.index]),s-=p.wrappedWidth)});for(var u=!0,f=(n=r==null?void 0:r.start)!==null&&n!==void 0?n:0;f<e.columns.length;){if(i.has(f)){f++;continue}var h=e.columns[f].wrappedWidth;if(u||s>=h)u=!1,o.push(f),l.push(e.columns[f]),s-=h;else break;f++}return{colIndexes:o,columns:l,lastIndex:f-1}}function NWe(t,e){for(var r=[],n=0;n<e.columns.length;n++){var s=jWe(t,e,{start:n});s.columns.length&&(r.push(s),n=s.lastIndex)}return r}function Ise(t,e){var r=e.settings,n=r.startY,s=r.margin,i={x:s.left,y:n},o=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),l=n+s.bottom+o;if(r.pageBreak==="avoid"){var c=e.body,u=c.reduce(function(g,p){return g+p.height},0);l+=u}var f=new $g(t);(r.pageBreak==="always"||r.startY!=null&&l>f.pageSize().height)&&(Bse(f),i.y=s.top),e.callWillDrawPageHooks(f,i);var h=bf({},i);e.startPageNumber=f.pageNumber(),r.horizontalPageBreak?SWe(f,e,h,i):(f.applyStyles(f.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&e.head.forEach(function(g){return Hf(f,e,g,i,e.columns)}),f.applyStyles(f.userStyles),e.body.forEach(function(g,p){var v=p===e.body.length-1;kN(f,e,g,v,h,i,e.columns)}),f.applyStyles(f.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&e.foot.forEach(function(g){return Hf(f,e,g,i,e.columns)})),Ase(f,e,h,i),e.callEndPageHooks(f,i),e.finalY=i.y,t.lastAutoTable=e,f.applyStyles(f.userStyles)}function SWe(t,e,r,n){var s=NWe(t,e),i=e.settings;if(i.horizontalPageBreakBehaviour==="afterAllRows")s.forEach(function(u,f){t.applyStyles(t.userStyles),f>0?Uy(t,e,r,n,u.columns,!0):lY(t,e,n,u.columns),kWe(t,e,r,n,u.columns),n6(t,e,n,u.columns)});else for(var o=-1,l=s[0],c=function(){var u=o;if(l){t.applyStyles(t.userStyles);var f=l.columns;o>=0?Uy(t,e,r,n,f,!0):lY(t,e,n,f),u=cY(t,e,o+1,n,f),n6(t,e,n,f)}var h=u-o;s.slice(1).forEach(function(g){t.applyStyles(t.userStyles),Uy(t,e,r,n,g.columns,!0),cY(t,e,o+1,n,g.columns,h),n6(t,e,n,g.columns)}),o=u};o<e.body.length-1;)c()}function lY(t,e,r,n){var s=e.settings;t.applyStyles(t.userStyles),(s.showHead==="firstPage"||s.showHead==="everyPage")&&e.head.forEach(function(i){return Hf(t,e,i,r,n)})}function kWe(t,e,r,n,s){t.applyStyles(t.userStyles),e.body.forEach(function(i,o){var l=o===e.body.length-1;kN(t,e,i,l,r,n,s)})}function cY(t,e,r,n,s,i){t.applyStyles(t.userStyles),i=i??e.body.length;var o=Math.min(r+i,e.body.length),l=-1;return e.body.slice(r,o).forEach(function(c,u){var f=r+u===e.body.length-1,h=Fse(t,e,f,n);c.canEntireRowFit(h,s)&&(Hf(t,e,c,n,s),l=r+u)}),l}function n6(t,e,r,n){var s=e.settings;t.applyStyles(t.userStyles),(s.showFoot==="lastPage"||s.showFoot==="everyPage")&&e.foot.forEach(function(i){return Hf(t,e,i,r,n)})}function CWe(t,e,r){var n=r.getLineHeight(t.styles.fontSize),s=t.padding("vertical"),i=Math.floor((e-s)/n);return Math.max(0,i)}function _We(t,e,r,n){var s={};t.spansMultiplePages=!0,t.height=0;for(var i=0,o=0,l=r.columns;o<l.length;o++){var c=l[o],u=t.cells[c.index];if(u){Array.isArray(u.text)||(u.text=[u.text]);var f=new Lse(u.raw,u.styles,u.section);f=bf(f,u),f.text=[];var h=CWe(u,e,n);u.text.length>h&&(f.text=u.text.splice(h,u.text.length));var g=n.scaleFactor(),p=n.getLineHeightFactor();u.contentHeight=u.getContentHeight(g,p),u.contentHeight>=e&&(u.contentHeight=e,f.styles.minCellHeight-=e),u.contentHeight>t.height&&(t.height=u.contentHeight),f.contentHeight=f.getContentHeight(g,p),f.contentHeight>i&&(i=f.contentHeight),s[c.index]=f}}var v=new Pse(t.raw,-1,t.section,s,!0);v.height=i;for(var w=0,y=r.columns;w<y.length;w++){var c=y[w],f=v.cells[c.index];f&&(f.height=v.height);var u=t.cells[c.index];u&&(u.height=t.height)}return v}function AWe(t,e,r,n){var s=t.pageSize().height,i=n.settings.margin,o=i.top+i.bottom,l=s-o;e.section==="body"&&(l-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var c=e.getMinimumRowHeight(n.columns,t),u=c<r;if(c>l)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!u)return!1;var f=e.hasRowSpan(n.columns),h=e.getMaxCellHeight(n.columns)>l;return h?(f&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(f||n.settings.rowPageBreak==="avoid")}function kN(t,e,r,n,s,i,o){var l=Fse(t,e,n,i);if(r.canEntireRowFit(l,o))Hf(t,e,r,i,o);else if(AWe(t,r,l,e)){var c=_We(r,l,e,t);Hf(t,e,r,i,o),Uy(t,e,s,i,o),kN(t,e,c,n,s,i,o)}else Uy(t,e,s,i,o),kN(t,e,r,n,s,i,o)}function Hf(t,e,r,n,s){n.x=e.settings.margin.left;for(var i=0,o=s;i<o.length;i++){var l=o[i],c=r.cells[l.index];if(!c){n.x+=l.width;continue}t.applyStyles(c.styles),c.x=n.x,c.y=n.y;var u=e.callCellHooks(t,e.hooks.willDrawCell,c,r,l,n);if(u===!1){n.x+=l.width;continue}TWe(t,c,n);var f=c.getTextPos();kse(c.text,f.x,f.y,{halign:c.styles.halign,valign:c.styles.valign,maxWidth:Math.ceil(c.width-c.padding("left")-c.padding("right"))},t.getDocument()),e.callCellHooks(t,e.hooks.didDrawCell,c,r,l,n),n.x+=l.width}n.y+=r.height}function TWe(t,e,r){var n=e.styles;if(t.getDocument().setFillColor(t.getDocument().getFillColor()),typeof n.lineWidth=="number"){var s=Tse(n.lineWidth,n.fillColor);s&&t.rect(e.x,r.y,e.width,e.height,s)}else typeof n.lineWidth=="object"&&(n.fillColor&&t.rect(e.x,r.y,e.width,e.height,"F"),MWe(t,e,r,n.lineWidth))}function MWe(t,e,r,n){var s,i,o,l;n.top&&(s=r.x,i=r.y,o=r.x+e.width,l=r.y,n.right&&(o+=.5*n.right),n.left&&(s-=.5*n.left),c(n.top,s,i,o,l)),n.bottom&&(s=r.x,i=r.y+e.height,o=r.x+e.width,l=r.y+e.height,n.right&&(o+=.5*n.right),n.left&&(s-=.5*n.left),c(n.bottom,s,i,o,l)),n.left&&(s=r.x,i=r.y,o=r.x,l=r.y+e.height,n.top&&(i-=.5*n.top),n.bottom&&(l+=.5*n.bottom),c(n.left,s,i,o,l)),n.right&&(s=r.x+e.width,i=r.y,o=r.x+e.width,l=r.y+e.height,n.top&&(i-=.5*n.top),n.bottom&&(l+=.5*n.bottom),c(n.right,s,i,o,l));function c(u,f,h,g,p){t.getDocument().setLineWidth(u),t.getDocument().line(f,h,g,p,"S")}}function Fse(t,e,r,n){var s=e.settings.margin.bottom,i=e.settings.showFoot;return(i==="everyPage"||i==="lastPage"&&r)&&(s+=e.getFootHeight(e.columns)),t.pageSize().height-n.y-s}function Uy(t,e,r,n,s,i){s===void 0&&(s=[]),i===void 0&&(i=!1),t.applyStyles(t.userStyles),e.settings.showFoot==="everyPage"&&!i&&e.foot.forEach(function(l){return Hf(t,e,l,n,s)}),e.callEndPageHooks(t,n);var o=e.settings.margin;Ase(t,e,r,n),Bse(t),e.pageNumber++,n.x=o.left,n.y=o.top,r.y=o.top,e.callWillDrawPageHooks(t,n),e.settings.showHead==="everyPage"&&(e.head.forEach(function(l){return Hf(t,e,l,n,s)}),t.applyStyles(t.userStyles))}function Bse(t){var e=t.pageNumber();t.setPage(e+1);var r=t.pageNumber();return r===e?(t.addPage(),!0):!1}function EWe(t){t.API.autoTable=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=e[0],s=Dse(this,n),i=Rse(this,s);return Ise(this,i),this},t.API.lastAutoTable=!1,t.API.autoTableText=function(e,r,n,s){kse(e,r,n,s,this)},t.API.autoTableSetDefaults=function(e){return $g.setDefaults(e,this),this},t.autoTableSetDefaults=function(e,r){$g.setDefaults(e,r)},t.API.autoTableHtmlToJson=function(e,r){var n;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var s=new $g(this),i=Ose(s,e,window,r,!1),o=i.head,l=i.body,c=((n=o[0])===null||n===void 0?void 0:n.map(function(u){return u.content}))||[];return{columns:c,rows:l,data:l}}}var a6;function sy(t,e){var r=Dse(t,e),n=Rse(t,r);Ise(t,n)}try{if(typeof window<"u"&&window){var uY=window,dY=uY.jsPDF||((a6=uY.jspdf)===null||a6===void 0?void 0:a6.jsPDF);dY&&EWe(dY)}}catch(t){console.error("Could not apply autoTable plugin",t)}const fY=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884D8","#82CA9D","#FF6B6B","#4ECDC4","#45B7D1","#96CEB4"],OWe=({isOpen:t,workOrder:e,onClose:r})=>{var c,u,f,h,g,p,v,w;if(!t||!e)return null;const n=y=>y?new Date(y).toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric"}):"-",s=({title:y,children:N,icon:k})=>a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[a.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-4 border-b border-gray-200",children:a.jsxs("div",{className:"flex items-center",children:[k&&a.jsx("div",{className:"mr-3 text-blue-600",children:k}),a.jsx("h3",{className:"text-lg font-bold text-gray-900",children:y})]})}),a.jsx("div",{className:"p-6",children:N})]}),i=({label:y,value:N,icon:k,fullWidth:S=!1,priority:T="medium"})=>{const _={high:"border-l-4 border-l-blue-500 bg-blue-25",medium:"border-l-2 border-l-gray-200",low:"border-l border-l-gray-100"};return a.jsx("div",{className:`${S?"col-span-full":""}`,children:a.jsx("div",{className:`p-4 rounded-lg ${_[T]} transition-all duration-200 hover:shadow-sm`,children:a.jsxs("div",{className:"flex items-start space-x-3",children:[k&&a.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:k}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1",children:y}),a.jsx("p",{className:"text-sm font-medium text-gray-900 leading-relaxed",children:N})]})]})})})},o=({label:y,htmlContent:N,icon:k,fullWidth:S=!1})=>{if(!N)return a.jsx(i,{label:y,value:"-",icon:k,fullWidth:S,priority:"low"});const T=pd.sanitize(N,{ALLOWED_TAGS:["h1","h2","h3","h4","h5","h6","p","br","span","div","ol","ul","li","strong","b","em","i","u","s","strike","code","mark","sub","sup","blockquote","pre"],ALLOWED_ATTR:["style","class","data-color","align","type","start"]});return a.jsx("div",{className:`${S?"col-span-full":""}`,children:a.jsx("div",{className:"p-4 rounded-lg border-l-2 border-l-blue-200 bg-blue-25 transition-all duration-200 hover:shadow-sm",children:a.jsxs("div",{className:"flex items-start space-x-3",children:[k&&a.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:k}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:y}),a.jsx("div",{className:`rich-text-content text-sm text-gray-900 leading-relaxed prose prose-sm max-w-none\r
                          prose-headings:font-semibold prose-p:my-2 prose-ul:my-2 prose-ol:my-2\r
                          prose-li:my-1 prose-strong:font-semibold prose-em:italic`,dangerouslySetInnerHTML:{__html:T}})]})]})})})},l=({workOrder:y})=>{const N=R=>{switch(R==null?void 0:R.toLowerCase()){case"new":return a.jsx(VJ,{className:"w-4 h-4"});case"assigned":return a.jsx(cn,{className:"w-4 h-4"});case"in progress":return a.jsx(Cr,{className:"w-4 h-4"});case"resolved":return a.jsx(ZJ,{className:"w-4 h-4"});case"closed":return a.jsx(fr,{className:"w-4 h-4"});case"cancel":return a.jsx(ND,{className:"w-4 h-4"});case"escalated":return a.jsx(Hr,{className:"w-4 h-4"});case"vendor handled":return a.jsx(ia,{className:"w-4 h-4"});default:return a.jsx(hc,{className:"w-4 h-4"})}},k=R=>{switch(R==null?void 0:R.toLowerCase()){case"new":return"bg-blue-500";case"assigned":return"bg-purple-500";case"in progress":return"bg-yellow-500";case"resolved":return"bg-green-500";case"closed":return"bg-green-600";case"cancel":return"bg-red-500";case"escalated":return"bg-orange-500";case"vendor handled":return"bg-indigo-500";default:return"bg-gray-500"}},S=(R,F)=>({new:"Work order telah dibuat dan menunggu penanganan",assigned:`Telah ditugaskan kepada ${(F==null?void 0:F.assigned_to)||"teknisi"}`,"in progress":"Sedang dalam proses pengerjaan",resolved:"Masalah telah diselesaikan",closed:"Work order telah ditutup",cancel:"Work order dibatalkan",escalated:"Telah di-escalate ke level yang lebih tinggi","vendor handled":"Ditangani oleh vendor eksternal",updated:"Work order diperbarui"})[R.toLowerCase()]||`Status: ${R}`,T=()=>{var F,A;const R=[];if(R.push({id:"created",status:"new",date:y.date,changed_by:((F=y.requester)==null?void 0:F.name)||"System",description:"Work order dibuat",duration:"0 days",isSystemEvent:!0}),y.status_history&&y.status_history.length>0&&[...y.status_history].sort((B,z)=>new Date(B.changed_at).getTime()-new Date(z.changed_at).getTime()).forEach((B,z)=>{var oe,K;const Y=R[R.length-1],W=_(Y.date,B.changed_at);let H=B.action,q=S(B.action);B.action==="updated"&&((oe=B.new_data)!=null&&oe.handling_status)&&(H=B.new_data.handling_status,q=S(B.new_data.handling_status,{assigned_to:(K=y.assigned_to)==null?void 0:K.name}));let X="System";B.user_id===55?X="DevTest User 1":B.user_id===41?X="Regular User QC":B.user_id===57?X="DevTest User 2":B.user_id===36?X="Super Admin User":B.user_id===37?X="Admin User One":B.user_id===40?X="Regular User IT":B.user_id===42||B.user_id===56?X="Monitor":B.changed_by?X=B.changed_by:X=`User ${B.user_id}`,R.push({id:B.id.toString(),status:H,date:B.changed_at,changed_by:X,description:q,duration:W,comments:B.comments,old_data:B.old_data,new_data:B.new_data,isStatusChange:!0})}),(A=y.received_by)!=null&&A.name&&y.handling_date&&!R.some(B=>{var z,Y;return B.status==="received"||((z=B.new_data)==null?void 0:z.received_by_id)&&((Y=B.new_data)==null?void 0:Y.handling_status)==="Resolved"})){const B=R[R.length-1],z=_(B.date,y.handling_date),Y={id:"received",status:"received",date:y.handling_date,changed_by:y.received_by.name,description:"Diterima oleh teknisi",duration:z,isManualEvent:!0};R.push(Y)}return R.sort((M,B)=>new Date(M.date).getTime()-new Date(B.date).getTime())},_=(R,F)=>{const A=new Date(R),M=new Date(F),B=Math.abs(M.getTime()-A.getTime()),z=Math.ceil(B/(1e3*60*60*24));if(z===0){const Y=Math.ceil(B/36e5),W=Math.ceil(B/(1e3*60));return W<60?`${W} minutes`:`${Y} hours`}return`${z} day${z>1?"s":""}`},D=R=>{const F=new Date(R);return{date:F.toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric"}),time:F.toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"})}},E=R=>{var F,A,M;return(F=R.new_data)!=null&&F.handling_status?`Diubah menjadi: ${R.new_data.handling_status}`:(A=R.new_data)!=null&&A.assigned_to_id?"Ditugaskan ke teknisi":(M=R.new_data)!=null&&M.action_taken?`Tindakan diambil: ${R.new_data.action_taken.substring(0,50)}...`:null},L=T();return a.jsxs("div",{className:"space-y-6",children:[L.map((R,F)=>{const A=D(R.date),M=F===L.length-1,B=E(R);return a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("div",{className:`w-3 h-3 rounded-full ${k(R.status)}`}),!M&&a.jsx("div",{className:"w-0.5 h-16 bg-gray-300 mt-1"})]}),a.jsxs("div",{className:"flex-1 pb-4",children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[N(R.status),a.jsxs("div",{children:[a.jsx("span",{className:"font-semibold text-sm capitalize text-gray-900",children:R.status}),a.jsx("p",{className:"text-xs text-gray-600 mt-1",children:R.description})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:A.date}),a.jsx("div",{className:"text-xs text-gray-500",children:A.time})]})]}),a.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 space-y-2",children:[a.jsxs("div",{className:"flex justify-between items-center text-xs",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("span",{className:"text-gray-600",children:[a.jsx("strong",{children:"Changed by:"})," ",R.changed_by]}),R.duration&&R.duration!=="0 days"&&a.jsxs("span",{className:"text-blue-600 font-semibold",children:["⏱️ ",R.duration]})]}),R.duration&&R.duration!=="0 days"&&F>0&&a.jsx("div",{className:"text-right",children:a.jsx("span",{className:"text-gray-500 text-xs",children:"Duration from previous"})})]}),B&&a.jsx("div",{className:"text-xs text-gray-700 bg-white p-2 rounded border",children:B}),R.comments&&a.jsxs("div",{className:"text-xs text-gray-700 bg-white p-2 rounded border",children:[a.jsx("strong",{children:"Comments:"})," ",R.comments]}),R.status==="assigned"&&y.assigned_to&&a.jsxs("div",{className:"text-xs text-gray-700",children:[a.jsx("strong",{children:"Assigned to:"})," ",y.assigned_to.name,y.assigned_to.email&&` (${y.assigned_to.email})`]}),(R.status==="resolved"||R.status==="closed")&&y.action_taken&&a.jsxs("div",{className:"text-xs text-gray-700",children:[a.jsx("strong",{children:"Action taken:"})," ",y.action_taken.substring(0,100),"..."]})]}),M&&a.jsxs("div",{className:"mt-3 p-3 bg-blue-50 rounded-lg border border-blue-200",children:[a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"font-semibold text-blue-800",children:"Total duration from creation"}),a.jsx("span",{className:"font-bold text-blue-600 text-lg",children:_(y.date,R.date)})]}),a.jsxs("div",{className:"text-xs text-blue-600 mt-1",children:["Created: ",D(y.date).date," • Current: ",A.date]})]})]})]},R.id)}),y.handling_status==="Closed"&&y.handling_date&&a.jsxs("div",{className:"mt-6 p-4 bg-green-50 rounded-lg border border-green-200",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-green-800",children:"Work Order Completed"}),a.jsxs("p",{className:"text-sm text-green-600",children:["Total resolution time: ",_(y.date,y.handling_date)]})]}),a.jsx(fr,{className:"w-8 h-8 text-green-500"})]}),a.jsxs("div",{className:"text-xs text-green-600 mt-2 grid grid-cols-2 gap-2",children:[a.jsxs("div",{children:["Created: ",D(y.date).date]}),a.jsxs("div",{children:["Completed: ",D(y.handling_date).date]}),a.jsxs("div",{className:"col-span-2",children:[a.jsx("strong",{children:"Timeline:"})," ",L.length," status changes"]})]})]})]})};return a.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(O.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl mx-auto border border-blue-100 max-h-[90vh] overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"flex justify-between items-center border-b border-gray-100 px-6 py-4 bg-blue-50",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Work Order Details"}),a.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:r,className:"text-gray-500 hover:text-gray-700 text-2xl p-1 rounded-full hover:bg-blue-100 transition-colors duration-200",children:a.jsx(Ft,{size:24})})]}),a.jsxs("div",{className:"overflow-y-auto custom-scrollbar p-6 space-y-6 flex-grow",children:[a.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6",children:a.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:e.work_order_no||"No Work Order Number"}),a.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-bold rounded-full ${e.handling_status==="New"?"bg-gray-100 text-gray-800 border border-gray-300":e.handling_status==="Assigned"?"bg-blue-100 text-blue-800 border border-blue-300":e.handling_status==="In Progress"?"bg-yellow-100 text-yellow-800 border border-yellow-300":e.handling_status==="Resolved"||e.handling_status==="Closed"?"bg-green-100 text-green-800 border border-green-300":"bg-gray-100 text-gray-800 border border-gray-300"}`,children:e.handling_status||"Unknown Status"})]}),a.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(ga,{className:"w-4 h-4"}),"Created: ",n(e.date)]}),e.handling_date&&a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(Cr,{className:"w-4 h-4"}),"Handled: ",n(e.handling_date)]})]})]})})}),a.jsx(s,{title:"General Information",icon:a.jsx(cn,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsx(i,{label:"Work Order No",value:e.work_order_no||"-",icon:a.jsx(cn,{className:"w-4 h-4"}),priority:"high"}),a.jsx(i,{label:"Date",value:n(e.date),icon:a.jsx(ga,{className:"w-4 h-4"}),priority:"high"}),a.jsx(i,{label:"Reception Method",value:e.reception_method||"-",icon:a.jsx(cn,{className:"w-4 h-4"})}),a.jsx(i,{label:"Requester",value:((c=e.requester)==null?void 0:c.name)||"-",icon:a.jsx(cn,{className:"w-4 h-4"}),priority:"high"}),a.jsx(i,{label:"Known By",value:((u=e.known_by)==null?void 0:u.name)||"-",icon:a.jsx(bo,{className:"w-4 h-4"})}),a.jsx(i,{label:"Department",value:((f=e.department)==null?void 0:f.name)||"-",icon:a.jsx(Pa,{className:"w-4 h-4"})})]})}),a.jsx(s,{title:"Service Details",icon:a.jsx(ia,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(i,{label:"Service Type",value:((h=e.service_type)==null?void 0:h.group_name)||"-",icon:a.jsx(ia,{className:"w-4 h-4"}),priority:"high"}),a.jsx(i,{label:"Service",value:((g=e.service)==null?void 0:g.service_name)||"-",icon:a.jsx(ia,{className:"w-4 h-4"}),priority:"high"}),a.jsx(i,{label:"Asset No",value:e.asset_no||"-",icon:a.jsx(cn,{className:"w-4 h-4"})}),a.jsx(i,{label:"Device Info",value:e.device_info||"-",icon:a.jsx(ia,{className:"w-4 h-4"})}),a.jsx(o,{label:"Complaint",htmlContent:e.complaint||"",icon:a.jsx(Hr,{className:"w-4 h-4"}),fullWidth:!0})]})}),a.jsx(s,{title:"Handling Information",icon:a.jsx(Cr,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(i,{label:"Status",value:e.handling_status||"-",icon:a.jsx(Cr,{className:"w-4 h-4"}),priority:"high"}),a.jsx(i,{label:"Received By",value:((p=e.received_by)==null?void 0:p.name)||"-",icon:a.jsx(cn,{className:"w-4 h-4"})}),a.jsx(i,{label:"Assigned To",value:((v=e.assigned_to)==null?void 0:v.name)||"-",icon:a.jsx(cn,{className:"w-4 h-4"}),priority:"high"}),a.jsx(i,{label:"Handling Date",value:n(e.handling_date),icon:a.jsx(ga,{className:"w-4 h-4"})}),a.jsx(o,{label:"Action Taken",htmlContent:e.action_taken||"",icon:a.jsx(fr,{className:"w-4 h-4"}),fullWidth:!0}),a.jsx(o,{label:"Remarks",htmlContent:e.remarks||"",icon:a.jsx(cn,{className:"w-4 h-4"}),fullWidth:!0})]})}),e.status_history&&e.status_history.length>0&&a.jsx(s,{title:"Work Order Timeline",icon:a.jsx(KJ,{className:"w-5 h-5"}),children:a.jsx(l,{workOrder:e})}),a.jsx(s,{title:"Performance Metrics",icon:a.jsx(bc,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"p-4 bg-blue-25 rounded-lg border-l-4 border-l-blue-400",children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Resolution Time"}),a.jsx("p",{className:"text-lg font-bold text-blue-600",children:e.handling_date&&e.date?`${Math.ceil((new Date(e.handling_date).getTime()-new Date(e.date).getTime())/(1e3*60*60*24))} days`:"Ongoing"})]}),a.jsxs("div",{className:"p-4 bg-green-25 rounded-lg border-l-4 border-l-green-400",children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Priority Level"}),a.jsx("p",{className:"text-lg font-bold text-green-600",children:((w=e.service)==null?void 0:w.priority)||"Not Set"})]})]})})]}),a.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-100 px-6 py-4 bg-gray-50",children:a.jsx(O.button,{type:"button",onClick:r,whileHover:{scale:1.03,boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.97},className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold",children:"Close Details"})})]})})},DWe=()=>{const[t,e]=b.useState(!1),[r,n]=b.useState(""),[s,i]=b.useState("all"),[o,l]=b.useState("all"),[c,u]=b.useState("all"),[f,h]=b.useState("all"),[g,p]=b.useState(!1),[v,w]=b.useState(1),[y]=b.useState(5),[N,k]=b.useState(window.innerWidth<768),[S,T]=b.useState([]),[_,D]=b.useState(!0),[E,L]=b.useState(null),[R,F]=b.useState(),[A,M]=b.useState(!1),[B,z]=b.useState("30days"),{user:Y,getWorkOrdersIT:W,hasPermission:H}=or(),q=tr(),X=Ds(),oe=X.pathname==="/workorders/it",K=X.pathname==="/workorders/it/receiver",V=X.pathname==="/workorders/it/assignment",J=X.pathname==="/workorders/it/reports",Q=X.pathname==="/workorders/it/knowledgebase";b.useEffect(()=>{const le=()=>{k(window.innerWidth<768),window.innerWidth<768&&e(!1)};return window.addEventListener("resize",le),()=>window.removeEventListener("resize",le)},[]);const re=b.useCallback(async()=>{try{D(!0);const le=await W();T(le)}catch(le){L("Failed to load work orders data"),console.error("Error loading work orders:",le)}finally{D(!1)}},[W]);b.useEffect(()=>{re()},[re]);const ce=le=>{if(!le.handling_date||!le.date)return 0;const Je=new Date(le.date),Ge=new Date(le.handling_date);return Math.ceil((Ge.getTime()-Je.getTime())/(1e3*60*60*24))},ke=b.useCallback(()=>{const le=new Date;let Je=new Date;switch(B){case"7days":Je.setDate(le.getDate()-7);break;case"30days":Je.setDate(le.getDate()-30);break;case"90days":Je.setDate(le.getDate()-90);break;case"all":Je=new Date(0);break}return S.filter(Ge=>{var We,rt,ve,xe,Qe,yt,st,_e,te;const Pe=new Date(Ge.date)>=Je,Ne=((We=Ge.work_order_no)==null?void 0:We.toLowerCase().includes(r.toLowerCase()))||((ve=(rt=Ge.requester)==null?void 0:rt.name)==null?void 0:ve.toLowerCase().includes(r.toLowerCase()))||((xe=Ge.complaint)==null?void 0:xe.toLowerCase().includes(r.toLowerCase()))||((yt=(Qe=Ge.service)==null?void 0:Qe.service_name)==null?void 0:yt.toLowerCase().includes(r.toLowerCase())),ze=s==="all"||Ge.handling_status===s,me=o==="all"||((st=Ge.department)==null?void 0:st.name)===o,De=c==="all"||((_e=Ge.service)==null?void 0:_e.priority)===c,je=f==="all"||((te=Ge.service_type)==null?void 0:te.group_name)===f;return Pe&&Ne&&ze&&me&&De&&je})},[S,B,r,s,o,c,f])(),Ce=(()=>{const le=ke.filter(st=>["Resolved","Closed"].includes(st.handling_status)),Je=ke.filter(st=>["New","Assigned","In Progress"].includes(st.handling_status)),Ge=le.length>0?le.reduce((st,_e)=>st+ce(_e),0)/le.length:0,ut=Object.entries(ke.reduce((st,_e)=>{const te=_e.handling_status||"Unknown";return st[te]=(st[te]||0)+1,st},{})).map(([st,_e])=>({status:st,count:_e,percentage:_e/ke.length*100})),Pe=Object.entries(ke.reduce((st,_e)=>{var Fe;const te=((Fe=_e.service)==null?void 0:Fe.priority)||"Not Set";return st[te]=(st[te]||0)+1,st},{})).map(([st,_e])=>({priority:st,count:_e,percentage:_e/ke.length*100})),Ne=Object.entries(ke.reduce((st,_e)=>{var Fe;const te=((Fe=_e.department)==null?void 0:Fe.name)||"Unknown";return st[te]=(st[te]||0)+1,st},{})).map(([st,_e])=>({dept:st,count:_e,percentage:_e/ke.length*100})).sort((st,_e)=>_e.count-st.count).slice(0,8),ze=Object.entries(ke.reduce((st,_e)=>{var Fe;const te=((Fe=_e.service_type)==null?void 0:Fe.group_name)||"Unknown";return st[te]=(st[te]||0)+1,st},{})).map(([st,_e])=>({serviceType:st,count:_e,percentage:_e/ke.length*100})),me=Array.from({length:12},(st,_e)=>{const te=new Date;te.setMonth(te.getMonth()-(11-_e));const Fe=te.toLocaleDateString("id-ID",{month:"short",year:"numeric"}),Xe=ke.filter(wt=>{const $e=new Date(wt.date);return $e.getMonth()===te.getMonth()&&$e.getFullYear()===te.getFullYear()}),lt=Xe.filter(wt=>["Resolved","Closed"].includes(wt.handling_status));return{month:Fe,created:Xe.length,resolved:lt.length,resolutionRate:Xe.length>0?lt.length/Xe.length*100:0}}),De=["New","Assigned","In Progress","Resolved","Closed","Cancel"].map(st=>{const _e=ke.filter(Fe=>Fe.handling_status===st),te=_e.length>0?_e.reduce((Fe,Xe)=>{const wt=(Xe.status_history||[]).find($e=>$e.action===st);if(wt){const $e=new Date().getTime()-new Date(wt.changed_at).getTime();return Fe+Math.ceil($e/(1e3*60*60*24))}return Fe},0)/_e.length:0;return{status:st,avgTimeInStatus:Math.round(te),count:_e.length}}),je=Object.entries(ke.reduce((st,_e)=>{var Fe;const te=((Fe=_e.service_type)==null?void 0:Fe.group_name)||"Unknown";if(st[te]||(st[te]=[]),_e.handling_date&&_e.date){const Xe=ce(_e);st[te].push(Xe)}return st},{})).map(([st,_e])=>({serviceType:st,avgResolutionTime:_e.length>0?Math.round(_e.reduce((te,Fe)=>te+Fe,0)/_e.length):0,totalRequests:_e.length,maxResolutionTime:_e.length>0?Math.max(..._e):0,minResolutionTime:_e.length>0?Math.min(..._e):0})),We=Object.entries(ke.reduce((st,_e)=>{var Fe;const te=((Fe=_e.service)==null?void 0:Fe.service_name)||"Unknown";if(st[te]||(st[te]=[]),_e.handling_date&&_e.date){const Xe=ce(_e);st[te].push(Xe)}return st},{})).map(([st,_e])=>({service:st,avgResolutionTime:_e.length>0?Math.round(_e.reduce((te,Fe)=>te+Fe,0)/_e.length):0,totalRequests:_e.length})),rt=["Critical","High","Medium","Low"].map(st=>{const _e=ke.filter(Xe=>{var lt;return((lt=Xe.service)==null?void 0:lt.priority)===st}),te=_e.filter(Xe=>["Resolved","Closed"].includes(Xe.handling_status)&&Xe.handling_date&&Xe.date),Fe=te.length>0?te.reduce((Xe,lt)=>Xe+ce(lt),0)/te.length:0;return{priority:st,avgResolutionTime:Math.round(Fe),total:_e.length,resolved:te.length}}),xe=Array.from({length:30},(st,_e)=>{const te=new Date;return te.setDate(te.getDate()-(29-_e)),te.toISOString().split("T")[0]}).map(st=>{const _e=ke.filter(Fe=>Fe.date.startsWith(st)),te=_e.filter(Fe=>["Resolved","Closed"].includes(Fe.handling_status));return{date:new Date(st).toLocaleDateString("id-ID",{month:"short",day:"numeric"}),created:_e.length,resolved:te.length,backlog:_e.length-te.length}}),Qe=Object.entries(ke.reduce((st,_e)=>{var Fe,Xe,lt,wt;const te=((Xe=(Fe=_e.service)==null?void 0:Fe.owner)==null?void 0:Xe.name)||"Unknown Owner";if(st[te]||(st[te]={workOrders:[],totalResolutionTime:0,resolvedCount:0}),_e.handling_date&&_e.date){const $e=ce(_e);st[te].workOrders.push({workOrderNo:_e.work_order_no,priority:(lt=_e.service)==null?void 0:lt.priority,resolutionTime:$e,status:_e.handling_status,service:(wt=_e.service)==null?void 0:wt.service_name}),st[te].totalResolutionTime+=$e,["Resolved","Closed"].includes(_e.handling_status)&&st[te].resolvedCount++}return st},{})).map(([st,_e])=>({owner:st,avgResolutionTime:_e.resolvedCount>0?Math.round(_e.totalResolutionTime/_e.resolvedCount):0,totalWorkOrders:_e.workOrders.length,resolvedWorkOrders:_e.resolvedCount,workOrders:_e.workOrders})),yt=Object.entries(ke.reduce((st,_e)=>{var Fe,Xe,lt;const te=((Fe=_e.assigned_to)==null?void 0:Fe.name)||"Unassigned";if(st[te]||(st[te]={workOrders:[],totalResolutionTime:0,resolvedCount:0}),_e.handling_date&&_e.date){const wt=ce(_e);st[te].workOrders.push({workOrderNo:_e.work_order_no,priority:(Xe=_e.service)==null?void 0:Xe.priority,resolutionTime:wt,status:_e.handling_status,service:(lt=_e.service)==null?void 0:lt.service_name}),st[te].totalResolutionTime+=wt,["Resolved","Closed"].includes(_e.handling_status)&&st[te].resolvedCount++}return st},{})).map(([st,_e])=>({pic:st,avgResolutionTime:_e.resolvedCount>0?Math.round(_e.totalResolutionTime/_e.resolvedCount):0,totalWorkOrders:_e.workOrders.length,resolvedWorkOrders:_e.resolvedCount,workOrders:_e.workOrders}));return{total:ke.length,resolved:le.length,active:Je.length,avgResolutionTime:Math.round(Ge),resolutionRate:ke.length>0?le.length/ke.length*100:0,statusDistribution:ut,priorityDistribution:Pe,departmentDistribution:Ne,serviceTypeDistribution:ze,monthlyTrends:me,statusTimingAnalysis:De,serviceTypePerformance:je,servicePerformance:We,priorityTimingAnalysis:rt,dailyTrends:xe,serviceOwnerPerformance:Qe,picPerformance:yt}})(),Ke=[{title:"Total Work Orders",value:Ce.total.toString(),change:"+12%",icon:a.jsx(vf,{})},{title:"Avg Resolution Time",value:`${Ce.avgResolutionTime} days`,change:Ce.avgResolutionTime<5?"-2 days":"+1 day",icon:a.jsx(Cr,{})},{title:"Service Types",value:Ce.serviceTypePerformance.length.toString(),change:"+3%",icon:a.jsx(upe,{})},{title:"Active Technicians",value:Ce.picPerformance.filter(le=>le.pic!=="Unassigned").length.toString(),change:"+2%",icon:a.jsx(Pa,{})}],fe=b.useCallback(()=>{if(H("export_reports")){const le=new Tr;le.setFontSize(20),le.setTextColor(40,40,40),le.text("IT WORK ORDER REPORT",105,20,{align:"center"}),le.setFontSize(12),le.setTextColor(100,100,100),le.text(`Generated on: ${new Date().toLocaleDateString("id-ID")}`,105,30,{align:"center"}),le.text(`Time Range: ${B==="7days"?"Last 7 Days":B==="30days"?"Last 30 Days":B==="90days"?"Last 90 Days":"All Time"}`,105,37,{align:"center"}),le.setFontSize(14),le.setTextColor(40,40,40),le.text("SUMMARY STATISTICS",20,55),le.setFontSize(10),le.setTextColor(80,80,80),le.text(`Total Work Orders: ${Ce.total}`,20,65),le.text(`Resolved: ${Ce.resolved}`,20,72),le.text(`Active: ${Ce.active}`,20,79),le.text(`Average Resolution Time: ${Ce.avgResolutionTime} days`,20,86),le.text(`Resolution Rate: ${Ce.resolutionRate.toFixed(1)}%`,20,93),le.setFontSize(14),le.setTextColor(40,40,40),le.text("WORK ORDER DETAILS",20,110);const Je=["WO No","Requester","Department","Date","Status","Priority","Service Type","Assigned To","Resolution Days"],Ge=ke.map(Ne=>{var ze,me,De,je,We;return[Ne.work_order_no||"-",((ze=Ne.requester)==null?void 0:ze.name)||"-",((me=Ne.department)==null?void 0:me.name)||"-",Te(Ne.date),Ne.handling_status||"-",((De=Ne.service)==null?void 0:De.priority)||"Not Set",((je=Ne.service_type)==null?void 0:je.group_name)||"-",((We=Ne.assigned_to)==null?void 0:We.name)||"-",Ne.handling_date?ce(Ne).toString():"Ongoing"]});sy(le,{head:[Je],body:Ge,startY:115,styles:{fontSize:8,cellPadding:2},headStyles:{fillColor:[59,130,246],textColor:255,fontStyle:"bold"},alternateRowStyles:{fillColor:[240,240,240]},margin:{left:20,right:20}});const ut=le.lastAutoTable.finalY+15;if(ut<250){le.setFontSize(14),le.setTextColor(40,40,40),le.text("STATUS DISTRIBUTION",20,ut);const Ne=Ce.statusDistribution.map(ze=>[ze.status,ze.count.toString(),`${ze.percentage.toFixed(1)}%`]);sy(le,{head:[["Status","Count","Percentage"]],body:Ne,startY:ut+5,styles:{fontSize:8,cellPadding:2},headStyles:{fillColor:[16,185,129],textColor:255,fontStyle:"bold"},margin:{left:20,right:20}})}const Pe=le.getNumberOfPages();for(let Ne=1;Ne<=Pe;Ne++)le.setPage(Ne),le.setFontSize(8),le.setTextColor(150,150,150),le.text(`Page ${Ne} of ${Pe}`,105,290,{align:"center"}),le.text("Confidential - IT Department Report",105,295,{align:"center"});le.save(`it-workorder-report-${new Date().toISOString().split("T")[0]}.pdf`)}else alert("You do not have permission to export reports.")},[H,ke,Ce,B]),ye=b.useCallback(()=>{if(H("export_reports")){const le=new Tr;le.setFillColor(59,130,246),le.rect(0,0,210,297,"F"),le.setTextColor(255,255,255),le.setFontSize(24),le.text("IT SERVICE MANAGEMENT",105,100,{align:"center"}),le.setFontSize(18),le.text("COMPREHENSIVE REPORT",105,120,{align:"center"}),le.setFontSize(14),le.text(`Period: ${B==="7days"?"Last 7 Days":B==="30days"?"Last 30 Days":B==="90days"?"Last 90 Days":"All Time"}`,105,150,{align:"center"}),le.text(`Generated: ${new Date().toLocaleDateString("id-ID",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}`,105,160,{align:"center"}),le.setFontSize(10),le.text("Confidential Business Document - For Internal Use Only",105,280,{align:"center"}),le.addPage(),le.setFillColor(59,130,246),le.rect(0,0,210,30,"F"),le.setTextColor(255,255,255),le.setFontSize(16),le.text("EXECUTIVE SUMMARY",105,20,{align:"center"}),le.setTextColor(0,0,0),le.setFontSize(12);const Je=50;le.text("Performance Overview:",20,Je),le.setFontSize(10),le.text(`• Total Work Orders Processed: ${Ce.total}`,25,Je+10),le.text(`• Successfully Resolved: ${Ce.resolved} (${Ce.resolutionRate.toFixed(1)}%)`,25,Je+17),le.text(`• Average Resolution Time: ${Ce.avgResolutionTime} days`,25,Je+24),le.text(`• Active/Pending Work Orders: ${Ce.active}`,25,Je+31),le.text("Key Metrics:",20,Je+50),le.text(`• Service Types Handled: ${Ce.serviceTypePerformance.length}`,25,Je+60),le.text(`• Departments Served: ${Ce.departmentDistribution.length}`,25,Je+67),le.text(`• Active Technicians: ${Ce.picPerformance.filter(De=>De.pic!=="Unassigned").length}`,25,Je+74),le.addPage(),le.setFillColor(59,130,246),le.rect(0,0,210,30,"F"),le.setTextColor(255,255,255),le.setFontSize(16),le.text("PERFORMANCE ANALYSIS",105,20,{align:"center"}),le.setTextColor(0,0,0),le.setFontSize(12),le.text("Service Type Performance:",20,50);const Ge=Ce.serviceTypePerformance.sort((De,je)=>je.avgResolutionTime-De.avgResolutionTime).map(De=>[De.serviceType,De.avgResolutionTime.toString(),De.totalRequests.toString()]);sy(le,{head:[["Service Type","Avg Resolution (Days)","Total Requests"]],body:Ge,startY:60,styles:{fontSize:8},headStyles:{fillColor:[16,185,129],textColor:255,fontStyle:"bold"}});const ut=le.lastAutoTable.finalY+15;le.setFontSize(12),le.text("Technician Performance:",20,ut);const Pe=Ce.picPerformance.filter(De=>De.pic!=="Unassigned").sort((De,je)=>je.totalWorkOrders-De.totalWorkOrders).map(De=>[De.pic,De.avgResolutionTime.toString(),De.totalWorkOrders.toString(),De.resolvedWorkOrders.toString()]);sy(le,{head:[["Technician","Avg Resolution (Days)","Total Assigned","Resolved"]],body:Pe,startY:ut+5,styles:{fontSize:8},headStyles:{fillColor:[245,158,11],textColor:255,fontStyle:"bold"}}),le.addPage(),le.setFillColor(59,130,246),le.rect(0,0,210,30,"F"),le.setTextColor(255,255,255),le.setFontSize(16),le.text("DETAILED WORK ORDERS",105,20,{align:"center"});const Ne=["Work Order No","Requester","Department","Date","Status","Priority","Service Type","Assigned To","Resolution Days"],ze=ke.map(De=>{var je,We,rt,ve,xe;return[De.work_order_no||"-",((je=De.requester)==null?void 0:je.name)||"-",((We=De.department)==null?void 0:We.name)||"-",Te(De.date),De.handling_status||"-",((rt=De.service)==null?void 0:rt.priority)||"Not Set",((ve=De.service_type)==null?void 0:ve.group_name)||"-",((xe=De.assigned_to)==null?void 0:xe.name)||"-",De.handling_date?ce(De).toString():"Ongoing"]});sy(le,{head:[Ne],body:ze,startY:40,styles:{fontSize:6,cellPadding:1.5},headStyles:{fillColor:[59,130,246],textColor:255,fontStyle:"bold"},alternateRowStyles:{fillColor:[240,240,240]}});const me=le.getNumberOfPages();for(let De=1;De<=me;De++)le.setPage(De),le.setFontSize(8),le.setTextColor(150,150,150),le.text(`Page ${De} of ${me}`,105,290,{align:"center"}),le.text("Confidential IT Department Report",105,295,{align:"center"});le.save(`it-detailed-report-${new Date().toISOString().split("T")[0]}.pdf`)}else alert("You do not have permission to export reports.")},[H,ke,Ce,B]),ae=le=>{switch(le==null?void 0:le.toLowerCase()){case"new":return"bg-gray-500 text-white";case"assigned":return"bg-blue-500 text-white";case"in progress":return"bg-yellow-500 text-white";case"escalated":return"bg-orange-500 text-white";case"vendor handled":return"bg-purple-500 text-white";case"resolved":return"bg-green-500 text-white";case"cancel":return"bg-red-500 text-white";case"closed":return"bg-green-700 text-white";default:return"bg-gray-500 text-white"}},se=()=>{e(le=>!le)},bt=v*y,pt=bt-y,Re=ke.slice(pt,bt),Me=Math.ceil(ke.length/y),qe=le=>w(le);b.useEffect(()=>{w(1)},[r,s,o,c,f,B]);const tt=le=>{F(le),M(!0)},Ve=()=>{M(!1),F(void 0)},Te=le=>{if(!le)return"-";try{const Je=new Date(le);return isNaN(Je.getTime())?"-":Je.toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric"})}catch{return"-"}};return _?a.jsxs("div",{className:"flex h-screen items-center justify-center bg-blue-50",children:[a.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-blue-600"}),a.jsx("p",{className:"ml-4 text-lg text-gray-700",children:"Loading reports data..."})]}):E?a.jsxs("div",{className:"flex h-screen items-center justify-center bg-red-50",children:[a.jsx(Hr,{className:"text-red-600 text-5xl"}),a.jsx("p",{className:"ml-4 text-lg text-red-800",children:E}),a.jsx("button",{onClick:()=>window.location.reload(),className:"ml-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Retry"})]}):a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"IT Work Order - Advanced Analytics",mainTitleHighlight:"Dashboard",description:"Comprehensive performance insights and operational analytics for IT service management.",icon:a.jsx(bc,{}),isMobile:N,toggleSidebar:se}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"isi style mb-6 flex space-x-6 border-b border-gray-200",children:[a.jsx(O.div,{whileTap:{scale:.98},onClick:()=>q("/workorders/it"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${oe?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Request"}),a.jsx(O.div,{whileTap:{scale:.98},onClick:()=>q("/workorders/it/receiver"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${K?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Receiver"}),a.jsx(O.div,{whileTap:{scale:.98},onClick:()=>q("/workorders/it/assignment"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${V?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Assignment"}),a.jsx(O.div,{whileTap:{scale:.98},onClick:()=>q("/workorders/it/reports"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${J?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Reports"}),a.jsx(O.div,{whileTap:{scale:.98},onClick:()=>q("/workorders/it/knowledgebase"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${Q?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Knowledge Base"})]}),a.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"IT Service Performance Analytics"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Advanced insights and performance metrics for IT work order management"})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[a.jsxs("select",{value:B,onChange:le=>z(le.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"7days",children:"Last 7 Days"}),a.jsx("option",{value:"30days",children:"Last 30 Days"}),a.jsx("option",{value:"90days",children:"Last 90 Days"}),a.jsx("option",{value:"all",children:"All Time"})]}),H("export_reports")&&a.jsxs(a.Fragment,{children:[a.jsxs(O.button,{onClick:fe,whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 rounded-lg bg-blue-600 text-white shadow-md hover:bg-blue-700 transition-colors duration-200 flex items-center",children:[a.jsx(II,{className:"mr-2"})," Export Summary PDF"]}),a.jsxs(O.button,{onClick:ye,whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 rounded-lg bg-green-600 text-white shadow-md hover:bg-green-700 transition-colors duration-200 flex items-center",children:[a.jsx(II,{className:"mr-2"})," Export Detailed PDF"]})]})]})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:Ke.map((le,Je)=>a.jsx(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:Je*.1},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 hover:shadow-lg transition-shadow duration-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:le.title}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:le.value}),a.jsxs("p",{className:`mt-2 text-xs font-semibold ${le.change.startsWith("+")?"text-green-600":"text-red-600"}`,children:[le.change," from previous period"]})]}),a.jsx("div",{className:"p-3 rounded-full bg-blue-50 text-blue-600 text-xl",children:le.icon})]})},le.title))}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(ff,{className:"mr-2"})," Monthly Work Order Trends"]}),a.jsx(Cl,{width:"100%",height:300,children:a.jsxs(q$e,{data:Ce.monthlyTrends,children:[a.jsx(au,{strokeDasharray:"3 3"}),a.jsx(Mo,{dataKey:"month"}),a.jsx(Eo,{}),a.jsx(Ts,{}),a.jsx($f,{type:"monotone",dataKey:"created",stackId:"1",stroke:"#8884d8",fill:"#8884d8",name:"Created"}),a.jsx($f,{type:"monotone",dataKey:"resolved",stackId:"1",stroke:"#82ca9d",fill:"#82ca9d",name:"Resolved"})]})})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(tM,{className:"mr-2"})," Status Distribution"]}),a.jsx(Cl,{width:"100%",height:300,children:a.jsxs(PL,{children:[a.jsx(gu,{data:Ce.statusDistribution,cx:"50%",cy:"50%",labelLine:!1,label:({status:le,percentage:Je})=>`${le}: ${Je.toFixed(1)}%`,outerRadius:80,fill:"#8884d8",dataKey:"count",children:Ce.statusDistribution.map((le,Je)=>a.jsx(qp,{fill:fY[Je%fY.length]},`cell-${Je}`))}),a.jsx(Ts,{})]})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(tM,{className:"mr-2"})," Priority Resolution Time (Days)"]}),a.jsx(Cl,{width:"100%",height:300,children:a.jsxs(Hy,{data:Ce.priorityTimingAnalysis,children:[a.jsx(au,{strokeDasharray:"3 3"}),a.jsx(Mo,{dataKey:"priority"}),a.jsx(Eo,{}),a.jsx(Ts,{formatter:le=>[`${le} days`,"Avg Resolution Time"]}),a.jsx(uu,{dataKey:"avgResolutionTime",fill:"#ff7300",name:"Avg Resolution (Days)"})]})})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(Pa,{className:"mr-2"})," Department Distribution"]}),a.jsx(Cl,{width:"100%",height:300,children:a.jsxs(Hy,{data:Ce.departmentDistribution,layout:"vertical",children:[a.jsx(au,{strokeDasharray:"3 3"}),a.jsx(Mo,{type:"number"}),a.jsx(Eo,{type:"category",dataKey:"dept",width:100}),a.jsx(Ts,{}),a.jsx(uu,{dataKey:"count",fill:"#0088FE",name:"Work Orders"})]})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(Ll,{className:"mr-2"})," Status Timing Analysis"]}),a.jsx("div",{className:"space-y-4",children:Ce.statusTimingAnalysis.filter(le=>le.count>0).map((le,Je)=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:`w-3 h-3 rounded-full mr-3 ${ae(le.status).split(" ")[0]}`}),a.jsx("span",{className:"font-medium text-sm capitalize",children:le.status})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"font-semibold",children:[le.avgTimeInStatus,"d avg"]}),a.jsxs("div",{className:"text-xs text-gray-500",children:[le.count," tickets"]})]})]},le.status))})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(Ll,{className:"mr-2"})," Service Type Performance (Days to Resolve)"]}),a.jsx(Cl,{width:"100%",height:300,children:a.jsxs(Hy,{data:Ce.serviceTypePerformance.sort((le,Je)=>Je.avgResolutionTime-le.avgResolutionTime).slice(0,8),layout:"vertical",children:[a.jsx(au,{strokeDasharray:"3 3"}),a.jsx(Mo,{type:"number"}),a.jsx(Eo,{type:"category",dataKey:"serviceType",width:120}),a.jsx(Ts,{formatter:le=>[`${le} days`,"Avg Resolution Time"]}),a.jsx(uu,{dataKey:"avgResolutionTime",fill:"#0088FE",name:"Avg Days to Resolve",children:Ce.serviceTypePerformance.map((le,Je)=>a.jsx(qp,{fill:le.avgResolutionTime>10?"#FF8042":le.avgResolutionTime>5?"#FFBB28":"#00C49F"},`cell-${Je}`))})]})})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(ff,{className:"mr-2"})," Daily Work Order Trends (30 Days)"]}),a.jsx(Cl,{width:"100%",height:300,children:a.jsxs(yN,{data:Ce.dailyTrends,children:[a.jsx(au,{strokeDasharray:"3 3"}),a.jsx(Mo,{dataKey:"date"}),a.jsx(Eo,{}),a.jsx(Ts,{}),a.jsx(Tf,{}),a.jsx(Bf,{type:"monotone",dataKey:"created",stroke:"#8884d8",name:"Created",strokeWidth:2}),a.jsx(Bf,{type:"monotone",dataKey:"resolved",stroke:"#82ca9d",name:"Resolved",strokeWidth:2})]})})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(cn,{className:"mr-2"})," Service Owner Performance"]}),a.jsx("div",{className:"space-y-4 max-h-80 overflow-y-auto",children:Ce.serviceOwnerPerformance.sort((le,Je)=>Je.totalWorkOrders-le.totalWorkOrders).map((le,Je)=>a.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:[a.jsxs("div",{className:"flex justify-between items-start mb-3",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900",children:le.owner}),a.jsxs("p",{className:"text-sm text-gray-600",children:[le.totalWorkOrders," work orders"]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"text-lg font-bold text-blue-600",children:[le.avgResolutionTime," days avg"]}),a.jsxs("div",{className:"text-sm text-gray-500",children:[le.resolvedWorkOrders," resolved"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-2 text-xs",children:[le.workOrders.slice(0,3).map((Ge,ut)=>a.jsxs("div",{className:"flex justify-between items-center p-2 bg-white rounded",children:[a.jsx("span",{className:"font-medium",children:Ge.workOrderNo}),a.jsx("span",{className:`px-2 py-1 rounded text-xs ${Ge.priority==="Critical"?"bg-red-100 text-red-800":Ge.priority==="High"?"bg-orange-100 text-orange-800":"bg-blue-100 text-blue-800"}`,children:Ge.priority}),a.jsxs("span",{children:[Ge.resolutionTime,"d"]})]},ut)),le.workOrders.length>3&&a.jsxs("div",{className:"text-center text-gray-500 text-xs",children:["+",le.workOrders.length-3," more work orders"]})]})]},le.owner))})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(Pa,{className:"mr-2"})," Technician Performance"]}),a.jsx("div",{className:"space-y-3",children:Ce.picPerformance.filter(le=>le.pic!=="Unassigned").sort((le,Je)=>Je.totalWorkOrders-le.totalWorkOrders).slice(0,6).map((le,Je)=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500 mr-3"}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-sm",children:le.pic}),a.jsxs("div",{className:"text-xs text-gray-500",children:[le.totalWorkOrders," orders • ",le.avgResolutionTime,"d avg"]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"font-semibold",children:[le.resolvedWorkOrders,"/",le.totalWorkOrders]}),a.jsx("div",{className:"text-xs text-gray-500",children:"resolved"})]})]},le.pic))})]})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 mb-6 border border-blue-100",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[a.jsxs("div",{className:"relative w-full md:w-1/3",children:[a.jsx(Da,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),a.jsx("input",{type:"text",placeholder:"Search work orders...",value:r,onChange:le=>n(le.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 w-full md:w-2/3 justify-end",children:[a.jsxs("div",{className:"relative w-full sm:w-auto",children:[a.jsxs("select",{value:s,onChange:le=>i(le.target.value),className:"w-full sm:w-48 p-2.5 border border-gray-300 rounded-lg appearance-none focus:ring-blue-500 focus:border-blue-500 pr-8 bg-white",children:[a.jsx("option",{value:"all",children:"All Statuses"}),a.jsx("option",{value:"New",children:"New"}),a.jsx("option",{value:"Assigned",children:"Assigned"}),a.jsx("option",{value:"In Progress",children:"In Progress"}),a.jsx("option",{value:"Escalated",children:"Escalated"}),a.jsx("option",{value:"Vendor Handled",children:"Vendor Handled"}),a.jsx("option",{value:"Resolved",children:"Resolved"}),a.jsx("option",{value:"Cancel",children:"Cancel"}),a.jsx("option",{value:"Closed",children:"Closed"})]}),a.jsx(la,{className:"absolute right-3 top-3.5 text-gray-400",size:18})]}),a.jsxs("div",{className:"relative w-full sm:w-auto",children:[a.jsxs("select",{value:o,onChange:le=>l(le.target.value),className:"w-full sm:w-48 p-2.5 border border-gray-300 rounded-lg appearance-none focus:ring-blue-500 focus:border-blue-500 pr-8 bg-white",children:[a.jsx("option",{value:"all",children:"All Departments"}),Array.from(new Set(S.map(le=>{var Je;return(Je=le.department)==null?void 0:Je.name}).filter(Boolean))).map(le=>a.jsx("option",{value:le,children:le},le))]}),a.jsx(la,{className:"absolute right-3 top-3.5 text-gray-400",size:18})]}),a.jsxs("div",{className:"relative w-full sm:w-auto",children:[a.jsxs("select",{value:c,onChange:le=>u(le.target.value),className:"w-full sm:w-48 p-2.5 border border-gray-300 rounded-lg appearance-none focus:ring-blue-500 focus:border-blue-500 pr-8 bg-white",children:[a.jsx("option",{value:"all",children:"All Priorities"}),a.jsx("option",{value:"Critical",children:"Critical"}),a.jsx("option",{value:"High",children:"High"}),a.jsx("option",{value:"Medium",children:"Medium"}),a.jsx("option",{value:"Low",children:"Low"})]}),a.jsx(la,{className:"absolute right-3 top-3.5 text-gray-400",size:18})]}),a.jsxs(O.button,{onClick:()=>p(!g),whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center px-4 py-2 bg-white border border-gray-300 rounded-lg shadow-sm text-gray-700 hover:bg-gray-50 transition-colors duration-200",children:[a.jsx(Ki,{className:"mr-2",size:20})," Advanced Filters"]})]})]}),a.jsx(ar,{children:g&&a.jsx(O.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"overflow-hidden mt-4 pt-4 border-t border-gray-200",children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Service Type"}),a.jsxs("select",{value:f,onChange:le=>h(le.target.value),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"all",children:"All Service Types"}),Array.from(new Set(S.map(le=>{var Je;return(Je=le.service_type)==null?void 0:Je.group_name}).filter(Boolean))).map(le=>a.jsx("option",{value:le,children:le},le))]})]})})})})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100 overflow-x-auto",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Detailed Work Order Analytics"}),Re.length===0?a.jsxs("div",{className:"text-center py-10 text-gray-500",children:[a.jsx(vf,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsx("p",{className:"mt-2 text-lg",children:"No work orders found matching your criteria."}),a.jsx("p",{className:"text-sm",children:"Try adjusting your filters or search query."})]}):a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"No"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Work Order No"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Requester"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Department"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Priority"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Assigned To"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Resolution Time"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a.jsx(ar,{children:Re.map((le,Je)=>{var Ge,ut,Pe,Ne,ze,me,De;return a.jsxs(O.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,x:-20},transition:{duration:.3},className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:pt+Je+1}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-blue-600",children:le.work_order_no}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:((Ge=le.requester)==null?void 0:Ge.name)||"-"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:((ut=le.department)==null?void 0:ut.name)||"-"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:Te(le.date)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-bold rounded-full ${((Pe=le.service)==null?void 0:Pe.priority)==="Critical"?"bg-red-100 text-red-800":((Ne=le.service)==null?void 0:Ne.priority)==="High"?"bg-orange-100 text-orange-800":((ze=le.service)==null?void 0:ze.priority)==="Medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:((me=le.service)==null?void 0:me.priority)||"Not Set"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${ae(le.handling_status)}`,children:le.handling_status||"Unknown"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:((De=le.assigned_to)==null?void 0:De.name)||"-"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:le.handling_date?`${ce(le)} days`:"Ongoing"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:a.jsxs(O.button,{onClick:()=>tt(le),whileHover:{scale:1.05},whileTap:{scale:.95},className:"text-blue-600 hover:text-blue-900 transition-colors duration-200 flex items-center",children:[a.jsx(bo,{className:"mr-1",size:16})," View"]})})]},le.id)})})})]}),ke.length>y&&a.jsxs("nav",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6",children:[a.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[a.jsx(O.button,{onClick:()=>qe(v-1),disabled:v===1,whileHover:{scale:1.05},whileTap:{scale:.95},className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"Previous"}),a.jsx(O.button,{onClick:()=>qe(v+1),disabled:v===Me,whileHover:{scale:1.05},whileTap:{scale:.95},className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"Next"})]}),a.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[a.jsx("div",{children:a.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",a.jsx("span",{className:"font-medium",children:pt+1})," to ",a.jsx("span",{className:"font-medium",children:Math.min(bt,ke.length)})," of"," ",a.jsx("span",{className:"font-medium",children:ke.length})," results"]})}),a.jsx("div",{children:a.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[a.jsxs(O.button,{onClick:()=>qe(v-1),disabled:v===1,whileHover:{scale:1.05},whileTap:{scale:.95},className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",children:[a.jsx("span",{className:"sr-only",children:"Previous"}),a.jsx(hd,{className:"h-5 w-5","aria-hidden":"true"})]}),[...Array(Me)].map((le,Je)=>a.jsx(O.button,{onClick:()=>qe(Je+1),whileHover:{scale:1.05},whileTap:{scale:.95},className:`relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium ${v===Je+1?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:Je+1},Je)),a.jsxs(O.button,{onClick:()=>qe(v+1),disabled:v===Me,whileHover:{scale:1.05},whileTap:{scale:.95},className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",children:[a.jsx("span",{className:"sr-only",children:"Next"}),a.jsx(ta,{className:"h-5 w-5","aria-hidden":"true"})]})]})})]})]})]})]})]}),a.jsx(OWe,{isOpen:A,onClose:Ve,workOrder:R})]})},PWe=t=>{const e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate()));e.setUTCDate(e.getUTCDate()+4-(e.getUTCDay()||7));const r=new Date(Date.UTC(e.getUTCFullYear(),0,1));return Math.ceil(((e.getTime()-r.getTime())/864e5+1)/7)},Jc=t=>t==null||t===""?"N/A":String(t),$se=({isOpen:t,onClose:e,title:r,children:n,className:s,maxWidth:i="max-w-xl"})=>a.jsx(ar,{children:t&&a.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-60 flex justify-center items-center z-50 p-4",children:a.jsxs(O.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${i} ${s||"w-full"}`,children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-gradient-to-r from-blue-50 to-indigo-50",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:r}),a.jsx("button",{onClick:e,className:"p-2 rounded-xl text-gray-500 hover:bg-white hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:a.jsx(Ft,{className:"w-5 h-5"})})]}),a.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:n})]})})}),Xc=({label:t,value:e,className:r="",valueColorClass:n="text-gray-900"})=>a.jsxs("div",{className:`p-4 bg-gray-50 backdrop-brightness-50 rounded-lg shadow-sm ${r}`,children:[a.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase",children:t}),a.jsx("p",{className:`mt-1 text-sm font-semibold ${n}`,children:e??"N/A"})]}),s6=({title:t})=>a.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4 pb-2 border-b border-blue-200 mt-6 first:mt-0",children:t}),LWe=({record:t,onUpdateRecord:e})=>a.jsxs("div",{className:"space-y-6",children:[a.jsx(s6,{title:"Monitoring Details"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsx(Xc,{label:"Monitoring Interval",value:Jc(t.interval)}),a.jsx(Xc,{label:"Unit",value:Jc(t.unitWilayah)}),a.jsx(Xc,{label:"Machine",value:Jc(t.mesin)}),a.jsx(Xc,{label:"Item",value:Jc(t.item)}),a.jsx(Xc,{label:"Unit of Measure",value:Jc(t.unitOfMeasure)}),a.jsx(Xc,{label:"Monitoring Result",value:Jc(t.monitoringResult),valueColorClass:t.msStatus==="MS"?"text-green-600":t.msStatus==="TMS"?"text-red-600":"text-gray-900"}),a.jsx(Xc,{label:"MS Status",value:Jc(t.msStatus),valueColorClass:t.msStatus==="MS"?"text-green-600":t.msStatus==="TMS"?"text-red-600":"text-gray-900"})]}),a.jsx(s6,{title:"Standard"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsx(Xc,{label:"Standard (Min)",value:Jc(t.standardMin)}),a.jsx(Xc,{label:"Standard (Max)",value:Jc(t.standardMax)}),a.jsx(Xc,{label:"Visual Standard",value:Jc(t.standartVisual),className:"md:col-span-2"})]}),a.jsx(s6,{title:"Description"}),a.jsx("div",{className:"grid grid-cols-1",children:a.jsx(Xc,{label:"Notes",value:Jc(t.notes)})})]}),RWe=({records:t})=>{const[e,r]=b.useState(""),[n,s]=b.useState("");console.log("Trend Analysis - Total records:",t.length),console.log("Trend Analysis - Sample records:",t.slice(0,3));const i=b.useMemo(()=>{if(!t||t.length===0)return console.log("No records available for machines"),[""];const v=[...new Set(t.filter(w=>w.mesin&&w.mesin!=="N/A"&&w.mesin.trim()!=="").map(w=>w.mesin))].sort();return console.log("Available machines:",v),["",...v]},[t]),o=b.useMemo(()=>{if(!e||e==="")return console.log("No machine selected for items"),[""];const v=t.filter(y=>y.mesin===e&&y.item&&y.item!=="N/A"&&y.item.trim()!=="").map(y=>y.item),w=[...new Set(v)].sort();return console.log(`Available items for ${e}:`,w),["",...w]},[t,e]),l=b.useMemo(()=>{if(!e||!n||e===""||n==="")return console.log("Missing selection for trend data"),[];const v=t.filter(w=>{const y=w.mesin===e,N=w.item===n,k=w.id.startsWith("activity-"),S=w.monitoringResult&&w.monitoringResult!=="N/A"&&w.monitoringResult!=="MS"&&w.monitoringResult!=="TMS"&&!isNaN(parseFloat(w.monitoringResult))&&isFinite(parseFloat(w.monitoringResult));return console.log(`Record ${w.id}:`,{machineMatch:y,itemMatch:N,hasActivity:k,monitoringResult:w.monitoringResult,isNumeric:S,parsedValue:S?parseFloat(w.monitoringResult):null}),y&&N&&k&&S}).sort((w,y)=>new Date(w.date).getTime()-new Date(y.date).getTime()).map(w=>{const y=parseFloat(w.monitoringResult);return console.log(`Trend data point: ${w.date}, ${w.monitoringResult}, numeric: ${y}`),{date:new Date(w.date),dateString:new Date(w.date).toLocaleDateString("en-US"),result:y,msStatus:w.msStatus,notes:w.notes,machine:w.mesin,item:w.item,standardMin:w.standardMin,standardMax:w.standardMax,isActivity:w.id.startsWith("activity-")}});return console.log(`Trend data for ${e} - ${n}:`,v),v},[t,e,n]),c=b.useMemo(()=>{if(l.length===0)return console.log("No trend data available for analysis"),null;try{const v=l.map(V=>V.result);console.log("Analysis results:",v);const w=v.reduce((V,J)=>V+J,0)/v.length,y=[...v].sort((V,J)=>V-J),N=y.length%2===0?(y[y.length/2-1]+y[y.length/2])/2:y[Math.floor(y.length/2)],k=v.reduce((V,J)=>V+Math.pow(J-w,2),0)/v.length,S=Math.sqrt(k),T=Math.min(...v),_=Math.max(...v),D=_-T,E=l.map(V=>V.date.getTime()),L=l.map(V=>V.result),R=E.length,F=E.reduce((V,J)=>V+J,0),A=L.reduce((V,J)=>V+J,0),M=E.reduce((V,J,Q)=>V+J*L[Q],0),B=E.reduce((V,J)=>V+J*J,0),z=R*B-F*F,Y=z!==0?(R*M-F*A)/z:0,W=z!==0?(A-Y*F)/R:0,H=Y>.001?"increasing":Y<-.001?"decreasing":"stable",q=S>0?Math.abs(Y)/S:0,X=l.filter(V=>Math.abs(V.result-w)>2*S),oe=l[0],K=oe.standardMin!==null&&oe.standardMax!==null?l.filter(V=>V.result>=(oe.standardMin||0)&&V.result<=(oe.standardMax||1/0)).length/l.length*100:null;return{mean:w,median:N,stdDev:S,min:T,max:_,range:D,count:v.length,trendDirection:H,trendStrength:q*1e3,slope:Y,outliers:X,withinStandard:K,coefficientOfVariation:w>0?S/w*100:0}}catch(v){return console.error("Error in statistical analysis:",v),null}},[l]),u=b.useMemo(()=>{const v=t.length,w=new Set(t.map(k=>k.mesin)).size,y=t.filter(k=>k.msStatus==="MS").length,N=v>0?y/v*100:0;return[{title:"Total Monitoring Items",value:v.toLocaleString("id-ID"),icon:a.jsx(fn,{})},{title:"Machines Monitored",value:w.toLocaleString("id-ID"),icon:a.jsx(Qh,{})},{title:"Success Rate",value:`${N.toFixed(1)}%`,icon:a.jsx(fr,{})}]},[t]),f=b.useMemo(()=>{const v={};return t.forEach(w=>{w.mesin&&(v[w.mesin]=(v[w.mesin]||0)+1)}),Object.entries(v).sort(([,w],[,y])=>y-w).slice(0,5).map(([w,y])=>({name:w,count:y}))},[t]),h=b.useMemo(()=>{const v={};return t.forEach(w=>{if(w.date){const y=new Date(w.date),N=y.getFullYear(),k=(y.getMonth()+1).toString().padStart(2,"0"),S=`${N}-${k}`;v[S]=(v[S]||0)+1}}),Object.entries(v).sort(([w],[y])=>w.localeCompare(y)).map(([w,y])=>{const[N,k]=w.split("-");return{name:`${new Date(Number(N),Number(k)-1,1).toLocaleString("en-US",{month:"short"})} ${N}`,"Monitoring Events":y}})},[t]),g=b.useMemo(()=>{const v={MS:0,TMS:0,"N/A":0};return t.forEach(w=>{const y=w.msStatus||"N/A";v[y]=(v[y]||0)+1}),[{name:"MS",value:v.MS},{name:"TMS",value:v.TMS},{name:"N/A",value:v["N/A"]}].filter(w=>w.value>0)},[t]),p=["#10B981","#EF4444","#6B7280"];return console.log("Current selection:",{selectedMachine:e,selectedItem:n}),console.log("Trend data length:",l.length),console.log("Analysis available:",c!==null),!e||!n?a.jsxs("div",{className:"space-y-8",children:[a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:u.map((v,w)=>a.jsx(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:w*.1,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:v.title}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:v.value})]}),a.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:v.icon})]})},v.title))}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[a.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50",children:[a.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[a.jsx(bc,{className:"mr-2 text-blue-600"})," Most Monitored Machines"]}),a.jsx("div",{className:"space-y-3",children:f.map((v,w)=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center mr-3",children:a.jsx("span",{className:"text-blue-600 font-bold text-sm",children:w+1})}),a.jsx("span",{className:"font-medium text-gray-800",children:v.name})]}),a.jsxs("span",{className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-semibold",children:[v.count," events"]})]},v.name))})]}),a.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 flex flex-col items-center justify-center",children:[a.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[a.jsx(fr,{className:"mr-2 text-blue-600"})," Status Distribution"]}),g.length>0?a.jsx("div",{className:"w-full h-64",children:a.jsx(Cl,{width:"100%",height:"100%",children:a.jsxs(PL,{children:[a.jsx(gu,{data:g,cx:"50%",cy:"50%",labelLine:!1,outerRadius:80,fill:"#8884d8",dataKey:"value",nameKey:"name",label:({name:v,percent:w})=>`${v} ${(w*100).toFixed(0)}%`,children:g.map((v,w)=>a.jsx(qp,{fill:p[w%p.length]},`cell-${w}`))}),a.jsx(Ts,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e0e7ff",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",padding:"10px"},formatter:v=>[`${v} events`,"Count"]})]})})}):a.jsx("p",{className:"text-center text-gray-500 mt-4 text-sm",children:"No data for status distribution."})]})]}),a.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50",children:[a.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[a.jsx(ff,{className:"mr-2 text-blue-600"})," Monitoring Trend Over Time"]}),h.length>0?a.jsx("div",{className:"h-80",children:a.jsx(Cl,{width:"100%",height:"100%",children:a.jsxs(yN,{data:h,children:[a.jsx(au,{strokeDasharray:"3 3",stroke:"#e0e7ff"}),a.jsx(Mo,{dataKey:"name",tickLine:!1,axisLine:!1,style:{fontSize:"12px",fill:"#6B7280"}}),a.jsx(Eo,{allowDecimals:!1,tickLine:!1,axisLine:!1,style:{fontSize:"12px",fill:"#6B7280"}}),a.jsx(Ts,{cursor:{fill:"rgba(239, 246, 255, 0.7)"},contentStyle:{backgroundColor:"#fff",border:"1px solid #e0e7ff",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",padding:"10px"}}),a.jsx(Bf,{type:"monotone",dataKey:"Monitoring Events",stroke:"#3B82F6",strokeWidth:2,dot:{r:4},activeDot:{r:6}})]})})}):a.jsx("p",{className:"text-center text-gray-500 mt-4 text-sm",children:"No data for monitoring trend."})]}),a.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.5},className:"bg-white rounded-2xl shadow-md p-8 border border-blue-50",children:[a.jsxs("div",{className:"text-center",children:[a.jsx(ff,{className:"mx-auto text-gray-300 mb-4",size:64}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Detailed Trend Analysis"}),a.jsx("p",{className:"text-gray-600 mb-8 max-w-md mx-auto",children:t.length===0?"No monitoring data available for analysis.":"Select a machine and monitoring item to visualize trends and analyze performance patterns over time."})]}),t.length>0&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 max-w-2xl mx-auto",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-900",children:"Select Machine"}),a.jsxs("select",{value:e,onChange:v=>{console.log("Machine selected:",v.target.value),r(v.target.value),s("")},className:"w-full px-4 py-3 rounded-xl border border-gray-200 bg-white focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-gray-900",children:[a.jsx("option",{value:"",children:"Choose machine..."}),i.slice(1).map(v=>a.jsx("option",{value:v,children:v},v))]}),e&&a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[o.length-1," item(s) available for this machine"]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-900",children:"Select Item"}),a.jsxs("select",{value:n,onChange:v=>{console.log("Item selected:",v.target.value),s(v.target.value)},className:"w-full px-4 py-3 rounded-xl border border-gray-200 bg-white focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-gray-900 disabled:opacity-50",disabled:!e,children:[a.jsx("option",{value:"",children:e?o.length>1?"Choose item...":"No items available":"Select machine first"}),o.slice(1).map(v=>a.jsx("option",{value:v,children:v},v))]}),n&&a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[l.length," data point(s) available for analysis"]})]})]})]})]}):l.length===0?a.jsxs("div",{className:"space-y-6 bg-white rounded-2xl shadow-sm p-8 border border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Trend Analysis"}),a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Zs,{className:"mx-auto text-gray-300 mb-4",size:48}),a.jsx("p",{className:"text-gray-600 text-lg mb-2",children:"No numeric data available for analysis"}),a.jsxs("p",{className:"text-gray-400 text-sm mb-4",children:['The selected item "',n,'" for machine "',e,`" doesn't have numeric monitoring results.`]}),a.jsx("p",{className:"text-gray-400 text-xs",children:"Monitoring results must be numeric values (numbers) for trend analysis."}),a.jsx("button",{onClick:()=>{r(""),s("")},className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Select Different Machine/Item"})]})]}):c?a.jsxs("div",{className:"space-y-8",children:[a.jsx("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Trend Analysis"}),a.jsxs("p",{className:"text-gray-600",children:[e," • ",n]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[a.jsx("select",{value:e,onChange:v=>{r(v.target.value),s("")},className:"px-4 py-2 rounded-lg border border-gray-200 bg-white focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm text-gray-900",children:i.slice(1).map(v=>a.jsx("option",{value:v,children:v},v))}),a.jsx("select",{value:n,onChange:v=>s(v.target.value),className:"px-4 py-2 rounded-lg border border-gray-200 bg-white focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm text-gray-900",children:o.slice(1).map(v=>a.jsx("option",{value:v,children:v},v))})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsx(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:"Data Points"}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:c.count})]}),a.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:a.jsx(fn,{className:"w-6 h-6"})})]})}),a.jsx(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:"Average Value"}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:c.mean.toLocaleString(void 0,{maximumFractionDigits:2})})]}),a.jsx("div",{className:"p-2 rounded-full bg-green-50 text-green-600 text-2xl opacity-90 transition-all duration-200",children:a.jsx(ff,{className:"w-6 h-6"})})]})}),a.jsx(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:"Standard Deviation"}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:c.stdDev.toLocaleString(void 0,{maximumFractionDigits:2})})]}),a.jsx("div",{className:"p-2 rounded-full bg-purple-50 text-purple-600 text-2xl opacity-90 transition-all duration-200",children:a.jsx(hc,{className:"w-6 h-6"})})]})})]}),a.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50",children:[a.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[a.jsx(ff,{className:"mr-2 text-blue-600"})," Trend Visualization"]}),a.jsx("div",{className:"h-80",children:a.jsx(Cl,{width:"100%",height:"100%",children:a.jsxs(yN,{data:l,children:[a.jsx(au,{strokeDasharray:"3 3",stroke:"#e0e7ff"}),a.jsx(Mo,{dataKey:"dateString",tickLine:!1,axisLine:!1,style:{fontSize:"12px",fill:"#6B7280"}}),a.jsx(Eo,{tickLine:!1,axisLine:!1,style:{fontSize:"12px",fill:"#6B7280"}}),a.jsx(Ts,{cursor:{fill:"rgba(239, 246, 255, 0.7)"},contentStyle:{backgroundColor:"#fff",border:"1px solid #e0e7ff",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",padding:"10px"},formatter:v=>[v,"Value"]}),a.jsx(Bf,{type:"monotone",dataKey:"result",stroke:"#3B82F6",strokeWidth:2,dot:{r:4},activeDot:{r:6}})]})})})]}),a.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.5},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50",children:[a.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[a.jsx(bc,{className:"mr-2 text-blue-600"})," Statistical Summary"]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Minimum"}),a.jsx("p",{className:"text-xl font-bold text-gray-900",children:c.min.toLocaleString(void 0,{maximumFractionDigits:2})})]}),a.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Maximum"}),a.jsx("p",{className:"text-xl font-bold text-gray-900",children:c.max.toLocaleString(void 0,{maximumFractionDigits:2})})]}),a.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Median"}),a.jsx("p",{className:"text-xl font-bold text-gray-900",children:c.median.toLocaleString(void 0,{maximumFractionDigits:2})})]}),a.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Range"}),a.jsx("p",{className:"text-xl font-bold text-gray-900",children:c.range.toLocaleString(void 0,{maximumFractionDigits:2})})]})]})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100 overflow-hidden",children:[a.jsxs("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Raw Data (",l.length," records)"]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Result"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Notes"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.map((v,w)=>a.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:v.dateString}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-gray-900",children:v.result.toLocaleString()}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${v.msStatus==="MS"?"bg-green-100 text-green-800":v.msStatus==="TMS"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:v.msStatus||"N/A"})}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 max-w-xs",children:v.notes||"-"})]},w))})]})})]})]}):a.jsxs("div",{className:"space-y-6 bg-white rounded-2xl shadow-sm p-8 border border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Trend Analysis"}),a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Hr,{className:"mx-auto text-yellow-500 mb-4",size:48}),a.jsx("p",{className:"text-gray-600 text-lg mb-2",children:"Unable to analyze data"}),a.jsx("p",{className:"text-gray-400 text-sm",children:"There was an error processing the data for analysis."})]})]})},IWe=b.createContext(void 0),FWe=({isOpen:t,onClose:e,schedules:r,onSelectSchedule:n,titleDate:s})=>{const i=u=>{n(u)},o=r.reduce((u,f)=>{const h=String(f.scheduleId||"unknown");return u[h]||(u[h]={scheduleId:h,machine:f.mesin,unit:f.unitWilayah,interval:f.interval,items:[]}),u[h].items.push(f),u},{}),l=({status:u})=>{const f={New:{color:"bg-blue-100 text-blue-800 border-blue-200",icon:"🆕"},"On Progress":{color:"bg-yellow-100 text-yellow-800 border-yellow-200",icon:"⏳"},Done:{color:"bg-green-100 text-green-800 border-green-200",icon:"✅"},Cancelled:{color:"bg-red-100 text-red-800 border-red-200",icon:"❌"}},h=f[u]||f.New;return a.jsxs("span",{className:`inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-semibold border ${h.color}`,children:[a.jsx("span",{className:"text-xs",children:h.icon}),u]})},c=({status:u})=>{const f={MS:{color:"bg-green-100 text-green-800 border-green-200",label:"Within Standard"},TMS:{color:"bg-red-100 text-red-800 border-red-200",label:"Out of Standard"},"N/A":{color:"bg-gray-100 text-gray-800 border-gray-200",label:"Not Applicable"}}[u]||{color:"bg-gray-100 text-gray-800 border-gray-200",label:u};return a.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-lg text-xs font-medium border ${f.color}`,children:f.label})};return a.jsx($se,{isOpen:t,onClose:e,title:`Schedules for ${new Date(s).toLocaleDateString("en-US",{weekday:"long",day:"numeric",month:"long",year:"numeric"})}`,className:"max-w-4xl",maxWidth:"max-w-4xl",children:a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-2xl p-6 border border-blue-100",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Daily Overview"}),a.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(ga,{className:"w-4 h-4"}),r.length," total items"]}),a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(qs,{className:"w-4 h-4"}),Object.keys(o).length," schedules"]})]})]}),a.jsxs("div",{className:"flex gap-2",children:[Object.values(o).some(u=>u.items.some(f=>f.scheduleStatus==="Done"))&&a.jsx(l,{status:"Done"}),Object.values(o).some(u=>u.items.some(f=>f.scheduleStatus==="On Progress"))&&a.jsx(l,{status:"On Progress"}),Object.values(o).some(u=>u.items.some(f=>f.scheduleStatus==="New"))&&a.jsx(l,{status:"New"})]})]})}),r.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-2xl flex items-center justify-center mx-auto mb-4",children:a.jsx(ga,{className:"text-gray-400 text-2xl"})}),a.jsx("p",{className:"text-gray-600 text-lg font-medium mb-2",children:"No schedules for this date"}),a.jsx("p",{className:"text-gray-400 text-sm",children:"There are no maintenance schedules scheduled for this day."})]}):a.jsx("div",{className:"space-y-4",children:Object.values(o).map(u=>a.jsxs(O.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-white rounded-2xl border border-gray-200 shadow-sm overflow-hidden hover:shadow-md transition-all duration-200",children:[a.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-blue-50 px-6 py-4 border-b border-gray-100",children:a.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-3",children:a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("h4",{className:"text-lg font-bold text-gray-900",children:u.machine}),u.items.every(f=>f.scheduleStatus===u.items[0].scheduleStatus)&&a.jsx(l,{status:u.items[0].scheduleStatus||"New"})]}),a.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[a.jsxs("span",{className:"flex items-center gap-1.5",children:[a.jsx(fn,{className:"w-4 h-4"}),u.items.length," item",u.items.length>1?"s":""]}),a.jsxs("span",{className:"flex items-center gap-1.5",children:[a.jsx(Cr,{className:"w-4 h-4"}),u.interval]}),a.jsxs("span",{className:"flex items-center gap-1.5",children:[a.jsx(Ya,{className:"w-4 h-4"}),u.unit]})]})]})})}),a.jsx("div",{className:"divide-y divide-gray-100",children:u.items.map((f,h)=>a.jsxs(O.button,{whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)",scale:1.005},whileTap:{scale:.995},onClick:()=>i(f),className:"w-full text-left p-6 transition-all duration-200 flex justify-between items-start gap-4",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{children:[a.jsx("h5",{className:"text-base font-semibold text-gray-900 mb-1",children:f.item}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx(l,{status:f.scheduleStatus||"New"}),f.monitoringResult&&f.monitoringResult!=="N/A"&&a.jsxs("span",{className:"inline-flex items-center px-2.5 py-1 bg-purple-100 text-purple-800 rounded-lg text-xs font-medium border border-purple-200",children:["📊 Result: ",f.monitoringResult]})]})]}),a.jsx(c,{status:f.msStatus})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[f.standardMin!==null&&f.standardMax!==null&&a.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[a.jsx("span",{className:"font-medium",children:"Standard:"}),a.jsxs("span",{children:[f.standardMin," - ",f.standardMax]})]}),f.unitOfMeasure&&f.unitOfMeasure!=="N/A"&&a.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[a.jsx("span",{className:"font-medium",children:"Unit:"}),a.jsx("span",{children:f.unitOfMeasure})]}),f.notes&&f.notes!=="N/A"&&a.jsxs("div",{className:"md:col-span-2 flex items-start gap-2 text-gray-600",children:[a.jsx("span",{className:"font-medium mt-0.5",children:"Notes:"}),a.jsx("span",{className:"flex-1",children:f.notes})]})]})]}),a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"p-2 rounded-lg bg-blue-50 text-blue-600",children:a.jsx(ta,{className:"w-4 h-4"})})})]},`${f.id}-${h}`))})]},u.scheduleId))}),a.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-100",children:a.jsx(O.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:e,className:"px-6 py-3 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 transition-colors duration-200 font-semibold text-sm",children:"Close"})})]})})},hY=()=>{const t=tr(),{getMonitoringSchedules:e,getAllMasterMonitoring:r,getMonitoringScheduleById:n}=or(),[s,i]=b.useState(()=>{const he=localStorage.getItem("sidebarOpen");return JSON.parse(he||"false")}),[o,l]=b.useState(!1),[c,u]=b.useState(!0),[f,h]=b.useState(null),[g,p]=b.useState(window.innerWidth<768),[v,w]=b.useState(!1),[y,N]=b.useState(!1),[k,S]=b.useState(!1),[T,_]=b.useState(!1),[D,E]=b.useState(null),[L,R]=b.useState("calendar"),[F,A]=b.useState(null),[M,B]=b.useState(null),[z,Y]=b.useState([]),[W,H]=b.useState([]),[q,X]=b.useState([]),[oe,K]=b.useState(""),[V,J]=b.useState(!1),[Q,re]=b.useState(1),[ce,Ee]=b.useState([]),[ke,ge]=b.useState([]),[Ce,Ke]=b.useState([]),[fe,ye]=b.useState({startDate:null,endDate:null,selectedUnits:[]}),[ae,se]=b.useState(!1),[bt,pt]=b.useState([]),[Re,Me]=b.useState(""),qe=b.useRef(null),tt=b.useRef(null),[Ve,Te]=b.useState([]),[le,Je]=b.useState([]),[Ge,ut]=b.useState(!1),[Pe,Ne]=b.useState(!1),ze=b.useRef(null),[me,De]=b.useState(!1),je=b.useRef(null),[We,rt]=b.useState(!1),ve=b.useRef(null),xe=b.useMemo(()=>[{value:"MS",label:"MS"},{value:"TMS",label:"TMS"},{value:"N/A",label:"N/A"}],[]);b.useMemo(()=>[{value:"Daily",label:"Daily"},{value:"Weekly",label:"Weekly"},{value:"Monthly",label:"Monthly"},{value:"3 Months",label:"3 Months"},{value:"6 Months",label:"6 Months"},{value:"1 Year",label:"1 Year"}],[]);const Qe=b.useMemo(()=>ce.map(he=>{var Xr;const it=ke.flatMap(Et=>Et.mesin).find(Et=>Et.id===he.id_mesins),kt=(it==null?void 0:it.name)||`Machine ${he.id_mesins}`,cr=((Xr=he.monitoring_interval)==null?void 0:Xr.type_interval)||"weekly";return{id:`schedule-${he.id_monitoring_schedule}`,mesin:kt,item:"",interval:cr,unitWilayah:he.unit,unitOfMeasure:"N/A",standardMin:null,standardMax:null,standartVisual:"N/A"}}),[ce,ke]),yt=b.useCallback((he,it,kt)=>{const cr=[];he.forEach(Et=>{var ba;const sr=kt.flatMap(zr=>zr.mesin).find(zr=>zr.id===Et.id_mesins),Er=(sr==null?void 0:sr.name)||`Machine ${Et.id_mesins}`,Nr=((ba=Et.monitoring_interval)==null?void 0:ba.type_interval)||"weekly",dr=Nr==="weekly"?"Weekly":Nr==="monthly"?"Monthly":Nr==="quarterly"?"3 Months":Nr==="semi-annual"?"6 Months":Nr==="yearly"?"1 Year":"Daily",Br=Et.item_mesins&&Et.item_mesins.length>0?Et.item_mesins:(sr==null?void 0:sr.item_mesin)||[];Et.monitoring_activities&&Et.monitoring_activities.length>0?Et.monitoring_activities.forEach(zr=>{var en;let ya=Br.find(Fn=>Fn.id===zr.id_item_mesin);if(!ya)for(const Fn of kt){for(const Cc of Fn.mesin){const Xi=(en=Cc.item_mesin)==null?void 0:en.find(vo=>vo.id===zr.id_item_mesin);if(Xi){ya=Xi;break}}if(ya)break}ya||(console.warn(`Item mesin not found for activity ${zr.id_monitoring_activity}, item_mesin_id: ${zr.id_item_mesin}`),ya={id:zr.id_item_mesin,item_mesin:"Unknown Item",satuan:"N/A",standard_min:null,standard_max:null,standard_visual:"N/A",interval_id:1,mesin_id:Et.id_mesins,created_at:"",updated_at:""});let Sn="N/A";zr.hasil_ms_tms==="ms"?Sn="MS":zr.hasil_ms_tms==="tms"&&(Sn="TMS");let Mn=zr.hasil_monitoring||"N/A";if(zr.hasil_monitoring&&zr.hasil_monitoring!=="N/A"){const Fn=parseFloat(zr.hasil_monitoring);!isNaN(Fn)&&isFinite(Fn)&&(Mn=Fn.toString())}cr.push({id:`activity-${zr.id_monitoring_activity}`,mesin:Er,date:zr.tgl_monitoring,interval:dr,unitWilayah:Et.unit,item:ya.item_mesin||"Unknown Item",unitOfMeasure:ya.satuan||"N/A",standardMin:ya.standard_min?parseFloat(ya.standard_min):null,standardMax:ya.standard_max?parseFloat(ya.standard_max):null,standartVisual:ya.standard_visual||"N/A",monitoringResult:Mn,msStatus:Sn,notes:zr.hasil_keterangan||"N/A",perbaikanPerawatan:"Preventive",description:`Monitoring activity for ${Er}`,pic:"System",shift:"N/A",group:"N/A",stopJam:0,stopMenit:0,startJam:0,startMenit:0,stopTime:"N/A",unit:Et.unit,runningHour:0,itemTrouble:"N/A",jenisGangguan:"N/A",bentukTindakan:"N/A",rootCause:"N/A",jenisAktivitas:"Monitoring",kegiatan:"Routine inspection",kodePart:"N/A",sparePart:"N/A",idPart:"N/A",jumlah:0,unitSparePart:"N/A",scheduleId:Et.id_monitoring_schedule,scheduleStatus:Et.status||"New"})}):Br.forEach(zr=>{cr.push({id:`schedule-${Et.id_monitoring_schedule}-scheduled-${zr.id}`,mesin:Er,date:Et.tgl_start,interval:dr,unitWilayah:Et.unit,item:zr.item_mesin||"Unknown Item",unitOfMeasure:zr.satuan||"N/A",standardMin:zr.standard_min?parseFloat(zr.standard_min):null,standardMax:zr.standard_max?parseFloat(zr.standard_max):null,standartVisual:zr.standard_visual||"N/A",monitoringResult:"N/A",msStatus:"N/A",notes:"Scheduled monitoring - Not yet performed",perbaikanPerawatan:"Preventive",description:`Scheduled monitoring for ${Er}`,pic:"N/A",shift:"N/A",group:"N/A",stopJam:0,stopMenit:0,startJam:0,startMenit:0,stopTime:"N/A",unit:Et.unit,runningHour:0,itemTrouble:"N/A",jenisGangguan:"N/A",bentukTindakan:"N/A",rootCause:"N/A",jenisAktivitas:"Monitoring",kegiatan:"Routine inspection",kodePart:"N/A",sparePart:"N/A",idPart:"N/A",jumlah:0,unitSparePart:"N/A",scheduleId:Et.id_monitoring_schedule,scheduleStatus:Et.status||"New"})})}),console.log("Converted records:",cr.length),console.log("Sample converted records:",cr.slice(0,5));const Xr=cr.filter(Et=>Et.monitoringResult&&Et.monitoringResult!=="N/A"&&!isNaN(parseFloat(Et.monitoringResult)));return console.log("Numeric records available:",Xr.length),console.log("Numeric records sample:",Xr.slice(0,3)),cr},[]),[st,_e]=b.useState([]),te=300*1e3,[Fe,Xe]=b.useState(null);b.useEffect(()=>{let he=!0;const it=new AbortController;return(async()=>{var Xr,Et,sr;if(!he)return;const cr=Date.now();if(Fe&&cr-Fe.timestamp<te){Ee(Fe.schedules),ge(Fe.masterData.unitsWithMachines||[]),Ke(Fe.masterData.intervals||[]);const Er=yt(Fe.schedules,[],Fe.masterData.unitsWithMachines||[]);_e(Er),u(!1);return}try{u(!0),h(null);const[Er,Nr]=await Promise.all([e(),r()]);if(!he)return;console.log("Schedules data:",Er),console.log("Master data:",Nr),console.log("Units with machines:",Nr.unitsWithMachines),Nr.unitsWithMachines&&Nr.unitsWithMachines.length>0&&console.log("Sample machine items:",(sr=(Et=(Xr=Nr.unitsWithMachines[0])==null?void 0:Xr.mesin)==null?void 0:Et[0])==null?void 0:sr.item_mesin),Xe({schedules:Er,masterData:Nr,timestamp:cr}),Ee(Er),ge(Nr.unitsWithMachines||[]),Ke(Nr.intervals||[]);const dr=yt(Er,[],Nr.unitsWithMachines||[]);_e(dr)}catch(Er){if(!he)return;h(Er instanceof Error?Er.message:"Failed to fetch data")}finally{he&&u(!1)}})(),()=>{he=!1,it.abort()}},[e,r,yt,Fe]);const lt={role:"Unit Head Engineering"},wt=b.useMemo(()=>["",...new Set(st.map(he=>he.unitWilayah))],[st]),$e=b.useMemo(()=>["",...new Set(st.map(he=>he.mesin))],[st]);b.useMemo(()=>["",...new Set(st.map(he=>he.item))],[st]);const Ue=b.useMemo(()=>{if(st.length===0)return[];let he=st;if(oe){const it=oe.toLowerCase();if(he=he.filter(kt=>kt.mesin.toLowerCase().includes(it)||kt.item.toLowerCase().includes(it)||kt.unitWilayah.toLowerCase().includes(it)),he.length===0)return[]}if(F&&M){const it=F.toISOString().split("T")[0],kt=M.toISOString().split("T")[0];if(he=he.filter(cr=>cr.date>=it&&cr.date<=kt),he.length===0)return[]}if(Ve.length>0){const it=new Set(Ve);if(he=he.filter(kt=>it.has(kt.msStatus)),he.length===0)return[]}if(z.length>0){const it=new Set(z);if(he=he.filter(kt=>it.has(kt.unitWilayah)),he.length===0)return[]}if(W.length>0){const it=new Set(W);if(he=he.filter(kt=>it.has(kt.mesin)),he.length===0)return[]}return he},[st,F,M,Ve,z,W,oe]);b.useEffect(()=>{const he=()=>{p(window.innerWidth<768),window.innerWidth<768&&i(!1)};return window.addEventListener("resize",he),()=>window.removeEventListener("resize",he)},[]),b.useEffect(()=>{const he=it=>{qe.current&&!qe.current.contains(it.target)&&w(!1),tt.current&&!tt.current.contains(it.target)&&N(!1),ze.current&&!ze.current.contains(it.target)&&!it.target.closest(".status-filter-toggle")&&Ne(!1),je.current&&!je.current.contains(it.target)&&!it.target.closest(".machine-filter-toggle")&&De(!1),ve.current&&!ve.current.contains(it.target)&&!it.target.closest(".unit-filter-toggle")&&rt(!1)};return document.addEventListener("mousedown",he),()=>{document.removeEventListener("mousedown",he)}},[]);const et=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!s)),i(he=>!he)},Rt=he=>{E(he),S(!0)},Ut=b.useCallback(he=>{_e(it=>it.map(kt=>kt.id===he.id?he:kt))},[]),Wt=(he,it)=>new Date(he,it+1,0).getDate(),mt=(he,it)=>{const kt=new Date(he,it,1).getDay();return kt===0?6:kt-1},Ct=b.useMemo(()=>new Date,[]),[Vt,br]=b.useState(Ct),gn=()=>{br(he=>new Date(he.getFullYear(),he.getMonth()-1,1))},wn=()=>{br(he=>new Date(he.getFullYear(),he.getMonth()+1,1))},ir=()=>{br(new Date)},Wr=(he,it)=>{pt(he),Me(it),se(!0)},Kr=he=>{console.log("Navigating with record:",he);let it;if(he.scheduleId)it=he.scheduleId;else if(he.id.startsWith("schedule-")){const kt=he.id.split("-");kt.length>=2&&(it=kt[1])}else if(he.id.startsWith("activity-")){const kt=he.id.split("-");if(kt.length>=2){for(let cr of kt)if(/^\d+$/.test(cr)){it=cr;break}}}if(!it){console.error("Could not extract schedule ID from record:",he),alert("Error: Could not determine schedule ID");return}console.log("Navigating to schedule ID:",it),t(`/monitoringmaintenance/detailmonitoringmaintenance/${it}`),se(!1)},Zt=()=>{const he=Vt.getFullYear(),it=Vt.getMonth(),kt=Wt(he,it),cr=mt(he,it),Xr=[];let Et=1,sr=[],Er=null;for(let Nr=0;Nr<cr;Nr++)sr.push(a.jsx("div",{className:"p-3 rounded-xl bg-gray-50 border border-gray-100 min-h-[100px] flex flex-col items-center justify-center",children:a.jsx("span",{className:"text-sm text-gray-400",children:"-"})},`empty-pre-${Nr}`));for(;Et<=kt;){const Nr=new Date(he,it,Et);Er||(Er=Nr);const dr=`${he}-${String(it+1).padStart(2,"0")}-${String(Et).padStart(2,"0")}`,Br=Ue.filter(Mn=>Mn.date===dr),ba=Br.reduce((Mn,en)=>{const Fn=String(en.scheduleId||"unknown");return Mn[Fn]?Mn[Fn].items.push(en):Mn[Fn]={scheduleId:Fn,machine:en.mesin,items:[en]},Mn},{}),zr=Object.values(ba),Ri=Ct.toDateString()===Nr.toDateString(),ya=zr.length>0;let Sn="p-3 rounded-xl border-2 min-h-[100px] flex flex-col transition-all duration-200 ";if(Ri)Sn+="bg-blue-50 border-blue-200 shadow-sm ";else if(ya){const Mn=zr.flatMap(en=>en.items.map(Fn=>Fn.scheduleStatus||"New"));Mn.includes("Done")?Sn+="bg-green-50 border-green-200 ":Mn.includes("On Progress")?Sn+="bg-yellow-50 border-yellow-200 ":Sn+="bg-blue-50 border-blue-200 "}else Sn+="bg-white border-gray-100 hover:border-gray-200 ";if(Sn+="hover:shadow-md hover:scale-[1.02] cursor-pointer ",sr.push(a.jsxs(O.div,{className:Sn,whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>ya&&Wr(Br,dr),children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsx("span",{className:`text-sm font-semibold ${Ri?"text-blue-600":ya?"text-gray-900":"text-gray-500"}`,children:Et}),Ri&&a.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"})]}),a.jsxs("div",{className:"flex-1 flex flex-col gap-1.5",children:[zr.slice(0,2).map((Mn,en)=>a.jsxs("div",{className:`px-2 py-1.5 rounded-lg text-xs font-medium ${Mn.items[0].scheduleStatus==="Done"?"bg-green-100 text-green-800 border border-green-200":Mn.items[0].scheduleStatus==="On Progress"?"bg-yellow-100 text-yellow-800 border border-yellow-200":"bg-blue-100 text-blue-800 border border-blue-200"}`,children:[a.jsx("div",{className:"font-semibold truncate",children:Mn.machine}),a.jsxs("div",{className:"text-xs opacity-75 mt-0.5",children:[Mn.items.length," item",Mn.items.length>1?"s":""]})]},Mn.scheduleId)),zr.length>2&&a.jsxs("div",{className:"px-2 py-1 bg-gray-100 text-gray-600 rounded-lg text-xs font-medium text-center",children:["+",zr.length-2," more"]})]})]},dr)),sr.length===7||Et===kt){for(;sr.length<7;)sr.push(a.jsx("div",{className:"p-3 rounded-xl bg-gray-50 border border-gray-100 min-h-[100px] flex flex-col items-center justify-center",children:a.jsx("span",{className:"text-sm text-gray-400",children:"-"})},`empty-post-${sr.length}`));const Mn=Er?PWe(Er):null;Xr.push(a.jsxs(b.Fragment,{children:[a.jsx("div",{className:"p-3 rounded-xl bg-gradient-to-br from-gray-50 to-gray-100 border border-gray-200 flex items-center justify-center",children:a.jsx("span",{className:"text-sm font-bold text-gray-600",children:Mn!==null?`${String(Mn).padStart(2,"0")}`:""})}),sr]},`week-row-${Et}`)),sr=[],Er=null}Et++}return Xr};b.useMemo(()=>{const he=st.filter(kt=>kt),it=[];return he.forEach(kt=>{it.push({id:`approval-${kt.id}`,icon:a.jsx(jD,{className:"text-orange-500"}),title:`Approval Needed: ${kt.mesin} - ${kt.item}`,description:`Record for ${kt.mesin} - ${kt.item} is awaiting your approval ().`,date:new Date(kt.date).toLocaleDateString("en-US")})}),it},[st,lt.role]);const ct=(he,it)=>{Te(it?kt=>[...kt,he]:kt=>kt.filter(cr=>cr!==he))},dt=(he,it)=>{H(it?kt=>[...kt,he]:kt=>kt.filter(cr=>cr!==he))},Mt=(he,it)=>{Y(it?kt=>[...kt,he]:kt=>kt.filter(cr=>cr!==he))};return fe.startDate!==null&&fe.endDate,fe.selectedUnits.length>0,fe.selectedUnits.every(he=>he.machines.length>0&&he.machines.every(it=>it.selectedInterval!==null)),fe.selectedUnits.every(he=>he.machines.every(it=>it.selectedInterval===null||it.selectedInterval!==null&&it.selectedItems.length>0)),a.jsx(IWe.Provider,{value:{records:st,setRecords:_e,routineSchedules:Qe},children:a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Moninoring Maintenance",mainTitleHighlight:"Management",description:"Manage user roles and permissions to control access and functionality within the system.",icon:a.jsx(Qh,{}),isMobile:g,toggleSidebar:et}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Monitoring ",a.jsx("span",{className:"text-blue-600",children:"Maintenance"})]}),a.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Monitor and schedule preventive maintenance tasks for all machines, and track their approval progress."})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs(O.button,{onClick:()=>t("/monitoringmaintenance/formmonitoringmaintenance"),whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-full text-sm font-semibold shadow-md hover:bg-blue-700 transition-colors duration-200",children:[a.jsx(pa,{className:"w-4 h-4 mr-2"})," Add Schedule"]}),a.jsxs("div",{className:"flex space-x-1 p-1 bg-white rounded-full shadow-sm border border-gray-100",children:[a.jsxs(O.button,{onClick:()=>R("calendar"),whileTap:{scale:.95},className:`flex items-center px-4 py-2 rounded-full text-sm font-semibold transition-colors duration-200 ${L==="calendar"?"bg-blue-600 text-white shadow":"text-gray-700 hover:bg-gray-100"}`,children:[a.jsx(ga,{className:"w-4 h-4 mr-2"})," Calendar"]}),a.jsxs(O.button,{onClick:()=>R("table"),whileTap:{scale:.95},className:`flex items-center px-4 py-2 rounded-full text-sm font-semibold transition-colors duration-200 ${L==="table"?"bg-blue-600 text-white shadow":"text-gray-700 hover:bg-gray-100"}`,children:[a.jsx(fn,{className:"w-4 h-4 mr-2"})," Table"]}),a.jsxs(O.button,{onClick:()=>R("trend"),whileTap:{scale:.95},className:`flex items-center px-4 py-2 rounded-full text-sm font-semibold transition-colors duration-200 ${L==="trend"?"bg-blue-600 text-white shadow":"text-gray-700 hover:bg-gray-100"}`,children:[a.jsx(ff,{className:"w-4 h-4 mr-2"})," Trend"]})]})]})]}),c?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),a.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading maintenance data..."})]}):st.length===0?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx(Zs,{className:"text-blue-500 text-4xl mx-auto mb-4"}),a.jsx("p",{className:"text-gray-700 text-base font-medium",children:"No monitoring data available."})]}):a.jsx(ar,{mode:"wait",children:a.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:[a.jsxs(O.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Da,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),a.jsx("input",{type:"text",placeholder:"Search by Interval, unit, or machine...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:oe,onChange:he=>K(he.target.value),"aria-label":"Search records"})]}),a.jsxs(O.button,{whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},onClick:()=>J(!V),className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(Ki,{className:"text-base"}),a.jsx("span",{children:"Filter"}),a.jsx(O.span,{animate:{rotate:V?180:0},transition:{duration:.2},children:a.jsx(la,{className:"text-base"})})]})]}),a.jsx(ar,{children:V&&a.jsxs(O.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 w-full",children:[a.jsxs("div",{className:"flex items-center space-x-2 bg-white p-2.5 rounded-lg border border-blue-200 shadow-sm",children:[a.jsx(ga,{className:"text-gray-500 text-base"}),a.jsx(fm,{selected:F,onChange:he=>A(he),selectsStart:!0,startDate:F,endDate:M,placeholderText:"Start Date",className:"w-24 focus:outline-none bg-transparent text-sm text-gray-800 placeholder-gray-400",dateFormat:"dd/MM/yyyy",isClearable:!0,"aria-label":"Start Date"}),a.jsx("span",{className:"text-gray-400",children:"-"}),a.jsx(fm,{selected:M,onChange:he=>B(he),selectsEnd:!0,startDate:F,endDate:M,minDate:F||void 0,placeholderText:"End Date",className:"w-24 focus:outline-none bg-transparent text-sm text-gray-800 placeholder-gray-400",dateFormat:"dd/MM/yyyy",isClearable:!0,"aria-label":"End Date"}),(F||M)&&a.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{A(null),B(null)},className:"p-1 rounded-full text-gray-400 hover:bg-gray-100 transition-colors",title:"Clear Dates","aria-label":"Clear date range",children:a.jsx(Ft,{className:"text-base"})})]}),a.jsxs("div",{ref:ze,className:"relative w-full",children:[a.jsxs("button",{type:"button",className:"status-filter-toggle w-full border border-blue-200 rounded-lg px-4 py-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm text-left flex justify-between items-center transition-all duration-200 shadow-sm cursor-pointer",onClick:he=>{he.stopPropagation(),Ne(!Pe)},"aria-expanded":Pe,"aria-haspopup":"true","aria-label":"Filter by Status",children:[a.jsx("span",{children:Ve.length>0?Ve.length===xe.length?"All Status":`Selected (${Ve.length})`:"All Status"}),a.jsx(la,{className:`transform transition-transform ${Pe?"rotate-180":"rotate-0"} text-gray-500 text-base`})]}),a.jsx(ar,{children:Pe&&a.jsxs(O.div,{initial:{opacity:0,y:5,height:0},animate:{opacity:1,y:0,height:"auto"},exit:{opacity:0,y:5,height:0},transition:{duration:.15},className:"absolute top-full left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-50 max-h-56 overflow-y-auto custom-scrollbar",role:"listbox",children:[a.jsxs("label",{className:"flex items-center p-2.5 hover:bg-blue-50 cursor-pointer border-b border-blue-50",role:"option",children:[a.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 rounded focus:ring-blue-500 transition duration-150 ease-in-out",checked:Ve.length===xe.length&&xe.length>0,onChange:he=>{he.target.checked?Te(xe.map(it=>it.value)):Te([])}}),a.jsx("span",{className:"ml-2 text-gray-800 font-semibold text-sm",children:"Select All"})]}),xe.map(he=>a.jsxs("label",{className:"flex items-center p-2.5 hover:bg-blue-50 cursor-pointer",role:"option",children:[a.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 rounded focus:ring-blue-500 transition duration-150 ease-in-out",checked:Ve.includes(he.value),onChange:it=>ct(he.value,it.target.checked)}),a.jsx("span",{className:"ml-2 text-gray-800 text-sm",children:he.label})]},he.value))]})})]}),a.jsxs("div",{ref:ve,className:"relative w-full",children:[a.jsxs("button",{type:"button",className:"unit-filter-toggle w-full border border-blue-200 rounded-lg px-4 py-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm text-left flex justify-between items-center transition-all duration-200 shadow-sm cursor-pointer",onClick:he=>{he.stopPropagation(),rt(!We)},"aria-expanded":We,"aria-haspopup":"true","aria-label":"Filter by Unit",children:[a.jsx("span",{children:z.length>0?z.length===wt.length-1?"All Units":`Selected (${z.length})`:"All Units"}),a.jsx(la,{className:`transform transition-transform ${We?"rotate-180":"rotate-0"} text-gray-500 text-base`})]}),a.jsx(ar,{children:We&&a.jsxs(O.div,{initial:{opacity:0,y:5,height:0},animate:{opacity:1,y:0,height:"auto"},exit:{opacity:0,y:5,height:0},transition:{duration:.15},className:"absolute top-full left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-50 max-h-56 overflow-y-auto custom-scrollbar",role:"listbox",children:[a.jsxs("label",{className:"flex items-center p-2.5 hover:bg-blue-50 cursor-pointer border-b border-blue-50",role:"option",children:[a.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 rounded focus:ring-blue-500 transition duration-150 ease-in-out",checked:z.length===wt.length-1&&wt.length>1,onChange:he=>{he.target.checked?Y(wt.slice(1)):Y([])}}),a.jsx("span",{className:"ml-2 text-gray-800 font-semibold text-sm",children:"Select All"})]}),wt.slice(1).map(he=>a.jsxs("label",{className:"flex items-center p-2.5 hover:bg-blue-50 cursor-pointer",role:"option",children:[a.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 rounded focus:ring-blue-500 transition duration-150 ease-in-out",checked:z.includes(he),onChange:it=>Mt(he,it.target.checked)}),a.jsx("span",{className:"ml-2 text-gray-800 text-sm",children:he})]},he))]})})]}),a.jsxs("div",{ref:je,className:"relative w-full",children:[a.jsxs("button",{type:"button",className:"machine-filter-toggle w-full border border-blue-200 rounded-lg px-4 py-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm text-left flex justify-between items-center transition-all duration-200 shadow-sm cursor-pointer",onClick:he=>{he.stopPropagation(),De(!me)},"aria-expanded":me,"aria-haspopup":"true","aria-label":"Filter by Machine",children:[a.jsx("span",{children:W.length>0?W.length===$e.length-1?"All Machines":`Selected (${W.length})`:"All Machines"}),a.jsx(la,{className:`transform transition-transform ${me?"rotate-180":"rotate-0"} text-gray-500 text-base`})]}),a.jsx(ar,{children:me&&a.jsxs(O.div,{initial:{opacity:0,y:5,height:0},animate:{opacity:1,y:0,height:"auto"},exit:{opacity:0,y:5,height:0},transition:{duration:.15},className:"absolute top-full left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-50 max-h-56 overflow-y-auto custom-scrollbar",role:"listbox",children:[a.jsxs("label",{className:"flex items-center p-2.5 hover:bg-blue-50 cursor-pointer border-b border-blue-50",role:"option",children:[a.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 rounded focus:ring-blue-500 transition duration-150 ease-in-out",checked:W.length===$e.length-1&&$e.length>1,onChange:he=>{he.target.checked?H($e.slice(1)):H([])}}),a.jsx("span",{className:"ml-2 text-gray-800 font-semibold text-sm",children:"Select All"})]}),$e.slice(1).map(he=>a.jsxs("label",{className:"flex items-center p-2.5 hover:bg-blue-50 cursor-pointer",role:"option",children:[a.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 rounded focus:ring-blue-500 transition duration-150 ease-in-out",checked:W.includes(he),onChange:it=>dt(he,it.target.checked)}),a.jsx("span",{className:"ml-2 text-gray-800 text-sm",children:he})]},he))]})})]})]})})]}),L==="calendar"&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"bg-white rounded-2xl shadow-sm p-6 border border-gray-100",children:a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[a.jsxs("div",{className:"text-center lg:text-left",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:Vt.toLocaleDateString("en-US",{month:"long",year:"numeric"})}),a.jsx("p",{className:"text-gray-600 text-sm",children:"Monitor your maintenance schedules and activities"})]}),a.jsxs("div",{className:"flex items-center justify-center gap-3",children:[a.jsx(O.button,{whileHover:{scale:1.05,backgroundColor:"rgba(59, 130, 246, 0.1)"},whileTap:{scale:.95},onClick:gn,className:"p-3 rounded-xl text-gray-600 hover:text-blue-600 hover:bg-blue-50 transition-all duration-200 border border-gray-200","aria-label":"Previous month",children:a.jsx(hd,{size:20})}),a.jsx(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:ir,className:"px-4 py-3 bg-blue-600 text-white rounded-xl text-sm font-semibold shadow-lg hover:bg-blue-700 transition-colors duration-200",children:"Today"}),a.jsx(O.button,{whileHover:{scale:1.05,backgroundColor:"rgba(59, 130, 246, 0.1)"},whileTap:{scale:.95},onClick:wn,className:"p-3 rounded-xl text-gray-600 hover:text-blue-600 hover:bg-blue-50 transition-all duration-200 border border-gray-200","aria-label":"Next month",children:a.jsx(ta,{size:20})})]})]})}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-6 border border-gray-100",children:[a.jsxs("div",{className:"grid grid-cols-8 gap-2 mb-4",children:[a.jsx("div",{className:"p-3 text-center",children:a.jsx("span",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wider",children:"WN"})}),["Mon","Tue","Wed","Thu","Fri","Sat","Sun"].map(he=>a.jsx("div",{className:"p-3 text-center",children:a.jsx("span",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wider",children:he})},he))]}),a.jsx("div",{className:"grid grid-cols-8 gap-2",children:Zt()})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-6 border border-gray-100",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Schedule Status"}),a.jsxs("div",{className:"flex flex-wrap gap-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-4 h-4 bg-blue-100 border-2 border-blue-400 rounded-full"}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"New / Not Started"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-4 h-4 bg-yellow-100 border-2 border-yellow-400 rounded-full"}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"On Progress"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-4 h-4 bg-green-100 border-2 border-green-400 rounded-full"}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Done / Completed"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-4 h-4 bg-gray-100 border-2 border-gray-300 rounded-full"}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"No Schedule"})]})]})]})]}),L==="table"&&a.jsx("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:a.jsx("div",{className:"overflow-x-auto bg-white rounded-lg shadow-md mt-6 animate-fade-in",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Interval"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Machine"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Item"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Monitoring Result"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"MS Status"}),a.jsx("th",{className:"relative px-6 py-3",children:a.jsx("span",{className:"sr-only",children:"Actions"})})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Ue.length>0?Ue.map(he=>a.jsxs(O.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:he.date}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:he.interval}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:he.unitWilayah}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:he.mesin}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:he.item}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:he.monitoringResult}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:a.jsx("span",{className:`px-2.5 py-0.5 rounded-full text-xs font-semibold ${he.msStatus==="MS"?"bg-green-100 text-green-800":he.msStatus==="TMS"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:he.msStatus})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:a.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>Rt(he),className:"text-blue-600 hover:text-blue-900 transition-colors duration-200",title:"View Details",children:a.jsx(bo,{size:18})})})]},he.id)):a.jsx("tr",{children:a.jsx("td",{colSpan:8,className:"px-6 py-4 text-center text-sm text-gray-500",children:"No monitoring data found."})})})]})})}),L==="trend"&&a.jsx(RWe,{records:Ue})]},L)})]})]}),a.jsx($se,{isOpen:k,onClose:()=>S(!1),title:"Monitoring Details",children:D&&a.jsxs(a.Fragment,{children:[a.jsx(LWe,{record:D,onUpdateRecord:Ut}),a.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200 flex justify-center",children:a.jsxs(O.button,{onClick:()=>Kr(D),whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-5 py-2.5 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors duration-200 font-semibold text-sm flex items-center",children:[a.jsx(bo,{className:"w-4 h-4 mr-2"}),"View Full Details"]})})]})}),a.jsx(FWe,{isOpen:ae,onClose:()=>se(!1),schedules:bt,onSelectSchedule:Kr,titleDate:Re})]})})};function BWe(t,e){const[r,n]=b.useState(t);return b.useEffect(()=>{const s=setTimeout(()=>{n(t)},e);return()=>{clearTimeout(s)}},[t,e]),r}const mY=({isOpen:t,onClose:e,title:r,children:n,className:s})=>a.jsx(ar,{children:t&&a.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:a.jsxs(O.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${s||"max-w-xl w-full"}`,children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:r}),a.jsx("button",{onClick:e,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:a.jsx(Ft,{className:"text-xl"})})]}),a.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:n})]})})}),N2=({title:t,value:e,change:r,icon:n})=>{const s=r.startsWith("+");return a.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),a.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),a.jsxs("p",{className:`mt-3 text-xs font-semibold ${s?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})},$We=({vendor:t,onClose:e})=>{const r=o=>o==null?"-":typeof o=="object"&&o!==null?o.name||o.title||o.id||"-":typeof o=="string"?o.trim()!==""?o.trim():"-":typeof o=="number"?o.toString():String(o),n=o=>o?new Date(o).toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-",s=({title:o,children:l,icon:c})=>a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[a.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-4 border-b border-gray-200",children:a.jsxs("div",{className:"flex items-center",children:[c&&a.jsx("div",{className:"mr-3 text-blue-600",children:c}),a.jsx("h3",{className:"text-lg font-bold text-gray-900",children:o})]})}),a.jsx("div",{className:"p-6",children:l})]}),i=({label:o,value:l,icon:c,fullWidth:u=!1,priority:f="medium"})=>{const h={high:"border-l-4 border-l-blue-500 bg-blue-25",medium:"border-l-2 border-l-gray-200",low:"border-l border-l-gray-100"};return a.jsx("div",{className:`${u?"col-span-full":""}`,children:a.jsx("div",{className:`p-4 rounded-lg ${h[f]} transition-all duration-200 hover:shadow-sm`,children:a.jsxs("div",{className:"flex items-start space-x-3",children:[c&&a.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:c}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1",children:o}),a.jsx("p",{className:"text-sm font-medium text-gray-900 leading-relaxed",children:l})]})]})})})};return a.jsxs("div",{className:"space-y-6 max-h-[70vh] overflow-y-auto custom-scrollbar pr-2",children:[a.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6",children:a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"flex items-center gap-3 mb-2",children:a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:t.name})}),a.jsxs("p",{className:"text-gray-600 flex items-center gap-2",children:[a.jsx(ga,{className:"w-4 h-4"}),"Vendor ID: ",t.id," • Created: ",n(t.created_at)]})]}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs(O.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:e,className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-lg text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:[a.jsx(Ft,{className:"w-4 h-4 mr-2"}),"Close"]})})]})}),a.jsx(s,{title:"Basic Information",icon:a.jsx(cn,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsx(i,{label:"Vendor ID",value:r(t.id),icon:a.jsx(fn,{className:"w-4 h-4"}),priority:"high"}),a.jsx(i,{label:"Vendor Name",value:r(t.name),icon:a.jsx(cl,{className:"w-4 h-4"}),priority:"high"}),a.jsx(i,{label:"Contact Person",value:r(t.contact_person),icon:a.jsx(cn,{className:"w-4 h-4"}),priority:"high"})]})}),a.jsx(s,{title:"Contact Information",icon:a.jsx(iu,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsx(i,{label:"Email",value:r(t.email),icon:a.jsx(Xp,{className:"w-4 h-4"}),priority:"high"}),a.jsx(i,{label:"Telephone",value:r(t.telp),icon:a.jsx(iu,{className:"w-4 h-4"})}),a.jsx(i,{label:"Mobile Phone",value:r(t.HP),icon:a.jsx(iu,{className:"w-4 h-4"})})]})}),a.jsx(s,{title:"Address Information",icon:a.jsx(gs,{className:"w-5 h-5"}),children:a.jsx("div",{className:"grid grid-cols-1 gap-4",children:a.jsx(i,{label:"Full Address",value:r(t.address),icon:a.jsx(gs,{className:"w-4 h-4"}),fullWidth:!0})})}),a.jsx(s,{title:"Additional Information",icon:a.jsx(Zs,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(i,{label:"Created At",value:n(t.created_at),icon:a.jsx(ga,{className:"w-4 h-4"})}),a.jsx(i,{label:"Updated At",value:n(t.updated_at),icon:a.jsx(ga,{className:"w-4 h-4"})})]})})]})},HWe=()=>{Ds();const[t,e]=b.useState([]),{getVendor:r,deleteVendor:n,user:s,hasPermission:i}=or(),[o,l]=b.useState([]),[c,u]=b.useState(!0),[f,h]=b.useState(!1),[g,p]=b.useState(null),[v,w]=b.useState(""),[y,N]=b.useState(""),[k,S]=b.useState(!1),[T,_]=b.useState(null),[D,E]=b.useState(!1),[L,R]=b.useState(null),F=b.useRef(!0),[A,M]=b.useState(null),[B,z]=b.useState(null),Y=b.useRef(null),[W,H]=b.useState(!1),[q,X]=b.useState(""),[oe]=b.useState(window.innerWidth<768),[K,V]=b.useState(()=>{const te=localStorage.getItem("sidebarOpen");return te?JSON.parse(te):!1}),[J,Q]=b.useState(!1),[re,ce]=b.useState(null),[Ee,ke]=b.useState(!1),[ge,Ce]=b.useState(null),Ke=tr(),[fe,ye]=b.useState(!1),[ae,se]=b.useState(!1),[bt,pt]=b.useState(!1),Re=b.useRef(null),Me=b.useRef(null),[qe,tt]=b.useState(1),[Ve]=b.useState(10),[Te,le]=b.useState({key:"name",direction:"ascending"}),Je=BWe(q,300),Ge=b.useMemo(()=>[{id:"name",name:"Vendor Name"},{id:"contact",name:"Contact Person"},{id:"email",name:"Email"},{id:"id",name:"Vendor ID"}],[]),ut=b.useCallback(async()=>{try{u(!0);const Fe=[...await r()].sort((Xe,lt)=>Xe.id-lt.id);e(Fe),l(Fe)}catch(te){R("Failed to load vendors"),console.error("Error loading vendors:",te)}finally{F.current&&u(!1)}},[r]);b.useEffect(()=>{ut()},[ut]),b.useEffect(()=>{let te=[...t];if(Je.trim()){const Fe=Je.toLowerCase().trim();te=te.filter(Xe=>{var Wt,mt,Ct;const lt=Fe.split(":");let wt="all",$e=Fe;lt.length>1&&Ge.some(Vt=>Vt.name.toLowerCase()===lt[0].trim())&&(wt=lt[0].trim(),$e=lt.slice(1).join(":").trim());const Ue=(Wt=Xe.name)==null?void 0:Wt.toLowerCase().includes($e),et=(mt=Xe.contact_person)==null?void 0:mt.toLowerCase().includes($e),Rt=(Ct=Xe.email)==null?void 0:Ct.toLowerCase().includes($e),Ut=Xe.id.toString().includes($e);return wt==="vendor name"?Ue:wt==="contact person"?et:wt==="email"?Rt:wt==="vendor id"?Ut:Ue||et||Rt||Ut})}if(A){const Fe=new Date(A);Fe.setHours(0,0,0,0),te=te.filter(Xe=>{if(!Xe.created_at)return!0;const lt=new Date(Xe.created_at);return lt.setHours(0,0,0,0),lt>=Fe})}if(B){const Fe=new Date(B);Fe.setHours(23,59,59,999),te=te.filter(Xe=>{if(!Xe.created_at)return!0;const lt=new Date(Xe.created_at);return lt.setHours(0,0,0,0),lt<=Fe})}Te!==null&&te.sort((Fe,Xe)=>{const lt=ve(Fe[Te.key]),wt=ve(Xe[Te.key]);return lt<wt?Te.direction==="ascending"?-1:1:lt>wt?Te.direction==="ascending"?1:-1:0}),l(te)},[t,Je,A,B,Te,Ge]);const Pe=()=>{const te=!K;V(te),localStorage.setItem("sidebarOpen",JSON.stringify(te))},Ne=()=>{alert("Import functionality is not yet implemented.")},ze=te=>{const Fe=te.target.value;X(Fe)},me=pe.useMemo(()=>{if(!q)return Ge;const te=q.toLowerCase();return Ge.filter(Fe=>Fe.name.toLowerCase().includes(te))},[q,Ge]),De=te=>{var Fe;X(`${te}: `),H(!1),(Fe=Y.current)==null||Fe.focus()},je=te=>{ce(te),ke(!0)},We=async te=>{try{await n(te),e(t.filter(Fe=>Fe.id!==te)),E(!1),Ce(null)}catch(Fe){console.error("Failed to delete Vendor:",Fe),R("Failed to delete vendor. Please try again.")}};b.useCallback(te=>{Ce(te),E(!0)},[]);const rt=te=>{let Fe="ascending";Te&&Te.key===te&&Te.direction==="ascending"&&(Fe="descending"),le({key:te,direction:Fe})},ve=te=>typeof te=="object"&&te!==null?te.name||te.toString():(te==null?void 0:te.toString())||"",xe=qe*Ve,Qe=xe-Ve,yt=o.slice(Qe,xe),st=Math.ceil(o.length/Ve),_e=te=>tt(te);return b.useEffect(()=>{const te=Fe=>{Re.current&&!Re.current.contains(Fe.target)&&se(!1),Me.current&&!Me.current.contains(Fe.target)&&pt(!1),Y.current&&!Y.current.contains(Fe.target)&&!Fe.target.closest(".search-suggestions")&&H(!1)};return document.addEventListener("mousedown",te),()=>{document.removeEventListener("mousedown",te)}},[]),a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Vendor",mainTitleHighlight:"Groups",description:"Manage service groups used across the service management system.",icon:a.jsx(sme,{}),isMobile:oe,toggleSidebar:Pe}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Vendors ",a.jsx("span",{className:"text-blue-600",children:"Management"})]}),a.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Organize and manage vendors by specific company."})]}),a.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[i("create_machine_history")&&a.jsxs(O.button,{onClick:()=>Ke("/vendors/addvendor"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[a.jsx(pa,{className:"text-base"}),a.jsx("span",{children:"Add Vendor"})]}),a.jsxs(O.button,{onClick:Ne,whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(ni,{className:"text-base"}),a.jsx("span",{children:"Import"})]}),a.jsxs(O.button,{onClick:()=>Q(!J),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(Ki,{className:"text-base"}),a.jsx("span",{children:"Filters"}),a.jsx(O.span,{animate:{rotate:J?180:0},transition:{duration:.2},children:a.jsx(la,{className:"text-base"})})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[a.jsx(N2,{title:"Total Vendors",value:t.length.toString(),change:`+${Math.floor(t.length/10*100)}%`,icon:a.jsx(cl,{className:"w-6 h-6"})}),a.jsx(N2,{title:"Vendors with Email",value:t.filter(te=>te.email).length.toString(),change:`+${Math.floor(t.filter(te=>te.email).length/t.length*100)}%`,icon:a.jsx(Xp,{className:"w-6 h-6"})}),a.jsx(N2,{title:"Vendors with Contact",value:t.filter(te=>te.contact_person).length.toString(),change:`+${Math.floor(t.filter(te=>te.contact_person).length/t.length*100)}%`,icon:a.jsx(Pa,{className:"w-6 h-6"})}),a.jsx(N2,{title:"Vendors with Phone",value:t.filter(te=>te.telp||te.HP).length.toString(),change:`+${Math.floor(t.filter(te=>te.telp||te.HP).length/t.length*100)}%`,icon:a.jsx(iu,{className:"w-6 h-6"})})]}),a.jsxs(O.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[a.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Da,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),a.jsx("input",{ref:Y,type:"text",placeholder:"Search by vendor name, contact, email, or ID...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:q,onChange:ze,onFocus:()=>H(!0),"aria-label":"Search vendors"}),a.jsx(ar,{children:W&&me.length>0&&a.jsx(O.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.15},className:"search-suggestions absolute left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-10 max-h-56 overflow-y-auto custom-scrollbar",children:me.map(te=>a.jsx(O.button,{onClick:()=>De(te.name),whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},className:"w-full text-left p-3 text-gray-700 hover:text-blue-700 transition-colors duration-150 text-sm",role:"option",children:a.jsx("span",{className:"font-semibold",children:te.name})},te.id))})})]})}),a.jsx(ar,{children:J&&a.jsx(O.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full",children:a.jsxs("div",{className:"flex items-center space-x-2 bg-white p-2.5 rounded-lg border border-blue-200 shadow-sm",children:[a.jsx(ga,{className:"text-gray-500 text-base"}),a.jsx(fm,{selected:A,onChange:te=>M(te),selectsStart:!0,startDate:A,endDate:B,placeholderText:"Start Date",className:"w-24 focus:outline-none bg-transparent text-sm text-gray-800 placeholder-gray-400",dateFormat:"dd/MM/yyyy",isClearable:!0,"aria-label":"Start Date"}),a.jsx("span",{className:"text-gray-400",children:"-"}),a.jsx(fm,{selected:B,onChange:te=>z(te),selectsEnd:!0,startDate:A,endDate:B,minDate:A||void 0,placeholderText:"End Date",className:"w-24 focus:outline-none bg-transparent text-sm text-gray-800 placeholder-gray-400",dateFormat:"dd/MM/yyyy",isClearable:!0,"aria-label":"End Date"}),(A||B)&&a.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{M(null),z(null)},className:"p-1 rounded-full text-gray-400 hover:bg-gray-100 transition-colors",title:"Clear Dates","aria-label":"Clear date range",children:a.jsx(Ft,{className:"text-base"})})]})})})]}),c?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),a.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading vendor data..."})]}):o.length===0?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx(Zs,{className:"text-blue-500 text-4xl mx-auto mb-4"}),a.jsx("p",{className:"text-gray-700 text-base font-medium",children:Je||A||B?"No vendors found matching your filters.":"No vendors available."}),(Je||A||B)&&a.jsx("button",{onClick:()=>{X(""),M(null),z(null)},className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear All Filters"})]}):a.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:a.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:a.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[a.jsx("thead",{className:"bg-blue-50",children:a.jsxs("tr",{children:[a.jsxs("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider cursor-pointer",onClick:()=>rt("id"),children:["No",(Te==null?void 0:Te.key)==="id"&&a.jsx("span",{className:"ml-1",children:Te.direction==="ascending"?"↑":"↓"})]}),a.jsxs("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider cursor-pointer",onClick:()=>rt("name"),children:["Vendor Name",(Te==null?void 0:Te.key)==="name"&&a.jsx("span",{className:"ml-1",children:Te.direction==="ascending"?"↑":"↓"})]}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Address"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Contact Person"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Email"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Telp"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Handphone"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:yt.map((te,Fe)=>a.jsxs(O.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:Fe+1})}),a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:te.name})}),a.jsx("td",{className:"px-5 py-3",children:a.jsx("div",{className:"text-sm text-gray-600 truncate max-w-xs",children:te.address||"-"})}),a.jsx("td",{className:"px-5 py-3",children:a.jsx("div",{className:"text-sm text-gray-600 truncate max-w-xs",children:te.contact_person||"-"})}),a.jsx("td",{className:"px-5 py-3",children:a.jsx("div",{className:"text-sm text-gray-600 truncate max-w-xs",children:te.email||"-"})}),a.jsx("td",{className:"px-5 py-3",children:a.jsx("div",{className:"text-sm text-gray-600 truncate max-w-xs",children:te.telp||"-"})}),a.jsx("td",{className:"px-5 py-3",children:a.jsx("div",{className:"text-sm text-gray-600 truncate max-w-xs",children:te.HP||"-"})}),a.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[a.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>je(te),className:"text-blue-600 hover:text-blue-800 transition-colors duration-200 p-1 rounded-full hover:bg-blue-50",title:"View Details","aria-label":`View details for vendor ${te.name}`,children:a.jsx(bo,{className:"inline text-base"})}),a.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>Ke(`/vendors/editvendor/${te.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit","aria-label":`Edit vendor ${te.name}`,children:a.jsx(Ba,{className:"inline text-base"})}),a.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{Ce(te.id),E(!0)},className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete","aria-label":`Delete vendor ${te.name}`,children:a.jsx(In,{className:"inline text-base"})})]})]},te.id))})]})})}),o.length>Ve&&a.jsxs(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"mt-8 flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0",children:[a.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",a.jsx("span",{className:"font-semibold",children:Qe+1})," to ",a.jsx("span",{className:"font-semibold",children:Math.min(xe,o.length)})," of"," ",a.jsx("span",{className:"font-semibold",children:o.length})," results"]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>_e(qe-1),disabled:qe===1,className:"px-4 py-2 border border-blue-200 rounded-md bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm font-medium text-sm","aria-label":"Previous page",children:"Previous"}),Array.from({length:st},(te,Fe)=>a.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>_e(Fe+1),className:`px-3.5 py-2 rounded-md transition-colors duration-200 shadow-sm font-medium text-sm
                      ${qe===Fe+1?"bg-blue-600 text-white shadow-md":"bg-white text-gray-700 hover:bg-blue-50 border border-blue-200"}
                    `,"aria-label":`Go to page ${Fe+1}`,children:Fe+1},Fe+1)),a.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>_e(qe+1),disabled:qe===st,className:"px-4 py-2 border border-blue-200 rounded-md bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm font-medium text-sm","aria-label":"Next page",children:"Next"})]})]})]})]}),re&&a.jsx(mY,{isOpen:Ee,onClose:()=>{ke(!1),ce(null)},title:"Vendor Details",className:"max-w-3xl",children:a.jsx($We,{vendor:re,onClose:()=>ke(!1)})}),a.jsx(mY,{isOpen:D,onClose:()=>E(!1),title:"Confirm Deletion",children:a.jsxs("div",{className:"space-y-5 text-center py-3",children:[a.jsx(Hr,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),a.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this Vendor? This action cannot be undone."}),a.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[a.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>E(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),a.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>ge&&We(ge),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})]})},zWe=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(O.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(Ft,{size:24})})]}),a.jsx("div",{children:n})]})}):null,qWe=()=>{const[t,e]=b.useState(window.innerWidth<768),[r,n]=b.useState([]),[s,i]=b.useState([]),{addVendor:o,getVendor:l}=or(),[c,u]=b.useState(()=>{const F=localStorage.getItem("sidebarOpen");return F?JSON.parse(F):!1}),[f,h]=b.useState(null),[g,p]=b.useState(null),[v,w]=b.useState(!1),[y,N]=b.useState(!1),k=tr(),[S,T]=b.useState({name:"",address:"",contact_person:"",email:"",telp:"",HP:""}),_=()=>{u(F=>!F)},D=F=>{const{name:A,value:M}=F.target;T(B=>({...B,[A]:A==="sla"?Number(M):M}))},E=b.useCallback(async()=>{try{const[F]=await Promise.all([l()]);n(F)}catch(F){h(F.message||"Failed to load form data")}},[l]);b.useEffect(()=>{E()},[E]);const L=async F=>{F.preventDefault(),N(!0),h(null);try{const A={name:S.name,address:S.address,contact_person:S.contact_person,email:S.email,telp:S.telp,HP:S.HP};await o(A),p("Vendor created successfully!"),w(!0)}catch(A){h(A.message||"Failed to create Vendor")}finally{N(!1)}},R=()=>{w(!1),k("/vendors")};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Create Vendor",mainTitleHighlight:"Management",description:"blablablabl",icon:a.jsx(Cr,{}),isMobile:t,toggleSidebar:_}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[a.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Work Vendor"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Add a new Vendor information"})]}),a.jsxs(O.button,{onClick:()=>k("/vendors"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(hn,{className:"text-lg"})," Back to Vendors Management"]})]}),a.jsxs(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[f&&a.jsxs(O.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:f}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(Ft,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>h(null)})})]}),a.jsxs("form",{onSubmit:L,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Vendor Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Vendor Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"name",id:"name",value:S.name,onChange:D,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 mb-1",children:["Address ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"address",id:"address",value:S.address,onChange:D,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"contact_person",className:"block text-sm font-medium text-gray-700 mb-1",children:["Contact Person ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"contact_person",id:"contact_person",value:S.contact_person,onChange:D,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:["Email ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"email",id:"email",value:S.email,onChange:D,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"telp",className:"block text-sm font-medium text-gray-700 mb-1",children:["Telp ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"telp",id:"telp",value:S.telp,onChange:D,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"HP",className:"block text-sm font-medium text-gray-700 mb-1",children:["Handphone ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"HP",id:"HP",value:S.HP,onChange:D,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsx(O.button,{type:"button",onClick:()=>k("/vendors"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),a.jsx(O.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:y,children:y?a.jsxs(a.Fragment,{children:[a.jsx(mn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(vn,{className:"mr-2 h-5 w-5"})," Save Vendor"]})})]})]})]})]})]}),a.jsx(zWe,{isOpen:v,onClose:R,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(fr,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:g}),a.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:R,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Vendors Management"})]})})]})},UWe=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(O.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(Ft,{size:24})})]}),a.jsx("div",{children:n})]})}):null,WWe=()=>{const{id:t}=si(),[e,r]=b.useState(window.innerWidth<768),[n,s]=b.useState([]),[i,o]=b.useState(),{getVendor:l,updateVendor:c,getVendorById:u}=or(),[f,h]=b.useState(()=>{const M=localStorage.getItem("sidebarOpen");return M?JSON.parse(M):!1}),[g,p]=b.useState(null),[v,w]=b.useState(null),[y,N]=b.useState(!1),[k,S]=b.useState(!1),T=tr(),[_,D]=b.useState({name:"",address:"",contact_person:"",email:"",telp:"",HP:""}),E=()=>{h(M=>!M)};b.useEffect(()=>{i&&D({name:i.name||"",address:i.address||"",contact_person:i.contact_person||"",email:i.email||"",telp:i.telp||"",HP:i.HP||""})},[i]);const L=M=>{const{name:B,value:z}=M.target;D(Y=>({...Y,[B]:B==="sla"?Number(z):z}))},R=b.useCallback(async()=>{try{if(t){const[M]=await Promise.all([u(t)]);o(M)}}catch(M){p(M.message||"Failed to load form data")}},[t,u]);b.useEffect(()=>{t&&R()},[t,R]);const F=async M=>{M.preventDefault(),S(!0),p(null);try{const B={name:_.name,address:_.address,contact_person:_.contact_person,email:_.email,telp:_.telp,HP:_.HP};await c(t,B),w("Vendor update successfully!"),N(!0)}catch(B){p(B.message||"Failed to update Vendor")}finally{S(!1)}},A=()=>{N(!1),T("/vendors")};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Edit Vendor",mainTitleHighlight:"Management",description:"blablablabl",icon:a.jsx(Cr,{}),isMobile:e,toggleSidebar:E}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[a.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Vendor"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Update Vendor Informations"})]}),a.jsxs(O.button,{onClick:()=>T("/vendors"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(hn,{className:"text-lg"})," Back to Vendors Management"]})]}),a.jsxs(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[g&&a.jsxs(O.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:g}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(Ft,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>p(null)})})]}),a.jsxs("form",{onSubmit:F,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Vendor Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Vendor Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"name",id:"name",value:_.name,onChange:L,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 mb-1",children:["Address ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"address",id:"address",value:_.address,onChange:L,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"contact_person",className:"block text-sm font-medium text-gray-700 mb-1",children:["Contact Person ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"contact_person",id:"contact_person",value:_.contact_person,onChange:L,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:["Email ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"email",id:"email",value:_.email,onChange:L,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"telp",className:"block text-sm font-medium text-gray-700 mb-1",children:["Telp ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"telp",id:"telp",value:_.telp,onChange:L,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"HP",className:"block text-sm font-medium text-gray-700 mb-1",children:["Handphone ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"HP",id:"HP",value:_.HP,onChange:L,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsx(O.button,{type:"button",onClick:()=>T("/vendors"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),a.jsx(O.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:k,children:k?a.jsxs(a.Fragment,{children:[a.jsx(mn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(vn,{className:"mr-2 h-5 w-5"})," Save Vendor"]})})]})]})]})]})]}),a.jsx(UWe,{isOpen:y,onClose:A,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(fr,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:v}),a.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:A,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Vendors Management"})]})})]})},VWe=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(O.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(Ft,{size:24})})]}),a.jsx("div",{children:n})]})}):null,GWe=({isOpen:t,onClose:e,onConfirm:r,title:n,message:s,confirmText:i="Confirm",cancelText:o="Cancel",type:l="approve"})=>a.jsx(ar,{children:t&&a.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:a.jsx(O.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:"bg-white rounded-2xl shadow-2xl overflow-hidden max-w-md w-full border border-blue-100",children:a.jsxs("div",{className:"p-6 text-center",children:[a.jsxs("div",{className:"flex justify-center mb-4",children:[l==="approve"&&a.jsx(fr,{className:"text-green-500 text-5xl"}),l==="feedback"&&a.jsx(kg,{className:"text-blue-500 text-5xl"}),l==="reject"&&a.jsx(Hr,{className:"text-red-500 text-5xl"}),l==="edit"&&a.jsx(Ba,{className:"text-purple-500 text-5xl"})]}),a.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:n}),a.jsx("p",{className:"text-gray-600 mb-6",children:s}),a.jsxs("div",{className:"flex justify-center space-x-3",children:[a.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:e,className:"px-5 py-2.5 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 font-semibold transition-colors duration-200",children:o}),a.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:r,className:`px-5 py-2.5 text-white rounded-lg font-semibold transition-colors duration-200 ${l==="approve"?"bg-green-600 hover:bg-green-700":l==="feedback"?"bg-blue-600 hover:bg-blue-700":l==="reject"?"bg-red-600 hover:bg-red-700":"bg-purple-600 hover:bg-purple-700"}`,children:i})]})]})})})}),YWe=()=>{var st;Ds();const t=tr(),{id:e}=si(),{user:r,getMonitoringScheduleById:n,addMonitoringActivities:s,hasPermission:i,approveSchedule:o,getApprovalTemplates:l,updateMonitoringActivity:c}=or(),[u,f]=b.useState(window.innerWidth<768),[h,g]=b.useState(()=>{const _e=localStorage.getItem("sidebarOpen");return JSON.parse(_e||"false")}),p=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!h)),g(_e=>!_e)},[v,w]=b.useState(null),[y,N]=b.useState(null),[k,S]=b.useState(!1),[T,_]=b.useState(!0),[D,E]=b.useState(null),[L,R]=b.useState("approval"),[F,A]=b.useState({}),[M,B]=b.useState(null),[z,Y]=b.useState(!0),[W,H]=b.useState(null),[q,X]=b.useState(!1),[oe,K]=b.useState(!1),[V,J]=b.useState(""),[Q,re]=b.useState(""),[ce,Ee]=b.useState(!0),[ke,ge]=b.useState(!1),[Ce,Ke]=b.useState(null);b.useEffect(()=>{(async()=>{var te,Fe,Xe,lt;if(e)try{_(!0),E(null);const wt=await n(parseInt(e));if(H(wt),!wt)throw new Error("Data monitoring schedule tidak ditemukan");console.log("Schedule data dengan approvals:",wt),wt.approval_template&&(B(wt.approval_template),console.log("Active template set in first useEffect:",wt.approval_template));const $e={id:wt.id_monitoring_schedule.toString(),name:`${((te=wt.data_mesin)==null?void 0:te.name)||"Mesin"} - ${wt.unit}`,interval:((Fe=wt.monitoring_interval)==null?void 0:Fe.type_interval)||"Weekly",period:`${wt.tgl_start} - ${wt.tgl_end}`,unit:wt.unit,mesin:(Xe=wt.data_mesin)==null?void 0:Xe.name,tahun:wt.tahun,bulan:wt.bulan,tgl_start:wt.tgl_start,tgl_end:wt.tgl_end,items:((lt=wt.item_mesins)==null?void 0:lt.map(mt=>({id:mt.id,name:mt.item_mesin,uom:mt.satuan,min:mt.standard_min?parseFloat(mt.standard_min):void 0,max:mt.standard_max?parseFloat(mt.standard_max):void 0,visual:mt.standard_visual,standard_min:mt.standard_min,standard_max:mt.standard_max,standard_visual:mt.standard_visual,satuan:mt.satuan})))||[]};w($e);const Ue=wt.monitoring_activities||[],et=wt.schedule_approvals||[],Rt={};wt.approval_template&&wt.approval_template.approvers?wt.approval_template.approvers.forEach(mt=>{const Ct=`step_${mt.step}`,Vt=et.find(br=>br.approval_step===mt.step&&br.approver_id===mt.approver_user_id);if(Vt){let br="Pending";switch(Vt.status){case"approved":br="Approved";break;case"rejected":br="Rejected";break;case"feedback_given":br="FeedbackGiven";break;default:br="Pending"}Rt[Ct]=br}else Rt[Ct]="Pending"}):et.forEach(mt=>{const Ct=`step_${mt.approval_step}`;let Vt="Pending";switch(mt.status){case"approved":Vt="Approved";break;case"rejected":Vt="Rejected";break;case"feedback_given":Vt="FeedbackGiven";break;default:Vt="Pending"}Rt[Ct]=Vt});const Ut=et.map(mt=>{var gn;let Ct="approval",Vt="";switch(mt.status){case"approved":Ct="approval",Vt=`Menyetujui laporan pada step ${mt.approval_step}`;break;case"rejected":Ct="rejection",Vt=`Menolak laporan pada step ${mt.approval_step}`;break;case"feedback_given":Ct="feedback",Vt=`Memberikan feedback pada step ${mt.approval_step}`;break;default:Ct="submission",Vt=`Mengajukan approval pada step ${mt.approval_step}`}const br=mt.approved_at||mt.created_at;return{type:Ct,timestamp:br||new Date().toISOString(),actor:((gn=mt.approver)==null?void 0:gn.name)||`Approver Step ${mt.approval_step}`,description:Vt,details:mt.comments||void 0}});if(Ue.length>0){const mt=Ue[0].created_at;Ut.unshift({type:"submission",timestamp:mt||new Date().toISOString(),actor:"Technician",description:"Mengisi hasil monitoring"})}const Wt={machineId:$e.id,itemResults:$e.items.map(mt=>{const Ct=Ue.find(br=>br.id_item_mesin===mt.id);let Vt="Pending";if(Ct!=null&&Ct.hasil_ms_tms){const br=Ct.hasil_ms_tms.toLowerCase();br==="ms"?Vt="MS":br==="tms"?Vt="TMS":Vt="N/A"}return{itemId:mt.id,result:(Ct==null?void 0:Ct.hasil_monitoring)||"",status:Vt,remarks:(Ct==null?void 0:Ct.hasil_keterangan)||""}}),approvalStatus:Rt,commentsHistory:[],activityHistory:Ut,isSaved:Ue.length>0,submissionDate:Ue.length>0?new Date().toISOString():void 0,currentApprovalStep:se(et,wt.approval_template)};N(Wt)}catch(wt){E(wt instanceof Error?wt.message:"Gagal memuat data monitoring"),console.error("Error loading machine detail:",wt)}finally{_(!1)}})()},[e,n]);const fe=b.useMemo(()=>{var _e,te,Fe,Xe,lt,wt;return r?r.position?{id:r.id,name:r.position,isDepartmentHead:r.position.toLowerCase().includes("head")||r.position.toLowerCase().includes("manager"),isSuperadmin:r.roleId==="3"}:r.roleId==="1"?{id:"1",name:"admin",isDepartmentHead:!0}:r.roleId==="3"?{id:"3",name:"superadmin",isSuperadmin:!0}:(te=(_e=r.department)==null?void 0:_e.name)!=null&&te.toLowerCase().includes("engineering")?(Fe=r.position)!=null&&Fe.toLowerCase().includes("head")?{id:"unitHeadEngineering",name:"Unit Head Engineering",isDepartmentHead:!0}:{id:"technician",name:"Technician"}:(lt=(Xe=r.department)==null?void 0:Xe.name)!=null&&lt.toLowerCase().includes("process")?(wt=r.position)!=null&&wt.toLowerCase().includes("head")?{id:"unitHeadProcess",name:"Unit Head Process",isDepartmentHead:!0}:{id:"technician",name:"Technician"}:{id:"technician",name:"Technician"}:{id:"guest",name:"Guest"}},[r]),ye=b.useCallback(_e=>{if(!M||!M.approvers||!r)return console.log(`❌ isUserApproverForStep ${_e}: Missing data`),!1;const te=M.approvers.find(Xe=>Xe.step===_e&&Xe.approver_user_id.toString()===r.id),Fe=!!te;return console.log(`🔍 IS USER APPROVER STEP ${_e}:`,{step:_e,userID:r.id,userName:r.name,approverUserID:te==null?void 0:te.approver_user_id,approverName:te==null?void 0:te.approver.name,MATCH:Fe}),Fe},[M,r]),ae=b.useCallback(()=>{if(!y||!(M!=null&&M.approvers))return console.log("❌ GET CURRENT STEP: No monitoringResults or approvers"),1;const _e=[...M.approvers].sort((Fe,Xe)=>Fe.step-Xe.step);console.log("🔍 GET CURRENT STEP - All approvers status:",y.approvalStatus);for(let Fe=0;Fe<_e.length;Fe++){const Xe=_e[Fe],lt=`step_${Xe.step}`,wt=y.approvalStatus[lt]||"Pending";if(console.log(`🔍 Checking step ${Xe.step}:`,{stepKey:lt,status:wt,isPending:wt==="Pending"}),wt==="Pending")return console.log(`✅ CURRENT ACTIVE STEP FOUND: ${Xe.step}`),Xe.step}const te=_e.length+1;return console.log(`✅ ALL STEPS APPROVED, NEXT STEP: ${te}`),te},[y,M]);b.useEffect(()=>{var _e;y&&M&&r&&(console.log("=== 🎯 DEBUG ACTIONS VISIBILITY ==="),console.log("User:",{id:r.id,name:r.name}),console.log("Template:",M.name),console.log("Is Saved:",y.isSaved),(_e=M.approvers)==null||_e.forEach(te=>{const Fe=`step_${te.step}`,Xe=y.approvalStatus[Fe],lt=me(te.step,te,Xe);console.log(`🎯 Step ${te.step} - ${te.approver.name}:`,{status:Xe,shouldShowActions:lt,isCurrentUser:te.approver_user_id.toString()===r.id,conditions:{isCurrentApprover:te.approver_user_id.toString()===r.id,needsAction:Xe==="Pending",isCurrentStep:ae()===te.step,isPreviousStepApproved:te.step===1?!0:y.approvalStatus[`step_${te.step-1}`]==="Approved"}})}))},[y,M,r]);const se=(_e,te)=>{if(!te||!te.approvers)return 1;const Fe=[...te.approvers].sort((lt,wt)=>lt.step-wt.step);console.log("Getting current step from approvals:",{approvalsCount:_e.length,approversCount:Fe.length});for(let lt=0;lt<Fe.length;lt++){const wt=Fe[lt],$e=_e.find(Ue=>Ue.approval_step===wt.step&&Ue.approver_id===wt.approver_user_id);if(console.log(`Step ${wt.step}:`,{hasApproval:!!$e,status:$e==null?void 0:$e.status,isApproved:($e==null?void 0:$e.status)==="approved"}),!$e||$e.status!=="approved")return console.log(`Current step from approvals: ${wt.step}`),wt.step}const Xe=Fe.length+1;return console.log(`All steps approved from approvals, next step: ${Xe}`),Xe},bt=(_e,te)=>W?(W.schedule_approvals||[]).find(Xe=>Xe.approval_step===_e&&Xe.approver_id===te.approver_user_id):null,pt=b.useCallback(async()=>{var _e,te,Fe,Xe;if(e)try{_(!0),E(null);const lt=await n(parseInt(e));if(H(lt),!lt)throw new Error("Data monitoring schedule tidak ditemukan");console.log("Schedule data dengan approvals:",lt),lt.approval_template&&(B(lt.approval_template),console.log("Active template set:",lt.approval_template));const wt={id:lt.id_monitoring_schedule.toString(),name:`${((_e=lt.data_mesin)==null?void 0:_e.name)||"Mesin"} - ${lt.unit}`,interval:((te=lt.monitoring_interval)==null?void 0:te.type_interval)||"Weekly",period:`${lt.tgl_start} - ${lt.tgl_end}`,unit:lt.unit,mesin:(Fe=lt.data_mesin)==null?void 0:Fe.name,tahun:lt.tahun,bulan:lt.bulan,tgl_start:lt.tgl_start,tgl_end:lt.tgl_end,items:((Xe=lt.item_mesins)==null?void 0:Xe.map(Wt=>({id:Wt.id,name:Wt.item_mesin,uom:Wt.satuan,min:Wt.standard_min?parseFloat(Wt.standard_min):void 0,max:Wt.standard_max?parseFloat(Wt.standard_max):void 0,visual:Wt.standard_visual,standard_min:Wt.standard_min,standard_max:Wt.standard_max,standard_visual:Wt.standard_visual,satuan:Wt.satuan})))||[]};w(wt);const $e=lt.monitoring_activities||[],Ue=lt.schedule_approvals||[],et={};lt.approval_template&&lt.approval_template.approvers&&lt.approval_template.approvers.forEach(Wt=>{const mt=`step_${Wt.step}`,Ct=Ue.find(Vt=>Vt.approval_step===Wt.step&&Vt.approver_id===Wt.approver_user_id);if(Ct){let Vt="Pending";switch(Ct.status){case"approved":Vt="Approved";break;case"rejected":Vt="Rejected";break;case"feedback_given":Vt="FeedbackGiven";break;default:Vt="Pending"}et[mt]=Vt}else et[mt]="Pending",console.log(`✅ Step ${Wt.step} di-set ke Pending (no approval history)`)});const Rt=Ue.map(Wt=>{var br;let mt="approval",Ct="";switch(Wt.status){case"approved":mt="approval",Ct=`Menyetujui laporan pada step ${Wt.approval_step}`;break;case"rejected":mt="rejection",Ct=`Menolak laporan pada step ${Wt.approval_step}`;break;case"feedback_given":mt="feedback",Ct=`Memberikan feedback pada step ${Wt.approval_step}`;break;default:mt="submission",Ct=`Mengajukan approval pada step ${Wt.approval_step}`}const Vt=Wt.approved_at||Wt.created_at;return{type:mt,timestamp:Vt||new Date().toISOString(),actor:((br=Wt.approver)==null?void 0:br.name)||`Approver Step ${Wt.approval_step}`,description:Ct,details:Wt.comments||void 0}});if($e.length>0){const Wt=$e[0].created_at;Rt.unshift({type:"submission",timestamp:Wt||new Date().toISOString(),actor:"Technician",description:"Mengisi hasil monitoring"})}const Ut={machineId:wt.id,itemResults:wt.items.map(Wt=>{const mt=$e.find(Vt=>Vt.id_item_mesin===Wt.id);let Ct="Pending";if(mt!=null&&mt.hasil_ms_tms){const Vt=mt.hasil_ms_tms.toLowerCase();Vt==="ms"?Ct="MS":Vt==="tms"?Ct="TMS":Ct="N/A"}return{itemId:Wt.id,result:(mt==null?void 0:mt.hasil_monitoring)||"",status:Ct,remarks:(mt==null?void 0:mt.hasil_keterangan)||""}}),approvalStatus:et,commentsHistory:[],activityHistory:Rt,isSaved:$e.length>0,submissionDate:$e.length>0?new Date().toISOString():void 0,currentApprovalStep:se(Ue,lt.approval_template)};N(Ut)}catch(lt){E(lt instanceof Error?lt.message:"Gagal memuat data monitoring"),console.error("Error loading machine detail:",lt)}finally{_(!1)}},[e,n]),Re=(_e,te,Fe,Xe,lt)=>{N(wt=>wt?{...wt,itemResults:wt.itemResults.map($e=>$e.itemId===_e?{...$e,result:te,status:Fe==="numeric"?qe(Number(te),Xe,lt):te==="MS"?"MS":te==="TMS"?"TMS":"Pending"}:$e)}:null)},Me=(_e,te)=>{N(Fe=>Fe?{...Fe,itemResults:Fe.itemResults.map(Xe=>Xe.itemId===_e?{...Xe,remarks:te}:Xe)}:null)},qe=(_e,te,Fe)=>isNaN(_e)||_e===null||_e===void 0?te===void 0||Fe===void 0?"N/A":"Pending":te!==void 0&&Fe!==void 0?_e>=te&&_e<=Fe?"MS":"TMS":"N/A",tt=_e=>{switch(_e){case"MS":return"bg-green-100 text-green-800 border-green-200";case"TMS":return"bg-red-100 text-red-800 border-red-200";case"Pending":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"N/A":return"bg-gray-100 text-gray-800 border-gray-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},Ve=_e=>{switch(_e){case"Pending":return"bg-yellow-100 text-yellow-800";case"Approved":return"bg-green-100 text-green-800";case"Rejected":return"bg-red-100 text-red-800";case"FeedbackGiven":return"bg-blue-100 text-blue-800";case"Edited":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},Te=_e=>{if(!M||!M.approvers)return"Unknown Role";const te=M.approvers.find(Fe=>Fe.approver_user_id.toString()===_e);return(te==null?void 0:te.approver.position)||"Unknown Position"};b.useCallback((_e,te,Fe,Xe=null)=>{N(lt=>{if(!lt||lt.machineId!==_e)return lt;const wt={id:crypto.randomUUID(),role:te,comment:Fe,timestamp:new Date().toLocaleString(),replies:[],parentId:Xe},$e=(et,Rt)=>Rt.parentId===null?[...et,Rt]:et.map(Ut=>Ut.id===Rt.parentId?{...Ut,replies:Ut.replies?[...Ut.replies,Rt]:[Rt]}:{...Ut,replies:Ut.replies?$e(Ut.replies,Rt):Ut.replies}),Ue=lt.commentsHistory||[];return{...lt,commentsHistory:$e(Ue,wt)}})},[]);const le=(_e,te,Fe)=>{let Xe="",lt="",wt="approve";switch(te){case"Approved":Xe="Confirm Approval",lt=`Are you sure you want to approve this monitoring report for step ${_e}?`,wt="approve";break;case"FeedbackGiven":Xe="Confirm Feedback",lt=`Are you sure you want to send feedback for step ${_e}?`,wt="feedback";break;case"Rejected":Xe="Confirm Rejection",lt=`Are you sure you want to reject this monitoring report for step ${_e}?`,wt="reject";break;case"Edited":Xe="Confirm Edit",lt=`Are you sure you want to mark this as edited for step ${_e}?`,wt="edit";break}Ke({type:wt,step:_e,title:Xe,message:lt,feedbackText:Fe}),ge(!0)},Je=async()=>{if(Ce)try{await Ge(Ce.step,Ce.type==="approve"?"Approved":Ce.type==="feedback"?"FeedbackGiven":Ce.type==="reject"?"Rejected":"Edited",Ce.feedbackText),ge(!1),Ke(null),await pt()}catch(_e){console.error("Error during confirmation:",_e),ge(!1),Ke(null)}},Ge=async(_e,te,Fe)=>{if(!(!y||!e||!r))try{let Xe="";(te==="FeedbackGiven"&&Fe||te==="Rejected"&&Fe)&&(Xe=Fe),console.log(`Sending approval for step ${_e}, action: ${te}`);const lt=await o(parseInt(e),Xe);if(lt.success){N($e=>{if(!$e)return null;const Ue={...$e.approvalStatus,[`step_${_e}`]:te},et=[...$e.activityHistory],Rt=new Date().toLocaleString();let Ut="";switch(te){case"Approved":Ut=`Menyetujui laporan pada step ${_e}`;break;case"FeedbackGiven":Ut=`Memberikan feedback pada step ${_e}`;break;case"Rejected":Ut=`Menolak laporan pada step ${_e}`;break;default:Ut=`Melakukan aksi ${te} pada step ${_e}`}return et.push({type:te==="Approved"?"approval":te==="Rejected"?"rejection":te==="FeedbackGiven"?"feedback":"edit",timestamp:Rt,actor:fe.name,description:`${fe.name} ${Ut}`,details:Xe||void 0}),te!=="Edited"&&A(Wt=>({...Wt,[`step_${_e}`]:{showInput:!1,text:""}})),{...$e,approvalStatus:Ue,activityHistory:et}});let wt="";switch(te){case"Approved":wt="Berhasil menyetujui laporan.";break;case"FeedbackGiven":wt="Berhasil mengirim feedback.";break;case"Rejected":wt="Berhasil menolak laporan.";break;case"Edited":wt="Berhasil menyimpan perubahan.";break}Qe("Success!",wt,!0)}else throw new Error(lt.message||"Approval failed")}catch(Xe){console.error("Error during approval:",Xe),Qe("Error!","Gagal melakukan approval. Silakan coba lagi.",!1)}},ut=b.useCallback(()=>{if(!M||!M.approvers||!y)return!1;const _e=[...M.approvers].sort((Fe,Xe)=>Fe.step-Xe.step),te=_e.every(Fe=>{const Xe=`step_${Fe.step}`;return y.approvalStatus[Xe]==="Approved"});return console.log("🔍 CHECK ALL STEPS COMPLETED:",{totalSteps:_e.length,allApproved:te,approvalStatus:y.approvalStatus}),te},[M,y]),Pe=_e=>{A(te=>{var Fe;return{...te,[`step_${_e}`]:{...te[`step_${_e}`],showInput:!((Fe=te[`step_${_e}`])!=null&&Fe.showInput)}}})},Ne=(_e,te)=>{A(Fe=>({...Fe,[`step_${_e}`]:{...Fe[`step_${_e}`],text:te}}))},ze=async()=>{if(!(!v||!y||!e)){S(!0);try{let _e=!0;const te=[];if(y.itemResults.forEach($e=>{const Ue=v.items.find(et=>et.id===$e.itemId);Ue&&($e.result===""||$e.status==="Pending")&&(_e=!1,te.push({item:Ue.name}))}),!_e){Qe("Validation Error",`Harap isi semua hasil monitoring yang diperlukan untuk ${v.name}. Item yang belum diisi: `+te.map($e=>$e.item).join(", "),!1);return}const Fe=y.itemResults.map($e=>{var Rt;const Ue=(Rt=W==null?void 0:W.monitoring_activities)==null?void 0:Rt.find(Ut=>Ut.id_item_mesin===$e.itemId),et={id_monitoring_schedule:parseInt(e),id_item_mesin:$e.itemId,tgl_monitoring:v.tgl_start||new Date().toISOString().split("T")[0],hasil_monitoring:$e.result.toString(),hasil_keterangan:$e.remarks,hasil_ms_tms:$e.status==="MS"?"ms":$e.status==="TMS"?"tms":"na"};return Ue&&Ue.id_monitoring_activity?{id:Ue.id_monitoring_activity,data:et}:{id:0,data:et}});console.log("📦 Data yang akan dikirim ke backend:",Fe);const Xe=Fe.filter($e=>$e.id===0),lt=Fe.filter($e=>$e.id>0);if(console.log("🆕 Activities to CREATE:",Xe.length),console.log("🔄 Activities to UPDATE:",lt.length),Xe.length>0){const $e=Xe.map(Ue=>Ue.data);console.log("🆕 CREATE new monitoring activities:",$e),await s($e)}lt.length>0&&(console.log("🔄 UPDATE existing monitoring activities:",lt),await c(lt)),N($e=>{if(!$e)return null;const Ue=[...$e.activityHistory],et=new Date().toLocaleString(),Rt=$e.isSaved?"edit":"submission",Ut=$e.isSaved?`${fe.name} mengedit hasil monitoring.`:`${fe.name} mengisi hasil monitoring.`;return Ue.push({type:Rt,timestamp:et,actor:fe.name,description:Ut}),{...$e,isSaved:!0,submissionDate:new Date().toISOString(),activityHistory:Ue}}),await pt();const wt=y.isSaved?`Hasil monitoring untuk ${v.name} berhasil diupdate!`:`Hasil monitoring untuk ${v.name} berhasil disimpan!`;Qe("Success!",wt,!0)}catch(_e){const te=y.isSaved?"Gagal mengupdate hasil monitoring. Silakan coba lagi.":"Gagal menyimpan hasil monitoring. Silakan coba lagi.";Qe("Error!",te,!1),console.error("Error saving monitoring results:",_e)}finally{S(!1)}}},me=(_e,te,Fe)=>{if(!r||!(y!=null&&y.isSaved))return console.log(`❌ Button step ${_e}: User atau monitoringResults tidak siap`,{user:!!r,monitoringResults:!!y,isSaved:y==null?void 0:y.isSaved}),!1;const Xe=te.approver_user_id.toString()===r.id,lt=Fe==="Pending",wt=ae(),$e=wt===_e;let Ue=!0;if(_e>1){const Rt=`step_${_e-1}`;Ue=y.approvalStatus[Rt]==="Approved"}const et=Xe&&lt&&$e&&Ue;return console.log(`🎯 CALCULATE BUTTON STEP ${_e}:`,{step:_e,isCurrentApprover:Xe,needsAction:lt,isCurrentStep:$e,isPreviousStepApproved:Ue,currentStatus:Fe,currentStep:wt,userID:r.id,approverID:te.approver_user_id,userPosition:r.position,approverPosition:te.approver.position,FINAL_RESULT:et}),et},De=async _e=>{if(!(!y||!e||_e!==1)){if(ut()){Qe("Info","Tidak dapat mengedit karena semua step approval sudah selesai.",!1);return}try{await ze(),N(te=>{if(!te)return null;const Fe={...te.approvalStatus,step_1:"Edited"},Xe=[...te.activityHistory],lt=new Date().toLocaleString();return Xe.push({type:"edit",timestamp:lt,actor:fe.name,description:`${fe.name} (Approver Step 1) mengedit hasil monitoring.`}),{...te,approvalStatus:Fe,activityHistory:Xe}}),await pt(),Qe("Success!","Berhasil menyimpan perubahan dan menandai sebagai edited oleh Approver Step 1.",!0)}catch(te){console.error("Error during edit by approver:",te),Qe("Error!","Gagal menyimpan perubahan. Silakan coba lagi.",!1)}}};b.useMemo(()=>{if(!(y!=null&&y.commentsHistory))return{};const _e=(Fe,Xe=null)=>Fe.filter(lt=>lt.parentId===Xe).sort((lt,wt)=>new Date(lt.timestamp).getTime()-new Date(wt.timestamp).getTime()).map(lt=>({...lt,replies:_e(Fe,lt.id)})),te={};return M!=null&&M.approvers&&M.approvers.forEach(Fe=>{const Xe=y.commentsHistory.filter(lt=>lt.role===Te(Fe.approver_user_id.toString()));te[`step_${Fe.step}`]=_e(Xe)}),te},[y==null?void 0:y.commentsHistory,M]);const je=b.useCallback(()=>{var _e;!y||!M||(console.log("=== DEBUG APPROVAL STATUS ==="),console.log("Active Template:",M.name),console.log("Approvers:",M.approvers),(_e=M.approvers)==null||_e.forEach(te=>{const Fe=`step_${te.step}`,Xe=y.approvalStatus[Fe],lt=te.approver_user_id.toString()===(r==null?void 0:r.id);console.log(`Step ${te.step}:`,{approver:te.approver.name,status:Xe,isCurrentUser:lt,stepKey:Fe})}),console.log("Current Step:",ae()),console.log("User ID:",r==null?void 0:r.id))},[y,M,r,ae]);b.useEffect(()=>{y&&M&&je()},[y,M,je]);const We=_e=>_e.satuan&&_e.satuan!=="Visual"&&_e.satuan!=="Level"&&_e.satuan!=="Kekencangan"?"numeric":"visual";b.useMemo(()=>fe.name.toLowerCase().includes("technician")&&!ye(1),[fe,ye]);const rt=ye(1),ve=b.useMemo(()=>!(y!=null&&y.isSaved)||y.approvalStatus.step_1==="Pending"?!0:ye(1)&&!ut(),[y==null?void 0:y.isSaved,y==null?void 0:y.approvalStatus,ye,ut]),xe=ye(ae()),Qe=b.useCallback((_e,te,Fe=!0)=>{re(_e),J(te),Ee(Fe),Fe?X(!0):K(!0)},[]),yt=b.useCallback(()=>{X(!1),K(!1),pt()},[pt]);return T?a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx("header",{className:"bg-white border-b border-gray-100 p-4 flex items-center justify-between shadow-sm sticky top-0 z-30",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs(O.button,{onClick:()=>t(-1),whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center text-blue-600 hover:text-blue-800 transition-colors duration-200",children:[a.jsx(hn,{className:"text-xl"}),a.jsx("span",{className:"font-semibold text-sm hidden md:inline",children:"Back"})]}),a.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900 ml-4",children:"Monitoring & Maintenance"})]})}),a.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-4 border-b-4 border-blue-500"})})})]})]}):D?a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx("header",{className:"bg-white border-b border-gray-100 p-4 flex items-center justify-between shadow-sm sticky top-0 z-30",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs(O.button,{onClick:()=>t(-1),whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center text-blue-600 hover:text-blue-800 transition-colors duration-200",children:[a.jsx(hn,{className:"text-xl"}),a.jsx("span",{className:"font-semibold text-sm hidden md:inline",children:"Back"})]}),a.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900 ml-4",children:"Monitoring & Maintenance"})]})}),a.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 text-center",children:[a.jsx(Hr,{className:"text-red-500 text-4xl mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-red-800 mb-2",children:"Gagal Memuat Data"}),a.jsx("p",{className:"text-red-600 mb-4",children:D}),a.jsxs(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:pt,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-semibold flex items-center justify-center mx-auto",children:[a.jsx(Gpe,{className:"mr-2 h-4 w-4"}),"Coba Lagi"]})]})})]})]}):!v||!y?a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx("header",{className:"bg-white border-b border-gray-100 p-4 flex items-center justify-between shadow-sm sticky top-0 z-30",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs(O.button,{onClick:()=>t(-1),whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center text-blue-600 hover:text-blue-800 transition-colors duration-200",children:[a.jsx(hn,{className:"text-xl"}),a.jsx("span",{className:"font-semibold text-sm hidden md:inline",children:"Back"})]}),a.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900 ml-4",children:"Monitoring & Maintenance"})]})}),a.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:a.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6 text-center",children:[a.jsx(Hr,{className:"text-yellow-500 text-4xl mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-yellow-800 mb-2",children:"Data Tidak Ditemukan"}),a.jsx("p",{className:"text-yellow-600",children:"Data monitoring schedule tidak tersedia."})]})})]})]}):a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Monitoring Maintenance",mainTitleHighlight:"Management",description:"Manage user roles and permissions to control access and functionality within the system.",icon:a.jsx(Qh,{}),isMobile:u,toggleSidebar:p}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsx(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Detail Monitoring & Maintenance"}),a.jsxs("p",{className:"text-gray-600 mt-1",children:["Machine: ",a.jsx("span",{className:"font-semibold text-gray-800",children:v.name})]}),a.jsxs("p",{className:"text-gray-600 mt-1",children:["Interval: ",a.jsx("span",{className:"font-semibold text-gray-800",children:v.interval})]}),a.jsxs("p",{className:"text-gray-600 mt-1",children:["Periode: ",a.jsx("span",{className:"font-semibold text-gray-800",children:v.period})]}),a.jsxs("div",{className:"text-sm text-gray-500 mt-2 flex items-center space-x-4",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-semibold",children:v.items.length})," Items"]}),M&&M.approvers&&M.approvers.length>0?a.jsxs("p",{children:["Template: ",a.jsx("span",{className:"font-semibold",children:M.name}),M.is_active&&a.jsx("span",{className:"ml-1 text-green-600",children:"(Aktif)"}),ut()&&a.jsx("span",{className:"ml-2 bg-green-100 text-green-800 px-2 py-1 rounded-full text-xs font-semibold",children:"All Steps Completed"})]}):a.jsxs("p",{children:["Template: ",a.jsx("span",{className:"font-semibold text-yellow-600",children:"Tidak ada template"})]}),M&&rt&&a.jsx("p",{className:`font-semibold ${ut()?"text-gray-500":"text-blue-600"}`,children:ut()?"(Semua step approval selesai - tidak dapat edit)":"(Anda adalah Approver Step 1 - Dapat mengedit)"}),M&&xe&&!rt&&a.jsxs("p",{className:"text-green-600 font-semibold",children:["(Anda adalah approver untuk step ",ae(),")"]})]})]})}),a.jsx("div",{className:"space-y-6",children:a.jsxs(O.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1,duration:.2},className:"bg-white rounded-lg border border-gray-200 shadow-sm p-4",children:[a.jsx("div",{className:"overflow-x-auto rounded-lg border border-gray-200 shadow-sm",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nama Item"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Standar"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Hasil"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Catatan"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:v.items.map(_e=>{const te=y.itemResults.find(Xe=>Xe.itemId===_e.id),Fe=We(_e);return a.jsxs("tr",{children:[a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:[_e.name,!ve&&(y==null?void 0:y.isSaved)&&a.jsx("span",{className:"ml-2 text-xs text-gray-500",children:"(Terkunci)"})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:_e.standard_visual?`${_e.standard_visual} (${_e.satuan})`:`${_e.standard_min} - ${_e.standard_max} ${_e.satuan}`}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:Fe==="visual"?a.jsxs("select",{className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md disabled:bg-gray-100 disabled:cursor-not-allowed",value:(te==null?void 0:te.result)||"",onChange:Xe=>Re(_e.id,Xe.target.value,"visual"),disabled:!ve,children:[a.jsx("option",{value:"",children:"Pilih"}),a.jsx("option",{value:"MS",children:"MS"}),a.jsx("option",{value:"TMS",children:"TMS"})]}):a.jsx("input",{type:"number",step:"0.01",value:te==null?void 0:te.result,onChange:Xe=>Re(_e.id,Xe.target.value,"numeric",_e.min,_e.max),disabled:!ve,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700 text-sm disabled:bg-gray-100 disabled:cursor-not-allowed",placeholder:"Input result"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:a.jsx("span",{className:`text-xs font-medium px-2.5 py-1 rounded-full ${tt((te==null?void 0:te.status)||"Pending")}`,children:te==null?void 0:te.status})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:a.jsx("textarea",{rows:1,value:te==null?void 0:te.remarks,onChange:Xe=>Me(_e.id,Xe.target.value),disabled:!ve,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700 text-sm disabled:bg-gray-100 disabled:cursor-not-allowed",placeholder:"Tambahkan catatan..."})})]},_e.id)})})]})}),a.jsxs("div",{className:"flex justify-end mt-6 relative",children:[a.jsx(O.button,{whileHover:{scale:ve?1.05:1},whileTap:{scale:ve?.95:1},onClick:rt?()=>De(1):ze,disabled:!ve||k||rt&&ut(),className:"px-6 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-semibold flex items-center disabled:opacity-50 disabled:cursor-not-allowed relative group",children:k?a.jsxs(a.Fragment,{children:[a.jsx(mn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(vn,{className:"mr-2 h-5 w-5"}),rt?ut()?"All Steps Completed":"Save & Mark as Edited":"Save Monitoring"]})}),rt&&ut()&&a.jsx("div",{className:"absolute bottom-full mb-2 hidden group-hover:block bg-gray-800 text-white text-xs rounded py-1 px-2 whitespace-nowrap",children:"Semua step approval sudah selesai. Tidak dapat melakukan edit."})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm mt-8",children:[a.jsxs("div",{className:"flex items-center space-x-4 mb-4 border-b border-gray-200",children:[a.jsxs(O.button,{whileHover:{scale:1.03},onClick:()=>R("approval"),className:`pb-3 px-2 font-semibold text-gray-700 transition-colors flex items-center space-x-2 ${L==="approval"?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:[a.jsx(Zs,{className:"h-5 w-5"}),a.jsx("span",{children:"Approval Status"})]}),a.jsxs(O.button,{whileHover:{scale:1.03},onClick:()=>R("history"),className:`pb-3 px-2 font-semibold text-gray-700 transition-colors flex items-center space-x-2 ${L==="history"?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:[a.jsx(Xh,{className:"h-5 w-5"}),a.jsx("span",{children:"History Activity"})]})]}),L==="approval"?a.jsx(ar,{mode:"wait",children:a.jsx(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:"space-y-4",children:!M||!M.approvers||M.approvers.length===0?a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx(Zs,{className:"mx-auto h-12 w-12 mb-4 text-gray-400"}),a.jsx("p",{children:"Tidak ada template approval yang aktif untuk schedule ini."}),a.jsx("p",{className:"text-sm mt-2",children:"Silakan hubungi administrator untuk mengatur template approval."})]}):(st=M.approvers)==null?void 0:st.map(_e=>{var Ut,Wt,mt,Ct;const te=`step_${_e.step}`,Fe=(y==null?void 0:y.approvalStatus[te])||"Pending",Xe=me(_e.step,_e,Fe),lt=bt(_e.step,_e),wt=ae(),$e=_e.approver_user_id.toString()===(r==null?void 0:r.id),Ue=_e.step-1,et=`step_${Ue}`,Rt=y==null?void 0:y.approvalStatus[et];return console.log(`Rendering Step ${_e.step}:`,{status:Fe,shouldShowActionButtons:Xe,currentStep:wt,isCurrentUserApprover:$e,previousStepStatus:Rt,userId:r==null?void 0:r.id,approverId:_e.approver_user_id}),a.jsxs("div",{className:"p-4 rounded-lg border border-gray-200 bg-white",children:[a.jsx("div",{className:"flex items-center justify-between mb-3",children:a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Step ",_e.step,": ",_e.approver.name," (",_e.approver.position,")"]}),a.jsx("p",{className:"text-xs text-gray-500",children:_e.approver.department}),lt&&a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[lt.approved_at&&`Disetujui: ${new Date(lt.approved_at).toLocaleString()}`,lt.status==="feedback_given"&&" | Feedback diberikan"]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:`text-xs font-medium px-3 py-1 rounded-full ${Ve(Fe)}`,children:Fe}),$e&&a.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded-full",children:"Anda"})]})]}),(lt==null?void 0:lt.comments)&&a.jsx("div",{className:"mt-2 p-2 bg-gray-50 rounded border",children:a.jsxs("p",{className:"text-xs text-gray-400",children:[a.jsx("strong",{children:"Komentar:"})," ",lt.comments]})}),wt===_e.step&&Fe!=="Approved"&&!Xe&&a.jsx("div",{className:"mt-2 p-2 bg-yellow-50 border border-yellow-200 rounded text-xs",children:a.jsxs("p",{className:"text-yellow-700",children:[a.jsx("strong",{children:"Menunggu:"})," Step ",_e.step," sedang menunggu approval dari ",_e.approver.name,Ue>0&&Rt!=="Approved"&&a.jsxs("span",{children:[" (Step ",Ue," perlu disetujui terlebih dahulu)"]})]})}),Fe==="Approved"&&a.jsx("div",{className:"mt-2 p-2 bg-green-50 border border-green-200 rounded text-xs",children:a.jsxs("p",{className:"text-green-700",children:[a.jsx("strong",{children:"Selesai:"})," Step ",_e.step," telah disetujui"]})}),Xe&&a.jsxs("div",{className:"flex space-x-2 mt-3",children:[a.jsxs(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>le(_e.step,"Approved"),className:"px-3 py-1.5 bg-green-600 text-white rounded-lg hover:bg-green-700 text-sm font-semibold transition-colors flex items-center",children:[a.jsx(fr,{size:16,className:"mr-1"}),"Approve"]}),a.jsxs(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Pe(_e.step),className:"px-3 py-1.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm font-semibold transition-colors flex items-center",children:[a.jsx(kg,{size:16,className:"mr-1"}),"Feedback"]})]})]})}),a.jsx(ar,{children:((Ut=F[te])==null?void 0:Ut.showInput)&&a.jsxs(O.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-4 p-4 bg-gray-100 rounded-lg border border-gray-200",children:[a.jsx("h5",{className:"text-sm font-semibold text-gray-800 mb-2",children:"Berikan Feedback"}),a.jsx("textarea",{rows:3,value:((Wt=F[te])==null?void 0:Wt.text)||"",onChange:Vt=>Ne(_e.step,Vt.target.value),className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700 text-sm",placeholder:"Tulis feedback atau alasan penolakan..."}),a.jsxs("div",{className:"flex justify-end space-x-2 mt-3",children:[a.jsxs(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{var Vt;return le(_e.step,"FeedbackGiven",(Vt=F[te])==null?void 0:Vt.text)},disabled:!((Ct=(mt=F[te])==null?void 0:mt.text)!=null&&Ct.trim()),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm font-semibold transition-colors flex items-center disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx(kg,{size:16,className:"mr-1"}),"Kirim Feedback"]}),a.jsx(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Pe(_e.step),className:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 text-sm font-semibold transition-colors",children:"Batal"})]})]})})]},te)})},"approval-tab")}):a.jsx(ar,{mode:"wait",children:a.jsx(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:"space-y-4",children:y.activityHistory.length>0?y.activityHistory.slice().sort((_e,te)=>new Date(te.timestamp).getTime()-new Date(_e.timestamp).getTime()).map((_e,te)=>a.jsxs(O.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:te*.05},className:"flex items-start space-x-4 p-4 bg-gray-50 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("div",{className:"mt-1 flex-shrink-0",children:[_e.type==="approval"&&a.jsx(fr,{size:20,className:"text-green-500"}),_e.type==="rejection"&&a.jsx(ND,{size:20,className:"text-red-500"}),_e.type==="feedback"&&a.jsx(kg,{size:20,className:"text-blue-500"}),_e.type==="submission"&&a.jsx(Xh,{size:20,className:"text-blue-500"}),_e.type==="edit"&&a.jsx(vn,{size:20,className:"text-purple-500"})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-semibold text-gray-800",children:_e.description}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[a.jsxs("span",{className:"font-medium text-gray-600",children:["Oleh: ",_e.actor]})," - ",new Date(_e.timestamp).toLocaleString()]}),_e.details&&a.jsxs("p",{className:"text-sm text-gray-700 italic mt-2",children:['"',_e.details,'"']})]})]},te)):a.jsx("p",{className:"text-gray-500 text-sm",children:"Belum ada aktivitas yang tercatat."})},"history-tab")})]})]})})]})]}),a.jsx(GWe,{isOpen:ke,onClose:()=>{ge(!1),Ke(null)},onConfirm:Je,title:(Ce==null?void 0:Ce.title)||"Confirm Action",message:(Ce==null?void 0:Ce.message)||"Are you sure you want to proceed?",confirmText:(Ce==null?void 0:Ce.type)==="approve"?"Approve":(Ce==null?void 0:Ce.type)==="feedback"?"Send Feedback":(Ce==null?void 0:Ce.type)==="reject"?"Reject":(Ce==null?void 0:Ce.type)==="edit"?"Save & Mark as Edited":"Confirm",type:Ce==null?void 0:Ce.type}),a.jsx(VWe,{isOpen:q,onClose:yt,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(fr,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:"Data detail hasil monitoring berhasil disimpan!"}),a.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:yt,className:"mt-6 px-6 py-3 border border-transparent rounded-lg text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:ring-2 focus:ring-blue-500",children:"Back To Detail Monitoring"})]})})]})},KWe={id:"MACH-A01",name:"Mesin A01 (Produksi) - Unit WY01",interval:"Weekly",period:"01 Sep 2025 - 07 Sep 2025",items:[{id:101,name:"Oil Level",uom:"Level",visual:"Normal"},{id:102,name:"Belt Tension",uom:"Kekencangan",visual:"Baik"},{id:103,name:"Temperature",uom:"°C",min:20,max:40},{id:104,name:"Pressure",uom:"Bar",min:1.5,max:3},{id:105,name:"Motor Sound",uom:"Visual",visual:"Tidak ada suara aneh"},{id:106,name:"Vibration",uom:"mm/s",min:.1,max:1},{id:107,name:"pH Level",uom:"pH",min:6,max:8},{id:108,name:"Filter Condition",uom:"Visual",visual:"Bersih"}]};let iy="technician";const i6=["unitHeadEngineering","unitHeadProcess","sectionHeadEngineering","sectionHeadProcess"],Hse=({comment:t,machineId:e,currentUserRole:r,onAddCommentOrReply:n,depth:s})=>{const[i,o]=b.useState(!1),[l,c]=b.useState(""),u=()=>{l.trim()&&(n(e,r,l,t.id),c(""),o(!1))},f=s*4;return a.jsxs("div",{className:`p-4 bg-gray-50 border border-gray-200 rounded-lg shadow-sm mb-2 ${s>0?`ml-${f} border-l-4 border-l-blue-200`:""}`,children:[a.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-1 flex items-center",children:t.role.replace(/([A-Z])/g," $1").replace(/^./,h=>h.toUpperCase())}),a.jsx("p",{className:"text-gray-800 text-base mb-2",children:t.comment}),a.jsxs("p",{className:"text-xs text-gray-500 flex items-center",children:[a.jsx(Cr,{size:14,className:"mr-1"})," ",t.timestamp,a.jsx(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>o(!i),className:"ml-3 text-blue-600 hover:text-blue-800 text-xs font-semibold",children:"Balas"})]}),a.jsx(ar,{children:i&&a.jsxs(O.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-3",children:[a.jsx("textarea",{rows:1,value:l,onChange:h=>c(h.target.value),placeholder:`Balas sebagai ${r.replace(/([A-Z])/g," $1").replace(/^./,h=>h.toUpperCase())}...`,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700 text-sm"}),a.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:u,disabled:!l.trim(),className:"mt-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm font-semibold flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed",children:"Kirim Balasan"})]})}),t.replies&&t.replies.length>0&&a.jsx("div",{className:"mt-3 border-t border-gray-100 pt-3",children:t.replies.map(h=>a.jsx(Hse,{comment:h,machineId:e,currentUserRole:r,onAddCommentOrReply:n,depth:s+1},h.id))})]})},JWe=()=>{var R;const t=Ds(),e=tr(),r=((R=t.state)==null?void 0:R.machine)||KWe,[n,s]=b.useState(null),[i,o]=b.useState(!1),[l,c]=b.useState("approval"),[u,f]=b.useState({unitHeadEngineering:{showInput:!1,text:""},unitHeadProcess:{showInput:!1,text:""},sectionHeadEngineering:{showInput:!1,text:""},sectionHeadProcess:{showInput:!1,text:""}});b.useEffect(()=>{if(r){const F={machineId:r.id,itemResults:r.items.map(A=>({itemId:A.id,result:"",status:"Pending",remarks:""})),approvalStatus:{unitHeadEngineering:"Pending",unitHeadProcess:"Pending",sectionHeadEngineering:"Pending",sectionHeadProcess:"Pending"},commentsHistory:[],activityHistory:[],isSaved:!1};s(F)}},[r]);const h=(F,A,M,B,z)=>{s(Y=>Y?{...Y,itemResults:Y.itemResults.map(W=>W.itemId===F?{...W,result:A,status:M==="numeric"?p(Number(A),B,z):A==="MS"?"MS":A==="TMS"?"TMS":"Pending"}:W)}:null)},g=(F,A)=>{s(M=>M?{...M,itemResults:M.itemResults.map(B=>B.itemId===F?{...B,remarks:A}:B)}:null)},p=(F,A,M)=>isNaN(F)||F===null||F===void 0?A===void 0||M===void 0?"N/A":"Pending":A!==void 0&&M!==void 0?F>=A&&F<=M?"MS":"TMS":"N/A",v=F=>{switch(F){case"MS":return"bg-green-100 text-green-800 border-green-200";case"TMS":return"bg-red-100 text-red-800 border-red-200";case"Pending":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"N/A":return"bg-gray-100 text-gray-800 border-gray-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},w=F=>{switch(F){case"Pending":return"bg-yellow-100 text-yellow-800";case"Approved":return"bg-green-100 text-green-800";case"Rejected":return"bg-red-100 text-red-800";case"FeedbackGiven":return"bg-blue-100 text-blue-800";case"Edited":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},y=F=>({admin:"Admin",technician:"Teknisi",unitHeadEngineering:"Unit Head Engineering",unitHeadProcess:"Unit Head Process",sectionHeadEngineering:"Section Head Engineering",sectionHeadProcess:"Section Head Process"})[F]||F,N=b.useCallback((F,A,M,B=null)=>{s(z=>{if(!z||z.machineId!==F)return z;const Y={id:crypto.randomUUID(),role:A,comment:M,timestamp:new Date().toLocaleString(),replies:[],parentId:B},W=(q,X)=>X.parentId===null?[...q,X]:q.map(oe=>oe.id===X.parentId?{...oe,replies:oe.replies?[...oe.replies,X]:[X]}:{...oe,replies:oe.replies?W(oe.replies,X):oe.replies}),H=z.commentsHistory||[];return{...z,commentsHistory:W(H,Y)}})},[]),k=(F,A,M)=>{n&&(s(B=>{if(!B)return null;let z=B.commentsHistory||[],Y=[...B.activityHistory];const W=new Date().toLocaleString();if((A==="FeedbackGiven"||A==="Rejected")&&M){const q={id:crypto.randomUUID(),role:F,comment:M,timestamp:W,replies:[],parentId:null};z=[...z,q];const X=A==="FeedbackGiven"?"Memberi feedback.":"Menolak laporan.";Y.push({type:A==="FeedbackGiven"?"feedback":"rejection",timestamp:W,actor:F,description:`${y(F)} ${X}`,details:M})}else A==="Approved"&&(z=z.filter(q=>!(q.role===F&&(q.parentId===null||q.parentId===void 0)))||[],Y.push({type:"approval",timestamp:W,actor:F,description:`${y(F)} menyetujui laporan.`}));return{...B,approvalStatus:{...B.approvalStatus,[F]:A},commentsHistory:z,activityHistory:Y}}),f(B=>{const z={...B},Y=F;return z[Y]&&(z[Y]={showInput:!1,text:""}),z}))},S=F=>{f(A=>{const M={...A},B=F;return M[B]&&(M[B]={...M[B],showInput:!M[B].showInput}),M})},T=(F,A)=>{f(M=>{const B={...M},z=F;return B[z]&&(B[z]={...B[z],text:A}),B})},_=()=>{if(!r||!n)return;o(!0);let F=!0;const A=[];n.itemResults.forEach(M=>{const B=r.items.find(z=>z.id===M.itemId);B&&(M.result===""||M.status==="Pending")&&(F=!1,A.push({item:B.name}))}),F?(s(M=>{if(!M)return null;let B={...M.approvalStatus},z=M.commentsHistory||[],Y=[...M.activityHistory];const W=new Date().toLocaleString(),H=i6[0];return B={...B,[H]:"Pending"},Y.push({type:"submission",timestamp:W,actor:iy,description:`${y(iy)} mengisi dan mengajukan laporan.`}),{...M,isSaved:!0,submissionDate:new Date().toISOString(),approvalStatus:B,commentsHistory:z,activityHistory:Y}}),alert(`Hasil monitoring untuk ${r.name} berhasil disimpan!`)):alert(`Harap isi semua hasil monitoring yang diperlukan untuk ${r.name}. Item yang belum diisi: `+A.map(M=>M.item).join(", ")),o(!1)},D=(F,A,M,B,z,Y)=>!1,E=b.useMemo(()=>{if(!(n!=null&&n.commentsHistory))return{unitHeadEngineering:[],unitHeadProcess:[],sectionHeadEngineering:[],sectionHeadProcess:[]};const F=(M,B=null)=>M.filter(z=>z.parentId===B).sort((z,Y)=>new Date(z.timestamp).getTime()-new Date(Y.timestamp).getTime()).map(z=>({...z,replies:F(M,z.id)})),A={unitHeadEngineering:[],unitHeadProcess:[],sectionHeadEngineering:[],sectionHeadProcess:[]};return i6.forEach(M=>{const B=n.commentsHistory.filter(z=>z.role===M);A[M]=F(B)}),A},[n==null?void 0:n.commentsHistory]);if(!r||!n)return a.jsx("div",{className:"flex justify-center items-center h-screen bg-gray-100",children:a.jsx("p",{className:"text-gray-600",children:"Loading machine details..."})});const L=!n.isSaved&&iy==="technician";return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx("header",{className:"bg-white border-b border-gray-100 p-4 flex items-center justify-between shadow-sm sticky top-0 z-30",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs(O.button,{onClick:()=>e(-1),whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center text-blue-600 hover:text-blue-800 transition-colors duration-200",children:[a.jsx(hn,{className:"text-xl"}),a.jsx("span",{className:"font-semibold text-sm hidden md:inline",children:"Back"})]}),a.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900 ml-4",children:"Monitoring & Maintenance"})]})}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsx(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Detail Monitoring & Maintenance"}),a.jsxs("p",{className:"text-gray-600 mt-1",children:["Machine: ",a.jsx("span",{className:"font-semibold text-gray-800",children:r.name})]}),a.jsxs("p",{className:"text-gray-600 mt-1",children:["Interval: ",a.jsx("span",{className:"font-semibold text-gray-800",children:r.interval})]}),a.jsxs("p",{className:"text-gray-600 mt-1",children:["Periode: ",a.jsx("span",{className:"font-semibold text-gray-800",children:r.period})]}),a.jsx("div",{className:"text-sm text-gray-500 mt-2 flex items-center space-x-4",children:a.jsxs("p",{children:[a.jsx("span",{className:"font-semibold",children:r.items.length})," Items"]})})]})}),a.jsx("div",{className:"space-y-6",children:a.jsxs(O.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1,duration:.2},className:"bg-white rounded-lg border border-gray-200 shadow-sm p-4",children:[a.jsx("div",{className:"overflow-x-auto rounded-lg border border-gray-200 shadow-sm",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nama Item"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Standar"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Hasil"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Catatan"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.items.map(F=>{const A=n.itemResults.find(M=>M.itemId===F.id);return a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:F.name}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:F.visual?`${F.visual} (${F.uom})`:`${F.min} - ${F.max} ${F.uom}`}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:F.uom==="Visual"||F.uom==="Level"||F.uom==="Kekencangan"?a.jsxs("select",{className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md",value:(A==null?void 0:A.result)||"",onChange:M=>h(F.id,M.target.value,"visual"),disabled:!L,children:[a.jsx("option",{value:"",children:"Pilih"}),a.jsx("option",{value:"MS",children:"MS"}),a.jsx("option",{value:"TMS",children:"TMS"})]}):a.jsx("input",{type:"number",step:"0.01",value:A==null?void 0:A.result,onChange:M=>h(F.id,M.target.value,"numeric",F.min,F.max),disabled:!L,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700 text-sm disabled:bg-gray-50 disabled:cursor-not-allowed",placeholder:"Input result"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:a.jsx("span",{className:`text-xs font-medium px-2.5 py-1 rounded-full ${v((A==null?void 0:A.status)||"Pending")}`,children:A==null?void 0:A.status})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:a.jsx("textarea",{rows:1,value:A==null?void 0:A.remarks,onChange:M=>g(F.id,M.target.value),disabled:!L,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700 text-sm disabled:bg-gray-50 disabled:cursor-not-allowed",placeholder:"Tambahkan catatan..."})})]},F.id)})})]})}),a.jsx("div",{className:"flex justify-end mt-6",children:a.jsx(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:_,disabled:!L||i,className:"px-6 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-semibold flex items-center disabled:opacity-50 disabled:cursor-not-allowed",children:i?a.jsxs(a.Fragment,{children:[a.jsx(mn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(vn,{className:"mr-2 h-5 w-5"}),"Save Monitoring"]})})}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm mt-8",children:[a.jsxs("div",{className:"flex items-center space-x-4 mb-4 border-b border-gray-200",children:[a.jsxs(O.button,{whileHover:{scale:1.03},onClick:()=>c("approval"),className:`pb-3 px-2 font-semibold text-gray-700 transition-colors flex items-center space-x-2 ${l==="approval"?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:[a.jsx(Zs,{className:"h-5 w-5"}),a.jsx("span",{children:"Approval Status"})]}),a.jsxs(O.button,{whileHover:{scale:1.03},onClick:()=>c("history"),className:`pb-3 px-2 font-semibold text-gray-700 transition-colors flex items-center space-x-2 ${l==="history"?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:[a.jsx(Xh,{className:"h-5 w-5"}),a.jsx("span",{children:"History Activity"})]})]}),l==="approval"?a.jsx(ar,{mode:"wait",children:a.jsx(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(n.approvalStatus).map(([F,A])=>{var Y,W;const M=F,B=D(iy,M,A,n.approvalStatus,i6,n.isSaved),z=E[M]||[];return a.jsxs("div",{className:"p-3 rounded-lg border border-gray-200",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:y(M)}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:`text-xs font-medium px-3 py-1 rounded-full ${w(A)}`,children:A==="Edited"?`Edited by ${y(M)}`:A}),B&&a.jsxs("div",{className:"flex space-x-1",children:[a.jsx(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>k(F,"Approved"),className:"p-1 rounded-full text-green-600 hover:bg-green-100 transition-colors",children:a.jsx(fr,{size:20})}),a.jsx(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>S(F),className:"p-1 rounded-full text-blue-600 hover:bg-blue-100 transition-colors",children:a.jsx(kg,{size:20})})]})]})]}),a.jsx(ar,{children:((Y=u[M])==null?void 0:Y.showInput)&&a.jsxs(O.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-4 p-4 bg-gray-100 rounded-lg border border-gray-200",children:[a.jsxs("h5",{className:"text-sm font-semibold text-gray-800 mb-2",children:["Alasan untuk Feedback (",y(M),")"]}),a.jsx("textarea",{rows:2,value:(W=u[M])==null?void 0:W.text,onChange:H=>T(M,H.target.value),className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700 text-sm",placeholder:"Tulis alasan feedback atau penolakan..."}),a.jsx("div",{className:"flex justify-end space-x-2 mt-2",children:a.jsx(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>k(M,"FeedbackGiven",u[M].text),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm font-semibold transition-colors",children:"Kirim Feedback"})})]})}),a.jsx("div",{className:"mt-4",children:z.length>0?z.map(H=>a.jsx(Hse,{comment:H,machineId:r.id,currentUserRole:iy,onAddCommentOrReply:N,depth:0},H.id)):a.jsx("p",{className:"text-gray-500 text-sm",children:"Belum ada komentar."})})]},F)})},"approval-tab")}):a.jsx(ar,{mode:"wait",children:a.jsx(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:"space-y-4",children:n.activityHistory.length>0?n.activityHistory.map((F,A)=>a.jsxs(O.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:A*.05},className:"flex items-start space-x-4 p-4 bg-gray-50 rounded-lg border border-gray-200 shadow-sm",children:[a.jsx("div",{className:"mt-1 flex-shrink-0",children:a.jsx(Xh,{size:20,className:"text-blue-500"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-semibold text-gray-800",children:F.description}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[a.jsxs("span",{className:"font-medium text-gray-600",children:["Oleh: ",y(F.actor)]})," - ",F.timestamp]}),F.details&&a.jsxs("p",{className:"text-sm text-gray-700 italic mt-2",children:['"',F.details,'"']})]})]},A)):a.jsx("p",{className:"text-gray-500 text-sm",children:"Belum ada aktivitas yang tercatat."})},"history-tab")})]})]})})]})]})]})},XWe=()=>{const t=tr(),{id:e}=si(),{getUsers:r,getTemplateApprovers:n,addApproverToTemplate:s,updateApprover:i,deleteApprover:o,getApprovalTemplateById:l}=or(),[c,u]=b.useState(window.innerWidth<768),[f,h]=b.useState(()=>{const q=localStorage.getItem("sidebarOpen");return JSON.parse(q||"false")}),g=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!f)),h(q=>!q)},[p,v]=b.useState([]),[w,y]=b.useState(null),[N,k]=b.useState([]),[S,T]=b.useState(!1),[_,D]=b.useState("");b.useEffect(()=>{e&&(E(),R())},[e]);const E=async()=>{if(!e){D("Template ID is missing");return}try{T(!0);const q=await l(e);console.log("Template data loaded:",q),y(q),q.approvers&&q.approvers.length>0?await L(q.approvers):k([{order:1,role:"Select Position",assignee:""}])}catch(q){D("Failed to load template"),console.error("Error loading template:",q)}finally{T(!1)}},L=async q=>{try{const X=q.map(oe=>{var K,V;return{order:oe.step,role:((K=oe.approver)==null?void 0:K.position)||`Approval Step ${oe.step}`,assignee:((V=oe.approver)==null?void 0:V.name)||"",approver_user_id:oe.approver_user_id}});k(X)}catch(X){console.error("Error loading template approvers from data:",X),k([{order:1,role:"Select Position",assignee:""}])}},R=async()=>{try{const X=(await r()).map(oe=>{var K;return{id:parseInt(oe.id),name:oe.name,email:oe.email,position:oe.position||"No Position",department:((K=oe.department)==null?void 0:K.name)||oe.department_name}});v(X)}catch(q){console.error("Error loading users:",q)}},F=()=>{const q=p.map(X=>X.position).filter(X=>X!=null&&X!=="No Position");return[...new Set(q)]},A=q=>p.filter(X=>X.position===q),M=()=>{const q=N.length>0?Math.max(...N.map(X=>X.order))+1:1;k(X=>[...X,{order:q,role:"Select Position",assignee:""}])},B=q=>{k(X=>X.filter((oe,K)=>K!==q).map((oe,K)=>({...oe,order:K+1})))},z=(q,X)=>{k(oe=>oe.map((K,V)=>V===q?{...K,role:X,assignee:""}:K))},Y=(q,X)=>{const oe=p.find(K=>K.id===X);oe&&k(K=>K.map((V,J)=>J===q?{...V,assignee:oe.name,approver_user_id:oe.id}:V))},W=async()=>{if(!w)return;if(!N.every(X=>X.role&&X.assignee&&X.approver_user_id&&X.role!=="Select Position")){D("Please complete all roles and assignees.");return}try{T(!0),D(""),console.log("Saving approval flow with smart update/post logic..."),console.log("Template ID:",w.id),console.log("Existing approvers:",w.approvers),console.log("New approval flow:",N);const X=w.approvers||[],oe=N.map(J=>({approver_user_id:J.approver_user_id,step:J.order}));console.log("Existing approvers:",X),console.log("New approvers:",oe);const K=[];for(const J of N){const Q={approver_user_id:J.approver_user_id,step:J.order},re=X.find(ce=>ce.step===J.order);if(re)if(re.approver_user_id!==J.approver_user_id){console.log(`Updating approver for step ${J.order} (ID: ${re.id})`);try{await i(w.id,re.id,Q),console.log(`✓ Updated approver for step ${J.order}`)}catch(ce){throw console.error(`✗ Failed to update approver for step ${J.order}:`,ce),new Error(`Failed to update approver for step ${J.order}`)}}else console.log(`✓ Approver for step ${J.order} unchanged, skipping`);else{console.log(`Adding new approver for step ${J.order}`);try{await s(w.id,Q),console.log(`✓ Added new approver for step ${J.order}`)}catch(ce){throw console.error(`✗ Failed to add approver for step ${J.order}:`,ce),new Error(`Failed to add approver for step ${J.order}`)}}K.push(J.order)}const V=X.filter(J=>!K.includes(J.step)).map(J=>({id:J.id,step:J.step}));console.log("Steps to delete:",V);for(const J of V)try{await o(w.id,J.id),console.log(`✓ Deleted unused approver for step ${J.step}`)}catch(Q){console.warn(`⚠ Could not delete approver for step ${J.step}:`,Q)}alert(`✅ Approval flow for template "${w.name}" has been successfully saved!`),await E()}catch(X){console.error("❌ Error saving approval flow:",X),D(X instanceof Error?X.message:"Failed to save approval flow")}finally{T(!1)}},H=()=>{t("/workflowapproval/monitoringapproval")};return console.log("Template state:",w),console.log("Custom approval flow:",N),S&&!w?a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsx("div",{className:"flex-1 flex items-center justify-center",children:a.jsx(Wg,{className:"animate-spin text-blue-600",size:32})})]}):w?a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Monitoring Approval",mainTitleHighlight:"Page",description:"Manage work shifts and their configurations within the system.",icon:a.jsx(fj,{}),isMobile:c,toggleSidebar:g}),a.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:a.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[a.jsx(fj,{className:"mr-2 text-gray-700",size:24}),"Flow Configuration: ",a.jsx("span",{className:"text-blue-600 ml-2",children:w==null?void 0:w.name})]}),a.jsxs(O.button,{onClick:H,whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors font-semibold text-sm flex items-center",disabled:S,children:[a.jsx(hn,{className:"mr-2",size:18})," Back to Template List"]})]}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Configure the approval flow by selecting positions and assigning approvers."}),_&&a.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:_}),a.jsx("div",{className:"space-y-4",children:N.map((q,X)=>{const oe=F(),K=q.role&&q.role!=="Select Position"?A(q.role):[];return a.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[a.jsxs("span",{className:"text-gray-500 font-semibold min-w-8",children:[q.order,"."]}),a.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Position"}),a.jsxs("select",{value:q.role,onChange:V=>z(X,V.target.value),className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700 text-sm",children:[a.jsx("option",{value:"Select Position",children:"Select Position"}),oe.map(V=>a.jsx("option",{value:V,children:V},V))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Assignee"}),a.jsxs("select",{value:q.approver_user_id||"",onChange:V=>Y(X,parseInt(V.target.value)),className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700 text-sm",disabled:!q.role||q.role==="Select Position"||K.length===0,children:[a.jsx("option",{value:"",children:"Select User"}),K.map(V=>a.jsxs("option",{value:V.id,children:[V.name," (",V.email,")"]},V.id))]}),q.role&&q.role!=="Select Position"&&K.length===0&&a.jsx("p",{className:"text-xs text-red-500 mt-1",children:"No users found for this position"})]})]}),N.length>1&&a.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>B(X),className:"text-red-600 hover:text-red-800 transition-colors p-2",disabled:S,children:a.jsx(In,{size:20})})]},X)})}),a.jsxs("div",{className:"flex justify-between items-center mt-6",children:[a.jsxs(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:M,className:"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors font-semibold flex items-center text-sm disabled:opacity-50",disabled:S,children:[a.jsx(pa,{size:18,className:"mr-2"})," Add Step"]}),a.jsxs(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:W,className:"px-5 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors font-semibold text-sm disabled:opacity-50 flex items-center",disabled:S,children:[S?a.jsx(Wg,{className:"animate-spin mr-2",size:16}):a.jsx(vn,{size:18,className:"mr-2"}),"Save Flow"]})]})]})})]})]}):a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsx("div",{className:"flex-1 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-700 mb-2",children:"Template not found"}),a.jsxs("p",{className:"text-gray-500 mb-4",children:["ID: ",e]}),a.jsx("button",{onClick:H,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Back to Templates"})]})})]})},QWe=()=>a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 px-4",children:a.jsxs("div",{className:"max-w-md w-full text-center",children:[a.jsx("div",{className:"mb-8",children:a.jsxs("div",{className:"relative inline-flex",children:[a.jsx("div",{className:"w-32 h-32 bg-white rounded-full shadow-lg flex items-center justify-center",children:a.jsx(Ume,{className:"w-16 h-16 text-gray-400"})}),a.jsx("div",{className:"absolute -top-2 -right-2 w-8 h-8 bg-red-500 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-white text-sm font-bold",children:"404"})})]})}),a.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-4",children:"Page Not Found"}),a.jsx("p",{className:"text-gray-600 mb-8 text-lg",children:"Oops! The page you're looking for seems to have wandered off into the digital void."}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[a.jsxs(om,{to:"/",className:"inline-flex items-center justify-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200 font-medium",children:[a.jsx(vp,{className:"mr-2"}),"Back to Home"]}),a.jsxs("button",{onClick:()=>window.history.back(),className:"inline-flex items-center justify-center px-6 py-3 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors duration-200 font-medium",children:[a.jsx(hn,{className:"mr-2"}),"Go Back"]})]}),a.jsx("div",{className:"mt-8 p-4 bg-white rounded-lg shadow-sm",children:a.jsxs("p",{className:"text-sm text-gray-600",children:["If you believe this is an error, please contact the"," ",a.jsx(om,{to:"#",className:"text-blue-600 hover:underline",children:"IT Department"})]})}),a.jsx("div",{className:"mt-12",children:a.jsx("div",{className:"relative h-1 bg-gray-200 rounded-full overflow-hidden",children:a.jsx("div",{className:"absolute top-0 left-0 h-full bg-gradient-to-r from-blue-500 to-purple-500 w-1/3 animate-ping-pong"})})})]})}),ZWe=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(O.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(Ft,{size:24})})]}),a.jsx("div",{children:n})]})}):null,eVe=()=>{const{id:t}=si(),[e,r]=b.useState(window.innerWidth<768),[n,s]=b.useState([]),[i,o]=b.useState(),{getWorkArea:l,updateWorkArea:c,getWorkAreaById:u}=or(),[f,h]=b.useState(()=>{const M=localStorage.getItem("sidebarOpen");return M?JSON.parse(M):!1}),[g,p]=b.useState(null),[v,w]=b.useState(null),[y,N]=b.useState(!1),[k,S]=b.useState(!1),T=tr(),[_,D]=b.useState({work_area:""}),E=()=>{h(M=>!M)};b.useEffect(()=>{i&&D({work_area:i.work_area||""})},[i]);const L=M=>{const{name:B,value:z}=M.target;D(Y=>({...Y,[B]:B==="sla"?Number(z):z}))},R=b.useCallback(async()=>{try{if(t){const[M]=await Promise.all([u(t)]);o(M)}}catch(M){p(M.message||"Failed to load form data")}},[t,u]);b.useEffect(()=>{t&&R()},[t,R]);const F=async M=>{M.preventDefault(),S(!0),p(null);try{const B={work_area:_.work_area};await c(t,B),w("Work Area update successfully!"),N(!0)}catch(B){p(B.message||"Failed to update Work Area")}finally{S(!1)}},A=()=>{N(!1),T("/worklocation/workarea")};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Edit Work Area",mainTitleHighlight:"Management",description:"blablablabl",icon:a.jsx(gs,{}),isMobile:e,toggleSidebar:E}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[a.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Work Area"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Update Work Area information"})]}),a.jsxs(O.button,{onClick:()=>T("/worklocation/workarea"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(hn,{className:"text-lg"})," Back to Work Area Management"]})]}),a.jsxs(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[g&&a.jsxs(O.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:g}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(Ft,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>p(null)})})]}),a.jsxs("form",{onSubmit:F,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Work Area Information"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"work_area",className:"block text-sm font-medium text-gray-700 mb-1",children:["Work Area ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"work_area",id:"work_area",value:_.work_area,onChange:L,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsx(O.button,{type:"button",onClick:()=>T("/worklocation/workarea"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),a.jsx(O.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:k,children:k?a.jsxs(a.Fragment,{children:[a.jsx(mn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(vn,{className:"mr-2 h-5 w-5"})," Save Work Area"]})})]})]})]})]})]}),a.jsx(ZWe,{isOpen:y,onClose:A,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(fr,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:v}),a.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:A,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Work Area Management"})]})})]})},tVe=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(O.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(Ft,{size:24})})]}),a.jsx("div",{children:n})]})}):null,rVe=()=>{const[t,e]=b.useState(window.innerWidth<768),[r,n]=b.useState([]),{addWorkArea:s,getWorkArea:i}=or(),[o,l]=b.useState(()=>{const L=localStorage.getItem("sidebarOpen");return L?JSON.parse(L):!1}),[c,u]=b.useState(null),[f,h]=b.useState(null),[g,p]=b.useState(!1),[v,w]=b.useState(!1),y=tr(),[N,k]=b.useState({work_area:""}),S=()=>{l(L=>!L)},T=L=>{const{name:R,value:F}=L.target;k(A=>({...A,[R]:R==="sla"?Number(F):F}))},_=b.useCallback(async()=>{try{const[L]=await Promise.all([i()]);n(L)}catch(L){u(L.message||"Failed to load form data")}},[i]);b.useEffect(()=>{_()},[_]);const D=async L=>{L.preventDefault(),w(!0),u(null);try{const R={work_area:N.work_area};await s(R),h("Work Area created successfully!"),p(!0)}catch(R){u(R.message||"Failed to create Work Area")}finally{w(!1)}},E=()=>{p(!1),y("/worklocation/workarea")};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Create Work Area",mainTitleHighlight:"Management",description:"blablablabl",icon:a.jsx(gs,{}),isMobile:t,toggleSidebar:S}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[a.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Work Area"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Create a new Work Area information"})]}),a.jsxs(O.button,{onClick:()=>y("/worklocation/workarea"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(hn,{className:"text-lg"})," Back to Work Area Management"]})]}),a.jsxs(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[c&&a.jsxs(O.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:c}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(Ft,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>u(null)})})]}),a.jsxs("form",{onSubmit:D,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Work Area Information"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"work_area",className:"block text-sm font-medium text-gray-700 mb-1",children:["Work Area ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"work_area",id:"work_area",value:N.work_area,onChange:T,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsx(O.button,{type:"button",onClick:()=>y("/worklocation/workarea"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),a.jsx(O.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:v,children:v?a.jsxs(a.Fragment,{children:[a.jsx(mn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(vn,{className:"mr-2 h-5 w-5"})," Save Work Area"]})})]})]})]})]})]}),a.jsx(tVe,{isOpen:g,onClose:E,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(fr,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:f}),a.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:E,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Work Area Management"})]})})]})},nVe=({isOpen:t,onClose:e,title:r,children:n,className:s})=>a.jsx(ar,{children:t&&a.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:a.jsxs(O.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${s||"max-w-xl w-full"}`,children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:r}),a.jsx("button",{onClick:e,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:a.jsx(Ft,{className:"text-xl"})})]}),a.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:n})]})})}),aVe=({title:t,value:e,change:r,icon:n})=>{const s=r.startsWith("+");return a.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),a.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),a.jsxs("p",{className:`mt-3 text-xs font-semibold ${s?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})},sVe=()=>{const[t,e]=b.useState([]),{getWorkArea:r,deleteWorkArea:n}=or(),[s,i]=b.useState(!0),[o,l]=b.useState(null),[c,u]=b.useState(""),[f,h]=b.useState(!1),[g,p]=b.useState(null),[v,w]=b.useState(!1),[y]=b.useState(window.innerWidth<768),[N,k]=b.useState(()=>{const H=localStorage.getItem("sidebarOpen");return H?JSON.parse(H):!1}),S=tr(),T=b.useRef(null),[_,D]=b.useState(!1),E=b.useMemo(()=>[{id:"workarea",name:"Work Area"}],[]),L=b.useCallback(async()=>{try{i(!0);const q=[...await r()].sort((X,oe)=>X.id-oe.id);e(q)}catch(H){l("Failed to load Work Area"),console.error("Error loading Work Area:",H)}finally{i(!1)}},[r]);b.useEffect(()=>{L()},[L]);const R=()=>{const H=!N;k(H),localStorage.setItem("sidebarOpen",JSON.stringify(H))},F=()=>{alert("Import functionality is not yet implemented.")},A=H=>{const q=H.target.value;u(q)},M=b.useMemo(()=>{if(!c)return E;const H=c.toLowerCase();return E.filter(q=>q.name.toLowerCase().includes(H))},[c,E]),B=H=>{var q;u(`${H}: `),D(!1),(q=T.current)==null||q.focus()},z=b.useMemo(()=>{if(!c.trim())return t;const H=c.toLowerCase().trim(),q=H.split(":");let X="all",oe=H;return q.length>1&&E.some(K=>K.name.toLowerCase()===q[0].trim())&&(X=q[0].trim(),oe=q.slice(1).join(":").trim()),t.filter(K=>{const V=K.work_area.toLowerCase().includes(oe);return V})},[t,c,E]),Y=async H=>{try{await n(H),e(t.filter(q=>q.id!==H)),h(!1),p(null)}catch(q){console.error("Failed to delete Work Area:",q),l("Failed to delete Work Area. Please try again.")}},W=b.useCallback(H=>{p(H),h(!0)},[]);return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Work Area",mainTitleHighlight:"Page",description:"Manage work area and their configurations within the system.",icon:a.jsx(gs,{}),isMobile:y,toggleSidebar:R}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Work Area ",a.jsx("span",{className:"text-blue-600",children:"Management"})]}),a.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Organize and manage work area by specific company requirements."})]}),a.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[a.jsxs(O.button,{onClick:()=>S("/worklocation/workarea/addworkarea"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[a.jsx(pa,{className:"text-base"}),a.jsx("span",{children:"Add Work Area"})]}),a.jsxs(O.button,{onClick:F,whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(ni,{className:"text-base"}),a.jsx("span",{children:"Import"})]}),a.jsxs(O.button,{onClick:()=>w(!v),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(Ki,{className:"text-base"}),a.jsx("span",{children:"Filters"}),a.jsx(O.span,{animate:{rotate:v?180:0},transition:{duration:.2},children:a.jsx(la,{className:"text-base"})})]})]})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:a.jsx(aVe,{title:"Total Work Area",value:t.length.toString(),change:`+${Math.floor(t.length/10*100)}%`,icon:a.jsx(gs,{className:"w-6 h-6"})})}),a.jsxs(O.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[a.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Da,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),a.jsx("input",{ref:T,type:"text",placeholder:"Search by work area...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:c,onChange:A,onFocus:()=>D(!0),"aria-label":"Search work area"}),a.jsx(ar,{children:_&&M.length>0&&a.jsx(O.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.15},className:"search-suggestions absolute left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-10 max-h-56 overflow-y-auto custom-scrollbar",children:M.map(H=>a.jsx(O.button,{onClick:()=>B(H.name),whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},className:"w-full text-left p-3 text-gray-700 hover:text-blue-700 transition-colors duration-150 text-sm",role:"option",children:a.jsx("span",{className:"font-semibold",children:H.name})},H.id))})})]})}),a.jsx(ar,{children:v&&a.jsx(O.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full"})})]}),s?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),a.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading work area data..."})]}):z.length===0?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("p",{className:"text-gray-700 text-base font-medium",children:c?"No work area found matching your search.":"No work area available."}),c&&a.jsx("button",{onClick:()=>u(""),className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear Search"})]}):a.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:a.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:a.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[a.jsx("thead",{className:"bg-blue-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Work Area"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:z.map((H,q)=>a.jsxs(O.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:q+1})}),a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:H.work_area})}),a.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[a.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>S(`/worklocation/workarea/editworkarea/${H.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit",children:a.jsx(Ba,{className:"inline text-base"})}),a.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>W(H.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:a.jsx(In,{className:"inline text-base"})})]})]},H.id))})]})})})]})]}),a.jsx(nVe,{isOpen:f,onClose:()=>h(!1),title:"Confirm Deletion",children:a.jsxs("div",{className:"space-y-5 text-center py-3",children:[a.jsx(Hr,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),a.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this work area? This action cannot be undone."}),a.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[a.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>h(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),a.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>g&&Y(g),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})]})},iVe=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(O.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(Ft,{size:24})})]}),a.jsx("div",{children:n})]})}):null,oVe=()=>{const{addAsset:t}=or(),e=tr(),[r,n]=b.useState(!1),[s,i]=b.useState(null),[o,l]=b.useState(!1),[c,u]=b.useState(()=>{const T=localStorage.getItem("sidebarOpen");return T?JSON.parse(T):!1}),[f,h]=b.useState(window.innerWidth<768),g=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!c)),u(T=>!T)},p={id:0,name:"",category:"",location:"",purchase_date:new Date().toISOString().split("T")[0],description:"",type:"",make:"",model:"",status:"",last_maintenance:"",next_maintenance:"",work_orders:"",health:"",created_at:new Date().toISOString(),update_at:new Date().toISOString()},[v,w]=b.useState(p),y=b.useCallback(T=>{const{name:_,value:D}=T.target;w(E=>({...E,[_]:D}))},[]),N=async T=>{T.preventDefault(),n(!0),i(null);try{const _={...v,id:0,created_at:new Date().toISOString(),update_at:new Date().toISOString()};await t(_),l(!0),k()}catch(_){i(_.message||"Failed to save asset data. Please try again."),console.error("Submission error:",_)}finally{n(!1)}},k=b.useCallback(()=>{w(p),i(null)},[p]),S=b.useCallback(()=>{l(!1),e("/assets")},[e]);return b.useEffect(()=>{const T=()=>{h(window.innerWidth<768)};return window.addEventListener("resize",T),()=>window.removeEventListener("resize",T)},[]),a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Add New Asset",mainTitleHighlight:"Asset",description:"Add new asset to the system inventory.",icon:a.jsx(Ya,{}),isMobile:f,toggleSidebar:g}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Add New Asset"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Fill in the details for the new asset"})]}),a.jsxs(O.button,{onClick:()=>e("/assets"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(hn,{className:"text-lg"})," Back to Assets"]})]}),a.jsxs(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[s&&a.jsxs(O.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:s}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(Ft,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>i(null)})})]}),a.jsxs("form",{onSubmit:N,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(Ya,{className:"mr-2 text-blue-500"})," Basic Information"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Asset Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"name",id:"name",value:v.name,onChange:y,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., Production Machine A-01",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 mb-1",children:["Category ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"category",id:"category",value:v.category,onChange:y,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., Manufacturing Equipment",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700 mb-1",children:["Location ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"location",id:"location",value:v.location,onChange:y,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., Production Floor, Building B",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"purchase_date",className:"block text-sm font-medium text-gray-700 mb-1",children:["Purchase Date ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"date",name:"purchase_date",id:"purchase_date",value:v.purchase_date,onChange:y,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("textarea",{name:"description",id:"description",value:v.description,onChange:y,rows:3,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"Detailed description of the asset...",required:!0})]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(qs,{className:"mr-2 text-green-500"})," Technical Specifications"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"type",className:"block text-sm font-medium text-gray-700 mb-1",children:"Asset Type"}),a.jsxs("select",{name:"type",id:"type",value:v.type||"",onChange:y,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",children:[a.jsx("option",{value:"",children:"Select Type"}),a.jsx("option",{value:"mechanical",children:"Mechanical"}),a.jsx("option",{value:"electrical",children:"Electrical"}),a.jsx("option",{value:"vehicle",children:"Vehicle"}),a.jsx("option",{value:"building",children:"Building"}),a.jsx("option",{value:"equipment",children:"Equipment"}),a.jsx("option",{value:"tool",children:"Tool"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"make",className:"block text-sm font-medium text-gray-700 mb-1",children:"Make/Manufacturer"}),a.jsx("input",{type:"text",name:"make",id:"make",value:v.make||"",onChange:y,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., Siemens, Caterpillar"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"model",className:"block text-sm font-medium text-gray-700 mb-1",children:"Model"}),a.jsx("input",{type:"text",name:"model",id:"model",value:v.model||"",onChange:y,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., X500, 320D"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),a.jsxs("select",{name:"status",id:"status",value:v.status||"",onChange:y,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",children:[a.jsx("option",{value:"",children:"Select Status"}),a.jsx("option",{value:"running",children:"Running"}),a.jsx("option",{value:"maintenance",children:"Maintenance"}),a.jsx("option",{value:"breakdown",children:"Breakdown"}),a.jsx("option",{value:"idle",children:"Idle"}),a.jsx("option",{value:"retired",children:"Retired"})]})]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(ia,{className:"mr-2 text-purple-500"})," Maintenance Information"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"last_maintenance",className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Maintenance Date"}),a.jsx("input",{type:"date",name:"last_maintenance",id:"last_maintenance",value:v.last_maintenance||"",onChange:y,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"next_maintenance",className:"block text-sm font-medium text-gray-700 mb-1",children:"Next Maintenance Date"}),a.jsx("input",{type:"date",name:"next_maintenance",id:"next_maintenance",value:v.next_maintenance||"",onChange:y,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"work_orders",className:"block text-sm font-medium text-gray-700 mb-1",children:"Work Orders"}),a.jsx("input",{type:"text",name:"work_orders",id:"work_orders",value:v.work_orders||"",onChange:y,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., WO-001, WO-002"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"health",className:"block text-sm font-medium text-gray-700 mb-1",children:"Health Status"}),a.jsxs("select",{name:"health",id:"health",value:v.health||"",onChange:y,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",children:[a.jsx("option",{value:"",children:"Select Health Status"}),a.jsx("option",{value:"excellent",children:"Excellent"}),a.jsx("option",{value:"good",children:"Good"}),a.jsx("option",{value:"fair",children:"Fair"}),a.jsx("option",{value:"poor",children:"Poor"}),a.jsx("option",{value:"critical",children:"Critical"})]})]})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsxs(O.button,{type:"button",onClick:k,whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",children:[a.jsx(In,{className:"mr-2 h-5 w-5"})," Clear Form"]}),a.jsx(O.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:r,children:r?a.jsxs(a.Fragment,{children:[a.jsx(mn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(vn,{className:"mr-2 h-5 w-5"})," Save Asset"]})})]})]})]})]})]}),a.jsx(iVe,{isOpen:o,onClose:S,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(fr,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:"Your asset has been added successfully!"}),a.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:S,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Go to Assets"})]})})]})},lVe=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(O.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(Ft,{size:24})})]}),a.jsx("div",{children:n})]})}):null,cVe=()=>{const{editAsset:t,getAssetsData:e}=or(),r=tr(),{id:n}=si(),[s,i]=b.useState(!1),[o,l]=b.useState(!0),[c,u]=b.useState(null),[f,h]=b.useState(!1),[g,p]=b.useState(()=>{const R=localStorage.getItem("sidebarOpen");return R?JSON.parse(R):!1}),[v,w]=b.useState(window.innerWidth<768),y=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!g)),p(R=>!R)},N={id:0,name:"",category:"",location:"",purchase_date:new Date().toISOString().split("T")[0],description:"",type:"",make:"",model:"",status:"",last_maintenance:"",next_maintenance:"",work_orders:"",health:"",created_at:new Date().toISOString(),update_at:new Date().toISOString()},[k,S]=b.useState(N),T=b.useCallback(R=>{const{name:F,value:A}=R.target;S(M=>({...M,[F]:A}))},[]),_=b.useCallback(async()=>{if(n){l(!0);try{const F=(await e()).find(A=>String(A.id)===n);F?S({id:F.id,name:F.name,category:F.category,location:F.location,purchase_date:F.purchaseDate,description:F.description,type:F.type||"",make:F.make||"",model:F.model||"",status:F.status||"",last_maintenance:F.lastMaintenance||"",next_maintenance:F.nextMaintenance||"",work_orders:F.workOrders||"",health:F.health||"",created_at:F.createdAt,update_at:F.updateAt}):u("Asset not found")}catch(R){u("Failed to load asset data: "+R.message)}finally{l(!1)}}},[n,e]),D=async R=>{R.preventDefault(),i(!0),u(null);try{const F={...k,update_at:new Date().toISOString()};await t(F),h(!0)}catch(F){u(F.message||"Failed to update asset data. Please try again."),console.error("Submission error:",F)}finally{i(!1)}},E=b.useCallback(()=>{_(),u(null)},[_]),L=b.useCallback(()=>{h(!1),r("/assets")},[r]);return b.useEffect(()=>{const R=()=>{w(window.innerWidth<768)};return window.addEventListener("resize",R),()=>window.removeEventListener("resize",R)},[]),b.useEffect(()=>{_()},[_]),o?a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Edit Asset",mainTitleHighlight:"Asset",description:"Edit asset information.",icon:a.jsx(Ya,{}),isMobile:v,toggleSidebar:y}),a.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx(mn,{className:"animate-spin text-blue-600 mb-4",size:32}),a.jsx("p",{className:"text-gray-600",children:"Loading asset data..."})]})})]})]}):a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Edit Asset",mainTitleHighlight:"Asset",description:"Edit asset information in the system.",icon:a.jsx(Ya,{}),isMobile:v,toggleSidebar:y}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Asset"}),a.jsxs("p",{className:"text-gray-600 mt-1",children:["Update the details for asset: ",k.name]})]}),a.jsxs(O.button,{onClick:()=>r("/assets"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(hn,{className:"text-lg"})," Back to Assets"]})]}),a.jsxs(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[c&&a.jsxs(O.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:c}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(Ft,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>u(null)})})]}),a.jsxs("form",{onSubmit:D,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(Ya,{className:"mr-2 text-blue-500"})," Basic Information"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Asset Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"name",id:"name",value:k.name,onChange:T,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., Production Machine A-01",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 mb-1",children:["Category ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"category",id:"category",value:k.category,onChange:T,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., Manufacturing Equipment",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700 mb-1",children:["Location ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"location",id:"location",value:k.location,onChange:T,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., Production Floor, Building B",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"purchase_date",className:"block text-sm font-medium text-gray-700 mb-1",children:["Purchase Date ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"date",name:"purchase_date",id:"purchase_date",value:k.purchase_date,onChange:T,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("textarea",{name:"description",id:"description",value:k.description,onChange:T,rows:3,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"Detailed description of the asset...",required:!0})]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(Ya,{className:"mr-2 text-green-500"})," Technical Specifications"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"type",className:"block text-sm font-medium text-gray-700 mb-1",children:"Asset Type"}),a.jsxs("select",{name:"type",id:"type",value:k.type||"",onChange:T,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",children:[a.jsx("option",{value:"",children:"Select Type"}),a.jsx("option",{value:"mechanical",children:"Mechanical"}),a.jsx("option",{value:"electrical",children:"Electrical"}),a.jsx("option",{value:"vehicle",children:"Vehicle"}),a.jsx("option",{value:"building",children:"Building"}),a.jsx("option",{value:"equipment",children:"Equipment"}),a.jsx("option",{value:"tool",children:"Tool"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"make",className:"block text-sm font-medium text-gray-700 mb-1",children:"Make/Manufacturer"}),a.jsx("input",{type:"text",name:"make",id:"make",value:k.make||"",onChange:T,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., Siemens, Caterpillar"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"model",className:"block text-sm font-medium text-gray-700 mb-1",children:"Model"}),a.jsx("input",{type:"text",name:"model",id:"model",value:k.model||"",onChange:T,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., X500, 320D"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),a.jsxs("select",{name:"status",id:"status",value:k.status||"",onChange:T,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",children:[a.jsx("option",{value:"",children:"Select Status"}),a.jsx("option",{value:"running",children:"Running"}),a.jsx("option",{value:"maintenance",children:"Maintenance"}),a.jsx("option",{value:"breakdown",children:"Breakdown"}),a.jsx("option",{value:"idle",children:"Idle"}),a.jsx("option",{value:"retired",children:"Retired"})]})]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(Ya,{className:"mr-2 text-purple-500"})," Maintenance Information"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"last_maintenance",className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Maintenance Date"}),a.jsx("input",{type:"date",name:"last_maintenance",id:"last_maintenance",value:k.last_maintenance||"",onChange:T,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"next_maintenance",className:"block text-sm font-medium text-gray-700 mb-1",children:"Next Maintenance Date"}),a.jsx("input",{type:"date",name:"next_maintenance",id:"next_maintenance",value:k.next_maintenance||"",onChange:T,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"work_orders",className:"block text-sm font-medium text-gray-700 mb-1",children:"Work Orders"}),a.jsx("input",{type:"text",name:"work_orders",id:"work_orders",value:k.work_orders||"",onChange:T,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., WO-001, WO-002"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"health",className:"block text-sm font-medium text-gray-700 mb-1",children:"Health Status"}),a.jsxs("select",{name:"health",id:"health",value:k.health||"",onChange:T,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",children:[a.jsx("option",{value:"",children:"Select Health Status"}),a.jsx("option",{value:"excellent",children:"Excellent"}),a.jsx("option",{value:"good",children:"Good"}),a.jsx("option",{value:"fair",children:"Fair"}),a.jsx("option",{value:"poor",children:"Poor"}),a.jsx("option",{value:"critical",children:"Critical"})]})]})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsxs(O.button,{type:"button",onClick:E,whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",children:[a.jsx(In,{className:"mr-2 h-5 w-5"})," Reset Changes"]}),a.jsx(O.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:s,children:s?a.jsxs(a.Fragment,{children:[a.jsx(mn,{className:"animate-spin mr-2 h-5 w-5"}),"Updating..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Xpe,{className:"mr-2 h-5 w-5"})," Update Asset"]})})]})]})]})]})]}),a.jsx(lVe,{isOpen:f,onClose:L,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(fr,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:"Asset has been updated successfully!"}),a.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:L,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Go to Assets"})]})})]})},uVe=()=>{const t=tr(),{user:e}=or(),[r,n]=b.useState(!1),[s,i]=b.useState(window.innerWidth>=768),[o,l]=b.useState(window.innerWidth<768),[c,u]=b.useState(!1),[f,h]=b.useState(!1),g=b.useRef(null),p=b.useRef(null);b.useEffect(()=>{const y=()=>{l(window.innerWidth<768),window.innerWidth<768?i(!1):i(!0)};return window.addEventListener("resize",y),()=>window.removeEventListener("resize",y)},[]),b.useEffect(()=>{const y=N=>{g.current&&!g.current.contains(N.target)&&u(!1),p.current&&!p.current.contains(N.target)&&h(!1)};return document.addEventListener("mousedown",y),()=>{document.removeEventListener("mousedown",y)}},[]);const v=()=>{i(y=>!y)};b.useEffect(()=>{document.documentElement.classList.toggle("dark",r)},[r]);const w=y=>{t(y)};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Select Genba Menu",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:a.jsx(fn,{}),isMobile:o,toggleSidebar:v}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 text-center",children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Select Genba Menu"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Choose the menu you wish to manage other for genba action."})]}),a.jsxs("div",{className:"flex flex-col md:flex-row justify-center items-center gap-6 max-w-4xl mx-auto py-8",children:[a.jsxs(O.div,{className:"w-full md:w-1/2 bg-white rounded-2xl shadow-xl p-8 border border-blue-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>w("/genba/soconfiguration"),children:[a.jsx(Pa,{size:64,className:"text-blue-600 mb-4"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"SO Configuration"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Manage structure organization templates."}),a.jsxs("span",{className:"text-blue-600 font-semibold flex items-center",children:["Go to SO Configuration ",a.jsx(ta,{size:18,className:"ml-1"})]})]}),a.jsxs(O.div,{className:"w-full md:w-1/2 bg-white rounded-2xl shadow-xl p-8 border border-green-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>w("/genba/genbaaction"),children:[a.jsx(rM,{size:64,className:"text-green-600 mb-4"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Genba Action"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Handle report daily tasks."}),a.jsxs("span",{className:"text-green-600 font-semibold flex items-center",children:["Go to Genba Action",a.jsx(ta,{size:18,className:"ml-1"})]})]}),a.jsxs(O.div,{className:"w-full md:w-1/2 bg-white rounded-2xl shadow-xl p-8 border border-green-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>w("/genba/genbaarea"),children:[a.jsx(rM,{size:64,className:"text-green-600 mb-4"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Genba Area"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Handle Area for 5S."}),a.jsxs("span",{className:"text-green-600 font-semibold flex items-center",children:["Go to Genba Area",a.jsx(ta,{size:18,className:"ml-1"})]})]})]})]})]})]})},pY=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(O.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(Ft,{size:24})})]}),a.jsx("div",{children:n})]})}):null,dVe=()=>{const t=tr(),{getGenbaSOs:e,createGenbaSO:r,deleteGenbaSO:n,setGenbaSOActive:s}=or(),[i,o]=b.useState(window.innerWidth<768),[l,c]=b.useState(()=>{const B=localStorage.getItem("sidebarOpen");return JSON.parse(B||"false")}),u=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!l)),c(B=>!B)},[f,h]=b.useState(!1),[g,p]=b.useState(""),[v,w]=b.useState([]),[y,N]=b.useState(!1),[k,S]=b.useState(""),[T,_]=b.useState(!1),[D,E]=b.useState(null),L=(B,z,Y)=>{E({type:B,templateId:z,templateName:Y}),_(!0)},R=async()=>{if(D)try{N(!0),D.type==="activate"?(await s(D.templateId),w(B=>B.map(z=>({...z,is_active:z.id===D.templateId})))):D.type==="delete"&&(await n(D.templateId),await F()),_(!1),E(null),S("")}catch(B){S(`Failed to ${D.type} template`),console.error(`Error ${D.type}ing template:`,B)}finally{N(!1)}};b.useEffect(()=>{F()},[]);const F=async()=>{try{N(!0);const B=await e();w(B||[])}catch(B){S("Failed to load structure organization templates"),console.error("Error loading templates:",B)}finally{N(!1)}},A=async()=>{if(!g.trim()){S("Template name must be filled out.");return}try{N(!0);const B=await r({name:g,effective_date:new Date().toISOString().split("T")[0],is_active:!1,bridges:[]});w(z=>[...z,B]),h(!1),p(""),S("")}catch(B){S("Failed to create template"),console.error("Error creating template:",B)}finally{N(!1)}},M=B=>{t(`/genba/soconfiguration/configure/${B.id}`)};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Structure Organization",mainTitleHighlight:"Configuration",description:"Manage structure organization templates and configurations.",icon:a.jsx(Pa,{}),isMobile:i,toggleSidebar:u}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[a.jsx(kD,{className:"mr-2 text-gray-700",size:24})," Structure Organization Templates"]}),a.jsxs(O.button,{onClick:()=>h(!0),whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-5 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-semibold flex items-center text-sm shadow-md disabled:opacity-50",disabled:y,children:[a.jsx(GJ,{size:18,className:"mr-2"})," Create New Template"]})]}),k&&a.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:k}),y?a.jsx("div",{className:"flex justify-center items-center py-8",children:a.jsx(Wg,{className:"animate-spin text-blue-600",size:32})}):a.jsx("div",{className:"space-y-4",children:v.length>0?v.map(B=>a.jsx(O.div,{whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(0,0,0,0.08)"},whileTap:{scale:.98},className:"p-6 bg-white rounded-lg border border-gray-200 cursor-pointer transition-all duration-200",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("h3",{className:"text-lg font-bold text-gray-800 flex items-center",children:[a.jsx(vf,{size:20,className:"mr-2 text-blue-500"}),B.name]}),a.jsxs("div",{className:"mt-2 flex items-center space-x-2",children:[a.jsx("span",{className:`text-xs font-medium px-2.5 py-1 rounded-full ${B.is_active?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:B.is_active?"Active":"Inactive"}),a.jsxs("span",{className:"text-xs text-gray-500",children:["Effective: ",new Date(B.effective_date).toLocaleDateString()]}),a.jsxs("span",{className:"text-xs text-gray-500",children:["Roles: ",B.bridges.length]})]})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(O.button,{onClick:()=>M(B),whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 text-sm font-semibold rounded-lg text-blue-600 hover:bg-blue-100 transition-colors",disabled:y,children:"Configure"}),!B.is_active&&a.jsx(O.button,{onClick:z=>{z.stopPropagation(),L("activate",B.id,B.name)},whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 text-sm font-semibold rounded-lg bg-green-500 text-white hover:bg-green-600 transition-colors",disabled:y,children:"Activate"}),a.jsx(O.button,{onClick:z=>{z.stopPropagation(),L("delete",B.id,B.name)},whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 text-sm font-semibold rounded-lg bg-red-500 text-white hover:bg-red-600 transition-colors",disabled:y,children:"Delete"})]})]})},B.id)):a.jsx("div",{className:"p-6 text-center text-gray-500 border border-dashed border-gray-300 rounded-lg",children:"No templates found. Create the first template to get started."})}),a.jsx(pY,{isOpen:T,onClose:()=>{_(!1),E(null)},title:"Confirm Action",children:a.jsxs("div",{className:"space-y-5 text-center py-3",children:[a.jsx(Hr,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),a.jsxs("p",{className:"text-base text-gray-700 font-medium",children:["Are you sure you want to ",D==null?void 0:D.type,' template "',D==null?void 0:D.templateName,'"?',(D==null?void 0:D.type)==="delete"&&" This action cannot be undone."]}),a.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[a.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>{_(!1),E(null)},className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),a.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:R,className:`px-5 py-2.5 text-white rounded-md hover:opacity-90 focus:outline-none focus:ring-2 focus:ring-offset-2 transition-colors duration-200 font-semibold text-sm ${(D==null?void 0:D.type)==="delete"?"bg-red-600 hover:bg-red-700 focus:ring-red-500":"bg-green-600 hover:bg-green-700 focus:ring-green-500"}`,children:(D==null?void 0:D.type)==="delete"?"Delete":"Activate"})]})]})}),a.jsx(pY,{isOpen:f,onClose:()=>h(!1),title:"Create New Structure Organization Template",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"templateName",className:"block text-sm font-medium text-gray-700",children:"Template Name"}),a.jsx("input",{type:"text",id:"templateName",value:g,onChange:B=>p(B.target.value),placeholder:"e.g., Production Structure 2024",className:"mt-1 block w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150"})]}),k&&a.jsx("div",{className:"p-2 bg-red-100 border border-red-400 text-red-700 rounded text-sm",children:k}),a.jsxs("div",{className:"flex justify-end pt-2 space-x-3",children:[a.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>{h(!1),p(""),S("")},className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 font-semibold text-sm",children:"Cancel"}),a.jsxs(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:A,className:"px-5 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-semibold text-sm disabled:opacity-50 disabled:cursor-not-allowed flex items-center",disabled:y||!g.trim(),children:[y?a.jsx(Wg,{className:"animate-spin mr-2",size:16}):null,"Create Template"]})]})]})})]})]})]})},gY=()=>({employees:[{id:1,name:"Bogus Fixri",email:"bogus@company.com",position:"CEO / Founder",department:"Executive",phone:"+62 812-3456-7890"},{id:2,name:"Multi Hideyat",email:"multi@company.com",position:"Project Manager",department:"Project Management",phone:"+62 813-4567-8901"},{id:3,name:"Lookta Roymadley",email:"lookta@company.com",position:"Project Manager",department:"Project Management",phone:"+62 814-5678-9012"},{id:4,name:"Rijal Jantika",email:"rijal@company.com",position:"Head of Production",department:"Production",phone:"+62 815-6789-0123"},{id:5,name:"Heru",email:"heru@company.com",position:"Design Manager",department:"Design",phone:"+62 816-7890-1234"},{id:6,name:"Fauzan Ardianayeh",email:"fauzan@company.com",position:"QC & Research",department:"Quality Control",phone:"+62 817-8901-2345"},{id:7,name:"Panji Dwi",email:"panji@company.com",position:"UI Designer",department:"Design",phone:"+62 818-9012-3456"},{id:8,name:"Rahan Fixri",email:"rahan@company.com",position:"UI Designer",department:"Design",phone:"+62 819-0123-4567"},{id:9,name:"Iran",email:"iran@company.com",position:"UI Designer",department:"Design",phone:"+62 820-1234-5678"},{id:10,name:"Venison History",email:"venison@company.com",position:"General Setting",department:"Administration",phone:"+62 821-2345-6789"}],templates:[{id:1,name:"Current Structure",isActive:!0,nodes:[{id:1,employeeId:1,parentId:null,x:500,y:50,width:280,height:120},{id:2,employeeId:2,parentId:1,x:200,y:220,width:260,height:100},{id:3,employeeId:3,parentId:1,x:500,y:220,width:260,height:100},{id:4,employeeId:4,parentId:1,x:800,y:220,width:260,height:100},{id:5,employeeId:5,parentId:4,x:650,y:370,width:240,height:100},{id:6,employeeId:6,parentId:4,x:950,y:370,width:240,height:100},{id:7,employeeId:7,parentId:5,x:550,y:520,width:220,height:90},{id:8,employeeId:8,parentId:5,x:800,y:520,width:220,height:90},{id:9,employeeId:9,parentId:5,x:675,y:520,width:220,height:90},{id:10,employeeId:10,parentId:3,x:500,y:370,width:240,height:100}],createdAt:"2024-01-15"},{id:2,name:"Proposed Structure",isActive:!1,nodes:[{id:1,employeeId:1,parentId:null,x:500,y:50,width:280,height:120},{id:2,employeeId:2,parentId:1,x:300,y:220,width:260,height:100},{id:3,employeeId:3,parentId:1,x:600,y:220,width:260,height:100},{id:4,employeeId:4,parentId:1,x:900,y:220,width:260,height:100},{id:5,employeeId:5,parentId:4,x:800,y:370,width:240,height:100},{id:6,employeeId:6,parentId:4,x:1050,y:370,width:240,height:100}],createdAt:"2024-01-20"}]}),o6=({isOpen:t,onClose:e,title:r,children:n,maxWidth:s="max-w-xl"})=>(b.useEffect(()=>{const i=o=>{o.key==="Escape"&&e()};return document.addEventListener("keydown",i),()=>document.removeEventListener("keydown",i)},[e]),a.jsx(ar,{children:t&&a.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-40 flex justify-center items-center z-50 p-4",onClick:e,children:a.jsxs(O.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${s} w-full`,onClick:i=>i.stopPropagation(),children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-gradient-to-r from-blue-50 to-indigo-50",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:r}),a.jsx("button",{onClick:e,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 transition-colors duration-150",children:a.jsx(Ft,{className:"w-5 h-5"})})]}),a.jsx("div",{className:"p-6 overflow-y-auto flex-grow",children:n})]})})})),fVe=({message:t,type:e,isVisible:r,onClose:n})=>(b.useEffect(()=>{if(r){const s=setTimeout(n,3e3);return()=>clearTimeout(s)}},[r,n]),a.jsx(ar,{children:r&&a.jsx(O.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},exit:{opacity:0,y:-50},className:`fixed top-4 right-4 z-50 p-4 rounded-lg shadow-lg ${e==="success"?"bg-green-500 text-white":"bg-red-500 text-white"}`,children:a.jsxs("div",{className:"flex items-center space-x-2",children:[e==="success"?a.jsx(fr,{className:"w-5 h-5"}):a.jsx(tM,{className:"w-5 h-5"}),a.jsx("span",{className:"font-medium",children:t})]})})})),hVe=()=>{const[t,e]=b.useState({employees:[],templates:[]}),[r,n]=b.useState(null),[s,i]=b.useState(!1),[o,l]=b.useState(""),[c,u]=b.useState(""),[f,h]=b.useState(!1),[g,p]=b.useState(!1),[v,w]=b.useState(null),[y,N]=b.useState(!1),[k,S]=b.useState(!1),[T,_]=b.useState({message:"",type:"success",isVisible:!1}),[D,E]=b.useState(!0),[L,R]=b.useState(""),[F,A]=b.useState({name:"",email:"",position:"",department:"",phone:""}),[M,B]=b.useState(1),[z,Y]=b.useState({x:0,y:0}),[W,H]=b.useState(!1),[q,X]=b.useState({x:0,y:0}),oe=b.useRef(null),K=b.useRef(null);b.useEffect(()=>{(async()=>{E(!0),await new Promise(Je=>setTimeout(Je,500));const le=localStorage.getItem("org.structure.v1");if(le)try{const Je=JSON.parse(le);e(Je);const Ge=Je.templates.find(ut=>ut.isActive);n(Ge||Je.templates[0])}catch{const Je=gY();e(Je),n(Je.templates[0]),localStorage.setItem("org.structure.v1",JSON.stringify(Je))}else{const Je=gY();e(Je),n(Je.templates[0]),localStorage.setItem("org.structure.v1",JSON.stringify(Je))}E(!1)})()},[]);const V=b.useCallback(async Te=>{E(!0),await new Promise(le=>setTimeout(le,200)),localStorage.setItem("org.structure.v1",JSON.stringify(Te)),e(Te),E(!1),J("Changes saved successfully","success")},[]),J=(Te,le)=>{_({message:Te,type:le,isVisible:!0})},Q=async()=>{if(!L.trim()){J("Please enter a template name","error");return}const Te={id:Date.now(),name:L,isActive:!1,nodes:r?JSON.parse(JSON.stringify(r.nodes)):[],createdAt:new Date().toISOString().split("T")[0]},le=t.templates.map(Ge=>({...Ge,isActive:!1}));le.push(Te);const Je={...t,templates:le};await V(Je),n(Te),h(!1),R("")},re=async Te=>{const le={id:Date.now(),name:`${Te.name} (Copy)`,isActive:!1,nodes:JSON.parse(JSON.stringify(Te.nodes)),createdAt:new Date().toISOString().split("T")[0]},Je=[...t.templates,le],Ge={...t,templates:Je};await V(Ge),J("Template duplicated successfully","success")},ce=async Te=>{const le=t.templates.map(Ge=>({...Ge,isActive:Ge.id===Te.id})),Je={...t,templates:le};await V(Je),n(Te),p(!1)},Ee=async Te=>{if(t.templates.length<=1){J("Cannot delete the only template","error");return}const le=t.templates.filter(Ge=>Ge.id!==Te),Je={...t,templates:le};if(await V(Je),(r==null?void 0:r.id)===Te){const Ge=le.find(ut=>ut.isActive)||le[0];n(Ge)}},ke=async(Te=null)=>{if(!r)return;const le={id:Date.now(),employeeId:null,parentId:Te,x:500,y:300,width:260,height:100},Je=[...r.nodes,le],Ge=t.templates.map(Pe=>Pe.id===r.id?{...Pe,nodes:Je}:Pe),ut={...t,templates:Ge};await V(ut),w(le),A({name:"",email:"",position:"",department:"",phone:""}),S(!0)},ge=async Te=>{if(!r)return;const le=r.nodes.find(Ne=>Ne.id===Te);if(!le)return;const Je={id:Date.now(),employeeId:null,parentId:Te,x:le.x,y:le.y+180,width:240,height:100},Ge=[...r.nodes,Je],ut=t.templates.map(Ne=>Ne.id===r.id?{...Ne,nodes:Ge}:Ne),Pe={...t,templates:ut};await V(Pe),w(Je),A({name:"",email:"",position:"",department:"",phone:""}),S(!0)},Ce=async Te=>{if(!r||!r.nodes.find(ze=>ze.id===Te))return;const Je=ze=>{const me=r.nodes.filter(je=>je.parentId===ze).map(je=>je.id),De=me.flatMap(je=>Je(je));return[...me,...De]},Ge=[Te,...Je(Te)],ut=r.nodes.filter(ze=>!Ge.includes(ze.id)),Pe=t.templates.map(ze=>ze.id===r.id?{...ze,nodes:ut}:ze),Ne={...t,templates:Pe};await V(Ne)},Ke=async()=>{if(!(!v||!r))if(F.name&&F.email&&F.position&&F.department){let Te=[...t.employees],le=v.employeeId;le?Te=Te.map(Pe=>Pe.id===le?{...Pe,...F}:Pe):(le=Date.now(),Te.push({id:le,name:F.name,email:F.email,position:F.position,department:F.department,phone:F.phone||""}));const Je=r.nodes.map(Pe=>Pe.id===v.id?{...Pe,employeeId:le}:Pe),Ge=t.templates.map(Pe=>Pe.id===r.id?{...Pe,nodes:Je}:Pe),ut={...t,employees:Te,templates:Ge};await V(ut),S(!1),w(null),A({name:"",email:"",position:"",department:"",phone:""})}else J("Please fill all required fields","error")},fe=Te=>Te?t.employees.find(le=>le.id===Te):null,ye=Te=>(r==null?void 0:r.nodes.filter(le=>le.parentId===Te))||[],ae=()=>r?r.nodes.map(Te=>{if(!Te.parentId)return null;const le=r.nodes.find(ze=>ze.id===Te.parentId);if(!le)return null;const Je=le.x+le.width/2,Ge=le.y+le.height,ut=Te.x+Te.width/2,Pe=Te.y,Ne=(Ge+Pe)/2;return a.jsx("path",{d:`M ${Je} ${Ge} L ${Je} ${Ne} L ${ut} ${Ne} L ${ut} ${Pe}`,stroke:"#cbd5e1",strokeWidth:"2",fill:"none"},`connection-${Te.id}`)}):null,se=Te=>{Te.preventDefault();const Je=Math.min(Math.max(.5,M-Te.deltaY*.001),2);B(Je)},bt=Te=>{Te.button===0&&(Te.altKey||Te.ctrlKey)?(H(!0),X({x:Te.clientX-z.x,y:Te.clientY-z.y})):Te.button===1&&(Te.preventDefault(),H(!0),X({x:Te.clientX-z.x,y:Te.clientY-z.y}))},pt=Te=>{W&&Y({x:Te.clientX-q.x,y:Te.clientY-q.y})},Re=()=>{H(!1)},Me=()=>{B(1),Y({x:0,y:0})},qe=t.employees.filter(Te=>{const le=Te.name.toLowerCase().includes(o.toLowerCase())||Te.position.toLowerCase().includes(o.toLowerCase()),Je=!c||Te.department===c;return le&&Je}),tt=Array.from(new Set(t.employees.map(Te=>Te.department))),Ve=({node:Te})=>{const le=fe(Te.employeeId),Je=ye(Te.id);return a.jsxs(a.Fragment,{children:[a.jsx(O.div,{className:`absolute bg-white rounded-2xl shadow-lg border-2 cursor-pointer transition-all duration-200 ${s?"cursor-move hover:shadow-xl":"hover:shadow-xl"} ${le?"border-blue-100":"border-dashed border-amber-400 bg-amber-50"}`,style:{left:Te.x,top:Te.y,width:Te.width,height:Te.height},whileHover:{scale:1.02},drag:s,dragMomentum:!1,onDragEnd:(Ge,ut)=>{if(!s||!r)return;const Pe=Te.x+ut.offset.x,Ne=Te.y+ut.offset.y,ze=r.nodes.map(je=>je.id===Te.id?{...je,x:Pe,y:Ne}:je),me=t.templates.map(je=>je.id===r.id?{...je,nodes:ze}:je),De={...t,templates:me};V(De)},onClick:Ge=>{s||(Ge.stopPropagation(),w(Te),le?N(!0):(A({name:"",email:"",position:"",department:"",phone:""}),S(!0)))},children:a.jsxs("div",{className:"p-4 h-full flex flex-col justify-between",children:[a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center font-bold text-lg shrink-0 ${le?"bg-gradient-to-br from-blue-500 to-blue-600 text-white":"bg-amber-100 text-amber-600"}`,children:le?le.name.split(" ").map(Ge=>Ge[0]).join(""):"?"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"font-bold text-gray-900 text-base leading-tight truncate",children:le?le.name:"New Position"}),a.jsx("p",{className:"text-sm text-blue-600 font-medium leading-tight truncate",children:le?le.position:"Click to assign"}),a.jsx("p",{className:"text-xs text-gray-500 leading-tight truncate",children:le?le.department:"Unassigned"})]})]}),a.jsxs("div",{className:"flex justify-between items-center mt-3",children:[a.jsx("div",{className:"flex space-x-2",children:le&&a.jsxs(a.Fragment,{children:[a.jsx("button",{className:"p-1.5 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",onClick:Ge=>{Ge.stopPropagation(),window.location.href=`mailto:${le.email}`},children:a.jsx(Xp,{className:"w-4 h-4"})}),le.phone&&a.jsx("button",{className:"p-1.5 text-gray-400 hover:text-green-600 hover:bg-green-50 rounded-lg transition-colors",onClick:Ge=>{Ge.stopPropagation(),window.location.href=`tel:${le.phone}`},children:a.jsx(iu,{className:"w-4 h-4"})})]})}),a.jsx("div",{className:"flex space-x-1",children:s&&a.jsxs(a.Fragment,{children:[a.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:Ge=>{Ge.stopPropagation(),ge(Te.id)},className:"p-1.5 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Add Subordinate",children:a.jsx(pa,{className:"w-4 h-4"})}),a.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:Ge=>{Ge.stopPropagation(),Ce(Te.id)},className:"p-1.5 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete Position",children:a.jsx(In,{className:"w-4 h-4"})})]})})]})]})}),Je.map(Ge=>a.jsx(Ve,{node:Ge},Ge.id))]})};return D&&!r?a.jsx("div",{className:"flex h-screen bg-gradient-to-br from-blue-50 to-indigo-50",children:a.jsx("div",{className:"flex-1 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-blue-500 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600 text-lg font-medium",children:"Loading organization structure..."})]})})}):a.jsxs("div",{className:"flex h-screen bg-gradient-to-br from-blue-50 to-indigo-50 font-sans antialiased",children:[a.jsxs("div",{className:"w-80 bg-white/80 backdrop-blur-sm border-r border-gray-200/50 flex flex-col",children:[a.jsxs("div",{className:"p-6 border-b border-gray-200/50",children:[a.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-4",children:"Organization"}),a.jsxs("div",{className:"relative mb-4",children:[a.jsx(Da,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),a.jsx("input",{type:"text",placeholder:"Search employee...",className:"w-full pl-10 pr-4 py-3 border border-gray-300/50 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-transparent bg-white/50 text-sm backdrop-blur-sm",value:o,onChange:Te=>l(Te.target.value)})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Filter Role"}),a.jsxs("select",{className:"w-full border border-gray-300/50 rounded-xl px-3 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-transparent bg-white/50 text-sm backdrop-blur-sm",value:c,onChange:Te=>u(Te.target.value),children:[a.jsx("option",{value:"",children:"All Roles"}),tt.map(Te=>a.jsx("option",{value:Te,children:Te},Te))]})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:a.jsx("div",{className:"space-y-3",children:qe.map(Te=>a.jsx(O.div,{className:"p-4 rounded-xl hover:bg-blue-50/50 cursor-pointer transition-all duration-200 border border-transparent hover:border-blue-200/50 bg-white/50 backdrop-blur-sm",whileHover:{x:4,scale:1.02},onClick:()=>{const le=r==null?void 0:r.nodes.find(Je=>Je.employeeId===Te.id);if(le&&oe.current){const Je=oe.current,Ge=le.x+le.width/2-Je.clientWidth/2,ut=le.y+le.height/2-Je.clientHeight/2;Y({x:-Ge,y:-ut}),B(1)}},children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg flex items-center justify-center text-white text-sm font-bold shrink-0",children:Te.name.split(" ").map(le=>le[0]).join("")}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"font-semibold text-gray-900 text-sm truncate",children:Te.name}),a.jsx("p",{className:"text-xs text-blue-600 font-medium truncate",children:Te.position})]})]})},Te.id))})})]}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsxs("div",{className:"bg-white/80 backdrop-blur-sm border-b border-gray-200/50 p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-3xl font-bold text-gray-900",children:["Organization ",a.jsx("span",{className:"text-blue-600",children:"Structure"})]}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Visualize and manage your organizational hierarchy"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("div",{className:"relative",children:[a.jsxs(O.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>p(!g),className:"flex items-center space-x-2 bg-white border border-gray-300/50 text-gray-700 px-4 py-2.5 rounded-xl hover:bg-gray-50/50 transition-all duration-200 font-semibold text-sm backdrop-blur-sm",children:[a.jsx(Xh,{className:"w-4 h-4"}),a.jsx("span",{children:"Templates"}),a.jsx(la,{className:"w-4 h-4"})]}),a.jsx(ar,{children:g&&a.jsxs(O.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"absolute top-full right-0 mt-2 w-80 bg-white/95 backdrop-blur-md border border-gray-200/50 rounded-xl shadow-xl z-10",children:[a.jsx("div",{className:"p-4 border-b border-gray-200/50 bg-gradient-to-r from-blue-50/50 to-indigo-50/50",children:a.jsx("h3",{className:"font-bold text-gray-900",children:"Organization Templates"})}),a.jsx("div",{className:"max-h-96 overflow-y-auto",children:t.templates.map(Te=>a.jsxs("div",{className:"p-4 border-b border-gray-100/50 last:border-b-0 hover:bg-blue-50/30 transition-colors duration-150",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"font-semibold text-gray-900",children:Te.name}),Te.isActive&&a.jsxs("div",{className:"flex items-center space-x-1 text-green-600",children:[a.jsx(fr,{className:"w-4 h-4"}),a.jsx("span",{className:"text-xs font-medium",children:"Active"})]})]}),a.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-600",children:[a.jsxs("span",{children:[Te.nodes.length," positions • ",Te.createdAt]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>re(Te),className:"text-purple-600 hover:text-purple-800 font-medium",title:"Duplicate Template",children:a.jsx(Eme,{className:"w-3.5 h-3.5"})}),!Te.isActive&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>ce(Te),className:"text-blue-600 hover:text-blue-800 font-medium",children:"Activate"}),a.jsx("button",{onClick:()=>Ee(Te.id),className:"text-red-600 hover:text-red-800 font-medium",children:"Delete"})]})]})]})]},Te.id))})]})})]}),a.jsx(O.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>i(!s),className:`px-5 py-2.5 rounded-xl font-semibold text-sm transition-all duration-200 backdrop-blur-sm ${s?"bg-blue-600 text-white hover:bg-blue-700 shadow-lg":"bg-white border border-gray-300/50 text-gray-700 hover:bg-gray-50/50"}`,children:s?a.jsxs("span",{className:"flex items-center space-x-2",children:[a.jsx(vn,{className:"w-4 h-4"}),a.jsx("span",{children:"Save"})]}):a.jsxs("span",{className:"flex items-center space-x-2",children:[a.jsx(Ba,{className:"w-4 h-4"}),a.jsx("span",{children:"Edit"})]})}),a.jsxs(O.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>h(!0),className:"flex items-center space-x-2 bg-gradient-to-r from-blue-600 to-blue-700 text-white px-5 py-2.5 rounded-xl hover:from-blue-700 hover:to-blue-800 transition-all duration-200 font-semibold text-sm shadow-lg",children:[a.jsx(pa,{className:"w-4 h-4"}),a.jsx("span",{children:"New Template"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-sm p-5 border border-blue-100/50",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-semibold text-gray-600",children:"Total Employees"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.employees.length})]}),a.jsx(Pa,{className:"text-blue-500 w-8 h-8"})]})}),a.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-sm p-5 border border-blue-100/50",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-semibold text-gray-600",children:"Active Template"}),a.jsx("p",{className:"text-lg font-bold text-gray-900 truncate",children:r==null?void 0:r.name})]}),a.jsx(cl,{className:"text-green-500 w-8 h-8"})]})}),a.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-sm p-5 border border-blue-100/50",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-semibold text-gray-600",children:"Departments"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:tt.length})]}),a.jsx(gs,{className:"text-purple-500 w-8 h-8"})]})}),a.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-sm p-5 border border-blue-100/50",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-semibold text-gray-600",children:"Edit Mode"}),a.jsx("p",{className:`text-lg font-bold ${s?"text-green-600":"text-gray-900"}`,children:s?"Active":"Inactive"})]}),a.jsx(Ba,{className:s?"text-orange-500 w-8 h-8":"text-gray-400 w-8 h-8"})]})})]})]}),a.jsxs("div",{ref:oe,className:"flex-1 overflow-hidden bg-gradient-to-br from-blue-50/50 to-indigo-50/50 relative",onWheel:se,onMouseDown:bt,onMouseMove:pt,onMouseUp:Re,onMouseLeave:Re,style:{cursor:W?"grabbing":s?"grab":"default"},children:[a.jsxs("div",{className:"absolute inset-0",style:{transform:`scale(${M}) translate(${z.x}px, ${z.y}px)`,transformOrigin:"0 0",transition:W?"none":"transform 0.2s ease"},children:[a.jsxs("svg",{ref:K,className:"absolute top-0 left-0 w-full h-full pointer-events-none",style:{overflow:"visible"},children:[a.jsx("defs",{children:a.jsx("marker",{id:"arrowhead",markerWidth:"10",markerHeight:"7",refX:"9",refY:"3.5",orient:"auto",children:a.jsx("polygon",{points:"0 0, 10 3.5, 0 7",fill:"#cbd5e1"})})}),ae()]}),a.jsx("div",{className:"relative w-full h-full",children:r==null?void 0:r.nodes.filter(Te=>Te.parentId===null).map(Te=>a.jsx(Ve,{node:Te},Te.id))})]}),a.jsxs("div",{className:"absolute bottom-6 right-6 flex flex-col space-y-3",children:[a.jsx(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>B(Te=>Math.min(Te+.1,2)),className:"bg-white/90 backdrop-blur-sm border border-gray-300/50 w-10 h-10 rounded-xl flex items-center justify-center text-gray-700 hover:bg-gray-50/90 transition-all duration-200 shadow-lg",title:"Zoom In",children:a.jsx(pa,{className:"w-5 h-5"})}),a.jsx(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>B(Te=>Math.max(Te-.1,.5)),className:"bg-white/90 backdrop-blur-sm border border-gray-300/50 w-10 h-10 rounded-xl flex items-center justify-center text-gray-700 hover:bg-gray-50/90 transition-all duration-200 shadow-lg",title:"Zoom Out",children:a.jsx(Ft,{className:"w-5 h-5"})}),a.jsx(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Me,className:"bg-white/90 backdrop-blur-sm border border-gray-300/50 w-10 h-10 rounded-xl flex items-center justify-center text-gray-700 hover:bg-gray-50/90 transition-all duration-200 shadow-lg",title:"Reset View",children:a.jsx(bo,{className:"w-5 h-5"})})]}),s&&a.jsx("div",{className:"absolute bottom-6 left-6",children:a.jsxs(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>ke(),className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white p-4 rounded-2xl shadow-xl hover:from-blue-700 hover:to-blue-800 transition-all duration-200 flex items-center space-x-2 font-semibold",title:"Add New Position",children:[a.jsx(pa,{className:"w-6 h-6"}),a.jsx("span",{children:"Add Position"})]})})]})]}),a.jsx(o6,{isOpen:f,onClose:()=>h(!1),title:"Create New Template",children:a.jsxs("div",{className:"space-y-5",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Template Name"}),a.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:L,onChange:Te=>R(Te.target.value),placeholder:"Enter template name...",onKeyPress:Te=>{Te.key==="Enter"&&Q()}})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx("button",{onClick:()=>{h(!1),R("")},className:"px-5 py-2.5 border border-gray-300 rounded-xl text-gray-700 hover:bg-gray-50 transition-all duration-200 font-semibold",children:"Cancel"}),a.jsx("button",{onClick:Q,className:"px-5 py-2.5 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-all duration-200 font-semibold shadow-lg",children:"Create Template"})]})]})}),a.jsx(o6,{isOpen:y,onClose:()=>{N(!1),w(null)},title:"Employee Details",maxWidth:"max-w-md",children:v&&fe(v.employeeId)&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl flex items-center justify-center text-white text-2xl font-bold shrink-0",children:fe(v.employeeId).name.split(" ").map(Te=>Te[0]).join("")}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:fe(v.employeeId).name}),a.jsx("p",{className:"text-blue-600 font-semibold",children:fe(v.employeeId).position}),a.jsx("p",{className:"text-gray-600",children:fe(v.employeeId).department})]})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-semibold text-gray-500",children:"Email Address"}),a.jsx("p",{className:"text-gray-900 font-medium",children:fe(v.employeeId).email})]}),fe(v.employeeId).phone&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-semibold text-gray-500",children:"Phone Number"}),a.jsx("p",{className:"text-gray-900 font-medium",children:fe(v.employeeId).phone})]})]}),a.jsxs("div",{className:"flex space-x-3 pt-4",children:[a.jsxs("button",{onClick:()=>{N(!1),S(!0),A(fe(v.employeeId))},className:"flex-1 flex items-center justify-center space-x-2 bg-blue-600 text-white py-3 rounded-xl hover:bg-blue-700 transition-all duration-200 font-semibold shadow-lg",children:[a.jsx(Ba,{className:"w-5 h-5"}),a.jsx("span",{children:"Edit Details"})]}),a.jsxs("button",{onClick:()=>N(!1),className:"flex-1 flex items-center justify-center space-x-2 border border-gray-300 text-gray-700 py-3 rounded-xl hover:bg-gray-50 transition-all duration-200 font-semibold",children:[a.jsx(cn,{className:"w-5 h-5"}),a.jsx("span",{children:"Close"})]})]})]})}),a.jsx(o6,{isOpen:k,onClose:()=>{S(!1),w(null),A({name:"",email:"",position:"",department:"",phone:""})},title:v!=null&&v.employeeId?"Edit Employee Details":"Assign Employee to Position",maxWidth:"max-w-md",children:a.jsxs("div",{className:"space-y-5",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Full Name *"}),a.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:F.name||"",onChange:Te=>A(le=>({...le,name:Te.target.value})),placeholder:"Enter full name..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Email Address *"}),a.jsx("input",{type:"email",className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:F.email||"",onChange:Te=>A(le=>({...le,email:Te.target.value})),placeholder:"Enter email address..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Position *"}),a.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:F.position||"",onChange:Te=>A(le=>({...le,position:Te.target.value})),placeholder:"Enter job position..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Department *"}),a.jsxs("select",{className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:F.department||"",onChange:Te=>A(le=>({...le,department:Te.target.value})),children:[a.jsx("option",{value:"",children:"Select Department"}),tt.map(Te=>a.jsx("option",{value:Te,children:Te},Te))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Phone Number"}),a.jsx("input",{type:"tel",className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:F.phone||"",onChange:Te=>A(le=>({...le,phone:Te.target.value})),placeholder:"Enter phone number..."})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx("button",{onClick:()=>{S(!1),w(null),A({name:"",email:"",position:"",department:"",phone:""})},className:"px-5 py-2.5 border border-gray-300 rounded-xl text-gray-700 hover:bg-gray-50 transition-all duration-200 font-semibold",children:"Cancel"}),a.jsx("button",{onClick:Ke,className:"px-5 py-2.5 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-all duration-200 font-semibold shadow-lg",children:v!=null&&v.employeeId?"Update Employee":"Assign Employee"})]})]})}),a.jsx(fVe,{message:T.message,type:T.type,isVisible:T.isVisible,onClose:()=>_(Te=>({...Te,isVisible:!1}))})]})},mVe=()=>{var ut;tr();const{user:t}=or(),e=t,[r,n]=b.useState(()=>{const Pe=localStorage.getItem("sidebarOpen");return Pe?JSON.parse(Pe):!1}),[s,i]=b.useState(window.innerWidth<768),[o,l]=b.useState(new Date),[c,u]=b.useState(!1),[f,h]=b.useState([]),[g,p]=b.useState([]),[v,w]=b.useState(""),[y,N]=b.useState(""),[k,S]=b.useState([]),[T,_]=b.useState(!1),[D,E]=b.useState("management"),[L,R]=b.useState(""),[F,A]=b.useState(new Date().getFullYear()),[M,B]=b.useState(new Date().getMonth()),[z,Y]=b.useState(null),[W,H]=b.useState(""),q=b.useRef(null),X=b.useRef(null),oe=[{id:"karyawan",name:"Karyawan",level:1},{id:"komite",name:"Komite Department",level:2},{id:"penanggungjawab",name:"Penanggung Jawab Area",level:3},{id:"management",name:"Management",level:4}],K=[{id:"1",nama:"Area Produksi Line A",penanggungJawab:"Budi Santoso",pengawas:"Ahmad Wijaya",gambar3d:"/api/placeholder/400/300",department:"Produksi"},{id:"2",nama:"Area Produksi Line B",penanggungJawab:"Joko Widodo",pengawas:"Ahmad Wijaya",gambar3d:"/api/placeholder/400/300",department:"Produksi"},{id:"3",nama:"Area Gudang Bahan Baku",penanggungJawab:"Siti Rahayu",pengawas:"Dewi Sartika",gambar3d:"/api/placeholder/400/300",department:"Gudang"},{id:"4",nama:"Area Gudang Finished Goods",penanggungJawab:"Rina Melati",pengawas:"Dewi Sartika",gambar3d:"/api/placeholder/400/300",department:"Gudang"},{id:"5",nama:"Area Kantor HRD",penanggungJawab:"Ari Wibowo",pengawas:"Maya Sari",gambar3d:"/api/placeholder/400/300",department:"Administrasi"},{id:"6",nama:"Area Kantor Accounting",penanggungJawab:"Dian Pertiwi",pengawas:"Maya Sari",gambar3d:"/api/placeholder/400/300",department:"Administrasi"},{id:"7",nama:"Area Maintenance",penanggungJawab:"Hendra Gunawan",pengawas:"Ahmad Wijaya",gambar3d:"/api/placeholder/400/300",department:"Engineering"},{id:"8",nama:"Area Quality Control",penanggungJawab:"Fitri Handayani",pengawas:"Dewi Sartika",gambar3d:"/api/placeholder/400/300",department:"Quality"}],V=()=>{const Pe=[],Ne=K,ze=[{nama:"Budi Santoso",nip:"12345",department:"Produksi"},{nama:"Joko Widodo",nip:"12346",department:"Produksi"},{nama:"Siti Rahayu",nip:"12347",department:"Gudang"},{nama:"Rina Melati",nip:"12348",department:"Gudang"},{nama:"Ari Wibowo",nip:"12349",department:"Administrasi"},{nama:"Dian Pertiwi",nip:"12350",department:"Administrasi"},{nama:"Hendra Gunawan",nip:"12351",department:"Engineering"},{nama:"Fitri Handayani",nip:"12352",department:"Quality"},{nama:"Andi Pratama",nip:"12353",department:"Produksi"},{nama:"Maya Sari",nip:"12354",department:"Administrasi"}],me=new Date(2024,0,1),De=new Date;for(let je=new Date(me);je<=De;je.setDate(je.getDate()+1)){if(je.getDay()===0||je.getDay()===6||Math.random()>.7)continue;ze.filter(()=>Math.random()>.3).forEach(rt=>{const ve=Ne.filter(st=>st.department===rt.department);if(ve.length===0)return;const xe=ve[Math.floor(Math.random()*ve.length)],Qe=Math.random()>.1?"completed":"pending",yt=Qe==="completed"?Math.floor(Math.random()*30)+70:void 0;Pe.push({id:`activity-${je.getTime()}-${rt.nip}`,nama:rt.nama,nip:rt.nip,department:rt.department,komite5s:`Komite5s ${rt.department}`,tanggal:je.toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric"}),area:xe.nama,penanggungJawabArea:xe.penanggungJawab,keterangan:Math.random()>.5?"Area sudah dibersihkan dan ditata sesuai standar 5S":"Pengecekan rutin area kerja",fotoLampiran:["/api/placeholder/300/200"],createdAt:je.toISOString(),status:Qe,score:yt})})}return Pe};b.useEffect(()=>{p(K);const Pe=V();h(Pe),localStorage.setItem("dailyActivities",JSON.stringify(Pe))},[]),b.useEffect(()=>{const Pe=()=>{i(window.innerWidth<768),window.innerWidth<768&&n(!1)};return window.addEventListener("resize",Pe),()=>window.removeEventListener("resize",Pe)},[]);const J=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!r)),n(Pe=>!Pe)},Q=Pe=>Pe.toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric"}),re=()=>g.find(Pe=>Pe.id===v),ce=()=>{let Pe=f;if(D==="komite"&&(e!=null&&e.department))Pe=Pe.filter(Ne=>Ne.department===e.department);else if(D==="penanggungjawab"){const Ne=g.filter(ze=>ze.penanggungJawab===(e==null?void 0:e.name));Pe=Pe.filter(ze=>Ne.some(me=>me.nama===ze.area))}else D==="karyawan"&&(Pe=Pe.filter(Ne=>Ne.nip===(e==null?void 0:e.nip)));return L&&(Pe=Pe.filter(Ne=>Ne.department===L)),W&&(Pe=Pe.filter(Ne=>Ne.nama.toLowerCase().includes(W.toLowerCase())||Ne.area.toLowerCase().includes(W.toLowerCase())||Ne.nip.includes(W))),Pe},Ee=(Pe,Ne,ze)=>{const me=f.filter(rt=>{const ve=new Date(rt.createdAt);return rt.department===Pe&&ve.getMonth()===Ne&&ve.getFullYear()===ze}),De=new Date(ze,Ne+1,0).getDate(),je=new Set(me.map(rt=>rt.tanggal)).size,We=De>0?je/De*100:0;return Math.min(We,100)},ke=(Pe,Ne)=>{const ze=ce().filter(We=>{const rt=new Date(We.createdAt);return rt.getMonth()===Pe&&rt.getFullYear()===Ne}),me=new Date(Ne,Pe+1,0).getDate(),De=new Set(ze.map(We=>We.tanggal)).size,je=me>0?De/me*100:0;return Math.min(je,100)},ge=()=>{const Pe=new Date;return ke(Pe.getMonth(),Pe.getFullYear())},Ce=(Pe,Ne,ze)=>{const me=f.filter(rt=>{const ve=new Date(rt.createdAt);return rt.nip===Pe&&ve.getMonth()===Ne&&ve.getFullYear()===ze}),De=new Date(ze,Ne+1,0).getDate(),je=new Set(me.map(rt=>rt.tanggal)).size,We=De>0?je/De*100:0;return Math.min(We,100)},Ke=()=>{const Pe=o.getFullYear(),Ne=o.getMonth(),me=new Date(Pe,Ne+1,0).getDate(),De=ce(),je=[];for(let We=1;We<=me;We++){const rt=new Date(Pe,Ne,We),ve=Q(rt),xe=De.some(Qe=>Qe.tanggal===ve);je.push({date:We,hasReport:xe,isToday:rt.toDateString()===new Date().toDateString()})}return je},fe=async()=>{try{const Pe=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});X.current=Pe,q.current&&(q.current.srcObject=Pe),_(!0)}catch(Pe){console.error("Error accessing camera:",Pe),alert("Tidak dapat mengakses kamera. Pastikan izin kamera telah diberikan.")}},ye=()=>{if(q.current){const Pe=document.createElement("canvas");Pe.width=q.current.videoWidth,Pe.height=q.current.videoHeight;const Ne=Pe.getContext("2d");if(Ne){Ne.drawImage(q.current,0,0);const ze=Pe.toDataURL("image/jpeg");S(me=>[...me,ze])}}},ae=()=>{X.current&&(X.current.getTracks().forEach(Pe=>Pe.stop()),X.current=null),_(!1)},se=Pe=>{S(Ne=>Ne.filter((ze,me)=>me!==Pe))},bt=()=>{if(!v||k.length===0){alert("Area dan Lampiran Foto wajib diisi!");return}const Pe=g.find(me=>me.id===v),Ne={id:Date.now().toString(),nama:(e==null?void 0:e.name)||"User",nip:(e==null?void 0:e.nip)||"N/A",department:(e==null?void 0:e.department_name)||(e==null?void 0:e.department)||"Department",komite5s:`Komite5s ${(e==null?void 0:e.department)||"Dept"}`,tanggal:Q(o),area:(Pe==null?void 0:Pe.nama)||"",penanggungJawabArea:(Pe==null?void 0:Pe.penanggungJawab)||"",keterangan:y,fotoLampiran:k,createdAt:new Date().toISOString(),status:"completed",score:Math.floor(Math.random()*30)+70},ze=[...f,Ne];h(ze),localStorage.setItem("dailyActivities",JSON.stringify(ze)),w(""),N(""),S([]),u(!1),alert("Laporan berhasil disimpan!")},pt=Pe=>{const Ne={completed:"bg-green-100 text-green-800",pending:"bg-yellow-100 text-yellow-800",rejected:"bg-red-100 text-red-800"},ze={completed:"Selesai",pending:"Menunggu",rejected:"Ditolak"};return a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Ne[Pe]}`,children:ze[Pe]})},Re=Pe=>{const Ne=Q(new Date),ze=f.find(me=>me.nip===Pe&&me.tanggal===Ne);return ze?pt(ze.status):a.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-800 rounded-full text-xs font-medium",children:"Belum Lapor"})},Me=Pe=>{const Ne=f.filter(me=>me.nip===Pe.nip&&new Date(me.createdAt).getMonth()===M).sort((me,De)=>new Date(De.createdAt).getTime()-new Date(me.createdAt).getTime()),ze=Ce(Pe.nip,M,F);return a.jsxs(O.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[a.jsx("button",{onClick:()=>Y(null),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:a.jsx(hn,{size:20})}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-bold text-gray-900",children:["Detail Laporan - ",Pe.nama]}),a.jsxs("p",{className:"text-gray-600",children:["NIP: ",Pe.nip," | Department: ",Pe.department]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[a.jsxs("div",{className:"bg-blue-50 rounded-xl p-4 border border-blue-200",children:[a.jsx("p",{className:"text-sm text-blue-600 font-medium",children:"Score Bulan Ini"}),a.jsxs("p",{className:"text-2xl font-bold text-blue-900",children:[ze.toFixed(0),"%"]})]}),a.jsxs("div",{className:"bg-green-50 rounded-xl p-4 border border-green-200",children:[a.jsx("p",{className:"text-sm text-green-600 font-medium",children:"Total Laporan"}),a.jsx("p",{className:"text-2xl font-bold text-green-900",children:Ne.length})]}),a.jsxs("div",{className:"bg-orange-50 rounded-xl p-4 border border-orange-200",children:[a.jsx("p",{className:"text-sm text-orange-600 font-medium",children:"Status Hari Ini"}),a.jsx("div",{className:"mt-1",children:Re(Pe.nip)})]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-200",children:[a.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-500",children:"Tanggal"}),a.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-500",children:"Area"}),a.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-500",children:"Status"}),a.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-500",children:"Keterangan"})]})}),a.jsx("tbody",{children:Ne.map(me=>a.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[a.jsx("td",{className:"py-3 text-sm",children:me.tanggal}),a.jsx("td",{className:"py-3 text-sm",children:me.area}),a.jsx("td",{className:"py-3",children:pt(me.status)}),a.jsx("td",{className:"py-3 text-sm max-w-xs truncate",children:me.keterangan})]},me.id))})]})})]})},qe=()=>a.jsxs(a.Fragment,{children:[a.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-6 bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-bold text-gray-900",children:o.toLocaleDateString("id-ID",{month:"long",year:"numeric"})}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>l(new Date(o.getFullYear(),o.getMonth()-1,1)),className:"w-8 h-8 rounded-full bg-white shadow-sm flex items-center justify-center hover:shadow-md transition-shadow",children:a.jsx(hd,{size:16,className:"text-gray-700"})}),a.jsx("button",{onClick:()=>l(new Date(o.getFullYear(),o.getMonth()+1,1)),className:"w-8 h-8 rounded-full bg-white shadow-sm flex items-center justify-center hover:shadow-md transition-shadow",children:a.jsx(ta,{size:16,className:"text-gray-700"})})]})]}),a.jsx("div",{className:"grid grid-cols-7 gap-2 mb-4",children:["Min","Sen","Sel","Rab","Kam","Jum","Sab"].map(Pe=>a.jsx("div",{className:"text-center text-xs text-gray-500 font-medium",children:Pe},Pe))}),a.jsx("div",{className:"grid grid-cols-7 gap-2",children:Ke().map((Pe,Ne)=>{const ze=new Date(o.getFullYear(),o.getMonth(),Pe.date).getDay(),me=Ne===0?ze+1:void 0;return a.jsxs(O.button,{onClick:()=>{const De=new Date(o.getFullYear(),o.getMonth(),Pe.date);l(De),u(!0)},whileHover:{scale:1.05},whileTap:{scale:.95},className:`h-12 rounded-xl flex flex-col items-center justify-center transition-all ${Pe.isToday?"bg-blue-600 text-white shadow-md":Pe.hasReport?"bg-green-100 text-green-800 border border-green-200":"bg-white text-gray-700 hover:bg-gray-50 border border-gray-200"}`,style:me?{gridColumnStart:me}:void 0,children:[a.jsx("span",{className:"text-sm font-medium",children:Pe.date}),Pe.hasReport&&a.jsx(fr,{size:12,className:"mt-1"})]},Pe.date)})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[a.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md p-4 border border-blue-100",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Score Bulan Ini"}),a.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[ge().toFixed(0),"%"]})]}),a.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:a.jsx(fr,{className:"text-blue-600",size:24})})]}),a.jsx("div",{className:"mt-2 w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-green-500 h-2 rounded-full transition-all duration-500",style:{width:`${ge()}%`}})})]}),a.jsx(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-2xl shadow-md p-4 border border-blue-100",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Total Laporan"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:ce().length})]}),a.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:a.jsx(ga,{className:"text-green-600",size:24})})]})}),a.jsx(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-2xl shadow-md p-4 border border-blue-100",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Area Bertanggung Jawab"}),a.jsxs("p",{className:"text-lg font-bold text-gray-900",children:[g.filter(Pe=>Pe.penanggungJawab===(e==null?void 0:e.name)).length," Area"]})]}),a.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center",children:a.jsx(gs,{className:"text-purple-600",size:24})})]})})]})]}),tt=()=>{Array.from(new Set(g.map(me=>me.department)));const Pe="Produksi",ze=Array.from(new Set(f.filter(me=>me.department===Pe).map(me=>({nama:me.nama,nip:me.nip,department:me.department})))).filter(me=>me.nama.toLowerCase().includes(W.toLowerCase())||me.nip.includes(W));return z&&z.type==="karyawan"?Me(z.data):a.jsx("div",{className:"space-y-6",children:a.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-6 space-y-4 md:space-y-0",children:[a.jsxs("h3",{className:"text-lg font-bold text-gray-900",children:["Laporan Department ",Pe]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Da,{size:16,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Cari karyawan...",value:W,onChange:me=>H(me.target.value),className:"pl-10 pr-4 py-2 rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsx("select",{value:M,onChange:me=>B(Number(me.target.value)),className:"px-4 py-2 rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500",children:Array.from({length:12},(me,De)=>a.jsx("option",{value:De,children:new Date(2024,De).toLocaleDateString("id-ID",{month:"long"})},De))})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[a.jsxs("div",{className:"bg-blue-50 rounded-xl p-4 border border-blue-200",children:[a.jsx("p",{className:"text-sm text-blue-600 font-medium",children:"Score Department"}),a.jsxs("p",{className:"text-2xl font-bold text-blue-900",children:[Ee(Pe,M,F).toFixed(0),"%"]})]}),a.jsxs("div",{className:"bg-green-50 rounded-xl p-4 border border-green-200",children:[a.jsx("p",{className:"text-sm text-green-600 font-medium",children:"Total Karyawan"}),a.jsx("p",{className:"text-2xl font-bold text-green-900",children:ze.length})]}),a.jsxs("div",{className:"bg-purple-50 rounded-xl p-4 border border-purple-200",children:[a.jsx("p",{className:"text-sm text-purple-600 font-medium",children:"Karyawan Aktif"}),a.jsx("p",{className:"text-2xl font-bold text-purple-900",children:ze.filter(me=>{const De=Q(new Date);return f.some(je=>je.nip===me.nip&&je.tanggal===De)}).length})]}),a.jsxs("div",{className:"bg-orange-50 rounded-xl p-4 border border-orange-200",children:[a.jsx("p",{className:"text-sm text-orange-600 font-medium",children:"Rata-rata Score"}),a.jsxs("p",{className:"text-2xl font-bold text-orange-900",children:[ze.length>0?(ze.reduce((me,De)=>me+Ce(De.nip,M,F),0)/ze.length).toFixed(0):0,"%"]})]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-200",children:[a.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-500",children:"Nama"}),a.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-500",children:"NIP"}),a.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-500",children:"Score Bulan Ini"}),a.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-500",children:"Status Hari Ini"}),a.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-500",children:"Total Laporan"}),a.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-500",children:"Aksi"})]})}),a.jsx("tbody",{children:ze.map(me=>{const De=Ce(me.nip,M,F),je=f.filter(We=>We.nip===me.nip&&new Date(We.createdAt).getMonth()===M);return a.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[a.jsx("td",{className:"py-3 text-sm font-medium",children:me.nama}),a.jsx("td",{className:"py-3 text-sm",children:me.nip}),a.jsx("td",{className:"py-3",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("span",{className:"text-sm font-semibold",children:[De.toFixed(0),"%"]}),a.jsx("div",{className:"w-20 bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:`h-2 rounded-full ${De>=80?"bg-green-500":De>=60?"bg-yellow-500":"bg-red-500"}`,style:{width:`${De}%`}})})]})}),a.jsx("td",{className:"py-3",children:Re(me.nip)}),a.jsx("td",{className:"py-3 text-sm",children:je.length}),a.jsx("td",{className:"py-3",children:a.jsx("button",{onClick:()=>Y({type:"karyawan",data:me}),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Lihat Detail"})})]},me.nip)})})]})})]})})},Ve=()=>{const Pe=[2023,2024,2025],Ne=g.filter(me=>me.penanggungJawab==="Budi Santoso"),ze=Array.from(new Set(f.filter(me=>Ne.some(De=>De.nama===me.area)).map(me=>({nama:me.nama,nip:me.nip,department:me.department}))));return z&&z.type==="karyawan"?Me(z.data):a.jsxs("div",{className:"space-y-6",children:[a.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-6 space-y-4 md:space-y-0",children:[a.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Score Overview Area Bertanggung Jawab"}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("select",{value:F,onChange:me=>A(Number(me.target.value)),className:"px-4 py-2 rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500",children:Pe.map(me=>a.jsx("option",{value:me,children:me},me))}),a.jsx("select",{value:M,onChange:me=>B(Number(me.target.value)),className:"px-4 py-2 rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500",children:Array.from({length:12},(me,De)=>a.jsx("option",{value:De,children:new Date(2024,De).toLocaleDateString("id-ID",{month:"long"})},De))})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:Ne.map(me=>{const De=f.filter(rt=>rt.area===me.nama&&new Date(rt.createdAt).getMonth()===M),je=new Date(F,M+1,0).getDate(),We=je>0?De.length/je*100:0;return a.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4 hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"flex justify-between items-start mb-3",children:[a.jsx("h4",{className:"font-semibold text-gray-900",children:me.nama}),a.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-xs font-medium",children:me.department})]}),a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsxs("span",{className:"text-2xl font-bold text-blue-600",children:[Math.min(We,100).toFixed(0),"%"]}),a.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:a.jsx(fme,{size:20,className:"text-blue-600"})})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-2",children:a.jsx("div",{className:"bg-green-500 h-2 rounded-full transition-all duration-500",style:{width:`${Math.min(We,100)}%`}})}),a.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[a.jsxs("span",{children:[De.length," laporan"]}),a.jsxs("span",{children:[Math.round(We),"% tercover"]})]})]},me.id)})})]}),a.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-6 space-y-4 md:space-y-0",children:[a.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Laporan Per Karyawan"}),a.jsx("div",{className:"flex gap-3",children:a.jsxs("div",{className:"relative",children:[a.jsx(Da,{size:16,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Cari karyawan...",value:W,onChange:me=>H(me.target.value),className:"pl-10 pr-4 py-2 rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500"})]})})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-200",children:[a.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-500",children:"Nama"}),a.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-500",children:"NIP"}),a.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-500",children:"Department"}),a.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-500",children:"Score Bulan Ini"}),a.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-500",children:"Status Hari Ini"}),a.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-500",children:"Total Laporan"}),a.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-500",children:"Aksi"})]})}),a.jsx("tbody",{children:ze.map(me=>{const De=Ce(me.nip,M,F),je=f.filter(We=>We.nip===me.nip&&new Date(We.createdAt).getMonth()===M);return a.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[a.jsx("td",{className:"py-3 text-sm font-medium",children:me.nama}),a.jsx("td",{className:"py-3 text-sm",children:me.nip}),a.jsx("td",{className:"py-3 text-sm",children:me.department}),a.jsx("td",{className:"py-3",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("span",{className:"text-sm font-semibold",children:[De.toFixed(0),"%"]}),a.jsx("div",{className:"w-20 bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:`h-2 rounded-full ${De>=80?"bg-green-500":De>=60?"bg-yellow-500":"bg-red-500"}`,style:{width:`${De}%`}})})]})}),a.jsx("td",{className:"py-3",children:Re(me.nip)}),a.jsx("td",{className:"py-3 text-sm",children:je.length}),a.jsx("td",{className:"py-3",children:a.jsx("button",{onClick:()=>Y({type:"karyawan",data:me}),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Lihat Detail"})})]},me.nip)})})]})})]})]})},Te=()=>{const Pe=Array.from(new Set(g.map(ze=>ze.department))),Ne=Array.from(new Set(f.map(ze=>({nama:ze.nama,nip:ze.nip,department:ze.department}))));return z&&z.type==="karyawan"?Me(z.data):a.jsxs("div",{className:"space-y-6",children:[a.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-6 space-y-4 md:space-y-0",children:[a.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Executive Dashboard 5S"}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("select",{value:L,onChange:ze=>R(ze.target.value),className:"px-4 py-2 rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"Semua Department"}),Pe.map(ze=>a.jsx("option",{value:ze,children:ze},ze))]}),a.jsxs("select",{value:F,onChange:ze=>A(Number(ze.target.value)),className:"px-4 py-2 rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:2023,children:"2023"}),a.jsx("option",{value:2024,children:"2024"}),a.jsx("option",{value:2025,children:"2025"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[a.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl p-4 text-white",children:[a.jsx("p",{className:"text-sm font-medium",children:"Total Department"}),a.jsx("p",{className:"text-2xl font-bold",children:Pe.length}),a.jsx("p",{className:"text-xs opacity-90 mt-1",children:"Active departments"})]}),a.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-xl p-4 text-white",children:[a.jsx("p",{className:"text-sm font-medium",children:"Total Karyawan"}),a.jsx("p",{className:"text-2xl font-bold",children:Ne.length}),a.jsx("p",{className:"text-xs opacity-90 mt-1",children:"Registered employees"})]}),a.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl p-4 text-white",children:[a.jsx("p",{className:"text-sm font-medium",children:"Total Laporan"}),a.jsx("p",{className:"text-2xl font-bold",children:f.length}),a.jsx("p",{className:"text-xs opacity-90 mt-1",children:"This year"})]}),a.jsxs("div",{className:"bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl p-4 text-white",children:[a.jsx("p",{className:"text-sm font-medium",children:"Rata-rata Score"}),a.jsxs("p",{className:"text-2xl font-bold",children:[Pe.length>0?(Pe.reduce((ze,me)=>ze+Ee(me,M,F),0)/Pe.length).toFixed(0):0,"%"]}),a.jsx("p",{className:"text-xs opacity-90 mt-1",children:"Company wide"})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Performance Department"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-200",children:[a.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-500",children:"Department"}),a.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-500",children:"Score Bulan Ini"}),a.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-500",children:"Total Karyawan"}),a.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-500",children:"Karyawan Aktif"}),a.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-500",children:"Trend"})]})}),a.jsx("tbody",{children:Pe.map(ze=>{const me=Ee(ze,M,F),De=Ne.filter(We=>We.department===ze),je=De.filter(We=>{const rt=Q(new Date);return f.some(ve=>ve.nip===We.nip&&ve.tanggal===rt)}).length;return a.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[a.jsx("td",{className:"py-3 text-sm font-medium",children:ze}),a.jsx("td",{className:"py-3",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("span",{className:"text-sm font-semibold",children:[me.toFixed(0),"%"]}),a.jsx("div",{className:"w-20 bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:`h-2 rounded-full ${me>=80?"bg-green-500":me>=60?"bg-yellow-500":"bg-red-500"}`,style:{width:`${me}%`}})})]})}),a.jsx("td",{className:"py-3 text-sm",children:De.length}),a.jsx("td",{className:"py-3 text-sm",children:je}),a.jsx("td",{className:"py-3",children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${me>=80?"bg-green-100 text-green-800":me>=60?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:me>=80?"↑ Excellent":me>=60?"→ Good":"↓ Need Improvement"})})]},ze)})})]})})]})]}),a.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-6 space-y-4 md:space-y-0",children:[a.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Laporan Semua Karyawan"}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Da,{size:16,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Cari karyawan...",value:W,onChange:ze=>H(ze.target.value),className:"pl-10 pr-4 py-2 rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("select",{value:L,onChange:ze=>R(ze.target.value),className:"px-4 py-2 rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"Semua Department"}),Pe.map(ze=>a.jsx("option",{value:ze,children:ze},ze))]})]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-200",children:[a.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-500",children:"Nama"}),a.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-500",children:"NIP"}),a.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-500",children:"Department"}),a.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-500",children:"Score Bulan Ini"}),a.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-500",children:"Status Hari Ini"}),a.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-500",children:"Total Laporan"}),a.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-500",children:"Aksi"})]})}),a.jsx("tbody",{children:Ne.filter(ze=>!L||ze.department===L).filter(ze=>ze.nama.toLowerCase().includes(W.toLowerCase())||ze.nip.includes(W)).map(ze=>{const me=Ce(ze.nip,M,F),De=f.filter(je=>je.nip===ze.nip&&new Date(je.createdAt).getMonth()===M);return a.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[a.jsx("td",{className:"py-3 text-sm font-medium",children:ze.nama}),a.jsx("td",{className:"py-3 text-sm",children:ze.nip}),a.jsx("td",{className:"py-3 text-sm",children:ze.department}),a.jsx("td",{className:"py-3",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("span",{className:"text-sm font-semibold",children:[me.toFixed(0),"%"]}),a.jsx("div",{className:"w-20 bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:`h-2 rounded-full ${me>=80?"bg-green-500":me>=60?"bg-yellow-500":"bg-red-500"}`,style:{width:`${me}%`}})})]})}),a.jsx("td",{className:"py-3",children:Re(ze.nip)}),a.jsx("td",{className:"py-3 text-sm",children:De.length}),a.jsx("td",{className:"py-3",children:a.jsx("button",{onClick:()=>Y({type:"karyawan",data:ze}),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Lihat Detail"})})]},ze.nip)})})]})})]})]})},le=()=>{if(z)return Me(z.data);switch(D){case"karyawan":return qe();case"komite":return tt();case"penanggungjawab":return Ve();case"management":return Te();default:return Te()}},Je=re(),Ge=Ke();return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Genba Action",mainTitleHighlight:"Management",description:`Laporan ${D==="karyawan"?"harian penanggung jawab area kerja":D==="komite"?"department untuk komite 5S":D==="penanggungjawab"?"overview area bertanggung jawab":"executive dashboard management"}`,icon:a.jsx(ga,{}),isMobile:s,toggleSidebar:J}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[z&&a.jsx("div",{className:"mb-4",children:a.jsxs("button",{onClick:()=>Y(null),className:"flex items-center gap-2 text-blue-600 hover:text-blue-800 font-medium",children:[a.jsx(hn,{size:16}),"Kembali ke ",D==="komite"?"Komite":D==="penanggungjawab"?"PJ Area":"Management"]})}),a.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Genba ",a.jsx("span",{className:"text-blue-600",children:"Action"})]}),a.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:D==="karyawan"?"Effortlessly track, manage, and complete your daily tasks and activities to optimize productivity.":D==="komite"?"Monitor and manage 5S activities across your department with comprehensive reporting.":D==="penanggungjawab"?"Oversee area performance and compliance with monthly score tracking.":"Executive overview of all 5S activities across departments and areas."})]}),!z&&a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 px-4 py-2",children:a.jsx("span",{className:"text-sm font-medium text-gray-700",children:(ut=oe.find(Pe=>Pe.id===D))==null?void 0:ut.name})}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>E("karyawan"),className:"px-3 py-2 bg-blue-600 text-white rounded-lg text-sm hover:bg-blue-700 transition-colors",children:"Karyawan"}),a.jsx("button",{onClick:()=>E("komite"),className:"px-3 py-2 bg-green-600 text-white rounded-lg text-sm hover:bg-green-700 transition-colors",children:"Komite"}),a.jsx("button",{onClick:()=>E("penanggungjawab"),className:"px-3 py-2 bg-purple-600 text-white rounded-lg text-sm hover:bg-purple-700 transition-colors",children:"PJ Area"}),a.jsx("button",{onClick:()=>E("management"),className:"px-3 py-2 bg-orange-600 text-white rounded-lg text-sm hover:bg-orange-700 transition-colors",children:"Management"})]})]})]}),le(),D==="karyawan"&&a.jsxs(a.Fragment,{children:[a.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100 mb-6",children:[a.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Profile Pelapor"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:a.jsx(cn,{className:"text-blue-600",size:20})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-gray-900",children:(e==null?void 0:e.name)||"Budi Santoso"}),a.jsxs("p",{className:"text-sm text-gray-500",children:["NIP: ",(e==null?void 0:e.nip)||"12345"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500",children:"Department:"}),a.jsx("span",{className:"font-medium",children:(e==null?void 0:e.department_name)||(e==null?void 0:e.department)||"Produksi"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500",children:"Pengawas Area:"}),a.jsx("span",{className:"font-medium",children:(Je==null?void 0:Je.pengawas)||"Ahmad Wijaya"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500",children:"Komite 5S:"}),a.jsx("span",{className:"font-medium",children:`Komite5s ${(e==null?void 0:e.department)||"Produksi"}`})]})]})]})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Map of the Path"}),a.jsx("div",{className:"bg-gray-100 rounded-xl p-4 h-48 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(gs,{size:32,className:"text-gray-400 mx-auto mb-2"}),a.jsxs("p",{className:"text-gray-500 text-sm",children:["Peta denah area ",(Je==null?void 0:Je.nama)||"Produksi Line A"]}),a.jsx("button",{className:"mt-2 px-4 py-2 bg-blue-600 text-white rounded-lg text-sm hover:bg-blue-700 transition-colors",children:"Lihat Denah Lengkap"})]})})]})]}),a.jsxs("div",{className:"mt-6",children:[a.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"3D Area Map"}),a.jsx("div",{className:"bg-gray-100 rounded-xl p-4 h-64 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(gs,{size:32,className:"text-gray-400 mx-auto mb-2"}),a.jsxs("p",{className:"text-gray-500 text-sm",children:["Gambar 3D area ",(Je==null?void 0:Je.nama)||"Produksi Line A"]}),a.jsx("button",{className:"mt-2 px-4 py-2 bg-green-600 text-white rounded-lg text-sm hover:bg-green-700 transition-colors",children:"Lihat 3D Model"})]})})]})]}),a.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:[a.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Laporan Bulanan"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-2",children:Ge.map(Pe=>a.jsx("div",{className:`h-12 rounded-lg flex items-center justify-center ${Pe.hasReport?"bg-green-100 text-green-800 border border-green-200":"bg-red-100 text-red-800 border border-red-200"}`,children:a.jsx("span",{className:"text-sm font-medium",children:Pe.date})},Pe.date))})]})]})]})]}),a.jsx(ar,{children:c&&a.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs(O.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"p-6 border-b border-gray-200",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Form Laporan Harian"}),a.jsx("button",{onClick:()=>u(!1),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:a.jsx(Ft,{size:20})})]}),a.jsxs("p",{className:"text-gray-600 text-sm mt-1",children:["Tanggal: ",Q(o)]})]}),a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nama"}),a.jsx("input",{type:"text",value:(e==null?void 0:e.name)||"Budi Santoso",disabled:!0,className:"w-full px-4 py-3 rounded-xl border border-gray-200 bg-gray-50 text-gray-600"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"NIP"}),a.jsx("input",{type:"text",value:(e==null?void 0:e.nip)||"12345",disabled:!0,className:"w-full px-4 py-3 rounded-xl border border-gray-200 bg-gray-50 text-gray-600"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Department"}),a.jsx("input",{type:"text",value:(e==null?void 0:e.department_name)||(e==null?void 0:e.department)||"Produksi",disabled:!0,className:"w-full px-4 py-3 rounded-xl border border-gray-200 bg-gray-50 text-gray-600"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Komite 5S"}),a.jsx("input",{type:"text",value:`Komite5s ${(e==null?void 0:e.department)||"Produksi"}`,disabled:!0,className:"w-full px-4 py-3 rounded-xl border border-gray-200 bg-gray-50 text-gray-600"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tanggal *"}),a.jsx("input",{type:"text",value:Q(o),disabled:!0,className:"w-full px-4 py-3 rounded-xl border border-gray-200 bg-gray-50 text-gray-600"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Area *"}),a.jsxs("select",{value:v,onChange:Pe=>w(Pe.target.value),className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"",children:"Pilih Area Kerja ..."}),g.map(Pe=>a.jsx("option",{value:Pe.id,children:Pe.nama},Pe.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Penanggung Jawab Area"}),a.jsx("input",{type:"text",value:(Je==null?void 0:Je.penanggungJawab)||"",disabled:!0,className:"w-full px-4 py-3 rounded-xl border border-gray-200 bg-gray-50 text-gray-600"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Keterangan"}),a.jsx("textarea",{value:y,onChange:Pe=>N(Pe.target.value),rows:3,className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",placeholder:"Tambahkan keterangan jika diperlukan..."})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Lampiran Foto * ",k.length>0&&`(${k.length} foto)`]}),k.length>0&&a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2 mb-3",children:k.map((Pe,Ne)=>a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:Pe,alt:`Lampiran ${Ne+1}`,className:"w-full h-24 object-cover rounded-lg"}),a.jsx("button",{onClick:()=>se(Ne),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors",children:a.jsx(Ft,{size:14})})]},Ne))}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:fe,className:"flex-1 py-3 bg-blue-600 text-white rounded-xl font-medium hover:bg-blue-700 transition-colors flex items-center justify-center gap-2",children:[a.jsx(eM,{size:20}),"Buka Kamera"]}),k.length>0&&a.jsxs("button",{onClick:()=>S([]),className:"px-4 py-3 bg-red-600 text-white rounded-xl font-medium hover:bg-red-700 transition-colors flex items-center justify-center gap-2",children:[a.jsx(In,{size:20}),"Hapus Semua"]})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"* Photo Gallery Not Allowed - Hanya foto dari kamera yang diperbolehkan"})]})]}),a.jsxs("div",{className:"p-6 border-t border-gray-200 flex gap-3",children:[a.jsx("button",{onClick:()=>u(!1),className:"flex-1 py-3 bg-gray-100 text-gray-700 rounded-xl font-medium hover:bg-gray-200 transition-colors",children:"Cancel"}),a.jsxs("button",{onClick:bt,disabled:!v||k.length===0,className:"flex-1 py-3 bg-green-600 text-white rounded-xl font-medium hover:bg-green-700 transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[a.jsx(vn,{size:20}),"Save"]})]})]})})}),a.jsx(ar,{children:T&&a.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black flex flex-col items-center justify-center z-50",children:a.jsxs("div",{className:"relative w-full max-w-2xl",children:[a.jsx("video",{ref:q,autoPlay:!0,playsInline:!0,className:"w-full h-auto"}),a.jsxs("div",{className:"absolute bottom-6 left-1/2 transform -translate-x-1/2 flex gap-4",children:[a.jsx("button",{onClick:ye,className:"w-16 h-16 bg-white rounded-full border-4 border-gray-300 hover:border-gray-400 transition-colors"}),a.jsx("button",{onClick:ae,className:"w-16 h-16 bg-red-600 text-white rounded-full flex items-center justify-center hover:bg-red-700 transition-colors",children:a.jsx(Ft,{size:24})})]})]})})})]})};var ag={},l6,xY;function pVe(){return xY||(xY=1,l6=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),l6}var c6={},Ph={},bY;function o0(){if(bY)return Ph;bY=1;let t;const e=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return Ph.getSymbolSize=function(n){if(!n)throw new Error('"version" cannot be null or undefined');if(n<1||n>40)throw new Error('"version" should be in range from 1 to 40');return n*4+17},Ph.getSymbolTotalCodewords=function(n){return e[n]},Ph.getBCHDigit=function(r){let n=0;for(;r!==0;)n++,r>>>=1;return n},Ph.setToSJISFunction=function(n){if(typeof n!="function")throw new Error('"toSJISFunc" is not a valid function.');t=n},Ph.isKanjiModeEnabled=function(){return typeof t<"u"},Ph.toSJIS=function(n){return t(n)},Ph}var u6={},yY;function $L(){return yY||(yY=1,(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+r)}}t.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4},t.from=function(n,s){if(t.isValid(n))return n;try{return e(n)}catch{return s}}})(u6)),u6}var d6,vY;function gVe(){if(vY)return d6;vY=1;function t(){this.buffer=[],this.length=0}return t.prototype={get:function(e){const r=Math.floor(e/8);return(this.buffer[r]>>>7-e%8&1)===1},put:function(e,r){for(let n=0;n<r;n++)this.putBit((e>>>r-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const r=Math.floor(this.length/8);this.buffer.length<=r&&this.buffer.push(0),e&&(this.buffer[r]|=128>>>this.length%8),this.length++}},d6=t,d6}var f6,wY;function xVe(){if(wY)return f6;wY=1;function t(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}return t.prototype.set=function(e,r,n,s){const i=e*this.size+r;this.data[i]=n,s&&(this.reservedBit[i]=!0)},t.prototype.get=function(e,r){return this.data[e*this.size+r]},t.prototype.xor=function(e,r,n){this.data[e*this.size+r]^=n},t.prototype.isReserved=function(e,r){return this.reservedBit[e*this.size+r]},f6=t,f6}var h6={},jY;function bVe(){return jY||(jY=1,(function(t){const e=o0().getSymbolSize;t.getRowColCoords=function(n){if(n===1)return[];const s=Math.floor(n/7)+2,i=e(n),o=i===145?26:Math.ceil((i-13)/(2*s-2))*2,l=[i-7];for(let c=1;c<s-1;c++)l[c]=l[c-1]-o;return l.push(6),l.reverse()},t.getPositions=function(n){const s=[],i=t.getRowColCoords(n),o=i.length;for(let l=0;l<o;l++)for(let c=0;c<o;c++)l===0&&c===0||l===0&&c===o-1||l===o-1&&c===0||s.push([i[l],i[c]]);return s}})(h6)),h6}var m6={},NY;function yVe(){if(NY)return m6;NY=1;const t=o0().getSymbolSize,e=7;return m6.getPositions=function(n){const s=t(n);return[[0,0],[s-e,0],[0,s-e]]},m6}var p6={},SY;function vVe(){return SY||(SY=1,(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(s){return s!=null&&s!==""&&!isNaN(s)&&s>=0&&s<=7},t.from=function(s){return t.isValid(s)?parseInt(s,10):void 0},t.getPenaltyN1=function(s){const i=s.size;let o=0,l=0,c=0,u=null,f=null;for(let h=0;h<i;h++){l=c=0,u=f=null;for(let g=0;g<i;g++){let p=s.get(h,g);p===u?l++:(l>=5&&(o+=e.N1+(l-5)),u=p,l=1),p=s.get(g,h),p===f?c++:(c>=5&&(o+=e.N1+(c-5)),f=p,c=1)}l>=5&&(o+=e.N1+(l-5)),c>=5&&(o+=e.N1+(c-5))}return o},t.getPenaltyN2=function(s){const i=s.size;let o=0;for(let l=0;l<i-1;l++)for(let c=0;c<i-1;c++){const u=s.get(l,c)+s.get(l,c+1)+s.get(l+1,c)+s.get(l+1,c+1);(u===4||u===0)&&o++}return o*e.N2},t.getPenaltyN3=function(s){const i=s.size;let o=0,l=0,c=0;for(let u=0;u<i;u++){l=c=0;for(let f=0;f<i;f++)l=l<<1&2047|s.get(u,f),f>=10&&(l===1488||l===93)&&o++,c=c<<1&2047|s.get(f,u),f>=10&&(c===1488||c===93)&&o++}return o*e.N3},t.getPenaltyN4=function(s){let i=0;const o=s.data.length;for(let c=0;c<o;c++)i+=s.data[c];return Math.abs(Math.ceil(i*100/o/5)-10)*e.N4};function r(n,s,i){switch(n){case t.Patterns.PATTERN000:return(s+i)%2===0;case t.Patterns.PATTERN001:return s%2===0;case t.Patterns.PATTERN010:return i%3===0;case t.Patterns.PATTERN011:return(s+i)%3===0;case t.Patterns.PATTERN100:return(Math.floor(s/2)+Math.floor(i/3))%2===0;case t.Patterns.PATTERN101:return s*i%2+s*i%3===0;case t.Patterns.PATTERN110:return(s*i%2+s*i%3)%2===0;case t.Patterns.PATTERN111:return(s*i%3+(s+i)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}t.applyMask=function(s,i){const o=i.size;for(let l=0;l<o;l++)for(let c=0;c<o;c++)i.isReserved(c,l)||i.xor(c,l,r(s,c,l))},t.getBestMask=function(s,i){const o=Object.keys(t.Patterns).length;let l=0,c=1/0;for(let u=0;u<o;u++){i(u),t.applyMask(u,s);const f=t.getPenaltyN1(s)+t.getPenaltyN2(s)+t.getPenaltyN3(s)+t.getPenaltyN4(s);t.applyMask(u,s),f<c&&(c=f,l=u)}return l}})(p6)),p6}var S2={},kY;function zse(){if(kY)return S2;kY=1;const t=$L(),e=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],r=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return S2.getBlocksCount=function(s,i){switch(i){case t.L:return e[(s-1)*4+0];case t.M:return e[(s-1)*4+1];case t.Q:return e[(s-1)*4+2];case t.H:return e[(s-1)*4+3];default:return}},S2.getTotalCodewordsCount=function(s,i){switch(i){case t.L:return r[(s-1)*4+0];case t.M:return r[(s-1)*4+1];case t.Q:return r[(s-1)*4+2];case t.H:return r[(s-1)*4+3];default:return}},S2}var g6={},oy={},CY;function wVe(){if(CY)return oy;CY=1;const t=new Uint8Array(512),e=new Uint8Array(256);return(function(){let n=1;for(let s=0;s<255;s++)t[s]=n,e[n]=s,n<<=1,n&256&&(n^=285);for(let s=255;s<512;s++)t[s]=t[s-255]})(),oy.log=function(n){if(n<1)throw new Error("log("+n+")");return e[n]},oy.exp=function(n){return t[n]},oy.mul=function(n,s){return n===0||s===0?0:t[e[n]+e[s]]},oy}var _Y;function jVe(){return _Y||(_Y=1,(function(t){const e=wVe();t.mul=function(n,s){const i=new Uint8Array(n.length+s.length-1);for(let o=0;o<n.length;o++)for(let l=0;l<s.length;l++)i[o+l]^=e.mul(n[o],s[l]);return i},t.mod=function(n,s){let i=new Uint8Array(n);for(;i.length-s.length>=0;){const o=i[0];for(let c=0;c<s.length;c++)i[c]^=e.mul(s[c],o);let l=0;for(;l<i.length&&i[l]===0;)l++;i=i.slice(l)}return i},t.generateECPolynomial=function(n){let s=new Uint8Array([1]);for(let i=0;i<n;i++)s=t.mul(s,new Uint8Array([1,e.exp(i)]));return s}})(g6)),g6}var x6,AY;function NVe(){if(AY)return x6;AY=1;const t=jVe();function e(r){this.genPoly=void 0,this.degree=r,this.degree&&this.initialize(this.degree)}return e.prototype.initialize=function(n){this.degree=n,this.genPoly=t.generateECPolynomial(this.degree)},e.prototype.encode=function(n){if(!this.genPoly)throw new Error("Encoder not initialized");const s=new Uint8Array(n.length+this.degree);s.set(n);const i=t.mod(s,this.genPoly),o=this.degree-i.length;if(o>0){const l=new Uint8Array(this.degree);return l.set(i,o),l}return i},x6=e,x6}var b6={},y6={},v6={},TY;function qse(){return TY||(TY=1,v6.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}),v6}var Fu={},MY;function Use(){if(MY)return Fu;MY=1;const t="[0-9]+",e="[A-Z $%*+\\-./:]+";let r="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";r=r.replace(/u/g,"\\u");const n="(?:(?![A-Z0-9 $%*+\\-./:]|"+r+`)(?:.|[\r
]))+`;Fu.KANJI=new RegExp(r,"g"),Fu.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),Fu.BYTE=new RegExp(n,"g"),Fu.NUMERIC=new RegExp(t,"g"),Fu.ALPHANUMERIC=new RegExp(e,"g");const s=new RegExp("^"+r+"$"),i=new RegExp("^"+t+"$"),o=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return Fu.testKanji=function(c){return s.test(c)},Fu.testNumeric=function(c){return i.test(c)},Fu.testAlphanumeric=function(c){return o.test(c)},Fu}var EY;function l0(){return EY||(EY=1,(function(t){const e=qse(),r=Use();t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(i,o){if(!i.ccBits)throw new Error("Invalid mode: "+i);if(!e.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?i.ccBits[0]:o<27?i.ccBits[1]:i.ccBits[2]},t.getBestModeForData=function(i){return r.testNumeric(i)?t.NUMERIC:r.testAlphanumeric(i)?t.ALPHANUMERIC:r.testKanji(i)?t.KANJI:t.BYTE},t.toString=function(i){if(i&&i.id)return i.id;throw new Error("Invalid mode")},t.isValid=function(i){return i&&i.bit&&i.ccBits};function n(s){if(typeof s!="string")throw new Error("Param is not a string");switch(s.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+s)}}t.from=function(i,o){if(t.isValid(i))return i;try{return n(i)}catch{return o}}})(y6)),y6}var OY;function SVe(){return OY||(OY=1,(function(t){const e=o0(),r=zse(),n=$L(),s=l0(),i=qse(),o=7973,l=e.getBCHDigit(o);function c(g,p,v){for(let w=1;w<=40;w++)if(p<=t.getCapacity(w,v,g))return w}function u(g,p){return s.getCharCountIndicator(g,p)+4}function f(g,p){let v=0;return g.forEach(function(w){const y=u(w.mode,p);v+=y+w.getBitsLength()}),v}function h(g,p){for(let v=1;v<=40;v++)if(f(g,v)<=t.getCapacity(v,p,s.MIXED))return v}t.from=function(p,v){return i.isValid(p)?parseInt(p,10):v},t.getCapacity=function(p,v,w){if(!i.isValid(p))throw new Error("Invalid QR Code version");typeof w>"u"&&(w=s.BYTE);const y=e.getSymbolTotalCodewords(p),N=r.getTotalCodewordsCount(p,v),k=(y-N)*8;if(w===s.MIXED)return k;const S=k-u(w,p);switch(w){case s.NUMERIC:return Math.floor(S/10*3);case s.ALPHANUMERIC:return Math.floor(S/11*2);case s.KANJI:return Math.floor(S/13);case s.BYTE:default:return Math.floor(S/8)}},t.getBestVersionForData=function(p,v){let w;const y=n.from(v,n.M);if(Array.isArray(p)){if(p.length>1)return h(p,y);if(p.length===0)return 1;w=p[0]}else w=p;return c(w.mode,w.getLength(),y)},t.getEncodedBits=function(p){if(!i.isValid(p)||p<7)throw new Error("Invalid QR Code version");let v=p<<12;for(;e.getBCHDigit(v)-l>=0;)v^=o<<e.getBCHDigit(v)-l;return p<<12|v}})(b6)),b6}var w6={},DY;function kVe(){if(DY)return w6;DY=1;const t=o0(),e=1335,r=21522,n=t.getBCHDigit(e);return w6.getEncodedBits=function(i,o){const l=i.bit<<3|o;let c=l<<10;for(;t.getBCHDigit(c)-n>=0;)c^=e<<t.getBCHDigit(c)-n;return(l<<10|c)^r},w6}var j6={},N6,PY;function CVe(){if(PY)return N6;PY=1;const t=l0();function e(r){this.mode=t.NUMERIC,this.data=r.toString()}return e.getBitsLength=function(n){return 10*Math.floor(n/3)+(n%3?n%3*3+1:0)},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(n){let s,i,o;for(s=0;s+3<=this.data.length;s+=3)i=this.data.substr(s,3),o=parseInt(i,10),n.put(o,10);const l=this.data.length-s;l>0&&(i=this.data.substr(s),o=parseInt(i,10),n.put(o,l*3+1))},N6=e,N6}var S6,LY;function _Ve(){if(LY)return S6;LY=1;const t=l0(),e=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function r(n){this.mode=t.ALPHANUMERIC,this.data=n}return r.getBitsLength=function(s){return 11*Math.floor(s/2)+6*(s%2)},r.prototype.getLength=function(){return this.data.length},r.prototype.getBitsLength=function(){return r.getBitsLength(this.data.length)},r.prototype.write=function(s){let i;for(i=0;i+2<=this.data.length;i+=2){let o=e.indexOf(this.data[i])*45;o+=e.indexOf(this.data[i+1]),s.put(o,11)}this.data.length%2&&s.put(e.indexOf(this.data[i]),6)},S6=r,S6}var k6,RY;function AVe(){if(RY)return k6;RY=1;const t=l0();function e(r){this.mode=t.BYTE,typeof r=="string"?this.data=new TextEncoder().encode(r):this.data=new Uint8Array(r)}return e.getBitsLength=function(n){return n*8},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(r){for(let n=0,s=this.data.length;n<s;n++)r.put(this.data[n],8)},k6=e,k6}var C6,IY;function TVe(){if(IY)return C6;IY=1;const t=l0(),e=o0();function r(n){this.mode=t.KANJI,this.data=n}return r.getBitsLength=function(s){return s*13},r.prototype.getLength=function(){return this.data.length},r.prototype.getBitsLength=function(){return r.getBitsLength(this.data.length)},r.prototype.write=function(n){let s;for(s=0;s<this.data.length;s++){let i=e.toSJIS(this.data[s]);if(i>=33088&&i<=40956)i-=33088;else if(i>=57408&&i<=60351)i-=49472;else throw new Error("Invalid SJIS character: "+this.data[s]+`
Make sure your charset is UTF-8`);i=(i>>>8&255)*192+(i&255),n.put(i,13)}},C6=r,C6}var _6={exports:{}},FY;function MVe(){return FY||(FY=1,(function(t){var e={single_source_shortest_paths:function(r,n,s){var i={},o={};o[n]=0;var l=e.PriorityQueue.make();l.push(n,0);for(var c,u,f,h,g,p,v,w,y;!l.empty();){c=l.pop(),u=c.value,h=c.cost,g=r[u]||{};for(f in g)g.hasOwnProperty(f)&&(p=g[f],v=h+p,w=o[f],y=typeof o[f]>"u",(y||w>v)&&(o[f]=v,l.push(f,v),i[f]=u))}if(typeof s<"u"&&typeof o[s]>"u"){var N=["Could not find a path from ",n," to ",s,"."].join("");throw new Error(N)}return i},extract_shortest_path_from_predecessor_list:function(r,n){for(var s=[],i=n;i;)s.push(i),r[i],i=r[i];return s.reverse(),s},find_path:function(r,n,s){var i=e.single_source_shortest_paths(r,n,s);return e.extract_shortest_path_from_predecessor_list(i,s)},PriorityQueue:{make:function(r){var n=e.PriorityQueue,s={},i;r=r||{};for(i in n)n.hasOwnProperty(i)&&(s[i]=n[i]);return s.queue=[],s.sorter=r.sorter||n.default_sorter,s},default_sorter:function(r,n){return r.cost-n.cost},push:function(r,n){var s={value:r,cost:n};this.queue.push(s),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(_6)),_6.exports}var BY;function EVe(){return BY||(BY=1,(function(t){const e=l0(),r=CVe(),n=_Ve(),s=AVe(),i=TVe(),o=Use(),l=o0(),c=MVe();function u(N){return unescape(encodeURIComponent(N)).length}function f(N,k,S){const T=[];let _;for(;(_=N.exec(S))!==null;)T.push({data:_[0],index:_.index,mode:k,length:_[0].length});return T}function h(N){const k=f(o.NUMERIC,e.NUMERIC,N),S=f(o.ALPHANUMERIC,e.ALPHANUMERIC,N);let T,_;return l.isKanjiModeEnabled()?(T=f(o.BYTE,e.BYTE,N),_=f(o.KANJI,e.KANJI,N)):(T=f(o.BYTE_KANJI,e.BYTE,N),_=[]),k.concat(S,T,_).sort(function(E,L){return E.index-L.index}).map(function(E){return{data:E.data,mode:E.mode,length:E.length}})}function g(N,k){switch(k){case e.NUMERIC:return r.getBitsLength(N);case e.ALPHANUMERIC:return n.getBitsLength(N);case e.KANJI:return i.getBitsLength(N);case e.BYTE:return s.getBitsLength(N)}}function p(N){return N.reduce(function(k,S){const T=k.length-1>=0?k[k.length-1]:null;return T&&T.mode===S.mode?(k[k.length-1].data+=S.data,k):(k.push(S),k)},[])}function v(N){const k=[];for(let S=0;S<N.length;S++){const T=N[S];switch(T.mode){case e.NUMERIC:k.push([T,{data:T.data,mode:e.ALPHANUMERIC,length:T.length},{data:T.data,mode:e.BYTE,length:T.length}]);break;case e.ALPHANUMERIC:k.push([T,{data:T.data,mode:e.BYTE,length:T.length}]);break;case e.KANJI:k.push([T,{data:T.data,mode:e.BYTE,length:u(T.data)}]);break;case e.BYTE:k.push([{data:T.data,mode:e.BYTE,length:u(T.data)}])}}return k}function w(N,k){const S={},T={start:{}};let _=["start"];for(let D=0;D<N.length;D++){const E=N[D],L=[];for(let R=0;R<E.length;R++){const F=E[R],A=""+D+R;L.push(A),S[A]={node:F,lastCount:0},T[A]={};for(let M=0;M<_.length;M++){const B=_[M];S[B]&&S[B].node.mode===F.mode?(T[B][A]=g(S[B].lastCount+F.length,F.mode)-g(S[B].lastCount,F.mode),S[B].lastCount+=F.length):(S[B]&&(S[B].lastCount=F.length),T[B][A]=g(F.length,F.mode)+4+e.getCharCountIndicator(F.mode,k))}}_=L}for(let D=0;D<_.length;D++)T[_[D]].end=0;return{map:T,table:S}}function y(N,k){let S;const T=e.getBestModeForData(N);if(S=e.from(k,T),S!==e.BYTE&&S.bit<T.bit)throw new Error('"'+N+'" cannot be encoded with mode '+e.toString(S)+`.
 Suggested mode is: `+e.toString(T));switch(S===e.KANJI&&!l.isKanjiModeEnabled()&&(S=e.BYTE),S){case e.NUMERIC:return new r(N);case e.ALPHANUMERIC:return new n(N);case e.KANJI:return new i(N);case e.BYTE:return new s(N)}}t.fromArray=function(k){return k.reduce(function(S,T){return typeof T=="string"?S.push(y(T,null)):T.data&&S.push(y(T.data,T.mode)),S},[])},t.fromString=function(k,S){const T=h(k,l.isKanjiModeEnabled()),_=v(T),D=w(_,S),E=c.find_path(D.map,"start","end"),L=[];for(let R=1;R<E.length-1;R++)L.push(D.table[E[R]].node);return t.fromArray(p(L))},t.rawSplit=function(k){return t.fromArray(h(k,l.isKanjiModeEnabled()))}})(j6)),j6}var $Y;function OVe(){if($Y)return c6;$Y=1;const t=o0(),e=$L(),r=gVe(),n=xVe(),s=bVe(),i=yVe(),o=vVe(),l=zse(),c=NVe(),u=SVe(),f=kVe(),h=l0(),g=EVe();function p(D,E){const L=D.size,R=i.getPositions(E);for(let F=0;F<R.length;F++){const A=R[F][0],M=R[F][1];for(let B=-1;B<=7;B++)if(!(A+B<=-1||L<=A+B))for(let z=-1;z<=7;z++)M+z<=-1||L<=M+z||(B>=0&&B<=6&&(z===0||z===6)||z>=0&&z<=6&&(B===0||B===6)||B>=2&&B<=4&&z>=2&&z<=4?D.set(A+B,M+z,!0,!0):D.set(A+B,M+z,!1,!0))}}function v(D){const E=D.size;for(let L=8;L<E-8;L++){const R=L%2===0;D.set(L,6,R,!0),D.set(6,L,R,!0)}}function w(D,E){const L=s.getPositions(E);for(let R=0;R<L.length;R++){const F=L[R][0],A=L[R][1];for(let M=-2;M<=2;M++)for(let B=-2;B<=2;B++)M===-2||M===2||B===-2||B===2||M===0&&B===0?D.set(F+M,A+B,!0,!0):D.set(F+M,A+B,!1,!0)}}function y(D,E){const L=D.size,R=u.getEncodedBits(E);let F,A,M;for(let B=0;B<18;B++)F=Math.floor(B/3),A=B%3+L-8-3,M=(R>>B&1)===1,D.set(F,A,M,!0),D.set(A,F,M,!0)}function N(D,E,L){const R=D.size,F=f.getEncodedBits(E,L);let A,M;for(A=0;A<15;A++)M=(F>>A&1)===1,A<6?D.set(A,8,M,!0):A<8?D.set(A+1,8,M,!0):D.set(R-15+A,8,M,!0),A<8?D.set(8,R-A-1,M,!0):A<9?D.set(8,15-A-1+1,M,!0):D.set(8,15-A-1,M,!0);D.set(R-8,8,1,!0)}function k(D,E){const L=D.size;let R=-1,F=L-1,A=7,M=0;for(let B=L-1;B>0;B-=2)for(B===6&&B--;;){for(let z=0;z<2;z++)if(!D.isReserved(F,B-z)){let Y=!1;M<E.length&&(Y=(E[M]>>>A&1)===1),D.set(F,B-z,Y),A--,A===-1&&(M++,A=7)}if(F+=R,F<0||L<=F){F-=R,R=-R;break}}}function S(D,E,L){const R=new r;L.forEach(function(z){R.put(z.mode.bit,4),R.put(z.getLength(),h.getCharCountIndicator(z.mode,D)),z.write(R)});const F=t.getSymbolTotalCodewords(D),A=l.getTotalCodewordsCount(D,E),M=(F-A)*8;for(R.getLengthInBits()+4<=M&&R.put(0,4);R.getLengthInBits()%8!==0;)R.putBit(0);const B=(M-R.getLengthInBits())/8;for(let z=0;z<B;z++)R.put(z%2?17:236,8);return T(R,D,E)}function T(D,E,L){const R=t.getSymbolTotalCodewords(E),F=l.getTotalCodewordsCount(E,L),A=R-F,M=l.getBlocksCount(E,L),B=R%M,z=M-B,Y=Math.floor(R/M),W=Math.floor(A/M),H=W+1,q=Y-W,X=new c(q);let oe=0;const K=new Array(M),V=new Array(M);let J=0;const Q=new Uint8Array(D.buffer);for(let ge=0;ge<M;ge++){const Ce=ge<z?W:H;K[ge]=Q.slice(oe,oe+Ce),V[ge]=X.encode(K[ge]),oe+=Ce,J=Math.max(J,Ce)}const re=new Uint8Array(R);let ce=0,Ee,ke;for(Ee=0;Ee<J;Ee++)for(ke=0;ke<M;ke++)Ee<K[ke].length&&(re[ce++]=K[ke][Ee]);for(Ee=0;Ee<q;Ee++)for(ke=0;ke<M;ke++)re[ce++]=V[ke][Ee];return re}function _(D,E,L,R){let F;if(Array.isArray(D))F=g.fromArray(D);else if(typeof D=="string"){let Y=E;if(!Y){const W=g.rawSplit(D);Y=u.getBestVersionForData(W,L)}F=g.fromString(D,Y||40)}else throw new Error("Invalid data");const A=u.getBestVersionForData(F,L);if(!A)throw new Error("The amount of data is too big to be stored in a QR Code");if(!E)E=A;else if(E<A)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+A+`.
`);const M=S(E,L,F),B=t.getSymbolSize(E),z=new n(B);return p(z,E),v(z),w(z,E),N(z,L,0),E>=7&&y(z,E),k(z,M),isNaN(R)&&(R=o.getBestMask(z,N.bind(null,z,L))),o.applyMask(R,z),N(z,L,R),{modules:z,version:E,errorCorrectionLevel:L,maskPattern:R,segments:F}}return c6.create=function(E,L){if(typeof E>"u"||E==="")throw new Error("No input text");let R=e.M,F,A;return typeof L<"u"&&(R=e.from(L.errorCorrectionLevel,e.M),F=u.from(L.version),A=o.from(L.maskPattern),L.toSJISFunc&&t.setToSJISFunction(L.toSJISFunc)),_(E,F,R,A)},c6}var A6={},T6={},HY;function Wse(){return HY||(HY=1,(function(t){function e(r){if(typeof r=="number"&&(r=r.toString()),typeof r!="string")throw new Error("Color should be defined as hex string");let n=r.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+r);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(i){return[i,i]}))),n.length===6&&n.push("F","F");const s=parseInt(n.join(""),16);return{r:s>>24&255,g:s>>16&255,b:s>>8&255,a:s&255,hex:"#"+n.slice(0,6).join("")}}t.getOptions=function(n){n||(n={}),n.color||(n.color={});const s=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,i=n.width&&n.width>=21?n.width:void 0,o=n.scale||4;return{width:i,scale:i?4:o,margin:s,color:{dark:e(n.color.dark||"#000000ff"),light:e(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},t.getScale=function(n,s){return s.width&&s.width>=n+s.margin*2?s.width/(n+s.margin*2):s.scale},t.getImageWidth=function(n,s){const i=t.getScale(n,s);return Math.floor((n+s.margin*2)*i)},t.qrToImageData=function(n,s,i){const o=s.modules.size,l=s.modules.data,c=t.getScale(o,i),u=Math.floor((o+i.margin*2)*c),f=i.margin*c,h=[i.color.light,i.color.dark];for(let g=0;g<u;g++)for(let p=0;p<u;p++){let v=(g*u+p)*4,w=i.color.light;if(g>=f&&p>=f&&g<u-f&&p<u-f){const y=Math.floor((g-f)/c),N=Math.floor((p-f)/c);w=h[l[y*o+N]?1:0]}n[v++]=w.r,n[v++]=w.g,n[v++]=w.b,n[v]=w.a}}})(T6)),T6}var zY;function DVe(){return zY||(zY=1,(function(t){const e=Wse();function r(s,i,o){s.clearRect(0,0,i.width,i.height),i.style||(i.style={}),i.height=o,i.width=o,i.style.height=o+"px",i.style.width=o+"px"}function n(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(i,o,l){let c=l,u=o;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),o||(u=n()),c=e.getOptions(c);const f=e.getImageWidth(i.modules.size,c),h=u.getContext("2d"),g=h.createImageData(f,f);return e.qrToImageData(g.data,i,c),r(h,u,f),h.putImageData(g,0,0),u},t.renderToDataURL=function(i,o,l){let c=l;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),c||(c={});const u=t.render(i,o,c),f=c.type||"image/png",h=c.rendererOpts||{};return u.toDataURL(f,h.quality)}})(A6)),A6}var M6={},qY;function PVe(){if(qY)return M6;qY=1;const t=Wse();function e(s,i){const o=s.a/255,l=i+'="'+s.hex+'"';return o<1?l+" "+i+'-opacity="'+o.toFixed(2).slice(1)+'"':l}function r(s,i,o){let l=s+i;return typeof o<"u"&&(l+=" "+o),l}function n(s,i,o){let l="",c=0,u=!1,f=0;for(let h=0;h<s.length;h++){const g=Math.floor(h%i),p=Math.floor(h/i);!g&&!u&&(u=!0),s[h]?(f++,h>0&&g>0&&s[h-1]||(l+=u?r("M",g+o,.5+p+o):r("m",c,0),c=0,u=!1),g+1<i&&s[h+1]||(l+=r("h",f),f=0)):c++}return l}return M6.render=function(i,o,l){const c=t.getOptions(o),u=i.modules.size,f=i.modules.data,h=u+c.margin*2,g=c.color.light.a?"<path "+e(c.color.light,"fill")+' d="M0 0h'+h+"v"+h+'H0z"/>':"",p="<path "+e(c.color.dark,"stroke")+' d="'+n(f,u,c.margin)+'"/>',v='viewBox="0 0 '+h+" "+h+'"',y='<svg xmlns="http://www.w3.org/2000/svg" '+(c.width?'width="'+c.width+'" height="'+c.width+'" ':"")+v+' shape-rendering="crispEdges">'+g+p+`</svg>
`;return typeof l=="function"&&l(null,y),y},M6}var UY;function LVe(){if(UY)return ag;UY=1;const t=pVe(),e=OVe(),r=DVe(),n=PVe();function s(i,o,l,c,u){const f=[].slice.call(arguments,1),h=f.length,g=typeof f[h-1]=="function";if(!g&&!t())throw new Error("Callback required as last argument");if(g){if(h<2)throw new Error("Too few arguments provided");h===2?(u=l,l=o,o=c=void 0):h===3&&(o.getContext&&typeof u>"u"?(u=c,c=void 0):(u=c,c=l,l=o,o=void 0))}else{if(h<1)throw new Error("Too few arguments provided");return h===1?(l=o,o=c=void 0):h===2&&!o.getContext&&(c=l,l=o,o=void 0),new Promise(function(p,v){try{const w=e.create(l,c);p(i(w,o,c))}catch(w){v(w)}})}try{const p=e.create(l,c);u(null,i(p,o,c))}catch(p){u(p)}}return ag.create=e.create,ag.toCanvas=s.bind(null,r.render),ag.toDataURL=s.bind(null,r.renderToDataURL),ag.toString=s.bind(null,function(i,o,l){return n.render(i,l)}),ag}var RVe=LVe();const IVe=Vn(RVe),Vse=({isOpen:t,onClose:e,title:r,children:n,className:s,maxWidth:i="max-w-xl"})=>a.jsx(ar,{children:t&&a.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-50 flex justify-center items-center z-50 p-4",children:a.jsxs(O.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${i} ${s||"w-full"}`,children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:r}),a.jsx("button",{onClick:e,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150",children:a.jsx(Ft,{size:20})})]}),a.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:n})]})})}),FVe=({isOpen:t,onClose:e,area:r,onDownload:n,onShare:s})=>{const[i,o]=b.useState("");b.useEffect(()=>{r&&t&&l()},[r,t]);const l=async()=>{if(r)try{const f=JSON.stringify({type:"genba_area",areaId:r.id,areaName:r.nama,department:r.department,penanggungJawab:r.penanggungJawab,layoutUrl:r.layoutRuangan,timestamp:new Date().toISOString()}),h=await IVe.toDataURL(f,{width:300,margin:2,color:{dark:"#1E40AF",light:"#FFFFFF"}});o(h)}catch(f){console.error("Error generating QR code:",f)}},c=()=>{if(!i)return;const f=document.createElement("a");f.download=`QR_${r==null?void 0:r.nama.replace(/\s+/g,"_")}_${Date.now()}.png`,f.href=i,f.click(),n()},u=async()=>{if(i)try{if(navigator.share){const h=await(await fetch(i)).blob(),g=new File([h],`QR_${r==null?void 0:r.nama}.png`,{type:"image/png"});await navigator.share({title:`QR Code Area - ${r==null?void 0:r.nama}`,text:`QR Code untuk area ${r==null?void 0:r.nama}, Department: ${r==null?void 0:r.department}`,files:[g]}),s()}else await navigator.clipboard.writeText(`Area: ${r==null?void 0:r.nama}
Department: ${r==null?void 0:r.department}
Penanggung Jawab: ${r==null?void 0:r.penanggungJawab}`),alert("Informasi area telah disalin ke clipboard!"),s()}catch(f){console.error("Error sharing:",f),c()}};return a.jsx(Vse,{isOpen:t,onClose:e,title:"QR Code Area",maxWidth:"max-w-md",children:a.jsxs("div",{className:"text-center space-y-6",children:[a.jsx("div",{className:"bg-blue-50 rounded-2xl p-6",children:i?a.jsx("img",{src:i,alt:"QR Code",className:"w-64 h-64 mx-auto rounded-lg shadow-md"}):a.jsx("div",{className:"w-64 h-64 mx-auto flex items-center justify-center bg-gray-100 rounded-lg",children:a.jsx(QJ,{className:"text-gray-400 w-16 h-16"})})}),a.jsxs("div",{className:"text-left bg-white rounded-lg p-4 border border-gray-200",children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Informasi Area"}),a.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Nama Area:"}),a.jsx("span",{className:"font-medium text-gray-900",children:r==null?void 0:r.nama})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Department:"}),a.jsx("span",{className:"font-medium text-gray-900",children:r==null?void 0:r.department})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Penanggung Jawab:"}),a.jsx("span",{className:"font-medium text-gray-900",children:r==null?void 0:r.penanggungJawab})]})]})]}),a.jsxs("div",{className:"flex gap-3 justify-center",children:[a.jsxs(O.button,{onClick:c,whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:[a.jsx(Rme,{size:16}),"Download QR"]}),a.jsxs(O.button,{onClick:u,whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium",children:[a.jsx(r0e,{size:16}),"Share"]})]}),a.jsx("p",{className:"text-xs text-gray-500",children:"QR code berisi informasi lengkap area kerja untuk keperluan 5S dan maintenance"})]})})},BVe=({isOpen:t,onClose:e,onConfirm:r,title:n,message:s,confirmText:i="Delete",cancelText:o="Cancel"})=>a.jsx(Vse,{isOpen:t,onClose:e,title:n,maxWidth:"max-w-md",children:a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx(Hr,{className:"text-red-500 text-5xl mx-auto"}),a.jsx("p",{className:"text-gray-700",children:s}),a.jsxs("div",{className:"flex gap-3 justify-center pt-4",children:[a.jsx(O.button,{onClick:e,whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 font-medium transition-colors",children:o}),a.jsx(O.button,{onClick:r,whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-6 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 font-medium transition-colors",children:i})]})]})}),$Ve=()=>{const t=tr();Ds();const[e,r]=b.useState(()=>{const J=localStorage.getItem("sidebarOpen");return J?JSON.parse(J):!1}),[n,s]=b.useState(window.innerWidth<768),[i,o]=b.useState([]),[l,c]=b.useState(!0),[u,f]=b.useState(""),[h,g]=b.useState([]),[p,v]=b.useState(!1),[w,y]=b.useState(!1),[N,k]=b.useState(null),[S,T]=b.useState(!1),[_,D]=b.useState(null),[E,L]=b.useState(1),[R]=b.useState(10),F=[{id:"1",name:"Produksi"},{id:"2",name:"Gudang"},{id:"3",name:"Administrasi"},{id:"4",name:"Engineering"},{id:"5",name:"Quality"}];b.useEffect(()=>{o([{id:"1",nama:"Area Produksi Line A",department:"Produksi",penanggungJawab:"Budi Santoso",pengawas:"Ahmad Wijaya",layoutRuangan:"/api/placeholder/400/300",createdAt:"2024-01-15",updatedAt:"2024-01-15"},{id:"2",nama:"Area Gudang Bahan Baku",department:"Gudang",penanggungJawab:"Siti Rahayu",pengawas:"Dewi Sartika",layoutRuangan:"/api/placeholder/400/300",createdAt:"2024-01-10",updatedAt:"2024-01-10"},{id:"3",nama:"Area Kantor HRD",department:"Administrasi",penanggungJawab:"Ari Wibowo",pengawas:"Maya Sari",layoutRuangan:"/api/placeholder/400/300",createdAt:"2024-01-08",updatedAt:"2024-01-08"}]),c(!1)},[]),b.useEffect(()=>{const J=()=>{s(window.innerWidth<768),window.innerWidth<768&&r(!1)};return window.addEventListener("resize",J),()=>window.removeEventListener("resize",J)},[]);const A=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!e)),r(J=>!J)},M=b.useMemo(()=>i.filter(J=>{const Q=J.nama.toLowerCase().includes(u.toLowerCase())||J.department.toLowerCase().includes(u.toLowerCase())||J.penanggungJawab.toLowerCase().includes(u.toLowerCase()),re=h.length===0||h.includes(J.department);return Q&&re}),[i,u,h]),B=E*R,z=B-R,Y=M.slice(z,B),W=Math.ceil(M.length/R),H=J=>L(J),q=J=>{o(Q=>Q.filter(re=>re.id!==J)),y(!1),k(null)},X=J=>{D(J),T(!0)},oe=J=>{g(Q=>Q.includes(J)?Q.filter(re=>re!==J):[...Q,J]),L(1)},K=()=>{f(""),g([]),L(1)},V=({title:J,value:Q,change:re,icon:ce})=>{const Ee=re.startsWith("+");return a.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:J}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:Q})]}),a.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:ce})]}),a.jsxs("p",{className:`mt-3 text-xs font-semibold ${Ee?"text-green-600":"text-red-600"}`,children:[re," from last month"]})]})};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Genba Area",mainTitleHighlight:"Management",description:"Manage work areas and their configurations for 5S implementation",icon:a.jsx(gs,{}),isMobile:n,toggleSidebar:A}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Genba ",a.jsx("span",{className:"text-blue-600",children:"Area Management"})]}),a.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Manage and organize work areas for efficient 5S implementation and maintenance tracking."})]}),a.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[a.jsxs(O.button,{onClick:()=>t("/genba/genbaarea/addgenbaarea"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[a.jsx(pa,{size:16}),a.jsx("span",{children:"Add Area"})]}),a.jsxs(O.button,{onClick:()=>v(!p),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(Ki,{size:16}),a.jsx("span",{children:"Filters"}),a.jsx(O.span,{animate:{rotate:p?180:0},transition:{duration:.2},children:a.jsx(la,{size:16})})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[a.jsx(V,{title:"Total Areas",value:i.length.toString(),change:"+12%",icon:a.jsx(gs,{})}),a.jsx(V,{title:"Active Departments",value:new Set(i.map(J=>J.department)).size.toString(),change:"+2",icon:a.jsx(cl,{})}),a.jsx(V,{title:"Assigned PIC",value:new Set(i.map(J=>J.penanggungJawab)).size.toString(),change:"+5",icon:a.jsx(Pa,{})}),a.jsx(V,{title:"This Month",value:"3",change:"+1",icon:a.jsx(fr,{})})]}),a.jsxs(O.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[a.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0",children:a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Da,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),a.jsx("input",{type:"text",placeholder:"Search by area name, department, or PIC...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:u,onChange:J=>f(J.target.value)})]})}),a.jsx(ar,{children:p&&a.jsxs(O.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Department"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:F.map(J=>a.jsx("button",{onClick:()=>oe(J.name),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${h.includes(J.name)?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:J.name},J.id))})]}),(u||h.length>0)&&a.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-gray-200",children:[a.jsxs("span",{className:"text-sm text-gray-600",children:[M.length," areas found"]}),a.jsx("button",{onClick:K,className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:"Clear all filters"})]})]})})]}),l?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),a.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading areas data..."})]}):M.length===0?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx(gs,{className:"text-blue-500 text-4xl mx-auto mb-4"}),a.jsx("p",{className:"text-gray-700 text-base font-medium",children:u||h.length>0?"No areas found matching your filters.":"No areas available. Create your first area to get started."}),(u||h.length>0)&&a.jsx("button",{onClick:K,className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear All Filters"})]}):a.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:a.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:a.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[a.jsx("thead",{className:"bg-blue-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Area Name"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Department"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Penanggung Jawab"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Pengawas"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Created Date"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:Y.map(J=>a.jsxs(O.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[a.jsx("td",{className:"px-5 py-3",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:J.nama})}),a.jsx("td",{className:"px-5 py-3",children:a.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:J.department})}),a.jsx("td",{className:"px-5 py-3",children:a.jsx("div",{className:"text-sm text-gray-900",children:J.penanggungJawab})}),a.jsx("td",{className:"px-5 py-3",children:a.jsx("div",{className:"text-sm text-gray-900",children:J.pengawas})}),a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-500",children:J.createdAt})}),a.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[a.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>t(`/genba/genbaarea/editgenbaarea/${J.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit",children:a.jsx(Ba,{size:16})}),a.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>X(J),className:"text-purple-600 hover:text-purple-800 transition-colors duration-200 p-1 rounded-full hover:bg-purple-50",title:"QR Code",children:a.jsx(QJ,{size:16})}),a.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{k(J.id),y(!0)},className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:a.jsx(In,{size:16})})]})]},J.id))})]})})}),M.length>R&&a.jsxs(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"mt-8 flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0",children:[a.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",a.jsx("span",{className:"font-semibold",children:z+1})," to ",a.jsx("span",{className:"font-semibold",children:Math.min(B,M.length)})," of"," ",a.jsx("span",{className:"font-semibold",children:M.length})," areas"]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>H(E-1),disabled:E===1,className:"px-4 py-2 border border-blue-200 rounded-md bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm font-medium text-sm",children:"Previous"}),Array.from({length:W},(J,Q)=>a.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>H(Q+1),className:`px-3.5 py-2 rounded-md transition-colors duration-200 shadow-sm font-medium text-sm
                      ${E===Q+1?"bg-blue-600 text-white shadow-md":"bg-white text-gray-700 hover:bg-blue-50 border border-blue-200"}
                    `,children:Q+1},Q+1)),a.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>H(E+1),disabled:E===W,className:"px-4 py-2 border border-blue-200 rounded-md bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm font-medium text-sm",children:"Next"})]})]})]})]}),a.jsx(FVe,{isOpen:S,onClose:()=>T(!1),area:_,onDownload:()=>console.log("QR Downloaded"),onShare:()=>console.log("QR Shared")}),a.jsx(BVe,{isOpen:w,onClose:()=>y(!1),onConfirm:()=>N&&q(N),title:"Delete Area",message:"Are you sure you want to delete this area? This action cannot be undone."})]})},HVe=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(O.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(Ft,{size:24})})]}),a.jsx("div",{children:n})]})}):null,zVe=()=>{const t=tr(),[e,r]=b.useState(()=>{const E=localStorage.getItem("sidebarOpen");return E?JSON.parse(E):!1}),[n,s]=b.useState(window.innerWidth<768),[i,o]=b.useState(!1),[l,c]=b.useState(null),[u,f]=b.useState(null),[h,g]=b.useState(!1),[p,v]=b.useState({department:"",nama:"",penanggungJawab:"",layoutRuangan:null}),w=[{id:"1",name:"Produksi"},{id:"2",name:"Gudang"},{id:"3",name:"Administrasi"},{id:"4",name:"Engineering"},{id:"5",name:"Quality"}],y=[{id:"1",name:"Budi Santoso",department:"Produksi"},{id:"2",name:"Siti Rahayu",department:"Gudang"},{id:"3",name:"Ari Wibowo",department:"Administrasi"},{id:"4",name:"Hendra Gunawan",department:"Engineering"},{id:"5",name:"Fitri Handayani",department:"Quality"}],N=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!e)),r(E=>!E)},k=b.useCallback((E,L)=>{var R;if(E&&typeof E=="object"&&"value"in E&&L)v(F=>({...F,[L]:E.value}));else if(E&&"target"in E){const{name:F,value:A}=E.target;if(F==="layoutRuangan"){const B=((R=E.target.files)==null?void 0:R[0])||null;v(z=>({...z,layoutRuangan:B}))}else v(M=>({...M,[F]:A}))}},[]),S=async E=>{if(E.preventDefault(),o(!0),c(null),f(null),!p.department||!p.nama||!p.penanggungJawab){c("Please fill in all required fields"),o(!1);return}try{await new Promise(L=>setTimeout(L,2e3)),f("Area berhasil dibuat!"),g(!0),T()}catch(L){c(L.message||"Gagal membuat area. Silakan coba lagi."),console.error("Submission error:",L)}finally{o(!1)}},T=b.useCallback(()=>{v({department:"",nama:"",penanggungJawab:"",layoutRuangan:null}),c(null),f(null)},[]),_=b.useCallback(()=>{g(!1),t("/genba/genbaarea")},[t]),D={control:(E,L)=>({...E,minHeight:"42px",borderColor:L.isFocused?"#3B82F6":"#D1D5DB",boxShadow:L.isFocused?"0 0 0 1px #3B82F6":"none","&:hover":{borderColor:"#9CA3AF"},borderRadius:"0.5rem",backgroundColor:"#FFFFFF",padding:"0 0.5rem",transition:"all 0.15s ease-in-out"}),valueContainer:E=>({...E,padding:"0"}),singleValue:E=>({...E,color:"#374151"}),placeholder:E=>({...E,color:"#6B7280"}),dropdownIndicator:E=>({...E,color:"#9CA3AF","&:hover":{color:"#6B7280"}}),indicatorSeparator:E=>({...E,display:"none"}),menu:E=>({...E,zIndex:9999,borderRadius:"0.5rem",border:"1px solid #E5E7EB",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"}),option:(E,L)=>({...E,backgroundColor:L.isFocused?"#EFF6FF":"#FFFFFF",color:"#1F2937","&:active":{backgroundColor:"#DBEAFE"},padding:"0.625rem 1rem"})};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Add Genba Area",mainTitleHighlight:"Genba Area",description:"Create new work area for 5S implementation",icon:a.jsx(gs,{}),isMobile:n,toggleSidebar:N}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Genba Area"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Define a new work area for 5S implementation and maintenance"})]}),a.jsxs(O.button,{onClick:()=>t("/genba/genbaarea"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(hn,{size:16})," Back to Areas"]})]}),a.jsxs(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[l&&a.jsxs(O.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:l}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(Ft,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>c(null)})})]}),a.jsxs("form",{onSubmit:S,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(cl,{className:"mr-2 text-blue-500"})," Department Information"]}),a.jsx("div",{className:"grid grid-cols-1 gap-6",children:a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"department",className:"block text-sm font-medium text-gray-700 mb-1",children:["Department ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(un,{name:"department",id:"department",options:w.map(E=>({value:E.id,label:E.name})),value:w.map(E=>({value:E.id,label:E.name})).find(E=>E.value===p.department),onChange:E=>k(E,"department"),placeholder:"Select Department",styles:D,required:!0})]})})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(gs,{className:"mr-2 text-green-500"})," Area Details"]}),a.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"nama",className:"block text-sm font-medium text-gray-700 mb-1",children:["Nama Area ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"nama",id:"nama",value:p.nama,onChange:k,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., Area Produksi Line A",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"penanggungJawab",className:"block text-sm font-medium text-gray-700 mb-1",children:["Penanggung Jawab Area ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(un,{name:"penanggungJawab",id:"penanggungJawab",options:y.map(E=>({value:E.id,label:E.name})),value:y.map(E=>({value:E.id,label:E.name})).find(E=>E.value===p.penanggungJawab),onChange:E=>k(E,"penanggungJawab"),placeholder:"Select Penanggung Jawab",styles:D,required:!0})]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(ni,{className:"mr-2 text-purple-500"})," Layout Ruangan"]}),a.jsx("div",{className:"grid grid-cols-1 gap-6",children:a.jsxs("div",{children:[a.jsx("label",{htmlFor:"layoutRuangan",className:"block text-sm font-medium text-gray-700 mb-1",children:"Upload Layout Ruangan"}),a.jsx("div",{className:"flex items-center justify-center w-full",children:a.jsxs("label",{htmlFor:"layoutRuangan",className:"flex flex-col items-center justify-center w-full h-32 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100 transition-colors",children:[a.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[a.jsx(ni,{className:"w-8 h-8 mb-3 text-gray-400"}),a.jsxs("p",{className:"mb-2 text-sm text-gray-500",children:[a.jsx("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),a.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, PDF (MAX. 10MB)"})]}),a.jsx("input",{id:"layoutRuangan",name:"layoutRuangan",type:"file",className:"hidden",accept:".png,.jpg,.jpeg,.pdf",onChange:k})]})}),p.layoutRuangan&&a.jsx("div",{className:"mt-3 p-3 bg-green-50 rounded-lg border border-green-200",children:a.jsxs("p",{className:"text-sm text-green-800 flex items-center",children:[a.jsx(fr,{className:"w-4 h-4 mr-2"}),"File selected: ",p.layoutRuangan.name]})})]})})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsxs(O.button,{type:"button",onClick:T,whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",children:[a.jsx(In,{className:"mr-2 h-5 w-5"})," Clear Form"]}),a.jsx(O.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:i,children:i?a.jsxs(a.Fragment,{children:[a.jsx(mn,{className:"animate-spin mr-2 h-5 w-5"}),"Creating..."]}):a.jsxs(a.Fragment,{children:[a.jsx(vn,{className:"mr-2 h-5 w-5"})," Create Area"]})})]})]})]})]})]}),a.jsx(HVe,{isOpen:h,onClose:_,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(fr,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:"Genba area has been created successfully!"}),a.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:_,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Go to Genba Areas"})]})})]})},qVe=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(O.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(Ft,{size:24})})]}),a.jsx("div",{children:n})]})}):null,UVe=()=>{const{id:t}=si(),e=tr(),[r,n]=b.useState(()=>{const A=localStorage.getItem("sidebarOpen");return A?JSON.parse(A):!1}),[s,i]=b.useState(window.innerWidth<768),[o,l]=b.useState(!1),[c,u]=b.useState(!1),[f,h]=b.useState(null),[g,p]=b.useState(null),[v,w]=b.useState(!1),[y,N]=b.useState({department:"",nama:"",penanggungJawab:"",layoutRuangan:null,existingLayout:""}),k=[{id:"1",name:"Produksi"},{id:"2",name:"Gudang"},{id:"3",name:"Administrasi"},{id:"4",name:"Engineering"},{id:"5",name:"Quality"}],S=[{id:"1",name:"Budi Santoso",department:"Produksi"},{id:"2",name:"Siti Rahayu",department:"Gudang"},{id:"3",name:"Ari Wibowo",department:"Administrasi"},{id:"4",name:"Hendra Gunawan",department:"Engineering"},{id:"5",name:"Fitri Handayani",department:"Quality"}],T={id:"1",nama:"Area Produksi Line A",department:"1",penanggungJawab:"1",layoutRuangan:"/api/placeholder/400/300"};b.useEffect(()=>{(async()=>{l(!0);try{await new Promise(M=>setTimeout(M,1e3)),t===T.id?N({department:T.department,nama:T.nama,penanggungJawab:T.penanggungJawab,layoutRuangan:null,existingLayout:T.layoutRuangan}):h("Area not found")}catch{h("Failed to load area data")}finally{l(!1)}})()},[t]);const _=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!r)),n(A=>!A)},D=b.useCallback((A,M)=>{var B;if(A&&typeof A=="object"&&"value"in A&&M)N(z=>({...z,[M]:A.value}));else if(A&&"target"in A){const{name:z,value:Y}=A.target;if(z==="layoutRuangan"){const H=((B=A.target.files)==null?void 0:B[0])||null;N(q=>({...q,layoutRuangan:H}))}else N(W=>({...W,[z]:Y}))}},[]),E=async A=>{if(A.preventDefault(),u(!0),h(null),p(null),!y.department||!y.nama||!y.penanggungJawab){h("Please fill in all required fields"),u(!1);return}try{await new Promise(M=>setTimeout(M,2e3)),p("Area berhasil diperbarui!"),w(!0)}catch(M){h(M.message||"Gagal memperbarui area. Silakan coba lagi."),console.error("Submission error:",M)}finally{u(!1)}},L=b.useCallback(()=>{N({department:T.department,nama:T.nama,penanggungJawab:T.penanggungJawab,layoutRuangan:null,existingLayout:T.layoutRuangan}),h(null),p(null)},[]),R=b.useCallback(()=>{w(!1),e("/genba/genbaarea")},[e]),F={control:(A,M)=>({...A,minHeight:"42px",borderColor:M.isFocused?"#3B82F6":"#D1D5DB",boxShadow:M.isFocused?"0 0 0 1px #3B82F6":"none","&:hover":{borderColor:"#9CA3AF"},borderRadius:"0.5rem",backgroundColor:"#FFFFFF",padding:"0 0.5rem",transition:"all 0.15s ease-in-out"}),valueContainer:A=>({...A,padding:"0"}),singleValue:A=>({...A,color:"#374151"}),placeholder:A=>({...A,color:"#6B7280"}),dropdownIndicator:A=>({...A,color:"#9CA3AF","&:hover":{color:"#6B7280"}}),indicatorSeparator:A=>({...A,display:"none"}),menu:A=>({...A,zIndex:9999,borderRadius:"0.5rem",border:"1px solid #E5E7EB",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"}),option:(A,M)=>({...A,backgroundColor:M.isFocused?"#EFF6FF":"#FFFFFF",color:"#1F2937","&:active":{backgroundColor:"#DBEAFE"},padding:"0.625rem 1rem"})};return o?a.jsx("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900 justify-center items-center",children:a.jsxs("div",{className:"bg-blue-100 border border-blue-400 text-blue-700 px-6 py-4 rounded-lg flex items-center shadow-lg animate-pulse",role:"alert",children:[a.jsx(mn,{className:"animate-spin mr-3 text-2xl"}),a.jsx("span",{className:"font-semibold text-lg",children:"Loading Area Data... Please wait."})]})}):a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Edit Genba Area",mainTitleHighlight:"Genba Area",description:"Update work area configuration for 5S implementation",icon:a.jsx(gs,{}),isMobile:s,toggleSidebar:_}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Edit Genba Area ",t&&`(ID: ${t})`]}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Update work area configuration and details"})]}),a.jsxs(O.button,{onClick:()=>e("/genba/genbaarea"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(hn,{size:16})," Back to Areas"]})]}),a.jsxs(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[f&&a.jsxs(O.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:f}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(Ft,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>h(null)})})]}),a.jsxs("form",{onSubmit:E,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(cl,{className:"mr-2 text-blue-500"})," Department Information"]}),a.jsx("div",{className:"grid grid-cols-1 gap-6",children:a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"department",className:"block text-sm font-medium text-gray-700 mb-1",children:["Department ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(un,{name:"department",id:"department",options:k.map(A=>({value:A.id,label:A.name})),value:k.map(A=>({value:A.id,label:A.name})).find(A=>A.value===y.department),onChange:A=>D(A,"department"),placeholder:"Select Department",styles:F,required:!0})]})})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(gs,{className:"mr-2 text-green-500"})," Area Details"]}),a.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"nama",className:"block text-sm font-medium text-gray-700 mb-1",children:["Nama Area ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"nama",id:"nama",value:y.nama,onChange:D,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., Area Produksi Line A",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"penanggungJawab",className:"block text-sm font-medium text-gray-700 mb-1",children:["Penanggung Jawab Area ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(un,{name:"penanggungJawab",id:"penanggungJawab",options:S.map(A=>({value:A.id,label:A.name})),value:S.map(A=>({value:A.id,label:A.name})).find(A=>A.value===y.penanggungJawab),onChange:A=>D(A,"penanggungJawab"),placeholder:"Select Penanggung Jawab",styles:F,required:!0})]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(ni,{className:"mr-2 text-purple-500"})," Layout Ruangan"]}),a.jsx("div",{className:"grid grid-cols-1 gap-6",children:a.jsxs("div",{children:[a.jsx("label",{htmlFor:"layoutRuangan",className:"block text-sm font-medium text-gray-700 mb-1",children:"Upload Layout Ruangan"}),y.existingLayout&&!y.layoutRuangan&&a.jsxs("div",{className:"mb-4 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[a.jsx("p",{className:"text-sm text-blue-800 mb-2",children:"Current layout:"}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("img",{src:y.existingLayout,alt:"Current layout",className:"w-20 h-20 object-cover rounded-lg border border-gray-200"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Existing Layout"}),a.jsx("p",{className:"text-xs text-gray-600",children:"Click upload to replace current layout"})]})]})]}),a.jsx("div",{className:"flex items-center justify-center w-full",children:a.jsxs("label",{htmlFor:"layoutRuangan",className:"flex flex-col items-center justify-center w-full h-32 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100 transition-colors",children:[a.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[a.jsx(ni,{className:"w-8 h-8 mb-3 text-gray-400"}),a.jsxs("p",{className:"mb-2 text-sm text-gray-500",children:[a.jsx("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),a.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, PDF (MAX. 10MB)"})]}),a.jsx("input",{id:"layoutRuangan",name:"layoutRuangan",type:"file",className:"hidden",accept:".png,.jpg,.jpeg,.pdf",onChange:D})]})}),y.layoutRuangan&&a.jsx("div",{className:"mt-3 p-3 bg-green-50 rounded-lg border border-green-200",children:a.jsxs("p",{className:"text-sm text-green-800 flex items-center",children:[a.jsx(fr,{className:"w-4 h-4 mr-2"}),"New file selected: ",y.layoutRuangan.name]})})]})})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsxs(O.button,{type:"button",onClick:L,whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",children:[a.jsx(In,{className:"mr-2 h-5 w-5"})," Reset Changes"]}),a.jsx(O.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:c,children:c?a.jsxs(a.Fragment,{children:[a.jsx(mn,{className:"animate-spin mr-2 h-5 w-5"}),"Updating..."]}):a.jsxs(a.Fragment,{children:[a.jsx(vn,{className:"mr-2 h-5 w-5"})," Update Area"]})})]})]})]})]})]}),a.jsx(qVe,{isOpen:v,onClose:R,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(fr,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:"Genba area has been created successfully!"}),a.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:R,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Go to Genba Areas"})]})})]})},WVe=()=>{const{id:t}=si(),e=tr(),{getGenbaSOById:r,updateGenbaSO:n,getGenbaRoles:s,getUsers:i,getDepartment:o}=or(),[l,c]=b.useState(window.innerWidth<768),[u,f]=b.useState(()=>{const Me=localStorage.getItem("sidebarOpen");return Me?JSON.parse(Me):!1}),[h,g]=b.useState(!1),[p,v]=b.useState(null),[w,y]=b.useState(null),[N,k]=b.useState([]),[S,T]=b.useState([]),[_,D]=b.useState([]),[E,L]=b.useState(null),[R,F]=b.useState({effective_date:new Date().toISOString().split("T")[0],bridges:[]}),[A,M]=b.useState([{departmentId:null,selectedUsers:[]}]),[B,z]=b.useState([{departmentId:null,selectedUsers:[]}]),Y={control:(Me,qe)=>({...Me,minHeight:"42px",borderColor:qe.isFocused?"#3B82F6":"#D1D5DB",boxShadow:qe.isFocused?"0 0 0 1px #3B82F6":"none","&:hover":{borderColor:"#9CA3AF"},borderRadius:"0.5rem",backgroundColor:"#FFFFFF",padding:"0 0.5rem",transition:"all 0.15s ease-in-out"}),valueContainer:Me=>({...Me,padding:"0"}),singleValue:Me=>({...Me,color:"#374151"}),placeholder:Me=>({...Me,color:"#6B7280"}),dropdownIndicator:Me=>({...Me,color:"#9CA3AF","&:hover":{color:"#6B7280"}}),indicatorSeparator:Me=>({...Me,display:"none"}),menu:Me=>({...Me,zIndex:9999,borderRadius:"0.5rem",border:"1px solid #E5E7EB",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"}),option:(Me,qe)=>({...Me,backgroundColor:qe.isFocused?"#EFF6FF":"#FFFFFF",color:"#1F2937","&:active":{backgroundColor:"#DBEAFE"},padding:"0.625rem 1rem"}),multiValue:Me=>({...Me,backgroundColor:"#EFF6FF",borderRadius:"0.375rem"}),multiValueLabel:Me=>({...Me,color:"#1E40AF",fontWeight:"500"}),multiValueRemove:Me=>({...Me,color:"#1E40AF","&:hover":{backgroundColor:"#DBEAFE",color:"#DC2626"}})},W=b.useCallback(()=>{const Me=[];return R.bridges.forEach(qe=>{Me.push(...qe.user_ids)}),Me},[R.bridges]),H=b.useCallback(Me=>{const qe=W();return N.filter(tt=>!qe.includes(parseInt(tt.id))||Me&&R.bridges.some(Ve=>Ve.genba_role_id===Me&&Ve.user_ids.includes(parseInt(tt.id))))},[N,W,R.bridges]),q=b.useCallback((Me,qe)=>H(qe).filter(Ve=>Ve.department_id===Me),[H]),X=b.useCallback((Me,qe)=>{const tt=Me.filter((Ve,Te)=>Te!==qe).map(Ve=>Ve.departmentId).filter(Boolean);return S.filter(Ve=>!tt.includes(Ve.id))},[S]),oe=b.useCallback(Me=>{if(!Me.bridges||!Array.isArray(Me.bridges))return;const qe=new Map;Me.bridges.forEach(Te=>{const le=Te.genba_role_id;qe.has(le)?qe.get(le).user_ids.push(Te.user_id):qe.set(le,{genba_role_id:le,user_ids:[Te.user_id]})}),F(Te=>({...Te,bridges:Array.from(qe.values())}));const tt=_.find(Te=>Te.name.toLowerCase().includes("koordinator")&&Te.name.toLowerCase().includes("department"));if(tt){const Te=qe.get(tt.id);if(Te&&Te.user_ids.length>0){const le=new Map;Te.user_ids.forEach(Ge=>{const ut=N.find(Pe=>Pe.id===Ge.toString());ut&&ut.department_id&&(le.has(ut.department_id)?le.get(ut.department_id).push(Ge):le.set(ut.department_id,[Ge]))});const Je=Array.from(le.entries()).map(([Ge,ut])=>({departmentId:Ge,selectedUsers:ut.map(Pe=>{const Ne=N.find(ze=>ze.id===Pe.toString());return Ne?{value:Ne.id,label:Ne.name}:{value:"",label:""}}).filter(Pe=>Pe.value!=="")}));M(Je.length>0?Je:[{departmentId:null,selectedUsers:[]}])}}const Ve=_.find(Te=>Te.name.toLowerCase().includes("komite")&&Te.name.toLowerCase().includes("department"));if(Ve){const Te=qe.get(Ve.id);if(Te&&Te.user_ids.length>0){const le=new Map;Te.user_ids.forEach(Ge=>{const ut=N.find(Pe=>Pe.id===Ge.toString());ut&&ut.department_id&&(le.has(ut.department_id)?le.get(ut.department_id).push(Ge):le.set(ut.department_id,[Ge]))});const Je=Array.from(le.entries()).map(([Ge,ut])=>({departmentId:Ge,selectedUsers:ut.map(Pe=>{const Ne=N.find(ze=>ze.id===Pe.toString());return Ne?{value:Ne.id,label:Ne.name}:{value:"",label:""}}).filter(Pe=>Pe.value!=="")}));z(Je.length>0?Je:[{departmentId:null,selectedUsers:[]}])}}},[_,N]);b.useEffect(()=>{(async()=>{try{if(g(!0),t){const qe=await r(t);if(L(qe),qe.effective_date){const le=new Date(qe.effective_date).toISOString().split("T")[0];F(Je=>({...Je,effective_date:le}))}const[tt,Ve,Te]=await Promise.all([s(),i(),o()]);D(tt),k(Ve),T(Te),oe(qe)}else{const[qe,tt,Ve]=await Promise.all([s(),i(),o()]);D(qe),k(tt),T(Ve)}}catch(qe){console.error("Failed to fetch data:",qe),v("Gagal memuat data template")}finally{g(!1)}})()},[t,r,s,i,o,oe]),b.useEffect(()=>{const Me=()=>{c(window.innerWidth<768),window.innerWidth<768&&f(!1)};return window.addEventListener("resize",Me),()=>window.removeEventListener("resize",Me)},[]),b.useEffect(()=>{localStorage.setItem("sidebarOpen",JSON.stringify(u))},[u]);const K=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!u)),f(Me=>!Me)},V=Me=>{F(qe=>({...qe,effective_date:Me.target.value}))},J=Me=>{const qe=_.find(Ve=>Ve.name.toLowerCase().includes("penanggung jawab"));if(!qe)return;const tt=R.bridges.findIndex(Ve=>Ve.genba_role_id===qe.id);if(Me){const Ve=parseInt(Me.value);if(tt>=0){const Te=[...R.bridges];Te[tt]={...Te[tt],user_ids:[Ve]},F(le=>({...le,bridges:Te}))}else F(Te=>({...Te,bridges:[...Te.bridges,{genba_role_id:qe.id,user_ids:[Ve]}]}))}else if(tt>=0){const Ve=R.bridges.filter((Te,le)=>le!==tt);F(Te=>({...Te,bridges:Ve}))}},Q=(Me,qe)=>{const tt=Me?parseInt(Me.value):null;M(Ve=>{const Te=[...Ve];return Te[qe]={departmentId:tt,selectedUsers:[]},Te}),ce()},re=(Me,qe)=>{const tt=Me?[...Me]:[];M(Ve=>{const Te=[...Ve];return Te[qe]={...Te[qe],selectedUsers:tt},Te}),ce()},ce=()=>{const Me=_.find(Ve=>Ve.name.toLowerCase().includes("koordinator")&&Ve.name.toLowerCase().includes("department"));if(!Me)return;const qe=[];A.forEach(Ve=>{Ve.selectedUsers.forEach(Te=>{qe.push(parseInt(Te.value))})});const tt=R.bridges.findIndex(Ve=>Ve.genba_role_id===Me.id);if(tt>=0){const Ve=[...R.bridges];qe.length>0?Ve[tt]={...Ve[tt],user_ids:qe}:Ve.splice(tt,1),F(Te=>({...Te,bridges:Ve}))}else qe.length>0&&F(Ve=>({...Ve,bridges:[...Ve.bridges,{genba_role_id:Me.id,user_ids:qe}]}))},Ee=(Me,qe)=>{const tt=Me?parseInt(Me.value):null;z(Ve=>{const Te=[...Ve];return Te[qe]={departmentId:tt,selectedUsers:[]},Te}),ge()},ke=(Me,qe)=>{const tt=Me?[...Me]:[];z(Ve=>{const Te=[...Ve];return Te[qe]={...Te[qe],selectedUsers:tt},Te}),ge()},ge=()=>{const Me=_.find(Ve=>Ve.name.toLowerCase().includes("komite")&&Ve.name.toLowerCase().includes("department"));if(!Me)return;const qe=[];B.forEach(Ve=>{Ve.selectedUsers.forEach(Te=>{qe.push(parseInt(Te.value))})});const tt=R.bridges.findIndex(Ve=>Ve.genba_role_id===Me.id);if(tt>=0){const Ve=[...R.bridges];qe.length>0?Ve[tt]={...Ve[tt],user_ids:qe}:Ve.splice(tt,1),F(Te=>({...Te,bridges:Ve}))}else qe.length>0&&F(Ve=>({...Ve,bridges:[...Ve.bridges,{genba_role_id:Me.id,user_ids:qe}]}))},Ce=()=>{M(Me=>[...Me,{departmentId:null,selectedUsers:[]}])},Ke=()=>{z(Me=>[...Me,{departmentId:null,selectedUsers:[]}])},fe=Me=>{M(qe=>{const tt=qe.filter((Ve,Te)=>Te!==Me);return tt.length===0?[{departmentId:null,selectedUsers:[]}]:tt}),setTimeout(ce,0)},ye=Me=>{z(qe=>{const tt=qe.filter((Ve,Te)=>Te!==Me);return tt.length===0?[{departmentId:null,selectedUsers:[]}]:tt}),setTimeout(ge,0)},ae=()=>{const Me=_.find(Ve=>Ve.name.toLowerCase().includes("penanggung jawab"));if(!Me)return null;const qe=R.bridges.find(Ve=>Ve.genba_role_id===Me.id);if(!qe||qe.user_ids.length===0)return null;const tt=N.find(Ve=>Ve.id===qe.user_ids[0].toString());return tt?{value:tt.id,label:tt.name}:null},se=async Me=>{Me.preventDefault(),g(!0),v(null),y(null);try{if(!t)throw new Error("Template ID tidak ditemukan");const qe=_.find(Ve=>Ve.name.toLowerCase().includes("koordinator")&&!Ve.name.toLowerCase().includes("department"));if(qe){const Ve=R.bridges.find(Te=>Te.genba_role_id===qe.id);if(!Ve||Ve.user_ids.length<3)throw new Error("Pilih minimal 3 Koordinator 5S")}const tt={effective_date:R.effective_date,bridges:R.bridges};await n(t,tt),y("Template berhasil diperbarui"),setTimeout(()=>{e("/genba/so")},2e3)}catch(qe){v(qe.message||"Gagal menyimpan template. Silakan coba lagi."),console.error("Submission error:",qe)}finally{g(!1)}},bt=_.find(Me=>Me.name.toLowerCase().includes("penanggung jawab"));_.find(Me=>Me.name.toLowerCase().includes("koordinator")&&!Me.name.toLowerCase().includes("department"));const pt=_.find(Me=>Me.name.toLowerCase().includes("koordinator")&&Me.name.toLowerCase().includes("department")),Re=_.find(Me=>Me.name.toLowerCase().includes("komite")&&Me.name.toLowerCase().includes("department"));return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Configure Structure Organization",mainTitleHighlight:"Template",description:"Configure roles and personnel for structure organization template.",icon:a.jsx(Pa,{}),isMobile:l,toggleSidebar:K}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Configure Template: ",(E==null?void 0:E.name)||"Loading..."]}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Assign roles and personnel for this structure organization template"})]}),a.jsxs(O.button,{onClick:()=>e("/genba/so"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(hn,{className:"text-lg"})," Back to Templates"]})]}),a.jsxs(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[p&&a.jsxs(O.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:p}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(Ft,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>v(null)})})]}),w&&a.jsxs(O.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Success!"}),a.jsx("span",{className:"block sm:inline ml-2",children:w})]}),a.jsxs("form",{onSubmit:se,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(ga,{className:"mr-2 text-blue-500"})," General Information"]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"effective_date",className:"block text-sm font-medium text-gray-700 mb-1",children:["Effective Date ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"date",id:"effective_date",name:"effective_date",value:R.effective_date,onChange:V,required:!0,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700"})]})})]}),bt&&a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(Pa,{className:"mr-2 text-green-500"})," Penanggung Jawab 5S"]}),a.jsx("div",{className:"grid grid-cols-1 gap-6",children:a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"penanggung_jawab",className:"block text-sm font-medium text-gray-700 mb-1",children:["Penanggung Jawab 5S ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(un,{id:"penanggung_jawab",name:"penanggung_jawab",options:H(bt.id).map(Me=>({value:Me.id,label:Me.name})),value:ae(),onChange:J,placeholder:"Pilih Penanggung Jawab 5S",styles:Y,isClearable:!0,required:!0})]})})]}),pt&&a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[a.jsx(cl,{className:"mr-2 text-orange-500"})," Koordinator 5S Department"]}),a.jsxs(O.button,{type:"button",onClick:Ce,whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-blue-600 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors",children:[a.jsx(pa,{size:16}),a.jsx("span",{children:"Add Department"})]})]}),a.jsx("div",{className:"space-y-4",children:A.map((Me,qe)=>{var tt;return a.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg bg-gray-50",children:[a.jsxs("div",{className:"flex justify-between items-center mb-3",children:[a.jsxs("h3",{className:"text-sm font-medium text-gray-700",children:["Department ",qe+1]}),A.length>1&&a.jsx(O.button,{type:"button",onClick:()=>fe(qe),whileHover:{scale:1.05},whileTap:{scale:.95},className:"p-1 text-red-500 hover:bg-red-50 rounded transition-colors",title:"Hapus department",children:a.jsx(In,{size:16})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Department ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(un,{options:X(A,qe).map(Ve=>({value:String(Ve.id),label:Ve.name})),value:Me.departmentId?{value:String(Me.departmentId),label:((tt=S.find(Ve=>Ve.id===Me.departmentId))==null?void 0:tt.name)||""}:null,onChange:Ve=>Q(Ve,qe),placeholder:"Pilih Department",styles:Y,isClearable:!0,required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Personnel ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(un,{options:Me.departmentId?q(Me.departmentId,pt.id).map(Ve=>({value:Ve.id,label:Ve.name})):[],value:Me.selectedUsers,onChange:Ve=>re(Ve,qe),placeholder:Me.departmentId?"Pilih Personnel":"Pilih department terlebih dahulu",styles:Y,isMulti:!0,isDisabled:!Me.departmentId,required:!0})]})]})]},qe)})})]}),pt&&a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[a.jsx(cl,{className:"mr-2 text-orange-500"})," Koordinator 5S Department"]}),a.jsxs(O.button,{type:"button",onClick:Ce,whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-blue-600 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors",children:[a.jsx(pa,{size:16}),a.jsx("span",{children:"Add Department"})]})]}),a.jsx("div",{className:"space-y-4",children:A.map((Me,qe)=>{var tt;return a.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg bg-gray-50",children:[a.jsxs("div",{className:"flex justify-between items-center mb-3",children:[a.jsxs("h3",{className:"text-sm font-medium text-gray-700",children:["Department ",qe+1]}),A.length>1&&a.jsx(O.button,{type:"button",onClick:()=>fe(qe),whileHover:{scale:1.05},whileTap:{scale:.95},className:"p-1 text-red-500 hover:bg-red-50 rounded transition-colors",title:"Hapus department",children:a.jsx(In,{size:16})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Department ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(un,{options:X(A,qe).map(Ve=>({value:String(Ve.id),label:Ve.name})),value:Me.departmentId?{value:String(Me.departmentId),label:((tt=S.find(Ve=>Ve.id===Me.departmentId))==null?void 0:tt.name)||""}:null,onChange:Ve=>Q(Ve,qe),placeholder:"Pilih Department",styles:Y,isClearable:!0,required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Personnel ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(un,{options:Me.departmentId?q(Me.departmentId,pt.id).map(Ve=>({value:Ve.id,label:Ve.name})):[],value:Me.selectedUsers,onChange:Ve=>re(Ve,qe),placeholder:Me.departmentId?"Pilih Personnel":"Pilih department terlebih dahulu",styles:Y,isMulti:!0,isDisabled:!Me.departmentId,required:!0})]})]})]},qe)})})]}),Re&&a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[a.jsx(cl,{className:"mr-2 text-red-500"})," Komite 5S Department"]}),a.jsxs(O.button,{type:"button",onClick:Ke,whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-blue-600 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors",children:[a.jsx(pa,{size:16}),a.jsx("span",{children:"Add Department"})]})]}),a.jsx("div",{className:"space-y-4",children:B.map((Me,qe)=>{var tt;return a.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg bg-gray-50",children:[a.jsxs("div",{className:"flex justify-between items-center mb-3",children:[a.jsxs("h3",{className:"text-sm font-medium text-gray-700",children:["Department ",qe+1]}),B.length>1&&a.jsx(O.button,{type:"button",onClick:()=>ye(qe),whileHover:{scale:1.05},whileTap:{scale:.95},className:"p-1 text-red-500 hover:bg-red-50 rounded transition-colors",title:"Hapus department",children:a.jsx(In,{size:16})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Department ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(un,{options:X(B,qe).map(Ve=>({value:String(Ve.id),label:Ve.name})),value:Me.departmentId?{value:String(Me.departmentId),label:((tt=S.find(Ve=>Ve.id===Me.departmentId))==null?void 0:tt.name)||""}:null,onChange:Ve=>Ee(Ve,qe),placeholder:"Pilih Department",styles:Y,isClearable:!0,required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Personnel ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(un,{options:Me.departmentId?q(Me.departmentId,Re.id).map(Ve=>({value:Ve.id,label:Ve.name})):[],value:Me.selectedUsers,onChange:Ve=>ke(Ve,qe),placeholder:Me.departmentId?"Pilih Personnel":"Pilih department terlebih dahulu",styles:Y,isMulti:!0,isDisabled:!Me.departmentId,required:!0})]})]})]},qe)})})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsxs(O.button,{type:"button",onClick:()=>e("/genba/so"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",children:[a.jsx(hn,{className:"mr-2 h-5 w-5"})," Cancel"]}),a.jsxs(O.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},disabled:h,className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx(vn,{className:"mr-2 h-5 w-5"}),h?"Menyimpan...":"Save Template"]})]})]})]})]})]})]})};function VVe(){return a.jsx(a.Fragment,{children:a.jsxs(ile,{children:[a.jsx(zt,{path:"/login",element:a.jsx(ece,{})}),a.jsx(zt,{path:"/forgot-password",element:a.jsx(T0e,{})}),a.jsx(zt,{path:"/privacy-policy",element:a.jsx(M0e,{})}),a.jsx(zt,{path:"/maintenanceactivity/activitytypes/addactivitytype",element:a.jsx(FV,{})}),a.jsx(zt,{path:"/monitoringmaintenance/detailmonitoringmaintenanceD",element:a.jsx(JWe,{})}),a.jsx(zt,{path:"dummy",element:a.jsx(hVe,{})}),a.jsxs(zt,{element:a.jsx(so,{}),children:[a.jsx(zt,{index:!0,element:a.jsx(HI,{})})," ",a.jsx(zt,{path:"/dashboard",element:a.jsx(HI,{})})]}),a.jsx(zt,{element:a.jsx(so,{requiredPermissions:["view_assets"]}),children:a.jsx(zt,{path:"/audittrail",element:a.jsx(V$e,{})})}),a.jsxs(zt,{element:a.jsx(so,{requiredPermissions:["view_assets"]}),children:[a.jsx(zt,{path:"/genba",element:a.jsx(uVe,{})}),a.jsx(zt,{path:"/genba/soconfiguration",element:a.jsx(dVe,{})}),a.jsx(zt,{path:"/genba/soconfiguration/configure/:id",element:a.jsx(WVe,{})}),a.jsx(zt,{path:"/genba/genbaaction",element:a.jsx(mVe,{})}),a.jsx(zt,{path:"/genba/genbaarea",element:a.jsx($Ve,{})}),a.jsx(zt,{path:"/genba/genbaarea/addgenbaarea",element:a.jsx(zVe,{})}),a.jsx(zt,{path:"/genba/genbaarea/editgenbaarea/:id",element:a.jsx(UVe,{})})]}),a.jsxs(zt,{element:a.jsx(so,{requiredPermissions:["view_assets"]}),children:[a.jsx(zt,{path:"/workflowapproval",element:a.jsx(G$e,{})}),a.jsx(zt,{path:"/workflowapproval/monitoringapproval",element:a.jsx(Y$e,{})}),a.jsx(zt,{path:"/workflowapproval/monitoringapproval/configureapproval/:id",element:a.jsx(XWe,{})})]}),a.jsxs(zt,{element:a.jsx(so,{requiredPermissions:["view_assets"]}),children:[a.jsx(zt,{path:"/worklocation",element:a.jsx(J3e,{})}),a.jsx(zt,{path:"/worklocation/department",element:a.jsx(oHe,{})}),a.jsx(zt,{path:"/worklocation/department/adddepartment",element:a.jsx(cHe,{})}),a.jsx(zt,{path:"/worklocation/department/editdepartment/:id",element:a.jsx(dHe,{})}),a.jsx(zt,{path:"/worklocation/workunit",element:a.jsx(XHe,{})}),a.jsx(zt,{path:"/worklocation/workunit/addworkunit",element:a.jsx(GHe,{})}),a.jsx(zt,{path:"/worklocation/workunit/editworkunit/:id",element:a.jsx(KHe,{})}),a.jsx(zt,{path:"/worklocation/workgroup",element:a.jsx(UV,{})}),a.jsx(zt,{path:"/worklocation/workgroup/addworkgroup",element:a.jsx(zV,{})}),a.jsx(zt,{path:"/worklocation/workgroup/editworkgroup/:id",element:a.jsx(HV,{})}),a.jsx(zt,{path:"/worklocation/workarea",element:a.jsx(sVe,{})}),a.jsx(zt,{path:"/worklocation/workarea/addworkarea",element:a.jsx(rVe,{})}),a.jsx(zt,{path:"/worklocation/workarea/editworkarea/:id",element:a.jsx(eVe,{})})]}),a.jsxs(zt,{element:a.jsx(so,{requiredPermissions:["view_assets"]}),children:[a.jsx(zt,{path:"/workarrangement",element:a.jsx(X3e,{})}),a.jsx(zt,{path:"/workarrangement/workshift",element:a.jsx(ize,{})}),a.jsx(zt,{path:"/workarrangement/workshift/addworkshift",element:a.jsx(aze,{})}),a.jsx(zt,{path:"/workarrangement/workshift/editworkshift/:id",element:a.jsx(rze,{})}),a.jsx(zt,{path:"/workarrangement/workgroup",element:a.jsx(UV,{})}),a.jsx(zt,{path:"/workarrangement/workgroup/addworkgroup",element:a.jsx(zV,{})}),a.jsx(zt,{path:"/workarrangement/workgroup/editworkgroup/:id",element:a.jsx(HV,{})})]}),a.jsx(zt,{element:a.jsx(so,{requiredPermissions:["view_assets"]}),children:a.jsx(zt,{path:"/sparepart",element:a.jsx(Q3e,{})})}),a.jsxs(zt,{element:a.jsx(so,{requiredPermissions:["view_assets"]}),children:[a.jsx(zt,{path:"/assets",element:a.jsx(Z3e,{})}),a.jsx(zt,{path:"/assets/assetsdata",element:a.jsx(L0e,{})}),a.jsx(zt,{path:"/assets/assetsdata/addasset",element:a.jsx(oVe,{})}),a.jsx(zt,{path:"/assets/assetsdata/editasset/:id",element:a.jsx(cVe,{})})]}),a.jsxs(zt,{element:a.jsx(so,{requiredPermissions:["view_assets"]}),children:[a.jsx(zt,{path:"/vendors",element:a.jsx(HWe,{})}),a.jsx(zt,{path:"/vendors/addvendor",element:a.jsx(qWe,{})}),a.jsx(zt,{path:"/vendors/editvendor/:id",element:a.jsx(WWe,{})})]}),a.jsxs(zt,{element:a.jsx(so,{requiredPermissions:["view_assets"]}),children:[a.jsx(zt,{path:"/services",element:a.jsx(eAe,{})}),a.jsx(zt,{path:"/services/servicegroups",element:a.jsx(K$e,{})}),a.jsx(zt,{path:"/services/servicegroups/addservicegroup",element:a.jsx(Z$e,{})}),a.jsx(zt,{path:"/services/servicegroups/editservicegroup/:id",element:a.jsx(tHe,{})}),a.jsx(zt,{path:"/services/servicecatalogues",element:a.jsx(X$e,{})}),a.jsx(zt,{path:"/services/servicecatalogues/addservicecatalogue",element:a.jsx(sHe,{})}),a.jsx(zt,{path:"/services/servicecatalogues/editservicecatalogue/:id",element:a.jsx(nHe,{})})]}),a.jsxs(zt,{element:a.jsx(so,{requiredPermissions:["view_assets"]}),children:[a.jsx(zt,{path:"/maintenanceactivity",element:a.jsx(tAe,{})}),a.jsx(zt,{path:"/maintenanceactivity/stoptimes",element:a.jsx(mHe,{})}),a.jsx(zt,{path:"/maintenanceactivity/stoptimes/addstoptime",element:a.jsx(gHe,{})}),a.jsx(zt,{path:"/maintenanceactivity/stoptimes/editstoptime/:id",element:a.jsx(bHe,{})}),a.jsx(zt,{path:"/maintenanceactivity/activitytypes",element:a.jsx(wHe,{})}),a.jsx(zt,{path:"/maintenanceactivity/activitytypes/addactivitytype",element:a.jsx(FV,{})}),a.jsx(zt,{path:"/maintenanceactivity/activitytypes/editactivitytype/:id",element:a.jsx(SHe,{})}),a.jsx(zt,{path:"/maintenanceactivity/activity",element:a.jsx(HHe,{})}),a.jsx(zt,{path:"/maintenanceactivity/activity/addactivity",element:a.jsx(FHe,{})}),a.jsx(zt,{path:"/maintenanceactivity/activity/editactivity/:id",element:a.jsx(RHe,{})}),a.jsx(zt,{path:"/maintenanceactivity/troubleitem",element:a.jsx(UHe,{})}),a.jsx(zt,{path:"/maintenanceactivity/troubleitem/addtroubleitem",element:a.jsx(BV,{})}),a.jsx(zt,{path:"/maintenanceactivity/troubleitem/edittroubleitem/:id",element:a.jsx(BV,{})})]}),a.jsxs(zt,{element:a.jsx(so,{requiredPermissions:["view_machinehistory"]}),children:[a.jsx(zt,{path:"/machinehistory",element:a.jsx(Uve,{})}),a.jsx(zt,{path:"/machinehistory/reports",element:a.jsx(U$e,{})}),a.jsx(zt,{path:"/machinehistory/addmachinehistory",element:a.jsx(E3e,{})}),a.jsx(zt,{path:"/machinehistory/edit/:id",element:a.jsx(D3e,{})})]}),a.jsxs(zt,{element:a.jsx(so,{requiredPermissions:["view_assets"]}),children:[a.jsx(zt,{path:"/monitoringmaintenance",element:a.jsx(hY,{})}),a.jsx(zt,{path:"/monitoringmaintenance/detailmonitoringmaintenance/:id",element:a.jsx(YWe,{})}),a.jsx(zt,{path:"/monitoringmaintenance/formmonitoringmaintenance",element:a.jsx(lze,{})}),a.jsx(zt,{path:"/monitoringmaintenance",element:a.jsx(hY,{})})]}),a.jsxs(zt,{element:a.jsx(so,{requiredPermissions:["view_workorders"]}),children:[a.jsx(zt,{path:"/workorders",element:a.jsx(K3e,{})}),a.jsx(zt,{path:"/workorders/it",element:a.jsx(_He,{})}),a.jsx(zt,{path:"/workorders/it/addworkorder",element:a.jsx(Y3e,{})}),a.jsx(zt,{path:"/workorders/it/editworkorder/:id",element:a.jsx(THe,{})}),a.jsx(zt,{path:"/workorders/it/receiver",element:a.jsx(H3e,{})}),a.jsx(zt,{path:"/workorders/it/receiver/editreceiver/:id",element:a.jsx(EHe,{})}),a.jsx(zt,{path:"/workorders/it/assignment",element:a.jsx(OHe,{})}),a.jsx(zt,{path:"/workorders/it/assignment/editassignment/:id",element:a.jsx(PHe,{})}),a.jsx(zt,{path:"/workorders/it/reports",element:a.jsx(DWe,{})}),a.jsx(zt,{path:"/workorders/it/knowledgebase",element:a.jsx(q3e,{})})]}),a.jsxs(zt,{element:a.jsx(so,{requiredPermissions:["view_settings"]}),children:[a.jsx(zt,{path:"/settings",element:a.jsx(R0e,{})}),a.jsx(zt,{path:"/settings/change-password",element:a.jsx(L3e,{})})]}),a.jsxs(zt,{element:a.jsx(so,{requiredPermissions:["view_permissions"]}),children:[a.jsx(zt,{path:"/permissions",element:a.jsx(P3e,{})}),a.jsx(zt,{path:"/permissions/adduser",element:a.jsx(F3e,{})})]}),a.jsx(zt,{path:"/logout",element:a.jsx(O0e,{})}),a.jsx(zt,{path:"*",element:a.jsx(QWe,{})})]})})}const GVe=hoe.createRoot(document.getElementById("root"));GVe.render(a.jsx(pe.StrictMode,{children:a.jsx(Tle,{children:a.jsx($le,{children:a.jsx(VVe,{})})})}));export{uy as _,pw as c,Vn as g};
