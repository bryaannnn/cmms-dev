var vee=Object.defineProperty;var wee=(t,e,r)=>e in t?vee(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var At=(t,e,r)=>wee(t,typeof e!="symbol"?e+"":e,r);import{g as jee}from"./projectEnvVariables-Dc7Ax8fr.js";function See(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Fx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $r(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var YS={exports:{}},Bm={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W3;function Nee(){if(W3)return Bm;W3=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(n,s,i){var o=null;if(i!==void 0&&(o=""+i),s.key!==void 0&&(o=""+s.key),"key"in s){i={};for(var l in s)l!=="key"&&(i[l]=s[l])}else i=s;return s=i.ref,{$$typeof:t,type:n,key:o,ref:s!==void 0?s:null,props:i}}return Bm.Fragment=e,Bm.jsx=r,Bm.jsxs=r,Bm}var q3;function kee(){return q3||(q3=1,YS.exports=Nee()),YS.exports}var a=kee(),KS={exports:{}},nr={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U3;function Cee(){if(U3)return nr;U3=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),x=Symbol.iterator;function y(q){return q===null||typeof q!="object"?null:(q=x&&q[x]||q["@@iterator"],typeof q=="function"?q:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,v={};function N(q,Z,ie){this.props=q,this.context=Z,this.refs=v,this.updater=ie||w}N.prototype.isReactComponent={},N.prototype.setState=function(q,Z){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,Z,"setState")},N.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function T(){}T.prototype=N.prototype;function S(q,Z,ie){this.props=q,this.context=Z,this.refs=v,this.updater=ie||w}var O=S.prototype=new T;O.constructor=S,j(O,N.prototype),O.isPureReactComponent=!0;var _=Array.isArray;function A(){}var E={H:null,A:null,T:null,S:null},D=Object.prototype.hasOwnProperty;function $(q,Z,ie){var oe=ie.ref;return{$$typeof:t,type:q,key:Z,ref:oe!==void 0?oe:null,props:ie}}function I(q,Z){return $(q.type,Z,q.props)}function L(q){return typeof q=="object"&&q!==null&&q.$$typeof===t}function R(q){var Z={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(ie){return Z[ie]})}var z=/\/+/g;function Y(q,Z){return typeof q=="object"&&q!==null&&q.key!=null?R(""+q.key):Z.toString(36)}function W(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(A,A):(q.status="pending",q.then(function(Z){q.status==="pending"&&(q.status="fulfilled",q.value=Z)},function(Z){q.status==="pending"&&(q.status="rejected",q.reason=Z)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function H(q,Z,ie,oe,le){var ge=typeof q;(ge==="undefined"||ge==="boolean")&&(q=null);var Le=!1;if(q===null)Le=!0;else switch(ge){case"bigint":case"string":case"number":Le=!0;break;case"object":switch(q.$$typeof){case t:case e:Le=!0;break;case h:return Le=q._init,H(Le(q._payload),Z,ie,oe,le)}}if(Le)return le=le(q),Le=oe===""?"."+Y(q,0):oe,_(le)?(ie="",Le!=null&&(ie=Le.replace(z,"$&/")+"/"),H(le,Z,ie,"",function(Me){return Me})):le!=null&&(L(le)&&(le=I(le,ie+(le.key==null||q&&q.key===le.key?"":(""+le.key).replace(z,"$&/")+"/")+Le)),Z.push(le)),1;Le=0;var Oe=oe===""?".":oe+":";if(_(q))for(var xe=0;xe<q.length;xe++)oe=q[xe],ge=Oe+Y(oe,xe),Le+=H(oe,Z,ie,ge,le);else if(xe=y(q),typeof xe=="function")for(q=xe.call(q),xe=0;!(oe=q.next()).done;)oe=oe.value,ge=Oe+Y(oe,xe++),Le+=H(oe,Z,ie,ge,le);else if(ge==="object"){if(typeof q.then=="function")return H(W(q),Z,ie,oe,le);throw Z=String(q),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return Le}function P(q,Z,ie){if(q==null)return q;var oe=[],le=0;return H(q,oe,"","",function(ge){return Z.call(ie,ge,le++)}),oe}function F(q){if(q._status===-1){var Z=q._result;Z=Z(),Z.then(function(ie){(q._status===0||q._status===-1)&&(q._status=1,q._result=ie)},function(ie){(q._status===0||q._status===-1)&&(q._status=2,q._result=ie)}),q._status===-1&&(q._status=0,q._result=Z)}if(q._status===1)return q._result.default;throw q._result}var X=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)},te={map:P,forEach:function(q,Z,ie){P(q,function(){Z.apply(this,arguments)},ie)},count:function(q){var Z=0;return P(q,function(){Z++}),Z},toArray:function(q){return P(q,function(Z){return Z})||[]},only:function(q){if(!L(q))throw Error("React.Children.only expected to receive a single React element child.");return q}};return nr.Activity=m,nr.Children=te,nr.Component=N,nr.Fragment=r,nr.Profiler=s,nr.PureComponent=S,nr.StrictMode=n,nr.Suspense=c,nr.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=E,nr.__COMPILER_RUNTIME={__proto__:null,c:function(q){return E.H.useMemoCache(q)}},nr.cache=function(q){return function(){return q.apply(null,arguments)}},nr.cacheSignal=function(){return null},nr.cloneElement=function(q,Z,ie){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var oe=j({},q.props),le=q.key;if(Z!=null)for(ge in Z.key!==void 0&&(le=""+Z.key),Z)!D.call(Z,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&Z.ref===void 0||(oe[ge]=Z[ge]);var ge=arguments.length-2;if(ge===1)oe.children=ie;else if(1<ge){for(var Le=Array(ge),Oe=0;Oe<ge;Oe++)Le[Oe]=arguments[Oe+2];oe.children=Le}return $(q.type,le,oe)},nr.createContext=function(q){return q={$$typeof:o,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:i,_context:q},q},nr.createElement=function(q,Z,ie){var oe,le={},ge=null;if(Z!=null)for(oe in Z.key!==void 0&&(ge=""+Z.key),Z)D.call(Z,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(le[oe]=Z[oe]);var Le=arguments.length-2;if(Le===1)le.children=ie;else if(1<Le){for(var Oe=Array(Le),xe=0;xe<Le;xe++)Oe[xe]=arguments[xe+2];le.children=Oe}if(q&&q.defaultProps)for(oe in Le=q.defaultProps,Le)le[oe]===void 0&&(le[oe]=Le[oe]);return $(q,ge,le)},nr.createRef=function(){return{current:null}},nr.forwardRef=function(q){return{$$typeof:l,render:q}},nr.isValidElement=L,nr.lazy=function(q){return{$$typeof:h,_payload:{_status:-1,_result:q},_init:F}},nr.memo=function(q,Z){return{$$typeof:d,type:q,compare:Z===void 0?null:Z}},nr.startTransition=function(q){var Z=E.T,ie={};E.T=ie;try{var oe=q(),le=E.S;le!==null&&le(ie,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(A,X)}catch(ge){X(ge)}finally{Z!==null&&ie.types!==null&&(Z.types=ie.types),E.T=Z}},nr.unstable_useCacheRefresh=function(){return E.H.useCacheRefresh()},nr.use=function(q){return E.H.use(q)},nr.useActionState=function(q,Z,ie){return E.H.useActionState(q,Z,ie)},nr.useCallback=function(q,Z){return E.H.useCallback(q,Z)},nr.useContext=function(q){return E.H.useContext(q)},nr.useDebugValue=function(){},nr.useDeferredValue=function(q,Z){return E.H.useDeferredValue(q,Z)},nr.useEffect=function(q,Z){return E.H.useEffect(q,Z)},nr.useEffectEvent=function(q){return E.H.useEffectEvent(q)},nr.useId=function(){return E.H.useId()},nr.useImperativeHandle=function(q,Z,ie){return E.H.useImperativeHandle(q,Z,ie)},nr.useInsertionEffect=function(q,Z){return E.H.useInsertionEffect(q,Z)},nr.useLayoutEffect=function(q,Z){return E.H.useLayoutEffect(q,Z)},nr.useMemo=function(q,Z){return E.H.useMemo(q,Z)},nr.useOptimistic=function(q,Z){return E.H.useOptimistic(q,Z)},nr.useReducer=function(q,Z,ie){return E.H.useReducer(q,Z,ie)},nr.useRef=function(q){return E.H.useRef(q)},nr.useState=function(q){return E.H.useState(q)},nr.useSyncExternalStore=function(q,Z,ie){return E.H.useSyncExternalStore(q,Z,ie)},nr.useTransition=function(){return E.H.useTransition()},nr.version="19.2.0",nr}var G3;function Z0(){return G3||(G3=1,KS.exports=Cee()),KS.exports}var g=Z0();const J=$r(g),ub=See({__proto__:null,default:J},[g]);var XS={exports:{}},zm={},JS={exports:{}},QS={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y3;function Tee(){return Y3||(Y3=1,(function(t){function e(H,P){var F=H.length;H.push(P);e:for(;0<F;){var X=F-1>>>1,te=H[X];if(0<s(te,P))H[X]=P,H[F]=te,F=X;else break e}}function r(H){return H.length===0?null:H[0]}function n(H){if(H.length===0)return null;var P=H[0],F=H.pop();if(F!==P){H[0]=F;e:for(var X=0,te=H.length,q=te>>>1;X<q;){var Z=2*(X+1)-1,ie=H[Z],oe=Z+1,le=H[oe];if(0>s(ie,F))oe<te&&0>s(le,ie)?(H[X]=le,H[oe]=F,X=oe):(H[X]=ie,H[Z]=F,X=Z);else if(oe<te&&0>s(le,F))H[X]=le,H[oe]=F,X=oe;else break e}}return P}function s(H,P){var F=H.sortIndex-P.sortIndex;return F!==0?F:H.id-P.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],h=1,m=null,x=3,y=!1,w=!1,j=!1,v=!1,N=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;function O(H){for(var P=r(d);P!==null;){if(P.callback===null)n(d);else if(P.startTime<=H)n(d),P.sortIndex=P.expirationTime,e(c,P);else break;P=r(d)}}function _(H){if(j=!1,O(H),!w)if(r(c)!==null)w=!0,A||(A=!0,R());else{var P=r(d);P!==null&&W(_,P.startTime-H)}}var A=!1,E=-1,D=5,$=-1;function I(){return v?!0:!(t.unstable_now()-$<D)}function L(){if(v=!1,A){var H=t.unstable_now();$=H;var P=!0;try{e:{w=!1,j&&(j=!1,T(E),E=-1),y=!0;var F=x;try{t:{for(O(H),m=r(c);m!==null&&!(m.expirationTime>H&&I());){var X=m.callback;if(typeof X=="function"){m.callback=null,x=m.priorityLevel;var te=X(m.expirationTime<=H);if(H=t.unstable_now(),typeof te=="function"){m.callback=te,O(H),P=!0;break t}m===r(c)&&n(c),O(H)}else n(c);m=r(c)}if(m!==null)P=!0;else{var q=r(d);q!==null&&W(_,q.startTime-H),P=!1}}break e}finally{m=null,x=F,y=!1}P=void 0}}finally{P?R():A=!1}}}var R;if(typeof S=="function")R=function(){S(L)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,Y=z.port2;z.port1.onmessage=L,R=function(){Y.postMessage(null)}}else R=function(){N(L,0)};function W(H,P){E=N(function(){H(t.unstable_now())},P)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_next=function(H){switch(x){case 1:case 2:case 3:var P=3;break;default:P=x}var F=x;x=P;try{return H()}finally{x=F}},t.unstable_requestPaint=function(){v=!0},t.unstable_runWithPriority=function(H,P){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var F=x;x=H;try{return P()}finally{x=F}},t.unstable_scheduleCallback=function(H,P,F){var X=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?X+F:X):F=X,H){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=F+te,H={id:h++,callback:P,priorityLevel:H,startTime:F,expirationTime:te,sortIndex:-1},F>X?(H.sortIndex=F,e(d,H),r(c)===null&&H===r(d)&&(j?(T(E),E=-1):j=!0,W(_,F-X))):(H.sortIndex=te,e(c,H),w||y||(w=!0,A||(A=!0,R()))),H},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(H){var P=x;return function(){var F=x;x=P;try{return H.apply(this,arguments)}finally{x=F}}}})(QS)),QS}var K3;function _ee(){return K3||(K3=1,JS.exports=Tee()),JS.exports}var ZS={exports:{}},za={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X3;function Mee(){if(X3)return za;X3=1;var t=Z0();function e(c){var d="https://react.dev/errors/"+c;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)d+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},s=Symbol.for("react.portal");function i(c,d,h){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:m==null?null:""+m,children:c,containerInfo:d,implementation:h}}var o=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(c,d){if(c==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return za.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,za.createPortal=function(c,d){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return i(c,d,null,h)},za.flushSync=function(c){var d=o.T,h=n.p;try{if(o.T=null,n.p=2,c)return c()}finally{o.T=d,n.p=h,n.d.f()}},za.preconnect=function(c,d){typeof c=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,n.d.C(c,d))},za.prefetchDNS=function(c){typeof c=="string"&&n.d.D(c)},za.preinit=function(c,d){if(typeof c=="string"&&d&&typeof d.as=="string"){var h=d.as,m=l(h,d.crossOrigin),x=typeof d.integrity=="string"?d.integrity:void 0,y=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;h==="style"?n.d.S(c,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:m,integrity:x,fetchPriority:y}):h==="script"&&n.d.X(c,{crossOrigin:m,integrity:x,fetchPriority:y,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},za.preinitModule=function(c,d){if(typeof c=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var h=l(d.as,d.crossOrigin);n.d.M(c,{crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&n.d.M(c)},za.preload=function(c,d){if(typeof c=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var h=d.as,m=l(h,d.crossOrigin);n.d.L(c,h,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},za.preloadModule=function(c,d){if(typeof c=="string")if(d){var h=l(d.as,d.crossOrigin);n.d.m(c,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else n.d.m(c)},za.requestFormReset=function(c){n.d.r(c)},za.unstable_batchedUpdates=function(c,d){return c(d)},za.useFormState=function(c,d,h){return o.H.useFormState(c,d,h)},za.useFormStatus=function(){return o.H.useHostTransitionStatus()},za.version="19.2.0",za}var J3;function Rz(){if(J3)return ZS.exports;J3=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ZS.exports=Mee(),ZS.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q3;function Aee(){if(Q3)return zm;Q3=1;var t=_ee(),e=Z0(),r=Rz();function n(u){var f="https://react.dev/errors/"+u;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)}function i(u){var f=u,p=u;if(u.alternate)for(;f.return;)f=f.return;else{u=f;do f=u,(f.flags&4098)!==0&&(p=f.return),u=f.return;while(u)}return f.tag===3?p:null}function o(u){if(u.tag===13){var f=u.memoizedState;if(f===null&&(u=u.alternate,u!==null&&(f=u.memoizedState)),f!==null)return f.dehydrated}return null}function l(u){if(u.tag===31){var f=u.memoizedState;if(f===null&&(u=u.alternate,u!==null&&(f=u.memoizedState)),f!==null)return f.dehydrated}return null}function c(u){if(i(u)!==u)throw Error(n(188))}function d(u){var f=u.alternate;if(!f){if(f=i(u),f===null)throw Error(n(188));return f!==u?null:u}for(var p=u,b=f;;){var k=p.return;if(k===null)break;var M=k.alternate;if(M===null){if(b=k.return,b!==null){p=b;continue}break}if(k.child===M.child){for(M=k.child;M;){if(M===p)return c(k),u;if(M===b)return c(k),f;M=M.sibling}throw Error(n(188))}if(p.return!==b.return)p=k,b=M;else{for(var V=!1,Q=k.child;Q;){if(Q===p){V=!0,p=k,b=M;break}if(Q===b){V=!0,b=k,p=M;break}Q=Q.sibling}if(!V){for(Q=M.child;Q;){if(Q===p){V=!0,p=M,b=k;break}if(Q===b){V=!0,b=M,p=k;break}Q=Q.sibling}if(!V)throw Error(n(189))}}if(p.alternate!==b)throw Error(n(190))}if(p.tag!==3)throw Error(n(188));return p.stateNode.current===p?u:f}function h(u){var f=u.tag;if(f===5||f===26||f===27||f===6)return u;for(u=u.child;u!==null;){if(f=h(u),f!==null)return f;u=u.sibling}return null}var m=Object.assign,x=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),T=Symbol.for("react.consumer"),S=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),$=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function R(u){return u===null||typeof u!="object"?null:(u=L&&u[L]||u["@@iterator"],typeof u=="function"?u:null)}var z=Symbol.for("react.client.reference");function Y(u){if(u==null)return null;if(typeof u=="function")return u.$$typeof===z?null:u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case j:return"Fragment";case N:return"Profiler";case v:return"StrictMode";case _:return"Suspense";case A:return"SuspenseList";case $:return"Activity"}if(typeof u=="object")switch(u.$$typeof){case w:return"Portal";case S:return u.displayName||"Context";case T:return(u._context.displayName||"Context")+".Consumer";case O:var f=u.render;return u=u.displayName,u||(u=f.displayName||f.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case E:return f=u.displayName||null,f!==null?f:Y(u.type)||"Memo";case D:f=u._payload,u=u._init;try{return Y(u(f))}catch{}}return null}var W=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,P=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F={pending:!1,data:null,method:null,action:null},X=[],te=-1;function q(u){return{current:u}}function Z(u){0>te||(u.current=X[te],X[te]=null,te--)}function ie(u,f){te++,X[te]=u.current,u.current=f}var oe=q(null),le=q(null),ge=q(null),Le=q(null);function Oe(u,f){switch(ie(ge,f),ie(le,u),ie(oe,null),f.nodeType){case 9:case 11:u=(u=f.documentElement)&&(u=u.namespaceURI)?h3(u):0;break;default:if(u=f.tagName,f=f.namespaceURI)f=h3(f),u=m3(f,u);else switch(u){case"svg":u=1;break;case"math":u=2;break;default:u=0}}Z(oe),ie(oe,u)}function xe(){Z(oe),Z(le),Z(ge)}function Me(u){u.memoizedState!==null&&ie(Le,u);var f=oe.current,p=m3(f,u.type);f!==p&&(ie(le,u),ie(oe,p))}function Be(u){le.current===u&&(Z(oe),Z(le)),Le.current===u&&(Z(Le),Lm._currentValue=F)}var re,se;function ee(u){if(re===void 0)try{throw Error()}catch(p){var f=p.stack.trim().match(/\n( *(at )?)/);re=f&&f[1]||"",se=-1<p.stack.indexOf(`
    at`)?" (<anonymous>)":-1<p.stack.indexOf("@")?"@unknown:0:0":""}return`
`+re+u+se}var ve=!1;function Ge(u,f){if(!u||ve)return"";ve=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var b={DetermineComponentFrameRoot:function(){try{if(f){var Qe=function(){throw Error()};if(Object.defineProperty(Qe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Qe,[])}catch(Fe){var Ie=Fe}Reflect.construct(u,[],Qe)}else{try{Qe.call()}catch(Fe){Ie=Fe}u.call(Qe.prototype)}}else{try{throw Error()}catch(Fe){Ie=Fe}(Qe=u())&&typeof Qe.catch=="function"&&Qe.catch(function(){})}}catch(Fe){if(Fe&&Ie&&typeof Fe.stack=="string")return[Fe.stack,Ie.stack]}return[null,null]}};b.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var k=Object.getOwnPropertyDescriptor(b.DetermineComponentFrameRoot,"name");k&&k.configurable&&Object.defineProperty(b.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var M=b.DetermineComponentFrameRoot(),V=M[0],Q=M[1];if(V&&Q){var me=V.split(`
`),Re=Q.split(`
`);for(k=b=0;b<me.length&&!me[b].includes("DetermineComponentFrameRoot");)b++;for(;k<Re.length&&!Re[k].includes("DetermineComponentFrameRoot");)k++;if(b===me.length||k===Re.length)for(b=me.length-1,k=Re.length-1;1<=b&&0<=k&&me[b]!==Re[k];)k--;for(;1<=b&&0<=k;b--,k--)if(me[b]!==Re[k]){if(b!==1||k!==1)do if(b--,k--,0>k||me[b]!==Re[k]){var Ve=`
`+me[b].replace(" at new "," at ");return u.displayName&&Ve.includes("<anonymous>")&&(Ve=Ve.replace("<anonymous>",u.displayName)),Ve}while(1<=b&&0<=k);break}}}finally{ve=!1,Error.prepareStackTrace=p}return(p=u?u.displayName||u.name:"")?ee(p):""}function Ke(u,f){switch(u.tag){case 26:case 27:case 5:return ee(u.type);case 16:return ee("Lazy");case 13:return u.child!==f&&f!==null?ee("Suspense Fallback"):ee("Suspense");case 19:return ee("SuspenseList");case 0:case 15:return Ge(u.type,!1);case 11:return Ge(u.type.render,!1);case 1:return Ge(u.type,!0);case 31:return ee("Activity");default:return""}}function ye(u){try{var f="",p=null;do f+=Ke(u,p),p=u,u=u.return;while(u);return f}catch(b){return`
Error generating stack: `+b.message+`
`+b.stack}}var ot=Object.prototype.hasOwnProperty,mt=t.unstable_scheduleCallback,nt=t.unstable_cancelCallback,xt=t.unstable_shouldYield,Nt=t.unstable_requestPaint,wt=t.unstable_now,zt=t.unstable_getCurrentPriorityLevel,rt=t.unstable_ImmediatePriority,Ne=t.unstable_UserBlockingPriority,ze=t.unstable_NormalPriority,we=t.unstable_LowPriority,ut=t.unstable_IdlePriority,ht=t.log,We=t.unstable_setDisableYieldValue,he=null,Je=null;function Ue(u){if(typeof ht=="function"&&We(u),Je&&typeof Je.setStrictMode=="function")try{Je.setStrictMode(he,u)}catch{}}var ae=Math.clz32?Math.clz32:et,ne=Math.log,Te=Math.LN2;function et(u){return u>>>=0,u===0?32:31-(ne(u)/Te|0)|0}var ct=256,pe=262144,B=4194304;function ce(u){var f=u&42;if(f!==0)return f;switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return u&261888;case 262144:case 524288:case 1048576:case 2097152:return u&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return u&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return u}}function be(u,f,p){var b=u.pendingLanes;if(b===0)return 0;var k=0,M=u.suspendedLanes,V=u.pingedLanes;u=u.warmLanes;var Q=b&134217727;return Q!==0?(b=Q&~M,b!==0?k=ce(b):(V&=Q,V!==0?k=ce(V):p||(p=Q&~u,p!==0&&(k=ce(p))))):(Q=b&~M,Q!==0?k=ce(Q):V!==0?k=ce(V):p||(p=b&~u,p!==0&&(k=ce(p)))),k===0?0:f!==0&&f!==k&&(f&M)===0&&(M=k&-k,p=f&-f,M>=p||M===32&&(p&4194048)!==0)?f:k}function Se(u,f){return(u.pendingLanes&~(u.suspendedLanes&~u.pingedLanes)&f)===0}function $e(u,f){switch(u){case 1:case 2:case 4:case 8:case 64:return f+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ue(){var u=B;return B<<=1,(B&62914560)===0&&(B=4194304),u}function fe(u){for(var f=[],p=0;31>p;p++)f.push(u);return f}function Ae(u,f){u.pendingLanes|=f,f!==268435456&&(u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0)}function tt(u,f,p,b,k,M){var V=u.pendingLanes;u.pendingLanes=p,u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0,u.expiredLanes&=p,u.entangledLanes&=p,u.errorRecoveryDisabledLanes&=p,u.shellSuspendCounter=0;var Q=u.entanglements,me=u.expirationTimes,Re=u.hiddenUpdates;for(p=V&~p;0<p;){var Ve=31-ae(p),Qe=1<<Ve;Q[Ve]=0,me[Ve]=-1;var Ie=Re[Ve];if(Ie!==null)for(Re[Ve]=null,Ve=0;Ve<Ie.length;Ve++){var Fe=Ie[Ve];Fe!==null&&(Fe.lane&=-536870913)}p&=~Qe}b!==0&&dt(u,b,0),M!==0&&k===0&&u.tag!==0&&(u.suspendedLanes|=M&~(V&~f))}function dt(u,f,p){u.pendingLanes|=f,u.suspendedLanes&=~f;var b=31-ae(f);u.entangledLanes|=f,u.entanglements[b]=u.entanglements[b]|1073741824|p&261930}function pt(u,f){var p=u.entangledLanes|=f;for(u=u.entanglements;p;){var b=31-ae(p),k=1<<b;k&f|u[b]&f&&(u[b]|=f),p&=~k}}function Ee(u,f){var p=f&-f;return p=(p&42)!==0?1:Ye(p),(p&(u.suspendedLanes|f))!==0?0:p}function Ye(u){switch(u){case 2:u=1;break;case 8:u=4;break;case 32:u=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:u=128;break;case 268435456:u=134217728;break;default:u=0}return u}function bt(u){return u&=-u,2<u?8<u?(u&134217727)!==0?32:268435456:8:2}function Qt(){var u=P.p;return u!==0?u:(u=window.event,u===void 0?32:L3(u.type))}function Dr(u,f){var p=P.p;try{return P.p=u,f()}finally{P.p=p}}var Vr=Math.random().toString(36).slice(2),Ot="__reactFiber$"+Vr,dr="__reactProps$"+Vr,Rt="__reactContainer$"+Vr,Or="__reactEvents$"+Vr,_e="__reactListeners$"+Vr,De="__reactHandles$"+Vr,Ze="__reactResources$"+Vr,K="__reactMarker$"+Vr;function ke(u){delete u[Ot],delete u[dr],delete u[Or],delete u[_e],delete u[De]}function He(u){var f=u[Ot];if(f)return f;for(var p=u.parentNode;p;){if(f=p[Rt]||p[Ot]){if(p=f.alternate,f.child!==null||p!==null&&p.child!==null)for(u=w3(u);u!==null;){if(p=u[Ot])return p;u=w3(u)}return f}u=p,p=u.parentNode}return null}function Pt(u){if(u=u[Ot]||u[Rt]){var f=u.tag;if(f===5||f===6||f===13||f===31||f===26||f===27||f===3)return u}return null}function fr(u){var f=u.tag;if(f===5||f===26||f===27||f===6)return u.stateNode;throw Error(n(33))}function Tt(u){var f=u[Ze];return f||(f=u[Ze]={hoistableStyles:new Map,hoistableScripts:new Map}),f}function Bt(u){u[K]=!0}var pr=new Set,xr={};function yn(u,f){Cr(u,f),Cr(u+"Capture",f)}function Cr(u,f){for(xr[u]=f,u=0;u<f.length;u++)pr.add(f[u])}var Ms=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),or={},Lo={};function Qn(u){return ot.call(Lo,u)?!0:ot.call(or,u)?!1:Ms.test(u)?Lo[u]=!0:(or[u]=!0,!1)}function ba(u,f,p){if(Qn(f))if(p===null)u.removeAttribute(f);else{switch(typeof p){case"undefined":case"function":case"symbol":u.removeAttribute(f);return;case"boolean":var b=f.toLowerCase().slice(0,5);if(b!=="data-"&&b!=="aria-"){u.removeAttribute(f);return}}u.setAttribute(f,""+p)}}function Yr(u,f,p){if(p===null)u.removeAttribute(f);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":u.removeAttribute(f);return}u.setAttribute(f,""+p)}}function Dn(u,f,p,b){if(b===null)u.removeAttribute(p);else{switch(typeof b){case"undefined":case"function":case"symbol":case"boolean":u.removeAttribute(p);return}u.setAttributeNS(f,p,""+b)}}function Kr(u){switch(typeof u){case"bigint":case"boolean":case"number":case"string":case"undefined":return u;case"object":return u;default:return""}}function Nd(u){var f=u.type;return(u=u.nodeName)&&u.toLowerCase()==="input"&&(f==="checkbox"||f==="radio")}function kd(u,f,p){var b=Object.getOwnPropertyDescriptor(u.constructor.prototype,f);if(!u.hasOwnProperty(f)&&typeof b<"u"&&typeof b.get=="function"&&typeof b.set=="function"){var k=b.get,M=b.set;return Object.defineProperty(u,f,{configurable:!0,get:function(){return k.call(this)},set:function(V){p=""+V,M.call(this,V)}}),Object.defineProperty(u,f,{enumerable:b.enumerable}),{getValue:function(){return p},setValue:function(V){p=""+V},stopTracking:function(){u._valueTracker=null,delete u[f]}}}}function Zc(u){if(!u._valueTracker){var f=Nd(u)?"checked":"value";u._valueTracker=kd(u,f,""+u[f])}}function Tg(u){if(!u)return!1;var f=u._valueTracker;if(!f)return!0;var p=f.getValue(),b="";return u&&(b=Nd(u)?u.checked?"true":"false":u.value),u=b,u!==p?(f.setValue(u),!0):!1}function Cd(u){if(u=u||(typeof document<"u"?document:void 0),typeof u>"u")return null;try{return u.activeElement||u.body}catch{return u.body}}var q1=/[\n"\\]/g;function gs(u){return u.replace(q1,function(f){return"\\"+f.charCodeAt(0).toString(16)+" "})}function Qh(u,f,p,b,k,M,V,Q){u.name="",V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"?u.type=V:u.removeAttribute("type"),f!=null?V==="number"?(f===0&&u.value===""||u.value!=f)&&(u.value=""+Kr(f)):u.value!==""+Kr(f)&&(u.value=""+Kr(f)):V!=="submit"&&V!=="reset"||u.removeAttribute("value"),f!=null?Zh(u,V,Kr(f)):p!=null?Zh(u,V,Kr(p)):b!=null&&u.removeAttribute("value"),k==null&&M!=null&&(u.defaultChecked=!!M),k!=null&&(u.checked=k&&typeof k!="function"&&typeof k!="symbol"),Q!=null&&typeof Q!="function"&&typeof Q!="symbol"&&typeof Q!="boolean"?u.name=""+Kr(Q):u.removeAttribute("name")}function _g(u,f,p,b,k,M,V,Q){if(M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"&&(u.type=M),f!=null||p!=null){if(!(M!=="submit"&&M!=="reset"||f!=null)){Zc(u);return}p=p!=null?""+Kr(p):"",f=f!=null?""+Kr(f):p,Q||f===u.value||(u.value=f),u.defaultValue=f}b=b??k,b=typeof b!="function"&&typeof b!="symbol"&&!!b,u.checked=Q?u.checked:!!b,u.defaultChecked=!!b,V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"&&(u.name=V),Zc(u)}function Zh(u,f,p){f==="number"&&Cd(u.ownerDocument)===u||u.defaultValue===""+p||(u.defaultValue=""+p)}function Wl(u,f,p,b){if(u=u.options,f){f={};for(var k=0;k<p.length;k++)f["$"+p[k]]=!0;for(p=0;p<u.length;p++)k=f.hasOwnProperty("$"+u[p].value),u[p].selected!==k&&(u[p].selected=k),k&&b&&(u[p].defaultSelected=!0)}else{for(p=""+Kr(p),f=null,k=0;k<u.length;k++){if(u[k].value===p){u[k].selected=!0,b&&(u[k].defaultSelected=!0);return}f!==null||u[k].disabled||(f=u[k])}f!==null&&(f.selected=!0)}}function Mg(u,f,p){if(f!=null&&(f=""+Kr(f),f!==u.value&&(u.value=f),p==null)){u.defaultValue!==f&&(u.defaultValue=f);return}u.defaultValue=p!=null?""+Kr(p):""}function G(u,f,p,b){if(f==null){if(b!=null){if(p!=null)throw Error(n(92));if(W(b)){if(1<b.length)throw Error(n(93));b=b[0]}p=b}p==null&&(p=""),f=p}p=Kr(f),u.defaultValue=p,b=u.textContent,b===p&&b!==""&&b!==null&&(u.value=b),Zc(u)}function U(u,f){if(f){var p=u.firstChild;if(p&&p===u.lastChild&&p.nodeType===3){p.nodeValue=f;return}}u.textContent=f}var de=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function gt(u,f,p){var b=f.indexOf("--")===0;p==null||typeof p=="boolean"||p===""?b?u.setProperty(f,""):f==="float"?u.cssFloat="":u[f]="":b?u.setProperty(f,p):typeof p!="number"||p===0||de.has(f)?f==="float"?u.cssFloat=p:u[f]=(""+p).trim():u[f]=p+"px"}function gr(u,f,p){if(f!=null&&typeof f!="object")throw Error(n(62));if(u=u.style,p!=null){for(var b in p)!p.hasOwnProperty(b)||f!=null&&f.hasOwnProperty(b)||(b.indexOf("--")===0?u.setProperty(b,""):b==="float"?u.cssFloat="":u[b]="");for(var k in f)b=f[k],f.hasOwnProperty(k)&&p[k]!==b&&gt(u,k,b)}else for(var M in f)f.hasOwnProperty(M)&&gt(u,M,f[M])}function Tr(u){if(u.indexOf("-")===-1)return!1;switch(u){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var As=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ai=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xs(u){return Ai.test(""+u)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":u}function Aa(){}var Ag=null;function U1(u){return u=u.target||u.srcElement||window,u.correspondingUseElement&&(u=u.correspondingUseElement),u.nodeType===3?u.parentNode:u}var Td=null,_d=null;function fD(u){var f=Pt(u);if(f&&(u=f.stateNode)){var p=u[dr]||null;e:switch(u=f.stateNode,f.type){case"input":if(Qh(u,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name),f=p.name,p.type==="radio"&&f!=null){for(p=u;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll('input[name="'+gs(""+f)+'"][type="radio"]'),f=0;f<p.length;f++){var b=p[f];if(b!==u&&b.form===u.form){var k=b[dr]||null;if(!k)throw Error(n(90));Qh(b,k.value,k.defaultValue,k.defaultValue,k.checked,k.defaultChecked,k.type,k.name)}}for(f=0;f<p.length;f++)b=p[f],b.form===u.form&&Tg(b)}break e;case"textarea":Mg(u,p.value,p.defaultValue);break e;case"select":f=p.value,f!=null&&Wl(u,!!p.multiple,f,!1)}}}var G1=!1;function hD(u,f,p){if(G1)return u(f,p);G1=!0;try{var b=u(f);return b}finally{if(G1=!1,(Td!==null||_d!==null)&&(xx(),Td&&(f=Td,u=_d,_d=Td=null,fD(f),u)))for(f=0;f<u.length;f++)fD(u[f])}}function em(u,f){var p=u.stateNode;if(p===null)return null;var b=p[dr]||null;if(b===null)return null;p=b[f];e:switch(f){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(b=!b.disabled)||(u=u.type,b=!(u==="button"||u==="input"||u==="select"||u==="textarea")),u=!b;break e;default:u=!1}if(u)return null;if(p&&typeof p!="function")throw Error(n(231,f,typeof p));return p}var $o=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Y1=!1;if($o)try{var tm={};Object.defineProperty(tm,"passive",{get:function(){Y1=!0}}),window.addEventListener("test",tm,tm),window.removeEventListener("test",tm,tm)}catch{Y1=!1}var ql=null,K1=null,Og=null;function mD(){if(Og)return Og;var u,f=K1,p=f.length,b,k="value"in ql?ql.value:ql.textContent,M=k.length;for(u=0;u<p&&f[u]===k[u];u++);var V=p-u;for(b=1;b<=V&&f[p-b]===k[M-b];b++);return Og=k.slice(u,1<b?1-b:void 0)}function Eg(u){var f=u.keyCode;return"charCode"in u?(u=u.charCode,u===0&&f===13&&(u=13)):u=f,u===10&&(u=13),32<=u||u===13?u:0}function Dg(){return!0}function pD(){return!1}function xs(u){function f(p,b,k,M,V){this._reactName=p,this._targetInst=k,this.type=b,this.nativeEvent=M,this.target=V,this.currentTarget=null;for(var Q in u)u.hasOwnProperty(Q)&&(p=u[Q],this[Q]=p?p(M):M[Q]);return this.isDefaultPrevented=(M.defaultPrevented!=null?M.defaultPrevented:M.returnValue===!1)?Dg:pD,this.isPropagationStopped=pD,this}return m(f.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=Dg)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=Dg)},persist:function(){},isPersistent:Dg}),f}var eu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(u){return u.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pg=xs(eu),rm=m({},eu,{view:0,detail:0}),yQ=xs(rm),X1,J1,nm,Rg=m({},rm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Z1,button:0,buttons:0,relatedTarget:function(u){return u.relatedTarget===void 0?u.fromElement===u.srcElement?u.toElement:u.fromElement:u.relatedTarget},movementX:function(u){return"movementX"in u?u.movementX:(u!==nm&&(nm&&u.type==="mousemove"?(X1=u.screenX-nm.screenX,J1=u.screenY-nm.screenY):J1=X1=0,nm=u),X1)},movementY:function(u){return"movementY"in u?u.movementY:J1}}),gD=xs(Rg),bQ=m({},Rg,{dataTransfer:0}),vQ=xs(bQ),wQ=m({},rm,{relatedTarget:0}),Q1=xs(wQ),jQ=m({},eu,{animationName:0,elapsedTime:0,pseudoElement:0}),SQ=xs(jQ),NQ=m({},eu,{clipboardData:function(u){return"clipboardData"in u?u.clipboardData:window.clipboardData}}),kQ=xs(NQ),CQ=m({},eu,{data:0}),xD=xs(CQ),TQ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_Q={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},MQ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function AQ(u){var f=this.nativeEvent;return f.getModifierState?f.getModifierState(u):(u=MQ[u])?!!f[u]:!1}function Z1(){return AQ}var OQ=m({},rm,{key:function(u){if(u.key){var f=TQ[u.key]||u.key;if(f!=="Unidentified")return f}return u.type==="keypress"?(u=Eg(u),u===13?"Enter":String.fromCharCode(u)):u.type==="keydown"||u.type==="keyup"?_Q[u.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Z1,charCode:function(u){return u.type==="keypress"?Eg(u):0},keyCode:function(u){return u.type==="keydown"||u.type==="keyup"?u.keyCode:0},which:function(u){return u.type==="keypress"?Eg(u):u.type==="keydown"||u.type==="keyup"?u.keyCode:0}}),EQ=xs(OQ),DQ=m({},Rg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yD=xs(DQ),PQ=m({},rm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Z1}),RQ=xs(PQ),IQ=m({},eu,{propertyName:0,elapsedTime:0,pseudoElement:0}),LQ=xs(IQ),$Q=m({},Rg,{deltaX:function(u){return"deltaX"in u?u.deltaX:"wheelDeltaX"in u?-u.wheelDeltaX:0},deltaY:function(u){return"deltaY"in u?u.deltaY:"wheelDeltaY"in u?-u.wheelDeltaY:"wheelDelta"in u?-u.wheelDelta:0},deltaZ:0,deltaMode:0}),FQ=xs($Q),HQ=m({},eu,{newState:0,oldState:0}),BQ=xs(HQ),zQ=[9,13,27,32],ej=$o&&"CompositionEvent"in window,am=null;$o&&"documentMode"in document&&(am=document.documentMode);var VQ=$o&&"TextEvent"in window&&!am,bD=$o&&(!ej||am&&8<am&&11>=am),vD=" ",wD=!1;function jD(u,f){switch(u){case"keyup":return zQ.indexOf(f.keyCode)!==-1;case"keydown":return f.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function SD(u){return u=u.detail,typeof u=="object"&&"data"in u?u.data:null}var Md=!1;function WQ(u,f){switch(u){case"compositionend":return SD(f);case"keypress":return f.which!==32?null:(wD=!0,vD);case"textInput":return u=f.data,u===vD&&wD?null:u;default:return null}}function qQ(u,f){if(Md)return u==="compositionend"||!ej&&jD(u,f)?(u=mD(),Og=K1=ql=null,Md=!1,u):null;switch(u){case"paste":return null;case"keypress":if(!(f.ctrlKey||f.altKey||f.metaKey)||f.ctrlKey&&f.altKey){if(f.char&&1<f.char.length)return f.char;if(f.which)return String.fromCharCode(f.which)}return null;case"compositionend":return bD&&f.locale!=="ko"?null:f.data;default:return null}}var UQ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ND(u){var f=u&&u.nodeName&&u.nodeName.toLowerCase();return f==="input"?!!UQ[u.type]:f==="textarea"}function kD(u,f,p,b){Td?_d?_d.push(b):_d=[b]:Td=b,f=Nx(f,"onChange"),0<f.length&&(p=new Pg("onChange","change",null,p,b),u.push({event:p,listeners:f}))}var sm=null,im=null;function GQ(u){o3(u,0)}function Ig(u){var f=fr(u);if(Tg(f))return u}function CD(u,f){if(u==="change")return f}var TD=!1;if($o){var tj;if($o){var rj="oninput"in document;if(!rj){var _D=document.createElement("div");_D.setAttribute("oninput","return;"),rj=typeof _D.oninput=="function"}tj=rj}else tj=!1;TD=tj&&(!document.documentMode||9<document.documentMode)}function MD(){sm&&(sm.detachEvent("onpropertychange",AD),im=sm=null)}function AD(u){if(u.propertyName==="value"&&Ig(im)){var f=[];kD(f,im,u,U1(u)),hD(GQ,f)}}function YQ(u,f,p){u==="focusin"?(MD(),sm=f,im=p,sm.attachEvent("onpropertychange",AD)):u==="focusout"&&MD()}function KQ(u){if(u==="selectionchange"||u==="keyup"||u==="keydown")return Ig(im)}function XQ(u,f){if(u==="click")return Ig(f)}function JQ(u,f){if(u==="input"||u==="change")return Ig(f)}function QQ(u,f){return u===f&&(u!==0||1/u===1/f)||u!==u&&f!==f}var Os=typeof Object.is=="function"?Object.is:QQ;function om(u,f){if(Os(u,f))return!0;if(typeof u!="object"||u===null||typeof f!="object"||f===null)return!1;var p=Object.keys(u),b=Object.keys(f);if(p.length!==b.length)return!1;for(b=0;b<p.length;b++){var k=p[b];if(!ot.call(f,k)||!Os(u[k],f[k]))return!1}return!0}function OD(u){for(;u&&u.firstChild;)u=u.firstChild;return u}function ED(u,f){var p=OD(u);u=0;for(var b;p;){if(p.nodeType===3){if(b=u+p.textContent.length,u<=f&&b>=f)return{node:p,offset:f-u};u=b}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=OD(p)}}function DD(u,f){return u&&f?u===f?!0:u&&u.nodeType===3?!1:f&&f.nodeType===3?DD(u,f.parentNode):"contains"in u?u.contains(f):u.compareDocumentPosition?!!(u.compareDocumentPosition(f)&16):!1:!1}function PD(u){u=u!=null&&u.ownerDocument!=null&&u.ownerDocument.defaultView!=null?u.ownerDocument.defaultView:window;for(var f=Cd(u.document);f instanceof u.HTMLIFrameElement;){try{var p=typeof f.contentWindow.location.href=="string"}catch{p=!1}if(p)u=f.contentWindow;else break;f=Cd(u.document)}return f}function nj(u){var f=u&&u.nodeName&&u.nodeName.toLowerCase();return f&&(f==="input"&&(u.type==="text"||u.type==="search"||u.type==="tel"||u.type==="url"||u.type==="password")||f==="textarea"||u.contentEditable==="true")}var ZQ=$o&&"documentMode"in document&&11>=document.documentMode,Ad=null,aj=null,lm=null,sj=!1;function RD(u,f,p){var b=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;sj||Ad==null||Ad!==Cd(b)||(b=Ad,"selectionStart"in b&&nj(b)?b={start:b.selectionStart,end:b.selectionEnd}:(b=(b.ownerDocument&&b.ownerDocument.defaultView||window).getSelection(),b={anchorNode:b.anchorNode,anchorOffset:b.anchorOffset,focusNode:b.focusNode,focusOffset:b.focusOffset}),lm&&om(lm,b)||(lm=b,b=Nx(aj,"onSelect"),0<b.length&&(f=new Pg("onSelect","select",null,f,p),u.push({event:f,listeners:b}),f.target=Ad)))}function tu(u,f){var p={};return p[u.toLowerCase()]=f.toLowerCase(),p["Webkit"+u]="webkit"+f,p["Moz"+u]="moz"+f,p}var Od={animationend:tu("Animation","AnimationEnd"),animationiteration:tu("Animation","AnimationIteration"),animationstart:tu("Animation","AnimationStart"),transitionrun:tu("Transition","TransitionRun"),transitionstart:tu("Transition","TransitionStart"),transitioncancel:tu("Transition","TransitionCancel"),transitionend:tu("Transition","TransitionEnd")},ij={},ID={};$o&&(ID=document.createElement("div").style,"AnimationEvent"in window||(delete Od.animationend.animation,delete Od.animationiteration.animation,delete Od.animationstart.animation),"TransitionEvent"in window||delete Od.transitionend.transition);function ru(u){if(ij[u])return ij[u];if(!Od[u])return u;var f=Od[u],p;for(p in f)if(f.hasOwnProperty(p)&&p in ID)return ij[u]=f[p];return u}var LD=ru("animationend"),$D=ru("animationiteration"),FD=ru("animationstart"),eZ=ru("transitionrun"),tZ=ru("transitionstart"),rZ=ru("transitioncancel"),HD=ru("transitionend"),BD=new Map,oj="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");oj.push("scrollEnd");function Oi(u,f){BD.set(u,f),yn(f,[u])}var Lg=typeof reportError=="function"?reportError:function(u){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var f=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof u=="object"&&u!==null&&typeof u.message=="string"?String(u.message):String(u),error:u});if(!window.dispatchEvent(f))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",u);return}console.error(u)},Js=[],Ed=0,lj=0;function $g(){for(var u=Ed,f=lj=Ed=0;f<u;){var p=Js[f];Js[f++]=null;var b=Js[f];Js[f++]=null;var k=Js[f];Js[f++]=null;var M=Js[f];if(Js[f++]=null,b!==null&&k!==null){var V=b.pending;V===null?k.next=k:(k.next=V.next,V.next=k),b.pending=k}M!==0&&zD(p,k,M)}}function Fg(u,f,p,b){Js[Ed++]=u,Js[Ed++]=f,Js[Ed++]=p,Js[Ed++]=b,lj|=b,u.lanes|=b,u=u.alternate,u!==null&&(u.lanes|=b)}function cj(u,f,p,b){return Fg(u,f,p,b),Hg(u)}function nu(u,f){return Fg(u,null,null,f),Hg(u)}function zD(u,f,p){u.lanes|=p;var b=u.alternate;b!==null&&(b.lanes|=p);for(var k=!1,M=u.return;M!==null;)M.childLanes|=p,b=M.alternate,b!==null&&(b.childLanes|=p),M.tag===22&&(u=M.stateNode,u===null||u._visibility&1||(k=!0)),u=M,M=M.return;return u.tag===3?(M=u.stateNode,k&&f!==null&&(k=31-ae(p),u=M.hiddenUpdates,b=u[k],b===null?u[k]=[f]:b.push(f),f.lane=p|536870912),M):null}function Hg(u){if(50<Am)throw Am=0,yS=null,Error(n(185));for(var f=u.return;f!==null;)u=f,f=u.return;return u.tag===3?u.stateNode:null}var Dd={};function nZ(u,f,p,b){this.tag=u,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=b,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Es(u,f,p,b){return new nZ(u,f,p,b)}function uj(u){return u=u.prototype,!(!u||!u.isReactComponent)}function Fo(u,f){var p=u.alternate;return p===null?(p=Es(u.tag,f,u.key,u.mode),p.elementType=u.elementType,p.type=u.type,p.stateNode=u.stateNode,p.alternate=u,u.alternate=p):(p.pendingProps=f,p.type=u.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=u.flags&65011712,p.childLanes=u.childLanes,p.lanes=u.lanes,p.child=u.child,p.memoizedProps=u.memoizedProps,p.memoizedState=u.memoizedState,p.updateQueue=u.updateQueue,f=u.dependencies,p.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},p.sibling=u.sibling,p.index=u.index,p.ref=u.ref,p.refCleanup=u.refCleanup,p}function VD(u,f){u.flags&=65011714;var p=u.alternate;return p===null?(u.childLanes=0,u.lanes=f,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=p.childLanes,u.lanes=p.lanes,u.child=p.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=p.memoizedProps,u.memoizedState=p.memoizedState,u.updateQueue=p.updateQueue,u.type=p.type,f=p.dependencies,u.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext}),u}function Bg(u,f,p,b,k,M){var V=0;if(b=u,typeof u=="function")uj(u)&&(V=1);else if(typeof u=="string")V=lee(u,p,oe.current)?26:u==="html"||u==="head"||u==="body"?27:5;else e:switch(u){case $:return u=Es(31,p,f,k),u.elementType=$,u.lanes=M,u;case j:return au(p.children,k,M,f);case v:V=8,k|=24;break;case N:return u=Es(12,p,f,k|2),u.elementType=N,u.lanes=M,u;case _:return u=Es(13,p,f,k),u.elementType=_,u.lanes=M,u;case A:return u=Es(19,p,f,k),u.elementType=A,u.lanes=M,u;default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case S:V=10;break e;case T:V=9;break e;case O:V=11;break e;case E:V=14;break e;case D:V=16,b=null;break e}V=29,p=Error(n(130,u===null?"null":typeof u,"")),b=null}return f=Es(V,p,f,k),f.elementType=u,f.type=b,f.lanes=M,f}function au(u,f,p,b){return u=Es(7,u,b,f),u.lanes=p,u}function dj(u,f,p){return u=Es(6,u,null,f),u.lanes=p,u}function WD(u){var f=Es(18,null,null,0);return f.stateNode=u,f}function fj(u,f,p){return f=Es(4,u.children!==null?u.children:[],u.key,f),f.lanes=p,f.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},f}var qD=new WeakMap;function Qs(u,f){if(typeof u=="object"&&u!==null){var p=qD.get(u);return p!==void 0?p:(f={value:u,source:f,stack:ye(f)},qD.set(u,f),f)}return{value:u,source:f,stack:ye(f)}}var Pd=[],Rd=0,zg=null,cm=0,Zs=[],ei=0,Ul=null,Qi=1,Zi="";function Ho(u,f){Pd[Rd++]=cm,Pd[Rd++]=zg,zg=u,cm=f}function UD(u,f,p){Zs[ei++]=Qi,Zs[ei++]=Zi,Zs[ei++]=Ul,Ul=u;var b=Qi;u=Zi;var k=32-ae(b)-1;b&=~(1<<k),p+=1;var M=32-ae(f)+k;if(30<M){var V=k-k%5;M=(b&(1<<V)-1).toString(32),b>>=V,k-=V,Qi=1<<32-ae(f)+k|p<<k|b,Zi=M+u}else Qi=1<<M|p<<k|b,Zi=u}function hj(u){u.return!==null&&(Ho(u,1),UD(u,1,0))}function mj(u){for(;u===zg;)zg=Pd[--Rd],Pd[Rd]=null,cm=Pd[--Rd],Pd[Rd]=null;for(;u===Ul;)Ul=Zs[--ei],Zs[ei]=null,Zi=Zs[--ei],Zs[ei]=null,Qi=Zs[--ei],Zs[ei]=null}function GD(u,f){Zs[ei++]=Qi,Zs[ei++]=Zi,Zs[ei++]=Ul,Qi=f.id,Zi=f.overflow,Ul=u}var Oa=null,bn=null,_r=!1,Gl=null,ti=!1,pj=Error(n(519));function Yl(u){var f=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw um(Qs(f,u)),pj}function YD(u){var f=u.stateNode,p=u.type,b=u.memoizedProps;switch(f[Ot]=u,f[dr]=b,p){case"dialog":br("cancel",f),br("close",f);break;case"iframe":case"object":case"embed":br("load",f);break;case"video":case"audio":for(p=0;p<Em.length;p++)br(Em[p],f);break;case"source":br("error",f);break;case"img":case"image":case"link":br("error",f),br("load",f);break;case"details":br("toggle",f);break;case"input":br("invalid",f),_g(f,b.value,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name,!0);break;case"select":br("invalid",f);break;case"textarea":br("invalid",f),G(f,b.value,b.defaultValue,b.children)}p=b.children,typeof p!="string"&&typeof p!="number"&&typeof p!="bigint"||f.textContent===""+p||b.suppressHydrationWarning===!0||d3(f.textContent,p)?(b.popover!=null&&(br("beforetoggle",f),br("toggle",f)),b.onScroll!=null&&br("scroll",f),b.onScrollEnd!=null&&br("scrollend",f),b.onClick!=null&&(f.onclick=Aa),f=!0):f=!1,f||Yl(u,!0)}function KD(u){for(Oa=u.return;Oa;)switch(Oa.tag){case 5:case 31:case 13:ti=!1;return;case 27:case 3:ti=!0;return;default:Oa=Oa.return}}function Id(u){if(u!==Oa)return!1;if(!_r)return KD(u),_r=!0,!1;var f=u.tag,p;if((p=f!==3&&f!==27)&&((p=f===5)&&(p=u.type,p=!(p!=="form"&&p!=="button")||DS(u.type,u.memoizedProps)),p=!p),p&&bn&&Yl(u),KD(u),f===13){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(n(317));bn=v3(u)}else if(f===31){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(n(317));bn=v3(u)}else f===27?(f=bn,lc(u.type)?(u=$S,$S=null,bn=u):bn=f):bn=Oa?ni(u.stateNode.nextSibling):null;return!0}function su(){bn=Oa=null,_r=!1}function gj(){var u=Gl;return u!==null&&(ws===null?ws=u:ws.push.apply(ws,u),Gl=null),u}function um(u){Gl===null?Gl=[u]:Gl.push(u)}var xj=q(null),iu=null,Bo=null;function Kl(u,f,p){ie(xj,f._currentValue),f._currentValue=p}function zo(u){u._currentValue=xj.current,Z(xj)}function yj(u,f,p){for(;u!==null;){var b=u.alternate;if((u.childLanes&f)!==f?(u.childLanes|=f,b!==null&&(b.childLanes|=f)):b!==null&&(b.childLanes&f)!==f&&(b.childLanes|=f),u===p)break;u=u.return}}function bj(u,f,p,b){var k=u.child;for(k!==null&&(k.return=u);k!==null;){var M=k.dependencies;if(M!==null){var V=k.child;M=M.firstContext;e:for(;M!==null;){var Q=M;M=k;for(var me=0;me<f.length;me++)if(Q.context===f[me]){M.lanes|=p,Q=M.alternate,Q!==null&&(Q.lanes|=p),yj(M.return,p,u),b||(V=null);break e}M=Q.next}}else if(k.tag===18){if(V=k.return,V===null)throw Error(n(341));V.lanes|=p,M=V.alternate,M!==null&&(M.lanes|=p),yj(V,p,u),V=null}else V=k.child;if(V!==null)V.return=k;else for(V=k;V!==null;){if(V===u){V=null;break}if(k=V.sibling,k!==null){k.return=V.return,V=k;break}V=V.return}k=V}}function Ld(u,f,p,b){u=null;for(var k=f,M=!1;k!==null;){if(!M){if((k.flags&524288)!==0)M=!0;else if((k.flags&262144)!==0)break}if(k.tag===10){var V=k.alternate;if(V===null)throw Error(n(387));if(V=V.memoizedProps,V!==null){var Q=k.type;Os(k.pendingProps.value,V.value)||(u!==null?u.push(Q):u=[Q])}}else if(k===Le.current){if(V=k.alternate,V===null)throw Error(n(387));V.memoizedState.memoizedState!==k.memoizedState.memoizedState&&(u!==null?u.push(Lm):u=[Lm])}k=k.return}u!==null&&bj(f,u,p,b),f.flags|=262144}function Vg(u){for(u=u.firstContext;u!==null;){if(!Os(u.context._currentValue,u.memoizedValue))return!0;u=u.next}return!1}function ou(u){iu=u,Bo=null,u=u.dependencies,u!==null&&(u.firstContext=null)}function Ea(u){return XD(iu,u)}function Wg(u,f){return iu===null&&ou(u),XD(u,f)}function XD(u,f){var p=f._currentValue;if(f={context:f,memoizedValue:p,next:null},Bo===null){if(u===null)throw Error(n(308));Bo=f,u.dependencies={lanes:0,firstContext:f},u.flags|=524288}else Bo=Bo.next=f;return p}var aZ=typeof AbortController<"u"?AbortController:function(){var u=[],f=this.signal={aborted:!1,addEventListener:function(p,b){u.push(b)}};this.abort=function(){f.aborted=!0,u.forEach(function(p){return p()})}},sZ=t.unstable_scheduleCallback,iZ=t.unstable_NormalPriority,Zn={$$typeof:S,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function vj(){return{controller:new aZ,data:new Map,refCount:0}}function dm(u){u.refCount--,u.refCount===0&&sZ(iZ,function(){u.controller.abort()})}var fm=null,wj=0,$d=0,Fd=null;function oZ(u,f){if(fm===null){var p=fm=[];wj=0,$d=NS(),Fd={status:"pending",value:void 0,then:function(b){p.push(b)}}}return wj++,f.then(JD,JD),f}function JD(){if(--wj===0&&fm!==null){Fd!==null&&(Fd.status="fulfilled");var u=fm;fm=null,$d=0,Fd=null;for(var f=0;f<u.length;f++)(0,u[f])()}}function lZ(u,f){var p=[],b={status:"pending",value:null,reason:null,then:function(k){p.push(k)}};return u.then(function(){b.status="fulfilled",b.value=f;for(var k=0;k<p.length;k++)(0,p[k])(f)},function(k){for(b.status="rejected",b.reason=k,k=0;k<p.length;k++)(0,p[k])(void 0)}),b}var QD=H.S;H.S=function(u,f){R4=wt(),typeof f=="object"&&f!==null&&typeof f.then=="function"&&oZ(u,f),QD!==null&&QD(u,f)};var lu=q(null);function jj(){var u=lu.current;return u!==null?u:on.pooledCache}function qg(u,f){f===null?ie(lu,lu.current):ie(lu,f.pool)}function ZD(){var u=jj();return u===null?null:{parent:Zn._currentValue,pool:u}}var Hd=Error(n(460)),Sj=Error(n(474)),Ug=Error(n(542)),Gg={then:function(){}};function eP(u){return u=u.status,u==="fulfilled"||u==="rejected"}function tP(u,f,p){switch(p=u[p],p===void 0?u.push(f):p!==f&&(f.then(Aa,Aa),f=p),f.status){case"fulfilled":return f.value;case"rejected":throw u=f.reason,nP(u),u;default:if(typeof f.status=="string")f.then(Aa,Aa);else{if(u=on,u!==null&&100<u.shellSuspendCounter)throw Error(n(482));u=f,u.status="pending",u.then(function(b){if(f.status==="pending"){var k=f;k.status="fulfilled",k.value=b}},function(b){if(f.status==="pending"){var k=f;k.status="rejected",k.reason=b}})}switch(f.status){case"fulfilled":return f.value;case"rejected":throw u=f.reason,nP(u),u}throw uu=f,Hd}}function cu(u){try{var f=u._init;return f(u._payload)}catch(p){throw p!==null&&typeof p=="object"&&typeof p.then=="function"?(uu=p,Hd):p}}var uu=null;function rP(){if(uu===null)throw Error(n(459));var u=uu;return uu=null,u}function nP(u){if(u===Hd||u===Ug)throw Error(n(483))}var Bd=null,hm=0;function Yg(u){var f=hm;return hm+=1,Bd===null&&(Bd=[]),tP(Bd,u,f)}function mm(u,f){f=f.props.ref,u.ref=f!==void 0?f:null}function Kg(u,f){throw f.$$typeof===x?Error(n(525)):(u=Object.prototype.toString.call(f),Error(n(31,u==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":u)))}function aP(u){function f(Ce,je){if(u){var Pe=Ce.deletions;Pe===null?(Ce.deletions=[je],Ce.flags|=16):Pe.push(je)}}function p(Ce,je){if(!u)return null;for(;je!==null;)f(Ce,je),je=je.sibling;return null}function b(Ce){for(var je=new Map;Ce!==null;)Ce.key!==null?je.set(Ce.key,Ce):je.set(Ce.index,Ce),Ce=Ce.sibling;return je}function k(Ce,je){return Ce=Fo(Ce,je),Ce.index=0,Ce.sibling=null,Ce}function M(Ce,je,Pe){return Ce.index=Pe,u?(Pe=Ce.alternate,Pe!==null?(Pe=Pe.index,Pe<je?(Ce.flags|=67108866,je):Pe):(Ce.flags|=67108866,je)):(Ce.flags|=1048576,je)}function V(Ce){return u&&Ce.alternate===null&&(Ce.flags|=67108866),Ce}function Q(Ce,je,Pe,Xe){return je===null||je.tag!==6?(je=dj(Pe,Ce.mode,Xe),je.return=Ce,je):(je=k(je,Pe),je.return=Ce,je)}function me(Ce,je,Pe,Xe){var Vt=Pe.type;return Vt===j?Ve(Ce,je,Pe.props.children,Xe,Pe.key):je!==null&&(je.elementType===Vt||typeof Vt=="object"&&Vt!==null&&Vt.$$typeof===D&&cu(Vt)===je.type)?(je=k(je,Pe.props),mm(je,Pe),je.return=Ce,je):(je=Bg(Pe.type,Pe.key,Pe.props,null,Ce.mode,Xe),mm(je,Pe),je.return=Ce,je)}function Re(Ce,je,Pe,Xe){return je===null||je.tag!==4||je.stateNode.containerInfo!==Pe.containerInfo||je.stateNode.implementation!==Pe.implementation?(je=fj(Pe,Ce.mode,Xe),je.return=Ce,je):(je=k(je,Pe.children||[]),je.return=Ce,je)}function Ve(Ce,je,Pe,Xe,Vt){return je===null||je.tag!==7?(je=au(Pe,Ce.mode,Xe,Vt),je.return=Ce,je):(je=k(je,Pe),je.return=Ce,je)}function Qe(Ce,je,Pe){if(typeof je=="string"&&je!==""||typeof je=="number"||typeof je=="bigint")return je=dj(""+je,Ce.mode,Pe),je.return=Ce,je;if(typeof je=="object"&&je!==null){switch(je.$$typeof){case y:return Pe=Bg(je.type,je.key,je.props,null,Ce.mode,Pe),mm(Pe,je),Pe.return=Ce,Pe;case w:return je=fj(je,Ce.mode,Pe),je.return=Ce,je;case D:return je=cu(je),Qe(Ce,je,Pe)}if(W(je)||R(je))return je=au(je,Ce.mode,Pe,null),je.return=Ce,je;if(typeof je.then=="function")return Qe(Ce,Yg(je),Pe);if(je.$$typeof===S)return Qe(Ce,Wg(Ce,je),Pe);Kg(Ce,je)}return null}function Ie(Ce,je,Pe,Xe){var Vt=je!==null?je.key:null;if(typeof Pe=="string"&&Pe!==""||typeof Pe=="number"||typeof Pe=="bigint")return Vt!==null?null:Q(Ce,je,""+Pe,Xe);if(typeof Pe=="object"&&Pe!==null){switch(Pe.$$typeof){case y:return Pe.key===Vt?me(Ce,je,Pe,Xe):null;case w:return Pe.key===Vt?Re(Ce,je,Pe,Xe):null;case D:return Pe=cu(Pe),Ie(Ce,je,Pe,Xe)}if(W(Pe)||R(Pe))return Vt!==null?null:Ve(Ce,je,Pe,Xe,null);if(typeof Pe.then=="function")return Ie(Ce,je,Yg(Pe),Xe);if(Pe.$$typeof===S)return Ie(Ce,je,Wg(Ce,Pe),Xe);Kg(Ce,Pe)}return null}function Fe(Ce,je,Pe,Xe,Vt){if(typeof Xe=="string"&&Xe!==""||typeof Xe=="number"||typeof Xe=="bigint")return Ce=Ce.get(Pe)||null,Q(je,Ce,""+Xe,Vt);if(typeof Xe=="object"&&Xe!==null){switch(Xe.$$typeof){case y:return Ce=Ce.get(Xe.key===null?Pe:Xe.key)||null,me(je,Ce,Xe,Vt);case w:return Ce=Ce.get(Xe.key===null?Pe:Xe.key)||null,Re(je,Ce,Xe,Vt);case D:return Xe=cu(Xe),Fe(Ce,je,Pe,Xe,Vt)}if(W(Xe)||R(Xe))return Ce=Ce.get(Pe)||null,Ve(je,Ce,Xe,Vt,null);if(typeof Xe.then=="function")return Fe(Ce,je,Pe,Yg(Xe),Vt);if(Xe.$$typeof===S)return Fe(Ce,je,Pe,Wg(je,Xe),Vt);Kg(je,Xe)}return null}function Dt(Ce,je,Pe,Xe){for(var Vt=null,Pr=null,It=je,lr=je=0,jr=null;It!==null&&lr<Pe.length;lr++){It.index>lr?(jr=It,It=null):jr=It.sibling;var Rr=Ie(Ce,It,Pe[lr],Xe);if(Rr===null){It===null&&(It=jr);break}u&&It&&Rr.alternate===null&&f(Ce,It),je=M(Rr,je,lr),Pr===null?Vt=Rr:Pr.sibling=Rr,Pr=Rr,It=jr}if(lr===Pe.length)return p(Ce,It),_r&&Ho(Ce,lr),Vt;if(It===null){for(;lr<Pe.length;lr++)It=Qe(Ce,Pe[lr],Xe),It!==null&&(je=M(It,je,lr),Pr===null?Vt=It:Pr.sibling=It,Pr=It);return _r&&Ho(Ce,lr),Vt}for(It=b(It);lr<Pe.length;lr++)jr=Fe(It,Ce,lr,Pe[lr],Xe),jr!==null&&(u&&jr.alternate!==null&&It.delete(jr.key===null?lr:jr.key),je=M(jr,je,lr),Pr===null?Vt=jr:Pr.sibling=jr,Pr=jr);return u&&It.forEach(function(hc){return f(Ce,hc)}),_r&&Ho(Ce,lr),Vt}function Kt(Ce,je,Pe,Xe){if(Pe==null)throw Error(n(151));for(var Vt=null,Pr=null,It=je,lr=je=0,jr=null,Rr=Pe.next();It!==null&&!Rr.done;lr++,Rr=Pe.next()){It.index>lr?(jr=It,It=null):jr=It.sibling;var hc=Ie(Ce,It,Rr.value,Xe);if(hc===null){It===null&&(It=jr);break}u&&It&&hc.alternate===null&&f(Ce,It),je=M(hc,je,lr),Pr===null?Vt=hc:Pr.sibling=hc,Pr=hc,It=jr}if(Rr.done)return p(Ce,It),_r&&Ho(Ce,lr),Vt;if(It===null){for(;!Rr.done;lr++,Rr=Pe.next())Rr=Qe(Ce,Rr.value,Xe),Rr!==null&&(je=M(Rr,je,lr),Pr===null?Vt=Rr:Pr.sibling=Rr,Pr=Rr);return _r&&Ho(Ce,lr),Vt}for(It=b(It);!Rr.done;lr++,Rr=Pe.next())Rr=Fe(It,Ce,lr,Rr.value,Xe),Rr!==null&&(u&&Rr.alternate!==null&&It.delete(Rr.key===null?lr:Rr.key),je=M(Rr,je,lr),Pr===null?Vt=Rr:Pr.sibling=Rr,Pr=Rr);return u&&It.forEach(function(bee){return f(Ce,bee)}),_r&&Ho(Ce,lr),Vt}function nn(Ce,je,Pe,Xe){if(typeof Pe=="object"&&Pe!==null&&Pe.type===j&&Pe.key===null&&(Pe=Pe.props.children),typeof Pe=="object"&&Pe!==null){switch(Pe.$$typeof){case y:e:{for(var Vt=Pe.key;je!==null;){if(je.key===Vt){if(Vt=Pe.type,Vt===j){if(je.tag===7){p(Ce,je.sibling),Xe=k(je,Pe.props.children),Xe.return=Ce,Ce=Xe;break e}}else if(je.elementType===Vt||typeof Vt=="object"&&Vt!==null&&Vt.$$typeof===D&&cu(Vt)===je.type){p(Ce,je.sibling),Xe=k(je,Pe.props),mm(Xe,Pe),Xe.return=Ce,Ce=Xe;break e}p(Ce,je);break}else f(Ce,je);je=je.sibling}Pe.type===j?(Xe=au(Pe.props.children,Ce.mode,Xe,Pe.key),Xe.return=Ce,Ce=Xe):(Xe=Bg(Pe.type,Pe.key,Pe.props,null,Ce.mode,Xe),mm(Xe,Pe),Xe.return=Ce,Ce=Xe)}return V(Ce);case w:e:{for(Vt=Pe.key;je!==null;){if(je.key===Vt)if(je.tag===4&&je.stateNode.containerInfo===Pe.containerInfo&&je.stateNode.implementation===Pe.implementation){p(Ce,je.sibling),Xe=k(je,Pe.children||[]),Xe.return=Ce,Ce=Xe;break e}else{p(Ce,je);break}else f(Ce,je);je=je.sibling}Xe=fj(Pe,Ce.mode,Xe),Xe.return=Ce,Ce=Xe}return V(Ce);case D:return Pe=cu(Pe),nn(Ce,je,Pe,Xe)}if(W(Pe))return Dt(Ce,je,Pe,Xe);if(R(Pe)){if(Vt=R(Pe),typeof Vt!="function")throw Error(n(150));return Pe=Vt.call(Pe),Kt(Ce,je,Pe,Xe)}if(typeof Pe.then=="function")return nn(Ce,je,Yg(Pe),Xe);if(Pe.$$typeof===S)return nn(Ce,je,Wg(Ce,Pe),Xe);Kg(Ce,Pe)}return typeof Pe=="string"&&Pe!==""||typeof Pe=="number"||typeof Pe=="bigint"?(Pe=""+Pe,je!==null&&je.tag===6?(p(Ce,je.sibling),Xe=k(je,Pe),Xe.return=Ce,Ce=Xe):(p(Ce,je),Xe=dj(Pe,Ce.mode,Xe),Xe.return=Ce,Ce=Xe),V(Ce)):p(Ce,je)}return function(Ce,je,Pe,Xe){try{hm=0;var Vt=nn(Ce,je,Pe,Xe);return Bd=null,Vt}catch(It){if(It===Hd||It===Ug)throw It;var Pr=Es(29,It,null,Ce.mode);return Pr.lanes=Xe,Pr.return=Ce,Pr}finally{}}}var du=aP(!0),sP=aP(!1),Xl=!1;function Nj(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function kj(u,f){u=u.updateQueue,f.updateQueue===u&&(f.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,callbacks:null})}function Jl(u){return{lane:u,tag:0,payload:null,callback:null,next:null}}function Ql(u,f,p){var b=u.updateQueue;if(b===null)return null;if(b=b.shared,(Fr&2)!==0){var k=b.pending;return k===null?f.next=f:(f.next=k.next,k.next=f),b.pending=f,f=Hg(u),zD(u,null,p),f}return Fg(u,b,f,p),Hg(u)}function pm(u,f,p){if(f=f.updateQueue,f!==null&&(f=f.shared,(p&4194048)!==0)){var b=f.lanes;b&=u.pendingLanes,p|=b,f.lanes=p,pt(u,p)}}function Cj(u,f){var p=u.updateQueue,b=u.alternate;if(b!==null&&(b=b.updateQueue,p===b)){var k=null,M=null;if(p=p.firstBaseUpdate,p!==null){do{var V={lane:p.lane,tag:p.tag,payload:p.payload,callback:null,next:null};M===null?k=M=V:M=M.next=V,p=p.next}while(p!==null);M===null?k=M=f:M=M.next=f}else k=M=f;p={baseState:b.baseState,firstBaseUpdate:k,lastBaseUpdate:M,shared:b.shared,callbacks:b.callbacks},u.updateQueue=p;return}u=p.lastBaseUpdate,u===null?p.firstBaseUpdate=f:u.next=f,p.lastBaseUpdate=f}var Tj=!1;function gm(){if(Tj){var u=Fd;if(u!==null)throw u}}function xm(u,f,p,b){Tj=!1;var k=u.updateQueue;Xl=!1;var M=k.firstBaseUpdate,V=k.lastBaseUpdate,Q=k.shared.pending;if(Q!==null){k.shared.pending=null;var me=Q,Re=me.next;me.next=null,V===null?M=Re:V.next=Re,V=me;var Ve=u.alternate;Ve!==null&&(Ve=Ve.updateQueue,Q=Ve.lastBaseUpdate,Q!==V&&(Q===null?Ve.firstBaseUpdate=Re:Q.next=Re,Ve.lastBaseUpdate=me))}if(M!==null){var Qe=k.baseState;V=0,Ve=Re=me=null,Q=M;do{var Ie=Q.lane&-536870913,Fe=Ie!==Q.lane;if(Fe?(wr&Ie)===Ie:(b&Ie)===Ie){Ie!==0&&Ie===$d&&(Tj=!0),Ve!==null&&(Ve=Ve.next={lane:0,tag:Q.tag,payload:Q.payload,callback:null,next:null});e:{var Dt=u,Kt=Q;Ie=f;var nn=p;switch(Kt.tag){case 1:if(Dt=Kt.payload,typeof Dt=="function"){Qe=Dt.call(nn,Qe,Ie);break e}Qe=Dt;break e;case 3:Dt.flags=Dt.flags&-65537|128;case 0:if(Dt=Kt.payload,Ie=typeof Dt=="function"?Dt.call(nn,Qe,Ie):Dt,Ie==null)break e;Qe=m({},Qe,Ie);break e;case 2:Xl=!0}}Ie=Q.callback,Ie!==null&&(u.flags|=64,Fe&&(u.flags|=8192),Fe=k.callbacks,Fe===null?k.callbacks=[Ie]:Fe.push(Ie))}else Fe={lane:Ie,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null},Ve===null?(Re=Ve=Fe,me=Qe):Ve=Ve.next=Fe,V|=Ie;if(Q=Q.next,Q===null){if(Q=k.shared.pending,Q===null)break;Fe=Q,Q=Fe.next,Fe.next=null,k.lastBaseUpdate=Fe,k.shared.pending=null}}while(!0);Ve===null&&(me=Qe),k.baseState=me,k.firstBaseUpdate=Re,k.lastBaseUpdate=Ve,M===null&&(k.shared.lanes=0),nc|=V,u.lanes=V,u.memoizedState=Qe}}function iP(u,f){if(typeof u!="function")throw Error(n(191,u));u.call(f)}function oP(u,f){var p=u.callbacks;if(p!==null)for(u.callbacks=null,u=0;u<p.length;u++)iP(p[u],f)}var zd=q(null),Xg=q(0);function lP(u,f){u=Jo,ie(Xg,u),ie(zd,f),Jo=u|f.baseLanes}function _j(){ie(Xg,Jo),ie(zd,zd.current)}function Mj(){Jo=Xg.current,Z(zd),Z(Xg)}var Ds=q(null),ri=null;function Zl(u){var f=u.alternate;ie(Un,Un.current&1),ie(Ds,u),ri===null&&(f===null||zd.current!==null||f.memoizedState!==null)&&(ri=u)}function Aj(u){ie(Un,Un.current),ie(Ds,u),ri===null&&(ri=u)}function cP(u){u.tag===22?(ie(Un,Un.current),ie(Ds,u),ri===null&&(ri=u)):ec()}function ec(){ie(Un,Un.current),ie(Ds,Ds.current)}function Ps(u){Z(Ds),ri===u&&(ri=null),Z(Un)}var Un=q(0);function Jg(u){for(var f=u;f!==null;){if(f.tag===13){var p=f.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||IS(p)||LS(p)))return f}else if(f.tag===19&&(f.memoizedProps.revealOrder==="forwards"||f.memoizedProps.revealOrder==="backwards"||f.memoizedProps.revealOrder==="unstable_legacy-backwards"||f.memoizedProps.revealOrder==="together")){if((f.flags&128)!==0)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===u)break;for(;f.sibling===null;){if(f.return===null||f.return===u)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var Vo=0,sr=null,tn=null,ea=null,Qg=!1,Vd=!1,fu=!1,Zg=0,ym=0,Wd=null,cZ=0;function Pn(){throw Error(n(321))}function Oj(u,f){if(f===null)return!1;for(var p=0;p<f.length&&p<u.length;p++)if(!Os(u[p],f[p]))return!1;return!0}function Ej(u,f,p,b,k,M){return Vo=M,sr=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,H.H=u===null||u.memoizedState===null?UP:Gj,fu=!1,M=p(b,k),fu=!1,Vd&&(M=dP(f,p,b,k)),uP(u),M}function uP(u){H.H=wm;var f=tn!==null&&tn.next!==null;if(Vo=0,ea=tn=sr=null,Qg=!1,ym=0,Wd=null,f)throw Error(n(300));u===null||ta||(u=u.dependencies,u!==null&&Vg(u)&&(ta=!0))}function dP(u,f,p,b){sr=u;var k=0;do{if(Vd&&(Wd=null),ym=0,Vd=!1,25<=k)throw Error(n(301));if(k+=1,ea=tn=null,u.updateQueue!=null){var M=u.updateQueue;M.lastEffect=null,M.events=null,M.stores=null,M.memoCache!=null&&(M.memoCache.index=0)}H.H=GP,M=f(p,b)}while(Vd);return M}function uZ(){var u=H.H,f=u.useState()[0];return f=typeof f.then=="function"?bm(f):f,u=u.useState()[0],(tn!==null?tn.memoizedState:null)!==u&&(sr.flags|=1024),f}function Dj(){var u=Zg!==0;return Zg=0,u}function Pj(u,f,p){f.updateQueue=u.updateQueue,f.flags&=-2053,u.lanes&=~p}function Rj(u){if(Qg){for(u=u.memoizedState;u!==null;){var f=u.queue;f!==null&&(f.pending=null),u=u.next}Qg=!1}Vo=0,ea=tn=sr=null,Vd=!1,ym=Zg=0,Wd=null}function Za(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ea===null?sr.memoizedState=ea=u:ea=ea.next=u,ea}function Gn(){if(tn===null){var u=sr.alternate;u=u!==null?u.memoizedState:null}else u=tn.next;var f=ea===null?sr.memoizedState:ea.next;if(f!==null)ea=f,tn=u;else{if(u===null)throw sr.alternate===null?Error(n(467)):Error(n(310));tn=u,u={memoizedState:tn.memoizedState,baseState:tn.baseState,baseQueue:tn.baseQueue,queue:tn.queue,next:null},ea===null?sr.memoizedState=ea=u:ea=ea.next=u}return ea}function ex(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function bm(u){var f=ym;return ym+=1,Wd===null&&(Wd=[]),u=tP(Wd,u,f),f=sr,(ea===null?f.memoizedState:ea.next)===null&&(f=f.alternate,H.H=f===null||f.memoizedState===null?UP:Gj),u}function tx(u){if(u!==null&&typeof u=="object"){if(typeof u.then=="function")return bm(u);if(u.$$typeof===S)return Ea(u)}throw Error(n(438,String(u)))}function Ij(u){var f=null,p=sr.updateQueue;if(p!==null&&(f=p.memoCache),f==null){var b=sr.alternate;b!==null&&(b=b.updateQueue,b!==null&&(b=b.memoCache,b!=null&&(f={data:b.data.map(function(k){return k.slice()}),index:0})))}if(f==null&&(f={data:[],index:0}),p===null&&(p=ex(),sr.updateQueue=p),p.memoCache=f,p=f.data[f.index],p===void 0)for(p=f.data[f.index]=Array(u),b=0;b<u;b++)p[b]=I;return f.index++,p}function Wo(u,f){return typeof f=="function"?f(u):f}function rx(u){var f=Gn();return Lj(f,tn,u)}function Lj(u,f,p){var b=u.queue;if(b===null)throw Error(n(311));b.lastRenderedReducer=p;var k=u.baseQueue,M=b.pending;if(M!==null){if(k!==null){var V=k.next;k.next=M.next,M.next=V}f.baseQueue=k=M,b.pending=null}if(M=u.baseState,k===null)u.memoizedState=M;else{f=k.next;var Q=V=null,me=null,Re=f,Ve=!1;do{var Qe=Re.lane&-536870913;if(Qe!==Re.lane?(wr&Qe)===Qe:(Vo&Qe)===Qe){var Ie=Re.revertLane;if(Ie===0)me!==null&&(me=me.next={lane:0,revertLane:0,gesture:null,action:Re.action,hasEagerState:Re.hasEagerState,eagerState:Re.eagerState,next:null}),Qe===$d&&(Ve=!0);else if((Vo&Ie)===Ie){Re=Re.next,Ie===$d&&(Ve=!0);continue}else Qe={lane:0,revertLane:Re.revertLane,gesture:null,action:Re.action,hasEagerState:Re.hasEagerState,eagerState:Re.eagerState,next:null},me===null?(Q=me=Qe,V=M):me=me.next=Qe,sr.lanes|=Ie,nc|=Ie;Qe=Re.action,fu&&p(M,Qe),M=Re.hasEagerState?Re.eagerState:p(M,Qe)}else Ie={lane:Qe,revertLane:Re.revertLane,gesture:Re.gesture,action:Re.action,hasEagerState:Re.hasEagerState,eagerState:Re.eagerState,next:null},me===null?(Q=me=Ie,V=M):me=me.next=Ie,sr.lanes|=Qe,nc|=Qe;Re=Re.next}while(Re!==null&&Re!==f);if(me===null?V=M:me.next=Q,!Os(M,u.memoizedState)&&(ta=!0,Ve&&(p=Fd,p!==null)))throw p;u.memoizedState=M,u.baseState=V,u.baseQueue=me,b.lastRenderedState=M}return k===null&&(b.lanes=0),[u.memoizedState,b.dispatch]}function $j(u){var f=Gn(),p=f.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=u;var b=p.dispatch,k=p.pending,M=f.memoizedState;if(k!==null){p.pending=null;var V=k=k.next;do M=u(M,V.action),V=V.next;while(V!==k);Os(M,f.memoizedState)||(ta=!0),f.memoizedState=M,f.baseQueue===null&&(f.baseState=M),p.lastRenderedState=M}return[M,b]}function fP(u,f,p){var b=sr,k=Gn(),M=_r;if(M){if(p===void 0)throw Error(n(407));p=p()}else p=f();var V=!Os((tn||k).memoizedState,p);if(V&&(k.memoizedState=p,ta=!0),k=k.queue,Bj(pP.bind(null,b,k,u),[u]),k.getSnapshot!==f||V||ea!==null&&ea.memoizedState.tag&1){if(b.flags|=2048,qd(9,{destroy:void 0},mP.bind(null,b,k,p,f),null),on===null)throw Error(n(349));M||(Vo&127)!==0||hP(b,f,p)}return p}function hP(u,f,p){u.flags|=16384,u={getSnapshot:f,value:p},f=sr.updateQueue,f===null?(f=ex(),sr.updateQueue=f,f.stores=[u]):(p=f.stores,p===null?f.stores=[u]:p.push(u))}function mP(u,f,p,b){f.value=p,f.getSnapshot=b,gP(f)&&xP(u)}function pP(u,f,p){return p(function(){gP(f)&&xP(u)})}function gP(u){var f=u.getSnapshot;u=u.value;try{var p=f();return!Os(u,p)}catch{return!0}}function xP(u){var f=nu(u,2);f!==null&&js(f,u,2)}function Fj(u){var f=Za();if(typeof u=="function"){var p=u;if(u=p(),fu){Ue(!0);try{p()}finally{Ue(!1)}}}return f.memoizedState=f.baseState=u,f.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wo,lastRenderedState:u},f}function yP(u,f,p,b){return u.baseState=p,Lj(u,tn,typeof b=="function"?b:Wo)}function dZ(u,f,p,b,k){if(sx(u))throw Error(n(485));if(u=f.action,u!==null){var M={payload:k,action:u,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(V){M.listeners.push(V)}};H.T!==null?p(!0):M.isTransition=!1,b(M),p=f.pending,p===null?(M.next=f.pending=M,bP(f,M)):(M.next=p.next,f.pending=p.next=M)}}function bP(u,f){var p=f.action,b=f.payload,k=u.state;if(f.isTransition){var M=H.T,V={};H.T=V;try{var Q=p(k,b),me=H.S;me!==null&&me(V,Q),vP(u,f,Q)}catch(Re){Hj(u,f,Re)}finally{M!==null&&V.types!==null&&(M.types=V.types),H.T=M}}else try{M=p(k,b),vP(u,f,M)}catch(Re){Hj(u,f,Re)}}function vP(u,f,p){p!==null&&typeof p=="object"&&typeof p.then=="function"?p.then(function(b){wP(u,f,b)},function(b){return Hj(u,f,b)}):wP(u,f,p)}function wP(u,f,p){f.status="fulfilled",f.value=p,jP(f),u.state=p,f=u.pending,f!==null&&(p=f.next,p===f?u.pending=null:(p=p.next,f.next=p,bP(u,p)))}function Hj(u,f,p){var b=u.pending;if(u.pending=null,b!==null){b=b.next;do f.status="rejected",f.reason=p,jP(f),f=f.next;while(f!==b)}u.action=null}function jP(u){u=u.listeners;for(var f=0;f<u.length;f++)(0,u[f])()}function SP(u,f){return f}function NP(u,f){if(_r){var p=on.formState;if(p!==null){e:{var b=sr;if(_r){if(bn){t:{for(var k=bn,M=ti;k.nodeType!==8;){if(!M){k=null;break t}if(k=ni(k.nextSibling),k===null){k=null;break t}}M=k.data,k=M==="F!"||M==="F"?k:null}if(k){bn=ni(k.nextSibling),b=k.data==="F!";break e}}Yl(b)}b=!1}b&&(f=p[0])}}return p=Za(),p.memoizedState=p.baseState=f,b={pending:null,lanes:0,dispatch:null,lastRenderedReducer:SP,lastRenderedState:f},p.queue=b,p=VP.bind(null,sr,b),b.dispatch=p,b=Fj(!1),M=Uj.bind(null,sr,!1,b.queue),b=Za(),k={state:f,dispatch:null,action:u,pending:null},b.queue=k,p=dZ.bind(null,sr,k,M,p),k.dispatch=p,b.memoizedState=u,[f,p,!1]}function kP(u){var f=Gn();return CP(f,tn,u)}function CP(u,f,p){if(f=Lj(u,f,SP)[0],u=rx(Wo)[0],typeof f=="object"&&f!==null&&typeof f.then=="function")try{var b=bm(f)}catch(V){throw V===Hd?Ug:V}else b=f;f=Gn();var k=f.queue,M=k.dispatch;return p!==f.memoizedState&&(sr.flags|=2048,qd(9,{destroy:void 0},fZ.bind(null,k,p),null)),[b,M,u]}function fZ(u,f){u.action=f}function TP(u){var f=Gn(),p=tn;if(p!==null)return CP(f,p,u);Gn(),f=f.memoizedState,p=Gn();var b=p.queue.dispatch;return p.memoizedState=u,[f,b,!1]}function qd(u,f,p,b){return u={tag:u,create:p,deps:b,inst:f,next:null},f=sr.updateQueue,f===null&&(f=ex(),sr.updateQueue=f),p=f.lastEffect,p===null?f.lastEffect=u.next=u:(b=p.next,p.next=u,u.next=b,f.lastEffect=u),u}function _P(){return Gn().memoizedState}function nx(u,f,p,b){var k=Za();sr.flags|=u,k.memoizedState=qd(1|f,{destroy:void 0},p,b===void 0?null:b)}function ax(u,f,p,b){var k=Gn();b=b===void 0?null:b;var M=k.memoizedState.inst;tn!==null&&b!==null&&Oj(b,tn.memoizedState.deps)?k.memoizedState=qd(f,M,p,b):(sr.flags|=u,k.memoizedState=qd(1|f,M,p,b))}function MP(u,f){nx(8390656,8,u,f)}function Bj(u,f){ax(2048,8,u,f)}function hZ(u){sr.flags|=4;var f=sr.updateQueue;if(f===null)f=ex(),sr.updateQueue=f,f.events=[u];else{var p=f.events;p===null?f.events=[u]:p.push(u)}}function AP(u){var f=Gn().memoizedState;return hZ({ref:f,nextImpl:u}),function(){if((Fr&2)!==0)throw Error(n(440));return f.impl.apply(void 0,arguments)}}function OP(u,f){return ax(4,2,u,f)}function EP(u,f){return ax(4,4,u,f)}function DP(u,f){if(typeof f=="function"){u=u();var p=f(u);return function(){typeof p=="function"?p():f(null)}}if(f!=null)return u=u(),f.current=u,function(){f.current=null}}function PP(u,f,p){p=p!=null?p.concat([u]):null,ax(4,4,DP.bind(null,f,u),p)}function zj(){}function RP(u,f){var p=Gn();f=f===void 0?null:f;var b=p.memoizedState;return f!==null&&Oj(f,b[1])?b[0]:(p.memoizedState=[u,f],u)}function IP(u,f){var p=Gn();f=f===void 0?null:f;var b=p.memoizedState;if(f!==null&&Oj(f,b[1]))return b[0];if(b=u(),fu){Ue(!0);try{u()}finally{Ue(!1)}}return p.memoizedState=[b,f],b}function Vj(u,f,p){return p===void 0||(Vo&1073741824)!==0&&(wr&261930)===0?u.memoizedState=f:(u.memoizedState=p,u=L4(),sr.lanes|=u,nc|=u,p)}function LP(u,f,p,b){return Os(p,f)?p:zd.current!==null?(u=Vj(u,p,b),Os(u,f)||(ta=!0),u):(Vo&42)===0||(Vo&1073741824)!==0&&(wr&261930)===0?(ta=!0,u.memoizedState=p):(u=L4(),sr.lanes|=u,nc|=u,f)}function $P(u,f,p,b,k){var M=P.p;P.p=M!==0&&8>M?M:8;var V=H.T,Q={};H.T=Q,Uj(u,!1,f,p);try{var me=k(),Re=H.S;if(Re!==null&&Re(Q,me),me!==null&&typeof me=="object"&&typeof me.then=="function"){var Ve=lZ(me,b);vm(u,f,Ve,Ls(u))}else vm(u,f,b,Ls(u))}catch(Qe){vm(u,f,{then:function(){},status:"rejected",reason:Qe},Ls())}finally{P.p=M,V!==null&&Q.types!==null&&(V.types=Q.types),H.T=V}}function mZ(){}function Wj(u,f,p,b){if(u.tag!==5)throw Error(n(476));var k=FP(u).queue;$P(u,k,f,F,p===null?mZ:function(){return HP(u),p(b)})}function FP(u){var f=u.memoizedState;if(f!==null)return f;f={memoizedState:F,baseState:F,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wo,lastRenderedState:F},next:null};var p={};return f.next={memoizedState:p,baseState:p,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wo,lastRenderedState:p},next:null},u.memoizedState=f,u=u.alternate,u!==null&&(u.memoizedState=f),f}function HP(u){var f=FP(u);f.next===null&&(f=u.alternate.memoizedState),vm(u,f.next.queue,{},Ls())}function qj(){return Ea(Lm)}function BP(){return Gn().memoizedState}function zP(){return Gn().memoizedState}function pZ(u){for(var f=u.return;f!==null;){switch(f.tag){case 24:case 3:var p=Ls();u=Jl(p);var b=Ql(f,u,p);b!==null&&(js(b,f,p),pm(b,f,p)),f={cache:vj()},u.payload=f;return}f=f.return}}function gZ(u,f,p){var b=Ls();p={lane:b,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},sx(u)?WP(f,p):(p=cj(u,f,p,b),p!==null&&(js(p,u,b),qP(p,f,b)))}function VP(u,f,p){var b=Ls();vm(u,f,p,b)}function vm(u,f,p,b){var k={lane:b,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null};if(sx(u))WP(f,k);else{var M=u.alternate;if(u.lanes===0&&(M===null||M.lanes===0)&&(M=f.lastRenderedReducer,M!==null))try{var V=f.lastRenderedState,Q=M(V,p);if(k.hasEagerState=!0,k.eagerState=Q,Os(Q,V))return Fg(u,f,k,0),on===null&&$g(),!1}catch{}finally{}if(p=cj(u,f,k,b),p!==null)return js(p,u,b),qP(p,f,b),!0}return!1}function Uj(u,f,p,b){if(b={lane:2,revertLane:NS(),gesture:null,action:b,hasEagerState:!1,eagerState:null,next:null},sx(u)){if(f)throw Error(n(479))}else f=cj(u,p,b,2),f!==null&&js(f,u,2)}function sx(u){var f=u.alternate;return u===sr||f!==null&&f===sr}function WP(u,f){Vd=Qg=!0;var p=u.pending;p===null?f.next=f:(f.next=p.next,p.next=f),u.pending=f}function qP(u,f,p){if((p&4194048)!==0){var b=f.lanes;b&=u.pendingLanes,p|=b,f.lanes=p,pt(u,p)}}var wm={readContext:Ea,use:tx,useCallback:Pn,useContext:Pn,useEffect:Pn,useImperativeHandle:Pn,useLayoutEffect:Pn,useInsertionEffect:Pn,useMemo:Pn,useReducer:Pn,useRef:Pn,useState:Pn,useDebugValue:Pn,useDeferredValue:Pn,useTransition:Pn,useSyncExternalStore:Pn,useId:Pn,useHostTransitionStatus:Pn,useFormState:Pn,useActionState:Pn,useOptimistic:Pn,useMemoCache:Pn,useCacheRefresh:Pn};wm.useEffectEvent=Pn;var UP={readContext:Ea,use:tx,useCallback:function(u,f){return Za().memoizedState=[u,f===void 0?null:f],u},useContext:Ea,useEffect:MP,useImperativeHandle:function(u,f,p){p=p!=null?p.concat([u]):null,nx(4194308,4,DP.bind(null,f,u),p)},useLayoutEffect:function(u,f){return nx(4194308,4,u,f)},useInsertionEffect:function(u,f){nx(4,2,u,f)},useMemo:function(u,f){var p=Za();f=f===void 0?null:f;var b=u();if(fu){Ue(!0);try{u()}finally{Ue(!1)}}return p.memoizedState=[b,f],b},useReducer:function(u,f,p){var b=Za();if(p!==void 0){var k=p(f);if(fu){Ue(!0);try{p(f)}finally{Ue(!1)}}}else k=f;return b.memoizedState=b.baseState=k,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:k},b.queue=u,u=u.dispatch=gZ.bind(null,sr,u),[b.memoizedState,u]},useRef:function(u){var f=Za();return u={current:u},f.memoizedState=u},useState:function(u){u=Fj(u);var f=u.queue,p=VP.bind(null,sr,f);return f.dispatch=p,[u.memoizedState,p]},useDebugValue:zj,useDeferredValue:function(u,f){var p=Za();return Vj(p,u,f)},useTransition:function(){var u=Fj(!1);return u=$P.bind(null,sr,u.queue,!0,!1),Za().memoizedState=u,[!1,u]},useSyncExternalStore:function(u,f,p){var b=sr,k=Za();if(_r){if(p===void 0)throw Error(n(407));p=p()}else{if(p=f(),on===null)throw Error(n(349));(wr&127)!==0||hP(b,f,p)}k.memoizedState=p;var M={value:p,getSnapshot:f};return k.queue=M,MP(pP.bind(null,b,M,u),[u]),b.flags|=2048,qd(9,{destroy:void 0},mP.bind(null,b,M,p,f),null),p},useId:function(){var u=Za(),f=on.identifierPrefix;if(_r){var p=Zi,b=Qi;p=(b&~(1<<32-ae(b)-1)).toString(32)+p,f="_"+f+"R_"+p,p=Zg++,0<p&&(f+="H"+p.toString(32)),f+="_"}else p=cZ++,f="_"+f+"r_"+p.toString(32)+"_";return u.memoizedState=f},useHostTransitionStatus:qj,useFormState:NP,useActionState:NP,useOptimistic:function(u){var f=Za();f.memoizedState=f.baseState=u;var p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return f.queue=p,f=Uj.bind(null,sr,!0,p),p.dispatch=f,[u,f]},useMemoCache:Ij,useCacheRefresh:function(){return Za().memoizedState=pZ.bind(null,sr)},useEffectEvent:function(u){var f=Za(),p={impl:u};return f.memoizedState=p,function(){if((Fr&2)!==0)throw Error(n(440));return p.impl.apply(void 0,arguments)}}},Gj={readContext:Ea,use:tx,useCallback:RP,useContext:Ea,useEffect:Bj,useImperativeHandle:PP,useInsertionEffect:OP,useLayoutEffect:EP,useMemo:IP,useReducer:rx,useRef:_P,useState:function(){return rx(Wo)},useDebugValue:zj,useDeferredValue:function(u,f){var p=Gn();return LP(p,tn.memoizedState,u,f)},useTransition:function(){var u=rx(Wo)[0],f=Gn().memoizedState;return[typeof u=="boolean"?u:bm(u),f]},useSyncExternalStore:fP,useId:BP,useHostTransitionStatus:qj,useFormState:kP,useActionState:kP,useOptimistic:function(u,f){var p=Gn();return yP(p,tn,u,f)},useMemoCache:Ij,useCacheRefresh:zP};Gj.useEffectEvent=AP;var GP={readContext:Ea,use:tx,useCallback:RP,useContext:Ea,useEffect:Bj,useImperativeHandle:PP,useInsertionEffect:OP,useLayoutEffect:EP,useMemo:IP,useReducer:$j,useRef:_P,useState:function(){return $j(Wo)},useDebugValue:zj,useDeferredValue:function(u,f){var p=Gn();return tn===null?Vj(p,u,f):LP(p,tn.memoizedState,u,f)},useTransition:function(){var u=$j(Wo)[0],f=Gn().memoizedState;return[typeof u=="boolean"?u:bm(u),f]},useSyncExternalStore:fP,useId:BP,useHostTransitionStatus:qj,useFormState:TP,useActionState:TP,useOptimistic:function(u,f){var p=Gn();return tn!==null?yP(p,tn,u,f):(p.baseState=u,[u,p.queue.dispatch])},useMemoCache:Ij,useCacheRefresh:zP};GP.useEffectEvent=AP;function Yj(u,f,p,b){f=u.memoizedState,p=p(b,f),p=p==null?f:m({},f,p),u.memoizedState=p,u.lanes===0&&(u.updateQueue.baseState=p)}var Kj={enqueueSetState:function(u,f,p){u=u._reactInternals;var b=Ls(),k=Jl(b);k.payload=f,p!=null&&(k.callback=p),f=Ql(u,k,b),f!==null&&(js(f,u,b),pm(f,u,b))},enqueueReplaceState:function(u,f,p){u=u._reactInternals;var b=Ls(),k=Jl(b);k.tag=1,k.payload=f,p!=null&&(k.callback=p),f=Ql(u,k,b),f!==null&&(js(f,u,b),pm(f,u,b))},enqueueForceUpdate:function(u,f){u=u._reactInternals;var p=Ls(),b=Jl(p);b.tag=2,f!=null&&(b.callback=f),f=Ql(u,b,p),f!==null&&(js(f,u,p),pm(f,u,p))}};function YP(u,f,p,b,k,M,V){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(b,M,V):f.prototype&&f.prototype.isPureReactComponent?!om(p,b)||!om(k,M):!0}function KP(u,f,p,b){u=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(p,b),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(p,b),f.state!==u&&Kj.enqueueReplaceState(f,f.state,null)}function hu(u,f){var p=f;if("ref"in f){p={};for(var b in f)b!=="ref"&&(p[b]=f[b])}if(u=u.defaultProps){p===f&&(p=m({},p));for(var k in u)p[k]===void 0&&(p[k]=u[k])}return p}function XP(u){Lg(u)}function JP(u){console.error(u)}function QP(u){Lg(u)}function ix(u,f){try{var p=u.onUncaughtError;p(f.value,{componentStack:f.stack})}catch(b){setTimeout(function(){throw b})}}function ZP(u,f,p){try{var b=u.onCaughtError;b(p.value,{componentStack:p.stack,errorBoundary:f.tag===1?f.stateNode:null})}catch(k){setTimeout(function(){throw k})}}function Xj(u,f,p){return p=Jl(p),p.tag=3,p.payload={element:null},p.callback=function(){ix(u,f)},p}function e4(u){return u=Jl(u),u.tag=3,u}function t4(u,f,p,b){var k=p.type.getDerivedStateFromError;if(typeof k=="function"){var M=b.value;u.payload=function(){return k(M)},u.callback=function(){ZP(f,p,b)}}var V=p.stateNode;V!==null&&typeof V.componentDidCatch=="function"&&(u.callback=function(){ZP(f,p,b),typeof k!="function"&&(ac===null?ac=new Set([this]):ac.add(this));var Q=b.stack;this.componentDidCatch(b.value,{componentStack:Q!==null?Q:""})})}function xZ(u,f,p,b,k){if(p.flags|=32768,b!==null&&typeof b=="object"&&typeof b.then=="function"){if(f=p.alternate,f!==null&&Ld(f,p,k,!0),p=Ds.current,p!==null){switch(p.tag){case 31:case 13:return ri===null?yx():p.alternate===null&&Rn===0&&(Rn=3),p.flags&=-257,p.flags|=65536,p.lanes=k,b===Gg?p.flags|=16384:(f=p.updateQueue,f===null?p.updateQueue=new Set([b]):f.add(b),wS(u,b,k)),!1;case 22:return p.flags|=65536,b===Gg?p.flags|=16384:(f=p.updateQueue,f===null?(f={transitions:null,markerInstances:null,retryQueue:new Set([b])},p.updateQueue=f):(p=f.retryQueue,p===null?f.retryQueue=new Set([b]):p.add(b)),wS(u,b,k)),!1}throw Error(n(435,p.tag))}return wS(u,b,k),yx(),!1}if(_r)return f=Ds.current,f!==null?((f.flags&65536)===0&&(f.flags|=256),f.flags|=65536,f.lanes=k,b!==pj&&(u=Error(n(422),{cause:b}),um(Qs(u,p)))):(b!==pj&&(f=Error(n(423),{cause:b}),um(Qs(f,p))),u=u.current.alternate,u.flags|=65536,k&=-k,u.lanes|=k,b=Qs(b,p),k=Xj(u.stateNode,b,k),Cj(u,k),Rn!==4&&(Rn=2)),!1;var M=Error(n(520),{cause:b});if(M=Qs(M,p),Mm===null?Mm=[M]:Mm.push(M),Rn!==4&&(Rn=2),f===null)return!0;b=Qs(b,p),p=f;do{switch(p.tag){case 3:return p.flags|=65536,u=k&-k,p.lanes|=u,u=Xj(p.stateNode,b,u),Cj(p,u),!1;case 1:if(f=p.type,M=p.stateNode,(p.flags&128)===0&&(typeof f.getDerivedStateFromError=="function"||M!==null&&typeof M.componentDidCatch=="function"&&(ac===null||!ac.has(M))))return p.flags|=65536,k&=-k,p.lanes|=k,k=e4(k),t4(k,u,p,b),Cj(p,k),!1}p=p.return}while(p!==null);return!1}var Jj=Error(n(461)),ta=!1;function Da(u,f,p,b){f.child=u===null?sP(f,null,p,b):du(f,u.child,p,b)}function r4(u,f,p,b,k){p=p.render;var M=f.ref;if("ref"in b){var V={};for(var Q in b)Q!=="ref"&&(V[Q]=b[Q])}else V=b;return ou(f),b=Ej(u,f,p,V,M,k),Q=Dj(),u!==null&&!ta?(Pj(u,f,k),qo(u,f,k)):(_r&&Q&&hj(f),f.flags|=1,Da(u,f,b,k),f.child)}function n4(u,f,p,b,k){if(u===null){var M=p.type;return typeof M=="function"&&!uj(M)&&M.defaultProps===void 0&&p.compare===null?(f.tag=15,f.type=M,a4(u,f,M,b,k)):(u=Bg(p.type,null,b,f,f.mode,k),u.ref=f.ref,u.return=f,f.child=u)}if(M=u.child,!sS(u,k)){var V=M.memoizedProps;if(p=p.compare,p=p!==null?p:om,p(V,b)&&u.ref===f.ref)return qo(u,f,k)}return f.flags|=1,u=Fo(M,b),u.ref=f.ref,u.return=f,f.child=u}function a4(u,f,p,b,k){if(u!==null){var M=u.memoizedProps;if(om(M,b)&&u.ref===f.ref)if(ta=!1,f.pendingProps=b=M,sS(u,k))(u.flags&131072)!==0&&(ta=!0);else return f.lanes=u.lanes,qo(u,f,k)}return Qj(u,f,p,b,k)}function s4(u,f,p,b){var k=b.children,M=u!==null?u.memoizedState:null;if(u===null&&f.stateNode===null&&(f.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),b.mode==="hidden"){if((f.flags&128)!==0){if(M=M!==null?M.baseLanes|p:p,u!==null){for(b=f.child=u.child,k=0;b!==null;)k=k|b.lanes|b.childLanes,b=b.sibling;b=k&~M}else b=0,f.child=null;return i4(u,f,M,p,b)}if((p&536870912)!==0)f.memoizedState={baseLanes:0,cachePool:null},u!==null&&qg(f,M!==null?M.cachePool:null),M!==null?lP(f,M):_j(),cP(f);else return b=f.lanes=536870912,i4(u,f,M!==null?M.baseLanes|p:p,p,b)}else M!==null?(qg(f,M.cachePool),lP(f,M),ec(),f.memoizedState=null):(u!==null&&qg(f,null),_j(),ec());return Da(u,f,k,p),f.child}function jm(u,f){return u!==null&&u.tag===22||f.stateNode!==null||(f.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.sibling}function i4(u,f,p,b,k){var M=jj();return M=M===null?null:{parent:Zn._currentValue,pool:M},f.memoizedState={baseLanes:p,cachePool:M},u!==null&&qg(f,null),_j(),cP(f),u!==null&&Ld(u,f,b,!0),f.childLanes=k,null}function ox(u,f){return f=cx({mode:f.mode,children:f.children},u.mode),f.ref=u.ref,u.child=f,f.return=u,f}function o4(u,f,p){return du(f,u.child,null,p),u=ox(f,f.pendingProps),u.flags|=2,Ps(f),f.memoizedState=null,u}function yZ(u,f,p){var b=f.pendingProps,k=(f.flags&128)!==0;if(f.flags&=-129,u===null){if(_r){if(b.mode==="hidden")return u=ox(f,b),f.lanes=536870912,jm(null,u);if(Aj(f),(u=bn)?(u=b3(u,ti),u=u!==null&&u.data==="&"?u:null,u!==null&&(f.memoizedState={dehydrated:u,treeContext:Ul!==null?{id:Qi,overflow:Zi}:null,retryLane:536870912,hydrationErrors:null},p=WD(u),p.return=f,f.child=p,Oa=f,bn=null)):u=null,u===null)throw Yl(f);return f.lanes=536870912,null}return ox(f,b)}var M=u.memoizedState;if(M!==null){var V=M.dehydrated;if(Aj(f),k)if(f.flags&256)f.flags&=-257,f=o4(u,f,p);else if(f.memoizedState!==null)f.child=u.child,f.flags|=128,f=null;else throw Error(n(558));else if(ta||Ld(u,f,p,!1),k=(p&u.childLanes)!==0,ta||k){if(b=on,b!==null&&(V=Ee(b,p),V!==0&&V!==M.retryLane))throw M.retryLane=V,nu(u,V),js(b,u,V),Jj;yx(),f=o4(u,f,p)}else u=M.treeContext,bn=ni(V.nextSibling),Oa=f,_r=!0,Gl=null,ti=!1,u!==null&&GD(f,u),f=ox(f,b),f.flags|=4096;return f}return u=Fo(u.child,{mode:b.mode,children:b.children}),u.ref=f.ref,f.child=u,u.return=f,u}function lx(u,f){var p=f.ref;if(p===null)u!==null&&u.ref!==null&&(f.flags|=4194816);else{if(typeof p!="function"&&typeof p!="object")throw Error(n(284));(u===null||u.ref!==p)&&(f.flags|=4194816)}}function Qj(u,f,p,b,k){return ou(f),p=Ej(u,f,p,b,void 0,k),b=Dj(),u!==null&&!ta?(Pj(u,f,k),qo(u,f,k)):(_r&&b&&hj(f),f.flags|=1,Da(u,f,p,k),f.child)}function l4(u,f,p,b,k,M){return ou(f),f.updateQueue=null,p=dP(f,b,p,k),uP(u),b=Dj(),u!==null&&!ta?(Pj(u,f,M),qo(u,f,M)):(_r&&b&&hj(f),f.flags|=1,Da(u,f,p,M),f.child)}function c4(u,f,p,b,k){if(ou(f),f.stateNode===null){var M=Dd,V=p.contextType;typeof V=="object"&&V!==null&&(M=Ea(V)),M=new p(b,M),f.memoizedState=M.state!==null&&M.state!==void 0?M.state:null,M.updater=Kj,f.stateNode=M,M._reactInternals=f,M=f.stateNode,M.props=b,M.state=f.memoizedState,M.refs={},Nj(f),V=p.contextType,M.context=typeof V=="object"&&V!==null?Ea(V):Dd,M.state=f.memoizedState,V=p.getDerivedStateFromProps,typeof V=="function"&&(Yj(f,p,V,b),M.state=f.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof M.getSnapshotBeforeUpdate=="function"||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(V=M.state,typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount(),V!==M.state&&Kj.enqueueReplaceState(M,M.state,null),xm(f,b,M,k),gm(),M.state=f.memoizedState),typeof M.componentDidMount=="function"&&(f.flags|=4194308),b=!0}else if(u===null){M=f.stateNode;var Q=f.memoizedProps,me=hu(p,Q);M.props=me;var Re=M.context,Ve=p.contextType;V=Dd,typeof Ve=="object"&&Ve!==null&&(V=Ea(Ve));var Qe=p.getDerivedStateFromProps;Ve=typeof Qe=="function"||typeof M.getSnapshotBeforeUpdate=="function",Q=f.pendingProps!==Q,Ve||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(Q||Re!==V)&&KP(f,M,b,V),Xl=!1;var Ie=f.memoizedState;M.state=Ie,xm(f,b,M,k),gm(),Re=f.memoizedState,Q||Ie!==Re||Xl?(typeof Qe=="function"&&(Yj(f,p,Qe,b),Re=f.memoizedState),(me=Xl||YP(f,p,me,b,Ie,Re,V))?(Ve||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount()),typeof M.componentDidMount=="function"&&(f.flags|=4194308)):(typeof M.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=b,f.memoizedState=Re),M.props=b,M.state=Re,M.context=V,b=me):(typeof M.componentDidMount=="function"&&(f.flags|=4194308),b=!1)}else{M=f.stateNode,kj(u,f),V=f.memoizedProps,Ve=hu(p,V),M.props=Ve,Qe=f.pendingProps,Ie=M.context,Re=p.contextType,me=Dd,typeof Re=="object"&&Re!==null&&(me=Ea(Re)),Q=p.getDerivedStateFromProps,(Re=typeof Q=="function"||typeof M.getSnapshotBeforeUpdate=="function")||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(V!==Qe||Ie!==me)&&KP(f,M,b,me),Xl=!1,Ie=f.memoizedState,M.state=Ie,xm(f,b,M,k),gm();var Fe=f.memoizedState;V!==Qe||Ie!==Fe||Xl||u!==null&&u.dependencies!==null&&Vg(u.dependencies)?(typeof Q=="function"&&(Yj(f,p,Q,b),Fe=f.memoizedState),(Ve=Xl||YP(f,p,Ve,b,Ie,Fe,me)||u!==null&&u.dependencies!==null&&Vg(u.dependencies))?(Re||typeof M.UNSAFE_componentWillUpdate!="function"&&typeof M.componentWillUpdate!="function"||(typeof M.componentWillUpdate=="function"&&M.componentWillUpdate(b,Fe,me),typeof M.UNSAFE_componentWillUpdate=="function"&&M.UNSAFE_componentWillUpdate(b,Fe,me)),typeof M.componentDidUpdate=="function"&&(f.flags|=4),typeof M.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof M.componentDidUpdate!="function"||V===u.memoizedProps&&Ie===u.memoizedState||(f.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||V===u.memoizedProps&&Ie===u.memoizedState||(f.flags|=1024),f.memoizedProps=b,f.memoizedState=Fe),M.props=b,M.state=Fe,M.context=me,b=Ve):(typeof M.componentDidUpdate!="function"||V===u.memoizedProps&&Ie===u.memoizedState||(f.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||V===u.memoizedProps&&Ie===u.memoizedState||(f.flags|=1024),b=!1)}return M=b,lx(u,f),b=(f.flags&128)!==0,M||b?(M=f.stateNode,p=b&&typeof p.getDerivedStateFromError!="function"?null:M.render(),f.flags|=1,u!==null&&b?(f.child=du(f,u.child,null,k),f.child=du(f,null,p,k)):Da(u,f,p,k),f.memoizedState=M.state,u=f.child):u=qo(u,f,k),u}function u4(u,f,p,b){return su(),f.flags|=256,Da(u,f,p,b),f.child}var Zj={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function eS(u){return{baseLanes:u,cachePool:ZD()}}function tS(u,f,p){return u=u!==null?u.childLanes&~p:0,f&&(u|=Is),u}function d4(u,f,p){var b=f.pendingProps,k=!1,M=(f.flags&128)!==0,V;if((V=M)||(V=u!==null&&u.memoizedState===null?!1:(Un.current&2)!==0),V&&(k=!0,f.flags&=-129),V=(f.flags&32)!==0,f.flags&=-33,u===null){if(_r){if(k?Zl(f):ec(),(u=bn)?(u=b3(u,ti),u=u!==null&&u.data!=="&"?u:null,u!==null&&(f.memoizedState={dehydrated:u,treeContext:Ul!==null?{id:Qi,overflow:Zi}:null,retryLane:536870912,hydrationErrors:null},p=WD(u),p.return=f,f.child=p,Oa=f,bn=null)):u=null,u===null)throw Yl(f);return LS(u)?f.lanes=32:f.lanes=536870912,null}var Q=b.children;return b=b.fallback,k?(ec(),k=f.mode,Q=cx({mode:"hidden",children:Q},k),b=au(b,k,p,null),Q.return=f,b.return=f,Q.sibling=b,f.child=Q,b=f.child,b.memoizedState=eS(p),b.childLanes=tS(u,V,p),f.memoizedState=Zj,jm(null,b)):(Zl(f),rS(f,Q))}var me=u.memoizedState;if(me!==null&&(Q=me.dehydrated,Q!==null)){if(M)f.flags&256?(Zl(f),f.flags&=-257,f=nS(u,f,p)):f.memoizedState!==null?(ec(),f.child=u.child,f.flags|=128,f=null):(ec(),Q=b.fallback,k=f.mode,b=cx({mode:"visible",children:b.children},k),Q=au(Q,k,p,null),Q.flags|=2,b.return=f,Q.return=f,b.sibling=Q,f.child=b,du(f,u.child,null,p),b=f.child,b.memoizedState=eS(p),b.childLanes=tS(u,V,p),f.memoizedState=Zj,f=jm(null,b));else if(Zl(f),LS(Q)){if(V=Q.nextSibling&&Q.nextSibling.dataset,V)var Re=V.dgst;V=Re,b=Error(n(419)),b.stack="",b.digest=V,um({value:b,source:null,stack:null}),f=nS(u,f,p)}else if(ta||Ld(u,f,p,!1),V=(p&u.childLanes)!==0,ta||V){if(V=on,V!==null&&(b=Ee(V,p),b!==0&&b!==me.retryLane))throw me.retryLane=b,nu(u,b),js(V,u,b),Jj;IS(Q)||yx(),f=nS(u,f,p)}else IS(Q)?(f.flags|=192,f.child=u.child,f=null):(u=me.treeContext,bn=ni(Q.nextSibling),Oa=f,_r=!0,Gl=null,ti=!1,u!==null&&GD(f,u),f=rS(f,b.children),f.flags|=4096);return f}return k?(ec(),Q=b.fallback,k=f.mode,me=u.child,Re=me.sibling,b=Fo(me,{mode:"hidden",children:b.children}),b.subtreeFlags=me.subtreeFlags&65011712,Re!==null?Q=Fo(Re,Q):(Q=au(Q,k,p,null),Q.flags|=2),Q.return=f,b.return=f,b.sibling=Q,f.child=b,jm(null,b),b=f.child,Q=u.child.memoizedState,Q===null?Q=eS(p):(k=Q.cachePool,k!==null?(me=Zn._currentValue,k=k.parent!==me?{parent:me,pool:me}:k):k=ZD(),Q={baseLanes:Q.baseLanes|p,cachePool:k}),b.memoizedState=Q,b.childLanes=tS(u,V,p),f.memoizedState=Zj,jm(u.child,b)):(Zl(f),p=u.child,u=p.sibling,p=Fo(p,{mode:"visible",children:b.children}),p.return=f,p.sibling=null,u!==null&&(V=f.deletions,V===null?(f.deletions=[u],f.flags|=16):V.push(u)),f.child=p,f.memoizedState=null,p)}function rS(u,f){return f=cx({mode:"visible",children:f},u.mode),f.return=u,u.child=f}function cx(u,f){return u=Es(22,u,null,f),u.lanes=0,u}function nS(u,f,p){return du(f,u.child,null,p),u=rS(f,f.pendingProps.children),u.flags|=2,f.memoizedState=null,u}function f4(u,f,p){u.lanes|=f;var b=u.alternate;b!==null&&(b.lanes|=f),yj(u.return,f,p)}function aS(u,f,p,b,k,M){var V=u.memoizedState;V===null?u.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:b,tail:p,tailMode:k,treeForkCount:M}:(V.isBackwards=f,V.rendering=null,V.renderingStartTime=0,V.last=b,V.tail=p,V.tailMode=k,V.treeForkCount=M)}function h4(u,f,p){var b=f.pendingProps,k=b.revealOrder,M=b.tail;b=b.children;var V=Un.current,Q=(V&2)!==0;if(Q?(V=V&1|2,f.flags|=128):V&=1,ie(Un,V),Da(u,f,b,p),b=_r?cm:0,!Q&&u!==null&&(u.flags&128)!==0)e:for(u=f.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&f4(u,p,f);else if(u.tag===19)f4(u,p,f);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===f)break e;for(;u.sibling===null;){if(u.return===null||u.return===f)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}switch(k){case"forwards":for(p=f.child,k=null;p!==null;)u=p.alternate,u!==null&&Jg(u)===null&&(k=p),p=p.sibling;p=k,p===null?(k=f.child,f.child=null):(k=p.sibling,p.sibling=null),aS(f,!1,k,p,M,b);break;case"backwards":case"unstable_legacy-backwards":for(p=null,k=f.child,f.child=null;k!==null;){if(u=k.alternate,u!==null&&Jg(u)===null){f.child=k;break}u=k.sibling,k.sibling=p,p=k,k=u}aS(f,!0,p,null,M,b);break;case"together":aS(f,!1,null,null,void 0,b);break;default:f.memoizedState=null}return f.child}function qo(u,f,p){if(u!==null&&(f.dependencies=u.dependencies),nc|=f.lanes,(p&f.childLanes)===0)if(u!==null){if(Ld(u,f,p,!1),(p&f.childLanes)===0)return null}else return null;if(u!==null&&f.child!==u.child)throw Error(n(153));if(f.child!==null){for(u=f.child,p=Fo(u,u.pendingProps),f.child=p,p.return=f;u.sibling!==null;)u=u.sibling,p=p.sibling=Fo(u,u.pendingProps),p.return=f;p.sibling=null}return f.child}function sS(u,f){return(u.lanes&f)!==0?!0:(u=u.dependencies,!!(u!==null&&Vg(u)))}function bZ(u,f,p){switch(f.tag){case 3:Oe(f,f.stateNode.containerInfo),Kl(f,Zn,u.memoizedState.cache),su();break;case 27:case 5:Me(f);break;case 4:Oe(f,f.stateNode.containerInfo);break;case 10:Kl(f,f.type,f.memoizedProps.value);break;case 31:if(f.memoizedState!==null)return f.flags|=128,Aj(f),null;break;case 13:var b=f.memoizedState;if(b!==null)return b.dehydrated!==null?(Zl(f),f.flags|=128,null):(p&f.child.childLanes)!==0?d4(u,f,p):(Zl(f),u=qo(u,f,p),u!==null?u.sibling:null);Zl(f);break;case 19:var k=(u.flags&128)!==0;if(b=(p&f.childLanes)!==0,b||(Ld(u,f,p,!1),b=(p&f.childLanes)!==0),k){if(b)return h4(u,f,p);f.flags|=128}if(k=f.memoizedState,k!==null&&(k.rendering=null,k.tail=null,k.lastEffect=null),ie(Un,Un.current),b)break;return null;case 22:return f.lanes=0,s4(u,f,p,f.pendingProps);case 24:Kl(f,Zn,u.memoizedState.cache)}return qo(u,f,p)}function m4(u,f,p){if(u!==null)if(u.memoizedProps!==f.pendingProps)ta=!0;else{if(!sS(u,p)&&(f.flags&128)===0)return ta=!1,bZ(u,f,p);ta=(u.flags&131072)!==0}else ta=!1,_r&&(f.flags&1048576)!==0&&UD(f,cm,f.index);switch(f.lanes=0,f.tag){case 16:e:{var b=f.pendingProps;if(u=cu(f.elementType),f.type=u,typeof u=="function")uj(u)?(b=hu(u,b),f.tag=1,f=c4(null,f,u,b,p)):(f.tag=0,f=Qj(null,f,u,b,p));else{if(u!=null){var k=u.$$typeof;if(k===O){f.tag=11,f=r4(null,f,u,b,p);break e}else if(k===E){f.tag=14,f=n4(null,f,u,b,p);break e}}throw f=Y(u)||u,Error(n(306,f,""))}}return f;case 0:return Qj(u,f,f.type,f.pendingProps,p);case 1:return b=f.type,k=hu(b,f.pendingProps),c4(u,f,b,k,p);case 3:e:{if(Oe(f,f.stateNode.containerInfo),u===null)throw Error(n(387));b=f.pendingProps;var M=f.memoizedState;k=M.element,kj(u,f),xm(f,b,null,p);var V=f.memoizedState;if(b=V.cache,Kl(f,Zn,b),b!==M.cache&&bj(f,[Zn],p,!0),gm(),b=V.element,M.isDehydrated)if(M={element:b,isDehydrated:!1,cache:V.cache},f.updateQueue.baseState=M,f.memoizedState=M,f.flags&256){f=u4(u,f,b,p);break e}else if(b!==k){k=Qs(Error(n(424)),f),um(k),f=u4(u,f,b,p);break e}else{switch(u=f.stateNode.containerInfo,u.nodeType){case 9:u=u.body;break;default:u=u.nodeName==="HTML"?u.ownerDocument.body:u}for(bn=ni(u.firstChild),Oa=f,_r=!0,Gl=null,ti=!0,p=sP(f,null,b,p),f.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling}else{if(su(),b===k){f=qo(u,f,p);break e}Da(u,f,b,p)}f=f.child}return f;case 26:return lx(u,f),u===null?(p=k3(f.type,null,f.pendingProps,null))?f.memoizedState=p:_r||(p=f.type,u=f.pendingProps,b=kx(ge.current).createElement(p),b[Ot]=f,b[dr]=u,Pa(b,p,u),Bt(b),f.stateNode=b):f.memoizedState=k3(f.type,u.memoizedProps,f.pendingProps,u.memoizedState),null;case 27:return Me(f),u===null&&_r&&(b=f.stateNode=j3(f.type,f.pendingProps,ge.current),Oa=f,ti=!0,k=bn,lc(f.type)?($S=k,bn=ni(b.firstChild)):bn=k),Da(u,f,f.pendingProps.children,p),lx(u,f),u===null&&(f.flags|=4194304),f.child;case 5:return u===null&&_r&&((k=b=bn)&&(b=KZ(b,f.type,f.pendingProps,ti),b!==null?(f.stateNode=b,Oa=f,bn=ni(b.firstChild),ti=!1,k=!0):k=!1),k||Yl(f)),Me(f),k=f.type,M=f.pendingProps,V=u!==null?u.memoizedProps:null,b=M.children,DS(k,M)?b=null:V!==null&&DS(k,V)&&(f.flags|=32),f.memoizedState!==null&&(k=Ej(u,f,uZ,null,null,p),Lm._currentValue=k),lx(u,f),Da(u,f,b,p),f.child;case 6:return u===null&&_r&&((u=p=bn)&&(p=XZ(p,f.pendingProps,ti),p!==null?(f.stateNode=p,Oa=f,bn=null,u=!0):u=!1),u||Yl(f)),null;case 13:return d4(u,f,p);case 4:return Oe(f,f.stateNode.containerInfo),b=f.pendingProps,u===null?f.child=du(f,null,b,p):Da(u,f,b,p),f.child;case 11:return r4(u,f,f.type,f.pendingProps,p);case 7:return Da(u,f,f.pendingProps,p),f.child;case 8:return Da(u,f,f.pendingProps.children,p),f.child;case 12:return Da(u,f,f.pendingProps.children,p),f.child;case 10:return b=f.pendingProps,Kl(f,f.type,b.value),Da(u,f,b.children,p),f.child;case 9:return k=f.type._context,b=f.pendingProps.children,ou(f),k=Ea(k),b=b(k),f.flags|=1,Da(u,f,b,p),f.child;case 14:return n4(u,f,f.type,f.pendingProps,p);case 15:return a4(u,f,f.type,f.pendingProps,p);case 19:return h4(u,f,p);case 31:return yZ(u,f,p);case 22:return s4(u,f,p,f.pendingProps);case 24:return ou(f),b=Ea(Zn),u===null?(k=jj(),k===null&&(k=on,M=vj(),k.pooledCache=M,M.refCount++,M!==null&&(k.pooledCacheLanes|=p),k=M),f.memoizedState={parent:b,cache:k},Nj(f),Kl(f,Zn,k)):((u.lanes&p)!==0&&(kj(u,f),xm(f,null,null,p),gm()),k=u.memoizedState,M=f.memoizedState,k.parent!==b?(k={parent:b,cache:b},f.memoizedState=k,f.lanes===0&&(f.memoizedState=f.updateQueue.baseState=k),Kl(f,Zn,b)):(b=M.cache,Kl(f,Zn,b),b!==k.cache&&bj(f,[Zn],p,!0))),Da(u,f,f.pendingProps.children,p),f.child;case 29:throw f.pendingProps}throw Error(n(156,f.tag))}function Uo(u){u.flags|=4}function iS(u,f,p,b,k){if((f=(u.mode&32)!==0)&&(f=!1),f){if(u.flags|=16777216,(k&335544128)===k)if(u.stateNode.complete)u.flags|=8192;else if(B4())u.flags|=8192;else throw uu=Gg,Sj}else u.flags&=-16777217}function p4(u,f){if(f.type!=="stylesheet"||(f.state.loading&4)!==0)u.flags&=-16777217;else if(u.flags|=16777216,!A3(f))if(B4())u.flags|=8192;else throw uu=Gg,Sj}function ux(u,f){f!==null&&(u.flags|=4),u.flags&16384&&(f=u.tag!==22?ue():536870912,u.lanes|=f,Kd|=f)}function Sm(u,f){if(!_r)switch(u.tailMode){case"hidden":f=u.tail;for(var p=null;f!==null;)f.alternate!==null&&(p=f),f=f.sibling;p===null?u.tail=null:p.sibling=null;break;case"collapsed":p=u.tail;for(var b=null;p!==null;)p.alternate!==null&&(b=p),p=p.sibling;b===null?f||u.tail===null?u.tail=null:u.tail.sibling=null:b.sibling=null}}function vn(u){var f=u.alternate!==null&&u.alternate.child===u.child,p=0,b=0;if(f)for(var k=u.child;k!==null;)p|=k.lanes|k.childLanes,b|=k.subtreeFlags&65011712,b|=k.flags&65011712,k.return=u,k=k.sibling;else for(k=u.child;k!==null;)p|=k.lanes|k.childLanes,b|=k.subtreeFlags,b|=k.flags,k.return=u,k=k.sibling;return u.subtreeFlags|=b,u.childLanes=p,f}function vZ(u,f,p){var b=f.pendingProps;switch(mj(f),f.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vn(f),null;case 1:return vn(f),null;case 3:return p=f.stateNode,b=null,u!==null&&(b=u.memoizedState.cache),f.memoizedState.cache!==b&&(f.flags|=2048),zo(Zn),xe(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(u===null||u.child===null)&&(Id(f)?Uo(f):u===null||u.memoizedState.isDehydrated&&(f.flags&256)===0||(f.flags|=1024,gj())),vn(f),null;case 26:var k=f.type,M=f.memoizedState;return u===null?(Uo(f),M!==null?(vn(f),p4(f,M)):(vn(f),iS(f,k,null,b,p))):M?M!==u.memoizedState?(Uo(f),vn(f),p4(f,M)):(vn(f),f.flags&=-16777217):(u=u.memoizedProps,u!==b&&Uo(f),vn(f),iS(f,k,u,b,p)),null;case 27:if(Be(f),p=ge.current,k=f.type,u!==null&&f.stateNode!=null)u.memoizedProps!==b&&Uo(f);else{if(!b){if(f.stateNode===null)throw Error(n(166));return vn(f),null}u=oe.current,Id(f)?YD(f):(u=j3(k,b,p),f.stateNode=u,Uo(f))}return vn(f),null;case 5:if(Be(f),k=f.type,u!==null&&f.stateNode!=null)u.memoizedProps!==b&&Uo(f);else{if(!b){if(f.stateNode===null)throw Error(n(166));return vn(f),null}if(M=oe.current,Id(f))YD(f);else{var V=kx(ge.current);switch(M){case 1:M=V.createElementNS("http://www.w3.org/2000/svg",k);break;case 2:M=V.createElementNS("http://www.w3.org/1998/Math/MathML",k);break;default:switch(k){case"svg":M=V.createElementNS("http://www.w3.org/2000/svg",k);break;case"math":M=V.createElementNS("http://www.w3.org/1998/Math/MathML",k);break;case"script":M=V.createElement("div"),M.innerHTML="<script><\/script>",M=M.removeChild(M.firstChild);break;case"select":M=typeof b.is=="string"?V.createElement("select",{is:b.is}):V.createElement("select"),b.multiple?M.multiple=!0:b.size&&(M.size=b.size);break;default:M=typeof b.is=="string"?V.createElement(k,{is:b.is}):V.createElement(k)}}M[Ot]=f,M[dr]=b;e:for(V=f.child;V!==null;){if(V.tag===5||V.tag===6)M.appendChild(V.stateNode);else if(V.tag!==4&&V.tag!==27&&V.child!==null){V.child.return=V,V=V.child;continue}if(V===f)break e;for(;V.sibling===null;){if(V.return===null||V.return===f)break e;V=V.return}V.sibling.return=V.return,V=V.sibling}f.stateNode=M;e:switch(Pa(M,k,b),k){case"button":case"input":case"select":case"textarea":b=!!b.autoFocus;break e;case"img":b=!0;break e;default:b=!1}b&&Uo(f)}}return vn(f),iS(f,f.type,u===null?null:u.memoizedProps,f.pendingProps,p),null;case 6:if(u&&f.stateNode!=null)u.memoizedProps!==b&&Uo(f);else{if(typeof b!="string"&&f.stateNode===null)throw Error(n(166));if(u=ge.current,Id(f)){if(u=f.stateNode,p=f.memoizedProps,b=null,k=Oa,k!==null)switch(k.tag){case 27:case 5:b=k.memoizedProps}u[Ot]=f,u=!!(u.nodeValue===p||b!==null&&b.suppressHydrationWarning===!0||d3(u.nodeValue,p)),u||Yl(f,!0)}else u=kx(u).createTextNode(b),u[Ot]=f,f.stateNode=u}return vn(f),null;case 31:if(p=f.memoizedState,u===null||u.memoizedState!==null){if(b=Id(f),p!==null){if(u===null){if(!b)throw Error(n(318));if(u=f.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(n(557));u[Ot]=f}else su(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;vn(f),u=!1}else p=gj(),u!==null&&u.memoizedState!==null&&(u.memoizedState.hydrationErrors=p),u=!0;if(!u)return f.flags&256?(Ps(f),f):(Ps(f),null);if((f.flags&128)!==0)throw Error(n(558))}return vn(f),null;case 13:if(b=f.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(k=Id(f),b!==null&&b.dehydrated!==null){if(u===null){if(!k)throw Error(n(318));if(k=f.memoizedState,k=k!==null?k.dehydrated:null,!k)throw Error(n(317));k[Ot]=f}else su(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;vn(f),k=!1}else k=gj(),u!==null&&u.memoizedState!==null&&(u.memoizedState.hydrationErrors=k),k=!0;if(!k)return f.flags&256?(Ps(f),f):(Ps(f),null)}return Ps(f),(f.flags&128)!==0?(f.lanes=p,f):(p=b!==null,u=u!==null&&u.memoizedState!==null,p&&(b=f.child,k=null,b.alternate!==null&&b.alternate.memoizedState!==null&&b.alternate.memoizedState.cachePool!==null&&(k=b.alternate.memoizedState.cachePool.pool),M=null,b.memoizedState!==null&&b.memoizedState.cachePool!==null&&(M=b.memoizedState.cachePool.pool),M!==k&&(b.flags|=2048)),p!==u&&p&&(f.child.flags|=8192),ux(f,f.updateQueue),vn(f),null);case 4:return xe(),u===null&&_S(f.stateNode.containerInfo),vn(f),null;case 10:return zo(f.type),vn(f),null;case 19:if(Z(Un),b=f.memoizedState,b===null)return vn(f),null;if(k=(f.flags&128)!==0,M=b.rendering,M===null)if(k)Sm(b,!1);else{if(Rn!==0||u!==null&&(u.flags&128)!==0)for(u=f.child;u!==null;){if(M=Jg(u),M!==null){for(f.flags|=128,Sm(b,!1),u=M.updateQueue,f.updateQueue=u,ux(f,u),f.subtreeFlags=0,u=p,p=f.child;p!==null;)VD(p,u),p=p.sibling;return ie(Un,Un.current&1|2),_r&&Ho(f,b.treeForkCount),f.child}u=u.sibling}b.tail!==null&&wt()>px&&(f.flags|=128,k=!0,Sm(b,!1),f.lanes=4194304)}else{if(!k)if(u=Jg(M),u!==null){if(f.flags|=128,k=!0,u=u.updateQueue,f.updateQueue=u,ux(f,u),Sm(b,!0),b.tail===null&&b.tailMode==="hidden"&&!M.alternate&&!_r)return vn(f),null}else 2*wt()-b.renderingStartTime>px&&p!==536870912&&(f.flags|=128,k=!0,Sm(b,!1),f.lanes=4194304);b.isBackwards?(M.sibling=f.child,f.child=M):(u=b.last,u!==null?u.sibling=M:f.child=M,b.last=M)}return b.tail!==null?(u=b.tail,b.rendering=u,b.tail=u.sibling,b.renderingStartTime=wt(),u.sibling=null,p=Un.current,ie(Un,k?p&1|2:p&1),_r&&Ho(f,b.treeForkCount),u):(vn(f),null);case 22:case 23:return Ps(f),Mj(),b=f.memoizedState!==null,u!==null?u.memoizedState!==null!==b&&(f.flags|=8192):b&&(f.flags|=8192),b?(p&536870912)!==0&&(f.flags&128)===0&&(vn(f),f.subtreeFlags&6&&(f.flags|=8192)):vn(f),p=f.updateQueue,p!==null&&ux(f,p.retryQueue),p=null,u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),b=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(b=f.memoizedState.cachePool.pool),b!==p&&(f.flags|=2048),u!==null&&Z(lu),null;case 24:return p=null,u!==null&&(p=u.memoizedState.cache),f.memoizedState.cache!==p&&(f.flags|=2048),zo(Zn),vn(f),null;case 25:return null;case 30:return null}throw Error(n(156,f.tag))}function wZ(u,f){switch(mj(f),f.tag){case 1:return u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 3:return zo(Zn),xe(),u=f.flags,(u&65536)!==0&&(u&128)===0?(f.flags=u&-65537|128,f):null;case 26:case 27:case 5:return Be(f),null;case 31:if(f.memoizedState!==null){if(Ps(f),f.alternate===null)throw Error(n(340));su()}return u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 13:if(Ps(f),u=f.memoizedState,u!==null&&u.dehydrated!==null){if(f.alternate===null)throw Error(n(340));su()}return u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 19:return Z(Un),null;case 4:return xe(),null;case 10:return zo(f.type),null;case 22:case 23:return Ps(f),Mj(),u!==null&&Z(lu),u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 24:return zo(Zn),null;case 25:return null;default:return null}}function g4(u,f){switch(mj(f),f.tag){case 3:zo(Zn),xe();break;case 26:case 27:case 5:Be(f);break;case 4:xe();break;case 31:f.memoizedState!==null&&Ps(f);break;case 13:Ps(f);break;case 19:Z(Un);break;case 10:zo(f.type);break;case 22:case 23:Ps(f),Mj(),u!==null&&Z(lu);break;case 24:zo(Zn)}}function Nm(u,f){try{var p=f.updateQueue,b=p!==null?p.lastEffect:null;if(b!==null){var k=b.next;p=k;do{if((p.tag&u)===u){b=void 0;var M=p.create,V=p.inst;b=M(),V.destroy=b}p=p.next}while(p!==k)}}catch(Q){Jr(f,f.return,Q)}}function tc(u,f,p){try{var b=f.updateQueue,k=b!==null?b.lastEffect:null;if(k!==null){var M=k.next;b=M;do{if((b.tag&u)===u){var V=b.inst,Q=V.destroy;if(Q!==void 0){V.destroy=void 0,k=f;var me=p,Re=Q;try{Re()}catch(Ve){Jr(k,me,Ve)}}}b=b.next}while(b!==M)}}catch(Ve){Jr(f,f.return,Ve)}}function x4(u){var f=u.updateQueue;if(f!==null){var p=u.stateNode;try{oP(f,p)}catch(b){Jr(u,u.return,b)}}}function y4(u,f,p){p.props=hu(u.type,u.memoizedProps),p.state=u.memoizedState;try{p.componentWillUnmount()}catch(b){Jr(u,f,b)}}function km(u,f){try{var p=u.ref;if(p!==null){switch(u.tag){case 26:case 27:case 5:var b=u.stateNode;break;case 30:b=u.stateNode;break;default:b=u.stateNode}typeof p=="function"?u.refCleanup=p(b):p.current=b}}catch(k){Jr(u,f,k)}}function eo(u,f){var p=u.ref,b=u.refCleanup;if(p!==null)if(typeof b=="function")try{b()}catch(k){Jr(u,f,k)}finally{u.refCleanup=null,u=u.alternate,u!=null&&(u.refCleanup=null)}else if(typeof p=="function")try{p(null)}catch(k){Jr(u,f,k)}else p.current=null}function b4(u){var f=u.type,p=u.memoizedProps,b=u.stateNode;try{e:switch(f){case"button":case"input":case"select":case"textarea":p.autoFocus&&b.focus();break e;case"img":p.src?b.src=p.src:p.srcSet&&(b.srcset=p.srcSet)}}catch(k){Jr(u,u.return,k)}}function oS(u,f,p){try{var b=u.stateNode;VZ(b,u.type,p,f),b[dr]=f}catch(k){Jr(u,u.return,k)}}function v4(u){return u.tag===5||u.tag===3||u.tag===26||u.tag===27&&lc(u.type)||u.tag===4}function lS(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||v4(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==18;){if(u.tag===27&&lc(u.type)||u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function cS(u,f,p){var b=u.tag;if(b===5||b===6)u=u.stateNode,f?(p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p).insertBefore(u,f):(f=p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p,f.appendChild(u),p=p._reactRootContainer,p!=null||f.onclick!==null||(f.onclick=Aa));else if(b!==4&&(b===27&&lc(u.type)&&(p=u.stateNode,f=null),u=u.child,u!==null))for(cS(u,f,p),u=u.sibling;u!==null;)cS(u,f,p),u=u.sibling}function dx(u,f,p){var b=u.tag;if(b===5||b===6)u=u.stateNode,f?p.insertBefore(u,f):p.appendChild(u);else if(b!==4&&(b===27&&lc(u.type)&&(p=u.stateNode),u=u.child,u!==null))for(dx(u,f,p),u=u.sibling;u!==null;)dx(u,f,p),u=u.sibling}function w4(u){var f=u.stateNode,p=u.memoizedProps;try{for(var b=u.type,k=f.attributes;k.length;)f.removeAttributeNode(k[0]);Pa(f,b,p),f[Ot]=u,f[dr]=p}catch(M){Jr(u,u.return,M)}}var Go=!1,ra=!1,uS=!1,j4=typeof WeakSet=="function"?WeakSet:Set,va=null;function jZ(u,f){if(u=u.containerInfo,OS=Ex,u=PD(u),nj(u)){if("selectionStart"in u)var p={start:u.selectionStart,end:u.selectionEnd};else e:{p=(p=u.ownerDocument)&&p.defaultView||window;var b=p.getSelection&&p.getSelection();if(b&&b.rangeCount!==0){p=b.anchorNode;var k=b.anchorOffset,M=b.focusNode;b=b.focusOffset;try{p.nodeType,M.nodeType}catch{p=null;break e}var V=0,Q=-1,me=-1,Re=0,Ve=0,Qe=u,Ie=null;t:for(;;){for(var Fe;Qe!==p||k!==0&&Qe.nodeType!==3||(Q=V+k),Qe!==M||b!==0&&Qe.nodeType!==3||(me=V+b),Qe.nodeType===3&&(V+=Qe.nodeValue.length),(Fe=Qe.firstChild)!==null;)Ie=Qe,Qe=Fe;for(;;){if(Qe===u)break t;if(Ie===p&&++Re===k&&(Q=V),Ie===M&&++Ve===b&&(me=V),(Fe=Qe.nextSibling)!==null)break;Qe=Ie,Ie=Qe.parentNode}Qe=Fe}p=Q===-1||me===-1?null:{start:Q,end:me}}else p=null}p=p||{start:0,end:0}}else p=null;for(ES={focusedElem:u,selectionRange:p},Ex=!1,va=f;va!==null;)if(f=va,u=f.child,(f.subtreeFlags&1028)!==0&&u!==null)u.return=f,va=u;else for(;va!==null;){switch(f=va,M=f.alternate,u=f.flags,f.tag){case 0:if((u&4)!==0&&(u=f.updateQueue,u=u!==null?u.events:null,u!==null))for(p=0;p<u.length;p++)k=u[p],k.ref.impl=k.nextImpl;break;case 11:case 15:break;case 1:if((u&1024)!==0&&M!==null){u=void 0,p=f,k=M.memoizedProps,M=M.memoizedState,b=p.stateNode;try{var Dt=hu(p.type,k);u=b.getSnapshotBeforeUpdate(Dt,M),b.__reactInternalSnapshotBeforeUpdate=u}catch(Kt){Jr(p,p.return,Kt)}}break;case 3:if((u&1024)!==0){if(u=f.stateNode.containerInfo,p=u.nodeType,p===9)RS(u);else if(p===1)switch(u.nodeName){case"HEAD":case"HTML":case"BODY":RS(u);break;default:u.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((u&1024)!==0)throw Error(n(163))}if(u=f.sibling,u!==null){u.return=f.return,va=u;break}va=f.return}}function S4(u,f,p){var b=p.flags;switch(p.tag){case 0:case 11:case 15:Ko(u,p),b&4&&Nm(5,p);break;case 1:if(Ko(u,p),b&4)if(u=p.stateNode,f===null)try{u.componentDidMount()}catch(V){Jr(p,p.return,V)}else{var k=hu(p.type,f.memoizedProps);f=f.memoizedState;try{u.componentDidUpdate(k,f,u.__reactInternalSnapshotBeforeUpdate)}catch(V){Jr(p,p.return,V)}}b&64&&x4(p),b&512&&km(p,p.return);break;case 3:if(Ko(u,p),b&64&&(u=p.updateQueue,u!==null)){if(f=null,p.child!==null)switch(p.child.tag){case 27:case 5:f=p.child.stateNode;break;case 1:f=p.child.stateNode}try{oP(u,f)}catch(V){Jr(p,p.return,V)}}break;case 27:f===null&&b&4&&w4(p);case 26:case 5:Ko(u,p),f===null&&b&4&&b4(p),b&512&&km(p,p.return);break;case 12:Ko(u,p);break;case 31:Ko(u,p),b&4&&C4(u,p);break;case 13:Ko(u,p),b&4&&T4(u,p),b&64&&(u=p.memoizedState,u!==null&&(u=u.dehydrated,u!==null&&(p=OZ.bind(null,p),JZ(u,p))));break;case 22:if(b=p.memoizedState!==null||Go,!b){f=f!==null&&f.memoizedState!==null||ra,k=Go;var M=ra;Go=b,(ra=f)&&!M?Xo(u,p,(p.subtreeFlags&8772)!==0):Ko(u,p),Go=k,ra=M}break;case 30:break;default:Ko(u,p)}}function N4(u){var f=u.alternate;f!==null&&(u.alternate=null,N4(f)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(f=u.stateNode,f!==null&&ke(f)),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}var Nn=null,ys=!1;function Yo(u,f,p){for(p=p.child;p!==null;)k4(u,f,p),p=p.sibling}function k4(u,f,p){if(Je&&typeof Je.onCommitFiberUnmount=="function")try{Je.onCommitFiberUnmount(he,p)}catch{}switch(p.tag){case 26:ra||eo(p,f),Yo(u,f,p),p.memoizedState?p.memoizedState.count--:p.stateNode&&(p=p.stateNode,p.parentNode.removeChild(p));break;case 27:ra||eo(p,f);var b=Nn,k=ys;lc(p.type)&&(Nn=p.stateNode,ys=!1),Yo(u,f,p),Pm(p.stateNode),Nn=b,ys=k;break;case 5:ra||eo(p,f);case 6:if(b=Nn,k=ys,Nn=null,Yo(u,f,p),Nn=b,ys=k,Nn!==null)if(ys)try{(Nn.nodeType===9?Nn.body:Nn.nodeName==="HTML"?Nn.ownerDocument.body:Nn).removeChild(p.stateNode)}catch(M){Jr(p,f,M)}else try{Nn.removeChild(p.stateNode)}catch(M){Jr(p,f,M)}break;case 18:Nn!==null&&(ys?(u=Nn,x3(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,p.stateNode),nf(u)):x3(Nn,p.stateNode));break;case 4:b=Nn,k=ys,Nn=p.stateNode.containerInfo,ys=!0,Yo(u,f,p),Nn=b,ys=k;break;case 0:case 11:case 14:case 15:tc(2,p,f),ra||tc(4,p,f),Yo(u,f,p);break;case 1:ra||(eo(p,f),b=p.stateNode,typeof b.componentWillUnmount=="function"&&y4(p,f,b)),Yo(u,f,p);break;case 21:Yo(u,f,p);break;case 22:ra=(b=ra)||p.memoizedState!==null,Yo(u,f,p),ra=b;break;default:Yo(u,f,p)}}function C4(u,f){if(f.memoizedState===null&&(u=f.alternate,u!==null&&(u=u.memoizedState,u!==null))){u=u.dehydrated;try{nf(u)}catch(p){Jr(f,f.return,p)}}}function T4(u,f){if(f.memoizedState===null&&(u=f.alternate,u!==null&&(u=u.memoizedState,u!==null&&(u=u.dehydrated,u!==null))))try{nf(u)}catch(p){Jr(f,f.return,p)}}function SZ(u){switch(u.tag){case 31:case 13:case 19:var f=u.stateNode;return f===null&&(f=u.stateNode=new j4),f;case 22:return u=u.stateNode,f=u._retryCache,f===null&&(f=u._retryCache=new j4),f;default:throw Error(n(435,u.tag))}}function fx(u,f){var p=SZ(u);f.forEach(function(b){if(!p.has(b)){p.add(b);var k=EZ.bind(null,u,b);b.then(k,k)}})}function bs(u,f){var p=f.deletions;if(p!==null)for(var b=0;b<p.length;b++){var k=p[b],M=u,V=f,Q=V;e:for(;Q!==null;){switch(Q.tag){case 27:if(lc(Q.type)){Nn=Q.stateNode,ys=!1;break e}break;case 5:Nn=Q.stateNode,ys=!1;break e;case 3:case 4:Nn=Q.stateNode.containerInfo,ys=!0;break e}Q=Q.return}if(Nn===null)throw Error(n(160));k4(M,V,k),Nn=null,ys=!1,M=k.alternate,M!==null&&(M.return=null),k.return=null}if(f.subtreeFlags&13886)for(f=f.child;f!==null;)_4(f,u),f=f.sibling}var Ei=null;function _4(u,f){var p=u.alternate,b=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:bs(f,u),vs(u),b&4&&(tc(3,u,u.return),Nm(3,u),tc(5,u,u.return));break;case 1:bs(f,u),vs(u),b&512&&(ra||p===null||eo(p,p.return)),b&64&&Go&&(u=u.updateQueue,u!==null&&(b=u.callbacks,b!==null&&(p=u.shared.hiddenCallbacks,u.shared.hiddenCallbacks=p===null?b:p.concat(b))));break;case 26:var k=Ei;if(bs(f,u),vs(u),b&512&&(ra||p===null||eo(p,p.return)),b&4){var M=p!==null?p.memoizedState:null;if(b=u.memoizedState,p===null)if(b===null)if(u.stateNode===null){e:{b=u.type,p=u.memoizedProps,k=k.ownerDocument||k;t:switch(b){case"title":M=k.getElementsByTagName("title")[0],(!M||M[K]||M[Ot]||M.namespaceURI==="http://www.w3.org/2000/svg"||M.hasAttribute("itemprop"))&&(M=k.createElement(b),k.head.insertBefore(M,k.querySelector("head > title"))),Pa(M,b,p),M[Ot]=u,Bt(M),b=M;break e;case"link":var V=_3("link","href",k).get(b+(p.href||""));if(V){for(var Q=0;Q<V.length;Q++)if(M=V[Q],M.getAttribute("href")===(p.href==null||p.href===""?null:p.href)&&M.getAttribute("rel")===(p.rel==null?null:p.rel)&&M.getAttribute("title")===(p.title==null?null:p.title)&&M.getAttribute("crossorigin")===(p.crossOrigin==null?null:p.crossOrigin)){V.splice(Q,1);break t}}M=k.createElement(b),Pa(M,b,p),k.head.appendChild(M);break;case"meta":if(V=_3("meta","content",k).get(b+(p.content||""))){for(Q=0;Q<V.length;Q++)if(M=V[Q],M.getAttribute("content")===(p.content==null?null:""+p.content)&&M.getAttribute("name")===(p.name==null?null:p.name)&&M.getAttribute("property")===(p.property==null?null:p.property)&&M.getAttribute("http-equiv")===(p.httpEquiv==null?null:p.httpEquiv)&&M.getAttribute("charset")===(p.charSet==null?null:p.charSet)){V.splice(Q,1);break t}}M=k.createElement(b),Pa(M,b,p),k.head.appendChild(M);break;default:throw Error(n(468,b))}M[Ot]=u,Bt(M),b=M}u.stateNode=b}else M3(k,u.type,u.stateNode);else u.stateNode=T3(k,b,u.memoizedProps);else M!==b?(M===null?p.stateNode!==null&&(p=p.stateNode,p.parentNode.removeChild(p)):M.count--,b===null?M3(k,u.type,u.stateNode):T3(k,b,u.memoizedProps)):b===null&&u.stateNode!==null&&oS(u,u.memoizedProps,p.memoizedProps)}break;case 27:bs(f,u),vs(u),b&512&&(ra||p===null||eo(p,p.return)),p!==null&&b&4&&oS(u,u.memoizedProps,p.memoizedProps);break;case 5:if(bs(f,u),vs(u),b&512&&(ra||p===null||eo(p,p.return)),u.flags&32){k=u.stateNode;try{U(k,"")}catch(Dt){Jr(u,u.return,Dt)}}b&4&&u.stateNode!=null&&(k=u.memoizedProps,oS(u,k,p!==null?p.memoizedProps:k)),b&1024&&(uS=!0);break;case 6:if(bs(f,u),vs(u),b&4){if(u.stateNode===null)throw Error(n(162));b=u.memoizedProps,p=u.stateNode;try{p.nodeValue=b}catch(Dt){Jr(u,u.return,Dt)}}break;case 3:if(_x=null,k=Ei,Ei=Cx(f.containerInfo),bs(f,u),Ei=k,vs(u),b&4&&p!==null&&p.memoizedState.isDehydrated)try{nf(f.containerInfo)}catch(Dt){Jr(u,u.return,Dt)}uS&&(uS=!1,M4(u));break;case 4:b=Ei,Ei=Cx(u.stateNode.containerInfo),bs(f,u),vs(u),Ei=b;break;case 12:bs(f,u),vs(u);break;case 31:bs(f,u),vs(u),b&4&&(b=u.updateQueue,b!==null&&(u.updateQueue=null,fx(u,b)));break;case 13:bs(f,u),vs(u),u.child.flags&8192&&u.memoizedState!==null!=(p!==null&&p.memoizedState!==null)&&(mx=wt()),b&4&&(b=u.updateQueue,b!==null&&(u.updateQueue=null,fx(u,b)));break;case 22:k=u.memoizedState!==null;var me=p!==null&&p.memoizedState!==null,Re=Go,Ve=ra;if(Go=Re||k,ra=Ve||me,bs(f,u),ra=Ve,Go=Re,vs(u),b&8192)e:for(f=u.stateNode,f._visibility=k?f._visibility&-2:f._visibility|1,k&&(p===null||me||Go||ra||mu(u)),p=null,f=u;;){if(f.tag===5||f.tag===26){if(p===null){me=p=f;try{if(M=me.stateNode,k)V=M.style,typeof V.setProperty=="function"?V.setProperty("display","none","important"):V.display="none";else{Q=me.stateNode;var Qe=me.memoizedProps.style,Ie=Qe!=null&&Qe.hasOwnProperty("display")?Qe.display:null;Q.style.display=Ie==null||typeof Ie=="boolean"?"":(""+Ie).trim()}}catch(Dt){Jr(me,me.return,Dt)}}}else if(f.tag===6){if(p===null){me=f;try{me.stateNode.nodeValue=k?"":me.memoizedProps}catch(Dt){Jr(me,me.return,Dt)}}}else if(f.tag===18){if(p===null){me=f;try{var Fe=me.stateNode;k?y3(Fe,!0):y3(me.stateNode,!1)}catch(Dt){Jr(me,me.return,Dt)}}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===u)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===u)break e;for(;f.sibling===null;){if(f.return===null||f.return===u)break e;p===f&&(p=null),f=f.return}p===f&&(p=null),f.sibling.return=f.return,f=f.sibling}b&4&&(b=u.updateQueue,b!==null&&(p=b.retryQueue,p!==null&&(b.retryQueue=null,fx(u,p))));break;case 19:bs(f,u),vs(u),b&4&&(b=u.updateQueue,b!==null&&(u.updateQueue=null,fx(u,b)));break;case 30:break;case 21:break;default:bs(f,u),vs(u)}}function vs(u){var f=u.flags;if(f&2){try{for(var p,b=u.return;b!==null;){if(v4(b)){p=b;break}b=b.return}if(p==null)throw Error(n(160));switch(p.tag){case 27:var k=p.stateNode,M=lS(u);dx(u,M,k);break;case 5:var V=p.stateNode;p.flags&32&&(U(V,""),p.flags&=-33);var Q=lS(u);dx(u,Q,V);break;case 3:case 4:var me=p.stateNode.containerInfo,Re=lS(u);cS(u,Re,me);break;default:throw Error(n(161))}}catch(Ve){Jr(u,u.return,Ve)}u.flags&=-3}f&4096&&(u.flags&=-4097)}function M4(u){if(u.subtreeFlags&1024)for(u=u.child;u!==null;){var f=u;M4(f),f.tag===5&&f.flags&1024&&f.stateNode.reset(),u=u.sibling}}function Ko(u,f){if(f.subtreeFlags&8772)for(f=f.child;f!==null;)S4(u,f.alternate,f),f=f.sibling}function mu(u){for(u=u.child;u!==null;){var f=u;switch(f.tag){case 0:case 11:case 14:case 15:tc(4,f,f.return),mu(f);break;case 1:eo(f,f.return);var p=f.stateNode;typeof p.componentWillUnmount=="function"&&y4(f,f.return,p),mu(f);break;case 27:Pm(f.stateNode);case 26:case 5:eo(f,f.return),mu(f);break;case 22:f.memoizedState===null&&mu(f);break;case 30:mu(f);break;default:mu(f)}u=u.sibling}}function Xo(u,f,p){for(p=p&&(f.subtreeFlags&8772)!==0,f=f.child;f!==null;){var b=f.alternate,k=u,M=f,V=M.flags;switch(M.tag){case 0:case 11:case 15:Xo(k,M,p),Nm(4,M);break;case 1:if(Xo(k,M,p),b=M,k=b.stateNode,typeof k.componentDidMount=="function")try{k.componentDidMount()}catch(Re){Jr(b,b.return,Re)}if(b=M,k=b.updateQueue,k!==null){var Q=b.stateNode;try{var me=k.shared.hiddenCallbacks;if(me!==null)for(k.shared.hiddenCallbacks=null,k=0;k<me.length;k++)iP(me[k],Q)}catch(Re){Jr(b,b.return,Re)}}p&&V&64&&x4(M),km(M,M.return);break;case 27:w4(M);case 26:case 5:Xo(k,M,p),p&&b===null&&V&4&&b4(M),km(M,M.return);break;case 12:Xo(k,M,p);break;case 31:Xo(k,M,p),p&&V&4&&C4(k,M);break;case 13:Xo(k,M,p),p&&V&4&&T4(k,M);break;case 22:M.memoizedState===null&&Xo(k,M,p),km(M,M.return);break;case 30:break;default:Xo(k,M,p)}f=f.sibling}}function dS(u,f){var p=null;u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),u=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(u=f.memoizedState.cachePool.pool),u!==p&&(u!=null&&u.refCount++,p!=null&&dm(p))}function fS(u,f){u=null,f.alternate!==null&&(u=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==u&&(f.refCount++,u!=null&&dm(u))}function Di(u,f,p,b){if(f.subtreeFlags&10256)for(f=f.child;f!==null;)A4(u,f,p,b),f=f.sibling}function A4(u,f,p,b){var k=f.flags;switch(f.tag){case 0:case 11:case 15:Di(u,f,p,b),k&2048&&Nm(9,f);break;case 1:Di(u,f,p,b);break;case 3:Di(u,f,p,b),k&2048&&(u=null,f.alternate!==null&&(u=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==u&&(f.refCount++,u!=null&&dm(u)));break;case 12:if(k&2048){Di(u,f,p,b),u=f.stateNode;try{var M=f.memoizedProps,V=M.id,Q=M.onPostCommit;typeof Q=="function"&&Q(V,f.alternate===null?"mount":"update",u.passiveEffectDuration,-0)}catch(me){Jr(f,f.return,me)}}else Di(u,f,p,b);break;case 31:Di(u,f,p,b);break;case 13:Di(u,f,p,b);break;case 23:break;case 22:M=f.stateNode,V=f.alternate,f.memoizedState!==null?M._visibility&2?Di(u,f,p,b):Cm(u,f):M._visibility&2?Di(u,f,p,b):(M._visibility|=2,Ud(u,f,p,b,(f.subtreeFlags&10256)!==0||!1)),k&2048&&dS(V,f);break;case 24:Di(u,f,p,b),k&2048&&fS(f.alternate,f);break;default:Di(u,f,p,b)}}function Ud(u,f,p,b,k){for(k=k&&((f.subtreeFlags&10256)!==0||!1),f=f.child;f!==null;){var M=u,V=f,Q=p,me=b,Re=V.flags;switch(V.tag){case 0:case 11:case 15:Ud(M,V,Q,me,k),Nm(8,V);break;case 23:break;case 22:var Ve=V.stateNode;V.memoizedState!==null?Ve._visibility&2?Ud(M,V,Q,me,k):Cm(M,V):(Ve._visibility|=2,Ud(M,V,Q,me,k)),k&&Re&2048&&dS(V.alternate,V);break;case 24:Ud(M,V,Q,me,k),k&&Re&2048&&fS(V.alternate,V);break;default:Ud(M,V,Q,me,k)}f=f.sibling}}function Cm(u,f){if(f.subtreeFlags&10256)for(f=f.child;f!==null;){var p=u,b=f,k=b.flags;switch(b.tag){case 22:Cm(p,b),k&2048&&dS(b.alternate,b);break;case 24:Cm(p,b),k&2048&&fS(b.alternate,b);break;default:Cm(p,b)}f=f.sibling}}var Tm=8192;function Gd(u,f,p){if(u.subtreeFlags&Tm)for(u=u.child;u!==null;)O4(u,f,p),u=u.sibling}function O4(u,f,p){switch(u.tag){case 26:Gd(u,f,p),u.flags&Tm&&u.memoizedState!==null&&cee(p,Ei,u.memoizedState,u.memoizedProps);break;case 5:Gd(u,f,p);break;case 3:case 4:var b=Ei;Ei=Cx(u.stateNode.containerInfo),Gd(u,f,p),Ei=b;break;case 22:u.memoizedState===null&&(b=u.alternate,b!==null&&b.memoizedState!==null?(b=Tm,Tm=16777216,Gd(u,f,p),Tm=b):Gd(u,f,p));break;default:Gd(u,f,p)}}function E4(u){var f=u.alternate;if(f!==null&&(u=f.child,u!==null)){f.child=null;do f=u.sibling,u.sibling=null,u=f;while(u!==null)}}function _m(u){var f=u.deletions;if((u.flags&16)!==0){if(f!==null)for(var p=0;p<f.length;p++){var b=f[p];va=b,P4(b,u)}E4(u)}if(u.subtreeFlags&10256)for(u=u.child;u!==null;)D4(u),u=u.sibling}function D4(u){switch(u.tag){case 0:case 11:case 15:_m(u),u.flags&2048&&tc(9,u,u.return);break;case 3:_m(u);break;case 12:_m(u);break;case 22:var f=u.stateNode;u.memoizedState!==null&&f._visibility&2&&(u.return===null||u.return.tag!==13)?(f._visibility&=-3,hx(u)):_m(u);break;default:_m(u)}}function hx(u){var f=u.deletions;if((u.flags&16)!==0){if(f!==null)for(var p=0;p<f.length;p++){var b=f[p];va=b,P4(b,u)}E4(u)}for(u=u.child;u!==null;){switch(f=u,f.tag){case 0:case 11:case 15:tc(8,f,f.return),hx(f);break;case 22:p=f.stateNode,p._visibility&2&&(p._visibility&=-3,hx(f));break;default:hx(f)}u=u.sibling}}function P4(u,f){for(;va!==null;){var p=va;switch(p.tag){case 0:case 11:case 15:tc(8,p,f);break;case 23:case 22:if(p.memoizedState!==null&&p.memoizedState.cachePool!==null){var b=p.memoizedState.cachePool.pool;b!=null&&b.refCount++}break;case 24:dm(p.memoizedState.cache)}if(b=p.child,b!==null)b.return=p,va=b;else e:for(p=u;va!==null;){b=va;var k=b.sibling,M=b.return;if(N4(b),b===p){va=null;break e}if(k!==null){k.return=M,va=k;break e}va=M}}}var NZ={getCacheForType:function(u){var f=Ea(Zn),p=f.data.get(u);return p===void 0&&(p=u(),f.data.set(u,p)),p},cacheSignal:function(){return Ea(Zn).controller.signal}},kZ=typeof WeakMap=="function"?WeakMap:Map,Fr=0,on=null,yr=null,wr=0,Xr=0,Rs=null,rc=!1,Yd=!1,hS=!1,Jo=0,Rn=0,nc=0,pu=0,mS=0,Is=0,Kd=0,Mm=null,ws=null,pS=!1,mx=0,R4=0,px=1/0,gx=null,ac=null,da=0,sc=null,Xd=null,Qo=0,gS=0,xS=null,I4=null,Am=0,yS=null;function Ls(){return(Fr&2)!==0&&wr!==0?wr&-wr:H.T!==null?NS():Qt()}function L4(){if(Is===0)if((wr&536870912)===0||_r){var u=pe;pe<<=1,(pe&3932160)===0&&(pe=262144),Is=u}else Is=536870912;return u=Ds.current,u!==null&&(u.flags|=32),Is}function js(u,f,p){(u===on&&(Xr===2||Xr===9)||u.cancelPendingCommit!==null)&&(Jd(u,0),ic(u,wr,Is,!1)),Ae(u,p),((Fr&2)===0||u!==on)&&(u===on&&((Fr&2)===0&&(pu|=p),Rn===4&&ic(u,wr,Is,!1)),to(u))}function $4(u,f,p){if((Fr&6)!==0)throw Error(n(327));var b=!p&&(f&127)===0&&(f&u.expiredLanes)===0||Se(u,f),k=b?_Z(u,f):vS(u,f,!0),M=b;do{if(k===0){Yd&&!b&&ic(u,f,0,!1);break}else{if(p=u.current.alternate,M&&!CZ(p)){k=vS(u,f,!1),M=!1;continue}if(k===2){if(M=f,u.errorRecoveryDisabledLanes&M)var V=0;else V=u.pendingLanes&-536870913,V=V!==0?V:V&536870912?536870912:0;if(V!==0){f=V;e:{var Q=u;k=Mm;var me=Q.current.memoizedState.isDehydrated;if(me&&(Jd(Q,V).flags|=256),V=vS(Q,V,!1),V!==2){if(hS&&!me){Q.errorRecoveryDisabledLanes|=M,pu|=M,k=4;break e}M=ws,ws=k,M!==null&&(ws===null?ws=M:ws.push.apply(ws,M))}k=V}if(M=!1,k!==2)continue}}if(k===1){Jd(u,0),ic(u,f,0,!0);break}e:{switch(b=u,M=k,M){case 0:case 1:throw Error(n(345));case 4:if((f&4194048)!==f)break;case 6:ic(b,f,Is,!rc);break e;case 2:ws=null;break;case 3:case 5:break;default:throw Error(n(329))}if((f&62914560)===f&&(k=mx+300-wt(),10<k)){if(ic(b,f,Is,!rc),be(b,0,!0)!==0)break e;Qo=f,b.timeoutHandle=p3(F4.bind(null,b,p,ws,gx,pS,f,Is,pu,Kd,rc,M,"Throttled",-0,0),k);break e}F4(b,p,ws,gx,pS,f,Is,pu,Kd,rc,M,null,-0,0)}}break}while(!0);to(u)}function F4(u,f,p,b,k,M,V,Q,me,Re,Ve,Qe,Ie,Fe){if(u.timeoutHandle=-1,Qe=f.subtreeFlags,Qe&8192||(Qe&16785408)===16785408){Qe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Aa},O4(f,M,Qe);var Dt=(M&62914560)===M?mx-wt():(M&4194048)===M?R4-wt():0;if(Dt=uee(Qe,Dt),Dt!==null){Qo=M,u.cancelPendingCommit=Dt(G4.bind(null,u,f,M,p,b,k,V,Q,me,Ve,Qe,null,Ie,Fe)),ic(u,M,V,!Re);return}}G4(u,f,M,p,b,k,V,Q,me)}function CZ(u){for(var f=u;;){var p=f.tag;if((p===0||p===11||p===15)&&f.flags&16384&&(p=f.updateQueue,p!==null&&(p=p.stores,p!==null)))for(var b=0;b<p.length;b++){var k=p[b],M=k.getSnapshot;k=k.value;try{if(!Os(M(),k))return!1}catch{return!1}}if(p=f.child,f.subtreeFlags&16384&&p!==null)p.return=f,f=p;else{if(f===u)break;for(;f.sibling===null;){if(f.return===null||f.return===u)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function ic(u,f,p,b){f&=~mS,f&=~pu,u.suspendedLanes|=f,u.pingedLanes&=~f,b&&(u.warmLanes|=f),b=u.expirationTimes;for(var k=f;0<k;){var M=31-ae(k),V=1<<M;b[M]=-1,k&=~V}p!==0&&dt(u,p,f)}function xx(){return(Fr&6)===0?(Om(0),!1):!0}function bS(){if(yr!==null){if(Xr===0)var u=yr.return;else u=yr,Bo=iu=null,Rj(u),Bd=null,hm=0,u=yr;for(;u!==null;)g4(u.alternate,u),u=u.return;yr=null}}function Jd(u,f){var p=u.timeoutHandle;p!==-1&&(u.timeoutHandle=-1,UZ(p)),p=u.cancelPendingCommit,p!==null&&(u.cancelPendingCommit=null,p()),Qo=0,bS(),on=u,yr=p=Fo(u.current,null),wr=f,Xr=0,Rs=null,rc=!1,Yd=Se(u,f),hS=!1,Kd=Is=mS=pu=nc=Rn=0,ws=Mm=null,pS=!1,(f&8)!==0&&(f|=f&32);var b=u.entangledLanes;if(b!==0)for(u=u.entanglements,b&=f;0<b;){var k=31-ae(b),M=1<<k;f|=u[k],b&=~M}return Jo=f,$g(),p}function H4(u,f){sr=null,H.H=wm,f===Hd||f===Ug?(f=rP(),Xr=3):f===Sj?(f=rP(),Xr=4):Xr=f===Jj?8:f!==null&&typeof f=="object"&&typeof f.then=="function"?6:1,Rs=f,yr===null&&(Rn=1,ix(u,Qs(f,u.current)))}function B4(){var u=Ds.current;return u===null?!0:(wr&4194048)===wr?ri===null:(wr&62914560)===wr||(wr&536870912)!==0?u===ri:!1}function z4(){var u=H.H;return H.H=wm,u===null?wm:u}function V4(){var u=H.A;return H.A=NZ,u}function yx(){Rn=4,rc||(wr&4194048)!==wr&&Ds.current!==null||(Yd=!0),(nc&134217727)===0&&(pu&134217727)===0||on===null||ic(on,wr,Is,!1)}function vS(u,f,p){var b=Fr;Fr|=2;var k=z4(),M=V4();(on!==u||wr!==f)&&(gx=null,Jd(u,f)),f=!1;var V=Rn;e:do try{if(Xr!==0&&yr!==null){var Q=yr,me=Rs;switch(Xr){case 8:bS(),V=6;break e;case 3:case 2:case 9:case 6:Ds.current===null&&(f=!0);var Re=Xr;if(Xr=0,Rs=null,Qd(u,Q,me,Re),p&&Yd){V=0;break e}break;default:Re=Xr,Xr=0,Rs=null,Qd(u,Q,me,Re)}}TZ(),V=Rn;break}catch(Ve){H4(u,Ve)}while(!0);return f&&u.shellSuspendCounter++,Bo=iu=null,Fr=b,H.H=k,H.A=M,yr===null&&(on=null,wr=0,$g()),V}function TZ(){for(;yr!==null;)W4(yr)}function _Z(u,f){var p=Fr;Fr|=2;var b=z4(),k=V4();on!==u||wr!==f?(gx=null,px=wt()+500,Jd(u,f)):Yd=Se(u,f);e:do try{if(Xr!==0&&yr!==null){f=yr;var M=Rs;t:switch(Xr){case 1:Xr=0,Rs=null,Qd(u,f,M,1);break;case 2:case 9:if(eP(M)){Xr=0,Rs=null,q4(f);break}f=function(){Xr!==2&&Xr!==9||on!==u||(Xr=7),to(u)},M.then(f,f);break e;case 3:Xr=7;break e;case 4:Xr=5;break e;case 7:eP(M)?(Xr=0,Rs=null,q4(f)):(Xr=0,Rs=null,Qd(u,f,M,7));break;case 5:var V=null;switch(yr.tag){case 26:V=yr.memoizedState;case 5:case 27:var Q=yr;if(V?A3(V):Q.stateNode.complete){Xr=0,Rs=null;var me=Q.sibling;if(me!==null)yr=me;else{var Re=Q.return;Re!==null?(yr=Re,bx(Re)):yr=null}break t}}Xr=0,Rs=null,Qd(u,f,M,5);break;case 6:Xr=0,Rs=null,Qd(u,f,M,6);break;case 8:bS(),Rn=6;break e;default:throw Error(n(462))}}MZ();break}catch(Ve){H4(u,Ve)}while(!0);return Bo=iu=null,H.H=b,H.A=k,Fr=p,yr!==null?0:(on=null,wr=0,$g(),Rn)}function MZ(){for(;yr!==null&&!xt();)W4(yr)}function W4(u){var f=m4(u.alternate,u,Jo);u.memoizedProps=u.pendingProps,f===null?bx(u):yr=f}function q4(u){var f=u,p=f.alternate;switch(f.tag){case 15:case 0:f=l4(p,f,f.pendingProps,f.type,void 0,wr);break;case 11:f=l4(p,f,f.pendingProps,f.type.render,f.ref,wr);break;case 5:Rj(f);default:g4(p,f),f=yr=VD(f,Jo),f=m4(p,f,Jo)}u.memoizedProps=u.pendingProps,f===null?bx(u):yr=f}function Qd(u,f,p,b){Bo=iu=null,Rj(f),Bd=null,hm=0;var k=f.return;try{if(xZ(u,k,f,p,wr)){Rn=1,ix(u,Qs(p,u.current)),yr=null;return}}catch(M){if(k!==null)throw yr=k,M;Rn=1,ix(u,Qs(p,u.current)),yr=null;return}f.flags&32768?(_r||b===1?u=!0:Yd||(wr&536870912)!==0?u=!1:(rc=u=!0,(b===2||b===9||b===3||b===6)&&(b=Ds.current,b!==null&&b.tag===13&&(b.flags|=16384))),U4(f,u)):bx(f)}function bx(u){var f=u;do{if((f.flags&32768)!==0){U4(f,rc);return}u=f.return;var p=vZ(f.alternate,f,Jo);if(p!==null){yr=p;return}if(f=f.sibling,f!==null){yr=f;return}yr=f=u}while(f!==null);Rn===0&&(Rn=5)}function U4(u,f){do{var p=wZ(u.alternate,u);if(p!==null){p.flags&=32767,yr=p;return}if(p=u.return,p!==null&&(p.flags|=32768,p.subtreeFlags=0,p.deletions=null),!f&&(u=u.sibling,u!==null)){yr=u;return}yr=u=p}while(u!==null);Rn=6,yr=null}function G4(u,f,p,b,k,M,V,Q,me){u.cancelPendingCommit=null;do vx();while(da!==0);if((Fr&6)!==0)throw Error(n(327));if(f!==null){if(f===u.current)throw Error(n(177));if(M=f.lanes|f.childLanes,M|=lj,tt(u,p,M,V,Q,me),u===on&&(yr=on=null,wr=0),Xd=f,sc=u,Qo=p,gS=M,xS=k,I4=b,(f.subtreeFlags&10256)!==0||(f.flags&10256)!==0?(u.callbackNode=null,u.callbackPriority=0,DZ(ze,function(){return Q4(),null})):(u.callbackNode=null,u.callbackPriority=0),b=(f.flags&13878)!==0,(f.subtreeFlags&13878)!==0||b){b=H.T,H.T=null,k=P.p,P.p=2,V=Fr,Fr|=4;try{jZ(u,f,p)}finally{Fr=V,P.p=k,H.T=b}}da=1,Y4(),K4(),X4()}}function Y4(){if(da===1){da=0;var u=sc,f=Xd,p=(f.flags&13878)!==0;if((f.subtreeFlags&13878)!==0||p){p=H.T,H.T=null;var b=P.p;P.p=2;var k=Fr;Fr|=4;try{_4(f,u);var M=ES,V=PD(u.containerInfo),Q=M.focusedElem,me=M.selectionRange;if(V!==Q&&Q&&Q.ownerDocument&&DD(Q.ownerDocument.documentElement,Q)){if(me!==null&&nj(Q)){var Re=me.start,Ve=me.end;if(Ve===void 0&&(Ve=Re),"selectionStart"in Q)Q.selectionStart=Re,Q.selectionEnd=Math.min(Ve,Q.value.length);else{var Qe=Q.ownerDocument||document,Ie=Qe&&Qe.defaultView||window;if(Ie.getSelection){var Fe=Ie.getSelection(),Dt=Q.textContent.length,Kt=Math.min(me.start,Dt),nn=me.end===void 0?Kt:Math.min(me.end,Dt);!Fe.extend&&Kt>nn&&(V=nn,nn=Kt,Kt=V);var Ce=ED(Q,Kt),je=ED(Q,nn);if(Ce&&je&&(Fe.rangeCount!==1||Fe.anchorNode!==Ce.node||Fe.anchorOffset!==Ce.offset||Fe.focusNode!==je.node||Fe.focusOffset!==je.offset)){var Pe=Qe.createRange();Pe.setStart(Ce.node,Ce.offset),Fe.removeAllRanges(),Kt>nn?(Fe.addRange(Pe),Fe.extend(je.node,je.offset)):(Pe.setEnd(je.node,je.offset),Fe.addRange(Pe))}}}}for(Qe=[],Fe=Q;Fe=Fe.parentNode;)Fe.nodeType===1&&Qe.push({element:Fe,left:Fe.scrollLeft,top:Fe.scrollTop});for(typeof Q.focus=="function"&&Q.focus(),Q=0;Q<Qe.length;Q++){var Xe=Qe[Q];Xe.element.scrollLeft=Xe.left,Xe.element.scrollTop=Xe.top}}Ex=!!OS,ES=OS=null}finally{Fr=k,P.p=b,H.T=p}}u.current=f,da=2}}function K4(){if(da===2){da=0;var u=sc,f=Xd,p=(f.flags&8772)!==0;if((f.subtreeFlags&8772)!==0||p){p=H.T,H.T=null;var b=P.p;P.p=2;var k=Fr;Fr|=4;try{S4(u,f.alternate,f)}finally{Fr=k,P.p=b,H.T=p}}da=3}}function X4(){if(da===4||da===3){da=0,Nt();var u=sc,f=Xd,p=Qo,b=I4;(f.subtreeFlags&10256)!==0||(f.flags&10256)!==0?da=5:(da=0,Xd=sc=null,J4(u,u.pendingLanes));var k=u.pendingLanes;if(k===0&&(ac=null),bt(p),f=f.stateNode,Je&&typeof Je.onCommitFiberRoot=="function")try{Je.onCommitFiberRoot(he,f,void 0,(f.current.flags&128)===128)}catch{}if(b!==null){f=H.T,k=P.p,P.p=2,H.T=null;try{for(var M=u.onRecoverableError,V=0;V<b.length;V++){var Q=b[V];M(Q.value,{componentStack:Q.stack})}}finally{H.T=f,P.p=k}}(Qo&3)!==0&&vx(),to(u),k=u.pendingLanes,(p&261930)!==0&&(k&42)!==0?u===yS?Am++:(Am=0,yS=u):Am=0,Om(0)}}function J4(u,f){(u.pooledCacheLanes&=f)===0&&(f=u.pooledCache,f!=null&&(u.pooledCache=null,dm(f)))}function vx(){return Y4(),K4(),X4(),Q4()}function Q4(){if(da!==5)return!1;var u=sc,f=gS;gS=0;var p=bt(Qo),b=H.T,k=P.p;try{P.p=32>p?32:p,H.T=null,p=xS,xS=null;var M=sc,V=Qo;if(da=0,Xd=sc=null,Qo=0,(Fr&6)!==0)throw Error(n(331));var Q=Fr;if(Fr|=4,D4(M.current),A4(M,M.current,V,p),Fr=Q,Om(0,!1),Je&&typeof Je.onPostCommitFiberRoot=="function")try{Je.onPostCommitFiberRoot(he,M)}catch{}return!0}finally{P.p=k,H.T=b,J4(u,f)}}function Z4(u,f,p){f=Qs(p,f),f=Xj(u.stateNode,f,2),u=Ql(u,f,2),u!==null&&(Ae(u,2),to(u))}function Jr(u,f,p){if(u.tag===3)Z4(u,u,p);else for(;f!==null;){if(f.tag===3){Z4(f,u,p);break}else if(f.tag===1){var b=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof b.componentDidCatch=="function"&&(ac===null||!ac.has(b))){u=Qs(p,u),p=e4(2),b=Ql(f,p,2),b!==null&&(t4(p,b,f,u),Ae(b,2),to(b));break}}f=f.return}}function wS(u,f,p){var b=u.pingCache;if(b===null){b=u.pingCache=new kZ;var k=new Set;b.set(f,k)}else k=b.get(f),k===void 0&&(k=new Set,b.set(f,k));k.has(p)||(hS=!0,k.add(p),u=AZ.bind(null,u,f,p),f.then(u,u))}function AZ(u,f,p){var b=u.pingCache;b!==null&&b.delete(f),u.pingedLanes|=u.suspendedLanes&p,u.warmLanes&=~p,on===u&&(wr&p)===p&&(Rn===4||Rn===3&&(wr&62914560)===wr&&300>wt()-mx?(Fr&2)===0&&Jd(u,0):mS|=p,Kd===wr&&(Kd=0)),to(u)}function e3(u,f){f===0&&(f=ue()),u=nu(u,f),u!==null&&(Ae(u,f),to(u))}function OZ(u){var f=u.memoizedState,p=0;f!==null&&(p=f.retryLane),e3(u,p)}function EZ(u,f){var p=0;switch(u.tag){case 31:case 13:var b=u.stateNode,k=u.memoizedState;k!==null&&(p=k.retryLane);break;case 19:b=u.stateNode;break;case 22:b=u.stateNode._retryCache;break;default:throw Error(n(314))}b!==null&&b.delete(f),e3(u,p)}function DZ(u,f){return mt(u,f)}var wx=null,Zd=null,jS=!1,jx=!1,SS=!1,oc=0;function to(u){u!==Zd&&u.next===null&&(Zd===null?wx=Zd=u:Zd=Zd.next=u),jx=!0,jS||(jS=!0,RZ())}function Om(u,f){if(!SS&&jx){SS=!0;do for(var p=!1,b=wx;b!==null;){if(u!==0){var k=b.pendingLanes;if(k===0)var M=0;else{var V=b.suspendedLanes,Q=b.pingedLanes;M=(1<<31-ae(42|u)+1)-1,M&=k&~(V&~Q),M=M&201326741?M&201326741|1:M?M|2:0}M!==0&&(p=!0,a3(b,M))}else M=wr,M=be(b,b===on?M:0,b.cancelPendingCommit!==null||b.timeoutHandle!==-1),(M&3)===0||Se(b,M)||(p=!0,a3(b,M));b=b.next}while(p);SS=!1}}function PZ(){t3()}function t3(){jx=jS=!1;var u=0;oc!==0&&qZ()&&(u=oc);for(var f=wt(),p=null,b=wx;b!==null;){var k=b.next,M=r3(b,f);M===0?(b.next=null,p===null?wx=k:p.next=k,k===null&&(Zd=p)):(p=b,(u!==0||(M&3)!==0)&&(jx=!0)),b=k}da!==0&&da!==5||Om(u),oc!==0&&(oc=0)}function r3(u,f){for(var p=u.suspendedLanes,b=u.pingedLanes,k=u.expirationTimes,M=u.pendingLanes&-62914561;0<M;){var V=31-ae(M),Q=1<<V,me=k[V];me===-1?((Q&p)===0||(Q&b)!==0)&&(k[V]=$e(Q,f)):me<=f&&(u.expiredLanes|=Q),M&=~Q}if(f=on,p=wr,p=be(u,u===f?p:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),b=u.callbackNode,p===0||u===f&&(Xr===2||Xr===9)||u.cancelPendingCommit!==null)return b!==null&&b!==null&&nt(b),u.callbackNode=null,u.callbackPriority=0;if((p&3)===0||Se(u,p)){if(f=p&-p,f===u.callbackPriority)return f;switch(b!==null&&nt(b),bt(p)){case 2:case 8:p=Ne;break;case 32:p=ze;break;case 268435456:p=ut;break;default:p=ze}return b=n3.bind(null,u),p=mt(p,b),u.callbackPriority=f,u.callbackNode=p,f}return b!==null&&b!==null&&nt(b),u.callbackPriority=2,u.callbackNode=null,2}function n3(u,f){if(da!==0&&da!==5)return u.callbackNode=null,u.callbackPriority=0,null;var p=u.callbackNode;if(vx()&&u.callbackNode!==p)return null;var b=wr;return b=be(u,u===on?b:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),b===0?null:($4(u,b,f),r3(u,wt()),u.callbackNode!=null&&u.callbackNode===p?n3.bind(null,u):null)}function a3(u,f){if(vx())return null;$4(u,f,!0)}function RZ(){GZ(function(){(Fr&6)!==0?mt(rt,PZ):t3()})}function NS(){if(oc===0){var u=$d;u===0&&(u=ct,ct<<=1,(ct&261888)===0&&(ct=256)),oc=u}return oc}function s3(u){return u==null||typeof u=="symbol"||typeof u=="boolean"?null:typeof u=="function"?u:Xs(""+u)}function i3(u,f){var p=f.ownerDocument.createElement("input");return p.name=f.name,p.value=f.value,u.id&&p.setAttribute("form",u.id),f.parentNode.insertBefore(p,f),u=new FormData(u),p.parentNode.removeChild(p),u}function IZ(u,f,p,b,k){if(f==="submit"&&p&&p.stateNode===k){var M=s3((k[dr]||null).action),V=b.submitter;V&&(f=(f=V[dr]||null)?s3(f.formAction):V.getAttribute("formAction"),f!==null&&(M=f,V=null));var Q=new Pg("action","action",null,b,k);u.push({event:Q,listeners:[{instance:null,listener:function(){if(b.defaultPrevented){if(oc!==0){var me=V?i3(k,V):new FormData(k);Wj(p,{pending:!0,data:me,method:k.method,action:M},null,me)}}else typeof M=="function"&&(Q.preventDefault(),me=V?i3(k,V):new FormData(k),Wj(p,{pending:!0,data:me,method:k.method,action:M},M,me))},currentTarget:k}]})}}for(var kS=0;kS<oj.length;kS++){var CS=oj[kS],LZ=CS.toLowerCase(),$Z=CS[0].toUpperCase()+CS.slice(1);Oi(LZ,"on"+$Z)}Oi(LD,"onAnimationEnd"),Oi($D,"onAnimationIteration"),Oi(FD,"onAnimationStart"),Oi("dblclick","onDoubleClick"),Oi("focusin","onFocus"),Oi("focusout","onBlur"),Oi(eZ,"onTransitionRun"),Oi(tZ,"onTransitionStart"),Oi(rZ,"onTransitionCancel"),Oi(HD,"onTransitionEnd"),Cr("onMouseEnter",["mouseout","mouseover"]),Cr("onMouseLeave",["mouseout","mouseover"]),Cr("onPointerEnter",["pointerout","pointerover"]),Cr("onPointerLeave",["pointerout","pointerover"]),yn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),yn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),yn("onBeforeInput",["compositionend","keypress","textInput","paste"]),yn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),yn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),yn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Em="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),FZ=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Em));function o3(u,f){f=(f&4)!==0;for(var p=0;p<u.length;p++){var b=u[p],k=b.event;b=b.listeners;e:{var M=void 0;if(f)for(var V=b.length-1;0<=V;V--){var Q=b[V],me=Q.instance,Re=Q.currentTarget;if(Q=Q.listener,me!==M&&k.isPropagationStopped())break e;M=Q,k.currentTarget=Re;try{M(k)}catch(Ve){Lg(Ve)}k.currentTarget=null,M=me}else for(V=0;V<b.length;V++){if(Q=b[V],me=Q.instance,Re=Q.currentTarget,Q=Q.listener,me!==M&&k.isPropagationStopped())break e;M=Q,k.currentTarget=Re;try{M(k)}catch(Ve){Lg(Ve)}k.currentTarget=null,M=me}}}}function br(u,f){var p=f[Or];p===void 0&&(p=f[Or]=new Set);var b=u+"__bubble";p.has(b)||(l3(f,u,2,!1),p.add(b))}function TS(u,f,p){var b=0;f&&(b|=4),l3(p,u,b,f)}var Sx="_reactListening"+Math.random().toString(36).slice(2);function _S(u){if(!u[Sx]){u[Sx]=!0,pr.forEach(function(p){p!=="selectionchange"&&(FZ.has(p)||TS(p,!1,u),TS(p,!0,u))});var f=u.nodeType===9?u:u.ownerDocument;f===null||f[Sx]||(f[Sx]=!0,TS("selectionchange",!1,f))}}function l3(u,f,p,b){switch(L3(f)){case 2:var k=hee;break;case 8:k=mee;break;default:k=VS}p=k.bind(null,f,p,u),k=void 0,!Y1||f!=="touchstart"&&f!=="touchmove"&&f!=="wheel"||(k=!0),b?k!==void 0?u.addEventListener(f,p,{capture:!0,passive:k}):u.addEventListener(f,p,!0):k!==void 0?u.addEventListener(f,p,{passive:k}):u.addEventListener(f,p,!1)}function MS(u,f,p,b,k){var M=b;if((f&1)===0&&(f&2)===0&&b!==null)e:for(;;){if(b===null)return;var V=b.tag;if(V===3||V===4){var Q=b.stateNode.containerInfo;if(Q===k)break;if(V===4)for(V=b.return;V!==null;){var me=V.tag;if((me===3||me===4)&&V.stateNode.containerInfo===k)return;V=V.return}for(;Q!==null;){if(V=He(Q),V===null)return;if(me=V.tag,me===5||me===6||me===26||me===27){b=M=V;continue e}Q=Q.parentNode}}b=b.return}hD(function(){var Re=M,Ve=U1(p),Qe=[];e:{var Ie=BD.get(u);if(Ie!==void 0){var Fe=Pg,Dt=u;switch(u){case"keypress":if(Eg(p)===0)break e;case"keydown":case"keyup":Fe=EQ;break;case"focusin":Dt="focus",Fe=Q1;break;case"focusout":Dt="blur",Fe=Q1;break;case"beforeblur":case"afterblur":Fe=Q1;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Fe=gD;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Fe=vQ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Fe=RQ;break;case LD:case $D:case FD:Fe=SQ;break;case HD:Fe=LQ;break;case"scroll":case"scrollend":Fe=yQ;break;case"wheel":Fe=FQ;break;case"copy":case"cut":case"paste":Fe=kQ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Fe=yD;break;case"toggle":case"beforetoggle":Fe=BQ}var Kt=(f&4)!==0,nn=!Kt&&(u==="scroll"||u==="scrollend"),Ce=Kt?Ie!==null?Ie+"Capture":null:Ie;Kt=[];for(var je=Re,Pe;je!==null;){var Xe=je;if(Pe=Xe.stateNode,Xe=Xe.tag,Xe!==5&&Xe!==26&&Xe!==27||Pe===null||Ce===null||(Xe=em(je,Ce),Xe!=null&&Kt.push(Dm(je,Xe,Pe))),nn)break;je=je.return}0<Kt.length&&(Ie=new Fe(Ie,Dt,null,p,Ve),Qe.push({event:Ie,listeners:Kt}))}}if((f&7)===0){e:{if(Ie=u==="mouseover"||u==="pointerover",Fe=u==="mouseout"||u==="pointerout",Ie&&p!==Ag&&(Dt=p.relatedTarget||p.fromElement)&&(He(Dt)||Dt[Rt]))break e;if((Fe||Ie)&&(Ie=Ve.window===Ve?Ve:(Ie=Ve.ownerDocument)?Ie.defaultView||Ie.parentWindow:window,Fe?(Dt=p.relatedTarget||p.toElement,Fe=Re,Dt=Dt?He(Dt):null,Dt!==null&&(nn=i(Dt),Kt=Dt.tag,Dt!==nn||Kt!==5&&Kt!==27&&Kt!==6)&&(Dt=null)):(Fe=null,Dt=Re),Fe!==Dt)){if(Kt=gD,Xe="onMouseLeave",Ce="onMouseEnter",je="mouse",(u==="pointerout"||u==="pointerover")&&(Kt=yD,Xe="onPointerLeave",Ce="onPointerEnter",je="pointer"),nn=Fe==null?Ie:fr(Fe),Pe=Dt==null?Ie:fr(Dt),Ie=new Kt(Xe,je+"leave",Fe,p,Ve),Ie.target=nn,Ie.relatedTarget=Pe,Xe=null,He(Ve)===Re&&(Kt=new Kt(Ce,je+"enter",Dt,p,Ve),Kt.target=Pe,Kt.relatedTarget=nn,Xe=Kt),nn=Xe,Fe&&Dt)t:{for(Kt=HZ,Ce=Fe,je=Dt,Pe=0,Xe=Ce;Xe;Xe=Kt(Xe))Pe++;Xe=0;for(var Vt=je;Vt;Vt=Kt(Vt))Xe++;for(;0<Pe-Xe;)Ce=Kt(Ce),Pe--;for(;0<Xe-Pe;)je=Kt(je),Xe--;for(;Pe--;){if(Ce===je||je!==null&&Ce===je.alternate){Kt=Ce;break t}Ce=Kt(Ce),je=Kt(je)}Kt=null}else Kt=null;Fe!==null&&c3(Qe,Ie,Fe,Kt,!1),Dt!==null&&nn!==null&&c3(Qe,nn,Dt,Kt,!0)}}e:{if(Ie=Re?fr(Re):window,Fe=Ie.nodeName&&Ie.nodeName.toLowerCase(),Fe==="select"||Fe==="input"&&Ie.type==="file")var Pr=CD;else if(ND(Ie))if(TD)Pr=JQ;else{Pr=KQ;var It=YQ}else Fe=Ie.nodeName,!Fe||Fe.toLowerCase()!=="input"||Ie.type!=="checkbox"&&Ie.type!=="radio"?Re&&Tr(Re.elementType)&&(Pr=CD):Pr=XQ;if(Pr&&(Pr=Pr(u,Re))){kD(Qe,Pr,p,Ve);break e}It&&It(u,Ie,Re),u==="focusout"&&Re&&Ie.type==="number"&&Re.memoizedProps.value!=null&&Zh(Ie,"number",Ie.value)}switch(It=Re?fr(Re):window,u){case"focusin":(ND(It)||It.contentEditable==="true")&&(Ad=It,aj=Re,lm=null);break;case"focusout":lm=aj=Ad=null;break;case"mousedown":sj=!0;break;case"contextmenu":case"mouseup":case"dragend":sj=!1,RD(Qe,p,Ve);break;case"selectionchange":if(ZQ)break;case"keydown":case"keyup":RD(Qe,p,Ve)}var lr;if(ej)e:{switch(u){case"compositionstart":var jr="onCompositionStart";break e;case"compositionend":jr="onCompositionEnd";break e;case"compositionupdate":jr="onCompositionUpdate";break e}jr=void 0}else Md?jD(u,p)&&(jr="onCompositionEnd"):u==="keydown"&&p.keyCode===229&&(jr="onCompositionStart");jr&&(bD&&p.locale!=="ko"&&(Md||jr!=="onCompositionStart"?jr==="onCompositionEnd"&&Md&&(lr=mD()):(ql=Ve,K1="value"in ql?ql.value:ql.textContent,Md=!0)),It=Nx(Re,jr),0<It.length&&(jr=new xD(jr,u,null,p,Ve),Qe.push({event:jr,listeners:It}),lr?jr.data=lr:(lr=SD(p),lr!==null&&(jr.data=lr)))),(lr=VQ?WQ(u,p):qQ(u,p))&&(jr=Nx(Re,"onBeforeInput"),0<jr.length&&(It=new xD("onBeforeInput","beforeinput",null,p,Ve),Qe.push({event:It,listeners:jr}),It.data=lr)),IZ(Qe,u,Re,p,Ve)}o3(Qe,f)})}function Dm(u,f,p){return{instance:u,listener:f,currentTarget:p}}function Nx(u,f){for(var p=f+"Capture",b=[];u!==null;){var k=u,M=k.stateNode;if(k=k.tag,k!==5&&k!==26&&k!==27||M===null||(k=em(u,p),k!=null&&b.unshift(Dm(u,k,M)),k=em(u,f),k!=null&&b.push(Dm(u,k,M))),u.tag===3)return b;u=u.return}return[]}function HZ(u){if(u===null)return null;do u=u.return;while(u&&u.tag!==5&&u.tag!==27);return u||null}function c3(u,f,p,b,k){for(var M=f._reactName,V=[];p!==null&&p!==b;){var Q=p,me=Q.alternate,Re=Q.stateNode;if(Q=Q.tag,me!==null&&me===b)break;Q!==5&&Q!==26&&Q!==27||Re===null||(me=Re,k?(Re=em(p,M),Re!=null&&V.unshift(Dm(p,Re,me))):k||(Re=em(p,M),Re!=null&&V.push(Dm(p,Re,me)))),p=p.return}V.length!==0&&u.push({event:f,listeners:V})}var BZ=/\r\n?/g,zZ=/\u0000|\uFFFD/g;function u3(u){return(typeof u=="string"?u:""+u).replace(BZ,`
`).replace(zZ,"")}function d3(u,f){return f=u3(f),u3(u)===f}function rn(u,f,p,b,k,M){switch(p){case"children":typeof b=="string"?f==="body"||f==="textarea"&&b===""||U(u,b):(typeof b=="number"||typeof b=="bigint")&&f!=="body"&&U(u,""+b);break;case"className":Yr(u,"class",b);break;case"tabIndex":Yr(u,"tabindex",b);break;case"dir":case"role":case"viewBox":case"width":case"height":Yr(u,p,b);break;case"style":gr(u,b,M);break;case"data":if(f!=="object"){Yr(u,"data",b);break}case"src":case"href":if(b===""&&(f!=="a"||p!=="href")){u.removeAttribute(p);break}if(b==null||typeof b=="function"||typeof b=="symbol"||typeof b=="boolean"){u.removeAttribute(p);break}b=Xs(""+b),u.setAttribute(p,b);break;case"action":case"formAction":if(typeof b=="function"){u.setAttribute(p,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof M=="function"&&(p==="formAction"?(f!=="input"&&rn(u,f,"name",k.name,k,null),rn(u,f,"formEncType",k.formEncType,k,null),rn(u,f,"formMethod",k.formMethod,k,null),rn(u,f,"formTarget",k.formTarget,k,null)):(rn(u,f,"encType",k.encType,k,null),rn(u,f,"method",k.method,k,null),rn(u,f,"target",k.target,k,null)));if(b==null||typeof b=="symbol"||typeof b=="boolean"){u.removeAttribute(p);break}b=Xs(""+b),u.setAttribute(p,b);break;case"onClick":b!=null&&(u.onclick=Aa);break;case"onScroll":b!=null&&br("scroll",u);break;case"onScrollEnd":b!=null&&br("scrollend",u);break;case"dangerouslySetInnerHTML":if(b!=null){if(typeof b!="object"||!("__html"in b))throw Error(n(61));if(p=b.__html,p!=null){if(k.children!=null)throw Error(n(60));u.innerHTML=p}}break;case"multiple":u.multiple=b&&typeof b!="function"&&typeof b!="symbol";break;case"muted":u.muted=b&&typeof b!="function"&&typeof b!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(b==null||typeof b=="function"||typeof b=="boolean"||typeof b=="symbol"){u.removeAttribute("xlink:href");break}p=Xs(""+b),u.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":b!=null&&typeof b!="function"&&typeof b!="symbol"?u.setAttribute(p,""+b):u.removeAttribute(p);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":b&&typeof b!="function"&&typeof b!="symbol"?u.setAttribute(p,""):u.removeAttribute(p);break;case"capture":case"download":b===!0?u.setAttribute(p,""):b!==!1&&b!=null&&typeof b!="function"&&typeof b!="symbol"?u.setAttribute(p,b):u.removeAttribute(p);break;case"cols":case"rows":case"size":case"span":b!=null&&typeof b!="function"&&typeof b!="symbol"&&!isNaN(b)&&1<=b?u.setAttribute(p,b):u.removeAttribute(p);break;case"rowSpan":case"start":b==null||typeof b=="function"||typeof b=="symbol"||isNaN(b)?u.removeAttribute(p):u.setAttribute(p,b);break;case"popover":br("beforetoggle",u),br("toggle",u),ba(u,"popover",b);break;case"xlinkActuate":Dn(u,"http://www.w3.org/1999/xlink","xlink:actuate",b);break;case"xlinkArcrole":Dn(u,"http://www.w3.org/1999/xlink","xlink:arcrole",b);break;case"xlinkRole":Dn(u,"http://www.w3.org/1999/xlink","xlink:role",b);break;case"xlinkShow":Dn(u,"http://www.w3.org/1999/xlink","xlink:show",b);break;case"xlinkTitle":Dn(u,"http://www.w3.org/1999/xlink","xlink:title",b);break;case"xlinkType":Dn(u,"http://www.w3.org/1999/xlink","xlink:type",b);break;case"xmlBase":Dn(u,"http://www.w3.org/XML/1998/namespace","xml:base",b);break;case"xmlLang":Dn(u,"http://www.w3.org/XML/1998/namespace","xml:lang",b);break;case"xmlSpace":Dn(u,"http://www.w3.org/XML/1998/namespace","xml:space",b);break;case"is":ba(u,"is",b);break;case"innerText":case"textContent":break;default:(!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(p=As.get(p)||p,ba(u,p,b))}}function AS(u,f,p,b,k,M){switch(p){case"style":gr(u,b,M);break;case"dangerouslySetInnerHTML":if(b!=null){if(typeof b!="object"||!("__html"in b))throw Error(n(61));if(p=b.__html,p!=null){if(k.children!=null)throw Error(n(60));u.innerHTML=p}}break;case"children":typeof b=="string"?U(u,b):(typeof b=="number"||typeof b=="bigint")&&U(u,""+b);break;case"onScroll":b!=null&&br("scroll",u);break;case"onScrollEnd":b!=null&&br("scrollend",u);break;case"onClick":b!=null&&(u.onclick=Aa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!xr.hasOwnProperty(p))e:{if(p[0]==="o"&&p[1]==="n"&&(k=p.endsWith("Capture"),f=p.slice(2,k?p.length-7:void 0),M=u[dr]||null,M=M!=null?M[p]:null,typeof M=="function"&&u.removeEventListener(f,M,k),typeof b=="function")){typeof M!="function"&&M!==null&&(p in u?u[p]=null:u.hasAttribute(p)&&u.removeAttribute(p)),u.addEventListener(f,b,k);break e}p in u?u[p]=b:b===!0?u.setAttribute(p,""):ba(u,p,b)}}}function Pa(u,f,p){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":br("error",u),br("load",u);var b=!1,k=!1,M;for(M in p)if(p.hasOwnProperty(M)){var V=p[M];if(V!=null)switch(M){case"src":b=!0;break;case"srcSet":k=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,f));default:rn(u,f,M,V,p,null)}}k&&rn(u,f,"srcSet",p.srcSet,p,null),b&&rn(u,f,"src",p.src,p,null);return;case"input":br("invalid",u);var Q=M=V=k=null,me=null,Re=null;for(b in p)if(p.hasOwnProperty(b)){var Ve=p[b];if(Ve!=null)switch(b){case"name":k=Ve;break;case"type":V=Ve;break;case"checked":me=Ve;break;case"defaultChecked":Re=Ve;break;case"value":M=Ve;break;case"defaultValue":Q=Ve;break;case"children":case"dangerouslySetInnerHTML":if(Ve!=null)throw Error(n(137,f));break;default:rn(u,f,b,Ve,p,null)}}_g(u,M,Q,me,Re,V,k,!1);return;case"select":br("invalid",u),b=V=M=null;for(k in p)if(p.hasOwnProperty(k)&&(Q=p[k],Q!=null))switch(k){case"value":M=Q;break;case"defaultValue":V=Q;break;case"multiple":b=Q;default:rn(u,f,k,Q,p,null)}f=M,p=V,u.multiple=!!b,f!=null?Wl(u,!!b,f,!1):p!=null&&Wl(u,!!b,p,!0);return;case"textarea":br("invalid",u),M=k=b=null;for(V in p)if(p.hasOwnProperty(V)&&(Q=p[V],Q!=null))switch(V){case"value":b=Q;break;case"defaultValue":k=Q;break;case"children":M=Q;break;case"dangerouslySetInnerHTML":if(Q!=null)throw Error(n(91));break;default:rn(u,f,V,Q,p,null)}G(u,b,k,M);return;case"option":for(me in p)if(p.hasOwnProperty(me)&&(b=p[me],b!=null))switch(me){case"selected":u.selected=b&&typeof b!="function"&&typeof b!="symbol";break;default:rn(u,f,me,b,p,null)}return;case"dialog":br("beforetoggle",u),br("toggle",u),br("cancel",u),br("close",u);break;case"iframe":case"object":br("load",u);break;case"video":case"audio":for(b=0;b<Em.length;b++)br(Em[b],u);break;case"image":br("error",u),br("load",u);break;case"details":br("toggle",u);break;case"embed":case"source":case"link":br("error",u),br("load",u);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Re in p)if(p.hasOwnProperty(Re)&&(b=p[Re],b!=null))switch(Re){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,f));default:rn(u,f,Re,b,p,null)}return;default:if(Tr(f)){for(Ve in p)p.hasOwnProperty(Ve)&&(b=p[Ve],b!==void 0&&AS(u,f,Ve,b,p,void 0));return}}for(Q in p)p.hasOwnProperty(Q)&&(b=p[Q],b!=null&&rn(u,f,Q,b,p,null))}function VZ(u,f,p,b){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var k=null,M=null,V=null,Q=null,me=null,Re=null,Ve=null;for(Fe in p){var Qe=p[Fe];if(p.hasOwnProperty(Fe)&&Qe!=null)switch(Fe){case"checked":break;case"value":break;case"defaultValue":me=Qe;default:b.hasOwnProperty(Fe)||rn(u,f,Fe,null,b,Qe)}}for(var Ie in b){var Fe=b[Ie];if(Qe=p[Ie],b.hasOwnProperty(Ie)&&(Fe!=null||Qe!=null))switch(Ie){case"type":M=Fe;break;case"name":k=Fe;break;case"checked":Re=Fe;break;case"defaultChecked":Ve=Fe;break;case"value":V=Fe;break;case"defaultValue":Q=Fe;break;case"children":case"dangerouslySetInnerHTML":if(Fe!=null)throw Error(n(137,f));break;default:Fe!==Qe&&rn(u,f,Ie,Fe,b,Qe)}}Qh(u,V,Q,me,Re,Ve,M,k);return;case"select":Fe=V=Q=Ie=null;for(M in p)if(me=p[M],p.hasOwnProperty(M)&&me!=null)switch(M){case"value":break;case"multiple":Fe=me;default:b.hasOwnProperty(M)||rn(u,f,M,null,b,me)}for(k in b)if(M=b[k],me=p[k],b.hasOwnProperty(k)&&(M!=null||me!=null))switch(k){case"value":Ie=M;break;case"defaultValue":Q=M;break;case"multiple":V=M;default:M!==me&&rn(u,f,k,M,b,me)}f=Q,p=V,b=Fe,Ie!=null?Wl(u,!!p,Ie,!1):!!b!=!!p&&(f!=null?Wl(u,!!p,f,!0):Wl(u,!!p,p?[]:"",!1));return;case"textarea":Fe=Ie=null;for(Q in p)if(k=p[Q],p.hasOwnProperty(Q)&&k!=null&&!b.hasOwnProperty(Q))switch(Q){case"value":break;case"children":break;default:rn(u,f,Q,null,b,k)}for(V in b)if(k=b[V],M=p[V],b.hasOwnProperty(V)&&(k!=null||M!=null))switch(V){case"value":Ie=k;break;case"defaultValue":Fe=k;break;case"children":break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(n(91));break;default:k!==M&&rn(u,f,V,k,b,M)}Mg(u,Ie,Fe);return;case"option":for(var Dt in p)if(Ie=p[Dt],p.hasOwnProperty(Dt)&&Ie!=null&&!b.hasOwnProperty(Dt))switch(Dt){case"selected":u.selected=!1;break;default:rn(u,f,Dt,null,b,Ie)}for(me in b)if(Ie=b[me],Fe=p[me],b.hasOwnProperty(me)&&Ie!==Fe&&(Ie!=null||Fe!=null))switch(me){case"selected":u.selected=Ie&&typeof Ie!="function"&&typeof Ie!="symbol";break;default:rn(u,f,me,Ie,b,Fe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Kt in p)Ie=p[Kt],p.hasOwnProperty(Kt)&&Ie!=null&&!b.hasOwnProperty(Kt)&&rn(u,f,Kt,null,b,Ie);for(Re in b)if(Ie=b[Re],Fe=p[Re],b.hasOwnProperty(Re)&&Ie!==Fe&&(Ie!=null||Fe!=null))switch(Re){case"children":case"dangerouslySetInnerHTML":if(Ie!=null)throw Error(n(137,f));break;default:rn(u,f,Re,Ie,b,Fe)}return;default:if(Tr(f)){for(var nn in p)Ie=p[nn],p.hasOwnProperty(nn)&&Ie!==void 0&&!b.hasOwnProperty(nn)&&AS(u,f,nn,void 0,b,Ie);for(Ve in b)Ie=b[Ve],Fe=p[Ve],!b.hasOwnProperty(Ve)||Ie===Fe||Ie===void 0&&Fe===void 0||AS(u,f,Ve,Ie,b,Fe);return}}for(var Ce in p)Ie=p[Ce],p.hasOwnProperty(Ce)&&Ie!=null&&!b.hasOwnProperty(Ce)&&rn(u,f,Ce,null,b,Ie);for(Qe in b)Ie=b[Qe],Fe=p[Qe],!b.hasOwnProperty(Qe)||Ie===Fe||Ie==null&&Fe==null||rn(u,f,Qe,Ie,b,Fe)}function f3(u){switch(u){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function WZ(){if(typeof performance.getEntriesByType=="function"){for(var u=0,f=0,p=performance.getEntriesByType("resource"),b=0;b<p.length;b++){var k=p[b],M=k.transferSize,V=k.initiatorType,Q=k.duration;if(M&&Q&&f3(V)){for(V=0,Q=k.responseEnd,b+=1;b<p.length;b++){var me=p[b],Re=me.startTime;if(Re>Q)break;var Ve=me.transferSize,Qe=me.initiatorType;Ve&&f3(Qe)&&(me=me.responseEnd,V+=Ve*(me<Q?1:(Q-Re)/(me-Re)))}if(--b,f+=8*(M+V)/(k.duration/1e3),u++,10<u)break}}if(0<u)return f/u/1e6}return navigator.connection&&(u=navigator.connection.downlink,typeof u=="number")?u:5}var OS=null,ES=null;function kx(u){return u.nodeType===9?u:u.ownerDocument}function h3(u){switch(u){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function m3(u,f){if(u===0)switch(f){case"svg":return 1;case"math":return 2;default:return 0}return u===1&&f==="foreignObject"?0:u}function DS(u,f){return u==="textarea"||u==="noscript"||typeof f.children=="string"||typeof f.children=="number"||typeof f.children=="bigint"||typeof f.dangerouslySetInnerHTML=="object"&&f.dangerouslySetInnerHTML!==null&&f.dangerouslySetInnerHTML.__html!=null}var PS=null;function qZ(){var u=window.event;return u&&u.type==="popstate"?u===PS?!1:(PS=u,!0):(PS=null,!1)}var p3=typeof setTimeout=="function"?setTimeout:void 0,UZ=typeof clearTimeout=="function"?clearTimeout:void 0,g3=typeof Promise=="function"?Promise:void 0,GZ=typeof queueMicrotask=="function"?queueMicrotask:typeof g3<"u"?function(u){return g3.resolve(null).then(u).catch(YZ)}:p3;function YZ(u){setTimeout(function(){throw u})}function lc(u){return u==="head"}function x3(u,f){var p=f,b=0;do{var k=p.nextSibling;if(u.removeChild(p),k&&k.nodeType===8)if(p=k.data,p==="/$"||p==="/&"){if(b===0){u.removeChild(k),nf(f);return}b--}else if(p==="$"||p==="$?"||p==="$~"||p==="$!"||p==="&")b++;else if(p==="html")Pm(u.ownerDocument.documentElement);else if(p==="head"){p=u.ownerDocument.head,Pm(p);for(var M=p.firstChild;M;){var V=M.nextSibling,Q=M.nodeName;M[K]||Q==="SCRIPT"||Q==="STYLE"||Q==="LINK"&&M.rel.toLowerCase()==="stylesheet"||p.removeChild(M),M=V}}else p==="body"&&Pm(u.ownerDocument.body);p=k}while(p);nf(f)}function y3(u,f){var p=u;u=0;do{var b=p.nextSibling;if(p.nodeType===1?f?(p._stashedDisplay=p.style.display,p.style.display="none"):(p.style.display=p._stashedDisplay||"",p.getAttribute("style")===""&&p.removeAttribute("style")):p.nodeType===3&&(f?(p._stashedText=p.nodeValue,p.nodeValue=""):p.nodeValue=p._stashedText||""),b&&b.nodeType===8)if(p=b.data,p==="/$"){if(u===0)break;u--}else p!=="$"&&p!=="$?"&&p!=="$~"&&p!=="$!"||u++;p=b}while(p)}function RS(u){var f=u.firstChild;for(f&&f.nodeType===10&&(f=f.nextSibling);f;){var p=f;switch(f=f.nextSibling,p.nodeName){case"HTML":case"HEAD":case"BODY":RS(p),ke(p);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(p.rel.toLowerCase()==="stylesheet")continue}u.removeChild(p)}}function KZ(u,f,p,b){for(;u.nodeType===1;){var k=p;if(u.nodeName.toLowerCase()!==f.toLowerCase()){if(!b&&(u.nodeName!=="INPUT"||u.type!=="hidden"))break}else if(b){if(!u[K])switch(f){case"meta":if(!u.hasAttribute("itemprop"))break;return u;case"link":if(M=u.getAttribute("rel"),M==="stylesheet"&&u.hasAttribute("data-precedence"))break;if(M!==k.rel||u.getAttribute("href")!==(k.href==null||k.href===""?null:k.href)||u.getAttribute("crossorigin")!==(k.crossOrigin==null?null:k.crossOrigin)||u.getAttribute("title")!==(k.title==null?null:k.title))break;return u;case"style":if(u.hasAttribute("data-precedence"))break;return u;case"script":if(M=u.getAttribute("src"),(M!==(k.src==null?null:k.src)||u.getAttribute("type")!==(k.type==null?null:k.type)||u.getAttribute("crossorigin")!==(k.crossOrigin==null?null:k.crossOrigin))&&M&&u.hasAttribute("async")&&!u.hasAttribute("itemprop"))break;return u;default:return u}}else if(f==="input"&&u.type==="hidden"){var M=k.name==null?null:""+k.name;if(k.type==="hidden"&&u.getAttribute("name")===M)return u}else return u;if(u=ni(u.nextSibling),u===null)break}return null}function XZ(u,f,p){if(f==="")return null;for(;u.nodeType!==3;)if((u.nodeType!==1||u.nodeName!=="INPUT"||u.type!=="hidden")&&!p||(u=ni(u.nextSibling),u===null))return null;return u}function b3(u,f){for(;u.nodeType!==8;)if((u.nodeType!==1||u.nodeName!=="INPUT"||u.type!=="hidden")&&!f||(u=ni(u.nextSibling),u===null))return null;return u}function IS(u){return u.data==="$?"||u.data==="$~"}function LS(u){return u.data==="$!"||u.data==="$?"&&u.ownerDocument.readyState!=="loading"}function JZ(u,f){var p=u.ownerDocument;if(u.data==="$~")u._reactRetry=f;else if(u.data!=="$?"||p.readyState!=="loading")f();else{var b=function(){f(),p.removeEventListener("DOMContentLoaded",b)};p.addEventListener("DOMContentLoaded",b),u._reactRetry=b}}function ni(u){for(;u!=null;u=u.nextSibling){var f=u.nodeType;if(f===1||f===3)break;if(f===8){if(f=u.data,f==="$"||f==="$!"||f==="$?"||f==="$~"||f==="&"||f==="F!"||f==="F")break;if(f==="/$"||f==="/&")return null}}return u}var $S=null;function v3(u){u=u.nextSibling;for(var f=0;u;){if(u.nodeType===8){var p=u.data;if(p==="/$"||p==="/&"){if(f===0)return ni(u.nextSibling);f--}else p!=="$"&&p!=="$!"&&p!=="$?"&&p!=="$~"&&p!=="&"||f++}u=u.nextSibling}return null}function w3(u){u=u.previousSibling;for(var f=0;u;){if(u.nodeType===8){var p=u.data;if(p==="$"||p==="$!"||p==="$?"||p==="$~"||p==="&"){if(f===0)return u;f--}else p!=="/$"&&p!=="/&"||f++}u=u.previousSibling}return null}function j3(u,f,p){switch(f=kx(p),u){case"html":if(u=f.documentElement,!u)throw Error(n(452));return u;case"head":if(u=f.head,!u)throw Error(n(453));return u;case"body":if(u=f.body,!u)throw Error(n(454));return u;default:throw Error(n(451))}}function Pm(u){for(var f=u.attributes;f.length;)u.removeAttributeNode(f[0]);ke(u)}var ai=new Map,S3=new Set;function Cx(u){return typeof u.getRootNode=="function"?u.getRootNode():u.nodeType===9?u:u.ownerDocument}var Zo=P.d;P.d={f:QZ,r:ZZ,D:eee,C:tee,L:ree,m:nee,X:see,S:aee,M:iee};function QZ(){var u=Zo.f(),f=xx();return u||f}function ZZ(u){var f=Pt(u);f!==null&&f.tag===5&&f.type==="form"?HP(f):Zo.r(u)}var ef=typeof document>"u"?null:document;function N3(u,f,p){var b=ef;if(b&&typeof f=="string"&&f){var k=gs(f);k='link[rel="'+u+'"][href="'+k+'"]',typeof p=="string"&&(k+='[crossorigin="'+p+'"]'),S3.has(k)||(S3.add(k),u={rel:u,crossOrigin:p,href:f},b.querySelector(k)===null&&(f=b.createElement("link"),Pa(f,"link",u),Bt(f),b.head.appendChild(f)))}}function eee(u){Zo.D(u),N3("dns-prefetch",u,null)}function tee(u,f){Zo.C(u,f),N3("preconnect",u,f)}function ree(u,f,p){Zo.L(u,f,p);var b=ef;if(b&&u&&f){var k='link[rel="preload"][as="'+gs(f)+'"]';f==="image"&&p&&p.imageSrcSet?(k+='[imagesrcset="'+gs(p.imageSrcSet)+'"]',typeof p.imageSizes=="string"&&(k+='[imagesizes="'+gs(p.imageSizes)+'"]')):k+='[href="'+gs(u)+'"]';var M=k;switch(f){case"style":M=tf(u);break;case"script":M=rf(u)}ai.has(M)||(u=m({rel:"preload",href:f==="image"&&p&&p.imageSrcSet?void 0:u,as:f},p),ai.set(M,u),b.querySelector(k)!==null||f==="style"&&b.querySelector(Rm(M))||f==="script"&&b.querySelector(Im(M))||(f=b.createElement("link"),Pa(f,"link",u),Bt(f),b.head.appendChild(f)))}}function nee(u,f){Zo.m(u,f);var p=ef;if(p&&u){var b=f&&typeof f.as=="string"?f.as:"script",k='link[rel="modulepreload"][as="'+gs(b)+'"][href="'+gs(u)+'"]',M=k;switch(b){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":M=rf(u)}if(!ai.has(M)&&(u=m({rel:"modulepreload",href:u},f),ai.set(M,u),p.querySelector(k)===null)){switch(b){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(p.querySelector(Im(M)))return}b=p.createElement("link"),Pa(b,"link",u),Bt(b),p.head.appendChild(b)}}}function aee(u,f,p){Zo.S(u,f,p);var b=ef;if(b&&u){var k=Tt(b).hoistableStyles,M=tf(u);f=f||"default";var V=k.get(M);if(!V){var Q={loading:0,preload:null};if(V=b.querySelector(Rm(M)))Q.loading=5;else{u=m({rel:"stylesheet",href:u,"data-precedence":f},p),(p=ai.get(M))&&FS(u,p);var me=V=b.createElement("link");Bt(me),Pa(me,"link",u),me._p=new Promise(function(Re,Ve){me.onload=Re,me.onerror=Ve}),me.addEventListener("load",function(){Q.loading|=1}),me.addEventListener("error",function(){Q.loading|=2}),Q.loading|=4,Tx(V,f,b)}V={type:"stylesheet",instance:V,count:1,state:Q},k.set(M,V)}}}function see(u,f){Zo.X(u,f);var p=ef;if(p&&u){var b=Tt(p).hoistableScripts,k=rf(u),M=b.get(k);M||(M=p.querySelector(Im(k)),M||(u=m({src:u,async:!0},f),(f=ai.get(k))&&HS(u,f),M=p.createElement("script"),Bt(M),Pa(M,"link",u),p.head.appendChild(M)),M={type:"script",instance:M,count:1,state:null},b.set(k,M))}}function iee(u,f){Zo.M(u,f);var p=ef;if(p&&u){var b=Tt(p).hoistableScripts,k=rf(u),M=b.get(k);M||(M=p.querySelector(Im(k)),M||(u=m({src:u,async:!0,type:"module"},f),(f=ai.get(k))&&HS(u,f),M=p.createElement("script"),Bt(M),Pa(M,"link",u),p.head.appendChild(M)),M={type:"script",instance:M,count:1,state:null},b.set(k,M))}}function k3(u,f,p,b){var k=(k=ge.current)?Cx(k):null;if(!k)throw Error(n(446));switch(u){case"meta":case"title":return null;case"style":return typeof p.precedence=="string"&&typeof p.href=="string"?(f=tf(p.href),p=Tt(k).hoistableStyles,b=p.get(f),b||(b={type:"style",instance:null,count:0,state:null},p.set(f,b)),b):{type:"void",instance:null,count:0,state:null};case"link":if(p.rel==="stylesheet"&&typeof p.href=="string"&&typeof p.precedence=="string"){u=tf(p.href);var M=Tt(k).hoistableStyles,V=M.get(u);if(V||(k=k.ownerDocument||k,V={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},M.set(u,V),(M=k.querySelector(Rm(u)))&&!M._p&&(V.instance=M,V.state.loading=5),ai.has(u)||(p={rel:"preload",as:"style",href:p.href,crossOrigin:p.crossOrigin,integrity:p.integrity,media:p.media,hrefLang:p.hrefLang,referrerPolicy:p.referrerPolicy},ai.set(u,p),M||oee(k,u,p,V.state))),f&&b===null)throw Error(n(528,""));return V}if(f&&b!==null)throw Error(n(529,""));return null;case"script":return f=p.async,p=p.src,typeof p=="string"&&f&&typeof f!="function"&&typeof f!="symbol"?(f=rf(p),p=Tt(k).hoistableScripts,b=p.get(f),b||(b={type:"script",instance:null,count:0,state:null},p.set(f,b)),b):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,u))}}function tf(u){return'href="'+gs(u)+'"'}function Rm(u){return'link[rel="stylesheet"]['+u+"]"}function C3(u){return m({},u,{"data-precedence":u.precedence,precedence:null})}function oee(u,f,p,b){u.querySelector('link[rel="preload"][as="style"]['+f+"]")?b.loading=1:(f=u.createElement("link"),b.preload=f,f.addEventListener("load",function(){return b.loading|=1}),f.addEventListener("error",function(){return b.loading|=2}),Pa(f,"link",p),Bt(f),u.head.appendChild(f))}function rf(u){return'[src="'+gs(u)+'"]'}function Im(u){return"script[async]"+u}function T3(u,f,p){if(f.count++,f.instance===null)switch(f.type){case"style":var b=u.querySelector('style[data-href~="'+gs(p.href)+'"]');if(b)return f.instance=b,Bt(b),b;var k=m({},p,{"data-href":p.href,"data-precedence":p.precedence,href:null,precedence:null});return b=(u.ownerDocument||u).createElement("style"),Bt(b),Pa(b,"style",k),Tx(b,p.precedence,u),f.instance=b;case"stylesheet":k=tf(p.href);var M=u.querySelector(Rm(k));if(M)return f.state.loading|=4,f.instance=M,Bt(M),M;b=C3(p),(k=ai.get(k))&&FS(b,k),M=(u.ownerDocument||u).createElement("link"),Bt(M);var V=M;return V._p=new Promise(function(Q,me){V.onload=Q,V.onerror=me}),Pa(M,"link",b),f.state.loading|=4,Tx(M,p.precedence,u),f.instance=M;case"script":return M=rf(p.src),(k=u.querySelector(Im(M)))?(f.instance=k,Bt(k),k):(b=p,(k=ai.get(M))&&(b=m({},p),HS(b,k)),u=u.ownerDocument||u,k=u.createElement("script"),Bt(k),Pa(k,"link",b),u.head.appendChild(k),f.instance=k);case"void":return null;default:throw Error(n(443,f.type))}else f.type==="stylesheet"&&(f.state.loading&4)===0&&(b=f.instance,f.state.loading|=4,Tx(b,p.precedence,u));return f.instance}function Tx(u,f,p){for(var b=p.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),k=b.length?b[b.length-1]:null,M=k,V=0;V<b.length;V++){var Q=b[V];if(Q.dataset.precedence===f)M=Q;else if(M!==k)break}M?M.parentNode.insertBefore(u,M.nextSibling):(f=p.nodeType===9?p.head:p,f.insertBefore(u,f.firstChild))}function FS(u,f){u.crossOrigin==null&&(u.crossOrigin=f.crossOrigin),u.referrerPolicy==null&&(u.referrerPolicy=f.referrerPolicy),u.title==null&&(u.title=f.title)}function HS(u,f){u.crossOrigin==null&&(u.crossOrigin=f.crossOrigin),u.referrerPolicy==null&&(u.referrerPolicy=f.referrerPolicy),u.integrity==null&&(u.integrity=f.integrity)}var _x=null;function _3(u,f,p){if(_x===null){var b=new Map,k=_x=new Map;k.set(p,b)}else k=_x,b=k.get(p),b||(b=new Map,k.set(p,b));if(b.has(u))return b;for(b.set(u,null),p=p.getElementsByTagName(u),k=0;k<p.length;k++){var M=p[k];if(!(M[K]||M[Ot]||u==="link"&&M.getAttribute("rel")==="stylesheet")&&M.namespaceURI!=="http://www.w3.org/2000/svg"){var V=M.getAttribute(f)||"";V=u+V;var Q=b.get(V);Q?Q.push(M):b.set(V,[M])}}return b}function M3(u,f,p){u=u.ownerDocument||u,u.head.insertBefore(p,f==="title"?u.querySelector("head > title"):null)}function lee(u,f,p){if(p===1||f.itemProp!=null)return!1;switch(u){case"meta":case"title":return!0;case"style":if(typeof f.precedence!="string"||typeof f.href!="string"||f.href==="")break;return!0;case"link":if(typeof f.rel!="string"||typeof f.href!="string"||f.href===""||f.onLoad||f.onError)break;switch(f.rel){case"stylesheet":return u=f.disabled,typeof f.precedence=="string"&&u==null;default:return!0}case"script":if(f.async&&typeof f.async!="function"&&typeof f.async!="symbol"&&!f.onLoad&&!f.onError&&f.src&&typeof f.src=="string")return!0}return!1}function A3(u){return!(u.type==="stylesheet"&&(u.state.loading&3)===0)}function cee(u,f,p,b){if(p.type==="stylesheet"&&(typeof b.media!="string"||matchMedia(b.media).matches!==!1)&&(p.state.loading&4)===0){if(p.instance===null){var k=tf(b.href),M=f.querySelector(Rm(k));if(M){f=M._p,f!==null&&typeof f=="object"&&typeof f.then=="function"&&(u.count++,u=Mx.bind(u),f.then(u,u)),p.state.loading|=4,p.instance=M,Bt(M);return}M=f.ownerDocument||f,b=C3(b),(k=ai.get(k))&&FS(b,k),M=M.createElement("link"),Bt(M);var V=M;V._p=new Promise(function(Q,me){V.onload=Q,V.onerror=me}),Pa(M,"link",b),p.instance=M}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(p,f),(f=p.state.preload)&&(p.state.loading&3)===0&&(u.count++,p=Mx.bind(u),f.addEventListener("load",p),f.addEventListener("error",p))}}var BS=0;function uee(u,f){return u.stylesheets&&u.count===0&&Ox(u,u.stylesheets),0<u.count||0<u.imgCount?function(p){var b=setTimeout(function(){if(u.stylesheets&&Ox(u,u.stylesheets),u.unsuspend){var M=u.unsuspend;u.unsuspend=null,M()}},6e4+f);0<u.imgBytes&&BS===0&&(BS=62500*WZ());var k=setTimeout(function(){if(u.waitingForImages=!1,u.count===0&&(u.stylesheets&&Ox(u,u.stylesheets),u.unsuspend)){var M=u.unsuspend;u.unsuspend=null,M()}},(u.imgBytes>BS?50:800)+f);return u.unsuspend=p,function(){u.unsuspend=null,clearTimeout(b),clearTimeout(k)}}:null}function Mx(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ox(this,this.stylesheets);else if(this.unsuspend){var u=this.unsuspend;this.unsuspend=null,u()}}}var Ax=null;function Ox(u,f){u.stylesheets=null,u.unsuspend!==null&&(u.count++,Ax=new Map,f.forEach(dee,u),Ax=null,Mx.call(u))}function dee(u,f){if(!(f.state.loading&4)){var p=Ax.get(u);if(p)var b=p.get(null);else{p=new Map,Ax.set(u,p);for(var k=u.querySelectorAll("link[data-precedence],style[data-precedence]"),M=0;M<k.length;M++){var V=k[M];(V.nodeName==="LINK"||V.getAttribute("media")!=="not all")&&(p.set(V.dataset.precedence,V),b=V)}b&&p.set(null,b)}k=f.instance,V=k.getAttribute("data-precedence"),M=p.get(V)||b,M===b&&p.set(null,k),p.set(V,k),this.count++,b=Mx.bind(this),k.addEventListener("load",b),k.addEventListener("error",b),M?M.parentNode.insertBefore(k,M.nextSibling):(u=u.nodeType===9?u.head:u,u.insertBefore(k,u.firstChild)),f.state.loading|=4}}var Lm={$$typeof:S,Provider:null,Consumer:null,_currentValue:F,_currentValue2:F,_threadCount:0};function fee(u,f,p,b,k,M,V,Q,me){this.tag=1,this.containerInfo=u,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fe(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fe(0),this.hiddenUpdates=fe(null),this.identifierPrefix=b,this.onUncaughtError=k,this.onCaughtError=M,this.onRecoverableError=V,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=me,this.incompleteTransitions=new Map}function O3(u,f,p,b,k,M,V,Q,me,Re,Ve,Qe){return u=new fee(u,f,p,V,me,Re,Ve,Qe,Q),f=1,M===!0&&(f|=24),M=Es(3,null,null,f),u.current=M,M.stateNode=u,f=vj(),f.refCount++,u.pooledCache=f,f.refCount++,M.memoizedState={element:b,isDehydrated:p,cache:f},Nj(M),u}function E3(u){return u?(u=Dd,u):Dd}function D3(u,f,p,b,k,M){k=E3(k),b.context===null?b.context=k:b.pendingContext=k,b=Jl(f),b.payload={element:p},M=M===void 0?null:M,M!==null&&(b.callback=M),p=Ql(u,b,f),p!==null&&(js(p,u,f),pm(p,u,f))}function P3(u,f){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var p=u.retryLane;u.retryLane=p!==0&&p<f?p:f}}function zS(u,f){P3(u,f),(u=u.alternate)&&P3(u,f)}function R3(u){if(u.tag===13||u.tag===31){var f=nu(u,67108864);f!==null&&js(f,u,67108864),zS(u,67108864)}}function I3(u){if(u.tag===13||u.tag===31){var f=Ls();f=Ye(f);var p=nu(u,f);p!==null&&js(p,u,f),zS(u,f)}}var Ex=!0;function hee(u,f,p,b){var k=H.T;H.T=null;var M=P.p;try{P.p=2,VS(u,f,p,b)}finally{P.p=M,H.T=k}}function mee(u,f,p,b){var k=H.T;H.T=null;var M=P.p;try{P.p=8,VS(u,f,p,b)}finally{P.p=M,H.T=k}}function VS(u,f,p,b){if(Ex){var k=WS(b);if(k===null)MS(u,f,b,Dx,p),$3(u,b);else if(gee(k,u,f,p,b))b.stopPropagation();else if($3(u,b),f&4&&-1<pee.indexOf(u)){for(;k!==null;){var M=Pt(k);if(M!==null)switch(M.tag){case 3:if(M=M.stateNode,M.current.memoizedState.isDehydrated){var V=ce(M.pendingLanes);if(V!==0){var Q=M;for(Q.pendingLanes|=2,Q.entangledLanes|=2;V;){var me=1<<31-ae(V);Q.entanglements[1]|=me,V&=~me}to(M),(Fr&6)===0&&(px=wt()+500,Om(0))}}break;case 31:case 13:Q=nu(M,2),Q!==null&&js(Q,M,2),xx(),zS(M,2)}if(M=WS(b),M===null&&MS(u,f,b,Dx,p),M===k)break;k=M}k!==null&&b.stopPropagation()}else MS(u,f,b,null,p)}}function WS(u){return u=U1(u),qS(u)}var Dx=null;function qS(u){if(Dx=null,u=He(u),u!==null){var f=i(u);if(f===null)u=null;else{var p=f.tag;if(p===13){if(u=o(f),u!==null)return u;u=null}else if(p===31){if(u=l(f),u!==null)return u;u=null}else if(p===3){if(f.stateNode.current.memoizedState.isDehydrated)return f.tag===3?f.stateNode.containerInfo:null;u=null}else f!==u&&(u=null)}}return Dx=u,null}function L3(u){switch(u){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(zt()){case rt:return 2;case Ne:return 8;case ze:case we:return 32;case ut:return 268435456;default:return 32}default:return 32}}var US=!1,cc=null,uc=null,dc=null,$m=new Map,Fm=new Map,fc=[],pee="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function $3(u,f){switch(u){case"focusin":case"focusout":cc=null;break;case"dragenter":case"dragleave":uc=null;break;case"mouseover":case"mouseout":dc=null;break;case"pointerover":case"pointerout":$m.delete(f.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fm.delete(f.pointerId)}}function Hm(u,f,p,b,k,M){return u===null||u.nativeEvent!==M?(u={blockedOn:f,domEventName:p,eventSystemFlags:b,nativeEvent:M,targetContainers:[k]},f!==null&&(f=Pt(f),f!==null&&R3(f)),u):(u.eventSystemFlags|=b,f=u.targetContainers,k!==null&&f.indexOf(k)===-1&&f.push(k),u)}function gee(u,f,p,b,k){switch(f){case"focusin":return cc=Hm(cc,u,f,p,b,k),!0;case"dragenter":return uc=Hm(uc,u,f,p,b,k),!0;case"mouseover":return dc=Hm(dc,u,f,p,b,k),!0;case"pointerover":var M=k.pointerId;return $m.set(M,Hm($m.get(M)||null,u,f,p,b,k)),!0;case"gotpointercapture":return M=k.pointerId,Fm.set(M,Hm(Fm.get(M)||null,u,f,p,b,k)),!0}return!1}function F3(u){var f=He(u.target);if(f!==null){var p=i(f);if(p!==null){if(f=p.tag,f===13){if(f=o(p),f!==null){u.blockedOn=f,Dr(u.priority,function(){I3(p)});return}}else if(f===31){if(f=l(p),f!==null){u.blockedOn=f,Dr(u.priority,function(){I3(p)});return}}else if(f===3&&p.stateNode.current.memoizedState.isDehydrated){u.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}u.blockedOn=null}function Px(u){if(u.blockedOn!==null)return!1;for(var f=u.targetContainers;0<f.length;){var p=WS(u.nativeEvent);if(p===null){p=u.nativeEvent;var b=new p.constructor(p.type,p);Ag=b,p.target.dispatchEvent(b),Ag=null}else return f=Pt(p),f!==null&&R3(f),u.blockedOn=p,!1;f.shift()}return!0}function H3(u,f,p){Px(u)&&p.delete(f)}function xee(){US=!1,cc!==null&&Px(cc)&&(cc=null),uc!==null&&Px(uc)&&(uc=null),dc!==null&&Px(dc)&&(dc=null),$m.forEach(H3),Fm.forEach(H3)}function Rx(u,f){u.blockedOn===f&&(u.blockedOn=null,US||(US=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,xee)))}var Ix=null;function B3(u){Ix!==u&&(Ix=u,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Ix===u&&(Ix=null);for(var f=0;f<u.length;f+=3){var p=u[f],b=u[f+1],k=u[f+2];if(typeof b!="function"){if(qS(b||p)===null)continue;break}var M=Pt(p);M!==null&&(u.splice(f,3),f-=3,Wj(M,{pending:!0,data:k,method:p.method,action:b},b,k))}}))}function nf(u){function f(me){return Rx(me,u)}cc!==null&&Rx(cc,u),uc!==null&&Rx(uc,u),dc!==null&&Rx(dc,u),$m.forEach(f),Fm.forEach(f);for(var p=0;p<fc.length;p++){var b=fc[p];b.blockedOn===u&&(b.blockedOn=null)}for(;0<fc.length&&(p=fc[0],p.blockedOn===null);)F3(p),p.blockedOn===null&&fc.shift();if(p=(u.ownerDocument||u).$$reactFormReplay,p!=null)for(b=0;b<p.length;b+=3){var k=p[b],M=p[b+1],V=k[dr]||null;if(typeof M=="function")V||B3(p);else if(V){var Q=null;if(M&&M.hasAttribute("formAction")){if(k=M,V=M[dr]||null)Q=V.formAction;else if(qS(k)!==null)continue}else Q=V.action;typeof Q=="function"?p[b+1]=Q:(p.splice(b,3),b-=3),B3(p)}}}function z3(){function u(M){M.canIntercept&&M.info==="react-transition"&&M.intercept({handler:function(){return new Promise(function(V){return k=V})},focusReset:"manual",scroll:"manual"})}function f(){k!==null&&(k(),k=null),b||setTimeout(p,20)}function p(){if(!b&&!navigation.transition){var M=navigation.currentEntry;M&&M.url!=null&&navigation.navigate(M.url,{state:M.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var b=!1,k=null;return navigation.addEventListener("navigate",u),navigation.addEventListener("navigatesuccess",f),navigation.addEventListener("navigateerror",f),setTimeout(p,100),function(){b=!0,navigation.removeEventListener("navigate",u),navigation.removeEventListener("navigatesuccess",f),navigation.removeEventListener("navigateerror",f),k!==null&&(k(),k=null)}}}function GS(u){this._internalRoot=u}Lx.prototype.render=GS.prototype.render=function(u){var f=this._internalRoot;if(f===null)throw Error(n(409));var p=f.current,b=Ls();D3(p,b,u,f,null,null)},Lx.prototype.unmount=GS.prototype.unmount=function(){var u=this._internalRoot;if(u!==null){this._internalRoot=null;var f=u.containerInfo;D3(u.current,2,null,u,null,null),xx(),f[Rt]=null}};function Lx(u){this._internalRoot=u}Lx.prototype.unstable_scheduleHydration=function(u){if(u){var f=Qt();u={blockedOn:null,target:u,priority:f};for(var p=0;p<fc.length&&f!==0&&f<fc[p].priority;p++);fc.splice(p,0,u),p===0&&F3(u)}};var V3=e.version;if(V3!=="19.2.0")throw Error(n(527,V3,"19.2.0"));P.findDOMNode=function(u){var f=u._reactInternals;if(f===void 0)throw typeof u.render=="function"?Error(n(188)):(u=Object.keys(u).join(","),Error(n(268,u)));return u=d(f),u=u!==null?h(u):null,u=u===null?null:u.stateNode,u};var yee={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $x=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$x.isDisabled&&$x.supportsFiber)try{he=$x.inject(yee),Je=$x}catch{}}return zm.createRoot=function(u,f){if(!s(u))throw Error(n(299));var p=!1,b="",k=XP,M=JP,V=QP;return f!=null&&(f.unstable_strictMode===!0&&(p=!0),f.identifierPrefix!==void 0&&(b=f.identifierPrefix),f.onUncaughtError!==void 0&&(k=f.onUncaughtError),f.onCaughtError!==void 0&&(M=f.onCaughtError),f.onRecoverableError!==void 0&&(V=f.onRecoverableError)),f=O3(u,1,!1,null,null,p,b,null,k,M,V,z3),u[Rt]=f.current,_S(u),new GS(f)},zm.hydrateRoot=function(u,f,p){if(!s(u))throw Error(n(299));var b=!1,k="",M=XP,V=JP,Q=QP,me=null;return p!=null&&(p.unstable_strictMode===!0&&(b=!0),p.identifierPrefix!==void 0&&(k=p.identifierPrefix),p.onUncaughtError!==void 0&&(M=p.onUncaughtError),p.onCaughtError!==void 0&&(V=p.onCaughtError),p.onRecoverableError!==void 0&&(Q=p.onRecoverableError),p.formState!==void 0&&(me=p.formState)),f=O3(u,1,!0,f,p??null,b,k,me,M,V,Q,z3),f.context=E3(null),p=f.current,b=Ls(),b=Ye(b),k=Jl(b),k.callback=null,Ql(p,k,b),p=b,f.current.lanes=p,Ae(f,p),to(f),u[Rt]=f.current,_S(u),new Lx(f)},zm.version="19.2.0",zm}var Z3;function Oee(){if(Z3)return XS.exports;Z3=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),XS.exports=Aee(),XS.exports}var Eee=Oee();const Dee=$r(Eee);/**
 * react-router v7.9.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var e6="popstate";function Pee(t={}){function e(n,s){let{pathname:i,search:o,hash:l}=n.location;return C5("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Yp(s)}return Iee(e,r,null,t)}function En(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Co(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Ree(){return Math.random().toString(36).substring(2,10)}function t6(t,e){return{usr:t.state,key:t.key,idx:e}}function C5(t,e,r=null,n){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Eh(e):e,state:r,key:e&&e.key||n||Ree()}}function Yp({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Eh(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substring(n),t=t.substring(0,n)),t&&(e.pathname=t)}return e}function Iee(t,e,r,n={}){let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,l="POP",c=null,d=h();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function h(){return(o.state||{idx:null}).idx}function m(){l="POP";let v=h(),N=v==null?null:v-d;d=v,c&&c({action:l,location:j.location,delta:N})}function x(v,N){l="PUSH";let T=C5(j.location,v,N);d=h()+1;let S=t6(T,d),O=j.createHref(T);try{o.pushState(S,"",O)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;s.location.assign(O)}i&&c&&c({action:l,location:j.location,delta:1})}function y(v,N){l="REPLACE";let T=C5(j.location,v,N);d=h();let S=t6(T,d),O=j.createHref(T);o.replaceState(S,"",O),i&&c&&c({action:l,location:j.location,delta:0})}function w(v){return Lee(v)}let j={get action(){return l},get location(){return t(s,o)},listen(v){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(e6,m),c=v,()=>{s.removeEventListener(e6,m),c=null}},createHref(v){return e(s,v)},createURL:w,encodeLocation(v){let N=w(v);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:x,replace:y,go(v){return o.go(v)}};return j}function Lee(t,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),En(r,"No window.location.(origin|href) available to create URL");let n=typeof t=="string"?t:Yp(t);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function Iz(t,e,r="/"){return $ee(t,e,r,!1)}function $ee(t,e,r,n){let s=typeof e=="string"?Eh(e):e,i=Tl(s.pathname||"/",r);if(i==null)return null;let o=Lz(t);Fee(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=Xee(i);l=Yee(o[c],d,n)}return l}function Lz(t,e=[],r=[],n="",s=!1){let i=(o,l,c=s,d)=>{let h={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(n)&&c)return;En(h.relativePath.startsWith(n),`Absolute route path "${h.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(n.length)}let m=pl([n,h.relativePath]),x=r.concat(h);o.children&&o.children.length>0&&(En(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),Lz(o.children,e,x,m,c)),!(o.path==null&&!o.index)&&e.push({path:m,score:Uee(m,o.index),routesMeta:x})};return t.forEach((o,l)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))i(o,l);else for(let d of $z(o.path))i(o,l,!0,d)}),e}function $z(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=$z(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function Fee(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:Gee(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var Hee=/^:[\w-]+$/,Bee=3,zee=2,Vee=1,Wee=10,qee=-2,r6=t=>t==="*";function Uee(t,e){let r=t.split("/"),n=r.length;return r.some(r6)&&(n+=qee),e&&(n+=zee),r.filter(s=>!r6(s)).reduce((s,i)=>s+(Hee.test(i)?Bee:i===""?Vee:Wee),n)}function Gee(t,e){return t.length===e.length&&t.slice(0,-1).every((n,s)=>n===e[s])?t[t.length-1]-e[e.length-1]:0}function Yee(t,e,r=!1){let{routesMeta:n}=t,s={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],d=l===n.length-1,h=i==="/"?e:e.slice(i.length)||"/",m=db({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},h),x=c.route;if(!m&&d&&r&&!n[n.length-1].route.index&&(m=db({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!m)return null;Object.assign(s,m.params),o.push({params:s,pathname:pl([i,m.pathname]),pathnameBase:ete(pl([i,m.pathnameBase])),route:x}),m.pathnameBase!=="/"&&(i=pl([i,m.pathnameBase]))}return o}function db(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=Kee(t.path,t.caseSensitive,t.end),s=e.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((d,{paramName:h,isOptional:m},x)=>{if(h==="*"){let w=l[x]||"";o=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const y=l[x];return m&&!y?d[h]=void 0:d[h]=(y||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:t}}function Kee(t,e=!1,r=!0){Co(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(n.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function Xee(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Co(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Tl(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function Jee(t,e="/"){let{pathname:r,search:n="",hash:s=""}=typeof t=="string"?Eh(t):t;return{pathname:r?r.startsWith("/")?r:Qee(r,e):e,search:tte(n),hash:rte(s)}}function Qee(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function eN(t,e,r,n){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Zee(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function Fz(t){let e=Zee(t);return e.map((r,n)=>n===e.length-1?r.pathname:r.pathnameBase)}function Hz(t,e,r,n=!1){let s;typeof t=="string"?s=Eh(t):(s={...t},En(!s.pathname||!s.pathname.includes("?"),eN("?","pathname","search",s)),En(!s.pathname||!s.pathname.includes("#"),eN("#","pathname","hash",s)),En(!s.search||!s.search.includes("#"),eN("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=r;else{let m=e.length-1;if(!n&&o.startsWith("..")){let x=o.split("/");for(;x[0]==="..";)x.shift(),m-=1;s.pathname=x.join("/")}l=m>=0?e[m]:"/"}let c=Jee(s,l),d=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||h)&&(c.pathname+="/"),c}var pl=t=>t.join("/").replace(/\/\/+/g,"/"),ete=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),tte=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,rte=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function nte(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var Bz=["POST","PUT","PATCH","DELETE"];new Set(Bz);var ate=["GET",...Bz];new Set(ate);var Dh=g.createContext(null);Dh.displayName="DataRouter";var Tw=g.createContext(null);Tw.displayName="DataRouterState";g.createContext(!1);var zz=g.createContext({isTransitioning:!1});zz.displayName="ViewTransition";var ste=g.createContext(new Map);ste.displayName="Fetchers";var ite=g.createContext(null);ite.displayName="Await";var Eo=g.createContext(null);Eo.displayName="Navigation";var eg=g.createContext(null);eg.displayName="Location";var Ki=g.createContext({outlet:null,matches:[],isDataRoute:!1});Ki.displayName="Route";var mA=g.createContext(null);mA.displayName="RouteError";function ote(t,{relative:e}={}){En(tg(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=g.useContext(Eo),{hash:s,pathname:i,search:o}=rg(t,{relative:e}),l=i;return r!=="/"&&(l=i==="/"?r:pl([r,i])),n.createHref({pathname:l,search:o,hash:s})}function tg(){return g.useContext(eg)!=null}function ua(){return En(tg(),"useLocation() may be used only in the context of a <Router> component."),g.useContext(eg).location}var Vz="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Wz(t){g.useContext(Eo).static||g.useLayoutEffect(t)}function jt(){let{isDataRoute:t}=g.useContext(Ki);return t?jte():lte()}function lte(){En(tg(),"useNavigate() may be used only in the context of a <Router> component.");let t=g.useContext(Dh),{basename:e,navigator:r}=g.useContext(Eo),{matches:n}=g.useContext(Ki),{pathname:s}=ua(),i=JSON.stringify(Fz(n)),o=g.useRef(!1);return Wz(()=>{o.current=!0}),g.useCallback((c,d={})=>{if(Co(o.current,Vz),!o.current)return;if(typeof c=="number"){r.go(c);return}let h=Hz(c,JSON.parse(i),s,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:pl([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,i,s,t])}var cte=g.createContext(null);function ute(t){let e=g.useContext(Ki).outlet;return g.useMemo(()=>e&&g.createElement(cte.Provider,{value:t},e),[e,t])}function Ta(){let{matches:t}=g.useContext(Ki),e=t[t.length-1];return e?e.params:{}}function rg(t,{relative:e}={}){let{matches:r}=g.useContext(Ki),{pathname:n}=ua(),s=JSON.stringify(Fz(r));return g.useMemo(()=>Hz(t,JSON.parse(s),n,e==="path"),[t,s,n,e])}function dte(t,e){return qz(t,e)}function qz(t,e,r,n,s){var T;En(tg(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=g.useContext(Eo),{matches:o}=g.useContext(Ki),l=o[o.length-1],c=l?l.params:{},d=l?l.pathname:"/",h=l?l.pathnameBase:"/",m=l&&l.route;{let S=m&&m.path||"";Uz(d,!m||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let x=ua(),y;if(e){let S=typeof e=="string"?Eh(e):e;En(h==="/"||((T=S.pathname)==null?void 0:T.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${S.pathname}" was given in the \`location\` prop.`),y=S}else y=x;let w=y.pathname||"/",j=w;if(h!=="/"){let S=h.replace(/^\//,"").split("/");j="/"+w.replace(/^\//,"").split("/").slice(S.length).join("/")}let v=Iz(t,{pathname:j});Co(m||v!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),Co(v==null||v[v.length-1].route.element!==void 0||v[v.length-1].route.Component!==void 0||v[v.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=gte(v&&v.map(S=>Object.assign({},S,{params:Object.assign({},c,S.params),pathname:pl([h,i.encodeLocation?i.encodeLocation(S.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?h:pl([h,i.encodeLocation?i.encodeLocation(S.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathnameBase])})),o,r,n,s);return e&&N?g.createElement(eg.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},N):N}function fte(){let t=wte(),e=nte(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=g.createElement(g.Fragment,null,g.createElement("p",null," Hey developer "),g.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",g.createElement("code",{style:i},"ErrorBoundary")," or"," ",g.createElement("code",{style:i},"errorElement")," prop on your route.")),g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},e),r?g.createElement("pre",{style:s},r):null,o)}var hte=g.createElement(fte,null),mte=class extends g.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?g.createElement(Ki.Provider,{value:this.props.routeContext},g.createElement(mA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function pte({routeContext:t,match:e,children:r}){let n=g.useContext(Dh);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),g.createElement(Ki.Provider,{value:t},r)}function gte(t,e=[],r=null,n=null,s=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let i=t,o=r==null?void 0:r.errors;if(o!=null){let d=i.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);En(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let l=!1,c=-1;if(r)for(let d=0;d<i.length;d++){let h=i[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:m,errors:x}=r,y=h.route.loader&&!m.hasOwnProperty(h.route.id)&&(!x||x[h.route.id]===void 0);if(h.route.lazy||y){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((d,h,m)=>{let x,y=!1,w=null,j=null;r&&(x=o&&h.route.id?o[h.route.id]:void 0,w=h.route.errorElement||hte,l&&(c<0&&m===0?(Uz("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,j=null):c===m&&(y=!0,j=h.route.hydrateFallbackElement||null)));let v=e.concat(i.slice(0,m+1)),N=()=>{let T;return x?T=w:y?T=j:h.route.Component?T=g.createElement(h.route.Component,null):h.route.element?T=h.route.element:T=d,g.createElement(pte,{match:h,routeContext:{outlet:d,matches:v,isDataRoute:r!=null},children:T})};return r&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?g.createElement(mte,{location:r.location,revalidation:r.revalidation,component:w,error:x,children:N(),routeContext:{outlet:null,matches:v,isDataRoute:!0},unstable_onError:n}):N()},null)}function pA(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xte(t){let e=g.useContext(Dh);return En(e,pA(t)),e}function yte(t){let e=g.useContext(Tw);return En(e,pA(t)),e}function bte(t){let e=g.useContext(Ki);return En(e,pA(t)),e}function gA(t){let e=bte(t),r=e.matches[e.matches.length-1];return En(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function vte(){return gA("useRouteId")}function wte(){var n;let t=g.useContext(mA),e=yte("useRouteError"),r=gA("useRouteError");return t!==void 0?t:(n=e.errors)==null?void 0:n[r]}function jte(){let{router:t}=xte("useNavigate"),e=gA("useNavigate"),r=g.useRef(!1);return Wz(()=>{r.current=!0}),g.useCallback(async(s,i={})=>{Co(r.current,Vz),r.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...i}))},[t,e])}var n6={};function Uz(t,e,r){!e&&!n6[t]&&(n6[t]=!0,Co(!1,r))}g.memo(Ste);function Ste({routes:t,future:e,state:r,unstable_onError:n}){return qz(t,void 0,r,n,e)}function Nte(t){return ute(t.context)}function lt(t){En(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function kte({basename:t="/",children:e=null,location:r,navigationType:n="POP",navigator:s,static:i=!1}){En(!tg(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),l=g.useMemo(()=>({basename:o,navigator:s,static:i,future:{}}),[o,s,i]);typeof r=="string"&&(r=Eh(r));let{pathname:c="/",search:d="",hash:h="",state:m=null,key:x="default"}=r,y=g.useMemo(()=>{let w=Tl(c,o);return w==null?null:{location:{pathname:w,search:d,hash:h,state:m,key:x},navigationType:n}},[o,c,d,h,m,x,n]);return Co(y!=null,`<Router basename="${o}"> is not able to match the URL "${c}${d}${h}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:g.createElement(Eo.Provider,{value:l},g.createElement(eg.Provider,{children:e,value:y}))}function Cte({children:t,location:e}){return dte(T5(t),e)}function T5(t,e=[]){let r=[];return g.Children.forEach(t,(n,s)=>{if(!g.isValidElement(n))return;let i=[...e,s];if(n.type===g.Fragment){r.push.apply(r,T5(n.props.children,i));return}En(n.type===lt,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),En(!n.props.index||!n.props.children,"An index route cannot have child routes.");let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=T5(n.props.children,i)),r.push(o)}),r}var Fy="get",Hy="application/x-www-form-urlencoded";function _w(t){return t!=null&&typeof t.tagName=="string"}function Tte(t){return _w(t)&&t.tagName.toLowerCase()==="button"}function _te(t){return _w(t)&&t.tagName.toLowerCase()==="form"}function Mte(t){return _w(t)&&t.tagName.toLowerCase()==="input"}function Ate(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Ote(t,e){return t.button===0&&(!e||e==="_self")&&!Ate(t)}var Hx=null;function Ete(){if(Hx===null)try{new FormData(document.createElement("form"),0),Hx=!1}catch{Hx=!0}return Hx}var Dte=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function tN(t){return t!=null&&!Dte.has(t)?(Co(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Hy}"`),null):t}function Pte(t,e){let r,n,s,i,o;if(_te(t)){let l=t.getAttribute("action");n=l?Tl(l,e):null,r=t.getAttribute("method")||Fy,s=tN(t.getAttribute("enctype"))||Hy,i=new FormData(t)}else if(Tte(t)||Mte(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||l.getAttribute("action");if(n=c?Tl(c,e):null,r=t.getAttribute("formmethod")||l.getAttribute("method")||Fy,s=tN(t.getAttribute("formenctype"))||tN(l.getAttribute("enctype"))||Hy,i=new FormData(l,t),!Ete()){let{name:d,type:h,value:m}=t;if(h==="image"){let x=d?`${d}.`:"";i.append(`${x}x`,"0"),i.append(`${x}y`,"0")}else d&&i.append(d,m)}}else{if(_w(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Fy,n=null,s=Hy,o=t}return i&&s==="text/plain"&&(o=i,i=void 0),{action:n,method:r.toLowerCase(),encType:s,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function xA(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Rte(t,e,r){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname=`_root.${r}`:e&&Tl(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function Ite(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Lte(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function $te(t,e,r){let n=await Promise.all(t.map(async s=>{let i=e.routes[s.route.id];if(i){let o=await Ite(i,r);return o.links?o.links():[]}return[]}));return zte(n.flat(1).filter(Lte).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function a6(t,e,r,n,s,i){let o=(c,d)=>r[d]?c.route.id!==r[d].route.id:!0,l=(c,d)=>{var h;return r[d].pathname!==c.pathname||((h=r[d].route.path)==null?void 0:h.endsWith("*"))&&r[d].params["*"]!==c.params["*"]};return i==="assets"?e.filter((c,d)=>o(c,d)||l(c,d)):i==="data"?e.filter((c,d)=>{var m;let h=n.routes[c.route.id];if(!h||!h.hasLoader)return!1;if(o(c,d)||l(c,d))return!0;if(c.route.shouldRevalidate){let x=c.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((m=r[0])==null?void 0:m.params)||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function Fte(t,e,{includeHydrateFallback:r}={}){return Hte(t.map(n=>{let s=e.routes[n.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),r&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function Hte(t){return[...new Set(t)]}function Bte(t){let e={},r=Object.keys(t).sort();for(let n of r)e[n]=t[n];return e}function zte(t,e){let r=new Set;return new Set(e),t.reduce((n,s)=>{let i=JSON.stringify(Bte(s));return r.has(i)||(r.add(i),n.push({key:i,link:s})),n},[])}function Gz(){let t=g.useContext(Dh);return xA(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Vte(){let t=g.useContext(Tw);return xA(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var yA=g.createContext(void 0);yA.displayName="FrameworkContext";function Yz(){let t=g.useContext(yA);return xA(t,"You must render this element inside a <HydratedRouter> element"),t}function Wte(t,e){let r=g.useContext(yA),[n,s]=g.useState(!1),[i,o]=g.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:d,onMouseLeave:h,onTouchStart:m}=e,x=g.useRef(null);g.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let j=N=>{N.forEach(T=>{o(T.isIntersecting)})},v=new IntersectionObserver(j,{threshold:.5});return x.current&&v.observe(x.current),()=>{v.disconnect()}}},[t]),g.useEffect(()=>{if(n){let j=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(j)}}},[n]);let y=()=>{s(!0)},w=()=>{s(!1),o(!1)};return r?t!=="intent"?[i,x,{}]:[i,x,{onFocus:Vm(l,y),onBlur:Vm(c,w),onMouseEnter:Vm(d,y),onMouseLeave:Vm(h,w),onTouchStart:Vm(m,y)}]:[!1,x,{}]}function Vm(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function qte({page:t,...e}){let{router:r}=Gz(),n=g.useMemo(()=>Iz(r.routes,t,r.basename),[r.routes,t,r.basename]);return n?g.createElement(Gte,{page:t,matches:n,...e}):null}function Ute(t){let{manifest:e,routeModules:r}=Yz(),[n,s]=g.useState([]);return g.useEffect(()=>{let i=!1;return $te(t,e,r).then(o=>{i||s(o)}),()=>{i=!0}},[t,e,r]),n}function Gte({page:t,matches:e,...r}){let n=ua(),{manifest:s,routeModules:i}=Yz(),{basename:o}=Gz(),{loaderData:l,matches:c}=Vte(),d=g.useMemo(()=>a6(t,e,c,s,n,"data"),[t,e,c,s,n]),h=g.useMemo(()=>a6(t,e,c,s,n,"assets"),[t,e,c,s,n]),m=g.useMemo(()=>{if(t===n.pathname+n.search+n.hash)return[];let w=new Set,j=!1;if(e.forEach(N=>{var S;let T=s.routes[N.route.id];!T||!T.hasLoader||(!d.some(O=>O.route.id===N.route.id)&&N.route.id in l&&((S=i[N.route.id])!=null&&S.shouldRevalidate)||T.hasClientLoader?j=!0:w.add(N.route.id))}),w.size===0)return[];let v=Rte(t,o,"data");return j&&w.size>0&&v.searchParams.set("_routes",e.filter(N=>w.has(N.route.id)).map(N=>N.route.id).join(",")),[v.pathname+v.search]},[o,l,n,s,d,e,t,i]),x=g.useMemo(()=>Fte(h,s),[h,s]),y=Ute(h);return g.createElement(g.Fragment,null,m.map(w=>g.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...r})),x.map(w=>g.createElement("link",{key:w,rel:"modulepreload",href:w,...r})),y.map(({key:w,link:j})=>g.createElement("link",{key:w,nonce:r.nonce,...j})))}function Yte(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var Kz=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Kz&&(window.__reactRouterVersion="7.9.3")}catch{}function Kte({basename:t,children:e,window:r}){let n=g.useRef();n.current==null&&(n.current=Pee({window:r,v5Compat:!0}));let s=n.current,[i,o]=g.useState({action:s.action,location:s.location}),l=g.useCallback(c=>{g.startTransition(()=>o(c))},[o]);return g.useLayoutEffect(()=>s.listen(l),[s,l]),g.createElement(kte,{basename:t,children:e,location:i.location,navigationType:i.action,navigator:s})}var Xz=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Lc=g.forwardRef(function({onClick:e,discover:r="render",prefetch:n="none",relative:s,reloadDocument:i,replace:o,state:l,target:c,to:d,preventScrollReset:h,viewTransition:m,...x},y){let{basename:w}=g.useContext(Eo),j=typeof d=="string"&&Xz.test(d),v,N=!1;if(typeof d=="string"&&j&&(v=d,Kz))try{let $=new URL(window.location.href),I=d.startsWith("//")?new URL($.protocol+d):new URL(d),L=Tl(I.pathname,w);I.origin===$.origin&&L!=null?d=L+I.search+I.hash:N=!0}catch{Co(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let T=ote(d,{relative:s}),[S,O,_]=Wte(n,x),A=Zte(d,{replace:o,state:l,target:c,preventScrollReset:h,relative:s,viewTransition:m});function E($){e&&e($),$.defaultPrevented||A($)}let D=g.createElement("a",{...x,..._,href:v||T,onClick:N||i?e:E,ref:Yte(y,O),target:c,"data-discover":!j&&r==="render"?"true":void 0});return S&&!j?g.createElement(g.Fragment,null,D,g.createElement(qte,{page:T})):D});Lc.displayName="Link";var Xte=g.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:n="",end:s=!1,style:i,to:o,viewTransition:l,children:c,...d},h){let m=rg(o,{relative:d.relative}),x=ua(),y=g.useContext(Tw),{navigator:w,basename:j}=g.useContext(Eo),v=y!=null&&are(m)&&l===!0,N=w.encodeLocation?w.encodeLocation(m).pathname:m.pathname,T=x.pathname,S=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;r||(T=T.toLowerCase(),S=S?S.toLowerCase():null,N=N.toLowerCase()),S&&j&&(S=Tl(S,j)||S);const O=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let _=T===N||!s&&T.startsWith(N)&&T.charAt(O)==="/",A=S!=null&&(S===N||!s&&S.startsWith(N)&&S.charAt(N.length)==="/"),E={isActive:_,isPending:A,isTransitioning:v},D=_?e:void 0,$;typeof n=="function"?$=n(E):$=[n,_?"active":null,A?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let I=typeof i=="function"?i(E):i;return g.createElement(Lc,{...d,"aria-current":D,className:$,ref:h,style:I,to:o,viewTransition:l},typeof c=="function"?c(E):c)});Xte.displayName="NavLink";var Jte=g.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:n,replace:s,state:i,method:o=Fy,action:l,onSubmit:c,relative:d,preventScrollReset:h,viewTransition:m,...x},y)=>{let w=rre(),j=nre(l,{relative:d}),v=o.toLowerCase()==="get"?"get":"post",N=typeof l=="string"&&Xz.test(l),T=S=>{if(c&&c(S),S.defaultPrevented)return;S.preventDefault();let O=S.nativeEvent.submitter,_=(O==null?void 0:O.getAttribute("formmethod"))||o;w(O||S.currentTarget,{fetcherKey:e,method:_,navigate:r,replace:s,state:i,relative:d,preventScrollReset:h,viewTransition:m})};return g.createElement("form",{ref:y,method:v,action:j,onSubmit:n?c:T,...x,"data-discover":!N&&t==="render"?"true":void 0})});Jte.displayName="Form";function Qte(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Jz(t){let e=g.useContext(Dh);return En(e,Qte(t)),e}function Zte(t,{target:e,replace:r,state:n,preventScrollReset:s,relative:i,viewTransition:o}={}){let l=jt(),c=ua(),d=rg(t,{relative:i});return g.useCallback(h=>{if(Ote(h,e)){h.preventDefault();let m=r!==void 0?r:Yp(c)===Yp(d);l(t,{replace:m,state:n,preventScrollReset:s,relative:i,viewTransition:o})}},[c,l,d,r,n,e,t,s,i,o])}var ere=0,tre=()=>`__${String(++ere)}__`;function rre(){let{router:t}=Jz("useSubmit"),{basename:e}=g.useContext(Eo),r=vte();return g.useCallback(async(n,s={})=>{let{action:i,method:o,encType:l,formData:c,body:d}=Pte(n,e);if(s.navigate===!1){let h=s.fetcherKey||tre();await t.fetch(h,r,s.action||i,{preventScrollReset:s.preventScrollReset,formData:c,body:d,formMethod:s.method||o,formEncType:s.encType||l,flushSync:s.flushSync})}else await t.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:c,body:d,formMethod:s.method||o,formEncType:s.encType||l,replace:s.replace,state:s.state,fromRouteId:r,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,r])}function nre(t,{relative:e}={}){let{basename:r}=g.useContext(Eo),n=g.useContext(Ki);En(n,"useFormAction must be used inside a RouteContext");let[s]=n.matches.slice(-1),i={...rg(t||".",{relative:e})},o=ua();if(t==null){i.search=o.search;let l=new URLSearchParams(i.search),c=l.getAll("index");if(c.some(h=>h==="")){l.delete("index"),c.filter(m=>m).forEach(m=>l.append("index",m));let h=l.toString();i.search=h?`?${h}`:""}}return(!t||t===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:pl([r,i.pathname])),Yp(i)}function are(t,{relative:e}={}){let r=g.useContext(zz);En(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=Jz("useViewTransitionState"),s=rg(t,{relative:e});if(!r.isTransitioning)return!1;let i=Tl(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=Tl(r.nextLocation.pathname,n)||r.nextLocation.pathname;return db(s.pathname,o)!=null||db(s.pathname,i)!=null}var bA=Rz();const Qz=$r(bA),s6=t=>({1:"view_dashboard",2:"edit_dashboard",3:"view_assets",4:"create_assets",5:"edit_assets",6:"delete_assets",7:"view_workorders",8:"create_workorders",9:"assign_workorders",10:"complete_workorders",11:"view_reports",12:"export_reports",13:"view_settings",14:"edit_settings",15:"view_permissions",16:"edit_permissions",17:"manage_users",18:"edit_workorders",19:"delete_workorders",20:"create_reports",21:"edit_reports",22:"delete_reports",23:"view_inventory",24:"create_inventory",25:"edit_inventory",26:"delete_inventory",27:"view_teams",28:"create_teams",29:"edit_teams",30:"delete_teams",31:"view_machinehistory",32:"create_machine_history",33:"edit_machinehistory",34:"delete_machinehistory"})[t]||null;function sre(t,e){var s,i,o,l,c,d,h,m,x,y,w,j,v,N,T,S,O,_,A,E,D,$,I,L,R,z,Y;const r=((s=t.stoptime)==null?void 0:s.name)||((o=(i=e==null?void 0:e.stoptimes)==null?void 0:i.data.find(W=>String(W.id)===String(t.stoptime_id)))==null?void 0:o.name)||"-";(l=t.itemtrouble)!=null&&l.name||(d=(c=e==null?void 0:e.itemtroubles)==null?void 0:c.data.find(W=>String(W.id)===String(t.itemtrouble_id)))!=null&&d.name,(h=t.jenisaktifitas)!=null&&h.name||(x=(m=e==null?void 0:e.jenisaktivitas)==null?void 0:m.data.find(W=>String(W.id)===String(t.jenisaktifitas_id)))!=null&&x.name,(y=t.kegiatan)!=null&&y.name||(j=(w=e==null?void 0:e.kegiatans)==null?void 0:w.data.find(W=>String(W.id)===String(t.kegiatan_id)))!=null&&j.name;const n=((v=t.unitsp)==null?void 0:v.name)||((T=(N=e==null?void 0:e.unitspareparts)==null?void 0:N.data.find(W=>String(W.id)===String(t.unitsp_id)))==null?void 0:T.name)||"-";return{id:String(t.id),date:t.date,shift:((S=t.shift)==null?void 0:S.name)||"-",group:((O=t.group)==null?void 0:O.name)||"-",unit:((_=t.unit)==null?void 0:_.name)||"-",mesin:((A=t.mesin)==null?void 0:A.name)||"-",stopJam:((E=t.startstop)==null?void 0:E.stop_time_hh)??null,stopMenit:((D=t.startstop)==null?void 0:D.stop_time_mm)??null,startJam:(($=t.startstop)==null?void 0:$.start_time_hh)??null,startMenit:((I=t.startstop)==null?void 0:I.start_time_mm)??null,stopTime:r,runningHour:t.running_hour??0,itemTrouble:((L=t.itemtrouble)==null?void 0:L.name)||"-",jenisGangguan:t.jenis_gangguan||"",bentukTindakan:t.bentuk_tindakan||"",perbaikanPerawatan:((R=t.jenisaktifitas)==null?void 0:R.name)==="Perbaikan"?"Perbaikan":"Perawatan",rootCause:t.root_cause||"",jenisAktivitas:((z=t.jenisaktifitas)==null?void 0:z.name)||"-",kegiatan:((Y=t.kegiatan)==null?void 0:Y.name)||"-",kodePart:t.kode_part||"",sparePart:t.spare_part||"",idPart:t.id_part||"",jumlah:t.jumlah??0,unitSparePart:n,startstop:t.startstop??null}}const Wm=jee(),Zz=g.createContext(null),gu=t=>{var r,n;const e=t.department?{id:t.department.id,name:t.department.name,head_id:t.department.head_id,head:t.department.head?{id:t.department.head.id,name:t.department.head.name,email:t.department.head.email}:null}:null;return{id:String(t.id),name:t.name,nik:t.nik,email:t.email,roleId:t.role_id?String(t.role_id):null,roles:t.roles||[],customPermissions:t.customPermissions||[],permissions:t.permissions||t.allPermissions||[],department:e,department_id:t.department_id||((r=t.department)==null?void 0:r.id)||null,department_name:((n=t.department)==null?void 0:n.name)||null,position:t.position}},ire=({children:t})=>{const[e,r]=g.useState(null),[n,s]=g.useState(null),[i,o]=g.useState(!1),[l,c]=g.useState(null),[d,h]=g.useState(!0),[m,x]=g.useState(!0),[y,w]=g.useState(null),j=jt(),v=g.useRef(!1),N=g.useCallback(async()=>{o(!0);try{const G=n||localStorage.getItem("token");G&&await fetch(`${Wm.envVariables.VITE_REACT_API_URL}/logout`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${G}`}})}finally{localStorage.removeItem("token"),localStorage.removeItem("refreshToken"),localStorage.removeItem("user"),s(null),r(null),c(null),o(!1),j("/login")}},[n,j]),T=g.useCallback(async()=>{if(v.current)return new Promise(U=>{const de=setInterval(()=>{v.current||(clearInterval(de),U(localStorage.getItem("token")))},100)});v.current=!0;const G=localStorage.getItem("refreshToken");if(!G)return await N(),null;try{const U=await fetch(`${Wm.envVariables.VITE_REACT_API_URL}/refresh-token`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${G}`},body:JSON.stringify({refresh_token:G})});if(!U.ok){if(U.status===401)return await N(),null;throw new Error("Token refresh failed")}const de=await U.json(),gt=de.access_token,gr=de.refresh_token||G;return localStorage.setItem("token",gt),localStorage.setItem("refreshToken",gr),s(gt),r(Tr=>Tr?{...Tr,access_token:gt,refresh_token:gr}:null),gt}catch{return await N(),null}finally{v.current=!1}},[N]),S=g.useCallback(async(G,U={})=>{let de=n||localStorage.getItem("token");const gt=async gr=>{var Xs;if(!gr)throw new Error("No token found");const Tr=new Headers(U.headers||{});((Xs=Tr.get("Content-Type"))!=null&&Xs.includes("application/json")||!Tr.has("Content-Type"))&&Tr.set("Content-Type","application/json"),Tr.set("Authorization",`Bearer ${gr}`);const As=await fetch(`${Wm.envVariables.VITE_REACT_API_URL}${G}`,{...U,headers:Tr});if(As.status===204||As.statusText==="No Content")return null;if(!As.ok){let Aa;try{Aa=await As.json()}catch{Aa=await As.text()}throw new Error(Aa.message||`HTTP error! Status: ${As.status}`)}let Ai;try{return Ai=await As.text(),Ai?JSON.parse(Ai):null}catch{return Ai}};try{return await gt(de)}catch(gr){if(gr instanceof Error&&gr.message.includes("status: 401")){const Tr=await T();if(Tr)return await gt(Tr)}throw gr}},[n,T]),O=g.useCallback(async()=>{const G=await S("/user/profile?includes_trashed=true"),U=gu(G);return r(U),localStorage.setItem("user",JSON.stringify(U)),U},[S]),_=g.useCallback(async()=>{const G=localStorage.getItem("token"),U=localStorage.getItem("user"),de=localStorage.getItem("refreshToken");if(G&&de){s(G);try{if(U){const gr=JSON.parse(U);r(gu(gr))}const gt=await O();r(gt)}catch{await N()}}},[O,N]),A=g.useCallback(async()=>{const[G,U,de,gt,gr,Tr,As,Ai,Xs]=await Promise.all([S("/mesin?includes_trashed=true"),S("/group?includes_trashed=true"),S("/shift?includes_trashed=true"),S("/unit?includes_trashed=true"),S("/unitsp?includes_trashed=true"),S("/itemtrouble?includes_trashed=true"),S("/jenisaktifitas?includes_trashed=true"),S("/kegiatan?includes_trashed=true"),S("/stoptime?includes_trashed=true")]);return{mesin:G,shifts:de,groups:U,stoptimes:Xs,units:gt,itemtroubles:Tr,jenisaktivitas:As,kegiatans:Ai,unitspareparts:gr}},[S]),E=g.useCallback(async()=>{try{return await S("/erp?includes_trashed=true",{method:"GET"})}catch(G){throw G}},[S]),D=g.useCallback(async G=>{const U=`<?xml version="1.0" encoding="utf-8"?>
      <soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" 
                    xmlns:tem="http://tempuri.org/" 
                    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
                    xmlns:xsd="http://www.w3.org/2001/XMLSchema">
          <soap:Body>
              <AddAsset xmlns="http://tempuri.org/">
                  <asset>
                      <Name>${G.name}</Name>
                      <Category>${G.category}</Category>
                      <Location>${G.location}</Location>
                      <PurchaseDate>${G.purchase_date}</PurchaseDate>
                      <Description>${G.description}</Description>
                      <Type>${G.type||""}</Type>
                      <Make>${G.make||""}</Make>
                      <Model>${G.model||""}</Model>
                      <Status>${G.status||""}</Status>
                      <LastMaintenance ${G.last_maintenance?"":'xsi:nil="true"'}>${G.last_maintenance||""}</LastMaintenance>
                      <NextMaintenance>${G.next_maintenance||""}</NextMaintenance>
                      <WorkOrders>${G.work_orders||""}</WorkOrders>
                      <Health>${G.health||""}</Health>
                  </asset>
              </AddAsset>
          </soap:Body>
      </soap:Envelope>`;try{const de=await S("/erp-endpoint?includes_trashed=true",{method:"POST",headers:{"Content-Type":"text/xml; charset=utf-8",SOAPAction:"http://tempuri.org/AddAsset"},body:U});if(console.log("ERP SOAP Add Asset Response:",de),typeof de=="string"&&de.includes("<soap:Fault>"))throw new Error("SOAP Fault detected in response.");return de}catch(de){throw console.error("Error adding asset:",de),de}},[S]),$=g.useCallback(async G=>{const U=`<?xml version="1.0" encoding="utf-8"?>
      <soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">
        <soap:Body>
          <EditAsset xmlns="http://tempuri.org/ERPService/AssetManagement">
            <assetId>${G.id}</assetId>
            <assetName>${G.name}</assetName>
            <assetCategory>${G.category}</assetCategory>
            <assetLocation>${G.location}</assetLocation>
            <purchaseDate>${G.purchase_date}</purchaseDate>
            <description>${G.description}</description>
            <assetType>${G.type||""}</assetType>
            <assetMake>${G.make||""}</assetMake>
            <assetModel>${G.model||""}</assetModel>
            <assetStatus>${G.status||""}</assetStatus>
            <lastMaintenance>${G.last_maintenance||""}</lastMaintenance>
            <nextMaintenance>${G.next_maintenance||""}</nextMaintenance>
            <workOrders>${G.work_orders||""}</workOrders>
            <health>${G.health||""}</health>
          </EditAsset>
        </soap:Body>
      </soap:Envelope>`;try{const de=await S("/erp-endpoint?includes_trashed=true",{method:"POST",headers:{"Content-Type":"text/xml; charset=utf-8",SOAPAction:"http://tempuri.org/EditAsset"},body:U});if(console.log("ERP SOAP Edit Asset Response:",de),typeof de=="string"&&de.includes("<soap:Fault>"))throw new Error("SOAP Fault detected in response.");return de}catch(de){throw console.error("Error editing asset:",de),de}},[S]),I=g.useCallback(async G=>{const U=`<?xml version="1.0" encoding="utf-8"?>
        <soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" 
               xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
               xmlns:xsd="http://www.w3.org/2001/XMLSchema">
          <soap:Body>
            <DeleteAsset xmlns="http://tempuri.org/ERPService/AssetManagement">
             <assetId>${G}</assetId>
            </DeleteAsset>
          </soap:Body>
        </soap:Envelope>`;try{const de=await S("/erp-endpoint?includes_trashed=true",{method:"POST",headers:{"Content-Type":"text/xml; charset=utf-8",SOAPAction:"http://tempuri.org/DeleteAsset"},body:U});if(console.log("ERP SOAP Delete Asset Response:",de),typeof de=="string"&&de.includes("<soap:Fault>"))throw new Error("SOAP Fault detected in response.");return de}catch(de){throw console.error("Error deleting asset:",de),de}},[S]),L=g.useCallback(async()=>{try{const G=await S("/history?includes_trashed=true");return G&&G.history&&Array.isArray(G.history)?G.history:Array.isArray(G)?G:G&&Array.isArray(G.data)?G.data:(console.warn("Unexpected audit trail response format:",G),[])}catch(G){return console.error("Failed to fetch audit trail:",G),[]}},[S]),R=g.useCallback(G=>{var de;if(!e)return!1;if(e.roleId==="3")return!0;if(Array.isArray(G))return G.some(gt=>{var Tr;const gr=/^\d+$/.test(gt)?s6(gt):gt;return gr?(Tr=e.permissions)==null?void 0:Tr.includes(gr):!1});const U=/^\d+$/.test(G)?s6(G):G;return U&&((de=e.permissions)==null?void 0:de.includes(U))||!1},[e]);g.useEffect(()=>{(async()=>{x(!0);try{if(await _(),n){const U=await A();c(U)}}catch{await N()}finally{x(!1),h(!1)}})()},[n,_,A,N]);const z=async(G,U,de,gt,gr,Tr,As,Ai)=>{const Xs=await fetch(`${Wm.envVariables.VITE_REACT_API_URL}/register?includes_trashed=true`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:G,nik:de,email:U,password:gt,department:gr,position:Tr,role_id:As||null,customPermissions:Ai?Ai.map(Number):[]})}),Aa=await Xs.json();if(!Xs.ok)throw new Error(Aa.message||"User creation failed");return Aa},Y=g.useCallback(async(G,U)=>{x(!0);try{const de=await fetch(`${Wm.envVariables.VITE_REACT_API_URL}/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({nik:G,password:U})});if(!de.ok){const Tr=await de.json();throw new Error(Tr.message||"Login failed")}const gt=await de.json(),gr=gu({...gt.user,access_token:gt.access_token,refresh_token:gt.refresh_token,permissions:gt.user.permissions||gt.user.allPermissions||[]});localStorage.setItem("token",gt.access_token),localStorage.setItem("refreshToken",gt.refresh_token),localStorage.setItem("user",JSON.stringify(gr)),s(gt.access_token),r(gr);try{const Tr=await A();c(Tr)}catch{}j("/dashboard")}catch(de){throw de}finally{x(!1)}},[j,A]),W=g.useCallback(async G=>await S("/mhs?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(G)}),[S]),H=g.useCallback(async(G="")=>{try{const U=await S(G?`/mhs?search=${encodeURIComponent(G)}?includes_trashed=true`:"/mhs?includes_trashed=true"),de=await A(),gt=U.data||U;if(!Array.isArray(gt))throw new Error("Invalid response format");return gt.map(gr=>sre(gr,de))}catch{return[]}},[S,A]),P=g.useCallback(async G=>await S(`/mhs/${G}?includes_trashed=true`),[S]),F=g.useCallback(async(G,U)=>await S(`/mhs/${G}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(U)}),[S]),X=g.useCallback(async G=>await S(`/mhs/${G}?includes_trashed=true`,{method:"DELETE"}),[S]),te=g.useCallback(async G=>await S("/ayam?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(G)}),[S]),q=g.useCallback(async()=>{const G=await S("/ayam?includes_trashed=true");return Array.isArray(G)?G:Array.isArray(G.data)?G.data:[]},[S]),Z=g.useCallback(async G=>{const U=await S(`/ayam/${G}?includes_trashed=true`,{method:"GET"});return console.log("API raw response:",U),U},[S]),ie=g.useCallback(async G=>{if(!G.id)throw new Error("Work order ID is required for update.");return(await S(`/ayam/${G.id}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(G)})).data},[S]),oe=g.useCallback(async G=>await S(`/ayam/${G}?includes_trashed=true`,{method:"DELETE"}),[S]),le=g.useCallback(async G=>(await q()).filter(de=>(de.requester_id===parseInt(G)||de.assigned_to_id===parseInt(G))&&(de.handling_status==="New"||de.handling_status==="Progress")),[q]),ge=g.useCallback(async(G,U)=>{await S("/user/password-update?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({current_password:G,new_password:U,new_password_confirmation:U})})},[S]),Le=g.useCallback(async()=>{try{const G=await S("/users?includes_trashed=true");let U;return G&&G.success!==void 0?U=G.data||[]:Array.isArray(G)?U=G:U=[],U.map(de=>gu(de))}catch(G){return console.error("Failed to fetch users:",G),[]}},[S]);g.useCallback(async G=>{const U=await S(`/users/${G}?includes_trashed=true`);return gu(U)},[S]);const Oe=g.useCallback(async()=>(await S("/user/profile?includes_trashed=true")).map(U=>gu(U)),[S]),xe=g.useCallback(async()=>(await S("/roles?includes_trashed=true")).map(U=>({id:String(U.id),name:U.name,description:U.description||`${U.name} role`,permissions:U.permissions.map(String),isSuperadmin:U.name==="superadmin"})),[S]),Me=g.useCallback(async G=>{const U=await S("/roles?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:G.name,description:G.description,permissions:G.permissions.map(Number)})});return{id:String(U.id),name:U.name,description:U.description,permissions:U.permissions.map(String)}},[S]),Be=g.useCallback(async(G,U)=>{var gt;const de=await S(`/roles/${G}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:U.name,description:U.description,permissions:(gt=U.permissions)==null?void 0:gt.map(Number)})});return{id:String(de.id),name:de.name,description:de.description,permissions:de.permissions.map(String)}},[S]),re=g.useCallback(async G=>{await S(`/roles/${G}?includes_trashed=true`,{method:"DELETE"})},[S]),se=g.useCallback(async(G,U)=>{const de=await S(`/users/${G}?includes_trashed=true`),gt=await S(`/users/${G}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:de.name,nik:de.nik,email:de.email,department:de.department,roleId:U.roleId||null,customPermissions:U.customPermissions||[]})});return gu(gt)},[S]),ee=g.useCallback(async G=>{await S(`/users/${G}?includes_trashed=true`,{method:"DELETE"})},[S]),ve=g.useCallback(async()=>{try{return(await S("/service-groups?includes_trashed=true")).data||[]}catch(G){return console.error("Failed to fetch service groups:",G),[]}},[S]),Ge=g.useCallback(async G=>{try{return(await S(`/service-groups/${G}?includes_trashed=true`)).data}catch(U){throw console.error(`Failed to fetch service group with id ${G}:`,U),U}},[S]),Ke=g.useCallback(async G=>{try{const U=await S("/service-groups?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(G)});if(!U)throw new Error("No response from server");if(U.success===!1)throw new Error(U.message||"Failed to create service group");const de=U.data||U;return{id:de.id,group_name:de.group_name,group_description:de.group_description}}catch(U){throw console.error("Error adding service group:",U),new Error(`Failed to add service group: ${U instanceof Error?U.message:String(U)}`)}},[S]),ye=g.useCallback(async(G,U)=>{try{const de=await S(`/service-groups/${G}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(U)}),gt=de.data||de;return{id:gt.id,group_name:gt.group_name,group_description:gt.group_description}}catch(de){throw console.error(`Failed to update service group with id ${G}:`,de),new Error(`Failed to update service group: ${de instanceof Error?de.message:String(de)}`)}},[S]),ot=g.useCallback(async G=>{try{await S(`/service-groups/${G}?includes_trashed=true`,{method:"DELETE"})}catch(U){throw console.error(`Failed to delete service group with id ${G}:`,U),new Error(`Failed to delete service group: ${U instanceof Error?U.message:String(U)}`)}},[S]),mt=g.useCallback(async G=>{try{return(await S("/service-catalogues?includes_trashed=true")).data.map(de=>({id:de.id,service_name:de.service_name,service_description:de.service_description,service_type:de.service_type,priority:de.priority,service_owner:de.service_owner,sla:de.sla,impact:de.impact,created_at:de.created_at,updated_at:de.updated_at}))}catch(U){return console.error("Failed to fetch services:",U),[]}},[S]),nt=g.useCallback(async G=>{try{const U=await S(`/service-catalogues?owner=${G}&includes_trashed=true`);return U.data||U}catch(U){return console.error("Failed to fetch services by owner:",U),[]}},[S]),xt=g.useCallback(async G=>{try{const U=await S("/service-catalogues?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(G)}),de=U.data||U;return{id:de.id,service_name:de.service_name,service_description:de.service_description,service_type:de.service_type,priority:de.priority,service_owner:de.service_owner,sla:de.sla,impact:de.impact,created_at:de.created_at,updated_at:de.updated_at}}catch(U){throw console.error("Error adding service catalogue:",U),new Error(`Failed to add service catalogue: ${U instanceof Error?U.message:String(U)}`)}},[S]),Nt=g.useCallback(async(G,U)=>{try{const de=await S(`/service-catalogues/${G}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(U)}),gt=de.data||de;return{id:gt.id,service_name:gt.service_name,service_description:gt.service_description,service_type:gt.service_type,priority:gt.priority,service_owner:gt.service_owner,sla:gt.sla,impact:gt.impact,created_at:gt.created_at,updated_at:gt.updated_at}}catch(de){throw console.error(`Failed to update service catalogue with id ${G}:`,de),new Error(`Failed to update service catalogue: ${de instanceof Error?de.message:String(de)}`)}},[S]),wt=g.useCallback(async G=>{try{await S(`/service-catalogues/${G}?includes_trashed=true`,{method:"DELETE"})}catch(U){throw console.error(`Failed to delete service catalogue with id ${G}:`,U),new Error(`Failed to delete service catalogue: ${U instanceof Error?U.message:String(U)}`)}},[S]),zt=g.useCallback(G=>{w(G)},[]),rt=g.useCallback(async()=>{try{const G=await S("/department?includes_trashed=true");return G.data||G}catch(G){return console.error("Failed to fetch departments:",G),[]}},[S]),Ne=g.useCallback(async G=>(await S(`/department/${G}?includes_trashed=true`)).data,[S]),ze=g.useCallback(async G=>await S("/department?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(G)}),[S]),we=g.useCallback(async(G,U)=>{try{const de=await S(`/department/${G}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(U)}),gt=de.data||de;return{id:gt.id,name:gt.name,head_id:gt.head_id}}catch(de){throw console.error(`Failed to update service group with id ${G}:`,de),new Error(`Failed to update service group: ${de instanceof Error?de.message:String(de)}`)}},[S]),ut=g.useCallback(async G=>{try{await S(`/department/${G}?includes_trashed=true`,{method:"DELETE"})}catch(U){throw console.error(`Failed to delete service catalogue with id ${G}:`,U),new Error(`Failed to delete service catalogue: ${U instanceof Error?U.message:String(U)}`)}},[S]),ht=g.useCallback(async()=>{try{const G=await S("/stoptime?includes_trashed=true");return Array.isArray(G)?G:G&&Array.isArray(G.data)?G.data:(console.warn("Unexpected stop times response format:",G),[])}catch(G){return console.error("Failed to fetch stop times:",G),[]}},[S]),We=g.useCallback(async G=>{try{const U=await S(`/stoptime/${G}`);if(console.log("StopTimes by ID response:",U),U&&typeof U=="object")return U.data?U.data:U;throw new Error("Invalid response format")}catch(U){throw console.error(`Failed to fetch stop time with id ${G}:`,U),new Error(`Failed to fetch stop time: ${U instanceof Error?U.message:String(U)}`)}},[S]),he=g.useCallback(async G=>{try{return await S("/stoptime?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(G)})}catch(U){throw console.error("Error adding stop time:",U),new Error(`Failed to add stop time: ${U instanceof Error?U.message:String(U)}`)}},[S]),Je=g.useCallback(async(G,U)=>{try{const de=await S(`/stoptime/${G}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(U)});if(console.log("Update stop time response:",de),de&&typeof de=="object")return de.data?de.data:de;throw new Error("Invalid response format")}catch(de){throw console.error(`Failed to update stop time with id ${G}:`,de),new Error(`Failed to update stop time: ${de instanceof Error?de.message:String(de)}`)}},[S]),Ue=g.useCallback(async G=>{try{await S(`/stoptime/${G}?includes_trashed=true`,{method:"DELETE"})}catch(U){throw console.error(`Failed to delete stop time with id ${G}:`,U),new Error(`Failed to delete stop time: ${U instanceof Error?U.message:String(U)}`)}},[S]),ae=g.useCallback(async()=>{try{const G=await S("/jenisaktifitas?includes_trashed=true");return Array.isArray(G)?G:G&&Array.isArray(G.data)?G.data:(console.warn("Unexpected jenis aktifitas response format:",G),[])}catch(G){return console.error("Failed to fetch jenis aktifitas:",G),[]}},[S]),ne=g.useCallback(async G=>{try{const U=await S(`/jenisaktifitas/${G}`);if(console.log("Jenis Aktifitas by ID response:",U),U&&typeof U=="object")return U.data?U.data:U;throw new Error("Invalid response format")}catch(U){throw console.error(`Failed to fetch jenis aktifitas with id ${G}:`,U),new Error(`Failed to fetch jenis aktifitas: ${U instanceof Error?U.message:String(U)}`)}},[S]),Te=g.useCallback(async G=>{try{return await S("/jenisaktifitas?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(G)})}catch(U){throw console.error("Error adding jenis aktifitas:",U),new Error(`Failed to add jenis aktifitas: ${U instanceof Error?U.message:String(U)}`)}},[S]),et=g.useCallback(async(G,U)=>{try{const de=await S(`/jenisaktifitas/${G}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(U)});if(console.log("Update jenis aktifitas response:",de),de&&typeof de=="object")return de.data?de.data:de;throw new Error("Invalid response format")}catch(de){throw console.error(`Failed to update jenis aktifitas with id ${G}:`,de),new Error(`Failed to update jenis aktifitas: ${de instanceof Error?de.message:String(de)}`)}},[S]),ct=g.useCallback(async G=>{try{await S(`/jenisaktifitas/${G}?includes_trashed=true`,{method:"DELETE"})}catch(U){throw console.error(`Failed to delete jenis aktifitas with id ${G}:`,U),new Error(`Failed to delete jenis aktifitas: ${U instanceof Error?U.message:String(U)}`)}},[S]),pe=g.useCallback(async()=>{try{const G=await S("/kegiatan?includes_trashed=true");return Array.isArray(G)?G:G&&Array.isArray(G.data)?G.data:(console.warn("Unexpected activity response format:",G),[])}catch(G){return console.error("Failed to fetch activity:",G),[]}},[S]),B=g.useCallback(async G=>{try{const U=await S(`/kegiatan/${G}?includes_trashed=true`);if(console.log("Activity by ID response:",U),U&&typeof U=="object")return U.data?U.data:U;throw new Error("Invalid response format")}catch(U){throw console.error(`Failed to fetch activity with id ${G}:`,U),new Error(`Failed to fetch activity: ${U instanceof Error?U.message:String(U)}`)}},[S]),ce=g.useCallback(async G=>{try{return await S("/kegiatan?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(G)})}catch(U){throw console.error("Error adding activity:",U),new Error(`Failed to add activity: ${U instanceof Error?U.message:String(U)}`)}},[S]),be=g.useCallback(async(G,U)=>{try{const de=await S(`/kegiatan/${G}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(U)});if(console.log("Update activity response:",de),de&&typeof de=="object")return de.data?de.data:de;throw new Error("Invalid response format")}catch(de){throw console.error(`Failed to update activity with id ${G}:`,de),new Error(`Failed to update activity: ${de instanceof Error?de.message:String(de)}`)}},[S]),Se=g.useCallback(async G=>{try{await S(`/kegiatan/${G}?includes_trashed=true`,{method:"DELETE"})}catch(U){throw console.error(`Failed to delete activity with id ${G}:`,U),new Error(`Failed to delete activity: ${U instanceof Error?U.message:String(U)}`)}},[S]),$e=g.useCallback(async()=>{try{const G=await S("/itemtrouble?includes_trashed=true");return Array.isArray(G)?G:G&&Array.isArray(G.data)?G.data:(console.warn("Unexpected trouble item response format:",G),[])}catch(G){return console.error("Failed to fetch trouble item:",G),[]}},[S]),ue=g.useCallback(async G=>{try{const U=await S(`/itemtrouble/${G}?includes_trashed=true`);if(console.log("Trouble Item by ID response:",U),U&&typeof U=="object")return U.data?U.data:U;throw new Error("Invalid response format")}catch(U){throw console.error(`Failed to fetch trouble item with id ${G}:`,U),new Error(`Failed to fetch trouble item: ${U instanceof Error?U.message:String(U)}`)}},[S]),fe=g.useCallback(async G=>{try{return await S("/itemtrouble?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(G)})}catch(U){throw console.error("Error adding trouble item:",U),new Error(`Failed to add trouble item: ${U instanceof Error?U.message:String(U)}`)}},[S]),Ae=g.useCallback(async(G,U)=>{try{const de=await S(`/itemtrouble/${G}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(U)});if(console.log("Update trouble item response:",de),de&&typeof de=="object")return de.data?de.data:de;throw new Error("Invalid response format")}catch(de){throw console.error(`Failed to update trouble item with id ${G}:`,de),new Error(`Failed to update trouble item: ${de instanceof Error?de.message:String(de)}`)}},[S]),tt=g.useCallback(async G=>{try{await S(`/itemtrouble/${G}?includes_trashed=true`,{method:"DELETE"})}catch(U){throw console.error(`Failed to delete trouble item with id ${G}:`,U),new Error(`Failed to delete trouble item: ${U instanceof Error?U.message:String(U)}`)}},[S]),dt=g.useCallback(async()=>{try{const G=await S("/unit?includes_trashed=true");return Array.isArray(G)?G:G&&Array.isArray(G.data)?G.data:(console.warn("Unexpected Work Unit response format:",G),[])}catch(G){return console.error("Failed to fetch Work Unit:",G),[]}},[S]),pt=g.useCallback(async G=>{try{const U=await S(`/unit/${G}?includes_trashed=true`);if(console.log("Work Unit by ID response:",U),U&&typeof U=="object")return U.data?U.data:U;throw new Error("Invalid response format")}catch(U){throw console.error(`Failed to fetch work unit with id ${G}:`,U),new Error(`Failed to fetch work unit: ${U instanceof Error?U.message:String(U)}`)}},[S]),Ee=g.useCallback(async G=>{try{return await S("/unit?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(G)})}catch(U){throw console.error("Error adding work unit:",U),new Error(`Failed to add work unit: ${U instanceof Error?U.message:String(U)}`)}},[S]),Ye=g.useCallback(async(G,U)=>{try{const de=await S(`/unit/${G}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(U)});if(console.log("Update work unit response:",de),de&&typeof de=="object")return de.data?de.data:de;throw new Error("Invalid response format")}catch(de){throw console.error(`Failed to update work unit with id ${G}:`,de),new Error(`Failed to update work unit: ${de instanceof Error?de.message:String(de)}`)}},[S]),bt=g.useCallback(async G=>{try{await S(`/unit/${G}?includes_trashed=true`,{method:"DELETE"})}catch(U){throw console.error(`Failed to delete work unit with id ${G}:`,U),new Error(`Failed to delete work unit: ${U instanceof Error?U.message:String(U)}`)}},[S]),Qt=g.useCallback(async()=>{try{const G=await S("/group?includes_trashed=true");return Array.isArray(G)?G:G&&Array.isArray(G.data)?G.data:(console.warn("Unexpected Work Group response format:",G),[])}catch(G){return console.error("Failed to fetch Work Group:",G),[]}},[S]),Dr=g.useCallback(async G=>{try{const U=await S(`/group/${G}?includes_trashed=true`);if(console.log("Work Group by ID response:",U),U&&typeof U=="object")return U.data?U.data:U;throw new Error("Invalid response format")}catch(U){throw console.error(`Failed to fetch work group with id ${G}:`,U),new Error(`Failed to fetch work group: ${U instanceof Error?U.message:String(U)}`)}},[S]),Vr=g.useCallback(async G=>{try{return await S("/group?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(G)})}catch(U){throw console.error("Error adding work group:",U),new Error(`Failed to add work group: ${U instanceof Error?U.message:String(U)}`)}},[S]),Ot=g.useCallback(async(G,U)=>{try{const de=await S(`/group/${G}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(U)});if(console.log("Update work group response:",de),de&&typeof de=="object")return de.data?de.data:de;throw new Error("Invalid response format")}catch(de){throw console.error(`Failed to update work group with id ${G}:`,de),new Error(`Failed to update work group: ${de instanceof Error?de.message:String(de)}`)}},[S]),dr=g.useCallback(async G=>{try{await S(`/group/${G}?includes_trashed=true`,{method:"DELETE"})}catch(U){throw console.error(`Failed to delete work group with id ${G}:`,U),new Error(`Failed to delete work group: ${U instanceof Error?U.message:String(U)}`)}},[S]),Rt=g.useCallback(async()=>{try{const G=await S("/shift?includes_trashed=true");return Array.isArray(G)?G:G&&Array.isArray(G.data)?G.data:(console.warn("Unexpected Work Shift response format:",G),[])}catch(G){return console.error("Failed to fetch Work Shift:",G),[]}},[S]),Or=g.useCallback(async G=>{try{const U=await S(`/shift/${G}?includes_trashed=true`);if(console.log("Work Shift by ID response:",U),U&&typeof U=="object")return U.data?U.data:U;throw new Error("Invalid response format")}catch(U){throw console.error(`Failed to fetch work shift with id ${G}:`,U),new Error(`Failed to fetch work shift: ${U instanceof Error?U.message:String(U)}`)}},[S]),_e=g.useCallback(async G=>{try{return await S("/shift?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(G)})}catch(U){throw console.error("Error adding work shift:",U),new Error(`Failed to add work shift: ${U instanceof Error?U.message:String(U)}`)}},[S]),De=g.useCallback(async(G,U)=>{try{const de=await S(`/shift/${G}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(U)});if(console.log("Update work shift response:",de),de&&typeof de=="object")return de.data?de.data:de;throw new Error("Invalid response format")}catch(de){throw console.error(`Failed to update work shift with id ${G}:`,de),new Error(`Failed to update work shift: ${de instanceof Error?de.message:String(de)}`)}},[S]),Ze=g.useCallback(async G=>{try{await S(`/shift/${G}?includes_trashed=true`,{method:"DELETE"})}catch(U){throw console.error(`Failed to delete work shift with id ${G}:`,U),new Error(`Failed to delete work shift: ${U instanceof Error?U.message:String(U)}`)}},[S]),K=g.useCallback(async G=>{try{const U=await S(`/unit/${G}?includes_trashed=true`);if(console.log("Unit by ID response:",U),U&&typeof U=="object")return U.success!==void 0&&U.data?U.data:U;throw new Error("Invalid response format")}catch(U){throw console.error(`Failed to fetch unit with id ${G}:`,U),new Error(`Failed to fetch unit: ${U instanceof Error?U.message:String(U)}`)}},[S]),ke=g.useCallback(async G=>{try{const U=await S(`/mesin/${G}?includes_trashed=true`);if(console.log("Mesin by ID response:",U),U&&typeof U=="object")return U.success!==void 0&&U.data?U.data:U;throw new Error("Invalid response format")}catch(U){throw console.error(`Failed to fetch mesin with id ${G}:`,U),new Error(`Failed to fetch mesin: ${U instanceof Error?U.message:String(U)}`)}},[S]),He=g.useCallback(async()=>{try{const G=await S("/unit?includes_trashed=true");let U=[];return Array.isArray(G)?U=G:G&&Array.isArray(G.data)&&(U=G.data),await Promise.all(U.map(async gt=>{try{const gr=await S(`/unit/${gt.id}?includes_trashed=true`);let Tr=gr;return gr&&gr.success!==void 0&&gr.data&&(Tr=gr.data),{id:Tr.id,name:Tr.name,created_at:Tr.created_at,updated_at:Tr.updated_at,deleted_at:Tr.deleted_at,mesin:Tr.mesin||[]}}catch(gr){return console.error(`Failed to get detail for unit ${gt.id}:`,gr),{id:gt.id,name:gt.name,created_at:gt.created_at,updated_at:gt.updated_at,deleted_at:gt.deleted_at,mesin:[]}}}))}catch(G){return console.error("Failed to fetch units with machines:",G),[]}},[S]),Pt=g.useCallback(async()=>{try{const G=await S("/interval?includes_trashed=true");let U=[];Array.isArray(G)?U=G:G&&Array.isArray(G.data)&&(U=G.data);const de=await He(),gt=await S("/mesin?includes_trashed=true");let gr=[];return Array.isArray(gt)?gr=gt:gt&&Array.isArray(gt.data)&&(gr=gt.data),{unit:de,mesin:gr,unitsWithMachines:de,intervals:U}}catch(G){return console.error("Error fetching master monitoring data:",G),{unit:[],mesin:[],unitsWithMachines:[],intervals:[]}}},[S,He]),fr=g.useCallback(async()=>{try{const G=await S("/monitoring-schedules?includes_trashed=true");if(Array.isArray(G))return G;if(G&&G.success!==void 0){if(G.success&&Array.isArray(G.data))return G.data;if(G.success&&Array.isArray(G.result))return G.result}return G&&Array.isArray(G.data)?G.data:G&&Array.isArray(G.result)?G.result:(console.warn("Unexpected monitoring schedule response format:",G),[])}catch(G){throw console.error("Error fetching monitoring schedule:",G),new Error(`Failed to fetch monitoring schedule: ${G instanceof Error?G.message:String(G)}`)}},[S]),Tt=g.useCallback(async G=>{try{const U=await S(`/monitoring-schedules/${G}?includes_trashed=true`);if(console.log("Monitoring schedule by ID response:",U),U&&U.success!==void 0){if(U.success&&U.data)return U.data;if(!U.success)throw new Error(U.message||"Failed to fetch monitoring schedule")}if(U&&U.id_monitoring_schedule)return U;if(Array.isArray(U)&&U.length>0)return U[0];throw new Error("Invalid response format")}catch(U){if(console.error(`Failed to fetch monitoring schedule with id ${G}:`,U),U instanceof Error){if(U.message.includes("404"))throw new Error(`Monitoring schedule with id ${G} not found`);if(U.message.includes("401"))throw new Error("Unauthorized - Please login again")}throw new Error(`Failed to fetch monitoring schedule: ${U instanceof Error?U.message:String(U)}`)}},[S]),Bt=g.useCallback(async G=>{try{const U=await S("/monitoring-schedules",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(G)});if(!U)throw new Error("No response from server");if(U.success===!1)throw new Error(U.message||"Failed to create monitoring schedule");const de=U.data||U.result||U;if(!de)throw new Error("Invalid response format");return de}catch(U){if(console.error("Error adding monitoring schedule:",U),U instanceof Error){if(U.message.includes("401"))throw new Error("Unauthorized - Please login again");if(U.message.includes("404"))throw new Error("Endpoint not found");if(U.message.includes("500"))throw new Error("Server error - Please try again later")}throw new Error(`Failed to add monitoring schedule: ${U instanceof Error?U.message:String(U)}`)}},[S]),pr=g.useCallback(async G=>{try{const U=await S("/monitoring-activities",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(G)});return Array.isArray(U)?U:U&&Array.isArray(U.data)?U.data:(console.warn("Unexpected response format from monitoring-activities POST:",U),[])}catch(U){throw console.error("Error adding monitoring activities:",U),new Error(`Failed to add monitoring activities: ${U instanceof Error?U.message:String(U)}`)}},[S]),xr=g.useCallback(async G=>{try{const U=G.map(gt=>({id_monitoring_activity:gt.id,...gt.data})),de=await S("/monitoring-activities-batch",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(U)});return Array.isArray(de)?de:de&&Array.isArray(de.data)?de.data:(console.warn("Unexpected response format from monitoring-activities-batch PATCH:",de),[])}catch(U){throw console.error("Error updating monitoring activities:",U),new Error(`Failed to update monitoring activities: ${U instanceof Error?U.message:String(U)}`)}},[S]),yn=g.useCallback(async G=>{try{const U=await S(`/mesin/${G}?includes_trashed=true`);return console.log("Mesin detail response:",U),U&&U.success!==void 0?U.data:U}catch(U){throw console.error(`Failed to fetch mesin detail with id ${G}:`,U),new Error(`Failed to fetch mesin detail: ${U instanceof Error?U.message:String(U)}`)}},[S]),Cr=g.useCallback(async()=>{try{const G=await S("/vendor?includes_trashed=true");return G.data||G}catch(G){return console.error("Failed to fetch vendor:",G),[]}},[S]),Ms=g.useCallback(async G=>(await S(`/vendor/${G}?includes_trashed=true`)).data,[S]),or=g.useCallback(async G=>await S("/vendor?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(G)}),[S]),Lo=g.useCallback(async(G,U)=>{try{const de=await S(`/vendor/${G}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(U)}),gt=de.data||de;return{id:gt.id,name:gt.name,address:gt.address,contact_person:gt.contact_person,email:gt.email,telp:gt.telp,HP:gt.HP}}catch(de){throw console.error(`Failed to update vendor with id ${G}:`,de),new Error(`Failed to update vendor: ${de instanceof Error?de.message:String(de)}`)}},[S]),Qn=g.useCallback(async G=>{try{await S(`/vendor/${G}?includes_trashed=true`,{method:"DELETE"})}catch(U){throw console.error(`Failed to delete vendor with id ${G}:`,U),new Error(`Failed to delete vendor: ${U instanceof Error?U.message:String(U)}`)}},[S]),ba=g.useCallback(async()=>{try{const G=await S("/approval-templates?includes_trashed=true");return G.data||G}catch(G){return console.error("Failed to fetch approval templates:",G),[]}},[S]),Yr=g.useCallback(async G=>await S(`/approval-templates/${G}?includes_trashed=true`),[S]),Dn=g.useCallback(async G=>{const U=await S("/approval-templates?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(G)});return U.data||U},[S]),Kr=g.useCallback(async(G,U)=>{const de=await S(`/approval-templates/${G}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(U)});return de.data||de},[S]),Nd=g.useCallback(async G=>{await S(`/approval-templates/${G}?includes_trashed=true`,{method:"DELETE"})},[S]),kd=g.useCallback(async(G,U)=>{const de=await S(`/approval-templates/${G}/approvers?includes_trashed=true`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(U)});return de.data||de},[S]),Zc=g.useCallback(async(G,U,de)=>{const gt=await S(`/template-approvers/${U}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(de)});return gt.data||gt},[S]),Tg=g.useCallback(async(G,U)=>{await S(`/template-approvers/${U}?includes_trashed=true`,{method:"DELETE"})},[S]),Cd=g.useCallback(async G=>(await S(`/approval-templates/${G}?includes_trashed=true`)).approvers||[],[S]),q1=g.useCallback(async G=>{const U=await S(`/approval-templates/${G}/set-active?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"}});return U.data||U},[S]),gs=g.useCallback(async(G,U)=>{const de=await S(`/schedules/${G}/approve`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({comments:U})});return de&&de.message?{success:!0,message:de.message,data:de.data||de}:de},[S]),Qh=g.useCallback(async()=>{try{const G=await S("/workarea?includes_trashed=true");return G.data||G}catch(G){return console.error("Failed to fetch workarea:",G),[]}},[S]),_g=g.useCallback(async G=>(await S(`/workarea/${G}?includes_trashed=true`)).data,[S]),Zh=g.useCallback(async G=>await S("/workarea?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(G)}),[S]),Wl=g.useCallback(async(G,U)=>{try{const de=await S(`/workarea/${G}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(U)}),gt=de.data||de;return{id:gt.id,work_area:gt.work_area}}catch(de){throw console.error(`Failed to update work area with id ${G}:`,de),new Error(`Failed to update work area: ${de instanceof Error?de.message:String(de)}`)}},[S]),Mg=g.useCallback(async G=>{try{await S(`/workarea/${G}?includes_trashed=true`,{method:"DELETE"})}catch(U){throw console.error(`Failed to delete work area with id ${G}:`,U),new Error(`Failed to delete work area: ${U instanceof Error?U.message:String(U)}`)}},[S]);return a.jsx(Zz.Provider,{value:{user:e,token:n,isAuthenticated:!!n,login:Y,register:z,logout:N,isLoggingOut:i,fetchWithAuth:S,getAllMasterData:A,submitMachineHistory:W,getMachineHistories:H,getMachineHistoryById:P,updateMachineHistory:F,deleteMachineHistory:X,masterData:l,isMasterDataLoading:d,addWorkOrderIT:te,getWorkOrdersIT:q,updateWorkOrderIT:ie,deleteWorkOrder:oe,getWorkOrderById:Z,departments:[],services:[],serviceGroups:[],getServices:mt,getServicesByOwner:nt,addServiceCatalogue:xt,updateServiceCatalogue:Nt,deleteServiceCatalogue:wt,getServiceGroups:ve,getServiceGroup:Ge,addServiceGroup:Ke,updateServiceGroup:ye,deleteServiceGroup:ot,changePassword:ge,fetchUser:O,fetchedUsers:Oe,getUsers:Le,hasPermission:R,setEditingUser:zt,getRoles:xe,createRole:Me,updateRole:Be,deleteRole:re,updateUserPermissions:se,deleteUser:ee,isAuthLoading:m,getAssetsData:E,addAsset:D,editAsset:$,deleteAsset:I,getWorkOrdersForUser:le,getAuditTrail:L,getDepartment:rt,getDepartmentById:Ne,addDepartment:ze,updateDepartment:we,deleteDepartment:ut,getMonitoringSchedules:fr,addMonitoringSchedule:Bt,addMonitoringActivities:pr,updateMonitoringActivity:xr,getStopTimes:ht,getStopTimesById:We,addStopTimes:he,updateStopTimes:Je,deleteStopTimes:Ue,getActivityTypes:ae,getActivityTypesById:ne,addActivityTypes:Te,updateActivityTypes:et,deleteActivityTypes:ct,getActivity:pe,getActivityById:B,addActivity:ce,updateActivity:be,deleteActivity:Se,getTroubleItem:$e,getTroubleItemById:ue,addTroubleItem:fe,updateTroubleItem:Ae,deleteTroubleItem:tt,getWorkUnit:dt,getWorkUnitById:pt,addWorkUnit:Ee,updateWorkUnit:Ye,deleteWorkUnit:bt,getWorkGroup:Qt,getWorkGroupById:Dr,addWorkGroup:Vr,updateWorkGroup:Ot,deleteWorkGroup:dr,getWorkShift:Rt,getWorkShiftById:Or,addWorkShift:_e,updateWorkShift:De,deleteWorkShift:Ze,getUnit:K,getMesin:ke,getUnitsWithMachines:He,getAllMasterMonitoring:Pt,getMesinDetail:yn,getMonitoringScheduleById:Tt,getVendor:Cr,getVendorById:Ms,addVendor:or,updateVendor:Lo,deleteVendor:Qn,getApprovalTemplates:ba,getApprovalTemplateById:Yr,createApprovalTemplate:Dn,updateApprovalTemplate:Kr,deleteApprovalTemplate:Nd,addApproverToTemplate:kd,updateApprover:Zc,deleteApprover:Tg,getTemplateApprovers:Cd,setApprovalTemplateActive:q1,approveSchedule:gs,getWorkArea:Qh,getWorkAreaById:_g,addWorkArea:Zh,updateWorkArea:Wl,deleteWorkArea:Mg},children:t})},St=()=>{const t=g.useContext(Zz);if(!t)throw new Error("useAuth must be used within AuthProvider");return t},Vf="/assets/logo-wida-OsCBOu3a.png";var eV={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},i6=J.createContext&&J.createContext(eV),ore=["attr","size","title"];function lre(t,e){if(t==null)return{};var r=cre(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function cre(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function fb(){return fb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fb.apply(this,arguments)}function o6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function hb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?o6(Object(r),!0).forEach(function(n){ure(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ure(t,e,r){return e=dre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dre(t){var e=fre(t,"string");return typeof e=="symbol"?e:e+""}function fre(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tV(t){return t&&t.map((e,r)=>J.createElement(e.tag,hb({key:r},e.attr),tV(e.child)))}function _i(t){return e=>J.createElement(hre,fb({attr:hb({},t.attr)},e),tV(t.child))}function hre(t){var e=r=>{var{attr:n,size:s,title:i}=t,o=lre(t,ore),l=s||r.size||"1em",c;return r.className&&(c=r.className),t.className&&(c=(c?c+" ":"")+t.className),J.createElement("svg",fb({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,o,{className:c,style:hb(hb({color:t.color||r.color},r.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),i&&J.createElement("title",null,i),t.children)};return i6!==void 0?J.createElement(i6.Consumer,null,r=>e(r)):e(eV)}function Bx(t){return _i({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"},child:[]}]})(t)}function vA(t){return _i({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 19 5 12 12 5"},child:[]}]})(t)}function mre(t){return _i({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"},child:[]}]})(t)}function pre(t){return _i({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(t)}function gre(t){return _i({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"18 15 12 9 6 15"},child:[]}]})(t)}function By(t){return _i({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"},child:[]},{tag:"line",attr:{x1:"1",y1:"1",x2:"23",y2:"23"},child:[]}]})(t)}function zy(t){return _i({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(t)}function xre(t){return _i({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},child:[]},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"},child:[]}]})(t)}function l6(t){return _i({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12.01",y2:"8"},child:[]}]})(t)}function c6(t){return _i({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 10 0v4"},child:[]}]})(t)}function yre(t){return _i({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(t)}function bre(t){return _i({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"line",attr:{x1:"20",y1:"8",x2:"20",y2:"14"},child:[]},{tag:"line",attr:{x1:"23",y1:"11",x2:"17",y2:"11"},child:[]}]})(t)}const zx=["Hello","Bonjour","Holla"," ","Salam","","Hallo","Namaste",""],vre=()=>{const[t,e]=g.useState(""),[r,n]=g.useState(""),[s,i]=g.useState(!1),[o,l]=g.useState(""),[c,d]=g.useState(!1),[h,m]=g.useState(!1),[x,y]=g.useState(zx[0]),[w,j]=g.useState(!1),{login:v}=St(),N=jt();g.useEffect(()=>{m(!0);let A;const E=setInterval(()=>{j(!0),A=setTimeout(()=>{y(D=>{const I=(zx.indexOf(D)+1)%zx.length;return zx[I]}),j(!1)},500)},3e3);return()=>{clearInterval(E),clearTimeout(A)}},[]);const T={fontSize:"3rem",fontFamily:"sans-serif",transition:"opacity 0.5s ease-in-out, transform 0.5s ease-in-out"},S=w?{opacity:0,transform:"translateY(-20px)"}:{opacity:1,transform:"translateY(0)"},O=async A=>{A.preventDefault(),l(""),d(!0);try{await v(t,r),N("/dashboard")}catch(E){l(E instanceof Error?E.message:"Login failed")}finally{d(!1)}},_=()=>{i(!s)};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-white to-blue-50 p-4 font-sans",children:a.jsxs("div",{className:`flex flex-col lg:flex-row w-full max-w-6xl mx-auto bg-white rounded-xl shadow-lg overflow-hidden
                    transform transition-all duration-700 ease-out ${h?"translate-y-0 opacity-100":"translate-y-10 opacity-0"}`,children:[a.jsxs("div",{className:"w-full lg:w-1/2 p-6 sm:p-10 md:p-12 flex flex-col justify-center",children:[a.jsxs("div",{className:`flex items-center space-x-2 mb-8 transition-opacity duration-700 ease-out delay-200 ${h?"opacity-100":"opacity-0"}`,children:[a.jsx("img",{src:Vf,alt:"Logo Wida",className:"h-10 w-auto"}),a.jsx("span",{className:"text-xl font-bold text-blue-800 italic",children:"PT WIDATRA BHAKTI"})]}),a.jsx("h1",{style:{...T,...S},className:`text-3xl font-bold transition-opacity duration-700 ease-out delay-300 ${h?"opacity-100":"opacity-0"}`,children:x}),a.jsx("h1",{className:"text-5xl font-bold mb-2 transition-opacity duration-700 ease-out delay-300 font-sans",children:"Welcome Back"}),a.jsx("p",{className:`text-gray-600 mb-8 transition-opacity duration-700 ease-out delay-400 ${h?"opacity-100":"opacity-0"}`,children:"Hey, welcome back to your special place"}),o&&a.jsxs("div",{role:"alert",className:"mb-6 text-sm text-red-700 bg-red-50 border border-red-100 px-4 py-3 rounded-md flex items-start animate-fade-in",children:[a.jsx("svg",{className:"w-4 h-4 mt-0.5 mr-2 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),a.jsx("span",{children:o})]}),a.jsxs("form",{onSubmit:O,className:"space-y-6","aria-label":"Login Form",children:[a.jsxs("div",{className:`transition-all duration-500 ease-out delay-500 ${h?"translate-x-0 opacity-100":"-translate-x-5 opacity-0"}`,children:[a.jsx("label",{htmlFor:"nik",className:"block text-sm font-medium text-gray-700 mb-1",children:"NIK"}),a.jsx("input",{id:"nik",type:"text",placeholder:"Masukkan NIK Anda (16 digit)",value:t,onChange:A=>e(A.target.value),required:!0,autoComplete:"off",className:`w-full px-4 py-3 text-base rounded-md border border-gray-300\r
                          focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 focus:shadow-md\r
                          transition-all duration-300 ease-in-out`})]}),a.jsxs("div",{className:`transition-all duration-500 ease-out delay-600 ${h?"translate-x-0 opacity-100":"-translate-x-5 opacity-0"}`,children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{id:"password",type:s?"text":"password",placeholder:"",value:r,onChange:A=>n(A.target.value),required:!0,autoComplete:"current-password",className:`w-full px-4 py-3 text-base rounded-md border border-gray-300\r
                            focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 focus:shadow-md\r
                            transition-all duration-300 ease-in-out pr-10`}),a.jsx("button",{type:"button",onClick:_,className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-500 hover:text-gray-700 transition-colors duration-200","aria-label":s?"Hide password":"Show password",children:s?a.jsx(By,{size:18}):a.jsx(zy,{size:18})})]}),a.jsx("div",{className:"flex justify-end mt-2",children:a.jsx("a",{href:"/forgot-password",className:"text-sm text-blue-600 hover:text-blue-800 hover:underline transition-all duration-200",children:"Forgot Password?"})})]}),a.jsxs("div",{className:`flex items-center transition-all duration-500 ease-out delay-700 ${h?"translate-x-0 opacity-100":"-translate-x-5 opacity-0"}`,children:[a.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded transition-all duration-200"}),a.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-700",children:"Remember me"})]}),a.jsx("button",{type:"submit",disabled:c,className:`w-full py-3 px-4 rounded-md text-base font-medium
                          transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500
                          ${c?"bg-blue-400 text-white cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700 active:bg-blue-800 transform hover:-translate-y-0.5"}
                          flex items-center justify-center
                          ${h?"translate-y-0 opacity-100 delay-800":"translate-y-5 opacity-0"}`,children:c?a.jsxs(a.Fragment,{children:[a.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Authenticating..."]}):"Sign In"})]}),a.jsxs("p",{className:`text-sm text-center mt-6 transition-opacity duration-700 ease-out delay-900 ${h?"opacity-100":"opacity-0"}`,children:["Don't have an account?"," ",a.jsx(Lc,{to:"#",className:"text-blue-500 hover:text-blue-700 hover:underline transition-all duration-200",children:"Report to IT Department"})]}),a.jsx("div",{className:"mt-8 pt-5 border-t border-gray-100 text-center",children:a.jsxs("p",{className:`text-xs text-gray-500 transition-opacity duration-700 ease-out delay-1000 ${h?"opacity-100":"opacity-0"}`,children:[" ",new Date().getFullYear()," PT Widatra Bhakti. All rights reserved."]})})]}),a.jsxs("div",{className:`hidden lg:flex lg:w-1/2 bg-gradient-to-br from-blue-500 to-aqua-800 items-center justify-center relative p-8
                      transform transition-all duration-700 ease-out delay-300 ${h?"translate-x-0 opacity-100":"translate-x-10 opacity-0"}`,children:[a.jsx("div",{className:"absolute top-1/4 left-1/4 bg-white opacity-20 w-32 h-16 rounded-full blur-md animate-float"}),a.jsx("div",{className:"absolute bottom-1/3 right-1/4 bg-white opacity-20 w-48 h-24 rounded-full blur-md animate-float-delay"}),a.jsx("div",{className:"absolute top-8 right-8 bg-white opacity-20 w-24 h-12 rounded-full blur-md animate-float-fast"}),a.jsxs("div",{className:"relative w-64 h-96 bg-gray-800 rounded-3xl shadow-xl flex items-center justify-center p-4 transform scale-100 hover:scale-105 transition-transform duration-300 ease-in-out",children:[a.jsx("div",{className:"absolute top-0 w-16 h-2 bg-gray-700 rounded-b-lg"}),a.jsx("div",{className:"text-purple-300 animate-pulse-light",children:a.jsx("svg",{className:"w-24 h-24",fill:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{d:"M12 1C5.925 1 1 5.925 1 12s4.925 11 11 11 11-4.925 11-11S18.075 1 12 1zm0 20c-4.963 0-9-4.037-9-9s4.037-9 9-9 9 4.037 9 9-4.037 9-9 9zM10.5 7h3v3h-3V7zm-2 2h3v3h-3V9zm4 0h3v3h-3V9zm-2 2h3v3h-3v-3zm-2 2h3v3h-3v-3zm4 0h3v3h-3v-3zm-2 2h3v3h-3v-3z"})})}),a.jsxs("div",{className:"absolute bottom-10 left-0 right-0 text-center text-white text-sm",children:[a.jsx("div",{className:"w-3/4 mx-auto bg-gray-700 rounded-full h-1 mb-2",children:a.jsx("div",{className:"bg-purple-300 h-1 rounded-full w-2/3 animate-progress-fill"})}),a.jsx("p",{children:"Please enter your fingerprint to continue"})]})]}),a.jsx("div",{className:"absolute bottom-1/4 right-1 /4 bg-white opacity-80 rounded-2xl p-6 shadow-xl transform scale-95 hover:scale-100 transition-transform duration-300 ease-in-out",children:a.jsx("svg",{className:"w-16 h-16 text-gray-800",fill:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{d:"M12 2C9.243 2 7 4.243 7 7v4H6c-1.103 0-2 .897-2 2v7c0 1.103.897 2 2 2h12c1.103 0 2-.897 2-2v-7c0-1.103-.897-2-2-2h-1V7c0-2.757-2.243-5-5-5zm0 2c1.654 0 3 1.346 3 3v4h-6V7c0-1.654 1.346-3 3-3zM6 13h12v7H6v-7z"})})})]})]})})},wA=g.createContext({});function jA(t){const e=g.useRef(null);return e.current===null&&(e.current=t()),e.current}const SA=typeof window<"u",rV=SA?g.useLayoutEffect:g.useEffect,Mw=g.createContext(null);function NA(t,e){t.indexOf(e)===-1&&t.push(e)}function kA(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}const _l=(t,e,r)=>r>e?e:r<t?t:r;let CA=()=>{};const Ml={},nV=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function aV(t){return typeof t=="object"&&t!==null}const sV=t=>/^0[^.\s]+$/u.test(t);function TA(t){let e;return()=>(e===void 0&&(e=t()),e)}const vi=t=>t,wre=(t,e)=>r=>e(t(r)),ng=(...t)=>t.reduce(wre),Kp=(t,e,r)=>{const n=e-t;return n===0?1:(r-t)/n};class _A{constructor(){this.subscriptions=[]}add(e){return NA(this.subscriptions,e),()=>kA(this.subscriptions,e)}notify(e,r,n){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,r,n);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const go=t=>t*1e3,yi=t=>t/1e3;function iV(t,e){return e?t*(1e3/e):0}const oV=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,jre=1e-7,Sre=12;function Nre(t,e,r,n,s){let i,o,l=0;do o=e+(r-e)/2,i=oV(o,n,s)-t,i>0?r=o:e=o;while(Math.abs(i)>jre&&++l<Sre);return o}function ag(t,e,r,n){if(t===e&&r===n)return vi;const s=i=>Nre(i,0,1,t,r);return i=>i===0||i===1?i:oV(s(i),e,n)}const lV=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,cV=t=>e=>1-t(1-e),uV=ag(.33,1.53,.69,.99),MA=cV(uV),dV=lV(MA),fV=t=>(t*=2)<1?.5*MA(t):.5*(2-Math.pow(2,-10*(t-1))),AA=t=>1-Math.sin(Math.acos(t)),hV=cV(AA),mV=lV(AA),kre=ag(.42,0,1,1),Cre=ag(0,0,.58,1),pV=ag(.42,0,.58,1),Tre=t=>Array.isArray(t)&&typeof t[0]!="number",gV=t=>Array.isArray(t)&&typeof t[0]=="number",_re={linear:vi,easeIn:kre,easeInOut:pV,easeOut:Cre,circIn:AA,circInOut:mV,circOut:hV,backIn:MA,backInOut:dV,backOut:uV,anticipate:fV},Mre=t=>typeof t=="string",u6=t=>{if(gV(t)){CA(t.length===4);const[e,r,n,s]=t;return ag(e,r,n,s)}else if(Mre(t))return _re[t];return t},Vx=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Are(t,e){let r=new Set,n=new Set,s=!1,i=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(h){o.has(h)&&(d.schedule(h),t()),h(l)}const d={schedule:(h,m=!1,x=!1)=>{const w=x&&s?r:n;return m&&o.add(h),w.has(h)||w.add(h),h},cancel:h=>{n.delete(h),o.delete(h)},process:h=>{if(l=h,s){i=!0;return}s=!0,[r,n]=[n,r],r.forEach(c),r.clear(),s=!1,i&&(i=!1,d.process(h))}};return d}const Ore=40;function xV(t,e){let r=!1,n=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,o=Vx.reduce((S,O)=>(S[O]=Are(i),S),{}),{setup:l,read:c,resolveKeyframes:d,preUpdate:h,update:m,preRender:x,render:y,postRender:w}=o,j=()=>{const S=Ml.useManualTiming?s.timestamp:performance.now();r=!1,Ml.useManualTiming||(s.delta=n?1e3/60:Math.max(Math.min(S-s.timestamp,Ore),1)),s.timestamp=S,s.isProcessing=!0,l.process(s),c.process(s),d.process(s),h.process(s),m.process(s),x.process(s),y.process(s),w.process(s),s.isProcessing=!1,r&&e&&(n=!1,t(j))},v=()=>{r=!0,n=!0,s.isProcessing||t(j)};return{schedule:Vx.reduce((S,O)=>{const _=o[O];return S[O]=(A,E=!1,D=!1)=>(r||v(),_.schedule(A,E,D)),S},{}),cancel:S=>{for(let O=0;O<Vx.length;O++)o[Vx[O]].cancel(S)},state:s,steps:o}}const{schedule:Cn,cancel:$c,state:La,steps:rN}=xV(typeof requestAnimationFrame<"u"?requestAnimationFrame:vi,!0);let Vy;function Ere(){Vy=void 0}const Ns={now:()=>(Vy===void 0&&Ns.set(La.isProcessing||Ml.useManualTiming?La.timestamp:performance.now()),Vy),set:t=>{Vy=t,queueMicrotask(Ere)}},yV=t=>e=>typeof e=="string"&&e.startsWith(t),OA=yV("--"),Dre=yV("var(--"),EA=t=>Dre(t)?Pre.test(t.split("/*")[0].trim()):!1,Pre=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ph={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Xp={...Ph,transform:t=>_l(0,1,t)},Wx={...Ph,default:1},Cp=t=>Math.round(t*1e5)/1e5,DA=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Rre(t){return t==null}const Ire=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,PA=(t,e)=>r=>!!(typeof r=="string"&&Ire.test(r)&&r.startsWith(t)||e&&!Rre(r)&&Object.prototype.hasOwnProperty.call(r,e)),bV=(t,e,r)=>n=>{if(typeof n!="string")return n;const[s,i,o,l]=n.match(DA);return{[t]:parseFloat(s),[e]:parseFloat(i),[r]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},Lre=t=>_l(0,255,t),nN={...Ph,transform:t=>Math.round(Lre(t))},Mu={test:PA("rgb","red"),parse:bV("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+nN.transform(t)+", "+nN.transform(e)+", "+nN.transform(r)+", "+Cp(Xp.transform(n))+")"};function $re(t){let e="",r="",n="",s="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),n=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),n=t.substring(3,4),s=t.substring(4,5),e+=e,r+=r,n+=n,s+=s),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:s?parseInt(s,16)/255:1}}const _5={test:PA("#"),parse:$re,transform:Mu.transform},sg=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),gc=sg("deg"),xo=sg("%"),Zt=sg("px"),Fre=sg("vh"),Hre=sg("vw"),d6={...xo,parse:t=>xo.parse(t)/100,transform:t=>xo.transform(t*100)},bf={test:PA("hsl","hue"),parse:bV("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+xo.transform(Cp(e))+", "+xo.transform(Cp(r))+", "+Cp(Xp.transform(n))+")"},aa={test:t=>Mu.test(t)||_5.test(t)||bf.test(t),parse:t=>Mu.test(t)?Mu.parse(t):bf.test(t)?bf.parse(t):_5.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Mu.transform(t):bf.transform(t),getAnimatableNone:t=>{const e=aa.parse(t);return e.alpha=0,aa.transform(e)}},Bre=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function zre(t){var e,r;return isNaN(t)&&typeof t=="string"&&(((e=t.match(DA))==null?void 0:e.length)||0)+(((r=t.match(Bre))==null?void 0:r.length)||0)>0}const vV="number",wV="color",Vre="var",Wre="var(",f6="${}",qre=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Jp(t){const e=t.toString(),r=[],n={color:[],number:[],var:[]},s=[];let i=0;const l=e.replace(qre,c=>(aa.test(c)?(n.color.push(i),s.push(wV),r.push(aa.parse(c))):c.startsWith(Wre)?(n.var.push(i),s.push(Vre),r.push(c)):(n.number.push(i),s.push(vV),r.push(parseFloat(c))),++i,f6)).split(f6);return{values:r,split:l,indexes:n,types:s}}function jV(t){return Jp(t).values}function SV(t){const{split:e,types:r}=Jp(t),n=e.length;return s=>{let i="";for(let o=0;o<n;o++)if(i+=e[o],s[o]!==void 0){const l=r[o];l===vV?i+=Cp(s[o]):l===wV?i+=aa.transform(s[o]):i+=s[o]}return i}}const Ure=t=>typeof t=="number"?0:aa.test(t)?aa.getAnimatableNone(t):t;function Gre(t){const e=jV(t);return SV(t)(e.map(Ure))}const Fc={test:zre,parse:jV,createTransformer:SV,getAnimatableNone:Gre};function aN(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function Yre({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,e/=100,r/=100;let s=0,i=0,o=0;if(!e)s=i=o=r;else{const l=r<.5?r*(1+e):r+e-r*e,c=2*r-l;s=aN(c,l,t+1/3),i=aN(c,l,t),o=aN(c,l,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:n}}function mb(t,e){return r=>r>0?e:t}const An=(t,e,r)=>t+(e-t)*r,sN=(t,e,r)=>{const n=t*t,s=r*(e*e-n)+n;return s<0?0:Math.sqrt(s)},Kre=[_5,Mu,bf],Xre=t=>Kre.find(e=>e.test(t));function h6(t){const e=Xre(t);if(!e)return!1;let r=e.parse(t);return e===bf&&(r=Yre(r)),r}const m6=(t,e)=>{const r=h6(t),n=h6(e);if(!r||!n)return mb(t,e);const s={...r};return i=>(s.red=sN(r.red,n.red,i),s.green=sN(r.green,n.green,i),s.blue=sN(r.blue,n.blue,i),s.alpha=An(r.alpha,n.alpha,i),Mu.transform(s))},M5=new Set(["none","hidden"]);function Jre(t,e){return M5.has(t)?r=>r<=0?t:e:r=>r>=1?e:t}function Qre(t,e){return r=>An(t,e,r)}function RA(t){return typeof t=="number"?Qre:typeof t=="string"?EA(t)?mb:aa.test(t)?m6:tne:Array.isArray(t)?NV:typeof t=="object"?aa.test(t)?m6:Zre:mb}function NV(t,e){const r=[...t],n=r.length,s=t.map((i,o)=>RA(i)(i,e[o]));return i=>{for(let o=0;o<n;o++)r[o]=s[o](i);return r}}function Zre(t,e){const r={...t,...e},n={};for(const s in r)t[s]!==void 0&&e[s]!==void 0&&(n[s]=RA(t[s])(t[s],e[s]));return s=>{for(const i in n)r[i]=n[i](s);return r}}function ene(t,e){const r=[],n={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const i=e.types[s],o=t.indexes[i][n[i]],l=t.values[o]??0;r[s]=l,n[i]++}return r}const tne=(t,e)=>{const r=Fc.createTransformer(e),n=Jp(t),s=Jp(e);return n.indexes.var.length===s.indexes.var.length&&n.indexes.color.length===s.indexes.color.length&&n.indexes.number.length>=s.indexes.number.length?M5.has(t)&&!s.values.length||M5.has(e)&&!n.values.length?Jre(t,e):ng(NV(ene(n,s),s.values),r):mb(t,e)};function kV(t,e,r){return typeof t=="number"&&typeof e=="number"&&typeof r=="number"?An(t,e,r):RA(t)(t,e)}const rne=t=>{const e=({timestamp:r})=>t(r);return{start:(r=!0)=>Cn.update(e,r),stop:()=>$c(e),now:()=>La.isProcessing?La.timestamp:Ns.now()}},CV=(t,e,r=10)=>{let n="";const s=Math.max(Math.round(e/r),2);for(let i=0;i<s;i++)n+=Math.round(t(i/(s-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},pb=2e4;function IA(t){let e=0;const r=50;let n=t.next(e);for(;!n.done&&e<pb;)e+=r,n=t.next(e);return e>=pb?1/0:e}function nne(t,e=100,r){const n=r({...t,keyframes:[0,e]}),s=Math.min(IA(n),pb);return{type:"keyframes",ease:i=>n.next(s*i).value/e,duration:yi(s)}}const ane=5;function TV(t,e,r){const n=Math.max(e-ane,0);return iV(r-t(n),e-n)}const Ln={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},iN=.001;function sne({duration:t=Ln.duration,bounce:e=Ln.bounce,velocity:r=Ln.velocity,mass:n=Ln.mass}){let s,i,o=1-e;o=_l(Ln.minDamping,Ln.maxDamping,o),t=_l(Ln.minDuration,Ln.maxDuration,yi(t)),o<1?(s=d=>{const h=d*o,m=h*t,x=h-r,y=A5(d,o),w=Math.exp(-m);return iN-x/y*w},i=d=>{const m=d*o*t,x=m*r+r,y=Math.pow(o,2)*Math.pow(d,2)*t,w=Math.exp(-m),j=A5(Math.pow(d,2),o);return(-s(d)+iN>0?-1:1)*((x-y)*w)/j}):(s=d=>{const h=Math.exp(-d*t),m=(d-r)*t+1;return-iN+h*m},i=d=>{const h=Math.exp(-d*t),m=(r-d)*(t*t);return h*m});const l=5/t,c=one(s,i,l);if(t=go(t),isNaN(c))return{stiffness:Ln.stiffness,damping:Ln.damping,duration:t};{const d=Math.pow(c,2)*n;return{stiffness:d,damping:o*2*Math.sqrt(n*d),duration:t}}}const ine=12;function one(t,e,r){let n=r;for(let s=1;s<ine;s++)n=n-t(n)/e(n);return n}function A5(t,e){return t*Math.sqrt(1-e*e)}const lne=["duration","bounce"],cne=["stiffness","damping","mass"];function p6(t,e){return e.some(r=>t[r]!==void 0)}function une(t){let e={velocity:Ln.velocity,stiffness:Ln.stiffness,damping:Ln.damping,mass:Ln.mass,isResolvedFromDuration:!1,...t};if(!p6(t,cne)&&p6(t,lne))if(t.visualDuration){const r=t.visualDuration,n=2*Math.PI/(r*1.2),s=n*n,i=2*_l(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:Ln.mass,stiffness:s,damping:i}}else{const r=sne(t);e={...e,...r,mass:Ln.mass},e.isResolvedFromDuration=!0}return e}function gb(t=Ln.visualDuration,e=Ln.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:n,restDelta:s}=r;const i=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:d,mass:h,duration:m,velocity:x,isResolvedFromDuration:y}=une({...r,velocity:-yi(r.velocity||0)}),w=x||0,j=d/(2*Math.sqrt(c*h)),v=o-i,N=yi(Math.sqrt(c/h)),T=Math.abs(v)<5;n||(n=T?Ln.restSpeed.granular:Ln.restSpeed.default),s||(s=T?Ln.restDelta.granular:Ln.restDelta.default);let S;if(j<1){const _=A5(N,j);S=A=>{const E=Math.exp(-j*N*A);return o-E*((w+j*N*v)/_*Math.sin(_*A)+v*Math.cos(_*A))}}else if(j===1)S=_=>o-Math.exp(-N*_)*(v+(w+N*v)*_);else{const _=N*Math.sqrt(j*j-1);S=A=>{const E=Math.exp(-j*N*A),D=Math.min(_*A,300);return o-E*((w+j*N*v)*Math.sinh(D)+_*v*Math.cosh(D))/_}}const O={calculatedDuration:y&&m||null,next:_=>{const A=S(_);if(y)l.done=_>=m;else{let E=_===0?w:0;j<1&&(E=_===0?go(w):TV(S,_,A));const D=Math.abs(E)<=n,$=Math.abs(o-A)<=s;l.done=D&&$}return l.value=l.done?o:A,l},toString:()=>{const _=Math.min(IA(O),pb),A=CV(E=>O.next(_*E).value,_,30);return _+"ms "+A},toTransition:()=>{}};return O}gb.applyToOptions=t=>{const e=nne(t,100,gb);return t.ease=e.ease,t.duration=go(e.duration),t.type="keyframes",t};function O5({keyframes:t,velocity:e=0,power:r=.8,timeConstant:n=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:h}){const m=t[0],x={done:!1,value:m},y=D=>l!==void 0&&D<l||c!==void 0&&D>c,w=D=>l===void 0?c:c===void 0||Math.abs(l-D)<Math.abs(c-D)?l:c;let j=r*e;const v=m+j,N=o===void 0?v:o(v);N!==v&&(j=N-m);const T=D=>-j*Math.exp(-D/n),S=D=>N+T(D),O=D=>{const $=T(D),I=S(D);x.done=Math.abs($)<=d,x.value=x.done?N:I};let _,A;const E=D=>{y(x.value)&&(_=D,A=gb({keyframes:[x.value,w(x.value)],velocity:TV(S,D,x.value),damping:s,stiffness:i,restDelta:d,restSpeed:h}))};return E(0),{calculatedDuration:null,next:D=>{let $=!1;return!A&&_===void 0&&($=!0,O(D),E(D)),_!==void 0&&D>=_?A.next(D-_):(!$&&O(D),x)}}}function dne(t,e,r){const n=[],s=r||Ml.mix||kV,i=t.length-1;for(let o=0;o<i;o++){let l=s(t[o],t[o+1]);if(e){const c=Array.isArray(e)?e[o]||vi:e;l=ng(c,l)}n.push(l)}return n}function fne(t,e,{clamp:r=!0,ease:n,mixer:s}={}){const i=t.length;if(CA(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=dne(e,n,s),c=l.length,d=h=>{if(o&&h<t[0])return e[0];let m=0;if(c>1)for(;m<t.length-2&&!(h<t[m+1]);m++);const x=Kp(t[m],t[m+1],h);return l[m](x)};return r?h=>d(_l(t[0],t[i-1],h)):d}function hne(t,e){const r=t[t.length-1];for(let n=1;n<=e;n++){const s=Kp(0,e,n);t.push(An(r,1,s))}}function mne(t){const e=[0];return hne(e,t.length-1),e}function pne(t,e){return t.map(r=>r*e)}function gne(t,e){return t.map(()=>e||pV).splice(0,t.length-1)}function Tp({duration:t=300,keyframes:e,times:r,ease:n="easeInOut"}){const s=Tre(n)?n.map(u6):u6(n),i={done:!1,value:e[0]},o=pne(r&&r.length===e.length?r:mne(e),t),l=fne(o,e,{ease:Array.isArray(s)?s:gne(e,s)});return{calculatedDuration:t,next:c=>(i.value=l(c),i.done=c>=t,i)}}const xne=t=>t!==null;function LA(t,{repeat:e,repeatType:r="loop"},n,s=1){const i=t.filter(xne),l=s<0||e&&r!=="loop"&&e%2===1?0:i.length-1;return!l||n===void 0?i[l]:n}const yne={decay:O5,inertia:O5,tween:Tp,keyframes:Tp,spring:gb};function _V(t){typeof t.type=="string"&&(t.type=yne[t.type])}class $A{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,r){return this.finished.then(e,r)}}const bne=t=>t/100;class FA extends $A{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,s;const{motionValue:r}=this.options;r&&r.updatedAt!==Ns.now()&&this.tick(Ns.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(n=this.options).onStop)==null||s.call(n))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;_V(e);const{type:r=Tp,repeat:n=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=e;let{keyframes:l}=e;const c=r||Tp;c!==Tp&&typeof l[0]!="number"&&(this.mixKeyframes=ng(bne,kV(l[0],l[1])),l=[0,100]);const d=c({...e,keyframes:l});i==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...l].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=IA(d));const{calculatedDuration:h}=d;this.calculatedDuration=h,this.resolvedDuration=h+s,this.totalDuration=this.resolvedDuration*(n+1)-s,this.generator=d}updateTime(e){const r=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(e,r=!1){const{generator:n,totalDuration:s,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return n.next(0);const{delay:d=0,keyframes:h,repeat:m,repeatType:x,repeatDelay:y,type:w,onUpdate:j,finalKeyframe:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),r?this.currentTime=e:this.updateTime(e);const N=this.currentTime-d*(this.playbackSpeed>=0?1:-1),T=this.playbackSpeed>=0?N<0:N>s;this.currentTime=Math.max(N,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let S=this.currentTime,O=n;if(m){const D=Math.min(this.currentTime,s)/l;let $=Math.floor(D),I=D%1;!I&&D>=1&&(I=1),I===1&&$--,$=Math.min($,m+1),!!($%2)&&(x==="reverse"?(I=1-I,y&&(I-=y/l)):x==="mirror"&&(O=o)),S=_l(0,1,I)*l}const _=T?{done:!1,value:h[0]}:O.next(S);i&&(_.value=i(_.value));let{done:A}=_;!T&&c!==null&&(A=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const E=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&A);return E&&w!==O5&&(_.value=LA(h,this.options,v,this.speed)),j&&j(_.value),E&&this.finish(),_}then(e,r){return this.finished.then(e,r)}get duration(){return yi(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+yi(e)}get time(){return yi(this.currentTime)}set time(e){var r;e=go(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Ns.now());const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=yi(this.currentTime))}play(){var s,i;if(this.isStopped)return;const{driver:e=rne,startTime:r}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(i=(s=this.options).onPlay)==null||i.call(s);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ns.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(e=this.options).onComplete)==null||r.call(e)}cancel(){var e,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(e=this.options).onCancel)==null||r.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),e.observe(this)}}function vne(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Au=t=>t*180/Math.PI,E5=t=>{const e=Au(Math.atan2(t[1],t[0]));return D5(e)},wne={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:E5,rotateZ:E5,skewX:t=>Au(Math.atan(t[1])),skewY:t=>Au(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},D5=t=>(t=t%360,t<0&&(t+=360),t),g6=E5,x6=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),y6=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),jne={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:x6,scaleY:y6,scale:t=>(x6(t)+y6(t))/2,rotateX:t=>D5(Au(Math.atan2(t[6],t[5]))),rotateY:t=>D5(Au(Math.atan2(-t[2],t[0]))),rotateZ:g6,rotate:g6,skewX:t=>Au(Math.atan(t[4])),skewY:t=>Au(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function P5(t){return t.includes("scale")?1:0}function R5(t,e){if(!t||t==="none")return P5(e);const r=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,s;if(r)n=jne,s=r;else{const l=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=wne,s=l}if(!s)return P5(e);const i=n[e],o=s[1].split(",").map(Nne);return typeof i=="function"?i(o):o[i]}const Sne=(t,e)=>{const{transform:r="none"}=getComputedStyle(t);return R5(r,e)};function Nne(t){return parseFloat(t.trim())}const Rh=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ih=new Set(Rh),b6=t=>t===Ph||t===Zt,kne=new Set(["x","y","z"]),Cne=Rh.filter(t=>!kne.has(t));function Tne(t){const e=[];return Cne.forEach(r=>{const n=t.getValue(r);n!==void 0&&(e.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),e}const zu={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>R5(e,"x"),y:(t,{transform:e})=>R5(e,"y")};zu.translateX=zu.x;zu.translateY=zu.y;const Vu=new Set;let I5=!1,L5=!1,$5=!1;function MV(){if(L5){const t=Array.from(Vu).filter(n=>n.needsMeasurement),e=new Set(t.map(n=>n.element)),r=new Map;e.forEach(n=>{const s=Tne(n);s.length&&(r.set(n,s),n.render())}),t.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const s=r.get(n);s&&s.forEach(([i,o])=>{var l;(l=n.getValue(i))==null||l.set(o)})}),t.forEach(n=>n.measureEndState()),t.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}L5=!1,I5=!1,Vu.forEach(t=>t.complete($5)),Vu.clear()}function AV(){Vu.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(L5=!0)})}function _ne(){$5=!0,AV(),MV(),$5=!1}class HA{constructor(e,r,n,s,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=n,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Vu.add(this),I5||(I5=!0,Cn.read(AV),Cn.resolveKeyframes(MV))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:n,motionValue:s}=this;if(e[0]===null){const i=s==null?void 0:s.get(),o=e[e.length-1];if(i!==void 0)e[0]=i;else if(n&&r){const l=n.readValue(r,o);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=o),s&&i===void 0&&s.set(e[0])}vne(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Vu.delete(this)}cancel(){this.state==="scheduled"&&(Vu.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Mne=t=>t.startsWith("--");function Ane(t,e,r){Mne(e)?t.style.setProperty(e,r):t.style[e]=r}const One=TA(()=>window.ScrollTimeline!==void 0),Ene={};function Dne(t,e){const r=TA(t);return()=>Ene[e]??r()}const OV=Dne(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),pp=([t,e,r,n])=>`cubic-bezier(${t}, ${e}, ${r}, ${n})`,v6={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:pp([0,.65,.55,1]),circOut:pp([.55,0,1,.45]),backIn:pp([.31,.01,.66,-.59]),backOut:pp([.33,1.53,.69,.99])};function EV(t,e){if(t)return typeof t=="function"?OV()?CV(t,e):"ease-out":gV(t)?pp(t):Array.isArray(t)?t.map(r=>EV(r,e)||v6.easeOut):v6[t]}function Pne(t,e,r,{delay:n=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:l="easeOut",times:c}={},d=void 0){const h={[e]:r};c&&(h.offset=c);const m=EV(l,s);Array.isArray(m)&&(h.easing=m);const x={delay:n,duration:s,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return d&&(x.pseudoElement=d),t.animate(h,x)}function DV(t){return typeof t=="function"&&"applyToOptions"in t}function Rne({type:t,...e}){return DV(t)&&OV()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Ine extends $A{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:r,name:n,keyframes:s,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=e;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=e,CA(typeof e.type!="string");const d=Rne(e);this.animation=Pne(r,n,s,d,i),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const h=LA(s,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(h):Ane(r,n,h),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,r;(r=(e=this.animation).finish)==null||r.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,r;this.isPseudoElement||(r=(e=this.animation).commitStyles)==null||r.call(e)}get duration(){var r,n;const e=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return yi(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+yi(e)}get time(){return yi(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=go(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&One()?(this.animation.timeline=e,vi):r(this)}}const PV={anticipate:fV,backInOut:dV,circInOut:mV};function Lne(t){return t in PV}function $ne(t){typeof t.ease=="string"&&Lne(t.ease)&&(t.ease=PV[t.ease])}const w6=10;class Fne extends Ine{constructor(e){$ne(e),_V(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:r,onUpdate:n,onComplete:s,element:i,...o}=this.options;if(!r)return;if(e!==void 0){r.set(e);return}const l=new FA({...o,autoplay:!1}),c=go(this.finishedTime??this.time);r.setWithVelocity(l.sample(c-w6).value,l.sample(c).value,w6),l.stop()}}const j6=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Fc.test(t)||t==="0")&&!t.startsWith("url("));function Hne(t){const e=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==e)return!0}function Bne(t,e,r,n){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=j6(s,e),l=j6(i,e);return!o||!l?!1:Hne(t)||(r==="spring"||DV(r))&&n}function F5(t){t.duration=0,t.type="keyframes"}const zne=new Set(["opacity","clipPath","filter","transform"]),Vne=TA(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Wne(t){var h;const{motionValue:e,name:r,repeatDelay:n,repeatType:s,damping:i,type:o}=t;if(!(((h=e==null?void 0:e.owner)==null?void 0:h.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=e.owner.getProps();return Vne()&&r&&zne.has(r)&&(r!=="transform"||!d)&&!c&&!n&&s!=="mirror"&&i!==0&&o!=="inertia"}const qne=40;class Une extends $A{constructor({autoplay:e=!0,delay:r=0,type:n="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",keyframes:l,name:c,motionValue:d,element:h,...m}){var w;super(),this.stop=()=>{var j,v;this._animation&&(this._animation.stop(),(j=this.stopTimeline)==null||j.call(this)),(v=this.keyframeResolver)==null||v.cancel()},this.createdAt=Ns.now();const x={autoplay:e,delay:r,type:n,repeat:s,repeatDelay:i,repeatType:o,name:c,motionValue:d,element:h,...m},y=(h==null?void 0:h.KeyframeResolver)||HA;this.keyframeResolver=new y(l,(j,v,N)=>this.onKeyframesResolved(j,v,x,!N),c,d,h),(w=this.keyframeResolver)==null||w.scheduleResolve()}onKeyframesResolved(e,r,n,s){this.keyframeResolver=void 0;const{name:i,type:o,velocity:l,delay:c,isHandoff:d,onUpdate:h}=n;this.resolvedAt=Ns.now(),Bne(e,i,o,l)||((Ml.instantAnimations||!c)&&(h==null||h(LA(e,n,r))),e[0]=e[e.length-1],F5(n),n.repeat=0);const x={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>qne?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:e},y=!d&&Wne(x)?new Fne({...x,element:x.motionValue.owner.current}):new FA(x);y.finished.then(()=>this.notifyFinished()).catch(vi),this.pendingTimeline&&(this.stopTimeline=y.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=y}get finished(){return this._animation?this.animation.finished:this._finished}then(e,r){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),_ne()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const Gne=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Yne(t){const e=Gne.exec(t);if(!e)return[,];const[,r,n,s]=e;return[`--${r??n}`,s]}function RV(t,e,r=1){const[n,s]=Yne(t);if(!n)return;const i=window.getComputedStyle(e).getPropertyValue(n);if(i){const o=i.trim();return nV(o)?parseFloat(o):o}return EA(s)?RV(s,e,r+1):s}function BA(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const IV=new Set(["width","height","top","left","right","bottom",...Rh]),Kne={test:t=>t==="auto",parse:t=>t},LV=t=>e=>e.test(t),$V=[Ph,Zt,xo,gc,Hre,Fre,Kne],S6=t=>$V.find(LV(t));function Xne(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||sV(t):!0}const Jne=new Set(["brightness","contrast","saturate","opacity"]);function Qne(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[n]=r.match(DA)||[];if(!n)return t;const s=r.replace(n,"");let i=Jne.has(e)?1:0;return n!==r&&(i*=100),e+"("+i+s+")"}const Zne=/\b([a-z-]*)\(.*?\)/gu,H5={...Fc,getAnimatableNone:t=>{const e=t.match(Zne);return e?e.map(Qne).join(" "):t}},N6={...Ph,transform:Math.round},eae={rotate:gc,rotateX:gc,rotateY:gc,rotateZ:gc,scale:Wx,scaleX:Wx,scaleY:Wx,scaleZ:Wx,skew:gc,skewX:gc,skewY:gc,distance:Zt,translateX:Zt,translateY:Zt,translateZ:Zt,x:Zt,y:Zt,z:Zt,perspective:Zt,transformPerspective:Zt,opacity:Xp,originX:d6,originY:d6,originZ:Zt},zA={borderWidth:Zt,borderTopWidth:Zt,borderRightWidth:Zt,borderBottomWidth:Zt,borderLeftWidth:Zt,borderRadius:Zt,radius:Zt,borderTopLeftRadius:Zt,borderTopRightRadius:Zt,borderBottomRightRadius:Zt,borderBottomLeftRadius:Zt,width:Zt,maxWidth:Zt,height:Zt,maxHeight:Zt,top:Zt,right:Zt,bottom:Zt,left:Zt,padding:Zt,paddingTop:Zt,paddingRight:Zt,paddingBottom:Zt,paddingLeft:Zt,margin:Zt,marginTop:Zt,marginRight:Zt,marginBottom:Zt,marginLeft:Zt,backgroundPositionX:Zt,backgroundPositionY:Zt,...eae,zIndex:N6,fillOpacity:Xp,strokeOpacity:Xp,numOctaves:N6},tae={...zA,color:aa,backgroundColor:aa,outlineColor:aa,fill:aa,stroke:aa,borderColor:aa,borderTopColor:aa,borderRightColor:aa,borderBottomColor:aa,borderLeftColor:aa,filter:H5,WebkitFilter:H5},FV=t=>tae[t];function HV(t,e){let r=FV(t);return r!==H5&&(r=Fc),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const rae=new Set(["auto","none","0"]);function nae(t,e,r){let n=0,s;for(;n<t.length&&!s;){const i=t[n];typeof i=="string"&&!rae.has(i)&&Jp(i).values.length&&(s=t[n]),n++}if(s&&r)for(const i of e)t[i]=HV(r,s)}class aae extends HA{constructor(e,r,n,s,i){super(e,r,n,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let d=e[c];if(typeof d=="string"&&(d=d.trim(),EA(d))){const h=RV(d,r.current);h!==void 0&&(e[c]=h),c===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!IV.has(n)||e.length!==2)return;const[s,i]=e,o=S6(s),l=S6(i);if(o!==l)if(b6(o)&&b6(l))for(let c=0;c<e.length;c++){const d=e[c];typeof d=="string"&&(e[c]=parseFloat(d))}else zu[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,n=[];for(let s=0;s<e.length;s++)(e[s]===null||Xne(e[s]))&&n.push(s);n.length&&nae(e,n,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=zu[n](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const s=r[r.length-1];s!==void 0&&e.getValue(n,s).jump(s,!1)}measureEndState(){var l;const{element:e,name:r,unresolvedKeyframes:n}=this;if(!e||!e.current)return;const s=e.getValue(r);s&&s.jump(this.measuredOrigin,!1);const i=n.length-1,o=n[i];n[i]=zu[r](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,d])=>{e.getValue(c).set(d)}),this.resolveNoneKeyframes()}}function sae(t,e,r){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let n=document;const s=(r==null?void 0:r[t])??n.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const BV=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function zV(t){return aV(t)&&"offsetHeight"in t}const k6=30,iae=t=>!isNaN(parseFloat(t));class oae{constructor(e,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{var i;const s=Ns.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=Ns.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=iae(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new _A);const n=this.events[e].add(r);return e==="change"?()=>{n(),Cn.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Ns.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>k6)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,k6);return iV(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,r;(e=this.dependents)==null||e.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Wf(t,e){return new oae(t,e)}const{schedule:VA}=xV(queueMicrotask,!1),Li={x:!1,y:!1};function VV(){return Li.x||Li.y}function lae(t){return t==="x"||t==="y"?Li[t]?null:(Li[t]=!0,()=>{Li[t]=!1}):Li.x||Li.y?null:(Li.x=Li.y=!0,()=>{Li.x=Li.y=!1})}function WV(t,e){const r=sae(t),n=new AbortController,s={passive:!0,...e,signal:n.signal};return[r,s,()=>n.abort()]}function C6(t){return!(t.pointerType==="touch"||VV())}function cae(t,e,r={}){const[n,s,i]=WV(t,r),o=l=>{if(!C6(l))return;const{target:c}=l,d=e(c,l);if(typeof d!="function"||!c)return;const h=m=>{C6(m)&&(d(m),c.removeEventListener("pointerleave",h))};c.addEventListener("pointerleave",h,s)};return n.forEach(l=>{l.addEventListener("pointerenter",o,s)}),i}const qV=(t,e)=>e?t===e?!0:qV(t,e.parentElement):!1,WA=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,uae=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function dae(t){return uae.has(t.tagName)||t.tabIndex!==-1}const Wy=new WeakSet;function T6(t){return e=>{e.key==="Enter"&&t(e)}}function oN(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const fae=(t,e)=>{const r=t.currentTarget;if(!r)return;const n=T6(()=>{if(Wy.has(r))return;oN(r,"down");const s=T6(()=>{oN(r,"up")}),i=()=>oN(r,"cancel");r.addEventListener("keyup",s,e),r.addEventListener("blur",i,e)});r.addEventListener("keydown",n,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),e)};function _6(t){return WA(t)&&!VV()}function hae(t,e,r={}){const[n,s,i]=WV(t,r),o=l=>{const c=l.currentTarget;if(!_6(l))return;Wy.add(c);const d=e(c,l),h=(y,w)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",x),Wy.has(c)&&Wy.delete(c),_6(y)&&typeof d=="function"&&d(y,{success:w})},m=y=>{h(y,c===window||c===document||r.useGlobalTarget||qV(c,y.target))},x=y=>{h(y,!1)};window.addEventListener("pointerup",m,s),window.addEventListener("pointercancel",x,s)};return n.forEach(l=>{(r.useGlobalTarget?window:l).addEventListener("pointerdown",o,s),zV(l)&&(l.addEventListener("focus",d=>fae(d,s)),!dae(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),i}function UV(t){return aV(t)&&"ownerSVGElement"in t}function mae(t){return UV(t)&&t.tagName==="svg"}const Ya=t=>!!(t&&t.getVelocity),pae=[...$V,aa,Fc],gae=t=>pae.find(LV(t)),qA=g.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function M6(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function xae(...t){return e=>{let r=!1;const n=t.map(s=>{const i=M6(s,e);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let s=0;s<n.length;s++){const i=n[s];typeof i=="function"?i():M6(t[s],null)}}}}function yae(...t){return g.useCallback(xae(...t),t)}class bae extends g.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const n=r.offsetParent,s=zV(n)&&n.offsetWidth||0,i=this.props.sizeRef.current;i.height=r.offsetHeight||0,i.width=r.offsetWidth||0,i.top=r.offsetTop,i.left=r.offsetLeft,i.right=s-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function vae({children:t,isPresent:e,anchorX:r,root:n}){const s=g.useId(),i=g.useRef(null),o=g.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=g.useContext(qA),c=yae(i,t==null?void 0:t.ref);return g.useInsertionEffect(()=>{const{width:d,height:h,top:m,left:x,right:y}=o.current;if(e||!i.current||!d||!h)return;const w=r==="left"?`left: ${x}`:`right: ${y}`;i.current.dataset.motionPopId=s;const j=document.createElement("style");l&&(j.nonce=l);const v=n??document.head;return v.appendChild(j),j.sheet&&j.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${h}px !important;
            ${w}px !important;
            top: ${m}px !important;
          }
        `),()=>{v.contains(j)&&v.removeChild(j)}},[e]),a.jsx(bae,{isPresent:e,childRef:i,sizeRef:o,children:g.cloneElement(t,{ref:c})})}const wae=({children:t,initial:e,isPresent:r,onExitComplete:n,custom:s,presenceAffectsLayout:i,mode:o,anchorX:l,root:c})=>{const d=jA(jae),h=g.useId();let m=!0,x=g.useMemo(()=>(m=!1,{id:h,initial:e,isPresent:r,custom:s,onExitComplete:y=>{d.set(y,!0);for(const w of d.values())if(!w)return;n&&n()},register:y=>(d.set(y,!1),()=>d.delete(y))}),[r,d,n]);return i&&m&&(x={...x}),g.useMemo(()=>{d.forEach((y,w)=>d.set(w,!1))},[r]),g.useEffect(()=>{!r&&!d.size&&n&&n()},[r]),o==="popLayout"&&(t=a.jsx(vae,{isPresent:r,anchorX:l,root:c,children:t})),a.jsx(Mw.Provider,{value:x,children:t})};function jae(){return new Map}function GV(t=!0){const e=g.useContext(Mw);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:s}=e,i=g.useId();g.useEffect(()=>{if(t)return s(i)},[t]);const o=g.useCallback(()=>t&&n&&n(i),[i,n,t]);return!r&&n?[!1,o]:[!0]}const qx=t=>t.key||"";function A6(t){const e=[];return g.Children.forEach(t,r=>{g.isValidElement(r)&&e.push(r)}),e}const kt=({children:t,custom:e,initial:r=!0,onExitComplete:n,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1,anchorX:l="left",root:c})=>{const[d,h]=GV(o),m=g.useMemo(()=>A6(t),[t]),x=o&&!d?[]:m.map(qx),y=g.useRef(!0),w=g.useRef(m),j=jA(()=>new Map),[v,N]=g.useState(m),[T,S]=g.useState(m);rV(()=>{y.current=!1,w.current=m;for(let A=0;A<T.length;A++){const E=qx(T[A]);x.includes(E)?j.delete(E):j.get(E)!==!0&&j.set(E,!1)}},[T,x.length,x.join("-")]);const O=[];if(m!==v){let A=[...m];for(let E=0;E<T.length;E++){const D=T[E],$=qx(D);x.includes($)||(A.splice(E,0,D),O.push(D))}return i==="wait"&&O.length&&(A=O),S(A6(A)),N(m),null}const{forceRender:_}=g.useContext(wA);return a.jsx(a.Fragment,{children:T.map(A=>{const E=qx(A),D=o&&!d?!1:m===T||x.includes(E),$=()=>{if(j.has(E))j.set(E,!0);else return;let I=!0;j.forEach(L=>{L||(I=!1)}),I&&(_==null||_(),S(w.current),o&&(h==null||h()),n&&n())};return a.jsx(wae,{isPresent:D,initial:!y.current||r?void 0:!1,custom:e,presenceAffectsLayout:s,mode:i,root:c,onExitComplete:D?void 0:$,anchorX:l,children:A},E)})})},YV=g.createContext({strict:!1}),O6={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},qf={};for(const t in O6)qf[t]={isEnabled:e=>O6[t].some(r=>!!e[r])};function Sae(t){for(const e in t)qf[e]={...qf[e],...t[e]}}const Nae=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function xb(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Nae.has(t)}let KV=t=>!xb(t);function kae(t){typeof t=="function"&&(KV=e=>e.startsWith("on")?!xb(e):t(e))}try{kae(require("@emotion/is-prop-valid").default)}catch{}function Cae(t,e,r){const n={};for(const s in t)s==="values"&&typeof t.values=="object"||(KV(s)||r===!0&&xb(s)||!e&&!xb(s)||t.draggable&&s.startsWith("onDrag"))&&(n[s]=t[s]);return n}const Aw=g.createContext({});function Ow(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Qp(t){return typeof t=="string"||Array.isArray(t)}const UA=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],GA=["initial",...UA];function Ew(t){return Ow(t.animate)||GA.some(e=>Qp(t[e]))}function XV(t){return!!(Ew(t)||t.variants)}function Tae(t,e){if(Ew(t)){const{initial:r,animate:n}=t;return{initial:r===!1||Qp(r)?r:void 0,animate:Qp(n)?n:void 0}}return t.inherit!==!1?e:{}}function _ae(t){const{initial:e,animate:r}=Tae(t,g.useContext(Aw));return g.useMemo(()=>({initial:e,animate:r}),[E6(e),E6(r)])}function E6(t){return Array.isArray(t)?t.join(" "):t}const Zp={};function Mae(t){for(const e in t)Zp[e]=t[e],OA(e)&&(Zp[e].isCSSVariable=!0)}function JV(t,{layout:e,layoutId:r}){return Ih.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!Zp[t]||t==="opacity")}const Aae={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Oae=Rh.length;function Eae(t,e,r){let n="",s=!0;for(let i=0;i<Oae;i++){const o=Rh[i],l=t[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||r){const d=BV(l,zA[o]);if(!c){s=!1;const h=Aae[o]||o;n+=`${h}(${d}) `}r&&(e[o]=d)}}return n=n.trim(),r?n=r(e,s?"":n):s&&(n="none"),n}function YA(t,e,r){const{style:n,vars:s,transformOrigin:i}=t;let o=!1,l=!1;for(const c in e){const d=e[c];if(Ih.has(c)){o=!0;continue}else if(OA(c)){s[c]=d;continue}else{const h=BV(d,zA[c]);c.startsWith("origin")?(l=!0,i[c]=h):n[c]=h}}if(e.transform||(o||r?n.transform=Eae(e,t.transform,r):n.transform&&(n.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:h=0}=i;n.transformOrigin=`${c} ${d} ${h}`}}const KA=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function QV(t,e,r){for(const n in e)!Ya(e[n])&&!JV(n,r)&&(t[n]=e[n])}function Dae({transformTemplate:t},e){return g.useMemo(()=>{const r=KA();return YA(r,e,t),Object.assign({},r.vars,r.style)},[e])}function Pae(t,e){const r=t.style||{},n={};return QV(n,r,t),Object.assign(n,Dae(t,e)),n}function Rae(t,e){const r={},n=Pae(t,e);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=n,r}const Iae={offset:"stroke-dashoffset",array:"stroke-dasharray"},Lae={offset:"strokeDashoffset",array:"strokeDasharray"};function $ae(t,e,r=1,n=0,s=!0){t.pathLength=1;const i=s?Iae:Lae;t[i.offset]=Zt.transform(-n);const o=Zt.transform(e),l=Zt.transform(r);t[i.array]=`${o} ${l}`}function ZV(t,{attrX:e,attrY:r,attrScale:n,pathLength:s,pathSpacing:i=1,pathOffset:o=0,...l},c,d,h){if(YA(t,l,d),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:x}=t;m.transform&&(x.transform=m.transform,delete m.transform),(x.transform||m.transformOrigin)&&(x.transformOrigin=m.transformOrigin??"50% 50%",delete m.transformOrigin),x.transform&&(x.transformBox=(h==null?void 0:h.transformBox)??"fill-box",delete m.transformBox),e!==void 0&&(m.x=e),r!==void 0&&(m.y=r),n!==void 0&&(m.scale=n),s!==void 0&&$ae(m,s,i,o,!1)}const eW=()=>({...KA(),attrs:{}}),tW=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Fae(t,e,r,n){const s=g.useMemo(()=>{const i=eW();return ZV(i,e,tW(n),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};QV(i,t.style,t),s.style={...i,...s.style}}return s}const Hae=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function XA(t){return typeof t!="string"||t.includes("-")?!1:!!(Hae.indexOf(t)>-1||/[A-Z]/u.test(t))}function Bae(t,e,r,{latestValues:n},s,i=!1){const l=(XA(t)?Fae:Rae)(e,n,s,t),c=Cae(e,typeof t=="string",i),d=t!==g.Fragment?{...c,...l,ref:r}:{},{children:h}=e,m=g.useMemo(()=>Ya(h)?h.get():h,[h]);return g.createElement(t,{...d,children:m})}function D6(t){const e=[{},{}];return t==null||t.values.forEach((r,n)=>{e[0][n]=r.get(),e[1][n]=r.getVelocity()}),e}function JA(t,e,r,n){if(typeof e=="function"){const[s,i]=D6(n);e=e(r!==void 0?r:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=D6(n);e=e(r!==void 0?r:t.custom,s,i)}return e}function qy(t){return Ya(t)?t.get():t}function zae({scrapeMotionValuesFromProps:t,createRenderState:e},r,n,s){return{latestValues:Vae(r,n,s,t),renderState:e()}}function Vae(t,e,r,n){const s={},i=n(t,{});for(const x in i)s[x]=qy(i[x]);let{initial:o,animate:l}=t;const c=Ew(t),d=XV(t);e&&d&&!c&&t.inherit!==!1&&(o===void 0&&(o=e.initial),l===void 0&&(l=e.animate));let h=r?r.initial===!1:!1;h=h||o===!1;const m=h?l:o;if(m&&typeof m!="boolean"&&!Ow(m)){const x=Array.isArray(m)?m:[m];for(let y=0;y<x.length;y++){const w=JA(t,x[y]);if(w){const{transitionEnd:j,transition:v,...N}=w;for(const T in N){let S=N[T];if(Array.isArray(S)){const O=h?S.length-1:0;S=S[O]}S!==null&&(s[T]=S)}for(const T in j)s[T]=j[T]}}}return s}const rW=t=>(e,r)=>{const n=g.useContext(Aw),s=g.useContext(Mw),i=()=>zae(t,e,n,s);return r?i():jA(i)};function QA(t,e,r){var i;const{style:n}=t,s={};for(const o in n)(Ya(n[o])||e.style&&Ya(e.style[o])||JV(o,t)||((i=r==null?void 0:r.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(s[o]=n[o]);return s}const Wae=rW({scrapeMotionValuesFromProps:QA,createRenderState:KA});function nW(t,e,r){const n=QA(t,e,r);for(const s in t)if(Ya(t[s])||Ya(e[s])){const i=Rh.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;n[i]=t[s]}return n}const qae=rW({scrapeMotionValuesFromProps:nW,createRenderState:eW}),Uae=Symbol.for("motionComponentSymbol");function vf(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Gae(t,e,r){return g.useCallback(n=>{n&&t.onMount&&t.onMount(n),e&&(n?e.mount(n):e.unmount()),r&&(typeof r=="function"?r(n):vf(r)&&(r.current=n))},[e])}const ZA=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Yae="framerAppearId",aW="data-"+ZA(Yae),sW=g.createContext({});function Kae(t,e,r,n,s){var j,v;const{visualElement:i}=g.useContext(Aw),o=g.useContext(YV),l=g.useContext(Mw),c=g.useContext(qA).reducedMotion,d=g.useRef(null);n=n||o.renderer,!d.current&&n&&(d.current=n(t,{visualState:e,parent:i,props:r,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const h=d.current,m=g.useContext(sW);h&&!h.projection&&s&&(h.type==="html"||h.type==="svg")&&Xae(d.current,r,s,m);const x=g.useRef(!1);g.useInsertionEffect(()=>{h&&x.current&&h.update(r,l)});const y=r[aW],w=g.useRef(!!y&&!((j=window.MotionHandoffIsComplete)!=null&&j.call(window,y))&&((v=window.MotionHasOptimisedAnimation)==null?void 0:v.call(window,y)));return rV(()=>{h&&(x.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),h.scheduleRenderMicrotask(),w.current&&h.animationState&&h.animationState.animateChanges())}),g.useEffect(()=>{h&&(!w.current&&h.animationState&&h.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{var N;(N=window.MotionHandoffMarkAsComplete)==null||N.call(window,y)}),w.current=!1),h.enteringChildren=void 0)}),h}function Xae(t,e,r,n){const{layoutId:s,layout:i,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:d,layoutCrossfade:h}=e;t.projection=new r(t.latestValues,e["data-framer-portal-id"]?void 0:iW(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||l&&vf(l),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:n,crossfade:h,layoutScroll:c,layoutRoot:d})}function iW(t){if(t)return t.options.allowProjection!==!1?t.projection:iW(t.parent)}function lN(t,{forwardMotionProps:e=!1}={},r,n){r&&Sae(r);const s=XA(t)?qae:Wae;function i(l,c){let d;const h={...g.useContext(qA),...l,layoutId:Jae(l)},{isStatic:m}=h,x=_ae(l),y=s(l,m);if(!m&&SA){Qae();const w=Zae(h);d=w.MeasureLayout,x.visualElement=Kae(t,y,h,n,w.ProjectionNode)}return a.jsxs(Aw.Provider,{value:x,children:[d&&x.visualElement?a.jsx(d,{visualElement:x.visualElement,...h}):null,Bae(t,l,Gae(y,x.visualElement,c),y,m,e)]})}i.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=g.forwardRef(i);return o[Uae]=t,o}function Jae({layoutId:t}){const e=g.useContext(wA).id;return e&&t!==void 0?e+"-"+t:t}function Qae(t,e){g.useContext(YV).strict}function Zae(t){const{drag:e,layout:r}=qf;if(!e&&!r)return{};const n={...e,...r};return{MeasureLayout:e!=null&&e.isEnabled(t)||r!=null&&r.isEnabled(t)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function ese(t,e){if(typeof Proxy>"u")return lN;const r=new Map,n=(i,o)=>lN(i,o,t,e),s=(i,o)=>n(i,o);return new Proxy(s,{get:(i,o)=>o==="create"?n:(r.has(o)||r.set(o,lN(o,void 0,t,e)),r.get(o))})}function oW({top:t,left:e,right:r,bottom:n}){return{x:{min:e,max:r},y:{min:t,max:n}}}function tse({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function rse(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function cN(t){return t===void 0||t===1}function B5({scale:t,scaleX:e,scaleY:r}){return!cN(t)||!cN(e)||!cN(r)}function ju(t){return B5(t)||lW(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function lW(t){return P6(t.x)||P6(t.y)}function P6(t){return t&&t!=="0%"}function yb(t,e,r){const n=t-r,s=e*n;return r+s}function R6(t,e,r,n,s){return s!==void 0&&(t=yb(t,s,n)),yb(t,r,n)+e}function z5(t,e=0,r=1,n,s){t.min=R6(t.min,e,r,n,s),t.max=R6(t.max,e,r,n,s)}function cW(t,{x:e,y:r}){z5(t.x,e.translate,e.scale,e.originPoint),z5(t.y,r.translate,r.scale,r.originPoint)}const I6=.999999999999,L6=1.0000000000001;function nse(t,e,r,n=!1){const s=r.length;if(!s)return;e.x=e.y=1;let i,o;for(let l=0;l<s;l++){i=r[l],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&jf(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,cW(t,o)),n&&ju(i.latestValues)&&jf(t,i.latestValues))}e.x<L6&&e.x>I6&&(e.x=1),e.y<L6&&e.y>I6&&(e.y=1)}function wf(t,e){t.min=t.min+e,t.max=t.max+e}function $6(t,e,r,n,s=.5){const i=An(t.min,t.max,s);z5(t,e,r,i,n)}function jf(t,e){$6(t.x,e.x,e.scaleX,e.scale,e.originX),$6(t.y,e.y,e.scaleY,e.scale,e.originY)}function uW(t,e){return oW(rse(t.getBoundingClientRect(),e))}function ase(t,e,r){const n=uW(t,r),{scroll:s}=e;return s&&(wf(n.x,s.offset.x),wf(n.y,s.offset.y)),n}const F6=()=>({translate:0,scale:1,origin:0,originPoint:0}),Sf=()=>({x:F6(),y:F6()}),H6=()=>({min:0,max:0}),Yn=()=>({x:H6(),y:H6()}),V5={current:null},dW={current:!1};function sse(){if(dW.current=!0,!!SA)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>V5.current=t.matches;t.addEventListener("change",e),e()}else V5.current=!1}const ise=new WeakMap;function ose(t,e,r){for(const n in e){const s=e[n],i=r[n];if(Ya(s))t.addValue(n,s);else if(Ya(i))t.addValue(n,Wf(s,{owner:t}));else if(i!==s)if(t.hasValue(n)){const o=t.getValue(n);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=t.getStaticValue(n);t.addValue(n,Wf(o!==void 0?o:s,{owner:t}))}}for(const n in r)e[n]===void 0&&t.removeValue(n);return e}const B6=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class lse{scrapeMotionValuesFromProps(e,r,n){return{}}constructor({parent:e,props:r,presenceContext:n,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=HA,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=Ns.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,Cn.render(this.render,!1,!0))};const{latestValues:c,renderState:d}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=d,this.parent=e,this.props=r,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=Ew(r),this.isVariantNode=XV(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...m}=this.scrapeMotionValuesFromProps(r,{},this);for(const x in m){const y=m[x];c[x]!==void 0&&Ya(y)&&y.set(c[x])}}mount(e){var r;this.current=e,ise.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),dW.current||sse(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:V5.current,(r=this.parent)==null||r.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),$c(this.notifyUpdate),$c(this.render),this.valueSubscriptions.forEach(r=>r()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const r in this.events)this.events[r].clear();for(const r in this.features){const n=this.features[r];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=Ih.has(e);n&&this.onBindTransform&&this.onBindTransform();const s=r.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Cn.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{s(),i&&i(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in qf){const r=qf[e];if(!r)continue;const{isEnabled:n,Feature:s}=r;if(!this.features[e]&&s&&n(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Yn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<B6.length;n++){const s=B6[n];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=e[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=ose(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const n=this.values.get(e);r!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&r!==void 0&&(n=Wf(r===null?void 0:r,{owner:this}),this.addValue(e,n)),n}readValue(e,r){let n=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return n!=null&&(typeof n=="string"&&(nV(n)||sV(n))?n=parseFloat(n):!gae(n)&&Fc.test(r)&&(n=HV(e,r)),this.setBaseTarget(e,Ya(n)?n.get():n)),Ya(n)?n.get():n}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){var i;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const o=JA(this.props,r,(i=this.presenceContext)==null?void 0:i.custom);o&&(n=o[e])}if(r&&n!==void 0)return n;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Ya(s)?s:this.initialValues[e]!==void 0&&n===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new _A),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}scheduleRenderMicrotask(){VA.render(this.render)}}class fW extends lse{constructor(){super(...arguments),this.KeyframeResolver=aae}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:n}){delete r[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ya(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function hW(t,{style:e,vars:r},n,s){const i=t.style;let o;for(o in e)i[o]=e[o];s==null||s.applyProjectionStyles(i,n);for(o in r)i.setProperty(o,r[o])}function cse(t){return window.getComputedStyle(t)}class use extends fW{constructor(){super(...arguments),this.type="html",this.renderInstance=hW}readValueFromInstance(e,r){var n;if(Ih.has(r))return(n=this.projection)!=null&&n.isProjecting?P5(r):Sne(e,r);{const s=cse(e),i=(OA(r)?s.getPropertyValue(r):s[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:r}){return uW(e,r)}build(e,r,n){YA(e,r,n.transformTemplate)}scrapeMotionValuesFromProps(e,r,n){return QA(e,r,n)}}const mW=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function dse(t,e,r,n){hW(t,e,void 0,n);for(const s in e.attrs)t.setAttribute(mW.has(s)?s:ZA(s),e.attrs[s])}class fse extends fW{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Yn}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(Ih.has(r)){const n=FV(r);return n&&n.default||0}return r=mW.has(r)?r:ZA(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,n){return nW(e,r,n)}build(e,r,n){ZV(e,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,r,n,s){dse(e,r,n,s)}mount(e){this.isSVGTag=tW(e.tagName),super.mount(e)}}const hse=(t,e)=>XA(t)?new fse(e):new use(e,{allowProjection:t!==g.Fragment});function Af(t,e,r){const n=t.getProps();return JA(n,e,r!==void 0?r:n.custom,t)}const W5=t=>Array.isArray(t);function mse(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,Wf(r))}function pse(t){return W5(t)?t[t.length-1]||0:t}function gse(t,e){const r=Af(t,e);let{transitionEnd:n={},transition:s={},...i}=r||{};i={...i,...n};for(const o in i){const l=pse(i[o]);mse(t,o,l)}}function xse(t){return!!(Ya(t)&&t.add)}function q5(t,e){const r=t.getValue("willChange");if(xse(r))return r.add(e);if(!r&&Ml.WillChange){const n=new Ml.WillChange("auto");t.addValue("willChange",n),n.add(e)}}function pW(t){return t.props[aW]}const yse=t=>t!==null;function bse(t,{repeat:e,repeatType:r="loop"},n){const s=t.filter(yse),i=e&&r!=="loop"&&e%2===1?0:s.length-1;return s[i]}const vse={type:"spring",stiffness:500,damping:25,restSpeed:10},wse=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),jse={type:"keyframes",duration:.8},Sse={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Nse=(t,{keyframes:e})=>e.length>2?jse:Ih.has(t)?t.startsWith("scale")?wse(e[1]):vse:Sse;function kse({when:t,delay:e,delayChildren:r,staggerChildren:n,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:d,...h}){return!!Object.keys(h).length}const eO=(t,e,r,n={},s,i)=>o=>{const l=BA(n,t)||{},c=l.delay||n.delay||0;let{elapsed:d=0}=n;d=d-go(c);const h={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-d,onUpdate:x=>{e.set(x),l.onUpdate&&l.onUpdate(x)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:i?void 0:s};kse(l)||Object.assign(h,Nse(t,h)),h.duration&&(h.duration=go(h.duration)),h.repeatDelay&&(h.repeatDelay=go(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let m=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(F5(h),h.delay===0&&(m=!0)),(Ml.instantAnimations||Ml.skipAnimations)&&(m=!0,F5(h),h.delay=0),h.allowFlatten=!l.type&&!l.ease,m&&!i&&e.get()!==void 0){const x=bse(h.keyframes,l);if(x!==void 0){Cn.update(()=>{h.onUpdate(x),h.onComplete()});return}}return l.isSync?new FA(h):new Une(h)};function Cse({protectedKeys:t,needsAnimating:e},r){const n=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,n}function gW(t,e,{delay:r=0,transitionOverride:n,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...l}=e;n&&(i=n);const c=[],d=s&&t.animationState&&t.animationState.getState()[s];for(const h in l){const m=t.getValue(h,t.latestValues[h]??null),x=l[h];if(x===void 0||d&&Cse(d,h))continue;const y={delay:r,...BA(i||{},h)},w=m.get();if(w!==void 0&&!m.isAnimating&&!Array.isArray(x)&&x===w&&!y.velocity)continue;let j=!1;if(window.MotionHandoffAnimation){const N=pW(t);if(N){const T=window.MotionHandoffAnimation(N,h,Cn);T!==null&&(y.startTime=T,j=!0)}}q5(t,h),m.start(eO(h,m,x,t.shouldReduceMotion&&IV.has(h)?{type:!1}:y,t,j));const v=m.animation;v&&c.push(v)}return o&&Promise.all(c).then(()=>{Cn.update(()=>{o&&gse(t,o)})}),c}function xW(t,e,r,n=0,s=1){const i=Array.from(t).sort((d,h)=>d.sortNodePosition(h)).indexOf(e),o=t.size,l=(o-1)*n;return typeof r=="function"?r(i,o):s===1?i*n:l-i*n}function U5(t,e,r={}){var c;const n=Af(t,e,r.type==="exit"?(c=t.presenceContext)==null?void 0:c.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(s=r.transitionOverride);const i=n?()=>Promise.all(gW(t,n,r)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:h=0,staggerChildren:m,staggerDirection:x}=s;return Tse(t,e,d,h,m,x,r)}:()=>Promise.resolve(),{when:l}=s;if(l){const[d,h]=l==="beforeChildren"?[i,o]:[o,i];return d().then(()=>h())}else return Promise.all([i(),o(r.delay)])}function Tse(t,e,r=0,n=0,s=0,i=1,o){const l=[];for(const c of t.variantChildren)c.notify("AnimationStart",e),l.push(U5(c,e,{...o,delay:r+(typeof n=="function"?0:n)+xW(t.variantChildren,c,n,s,i)}).then(()=>c.notify("AnimationComplete",e)));return Promise.all(l)}function _se(t,e,r={}){t.notify("AnimationStart",e);let n;if(Array.isArray(e)){const s=e.map(i=>U5(t,i,r));n=Promise.all(s)}else if(typeof e=="string")n=U5(t,e,r);else{const s=typeof e=="function"?Af(t,e,r.custom):e;n=Promise.all(gW(t,s,r))}return n.then(()=>{t.notify("AnimationComplete",e)})}function yW(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}const Mse=GA.length;function bW(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?bW(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const e={};for(let r=0;r<Mse;r++){const n=GA[r],s=t.props[n];(Qp(s)||s===!1)&&(e[n]=s)}return e}const Ase=[...UA].reverse(),Ose=UA.length;function Ese(t){return e=>Promise.all(e.map(({animation:r,options:n})=>_se(t,r,n)))}function Dse(t){let e=Ese(t),r=z6(),n=!0;const s=c=>(d,h)=>{var x;const m=Af(t,h,c==="exit"?(x=t.presenceContext)==null?void 0:x.custom:void 0);if(m){const{transition:y,transitionEnd:w,...j}=m;d={...d,...j,...w}}return d};function i(c){e=c(t)}function o(c){const{props:d}=t,h=bW(t.parent)||{},m=[],x=new Set;let y={},w=1/0;for(let v=0;v<Ose;v++){const N=Ase[v],T=r[N],S=d[N]!==void 0?d[N]:h[N],O=Qp(S),_=N===c?T.isActive:null;_===!1&&(w=v);let A=S===h[N]&&S!==d[N]&&O;if(A&&n&&t.manuallyAnimateOnMount&&(A=!1),T.protectedKeys={...y},!T.isActive&&_===null||!S&&!T.prevProp||Ow(S)||typeof S=="boolean")continue;const E=Pse(T.prevProp,S);let D=E||N===c&&T.isActive&&!A&&O||v>w&&O,$=!1;const I=Array.isArray(S)?S:[S];let L=I.reduce(s(N),{});_===!1&&(L={});const{prevResolvedValues:R={}}=T,z={...R,...L},Y=P=>{D=!0,x.has(P)&&($=!0,x.delete(P)),T.needsAnimating[P]=!0;const F=t.getValue(P);F&&(F.liveStyle=!1)};for(const P in z){const F=L[P],X=R[P];if(y.hasOwnProperty(P))continue;let te=!1;W5(F)&&W5(X)?te=!yW(F,X):te=F!==X,te?F!=null?Y(P):x.add(P):F!==void 0&&x.has(P)?Y(P):T.protectedKeys[P]=!0}T.prevProp=S,T.prevResolvedValues=L,T.isActive&&(y={...y,...L}),n&&t.blockInitialAnimation&&(D=!1);const W=A&&E;D&&(!W||$)&&m.push(...I.map(P=>{const F={type:N};if(typeof P=="string"&&n&&!W&&t.manuallyAnimateOnMount&&t.parent){const{parent:X}=t,te=Af(X,P);if(X.enteringChildren&&te){const{delayChildren:q}=te.transition||{};F.delay=xW(X.enteringChildren,t,q)}}return{animation:P,options:F}}))}if(x.size){const v={};if(typeof d.initial!="boolean"){const N=Af(t,Array.isArray(d.initial)?d.initial[0]:d.initial);N&&N.transition&&(v.transition=N.transition)}x.forEach(N=>{const T=t.getBaseTarget(N),S=t.getValue(N);S&&(S.liveStyle=!0),v[N]=T??null}),m.push({animation:v})}let j=!!m.length;return n&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(j=!1),n=!1,j?e(m):Promise.resolve()}function l(c,d){var m;if(r[c].isActive===d)return Promise.resolve();(m=t.variantChildren)==null||m.forEach(x=>{var y;return(y=x.animationState)==null?void 0:y.setActive(c,d)}),r[c].isActive=d;const h=o(c);for(const x in r)r[x].protectedKeys={};return h}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>r,reset:()=>{r=z6(),n=!0}}}function Pse(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!yW(e,t):!1}function xu(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function z6(){return{animate:xu(!0),whileInView:xu(),whileHover:xu(),whileTap:xu(),whileDrag:xu(),whileFocus:xu(),exit:xu()}}class Uc{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Rse extends Uc{constructor(e){super(e),e.animationState||(e.animationState=Dse(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Ow(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let Ise=0;class Lse extends Uc{constructor(){super(...arguments),this.id=Ise++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const s=this.node.animationState.setActive("exit",!e);r&&!e&&s.then(()=>{r(this.id)})}mount(){const{register:e,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const $se={animation:{Feature:Rse},exit:{Feature:Lse}};function e0(t,e,r,n={passive:!0}){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r)}function ig(t){return{point:{x:t.pageX,y:t.pageY}}}const Fse=t=>e=>WA(e)&&t(e,ig(e));function _p(t,e,r,n){return e0(t,e,Fse(r),n)}const vW=1e-4,Hse=1-vW,Bse=1+vW,wW=.01,zse=0-wW,Vse=0+wW;function ns(t){return t.max-t.min}function Wse(t,e,r){return Math.abs(t-e)<=r}function V6(t,e,r,n=.5){t.origin=n,t.originPoint=An(e.min,e.max,t.origin),t.scale=ns(r)/ns(e),t.translate=An(r.min,r.max,t.origin)-t.originPoint,(t.scale>=Hse&&t.scale<=Bse||isNaN(t.scale))&&(t.scale=1),(t.translate>=zse&&t.translate<=Vse||isNaN(t.translate))&&(t.translate=0)}function Mp(t,e,r,n){V6(t.x,e.x,r.x,n?n.originX:void 0),V6(t.y,e.y,r.y,n?n.originY:void 0)}function W6(t,e,r){t.min=r.min+e.min,t.max=t.min+ns(e)}function qse(t,e,r){W6(t.x,e.x,r.x),W6(t.y,e.y,r.y)}function q6(t,e,r){t.min=e.min-r.min,t.max=t.min+ns(e)}function Ap(t,e,r){q6(t.x,e.x,r.x),q6(t.y,e.y,r.y)}function ui(t){return[t("x"),t("y")]}const jW=({current:t})=>t?t.ownerDocument.defaultView:null,U6=(t,e)=>Math.abs(t-e);function Use(t,e){const r=U6(t.x,e.x),n=U6(t.y,e.y);return Math.sqrt(r**2+n**2)}class SW{constructor(e,r,{transformPagePoint:n,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=dN(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,w=Use(x.offset,{x:0,y:0})>=this.distanceThreshold;if(!y&&!w)return;const{point:j}=x,{timestamp:v}=La;this.history.push({...j,timestamp:v});const{onStart:N,onMove:T}=this.handlers;y||(N&&N(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),T&&T(this.lastMoveEvent,x)},this.handlePointerMove=(x,y)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=uN(y,this.transformPagePoint),Cn.update(this.updatePoint,!0)},this.handlePointerUp=(x,y)=>{this.end();const{onEnd:w,onSessionEnd:j,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const N=dN(x.type==="pointercancel"?this.lastMoveEventInfo:uN(y,this.transformPagePoint),this.history);this.startEvent&&w&&w(x,N),j&&j(x,N)},!WA(e))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=o,this.contextWindow=s||window;const l=ig(e),c=uN(l,this.transformPagePoint),{point:d}=c,{timestamp:h}=La;this.history=[{...d,timestamp:h}];const{onSessionStart:m}=r;m&&m(e,dN(c,this.history)),this.removeListeners=ng(_p(this.contextWindow,"pointermove",this.handlePointerMove),_p(this.contextWindow,"pointerup",this.handlePointerUp),_p(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),$c(this.updatePoint)}}function uN(t,e){return e?{point:e(t.point)}:t}function G6(t,e){return{x:t.x-e.x,y:t.y-e.y}}function dN({point:t},e){return{point:t,delta:G6(t,NW(e)),offset:G6(t,Gse(e)),velocity:Yse(e,.1)}}function Gse(t){return t[0]}function NW(t){return t[t.length-1]}function Yse(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,n=null;const s=NW(t);for(;r>=0&&(n=t[r],!(s.timestamp-n.timestamp>go(e)));)r--;if(!n)return{x:0,y:0};const i=yi(s.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-n.x)/i,y:(s.y-n.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Kse(t,{min:e,max:r},n){return e!==void 0&&t<e?t=n?An(e,t,n.min):Math.max(t,e):r!==void 0&&t>r&&(t=n?An(r,t,n.max):Math.min(t,r)),t}function Y6(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function Xse(t,{top:e,left:r,bottom:n,right:s}){return{x:Y6(t.x,r,s),y:Y6(t.y,e,n)}}function K6(t,e){let r=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,n]=[n,r]),{min:r,max:n}}function Jse(t,e){return{x:K6(t.x,e.x),y:K6(t.y,e.y)}}function Qse(t,e){let r=.5;const n=ns(t),s=ns(e);return s>n?r=Kp(e.min,e.max-n,t.min):n>s&&(r=Kp(t.min,t.max-s,e.min)),_l(0,1,r)}function Zse(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const G5=.35;function eie(t=G5){return t===!1?t=0:t===!0&&(t=G5),{x:X6(t,"left","right"),y:X6(t,"top","bottom")}}function X6(t,e,r){return{min:J6(t,e),max:J6(t,r)}}function J6(t,e){return typeof t=="number"?t:t[e]||0}const tie=new WeakMap;class rie{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Yn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=m=>{const{dragSnapToOrigin:x}=this.getProps();x?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(ig(m).point)},o=(m,x)=>{const{drag:y,dragPropagation:w,onDragStart:j}=this.getProps();if(y&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=lae(y),!this.openDragLock))return;this.latestPointerEvent=m,this.latestPanInfo=x,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ui(N=>{let T=this.getAxisMotionValue(N).get()||0;if(xo.test(T)){const{projection:S}=this.visualElement;if(S&&S.layout){const O=S.layout.layoutBox[N];O&&(T=ns(O)*(parseFloat(T)/100))}}this.originPoint[N]=T}),j&&Cn.postRender(()=>j(m,x)),q5(this.visualElement,"transform");const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},l=(m,x)=>{this.latestPointerEvent=m,this.latestPanInfo=x;const{dragPropagation:y,dragDirectionLock:w,onDirectionLock:j,onDrag:v}=this.getProps();if(!y&&!this.openDragLock)return;const{offset:N}=x;if(w&&this.currentDirection===null){this.currentDirection=nie(N),this.currentDirection!==null&&j&&j(this.currentDirection);return}this.updateAxis("x",x.point,N),this.updateAxis("y",x.point,N),this.visualElement.render(),v&&v(m,x)},c=(m,x)=>{this.latestPointerEvent=m,this.latestPanInfo=x,this.stop(m,x),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>ui(m=>{var x;return this.getAnimationState(m)==="paused"&&((x=this.getAxisMotionValue(m).animation)==null?void 0:x.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new SW(e,{onSessionStart:i,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,distanceThreshold:n,contextWindow:jW(this.visualElement)})}stop(e,r){const n=e||this.latestPointerEvent,s=r||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!n)return;const{velocity:o}=s;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&Cn.postRender(()=>l(n,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,n){const{drag:s}=this.getProps();if(!n||!Ux(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(o=Kse(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:e,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;e&&vf(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&n?this.constraints=Xse(n.layoutBox,e):this.constraints=!1,this.elastic=eie(r),s!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&ui(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=Zse(n.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!vf(e))return!1;const n=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=ase(n,s.root,this.visualElement.getTransformPagePoint());let o=Jse(s.layout.layoutBox,i);if(r){const l=r(tse(o));this.hasMutatedConstraints=!!l,l&&(o=oW(l))}return o}startAnimation(e){const{drag:r,dragMomentum:n,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=ui(h=>{if(!Ux(h,r,this.currentDirection))return;let m=c&&c[h]||{};o&&(m={min:0,max:0});const x=s?200:1e6,y=s?40:1e7,w={type:"inertia",velocity:n?e[h]:0,bounceStiffness:x,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...i,...m};return this.startAxisValueAnimation(h,w)});return Promise.all(d).then(l)}startAxisValueAnimation(e,r){const n=this.getAxisMotionValue(e);return q5(this.visualElement,e),n.start(eO(e,n,0,r,this.visualElement,!1))}stopAnimation(){ui(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ui(e=>{var r;return(r=this.getAxisMotionValue(e).animation)==null?void 0:r.pause()})}getAnimationState(e){var r;return(r=this.getAxisMotionValue(e).animation)==null?void 0:r.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),s=n[r];return s||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){ui(r=>{const{drag:n}=this.getProps();if(!Ux(r,n,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(r);if(s&&s.layout){const{min:o,max:l}=s.layout.layoutBox[r];i.set(e[r]-An(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!vf(r)||!n||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};ui(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();s[o]=Qse({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),ui(o=>{if(!Ux(o,e,null))return;const l=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];l.set(An(c,d,s[o]))})}addListeners(){if(!this.visualElement.current)return;tie.set(this.visualElement,this);const e=this.visualElement.current,r=_p(e,"pointerdown",c=>{const{drag:d,dragListener:h=!0}=this.getProps();d&&h&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();vf(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",n);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Cn.read(n);const o=e0(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",(({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(ui(h=>{const m=this.getAxisMotionValue(h);m&&(this.originPoint[h]+=c[h].translate,m.set(m.get()+c[h].translate))}),this.visualElement.render())}));return()=>{o(),r(),i(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=G5,dragMomentum:l=!0}=e;return{...e,drag:r,dragDirectionLock:n,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function Ux(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function nie(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class aie extends Uc{constructor(e){super(e),this.removeGroupControls=vi,this.removeListeners=vi,this.controls=new rie(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||vi}unmount(){this.removeGroupControls(),this.removeListeners()}}const Q6=t=>(e,r)=>{t&&Cn.postRender(()=>t(e,r))};class sie extends Uc{constructor(){super(...arguments),this.removePointerDownListener=vi}onPointerDown(e){this.session=new SW(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:jW(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:n,onPanEnd:s}=this.node.getProps();return{onSessionStart:Q6(e),onStart:Q6(r),onMove:n,onEnd:(i,o)=>{delete this.session,s&&Cn.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=_p(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Uy={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Z6(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const qm={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Zt.test(t))t=parseFloat(t);else return t;const r=Z6(t,e.target.x),n=Z6(t,e.target.y);return`${r}% ${n}%`}},iie={correct:(t,{treeScale:e,projectionDelta:r})=>{const n=t,s=Fc.parse(t);if(s.length>5)return n;const i=Fc.createTransformer(t),o=typeof s[0]!="number"?1:0,l=r.x.scale*e.x,c=r.y.scale*e.y;s[0+o]/=l,s[1+o]/=c;const d=An(l,c,.5);return typeof s[2+o]=="number"&&(s[2+o]/=d),typeof s[3+o]=="number"&&(s[3+o]/=d),i(s)}};let fN=!1;class oie extends g.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n,layoutId:s}=this.props,{projection:i}=e;Mae(lie),i&&(r.group&&r.group.add(i),n&&n.register&&s&&n.register(i),fN&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Uy.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:n,drag:s,isPresent:i}=this.props,{projection:o}=n;return o&&(o.isPresent=i,fN=!0,s||e.layoutDependency!==r||r===void 0||e.isPresent!==i?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||Cn.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),VA.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:s}=e;fN=!0,s&&(s.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(s),n&&n.deregister&&n.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function kW(t){const[e,r]=GV(),n=g.useContext(wA);return a.jsx(oie,{...t,layoutGroup:n,switchLayoutGroup:g.useContext(sW),isPresent:e,safeToRemove:r})}const lie={borderRadius:{...qm,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:qm,borderTopRightRadius:qm,borderBottomLeftRadius:qm,borderBottomRightRadius:qm,boxShadow:iie};function cie(t,e,r){const n=Ya(t)?t:Wf(t);return n.start(eO("",n,e,r)),n.animation}const uie=(t,e)=>t.depth-e.depth;class die{constructor(){this.children=[],this.isDirty=!1}add(e){NA(this.children,e),this.isDirty=!0}remove(e){kA(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(uie),this.isDirty=!1,this.children.forEach(e)}}function fie(t,e){const r=Ns.now(),n=({timestamp:s})=>{const i=s-r;i>=e&&($c(n),t(i-e))};return Cn.setup(n,!0),()=>$c(n)}const CW=["TopLeft","TopRight","BottomLeft","BottomRight"],hie=CW.length,eR=t=>typeof t=="string"?parseFloat(t):t,tR=t=>typeof t=="number"||Zt.test(t);function mie(t,e,r,n,s,i){s?(t.opacity=An(0,r.opacity??1,pie(n)),t.opacityExit=An(e.opacity??1,0,gie(n))):i&&(t.opacity=An(e.opacity??1,r.opacity??1,n));for(let o=0;o<hie;o++){const l=`border${CW[o]}Radius`;let c=rR(e,l),d=rR(r,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||tR(c)===tR(d)?(t[l]=Math.max(An(eR(c),eR(d),n),0),(xo.test(d)||xo.test(c))&&(t[l]+="%")):t[l]=d}(e.rotate||r.rotate)&&(t.rotate=An(e.rotate||0,r.rotate||0,n))}function rR(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const pie=TW(0,.5,hV),gie=TW(.5,.95,vi);function TW(t,e,r){return n=>n<t?0:n>e?1:r(Kp(t,e,n))}function nR(t,e){t.min=e.min,t.max=e.max}function si(t,e){nR(t.x,e.x),nR(t.y,e.y)}function aR(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function sR(t,e,r,n,s){return t-=e,t=yb(t,1/r,n),s!==void 0&&(t=yb(t,1/s,n)),t}function xie(t,e=0,r=1,n=.5,s,i=t,o=t){if(xo.test(e)&&(e=parseFloat(e),e=An(o.min,o.max,e/100)-o.min),typeof e!="number")return;let l=An(i.min,i.max,n);t===i&&(l-=e),t.min=sR(t.min,e,r,l,s),t.max=sR(t.max,e,r,l,s)}function iR(t,e,[r,n,s],i,o){xie(t,e[r],e[n],e[s],e.scale,i,o)}const yie=["x","scaleX","originX"],bie=["y","scaleY","originY"];function oR(t,e,r,n){iR(t.x,e,yie,r?r.x:void 0,n?n.x:void 0),iR(t.y,e,bie,r?r.y:void 0,n?n.y:void 0)}function lR(t){return t.translate===0&&t.scale===1}function _W(t){return lR(t.x)&&lR(t.y)}function cR(t,e){return t.min===e.min&&t.max===e.max}function vie(t,e){return cR(t.x,e.x)&&cR(t.y,e.y)}function uR(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function MW(t,e){return uR(t.x,e.x)&&uR(t.y,e.y)}function dR(t){return ns(t.x)/ns(t.y)}function fR(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class wie{constructor(){this.members=[]}add(e){NA(this.members,e),e.scheduleRender()}remove(e){if(kA(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(s=>e===s);if(r===0)return!1;let n;for(let s=r;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(e,r){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,r&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:n}=e;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function jie(t,e,r){let n="";const s=t.x.translate/e.x,i=t.y.translate/e.y,o=(r==null?void 0:r.z)||0;if((s||i||o)&&(n=`translate3d(${s}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:d,rotate:h,rotateX:m,rotateY:x,skewX:y,skewY:w}=r;d&&(n=`perspective(${d}px) ${n}`),h&&(n+=`rotate(${h}deg) `),m&&(n+=`rotateX(${m}deg) `),x&&(n+=`rotateY(${x}deg) `),y&&(n+=`skewX(${y}deg) `),w&&(n+=`skewY(${w}deg) `)}const l=t.x.scale*e.x,c=t.y.scale*e.y;return(l!==1||c!==1)&&(n+=`scale(${l}, ${c})`),n||"none"}const hN=["","X","Y","Z"],Sie=1e3;let Nie=0;function mN(t,e,r,n){const{latestValues:s}=e;s[t]&&(r[t]=s[t],e.setStaticValue(t,0),n&&(n[t]=0))}function AW(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const r=pW(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",Cn,!(s||i))}const{parent:n}=t;n&&!n.hasCheckedOptimisedAppear&&AW(n)}function OW({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:n,resetTransform:s}){return class{constructor(o={},l=e==null?void 0:e()){this.id=Nie++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Tie),this.nodes.forEach(Oie),this.nodes.forEach(Eie),this.nodes.forEach(_ie)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new die)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new _A),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=UV(o)&&!mae(o),this.instance=o;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),t){let h,m=0;const x=()=>this.root.updateBlockedByResize=!1;Cn.read(()=>{m=window.innerWidth}),t(o,()=>{const y=window.innerWidth;y!==m&&(m=y,this.root.updateBlockedByResize=!0,h&&h(),h=fie(x,250),Uy.hasAnimatedSinceResize&&(Uy.hasAnimatedSinceResize=!1,this.nodes.forEach(pR)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:m,hasRelativeLayoutChanged:x,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||d.getDefaultTransition()||Lie,{onLayoutAnimationStart:j,onLayoutAnimationComplete:v}=d.getProps(),N=!this.targetLayout||!MW(this.targetLayout,y),T=!m&&x;if(this.options.layoutRoot||this.resumeFrom||T||m&&(N||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const S={...BA(w,"layout"),onPlay:j,onComplete:v};(d.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S),this.setAnimationOrigin(h,T)}else m||pR(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),$c(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Die),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&AW(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const m=this.path[h];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(hR);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(mR);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Aie),this.nodes.forEach(kie),this.nodes.forEach(Cie)):this.nodes.forEach(mR),this.clearAllSnapshots();const l=Ns.now();La.delta=_l(0,1e3/60,l-La.timestamp),La.timestamp=l,La.isProcessing=!0,rN.update.process(La),rN.preRender.process(La),rN.render.process(La),La.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,VA.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Mie),this.sharedNodes.forEach(Pie)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Cn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Cn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ns(this.snapshot.measuredBox.x)&&!ns(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Yn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!_W(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,h=d!==this.prevTransformTemplateValue;o&&this.instance&&(l||ju(this.latestValues)||h)&&(s(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),$ie(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:o}=this.options;if(!o)return Yn();const l=o.measureViewportBox();if(!(((d=this.scroll)==null?void 0:d.wasRoot)||this.path.some(Fie))){const{scroll:h}=this.root;h&&(wf(l.x,h.offset.x),wf(l.y,h.offset.y))}return l}removeElementScroll(o){var c;const l=Yn();if(si(l,o),(c=this.scroll)!=null&&c.wasRoot)return l;for(let d=0;d<this.path.length;d++){const h=this.path[d],{scroll:m,options:x}=h;h!==this.root&&m&&x.layoutScroll&&(m.wasRoot&&si(l,o),wf(l.x,m.offset.x),wf(l.y,m.offset.y))}return l}applyTransform(o,l=!1){const c=Yn();si(c,o);for(let d=0;d<this.path.length;d++){const h=this.path[d];!l&&h.options.layoutScroll&&h.scroll&&h!==h.root&&jf(c,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),ju(h.latestValues)&&jf(c,h.latestValues)}return ju(this.latestValues)&&jf(c,this.latestValues),c}removeTransform(o){const l=Yn();si(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!ju(d.latestValues))continue;B5(d.latestValues)&&d.updateSnapshot();const h=Yn(),m=d.measurePageBox();si(h,m),oR(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,h)}return ju(this.latestValues)&&oR(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==La.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var x;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(x=this.parent)!=null&&x.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:m}=this.options;if(!(!this.layout||!(h||m))){if(this.resolvedRelativeTargetAt=La.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Yn(),this.relativeTargetOrigin=Yn(),Ap(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),si(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Yn(),this.targetWithTransforms=Yn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),qse(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):si(this.target,this.layout.layoutBox),cW(this.target,this.targetDelta)):si(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Yn(),this.relativeTargetOrigin=Yn(),Ap(this.relativeTargetOrigin,this.target,y.target),si(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||B5(this.parent.latestValues)||lW(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var w;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(w=this.parent)!=null&&w.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===La.timestamp&&(c=!1),c)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;si(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,x=this.treeScale.y;nse(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Yn());const{target:y}=o;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(aR(this.prevProjectionDelta.x,this.projectionDelta.x),aR(this.prevProjectionDelta.y,this.projectionDelta.y)),Mp(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==x||!fR(this.projectionDelta.x,this.prevProjectionDelta.x)||!fR(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Sf(),this.projectionDelta=Sf(),this.projectionDeltaWithTransform=Sf()}setAnimationOrigin(o,l=!1){const c=this.snapshot,d=c?c.latestValues:{},h={...this.latestValues},m=Sf();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const x=Yn(),y=c?c.source:void 0,w=this.layout?this.layout.source:void 0,j=y!==w,v=this.getStack(),N=!v||v.members.length<=1,T=!!(j&&!N&&this.options.crossfade===!0&&!this.path.some(Iie));this.animationProgress=0;let S;this.mixTargetDelta=O=>{const _=O/1e3;gR(m.x,o.x,_),gR(m.y,o.y,_),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ap(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Rie(this.relativeTarget,this.relativeTargetOrigin,x,_),S&&vie(this.relativeTarget,S)&&(this.isProjectionDirty=!1),S||(S=Yn()),si(S,this.relativeTarget)),j&&(this.animationValues=h,mie(h,d,this.latestValues,_,T,N)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=_},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var l,c,d;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(d=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||d.stop(),this.pendingAnimation&&($c(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Cn.update(()=>{Uy.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Wf(0)),this.currentAnimation=cie(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),o.onUpdate&&o.onUpdate(h)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Sie),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:h}=o;if(!(!l||!c||!d)){if(this!==o&&this.layout&&d&&EW(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||Yn();const m=ns(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+m;const x=ns(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+x}si(l,c),jf(l,h),Mp(this.projectionDeltaWithTransform,this.layoutCorrected,l,h)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new wie),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const d={};c.z&&mN("z",o,d,this.animationValues);for(let h=0;h<hN.length;h++)mN(`rotate${hN[h]}`,o,d,this.animationValues),mN(`skew${hN[h]}`,o,d,this.animationValues);o.render();for(const h in d)o.setStaticValue(h,d[h]),this.animationValues&&(this.animationValues[h]=d[h]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=qy(l==null?void 0:l.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=qy(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!ju(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const h=d.animationValues||d.latestValues;this.applyTransformsToTarget();let m=jie(this.projectionDeltaWithTransform,this.treeScale,h);c&&(m=c(h,m)),o.transform=m;const{x,y}=this.projectionDelta;o.transformOrigin=`${x.origin*100}% ${y.origin*100}% 0`,d.animationValues?o.opacity=d===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:o.opacity=d===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const w in Zp){if(h[w]===void 0)continue;const{correct:j,applyTo:v,isCSSVariable:N}=Zp[w],T=m==="none"?h[w]:j(h[w],d);if(v){const S=v.length;for(let O=0;O<S;O++)o[v[O]]=T}else N?this.options.visualElement.renderState.vars[w]=T:o[w]=T}this.options.layoutId&&(o.pointerEvents=d===this?qy(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(hR),this.root.sharedNodes.clear()}}}function kie(t){t.updateLayout()}function Cie(t){var r;const e=((r=t.resumeFrom)==null?void 0:r.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=t.layout,{animationType:i}=t.options,o=e.source!==t.layout.source;i==="size"?ui(m=>{const x=o?e.measuredBox[m]:e.layoutBox[m],y=ns(x);x.min=n[m].min,x.max=x.min+y}):EW(i,e.layoutBox,n)&&ui(m=>{const x=o?e.measuredBox[m]:e.layoutBox[m],y=ns(n[m]);x.max=x.min+y,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[m].max=t.relativeTarget[m].min+y)});const l=Sf();Mp(l,n,e.layoutBox);const c=Sf();o?Mp(c,t.applyTransform(s,!0),e.measuredBox):Mp(c,n,e.layoutBox);const d=!_W(l);let h=!1;if(!t.resumeFrom){const m=t.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:x,layout:y}=m;if(x&&y){const w=Yn();Ap(w,e.layoutBox,x.layoutBox);const j=Yn();Ap(j,n,y.layoutBox),MW(w,j)||(h=!0),m.options.layoutRoot&&(t.relativeTarget=j,t.relativeTargetOrigin=w,t.relativeParent=m)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:h})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function Tie(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function _ie(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Mie(t){t.clearSnapshot()}function hR(t){t.clearMeasurements()}function mR(t){t.isLayoutDirty=!1}function Aie(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function pR(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Oie(t){t.resolveTargetDelta()}function Eie(t){t.calcProjection()}function Die(t){t.resetSkewAndRotation()}function Pie(t){t.removeLeadSnapshot()}function gR(t,e,r){t.translate=An(e.translate,0,r),t.scale=An(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function xR(t,e,r,n){t.min=An(e.min,r.min,n),t.max=An(e.max,r.max,n)}function Rie(t,e,r,n){xR(t.x,e.x,r.x,n),xR(t.y,e.y,r.y,n)}function Iie(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Lie={duration:.45,ease:[.4,0,.1,1]},yR=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),bR=yR("applewebkit/")&&!yR("chrome/")?Math.round:vi;function vR(t){t.min=bR(t.min),t.max=bR(t.max)}function $ie(t){vR(t.x),vR(t.y)}function EW(t,e,r){return t==="position"||t==="preserve-aspect"&&!Wse(dR(e),dR(r),.2)}function Fie(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const Hie=OW({attachResizeListener:(t,e)=>e0(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),pN={current:void 0},DW=OW({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!pN.current){const t=new Hie({});t.mount(window),t.setOptions({layoutScroll:!0}),pN.current=t}return pN.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Bie={pan:{Feature:sie},drag:{Feature:aie,ProjectionNode:DW,MeasureLayout:kW}};function wR(t,e,r){const{props:n}=t;t.animationState&&n.whileHover&&t.animationState.setActive("whileHover",r==="Start");const s="onHover"+r,i=n[s];i&&Cn.postRender(()=>i(e,ig(e)))}class zie extends Uc{mount(){const{current:e}=this.node;e&&(this.unmount=cae(e,(r,n)=>(wR(this.node,n,"Start"),s=>wR(this.node,s,"End"))))}unmount(){}}class Vie extends Uc{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ng(e0(this.node.current,"focus",()=>this.onFocus()),e0(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function jR(t,e,r){const{props:n}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&n.whileTap&&t.animationState.setActive("whileTap",r==="Start");const s="onTap"+(r==="End"?"":r),i=n[s];i&&Cn.postRender(()=>i(e,ig(e)))}class Wie extends Uc{mount(){const{current:e}=this.node;e&&(this.unmount=hae(e,(r,n)=>(jR(this.node,n,"Start"),(s,{success:i})=>jR(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Y5=new WeakMap,gN=new WeakMap,qie=t=>{const e=Y5.get(t.target);e&&e(t)},Uie=t=>{t.forEach(qie)};function Gie({root:t,...e}){const r=t||document;gN.has(r)||gN.set(r,{});const n=gN.get(r),s=JSON.stringify(e);return n[s]||(n[s]=new IntersectionObserver(Uie,{root:t,...e})),n[s]}function Yie(t,e,r){const n=Gie(e);return Y5.set(t,r),n.observe(t),()=>{Y5.delete(t),n.unobserve(t)}}const Kie={some:0,all:1};class Xie extends Uc{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:n,amount:s="some",once:i}=e,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof s=="number"?s:Kie[s]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,i&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:h,onViewportLeave:m}=this.node.getProps(),x=d?h:m;x&&x(c)};return Yie(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(Jie(e,r))&&this.startObserver()}unmount(){}}function Jie({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const Qie={inView:{Feature:Xie},tap:{Feature:Wie},focus:{Feature:Vie},hover:{Feature:zie}},Zie={layout:{ProjectionNode:DW,MeasureLayout:kW}},eoe={...$se,...Qie,...Bie,...Zie},C=ese(eoe,hse);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const toe=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),roe=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,n)=>n?n.toUpperCase():r.toLowerCase()),SR=t=>{const e=roe(t);return e.charAt(0).toUpperCase()+e.slice(1)},PW=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim(),noe=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var aoe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const soe=g.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:o,...l},c)=>g.createElement("svg",{ref:c,...aoe,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:PW("lucide",s),...!i&&!noe(l)&&{"aria-hidden":"true"},...l},[...o.map(([d,h])=>g.createElement(d,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const st=(t,e)=>{const r=g.forwardRef(({className:n,...s},i)=>g.createElement(soe,{ref:i,iconNode:e,className:PW(`lucide-${toe(SR(t))}`,`lucide-${t}`,n),...s}));return r.displayName=SR(t),r};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ioe=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],fo=st("activity",ioe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ooe=[["path",{d:"M17 12H7",key:"16if0g"}],["path",{d:"M19 18H5",key:"18s9l3"}],["path",{d:"M21 6H3",key:"1jwq7v"}]],loe=st("align-center",ooe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const coe=[["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 18h18",key:"1h113x"}],["path",{d:"M3 6h18",key:"d0wm0j"}]],uoe=st("align-justify",coe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const doe=[["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 18H3",key:"1amg6g"}],["path",{d:"M21 6H3",key:"1jwq7v"}]],foe=st("align-left",doe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hoe=[["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M21 18H7",key:"1ygte8"}],["path",{d:"M21 6H3",key:"1jwq7v"}]],moe=st("align-right",hoe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const poe=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],goe=st("archive",poe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xoe=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],kr=st("arrow-left",xoe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yoe=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],boe=st("arrow-right",yoe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const voe=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],tO=st("bell",voe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const woe=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],joe=st("bold",woe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Soe=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],ll=st("book-open",Soe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Noe=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],koe=st("box",Noe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Coe=[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]],RW=st("boxes",Coe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Toe=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],td=st("building",Toe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _oe=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],xn=st("calendar",_oe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Moe=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Aoe=st("camera",Moe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ooe=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M7 16h8",key:"srdodz"}],["path",{d:"M7 11h12",key:"127s9w"}],["path",{d:"M7 6h3",key:"w9rmul"}]],og=st("chart-bar",Ooe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eoe=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],NR=st("chart-column",Eoe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Doe=[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]],Ui=st("chart-no-axes-column",Doe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Poe=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],Roe=st("chart-pie",Poe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ioe=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],cn=st("chevron-down",Ioe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Loe=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Il=st("chevron-left",Loe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $oe=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],sn=st("chevron-right",$oe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Foe=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],bb=st("chevron-up",Foe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hoe=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],$t=st("circle-check-big",Hoe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Boe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],zoe=st("circle-x",Boe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Voe=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]],ir=st("clipboard",Voe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Woe=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Lt=st("clock",Woe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qoe=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],Uoe=st("code",qoe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Goe=[["path",{d:"M15.536 11.293a1 1 0 0 0 0 1.414l2.376 2.377a1 1 0 0 0 1.414 0l2.377-2.377a1 1 0 0 0 0-1.414l-2.377-2.377a1 1 0 0 0-1.414 0z",key:"1uwlt4"}],["path",{d:"M2.297 11.293a1 1 0 0 0 0 1.414l2.377 2.377a1 1 0 0 0 1.414 0l2.377-2.377a1 1 0 0 0 0-1.414L6.088 8.916a1 1 0 0 0-1.414 0z",key:"10291m"}],["path",{d:"M8.916 17.912a1 1 0 0 0 0 1.415l2.377 2.376a1 1 0 0 0 1.414 0l2.377-2.376a1 1 0 0 0 0-1.415l-2.377-2.376a1 1 0 0 0-1.414 0z",key:"1tqoq1"}],["path",{d:"M8.916 4.674a1 1 0 0 0 0 1.414l2.377 2.376a1 1 0 0 0 1.414 0l2.377-2.376a1 1 0 0 0 0-1.414l-2.377-2.377a1 1 0 0 0-1.414 0z",key:"1x6lto"}]],Yoe=st("component",Goe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Koe=[["rect",{width:"14",height:"8",x:"5",y:"2",rx:"2",key:"wc9tft"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",key:"w68u3i"}],["path",{d:"M6 18h2",key:"rwmk9e"}],["path",{d:"M12 18h6",key:"aqd8w3"}]],Xoe=st("computer",Koe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Joe=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Qoe=st("credit-card",Joe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zoe=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Dw=st("database",Zoe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ele=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],rO=st("external-link",ele);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tle=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],us=st("eye",tle);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rle=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Of=st("file-text",rle);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nle=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],ale=st("file",nle);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sle=[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],ile=st("folder-plus",sle);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ole=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],IW=st("folder",ole);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lle=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 16s-1.5-2-4-2-4 2-4 2",key:"epbg0q"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],cle=st("frown",lle);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ule=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Xa=st("funnel",ule);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dle=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],fle=st("globe",dle);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hle=[["path",{d:"m15 12-8.373 8.373a1 1 0 1 1-3-3L12 9",key:"eefl8a"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172V7l-2.26-2.26a6 6 0 0 0-4.202-1.756L9 2.96l.92.82A6.18 6.18 0 0 1 12 8.4V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"b7pghm"}]],mle=st("hammer",hle);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ple=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"m17 12 3-2v8",key:"1hhhft"}]],gle=st("heading-1",ple);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xle=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1",key:"9jr5yi"}]],yle=st("heading-2",xle);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ble=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17.5 10.5c1.7-1 3.5 0 3.5 1.5a2 2 0 0 1-2 2",key:"68ncm8"}],["path",{d:"M17 17.5c2 1.5 4 .3 4-1.5a2 2 0 0 0-2-2",key:"1ejuhz"}]],vle=st("heading-3",ble);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wle=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Uf=st("history",wle);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jle=[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]],mr=st("hourglass",jle);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sle=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],lg=st("house",Sle);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nle=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],sa=st("info",Nle);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kle=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],Cle=st("italic",kle);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tle=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Gf=st("key",Tle);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _le=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.93 4.93 4.24 4.24",key:"1ymg45"}],["path",{d:"m14.83 9.17 4.24-4.24",key:"1cb5xl"}],["path",{d:"m14.83 14.83 4.24 4.24",key:"q42g0n"}],["path",{d:"m9.17 14.83-4.24 4.24",key:"bqpfvv"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]],LW=st("life-buoy",_le);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mle=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],Ale=st("link",Mle);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ole=[["path",{d:"M11 18H3",key:"n3j2dh"}],["path",{d:"m15 18 2 2 4-4",key:"1szwhi"}],["path",{d:"M16 12H3",key:"1a2rj7"}],["path",{d:"M16 6H3",key:"1wxfjs"}]],t0=st("list-check",Ole);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ele=[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]],K5=st("list-checks",Ele);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dle=[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]],Ple=st("list-ordered",Dle);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rle=[["path",{d:"M11 12H3",key:"51ecnj"}],["path",{d:"M16 6H3",key:"1wxfjs"}],["path",{d:"M16 18H3",key:"12xzn7"}],["path",{d:"M18 9v6",key:"1twb98"}],["path",{d:"M21 12h-6",key:"bt1uis"}]],Lh=st("list-plus",Rle);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ile=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],$W=st("list",Ile);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lle=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],vb=st("loader",Lle);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $le=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Fle=st("lock",$le);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hle=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Ble=st("log-out",Hle);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zle=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],$h=st("mail",zle);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vle=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Si=st("map-pin",Vle);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wle=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],Ef=st("message-square",Wle);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qle=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],Fh=st("monitor",qle);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ule=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],FW=st("moon",Ule);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gle=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],kn=st("package",Gle);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yle=[["path",{d:"m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z",key:"irua1i"}],["path",{d:"m5 2 5 5",key:"1lls2c"}],["path",{d:"M2 13h15",key:"1hkzvu"}],["path",{d:"M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z",key:"xk76lq"}]],Kle=st("paint-bucket",Yle);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xle=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],Jle=st("palette",Xle);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qle=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],Ni=st("paperclip",Qle);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zle=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],yo=st("phone",Zle);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ece=[["path",{d:"M13 4v16",key:"8vvj80"}],["path",{d:"M17 4v16",key:"7dpous"}],["path",{d:"M19 4H9.5a4.5 4.5 0 0 0 0 9H13",key:"sh4n9v"}]],tce=st("pilcrow",ece);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rce=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Jn=st("plus",rce);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nce=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],ace=st("printer",nce);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sce=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],ice=st("receipt",sce);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oce=[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5A5.5 5.5 0 0 0 9.5 20H13",key:"6uklza"}]],lce=st("redo-2",oce);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cce=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],uce=st("refresh-cw",cce);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dce=[["path",{d:"M4 7V4h16v3",key:"9msm58"}],["path",{d:"M5 20h6",key:"1h6pxn"}],["path",{d:"M13 4 8 20",key:"kqq6aj"}],["path",{d:"m15 15 5 5",key:"me55sn"}],["path",{d:"m20 15-5 5",key:"11p7ol"}]],fce=st("remove-formatting",dce);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hce=[["path",{d:"M10 2v3a1 1 0 0 0 1 1h5",key:"1xspal"}],["path",{d:"M18 18v-6a1 1 0 0 0-1-1h-6a1 1 0 0 0-1 1v6",key:"1ra60u"}],["path",{d:"M18 22H4a2 2 0 0 1-2-2V6",key:"pblm9e"}],["path",{d:"M8 18a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9.172a2 2 0 0 1 1.414.586l2.828 2.828A2 2 0 0 1 22 6.828V16a2 2 0 0 1-2.01 2z",key:"1yve0x"}]],mce=st("save-all",hce);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pce=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Ar=st("save",pce);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gce=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Wn=st("search",gce);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xce=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Tn=st("settings",xce);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yce=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],bce=st("shopping-cart",yce);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vce=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Bn=st("square-pen",vce);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wce=[["path",{d:"M16 4H9a3 3 0 0 0-2.83 4",key:"43sutm"}],["path",{d:"M14 12a4 4 0 0 1 0 8H6",key:"nlfj13"}],["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}]],jce=st("strikethrough",wce);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sce=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],X5=st("sun",Sce);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nce=[["path",{d:"M10 15h4",key:"192ueg"}],["path",{d:"m14.817 10.995-.971-1.45 1.034-1.232a2 2 0 0 0-2.025-3.238l-1.82.364L9.91 3.885a2 2 0 0 0-3.625.748L6.141 6.55l-1.725.426a2 2 0 0 0-.19 3.756l.657.27",key:"xbnumr"}],["path",{d:"m18.822 10.995 2.26-5.38a1 1 0 0 0-.557-1.318L16.954 2.9a1 1 0 0 0-1.281.533l-.924 2.122",key:"eaw7gc"}],["path",{d:"M4 12.006A1 1 0 0 1 4.994 11H19a1 1 0 0 1 1 1v7a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2z",key:"1vaooh"}]],Gi=st("tool-case",Nce);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kce=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],dn=st("trash-2",kce);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cce=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Ou=st("trending-up",Cce);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tce=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],er=st("triangle-alert",Tce);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ce=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],HW=st("type",_ce);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mce=[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]],Ace=st("undo-2",Mce);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oce=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Ja=st("upload",Oce);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ece=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],kR=st("user-check",Ece);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dce=[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],wb=st("user-cog",Dce);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pce=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Rce=st("user-plus",Pce);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ice=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Mr=st("user",Ice);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lce=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],xa=st("users",Lce);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ce=[["path",{d:"M18 21V10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1v11",key:"pb2vm6"}],["path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 1.132-1.803l7.95-3.974a2 2 0 0 1 1.837 0l7.948 3.974A2 2 0 0 1 22 8z",key:"doq5xv"}],["path",{d:"M6 13h12",key:"yf64js"}],["path",{d:"M6 17h12",key:"1jwigz"}]],Df=st("warehouse",$ce);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fce=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]],pn=st("wrench",Fce);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hce=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],at=st("x",Hce),fa=J.memo(({icon:t,text:e,to:r,expanded:n})=>{const s=jt(),o=ua().pathname===r;return a.jsxs(C.button,{onClick:()=>s(r),whileHover:{backgroundColor:o?void 0:"rgba(239, 246, 255, 0.6)"},whileTap:{scale:.98},className:`relative w-full text-left flex items-center py-3 px-4 rounded-xl transition-all duration-200 ease-in-out group
        ${o?"bg-blue-600 text-white shadow-lg":"text-gray-700 hover:text-blue-700"}
      `,children:[a.jsx("span",{className:`text-xl transition-colors duration-200 ${o?"text-white":"text-blue-500 group-hover:text-blue-700"}`,children:t}),n&&a.jsx(C.span,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{duration:.15},className:"ml-4 text-base font-medium whitespace-nowrap",children:e})]})}),Bce=()=>{const[t,e]=g.useState(()=>{const c=localStorage.getItem("sidebarOpen");return c?JSON.parse(c):!1}),[r,n]=g.useState(window.innerWidth<768),{user:s,hasPermission:i}=St(),o=g.useRef(null);g.useEffect(()=>{const c=o.current;if(c){const d=sessionStorage.getItem("sidebarScrollPos");d&&(c.scrollTop=parseInt(d,10));const h=()=>{sessionStorage.setItem("sidebarScrollPos",c.scrollTop.toString())};return c.addEventListener("scroll",h),()=>{c.removeEventListener("scroll",h)}}},[]);const l=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!t)),e(c=>!c)};return a.jsx("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:a.jsx(kt,{children:(!r||t)&&a.jsxs(C.div,{initial:{width:r?0:t?280:80,opacity:0},animate:{width:t?280:80,opacity:1},exit:{width:0,opacity:0},transition:{duration:.25,ease:"easeInOut"},className:`bg-white border-r border-gray-100 flex flex-col shadow-xl overflow-hidden ${r?"fixed z-50 h-full":""}`,children:[a.jsxs("div",{className:"p-4 flex items-center justify-between border-b border-gray-100",children:[t?a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("img",{src:Vf,alt:"Logo Wida",className:"h-9 w-auto"}),a.jsx("p",{className:"text-blue-600 font-bold text-xl tracking-wide",children:"CMMS"})]}):a.jsx("img",{src:Vf,alt:"Logo Wida",className:"h-8 w-auto mx-auto"}),a.jsx("button",{onClick:l,className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200","aria-label":t?"Collapse sidebar":"Expand sidebar",children:t?a.jsx(Il,{className:"text-xl"}):a.jsx(sn,{className:"text-xl"})})]}),a.jsxs("nav",{ref:o,className:"flex-1 p-3 space-y-1.5 overflow-y-auto sidebar-nav",children:[i("1")&&a.jsx(fa,{icon:a.jsx(lg,{}),text:"Dashboard",to:"/dashboard",expanded:t}),t&&a.jsx("h3",{className:"text-xs font-semibold uppercase text-gray-400 px-4 pt-4 pb-1 tracking-wider",children:"System"}),i("23")&&a.jsx(fa,{icon:a.jsx(t0,{}),text:"Audit Trail",to:"/audittrail",expanded:t}),i("23")&&a.jsx(fa,{icon:a.jsx(Uf,{}),text:"Backup & Restore",to:"/backupandrestore",expanded:t}),i("23")&&a.jsx(fa,{icon:a.jsx(Uf,{}),text:"Workflow Approval",to:"/workflowapproval",expanded:t}),t&&a.jsx("h3",{className:"text-xs font-semibold uppercase text-gray-400 px-4 pt-4 pb-1 tracking-wider",children:"Master"}),i("23")&&a.jsx(fa,{icon:a.jsx(Si,{}),text:"Work Location",to:"/worklocation",expanded:t}),i("23")&&a.jsx(fa,{icon:a.jsx(xa,{}),text:"Work Arrangement",to:"/workarrangement",expanded:t}),i("15")&&a.jsx(fa,{icon:a.jsx(Gf,{}),text:"User Management",to:"/permissions",expanded:t}),i("23")&&a.jsx(fa,{icon:a.jsx(pn,{}),text:"Spare Part",to:"/sparepart",expanded:t}),i("3")&&a.jsx(fa,{icon:a.jsx(kn,{}),text:"Assets",to:"/assets",expanded:t}),i("3")&&a.jsx(fa,{icon:a.jsx(kn,{}),text:"Vendors",to:"/vendors",expanded:t}),i("3")&&a.jsx(fa,{icon:a.jsx(LW,{}),text:"Services",to:"/services",expanded:t}),i("3")&&a.jsx(fa,{icon:a.jsx(Gi,{}),text:"Maintenance Activity",to:"/maintenanceactivity",expanded:t}),t&&a.jsx("h3",{className:"text-xs font-semibold uppercase text-gray-400 px-4 pt-4 pb-1 tracking-wider",children:"Maintenance"}),i("31")&&a.jsx(fa,{icon:a.jsx(og,{}),text:"Machine History",to:"/machinehistory",expanded:t}),i("31")&&a.jsx(fa,{icon:a.jsx(Fh,{}),text:"Monitoring Maintenance",to:"/monitoringmaintenance",expanded:t}),t&&a.jsx("h3",{className:"text-xs font-semibold uppercase text-gray-400 px-4 pt-4 pb-1 tracking-wider",children:"Work Orders"}),i("7")&&a.jsx(fa,{icon:a.jsx(ir,{}),text:"Work Orders",to:"/workorders",expanded:t}),t&&a.jsx("h3",{className:"text-xs font-semibold uppercase text-gray-400 px-4 pt-4 pb-1 tracking-wider",children:"Spare Parts"}),i("23")&&a.jsx(fa,{icon:a.jsx(Yoe,{}),text:"Sparepart Detail",to:"/sparepartdetail",expanded:t}),i("23")&&a.jsx(fa,{icon:a.jsx(bce,{}),text:"Purchase Order Realization",to:"/purchaseorderrealization",expanded:t}),i("23")&&a.jsx(fa,{icon:a.jsx(ice,{}),text:"Transaction by Item",to:"/transactionbyitem",expanded:t}),i("23")&&a.jsx(fa,{icon:a.jsx(goe,{}),text:"Spare Part Management",to:"/sparepartmanagement",expanded:t})]}),a.jsx("div",{className:"p-4 border-t border-gray-100",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("img",{src:`https://api.dicebear.com/7.x/initials/svg?seed=${(s==null?void 0:s.name)||"User"}&backgroundColor=0081ff,3d5a80,ffc300,e0b589&backgroundType=gradientLinear&radius=50`,alt:"User Avatar",className:"w-10 h-10 rounded-full border-2 border-blue-400 object-cover"}),t&&a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-gray-800 text-sm",children:"Application Version"}),a.jsx("p",{className:"text-xs text-gray-500",children:"1.0.0"})," "]})]})})]})})})},vt=J.memo(Bce),CR=[{id:1,title:"Machine A Warning",description:"Machine A temperature exceeds normal limits.",date:"Today, 10:00 AM",icon:a.jsx(er,{className:"text-red-500"})},{id:2,title:"Upcoming Maintenance Schedule",description:"Routine maintenance for Machine B will be performed tomorrow.",date:"Yesterday, 03:00 PM",icon:a.jsx(xn,{className:"text-blue-500"})}],TR={"/dashboard":"Dashboard","/assets":"Assets","/assets/assetsdata":"Assets Data","/assets/assetsdata/addasset":"Add Asset","/assets/assetsdata/editasset/:id":"Edit Asset","/machinehistory":"Machine History","/machinehistory/reports":"Machine History Reports","/machinehistory/addmachinehistory":"Add Machine History","/machinehistory/edit/:id":"Edit Machine History","/workorders":"Work Orders","/workorders/it":"IT Work Orders","/workorders/it/addworkorder":"Add Work Order","/workorders/it/editworkorder/:id":"Edit Work Order","/workorders/it/receiver":"Receiver","/workorders/it/assignment":"Assignment","/workorders/it/reports":"Reports","/workorders/it/knowledgebase":"Knowledge Base","/inventory":"Inventory","/reports":"Reports","/team":"Team","/settings":"Settings","/settings/change-password":"Change Password","/permissions":"Permissions","/permissions/adduser":"Add User","/audittrail":"Audit Trail","/workflowapproval":"Workflow Approval","/workflowapproval/monitoringapproval":"Approval Monitoring","/vendors":"Vendors","/vendors/addvendor":"Add Vendor","/vendors/editvendor/:id":"Edit Vendor","/services":"Services","/services/servicegroups":"Service Groups","/services/servicegroups/addservicegroup":"Add Service Group","/services/servicegroups/editservicegroup/:id":"Edit Service Group","/services/servicecatalogues":"Service Catalogues","/services/servicecatalogues/addservicecatalogue":"Add Service Catalogue","/services/servicecatalogues/editservicecatalogue/:id":"Edit Service Catalogue","/maintenanceactivity":"Maintenance Activity","/maintenanceactivity/stoptimes":"Stop Times","/maintenanceactivity/stoptimes/addstoptime":"Add Stop Time","/maintenanceactivity/stoptimes/editstoptime/:id":"Edit Stop Time","/maintenanceactivity/activitytypes":"Activity Types","/maintenanceactivity/activitytypes/addactivitytype":"Add Activity Type","/maintenanceactivity/activitytypes/editactivitytype/:id":"Edit Activity Type","/maintenanceactivity/activity":"Activity","/maintenanceactivity/activity/addactivity":"Add Activity","/maintenanceactivity/activity/editactivity/:id":"Edit Activity","/maintenanceactivity/troubleitem":"Trouble Item","/maintenanceactivity/troubleitem/addtroubleitem":"Add Trouble Item","/maintenanceactivity/troubleitem/edittroubleitem/:id":"Edit Trouble Item","/worklocation":"Work Location","/worklocation/department":"Department","/worklocation/department/adddepartment":"Add Department","/worklocation/department/editdepartment/:id":"Edit Department","/worklocation/workunit":"Work Unit","/worklocation/workunit/addworkunit":"Add Work Unit","/worklocation/workunit/editworkunit/:id":"Edit Work Unit","/worklocation/workarea":"Work Area","/worklocation/workarea/addworkarea":"Add Work Area","/worklocation/workarea/editworkarea/:id":"Edit Work Area","/workarrangement":"Work Arrangement","/workarrangement/workshift":"Work Shift","/workarrangement/workshift/addworkshift":"Add Work Shift","/workarrangement/workshift/editworkshift/:id":"Edit Work Shift","/workarrangement/workgroup":"Work Group","/workarrangement/workgroup/addworkgroup":"Add Work Group","/workarrangement/workgroup/editworkgroup/:id":"Edit Work Group","/sparepart":"Spare Part","/monitoringmaintenance":"Maintenance Monitoring","/monitoringmaintenance/detailmonitoringmaintenance":"Monitoring Details","/monitoringmaintenance/formmonitoringmaintenance":"Monitoring Form"},Mt=({mainTitle:t,mainTitleHighlight:e,description:r,icon:n,isMobile:s,toggleSidebar:i})=>{const{user:o,logout:l}=St(),c=jt(),d=ua(),[h,m]=g.useState(!1),[x,y]=g.useState(!1),[w,j]=g.useState(!1),v=g.useRef(null),N=g.useRef(null);g.useEffect(()=>{const _=A=>{v.current&&!v.current.contains(A.target)&&m(!1),N.current&&!N.current.contains(A.target)&&y(!1)};return document.addEventListener("mousedown",_),()=>{document.removeEventListener("mousedown",_)}},[]);const S=(()=>{const _=d.pathname.split("/").filter(D=>D!==""),A=[];A.push({label:"Dashboard",path:"/dashboard",isClickable:!0});let E="";for(let D=0;D<_.length;D++){const $=_[D];if(E+=`/${$}`,/^\d+$/.test($)||/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test($))continue;const I=TR[E]||$.charAt(0).toUpperCase()+$.slice(1).replace(/([A-Z])/g," $1");A.push({label:I,path:E,isClickable:D<_.length-1&&TR[E]!==void 0})}return A})(),O=n.props.className||"";return a.jsxs(a.Fragment,{children:[a.jsxs("header",{className:"bg-white border-b border-gray-100 p-4 flex items-center justify-between shadow-sm sticky top-0 z-30",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[s&&a.jsx(C.button,{onClick:i,whileHover:{scale:1.05},whileTap:{scale:.95},className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200",children:a.jsx(sn,{className:"text-xl"})}),J.cloneElement(n,{className:`text-xl text-blue-600 ${O}`}),a.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900",children:t})]}),a.jsxs("div",{className:"flex items-center space-x-3 relative",children:[a.jsx(C.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>j(!w),className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200","aria-label":w?"Switch to light mode":"Switch to dark mode",children:w?a.jsx(X5,{className:"text-yellow-400 text-xl"}):a.jsx(FW,{className:"text-xl"})}),a.jsxs("div",{className:"relative",ref:v,children:[a.jsxs(C.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>m(!h),className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200 relative","aria-label":"Notifications",children:[a.jsx(tO,{className:"text-xl"}),a.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-orange-500 rounded-full animate-pulse border border-white"})]}),a.jsx(kt,{children:h&&a.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.2},className:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-xl overflow-hidden z-50 border border-gray-100",children:[a.jsx("div",{className:"p-4 border-b border-gray-100",children:a.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Notifications"})}),a.jsx("div",{className:"max-h-80 overflow-y-auto custom-scrollbar",children:CR.length>0?CR.map(_=>a.jsxs("div",{className:"flex items-start p-4 border-b border-gray-50 last:border-b-0 hover:bg-blue-50 transition-colors cursor-pointer",children:[_.icon&&a.jsx("div",{className:"flex-shrink-0 mr-3",children:_.icon}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-semibold text-gray-800",children:_.title}),a.jsx("p",{className:"text-xs text-gray-600 mt-1",children:_.description}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:_.date})]})]},_.id)):a.jsx("p",{className:"p-4 text-center text-gray-500 text-sm",children:"No new notifications."})}),a.jsx("div",{className:"p-4 border-t border-gray-100 text-center",children:a.jsx("button",{onClick:()=>{m(!1)},className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Mark all as read"})})]})})]}),a.jsxs("div",{className:"relative",ref:N,children:[a.jsxs(C.button,{whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},whileTap:{scale:.98},onClick:()=>y(!x),className:"flex items-center space-x-2 cursor-pointer p-2 rounded-lg transition-colors duration-200",children:[a.jsx("img",{src:`https://api.dicebear.com/7.x/initials/svg?seed=${(o==null?void 0:o.name)||"User"}&backgroundColor=0081ff,3d5a80,ffc300,e0b589&backgroundType=gradientLinear&radius=50`,alt:"User Avatar",className:"w-8 h-8 rounded-full border border-blue-200 object-cover"}),a.jsx("span",{className:"font-medium text-gray-900 text-sm hidden sm:inline",children:o==null?void 0:o.name}),a.jsx(cn,{className:"text-gray-500 text-base"})]}),a.jsx(kt,{children:x&&a.jsxs(C.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg py-2 z-40 border border-gray-100",children:[a.jsx("div",{className:"px-4 py-2 text-xs text-gray-500 border-b border-gray-100",children:"Signed in as"}),a.jsx("div",{className:"px-4 py-2 font-semibold text-gray-800 border-b border-gray-100",children:(o==null?void 0:o.name)||"Guest User"}),a.jsxs("button",{onClick:()=>{c("/settings"),y(!1)},className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-blue-50 w-full text-left",children:[a.jsx(Tn,{size:16,className:"mr-2"})," Settings"]}),a.jsx("hr",{className:"my-1 border-gray-100"}),a.jsxs("button",{onClick:()=>{c("/logout")},className:"flex items-center px-4 py-2 text-sm text-red-600 hover:bg-red-50 w-full text-left",children:[a.jsx(Ble,{size:16,className:"mr-2"})," Logout"]})]})})]})]})]}),a.jsx("div",{className:"bg-gray-50 border-b border-gray-100 px-4 py-3",children:a.jsx("div",{className:"flex items-center space-x-2 text-sm",children:S.map((_,A)=>a.jsxs("div",{className:"flex items-center space-x-2",children:[A===0?a.jsx(lg,{size:16,className:"text-gray-400"}):a.jsx(sn,{size:16,className:"text-gray-400"}),_.isClickable?a.jsx("button",{onClick:()=>c(_.path),className:"text-blue-600 hover:text-blue-800 font-medium transition-colors duration-200",children:_.label}):a.jsx("span",{className:"text-gray-600 font-medium",children:_.label})]},_.path))})})]})},Gx=({title:t,value:e,change:r,icon:n})=>{const s=r.startsWith("+");return a.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),a.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),a.jsxs("p",{className:`mt-3 text-xs font-semibold ${s?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})},_R=()=>{var L;const[t,e]=g.useState(!1),[r,n]=g.useState(()=>{const R=localStorage.getItem("sidebarOpen");return R?JSON.parse(R):!1}),[s,i]=g.useState(1),{user:o,fetchWithAuth:l,hasPermission:c}=St(),[d,h]=g.useState(null),m=jt(),[x,y]=g.useState(!1),[w,j]=g.useState(window.innerWidth<768),[v,N]=g.useState(!1),[T,S]=g.useState(!1),O=g.useRef(null),_=g.useRef(null);g.useEffect(()=>{const R=()=>{j(window.innerWidth<768),window.innerWidth<768&&n(!1)};return window.addEventListener("resize",R),()=>window.removeEventListener("resize",R)},[]),g.useEffect(()=>{const R=z=>{O.current&&!O.current.contains(z.target)&&N(!1),_.current&&!_.current.contains(z.target)&&S(!1)};return document.addEventListener("mousedown",R),()=>{document.removeEventListener("mousedown",R)}},[]);const A=[{id:1,title:"Maintenance Efficiency Improved",description:"Preventive maintenance completion rate increased by 15% this month",icon:a.jsx(Ou,{className:"text-green-500"}),date:"Today, 09:30 AM"},{id:2,title:"3 Assets Requiring Attention",description:"Critical assets showing signs of wear need inspection",icon:a.jsx(er,{className:"text-yellow-500"}),date:"Yesterday, 02:15 PM"},{id:3,title:"Monthly Maintenance Completed",description:"All scheduled maintenance tasks completed on time",icon:a.jsx($t,{className:"text-blue-500"}),date:"Jul 28, 2023"}],E=[{id:1,name:"Budi Santoso",role:"Maintenance Technician",avatar:"https://randomuser.me/api/portraits/men/32.jpg",comment:"The HVAC system in Building A needs calibration. Temperature fluctuations observed.",time:"2 hours ago"},{id:2,name:"Ani Wijaya",role:"Facility Manager",avatar:"https://randomuser.me/api/portraits/women/44.jpg",comment:"Completed generator maintenance ahead of schedule. All parameters normal.",time:"5 hours ago"},{id:3,name:"Rudi Hermawan",role:"Operations Supervisor",avatar:"https://randomuser.me/api/portraits/men/67.jpg",comment:"Requesting additional spare parts for conveyor system maintenance next week.",time:"1 day ago"}],D={total:142,running:118,maintenance:15,breakdown:5,idle:4},$={total:86,overdue:5},I=()=>{y(!0),localStorage.setItem("sidebarOpen",JSON.stringify(!r)),n(R=>!R)};return g.useEffect(()=>{i(1),(async()=>{try{const z=await l("/protected-data");h(z)}catch(z){console.error("Failed to fetch data:",z)}})(),document.documentElement.classList.toggle("dark",t),localStorage.setItem("sidebarOpen",JSON.stringify(r))},[r,t,l]),a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Mt,{mainTitle:"Dashboard",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:a.jsx(lg,{}),isMobile:w,toggleSidebar:I}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.4},className:"bg-gradient-to-r from-blue-600 to-blue-800 rounded-2xl p-6 text-white mb-6 shadow-lg hover:shadow-xl transition-all duration-300",children:[a.jsxs("h1",{className:"text-2xl md:text-3xl font-bold mb-2",children:["Welcome back, ",(o==null?void 0:o.name)||((L=o==null?void 0:o.roles)==null?void 0:L[0]),"!"]}),a.jsx("p",{className:"opacity-90 text-sm",children:"Here's what's happening with your assets today"})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[a.jsx(Gx,{title:"Total Assets",value:D.total.toString(),change:"+8%",icon:a.jsx(kn,{})}),a.jsx(Gx,{title:"Assets Running",value:D.running.toString(),change:"+5%",icon:a.jsx($t,{})}),a.jsx(Gx,{title:"Work Orders",value:$.total.toString(),change:"-3%",icon:a.jsx(ir,{})}),a.jsx(Gx,{title:"Overdue Tasks",value:$.overdue.toString(),change:"+2%",icon:a.jsx(Lt,{})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 md:gap-6",children:[a.jsxs("div",{className:"lg:col-span-2",children:[a.jsxs(C.div,{whileHover:{boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},className:"bg-white rounded-2xl p-4 md:p-6 border border-blue-50 shadow-md mb-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Recent Insights"}),a.jsx(C.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"text-blue-600 text-sm font-medium",children:"View All"})]}),a.jsx("div",{className:"space-y-4",children:A.map(R=>a.jsxs(C.div,{whileHover:{x:5,backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"flex items-start p-3 hover:bg-blue-50 rounded-xl transition-colors cursor-pointer",children:[a.jsx("div",{className:"p-2 mr-3 mt-0.5 rounded-full bg-blue-50 text-blue-600",children:R.icon}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-medium text-gray-800",children:R.title}),a.jsx("p",{className:"text-sm text-gray-600",children:R.description}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:R.date})]})]},R.id))})]}),a.jsxs(C.div,{whileHover:{boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},className:"bg-white rounded-2xl p-4 md:p-6 border border-blue-50 shadow-md",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Asset Status Distribution"}),a.jsx("div",{className:"h-64 bg-gray-50 rounded-lg flex items-center justify-center",children:a.jsxs("div",{className:"text-center text-gray-500",children:[a.jsx(Ui,{className:"mx-auto text-4xl mb-2"}),a.jsx("p",{children:"Asset Status Chart"})]})}),a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 mt-4 text-center",children:[a.jsxs("div",{children:[a.jsx("div",{className:"h-2 w-full bg-green-500 rounded-full"}),a.jsxs("p",{className:"text-sm mt-1 text-gray-700",children:["Running (",Math.round(D.running/D.total*100),"%)"]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"h-2 w-full bg-yellow-500 rounded-full"}),a.jsxs("p",{className:"text-sm mt-1 text-gray-700",children:["Maintenance (",Math.round(D.maintenance/D.total*100),"%)"]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"h-2 w-full bg-red-500 rounded-full"}),a.jsxs("p",{className:"text-sm mt-1 text-gray-700",children:["Breakdown (",Math.round(D.breakdown/D.total*100),"%)"]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"h-2 w-full bg-blue-500 rounded-full"}),a.jsxs("p",{className:"text-sm mt-1 text-gray-700",children:["Idle (",Math.round(D.idle/D.total*100),"%)"]})]})]})]})]}),a.jsxs("div",{children:[a.jsxs(C.div,{whileHover:{boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},className:"bg-white rounded-2xl p-4 md:p-6 border border-blue-50 shadow-md mb-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Team Updates"}),a.jsx(C.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"text-blue-600 text-sm font-medium",children:"View All"})]}),a.jsx("div",{className:"space-y-4",children:E.map(R=>a.jsx(C.div,{whileHover:{y:-3,boxShadow:"0 2px 10px rgba(0,0,0,0.05)"},className:"p-3 border border-blue-100 rounded-xl cursor-pointer bg-white",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx(C.img,{whileHover:{rotate:5},src:R.avatar,alt:R.name,className:"w-10 h-10 rounded-full mr-3 object-cover"}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center flex-wrap",children:[a.jsx("h4",{className:"font-medium text-gray-900",children:R.name}),a.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-0.5 rounded-full ml-2",children:R.role})]}),a.jsx("p",{className:"text-sm mt-1 text-gray-700",children:R.comment}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:R.time})]})]})},R.id))})]}),a.jsxs(C.div,{whileHover:{boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},className:"bg-white rounded-2xl p-4 md:p-6 border border-blue-50 shadow-md",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Quick Actions"}),a.jsx("div",{className:"space-y-3",children:[{text:"Create Work Order",icon:a.jsx(ir,{className:"text-blue-600 text-lg"}),onClick:()=>m("/workorders")},{text:"Add New Asset",icon:a.jsx(kn,{className:"text-blue-600 text-lg"}),onClick:()=>m("/assets")},{text:"Send Announcement",icon:a.jsx(Ef,{className:"text-blue-600 text-lg"}),onClick:()=>m("/dashboard")},{text:"Generate Report",icon:a.jsx(Ui,{className:"text-blue-600 text-lg"}),onClick:()=>m("/reports")}].map((R,z)=>a.jsxs(C.button,{whileHover:{x:5,backgroundColor:"rgba(239, 246, 255, 1)"},whileTap:{scale:.98},className:"w-full flex items-center justify-between p-3 bg-blue-50 hover:bg-blue-100 rounded-lg transition-colors text-gray-800 font-semibold text-sm",onClick:R.onClick,children:[a.jsx("span",{children:R.text}),R.icon]},z))})]})]})]})]})]})]})},zce=()=>a.jsx("div",{className:"flex justify-center items-center fixed inset-0 w-full h-full bg-white/70 backdrop-blur-sm z-50",children:a.jsx("div",{className:"w-16 h-16 border-4 border-solid border-blue-500 border-t-transparent rounded-full animate-spin"})}),es=({requiredPermissions:t=[]})=>{const{token:e,user:r,hasPermission:n,isAuthLoading:s}=St(),i=jt(),o=ua();return g.useEffect(()=>{if(!s){if(!e){i("/login",{state:{from:o},replace:!0});return}r&&t.length>0&&!t.some(c=>n(c))&&i("/unauthorized",{state:{from:o},replace:!0})}},[e,r,t,n,i,o,s]),s?a.jsx(zce,{}):e&&(t.length===0||r&&t.some(c=>n(c)))?a.jsx(Nte,{}):null},Vce=()=>{const[t,e]=g.useState(""),[r,n]=g.useState(""),[s,i]=g.useState(""),[o,l]=g.useState(!1),c=async d=>{d.preventDefault(),n(""),i(""),l(!0);try{await new Promise(h=>setTimeout(h,1e3)),i(`Password reset link sent to ${t}`),e("")}catch(h){n(h instanceof Error?h.message:"Failed to send reset link")}finally{l(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-white to-blue-50 p-4",children:a.jsx("div",{className:"w-full max-w-md",children:a.jsxs("form",{onSubmit:c,className:"relative w-full bg-white rounded-lg shadow-sm border border-gray-100 p-8 sm:p-10 md:p-12","aria-label":"Forgot Password Form",children:[a.jsx("div",{className:"flex justify-center mb-8",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"rounded-lg flex items-center justify-center",children:a.jsx("img",{src:Vf,alt:"Logo Wida",className:"h-20 w-auto"})}),a.jsx("span",{className:"text-2xl font-bold text-blue-800 italic",children:"PT WIDATRA BHAKTI"})]})}),a.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-2 text-center",children:"Reset Password"}),a.jsx("p",{className:"text-sm text-gray-500 text-center mb-8",children:"Enter your NIK to receive a reset link"}),r&&a.jsxs("div",{className:"mb-6 text-sm text-red-700 bg-red-50 border border-red-100 px-4 py-3 rounded-md flex items-start",children:[a.jsx("svg",{className:"w-4 h-4 mt-0.5 mr-2 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),a.jsx("span",{children:r})]}),s&&a.jsxs("div",{className:"mb-6 text-sm text-green-700 bg-green-50 border border-green-100 px-4 py-3 rounded-md flex items-start",children:[a.jsx("svg",{className:"w-4 h-4 mt-0.5 mr-2 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),a.jsx("span",{children:s})]}),a.jsxs("div",{className:"space-y-5",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"nik",className:"block text-sm font-medium text-gray-700 mb-1",children:"NIK"}),a.jsx("input",{id:"nik",type:"nik",placeholder:"12345678910111213141516",value:t,onChange:d=>e(d.target.value),required:!0,className:"w-full px-4 py-2.5 text-sm rounded-md border border-gray-300 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 transition-colors"})]}),a.jsx("button",{type:"submit",disabled:o,className:`w-full py-2.5 px-4 rounded-md text-sm font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 ${o?"bg-blue-400 text-white cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"} flex items-center justify-center`,children:o?a.jsxs(a.Fragment,{children:[a.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Sending..."]}):"Send Reset Link"})]}),a.jsxs("div",{className:"mt-8 pt-5 border-t border-gray-100",children:[a.jsxs("p",{className:"text-xs text-gray-500 text-center",children:["Remember your password?"," ",a.jsx(Lc,{to:"/login",className:"text-blue-600 hover:underline font-medium",children:"Sign in"})]}),a.jsxs("p",{className:"text-xs text-gray-500 text-center mt-2",children:[" ",new Date().getFullYear()," PT Widatra Bhakti. All rights reserved."]})]})]})})})},Wce=()=>a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-white to-blue-50 p-4",children:a.jsx("div",{className:"w-full max-w-4xl",children:a.jsxs("div",{className:"relative w-full bg-white rounded-lg shadow-sm border border-gray-100 p-8 sm:p-10 md:p-12",children:[a.jsx("div",{className:"flex justify-center mb-8",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"rounded-lg flex items-center justify-center",children:a.jsx("img",{src:Vf,alt:"Logo Wida",className:"h-20 w-auto"})}),a.jsx("span",{className:"text-2xl font-bold text-blue-800 italic",children:"PT WIDATRA BHAKTI"})]})}),a.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-6 text-center",children:"Privacy Policy"}),a.jsxs("p",{className:"text-sm text-gray-500 text-center mb-8",children:["Effective: ",new Date().toLocaleDateString()]}),a.jsxs("div",{className:"prose prose-sm max-w-none text-gray-700 space-y-6",children:[a.jsxs("section",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-3",children:"1. Information We Collect"}),a.jsx("p",{children:"We collect personal information when you register, including:"}),a.jsxs("ul",{className:"list-disc pl-5 mt-2 space-y-1",children:[a.jsx("li",{children:"Full name and contact details"}),a.jsx("li",{children:"Professional credentials (for healthcare providers)"}),a.jsx("li",{children:"Usage data and cookies"})]})]}),a.jsxs("section",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-3",children:"2. How We Use Information"}),a.jsx("p",{children:"Your data helps us:"}),a.jsxs("ul",{className:"list-disc pl-5 mt-2 space-y-1",children:[a.jsx("li",{children:"Provide pharmaceutical services"}),a.jsx("li",{children:"Secure your account with authentication"}),a.jsx("li",{children:"Improve our platform"}),a.jsx("li",{children:"Comply with legal requirements"})]})]}),a.jsxs("section",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-3",children:"3. Data Protection"}),a.jsx("p",{children:"We implement security measures including:"}),a.jsxs("ul",{className:"list-disc pl-5 mt-2 space-y-1",children:[a.jsx("li",{children:"Encryption of sensitive data"}),a.jsx("li",{children:"Regular security audits"}),a.jsx("li",{children:"Access controls to personal information"})]})]}),a.jsxs("section",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-3",children:"4. Third-Party Sharing"}),a.jsx("p",{children:"We only share data with:"}),a.jsxs("ul",{className:"list-disc pl-5 mt-2 space-y-1",children:[a.jsx("li",{children:"Verified healthcare partners (with consent)"}),a.jsx("li",{children:"Legal authorities when required"}),a.jsx("li",{children:"Service providers under confidentiality agreements"})]})]}),a.jsxs("section",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-3",children:"5. Your Rights"}),a.jsx("p",{children:"You may request to:"}),a.jsxs("ul",{className:"list-disc pl-5 mt-2 space-y-1",children:[a.jsx("li",{children:"Access your personal data"}),a.jsx("li",{children:"Correct inaccurate information"}),a.jsx("li",{children:"Delete your account data"}),a.jsx("li",{children:"Opt-out of marketing communications"})]})]}),a.jsx("div",{className:"mt-8 pt-5 border-t border-gray-100",children:a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center",children:[a.jsx(Lc,{to:"/register",className:"text-blue-600 hover:underline font-medium mb-3 sm:mb-0",children:"Back to Registration"}),a.jsxs("p",{className:"text-xs text-gray-500",children:[" ",new Date().getFullYear()," PT Widatra Bhakti. All rights reserved."]})]})})]})]})})}),qce=["Logout","Sign Out","Sampai Jumpa","Au Revoir","Sayonara"],Uce=()=>{const{logout:t,isLoggingOut:e}=St(),[r,n]=g.useState(null),[s,i]=g.useState(!1),[o]=g.useState(qce[0]),[l,c]=g.useState(!1);g.useEffect(()=>{i(!0);let y;return c(!0),y=setTimeout(()=>{c(!1)},500),()=>{clearTimeout(y)}},[]);const d={fontSize:"3rem",fontFamily:"sans-serif",transition:"opacity 0.5s ease-in-out, transform 0.5s ease-in-out"},h=l?{opacity:0,transform:"translateY(-20px)"}:{opacity:1,transform:"translateY(0)"},m=async()=>{try{await t()}catch(y){n("Failed to logout. Please try again."),console.error("Logout error:",y)}},x=()=>{window.history.back()};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-white to-blue-50 p-4 font-sans",children:a.jsxs("div",{className:`flex flex-col lg:flex-row w-full max-w-6xl mx-auto bg-white rounded-xl shadow-lg overflow-hidden
                    transform transition-all duration-700 ease-out ${s?"translate-y-0 opacity-100":"translate-y-10 opacity-0"}`,children:[a.jsxs("div",{className:"w-full lg:w-1/2 p-6 sm:p-10 md:p-12 flex flex-col justify-center",children:[a.jsxs("div",{className:`flex items-center space-x-2 mb-8 transition-opacity duration-700 ease-out delay-200 ${s?"opacity-100":"opacity-0"}`,children:[a.jsx("img",{src:Vf,alt:"Logo Wida",className:"h-10 w-auto"}),a.jsx("span",{className:"text-xl font-bold text-blue-800 italic",children:"PT WIDATRA BHAKTI"})]}),a.jsx("h1",{style:{...d,...h},className:`text-3xl font-bold transition-opacity duration-700 ease-out delay-300 ${s?"opacity-100":"opacity-0"}`,children:o}),a.jsx("h1",{className:"text-5xl font-bold mb-2 transition-opacity duration-700 ease-out delay-300 font-sans",children:"See You Soon!"}),a.jsx("p",{className:`text-gray-600 mb-8 transition-opacity duration-700 ease-out delay-400 ${s?"opacity-100":"opacity-0"}`,children:"Thank you for your hard work today. We hope to see you back soon."}),e?a.jsx(a.Fragment,{children:a.jsx("div",{className:`text-center transition-all duration-500 ease-out delay-500 ${s?"translate-x-0 opacity-100":"-translate-x-5 opacity-0"}`,children:a.jsxs("button",{type:"button",disabled:!0,className:`w-full py-3 px-4 rounded-md text-base font-medium bg-blue-400 text-white cursor-not-allowed
                              transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500
                              flex items-center justify-center`,children:[a.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Securing Session & Logging Out..."]})})}):a.jsxs(a.Fragment,{children:[r&&a.jsxs("div",{role:"alert",className:"mb-6 text-sm text-red-700 bg-red-50 border border-red-100 px-4 py-3 rounded-md flex items-start animate-fade-in",children:[a.jsx("svg",{className:"w-4 h-4 mt-0.5 mr-2 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),a.jsx("span",{children:r})]}),a.jsxs("div",{className:`space-y-4 transition-all duration-500 ease-out delay-500 ${s?"translate-x-0 opacity-100":"-translate-x-5 opacity-0"}`,children:[a.jsxs("button",{onClick:m,className:`w-full py-3 px-4 rounded-md text-base font-medium
                            transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500
                            bg-red-600 text-white hover:bg-red-700 active:bg-red-800 transform hover:-translate-y-0.5
                            flex items-center justify-center`,children:[a.jsx(yre,{className:"mr-2"}),"Yes, Sign Out Now"]}),a.jsx("div",{className:"flex justify-center transition-all duration-500 ease-out delay-600",children:a.jsxs("button",{onClick:x,className:`inline-flex items-center justify-center px-6 py-3 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 \r
                              transition-all duration-300 ease-in-out font-medium hover:text-gray-800`,children:[a.jsx(vA,{className:"mr-2"}),"No, Stay Logged In"]})})]}),a.jsxs("p",{className:`text-sm text-center mt-6 transition-opacity duration-700 ease-out delay-700 ${s?"opacity-100":"opacity-0"}`,children:["Not finished yet?"," ",a.jsx(Lc,{to:"/dashboard",className:"text-blue-500 hover:text-blue-700 hover:underline transition-all duration-200",children:a.jsxs("span",{className:"inline-flex items-center",children:[a.jsx(xre,{className:"mr-1 h-4 w-4"})," Back to Dashboard"]})})]})]}),a.jsx("div",{className:"mt-8 pt-5 border-t border-gray-100 text-center",children:a.jsxs("p",{className:`text-xs text-gray-500 transition-opacity duration-700 ease-out delay-800 ${s?"opacity-100":"opacity-0"}`,children:[" ",new Date().getFullYear()," PT Widatra Bhakti. All rights reserved."]})})]}),a.jsxs("div",{className:`hidden lg:flex lg:w-1/2 bg-gradient-to-br from-blue-500 to-aqua-800 items-center justify-center relative p-8
                      transform transition-all duration-700 ease-out delay-300 ${s?"translate-x-0 opacity-100":"translate-x-10 opacity-0"}`,children:[a.jsx("div",{className:"absolute top-1/4 left-1/4 bg-white opacity-20 w-32 h-16 rounded-full blur-md animate-float"}),a.jsx("div",{className:"absolute bottom-1/3 right-1/4 bg-white opacity-20 w-48 h-24 rounded-full blur-md animate-float-delay"}),a.jsx("div",{className:"absolute top-8 right-8 bg-white opacity-20 w-24 h-12 rounded-full blur-md animate-float-fast"}),a.jsxs("div",{className:"relative w-64 h-96 bg-gray-800 rounded-3xl shadow-xl flex items-center justify-center p-4 transform scale-100 hover:scale-105 transition-transform duration-300 ease-in-out",children:[a.jsx("div",{className:"absolute top-0 w-16 h-2 bg-gray-700 rounded-b-lg"}),a.jsx("div",{className:"text-purple-300 animate-pulse-light",children:a.jsx("svg",{className:"w-24 h-24",fill:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{d:"M13 12c0-1.104-.896-2-2-2h-1V7c0-2.757 2.243-5 5-5s5 2.243 5 5v3c0 1.104-.896 2-2 2h-1v2h2c1.104 0 2 .896 2 2v7c0 1.104-.896 2-2 2H6c-1.104 0-2-.896-2-2v-7c0-1.104.896-2 2-2h2v-2h-1c-1.104 0-2-.896-2-2V7c0-2.757 2.243-5 5-5s5 2.243 5 5v3h-1c-1.104 0-2 .896-2 2zM6 14v7h12v-7H6z"})})}),a.jsxs("div",{className:"absolute bottom-10 left-0 right-0 text-center text-white text-sm",children:[a.jsx("div",{className:"w-3/4 mx-auto bg-gray-700 rounded-full h-1 mb-2",children:a.jsx("div",{className:"bg-purple-300 h-1 rounded-full w-2/3 animate-progress-fill"})}),a.jsx("p",{children:"Security check on exit completed"})]})]}),a.jsx("div",{className:"absolute bottom-1/4 right-1/4 bg-white opacity-80 rounded-2xl p-6 shadow-xl transform scale-95 hover:scale-100 transition-transform duration-300 ease-in-out",children:a.jsx("svg",{className:"w-16 h-16 text-gray-800",fill:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{d:"M12 2C9.243 2 7 4.243 7 7v4H6c-1.103 0-2 .897-2 2v7c0 1.103.897 2 2 2h12c1.103 0 2-.897 2-2v-7c0-1.103-.897-2-2-2h-1V7c0-2.757-2.243-5-5-5zm0 2c1.654 0 3 1.346 3 3v4h-6V7c0-1.654 1.346-3 3-3zM6 13h12v7H6v-7z"})})})]})]})})},Yx=({title:t,value:e,change:r,icon:n})=>{const s=r.startsWith("+");return a.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),a.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),a.jsxs("p",{className:"mt-3 text-xs font-semibold text-green-600",children:[r," from last month"]})]})},Gce=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(C.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(at,{size:24})})]}),a.jsx("div",{children:n})]})}):null,Yce=({asset:t,isEditing:e,onSave:r,onCancel:n})=>{const[s,i]=g.useState(t);g.useEffect(()=>{i(t)},[t]);const o=d=>{d.preventDefault(),r(s)},l=({title:d,children:h,icon:m})=>a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[a.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-4 border-b border-gray-200",children:a.jsxs("div",{className:"flex items-center",children:[m&&a.jsx("div",{className:"mr-3 text-blue-600",children:m}),a.jsx("h3",{className:"text-lg font-bold text-gray-900",children:d})]})}),a.jsx("div",{className:"p-6",children:h})]}),c=({label:d,value:h,icon:m,fullWidth:x=!1,priority:y="medium"})=>{const w={high:"border-l-4 border-l-blue-500 bg-blue-25",medium:"border-l-2 border-l-gray-200",low:"border-l border-l-gray-100"};return a.jsx("div",{className:`${x?"col-span-full":""}`,children:a.jsx("div",{className:`p-4 rounded-lg ${w[y]} transition-all duration-200 hover:shadow-sm`,children:a.jsxs("div",{className:"flex items-start space-x-3",children:[m&&a.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:m}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1",children:d}),a.jsx("p",{className:"text-sm font-medium text-gray-900 leading-relaxed",children:h})]})]})})})};return a.jsxs("div",{className:"space-y-6 max-h-[70vh] overflow-y-auto custom-scrollbar pr-2",children:[a.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6",children:a.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:s.name}),a.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-bold rounded-full ${s.status==="running"?"bg-green-100 text-green-800 border border-green-300":s.status==="maintenance"?"bg-yellow-100 text-yellow-800 border border-yellow-300":s.status==="breakdown"?"bg-red-100 text-red-800 border border-red-300":"bg-blue-100 text-blue-800 border border-blue-300"}`,children:s.status.charAt(0).toUpperCase()+s.status.slice(1)})]}),a.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(kn,{className:"w-4 h-4"}),"Asset ID: ",s.id]}),a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(Tn,{className:"w-4 h-4"}),"Type: ",s.type.charAt(0).toUpperCase()+s.type.slice(1)]})]})]})})}),a.jsx(l,{title:"Basic Information",icon:a.jsx(kn,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsx(c,{label:"Asset ID",value:s.id,icon:a.jsx(Gf,{className:"w-4 h-4"}),priority:"high"}),a.jsx(c,{label:"Asset Name",value:s.name,icon:a.jsx(kn,{className:"w-4 h-4"}),priority:"high"}),a.jsx(c,{label:"Asset Type",value:s.type.charAt(0).toUpperCase()+s.type.slice(1),icon:a.jsx(Tn,{className:"w-4 h-4"}),priority:"high"}),a.jsx(c,{label:"Make",value:s.make,icon:a.jsx(pn,{className:"w-4 h-4"})}),a.jsx(c,{label:"Model",value:s.model,icon:a.jsx(Tn,{className:"w-4 h-4"})}),a.jsx(c,{label:"Location",value:s.location,icon:a.jsx(lg,{className:"w-4 h-4"})})]})}),a.jsx(l,{title:"Status & Maintenance",icon:a.jsx(ir,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsx(c,{label:"Current Status",value:s.status.charAt(0).toUpperCase()+s.status.slice(1),icon:a.jsx($t,{className:"w-4 h-4"}),priority:"high"}),a.jsx(c,{label:"Last Maintenance",value:s.lastMaintenance,icon:a.jsx(xn,{className:"w-4 h-4"})}),a.jsx(c,{label:"Next Maintenance",value:s.nextMaintenance,icon:a.jsx(Lt,{className:"w-4 h-4"}),priority:"high"}),a.jsx(c,{label:"Work Orders",value:s.workOrders.toString(),icon:a.jsx(ir,{className:"w-4 h-4"})}),a.jsx(c,{label:"Health Status",value:`${s.health}`,icon:a.jsx(Ui,{className:"w-4 h-4"}),priority:"high"})]})}),a.jsx(l,{title:"Technical Details",icon:a.jsx(pn,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"p-4 bg-blue-25 rounded-lg border-l-4 border-l-blue-400",children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Asset Specifications"}),a.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Make:"})," ",s.make]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Model:"})," ",s.model]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Type:"})," ",s.type.charAt(0).toUpperCase()+s.type.slice(1)]})]})]}),a.jsxs("div",{className:"p-4 bg-green-25 rounded-lg border-l-4 border-l-green-400",children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Performance Metrics"}),a.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Health Status:"})," ",s.health]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Work Orders:"})," ",s.workOrders]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Status:"})," ",s.status.charAt(0).toUpperCase()+s.status.slice(1)]})]})]})]})}),a.jsx(l,{title:"Maintenance Timeline",icon:a.jsx(Lt,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-lg border border-green-200",children:[a.jsx("span",{className:"text-sm font-medium text-green-800",children:"Last Maintenance"}),a.jsx("span",{className:"text-sm text-green-600",children:s.lastMaintenance})]}),a.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg border border-blue-200",children:[a.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Next Scheduled Maintenance"}),a.jsx("span",{className:"text-sm text-blue-600",children:s.nextMaintenance})]}),a.jsxs("div",{className:"flex justify-between items-center p-3 bg-yellow-50 rounded-lg border border-yellow-200",children:[a.jsx("span",{className:"text-sm font-medium text-yellow-800",children:"Current Status"}),a.jsx("span",{className:"text-sm text-yellow-600",children:s.status.charAt(0).toUpperCase()+s.status.slice(1)})]})]})}),a.jsxs("div",{className:"flex justify-end pt-6 border-t border-gray-100 mt-8",children:[a.jsx(C.button,{type:"button",onClick:n,whileHover:{scale:1.03,boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.97},className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold",children:e?"Cancel":"Close Details"}),e&&a.jsx(C.button,{type:"submit",onClick:o,whileHover:{scale:1.03,boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.97},className:"ml-4 inline-flex items-center px-6 py-3 bg-green-600 text-white rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-colors duration-200 font-semibold",children:"Save Changes"})]})]})},Kce=()=>{const[t,e]=g.useState(!1),[r,n]=g.useState(()=>{const We=localStorage.getItem("sidebarOpen");return We?JSON.parse(We):!1}),[s,i]=g.useState(""),[o,l]=g.useState("all"),[c,d]=g.useState("all"),[h,m]=g.useState(!1),[x,y]=g.useState(!1),[w,j]=g.useState(!1),[v,N]=g.useState(null),[T,S]=g.useState(!1),[O,_]=g.useState(1),[A]=g.useState(5),{user:E,fetchWithAuth:D,hasPermission:$,getAssetsData:I,deleteAsset:L}=St(),[R,z]=g.useState(null),Y=jt(),[W,H]=g.useState(!1),[P,F]=g.useState(window.innerWidth<768),[X,te]=g.useState(!1),[q,Z]=g.useState(!1),ie=g.useRef(null),oe=g.useRef(null),[le,ge]=g.useState([]),[Le,Oe]=g.useState(!1),[xe,Me]=g.useState(null),[Be,re]=g.useState(!1),[se,ee]=g.useState(null),ve=(We,he)=>{ee({id:We,name:he}),re(!0)},Ge=async()=>{if(se){if(console.log("Attempting to delete asset with ID:",se.id),!se.id){console.error("Asset ID is empty or invalid."),alert("Cannot delete: Asset ID is missing.");return}try{await L(se.id),ge(le.filter(We=>String(We.id)!==se.id)),console.log(`Asset with ID: ${se.id} deleted successfully.`),re(!1),ee(null)}catch(We){console.error("Failed to delete asset:",We),alert("Failed to delete asset.")}}},Ke=()=>{re(!1),ee(null)};g.useEffect(()=>{const We=()=>{F(window.innerWidth<768),window.innerWidth<768&&n(!1)};return window.addEventListener("resize",We),()=>window.removeEventListener("resize",We)},[]),g.useEffect(()=>{const We=he=>{ie.current&&!ie.current.contains(he.target)&&te(!1),oe.current&&!oe.current.contains(he.target)&&Z(!1)};return document.addEventListener("mousedown",We),()=>{document.removeEventListener("mousedown",We)}},[]);const ye=async()=>{Oe(!0),Me(null);try{const We=await I();ge(We)}catch(We){Me("Failed to load data from ERP."),console.error("Error fetching ERP data:",We)}finally{Oe(!1)}},ot=()=>{H(!0),localStorage.setItem("sidebarOpen",JSON.stringify(!r)),n(We=>!We)},mt=le.filter(We=>{const he=String(We.id),Je=s.toLowerCase();return We.name.toLowerCase().includes(Je)||he.toLowerCase().includes(Je)||We.category.toLowerCase().includes(Je)||We.location.toLowerCase().includes(Je)}),nt=O*A,xt=nt-A,Nt=mt.slice(xt,nt),wt=Math.ceil(mt.length/A),zt=We=>_(We);g.useEffect(()=>{_(1),(async()=>{try{const he=await D("/protected-data");z(he)}catch(he){console.error("Failed to fetch data:",he)}})(),document.documentElement.classList.toggle("dark",t),localStorage.setItem("sidebarOpen",JSON.stringify(r))},[s,o,c,r,t,D]);const rt=We=>{N(We),j(!0),S(!1)},ze=(()=>{if(le.length===0)return{total:0,active:0,maintenance:0,critical:0,maintenanceDue:0,needsAttention:0};const We=le.length,he=new Date,Je=le.filter(Te=>Te.status==="Aktif"||Te.status!==null).length,Ue=le.filter(Te=>Te.nextMaintenance?new Date(Te.nextMaintenance)<=he:!1).length,ae=le.filter(Te=>Te.health==="Buruk"||Te.health==="Critical").length,ne=Ue+ae;return{total:We,active:Je,maintenance:Ue,critical:ae,maintenanceDue:Ue,needsAttention:ne}})(),we=ze.total>0?Math.round(ze.active/ze.total*100):0,ut=ze.total>0?Math.round(ze.maintenance/ze.total*100):0,ht=ze.total>0?Math.round(ze.critical/ze.total*100):0;return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Mt,{mainTitle:"Assets Data",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:a.jsx(kn,{}),isMobile:P,toggleSidebar:ot}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Assets Data Overview"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Manage and monitor your physical assets efficiently"})]}),a.jsxs("div",{className:"flex flex-wrap gap-3",children:[a.jsxs(C.button,{onClick:ye,disabled:Le,whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:`flex items-center space-x-2 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md ${Le?"bg-gray-400 text-gray-700 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,children:[a.jsx(Dw,{className:"text-lg"}),a.jsx("span",{className:"font-semibold",children:Le?"Loading...":"Load Data from ERP"})]}),a.jsxs(C.button,{onClick:()=>Y("/assets/assetsdata/addasset"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[a.jsx(Jn,{className:"text-base"}),a.jsx("span",{children:"Add Asset"})]}),a.jsxs(C.button,{onClick:()=>{},whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(Ja,{className:"text-lg"}),a.jsx("span",{className:"font-semibold",children:"Import"})]}),a.jsxs(C.button,{onClick:()=>m(!h),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(Xa,{className:"text-lg"}),a.jsx("span",{className:"font-semibold",children:"Filters"}),h?a.jsx(bb,{}):a.jsx(cn,{})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[a.jsx(Yx,{title:"Total Assets",value:ze.total.toString(),change:`${ze.total} units`,icon:a.jsx(kn,{})}),a.jsx(Yx,{title:"Active Assets",value:ze.active.toString(),change:`${we}% operational`,icon:a.jsx($t,{})}),a.jsx(Yx,{title:"Due Maintenance",value:ze.maintenance.toString(),change:`${ut}% need service`,icon:a.jsx(pn,{})}),a.jsx(Yx,{title:"Critical Issues",value:ze.critical.toString(),change:`${ht}% critical`,icon:a.jsx(er,{})})]}),a.jsx(C.div,{layout:!0,className:"mb-6 bg-white rounded-2xl shadow-md p-4 md:p-6 border border-blue-50",children:a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Wn,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),a.jsx("input",{type:"text",placeholder:"Search assets by name or ID...",className:"w-full pl-12 pr-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base transition-all duration-200",value:s,onChange:We=>i(We.target.value)})]}),a.jsx(kt,{children:h&&a.jsxs(C.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3 w-full md:w-auto",children:[a.jsxs("select",{className:"border border-gray-200 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base appearance-none bg-no-repeat bg-right-12 bg-center-y transition-all duration-200",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='currentColor'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E")`,backgroundSize:"1.2rem"},value:o,onChange:We=>l(We.target.value),children:[a.jsx("option",{value:"all",children:"All Statuses"}),a.jsx("option",{value:"running",children:"Running"}),a.jsx("option",{value:"maintenance",children:"Maintenance"}),a.jsx("option",{value:"breakdown",children:"Breakdown"}),a.jsx("option",{value:"idle",children:"Idle"})]}),a.jsxs("select",{className:"border border-gray-200 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base appearance-none bg-no-repeat bg-right-12 bg-center-y transition-all duration-200",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='currentColor'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E")`,backgroundSize:"1.2rem"},value:c,onChange:We=>d(We.target.value),children:[a.jsx("option",{value:"all",children:"All Types"}),a.jsx("option",{value:"mechanical",children:"Mechanical"}),a.jsx("option",{value:"electrical",children:"Electrical"}),a.jsx("option",{value:"vehicle",children:"Vehicle"}),a.jsx("option",{value:"building",children:"Building"})]})]})})]})}),a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-50",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-100",children:[a.jsx("thead",{className:"bg-blue-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Asset"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Location"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Purchase Date"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Description"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),a.jsxs("tbody",{className:"bg-white divide-y divide-gray-100",children:[Le&&a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"text-center py-10 text-gray-600 text-lg",children:a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsxs("svg",{className:"animate-spin h-5 w-5 mr-3 text-blue-600",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading data..."]})})}),xe&&a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"text-center py-10 text-red-500 text-lg",children:a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsx(er,{className:"text-red-500 mr-2"}),xe]})})}),!Le&&le.length===0&&!xe&&a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"px-6 py-10 text-center text-gray-600 text-lg",children:a.jsxs("div",{className:"flex flex-col items-center justify-center",children:[a.jsx(kn,{className:"text-gray-400 mb-3",size:48}),'No assets found. Please click "Load Data from ERP".']})})}),Nt.length>0&&Nt.map((We,he)=>{const Je=xt+he;return a.jsxs(C.tr,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.2},whileHover:{backgroundColor:"rgba(239, 246, 255, 1)"},className:"transition-colors duration-150",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:Je+1})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"flex items-center",children:a.jsxs("div",{className:"ml-0",children:[" ",a.jsx("div",{className:"text-base font-medium text-gray-900",children:We.name}),a.jsx("div",{className:"text-sm text-gray-600",children:We.category})]})})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-900",children:We.location})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[a.jsx("div",{className:"text-sm text-gray-900",children:We.purchaseDate})," "]}),a.jsxs("td",{className:"px-6 py-4",children:[" ",a.jsx("div",{className:"text-sm text-gray-900 max-w-xs truncate",children:We.description})," "]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(C.button,{whileHover:{scale:1.1,color:"#2563eb"},whileTap:{scale:.9},onClick:()=>Y(`/assets/assetsdata/editasset/${We.id}`),className:"text-yellow-600 hover:text-blue-600 transition-colors duration-200",title:"Edit Asset",children:a.jsx(Bn,{className:"w-5 h-5"})}),a.jsx(C.button,{whileHover:{scale:1.1,color:"#dc2626"},whileTap:{scale:.9},onClick:()=>ve(String(We.id),We.name),className:"text-red-600 hover:text-red-600 transition-colors duration-200",title:"Delete Asset",children:a.jsx(dn,{className:"w-5 h-5"})}),a.jsx(C.button,{whileHover:{scale:1.1,color:"#2563eb"},whileTap:{scale:.9},onClick:()=>rt(We),className:"text-blue-600 hover:text-blue-600 transition-colors duration-200",title:"View Details",children:a.jsx(us,{className:"w-5 h-5"})})]})})]},We.id)})]})]})})}),mt.length>A&&a.jsxs(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"mt-8 flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{className:"text-sm text-gray-600 mb-4 sm:mb-0",children:["Showing ",a.jsx("span",{className:"font-semibold",children:xt+1})," to ",a.jsx("span",{className:"font-semibold",children:Math.min(nt,mt.length)})," of"," ",a.jsx("span",{className:"font-semibold",children:mt.length})," results"]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(C.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>zt(O-1),disabled:O===1,className:"px-4 py-2 border border-gray-200 rounded-lg bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm",children:"Previous"}),Array.from({length:wt},(We,he)=>a.jsx(C.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>zt(he+1),className:`px-4 py-2 rounded-lg transition-colors duration-200 shadow-sm
                          ${O===he+1?"bg-blue-600 text-white shadow-md":"bg-white text-gray-700 hover:bg-blue-50 border border-gray-200"}
                        `,children:he+1},he+1)),a.jsx(C.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>zt(O+1),disabled:O===wt,className:"px-4 py-2 border border-gray-200 rounded-lg bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm",children:"Next"})]})]})]})]}),v&&a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(C.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl mx-auto border border-blue-100 max-h-[90vh] overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"flex justify-between items-center border-b border-gray-100 px-6 py-4 bg-blue-50",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:T?"Edit Asset":"Asset Details"}),a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{j(!1),N(null),S(!1)},className:"text-gray-500 hover:text-gray-700 text-2xl p-1 rounded-full hover:bg-blue-100 transition-colors duration-200",children:a.jsx(at,{size:24})})]}),a.jsx("div",{className:"overflow-y-auto custom-scrollbar p-6 flex-grow",children:a.jsx(Yce,{asset:v,isEditing:T,onSave:()=>{},onCancel:()=>{j(!1),N(null),S(!1)}})})]})}),a.jsx(Gce,{isOpen:Be,onClose:Ke,title:"Confirm Delete",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(er,{className:"text-yellow-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center mb-2",children:"Are you sure you want to delete this asset?"}),a.jsxs("p",{className:"text-sm text-gray-600 text-center mb-6",children:["Asset: ",a.jsx("strong",{children:se==null?void 0:se.name})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:Ke,className:"px-6 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors duration-200",children:"Cancel"}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:Ge,className:"px-6 py-2 border border-transparent rounded-lg text-sm font-medium text-white bg-red-600 hover:bg-red-700 transition-colors duration-200",children:"Delete"})]})]})})]})},Xce=()=>{var L;const{user:t,hasPermission:e,logout:r}=St(),n=jt();ua();const[s,i]=g.useState(!1),[o,l]=g.useState(()=>{const R=localStorage.getItem("sidebarOpen");return R?JSON.parse(R):!1}),[c,d]=g.useState(window.innerWidth<768),[h,m]=g.useState("profile"),[x,y]=g.useState(!1),[w,j]=g.useState(!1),[v,N]=g.useState(!1),T=g.useRef(null);g.useEffect(()=>{const R=()=>{d(window.innerWidth<768),window.innerWidth<768&&l(!1)};return window.addEventListener("resize",R),()=>window.removeEventListener("resize",R)},[]),g.useEffect(()=>{const R=z=>{T.current&&!T.current.contains(z.target)&&N(!1)};return document.addEventListener("mousedown",R),()=>{document.removeEventListener("mousedown",R)}},[]);const[S,O]=g.useState({name:t==null?void 0:t.name,nik:t==null?void 0:t.nik,email:t==null?void 0:t.email,language:"en",notifications:!0,billingEmail:"haloo@company.com"}),_=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!o)),l(R=>!R)},A=R=>{const{name:z,value:Y,type:W}=R.target,H=W==="checkbox"?R.target.checked:void 0;O(P=>({...P,[z]:W==="checkbox"?H:Y}))},E=()=>{y(!1)},D=({title:R,children:z})=>a.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[a.jsx("h3",{className:"text-xl font-bold mb-4 text-gray-900",children:R}),z]}),$=({label:R,value:z,children:Y,editable:W=!0,onEdit:H})=>a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between py-4 border-b border-gray-100 last:border-b-0",children:[a.jsxs("div",{className:"mb-2 sm:mb-0",children:[a.jsx("p",{className:"font-medium text-gray-700",children:R}),z!==void 0&&a.jsx("p",{className:"text-sm text-gray-600",children:typeof z=="boolean"?z?"Enabled":"Disabled":z})]}),W&&a.jsx(C.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:H,className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Edit"}),Y]}),I=({isOpen:R,onClose:z,title:Y,children:W,actions:H})=>R?a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:a.jsxs(C.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-md mx-auto",children:[a.jsxs("div",{className:"flex justify-between items-center border-b border-gray-100 p-4",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900",children:Y}),a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:z,className:"text-gray-500 hover:text-gray-700",children:a.jsx(at,{size:20})})]}),a.jsx("div",{className:"p-6",children:W}),H&&a.jsx("div",{className:"flex justify-end space-x-3 p-4 border-t border-gray-100",children:H})]})}):null;return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Mt,{mainTitle:"Settings",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:a.jsx(Tn,{}),isMobile:c,toggleSidebar:_}),a.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:a.jsxs("div",{className:"max-w-6xl mx-auto",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.4},className:"bg-gradient-to-r from-blue-600 to-blue-800 rounded-2xl p-6 text-white mb-6 shadow-lg hover:shadow-xl transition-all duration-300",children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold mb-2",children:"Account Settings"}),a.jsx("p",{className:"opacity-90 text-sm",children:"Manage your profile, security, and preferences"})]}),a.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 md:gap-6",children:[a.jsx(C.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},className:"lg:w-64 flex-shrink-0",children:a.jsx("div",{className:"bg-white rounded-2xl shadow-md border border-blue-50 overflow-hidden",children:a.jsx("div",{className:"space-y-1 p-2",children:[{id:"profile",icon:a.jsx(Mr,{}),label:"Profile"},{id:"security",icon:a.jsx(Fle,{}),label:"Security"},{id:"notifications",icon:a.jsx(tO,{}),label:"Notifications"},{id:"preferences",icon:a.jsx(X5,{}),label:"Preferences"},{id:"billing",icon:a.jsx(Qoe,{}),label:"Billing"},{id:"team",icon:a.jsx(xa,{}),label:"Team Settings"},{id:"integrations",icon:a.jsx(fle,{}),label:"Integrations"},{id:"data",icon:a.jsx(Dw,{}),label:"Data Management"}].map(R=>a.jsxs(C.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>m(R.id),className:`w-full text-left flex items-center p-3 rounded-xl transition-colors duration-200 ${h===R.id?"bg-blue-50 text-blue-700 font-medium":"text-gray-700 hover:bg-blue-50"}`,children:[a.jsx("span",{className:"text-xl mr-3 text-blue-500",children:R.icon}),a.jsx("span",{className:"text-base",children:R.label})]},R.id))})})}),a.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"flex-1",children:[h==="profile"&&a.jsx(D,{title:"Profile Information",children:x?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),a.jsx("input",{type:"text",name:"name",value:S.name,onChange:A,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"NIK"}),a.jsx("input",{type:"text",name:"nik",value:S.nik,onChange:A,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),a.jsx("input",{type:"text",name:"nik",value:S.email,onChange:A,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>y(!1),className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:E,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 shadow",children:"Save Changes"})]})]}):a.jsxs(a.Fragment,{children:[a.jsx($,{label:"Name",value:t==null?void 0:t.name,editable:!1}),a.jsx($,{label:"NIK",value:t==null?void 0:t.nik,editable:!1}),a.jsx($,{label:"Role",value:(L=t==null?void 0:t.roles)==null?void 0:L[0],editable:!1}),a.jsx($,{label:"Email",value:t==null?void 0:t.email,editable:!1})]})}),h==="security"&&a.jsxs(D,{title:"Security Settings",children:[a.jsx($,{label:"Password",value:"",onEdit:()=>n("/settings/change-password")}),a.jsx($,{label:"Two-factor authentication",value:!1,onEdit:()=>n("/settings/two-factor")}),a.jsx($,{label:"Active sessions",value:"3 devices",onEdit:()=>n("/settings/sessions")})]}),h==="notifications"&&a.jsxs(D,{title:"Notification Preferences",children:[a.jsxs("div",{className:"flex items-center justify-between py-4 border-b border-gray-100",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-700",children:"Email notifications"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Receive email notifications"})]}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",name:"notifications",checked:S.notifications,onChange:A,className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),a.jsx($,{label:"Push notifications",value:!1,onEdit:()=>{}})]}),h==="preferences"&&a.jsxs(D,{title:"Preferences",children:[a.jsxs("div",{className:"flex items-center justify-between py-4 border-b border-gray-100",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-700",children:"Dark mode"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Toggle dark theme"})]}),a.jsx(kt,{mode:"wait",children:a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>i(!s),className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200",children:s?a.jsx(X5,{className:"text-yellow-400"}):a.jsx(FW,{})},s?"sun-card":"moon-card")})]}),a.jsx($,{label:"Language",value:"English",onEdit:()=>{}}),a.jsx($,{label:"Timezone",value:"UTC+07:00",onEdit:()=>{}})]}),h==="billing"&&a.jsxs(D,{title:"Billing Information",children:[a.jsx($,{label:"Billing email",value:S.billingEmail,onEdit:()=>{}}),a.jsx($,{label:"Payment method",value:"Visa ending in 4242",onEdit:()=>{}}),a.jsx($,{label:"Plan",value:"Premium ($29/month)",onEdit:()=>{}})]}),h==="team"&&a.jsxs(D,{title:"Team Settings",children:[a.jsx($,{label:"Team members",value:"5 active",onEdit:()=>n("/team")}),a.jsx($,{label:"Team roles",value:"Custom roles",onEdit:()=>n("/settings/roles")}),a.jsx($,{label:"Team permissions",value:"Custom permissions",onEdit:()=>n("/settings/permissions")})]}),h==="integrations"&&a.jsxs(D,{title:"Integrations",children:[a.jsx($,{label:"Google Workspace",value:"Connected",onEdit:()=>{}}),a.jsx($,{label:"Slack",value:"Not connected",onEdit:()=>{}}),a.jsx($,{label:"Microsoft 365",value:"Not connected",onEdit:()=>{}})]}),h==="data"&&a.jsxs(D,{title:"Data Management",children:[a.jsx($,{label:"Export data",value:"JSON, CSV formats",onEdit:()=>{}}),a.jsx($,{label:"Delete account",value:"Permanently remove all data",onEdit:()=>j(!0)})]})]})]})]})})]}),a.jsxs(I,{isOpen:w,onClose:()=>j(!1),title:"Delete Account",children:[a.jsx("div",{className:"text-gray-700 mb-6",children:a.jsx("p",{children:"Are you sure you want to delete your account? This action cannot be undone."})}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>j(!1),className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>{},className:"px-4 py-2 rounded-lg text-white bg-red-600 hover:bg-red-700",children:"Delete Account"})]})]})]})};function BW(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(r=BW(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Ht(){for(var t,e,r=0,n="",s=arguments.length;r<s;r++)(t=arguments[r])&&(e=BW(t))&&(n&&(n+=" "),n+=e);return n}const zW=6048e5,Jce=864e5,Pw=6e4,Rw=36e5,Qce=1e3,MR=Symbol.for("constructDateFrom");function en(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&MR in t?t[MR](e):t instanceof Date?new t.constructor(e):new Date(e)}function Ft(t,e){return en(e||t,t)}function Wi(t,e,r){const n=Ft(t,r==null?void 0:r.in);return isNaN(e)?en((r==null?void 0:r.in)||t,NaN):(e&&n.setDate(n.getDate()+e),n)}function Yi(t,e,r){const n=Ft(t,r==null?void 0:r.in);if(isNaN(e))return en(t,NaN);if(!e)return n;const s=n.getDate(),i=en(t,n.getTime());i.setMonth(n.getMonth()+e+1,0);const o=i.getDate();return s>=o?i:(n.setFullYear(i.getFullYear(),i.getMonth(),s),n)}function VW(t,e,r){return en(t,+Ft(t)+e)}function Zce(t,e,r){return VW(t,e*Rw)}let eue={};function xd(){return eue}function Al(t,e){var l,c,d,h;const r=xd(),n=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((h=(d=r.locale)==null?void 0:d.options)==null?void 0:h.weekStartsOn)??0,s=Ft(t,e==null?void 0:e.in),i=s.getDay(),o=(i<n?7:0)+i-n;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function Yf(t,e){return Al(t,{...e,weekStartsOn:1})}function WW(t,e){const r=Ft(t,e==null?void 0:e.in),n=r.getFullYear(),s=en(r,0);s.setFullYear(n+1,0,4),s.setHours(0,0,0,0);const i=Yf(s),o=en(r,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const l=Yf(o);return r.getTime()>=i.getTime()?n+1:r.getTime()>=l.getTime()?n:n-1}function jb(t){const e=Ft(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function Ll(t,...e){const r=en.bind(null,e.find(n=>typeof n=="object"));return e.map(r)}function rd(t,e){const r=Ft(t,e==null?void 0:e.in);return r.setHours(0,0,0,0),r}function Kf(t,e,r){const[n,s]=Ll(r==null?void 0:r.in,t,e),i=rd(n),o=rd(s),l=+i-jb(i),c=+o-jb(o);return Math.round((l-c)/Jce)}function tue(t,e){const r=WW(t,e),n=en(t,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),Yf(n)}function J5(t,e,r){const n=Ft(t,r==null?void 0:r.in);return n.setTime(n.getTime()+e*Pw),n}function nO(t,e,r){return Yi(t,e*3,r)}function rue(t,e,r){return VW(t,e*1e3)}function Sb(t,e,r){return Wi(t,e*7,r)}function gl(t,e,r){return Yi(t,e*12,r)}function AR(t,e){let r,n=e==null?void 0:e.in;return t.forEach(s=>{!n&&typeof s=="object"&&(n=en.bind(null,s));const i=Ft(s,n);(!r||r<i||isNaN(+i))&&(r=i)}),en(n,r||NaN)}function OR(t,e){let r,n=e==null?void 0:e.in;return t.forEach(s=>{!n&&typeof s=="object"&&(n=en.bind(null,s));const i=Ft(s,n);(!r||r>i||isNaN(+i))&&(r=i)}),en(n,r||NaN)}function nue(t,e,r){const[n,s]=Ll(r==null?void 0:r.in,t,e);return+rd(n)==+rd(s)}function xl(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Nb(t){return!(!xl(t)&&typeof t!="number"||isNaN(+Ft(t)))}function kb(t,e,r){const[n,s]=Ll(r==null?void 0:r.in,t,e),i=n.getFullYear()-s.getFullYear(),o=n.getMonth()-s.getMonth();return i*12+o}function Wu(t,e){const r=Ft(t,e==null?void 0:e.in);return Math.trunc(r.getMonth()/3)+1}function Cb(t,e,r){const[n,s]=Ll(r==null?void 0:r.in,t,e),i=n.getFullYear()-s.getFullYear(),o=Wu(n)-Wu(s);return i*4+o}function Tb(t,e,r){const[n,s]=Ll(r==null?void 0:r.in,t,e);return n.getFullYear()-s.getFullYear()}function aue(t,e,r){const[n,s]=Ll(r==null?void 0:r.in,t,e),i=ER(n,s),o=Math.abs(Kf(n,s));n.setDate(n.getDate()-i*o);const l=+(ER(n,s)===-i),c=i*(o-l);return c===0?0:c}function ER(t,e){const r=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return r<0?-1:r>0?1:r}function qW(t,e){const r=Ft(t,e==null?void 0:e.in);return r.setHours(23,59,59,999),r}function UW(t,e){const r=Ft(t,e==null?void 0:e.in),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(23,59,59,999),r}function Q5(t,e){const r=Ft(t,e==null?void 0:e.in),n=r.getMonth(),s=n-n%3;return r.setMonth(s,1),r.setHours(0,0,0,0),r}function GW(t,e){const r=Ft(t,e==null?void 0:e.in);return r.setDate(1),r.setHours(0,0,0,0),r}function YW(t,e){const r=Ft(t,e==null?void 0:e.in),n=r.getFullYear();return r.setFullYear(n+1,0,0),r.setHours(23,59,59,999),r}function Iw(t,e){const r=Ft(t,e==null?void 0:e.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}function sue(t,e){var l,c;const r=xd(),n=r.weekStartsOn??((c=(l=r.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??0,s=Ft(t,e==null?void 0:e.in),i=s.getDay(),o=(i<n?-7:0)+6-(i-n);return s.setDate(s.getDate()+o),s.setHours(23,59,59,999),s}const iue={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},oue=(t,e,r)=>{let n;const s=iue[t];return typeof s=="string"?n=s:e===1?n=s.one:n=s.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function xN(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const lue={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},cue={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},uue={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},due={date:xN({formats:lue,defaultWidth:"full"}),time:xN({formats:cue,defaultWidth:"full"}),dateTime:xN({formats:uue,defaultWidth:"full"})},fue={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},hue=(t,e,r,n)=>fue[t];function Um(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,l=r!=null&&r.width?String(r.width):o;s=t.formattingValues[l]||t.formattingValues[o]}else{const o=t.defaultWidth,l=r!=null&&r.width?String(r.width):t.defaultWidth;s=t.values[l]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const mue={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},pue={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},gue={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},xue={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},yue={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},bue={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},vue=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},wue={ordinalNumber:vue,era:Um({values:mue,defaultWidth:"wide"}),quarter:Um({values:pue,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Um({values:gue,defaultWidth:"wide"}),day:Um({values:xue,defaultWidth:"wide"}),dayPeriod:Um({values:yue,defaultWidth:"wide",formattingValues:bue,defaultFormattingWidth:"wide"})};function Gm(t){return(e,r={})=>{const n=r.width,s=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const o=i[0],l=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?Sue(l,m=>m.test(o)):jue(l,m=>m.test(o));let d;d=t.valueCallback?t.valueCallback(c):c,d=r.valueCallback?r.valueCallback(d):d;const h=e.slice(o.length);return{value:d,rest:h}}}function jue(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function Sue(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function Nue(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const s=n[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=e.slice(s.length);return{value:o,rest:l}}}const kue=/^(\d+)(th|st|nd|rd)?/i,Cue=/\d+/i,Tue={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},_ue={any:[/^b/i,/^(a|c)/i]},Mue={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Aue={any:[/1/i,/2/i,/3/i,/4/i]},Oue={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Eue={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Due={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Pue={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Rue={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Iue={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Lue={ordinalNumber:Nue({matchPattern:kue,parsePattern:Cue,valueCallback:t=>parseInt(t,10)}),era:Gm({matchPatterns:Tue,defaultMatchWidth:"wide",parsePatterns:_ue,defaultParseWidth:"any"}),quarter:Gm({matchPatterns:Mue,defaultMatchWidth:"wide",parsePatterns:Aue,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Gm({matchPatterns:Oue,defaultMatchWidth:"wide",parsePatterns:Eue,defaultParseWidth:"any"}),day:Gm({matchPatterns:Due,defaultMatchWidth:"wide",parsePatterns:Pue,defaultParseWidth:"any"}),dayPeriod:Gm({matchPatterns:Rue,defaultMatchWidth:"any",parsePatterns:Iue,defaultParseWidth:"any"})},KW={code:"en-US",formatDistance:oue,formatLong:due,formatRelative:hue,localize:wue,match:Lue,options:{weekStartsOn:0,firstWeekContainsDate:1}};function $ue(t,e){const r=Ft(t,e==null?void 0:e.in);return Kf(r,Iw(r))+1}function aO(t,e){const r=Ft(t,e==null?void 0:e.in),n=+Yf(r)-+tue(r);return Math.round(n/zW)+1}function sO(t,e){var h,m,x,y;const r=Ft(t,e==null?void 0:e.in),n=r.getFullYear(),s=xd(),i=(e==null?void 0:e.firstWeekContainsDate)??((m=(h=e==null?void 0:e.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??s.firstWeekContainsDate??((y=(x=s.locale)==null?void 0:x.options)==null?void 0:y.firstWeekContainsDate)??1,o=en((e==null?void 0:e.in)||t,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const l=Al(o,e),c=en((e==null?void 0:e.in)||t,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const d=Al(c,e);return+r>=+l?n+1:+r>=+d?n:n-1}function Fue(t,e){var l,c,d,h;const r=xd(),n=(e==null?void 0:e.firstWeekContainsDate)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((h=(d=r.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,s=sO(t,e),i=en((e==null?void 0:e.in)||t,0);return i.setFullYear(s,0,n),i.setHours(0,0,0,0),Al(i,e)}function XW(t,e){const r=Ft(t,e==null?void 0:e.in),n=+Al(r,e)-+Fue(r,e);return Math.round(n/zW)+1}function Zr(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const mc={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return Zr(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):Zr(r+1,2)},d(t,e){return Zr(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return Zr(t.getHours()%12||12,e.length)},H(t,e){return Zr(t.getHours(),e.length)},m(t,e){return Zr(t.getMinutes(),e.length)},s(t,e){return Zr(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return Zr(s,e.length)}},af={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},DR={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return mc.y(t,e)},Y:function(t,e,r,n){const s=sO(t,n),i=s>0?s:1-s;if(e==="YY"){const o=i%100;return Zr(o,2)}return e==="Yo"?r.ordinalNumber(i,{unit:"year"}):Zr(i,e.length)},R:function(t,e){const r=WW(t);return Zr(r,e.length)},u:function(t,e){const r=t.getFullYear();return Zr(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return Zr(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return Zr(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return mc.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return Zr(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const s=XW(t,n);return e==="wo"?r.ordinalNumber(s,{unit:"week"}):Zr(s,e.length)},I:function(t,e,r){const n=aO(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):Zr(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):mc.d(t,e)},D:function(t,e,r){const n=$ue(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Zr(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const s=t.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return Zr(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const s=t.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return Zr(i,e.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),s=n===0?7:n;switch(e){case"i":return String(s);case"ii":return Zr(s,e.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let s;switch(n===12?s=af.noon:n===0?s=af.midnight:s=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let s;switch(n>=17?s=af.evening:n>=12?s=af.afternoon:n>=4?s=af.morning:s=af.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return mc.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):mc.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Zr(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):Zr(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):mc.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):mc.s(t,e)},S:function(t,e){return mc.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return RR(n);case"XXXX":case"XX":return Su(n);case"XXXXX":case"XXX":default:return Su(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return RR(n);case"xxxx":case"xx":return Su(n);case"xxxxx":case"xxx":default:return Su(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+PR(n,":");case"OOOO":default:return"GMT"+Su(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+PR(n,":");case"zzzz":default:return"GMT"+Su(n,":")}},t:function(t,e,r){const n=Math.trunc(+t/1e3);return Zr(n,e.length)},T:function(t,e,r){return Zr(+t,e.length)}};function PR(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),s=Math.trunc(n/60),i=n%60;return i===0?r+String(s):r+String(s)+e+Zr(i,2)}function RR(t,e){return t%60===0?(t>0?"-":"+")+Zr(Math.abs(t)/60,2):Su(t,e)}function Su(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),s=Zr(Math.trunc(n/60),2),i=Zr(n%60,2);return r+s+e+i}const IR=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},JW=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Hue=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return IR(t,e);let i;switch(n){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",IR(n,e)).replace("{{time}}",JW(s,e))},Z5={p:JW,P:Hue},Bue=/^D+$/,zue=/^Y+$/,Vue=["D","DD","YY","YYYY"];function Wue(t){return Bue.test(t)}function que(t){return zue.test(t)}function Uue(t,e,r){const n=Gue(t,e,r);if(console.warn(n),Vue.includes(t))throw new RangeError(n)}function Gue(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Yue=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Kue=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Xue=/^'([^]*?)'?$/,Jue=/''/g,Que=/[a-zA-Z]/;function LR(t,e,r){var h,m,x,y,w,j,v,N;const n=xd(),s=(r==null?void 0:r.locale)??n.locale??KW,i=(r==null?void 0:r.firstWeekContainsDate)??((m=(h=r==null?void 0:r.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??n.firstWeekContainsDate??((y=(x=n.locale)==null?void 0:x.options)==null?void 0:y.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((j=(w=r==null?void 0:r.locale)==null?void 0:w.options)==null?void 0:j.weekStartsOn)??n.weekStartsOn??((N=(v=n.locale)==null?void 0:v.options)==null?void 0:N.weekStartsOn)??0,l=Ft(t,r==null?void 0:r.in);if(!Nb(l))throw new RangeError("Invalid time value");let c=e.match(Kue).map(T=>{const S=T[0];if(S==="p"||S==="P"){const O=Z5[S];return O(T,s.formatLong)}return T}).join("").match(Yue).map(T=>{if(T==="''")return{isToken:!1,value:"'"};const S=T[0];if(S==="'")return{isToken:!1,value:Zue(T)};if(DR[S])return{isToken:!0,value:T};if(S.match(Que))throw new RangeError("Format string contains an unescaped latin alphabet character `"+S+"`");return{isToken:!1,value:T}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const d={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return c.map(T=>{if(!T.isToken)return T.value;const S=T.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&que(S)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&Wue(S))&&Uue(S,e,String(t));const O=DR[S[0]];return O(l,S,s.localize,d)}).join("")}function Zue(t){const e=t.match(Xue);return e?e[1].replace(Jue,"'"):t}function $R(t,e){return Ft(t,e==null?void 0:e.in).getDate()}function ede(t,e){return Ft(t,e==null?void 0:e.in).getDay()}function tde(t,e){const r=Ft(t,e==null?void 0:e.in),n=r.getFullYear(),s=r.getMonth(),i=en(r,0);return i.setFullYear(n,s+1,0),i.setHours(0,0,0,0),i.getDate()}function rde(){return Object.assign({},xd())}function yl(t,e){return Ft(t,e==null?void 0:e.in).getHours()}function nde(t,e){const r=Ft(t,e==null?void 0:e.in).getDay();return r===0?7:r}function bl(t,e){return Ft(t,e==null?void 0:e.in).getMinutes()}function Ga(t,e){return Ft(t,e==null?void 0:e.in).getMonth()}function Mc(t){return Ft(t).getSeconds()}function e_(t){return+Ft(t)}function hr(t,e){return Ft(t,e==null?void 0:e.in).getFullYear()}function Hc(t,e){return+Ft(t)>+Ft(e)}function ho(t,e){return+Ft(t)<+Ft(e)}function ade(t,e){return+Ft(t)==+Ft(e)}function sde(t,e){const r=ide(e)?new e(0):en(e,0);return r.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),r.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),r}function ide(t){var e;return typeof t=="function"&&((e=t.prototype)==null?void 0:e.constructor)===t}const ode=10;class QW{constructor(){At(this,"subPriority",0)}validate(e,r){return!0}}class lde extends QW{constructor(e,r,n,s,i){super(),this.value=e,this.validateValue=r,this.setValue=n,this.priority=s,i&&(this.subPriority=i)}validate(e,r){return this.validateValue(e,this.value,r)}set(e,r,n){return this.setValue(e,r,this.value,n)}}class cde extends QW{constructor(r,n){super();At(this,"priority",ode);At(this,"subPriority",-1);this.context=r||(s=>en(n,s))}set(r,n){return n.timestampIsSet?r:en(r,sde(r,this.context))}}class zr{run(e,r,n,s){const i=this.parse(e,r,n,s);return i?{setter:new lde(i.value,this.validate,this.set,this.priority,this.subPriority),rest:i.rest}:null}validate(e,r,n){return!0}}class ude extends zr{constructor(){super(...arguments);At(this,"priority",140);At(this,"incompatibleTokens",["R","u","t","T"])}parse(r,n,s){switch(n){case"G":case"GG":case"GGG":return s.era(r,{width:"abbreviated"})||s.era(r,{width:"narrow"});case"GGGGG":return s.era(r,{width:"narrow"});case"GGGG":default:return s.era(r,{width:"wide"})||s.era(r,{width:"abbreviated"})||s.era(r,{width:"narrow"})}}set(r,n,s){return n.era=s,r.setFullYear(s,0,1),r.setHours(0,0,0,0),r}}const Kn={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},co={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Xn(t,e){return t&&{value:e(t.value),rest:t.rest}}function On(t,e){const r=e.match(t);return r?{value:parseInt(r[0],10),rest:e.slice(r[0].length)}:null}function uo(t,e){const r=e.match(t);if(!r)return null;if(r[0]==="Z")return{value:0,rest:e.slice(1)};const n=r[1]==="+"?1:-1,s=r[2]?parseInt(r[2],10):0,i=r[3]?parseInt(r[3],10):0,o=r[5]?parseInt(r[5],10):0;return{value:n*(s*Rw+i*Pw+o*Qce),rest:e.slice(r[0].length)}}function ZW(t){return On(Kn.anyDigitsSigned,t)}function zn(t,e){switch(t){case 1:return On(Kn.singleDigit,e);case 2:return On(Kn.twoDigits,e);case 3:return On(Kn.threeDigits,e);case 4:return On(Kn.fourDigits,e);default:return On(new RegExp("^\\d{1,"+t+"}"),e)}}function _b(t,e){switch(t){case 1:return On(Kn.singleDigitSigned,e);case 2:return On(Kn.twoDigitsSigned,e);case 3:return On(Kn.threeDigitsSigned,e);case 4:return On(Kn.fourDigitsSigned,e);default:return On(new RegExp("^-?\\d{1,"+t+"}"),e)}}function iO(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function eq(t,e){const r=e>0,n=r?e:1-e;let s;if(n<=50)s=t||100;else{const i=n+50,o=Math.trunc(i/100)*100,l=t>=i%100;s=t+o-(l?100:0)}return r?s:1-s}function tq(t){return t%400===0||t%4===0&&t%100!==0}class dde extends zr{constructor(){super(...arguments);At(this,"priority",130);At(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(r,n,s){const i=o=>({year:o,isTwoDigitYear:n==="yy"});switch(n){case"y":return Xn(zn(4,r),i);case"yo":return Xn(s.ordinalNumber(r,{unit:"year"}),i);default:return Xn(zn(n.length,r),i)}}validate(r,n){return n.isTwoDigitYear||n.year>0}set(r,n,s){const i=r.getFullYear();if(s.isTwoDigitYear){const l=eq(s.year,i);return r.setFullYear(l,0,1),r.setHours(0,0,0,0),r}const o=!("era"in n)||n.era===1?s.year:1-s.year;return r.setFullYear(o,0,1),r.setHours(0,0,0,0),r}}class fde extends zr{constructor(){super(...arguments);At(this,"priority",130);At(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(r,n,s){const i=o=>({year:o,isTwoDigitYear:n==="YY"});switch(n){case"Y":return Xn(zn(4,r),i);case"Yo":return Xn(s.ordinalNumber(r,{unit:"year"}),i);default:return Xn(zn(n.length,r),i)}}validate(r,n){return n.isTwoDigitYear||n.year>0}set(r,n,s,i){const o=sO(r,i);if(s.isTwoDigitYear){const c=eq(s.year,o);return r.setFullYear(c,0,i.firstWeekContainsDate),r.setHours(0,0,0,0),Al(r,i)}const l=!("era"in n)||n.era===1?s.year:1-s.year;return r.setFullYear(l,0,i.firstWeekContainsDate),r.setHours(0,0,0,0),Al(r,i)}}class hde extends zr{constructor(){super(...arguments);At(this,"priority",130);At(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(r,n){return _b(n==="R"?4:n.length,r)}set(r,n,s){const i=en(r,0);return i.setFullYear(s,0,4),i.setHours(0,0,0,0),Yf(i)}}class mde extends zr{constructor(){super(...arguments);At(this,"priority",130);At(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(r,n){return _b(n==="u"?4:n.length,r)}set(r,n,s){return r.setFullYear(s,0,1),r.setHours(0,0,0,0),r}}class pde extends zr{constructor(){super(...arguments);At(this,"priority",120);At(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,n,s){switch(n){case"Q":case"QQ":return zn(n.length,r);case"Qo":return s.ordinalNumber(r,{unit:"quarter"});case"QQQ":return s.quarter(r,{width:"abbreviated",context:"formatting"})||s.quarter(r,{width:"narrow",context:"formatting"});case"QQQQQ":return s.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(r,{width:"wide",context:"formatting"})||s.quarter(r,{width:"abbreviated",context:"formatting"})||s.quarter(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=1&&n<=4}set(r,n,s){return r.setMonth((s-1)*3,1),r.setHours(0,0,0,0),r}}class gde extends zr{constructor(){super(...arguments);At(this,"priority",120);At(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,n,s){switch(n){case"q":case"qq":return zn(n.length,r);case"qo":return s.ordinalNumber(r,{unit:"quarter"});case"qqq":return s.quarter(r,{width:"abbreviated",context:"standalone"})||s.quarter(r,{width:"narrow",context:"standalone"});case"qqqqq":return s.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(r,{width:"wide",context:"standalone"})||s.quarter(r,{width:"abbreviated",context:"standalone"})||s.quarter(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=1&&n<=4}set(r,n,s){return r.setMonth((s-1)*3,1),r.setHours(0,0,0,0),r}}class xde extends zr{constructor(){super(...arguments);At(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);At(this,"priority",110)}parse(r,n,s){const i=o=>o-1;switch(n){case"M":return Xn(On(Kn.month,r),i);case"MM":return Xn(zn(2,r),i);case"Mo":return Xn(s.ordinalNumber(r,{unit:"month"}),i);case"MMM":return s.month(r,{width:"abbreviated",context:"formatting"})||s.month(r,{width:"narrow",context:"formatting"});case"MMMMM":return s.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(r,{width:"wide",context:"formatting"})||s.month(r,{width:"abbreviated",context:"formatting"})||s.month(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=11}set(r,n,s){return r.setMonth(s,1),r.setHours(0,0,0,0),r}}class yde extends zr{constructor(){super(...arguments);At(this,"priority",110);At(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(r,n,s){const i=o=>o-1;switch(n){case"L":return Xn(On(Kn.month,r),i);case"LL":return Xn(zn(2,r),i);case"Lo":return Xn(s.ordinalNumber(r,{unit:"month"}),i);case"LLL":return s.month(r,{width:"abbreviated",context:"standalone"})||s.month(r,{width:"narrow",context:"standalone"});case"LLLLL":return s.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(r,{width:"wide",context:"standalone"})||s.month(r,{width:"abbreviated",context:"standalone"})||s.month(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=0&&n<=11}set(r,n,s){return r.setMonth(s,1),r.setHours(0,0,0,0),r}}function bde(t,e,r){const n=Ft(t,r==null?void 0:r.in),s=XW(n,r)-e;return n.setDate(n.getDate()-s*7),Ft(n,r==null?void 0:r.in)}class vde extends zr{constructor(){super(...arguments);At(this,"priority",100);At(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(r,n,s){switch(n){case"w":return On(Kn.week,r);case"wo":return s.ordinalNumber(r,{unit:"week"});default:return zn(n.length,r)}}validate(r,n){return n>=1&&n<=53}set(r,n,s,i){return Al(bde(r,s,i),i)}}function wde(t,e,r){const n=Ft(t,r==null?void 0:r.in),s=aO(n,r)-e;return n.setDate(n.getDate()-s*7),n}class jde extends zr{constructor(){super(...arguments);At(this,"priority",100);At(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(r,n,s){switch(n){case"I":return On(Kn.week,r);case"Io":return s.ordinalNumber(r,{unit:"week"});default:return zn(n.length,r)}}validate(r,n){return n>=1&&n<=53}set(r,n,s){return Yf(wde(r,s))}}const Sde=[31,28,31,30,31,30,31,31,30,31,30,31],Nde=[31,29,31,30,31,30,31,31,30,31,30,31];class kde extends zr{constructor(){super(...arguments);At(this,"priority",90);At(this,"subPriority",1);At(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(r,n,s){switch(n){case"d":return On(Kn.date,r);case"do":return s.ordinalNumber(r,{unit:"date"});default:return zn(n.length,r)}}validate(r,n){const s=r.getFullYear(),i=tq(s),o=r.getMonth();return i?n>=1&&n<=Nde[o]:n>=1&&n<=Sde[o]}set(r,n,s){return r.setDate(s),r.setHours(0,0,0,0),r}}class Cde extends zr{constructor(){super(...arguments);At(this,"priority",90);At(this,"subpriority",1);At(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(r,n,s){switch(n){case"D":case"DD":return On(Kn.dayOfYear,r);case"Do":return s.ordinalNumber(r,{unit:"date"});default:return zn(n.length,r)}}validate(r,n){const s=r.getFullYear();return tq(s)?n>=1&&n<=366:n>=1&&n<=365}set(r,n,s){return r.setMonth(0,s),r.setHours(0,0,0,0),r}}function oO(t,e,r){var m,x,y,w;const n=xd(),s=(r==null?void 0:r.weekStartsOn)??((x=(m=r==null?void 0:r.locale)==null?void 0:m.options)==null?void 0:x.weekStartsOn)??n.weekStartsOn??((w=(y=n.locale)==null?void 0:y.options)==null?void 0:w.weekStartsOn)??0,i=Ft(t,r==null?void 0:r.in),o=i.getDay(),c=(e%7+7)%7,d=7-s,h=e<0||e>6?e-(o+d)%7:(c+d)%7-(o+d)%7;return Wi(i,h,r)}class Tde extends zr{constructor(){super(...arguments);At(this,"priority",90);At(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(r,n,s){switch(n){case"E":case"EE":case"EEE":return s.day(r,{width:"abbreviated",context:"formatting"})||s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"});case"EEEEE":return s.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"});case"EEEE":default:return s.day(r,{width:"wide",context:"formatting"})||s.day(r,{width:"abbreviated",context:"formatting"})||s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=6}set(r,n,s,i){return r=oO(r,s,i),r.setHours(0,0,0,0),r}}class _de extends zr{constructor(){super(...arguments);At(this,"priority",90);At(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(r,n,s,i){const o=l=>{const c=Math.floor((l-1)/7)*7;return(l+i.weekStartsOn+6)%7+c};switch(n){case"e":case"ee":return Xn(zn(n.length,r),o);case"eo":return Xn(s.ordinalNumber(r,{unit:"day"}),o);case"eee":return s.day(r,{width:"abbreviated",context:"formatting"})||s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"});case"eeeee":return s.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"});case"eeee":default:return s.day(r,{width:"wide",context:"formatting"})||s.day(r,{width:"abbreviated",context:"formatting"})||s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=6}set(r,n,s,i){return r=oO(r,s,i),r.setHours(0,0,0,0),r}}class Mde extends zr{constructor(){super(...arguments);At(this,"priority",90);At(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(r,n,s,i){const o=l=>{const c=Math.floor((l-1)/7)*7;return(l+i.weekStartsOn+6)%7+c};switch(n){case"c":case"cc":return Xn(zn(n.length,r),o);case"co":return Xn(s.ordinalNumber(r,{unit:"day"}),o);case"ccc":return s.day(r,{width:"abbreviated",context:"standalone"})||s.day(r,{width:"short",context:"standalone"})||s.day(r,{width:"narrow",context:"standalone"});case"ccccc":return s.day(r,{width:"narrow",context:"standalone"});case"cccccc":return s.day(r,{width:"short",context:"standalone"})||s.day(r,{width:"narrow",context:"standalone"});case"cccc":default:return s.day(r,{width:"wide",context:"standalone"})||s.day(r,{width:"abbreviated",context:"standalone"})||s.day(r,{width:"short",context:"standalone"})||s.day(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=0&&n<=6}set(r,n,s,i){return r=oO(r,s,i),r.setHours(0,0,0,0),r}}function Ade(t,e,r){const n=Ft(t,r==null?void 0:r.in),s=nde(n,r),i=e-s;return Wi(n,i,r)}class Ode extends zr{constructor(){super(...arguments);At(this,"priority",90);At(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(r,n,s){const i=o=>o===0?7:o;switch(n){case"i":case"ii":return zn(n.length,r);case"io":return s.ordinalNumber(r,{unit:"day"});case"iii":return Xn(s.day(r,{width:"abbreviated",context:"formatting"})||s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"}),i);case"iiiii":return Xn(s.day(r,{width:"narrow",context:"formatting"}),i);case"iiiiii":return Xn(s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"}),i);case"iiii":default:return Xn(s.day(r,{width:"wide",context:"formatting"})||s.day(r,{width:"abbreviated",context:"formatting"})||s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"}),i)}}validate(r,n){return n>=1&&n<=7}set(r,n,s){return r=Ade(r,s),r.setHours(0,0,0,0),r}}class Ede extends zr{constructor(){super(...arguments);At(this,"priority",80);At(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(r,n,s){switch(n){case"a":case"aa":case"aaa":return s.dayPeriod(r,{width:"abbreviated",context:"formatting"})||s.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaaa":return s.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(r,{width:"wide",context:"formatting"})||s.dayPeriod(r,{width:"abbreviated",context:"formatting"})||s.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,s){return r.setHours(iO(s),0,0,0),r}}class Dde extends zr{constructor(){super(...arguments);At(this,"priority",80);At(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(r,n,s){switch(n){case"b":case"bb":case"bbb":return s.dayPeriod(r,{width:"abbreviated",context:"formatting"})||s.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbbb":return s.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(r,{width:"wide",context:"formatting"})||s.dayPeriod(r,{width:"abbreviated",context:"formatting"})||s.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,s){return r.setHours(iO(s),0,0,0),r}}class Pde extends zr{constructor(){super(...arguments);At(this,"priority",80);At(this,"incompatibleTokens",["a","b","t","T"])}parse(r,n,s){switch(n){case"B":case"BB":case"BBB":return s.dayPeriod(r,{width:"abbreviated",context:"formatting"})||s.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBBB":return s.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(r,{width:"wide",context:"formatting"})||s.dayPeriod(r,{width:"abbreviated",context:"formatting"})||s.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,s){return r.setHours(iO(s),0,0,0),r}}class Rde extends zr{constructor(){super(...arguments);At(this,"priority",70);At(this,"incompatibleTokens",["H","K","k","t","T"])}parse(r,n,s){switch(n){case"h":return On(Kn.hour12h,r);case"ho":return s.ordinalNumber(r,{unit:"hour"});default:return zn(n.length,r)}}validate(r,n){return n>=1&&n<=12}set(r,n,s){const i=r.getHours()>=12;return i&&s<12?r.setHours(s+12,0,0,0):!i&&s===12?r.setHours(0,0,0,0):r.setHours(s,0,0,0),r}}class Ide extends zr{constructor(){super(...arguments);At(this,"priority",70);At(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(r,n,s){switch(n){case"H":return On(Kn.hour23h,r);case"Ho":return s.ordinalNumber(r,{unit:"hour"});default:return zn(n.length,r)}}validate(r,n){return n>=0&&n<=23}set(r,n,s){return r.setHours(s,0,0,0),r}}class Lde extends zr{constructor(){super(...arguments);At(this,"priority",70);At(this,"incompatibleTokens",["h","H","k","t","T"])}parse(r,n,s){switch(n){case"K":return On(Kn.hour11h,r);case"Ko":return s.ordinalNumber(r,{unit:"hour"});default:return zn(n.length,r)}}validate(r,n){return n>=0&&n<=11}set(r,n,s){return r.getHours()>=12&&s<12?r.setHours(s+12,0,0,0):r.setHours(s,0,0,0),r}}class $de extends zr{constructor(){super(...arguments);At(this,"priority",70);At(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(r,n,s){switch(n){case"k":return On(Kn.hour24h,r);case"ko":return s.ordinalNumber(r,{unit:"hour"});default:return zn(n.length,r)}}validate(r,n){return n>=1&&n<=24}set(r,n,s){const i=s<=24?s%24:s;return r.setHours(i,0,0,0),r}}class Fde extends zr{constructor(){super(...arguments);At(this,"priority",60);At(this,"incompatibleTokens",["t","T"])}parse(r,n,s){switch(n){case"m":return On(Kn.minute,r);case"mo":return s.ordinalNumber(r,{unit:"minute"});default:return zn(n.length,r)}}validate(r,n){return n>=0&&n<=59}set(r,n,s){return r.setMinutes(s,0,0),r}}class Hde extends zr{constructor(){super(...arguments);At(this,"priority",50);At(this,"incompatibleTokens",["t","T"])}parse(r,n,s){switch(n){case"s":return On(Kn.second,r);case"so":return s.ordinalNumber(r,{unit:"second"});default:return zn(n.length,r)}}validate(r,n){return n>=0&&n<=59}set(r,n,s){return r.setSeconds(s,0),r}}class Bde extends zr{constructor(){super(...arguments);At(this,"priority",30);At(this,"incompatibleTokens",["t","T"])}parse(r,n){const s=i=>Math.trunc(i*Math.pow(10,-n.length+3));return Xn(zn(n.length,r),s)}set(r,n,s){return r.setMilliseconds(s),r}}class zde extends zr{constructor(){super(...arguments);At(this,"priority",10);At(this,"incompatibleTokens",["t","T","x"])}parse(r,n){switch(n){case"X":return uo(co.basicOptionalMinutes,r);case"XX":return uo(co.basic,r);case"XXXX":return uo(co.basicOptionalSeconds,r);case"XXXXX":return uo(co.extendedOptionalSeconds,r);case"XXX":default:return uo(co.extended,r)}}set(r,n,s){return n.timestampIsSet?r:en(r,r.getTime()-jb(r)-s)}}class Vde extends zr{constructor(){super(...arguments);At(this,"priority",10);At(this,"incompatibleTokens",["t","T","X"])}parse(r,n){switch(n){case"x":return uo(co.basicOptionalMinutes,r);case"xx":return uo(co.basic,r);case"xxxx":return uo(co.basicOptionalSeconds,r);case"xxxxx":return uo(co.extendedOptionalSeconds,r);case"xxx":default:return uo(co.extended,r)}}set(r,n,s){return n.timestampIsSet?r:en(r,r.getTime()-jb(r)-s)}}class Wde extends zr{constructor(){super(...arguments);At(this,"priority",40);At(this,"incompatibleTokens","*")}parse(r){return ZW(r)}set(r,n,s){return[en(r,s*1e3),{timestampIsSet:!0}]}}class qde extends zr{constructor(){super(...arguments);At(this,"priority",20);At(this,"incompatibleTokens","*")}parse(r){return ZW(r)}set(r,n,s){return[en(r,s),{timestampIsSet:!0}]}}const Ude={G:new ude,y:new dde,Y:new fde,R:new hde,u:new mde,Q:new pde,q:new gde,M:new xde,L:new yde,w:new vde,I:new jde,d:new kde,D:new Cde,E:new Tde,e:new _de,c:new Mde,i:new Ode,a:new Ede,b:new Dde,B:new Pde,h:new Rde,H:new Ide,K:new Lde,k:new $de,m:new Fde,s:new Hde,S:new Bde,X:new zde,x:new Vde,t:new Wde,T:new qde},Gde=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Yde=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Kde=/^'([^]*?)'?$/,Xde=/''/g,Jde=/\S/,Qde=/[a-zA-Z]/;function Zde(t,e,r,n){var v,N,T,S,O,_,A,E;const s=()=>en((n==null?void 0:n.in)||r,NaN),i=rde(),o=(n==null?void 0:n.locale)??i.locale??KW,l=(n==null?void 0:n.firstWeekContainsDate)??((N=(v=n==null?void 0:n.locale)==null?void 0:v.options)==null?void 0:N.firstWeekContainsDate)??i.firstWeekContainsDate??((S=(T=i.locale)==null?void 0:T.options)==null?void 0:S.firstWeekContainsDate)??1,c=(n==null?void 0:n.weekStartsOn)??((_=(O=n==null?void 0:n.locale)==null?void 0:O.options)==null?void 0:_.weekStartsOn)??i.weekStartsOn??((E=(A=i.locale)==null?void 0:A.options)==null?void 0:E.weekStartsOn)??0;if(!e)return t?s():Ft(r,n==null?void 0:n.in);const d={firstWeekContainsDate:l,weekStartsOn:c,locale:o},h=[new cde(n==null?void 0:n.in,r)],m=e.match(Yde).map(D=>{const $=D[0];if($ in Z5){const I=Z5[$];return I(D,o.formatLong)}return D}).join("").match(Gde),x=[];for(let D of m){const $=D[0],I=Ude[$];if(I){const{incompatibleTokens:L}=I;if(Array.isArray(L)){const z=x.find(Y=>L.includes(Y.token)||Y.token===$);if(z)throw new RangeError(`The format string mustn't contain \`${z.fullToken}\` and \`${D}\` at the same time`)}else if(I.incompatibleTokens==="*"&&x.length>0)throw new RangeError(`The format string mustn't contain \`${D}\` and any other token at the same time`);x.push({token:$,fullToken:D});const R=I.run(t,D,o.match,d);if(!R)return s();h.push(R.setter),t=R.rest}else{if($.match(Qde))throw new RangeError("Format string contains an unescaped latin alphabet character `"+$+"`");if(D==="''"?D="'":$==="'"&&(D=efe(D)),t.indexOf(D)===0)t=t.slice(D.length);else return s()}}if(t.length>0&&Jde.test(t))return s();const y=h.map(D=>D.priority).sort((D,$)=>$-D).filter((D,$,I)=>I.indexOf(D)===$).map(D=>h.filter($=>$.priority===D).sort(($,I)=>I.subPriority-$.subPriority)).map(D=>D[0]);let w=Ft(r,n==null?void 0:n.in);if(isNaN(+w))return s();const j={};for(const D of y){if(!D.validate(w,d))return s();const $=D.set(w,j,d);Array.isArray($)?(w=$[0],Object.assign(j,$[1])):w=$}return w}function efe(t){return t.match(Kde)[1].replace(Xde,"'")}function tfe(t,e,r){const[n,s]=Ll(r==null?void 0:r.in,t,e);return n.getFullYear()===s.getFullYear()&&n.getMonth()===s.getMonth()}function rfe(t,e,r){const[n,s]=Ll(r==null?void 0:r.in,t,e);return+Q5(n)==+Q5(s)}function nfe(t,e,r){const[n,s]=Ll(r==null?void 0:r.in,t,e);return n.getFullYear()===s.getFullYear()}function r0(t,e,r){const n=+Ft(t,r==null?void 0:r.in),[s,i]=[+Ft(e.start,r==null?void 0:r.in),+Ft(e.end,r==null?void 0:r.in)].sort((o,l)=>o-l);return n>=s&&n<=i}function afe(t,e,r){return Wi(t,-1,r)}function sfe(t,e){const r=()=>en(e==null?void 0:e.in,NaN),s=cfe(t);let i;if(s.date){const d=ufe(s.date,2);i=dfe(d.restDateString,d.year)}if(!i||isNaN(+i))return r();const o=+i;let l=0,c;if(s.time&&(l=ffe(s.time),isNaN(l)))return r();if(s.timezone){if(c=hfe(s.timezone),isNaN(c))return r()}else{const d=new Date(o+l),h=Ft(0,e==null?void 0:e.in);return h.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),h.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),h}return Ft(o+l+c,e==null?void 0:e.in)}const Kx={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},ife=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,ofe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,lfe=/^([+-])(\d{2})(?::?(\d{2}))?$/;function cfe(t){const e={},r=t.split(Kx.dateTimeDelimiter);let n;if(r.length>2)return e;if(/:/.test(r[0])?n=r[0]:(e.date=r[0],n=r[1],Kx.timeZoneDelimiter.test(e.date)&&(e.date=t.split(Kx.timeZoneDelimiter)[0],n=t.substr(e.date.length,t.length))),n){const s=Kx.timezone.exec(n);s?(e.time=n.replace(s[1],""),e.timezone=s[1]):e.time=n}return e}function ufe(t,e){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=t.match(r);if(!n)return{year:NaN,restDateString:""};const s=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:i===null?s:i*100,restDateString:t.slice((n[1]||n[2]).length)}}function dfe(t,e){if(e===null)return new Date(NaN);const r=t.match(ife);if(!r)return new Date(NaN);const n=!!r[4],s=Ym(r[1]),i=Ym(r[2])-1,o=Ym(r[3]),l=Ym(r[4]),c=Ym(r[5])-1;if(n)return yfe(e,l,c)?mfe(e,l,c):new Date(NaN);{const d=new Date(0);return!gfe(e,i,o)||!xfe(e,s)?new Date(NaN):(d.setUTCFullYear(e,i,Math.max(s,o)),d)}}function Ym(t){return t?parseInt(t):1}function ffe(t){const e=t.match(ofe);if(!e)return NaN;const r=yN(e[1]),n=yN(e[2]),s=yN(e[3]);return bfe(r,n,s)?r*Rw+n*Pw+s*1e3:NaN}function yN(t){return t&&parseFloat(t.replace(",","."))||0}function hfe(t){if(t==="Z")return 0;const e=t.match(lfe);if(!e)return 0;const r=e[1]==="+"?-1:1,n=parseInt(e[2]),s=e[3]&&parseInt(e[3])||0;return vfe(n,s)?r*(n*Rw+s*Pw):NaN}function mfe(t,e,r){const n=new Date(0);n.setUTCFullYear(t,0,4);const s=n.getUTCDay()||7,i=(e-1)*7+r+1-s;return n.setUTCDate(n.getUTCDate()+i),n}const pfe=[31,null,31,30,31,30,31,31,30,31,30,31];function rq(t){return t%400===0||t%4===0&&t%100!==0}function gfe(t,e,r){return e>=0&&e<=11&&r>=1&&r<=(pfe[e]||(rq(t)?29:28))}function xfe(t,e){return e>=1&&e<=(rq(t)?366:365)}function yfe(t,e,r){return e>=1&&e<=53&&r>=0&&r<=6}function bfe(t,e,r){return t===24?e===0&&r===0:r>=0&&r<60&&e>=0&&e<60&&t>=0&&t<25}function vfe(t,e){return e>=0&&e<=59}function hi(t,e,r){const n=Ft(t,r==null?void 0:r.in),s=n.getFullYear(),i=n.getDate(),o=en(t,0);o.setFullYear(s,e,15),o.setHours(0,0,0,0);const l=tde(o);return n.setMonth(e,Math.min(i,l)),n}function Gy(t,e,r){const n=Ft(t,r==null?void 0:r.in);return n.setHours(e),n}function Yy(t,e,r){const n=Ft(t,r==null?void 0:r.in);return n.setMinutes(e),n}function mf(t,e,r){const n=Ft(t,r==null?void 0:r.in),s=Math.trunc(n.getMonth()/3)+1,i=e-s;return hi(n,n.getMonth()+i*3)}function Ky(t,e,r){const n=Ft(t,r==null?void 0:r.in);return n.setSeconds(e),n}function so(t,e,r){const n=Ft(t,r==null?void 0:r.in);return isNaN(+n)?en(t,NaN):(n.setFullYear(e),n)}function qu(t,e,r){return Yi(t,-e,r)}function nq(t,e,r){return nO(t,-1,r)}function FR(t,e,r){return Sb(t,-1,r)}function Xf(t,e,r){return gl(t,-e,r)}function Lw(){return typeof window<"u"}function Hh(t){return aq(t)?(t.nodeName||"").toLowerCase():"#document"}function Ws(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Do(t){var e;return(e=(aq(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function aq(t){return Lw()?t instanceof Node||t instanceof Ws(t).Node:!1}function as(t){return Lw()?t instanceof Element||t instanceof Ws(t).Element:!1}function To(t){return Lw()?t instanceof HTMLElement||t instanceof Ws(t).HTMLElement:!1}function HR(t){return!Lw()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ws(t).ShadowRoot}const wfe=new Set(["inline","contents"]);function cg(t){const{overflow:e,overflowX:r,overflowY:n,display:s}=ki(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!wfe.has(s)}const jfe=new Set(["table","td","th"]);function Sfe(t){return jfe.has(Hh(t))}const Nfe=[":popover-open",":modal"];function $w(t){return Nfe.some(e=>{try{return t.matches(e)}catch{return!1}})}const kfe=["transform","translate","scale","rotate","perspective"],Cfe=["transform","translate","scale","rotate","perspective","filter"],Tfe=["paint","layout","strict","content"];function lO(t){const e=cO(),r=as(t)?ki(t):t;return kfe.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||Cfe.some(n=>(r.willChange||"").includes(n))||Tfe.some(n=>(r.contain||"").includes(n))}function _fe(t){let e=Bc(t);for(;To(e)&&!Jf(e);){if(lO(e))return e;if($w(e))return null;e=Bc(e)}return null}function cO(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Mfe=new Set(["html","body","#document"]);function Jf(t){return Mfe.has(Hh(t))}function ki(t){return Ws(t).getComputedStyle(t)}function Fw(t){return as(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Bc(t){if(Hh(t)==="html")return t;const e=t.assignedSlot||t.parentNode||HR(t)&&t.host||Do(t);return HR(e)?e.host:e}function sq(t){const e=Bc(t);return Jf(e)?t.ownerDocument?t.ownerDocument.body:t.body:To(e)&&cg(e)?e:sq(e)}function n0(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const s=sq(t),i=s===((n=t.ownerDocument)==null?void 0:n.body),o=Ws(s);if(i){const l=t_(o);return e.concat(o,o.visualViewport||[],cg(s)?s:[],l&&r?n0(l):[])}return e.concat(s,n0(s,[],r))}function t_(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}const Qf=Math.min,Uu=Math.max,Mb=Math.round,Xx=Math.floor,bo=t=>({x:t,y:t}),Afe={left:"right",right:"left",bottom:"top",top:"bottom"},Ofe={start:"end",end:"start"};function Efe(t,e,r){return Uu(t,Qf(e,r))}function Hw(t,e){return typeof t=="function"?t(e):t}function Zf(t){return t.split("-")[0]}function ug(t){return t.split("-")[1]}function Dfe(t){return t==="x"?"y":"x"}function uO(t){return t==="y"?"height":"width"}const Pfe=new Set(["top","bottom"]);function Eu(t){return Pfe.has(Zf(t))?"y":"x"}function dO(t){return Dfe(Eu(t))}function Rfe(t,e,r){r===void 0&&(r=!1);const n=ug(t),s=dO(t),i=uO(s);let o=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Ab(o)),[o,Ab(o)]}function Ife(t){const e=Ab(t);return[r_(t),e,r_(e)]}function r_(t){return t.replace(/start|end/g,e=>Ofe[e])}const BR=["left","right"],zR=["right","left"],Lfe=["top","bottom"],$fe=["bottom","top"];function Ffe(t,e,r){switch(t){case"top":case"bottom":return r?e?zR:BR:e?BR:zR;case"left":case"right":return e?Lfe:$fe;default:return[]}}function Hfe(t,e,r,n){const s=ug(t);let i=Ffe(Zf(t),r==="start",n);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(r_)))),i}function Ab(t){return t.replace(/left|right|bottom|top/g,e=>Afe[e])}function Bfe(t){return{top:0,right:0,bottom:0,left:0,...t}}function iq(t){return typeof t!="number"?Bfe(t):{top:t,right:t,bottom:t,left:t}}function Ob(t){const{x:e,y:r,width:n,height:s}=t;return{width:n,height:s,top:r,left:e,right:e+n,bottom:r+s,x:e,y:r}}var zfe=typeof document<"u",Vfe=function(){},Eb=zfe?g.useLayoutEffect:Vfe;const Wfe={...ub},qfe=Wfe.useInsertionEffect,Ufe=qfe||(t=>t());function Gfe(t){const e=g.useRef(()=>{});return Ufe(()=>{e.current=t}),g.useCallback(function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return e.current==null?void 0:e.current(...n)},[])}function VR(t,e,r){let{reference:n,floating:s}=t;const i=Eu(e),o=dO(e),l=uO(o),c=Zf(e),d=i==="y",h=n.x+n.width/2-s.width/2,m=n.y+n.height/2-s.height/2,x=n[l]/2-s[l]/2;let y;switch(c){case"top":y={x:h,y:n.y-s.height};break;case"bottom":y={x:h,y:n.y+n.height};break;case"right":y={x:n.x+n.width,y:m};break;case"left":y={x:n.x-s.width,y:m};break;default:y={x:n.x,y:n.y}}switch(ug(e)){case"start":y[o]-=x*(r&&d?-1:1);break;case"end":y[o]+=x*(r&&d?-1:1);break}return y}const Yfe=async(t,e,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:h,y:m}=VR(d,n,c),x=n,y={},w=0;for(let j=0;j<l.length;j++){const{name:v,fn:N}=l[j],{x:T,y:S,data:O,reset:_}=await N({x:h,y:m,initialPlacement:n,placement:x,strategy:s,middlewareData:y,rects:d,platform:o,elements:{reference:t,floating:e}});h=T??h,m=S??m,y={...y,[v]:{...y[v],...O}},_&&w<=50&&(w++,typeof _=="object"&&(_.placement&&(x=_.placement),_.rects&&(d=_.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):_.rects),{x:h,y:m}=VR(d,x,c)),j=-1)}return{x:h,y:m,placement:x,strategy:s,middlewareData:y}};async function Kfe(t,e){var r;e===void 0&&(e={});const{x:n,y:s,platform:i,rects:o,elements:l,strategy:c}=t,{boundary:d="clippingAncestors",rootBoundary:h="viewport",elementContext:m="floating",altBoundary:x=!1,padding:y=0}=Hw(e,t),w=iq(y),v=l[x?m==="floating"?"reference":"floating":m],N=Ob(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(v)))==null||r?v:v.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:h,strategy:c})),T=m==="floating"?{x:n,y:s,width:o.floating.width,height:o.floating.height}:o.reference,S=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),O=await(i.isElement==null?void 0:i.isElement(S))?await(i.getScale==null?void 0:i.getScale(S))||{x:1,y:1}:{x:1,y:1},_=Ob(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:T,offsetParent:S,strategy:c}):T);return{top:(N.top-_.top+w.top)/O.y,bottom:(_.bottom-N.bottom+w.bottom)/O.y,left:(N.left-_.left+w.left)/O.x,right:(_.right-N.right+w.right)/O.x}}const Xfe=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:s,rects:i,platform:o,elements:l,middlewareData:c}=e,{element:d,padding:h=0}=Hw(t,e)||{};if(d==null)return{};const m=iq(h),x={x:r,y:n},y=dO(s),w=uO(y),j=await o.getDimensions(d),v=y==="y",N=v?"top":"left",T=v?"bottom":"right",S=v?"clientHeight":"clientWidth",O=i.reference[w]+i.reference[y]-x[y]-i.floating[w],_=x[y]-i.reference[y],A=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let E=A?A[S]:0;(!E||!await(o.isElement==null?void 0:o.isElement(A)))&&(E=l.floating[S]||i.floating[w]);const D=O/2-_/2,$=E/2-j[w]/2-1,I=Qf(m[N],$),L=Qf(m[T],$),R=I,z=E-j[w]-L,Y=E/2-j[w]/2+D,W=Efe(R,Y,z),H=!c.arrow&&ug(s)!=null&&Y!==W&&i.reference[w]/2-(Y<R?I:L)-j[w]/2<0,P=H?Y<R?Y-R:Y-z:0;return{[y]:x[y]+P,data:{[y]:W,centerOffset:Y-W-P,...H&&{alignmentOffset:P}},reset:H}}}),Jfe=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:s,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:d}=e,{mainAxis:h=!0,crossAxis:m=!0,fallbackPlacements:x,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:j=!0,...v}=Hw(t,e);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const N=Zf(s),T=Eu(l),S=Zf(l)===l,O=await(c.isRTL==null?void 0:c.isRTL(d.floating)),_=x||(S||!j?[Ab(l)]:Ife(l)),A=w!=="none";!x&&A&&_.push(...Hfe(l,j,w,O));const E=[l,..._],D=await Kfe(e,v),$=[];let I=((n=i.flip)==null?void 0:n.overflows)||[];if(h&&$.push(D[N]),m){const Y=Rfe(s,o,O);$.push(D[Y[0]],D[Y[1]])}if(I=[...I,{placement:s,overflows:$}],!$.every(Y=>Y<=0)){var L,R;const Y=(((L=i.flip)==null?void 0:L.index)||0)+1,W=E[Y];if(W&&(!(m==="alignment"?T!==Eu(W):!1)||I.every(F=>Eu(F.placement)===T?F.overflows[0]>0:!0)))return{data:{index:Y,overflows:I},reset:{placement:W}};let H=(R=I.filter(P=>P.overflows[0]<=0).sort((P,F)=>P.overflows[1]-F.overflows[1])[0])==null?void 0:R.placement;if(!H)switch(y){case"bestFit":{var z;const P=(z=I.filter(F=>{if(A){const X=Eu(F.placement);return X===T||X==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(X=>X>0).reduce((X,te)=>X+te,0)]).sort((F,X)=>F[1]-X[1])[0])==null?void 0:z[0];P&&(H=P);break}case"initialPlacement":H=l;break}if(s!==H)return{reset:{placement:H}}}return{}}}},Qfe=new Set(["left","top"]);async function Zfe(t,e){const{placement:r,platform:n,elements:s}=t,i=await(n.isRTL==null?void 0:n.isRTL(s.floating)),o=Zf(r),l=ug(r),c=Eu(r)==="y",d=Qfe.has(o)?-1:1,h=i&&c?-1:1,m=Hw(e,t);let{mainAxis:x,crossAxis:y,alignmentAxis:w}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return l&&typeof w=="number"&&(y=l==="end"?w*-1:w),c?{x:y*h,y:x*d}:{x:x*d,y:y*h}}const ehe=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:s,y:i,placement:o,middlewareData:l}=e,c=await Zfe(e,t);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}};function oq(t){const e=ki(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const s=To(t),i=s?t.offsetWidth:r,o=s?t.offsetHeight:n,l=Mb(r)!==i||Mb(n)!==o;return l&&(r=i,n=o),{width:r,height:n,$:l}}function fO(t){return as(t)?t:t.contextElement}function Pf(t){const e=fO(t);if(!To(e))return bo(1);const r=e.getBoundingClientRect(),{width:n,height:s,$:i}=oq(e);let o=(i?Mb(r.width):r.width)/n,l=(i?Mb(r.height):r.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const the=bo(0);function lq(t){const e=Ws(t);return!cO()||!e.visualViewport?the:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function rhe(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==Ws(t)?!1:e}function nd(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const s=t.getBoundingClientRect(),i=fO(t);let o=bo(1);e&&(n?as(n)&&(o=Pf(n)):o=Pf(t));const l=rhe(i,r,n)?lq(i):bo(0);let c=(s.left+l.x)/o.x,d=(s.top+l.y)/o.y,h=s.width/o.x,m=s.height/o.y;if(i){const x=Ws(i),y=n&&as(n)?Ws(n):n;let w=x,j=t_(w);for(;j&&n&&y!==w;){const v=Pf(j),N=j.getBoundingClientRect(),T=ki(j),S=N.left+(j.clientLeft+parseFloat(T.paddingLeft))*v.x,O=N.top+(j.clientTop+parseFloat(T.paddingTop))*v.y;c*=v.x,d*=v.y,h*=v.x,m*=v.y,c+=S,d+=O,w=Ws(j),j=t_(w)}}return Ob({width:h,height:m,x:c,y:d})}function Bw(t,e){const r=Fw(t).scrollLeft;return e?e.left+r:nd(Do(t)).left+r}function cq(t,e){const r=t.getBoundingClientRect(),n=r.left+e.scrollLeft-Bw(t,r),s=r.top+e.scrollTop;return{x:n,y:s}}function nhe(t){let{elements:e,rect:r,offsetParent:n,strategy:s}=t;const i=s==="fixed",o=Do(n),l=e?$w(e.floating):!1;if(n===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},d=bo(1);const h=bo(0),m=To(n);if((m||!m&&!i)&&((Hh(n)!=="body"||cg(o))&&(c=Fw(n)),To(n))){const y=nd(n);d=Pf(n),h.x=y.x+n.clientLeft,h.y=y.y+n.clientTop}const x=o&&!m&&!i?cq(o,c):bo(0);return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-c.scrollLeft*d.x+h.x+x.x,y:r.y*d.y-c.scrollTop*d.y+h.y+x.y}}function ahe(t){return Array.from(t.getClientRects())}function she(t){const e=Do(t),r=Fw(t),n=t.ownerDocument.body,s=Uu(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),i=Uu(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+Bw(t);const l=-r.scrollTop;return ki(n).direction==="rtl"&&(o+=Uu(e.clientWidth,n.clientWidth)-s),{width:s,height:i,x:o,y:l}}const WR=25;function ihe(t,e){const r=Ws(t),n=Do(t),s=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,l=0,c=0;if(s){i=s.width,o=s.height;const h=cO();(!h||h&&e==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}const d=Bw(n);if(d<=0){const h=n.ownerDocument,m=h.body,x=getComputedStyle(m),y=h.compatMode==="CSS1Compat"&&parseFloat(x.marginLeft)+parseFloat(x.marginRight)||0,w=Math.abs(n.clientWidth-m.clientWidth-y);w<=WR&&(i-=w)}else d<=WR&&(i+=d);return{width:i,height:o,x:l,y:c}}const ohe=new Set(["absolute","fixed"]);function lhe(t,e){const r=nd(t,!0,e==="fixed"),n=r.top+t.clientTop,s=r.left+t.clientLeft,i=To(t)?Pf(t):bo(1),o=t.clientWidth*i.x,l=t.clientHeight*i.y,c=s*i.x,d=n*i.y;return{width:o,height:l,x:c,y:d}}function qR(t,e,r){let n;if(e==="viewport")n=ihe(t,r);else if(e==="document")n=she(Do(t));else if(as(e))n=lhe(e,r);else{const s=lq(t);n={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Ob(n)}function uq(t,e){const r=Bc(t);return r===e||!as(r)||Jf(r)?!1:ki(r).position==="fixed"||uq(r,e)}function che(t,e){const r=e.get(t);if(r)return r;let n=n0(t,[],!1).filter(l=>as(l)&&Hh(l)!=="body"),s=null;const i=ki(t).position==="fixed";let o=i?Bc(t):t;for(;as(o)&&!Jf(o);){const l=ki(o),c=lO(o);!c&&l.position==="fixed"&&(s=null),(i?!c&&!s:!c&&l.position==="static"&&!!s&&ohe.has(s.position)||cg(o)&&!c&&uq(t,o))?n=n.filter(h=>h!==o):s=l,o=Bc(o)}return e.set(t,n),n}function uhe(t){let{element:e,boundary:r,rootBoundary:n,strategy:s}=t;const o=[...r==="clippingAncestors"?$w(e)?[]:che(e,this._c):[].concat(r),n],l=o[0],c=o.reduce((d,h)=>{const m=qR(e,h,s);return d.top=Uu(m.top,d.top),d.right=Qf(m.right,d.right),d.bottom=Qf(m.bottom,d.bottom),d.left=Uu(m.left,d.left),d},qR(e,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function dhe(t){const{width:e,height:r}=oq(t);return{width:e,height:r}}function fhe(t,e,r){const n=To(e),s=Do(e),i=r==="fixed",o=nd(t,!0,i,e);let l={scrollLeft:0,scrollTop:0};const c=bo(0);function d(){c.x=Bw(s)}if(n||!n&&!i)if((Hh(e)!=="body"||cg(s))&&(l=Fw(e)),n){const y=nd(e,!0,i,e);c.x=y.x+e.clientLeft,c.y=y.y+e.clientTop}else s&&d();i&&!n&&s&&d();const h=s&&!n&&!i?cq(s,l):bo(0),m=o.left+l.scrollLeft-c.x-h.x,x=o.top+l.scrollTop-c.y-h.y;return{x:m,y:x,width:o.width,height:o.height}}function bN(t){return ki(t).position==="static"}function UR(t,e){if(!To(t)||ki(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return Do(t)===r&&(r=r.ownerDocument.body),r}function dq(t,e){const r=Ws(t);if($w(t))return r;if(!To(t)){let s=Bc(t);for(;s&&!Jf(s);){if(as(s)&&!bN(s))return s;s=Bc(s)}return r}let n=UR(t,e);for(;n&&Sfe(n)&&bN(n);)n=UR(n,e);return n&&Jf(n)&&bN(n)&&!lO(n)?r:n||_fe(t)||r}const hhe=async function(t){const e=this.getOffsetParent||dq,r=this.getDimensions,n=await r(t.floating);return{reference:fhe(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function mhe(t){return ki(t).direction==="rtl"}const phe={convertOffsetParentRelativeRectToViewportRelativeRect:nhe,getDocumentElement:Do,getClippingRect:uhe,getOffsetParent:dq,getElementRects:hhe,getClientRects:ahe,getDimensions:dhe,getScale:Pf,isElement:as,isRTL:mhe};function fq(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function ghe(t,e){let r=null,n;const s=Do(t);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const d=t.getBoundingClientRect(),{left:h,top:m,width:x,height:y}=d;if(l||e(),!x||!y)return;const w=Xx(m),j=Xx(s.clientWidth-(h+x)),v=Xx(s.clientHeight-(m+y)),N=Xx(h),S={rootMargin:-w+"px "+-j+"px "+-v+"px "+-N+"px",threshold:Uu(0,Qf(1,c))||1};let O=!0;function _(A){const E=A[0].intersectionRatio;if(E!==c){if(!O)return o();E?o(!1,E):n=setTimeout(()=>{o(!1,1e-7)},1e3)}E===1&&!fq(d,t.getBoundingClientRect())&&o(),O=!1}try{r=new IntersectionObserver(_,{...S,root:s.ownerDocument})}catch{r=new IntersectionObserver(_,S)}r.observe(t)}return o(!0),i}function hq(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,d=fO(t),h=s||i?[...d?n0(d):[],...n0(e)]:[];h.forEach(N=>{s&&N.addEventListener("scroll",r,{passive:!0}),i&&N.addEventListener("resize",r)});const m=d&&l?ghe(d,r):null;let x=-1,y=null;o&&(y=new ResizeObserver(N=>{let[T]=N;T&&T.target===d&&y&&(y.unobserve(e),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var S;(S=y)==null||S.observe(e)})),r()}),d&&!c&&y.observe(d),y.observe(e));let w,j=c?nd(t):null;c&&v();function v(){const N=nd(t);j&&!fq(j,N)&&r(),j=N,w=requestAnimationFrame(v)}return r(),()=>{var N;h.forEach(T=>{s&&T.removeEventListener("scroll",r),i&&T.removeEventListener("resize",r)}),m==null||m(),(N=y)==null||N.disconnect(),y=null,c&&cancelAnimationFrame(w)}}const xhe=ehe,yhe=Jfe,GR=Xfe,bhe=(t,e,r)=>{const n=new Map,s={platform:phe,...r},i={...s.platform,_c:n};return Yfe(t,e,{...s,platform:i})};var vhe=typeof document<"u",whe=function(){},Xy=vhe?g.useLayoutEffect:whe;function Db(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!Db(t[n],e[n]))return!1;return!0}if(s=Object.keys(t),r=s.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,s[n]))return!1;for(n=r;n--!==0;){const i=s[n];if(!(i==="_owner"&&t.$$typeof)&&!Db(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function mq(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function YR(t,e){const r=mq(t);return Math.round(e*r)/r}function vN(t){const e=g.useRef(t);return Xy(()=>{e.current=t}),e}function jhe(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=t,[h,m]=g.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[x,y]=g.useState(n);Db(x,n)||y(n);const[w,j]=g.useState(null),[v,N]=g.useState(null),T=g.useCallback(F=>{F!==A.current&&(A.current=F,j(F))},[]),S=g.useCallback(F=>{F!==E.current&&(E.current=F,N(F))},[]),O=i||w,_=o||v,A=g.useRef(null),E=g.useRef(null),D=g.useRef(h),$=c!=null,I=vN(c),L=vN(s),R=vN(d),z=g.useCallback(()=>{if(!A.current||!E.current)return;const F={placement:e,strategy:r,middleware:x};L.current&&(F.platform=L.current),bhe(A.current,E.current,F).then(X=>{const te={...X,isPositioned:R.current!==!1};Y.current&&!Db(D.current,te)&&(D.current=te,bA.flushSync(()=>{m(te)}))})},[x,e,r,L,R]);Xy(()=>{d===!1&&D.current.isPositioned&&(D.current.isPositioned=!1,m(F=>({...F,isPositioned:!1})))},[d]);const Y=g.useRef(!1);Xy(()=>(Y.current=!0,()=>{Y.current=!1}),[]),Xy(()=>{if(O&&(A.current=O),_&&(E.current=_),O&&_){if(I.current)return I.current(O,_,z);z()}},[O,_,z,I,$]);const W=g.useMemo(()=>({reference:A,floating:E,setReference:T,setFloating:S}),[T,S]),H=g.useMemo(()=>({reference:O,floating:_}),[O,_]),P=g.useMemo(()=>{const F={position:r,left:0,top:0};if(!H.floating)return F;const X=YR(H.floating,h.x),te=YR(H.floating,h.y);return l?{...F,transform:"translate("+X+"px, "+te+"px)",...mq(H.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:X,top:te}},[r,l,H.floating,h.x,h.y]);return g.useMemo(()=>({...h,update:z,refs:W,elements:H,floatingStyles:P}),[h,z,W,H,P])}const She=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:s}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?GR({element:n.current,padding:s}).fn(r):{}:n?GR({element:n,padding:s}).fn(r):{}}}},Nhe=(t,e)=>({...xhe(t),options:[t,e]}),khe=(t,e)=>({...yhe(t),options:[t,e]}),Che=(t,e)=>({...She(t),options:[t,e]}),The={...ub};let KR=!1,_he=0;const XR=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+_he++;function Mhe(){const[t,e]=g.useState(()=>KR?XR():void 0);return Eb(()=>{t==null&&e(XR())},[]),g.useEffect(()=>{KR=!0},[]),t}const Ahe=The.useId,pq=Ahe||Mhe,Ohe=g.forwardRef(function(e,r){const{context:{placement:n,elements:{floating:s},middlewareData:{arrow:i,shift:o}},width:l=14,height:c=7,tipRadius:d=0,strokeWidth:h=0,staticOffset:m,stroke:x,d:y,style:{transform:w,...j}={},...v}=e,N=pq(),[T,S]=g.useState(!1);if(Eb(()=>{if(!s)return;ki(s).direction==="rtl"&&S(!0)},[s]),!s)return null;const[O,_]=n.split("-"),A=O==="top"||O==="bottom";let E=m;(A&&o!=null&&o.x||!A&&o!=null&&o.y)&&(E=null);const D=h*2,$=D/2,I=l/2*(d/-8+1),L=c/2*d/4,R=!!y,z=E&&_==="end"?"bottom":"top";let Y=E&&_==="end"?"right":"left";E&&T&&(Y=_==="end"?"left":"right");const W=(i==null?void 0:i.x)!=null?E||i.x:"",H=(i==null?void 0:i.y)!=null?E||i.y:"",P=y||"M0,0"+(" H"+l)+(" L"+(l-I)+","+(c-L))+(" Q"+l/2+","+c+" "+I+","+(c-L))+" Z",F={top:R?"rotate(180deg)":"",left:R?"rotate(90deg)":"rotate(-90deg)",bottom:R?"":"rotate(180deg)",right:R?"rotate(-90deg)":"rotate(90deg)"}[O];return a.jsxs("svg",{...v,"aria-hidden":!0,ref:r,width:R?l:l+D,height:l,viewBox:"0 0 "+l+" "+(c>l?c:l),style:{position:"absolute",pointerEvents:"none",[Y]:W,[z]:H,[O]:A||R?"100%":"calc(100% - "+D/2+"px)",transform:[F,w].filter(X=>!!X).join(" "),...j},children:[D>0&&a.jsx("path",{clipPath:"url(#"+N+")",fill:"none",stroke:x,strokeWidth:D+(y?0:1),d:P}),a.jsx("path",{stroke:D&&!y?v.fill:"none",d:P}),a.jsx("clipPath",{id:N,children:a.jsx("rect",{x:-$,y:$*(R?-1:1),width:l+D,height:l})})]})});function Ehe(){const t=new Map;return{emit(e,r){var n;(n=t.get(e))==null||n.forEach(s=>s(r))},on(e,r){t.has(e)||t.set(e,new Set),t.get(e).add(r)},off(e,r){var n;(n=t.get(e))==null||n.delete(r)}}}const Dhe=g.createContext(null),Phe=g.createContext(null),Rhe=()=>{var t;return((t=g.useContext(Dhe))==null?void 0:t.id)||null},Ihe=()=>g.useContext(Phe);function Lhe(t){const{open:e=!1,onOpenChange:r,elements:n}=t,s=pq(),i=g.useRef({}),[o]=g.useState(()=>Ehe()),l=Rhe()!=null,[c,d]=g.useState(n.reference),h=Gfe((y,w,j)=>{i.current.openEvent=y?w:void 0,o.emit("openchange",{open:y,event:w,reason:j,nested:l}),r==null||r(y,w,j)}),m=g.useMemo(()=>({setPositionReference:d}),[]),x=g.useMemo(()=>({reference:c||n.reference||null,floating:n.floating||null,domReference:n.reference}),[c,n.reference,n.floating]);return g.useMemo(()=>({dataRef:i,open:e,onOpenChange:h,elements:x,events:o,floatingId:s,refs:m}),[e,h,x,o,s,m])}function $he(t){t===void 0&&(t={});const{nodeId:e}=t,r=Lhe({...t,elements:{reference:null,floating:null,...t.elements}}),n=t.rootContext||r,s=n.elements,[i,o]=g.useState(null),[l,c]=g.useState(null),h=(s==null?void 0:s.domReference)||i,m=g.useRef(null),x=Ihe();Eb(()=>{h&&(m.current=h)},[h]);const y=jhe({...t,elements:{...s,...l&&{reference:l}}}),w=g.useCallback(S=>{const O=as(S)?{getBoundingClientRect:()=>S.getBoundingClientRect(),getClientRects:()=>S.getClientRects(),contextElement:S}:S;c(O),y.refs.setReference(O)},[y.refs]),j=g.useCallback(S=>{(as(S)||S===null)&&(m.current=S,o(S)),(as(y.refs.reference.current)||y.refs.reference.current===null||S!==null&&!as(S))&&y.refs.setReference(S)},[y.refs]),v=g.useMemo(()=>({...y.refs,setReference:j,setPositionReference:w,domReference:m}),[y.refs,j,w]),N=g.useMemo(()=>({...y.elements,domReference:h}),[y.elements,h]),T=g.useMemo(()=>({...y,...n,refs:v,elements:N,nodeId:e}),[y,v,N,e,n]);return Eb(()=>{n.dataRef.current.floatingContext=T;const S=x==null?void 0:x.nodesRef.current.find(O=>O.id===e);S&&(S.context=T)}),g.useMemo(()=>({...y,context:T,refs:v,elements:N}),[y,v,N,T])}/*!
  react-datepicker v8.7.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var n_=function(e,r){return n_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(n[i]=s[i])},n_(e,r)};function Ba(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n_(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Nr=function(){return Nr=Object.assign||function(r){for(var n,s=1,i=arguments.length;s<i;s++){n=arguments[s];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])}return r},Nr.apply(this,arguments)};function mo(t,e,r){if(r||arguments.length===2)for(var n=0,s=e.length,i;n<s;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))}var Fhe=function(t){var e=t.showTimeSelectOnly,r=e===void 0?!1:e,n=t.showTime,s=n===void 0?!1:n,i=t.className,o=t.children,l=r?"Choose Time":"Choose Date".concat(s?" and Time":"");return J.createElement("div",{className:i,role:"dialog","aria-label":l,"aria-modal":"true"},o)},Hhe=function(t,e){var r=g.useRef(null),n=g.useRef(t);n.current=t;var s=g.useCallback(function(i){var o,l=i.composed&&i.composedPath&&i.composedPath().find(function(c){return c instanceof Node})||i.target;r.current&&!r.current.contains(l)&&(e&&l instanceof HTMLElement&&l.classList.contains(e)||(o=n.current)===null||o===void 0||o.call(n,i))},[e]);return g.useEffect(function(){return document.addEventListener("mousedown",s),function(){document.removeEventListener("mousedown",s)}},[s]),r},zw=function(t){var e=t.children,r=t.onClickOutside,n=t.className,s=t.containerRef,i=t.style,o=t.ignoreClass,l=Hhe(r,o);return J.createElement("div",{className:n,style:i,ref:function(c){l.current=c,s&&(s.current=c)}},e)},Ct;(function(t){t.ArrowUp="ArrowUp",t.ArrowDown="ArrowDown",t.ArrowLeft="ArrowLeft",t.ArrowRight="ArrowRight",t.PageUp="PageUp",t.PageDown="PageDown",t.Home="Home",t.End="End",t.Enter="Enter",t.Space=" ",t.Tab="Tab",t.Escape="Escape",t.Backspace="Backspace",t.X="x"})(Ct||(Ct={}));function gq(){var t=typeof window<"u"?window:globalThis;return t}var dg=12;function Gr(t){if(t==null)return new Date;var e=typeof t=="string"?sfe(t):Ft(t);return Vw(e)?e:new Date}function wN(t,e,r,n,s){s===void 0&&(s=Gr());for(var i=eh(r)||eh(hO()),o=Array.isArray(e)?e:[e],l=0,c=o;l<c.length;l++){var d=c[l],h=Zde(t,d,s,{locale:i});if(Vw(h)&&(!n||t===Sn(h,d,r)))return h}return null}function Vw(t,e){return Nb(t)&&!ho(t,new Date("1/1/1800"))}function Sn(t,e,r){if(r==="en")return LR(t,e,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var n=r?eh(r):void 0;return r&&!n&&console.warn('A locale object was not found for the provided string ["'.concat(r,'"].')),n=n||eh(hO()),LR(t,e,{locale:n,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function fi(t,e){var r=e.dateFormat,n=e.locale,s=Array.isArray(r)&&r.length>0?r[0]:r;return t&&Sn(t,s,n)||""}var xq=" - ";function Bhe(t,e,r){if(!t&&!e)return"";var n=t?fi(t,r):"",s=e?fi(e,r):"",i=r.rangeSeparator||xq;return"".concat(n).concat(i).concat(s)}function zhe(t,e){if(!(t!=null&&t.length))return"";var r=t[0]?fi(t[0],e):"";if(t.length===1)return r;if(t.length===2&&t[1]){var n=fi(t[1],e);return"".concat(r,", ").concat(n)}var s=t.length-1;return"".concat(r," (+").concat(s,")")}function jN(t,e){var r=e.hour,n=r===void 0?0:r,s=e.minute,i=s===void 0?0:s,o=e.second,l=o===void 0?0:o;return Gy(Yy(Ky(t,l),i),n)}function Vhe(t){return aO(t)}function Whe(t,e){return Sn(t,"ddd",e)}function Jy(t){return rd(t)}function Ac(t,e,r){var n=eh(e||hO());return Al(t,{locale:n,weekStartsOn:r})}function vl(t){return GW(t)}function gp(t){return Iw(t)}function JR(t){return Q5(t)}function QR(){return rd(Gr())}function ZR(t){return qW(t)}function qhe(t){return sue(t)}function Uhe(t){return UW(t)}function io(t,e){return t&&e?nfe(t,e):!t&&!e}function rs(t,e){return t&&e?tfe(t,e):!t&&!e}function Pb(t,e){return t&&e?rfe(t,e):!t&&!e}function Sr(t,e){return t&&e?nue(t,e):!t&&!e}function Du(t,e){return t&&e?ade(t,e):!t&&!e}function Nu(t,e,r){var n,s=rd(e),i=qW(r);try{n=r0(t,{start:s,end:i})}catch{n=!1}return n}function hO(){var t=gq();return t.__localeId__}function eh(t){if(typeof t=="string"){var e=gq();return e.__localeData__?e.__localeData__[t]:void 0}else return t}function Ghe(t,e,r){return e(Sn(t,"EEEE",r))}function Yhe(t,e){return Sn(t,"EEEEEE",e)}function Khe(t,e){return Sn(t,"EEE",e)}function mO(t,e){return Sn(hi(Gr(),t),"LLLL",e)}function yq(t,e){return Sn(hi(Gr(),t),"LLL",e)}function Xhe(t,e){return Sn(mf(Gr(),t),"QQQ",e)}function pi(t,e){var r=e===void 0?{}:e,n=r.minDate,s=r.maxDate,i=r.excludeDates,o=r.excludeDateIntervals,l=r.includeDates,c=r.includeDateIntervals,d=r.filterDate;return fg(t,{minDate:n,maxDate:s})||i&&i.some(function(h){return h instanceof Date?Sr(t,h):Sr(t,h.date)})||o&&o.some(function(h){var m=h.start,x=h.end;return r0(t,{start:m,end:x})})||l&&!l.some(function(h){return Sr(t,h)})||c&&!c.some(function(h){var m=h.start,x=h.end;return r0(t,{start:m,end:x})})||d&&!d(Gr(t))||!1}function pO(t,e){var r=e===void 0?{}:e,n=r.excludeDates,s=r.excludeDateIntervals;return s&&s.length>0?s.some(function(i){var o=i.start,l=i.end;return r0(t,{start:o,end:l})}):n&&n.some(function(i){var o;return i instanceof Date?Sr(t,i):Sr(t,(o=i.date)!==null&&o!==void 0?o:new Date)})||!1}function bq(t,e){var r=e===void 0?{}:e,n=r.minDate,s=r.maxDate,i=r.excludeDates,o=r.includeDates,l=r.filterDate;return fg(t,{minDate:n?GW(n):void 0,maxDate:s?UW(s):void 0})||(i==null?void 0:i.some(function(c){return rs(t,c instanceof Date?c:c.date)}))||o&&!o.some(function(c){return rs(t,c)})||l&&!l(Gr(t))||!1}function Jx(t,e,r,n){var s=hr(t),i=Ga(t),o=hr(e),l=Ga(e),c=hr(n);return s===o&&s===c?i<=r&&r<=l:s<o?c===s&&i<=r||c===o&&l>=r||c<o&&c>s:!1}function Jhe(t,e){var r=e===void 0?{}:e,n=r.minDate,s=r.maxDate,i=r.excludeDates,o=r.includeDates;return fg(t,{minDate:n,maxDate:s})||i&&i.some(function(l){return rs(l instanceof Date?l:l.date,t)})||o&&!o.some(function(l){return rs(l,t)})||!1}function Qx(t,e){var r=e===void 0?{}:e,n=r.minDate,s=r.maxDate,i=r.excludeDates,o=r.includeDates,l=r.filterDate;return fg(t,{minDate:n,maxDate:s})||(i==null?void 0:i.some(function(c){return Pb(t,c instanceof Date?c:c.date)}))||o&&!o.some(function(c){return Pb(t,c)})||l&&!l(Gr(t))||!1}function Zx(t,e,r){if(!e||!r||!Nb(e)||!Nb(r))return!1;var n=hr(e),s=hr(r);return n<=t&&s>=t}function Qy(t,e){var r=e===void 0?{}:e,n=r.minDate,s=r.maxDate,i=r.excludeDates,o=r.includeDates,l=r.filterDate,c=new Date(t,0,1);return fg(c,{minDate:n?Iw(n):void 0,maxDate:s?YW(s):void 0})||(i==null?void 0:i.some(function(d){return io(c,d instanceof Date?d:d.date)}))||o&&!o.some(function(d){return io(c,d)})||l&&!l(Gr(c))||!1}function ey(t,e,r,n){var s=hr(t),i=Wu(t),o=hr(e),l=Wu(e),c=hr(n);return s===o&&s===c?i<=r&&r<=l:s<o?c===s&&i<=r||c===o&&l>=r||c<o&&c>s:!1}function fg(t,e){var r,n=e===void 0?{}:e,s=n.minDate,i=n.maxDate;return(r=s&&Kf(t,s)<0||i&&Kf(t,i)>0)!==null&&r!==void 0?r:!1}function eI(t,e){return e.some(function(r){return yl(r)===yl(t)&&bl(r)===bl(t)&&Mc(r)===Mc(t)})}function tI(t,e){var r=e===void 0?{}:e,n=r.excludeTimes,s=r.includeTimes,i=r.filterTime;return n&&eI(t,n)||s&&!eI(t,s)||i&&!i(t)||!1}function rI(t,e){var r=e.minTime,n=e.maxTime;if(!r||!n)throw new Error("Both minTime and maxTime props required");var s=Gr();s=Gy(s,yl(t)),s=Yy(s,bl(t)),s=Ky(s,Mc(t));var i=Gr();i=Gy(i,yl(r)),i=Yy(i,bl(r)),i=Ky(i,Mc(r));var o=Gr();o=Gy(o,yl(n)),o=Yy(o,bl(n)),o=Ky(o,Mc(n));var l;try{l=!r0(s,{start:i,end:o})}catch{l=!1}return l}function nI(t,e){var r=e===void 0?{}:e,n=r.minDate,s=r.includeDates,i=qu(t,1);return n&&kb(n,i)>0||s&&s.every(function(o){return kb(o,i)>0})||!1}function aI(t,e){var r=e===void 0?{}:e,n=r.maxDate,s=r.includeDates,i=Yi(t,1);return n&&kb(i,n)>0||s&&s.every(function(o){return kb(i,o)>0})||!1}function Qhe(t,e){var r=e===void 0?{}:e,n=r.minDate,s=r.includeDates,i=Iw(t),o=nq(i);return n&&Cb(n,o)>0||s&&s.every(function(l){return Cb(l,o)>0})||!1}function Zhe(t,e){var r=e===void 0?{}:e,n=r.maxDate,s=r.includeDates,i=YW(t),o=nO(i,1);return n&&Cb(o,n)>0||s&&s.every(function(l){return Cb(o,l)>0})||!1}function sI(t,e){var r=e===void 0?{}:e,n=r.minDate,s=r.includeDates,i=Xf(t,1);return n&&Tb(n,i)>0||s&&s.every(function(o){return Tb(o,i)>0})||!1}function eme(t,e){var r=e===void 0?{}:e,n=r.minDate,s=r.yearItemNumber,i=s===void 0?dg:s,o=gp(Xf(t,i)),l=cl(o,i).endPeriod,c=n&&hr(n);return c&&c>l||!1}function iI(t,e){var r=e===void 0?{}:e,n=r.maxDate,s=r.includeDates,i=gl(t,1);return n&&Tb(i,n)>0||s&&s.every(function(o){return Tb(i,o)>0})||!1}function tme(t,e){var r=e===void 0?{}:e,n=r.maxDate,s=r.yearItemNumber,i=s===void 0?dg:s,o=gl(t,i),l=cl(o,i).startPeriod,c=n&&hr(n);return c&&c<l||!1}function vq(t){var e=t.minDate,r=t.includeDates;if(r&&e){var n=r.filter(function(s){return Kf(s,e)>=0});return OR(n)}else return r?OR(r):e}function wq(t){var e=t.maxDate,r=t.includeDates;if(r&&e){var n=r.filter(function(s){return Kf(s,e)<=0});return AR(n)}else return r?AR(r):e}function oI(t,e){var r;t===void 0&&(t=[]),e===void 0&&(e="react-datepicker__day--highlighted");for(var n=new Map,s=0,i=t.length;s<i;s++){var o=t[s];if(xl(o)){var l=Sn(o,"MM.dd.yyyy"),c=n.get(l)||[];c.includes(e)||(c.push(e),n.set(l,c))}else if(typeof o=="object"){var d=Object.keys(o),h=(r=d[0])!==null&&r!==void 0?r:"",m=o[h];if(typeof h=="string"&&Array.isArray(m))for(var x=0,y=m.length;x<y;x++){var w=m[x];if(w){var l=Sn(w,"MM.dd.yyyy"),c=n.get(l)||[];c.includes(h)||(c.push(h),n.set(l,c))}}}}return n}function rme(t,e){return t.length!==e.length?!1:t.every(function(r,n){return r===e[n]})}function nme(t,e){t===void 0&&(t=[]),e===void 0&&(e="react-datepicker__day--holidays");var r=new Map;return t.forEach(function(n){var s=n.date,i=n.holidayName;if(xl(s)){var o=Sn(s,"MM.dd.yyyy"),l=r.get(o)||{className:"",holidayNames:[]};if(!("className"in l&&l.className===e&&rme(l.holidayNames,[i]))){l.className=e;var c=l.holidayNames;l.holidayNames=c?mo(mo([],c,!0),[i],!1):[i],r.set(o,l)}}}),r}function ame(t,e,r,n,s){for(var i=s.length,o=[],l=0;l<i;l++){var c=t,d=s[l];d&&(c=Zce(c,yl(d)),c=J5(c,bl(d)),c=rue(c,Mc(d)));var h=J5(t,(r+1)*n);Hc(c,e)&&ho(c,h)&&d!=null&&o.push(d)}return o}function lI(t){return t<10?"0".concat(t):"".concat(t)}function cl(t,e){e===void 0&&(e=dg);var r=Math.ceil(hr(t)/e)*e,n=r-(e-1);return{startPeriod:n,endPeriod:r}}function sme(t){var e=new Date(t.getFullYear(),t.getMonth(),t.getDate()),r=new Date(t.getFullYear(),t.getMonth(),t.getDate(),24);return Math.round((+r-+e)/36e5)}function cI(t){var e=t.getSeconds(),r=t.getMilliseconds();return Ft(t.getTime()-e*1e3-r)}function ime(t,e){return cI(t).getTime()===cI(e).getTime()}function uI(t){if(!xl(t))throw new Error("Invalid date");var e=new Date(t);return e.setHours(0,0,0,0),e}function SN(t,e){if(!xl(t)||!xl(e))throw new Error("Invalid date received");var r=uI(t),n=uI(e);return ho(r,n)}function jq(t){return t.key===Ct.Space}var ome=(function(t){Ba(e,t);function e(r){var n=t.call(this,r)||this;return n.inputRef=J.createRef(),n.onTimeChange=function(s){var i,o;n.setState({time:s});var l=n.props.date,c=l instanceof Date&&!isNaN(+l),d=c?l:new Date;if(s!=null&&s.includes(":")){var h=s.split(":"),m=h[0],x=h[1];d.setHours(Number(m)),d.setMinutes(Number(x))}(o=(i=n.props).onChange)===null||o===void 0||o.call(i,d)},n.renderTimeInput=function(){var s=n.state.time,i=n.props,o=i.date,l=i.timeString,c=i.customTimeInput;return c?g.cloneElement(c,{date:o,value:s,onChange:n.onTimeChange}):J.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:n.inputRef,onClick:function(){var d;(d=n.inputRef.current)===null||d===void 0||d.focus()},required:!0,value:s,onChange:function(d){n.onTimeChange(d.target.value||l)}})},n.state={time:n.props.timeString},n}return e.getDerivedStateFromProps=function(r,n){return r.timeString!==n.time?{time:r.timeString}:null},e.prototype.render=function(){return J.createElement("div",{className:"react-datepicker__input-time-container"},J.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),J.createElement("div",{className:"react-datepicker-time__input-container"},J.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},e})(g.Component),lme=(function(t){Ba(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.dayEl=g.createRef(),r.handleClick=function(n){!r.isDisabled()&&r.props.onClick&&r.props.onClick(n)},r.handleMouseEnter=function(n){!r.isDisabled()&&r.props.onMouseEnter&&r.props.onMouseEnter(n)},r.handleOnKeyDown=function(n){var s,i,o=n.key;o===Ct.Space&&(n.preventDefault(),n.key=Ct.Enter),(i=(s=r.props).handleOnKeyDown)===null||i===void 0||i.call(s,n)},r.isSameDay=function(n){return Sr(r.props.day,n)},r.isKeyboardSelected=function(){var n;if(r.props.disabledKeyboardNavigation)return!1;var s=r.props.selectsMultiple?(n=r.props.selectedDates)===null||n===void 0?void 0:n.some(function(o){return r.isSameDayOrWeek(o)}):r.isSameDayOrWeek(r.props.selected),i=r.props.preSelection&&r.isDisabled(r.props.preSelection);return!s&&r.isSameDayOrWeek(r.props.preSelection)&&!i},r.isDisabled=function(n){return n===void 0&&(n=r.props.day),pi(n,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(){return pO(r.props.day,{excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals})},r.isStartOfWeek=function(){return Sr(r.props.day,Ac(r.props.day,r.props.locale,r.props.calendarStartDay))},r.isSameWeek=function(n){return r.props.showWeekPicker&&Sr(n,Ac(r.props.day,r.props.locale,r.props.calendarStartDay))},r.isSameDayOrWeek=function(n){return r.isSameDay(n)||r.isSameWeek(n)},r.getHighLightedClass=function(){var n=r.props,s=n.day,i=n.highlightDates;if(!i)return!1;var o=Sn(s,"MM.dd.yyyy");return i.get(o)},r.getHolidaysClass=function(){var n,s=r.props,i=s.day,o=s.holidays;if(!o)return[void 0];var l=Sn(i,"MM.dd.yyyy");return o.has(l)?[(n=o.get(l))===null||n===void 0?void 0:n.className]:[void 0]},r.isInRange=function(){var n=r.props,s=n.day,i=n.startDate,o=n.endDate;return!i||!o?!1:Nu(s,i,o)},r.isInSelectingRange=function(){var n,s=r.props,i=s.day,o=s.selectsStart,l=s.selectsEnd,c=s.selectsRange,d=s.selectsDisabledDaysInRange,h=s.startDate,m=s.swapRange,x=s.endDate,y=(n=r.props.selectingDate)!==null&&n!==void 0?n:r.props.preSelection;if(!(o||l||c)||!y||!d&&r.isDisabled())return!1;if(o&&x&&(ho(y,x)||Du(y,x)))return Nu(i,y,x);if(l&&h&&(Hc(y,h)||Du(y,h)))return Nu(i,h,y);if(c&&h&&!x){if(Du(y,h)||Hc(y,h))return Nu(i,h,y);if(m&&ho(y,h))return Nu(i,y,h)}return!1},r.isSelectingRangeStart=function(){var n;if(!r.isInSelectingRange())return!1;var s=r.props,i=s.day,o=s.startDate,l=s.selectsStart,c=s.swapRange,d=s.selectsRange,h=(n=r.props.selectingDate)!==null&&n!==void 0?n:r.props.preSelection;return l?Sr(i,h):d&&c&&o&&h?Sr(i,ho(h,o)?h:o):Sr(i,o)},r.isSelectingRangeEnd=function(){var n;if(!r.isInSelectingRange())return!1;var s=r.props,i=s.day,o=s.endDate,l=s.selectsEnd,c=s.selectsRange,d=s.swapRange,h=s.startDate,m=(n=r.props.selectingDate)!==null&&n!==void 0?n:r.props.preSelection;return l?Sr(i,m):c&&d&&h&&m?Sr(i,ho(m,h)?h:m):c?Sr(i,m):Sr(i,o)},r.isRangeStart=function(){var n=r.props,s=n.day,i=n.startDate,o=n.endDate;return!i||!o?!1:Sr(i,s)},r.isRangeEnd=function(){var n=r.props,s=n.day,i=n.startDate,o=n.endDate;return!i||!o?!1:Sr(o,s)},r.isWeekend=function(){var n=ede(r.props.day);return n===0||n===6},r.isAfterMonth=function(){return r.props.month!==void 0&&(r.props.month+1)%12===Ga(r.props.day)},r.isBeforeMonth=function(){return r.props.month!==void 0&&(Ga(r.props.day)+1)%12===r.props.month},r.isCurrentDay=function(){return r.isSameDay(Gr())},r.isSelected=function(){var n;return r.props.selectsMultiple?(n=r.props.selectedDates)===null||n===void 0?void 0:n.some(function(s){return r.isSameDayOrWeek(s)}):r.isSameDayOrWeek(r.props.selected)},r.getClassNames=function(n){var s=r.props.dayClassName?r.props.dayClassName(n):void 0;return Ht("react-datepicker__day",s,"react-datepicker__day--"+Whe(r.props.day),{"react-datepicker__day--disabled":r.isDisabled(),"react-datepicker__day--excluded":r.isExcluded(),"react-datepicker__day--selected":r.isSelected(),"react-datepicker__day--keyboard-selected":r.isKeyboardSelected(),"react-datepicker__day--range-start":r.isRangeStart(),"react-datepicker__day--range-end":r.isRangeEnd(),"react-datepicker__day--in-range":r.isInRange(),"react-datepicker__day--in-selecting-range":r.isInSelectingRange(),"react-datepicker__day--selecting-range-start":r.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":r.isSelectingRangeEnd(),"react-datepicker__day--today":r.isCurrentDay(),"react-datepicker__day--weekend":r.isWeekend(),"react-datepicker__day--outside-month":r.isAfterMonth()||r.isBeforeMonth()},r.getHighLightedClass(),r.getHolidaysClass())},r.getAriaLabel=function(){var n=r.props,s=n.day,i=n.ariaLabelPrefixWhenEnabled,o=i===void 0?"Choose":i,l=n.ariaLabelPrefixWhenDisabled,c=l===void 0?"Not available":l,d=r.isDisabled()||r.isExcluded()?c:o;return"".concat(d," ").concat(Sn(s,"PPPP",r.props.locale))},r.getTitle=function(){var n=r.props,s=n.day,i=n.holidays,o=i===void 0?new Map:i,l=n.excludeDates,c=Sn(s,"MM.dd.yyyy"),d=[];return o.has(c)&&d.push.apply(d,o.get(c).holidayNames),r.isExcluded()&&d.push(l==null?void 0:l.filter(function(h){return h instanceof Date?Sr(h,s):Sr(h==null?void 0:h.date,s)}).map(function(h){if(!(h instanceof Date))return h==null?void 0:h.message})),d.join(", ")},r.getTabIndex=function(){var n=r.props.selected,s=r.props.preSelection,i=!(r.props.showWeekPicker&&(r.props.showWeekNumber||!r.isStartOfWeek()))&&(r.isKeyboardSelected()||r.isSameDay(n)&&Sr(s,n))?0:-1;return i},r.handleFocusDay=function(){var n;r.shouldFocusDay()&&((n=r.dayEl.current)===null||n===void 0||n.focus({preventScroll:!0}))},r.renderDayContents=function(){return r.props.monthShowsDuplicateDaysEnd&&r.isAfterMonth()||r.props.monthShowsDuplicateDaysStart&&r.isBeforeMonth()?null:r.props.renderDayContents?r.props.renderDayContents($R(r.props.day),r.props.day):$R(r.props.day)},r.render=function(){return J.createElement("div",{ref:r.dayEl,className:r.getClassNames(r.props.day),onKeyDown:r.handleOnKeyDown,onClick:r.handleClick,onMouseEnter:r.props.usePointerEvent?void 0:r.handleMouseEnter,onPointerEnter:r.props.usePointerEvent?r.handleMouseEnter:void 0,tabIndex:r.getTabIndex(),"aria-label":r.getAriaLabel(),role:"gridcell",title:r.getTitle(),"aria-disabled":r.isDisabled(),"aria-current":r.isCurrentDay()?"date":void 0,"aria-selected":r.isSelected()||r.isInRange()},r.renderDayContents(),r.getTitle()!==""&&J.createElement("span",{className:"overlay"},r.getTitle()))},r}return e.prototype.componentDidMount=function(){this.handleFocusDay()},e.prototype.componentDidUpdate=function(){this.handleFocusDay()},e.prototype.shouldFocusDay=function(){var r=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(r=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(r=!1),this.isDayActiveElement()&&(r=!0),this.isDuplicateDay()&&(r=!1)),r},e.prototype.isDayActiveElement=function(){var r,n,s;return((n=(r=this.props.containerRef)===null||r===void 0?void 0:r.current)===null||n===void 0?void 0:n.contains(document.activeElement))&&((s=document.activeElement)===null||s===void 0?void 0:s.classList.contains("react-datepicker__day"))},e.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},e})(g.Component),cme=(function(t){Ba(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.weekNumberEl=g.createRef(),r.handleClick=function(n){r.props.onClick&&r.props.onClick(n)},r.handleOnKeyDown=function(n){var s,i,o=n.key;o===Ct.Space&&(n.preventDefault(),n.key=Ct.Enter),(i=(s=r.props).handleOnKeyDown)===null||i===void 0||i.call(s,n)},r.isKeyboardSelected=function(){return!r.props.disabledKeyboardNavigation&&!Sr(r.props.date,r.props.selected)&&Sr(r.props.date,r.props.preSelection)},r.getTabIndex=function(){return r.props.showWeekPicker&&r.props.showWeekNumber&&(r.isKeyboardSelected()||Sr(r.props.date,r.props.selected)&&Sr(r.props.preSelection,r.props.selected))?0:-1},r.handleFocusWeekNumber=function(n){var s=!1;r.getTabIndex()===0&&!(n!=null&&n.isInputFocused)&&Sr(r.props.date,r.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(s=!0),r.props.inline&&!r.props.shouldFocusDayInline&&(s=!1),r.props.containerRef&&r.props.containerRef.current&&r.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(s=!0)),s&&r.weekNumberEl.current&&r.weekNumberEl.current.focus({preventScroll:!0})},r}return Object.defineProperty(e,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},e.prototype.componentDidUpdate=function(r){this.handleFocusWeekNumber(r)},e.prototype.render=function(){var r=this.props,n=r.weekNumber,s=r.isWeekDisabled,i=r.ariaLabelPrefix,o=i===void 0?e.defaultProps.ariaLabelPrefix:i,l=r.onClick,c={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!l&&!s,"react-datepicker__week-number--selected":!!l&&Sr(this.props.date,this.props.selected)};return J.createElement("div",{ref:this.weekNumberEl,className:Ht(c),"aria-label":"".concat(o," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex(),role:"gridcell"},n)},e})(g.Component),ume=(function(t){Ba(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.isDisabled=function(n){return pi(n,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.handleDayClick=function(n,s){r.props.onDayClick&&r.props.onDayClick(n,s)},r.handleDayMouseEnter=function(n){r.props.onDayMouseEnter&&r.props.onDayMouseEnter(n)},r.handleWeekClick=function(n,s,i){for(var o,l,c,d=new Date(n),h=0;h<7;h++){var m=new Date(n);m.setDate(m.getDate()+h);var x=!r.isDisabled(m);if(x){d=m;break}}typeof r.props.onWeekSelect=="function"&&r.props.onWeekSelect(d,s,i),r.props.showWeekPicker&&r.handleDayClick(d,i),((o=r.props.shouldCloseOnSelect)!==null&&o!==void 0?o:e.defaultProps.shouldCloseOnSelect)&&((c=(l=r.props).setOpen)===null||c===void 0||c.call(l,!1))},r.formatWeekNumber=function(n){return r.props.formatWeekNumber?r.props.formatWeekNumber(n):Vhe(n)},r.isWeekDisabled=function(){for(var n=r.startOfWeek(),s=Wi(n,6),i=new Date(n);i<=s;){if(!r.isDisabled(i))return!1;i=Wi(i,1)}return!0},r.renderDays=function(){var n=r.startOfWeek(),s=[],i=r.formatWeekNumber(n);if(r.props.showWeekNumber){var o=r.props.onWeekSelect||r.props.showWeekPicker?r.handleWeekClick.bind(r,n,i):void 0;s.push(J.createElement(cme,Nr({key:"W"},e.defaultProps,r.props,{weekNumber:i,isWeekDisabled:r.isWeekDisabled(),date:n,onClick:o})))}return s.concat([0,1,2,3,4,5,6].map(function(l){var c=Wi(n,l);return J.createElement(lme,Nr({},e.defaultProps,r.props,{ariaLabelPrefixWhenEnabled:r.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:r.props.disabledDayAriaLabelPrefix,key:c.valueOf(),day:c,onClick:r.handleDayClick.bind(r,c),onMouseEnter:r.handleDayMouseEnter.bind(r,c)}))}))},r.startOfWeek=function(){return Ac(r.props.day,r.props.locale,r.props.calendarStartDay)},r.isKeyboardSelected=function(){return!r.props.disabledKeyboardNavigation&&!Sr(r.startOfWeek(),r.props.selected)&&Sr(r.startOfWeek(),r.props.preSelection)},r}return Object.defineProperty(e,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var r={"react-datepicker__week":!0,"react-datepicker__week--selected":Sr(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()},n=this.props.weekClassName?this.props.weekClassName(this.startOfWeek()):void 0;return J.createElement("div",{className:Ht(r,n),role:"row"},this.renderDays())},e})(g.Component),Km,dme=6,Rf={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},NN=(Km={},Km[Rf.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},Km[Rf.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},Km[Rf.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},Km),ty=1;function dI(t,e){return t?Rf.FOUR_COLUMNS:e?Rf.TWO_COLUMNS:Rf.THREE_COLUMNS}var fme=(function(t){Ba(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.MONTH_REFS=mo([],Array(12),!0).map(function(){return g.createRef()}),r.QUARTER_REFS=mo([],Array(4),!0).map(function(){return g.createRef()}),r.isDisabled=function(n){return pi(n,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(n){return pO(n,{excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals})},r.handleDayClick=function(n,s){var i,o;(o=(i=r.props).onDayClick)===null||o===void 0||o.call(i,n,s,r.props.orderInDisplay)},r.handleDayMouseEnter=function(n){var s,i;(i=(s=r.props).onDayMouseEnter)===null||i===void 0||i.call(s,n)},r.handleMouseLeave=function(){var n,s;(s=(n=r.props).onMouseLeave)===null||s===void 0||s.call(n)},r.isRangeStartMonth=function(n){var s=r.props,i=s.day,o=s.startDate,l=s.endDate;return!o||!l?!1:rs(hi(i,n),o)},r.isRangeStartQuarter=function(n){var s=r.props,i=s.day,o=s.startDate,l=s.endDate;return!o||!l?!1:Pb(mf(i,n),o)},r.isRangeEndMonth=function(n){var s=r.props,i=s.day,o=s.startDate,l=s.endDate;return!o||!l?!1:rs(hi(i,n),l)},r.isRangeEndQuarter=function(n){var s=r.props,i=s.day,o=s.startDate,l=s.endDate;return!o||!l?!1:Pb(mf(i,n),l)},r.isInSelectingRangeMonth=function(n){var s,i=r.props,o=i.day,l=i.selectsStart,c=i.selectsEnd,d=i.selectsRange,h=i.startDate,m=i.endDate,x=(s=r.props.selectingDate)!==null&&s!==void 0?s:r.props.preSelection;return!(l||c||d)||!x?!1:l&&m?Jx(x,m,n,o):c&&h||d&&h&&!m?Jx(h,x,n,o):!1},r.isSelectingMonthRangeStart=function(n){var s;if(!r.isInSelectingRangeMonth(n))return!1;var i=r.props,o=i.day,l=i.startDate,c=i.selectsStart,d=hi(o,n),h=(s=r.props.selectingDate)!==null&&s!==void 0?s:r.props.preSelection;return c?rs(d,h):rs(d,l)},r.isSelectingMonthRangeEnd=function(n){var s;if(!r.isInSelectingRangeMonth(n))return!1;var i=r.props,o=i.day,l=i.endDate,c=i.selectsEnd,d=i.selectsRange,h=hi(o,n),m=(s=r.props.selectingDate)!==null&&s!==void 0?s:r.props.preSelection;return c||d?rs(h,m):rs(h,l)},r.isInSelectingRangeQuarter=function(n){var s,i=r.props,o=i.day,l=i.selectsStart,c=i.selectsEnd,d=i.selectsRange,h=i.startDate,m=i.endDate,x=(s=r.props.selectingDate)!==null&&s!==void 0?s:r.props.preSelection;return!(l||c||d)||!x?!1:l&&m?ey(x,m,n,o):c&&h||d&&h&&!m?ey(h,x,n,o):!1},r.isWeekInMonth=function(n){var s=r.props.day,i=Wi(n,6);return rs(n,s)||rs(i,s)},r.isCurrentMonth=function(n,s){return hr(n)===hr(Gr())&&s===Ga(Gr())},r.isCurrentQuarter=function(n,s){return hr(n)===hr(Gr())&&s===Wu(Gr())},r.isSelectedMonth=function(n,s,i){return Ga(i)===s&&hr(n)===hr(i)},r.isSelectMonthInList=function(n,s,i){return i.some(function(o){return r.isSelectedMonth(n,s,o)})},r.isSelectedQuarter=function(n,s,i){return Wu(n)===s&&hr(n)===hr(i)},r.isMonthSelected=function(){var n=r.props,s=n.day,i=n.selected,o=n.selectedDates,l=n.selectsMultiple,c=Ga(s);return l?o==null?void 0:o.some(function(d){return r.isSelectedMonth(s,c,d)}):!!i&&r.isSelectedMonth(s,c,i)},r.renderWeeks=function(){for(var n=[],s=r.props.fixedHeight,i=0,o=!1,l=Ac(vl(r.props.day),r.props.locale,r.props.calendarStartDay),c=function(w){return r.props.showWeekPicker?Ac(w,r.props.locale,r.props.calendarStartDay):r.props.preSelection},d=function(w){return r.props.showWeekPicker?Ac(w,r.props.locale,r.props.calendarStartDay):r.props.selected},h=r.props.selected?d(r.props.selected):void 0,m=r.props.preSelection?c(r.props.preSelection):void 0;n.push(J.createElement(ume,Nr({},r.props,{ariaLabelPrefix:r.props.weekAriaLabelPrefix,key:i,day:l,month:Ga(r.props.day),onDayClick:r.handleDayClick,onDayMouseEnter:r.handleDayMouseEnter,selected:h,preSelection:m,showWeekNumber:r.props.showWeekNumbers}))),!o;){i++,l=Sb(l,1);var x=s&&i>=dme,y=!s&&!r.isWeekInMonth(l);if(x||y)if(r.props.peekNextMonth)o=!0;else break}return n},r.onMonthClick=function(n,s){var i=r.isMonthDisabledForLabelDate(s),o=i.isDisabled,l=i.labelDate;o||r.handleDayClick(vl(l),n)},r.onMonthMouseEnter=function(n){var s=r.isMonthDisabledForLabelDate(n),i=s.isDisabled,o=s.labelDate;i||r.handleDayMouseEnter(vl(o))},r.handleMonthNavigation=function(n,s){var i,o,l,c;(o=(i=r.props).setPreSelection)===null||o===void 0||o.call(i,s),(c=(l=r.MONTH_REFS[n])===null||l===void 0?void 0:l.current)===null||c===void 0||c.focus()},r.handleKeyboardNavigation=function(n,s,i){var o,l=r.props,c=l.selected,d=l.preSelection,h=l.setPreSelection,m=l.minDate,x=l.maxDate,y=l.showFourColumnMonthYearPicker,w=l.showTwoColumnMonthYearPicker;if(d){var j=dI(y,w),v=r.getVerticalOffset(j),N=(o=NN[j])===null||o===void 0?void 0:o.grid,T=function(E,D,$){var I,L,R=D,z=$;switch(E){case Ct.ArrowRight:R=Yi(D,ty),z=$===11?0:$+ty;break;case Ct.ArrowLeft:R=qu(D,ty),z=$===0?11:$-ty;break;case Ct.ArrowUp:R=qu(D,v),z=!((I=N==null?void 0:N[0])===null||I===void 0)&&I.includes($)?$+12-v:$-v;break;case Ct.ArrowDown:R=Yi(D,v),z=!((L=N==null?void 0:N[N.length-1])===null||L===void 0)&&L.includes($)?$-12+v:$+v;break}return{newCalculatedDate:R,newCalculatedMonth:z}},S=function(E,D,$){for(var I=40,L=E,R=!1,z=0,Y=T(L,D,$),W=Y.newCalculatedDate,H=Y.newCalculatedMonth;!R;){if(z>=I){W=D,H=$;break}if(m&&W<m){L=Ct.ArrowRight;var P=T(L,W,H);W=P.newCalculatedDate,H=P.newCalculatedMonth}if(x&&W>x){L=Ct.ArrowLeft;var P=T(L,W,H);W=P.newCalculatedDate,H=P.newCalculatedMonth}if(Jhe(W,r.props)){var P=T(L,W,H);W=P.newCalculatedDate,H=P.newCalculatedMonth}else R=!0;z++}return{newCalculatedDate:W,newCalculatedMonth:H}};if(s===Ct.Enter){r.isMonthDisabled(i)||(r.onMonthClick(n,i),h==null||h(c));return}var O=S(s,d,i),_=O.newCalculatedDate,A=O.newCalculatedMonth;switch(s){case Ct.ArrowRight:case Ct.ArrowLeft:case Ct.ArrowUp:case Ct.ArrowDown:r.handleMonthNavigation(A,_);break}}},r.getVerticalOffset=function(n){var s,i;return(i=(s=NN[n])===null||s===void 0?void 0:s.verticalNavigationOffset)!==null&&i!==void 0?i:0},r.onMonthKeyDown=function(n,s){var i=r.props,o=i.disabledKeyboardNavigation,l=i.handleOnMonthKeyDown,c=n.key;c!==Ct.Tab&&n.preventDefault(),o||r.handleKeyboardNavigation(n,c,s),l&&l(n)},r.onQuarterClick=function(n,s){var i=mf(r.props.day,s);Qx(i,r.props)||r.handleDayClick(JR(i),n)},r.onQuarterMouseEnter=function(n){var s=mf(r.props.day,n);Qx(s,r.props)||r.handleDayMouseEnter(JR(s))},r.handleQuarterNavigation=function(n,s){var i,o,l,c;r.isDisabled(s)||r.isExcluded(s)||((o=(i=r.props).setPreSelection)===null||o===void 0||o.call(i,s),(c=(l=r.QUARTER_REFS[n-1])===null||l===void 0?void 0:l.current)===null||c===void 0||c.focus())},r.onQuarterKeyDown=function(n,s){var i,o,l=n.key;if(!r.props.disabledKeyboardNavigation)switch(l){case Ct.Enter:r.onQuarterClick(n,s),(o=(i=r.props).setPreSelection)===null||o===void 0||o.call(i,r.props.selected);break;case Ct.ArrowRight:if(!r.props.preSelection)break;r.handleQuarterNavigation(s===4?1:s+1,nO(r.props.preSelection,1));break;case Ct.ArrowLeft:if(!r.props.preSelection)break;r.handleQuarterNavigation(s===1?4:s-1,nq(r.props.preSelection));break}},r.isMonthDisabledForLabelDate=function(n){var s,i=r.props,o=i.day,l=i.minDate,c=i.maxDate,d=i.excludeDates,h=i.includeDates,m=hi(o,n);return{isDisabled:(s=(l||c||d||h)&&bq(m,r.props))!==null&&s!==void 0?s:!1,labelDate:m}},r.isMonthDisabled=function(n){var s=r.isMonthDisabledForLabelDate(n).isDisabled;return s},r.getMonthClassNames=function(n){var s=r.props,i=s.day,o=s.startDate,l=s.endDate,c=s.preSelection,d=s.monthClassName,h=d?d(hi(i,n)):void 0,m=r.getSelection();return Ht("react-datepicker__month-text","react-datepicker__month-".concat(n),h,{"react-datepicker__month-text--disabled":r.isMonthDisabled(n),"react-datepicker__month-text--selected":m?r.isSelectMonthInList(i,n,m):void 0,"react-datepicker__month-text--keyboard-selected":!r.props.disabledKeyboardNavigation&&c&&r.isSelectedMonth(i,n,c)&&!r.isMonthSelected()&&!r.isMonthDisabled(n),"react-datepicker__month-text--in-selecting-range":r.isInSelectingRangeMonth(n),"react-datepicker__month-text--in-range":o&&l?Jx(o,l,n,i):void 0,"react-datepicker__month-text--range-start":r.isRangeStartMonth(n),"react-datepicker__month-text--range-end":r.isRangeEndMonth(n),"react-datepicker__month-text--selecting-range-start":r.isSelectingMonthRangeStart(n),"react-datepicker__month-text--selecting-range-end":r.isSelectingMonthRangeEnd(n),"react-datepicker__month-text--today":r.isCurrentMonth(i,n)})},r.getTabIndex=function(n){if(r.props.preSelection==null)return"-1";var s=Ga(r.props.preSelection),i=r.isMonthDisabledForLabelDate(s).isDisabled,o=n===s&&!(i||r.props.disabledKeyboardNavigation)?"0":"-1";return o},r.getQuarterTabIndex=function(n){if(r.props.preSelection==null)return"-1";var s=Wu(r.props.preSelection),i=Qx(r.props.day,r.props),o=n===s&&!(i||r.props.disabledKeyboardNavigation)?"0":"-1";return o},r.getAriaLabel=function(n){var s=r.props,i=s.chooseDayAriaLabelPrefix,o=i===void 0?"Choose":i,l=s.disabledDayAriaLabelPrefix,c=l===void 0?"Not available":l,d=s.day,h=s.locale,m=hi(d,n),x=r.isDisabled(m)||r.isExcluded(m)?c:o;return"".concat(x," ").concat(Sn(m,"MMMM yyyy",h))},r.getQuarterClassNames=function(n){var s=r.props,i=s.day,o=s.startDate,l=s.endDate,c=s.selected,d=s.minDate,h=s.maxDate,m=s.excludeDates,x=s.includeDates,y=s.filterDate,w=s.preSelection,j=s.disabledKeyboardNavigation,v=(d||h||m||x||y)&&Qx(mf(i,n),r.props);return Ht("react-datepicker__quarter-text","react-datepicker__quarter-".concat(n),{"react-datepicker__quarter-text--disabled":v,"react-datepicker__quarter-text--selected":c?r.isSelectedQuarter(i,n,c):void 0,"react-datepicker__quarter-text--keyboard-selected":!j&&w&&r.isSelectedQuarter(i,n,w)&&!v,"react-datepicker__quarter-text--in-selecting-range":r.isInSelectingRangeQuarter(n),"react-datepicker__quarter-text--in-range":o&&l?ey(o,l,n,i):void 0,"react-datepicker__quarter-text--range-start":r.isRangeStartQuarter(n),"react-datepicker__quarter-text--range-end":r.isRangeEndQuarter(n),"react-datepicker__quarter-text--today":r.isCurrentQuarter(i,n)})},r.getMonthContent=function(n){var s=r.props,i=s.showFullMonthYearPicker,o=s.renderMonthContent,l=s.locale,c=s.day,d=yq(n,l),h=mO(n,l);return o?o(n,d,h,c):i?h:d},r.getQuarterContent=function(n){var s,i=r.props,o=i.renderQuarterContent,l=i.locale,c=Xhe(n,l);return(s=o==null?void 0:o(n,c))!==null&&s!==void 0?s:c},r.renderMonths=function(){var n,s=r.props,i=s.showTwoColumnMonthYearPicker,o=s.showFourColumnMonthYearPicker,l=s.day,c=s.selected,d=(n=NN[dI(o,i)])===null||n===void 0?void 0:n.grid;return d==null?void 0:d.map(function(h,m){return J.createElement("div",{className:"react-datepicker__month-wrapper",key:m},h.map(function(x,y){return J.createElement("div",{ref:r.MONTH_REFS[x],key:y,onClick:function(w){r.onMonthClick(w,x)},onKeyDown:function(w){jq(w)&&(w.preventDefault(),w.key=Ct.Enter),r.onMonthKeyDown(w,x)},onMouseEnter:r.props.usePointerEvent?void 0:function(){return r.onMonthMouseEnter(x)},onPointerEnter:r.props.usePointerEvent?function(){return r.onMonthMouseEnter(x)}:void 0,tabIndex:Number(r.getTabIndex(x)),className:r.getMonthClassNames(x),"aria-disabled":r.isMonthDisabled(x),role:"option","aria-label":r.getAriaLabel(x),"aria-current":r.isCurrentMonth(l,x)?"date":void 0,"aria-selected":c?r.isSelectedMonth(l,x,c):void 0},r.getMonthContent(x))}))})},r.renderQuarters=function(){var n=r.props,s=n.day,i=n.selected,o=[1,2,3,4];return J.createElement("div",{className:"react-datepicker__quarter-wrapper"},o.map(function(l,c){return J.createElement("div",{key:c,ref:r.QUARTER_REFS[c],role:"option",onClick:function(d){r.onQuarterClick(d,l)},onKeyDown:function(d){r.onQuarterKeyDown(d,l)},onMouseEnter:r.props.usePointerEvent?void 0:function(){return r.onQuarterMouseEnter(l)},onPointerEnter:r.props.usePointerEvent?function(){return r.onQuarterMouseEnter(l)}:void 0,className:r.getQuarterClassNames(l),"aria-selected":i?r.isSelectedQuarter(s,l,i):void 0,tabIndex:Number(r.getQuarterTabIndex(l)),"aria-current":r.isCurrentQuarter(s,l)?"date":void 0},r.getQuarterContent(l))}))},r.getClassNames=function(){var n=r.props,s=n.selectingDate,i=n.selectsStart,o=n.selectsEnd,l=n.showMonthYearPicker,c=n.showQuarterYearPicker,d=n.showWeekPicker;return Ht("react-datepicker__month",{"react-datepicker__month--selecting-range":s&&(i||o)},{"react-datepicker__monthPicker":l},{"react-datepicker__quarterPicker":c},{"react-datepicker__weekPicker":d})},r}return e.prototype.getSelection=function(){var r=this.props,n=r.selected,s=r.selectedDates,i=r.selectsMultiple;if(i)return s;if(n)return[n]},e.prototype.render=function(){var r=this.props,n=r.showMonthYearPicker,s=r.showQuarterYearPicker,i=r.day,o=r.ariaLabelPrefix,l=o===void 0?"Month ":o,c=l?l.trim()+" ":"",d=n||s;return d?J.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(c).concat(Sn(i,"MMMM, yyyy",this.props.locale)),role:"listbox"},n?this.renderMonths():this.renderQuarters()):J.createElement("div",{role:"table"},this.props.dayNamesHeader&&J.createElement("div",{role:"rowgroup"},this.props.dayNamesHeader),J.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(c).concat(Sn(i,"MMMM, yyyy",this.props.locale)),role:"rowgroup"},this.renderWeeks()))},e})(g.Component),hme=(function(t){Ba(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.monthOptionButtonsRef={},r.isSelectedMonth=function(n){return r.props.month===n},r.handleOptionKeyDown=function(n,s){var i;switch(s.key){case"Enter":s.preventDefault(),r.onChange(n);break;case"Escape":s.preventDefault(),r.props.onCancel();break;case"ArrowUp":case"ArrowDown":{s.preventDefault();var o=(n+(s.key==="ArrowUp"?-1:1)+r.props.monthNames.length)%r.props.monthNames.length;(i=r.monthOptionButtonsRef[o])===null||i===void 0||i.focus();break}}},r.renderOptions=function(){return r.monthOptionButtonsRef={},r.props.monthNames.map(function(n,s){return J.createElement("div",{ref:function(i){r.monthOptionButtonsRef[s]=i,r.isSelectedMonth(s)&&(i==null||i.focus())},role:"button",tabIndex:0,className:r.isSelectedMonth(s)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:n,onClick:r.onChange.bind(r,s),onKeyDown:r.handleOptionKeyDown.bind(r,s),"aria-selected":r.isSelectedMonth(s)?"true":void 0},r.isSelectedMonth(s)?J.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",n)})},r.onChange=function(n){return r.props.onChange(n)},r.handleClickOutside=function(){return r.props.onCancel()},r}return e.prototype.render=function(){return J.createElement(zw,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},e})(g.Component),mme=(function(t){Ba(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(n){return n.map(function(s,i){return J.createElement("option",{key:s,value:i},s)})},r.renderSelectMode=function(n){return J.createElement("select",{value:r.props.month,className:"react-datepicker__month-select",onChange:function(s){return r.onChange(parseInt(s.target.value))}},r.renderSelectOptions(n))},r.renderReadView=function(n,s){return J.createElement("button",{key:"read",type:"button",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:r.toggleDropdown},J.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),J.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},s[r.props.month]))},r.renderDropdown=function(n){return J.createElement(hme,Nr({key:"dropdown"},r.props,{monthNames:n,onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(n){var s=r.state.dropdownVisible,i=[r.renderReadView(!s,n)];return s&&i.unshift(r.renderDropdown(n)),i},r.onChange=function(n){r.toggleDropdown(),n!==r.props.month&&r.props.onChange(n)},r.toggleDropdown=function(){return r.setState({dropdownVisible:!r.state.dropdownVisible})},r}return e.prototype.render=function(){var r=this,n=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(i){return yq(i,r.props.locale)}:function(i){return mO(i,r.props.locale)}),s;switch(this.props.dropdownMode){case"scroll":s=this.renderScrollMode(n);break;case"select":s=this.renderSelectMode(n);break}return J.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},s)},e})(g.Component);function pme(t,e){for(var r=[],n=vl(t),s=vl(e);!Hc(n,s);)r.push(Gr(n)),n=Yi(n,1);return r}var gme=(function(t){Ba(e,t);function e(r){var n=t.call(this,r)||this;return n.renderOptions=function(){return n.state.monthYearsList.map(function(s){var i=e_(s),o=io(n.props.date,s)&&rs(n.props.date,s);return J.createElement("div",{className:o?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:i,onClick:n.onChange.bind(n,i),"aria-selected":o?"true":void 0},o?J.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",Sn(s,n.props.dateFormat,n.props.locale))})},n.onChange=function(s){return n.props.onChange(s)},n.handleClickOutside=function(){n.props.onCancel()},n.state={monthYearsList:pme(n.props.minDate,n.props.maxDate)},n}return e.prototype.render=function(){var r=Ht({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return J.createElement(zw,{className:r,onClickOutside:this.handleClickOutside},this.renderOptions())},e})(g.Component),xme=(function(t){Ba(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(){for(var n=vl(r.props.minDate),s=vl(r.props.maxDate),i=[];!Hc(n,s);){var o=e_(n);i.push(J.createElement("option",{key:o,value:o},Sn(n,r.props.dateFormat,r.props.locale))),n=Yi(n,1)}return i},r.onSelectChange=function(n){r.onChange(parseInt(n.target.value))},r.renderSelectMode=function(){return J.createElement("select",{value:e_(vl(r.props.date)),className:"react-datepicker__month-year-select",onChange:r.onSelectChange},r.renderSelectOptions())},r.renderReadView=function(n){var s=Sn(r.props.date,r.props.dateFormat,r.props.locale);return J.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:r.toggleDropdown},J.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),J.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},s))},r.renderDropdown=function(){return J.createElement(gme,Nr({key:"dropdown"},r.props,{onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(){var n=r.state.dropdownVisible,s=[r.renderReadView(!n)];return n&&s.unshift(r.renderDropdown()),s},r.onChange=function(n){r.toggleDropdown();var s=Gr(n);io(r.props.date,s)&&rs(r.props.date,s)||r.props.onChange(s)},r.toggleDropdown=function(){return r.setState({dropdownVisible:!r.state.dropdownVisible})},r}return e.prototype.render=function(){var r;switch(this.props.dropdownMode){case"scroll":r=this.renderScrollMode();break;case"select":r=this.renderSelectMode();break}return J.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},r)},e})(g.Component),yme=(function(t){Ba(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.state={height:null},r.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var n,s,i;r.list&&(r.list.scrollTop=(i=r.centerLi&&e.calcCenterPosition(r.props.monthRef?r.props.monthRef.clientHeight-((s=(n=r.header)===null||n===void 0?void 0:n.clientHeight)!==null&&s!==void 0?s:0):r.list.clientHeight,r.centerLi))!==null&&i!==void 0?i:0)})},r.handleClick=function(n){var s,i;(r.props.minTime||r.props.maxTime)&&rI(n,r.props)||(r.props.excludeTimes||r.props.includeTimes||r.props.filterTime)&&tI(n,r.props)||(i=(s=r.props).onChange)===null||i===void 0||i.call(s,n)},r.isSelectedTime=function(n){return r.props.selected&&ime(r.props.selected,n)},r.isDisabledTime=function(n){return(r.props.minTime||r.props.maxTime)&&rI(n,r.props)||(r.props.excludeTimes||r.props.includeTimes||r.props.filterTime)&&tI(n,r.props)},r.liClasses=function(n){var s,i=["react-datepicker__time-list-item",r.props.timeClassName?r.props.timeClassName(n):void 0];return r.isSelectedTime(n)&&i.push("react-datepicker__time-list-item--selected"),r.isDisabledTime(n)&&i.push("react-datepicker__time-list-item--disabled"),r.props.injectTimes&&(yl(n)*3600+bl(n)*60+Mc(n))%(((s=r.props.intervals)!==null&&s!==void 0?s:e.defaultProps.intervals)*60)!==0&&i.push("react-datepicker__time-list-item--injected"),i.join(" ")},r.handleOnKeyDown=function(n,s){var i,o;n.key===Ct.Space&&(n.preventDefault(),n.key=Ct.Enter),(n.key===Ct.ArrowUp||n.key===Ct.ArrowLeft)&&n.target instanceof HTMLElement&&n.target.previousSibling&&(n.preventDefault(),n.target.previousSibling instanceof HTMLElement&&n.target.previousSibling.focus()),(n.key===Ct.ArrowDown||n.key===Ct.ArrowRight)&&n.target instanceof HTMLElement&&n.target.nextSibling&&(n.preventDefault(),n.target.nextSibling instanceof HTMLElement&&n.target.nextSibling.focus()),n.key===Ct.Enter&&r.handleClick(s),(o=(i=r.props).handleOnKeyDown)===null||o===void 0||o.call(i,n)},r.renderTimes=function(){for(var n,s=[],i=typeof r.props.format=="string"?r.props.format:"p",o=(n=r.props.intervals)!==null&&n!==void 0?n:e.defaultProps.intervals,l=r.props.selected||r.props.openToDate||Gr(),c=Jy(l),d=r.props.injectTimes&&r.props.injectTimes.sort(function(v,N){return v.getTime()-N.getTime()}),h=60*sme(l),m=h/o,x=0;x<m;x++){var y=J5(c,x*o);if(s.push(y),d){var w=ame(c,y,x,o,d);s=s.concat(w)}}var j=s.reduce(function(v,N){return N.getTime()<=l.getTime()?N:v},s[0]);return s.map(function(v){return J.createElement("li",{key:v.valueOf(),onClick:r.handleClick.bind(r,v),className:r.liClasses(v),ref:function(N){v===j&&(r.centerLi=N)},onKeyDown:function(N){r.handleOnKeyDown(N,v)},tabIndex:v===j?0:-1,role:"option","aria-selected":r.isSelectedTime(v)?"true":void 0,"aria-disabled":r.isDisabledTime(v)?"true":void 0},Sn(v,i,r.props.locale))})},r.renderTimeCaption=function(){return r.props.showTimeCaption===!1?J.createElement(J.Fragment,null):J.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(r.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(n){r.header=n}},J.createElement("div",{className:"react-datepicker-time__header"},r.props.timeCaption))},r}return Object.defineProperty(e,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},e.prototype.componentWillUnmount=function(){var r;(r=this.resizeObserver)===null||r===void 0||r.disconnect()},e.prototype.observeDatePickerHeightChanges=function(){var r=this,n=this.props.monthRef;this.updateContainerHeight(),n&&(this.resizeObserver=new ResizeObserver(function(){r.updateContainerHeight()}),this.resizeObserver.observe(n))},e.prototype.updateContainerHeight=function(){this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},e.prototype.render=function(){var r=this,n,s=this.state.height;return J.createElement("div",{className:"react-datepicker__time-container ".concat(((n=this.props.todayButton)!==null&&n!==void 0?n:e.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),J.createElement("div",{className:"react-datepicker__time"},J.createElement("div",{className:"react-datepicker__time-box"},J.createElement("ul",{className:"react-datepicker__time-list",ref:function(i){r.list=i},style:s?{height:s}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},e.calcCenterPosition=function(r,n){return n.offsetTop-(r/2-n.clientHeight/2)},e})(g.Component),fI=3,bme=(function(t){Ba(e,t);function e(r){var n=t.call(this,r)||this;return n.YEAR_REFS=mo([],Array(n.props.yearItemNumber),!0).map(function(){return g.createRef()}),n.isDisabled=function(s){return pi(s,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(s){return pO(s,{excludeDates:n.props.excludeDates})},n.selectingDate=function(){var s;return(s=n.props.selectingDate)!==null&&s!==void 0?s:n.props.preSelection},n.updateFocusOnPaginate=function(s){var i=function(){var o,l;(l=(o=n.YEAR_REFS[s])===null||o===void 0?void 0:o.current)===null||l===void 0||l.focus()};window.requestAnimationFrame(i)},n.handleYearClick=function(s,i){n.props.onDayClick&&n.props.onDayClick(s,i)},n.handleYearNavigation=function(s,i){var o,l,c,d,h=n.props,m=h.date,x=h.yearItemNumber;if(!(m===void 0||x===void 0)){var y=cl(m,x).startPeriod;n.isDisabled(i)||n.isExcluded(i)||((l=(o=n.props).setPreSelection)===null||l===void 0||l.call(o,i),s-y<0?n.updateFocusOnPaginate(x-(y-s)):s-y>=x?n.updateFocusOnPaginate(Math.abs(x-(s-y))):(d=(c=n.YEAR_REFS[s-y])===null||c===void 0?void 0:c.current)===null||d===void 0||d.focus())}},n.isSameDay=function(s,i){return Sr(s,i)},n.isCurrentYear=function(s){return s===hr(Gr())},n.isRangeStart=function(s){return n.props.startDate&&n.props.endDate&&io(so(Gr(),s),n.props.startDate)},n.isRangeEnd=function(s){return n.props.startDate&&n.props.endDate&&io(so(Gr(),s),n.props.endDate)},n.isInRange=function(s){return Zx(s,n.props.startDate,n.props.endDate)},n.isInSelectingRange=function(s){var i=n.props,o=i.selectsStart,l=i.selectsEnd,c=i.selectsRange,d=i.startDate,h=i.endDate;return!(o||l||c)||!n.selectingDate()?!1:o&&h?Zx(s,n.selectingDate(),h):l&&d||c&&d&&!h?Zx(s,d,n.selectingDate()):!1},n.isSelectingRangeStart=function(s){var i;if(!n.isInSelectingRange(s))return!1;var o=n.props,l=o.startDate,c=o.selectsStart,d=so(Gr(),s);return c?io(d,(i=n.selectingDate())!==null&&i!==void 0?i:null):io(d,l??null)},n.isSelectingRangeEnd=function(s){var i;if(!n.isInSelectingRange(s))return!1;var o=n.props,l=o.endDate,c=o.selectsEnd,d=o.selectsRange,h=so(Gr(),s);return c||d?io(h,(i=n.selectingDate())!==null&&i!==void 0?i:null):io(h,l??null)},n.isKeyboardSelected=function(s){if(!(n.props.disabledKeyboardNavigation||n.props.date===void 0||n.props.preSelection==null)){var i=n.props,o=i.minDate,l=i.maxDate,c=i.excludeDates,d=i.includeDates,h=i.filterDate,m=i.selected,x=gp(so(n.props.date,s)),y=(o||l||c||d||h)&&Qy(s,n.props),w=!!m&&Sr(x,gp(m)),j=Sr(x,gp(n.props.preSelection));return!n.props.inline&&!w&&j&&!y}},n.isSelectedYear=function(s){var i=n.props,o=i.selectsMultiple,l=i.selected,c=i.selectedDates;return o?c==null?void 0:c.some(function(d){return s===hr(d)}):!!l&&s===hr(l)},n.onYearClick=function(s,i){var o=n.props.date;o!==void 0&&n.handleYearClick(gp(so(o,i)),s)},n.onYearKeyDown=function(s,i){var o,l,c=s.key,d=n.props,h=d.date,m=d.yearItemNumber,x=d.handleOnKeyDown;if(c!==Ct.Tab&&s.preventDefault(),!n.props.disabledKeyboardNavigation)switch(c){case Ct.Enter:if(n.props.selected==null)break;n.onYearClick(s,i),(l=(o=n.props).setPreSelection)===null||l===void 0||l.call(o,n.props.selected);break;case Ct.ArrowRight:if(n.props.preSelection==null)break;n.handleYearNavigation(i+1,gl(n.props.preSelection,1));break;case Ct.ArrowLeft:if(n.props.preSelection==null)break;n.handleYearNavigation(i-1,Xf(n.props.preSelection,1));break;case Ct.ArrowUp:{if(h===void 0||m===void 0||n.props.preSelection==null)break;var y=cl(h,m).startPeriod,w=fI,j=i-w;if(j<y){var v=m%w;i>=y&&i<y+v?w=v:w+=v,j=i-w}n.handleYearNavigation(j,Xf(n.props.preSelection,w));break}case Ct.ArrowDown:{if(h===void 0||m===void 0||n.props.preSelection==null)break;var N=cl(h,m).endPeriod,w=fI,j=i+w;if(j>N){var v=m%w;i<=N&&i>N-v?w=v:w+=v,j=i+w}n.handleYearNavigation(j,gl(n.props.preSelection,w));break}}x&&x(s)},n.getYearClassNames=function(s){var i=n.props,o=i.date,l=i.minDate,c=i.maxDate,d=i.excludeDates,h=i.includeDates,m=i.filterDate,x=i.yearClassName;return Ht("react-datepicker__year-text","react-datepicker__year-".concat(s),o?x==null?void 0:x(so(o,s)):void 0,{"react-datepicker__year-text--selected":n.isSelectedYear(s),"react-datepicker__year-text--disabled":(l||c||d||h||m)&&Qy(s,n.props),"react-datepicker__year-text--keyboard-selected":n.isKeyboardSelected(s),"react-datepicker__year-text--range-start":n.isRangeStart(s),"react-datepicker__year-text--range-end":n.isRangeEnd(s),"react-datepicker__year-text--in-range":n.isInRange(s),"react-datepicker__year-text--in-selecting-range":n.isInSelectingRange(s),"react-datepicker__year-text--selecting-range-start":n.isSelectingRangeStart(s),"react-datepicker__year-text--selecting-range-end":n.isSelectingRangeEnd(s),"react-datepicker__year-text--today":n.isCurrentYear(s)})},n.getYearTabIndex=function(s){if(n.props.disabledKeyboardNavigation||n.props.preSelection==null)return"-1";var i=hr(n.props.preSelection),o=Qy(s,n.props);return s===i&&!o?"0":"-1"},n.getYearContent=function(s){return n.props.renderYearContent?n.props.renderYearContent(s):s},n}return e.prototype.render=function(){var r=this,n=[],s=this.props,i=s.date,o=s.yearItemNumber,l=s.onYearMouseEnter,c=s.onYearMouseLeave;if(i===void 0)return null;for(var d=cl(i,o),h=d.startPeriod,m=d.endPeriod,x=function(j){n.push(J.createElement("div",{ref:y.YEAR_REFS[j-h],onClick:function(v){r.onYearClick(v,j)},onKeyDown:function(v){jq(v)&&(v.preventDefault(),v.key=Ct.Enter),r.onYearKeyDown(v,j)},tabIndex:Number(y.getYearTabIndex(j)),className:y.getYearClassNames(j),onMouseEnter:y.props.usePointerEvent?void 0:function(v){return l(v,j)},onPointerEnter:y.props.usePointerEvent?function(v){return l(v,j)}:void 0,onMouseLeave:y.props.usePointerEvent?void 0:function(v){return c(v,j)},onPointerLeave:y.props.usePointerEvent?function(v){return c(v,j)}:void 0,key:j,"aria-current":y.isCurrentYear(j)?"date":void 0},y.getYearContent(j)))},y=this,w=h;w<=m;w++)x(w);return J.createElement("div",{className:"react-datepicker__year"},J.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},n))},e})(g.Component);function vme(t,e,r,n){for(var s=[],i=0;i<2*e+1;i++){var o=t+e-i,l=!0;r&&(l=hr(r)<=o),n&&l&&(l=hr(n)>=o),l&&s.push(o)}return s}var wme=(function(t){Ba(e,t);function e(r){var n=t.call(this,r)||this;n.yearOptionButtonsRef={},n.handleOptionKeyDown=function(l,c){var d;switch(c.key){case"Enter":c.preventDefault(),n.onChange(l);break;case"Escape":c.preventDefault(),n.props.onCancel();break;case"ArrowUp":case"ArrowDown":{c.preventDefault();var h=l+(c.key==="ArrowUp"?1:-1);n.yearOptionButtonsRef[h]&&((d=n.yearOptionButtonsRef[h])===null||d===void 0||d.focus());break}}},n.renderOptions=function(){n.yearOptionButtonsRef={};var l=n.props.year,c=n.state.yearsList.map(function(m){return J.createElement("div",{ref:function(x){n.yearOptionButtonsRef[m]=x,m===l&&(x==null||x.focus())},role:"button",tabIndex:0,className:l===m?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:m,onClick:n.onChange.bind(n,m),onKeyDown:n.handleOptionKeyDown.bind(n,m),"aria-selected":l===m?"true":void 0},l===m?J.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",m)}),d=n.props.minDate?hr(n.props.minDate):null,h=n.props.maxDate?hr(n.props.maxDate):null;return(!h||!n.state.yearsList.find(function(m){return m===h}))&&c.unshift(J.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:n.incrementYears},J.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!d||!n.state.yearsList.find(function(m){return m===d}))&&c.push(J.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:n.decrementYears},J.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),c},n.onChange=function(l){n.props.onChange(l)},n.handleClickOutside=function(){n.props.onCancel()},n.shiftYears=function(l){var c=n.state.yearsList.map(function(d){return d+l});n.setState({yearsList:c})},n.incrementYears=function(){return n.shiftYears(1)},n.decrementYears=function(){return n.shiftYears(-1)};var s=r.yearDropdownItemNumber,i=r.scrollableYearDropdown,o=s||(i?10:5);return n.state={yearsList:vme(n.props.year,o,n.props.minDate,n.props.maxDate)},n.dropdownRef=g.createRef(),n}return e.prototype.componentDidMount=function(){var r=this.dropdownRef.current;if(r){var n=r.children?Array.from(r.children):null,s=n?n.find(function(i){return i.ariaSelected}):null;r.scrollTop=s&&s instanceof HTMLElement?s.offsetTop+(s.clientHeight-r.clientHeight)/2:(r.scrollHeight-r.clientHeight)/2}},e.prototype.render=function(){var r=Ht({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return J.createElement(zw,{className:r,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},e})(g.Component),jme=(function(t){Ba(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(){for(var n=r.props.minDate?hr(r.props.minDate):1900,s=r.props.maxDate?hr(r.props.maxDate):2100,i=[],o=n;o<=s;o++)i.push(J.createElement("option",{key:o,value:o},o));return i},r.onSelectChange=function(n){r.onChange(parseInt(n.target.value))},r.renderSelectMode=function(){return J.createElement("select",{value:r.props.year,className:"react-datepicker__year-select",onChange:r.onSelectChange},r.renderSelectOptions())},r.renderReadView=function(n){return J.createElement("button",{key:"read",type:"button",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:r.toggleDropdown},J.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),J.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},r.props.year))},r.renderDropdown=function(){return J.createElement(wme,Nr({key:"dropdown"},r.props,{onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(){var n=r.state.dropdownVisible,s=[r.renderReadView(!n)];return n&&s.unshift(r.renderDropdown()),s},r.onChange=function(n){r.toggleDropdown(),n!==r.props.year&&r.props.onChange(n)},r.toggleDropdown=function(n){r.setState({dropdownVisible:!r.state.dropdownVisible},function(){r.props.adjustDateOnChange&&r.handleYearChange(r.props.date,n)})},r.handleYearChange=function(n,s){var i;(i=r.onSelect)===null||i===void 0||i.call(r,n,s),r.setOpen()},r.onSelect=function(n,s){var i,o;(o=(i=r.props).onSelect)===null||o===void 0||o.call(i,n,s)},r.setOpen=function(){var n,s;(s=(n=r.props).setOpen)===null||s===void 0||s.call(n,!0)},r}return e.prototype.render=function(){var r;switch(this.props.dropdownMode){case"scroll":r=this.renderScrollMode();break;case"select":r=this.renderSelectMode();break}return J.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},r)},e})(g.Component),Sme=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],Sq="react-datepicker-ignore-onclickoutside",Nme=function(t){var e=(t.className||"").split(/\s+/);return Sme.some(function(r){return e.indexOf(r)>=0})},kme=(function(t){Ba(e,t);function e(r){var n=t.call(this,r)||this;return n.monthContainer=void 0,n.handleClickOutside=function(s){n.props.onClickOutside(s)},n.setClickOutsideRef=function(){return n.containerRef.current},n.handleDropdownFocus=function(s){var i,o;Nme(s.target)&&((o=(i=n.props).onDropdownFocus)===null||o===void 0||o.call(i,s))},n.getDateInView=function(){var s=n.props,i=s.preSelection,o=s.selected,l=s.openToDate,c=vq(n.props),d=wq(n.props),h=Gr(),m=l||o||i;return m||(c&&ho(h,c)?c:d&&Hc(h,d)?d:h)},n.increaseMonth=function(){n.setState(function(s){var i=s.date;return{date:Yi(i,1)}},function(){return n.handleMonthChange(n.state.date)})},n.decreaseMonth=function(){n.setState(function(s){var i=s.date;return{date:qu(i,1)}},function(){return n.handleMonthChange(n.state.date)})},n.handleDayClick=function(s,i,o){n.props.onSelect(s,i,o),n.props.setPreSelection&&n.props.setPreSelection(s)},n.handleDayMouseEnter=function(s){n.setState({selectingDate:s}),n.props.onDayMouseEnter&&n.props.onDayMouseEnter(s)},n.handleMonthMouseLeave=function(){n.setState({selectingDate:void 0}),n.props.onMonthMouseLeave&&n.props.onMonthMouseLeave()},n.handleYearMouseEnter=function(s,i){n.setState({selectingDate:so(Gr(),i)}),n.props.onYearMouseEnter&&n.props.onYearMouseEnter(s,i)},n.handleYearMouseLeave=function(s,i){n.props.onYearMouseLeave&&n.props.onYearMouseLeave(s,i)},n.handleYearChange=function(s){var i,o,l,c;(o=(i=n.props).onYearChange)===null||o===void 0||o.call(i,s),n.setState({isRenderAriaLiveMessage:!0}),n.props.adjustDateOnChange&&(n.props.onSelect(s),(c=(l=n.props).setOpen)===null||c===void 0||c.call(l,!0)),n.props.setPreSelection&&n.props.setPreSelection(s)},n.getEnabledPreSelectionDateForMonth=function(s){if(!pi(s,n.props))return s;for(var i=vl(s),o=Uhe(s),l=aue(o,i),c=null,d=0;d<=l;d++){var h=Wi(i,d);if(!pi(h,n.props)){c=h;break}}return c},n.handleMonthChange=function(s){var i,o,l,c=(i=n.getEnabledPreSelectionDateForMonth(s))!==null&&i!==void 0?i:s;n.handleCustomMonthChange(c),n.props.adjustDateOnChange&&(n.props.onSelect(c),(l=(o=n.props).setOpen)===null||l===void 0||l.call(o,!0)),n.props.setPreSelection&&n.props.setPreSelection(c)},n.handleCustomMonthChange=function(s){var i,o;(o=(i=n.props).onMonthChange)===null||o===void 0||o.call(i,s),n.setState({isRenderAriaLiveMessage:!0})},n.handleMonthYearChange=function(s){n.handleYearChange(s),n.handleMonthChange(s)},n.changeYear=function(s){n.setState(function(i){var o=i.date;return{date:so(o,Number(s))}},function(){return n.handleYearChange(n.state.date)})},n.changeMonth=function(s){n.setState(function(i){var o=i.date;return{date:hi(o,Number(s))}},function(){return n.handleMonthChange(n.state.date)})},n.changeMonthYear=function(s){n.setState(function(i){var o=i.date;return{date:so(hi(o,Ga(s)),hr(s))}},function(){return n.handleMonthYearChange(n.state.date)})},n.header=function(s){s===void 0&&(s=n.state.date);var i=Ac(s,n.props.locale,n.props.calendarStartDay),o=[];return n.props.showWeekNumbers&&o.push(J.createElement("div",{key:"W",className:"react-datepicker__day-name",role:"columnheader"},J.createElement("span",{className:"react-datepicker__sr-only"},"Week number"),J.createElement("span",{"aria-hidden":"true"},n.props.weekLabel||"#"))),o.concat([0,1,2,3,4,5,6].map(function(l){var c=Wi(i,l),d=n.formatWeekday(c,n.props.locale),h=n.props.weekDayClassName?n.props.weekDayClassName(c):void 0;return J.createElement("div",{key:l,role:"columnheader",className:Ht("react-datepicker__day-name",h)},J.createElement("span",{className:"react-datepicker__sr-only"},Sn(c,"EEEE",n.props.locale)),J.createElement("span",{"aria-hidden":"true"},d))}))},n.formatWeekday=function(s,i){return n.props.formatWeekDay?Ghe(s,n.props.formatWeekDay,i):n.props.useWeekdaysShort?Khe(s,i):Yhe(s,i)},n.decreaseYear=function(){n.setState(function(s){var i,o=s.date;return{date:Xf(o,n.props.showYearPicker?(i=n.props.yearItemNumber)!==null&&i!==void 0?i:e.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.clearSelectingDate=function(){n.setState({selectingDate:void 0})},n.renderPreviousButton=function(){var s,i,o;if(!n.props.renderCustomHeader){var l=(s=n.props.monthsShown)!==null&&s!==void 0?s:e.defaultProps.monthsShown,c=n.props.showPreviousMonths?l-1:0,d=(i=n.props.monthSelectedIn)!==null&&i!==void 0?i:c,h=qu(n.state.date,d),m;switch(!0){case n.props.showMonthYearPicker:m=sI(n.state.date,n.props);break;case n.props.showYearPicker:m=eme(n.state.date,n.props);break;case n.props.showQuarterYearPicker:m=Qhe(n.state.date,n.props);break;default:m=nI(h,n.props);break}if(!(!((o=n.props.forceShowMonthNavigation)!==null&&o!==void 0?o:e.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&m||n.props.showTimeSelectOnly)){var x=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],y=["react-datepicker__navigation","react-datepicker__navigation--previous"],w=n.decreaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(w=n.decreaseYear),m&&n.props.showDisabledMonthNavigation&&(y.push("react-datepicker__navigation--previous--disabled"),w=void 0);var j=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,v=n.props,N=v.previousMonthButtonLabel,T=N===void 0?e.defaultProps.previousMonthButtonLabel:N,S=v.previousYearButtonLabel,O=S===void 0?e.defaultProps.previousYearButtonLabel:S,_=n.props,A=_.previousMonthAriaLabel,E=A===void 0?typeof T=="string"?T:"Previous Month":A,D=_.previousYearAriaLabel,$=D===void 0?typeof O=="string"?O:"Previous Year":D;return J.createElement("button",{type:"button",className:y.join(" "),onClick:w,onKeyDown:n.props.handleOnKeyDown,"aria-label":j?$:E},J.createElement("span",{className:x.join(" ")},j?O:T))}}},n.increaseYear=function(){n.setState(function(s){var i,o=s.date;return{date:gl(o,n.props.showYearPicker?(i=n.props.yearItemNumber)!==null&&i!==void 0?i:e.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.renderNextButton=function(){var s;if(!n.props.renderCustomHeader){var i;switch(!0){case n.props.showMonthYearPicker:i=iI(n.state.date,n.props);break;case n.props.showYearPicker:i=tme(n.state.date,n.props);break;case n.props.showQuarterYearPicker:i=Zhe(n.state.date,n.props);break;default:i=aI(n.state.date,n.props);break}if(!(!((s=n.props.forceShowMonthNavigation)!==null&&s!==void 0?s:e.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&i||n.props.showTimeSelectOnly)){var o=["react-datepicker__navigation","react-datepicker__navigation--next"],l=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];n.props.showTimeSelect&&o.push("react-datepicker__navigation--next--with-time"),n.props.todayButton&&o.push("react-datepicker__navigation--next--with-today-button");var c=n.increaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(c=n.increaseYear),i&&n.props.showDisabledMonthNavigation&&(o.push("react-datepicker__navigation--next--disabled"),c=void 0);var d=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,h=n.props,m=h.nextMonthButtonLabel,x=m===void 0?e.defaultProps.nextMonthButtonLabel:m,y=h.nextYearButtonLabel,w=y===void 0?e.defaultProps.nextYearButtonLabel:y,j=n.props,v=j.nextMonthAriaLabel,N=v===void 0?typeof x=="string"?x:"Next Month":v,T=j.nextYearAriaLabel,S=T===void 0?typeof w=="string"?w:"Next Year":T;return J.createElement("button",{type:"button",className:o.join(" "),onClick:c,onKeyDown:n.props.handleOnKeyDown,"aria-label":d?S:N},J.createElement("span",{className:l.join(" ")},d?w:x))}}},n.renderCurrentMonth=function(s){s===void 0&&(s=n.state.date);var i=["react-datepicker__current-month"];return n.props.showYearDropdown&&i.push("react-datepicker__current-month--hasYearDropdown"),n.props.showMonthDropdown&&i.push("react-datepicker__current-month--hasMonthDropdown"),n.props.showMonthYearDropdown&&i.push("react-datepicker__current-month--hasMonthYearDropdown"),J.createElement("h2",{className:i.join(" ")},Sn(s,n.props.dateFormat,n.props.locale))},n.renderYearDropdown=function(s){if(s===void 0&&(s=!1),!(!n.props.showYearDropdown||s))return J.createElement(jme,Nr({},e.defaultProps,n.props,{date:n.state.date,onChange:n.changeYear,year:hr(n.state.date)}))},n.renderMonthDropdown=function(s){if(s===void 0&&(s=!1),!(!n.props.showMonthDropdown||s))return J.createElement(mme,Nr({},e.defaultProps,n.props,{month:Ga(n.state.date),onChange:n.changeMonth}))},n.renderMonthYearDropdown=function(s){if(s===void 0&&(s=!1),!(!n.props.showMonthYearDropdown||s))return J.createElement(xme,Nr({},e.defaultProps,n.props,{date:n.state.date,onChange:n.changeMonthYear}))},n.handleTodayButtonClick=function(s){n.props.onSelect(QR(),s),n.props.setPreSelection&&n.props.setPreSelection(QR())},n.renderTodayButton=function(){if(!(!n.props.todayButton||n.props.showTimeSelectOnly))return J.createElement("div",{className:"react-datepicker__today-button",onClick:n.handleTodayButtonClick},n.props.todayButton)},n.renderDayNamesHeader=function(s){return J.createElement("div",{className:"react-datepicker__day-names",role:"row"},n.header(s))},n.renderDefaultHeader=function(s){var i=s.monthDate,o=s.i;return J.createElement("div",{className:"react-datepicker__header ".concat(n.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},n.renderCurrentMonth(i),J.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(n.props.dropdownMode),onFocus:n.handleDropdownFocus},n.renderMonthDropdown(o!==0),n.renderMonthYearDropdown(o!==0),n.renderYearDropdown(o!==0)))},n.renderCustomHeader=function(s){var i,o,l=s.monthDate,c=s.i;if(n.props.showTimeSelect&&!n.state.monthContainer||n.props.showTimeSelectOnly)return null;var d=n.props,h=d.showYearPicker,m=d.yearItemNumber,x;if(h){var y=cl(l,m),w=y.startPeriod,j=y.endPeriod;x={startYear:w,endYear:j}}var v=nI(n.state.date,n.props),N=aI(n.state.date,n.props),T=sI(n.state.date,n.props),S=iI(n.state.date,n.props);return J.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:n.props.onDropdownFocus},(o=(i=n.props).renderCustomHeader)===null||o===void 0?void 0:o.call(i,Nr(Nr(Nr({},n.state),h&&{visibleYearsRange:x}),{customHeaderCount:c,monthDate:l,changeMonth:n.changeMonth,changeYear:n.changeYear,decreaseMonth:n.decreaseMonth,increaseMonth:n.increaseMonth,decreaseYear:n.decreaseYear,increaseYear:n.increaseYear,prevMonthButtonDisabled:v,nextMonthButtonDisabled:N,prevYearButtonDisabled:T,nextYearButtonDisabled:S})))},n.renderYearHeader=function(s){var i=s.monthDate,o=n.props,l=o.showYearPicker,c=o.yearItemNumber,d=c===void 0?e.defaultProps.yearItemNumber:c,h=cl(i,d),m=h.startPeriod,x=h.endPeriod;return J.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},l?"".concat(m," - ").concat(x):hr(i))},n.renderHeader=function(s){var i=s.monthDate,o=s.i,l=o===void 0?0:o,c={monthDate:i,i:l};switch(!0){case n.props.renderCustomHeader!==void 0:return n.renderCustomHeader(c);case(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker):return n.renderYearHeader(c);default:return n.renderDefaultHeader(c)}},n.renderMonths=function(){var s,i;if(!(n.props.showTimeSelectOnly||n.props.showYearPicker)){for(var o=[],l=(s=n.props.monthsShown)!==null&&s!==void 0?s:e.defaultProps.monthsShown,c=n.props.showPreviousMonths?l-1:0,d=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?gl(n.state.date,c):qu(n.state.date,c),h=(i=n.props.monthSelectedIn)!==null&&i!==void 0?i:c,m=0;m<l;++m){var x=m-h+c,y=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?gl(d,x):Yi(d,x),w="month-".concat(m),j=m<l-1,v=m>0;o.push(J.createElement("div",{key:w,ref:function(N){n.monthContainer=N??void 0},className:"react-datepicker__month-container"},n.renderHeader({monthDate:y,i:m}),J.createElement(fme,Nr({},e.defaultProps,n.props,{containerRef:n.containerRef,ariaLabelPrefix:n.props.monthAriaLabelPrefix,day:y,onDayClick:n.handleDayClick,handleOnKeyDown:n.props.handleOnDayKeyDown,handleOnMonthKeyDown:n.props.handleOnKeyDown,onDayMouseEnter:n.handleDayMouseEnter,onMouseLeave:n.handleMonthMouseLeave,orderInDisplay:m,selectingDate:n.state.selectingDate,monthShowsDuplicateDaysEnd:j,monthShowsDuplicateDaysStart:v,dayNamesHeader:n.renderDayNamesHeader(y)}))))}return o}},n.renderYears=function(){if(!n.props.showTimeSelectOnly&&n.props.showYearPicker)return J.createElement("div",{className:"react-datepicker__year--container"},n.renderHeader({monthDate:n.state.date}),J.createElement(bme,Nr({},e.defaultProps,n.props,{selectingDate:n.state.selectingDate,date:n.state.date,onDayClick:n.handleDayClick,clearSelectingDate:n.clearSelectingDate,onYearMouseEnter:n.handleYearMouseEnter,onYearMouseLeave:n.handleYearMouseLeave})))},n.renderTimeSection=function(){if(n.props.showTimeSelect&&(n.state.monthContainer||n.props.showTimeSelectOnly))return J.createElement(yme,Nr({},e.defaultProps,n.props,{onChange:n.props.onTimeChange,format:n.props.timeFormat,intervals:n.props.timeIntervals,monthRef:n.state.monthContainer}))},n.renderInputTimeSection=function(){var s=n.props.selected?new Date(n.props.selected):void 0,i=s&&Vw(s)&&!!n.props.selected,o=i?"".concat(lI(s.getHours()),":").concat(lI(s.getMinutes())):"";if(n.props.showTimeInput)return J.createElement(ome,Nr({},e.defaultProps,n.props,{date:s,timeString:o,onChange:n.props.onTimeChange}))},n.renderAriaLiveRegion=function(){var s,i=cl(n.state.date,(s=n.props.yearItemNumber)!==null&&s!==void 0?s:e.defaultProps.yearItemNumber),o=i.startPeriod,l=i.endPeriod,c;return n.props.showYearPicker?c="".concat(o," - ").concat(l):n.props.showMonthYearPicker||n.props.showQuarterYearPicker?c=hr(n.state.date):c="".concat(mO(Ga(n.state.date),n.props.locale)," ").concat(hr(n.state.date)),J.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},n.state.isRenderAriaLiveMessage&&c)},n.renderChildren=function(){if(n.props.children)return J.createElement("div",{className:"react-datepicker__children-container"},n.props.children)},n.containerRef=g.createRef(),n.state={date:n.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},n}return Object.defineProperty(e,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,outsideClickIgnoreClass:Sq,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:dg}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){var r=this;this.props.showTimeSelect&&(this.assignMonthContainer=(function(){r.setState({monthContainer:r.monthContainer})})())},e.prototype.componentDidUpdate=function(r){var n=this;if(this.props.preSelection&&(!Sr(this.props.preSelection,r.preSelection)||this.props.monthSelectedIn!==r.monthSelectedIn)){var s=!rs(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return s&&n.handleCustomMonthChange(n.state.date)})}else this.props.openToDate&&!Sr(this.props.openToDate,r.openToDate)&&this.setState({date:this.props.openToDate})},e.prototype.render=function(){var r=this.props.container||Fhe;return J.createElement(zw,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},J.createElement("div",{style:{display:"contents"},ref:this.containerRef},J.createElement(r,{className:Ht("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},e})(g.Component),Cme=function(t){var e=t.icon,r=t.className,n=r===void 0?"":r,s=t.onClick,i="react-datepicker__calendar-icon";if(typeof e=="string")return J.createElement("i",{className:"".concat(i," ").concat(e," ").concat(n),"aria-hidden":"true",onClick:s});if(J.isValidElement(e)){var o=e;return J.cloneElement(o,{className:"".concat(o.props.className||""," ").concat(i," ").concat(n),onClick:function(l){typeof o.props.onClick=="function"&&o.props.onClick(l),typeof s=="function"&&s(l)}})}return J.createElement("svg",{className:"".concat(i," ").concat(n),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:s},J.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},Nq=(function(t){Ba(e,t);function e(r){var n=t.call(this,r)||this;return n.portalRoot=null,n.el=document.createElement("div"),n}return e.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},e.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},e.prototype.render=function(){return Qz.createPortal(this.props.children,this.el)},e})(g.Component),Tme="[tabindex], a, button, input, select, textarea",_me=function(t){return(t instanceof HTMLAnchorElement||!t.disabled)&&t.tabIndex!==-1},kq=(function(t){Ba(e,t);function e(r){var n=t.call(this,r)||this;return n.getTabChildren=function(){var s;return Array.prototype.slice.call((s=n.tabLoopRef.current)===null||s===void 0?void 0:s.querySelectorAll(Tme),1,-1).filter(_me)},n.handleFocusStart=function(){var s=n.getTabChildren();s&&s.length>1&&s[s.length-1].focus()},n.handleFocusEnd=function(){var s=n.getTabChildren();s&&s.length>1&&s[0].focus()},n.tabLoopRef=g.createRef(),n}return e.prototype.render=function(){var r;return((r=this.props.enableTabLoop)!==null&&r!==void 0?r:e.defaultProps.enableTabLoop)?J.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},J.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,J.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},e.defaultProps={enableTabLoop:!0},e})(g.Component);function Mme(t){function e(r){var n,s=typeof r.hidePopper=="boolean"?r.hidePopper:!0,i=g.useRef(null),o=$he(Nr({open:!s,whileElementsMounted:hq,placement:r.popperPlacement,middleware:mo([khe({padding:15}),Nhe(10),Che({element:i})],(n=r.popperModifiers)!==null&&n!==void 0?n:[],!0)},r.popperProps)),l=Nr(Nr({},r),{hidePopper:s,popperProps:Nr(Nr({},o),{arrowRef:i})});return J.createElement(t,Nr({},l))}return e.displayName="withFloating(".concat(t.displayName||t.name||"Component",")"),e}var Ame=function(t){var e=t.className,r=t.wrapperClassName,n=t.hidePopper,s=n===void 0?!0:n,i=t.popperComponent,o=t.targetComponent,l=t.enableTabLoop,c=t.popperOnKeyDown,d=t.portalId,h=t.portalHost,m=t.popperProps,x=t.showArrow,y=void 0;if(!s){var w=Ht("react-datepicker-popper",e);y=J.createElement(kq,{enableTabLoop:l},J.createElement("div",{ref:m.refs.setFloating,style:m.floatingStyles,className:w,"data-placement":m.placement,onKeyDown:c},i,x&&J.createElement(Ohe,{ref:m.arrowRef,context:m.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}t.popperContainer&&(y=g.createElement(t.popperContainer,{},y)),d&&!s&&(y=J.createElement(Nq,{portalId:d,portalHost:h},y));var j=Ht("react-datepicker-wrapper",r);return J.createElement(J.Fragment,null,J.createElement("div",{ref:m.refs.setReference,className:j},o),y)},Ome=Mme(Ame);function Eme(t,e){return t&&e?Ga(t)!==Ga(e)||hr(t)!==hr(e):t!==e}var kN="Date input not valid.",zc=(function(t){Ba(e,t);function e(r){var n=t.call(this,r)||this;return n.calendar=null,n.input=null,n.getPreSelection=function(){return n.props.openToDate?n.props.openToDate:n.props.selectsEnd&&n.props.startDate?n.props.startDate:n.props.selectsStart&&n.props.endDate?n.props.endDate:Gr()},n.modifyHolidays=function(){var s;return(s=n.props.holidays)===null||s===void 0?void 0:s.reduce(function(i,o){var l=new Date(o.date);return Vw(l)?mo(mo([],i,!0),[Nr(Nr({},o),{date:l})],!1):i},[])},n.calcInitialState=function(){var s,i=n.getPreSelection(),o=vq(n.props),l=wq(n.props),c=o&&ho(i,Jy(o))?o:l&&Hc(i,ZR(l))?l:i;return{open:n.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(s=n.props.selectsRange?n.props.startDate:n.props.selected)!==null&&s!==void 0?s:c,highlightDates:oI(n.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},n.getInputValue=function(){var s,i=n.props,o=i.locale,l=i.startDate,c=i.endDate,d=i.rangeSeparator,h=i.selected,m=i.selectedDates,x=i.selectsMultiple,y=i.selectsRange,w=i.value,j=(s=n.props.dateFormat)!==null&&s!==void 0?s:e.defaultProps.dateFormat,v=n.state.inputValue;return typeof w=="string"?w:typeof v=="string"?v:y?Bhe(l,c,{dateFormat:j,locale:o,rangeSeparator:d}):x?zhe(m??[],{dateFormat:j,locale:o}):fi(h,{dateFormat:j,locale:o})},n.resetHiddenStatus=function(){n.setState(Nr(Nr({},n.state),{wasHidden:!1}))},n.setHiddenStatus=function(){n.setState(Nr(Nr({},n.state),{wasHidden:!0}))},n.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&n.setHiddenStatus()},n.clearPreventFocusTimeout=function(){n.preventFocusTimeout&&clearTimeout(n.preventFocusTimeout)},n.setFocus=function(){var s,i;(i=(s=n.input)===null||s===void 0?void 0:s.focus)===null||i===void 0||i.call(s,{preventScroll:!0})},n.setBlur=function(){var s,i;(i=(s=n.input)===null||s===void 0?void 0:s.blur)===null||i===void 0||i.call(s),n.cancelFocusInput()},n.deferBlur=function(){requestAnimationFrame(function(){n.setBlur()})},n.setOpen=function(s,i){i===void 0&&(i=!1),n.setState({open:s,preSelection:s&&n.state.open?n.state.preSelection:n.calcInitialState().preSelection,lastPreSelectChange:CN},function(){s||n.setState(function(o){return{focused:i?o.focused:!1}},function(){!i&&n.deferBlur(),n.setState({inputValue:null})})})},n.inputOk=function(){return xl(n.state.preSelection)},n.isCalendarOpen=function(){return n.props.open===void 0?n.state.open&&!n.props.disabled&&!n.props.readOnly:n.props.open},n.handleFocus=function(s){var i,o,l=n.state.wasHidden,c=l?n.state.open:!0;l&&n.resetHiddenStatus(),n.state.preventFocus||((o=(i=n.props).onFocus)===null||o===void 0||o.call(i,s),c&&!n.props.preventOpenOnFocus&&!n.props.readOnly&&n.setOpen(!0)),n.setState({focused:!0})},n.sendFocusBackToInput=function(){n.preventFocusTimeout&&n.clearPreventFocusTimeout(),n.setState({preventFocus:!0},function(){n.preventFocusTimeout=setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})})},n.cancelFocusInput=function(){clearTimeout(n.inputFocusTimeout),n.inputFocusTimeout=void 0},n.deferFocusInput=function(){n.cancelFocusInput(),n.inputFocusTimeout=setTimeout(function(){return n.setFocus()},1)},n.handleDropdownFocus=function(){n.cancelFocusInput()},n.resetInputValue=function(){n.setState(Nr(Nr({},n.state),{inputValue:null}))},n.handleBlur=function(s){var i,o;(!n.state.open||n.props.withPortal||n.props.showTimeInput)&&((o=(i=n.props).onBlur)===null||o===void 0||o.call(i,s)),n.resetInputValue(),n.state.open&&n.props.open===!1&&n.setOpen(!1),n.setState({focused:!1})},n.handleCalendarClickOutside=function(s){var i,o;n.props.inline||n.setOpen(!1),(o=(i=n.props).onClickOutside)===null||o===void 0||o.call(i,s),n.props.withPortal&&s.preventDefault()},n.handleChange=function(){for(var s,i,o,l,c,d=[],h=0;h<arguments.length;h++)d[h]=arguments[h];var m=d[0];if(!(n.props.onChangeRaw&&(n.props.onChangeRaw.apply(n,d),!m||typeof m.isDefaultPrevented!="function"||m.isDefaultPrevented()))){n.setState({inputValue:(m==null?void 0:m.target)instanceof HTMLInputElement?m.target.value:null,lastPreSelectChange:Dme});var x=n.props,y=x.selectsRange,w=x.startDate,j=x.endDate,v=(s=n.props.dateFormat)!==null&&s!==void 0?s:e.defaultProps.dateFormat,N=(i=n.props.strictParsing)!==null&&i!==void 0?i:e.defaultProps.strictParsing,T=(m==null?void 0:m.target)instanceof HTMLInputElement?m.target.value:"";if(y){var S=n.props.rangeSeparator,O=S.trim(),_=T.split(v.includes(O)?S:O,2).map(function(z){return z.trim()}),A=_[0],E=_[1],D=wN(A??"",v,n.props.locale,N),$=D?wN(E??"",v,n.props.locale,N):null,I=(w==null?void 0:w.getTime())!==(D==null?void 0:D.getTime()),L=(j==null?void 0:j.getTime())!==($==null?void 0:$.getTime());if(!I&&!L||D&&pi(D,n.props)||$&&pi($,n.props))return;(l=(o=n.props).onChange)===null||l===void 0||l.call(o,[D,$],m)}else{var R=wN(T,v,n.props.locale,N,(c=n.props.selected)!==null&&c!==void 0?c:void 0);(R||!T)&&n.setSelected(R,m,!0)}}},n.handleSelect=function(s,i,o){if(!n.props.readOnly){var l=n.props,c=l.selectsRange,d=l.startDate,h=l.endDate,m=l.swapRange,x=!c||d&&!h&&(m||!SN(s,d));n.props.shouldCloseOnSelect&&!n.props.showTimeSelect&&x&&n.sendFocusBackToInput(),n.props.onChangeRaw&&n.props.onChangeRaw(i),n.setSelected(s,i,!1,o),n.props.showDateSelect&&n.setState({isRenderAriaLiveMessage:!0}),!n.props.shouldCloseOnSelect||n.props.showTimeSelect?n.setPreSelection(s):x&&n.setOpen(!1)}},n.setSelected=function(s,i,o,l){var c,d,h=s;if(n.props.showYearPicker){if(h!==null&&Qy(hr(h),n.props))return}else if(n.props.showMonthYearPicker){if(h!==null&&bq(h,n.props))return}else if(h!==null&&pi(h,n.props))return;var m=n.props,x=m.onChange,y=m.selectsRange,w=m.startDate,j=m.endDate,v=m.selectsMultiple,N=m.selectedDates,T=m.minTime,S=m.swapRange;if(!Du(n.props.selected,h)||n.props.allowSameDay||y||v)if(h!==null&&(n.props.selected&&(!o||!n.props.showTimeSelect&&!n.props.showTimeSelectOnly&&!n.props.showTimeInput)&&(h=jN(h,{hour:yl(n.props.selected),minute:bl(n.props.selected),second:Mc(n.props.selected)})),!o&&(n.props.showTimeSelect||n.props.showTimeSelectOnly)&&T&&(h=jN(h,{hour:T.getHours(),minute:T.getMinutes(),second:T.getSeconds()})),n.props.inline||n.setState({preSelection:h}),n.props.focusSelectedMonth||n.setState({monthSelectedIn:l})),y){var O=!w&&!j,_=w&&!j,A=!w&&!!j,E=w&&j;O?x==null||x([h,null],i):_?h===null?x==null||x([null,null],i):SN(h,w)?S?x==null||x([h,w],i):x==null||x([h,null],i):x==null||x([w,h],i):A&&(h&&SN(h,j)?x==null||x([h,j],i):x==null||x([h,null],i)),E&&(x==null||x([h,null],i))}else if(v){if(h!==null)if(!(N!=null&&N.length))x==null||x([h],i);else{var D=N.some(function(I){return Sr(I,h)});if(D){var $=N.filter(function(I){return!Sr(I,h)});x==null||x($,i)}else x==null||x(mo(mo([],N,!0),[h],!1),i)}}else x==null||x(h,i);o||((d=(c=n.props).onSelect)===null||d===void 0||d.call(c,h,i),n.setState({inputValue:null}))},n.setPreSelection=function(s){if(!n.props.readOnly){var i=xl(n.props.minDate),o=xl(n.props.maxDate),l=!0;if(s){var c=Jy(s);if(i&&o)l=Nu(s,n.props.minDate,n.props.maxDate);else if(i){var d=Jy(n.props.minDate);l=Hc(s,d)||Du(c,d)}else if(o){var h=ZR(n.props.maxDate);l=ho(s,h)||Du(c,h)}}l&&n.setState({preSelection:s})}},n.toggleCalendar=function(){n.setOpen(!n.state.open)},n.handleTimeChange=function(s){var i,o;if(!(n.props.selectsRange||n.props.selectsMultiple)){var l=n.props.selected?n.props.selected:n.getPreSelection(),c=n.props.selected?s:jN(l,{hour:yl(s),minute:bl(s)});n.setState({preSelection:c}),(o=(i=n.props).onChange)===null||o===void 0||o.call(i,c),n.props.shouldCloseOnSelect&&!n.props.showTimeInput&&(n.sendFocusBackToInput(),n.setOpen(!1)),n.props.showTimeInput&&n.setOpen(!0),(n.props.showTimeSelectOnly||n.props.showTimeSelect)&&n.setState({isRenderAriaLiveMessage:!0}),n.setState({inputValue:null})}},n.onInputClick=function(){var s,i;!n.props.disabled&&!n.props.readOnly&&n.setOpen(!0),(i=(s=n.props).onInputClick)===null||i===void 0||i.call(s)},n.onInputKeyDown=function(s){var i,o,l,c,d,h;(o=(i=n.props).onKeyDown)===null||o===void 0||o.call(i,s);var m=s.key;if(!n.state.open&&!n.props.inline&&!n.props.preventOpenOnFocus){(m===Ct.ArrowDown||m===Ct.ArrowUp||m===Ct.Enter)&&((l=n.onInputClick)===null||l===void 0||l.call(n));return}if(n.state.open){if(m===Ct.ArrowDown||m===Ct.ArrowUp){s.preventDefault();var x=n.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":n.props.showWeekPicker&&n.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':n.props.showFullMonthYearPicker||n.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',y=((c=n.calendar)===null||c===void 0?void 0:c.containerRef.current)instanceof Element&&n.calendar.containerRef.current.querySelector(x);y instanceof HTMLElement&&y.focus({preventScroll:!0});return}var w=Gr(n.state.preSelection);m===Ct.Enter?(s.preventDefault(),s.target.blur(),n.inputOk()&&n.state.lastPreSelectChange===CN?(n.handleSelect(w,s),!n.props.shouldCloseOnSelect&&n.setPreSelection(w)):n.setOpen(!1)):m===Ct.Escape?(s.preventDefault(),s.target.blur(),n.sendFocusBackToInput(),n.setOpen(!1)):m===Ct.Tab&&n.setOpen(!1),n.inputOk()||(h=(d=n.props).onInputError)===null||h===void 0||h.call(d,{code:1,msg:kN})}},n.onPortalKeyDown=function(s){var i=s.key;i===Ct.Escape&&(s.preventDefault(),n.setState({preventFocus:!0},function(){n.setOpen(!1),setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})}))},n.onDayKeyDown=function(s){var i,o,l,c,d,h,m=n.props,x=m.minDate,y=m.maxDate,w=m.disabledKeyboardNavigation,j=m.showWeekPicker,v=m.shouldCloseOnSelect,N=m.locale,T=m.calendarStartDay,S=m.adjustDateOnChange,O=m.inline;if((o=(i=n.props).onKeyDown)===null||o===void 0||o.call(i,s),!w){var _=s.key,A=s.shiftKey,E=Gr(n.state.preSelection),D=function(W,H){var P=H;switch(W){case Ct.ArrowRight:P=j?Sb(H,1):Wi(H,1);break;case Ct.ArrowLeft:P=j?FR(H):afe(H);break;case Ct.ArrowUp:P=FR(H);break;case Ct.ArrowDown:P=Sb(H,1);break;case Ct.PageUp:P=A?Xf(H,1):qu(H,1);break;case Ct.PageDown:P=A?gl(H,1):Yi(H,1);break;case Ct.Home:P=Ac(H,N,T);break;case Ct.End:P=qhe(H);break}return P},$=function(W,H){for(var P=40,F=W,X=!1,te=0,q=D(W,H);!X;){if(te>=P){q=H;break}x&&q<x&&(F=Ct.ArrowRight,q=pi(x,n.props)?D(F,q):x),y&&q>y&&(F=Ct.ArrowLeft,q=pi(y,n.props)?D(F,q):y),pi(q,n.props)?((F===Ct.PageUp||F===Ct.Home)&&(F=Ct.ArrowRight),(F===Ct.PageDown||F===Ct.End)&&(F=Ct.ArrowLeft),q=D(F,q)):X=!0,te++}return q};if(_===Ct.Enter){s.preventDefault(),n.handleSelect(E,s),!v&&n.setPreSelection(E);return}else if(_===Ct.Escape){s.preventDefault(),n.setOpen(!1),n.inputOk()||(c=(l=n.props).onInputError)===null||c===void 0||c.call(l,{code:1,msg:kN});return}var I=null;switch(_){case Ct.ArrowLeft:case Ct.ArrowRight:case Ct.ArrowUp:case Ct.ArrowDown:case Ct.PageUp:case Ct.PageDown:case Ct.Home:case Ct.End:I=$(_,E);break}if(!I){(h=(d=n.props).onInputError)===null||h===void 0||h.call(d,{code:1,msg:kN});return}if(s.preventDefault(),n.setState({lastPreSelectChange:CN}),S&&n.setSelected(I),n.setPreSelection(I),O){var L=Ga(E),R=Ga(I),z=hr(E),Y=hr(I);L!==R||z!==Y?n.setState({shouldFocusDayInline:!0}):n.setState({shouldFocusDayInline:!1})}}},n.onPopperKeyDown=function(s){var i=s.key;i===Ct.Escape&&(s.preventDefault(),n.sendFocusBackToInput(),n.setOpen(!1))},n.onClearClick=function(s){s&&s.preventDefault&&s.preventDefault(),n.sendFocusBackToInput();var i=n.props,o=i.selectsRange,l=i.onChange;o?l==null||l([null,null],s):l==null||l(null,s),n.setState({inputValue:null})},n.clear=function(){n.onClearClick()},n.onScroll=function(s){typeof n.props.closeOnScroll=="boolean"&&n.props.closeOnScroll?(s.target===document||s.target===document.documentElement||s.target===document.body)&&n.setOpen(!1):typeof n.props.closeOnScroll=="function"&&n.props.closeOnScroll(s)&&n.setOpen(!1)},n.renderCalendar=function(){var s,i;return!n.props.inline&&!n.isCalendarOpen()?null:J.createElement(kme,Nr({showMonthYearDropdown:void 0,ref:function(o){n.calendar=o}},n.props,n.state,{setOpen:n.setOpen,dateFormat:(s=n.props.dateFormatCalendar)!==null&&s!==void 0?s:e.defaultProps.dateFormatCalendar,onSelect:n.handleSelect,onClickOutside:n.handleCalendarClickOutside,holidays:nme(n.modifyHolidays()),outsideClickIgnoreClass:n.props.outsideClickIgnoreClass,onDropdownFocus:n.handleDropdownFocus,onTimeChange:n.handleTimeChange,className:n.props.calendarClassName,container:n.props.calendarContainer,handleOnKeyDown:n.props.onKeyDown,handleOnDayKeyDown:n.onDayKeyDown,setPreSelection:n.setPreSelection,dropdownMode:(i=n.props.dropdownMode)!==null&&i!==void 0?i:e.defaultProps.dropdownMode}),n.props.children)},n.renderAriaLiveRegion=function(){var s,i=n.props.locale,o=(s=n.props.dateFormat)!==null&&s!==void 0?s:e.defaultProps.dateFormat,l=n.props.showTimeInput||n.props.showTimeSelect,c=l?"PPPPp":"PPPP",d;return n.props.selectsRange?d="Selected start date: ".concat(fi(n.props.startDate,{dateFormat:c,locale:i}),". ").concat(n.props.endDate?"End date: "+fi(n.props.endDate,{dateFormat:c,locale:i}):""):n.props.showTimeSelectOnly?d="Selected time: ".concat(fi(n.props.selected,{dateFormat:o,locale:i})):n.props.showYearPicker?d="Selected year: ".concat(fi(n.props.selected,{dateFormat:"yyyy",locale:i})):n.props.showMonthYearPicker?d="Selected month: ".concat(fi(n.props.selected,{dateFormat:"MMMM yyyy",locale:i})):n.props.showQuarterYearPicker?d="Selected quarter: ".concat(fi(n.props.selected,{dateFormat:"yyyy, QQQ",locale:i})):d="Selected date: ".concat(fi(n.props.selected,{dateFormat:c,locale:i})),J.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},d)},n.renderDateInput=function(){var s,i,o=Ht(n.props.className,(s={},s[n.props.outsideClickIgnoreClass||e.defaultProps.outsideClickIgnoreClass]=n.state.open,s)),l=n.props.customInput||J.createElement("input",{type:"text"}),c=n.props.customInputRef||"ref";return g.cloneElement(l,(i={},i[c]=function(d){n.input=d},i.value=n.getInputValue(),i.onBlur=n.handleBlur,i.onChange=n.handleChange,i.onClick=n.onInputClick,i.onFocus=n.handleFocus,i.onKeyDown=n.onInputKeyDown,i.id=n.props.id,i.name=n.props.name,i.form=n.props.form,i.autoFocus=n.props.autoFocus,i.placeholder=n.props.placeholderText,i.disabled=n.props.disabled,i.autoComplete=n.props.autoComplete,i.className=Ht(l.props.className,o),i.title=n.props.title,i.readOnly=n.props.readOnly,i.required=n.props.required,i.tabIndex=n.props.tabIndex,i["aria-describedby"]=n.props.ariaDescribedBy,i["aria-invalid"]=n.props.ariaInvalid,i["aria-labelledby"]=n.props.ariaLabelledBy,i["aria-required"]=n.props.ariaRequired,i))},n.renderClearButton=function(){var s=n.props,i=s.isClearable,o=s.disabled,l=s.selected,c=s.startDate,d=s.endDate,h=s.clearButtonTitle,m=s.clearButtonClassName,x=m===void 0?"":m,y=s.ariaLabelClose,w=y===void 0?"Close":y,j=s.selectedDates,v=s.readOnly;return i&&!v&&(l!=null||c!=null||d!=null||j!=null&&j.length)?J.createElement("button",{type:"button",className:Ht("react-datepicker__close-icon",x,{"react-datepicker__close-icon--disabled":o}),disabled:o,"aria-label":w,onClick:n.onClearClick,title:h,tabIndex:-1}):null},n.state=n.calcInitialState(),n.preventFocusTimeout=void 0,n}return Object.defineProperty(e,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,outsideClickIgnoreClass:Sq,readOnly:!1,rangeSeparator:xq,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:dg,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.componentDidUpdate=function(r,n){var s,i,o,l;r.inline&&Eme(r.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&r.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),r.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:oI(this.props.highlightDates)}),!n.focused&&!Du(r.selected,this.props.selected)&&this.setState({inputValue:null}),n.open!==this.state.open&&(n.open===!1&&this.state.open===!0&&((i=(s=this.props).onCalendarOpen)===null||i===void 0||i.call(s)),n.open===!0&&this.state.open===!1&&((l=(o=this.props).onCalendarClose)===null||l===void 0||l.call(o)))},e.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.renderInputContainer=function(){var r=this.props,n=r.showIcon,s=r.icon,i=r.calendarIconClassname,o=r.calendarIconClassName,l=r.toggleCalendarOnIconClick,c=this.state.open;return i&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),J.createElement("div",{className:"react-datepicker__input-container".concat(n?" react-datepicker__view-calendar-icon":"")},n&&J.createElement(Cme,Nr({icon:s,className:Ht(o,!o&&i,c&&"react-datepicker-ignore-onclickoutside")},l?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},e.prototype.render=function(){var r=this.renderCalendar();if(this.props.inline)return r;if(this.props.withPortal){var n=this.state.open?J.createElement(kq,{enableTabLoop:this.props.enableTabLoop},J.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},r)):null;return this.state.open&&this.props.portalId&&(n=J.createElement(Nq,Nr({portalId:this.props.portalId},this.props),n)),J.createElement("div",null,this.renderInputContainer(),n)}return J.createElement(Ome,Nr({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:r,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},e})(g.Component),Dme="input",CN="navigate";/*! @license DOMPurify 3.2.7 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.7/LICENSE */const{entries:Cq,setPrototypeOf:hI,isFrozen:Pme,getPrototypeOf:Rme,getOwnPropertyDescriptor:Ime}=Object;let{freeze:ds,seal:Ci,create:Tq}=Object,{apply:a_,construct:s_}=typeof Reflect<"u"&&Reflect;ds||(ds=function(e){return e});Ci||(Ci=function(e){return e});a_||(a_=function(e,r){for(var n=arguments.length,s=new Array(n>2?n-2:0),i=2;i<n;i++)s[i-2]=arguments[i];return e.apply(r,s)});s_||(s_=function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),s=1;s<r;s++)n[s-1]=arguments[s];return new e(...n)});const ry=fs(Array.prototype.forEach),Lme=fs(Array.prototype.lastIndexOf),mI=fs(Array.prototype.pop),Xm=fs(Array.prototype.push),$me=fs(Array.prototype.splice),Zy=fs(String.prototype.toLowerCase),TN=fs(String.prototype.toString),_N=fs(String.prototype.match),Jm=fs(String.prototype.replace),Fme=fs(String.prototype.indexOf),Hme=fs(String.prototype.trim),$i=fs(Object.prototype.hasOwnProperty),ts=fs(RegExp.prototype.test),Qm=Bme(TypeError);function fs(t){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var r=arguments.length,n=new Array(r>1?r-1:0),s=1;s<r;s++)n[s-1]=arguments[s];return a_(t,e,n)}}function Bme(t){return function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return s_(t,r)}}function vr(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Zy;hI&&hI(t,null);let n=e.length;for(;n--;){let s=e[n];if(typeof s=="string"){const i=r(s);i!==s&&(Pme(e)||(e[n]=i),s=i)}t[s]=!0}return t}function zme(t){for(let e=0;e<t.length;e++)$i(t,e)||(t[e]=null);return t}function al(t){const e=Tq(null);for(const[r,n]of Cq(t))$i(t,r)&&(Array.isArray(n)?e[r]=zme(n):n&&typeof n=="object"&&n.constructor===Object?e[r]=al(n):e[r]=n);return e}function Zm(t,e){for(;t!==null;){const n=Ime(t,e);if(n){if(n.get)return fs(n.get);if(typeof n.value=="function")return fs(n.value)}t=Rme(t)}function r(){return null}return r}const pI=ds(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),MN=ds(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","slot","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),AN=ds(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Vme=ds(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),ON=ds(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Wme=ds(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),gI=ds(["#text"]),xI=ds(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),EN=ds(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),yI=ds(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),ny=ds(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),qme=Ci(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Ume=Ci(/<%[\w\W]*|[\w\W]*%>/gm),Gme=Ci(/\$\{[\w\W]*/gm),Yme=Ci(/^data-[\-\w.\u00B7-\uFFFF]+$/),Kme=Ci(/^aria-[\-\w]+$/),_q=Ci(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Xme=Ci(/^(?:\w+script|data):/i),Jme=Ci(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Mq=Ci(/^html$/i),Qme=Ci(/^[a-z][.\w]*(-[.\w]+)+$/i);var bI=Object.freeze({__proto__:null,ARIA_ATTR:Kme,ATTR_WHITESPACE:Jme,CUSTOM_ELEMENT:Qme,DATA_ATTR:Yme,DOCTYPE_NAME:Mq,ERB_EXPR:Ume,IS_ALLOWED_URI:_q,IS_SCRIPT_OR_DATA:Xme,MUSTACHE_EXPR:qme,TMPLIT_EXPR:Gme});const ep={element:1,text:3,progressingInstruction:7,comment:8,document:9},Zme=function(){return typeof window>"u"?null:window},epe=function(e,r){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let n=null;const s="data-tt-policy-suffix";r&&r.hasAttribute(s)&&(n=r.getAttribute(s));const i="dompurify"+(n?"#"+n:"");try{return e.createPolicy(i,{createHTML(o){return o},createScriptURL(o){return o}})}catch{return console.warn("TrustedTypes policy "+i+" could not be created."),null}},vI=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function Aq(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Zme();const e=Ze=>Aq(Ze);if(e.version="3.2.7",e.removed=[],!t||!t.document||t.document.nodeType!==ep.document||!t.Element)return e.isSupported=!1,e;let{document:r}=t;const n=r,s=n.currentScript,{DocumentFragment:i,HTMLTemplateElement:o,Node:l,Element:c,NodeFilter:d,NamedNodeMap:h=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:m,DOMParser:x,trustedTypes:y}=t,w=c.prototype,j=Zm(w,"cloneNode"),v=Zm(w,"remove"),N=Zm(w,"nextSibling"),T=Zm(w,"childNodes"),S=Zm(w,"parentNode");if(typeof o=="function"){const Ze=r.createElement("template");Ze.content&&Ze.content.ownerDocument&&(r=Ze.content.ownerDocument)}let O,_="";const{implementation:A,createNodeIterator:E,createDocumentFragment:D,getElementsByTagName:$}=r,{importNode:I}=n;let L=vI();e.isSupported=typeof Cq=="function"&&typeof S=="function"&&A&&A.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:R,ERB_EXPR:z,TMPLIT_EXPR:Y,DATA_ATTR:W,ARIA_ATTR:H,IS_SCRIPT_OR_DATA:P,ATTR_WHITESPACE:F,CUSTOM_ELEMENT:X}=bI;let{IS_ALLOWED_URI:te}=bI,q=null;const Z=vr({},[...pI,...MN,...AN,...ON,...gI]);let ie=null;const oe=vr({},[...xI,...EN,...yI,...ny]);let le=Object.seal(Tq(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ge=null,Le=null,Oe=!0,xe=!0,Me=!1,Be=!0,re=!1,se=!0,ee=!1,ve=!1,Ge=!1,Ke=!1,ye=!1,ot=!1,mt=!0,nt=!1;const xt="user-content-";let Nt=!0,wt=!1,zt={},rt=null;const Ne=vr({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let ze=null;const we=vr({},["audio","video","img","source","image","track"]);let ut=null;const ht=vr({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),We="http://www.w3.org/1998/Math/MathML",he="http://www.w3.org/2000/svg",Je="http://www.w3.org/1999/xhtml";let Ue=Je,ae=!1,ne=null;const Te=vr({},[We,he,Je],TN);let et=vr({},["mi","mo","mn","ms","mtext"]),ct=vr({},["annotation-xml"]);const pe=vr({},["title","style","font","a","script"]);let B=null;const ce=["application/xhtml+xml","text/html"],be="text/html";let Se=null,$e=null;const ue=r.createElement("form"),fe=function(K){return K instanceof RegExp||K instanceof Function},Ae=function(){let K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!($e&&$e===K)){if((!K||typeof K!="object")&&(K={}),K=al(K),B=ce.indexOf(K.PARSER_MEDIA_TYPE)===-1?be:K.PARSER_MEDIA_TYPE,Se=B==="application/xhtml+xml"?TN:Zy,q=$i(K,"ALLOWED_TAGS")?vr({},K.ALLOWED_TAGS,Se):Z,ie=$i(K,"ALLOWED_ATTR")?vr({},K.ALLOWED_ATTR,Se):oe,ne=$i(K,"ALLOWED_NAMESPACES")?vr({},K.ALLOWED_NAMESPACES,TN):Te,ut=$i(K,"ADD_URI_SAFE_ATTR")?vr(al(ht),K.ADD_URI_SAFE_ATTR,Se):ht,ze=$i(K,"ADD_DATA_URI_TAGS")?vr(al(we),K.ADD_DATA_URI_TAGS,Se):we,rt=$i(K,"FORBID_CONTENTS")?vr({},K.FORBID_CONTENTS,Se):Ne,ge=$i(K,"FORBID_TAGS")?vr({},K.FORBID_TAGS,Se):al({}),Le=$i(K,"FORBID_ATTR")?vr({},K.FORBID_ATTR,Se):al({}),zt=$i(K,"USE_PROFILES")?K.USE_PROFILES:!1,Oe=K.ALLOW_ARIA_ATTR!==!1,xe=K.ALLOW_DATA_ATTR!==!1,Me=K.ALLOW_UNKNOWN_PROTOCOLS||!1,Be=K.ALLOW_SELF_CLOSE_IN_ATTR!==!1,re=K.SAFE_FOR_TEMPLATES||!1,se=K.SAFE_FOR_XML!==!1,ee=K.WHOLE_DOCUMENT||!1,Ke=K.RETURN_DOM||!1,ye=K.RETURN_DOM_FRAGMENT||!1,ot=K.RETURN_TRUSTED_TYPE||!1,Ge=K.FORCE_BODY||!1,mt=K.SANITIZE_DOM!==!1,nt=K.SANITIZE_NAMED_PROPS||!1,Nt=K.KEEP_CONTENT!==!1,wt=K.IN_PLACE||!1,te=K.ALLOWED_URI_REGEXP||_q,Ue=K.NAMESPACE||Je,et=K.MATHML_TEXT_INTEGRATION_POINTS||et,ct=K.HTML_INTEGRATION_POINTS||ct,le=K.CUSTOM_ELEMENT_HANDLING||{},K.CUSTOM_ELEMENT_HANDLING&&fe(K.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(le.tagNameCheck=K.CUSTOM_ELEMENT_HANDLING.tagNameCheck),K.CUSTOM_ELEMENT_HANDLING&&fe(K.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(le.attributeNameCheck=K.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),K.CUSTOM_ELEMENT_HANDLING&&typeof K.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(le.allowCustomizedBuiltInElements=K.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),re&&(xe=!1),ye&&(Ke=!0),zt&&(q=vr({},gI),ie=[],zt.html===!0&&(vr(q,pI),vr(ie,xI)),zt.svg===!0&&(vr(q,MN),vr(ie,EN),vr(ie,ny)),zt.svgFilters===!0&&(vr(q,AN),vr(ie,EN),vr(ie,ny)),zt.mathMl===!0&&(vr(q,ON),vr(ie,yI),vr(ie,ny))),K.ADD_TAGS&&(q===Z&&(q=al(q)),vr(q,K.ADD_TAGS,Se)),K.ADD_ATTR&&(ie===oe&&(ie=al(ie)),vr(ie,K.ADD_ATTR,Se)),K.ADD_URI_SAFE_ATTR&&vr(ut,K.ADD_URI_SAFE_ATTR,Se),K.FORBID_CONTENTS&&(rt===Ne&&(rt=al(rt)),vr(rt,K.FORBID_CONTENTS,Se)),Nt&&(q["#text"]=!0),ee&&vr(q,["html","head","body"]),q.table&&(vr(q,["tbody"]),delete ge.tbody),K.TRUSTED_TYPES_POLICY){if(typeof K.TRUSTED_TYPES_POLICY.createHTML!="function")throw Qm('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof K.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Qm('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');O=K.TRUSTED_TYPES_POLICY,_=O.createHTML("")}else O===void 0&&(O=epe(y,s)),O!==null&&typeof _=="string"&&(_=O.createHTML(""));ds&&ds(K),$e=K}},tt=vr({},[...MN,...AN,...Vme]),dt=vr({},[...ON,...Wme]),pt=function(K){let ke=S(K);(!ke||!ke.tagName)&&(ke={namespaceURI:Ue,tagName:"template"});const He=Zy(K.tagName),Pt=Zy(ke.tagName);return ne[K.namespaceURI]?K.namespaceURI===he?ke.namespaceURI===Je?He==="svg":ke.namespaceURI===We?He==="svg"&&(Pt==="annotation-xml"||et[Pt]):!!tt[He]:K.namespaceURI===We?ke.namespaceURI===Je?He==="math":ke.namespaceURI===he?He==="math"&&ct[Pt]:!!dt[He]:K.namespaceURI===Je?ke.namespaceURI===he&&!ct[Pt]||ke.namespaceURI===We&&!et[Pt]?!1:!dt[He]&&(pe[He]||!tt[He]):!!(B==="application/xhtml+xml"&&ne[K.namespaceURI]):!1},Ee=function(K){Xm(e.removed,{element:K});try{S(K).removeChild(K)}catch{v(K)}},Ye=function(K,ke){try{Xm(e.removed,{attribute:ke.getAttributeNode(K),from:ke})}catch{Xm(e.removed,{attribute:null,from:ke})}if(ke.removeAttribute(K),K==="is")if(Ke||ye)try{Ee(ke)}catch{}else try{ke.setAttribute(K,"")}catch{}},bt=function(K){let ke=null,He=null;if(Ge)K="<remove></remove>"+K;else{const Tt=_N(K,/^[\r\n\t ]+/);He=Tt&&Tt[0]}B==="application/xhtml+xml"&&Ue===Je&&(K='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+K+"</body></html>");const Pt=O?O.createHTML(K):K;if(Ue===Je)try{ke=new x().parseFromString(Pt,B)}catch{}if(!ke||!ke.documentElement){ke=A.createDocument(Ue,"template",null);try{ke.documentElement.innerHTML=ae?_:Pt}catch{}}const fr=ke.body||ke.documentElement;return K&&He&&fr.insertBefore(r.createTextNode(He),fr.childNodes[0]||null),Ue===Je?$.call(ke,ee?"html":"body")[0]:ee?ke.documentElement:fr},Qt=function(K){return E.call(K.ownerDocument||K,K,d.SHOW_ELEMENT|d.SHOW_COMMENT|d.SHOW_TEXT|d.SHOW_PROCESSING_INSTRUCTION|d.SHOW_CDATA_SECTION,null)},Dr=function(K){return K instanceof m&&(typeof K.nodeName!="string"||typeof K.textContent!="string"||typeof K.removeChild!="function"||!(K.attributes instanceof h)||typeof K.removeAttribute!="function"||typeof K.setAttribute!="function"||typeof K.namespaceURI!="string"||typeof K.insertBefore!="function"||typeof K.hasChildNodes!="function")},Vr=function(K){return typeof l=="function"&&K instanceof l};function Ot(Ze,K,ke){ry(Ze,He=>{He.call(e,K,ke,$e)})}const dr=function(K){let ke=null;if(Ot(L.beforeSanitizeElements,K,null),Dr(K))return Ee(K),!0;const He=Se(K.nodeName);if(Ot(L.uponSanitizeElement,K,{tagName:He,allowedTags:q}),se&&K.hasChildNodes()&&!Vr(K.firstElementChild)&&ts(/<[/\w!]/g,K.innerHTML)&&ts(/<[/\w!]/g,K.textContent)||K.nodeType===ep.progressingInstruction||se&&K.nodeType===ep.comment&&ts(/<[/\w]/g,K.data))return Ee(K),!0;if(!q[He]||ge[He]){if(!ge[He]&&Or(He)&&(le.tagNameCheck instanceof RegExp&&ts(le.tagNameCheck,He)||le.tagNameCheck instanceof Function&&le.tagNameCheck(He)))return!1;if(Nt&&!rt[He]){const Pt=S(K)||K.parentNode,fr=T(K)||K.childNodes;if(fr&&Pt){const Tt=fr.length;for(let Bt=Tt-1;Bt>=0;--Bt){const pr=j(fr[Bt],!0);pr.__removalCount=(K.__removalCount||0)+1,Pt.insertBefore(pr,N(K))}}}return Ee(K),!0}return K instanceof c&&!pt(K)||(He==="noscript"||He==="noembed"||He==="noframes")&&ts(/<\/no(script|embed|frames)/i,K.innerHTML)?(Ee(K),!0):(re&&K.nodeType===ep.text&&(ke=K.textContent,ry([R,z,Y],Pt=>{ke=Jm(ke,Pt," ")}),K.textContent!==ke&&(Xm(e.removed,{element:K.cloneNode()}),K.textContent=ke)),Ot(L.afterSanitizeElements,K,null),!1)},Rt=function(K,ke,He){if(mt&&(ke==="id"||ke==="name")&&(He in r||He in ue))return!1;if(!(xe&&!Le[ke]&&ts(W,ke))){if(!(Oe&&ts(H,ke))){if(!ie[ke]||Le[ke]){if(!(Or(K)&&(le.tagNameCheck instanceof RegExp&&ts(le.tagNameCheck,K)||le.tagNameCheck instanceof Function&&le.tagNameCheck(K))&&(le.attributeNameCheck instanceof RegExp&&ts(le.attributeNameCheck,ke)||le.attributeNameCheck instanceof Function&&le.attributeNameCheck(ke,K))||ke==="is"&&le.allowCustomizedBuiltInElements&&(le.tagNameCheck instanceof RegExp&&ts(le.tagNameCheck,He)||le.tagNameCheck instanceof Function&&le.tagNameCheck(He))))return!1}else if(!ut[ke]){if(!ts(te,Jm(He,F,""))){if(!((ke==="src"||ke==="xlink:href"||ke==="href")&&K!=="script"&&Fme(He,"data:")===0&&ze[K])){if(!(Me&&!ts(P,Jm(He,F,"")))){if(He)return!1}}}}}}return!0},Or=function(K){return K!=="annotation-xml"&&_N(K,X)},_e=function(K){Ot(L.beforeSanitizeAttributes,K,null);const{attributes:ke}=K;if(!ke||Dr(K))return;const He={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ie,forceKeepAttr:void 0};let Pt=ke.length;for(;Pt--;){const fr=ke[Pt],{name:Tt,namespaceURI:Bt,value:pr}=fr,xr=Se(Tt),yn=pr;let Cr=Tt==="value"?yn:Hme(yn);if(He.attrName=xr,He.attrValue=Cr,He.keepAttr=!0,He.forceKeepAttr=void 0,Ot(L.uponSanitizeAttribute,K,He),Cr=He.attrValue,nt&&(xr==="id"||xr==="name")&&(Ye(Tt,K),Cr=xt+Cr),se&&ts(/((--!?|])>)|<\/(style|title|textarea)/i,Cr)){Ye(Tt,K);continue}if(xr==="attributename"&&_N(Cr,"href")){Ye(Tt,K);continue}if(He.forceKeepAttr)continue;if(!He.keepAttr){Ye(Tt,K);continue}if(!Be&&ts(/\/>/i,Cr)){Ye(Tt,K);continue}re&&ry([R,z,Y],or=>{Cr=Jm(Cr,or," ")});const Ms=Se(K.nodeName);if(!Rt(Ms,xr,Cr)){Ye(Tt,K);continue}if(O&&typeof y=="object"&&typeof y.getAttributeType=="function"&&!Bt)switch(y.getAttributeType(Ms,xr)){case"TrustedHTML":{Cr=O.createHTML(Cr);break}case"TrustedScriptURL":{Cr=O.createScriptURL(Cr);break}}if(Cr!==yn)try{Bt?K.setAttributeNS(Bt,Tt,Cr):K.setAttribute(Tt,Cr),Dr(K)?Ee(K):mI(e.removed)}catch{Ye(Tt,K)}}Ot(L.afterSanitizeAttributes,K,null)},De=function Ze(K){let ke=null;const He=Qt(K);for(Ot(L.beforeSanitizeShadowDOM,K,null);ke=He.nextNode();)Ot(L.uponSanitizeShadowNode,ke,null),dr(ke),_e(ke),ke.content instanceof i&&Ze(ke.content);Ot(L.afterSanitizeShadowDOM,K,null)};return e.sanitize=function(Ze){let K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ke=null,He=null,Pt=null,fr=null;if(ae=!Ze,ae&&(Ze="<!-->"),typeof Ze!="string"&&!Vr(Ze))if(typeof Ze.toString=="function"){if(Ze=Ze.toString(),typeof Ze!="string")throw Qm("dirty is not a string, aborting")}else throw Qm("toString is not a function");if(!e.isSupported)return Ze;if(ve||Ae(K),e.removed=[],typeof Ze=="string"&&(wt=!1),wt){if(Ze.nodeName){const pr=Se(Ze.nodeName);if(!q[pr]||ge[pr])throw Qm("root node is forbidden and cannot be sanitized in-place")}}else if(Ze instanceof l)ke=bt("<!---->"),He=ke.ownerDocument.importNode(Ze,!0),He.nodeType===ep.element&&He.nodeName==="BODY"||He.nodeName==="HTML"?ke=He:ke.appendChild(He);else{if(!Ke&&!re&&!ee&&Ze.indexOf("<")===-1)return O&&ot?O.createHTML(Ze):Ze;if(ke=bt(Ze),!ke)return Ke?null:ot?_:""}ke&&Ge&&Ee(ke.firstChild);const Tt=Qt(wt?Ze:ke);for(;Pt=Tt.nextNode();)dr(Pt),_e(Pt),Pt.content instanceof i&&De(Pt.content);if(wt)return Ze;if(Ke){if(ye)for(fr=D.call(ke.ownerDocument);ke.firstChild;)fr.appendChild(ke.firstChild);else fr=ke;return(ie.shadowroot||ie.shadowrootmode)&&(fr=I.call(n,fr,!0)),fr}let Bt=ee?ke.outerHTML:ke.innerHTML;return ee&&q["!doctype"]&&ke.ownerDocument&&ke.ownerDocument.doctype&&ke.ownerDocument.doctype.name&&ts(Mq,ke.ownerDocument.doctype.name)&&(Bt="<!DOCTYPE "+ke.ownerDocument.doctype.name+`>
`+Bt),re&&ry([R,z,Y],pr=>{Bt=Jm(Bt,pr," ")}),O&&ot?O.createHTML(Bt):Bt},e.setConfig=function(){let Ze=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Ae(Ze),ve=!0},e.clearConfig=function(){$e=null,ve=!1},e.isValidAttribute=function(Ze,K,ke){$e||Ae({});const He=Se(Ze),Pt=Se(K);return Rt(He,Pt,ke)},e.addHook=function(Ze,K){typeof K=="function"&&Xm(L[Ze],K)},e.removeHook=function(Ze,K){if(K!==void 0){const ke=Lme(L[Ze],K);return ke===-1?void 0:$me(L[Ze],ke,1)[0]}return mI(L[Ze])},e.removeHooks=function(Ze){L[Ze]=[]},e.removeAllHooks=function(){L=vI()},e}var $l=Aq();function tpe(t,e){const[r,n]=g.useState(t);return g.useEffect(()=>{const s=setTimeout(()=>{n(t)},e);return()=>{clearTimeout(s)}},[t,e]),r}const ay=({title:t,value:e,change:r,icon:n})=>{const s=r.startsWith("+");return a.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),a.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),a.jsxs("p",{className:`mt-3 text-xs font-semibold ${s?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})},wI=({isOpen:t,onClose:e,title:r,children:n,className:s,maxWidth:i="max-w-xl"})=>a.jsx(kt,{children:t&&a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:a.jsxs(C.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${i} ${s||"w-full"}`,children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:r}),a.jsx("button",{onClick:e,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:a.jsx(at,{className:"text-xl"})})]}),a.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:n})]})})}),i_=(t,e,r,n)=>{if(t==null||e===null||e===void 0||r===null||r===void 0||n===null||n===void 0)return null;const s=t*60+e,i=r*60+n;let o=Math.abs(i-s);return o>720&&(o=1440-o),o},o_=t=>{if(t==null||isNaN(t)||t<0)return"-";const e=Math.floor(t/60),r=t%60;return t===0?"0min":e===0&&r>0?`${r}min`:e>0&&r===0?`${e}h`:`${e}h ${r}min`},rpe=({record:t,onClose:e})=>{const r=(m,x)=>{if(m==null||x===null||x===void 0)return"-";const y=m.toString().padStart(2,"0"),w=x.toString().padStart(2,"0");return`${y}:${w}`},n=m=>m==null?"-":typeof m=="object"?m.name||JSON.stringify(m):typeof m=="string"?m.trim()!==""?m.trim():"-":typeof m=="number"?m.toLocaleString("id-ID"):String(m),s=i_(t.stopJam,t.stopMenit,t.startJam,t.startMenit),i=o_(s),o=({status:m})=>{const x={PM:"bg-blue-100 text-blue-800 border-blue-300",Harmonisasi:"bg-green-100 text-green-800 border-green-300",CIP:"bg-purple-100 text-purple-800 border-purple-300",Unplanned:"bg-red-100 text-red-800 border-red-300",Standby:"bg-yellow-100 text-yellow-800 border-yellow-300"};return a.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold border ${x[m]||"bg-gray-100 text-gray-800 border-gray-300"}`,children:m})},l=({activity:m})=>{const x={Perbaikan:"bg-orange-100 text-orange-800 border-orange-300",Perawatan:"bg-cyan-100 text-cyan-800 border-cyan-300"};return a.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold border ${x[m]||"bg-gray-100 text-gray-800 border-gray-300"}`,children:m})},c=({title:m,children:x,icon:y})=>a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[a.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-4 border-b border-gray-200",children:a.jsxs("div",{className:"flex items-center",children:[y&&a.jsx("div",{className:"mr-3 text-blue-600",children:y}),a.jsx("h3",{className:"text-lg font-bold text-gray-900",children:m})]})}),a.jsx("div",{className:"p-6",children:x})]}),d=({label:m,value:x,icon:y,fullWidth:w=!1,priority:j="medium"})=>{const v={high:"border-l-4 border-l-blue-500 bg-blue-25",medium:"border-l-2 border-l-gray-200",low:"border-l border-l-gray-100"};return a.jsx("div",{className:`${w?"col-span-full":""}`,children:a.jsx("div",{className:`p-4 rounded-lg ${v[j]} transition-all duration-200 hover:shadow-sm`,children:a.jsxs("div",{className:"flex items-start space-x-3",children:[y&&a.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:y}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1",children:m}),a.jsx("p",{className:"text-sm font-medium text-gray-900 leading-relaxed",children:x})]})]})})})},h=({label:m,htmlContent:x,icon:y,fullWidth:w=!1})=>{if(!x)return a.jsx(d,{label:m,value:"-",icon:y,fullWidth:w,priority:"low"});const j=$l.sanitize(x,{ALLOWED_TAGS:["h1","h2","h3","h4","h5","h6","p","br","span","div","ol","ul","li","strong","b","em","i","u","s","strike","code","mark","sub","sup","blockquote","pre"],ALLOWED_ATTR:["style","class","data-color","align","type","start"]});return a.jsx("div",{className:`${w?"col-span-full":""}`,children:a.jsx("div",{className:"p-4 rounded-lg border-l-2 border-l-blue-200 bg-blue-25 transition-all duration-200 hover:shadow-sm",children:a.jsxs("div",{className:"flex items-start space-x-3",children:[y&&a.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:y}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:m}),a.jsx("div",{className:`rich-text-content text-sm text-gray-900 leading-relaxed prose prose-sm max-w-none\r
                          prose-headings:font-semibold prose-p:my-2 prose-ul:my-2 prose-ol:my-2\r
                          prose-li:my-1 prose-strong:font-semibold prose-em:italic`,dangerouslySetInnerHTML:{__html:j}})]})]})})})};return a.jsxs("div",{className:"space-y-6 max-h-[70vh] overflow-y-auto custom-scrollbar pr-2",children:[a.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6",children:a.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Maintenance Record"}),a.jsx(l,{activity:t.perbaikanPerawatan}),a.jsx(o,{status:t.stopTime})]}),a.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(xn,{className:"w-4 h-4"}),"Date: ",n(t.date)]}),a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(Lt,{className:"w-4 h-4"}),"Duration: ",n(i)]}),a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(pn,{className:"w-4 h-4"}),"Machine: ",n(t.mesin)]})]})]})})}),a.jsx(c,{title:"Basic Information",icon:a.jsx(ir,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsx(d,{label:"Date",value:n(t.date),icon:a.jsx(xn,{className:"w-4 h-4"}),priority:"high"}),a.jsx(d,{label:"Shift",value:n(t.shift),icon:a.jsx(Lt,{className:"w-4 h-4"})}),a.jsx(d,{label:"Group",value:n(t.group),icon:a.jsx(xa,{className:"w-4 h-4"})}),a.jsx(d,{label:"Machine",value:n(t.mesin),icon:a.jsx(Tn,{className:"w-4 h-4"}),priority:"high"}),a.jsx(d,{label:"Unit",value:n(t.unit),icon:a.jsx(kn,{className:"w-4 h-4"})}),a.jsx(d,{label:"Running Hour",value:n(t.runningHour),icon:a.jsx(Lt,{className:"w-4 h-4"})})]})}),a.jsx(c,{title:"Time Details",icon:a.jsx(Lt,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsx(d,{label:"Stop Time",value:r(t.stopJam,t.stopMenit),icon:a.jsx(Lt,{className:"w-4 h-4"}),priority:"high"}),a.jsx(d,{label:"Start Time",value:r(t.startJam,t.startMenit),icon:a.jsx(Lt,{className:"w-4 h-4"}),priority:"high"}),a.jsx(d,{label:"Duration",value:n(i),icon:a.jsx(Lt,{className:"w-4 h-4"}),priority:"high"}),a.jsx(d,{label:"Stop Type",value:n(t.stopTime),icon:a.jsx(er,{className:"w-4 h-4"})})]})}),a.jsx(c,{title:"Issue & Problem Details",icon:a.jsx(er,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(d,{label:"Item Trouble",value:n(t.itemTrouble),icon:a.jsx(pn,{className:"w-4 h-4"}),priority:"high"}),a.jsx(d,{label:"Issue Description",value:n(t.jenisGangguan),icon:a.jsx(er,{className:"w-4 h-4"}),priority:"high"}),a.jsx(h,{label:"Action Taken",htmlContent:t.bentukTindakan||"",icon:a.jsx($t,{className:"w-4 h-4"}),fullWidth:!0}),a.jsx(d,{label:"Root Cause",value:n(t.rootCause),icon:a.jsx(Wn,{className:"w-4 h-4"}),fullWidth:!0})]})}),a.jsx(c,{title:"Maintenance Activity",icon:a.jsx(pn,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(d,{label:"Activity Type",value:n(t.perbaikanPerawatan),icon:a.jsx(Tn,{className:"w-4 h-4"}),priority:"high"}),a.jsx(d,{label:"Specific Activity",value:n(t.jenisAktivitas),icon:a.jsx(pn,{className:"w-4 h-4"})}),a.jsx(d,{label:"Kegiatan",value:n(t.kegiatan),icon:a.jsx(ir,{className:"w-4 h-4"}),fullWidth:!0})]})}),a.jsx(c,{title:"Spare Parts Used",icon:a.jsx(kn,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsx(d,{label:"Part Code",value:n(t.kodePart),icon:a.jsx(kn,{className:"w-4 h-4"})}),a.jsx(d,{label:"Part Name",value:n(t.sparePart),icon:a.jsx(kn,{className:"w-4 h-4"}),priority:"high"}),a.jsx(d,{label:"ID Part",value:n(t.idPart),icon:a.jsx(Gf,{className:"w-4 h-4"})}),a.jsx(d,{label:"Quantity",value:n(t.jumlah),icon:a.jsx(Ui,{className:"w-4 h-4"})}),a.jsx(d,{label:"Unit",value:n(t.unitSparePart),icon:a.jsx(kn,{className:"w-4 h-4"}),fullWidth:!0})]})}),a.jsx(c,{title:"Event Timeline",icon:a.jsx(Lt,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center p-3 bg-red-50 rounded-lg border border-red-200",children:[a.jsx("span",{className:"text-sm font-medium text-red-800",children:"Machine Stopped"}),a.jsx("span",{className:"text-sm text-red-600",children:r(t.stopJam,t.stopMenit)})]}),a.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg border border-blue-200",children:[a.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Maintenance Started"}),a.jsx("span",{className:"text-sm text-blue-600",children:r(t.startJam,t.startMenit)})]}),a.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-lg border border-green-200",children:[a.jsx("span",{className:"text-sm font-medium text-green-800",children:"Total Downtime"}),a.jsx("span",{className:"text-sm text-green-600",children:n(i)})]})]})}),a.jsx(c,{title:"Technical Summary",icon:a.jsx(Ui,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"p-4 bg-blue-25 rounded-lg border-l-4 border-l-blue-400",children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Maintenance Type"}),a.jsx("p",{className:"text-lg font-bold text-blue-600",children:n(t.perbaikanPerawatan)})]}),a.jsxs("div",{className:"p-4 bg-green-25 rounded-lg border-l-4 border-l-green-400",children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Efficiency Impact"}),a.jsxs("p",{className:"text-lg font-bold text-green-600",children:[n(i)," downtime"]})]})]})}),a.jsx("div",{className:"flex justify-end pt-6 border-t border-gray-100 mt-8",children:a.jsx(C.button,{type:"button",onClick:e,whileHover:{scale:1.03,boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.97},className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold",children:"Close Details"})})]})},npe=()=>{const[t,e]=g.useState(()=>{const _e=localStorage.getItem("sidebarOpen");return _e?JSON.parse(_e):!1}),[r,n]=g.useState(""),[s,i]=g.useState(!1),[o,l]=g.useState([]),[c,d]=g.useState([]),[h,m]=g.useState(!1),[x,y]=g.useState(!1),[w,j]=g.useState(null),[v,N]=g.useState(1),[T]=g.useState(10),{user:S,getMachineHistories:O,deleteMachineHistory:_,isAuthenticated:A,isMasterDataLoading:E,hasPermission:D}=St(),[$,I]=g.useState([]),[L,R]=g.useState([]),[z,Y]=g.useState(!0),[W,H]=g.useState(null),[P,F]=g.useState([]),X=jt(),[te,q]=g.useState(window.innerWidth<768),[Z,ie]=g.useState(!1),[oe,le]=g.useState(null),[ge,Le]=g.useState(null),[Oe,xe]=g.useState(null),[Me,Be]=g.useState([]),[re,se]=g.useState(!1),[ee,ve]=g.useState(!1),Ge=g.useRef(null),Ke=g.useRef(null),[ye,ot]=g.useState({key:"date",direction:"descending"}),[mt,nt]=g.useState(!1),xt=g.useRef(null),Nt=g.useRef(null),[wt,zt]=g.useState(!1),[rt,Ne]=g.useState(!1),[ze,we]=g.useState(null),[ut,ht]=g.useState(!1),We=g.useRef(null),[he,Je]=g.useState(!1),Ue=g.useRef(null),ae=location.pathname==="/machinehistory",ne=location.pathname==="/machinehistory/reports",Te=tpe(r,300),et=g.useMemo(()=>[{id:"machine",name:"Machine Name"},{id:"issue",name:"Issue Description"},{id:"recordId",name:"Record ID"},{id:"itemTrouble",name:"Item Trouble"}],[]),ct=g.useMemo(()=>[{value:"Perbaikan",label:"Repairs"},{value:"Perawatan",label:"Maintenance"}],[]),pe=g.useMemo(()=>[{value:"1",label:"Shift 1"},{value:"2",label:"Shift 2"},{value:"3",label:"Shift 3"}],[]),B=g.useCallback(async()=>{try{Y(!0);const _e=await O();I(_e||[]),R(_e||[]);const De=Array.from(new Set(_e.map(Ze=>Ze.mesin))).filter(Boolean).map(Ze=>({id:Ze,name:Ze}));F(De)}catch(_e){console.error("Failed to load data:",_e),I([]),F([])}finally{Y(!1)}},[O]),ce=_e=>{const De=_e.target.value;n(De)};g.useEffect(()=>{N(1)},[]),g.useEffect(()=>{B()},[B]),g.useEffect(()=>{let _e=[...$];if(Te.trim()){const De=Te.toLowerCase().trim();_e=_e.filter(Ze=>{var pr,xr,yn,Cr;const K=De.split(":");let ke="all",He=De;K.length>1&&et.some(Ms=>Ms.name.toLowerCase()===K[0].trim())&&(ke=K[0].trim(),He=K.slice(1).join(":").trim());const Pt=(pr=Ze.mesin)==null?void 0:pr.toLowerCase().includes(He),fr=(xr=Ze.jenisGangguan)==null?void 0:xr.toLowerCase().includes(He),Tt=(yn=Ze.id)==null?void 0:yn.toLowerCase().includes(He),Bt=(Cr=Ze.itemTrouble)==null?void 0:Cr.toLowerCase().includes(He);return ke==="machine name"?Pt:ke==="issue description"?fr:ke==="record id"?Tt:ke==="item trouble"?Bt:Pt||fr||Tt||Bt})}if(ge){const De=new Date(ge);De.setHours(0,0,0,0),_e=_e.filter(Ze=>{const K=new Date(Ze.date);return K.setHours(0,0,0,0),K>=De})}if(Oe){const De=new Date(Oe);De.setHours(23,59,59,999),_e=_e.filter(Ze=>{const K=new Date(Ze.date);return K.setHours(0,0,0,0),K<=De})}o.length>0&&(_e=_e.filter(De=>o.includes(De.perbaikanPerawatan))),c.length>0&&(_e=_e.filter(De=>c.includes(De.mesin))),Me.length>0&&(_e=_e.filter(De=>Me.includes(De.shift))),ye!==null&&_e.sort((De,Ze)=>{const K=ue(De[ye.key]),ke=ue(Ze[ye.key]);return K<ke?ye.direction==="ascending"?-1:1:K>ke?ye.direction==="ascending"?1:-1:0}),R(_e)},[$,Te,ge,Oe,o,c,Me,ye,et,ct,pe]),g.useEffect(()=>{const _e=()=>{q(window.innerWidth<768),window.innerWidth<768&&e(!1)};return window.addEventListener("resize",_e),()=>window.removeEventListener("resize",_e)},[]),g.useEffect(()=>{const _e=De=>{Ge.current&&!Ge.current.contains(De.target)&&se(!1),Ke.current&&!Ke.current.contains(De.target)&&ve(!1),xt.current&&!xt.current.contains(De.target)&&!De.target.closest(".search-suggestions")&&nt(!1),Nt.current&&!Nt.current.contains(De.target)&&!De.target.closest(".machine-filter-toggle")&&zt(!1),We.current&&!We.current.contains(De.target)&&!De.target.closest(".status-filter-toggle")&&ht(!1),Ue.current&&!Ue.current.contains(De.target)&&!De.target.closest(".shift-filter-toggle")&&Je(!1)};return document.addEventListener("mousedown",_e),()=>{document.removeEventListener("mousedown",_e)}},[]);const be=J.useMemo(()=>{if(!r)return et;const _e=r.toLowerCase();return et.filter(De=>De.name.toLowerCase().includes(_e))},[r,et]),Se=_e=>{var De;n(`${_e}: `),nt(!1),(De=xt.current)==null||De.focus()},$e=_e=>{let De="ascending";ye&&ye.key===_e&&ye.direction==="ascending"&&(De="descending"),ot({key:_e,direction:De})},ue=_e=>typeof _e=="object"&&_e!==null?_e.name||_e.toString():(_e==null?void 0:_e.toString())||"",fe=async _e=>{try{await _(_e),I($.filter(De=>De.id!==_e)),ie(!1),le(null)}catch(De){console.error("Failed to delete record:",De),H("Failed to delete record. Please try again.")}},Ae=v*T,tt=Ae-T,dt=L.slice(tt,Ae),pt=Math.ceil(L.length/T),Ee=_e=>N(_e),Ye=(_e,De)=>{if(_e==null||De===null||De===void 0)return"-";const Ze=_e.toString().padStart(2,"0"),K=De.toString().padStart(2,"0");return`${Ze}:${K}`},bt=_e=>{const De=i_(_e.stopJam,_e.stopMenit,_e.startJam,_e.startMenit);return o_(De)},Qt=_e=>{switch((_e||"").toLowerCase().trim()){case"pm":return"bg-blue-100 text-blue-800 border border-blue-200";case"harmonisasi":return"bg-green-100 text-green-800 border border-green-200";case"cip":return"bg-purple-100 text-purple-800 border border-purple-200";case"unplanned":return"bg-red-100 text-red-800 border border-red-200";case"standby":return"bg-yellow-100 text-yellow-800 border border-yellow-200";default:return"bg-gray-100 text-gray-800 border border-gray-200"}},Dr=(_e,De)=>{d(De?Ze=>[...Ze,_e]:Ze=>Ze.filter(K=>K!==_e))},Vr=(_e,De)=>{l(De?Ze=>[...Ze,_e]:Ze=>Ze.filter(K=>K!==_e))},Ot=(_e,De)=>{Be(De?Ze=>[...Ze,_e]:Ze=>Ze.filter(K=>K!==_e))},dr=()=>{alert("Import functionality is not yet implemented.")},Rt=_e=>{j(_e),y(!0)},Or=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!t)),e(_e=>!_e)};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Mt,{mainTitle:"Machine History",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:a.jsx(og,{}),isMobile:te,toggleSidebar:Or}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"isi style mb-6 flex space-x-6 border-b border-gray-200",children:[a.jsx(C.div,{whileTap:{scale:.98},onClick:()=>X("machinehistory"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${ae?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Record"}),a.jsx(C.div,{whileTap:{scale:.98},onClick:()=>X("/machinehistory/reports"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${ne?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Reports"})]}),a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Machine History ",a.jsx("span",{className:"text-blue-600",children:"Records"})]}),a.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Effortlessly track, analyze, and manage machine downtime and maintenance activities to optimize factory operations."})]}),a.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[D("create_machine_history")&&a.jsxs(C.button,{onClick:()=>X("/machinehistory/addmachinehistory"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[a.jsx(Jn,{className:"text-base"}),a.jsx("span",{children:"Add Record"})]}),a.jsxs(C.button,{onClick:dr,whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(Ja,{className:"text-base"}),a.jsx("span",{children:"Import"})]}),a.jsxs(C.button,{onClick:()=>m(!h),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(Xa,{className:"text-base"}),a.jsx("span",{children:"Filters"}),a.jsx(C.span,{animate:{rotate:h?180:0},transition:{duration:.2},children:a.jsx(cn,{className:"text-base"})})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[a.jsx(ay,{title:"Total Records",value:L.length.toLocaleString("id-ID"),change:"+8%",icon:a.jsx(ir,{})}),a.jsx(ay,{title:"Avg Durationtime",value:L.length>0?o_(Math.round(L.reduce((_e,De)=>{const Ze=i_(De.stopJam,De.stopMenit,De.startJam,De.startMenit)||0;return _e+Ze},0)/L.length)):"0min",change:"-5%",icon:a.jsx(Lt,{})}),a.jsx(ay,{title:"Repairs",value:L.filter(_e=>_e.perbaikanPerawatan==="Perbaikan").length.toLocaleString("id-ID"),change:"+3",icon:a.jsx(pn,{})}),a.jsx(ay,{title:"Maintenance",value:L.filter(_e=>_e.perbaikanPerawatan==="Perawatan").length.toLocaleString("id-ID"),change:"+2",icon:a.jsx($t,{})})]}),a.jsxs(C.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[a.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Wn,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),a.jsx("input",{ref:xt,type:"text",placeholder:"Search by machine, ID, or issue...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:r,onChange:ce,onFocus:()=>nt(!0),"aria-label":"Search records"}),a.jsx(kt,{children:mt&&be.length>0&&a.jsx(C.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.15},className:"search-suggestions absolute left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-10 max-h-56 overflow-y-auto custom-scrollbar",children:be.map(_e=>a.jsx(C.button,{onClick:()=>Se(_e.name),whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},className:"w-full text-left p-3 text-gray-700 hover:text-blue-700 transition-colors duration-150 text-sm",role:"option",children:a.jsx("span",{className:"font-semibold",children:_e.name})},_e.id))})})]})}),a.jsx(kt,{children:h&&a.jsxs(C.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full",children:[a.jsxs("div",{className:"flex items-center space-x-2 bg-white p-2.5 rounded-lg border border-blue-200 shadow-sm",children:[a.jsx(xn,{className:"text-gray-500 text-base"}),a.jsx(zc,{selected:ge,onChange:_e=>Le(_e),selectsStart:!0,startDate:ge,endDate:Oe,placeholderText:"Start Date",className:"w-24 focus:outline-none bg-transparent text-sm text-gray-800 placeholder-gray-400",dateFormat:"dd/MM/yyyy",isClearable:!0,"aria-label":"Start Date"}),a.jsx("span",{className:"text-gray-400",children:"-"}),a.jsx(zc,{selected:Oe,onChange:_e=>xe(_e),selectsEnd:!0,startDate:ge,endDate:Oe,minDate:ge||void 0,placeholderText:"End Date",className:"w-24 focus:outline-none bg-transparent text-sm text-gray-800 placeholder-gray-400",dateFormat:"dd/MM/yyyy",isClearable:!0,"aria-label":"End Date"}),(ge||Oe)&&a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{Le(null),xe(null)},className:"p-1 rounded-full text-gray-400 hover:bg-gray-100 transition-colors",title:"Clear Dates","aria-label":"Clear date range",children:a.jsx(at,{className:"text-base"})})]}),a.jsxs("div",{ref:We,className:"relative w-full",children:[a.jsxs("button",{type:"button",className:"status-filter-toggle w-full border border-blue-200 rounded-lg px-4 py-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm text-left flex justify-between items-center transition-all duration-200 shadow-sm cursor-pointer",onClick:_e=>{_e.stopPropagation(),ht(!ut)},"aria-expanded":ut,"aria-haspopup":"true","aria-label":"Filter by Type",children:[a.jsx("span",{children:o.length>0?o.length===ct.length?"All Types":`Selected (${o.length})`:"All Types"}),a.jsx(cn,{className:`transform transition-transform ${ut?"rotate-180":"rotate-0"} text-gray-500 text-base`})]}),a.jsx(kt,{children:ut&&a.jsxs(C.div,{initial:{opacity:0,y:5,height:0},animate:{opacity:1,y:0,height:"auto"},exit:{opacity:0,y:5,height:0},transition:{duration:.15},className:"absolute top-full left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-50 max-h-56 overflow-y-auto custom-scrollbar",role:"listbox",children:[a.jsxs("label",{className:"flex items-center p-2.5 hover:bg-blue-50 cursor-pointer border-b border-blue-50",role:"option",children:[a.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 rounded focus:ring-blue-500 transition duration-150 ease-in-out",checked:o.length===ct.length&&ct.length>0,onChange:_e=>{_e.target.checked?l(ct.map(De=>De.value)):l([])}}),a.jsx("span",{className:"ml-2 text-gray-800 font-semibold text-sm",children:"Select All"})]}),ct.map(_e=>a.jsxs("label",{className:"flex items-center p-2.5 hover:bg-blue-50 cursor-pointer",role:"option",children:[a.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 rounded focus:ring-blue-500 transition duration-150 ease-in-out",checked:o.includes(_e.value),onChange:De=>Vr(_e.value,De.target.checked)}),a.jsx("span",{className:"ml-2 text-gray-800 text-sm",children:_e.label})]},_e.value))]})})]}),a.jsxs("div",{ref:Nt,className:"relative w-full",children:[a.jsxs("button",{type:"button",className:"machine-filter-toggle w-full border border-blue-200 rounded-lg px-4 py-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm text-left flex justify-between items-center transition-all duration-200 shadow-sm cursor-pointer",onClick:()=>zt(!wt),"aria-expanded":wt,"aria-haspopup":"true","aria-label":"Filter by Machine",children:[a.jsx("span",{children:c.length>0?c.length===P.length&&P.length>0?"All Machines":`Selected (${c.length})`:"All Machines"}),a.jsx(cn,{className:`transform transition-transform ${wt?"rotate-180":"rotate-0"} text-gray-500 text-base`})]}),a.jsx(kt,{children:wt&&a.jsxs(C.div,{initial:{opacity:0,y:5,height:0},animate:{opacity:1,y:0,height:"auto"},exit:{opacity:0,y:5,height:0},transition:{duration:.15},className:"absolute top-full left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-20 max-h-56 overflow-y-auto custom-scrollbar",role:"listbox",children:[a.jsxs("label",{className:"flex items-center p-2.5 hover:bg-blue-50 cursor-pointer border-b border-blue-50",role:"option",children:[a.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 rounded focus:ring-blue-500 transition duration-150 ease-in-out",checked:c.length===P.length&&P.length>0,onChange:_e=>{_e.target.checked?d(P.map(De=>De.name)):d([])}}),a.jsx("span",{className:"ml-2 text-gray-800 font-semibold text-sm",children:"Select All"})]}),P.map(_e=>a.jsxs("label",{className:"flex items-center p-2.5 hover:bg-blue-50 cursor-pointer",role:"option",children:[a.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 rounded focus:ring-blue-500 transition duration-150 ease-in-out",checked:c.includes(_e.name),onChange:De=>Dr(_e.name,De.target.checked)}),a.jsx("span",{className:"ml-2 text-gray-800 text-sm",children:_e.name})]},_e.id))]})})]}),a.jsxs("div",{ref:Ue,className:"relative w-full",children:[a.jsxs("button",{type:"button",className:"shift-filter-toggle w-full border border-blue-200 rounded-lg px-4 py-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm text-left flex justify-between items-center transition-all duration-200 shadow-sm cursor-pointer",onClick:_e=>{_e.stopPropagation(),Je(!he)},"aria-expanded":he,"aria-haspopup":"true","aria-label":"Filter by Shift",children:[a.jsx("span",{children:Me.length>0?Me.length===pe.length?"All Shifts":`Selected (${Me.length})`:"All Shifts"}),a.jsx(cn,{className:`transform transition-transform ${he?"rotate-180":"rotate-0"} text-gray-500 text-base`})]}),a.jsx(kt,{children:he&&a.jsxs(C.div,{initial:{opacity:0,y:5,height:0},animate:{opacity:1,y:0,height:"auto"},exit:{opacity:0,y:5,height:0},transition:{duration:.15},className:"absolute top-full left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-50 max-h-56 overflow-y-auto custom-scrollbar",role:"listbox",children:[a.jsxs("label",{className:"flex items-center p-2.5 hover:bg-blue-50 cursor-pointer border-b border-blue-50",role:"option",children:[a.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 rounded focus:ring-blue-500 transition duration-150 ease-in-out",checked:Me.length===pe.length&&pe.length>0,onChange:_e=>{_e.target.checked?Be(pe.map(De=>De.value)):Be([])}}),a.jsx("span",{className:"ml-2 text-gray-800 font-semibold text-sm",children:"Select All"})]}),pe.map(_e=>a.jsxs("label",{className:"flex items-center p-2.5 hover:bg-blue-50 cursor-pointer",role:"option",children:[a.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 rounded focus:ring-blue-500 transition duration-150 ease-in-out",checked:Me.includes(_e.value),onChange:De=>Ot(_e.value,De.target.checked)}),a.jsx("span",{className:"ml-2 text-gray-800 text-sm",children:_e.label})]},_e.value))]})})]})]})})]}),z?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),a.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading machine history data..."})]}):L.length===0?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx(sa,{className:"text-blue-500 text-4xl mx-auto mb-4"}),a.jsx("p",{className:"text-gray-700 text-base font-medium",children:Te||o.length>0||c.length>0||ge||Oe||Me.length>0?"No records found matching your filters.":"No records available."}),(Te||o.length>0||c.length>0||ge||Oe||Me.length>0)&&a.jsx("button",{onClick:()=>{n(""),l([]),d([]),Le(null),xe(null),Be([])},className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear All Filters"})]}):a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:a.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:a.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[a.jsx("thead",{className:"bg-blue-50",children:a.jsxs("tr",{children:[a.jsxs("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider cursor-pointer",onClick:()=>$e("date"),children:["Date",(ye==null?void 0:ye.key)==="date"&&a.jsx("span",{className:"ml-1",children:ye.direction==="ascending"?"":""})]}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Machine"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Shift/Group"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Durationtime"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Issue"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:dt.map(_e=>a.jsxs(C.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[a.jsxs("td",{className:"px-5 py-3 whitespace-nowrap",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:_e.date}),a.jsxs("div",{className:"text-xs text-gray-600",children:[Ye(_e.stopJam,_e.stopMenit)," - ",Ye(_e.startJam,_e.startMenit)]})]}),a.jsxs("td",{className:"px-5 py-3 whitespace-nowrap",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:_e.mesin}),a.jsx("div",{className:"text-xs text-gray-600",children:_e.unit})]}),a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsxs("div",{className:"text-sm text-gray-900",children:["Shift ",_e.shift,", Group ",_e.group]})}),a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:bt(_e)})}),a.jsxs("td",{className:"px-5 py-3",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:_e.itemTrouble}),a.jsx("div",{className:"text-xs text-gray-600 truncate max-w-xs",children:_e.jenisGangguan})]}),a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx(C.span,{whileHover:{scale:1.03},className:`px-2.5 py-0.5 inline-flex text-xs leading-5 font-bold rounded-full shadow-sm ${Qt(_e.stopTime)}`,children:_e.stopTime})}),a.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>X(`/machinehistory/edit/${_e.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit","aria-label":`Edit record for machine ${_e.mesin} on ${_e.date}`,children:a.jsx(Bn,{className:"inline text-base"})}),a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{le(_e.id),ie(!0)},className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete","aria-label":`Delete record for machine ${_e.mesin} on ${_e.date}`,children:a.jsx(dn,{className:"inline text-base"})}),a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>Rt(_e),className:"text-blue-600 hover:text-blue-800 transition-colors duration-200 p-1 rounded-full hover:bg-blue-50",title:"View Details","aria-label":`View details for record for machine ${_e.mesin} on ${_e.date}`,children:a.jsx(us,{className:"inline text-base"})})]})]},_e.id))})]})})}),L.length>T&&a.jsxs(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"mt-8 flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0",children:[a.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",a.jsx("span",{className:"font-semibold",children:tt+1})," to ",a.jsx("span",{className:"font-semibold",children:Math.min(Ae,L.length)})," of"," ",a.jsx("span",{className:"font-semibold",children:L.length})," results"]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>Ee(v-1),disabled:v===1,className:"px-4 py-2 border border-blue-200 rounded-md bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm font-medium text-sm","aria-label":"Previous page",children:"Previous"}),Array.from({length:pt},(_e,De)=>a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>Ee(De+1),className:`px-3.5 py-2 rounded-md transition-colors duration-200 shadow-sm font-medium text-sm
                      ${v===De+1?"bg-blue-600 text-white shadow-md":"bg-white text-gray-700 hover:bg-blue-50 border border-blue-200"}
                    `,"aria-label":`Go to page ${De+1}`,children:De+1},De+1)),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>Ee(v+1),disabled:v===pt,className:"px-4 py-2 border border-blue-200 rounded-md bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm font-medium text-sm","aria-label":"Next page",children:"Next"})]})]})]})]}),w&&a.jsx(wI,{isOpen:x,onClose:()=>{y(!1),j(null)},title:"Machine History Details",maxWidth:"max-w-4xl",children:a.jsx(rpe,{record:w,onClose:()=>y(!1)})}),a.jsx(wI,{isOpen:Z,onClose:()=>ie(!1),title:"Confirm Deletion",children:a.jsxs("div",{className:"space-y-5 text-center py-3",children:[a.jsx(er,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),a.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this record? This action cannot be undone."}),a.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>ie(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>oe&&fe(oe),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})]})};function ad(t){"@babel/helpers - typeof";return ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ad(t)}function ape(t,e){if(ad(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ad(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Oq(t){var e=ape(t,"string");return ad(e)=="symbol"?e:e+""}function xp(t,e,r){return(e=Oq(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Ut(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jI(Object(r),!0).forEach(function(n){xp(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function spe(t){if(Array.isArray(t))return t}function ipe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(h){d=!0,s=h}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function l_(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Eq(t,e){if(t){if(typeof t=="string")return l_(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l_(t,e):void 0}}function ope(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wl(t,e){return spe(t)||ipe(t,e)||Eq(t,e)||ope()}function lpe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Po(t,e){if(t==null)return{};var r,n,s=lpe(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(s[r]=t[r])}return s}var cpe=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function Dq(t){var e=t.defaultInputValue,r=e===void 0?"":e,n=t.defaultMenuIsOpen,s=n===void 0?!1:n,i=t.defaultValue,o=i===void 0?null:i,l=t.inputValue,c=t.menuIsOpen,d=t.onChange,h=t.onInputChange,m=t.onMenuClose,x=t.onMenuOpen,y=t.value,w=Po(t,cpe),j=g.useState(l!==void 0?l:r),v=wl(j,2),N=v[0],T=v[1],S=g.useState(c!==void 0?c:s),O=wl(S,2),_=O[0],A=O[1],E=g.useState(y!==void 0?y:o),D=wl(E,2),$=D[0],I=D[1],L=g.useCallback(function(F,X){typeof d=="function"&&d(F,X),I(F)},[d]),R=g.useCallback(function(F,X){var te;typeof h=="function"&&(te=h(F,X)),T(te!==void 0?te:F)},[h]),z=g.useCallback(function(){typeof x=="function"&&x(),A(!0)},[x]),Y=g.useCallback(function(){typeof m=="function"&&m(),A(!1)},[m]),W=l!==void 0?l:N,H=c!==void 0?c:_,P=y!==void 0?y:$;return Ut(Ut({},w),{},{inputValue:W,menuIsOpen:H,onChange:L,onInputChange:R,onMenuClose:Y,onMenuOpen:z,value:P})}function Xt(){return Xt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Xt.apply(null,arguments)}function upe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SI(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Oq(n.key),n)}}function dpe(t,e,r){return e&&SI(t.prototype,e),r&&SI(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function c_(t,e){return c_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},c_(t,e)}function fpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c_(t,e)}function Rb(t){return Rb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Rb(t)}function Pq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Pq=function(){return!!t})()}function hpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mpe(t,e){if(e&&(ad(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hpe(t)}function ppe(t){var e=Pq();return function(){var r,n=Rb(t);if(e){var s=Rb(this).constructor;r=Reflect.construct(n,arguments,s)}else r=n.apply(this,arguments);return mpe(this,r)}}function gpe(t){if(Array.isArray(t))return l_(t)}function xpe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ype(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function If(t){return gpe(t)||xpe(t)||Eq(t)||ype()}function bpe(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function vpe(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var wpe=(function(){function t(r){var n=this;this._insertTag=function(s){var i;n.tags.length===0?n.insertionPoint?i=n.insertionPoint.nextSibling:n.prepend?i=n.container.firstChild:i=n.before:i=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(s,i),n.tags.push(s)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(n){n.forEach(this._insertTag)},e.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(vpe(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var i=bpe(s);try{i.insertRule(n,i.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(n));this.ctr++},e.flush=function(){this.tags.forEach(function(n){var s;return(s=n.parentNode)==null?void 0:s.removeChild(n)}),this.tags=[],this.ctr=0},t})(),Va="-ms-",Ib="-moz-",Hr="-webkit-",Rq="comm",gO="rule",xO="decl",jpe="@import",Iq="@keyframes",Spe="@layer",Npe=Math.abs,Ww=String.fromCharCode,kpe=Object.assign;function Cpe(t,e){return $a(t,0)^45?(((e<<2^$a(t,0))<<2^$a(t,1))<<2^$a(t,2))<<2^$a(t,3):0}function Lq(t){return t.trim()}function Tpe(t,e){return(t=e.exec(t))?t[0]:t}function Br(t,e,r){return t.replace(e,r)}function u_(t,e){return t.indexOf(e)}function $a(t,e){return t.charCodeAt(e)|0}function a0(t,e,r){return t.slice(e,r)}function oo(t){return t.length}function yO(t){return t.length}function sy(t,e){return e.push(t),t}function _pe(t,e){return t.map(e).join("")}var qw=1,th=1,$q=0,Ts=0,ia=0,Bh="";function Uw(t,e,r,n,s,i,o){return{value:t,root:e,parent:r,type:n,props:s,children:i,line:qw,column:th,length:o,return:""}}function tp(t,e){return kpe(Uw("",null,null,"",null,null,0),t,{length:-t.length},e)}function Mpe(){return ia}function Ape(){return ia=Ts>0?$a(Bh,--Ts):0,th--,ia===10&&(th=1,qw--),ia}function qs(){return ia=Ts<$q?$a(Bh,Ts++):0,th++,ia===10&&(th=1,qw++),ia}function vo(){return $a(Bh,Ts)}function eb(){return Ts}function hg(t,e){return a0(Bh,t,e)}function s0(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Fq(t){return qw=th=1,$q=oo(Bh=t),Ts=0,[]}function Hq(t){return Bh="",t}function tb(t){return Lq(hg(Ts-1,d_(t===91?t+2:t===40?t+1:t)))}function Ope(t){for(;(ia=vo())&&ia<33;)qs();return s0(t)>2||s0(ia)>3?"":" "}function Epe(t,e){for(;--e&&qs()&&!(ia<48||ia>102||ia>57&&ia<65||ia>70&&ia<97););return hg(t,eb()+(e<6&&vo()==32&&qs()==32))}function d_(t){for(;qs();)switch(ia){case t:return Ts;case 34:case 39:t!==34&&t!==39&&d_(ia);break;case 40:t===41&&d_(t);break;case 92:qs();break}return Ts}function Dpe(t,e){for(;qs()&&t+ia!==57;)if(t+ia===84&&vo()===47)break;return"/*"+hg(e,Ts-1)+"*"+Ww(t===47?t:qs())}function Ppe(t){for(;!s0(vo());)qs();return hg(t,Ts)}function Rpe(t){return Hq(rb("",null,null,null,[""],t=Fq(t),0,[0],t))}function rb(t,e,r,n,s,i,o,l,c){for(var d=0,h=0,m=o,x=0,y=0,w=0,j=1,v=1,N=1,T=0,S="",O=s,_=i,A=n,E=S;v;)switch(w=T,T=qs()){case 40:if(w!=108&&$a(E,m-1)==58){u_(E+=Br(tb(T),"&","&\f"),"&\f")!=-1&&(N=-1);break}case 34:case 39:case 91:E+=tb(T);break;case 9:case 10:case 13:case 32:E+=Ope(w);break;case 92:E+=Epe(eb()-1,7);continue;case 47:switch(vo()){case 42:case 47:sy(Ipe(Dpe(qs(),eb()),e,r),c);break;default:E+="/"}break;case 123*j:l[d++]=oo(E)*N;case 125*j:case 59:case 0:switch(T){case 0:case 125:v=0;case 59+h:N==-1&&(E=Br(E,/\f/g,"")),y>0&&oo(E)-m&&sy(y>32?kI(E+";",n,r,m-1):kI(Br(E," ","")+";",n,r,m-2),c);break;case 59:E+=";";default:if(sy(A=NI(E,e,r,d,h,s,l,S,O=[],_=[],m),i),T===123)if(h===0)rb(E,e,A,A,O,i,m,l,_);else switch(x===99&&$a(E,3)===110?100:x){case 100:case 108:case 109:case 115:rb(t,A,A,n&&sy(NI(t,A,A,0,0,s,l,S,s,O=[],m),_),s,_,m,l,n?O:_);break;default:rb(E,A,A,A,[""],_,0,l,_)}}d=h=y=0,j=N=1,S=E="",m=o;break;case 58:m=1+oo(E),y=w;default:if(j<1){if(T==123)--j;else if(T==125&&j++==0&&Ape()==125)continue}switch(E+=Ww(T),T*j){case 38:N=h>0?1:(E+="\f",-1);break;case 44:l[d++]=(oo(E)-1)*N,N=1;break;case 64:vo()===45&&(E+=tb(qs())),x=vo(),h=m=oo(S=E+=Ppe(eb())),T++;break;case 45:w===45&&oo(E)==2&&(j=0)}}return i}function NI(t,e,r,n,s,i,o,l,c,d,h){for(var m=s-1,x=s===0?i:[""],y=yO(x),w=0,j=0,v=0;w<n;++w)for(var N=0,T=a0(t,m+1,m=Npe(j=o[w])),S=t;N<y;++N)(S=Lq(j>0?x[N]+" "+T:Br(T,/&\f/g,x[N])))&&(c[v++]=S);return Uw(t,e,r,s===0?gO:l,c,d,h)}function Ipe(t,e,r){return Uw(t,e,r,Rq,Ww(Mpe()),a0(t,2,-2),0)}function kI(t,e,r,n){return Uw(t,e,r,xO,a0(t,0,n),a0(t,n+1,-1),n)}function Lf(t,e){for(var r="",n=yO(t),s=0;s<n;s++)r+=e(t[s],s,t,e)||"";return r}function Lpe(t,e,r,n){switch(t.type){case Spe:if(t.children.length)break;case jpe:case xO:return t.return=t.return||t.value;case Rq:return"";case Iq:return t.return=t.value+"{"+Lf(t.children,n)+"}";case gO:t.value=t.props.join(",")}return oo(r=Lf(t.children,n))?t.return=t.value+"{"+r+"}":""}function $pe(t){var e=yO(t);return function(r,n,s,i){for(var o="",l=0;l<e;l++)o+=t[l](r,n,s,i)||"";return o}}function Fpe(t){return function(e){e.root||(e=e.return)&&t(e)}}function Hpe(t){var e=Object.create(null);return function(r){return e[r]===void 0&&(e[r]=t(r)),e[r]}}var Bpe=function(e,r,n){for(var s=0,i=0;s=i,i=vo(),s===38&&i===12&&(r[n]=1),!s0(i);)qs();return hg(e,Ts)},zpe=function(e,r){var n=-1,s=44;do switch(s0(s)){case 0:s===38&&vo()===12&&(r[n]=1),e[n]+=Bpe(Ts-1,r,n);break;case 2:e[n]+=tb(s);break;case 4:if(s===44){e[++n]=vo()===58?"&\f":"",r[n]=e[n].length;break}default:e[n]+=Ww(s)}while(s=qs());return e},Vpe=function(e,r){return Hq(zpe(Fq(e),r))},CI=new WeakMap,Wpe=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var r=e.value,n=e.parent,s=e.column===n.column&&e.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(e.props.length===1&&r.charCodeAt(0)!==58&&!CI.get(n))&&!s){CI.set(e,!0);for(var i=[],o=Vpe(r,i),l=n.props,c=0,d=0;c<o.length;c++)for(var h=0;h<l.length;h++,d++)e.props[d]=i[c]?o[c].replace(/&\f/g,l[h]):l[h]+" "+o[c]}}},qpe=function(e){if(e.type==="decl"){var r=e.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(e.return="",e.value="")}};function Bq(t,e){switch(Cpe(t,e)){case 5103:return Hr+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Hr+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Hr+t+Ib+t+Va+t+t;case 6828:case 4268:return Hr+t+Va+t+t;case 6165:return Hr+t+Va+"flex-"+t+t;case 5187:return Hr+t+Br(t,/(\w+).+(:[^]+)/,Hr+"box-$1$2"+Va+"flex-$1$2")+t;case 5443:return Hr+t+Va+"flex-item-"+Br(t,/flex-|-self/,"")+t;case 4675:return Hr+t+Va+"flex-line-pack"+Br(t,/align-content|flex-|-self/,"")+t;case 5548:return Hr+t+Va+Br(t,"shrink","negative")+t;case 5292:return Hr+t+Va+Br(t,"basis","preferred-size")+t;case 6060:return Hr+"box-"+Br(t,"-grow","")+Hr+t+Va+Br(t,"grow","positive")+t;case 4554:return Hr+Br(t,/([^-])(transform)/g,"$1"+Hr+"$2")+t;case 6187:return Br(Br(Br(t,/(zoom-|grab)/,Hr+"$1"),/(image-set)/,Hr+"$1"),t,"")+t;case 5495:case 3959:return Br(t,/(image-set\([^]*)/,Hr+"$1$`$1");case 4968:return Br(Br(t,/(.+:)(flex-)?(.*)/,Hr+"box-pack:$3"+Va+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Hr+t+t;case 4095:case 3583:case 4068:case 2532:return Br(t,/(.+)-inline(.+)/,Hr+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(oo(t)-1-e>6)switch($a(t,e+1)){case 109:if($a(t,e+4)!==45)break;case 102:return Br(t,/(.+:)(.+)-([^]+)/,"$1"+Hr+"$2-$3$1"+Ib+($a(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~u_(t,"stretch")?Bq(Br(t,"stretch","fill-available"),e)+t:t}break;case 4949:if($a(t,e+1)!==115)break;case 6444:switch($a(t,oo(t)-3-(~u_(t,"!important")&&10))){case 107:return Br(t,":",":"+Hr)+t;case 101:return Br(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Hr+($a(t,14)===45?"inline-":"")+"box$3$1"+Hr+"$2$3$1"+Va+"$2box$3")+t}break;case 5936:switch($a(t,e+11)){case 114:return Hr+t+Va+Br(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Hr+t+Va+Br(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Hr+t+Va+Br(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Hr+t+Va+t+t}return t}var Upe=function(e,r,n,s){if(e.length>-1&&!e.return)switch(e.type){case xO:e.return=Bq(e.value,e.length);break;case Iq:return Lf([tp(e,{value:Br(e.value,"@","@"+Hr)})],s);case gO:if(e.length)return _pe(e.props,function(i){switch(Tpe(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Lf([tp(e,{props:[Br(i,/:(read-\w+)/,":"+Ib+"$1")]})],s);case"::placeholder":return Lf([tp(e,{props:[Br(i,/:(plac\w+)/,":"+Hr+"input-$1")]}),tp(e,{props:[Br(i,/:(plac\w+)/,":"+Ib+"$1")]}),tp(e,{props:[Br(i,/:(plac\w+)/,Va+"input-$1")]})],s)}return""})}},Gpe=[Upe],Ype=function(e){var r=e.key;if(r==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(j){var v=j.getAttribute("data-emotion");v.indexOf(" ")!==-1&&(document.head.appendChild(j),j.setAttribute("data-s",""))})}var s=e.stylisPlugins||Gpe,i={},o,l=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(j){for(var v=j.getAttribute("data-emotion").split(" "),N=1;N<v.length;N++)i[v[N]]=!0;l.push(j)});var c,d=[Wpe,qpe];{var h,m=[Lpe,Fpe(function(j){h.insert(j)})],x=$pe(d.concat(s,m)),y=function(v){return Lf(Rpe(v),x)};c=function(v,N,T,S){h=T,y(v?v+"{"+N.styles+"}":N.styles),S&&(w.inserted[N.name]=!0)}}var w={key:r,sheet:new wpe({key:r,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:i,registered:{},insert:c};return w.sheet.hydrate(l),w},DN={exports:{}},Wr={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TI;function Kpe(){if(TI)return Wr;TI=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,r=t?Symbol.for("react.portal"):60106,n=t?Symbol.for("react.fragment"):60107,s=t?Symbol.for("react.strict_mode"):60108,i=t?Symbol.for("react.profiler"):60114,o=t?Symbol.for("react.provider"):60109,l=t?Symbol.for("react.context"):60110,c=t?Symbol.for("react.async_mode"):60111,d=t?Symbol.for("react.concurrent_mode"):60111,h=t?Symbol.for("react.forward_ref"):60112,m=t?Symbol.for("react.suspense"):60113,x=t?Symbol.for("react.suspense_list"):60120,y=t?Symbol.for("react.memo"):60115,w=t?Symbol.for("react.lazy"):60116,j=t?Symbol.for("react.block"):60121,v=t?Symbol.for("react.fundamental"):60117,N=t?Symbol.for("react.responder"):60118,T=t?Symbol.for("react.scope"):60119;function S(_){if(typeof _=="object"&&_!==null){var A=_.$$typeof;switch(A){case e:switch(_=_.type,_){case c:case d:case n:case i:case s:case m:return _;default:switch(_=_&&_.$$typeof,_){case l:case h:case w:case y:case o:return _;default:return A}}case r:return A}}}function O(_){return S(_)===d}return Wr.AsyncMode=c,Wr.ConcurrentMode=d,Wr.ContextConsumer=l,Wr.ContextProvider=o,Wr.Element=e,Wr.ForwardRef=h,Wr.Fragment=n,Wr.Lazy=w,Wr.Memo=y,Wr.Portal=r,Wr.Profiler=i,Wr.StrictMode=s,Wr.Suspense=m,Wr.isAsyncMode=function(_){return O(_)||S(_)===c},Wr.isConcurrentMode=O,Wr.isContextConsumer=function(_){return S(_)===l},Wr.isContextProvider=function(_){return S(_)===o},Wr.isElement=function(_){return typeof _=="object"&&_!==null&&_.$$typeof===e},Wr.isForwardRef=function(_){return S(_)===h},Wr.isFragment=function(_){return S(_)===n},Wr.isLazy=function(_){return S(_)===w},Wr.isMemo=function(_){return S(_)===y},Wr.isPortal=function(_){return S(_)===r},Wr.isProfiler=function(_){return S(_)===i},Wr.isStrictMode=function(_){return S(_)===s},Wr.isSuspense=function(_){return S(_)===m},Wr.isValidElementType=function(_){return typeof _=="string"||typeof _=="function"||_===n||_===d||_===i||_===s||_===m||_===x||typeof _=="object"&&_!==null&&(_.$$typeof===w||_.$$typeof===y||_.$$typeof===o||_.$$typeof===l||_.$$typeof===h||_.$$typeof===v||_.$$typeof===N||_.$$typeof===T||_.$$typeof===j)},Wr.typeOf=S,Wr}var _I;function Xpe(){return _I||(_I=1,DN.exports=Kpe()),DN.exports}var PN,MI;function Jpe(){if(MI)return PN;MI=1;var t=Xpe(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},n={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},i={};i[t.ForwardRef]=n,i[t.Memo]=s;function o(w){return t.isMemo(w)?s:i[w.$$typeof]||e}var l=Object.defineProperty,c=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,m=Object.getPrototypeOf,x=Object.prototype;function y(w,j,v){if(typeof j!="string"){if(x){var N=m(j);N&&N!==x&&y(w,N,v)}var T=c(j);d&&(T=T.concat(d(j)));for(var S=o(w),O=o(j),_=0;_<T.length;++_){var A=T[_];if(!r[A]&&!(v&&v[A])&&!(O&&O[A])&&!(S&&S[A])){var E=h(j,A);try{l(w,A,E)}catch{}}}}return w}return PN=y,PN}Jpe();var Qpe=!0;function Zpe(t,e,r){var n="";return r.split(" ").forEach(function(s){t[s]!==void 0?e.push(t[s]+";"):s&&(n+=s+" ")}),n}var zq=function(e,r,n){var s=e.key+"-"+r.name;(n===!1||Qpe===!1)&&e.registered[s]===void 0&&(e.registered[s]=r.styles)},e0e=function(e,r,n){zq(e,r,n);var s=e.key+"-"+r.name;if(e.inserted[r.name]===void 0){var i=r;do e.insert(r===i?"."+s:"",i,e.sheet,!0),i=i.next;while(i!==void 0)}};function t0e(t){for(var e=0,r,n=0,s=t.length;s>=4;++n,s-=4)r=t.charCodeAt(n)&255|(t.charCodeAt(++n)&255)<<8|(t.charCodeAt(++n)&255)<<16|(t.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,e=(r&65535)*1540483477+((r>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(s){case 3:e^=(t.charCodeAt(n+2)&255)<<16;case 2:e^=(t.charCodeAt(n+1)&255)<<8;case 1:e^=t.charCodeAt(n)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var r0e={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},n0e=/[A-Z]|^ms/g,a0e=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Vq=function(e){return e.charCodeAt(1)===45},AI=function(e){return e!=null&&typeof e!="boolean"},RN=Hpe(function(t){return Vq(t)?t:t.replace(n0e,"-$&").toLowerCase()}),OI=function(e,r){switch(e){case"animation":case"animationName":if(typeof r=="string")return r.replace(a0e,function(n,s,i){return lo={name:s,styles:i,next:lo},s})}return r0e[e]!==1&&!Vq(e)&&typeof r=="number"&&r!==0?r+"px":r};function i0(t,e,r){if(r==null)return"";var n=r;if(n.__emotion_styles!==void 0)return n;switch(typeof r){case"boolean":return"";case"object":{var s=r;if(s.anim===1)return lo={name:s.name,styles:s.styles,next:lo},s.name;var i=r;if(i.styles!==void 0){var o=i.next;if(o!==void 0)for(;o!==void 0;)lo={name:o.name,styles:o.styles,next:lo},o=o.next;var l=i.styles+";";return l}return s0e(t,e,r)}case"function":{if(t!==void 0){var c=lo,d=r(t);return lo=c,i0(t,e,d)}break}}var h=r;return h}function s0e(t,e,r){var n="";if(Array.isArray(r))for(var s=0;s<r.length;s++)n+=i0(t,e,r[s])+";";else for(var i in r){var o=r[i];if(typeof o!="object"){var l=o;AI(l)&&(n+=RN(i)+":"+OI(i,l)+";")}else if(Array.isArray(o)&&typeof o[0]=="string"&&e==null)for(var c=0;c<o.length;c++)AI(o[c])&&(n+=RN(i)+":"+OI(i,o[c])+";");else{var d=i0(t,e,o);switch(i){case"animation":case"animationName":{n+=RN(i)+":"+d+";";break}default:n+=i+"{"+d+"}"}}}return n}var EI=/label:\s*([^\s;{]+)\s*(;|$)/g,lo;function Wq(t,e,r){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var n=!0,s="";lo=void 0;var i=t[0];if(i==null||i.raw===void 0)n=!1,s+=i0(r,e,i);else{var o=i;s+=o[0]}for(var l=1;l<t.length;l++)if(s+=i0(r,e,t[l]),n){var c=i;s+=c[l]}EI.lastIndex=0;for(var d="",h;(h=EI.exec(s))!==null;)d+="-"+h[1];var m=t0e(s)+d;return{name:m,styles:s,next:lo}}var i0e=function(e){return e()},o0e=ub.useInsertionEffect?ub.useInsertionEffect:!1,l0e=o0e||i0e,qq=g.createContext(typeof HTMLElement<"u"?Ype({key:"css"}):null);qq.Provider;var c0e=function(e){return g.forwardRef(function(r,n){var s=g.useContext(qq);return e(r,s,n)})},u0e=g.createContext({}),bO={}.hasOwnProperty,f_="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",d0e=function(e,r){var n={};for(var s in r)bO.call(r,s)&&(n[s]=r[s]);return n[f_]=e,n},f0e=function(e){var r=e.cache,n=e.serialized,s=e.isStringTag;return zq(r,n,s),l0e(function(){return e0e(r,n,s)}),null},h0e=c0e(function(t,e,r){var n=t.css;typeof n=="string"&&e.registered[n]!==void 0&&(n=e.registered[n]);var s=t[f_],i=[n],o="";typeof t.className=="string"?o=Zpe(e.registered,i,t.className):t.className!=null&&(o=t.className+" ");var l=Wq(i,void 0,g.useContext(u0e));o+=e.key+"-"+l.name;var c={};for(var d in t)bO.call(t,d)&&d!=="css"&&d!==f_&&(c[d]=t[d]);return c.className=o,r&&(c.ref=r),g.createElement(g.Fragment,null,g.createElement(f0e,{cache:e,serialized:l,isStringTag:typeof s=="string"}),g.createElement(s,c))}),m0e=h0e,qt=function(e,r){var n=arguments;if(r==null||!bO.call(r,"css"))return g.createElement.apply(void 0,n);var s=n.length,i=new Array(s);i[0]=m0e,i[1]=d0e(e,r);for(var o=2;o<s;o++)i[o]=n[o];return g.createElement.apply(null,i)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(qt||(qt={}));function vO(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return Wq(e)}function p0e(){var t=vO.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function g0e(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var h_=g.useLayoutEffect,x0e=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],Lb=function(){};function y0e(t,e){return e?e[0]==="-"?t+e:t+"__"+e:t}function b0e(t,e){for(var r=arguments.length,n=new Array(r>2?r-2:0),s=2;s<r;s++)n[s-2]=arguments[s];var i=[].concat(n);if(e&&t)for(var o in e)e.hasOwnProperty(o)&&e[o]&&i.push("".concat(y0e(t,o)));return i.filter(function(l){return l}).map(function(l){return String(l).trim()}).join(" ")}var $b=function(e){return _0e(e)?e.filter(Boolean):ad(e)==="object"&&e!==null?[e]:[]},Uq=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var r=Po(e,x0e);return Ut({},r)},Hn=function(e,r,n){var s=e.cx,i=e.getStyles,o=e.getClassNames,l=e.className;return{css:i(r,e),className:s(n??{},o(r,e),l)}};function Gw(t){return[document.documentElement,document.body,window].indexOf(t)>-1}function v0e(t){return Gw(t)?window.innerHeight:t.clientHeight}function Gq(t){return Gw(t)?window.pageYOffset:t.scrollTop}function Fb(t,e){if(Gw(t)){window.scrollTo(0,e);return}t.scrollTop=e}function w0e(t){var e=getComputedStyle(t),r=e.position==="absolute",n=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var s=t;s=s.parentElement;)if(e=getComputedStyle(s),!(r&&e.position==="static")&&n.test(e.overflow+e.overflowY+e.overflowX))return s;return document.documentElement}function j0e(t,e,r,n){return r*((t=t/n-1)*t*t+1)+e}function iy(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Lb,s=Gq(t),i=e-s,o=10,l=0;function c(){l+=o;var d=j0e(l,s,i,r);Fb(t,d),l<r?window.requestAnimationFrame(c):n(t)}c()}function DI(t,e){var r=t.getBoundingClientRect(),n=e.getBoundingClientRect(),s=e.offsetHeight/3;n.bottom+s>r.bottom?Fb(t,Math.min(e.offsetTop+e.clientHeight-t.offsetHeight+s,t.scrollHeight)):n.top-s<r.top&&Fb(t,Math.max(e.offsetTop-s,0))}function S0e(t){var e=t.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function PI(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function N0e(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var Yq=!1,k0e={get passive(){return Yq=!0}},oy=typeof window<"u"?window:{};oy.addEventListener&&oy.removeEventListener&&(oy.addEventListener("p",Lb,k0e),oy.removeEventListener("p",Lb,!1));var C0e=Yq;function T0e(t){return t!=null}function _0e(t){return Array.isArray(t)}function yp(t,e,r){return t?e:r}var M0e=function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),s=1;s<r;s++)n[s-1]=arguments[s];var i=Object.entries(e).filter(function(o){var l=wl(o,1),c=l[0];return!n.includes(c)});return i.reduce(function(o,l){var c=wl(l,2),d=c[0],h=c[1];return o[d]=h,o},{})},A0e=["children","innerProps"],O0e=["children","innerProps"];function E0e(t){var e=t.maxHeight,r=t.menuEl,n=t.minHeight,s=t.placement,i=t.shouldScroll,o=t.isFixedPosition,l=t.controlHeight,c=w0e(r),d={placement:"bottom",maxHeight:e};if(!r||!r.offsetParent)return d;var h=c.getBoundingClientRect(),m=h.height,x=r.getBoundingClientRect(),y=x.bottom,w=x.height,j=x.top,v=r.offsetParent.getBoundingClientRect(),N=v.top,T=o?window.innerHeight:v0e(c),S=Gq(c),O=parseInt(getComputedStyle(r).marginBottom,10),_=parseInt(getComputedStyle(r).marginTop,10),A=N-_,E=T-j,D=A+S,$=m-S-j,I=y-T+S+O,L=S+j-_,R=160;switch(s){case"auto":case"bottom":if(E>=w)return{placement:"bottom",maxHeight:e};if($>=w&&!o)return i&&iy(c,I,R),{placement:"bottom",maxHeight:e};if(!o&&$>=n||o&&E>=n){i&&iy(c,I,R);var z=o?E-O:$-O;return{placement:"bottom",maxHeight:z}}if(s==="auto"||o){var Y=e,W=o?A:D;return W>=n&&(Y=Math.min(W-O-l,e)),{placement:"top",maxHeight:Y}}if(s==="bottom")return i&&Fb(c,I),{placement:"bottom",maxHeight:e};break;case"top":if(A>=w)return{placement:"top",maxHeight:e};if(D>=w&&!o)return i&&iy(c,L,R),{placement:"top",maxHeight:e};if(!o&&D>=n||o&&A>=n){var H=e;return(!o&&D>=n||o&&A>=n)&&(H=o?A-_:D-_),i&&iy(c,L,R),{placement:"top",maxHeight:H}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(s,'".'))}return d}function D0e(t){var e={bottom:"top",top:"bottom"};return t?e[t]:"bottom"}var Kq=function(e){return e==="auto"?"bottom":e},P0e=function(e,r){var n,s=e.placement,i=e.theme,o=i.borderRadius,l=i.spacing,c=i.colors;return Ut((n={label:"menu"},xp(n,D0e(s),"100%"),xp(n,"position","absolute"),xp(n,"width","100%"),xp(n,"zIndex",1),n),r?{}:{backgroundColor:c.neutral0,borderRadius:o,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:l.menuGutter,marginTop:l.menuGutter})},Xq=g.createContext(null),R0e=function(e){var r=e.children,n=e.minMenuHeight,s=e.maxMenuHeight,i=e.menuPlacement,o=e.menuPosition,l=e.menuShouldScrollIntoView,c=e.theme,d=g.useContext(Xq)||{},h=d.setPortalPlacement,m=g.useRef(null),x=g.useState(s),y=wl(x,2),w=y[0],j=y[1],v=g.useState(null),N=wl(v,2),T=N[0],S=N[1],O=c.spacing.controlHeight;return h_(function(){var _=m.current;if(_){var A=o==="fixed",E=l&&!A,D=E0e({maxHeight:s,menuEl:_,minHeight:n,placement:i,shouldScroll:E,isFixedPosition:A,controlHeight:O});j(D.maxHeight),S(D.placement),h==null||h(D.placement)}},[s,i,o,l,n,h,O]),r({ref:m,placerProps:Ut(Ut({},e),{},{placement:T||Kq(i),maxHeight:w})})},I0e=function(e){var r=e.children,n=e.innerRef,s=e.innerProps;return qt("div",Xt({},Hn(e,"menu",{menu:!0}),{ref:n},s),r)},L0e=I0e,$0e=function(e,r){var n=e.maxHeight,s=e.theme.spacing.baseUnit;return Ut({maxHeight:n,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},r?{}:{paddingBottom:s,paddingTop:s})},F0e=function(e){var r=e.children,n=e.innerProps,s=e.innerRef,i=e.isMulti;return qt("div",Xt({},Hn(e,"menuList",{"menu-list":!0,"menu-list--is-multi":i}),{ref:s},n),r)},Jq=function(e,r){var n=e.theme,s=n.spacing.baseUnit,i=n.colors;return Ut({textAlign:"center"},r?{}:{color:i.neutral40,padding:"".concat(s*2,"px ").concat(s*3,"px")})},H0e=Jq,B0e=Jq,z0e=function(e){var r=e.children,n=r===void 0?"No options":r,s=e.innerProps,i=Po(e,A0e);return qt("div",Xt({},Hn(Ut(Ut({},i),{},{children:n,innerProps:s}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),s),n)},V0e=function(e){var r=e.children,n=r===void 0?"Loading...":r,s=e.innerProps,i=Po(e,O0e);return qt("div",Xt({},Hn(Ut(Ut({},i),{},{children:n,innerProps:s}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),s),n)},W0e=function(e){var r=e.rect,n=e.offset,s=e.position;return{left:r.left,position:s,top:n,width:r.width,zIndex:1}},q0e=function(e){var r=e.appendTo,n=e.children,s=e.controlElement,i=e.innerProps,o=e.menuPlacement,l=e.menuPosition,c=g.useRef(null),d=g.useRef(null),h=g.useState(Kq(o)),m=wl(h,2),x=m[0],y=m[1],w=g.useMemo(function(){return{setPortalPlacement:y}},[]),j=g.useState(null),v=wl(j,2),N=v[0],T=v[1],S=g.useCallback(function(){if(s){var E=S0e(s),D=l==="fixed"?0:window.pageYOffset,$=E[x]+D;($!==(N==null?void 0:N.offset)||E.left!==(N==null?void 0:N.rect.left)||E.width!==(N==null?void 0:N.rect.width))&&T({offset:$,rect:E})}},[s,l,x,N==null?void 0:N.offset,N==null?void 0:N.rect.left,N==null?void 0:N.rect.width]);h_(function(){S()},[S]);var O=g.useCallback(function(){typeof d.current=="function"&&(d.current(),d.current=null),s&&c.current&&(d.current=hq(s,c.current,S,{elementResize:"ResizeObserver"in window}))},[s,S]);h_(function(){O()},[O]);var _=g.useCallback(function(E){c.current=E,O()},[O]);if(!r&&l!=="fixed"||!N)return null;var A=qt("div",Xt({ref:_},Hn(Ut(Ut({},e),{},{offset:N.offset,position:l,rect:N.rect}),"menuPortal",{"menu-portal":!0}),i),n);return qt(Xq.Provider,{value:w},r?bA.createPortal(A,r):A)},U0e=function(e){var r=e.isDisabled,n=e.isRtl;return{label:"container",direction:n?"rtl":void 0,pointerEvents:r?"none":void 0,position:"relative"}},G0e=function(e){var r=e.children,n=e.innerProps,s=e.isDisabled,i=e.isRtl;return qt("div",Xt({},Hn(e,"container",{"--is-disabled":s,"--is-rtl":i}),n),r)},Y0e=function(e,r){var n=e.theme.spacing,s=e.isMulti,i=e.hasValue,o=e.selectProps.controlShouldRenderValue;return Ut({alignItems:"center",display:s&&i&&o?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},r?{}:{padding:"".concat(n.baseUnit/2,"px ").concat(n.baseUnit*2,"px")})},K0e=function(e){var r=e.children,n=e.innerProps,s=e.isMulti,i=e.hasValue;return qt("div",Xt({},Hn(e,"valueContainer",{"value-container":!0,"value-container--is-multi":s,"value-container--has-value":i}),n),r)},X0e=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},J0e=function(e){var r=e.children,n=e.innerProps;return qt("div",Xt({},Hn(e,"indicatorsContainer",{indicators:!0}),n),r)},RI,Q0e=["size"],Z0e=["innerProps","isRtl","size"],ege={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},Qq=function(e){var r=e.size,n=Po(e,Q0e);return qt("svg",Xt({height:r,width:r,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:ege},n))},wO=function(e){return qt(Qq,Xt({size:20},e),qt("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},Zq=function(e){return qt(Qq,Xt({size:20},e),qt("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},eU=function(e,r){var n=e.isFocused,s=e.theme,i=s.spacing.baseUnit,o=s.colors;return Ut({label:"indicatorContainer",display:"flex",transition:"color 150ms"},r?{}:{color:n?o.neutral60:o.neutral20,padding:i*2,":hover":{color:n?o.neutral80:o.neutral40}})},tge=eU,rge=function(e){var r=e.children,n=e.innerProps;return qt("div",Xt({},Hn(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),n),r||qt(Zq,null))},nge=eU,age=function(e){var r=e.children,n=e.innerProps;return qt("div",Xt({},Hn(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),n),r||qt(wO,null))},sge=function(e,r){var n=e.isDisabled,s=e.theme,i=s.spacing.baseUnit,o=s.colors;return Ut({label:"indicatorSeparator",alignSelf:"stretch",width:1},r?{}:{backgroundColor:n?o.neutral10:o.neutral20,marginBottom:i*2,marginTop:i*2})},ige=function(e){var r=e.innerProps;return qt("span",Xt({},r,Hn(e,"indicatorSeparator",{"indicator-separator":!0})))},oge=p0e(RI||(RI=g0e([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),lge=function(e,r){var n=e.isFocused,s=e.size,i=e.theme,o=i.colors,l=i.spacing.baseUnit;return Ut({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:s,lineHeight:1,marginRight:s,textAlign:"center",verticalAlign:"middle"},r?{}:{color:n?o.neutral60:o.neutral20,padding:l*2})},IN=function(e){var r=e.delay,n=e.offset;return qt("span",{css:vO({animation:"".concat(oge," 1s ease-in-out ").concat(r,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:n?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},cge=function(e){var r=e.innerProps,n=e.isRtl,s=e.size,i=s===void 0?4:s,o=Po(e,Z0e);return qt("div",Xt({},Hn(Ut(Ut({},o),{},{innerProps:r,isRtl:n,size:i}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),r),qt(IN,{delay:0,offset:n}),qt(IN,{delay:160,offset:!0}),qt(IN,{delay:320,offset:!n}))},uge=function(e,r){var n=e.isDisabled,s=e.isFocused,i=e.theme,o=i.colors,l=i.borderRadius,c=i.spacing;return Ut({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:c.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},r?{}:{backgroundColor:n?o.neutral5:o.neutral0,borderColor:n?o.neutral10:s?o.primary:o.neutral20,borderRadius:l,borderStyle:"solid",borderWidth:1,boxShadow:s?"0 0 0 1px ".concat(o.primary):void 0,"&:hover":{borderColor:s?o.primary:o.neutral30}})},dge=function(e){var r=e.children,n=e.isDisabled,s=e.isFocused,i=e.innerRef,o=e.innerProps,l=e.menuIsOpen;return qt("div",Xt({ref:i},Hn(e,"control",{control:!0,"control--is-disabled":n,"control--is-focused":s,"control--menu-is-open":l}),o,{"aria-disabled":n||void 0}),r)},fge=dge,hge=["data"],mge=function(e,r){var n=e.theme.spacing;return r?{}:{paddingBottom:n.baseUnit*2,paddingTop:n.baseUnit*2}},pge=function(e){var r=e.children,n=e.cx,s=e.getStyles,i=e.getClassNames,o=e.Heading,l=e.headingProps,c=e.innerProps,d=e.label,h=e.theme,m=e.selectProps;return qt("div",Xt({},Hn(e,"group",{group:!0}),c),qt(o,Xt({},l,{selectProps:m,theme:h,getStyles:s,getClassNames:i,cx:n}),d),qt("div",null,r))},gge=function(e,r){var n=e.theme,s=n.colors,i=n.spacing;return Ut({label:"group",cursor:"default",display:"block"},r?{}:{color:s.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:i.baseUnit*3,paddingRight:i.baseUnit*3,textTransform:"uppercase"})},xge=function(e){var r=Uq(e);r.data;var n=Po(r,hge);return qt("div",Xt({},Hn(e,"groupHeading",{"group-heading":!0}),n))},yge=pge,bge=["innerRef","isDisabled","isHidden","inputClassName"],vge=function(e,r){var n=e.isDisabled,s=e.value,i=e.theme,o=i.spacing,l=i.colors;return Ut(Ut({visibility:n?"hidden":"visible",transform:s?"translateZ(0)":""},wge),r?{}:{margin:o.baseUnit/2,paddingBottom:o.baseUnit/2,paddingTop:o.baseUnit/2,color:l.neutral80})},tU={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},wge={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":Ut({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},tU)},jge=function(e){return Ut({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},tU)},Sge=function(e){var r=e.cx,n=e.value,s=Uq(e),i=s.innerRef,o=s.isDisabled,l=s.isHidden,c=s.inputClassName,d=Po(s,bge);return qt("div",Xt({},Hn(e,"input",{"input-container":!0}),{"data-value":n||""}),qt("input",Xt({className:r({input:!0},c),ref:i,style:jge(l),disabled:o},d)))},Nge=Sge,kge=function(e,r){var n=e.theme,s=n.spacing,i=n.borderRadius,o=n.colors;return Ut({label:"multiValue",display:"flex",minWidth:0},r?{}:{backgroundColor:o.neutral10,borderRadius:i/2,margin:s.baseUnit/2})},Cge=function(e,r){var n=e.theme,s=n.borderRadius,i=n.colors,o=e.cropWithEllipsis;return Ut({overflow:"hidden",textOverflow:o||o===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},r?{}:{borderRadius:s/2,color:i.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},Tge=function(e,r){var n=e.theme,s=n.spacing,i=n.borderRadius,o=n.colors,l=e.isFocused;return Ut({alignItems:"center",display:"flex"},r?{}:{borderRadius:i/2,backgroundColor:l?o.dangerLight:void 0,paddingLeft:s.baseUnit,paddingRight:s.baseUnit,":hover":{backgroundColor:o.dangerLight,color:o.danger}})},rU=function(e){var r=e.children,n=e.innerProps;return qt("div",n,r)},_ge=rU,Mge=rU;function Age(t){var e=t.children,r=t.innerProps;return qt("div",Xt({role:"button"},r),e||qt(wO,{size:14}))}var Oge=function(e){var r=e.children,n=e.components,s=e.data,i=e.innerProps,o=e.isDisabled,l=e.removeProps,c=e.selectProps,d=n.Container,h=n.Label,m=n.Remove;return qt(d,{data:s,innerProps:Ut(Ut({},Hn(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":o})),i),selectProps:c},qt(h,{data:s,innerProps:Ut({},Hn(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:c},r),qt(m,{data:s,innerProps:Ut(Ut({},Hn(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(r||"option")},l),selectProps:c}))},Ege=Oge,Dge=function(e,r){var n=e.isDisabled,s=e.isFocused,i=e.isSelected,o=e.theme,l=o.spacing,c=o.colors;return Ut({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},r?{}:{backgroundColor:i?c.primary:s?c.primary25:"transparent",color:n?c.neutral20:i?c.neutral0:"inherit",padding:"".concat(l.baseUnit*2,"px ").concat(l.baseUnit*3,"px"),":active":{backgroundColor:n?void 0:i?c.primary:c.primary50}})},Pge=function(e){var r=e.children,n=e.isDisabled,s=e.isFocused,i=e.isSelected,o=e.innerRef,l=e.innerProps;return qt("div",Xt({},Hn(e,"option",{option:!0,"option--is-disabled":n,"option--is-focused":s,"option--is-selected":i}),{ref:o,"aria-disabled":n},l),r)},Rge=Pge,Ige=function(e,r){var n=e.theme,s=n.spacing,i=n.colors;return Ut({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},r?{}:{color:i.neutral50,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},Lge=function(e){var r=e.children,n=e.innerProps;return qt("div",Xt({},Hn(e,"placeholder",{placeholder:!0}),n),r)},$ge=Lge,Fge=function(e,r){var n=e.isDisabled,s=e.theme,i=s.spacing,o=s.colors;return Ut({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},r?{}:{color:n?o.neutral40:o.neutral80,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},Hge=function(e){var r=e.children,n=e.isDisabled,s=e.innerProps;return qt("div",Xt({},Hn(e,"singleValue",{"single-value":!0,"single-value--is-disabled":n}),s),r)},Bge=Hge,zge={ClearIndicator:age,Control:fge,DropdownIndicator:rge,DownChevron:Zq,CrossIcon:wO,Group:yge,GroupHeading:xge,IndicatorsContainer:J0e,IndicatorSeparator:ige,Input:Nge,LoadingIndicator:cge,Menu:L0e,MenuList:F0e,MenuPortal:q0e,LoadingMessage:V0e,NoOptionsMessage:z0e,MultiValue:Ege,MultiValueContainer:_ge,MultiValueLabel:Mge,MultiValueRemove:Age,Option:Rge,Placeholder:$ge,SelectContainer:G0e,SingleValue:Bge,ValueContainer:K0e},Vge=function(e){return Ut(Ut({},zge),e.components)},II=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function Wge(t,e){return!!(t===e||II(t)&&II(e))}function qge(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(!Wge(t[r],e[r]))return!1;return!0}function Uge(t,e){e===void 0&&(e=qge);var r=null;function n(){for(var s=[],i=0;i<arguments.length;i++)s[i]=arguments[i];if(r&&r.lastThis===this&&e(s,r.lastArgs))return r.lastResult;var o=t.apply(this,s);return r={lastResult:o,lastArgs:s,lastThis:this},o}return n.clear=function(){r=null},n}var Gge={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},Yge=function(e){return qt("span",Xt({css:Gge},e))},LI=Yge,Kge={guidance:function(e){var r=e.isSearchable,n=e.isMulti,s=e.tabSelectsValue,i=e.context,o=e.isInitialFocus;switch(i){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(s?", press Tab to select the option and exit the menu":"",".");case"input":return o?"".concat(e["aria-label"]||"Select"," is focused ").concat(r?",type to refine list":"",", press Down to open the menu, ").concat(n?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var r=e.action,n=e.label,s=n===void 0?"":n,i=e.labels,o=e.isDisabled;switch(r){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(s,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(i.length>1?"s":""," ").concat(i.join(","),", selected.");case"select-option":return o?"option ".concat(s," is disabled. Select another option."):"option ".concat(s,", selected.");default:return""}},onFocus:function(e){var r=e.context,n=e.focused,s=e.options,i=e.label,o=i===void 0?"":i,l=e.selectValue,c=e.isDisabled,d=e.isSelected,h=e.isAppleDevice,m=function(j,v){return j&&j.length?"".concat(j.indexOf(v)+1," of ").concat(j.length):""};if(r==="value"&&l)return"value ".concat(o," focused, ").concat(m(l,n),".");if(r==="menu"&&h){var x=c?" disabled":"",y="".concat(d?" selected":"").concat(x);return"".concat(o).concat(y,", ").concat(m(s,n),".")}return""},onFilter:function(e){var r=e.inputValue,n=e.resultsMessage;return"".concat(n).concat(r?" for search term "+r:"",".")}},Xge=function(e){var r=e.ariaSelection,n=e.focusedOption,s=e.focusedValue,i=e.focusableOptions,o=e.isFocused,l=e.selectValue,c=e.selectProps,d=e.id,h=e.isAppleDevice,m=c.ariaLiveMessages,x=c.getOptionLabel,y=c.inputValue,w=c.isMulti,j=c.isOptionDisabled,v=c.isSearchable,N=c.menuIsOpen,T=c.options,S=c.screenReaderStatus,O=c.tabSelectsValue,_=c.isLoading,A=c["aria-label"],E=c["aria-live"],D=g.useMemo(function(){return Ut(Ut({},Kge),m||{})},[m]),$=g.useMemo(function(){var W="";if(r&&D.onChange){var H=r.option,P=r.options,F=r.removedValue,X=r.removedValues,te=r.value,q=function(Oe){return Array.isArray(Oe)?null:Oe},Z=F||H||q(te),ie=Z?x(Z):"",oe=P||X||void 0,le=oe?oe.map(x):[],ge=Ut({isDisabled:Z&&j(Z,l),label:ie,labels:le},r);W=D.onChange(ge)}return W},[r,D,j,l,x]),I=g.useMemo(function(){var W="",H=n||s,P=!!(n&&l&&l.includes(n));if(H&&D.onFocus){var F={focused:H,label:x(H),isDisabled:j(H,l),isSelected:P,options:i,context:H===n?"menu":"value",selectValue:l,isAppleDevice:h};W=D.onFocus(F)}return W},[n,s,x,j,D,i,l,h]),L=g.useMemo(function(){var W="";if(N&&T.length&&!_&&D.onFilter){var H=S({count:i.length});W=D.onFilter({inputValue:y,resultsMessage:H})}return W},[i,y,N,D,T,S,_]),R=(r==null?void 0:r.action)==="initial-input-focus",z=g.useMemo(function(){var W="";if(D.guidance){var H=s?"value":N?"menu":"input";W=D.guidance({"aria-label":A,context:H,isDisabled:n&&j(n,l),isMulti:w,isSearchable:v,tabSelectsValue:O,isInitialFocus:R})}return W},[A,n,s,w,j,v,N,D,l,O,R]),Y=qt(g.Fragment,null,qt("span",{id:"aria-selection"},$),qt("span",{id:"aria-focused"},I),qt("span",{id:"aria-results"},L),qt("span",{id:"aria-guidance"},z));return qt(g.Fragment,null,qt(LI,{id:d},R&&Y),qt(LI,{"aria-live":E,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},o&&!R&&Y))},Jge=Xge,m_=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],Qge=new RegExp("["+m_.map(function(t){return t.letters}).join("")+"]","g"),nU={};for(var LN=0;LN<m_.length;LN++)for(var $N=m_[LN],FN=0;FN<$N.letters.length;FN++)nU[$N.letters[FN]]=$N.base;var aU=function(e){return e.replace(Qge,function(r){return nU[r]})},Zge=Uge(aU),$I=function(e){return e.replace(/^\s+|\s+$/g,"")},exe=function(e){return"".concat(e.label," ").concat(e.value)},txe=function(e){return function(r,n){if(r.data.__isNew__)return!0;var s=Ut({ignoreCase:!0,ignoreAccents:!0,stringify:exe,trim:!0,matchFrom:"any"},e),i=s.ignoreCase,o=s.ignoreAccents,l=s.stringify,c=s.trim,d=s.matchFrom,h=c?$I(n):n,m=c?$I(l(r)):l(r);return i&&(h=h.toLowerCase(),m=m.toLowerCase()),o&&(h=Zge(h),m=aU(m)),d==="start"?m.substr(0,h.length)===h:m.indexOf(h)>-1}},rxe=["innerRef"];function nxe(t){var e=t.innerRef,r=Po(t,rxe),n=M0e(r,"onExited","in","enter","exit","appear");return qt("input",Xt({ref:e},n,{css:vO({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var axe=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};function sxe(t){var e=t.isEnabled,r=t.onBottomArrive,n=t.onBottomLeave,s=t.onTopArrive,i=t.onTopLeave,o=g.useRef(!1),l=g.useRef(!1),c=g.useRef(0),d=g.useRef(null),h=g.useCallback(function(v,N){if(d.current!==null){var T=d.current,S=T.scrollTop,O=T.scrollHeight,_=T.clientHeight,A=d.current,E=N>0,D=O-_-S,$=!1;D>N&&o.current&&(n&&n(v),o.current=!1),E&&l.current&&(i&&i(v),l.current=!1),E&&N>D?(r&&!o.current&&r(v),A.scrollTop=O,$=!0,o.current=!0):!E&&-N>S&&(s&&!l.current&&s(v),A.scrollTop=0,$=!0,l.current=!0),$&&axe(v)}},[r,n,s,i]),m=g.useCallback(function(v){h(v,v.deltaY)},[h]),x=g.useCallback(function(v){c.current=v.changedTouches[0].clientY},[]),y=g.useCallback(function(v){var N=c.current-v.changedTouches[0].clientY;h(v,N)},[h]),w=g.useCallback(function(v){if(v){var N=C0e?{passive:!1}:!1;v.addEventListener("wheel",m,N),v.addEventListener("touchstart",x,N),v.addEventListener("touchmove",y,N)}},[y,x,m]),j=g.useCallback(function(v){v&&(v.removeEventListener("wheel",m,!1),v.removeEventListener("touchstart",x,!1),v.removeEventListener("touchmove",y,!1))},[y,x,m]);return g.useEffect(function(){if(e){var v=d.current;return w(v),function(){j(v)}}},[e,w,j]),function(v){d.current=v}}var FI=["boxSizing","height","overflow","paddingRight","position"],HI={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function BI(t){t.cancelable&&t.preventDefault()}function zI(t){t.stopPropagation()}function VI(){var t=this.scrollTop,e=this.scrollHeight,r=t+this.offsetHeight;t===0?this.scrollTop=1:r===e&&(this.scrollTop=t-1)}function WI(){return"ontouchstart"in window||navigator.maxTouchPoints}var qI=!!(typeof window<"u"&&window.document&&window.document.createElement),rp=0,sf={capture:!1,passive:!1};function ixe(t){var e=t.isEnabled,r=t.accountForScrollbars,n=r===void 0?!0:r,s=g.useRef({}),i=g.useRef(null),o=g.useCallback(function(c){if(qI){var d=document.body,h=d&&d.style;if(n&&FI.forEach(function(w){var j=h&&h[w];s.current[w]=j}),n&&rp<1){var m=parseInt(s.current.paddingRight,10)||0,x=document.body?document.body.clientWidth:0,y=window.innerWidth-x+m||0;Object.keys(HI).forEach(function(w){var j=HI[w];h&&(h[w]=j)}),h&&(h.paddingRight="".concat(y,"px"))}d&&WI()&&(d.addEventListener("touchmove",BI,sf),c&&(c.addEventListener("touchstart",VI,sf),c.addEventListener("touchmove",zI,sf))),rp+=1}},[n]),l=g.useCallback(function(c){if(qI){var d=document.body,h=d&&d.style;rp=Math.max(rp-1,0),n&&rp<1&&FI.forEach(function(m){var x=s.current[m];h&&(h[m]=x)}),d&&WI()&&(d.removeEventListener("touchmove",BI,sf),c&&(c.removeEventListener("touchstart",VI,sf),c.removeEventListener("touchmove",zI,sf)))}},[n]);return g.useEffect(function(){if(e){var c=i.current;return o(c),function(){l(c)}}},[e,o,l]),function(c){i.current=c}}var oxe=function(e){var r=e.target;return r.ownerDocument.activeElement&&r.ownerDocument.activeElement.blur()},lxe={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function cxe(t){var e=t.children,r=t.lockEnabled,n=t.captureEnabled,s=n===void 0?!0:n,i=t.onBottomArrive,o=t.onBottomLeave,l=t.onTopArrive,c=t.onTopLeave,d=sxe({isEnabled:s,onBottomArrive:i,onBottomLeave:o,onTopArrive:l,onTopLeave:c}),h=ixe({isEnabled:r}),m=function(y){d(y),h(y)};return qt(g.Fragment,null,r&&qt("div",{onClick:oxe,css:lxe}),e(m))}var uxe={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},dxe=function(e){var r=e.name,n=e.onFocus;return qt("input",{required:!0,name:r,tabIndex:-1,"aria-hidden":"true",onFocus:n,css:uxe,value:"",onChange:function(){}})},fxe=dxe;function jO(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function hxe(){return jO(/^iPhone/i)}function sU(){return jO(/^Mac/i)}function mxe(){return jO(/^iPad/i)||sU()&&navigator.maxTouchPoints>1}function pxe(){return hxe()||mxe()}function gxe(){return sU()||pxe()}var xxe=function(e){return e.label},iU=function(e){return e.label},oU=function(e){return e.value},yxe=function(e){return!!e.isDisabled},bxe={clearIndicator:nge,container:U0e,control:uge,dropdownIndicator:tge,group:mge,groupHeading:gge,indicatorsContainer:X0e,indicatorSeparator:sge,input:vge,loadingIndicator:lge,loadingMessage:B0e,menu:P0e,menuList:$0e,menuPortal:W0e,multiValue:kge,multiValueLabel:Cge,multiValueRemove:Tge,noOptionsMessage:H0e,option:Dge,placeholder:Ige,singleValue:Fge,valueContainer:Y0e},vxe={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},wxe=4,lU=4,jxe=38,Sxe=lU*2,Nxe={baseUnit:lU,controlHeight:jxe,menuGutter:Sxe},HN={borderRadius:wxe,colors:vxe,spacing:Nxe},kxe={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:PI(),captureMenuScroll:!PI(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:txe(),formatGroupLabel:xxe,getOptionLabel:iU,getOptionValue:oU,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:yxe,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!N0e(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var r=e.count;return"".concat(r," result").concat(r!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function UI(t,e,r,n){var s=dU(t,e,r),i=fU(t,e,r),o=uU(t,e),l=Hb(t,e);return{type:"option",data:e,isDisabled:s,isSelected:i,label:o,value:l,index:n}}function nb(t,e){return t.options.map(function(r,n){if("options"in r){var s=r.options.map(function(o,l){return UI(t,o,e,l)}).filter(function(o){return YI(t,o)});return s.length>0?{type:"group",data:r,options:s,index:n}:void 0}var i=UI(t,r,e,n);return YI(t,i)?i:void 0}).filter(T0e)}function cU(t){return t.reduce(function(e,r){return r.type==="group"?e.push.apply(e,If(r.options.map(function(n){return n.data}))):e.push(r.data),e},[])}function GI(t,e){return t.reduce(function(r,n){return n.type==="group"?r.push.apply(r,If(n.options.map(function(s){return{data:s.data,id:"".concat(e,"-").concat(n.index,"-").concat(s.index)}}))):r.push({data:n.data,id:"".concat(e,"-").concat(n.index)}),r},[])}function Cxe(t,e){return cU(nb(t,e))}function YI(t,e){var r=t.inputValue,n=r===void 0?"":r,s=e.data,i=e.isSelected,o=e.label,l=e.value;return(!mU(t)||!i)&&hU(t,{label:o,value:l,data:s},n)}function Txe(t,e){var r=t.focusedValue,n=t.selectValue,s=n.indexOf(r);if(s>-1){var i=e.indexOf(r);if(i>-1)return r;if(s<e.length)return e[s]}return null}function _xe(t,e){var r=t.focusedOption;return r&&e.indexOf(r)>-1?r:e[0]}var BN=function(e,r){var n,s=(n=e.find(function(i){return i.data===r}))===null||n===void 0?void 0:n.id;return s||null},uU=function(e,r){return e.getOptionLabel(r)},Hb=function(e,r){return e.getOptionValue(r)};function dU(t,e,r){return typeof t.isOptionDisabled=="function"?t.isOptionDisabled(e,r):!1}function fU(t,e,r){if(r.indexOf(e)>-1)return!0;if(typeof t.isOptionSelected=="function")return t.isOptionSelected(e,r);var n=Hb(t,e);return r.some(function(s){return Hb(t,s)===n})}function hU(t,e,r){return t.filterOption?t.filterOption(e,r):!0}var mU=function(e){var r=e.hideSelectedOptions,n=e.isMulti;return r===void 0?n:r},Mxe=1,SO=(function(t){fpe(r,t);var e=ppe(r);function r(n){var s;if(upe(this,r),s=e.call(this,n),s.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:"",isAppleDevice:!1},s.blockOptionHover=!1,s.isComposing=!1,s.commonProps=void 0,s.initialTouchX=0,s.initialTouchY=0,s.openAfterFocus=!1,s.scrollToFocusedOptionOnUpdate=!1,s.userIsDragging=void 0,s.controlRef=null,s.getControlRef=function(c){s.controlRef=c},s.focusedOptionRef=null,s.getFocusedOptionRef=function(c){s.focusedOptionRef=c},s.menuListRef=null,s.getMenuListRef=function(c){s.menuListRef=c},s.inputRef=null,s.getInputRef=function(c){s.inputRef=c},s.focus=s.focusInput,s.blur=s.blurInput,s.onChange=function(c,d){var h=s.props,m=h.onChange,x=h.name;d.name=x,s.ariaOnChange(c,d),m(c,d)},s.setValue=function(c,d,h){var m=s.props,x=m.closeMenuOnSelect,y=m.isMulti,w=m.inputValue;s.onInputChange("",{action:"set-value",prevInputValue:w}),x&&(s.setState({inputIsHiddenAfterUpdate:!y}),s.onMenuClose()),s.setState({clearFocusValueOnUpdate:!0}),s.onChange(c,{action:d,option:h})},s.selectOption=function(c){var d=s.props,h=d.blurInputOnSelect,m=d.isMulti,x=d.name,y=s.state.selectValue,w=m&&s.isOptionSelected(c,y),j=s.isOptionDisabled(c,y);if(w){var v=s.getOptionValue(c);s.setValue(y.filter(function(N){return s.getOptionValue(N)!==v}),"deselect-option",c)}else if(!j)m?s.setValue([].concat(If(y),[c]),"select-option",c):s.setValue(c,"select-option");else{s.ariaOnChange(c,{action:"select-option",option:c,name:x});return}h&&s.blurInput()},s.removeValue=function(c){var d=s.props.isMulti,h=s.state.selectValue,m=s.getOptionValue(c),x=h.filter(function(w){return s.getOptionValue(w)!==m}),y=yp(d,x,x[0]||null);s.onChange(y,{action:"remove-value",removedValue:c}),s.focusInput()},s.clearValue=function(){var c=s.state.selectValue;s.onChange(yp(s.props.isMulti,[],null),{action:"clear",removedValues:c})},s.popValue=function(){var c=s.props.isMulti,d=s.state.selectValue,h=d[d.length-1],m=d.slice(0,d.length-1),x=yp(c,m,m[0]||null);h&&s.onChange(x,{action:"pop-value",removedValue:h})},s.getFocusedOptionId=function(c){return BN(s.state.focusableOptionsWithIds,c)},s.getFocusableOptionsWithIds=function(){return GI(nb(s.props,s.state.selectValue),s.getElementId("option"))},s.getValue=function(){return s.state.selectValue},s.cx=function(){for(var c=arguments.length,d=new Array(c),h=0;h<c;h++)d[h]=arguments[h];return b0e.apply(void 0,[s.props.classNamePrefix].concat(d))},s.getOptionLabel=function(c){return uU(s.props,c)},s.getOptionValue=function(c){return Hb(s.props,c)},s.getStyles=function(c,d){var h=s.props.unstyled,m=bxe[c](d,h);m.boxSizing="border-box";var x=s.props.styles[c];return x?x(m,d):m},s.getClassNames=function(c,d){var h,m;return(h=(m=s.props.classNames)[c])===null||h===void 0?void 0:h.call(m,d)},s.getElementId=function(c){return"".concat(s.state.instancePrefix,"-").concat(c)},s.getComponents=function(){return Vge(s.props)},s.buildCategorizedOptions=function(){return nb(s.props,s.state.selectValue)},s.getCategorizedOptions=function(){return s.props.menuIsOpen?s.buildCategorizedOptions():[]},s.buildFocusableOptions=function(){return cU(s.buildCategorizedOptions())},s.getFocusableOptions=function(){return s.props.menuIsOpen?s.buildFocusableOptions():[]},s.ariaOnChange=function(c,d){s.setState({ariaSelection:Ut({value:c},d)})},s.onMenuMouseDown=function(c){c.button===0&&(c.stopPropagation(),c.preventDefault(),s.focusInput())},s.onMenuMouseMove=function(c){s.blockOptionHover=!1},s.onControlMouseDown=function(c){if(!c.defaultPrevented){var d=s.props.openMenuOnClick;s.state.isFocused?s.props.menuIsOpen?c.target.tagName!=="INPUT"&&c.target.tagName!=="TEXTAREA"&&s.onMenuClose():d&&s.openMenu("first"):(d&&(s.openAfterFocus=!0),s.focusInput()),c.target.tagName!=="INPUT"&&c.target.tagName!=="TEXTAREA"&&c.preventDefault()}},s.onDropdownIndicatorMouseDown=function(c){if(!(c&&c.type==="mousedown"&&c.button!==0)&&!s.props.isDisabled){var d=s.props,h=d.isMulti,m=d.menuIsOpen;s.focusInput(),m?(s.setState({inputIsHiddenAfterUpdate:!h}),s.onMenuClose()):s.openMenu("first"),c.preventDefault()}},s.onClearIndicatorMouseDown=function(c){c&&c.type==="mousedown"&&c.button!==0||(s.clearValue(),c.preventDefault(),s.openAfterFocus=!1,c.type==="touchend"?s.focusInput():setTimeout(function(){return s.focusInput()}))},s.onScroll=function(c){typeof s.props.closeMenuOnScroll=="boolean"?c.target instanceof HTMLElement&&Gw(c.target)&&s.props.onMenuClose():typeof s.props.closeMenuOnScroll=="function"&&s.props.closeMenuOnScroll(c)&&s.props.onMenuClose()},s.onCompositionStart=function(){s.isComposing=!0},s.onCompositionEnd=function(){s.isComposing=!1},s.onTouchStart=function(c){var d=c.touches,h=d&&d.item(0);h&&(s.initialTouchX=h.clientX,s.initialTouchY=h.clientY,s.userIsDragging=!1)},s.onTouchMove=function(c){var d=c.touches,h=d&&d.item(0);if(h){var m=Math.abs(h.clientX-s.initialTouchX),x=Math.abs(h.clientY-s.initialTouchY),y=5;s.userIsDragging=m>y||x>y}},s.onTouchEnd=function(c){s.userIsDragging||(s.controlRef&&!s.controlRef.contains(c.target)&&s.menuListRef&&!s.menuListRef.contains(c.target)&&s.blurInput(),s.initialTouchX=0,s.initialTouchY=0)},s.onControlTouchEnd=function(c){s.userIsDragging||s.onControlMouseDown(c)},s.onClearIndicatorTouchEnd=function(c){s.userIsDragging||s.onClearIndicatorMouseDown(c)},s.onDropdownIndicatorTouchEnd=function(c){s.userIsDragging||s.onDropdownIndicatorMouseDown(c)},s.handleInputChange=function(c){var d=s.props.inputValue,h=c.currentTarget.value;s.setState({inputIsHiddenAfterUpdate:!1}),s.onInputChange(h,{action:"input-change",prevInputValue:d}),s.props.menuIsOpen||s.onMenuOpen()},s.onInputFocus=function(c){s.props.onFocus&&s.props.onFocus(c),s.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(s.openAfterFocus||s.props.openMenuOnFocus)&&s.openMenu("first"),s.openAfterFocus=!1},s.onInputBlur=function(c){var d=s.props.inputValue;if(s.menuListRef&&s.menuListRef.contains(document.activeElement)){s.inputRef.focus();return}s.props.onBlur&&s.props.onBlur(c),s.onInputChange("",{action:"input-blur",prevInputValue:d}),s.onMenuClose(),s.setState({focusedValue:null,isFocused:!1})},s.onOptionHover=function(c){if(!(s.blockOptionHover||s.state.focusedOption===c)){var d=s.getFocusableOptions(),h=d.indexOf(c);s.setState({focusedOption:c,focusedOptionId:h>-1?s.getFocusedOptionId(c):null})}},s.shouldHideSelectedOptions=function(){return mU(s.props)},s.onValueInputFocus=function(c){c.preventDefault(),c.stopPropagation(),s.focus()},s.onKeyDown=function(c){var d=s.props,h=d.isMulti,m=d.backspaceRemovesValue,x=d.escapeClearsValue,y=d.inputValue,w=d.isClearable,j=d.isDisabled,v=d.menuIsOpen,N=d.onKeyDown,T=d.tabSelectsValue,S=d.openMenuOnFocus,O=s.state,_=O.focusedOption,A=O.focusedValue,E=O.selectValue;if(!j&&!(typeof N=="function"&&(N(c),c.defaultPrevented))){switch(s.blockOptionHover=!0,c.key){case"ArrowLeft":if(!h||y)return;s.focusValue("previous");break;case"ArrowRight":if(!h||y)return;s.focusValue("next");break;case"Delete":case"Backspace":if(y)return;if(A)s.removeValue(A);else{if(!m)return;h?s.popValue():w&&s.clearValue()}break;case"Tab":if(s.isComposing||c.shiftKey||!v||!T||!_||S&&s.isOptionSelected(_,E))return;s.selectOption(_);break;case"Enter":if(c.keyCode===229)break;if(v){if(!_||s.isComposing)return;s.selectOption(_);break}return;case"Escape":v?(s.setState({inputIsHiddenAfterUpdate:!1}),s.onInputChange("",{action:"menu-close",prevInputValue:y}),s.onMenuClose()):w&&x&&s.clearValue();break;case" ":if(y)return;if(!v){s.openMenu("first");break}if(!_)return;s.selectOption(_);break;case"ArrowUp":v?s.focusOption("up"):s.openMenu("last");break;case"ArrowDown":v?s.focusOption("down"):s.openMenu("first");break;case"PageUp":if(!v)return;s.focusOption("pageup");break;case"PageDown":if(!v)return;s.focusOption("pagedown");break;case"Home":if(!v)return;s.focusOption("first");break;case"End":if(!v)return;s.focusOption("last");break;default:return}c.preventDefault()}},s.state.instancePrefix="react-select-"+(s.props.instanceId||++Mxe),s.state.selectValue=$b(n.value),n.menuIsOpen&&s.state.selectValue.length){var i=s.getFocusableOptionsWithIds(),o=s.buildFocusableOptions(),l=o.indexOf(s.state.selectValue[0]);s.state.focusableOptionsWithIds=i,s.state.focusedOption=o[l],s.state.focusedOptionId=BN(i,o[l])}return s}return dpe(r,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&DI(this.menuListRef,this.focusedOptionRef),gxe()&&this.setState({isAppleDevice:!0})}},{key:"componentDidUpdate",value:function(s){var i=this.props,o=i.isDisabled,l=i.menuIsOpen,c=this.state.isFocused;(c&&!o&&s.isDisabled||c&&l&&!s.menuIsOpen)&&this.focusInput(),c&&o&&!s.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!c&&!o&&s.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(DI(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(s,i){this.props.onInputChange(s,i)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(s){var i=this,o=this.state,l=o.selectValue,c=o.isFocused,d=this.buildFocusableOptions(),h=s==="first"?0:d.length-1;if(!this.props.isMulti){var m=d.indexOf(l[0]);m>-1&&(h=m)}this.scrollToFocusedOptionOnUpdate=!(c&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:d[h],focusedOptionId:this.getFocusedOptionId(d[h])},function(){return i.onMenuOpen()})}},{key:"focusValue",value:function(s){var i=this.state,o=i.selectValue,l=i.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var c=o.indexOf(l);l||(c=-1);var d=o.length-1,h=-1;if(o.length){switch(s){case"previous":c===0?h=0:c===-1?h=d:h=c-1;break;case"next":c>-1&&c<d&&(h=c+1);break}this.setState({inputIsHidden:h!==-1,focusedValue:o[h]})}}}},{key:"focusOption",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",i=this.props.pageSize,o=this.state.focusedOption,l=this.getFocusableOptions();if(l.length){var c=0,d=l.indexOf(o);o||(d=-1),s==="up"?c=d>0?d-1:l.length-1:s==="down"?c=(d+1)%l.length:s==="pageup"?(c=d-i,c<0&&(c=0)):s==="pagedown"?(c=d+i,c>l.length-1&&(c=l.length-1)):s==="last"&&(c=l.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:l[c],focusedValue:null,focusedOptionId:this.getFocusedOptionId(l[c])})}}},{key:"getTheme",value:(function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(HN):Ut(Ut({},HN),this.props.theme):HN})},{key:"getCommonProps",value:function(){var s=this.clearValue,i=this.cx,o=this.getStyles,l=this.getClassNames,c=this.getValue,d=this.selectOption,h=this.setValue,m=this.props,x=m.isMulti,y=m.isRtl,w=m.options,j=this.hasValue();return{clearValue:s,cx:i,getStyles:o,getClassNames:l,getValue:c,hasValue:j,isMulti:x,isRtl:y,options:w,selectOption:d,selectProps:m,setValue:h,theme:this.getTheme()}}},{key:"hasValue",value:function(){var s=this.state.selectValue;return s.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var s=this.props,i=s.isClearable,o=s.isMulti;return i===void 0?o:i}},{key:"isOptionDisabled",value:function(s,i){return dU(this.props,s,i)}},{key:"isOptionSelected",value:function(s,i){return fU(this.props,s,i)}},{key:"filterOption",value:function(s,i){return hU(this.props,s,i)}},{key:"formatOptionLabel",value:function(s,i){if(typeof this.props.formatOptionLabel=="function"){var o=this.props.inputValue,l=this.state.selectValue;return this.props.formatOptionLabel(s,{context:i,inputValue:o,selectValue:l})}else return this.getOptionLabel(s)}},{key:"formatGroupLabel",value:function(s){return this.props.formatGroupLabel(s)}},{key:"startListeningComposition",value:(function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))})},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:(function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))})},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:(function(){var s=this.props,i=s.isDisabled,o=s.isSearchable,l=s.inputId,c=s.inputValue,d=s.tabIndex,h=s.form,m=s.menuIsOpen,x=s.required,y=this.getComponents(),w=y.Input,j=this.state,v=j.inputIsHidden,N=j.ariaSelection,T=this.commonProps,S=l||this.getElementId("input"),O=Ut(Ut(Ut({"aria-autocomplete":"list","aria-expanded":m,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":x,role:"combobox","aria-activedescendant":this.state.isAppleDevice?void 0:this.state.focusedOptionId||""},m&&{"aria-controls":this.getElementId("listbox")}),!o&&{"aria-readonly":!0}),this.hasValue()?(N==null?void 0:N.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return o?g.createElement(w,Xt({},T,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:S,innerRef:this.getInputRef,isDisabled:i,isHidden:v,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:d,form:h,type:"text",value:c},O)):g.createElement(nxe,Xt({id:S,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:Lb,onFocus:this.onInputFocus,disabled:i,tabIndex:d,inputMode:"none",form:h,value:""},O))})},{key:"renderPlaceholderOrValue",value:function(){var s=this,i=this.getComponents(),o=i.MultiValue,l=i.MultiValueContainer,c=i.MultiValueLabel,d=i.MultiValueRemove,h=i.SingleValue,m=i.Placeholder,x=this.commonProps,y=this.props,w=y.controlShouldRenderValue,j=y.isDisabled,v=y.isMulti,N=y.inputValue,T=y.placeholder,S=this.state,O=S.selectValue,_=S.focusedValue,A=S.isFocused;if(!this.hasValue()||!w)return N?null:g.createElement(m,Xt({},x,{key:"placeholder",isDisabled:j,isFocused:A,innerProps:{id:this.getElementId("placeholder")}}),T);if(v)return O.map(function(D,$){var I=D===_,L="".concat(s.getOptionLabel(D),"-").concat(s.getOptionValue(D));return g.createElement(o,Xt({},x,{components:{Container:l,Label:c,Remove:d},isFocused:I,isDisabled:j,key:L,index:$,removeProps:{onClick:function(){return s.removeValue(D)},onTouchEnd:function(){return s.removeValue(D)},onMouseDown:function(z){z.preventDefault()}},data:D}),s.formatOptionLabel(D,"value"))});if(N)return null;var E=O[0];return g.createElement(h,Xt({},x,{data:E,isDisabled:j}),this.formatOptionLabel(E,"value"))}},{key:"renderClearIndicator",value:function(){var s=this.getComponents(),i=s.ClearIndicator,o=this.commonProps,l=this.props,c=l.isDisabled,d=l.isLoading,h=this.state.isFocused;if(!this.isClearable()||!i||c||!this.hasValue()||d)return null;var m={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return g.createElement(i,Xt({},o,{innerProps:m,isFocused:h}))}},{key:"renderLoadingIndicator",value:function(){var s=this.getComponents(),i=s.LoadingIndicator,o=this.commonProps,l=this.props,c=l.isDisabled,d=l.isLoading,h=this.state.isFocused;if(!i||!d)return null;var m={"aria-hidden":"true"};return g.createElement(i,Xt({},o,{innerProps:m,isDisabled:c,isFocused:h}))}},{key:"renderIndicatorSeparator",value:function(){var s=this.getComponents(),i=s.DropdownIndicator,o=s.IndicatorSeparator;if(!i||!o)return null;var l=this.commonProps,c=this.props.isDisabled,d=this.state.isFocused;return g.createElement(o,Xt({},l,{isDisabled:c,isFocused:d}))}},{key:"renderDropdownIndicator",value:function(){var s=this.getComponents(),i=s.DropdownIndicator;if(!i)return null;var o=this.commonProps,l=this.props.isDisabled,c=this.state.isFocused,d={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return g.createElement(i,Xt({},o,{innerProps:d,isDisabled:l,isFocused:c}))}},{key:"renderMenu",value:function(){var s=this,i=this.getComponents(),o=i.Group,l=i.GroupHeading,c=i.Menu,d=i.MenuList,h=i.MenuPortal,m=i.LoadingMessage,x=i.NoOptionsMessage,y=i.Option,w=this.commonProps,j=this.state.focusedOption,v=this.props,N=v.captureMenuScroll,T=v.inputValue,S=v.isLoading,O=v.loadingMessage,_=v.minMenuHeight,A=v.maxMenuHeight,E=v.menuIsOpen,D=v.menuPlacement,$=v.menuPosition,I=v.menuPortalTarget,L=v.menuShouldBlockScroll,R=v.menuShouldScrollIntoView,z=v.noOptionsMessage,Y=v.onMenuScrollToTop,W=v.onMenuScrollToBottom;if(!E)return null;var H=function(ie,oe){var le=ie.type,ge=ie.data,Le=ie.isDisabled,Oe=ie.isSelected,xe=ie.label,Me=ie.value,Be=j===ge,re=Le?void 0:function(){return s.onOptionHover(ge)},se=Le?void 0:function(){return s.selectOption(ge)},ee="".concat(s.getElementId("option"),"-").concat(oe),ve={id:ee,onClick:se,onMouseMove:re,onMouseOver:re,tabIndex:-1,role:"option","aria-selected":s.state.isAppleDevice?void 0:Oe};return g.createElement(y,Xt({},w,{innerProps:ve,data:ge,isDisabled:Le,isSelected:Oe,key:ee,label:xe,type:le,value:Me,isFocused:Be,innerRef:Be?s.getFocusedOptionRef:void 0}),s.formatOptionLabel(ie.data,"menu"))},P;if(this.hasOptions())P=this.getCategorizedOptions().map(function(Z){if(Z.type==="group"){var ie=Z.data,oe=Z.options,le=Z.index,ge="".concat(s.getElementId("group"),"-").concat(le),Le="".concat(ge,"-heading");return g.createElement(o,Xt({},w,{key:ge,data:ie,options:oe,Heading:l,headingProps:{id:Le,data:Z.data},label:s.formatGroupLabel(Z.data)}),Z.options.map(function(Oe){return H(Oe,"".concat(le,"-").concat(Oe.index))}))}else if(Z.type==="option")return H(Z,"".concat(Z.index))});else if(S){var F=O({inputValue:T});if(F===null)return null;P=g.createElement(m,w,F)}else{var X=z({inputValue:T});if(X===null)return null;P=g.createElement(x,w,X)}var te={minMenuHeight:_,maxMenuHeight:A,menuPlacement:D,menuPosition:$,menuShouldScrollIntoView:R},q=g.createElement(R0e,Xt({},w,te),function(Z){var ie=Z.ref,oe=Z.placerProps,le=oe.placement,ge=oe.maxHeight;return g.createElement(c,Xt({},w,te,{innerRef:ie,innerProps:{onMouseDown:s.onMenuMouseDown,onMouseMove:s.onMenuMouseMove},isLoading:S,placement:le}),g.createElement(cxe,{captureEnabled:N,onTopArrive:Y,onBottomArrive:W,lockEnabled:L},function(Le){return g.createElement(d,Xt({},w,{innerRef:function(xe){s.getMenuListRef(xe),Le(xe)},innerProps:{role:"listbox","aria-multiselectable":w.isMulti,id:s.getElementId("listbox")},isLoading:S,maxHeight:ge,focusedOption:j}),P)}))});return I||$==="fixed"?g.createElement(h,Xt({},w,{appendTo:I,controlElement:this.controlRef,menuPlacement:D,menuPosition:$}),q):q}},{key:"renderFormField",value:function(){var s=this,i=this.props,o=i.delimiter,l=i.isDisabled,c=i.isMulti,d=i.name,h=i.required,m=this.state.selectValue;if(h&&!this.hasValue()&&!l)return g.createElement(fxe,{name:d,onFocus:this.onValueInputFocus});if(!(!d||l))if(c)if(o){var x=m.map(function(j){return s.getOptionValue(j)}).join(o);return g.createElement("input",{name:d,type:"hidden",value:x})}else{var y=m.length>0?m.map(function(j,v){return g.createElement("input",{key:"i-".concat(v),name:d,type:"hidden",value:s.getOptionValue(j)})}):g.createElement("input",{name:d,type:"hidden",value:""});return g.createElement("div",null,y)}else{var w=m[0]?this.getOptionValue(m[0]):"";return g.createElement("input",{name:d,type:"hidden",value:w})}}},{key:"renderLiveRegion",value:function(){var s=this.commonProps,i=this.state,o=i.ariaSelection,l=i.focusedOption,c=i.focusedValue,d=i.isFocused,h=i.selectValue,m=this.getFocusableOptions();return g.createElement(Jge,Xt({},s,{id:this.getElementId("live-region"),ariaSelection:o,focusedOption:l,focusedValue:c,isFocused:d,selectValue:h,focusableOptions:m,isAppleDevice:this.state.isAppleDevice}))}},{key:"render",value:function(){var s=this.getComponents(),i=s.Control,o=s.IndicatorsContainer,l=s.SelectContainer,c=s.ValueContainer,d=this.props,h=d.className,m=d.id,x=d.isDisabled,y=d.menuIsOpen,w=this.state.isFocused,j=this.commonProps=this.getCommonProps();return g.createElement(l,Xt({},j,{className:h,innerProps:{id:m,onKeyDown:this.onKeyDown},isDisabled:x,isFocused:w}),this.renderLiveRegion(),g.createElement(i,Xt({},j,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:x,isFocused:w,menuIsOpen:y}),g.createElement(c,Xt({},j,{isDisabled:x}),this.renderPlaceholderOrValue(),this.renderInput()),g.createElement(o,Xt({},j,{isDisabled:x}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(s,i){var o=i.prevProps,l=i.clearFocusValueOnUpdate,c=i.inputIsHiddenAfterUpdate,d=i.ariaSelection,h=i.isFocused,m=i.prevWasFocused,x=i.instancePrefix,y=s.options,w=s.value,j=s.menuIsOpen,v=s.inputValue,N=s.isMulti,T=$b(w),S={};if(o&&(w!==o.value||y!==o.options||j!==o.menuIsOpen||v!==o.inputValue)){var O=j?Cxe(s,T):[],_=j?GI(nb(s,T),"".concat(x,"-option")):[],A=l?Txe(i,T):null,E=_xe(i,O),D=BN(_,E);S={selectValue:T,focusedOption:E,focusedOptionId:D,focusableOptionsWithIds:_,focusedValue:A,clearFocusValueOnUpdate:!1}}var $=c!=null&&s!==o?{inputIsHidden:c,inputIsHiddenAfterUpdate:void 0}:{},I=d,L=h&&m;return h&&!L&&(I={value:yp(N,T,T[0]||null),options:T,action:"initial-input-focus"},L=!m),(d==null?void 0:d.action)==="initial-input-focus"&&(I=null),Ut(Ut(Ut({},S),$),{},{prevProps:s,ariaSelection:I,prevWasFocused:L})}}]),r})(g.Component);SO.defaultProps=kxe;var Axe=g.forwardRef(function(t,e){var r=Dq(t);return g.createElement(SO,Xt({ref:e},r))}),Er=Axe;function Ia(t){this.content=t}Ia.prototype={constructor:Ia,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,r){var n=r&&r!=t?this.remove(r):this,s=n.find(t),i=n.content.slice();return s==-1?i.push(r||t,e):(i[s+1]=e,r&&(i[s]=r)),new Ia(i)},remove:function(t){var e=this.find(t);if(e==-1)return this;var r=this.content.slice();return r.splice(e,2),new Ia(r)},addToStart:function(t,e){return new Ia([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var r=this.remove(t).content.slice();return r.push(t,e),new Ia(r)},addBefore:function(t,e,r){var n=this.remove(e),s=n.content.slice(),i=n.find(t);return s.splice(i==-1?s.length:i,0,e,r),new Ia(s)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=Ia.from(t),t.size?new Ia(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=Ia.from(t),t.size?new Ia(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=Ia.from(t);for(var r=0;r<t.content.length;r+=2)e=e.remove(t.content[r]);return e},toObject:function(){var t={};return this.forEach(function(e,r){t[e]=r}),t},get size(){return this.content.length>>1}};Ia.from=function(t){if(t instanceof Ia)return t;var e=[];if(t)for(var r in t)e.push(r,t[r]);return new Ia(e)};function pU(t,e,r){for(let n=0;;n++){if(n==t.childCount||n==e.childCount)return t.childCount==e.childCount?null:r;let s=t.child(n),i=e.child(n);if(s==i){r+=s.nodeSize;continue}if(!s.sameMarkup(i))return r;if(s.isText&&s.text!=i.text){for(let o=0;s.text[o]==i.text[o];o++)r++;return r}if(s.content.size||i.content.size){let o=pU(s.content,i.content,r+1);if(o!=null)return o}r+=s.nodeSize}}function gU(t,e,r,n){for(let s=t.childCount,i=e.childCount;;){if(s==0||i==0)return s==i?null:{a:r,b:n};let o=t.child(--s),l=e.child(--i),c=o.nodeSize;if(o==l){r-=c,n-=c;continue}if(!o.sameMarkup(l))return{a:r,b:n};if(o.isText&&o.text!=l.text){let d=0,h=Math.min(o.text.length,l.text.length);for(;d<h&&o.text[o.text.length-d-1]==l.text[l.text.length-d-1];)d++,r--,n--;return{a:r,b:n}}if(o.content.size||l.content.size){let d=gU(o.content,l.content,r-1,n-1);if(d)return d}r-=c,n-=c}}class it{constructor(e,r){if(this.content=e,this.size=r||0,r==null)for(let n=0;n<e.length;n++)this.size+=e[n].nodeSize}nodesBetween(e,r,n,s=0,i){for(let o=0,l=0;l<r;o++){let c=this.content[o],d=l+c.nodeSize;if(d>e&&n(c,s+l,i||null,o)!==!1&&c.content.size){let h=l+1;c.nodesBetween(Math.max(0,e-h),Math.min(c.content.size,r-h),n,s+h)}l=d}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,r,n,s){let i="",o=!0;return this.nodesBetween(e,r,(l,c)=>{let d=l.isText?l.text.slice(Math.max(e,c)-c,r-c):l.isLeaf?s?typeof s=="function"?s(l):s:l.type.spec.leafText?l.type.spec.leafText(l):"":"";l.isBlock&&(l.isLeaf&&d||l.isTextblock)&&n&&(o?o=!1:i+=n),i+=d},0),i}append(e){if(!e.size)return this;if(!this.size)return e;let r=this.lastChild,n=e.firstChild,s=this.content.slice(),i=0;for(r.isText&&r.sameMarkup(n)&&(s[s.length-1]=r.withText(r.text+n.text),i=1);i<e.content.length;i++)s.push(e.content[i]);return new it(s,this.size+e.size)}cut(e,r=this.size){if(e==0&&r==this.size)return this;let n=[],s=0;if(r>e)for(let i=0,o=0;o<r;i++){let l=this.content[i],c=o+l.nodeSize;c>e&&((o<e||c>r)&&(l.isText?l=l.cut(Math.max(0,e-o),Math.min(l.text.length,r-o)):l=l.cut(Math.max(0,e-o-1),Math.min(l.content.size,r-o-1))),n.push(l),s+=l.nodeSize),o=c}return new it(n,s)}cutByIndex(e,r){return e==r?it.empty:e==0&&r==this.content.length?this:new it(this.content.slice(e,r))}replaceChild(e,r){let n=this.content[e];if(n==r)return this;let s=this.content.slice(),i=this.size+r.nodeSize-n.nodeSize;return s[e]=r,new it(s,i)}addToStart(e){return new it([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new it(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let r=0;r<this.content.length;r++)if(!this.content[r].eq(e.content[r]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let r=this.content[e];if(!r)throw new RangeError("Index "+e+" out of range for "+this);return r}maybeChild(e){return this.content[e]||null}forEach(e){for(let r=0,n=0;r<this.content.length;r++){let s=this.content[r];e(s,n,r),n+=s.nodeSize}}findDiffStart(e,r=0){return pU(this,e,r)}findDiffEnd(e,r=this.size,n=e.size){return gU(this,e,r,n)}findIndex(e){if(e==0)return ly(0,e);if(e==this.size)return ly(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,n=0;;r++){let s=this.child(r),i=n+s.nodeSize;if(i>=e)return i==e?ly(r+1,i):ly(r,n);n=i}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,r){if(!r)return it.empty;if(!Array.isArray(r))throw new RangeError("Invalid input for Fragment.fromJSON");return new it(r.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return it.empty;let r,n=0;for(let s=0;s<e.length;s++){let i=e[s];n+=i.nodeSize,s&&i.isText&&e[s-1].sameMarkup(i)?(r||(r=e.slice(0,s)),r[r.length-1]=i.withText(r[r.length-1].text+i.text)):r&&r.push(i)}return new it(r||e,n)}static from(e){if(!e)return it.empty;if(e instanceof it)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new it([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}it.empty=new it([],0);const zN={index:0,offset:0};function ly(t,e){return zN.index=t,zN.offset=e,zN}function Bb(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let r=Array.isArray(t);if(Array.isArray(e)!=r)return!1;if(r){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!Bb(t[n],e[n]))return!1}else{for(let n in t)if(!(n in e)||!Bb(t[n],e[n]))return!1;for(let n in e)if(!(n in t))return!1}return!0}let ln=class p_{constructor(e,r){this.type=e,this.attrs=r}addToSet(e){let r,n=!1;for(let s=0;s<e.length;s++){let i=e[s];if(this.eq(i))return e;if(this.type.excludes(i.type))r||(r=e.slice(0,s));else{if(i.type.excludes(this.type))return e;!n&&i.type.rank>this.type.rank&&(r||(r=e.slice(0,s)),r.push(this),n=!0),r&&r.push(i)}}return r||(r=e.slice()),n||r.push(this),r}removeFromSet(e){for(let r=0;r<e.length;r++)if(this.eq(e[r]))return e.slice(0,r).concat(e.slice(r+1));return e}isInSet(e){for(let r=0;r<e.length;r++)if(this.eq(e[r]))return!0;return!1}eq(e){return this==e||this.type==e.type&&Bb(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let r in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,r){if(!r)throw new RangeError("Invalid input for Mark.fromJSON");let n=e.marks[r.type];if(!n)throw new RangeError(`There is no mark type ${r.type} in this schema`);let s=n.create(r.attrs);return n.checkAttrs(s.attrs),s}static sameSet(e,r){if(e==r)return!0;if(e.length!=r.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].eq(r[n]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return p_.none;if(e instanceof p_)return[e];let r=e.slice();return r.sort((n,s)=>n.type.rank-s.type.rank),r}};ln.none=[];class zb extends Error{}class _t{constructor(e,r,n){this.content=e,this.openStart=r,this.openEnd=n}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,r){let n=yU(this.content,e+this.openStart,r);return n&&new _t(n,this.openStart,this.openEnd)}removeBetween(e,r){return new _t(xU(this.content,e+this.openStart,r+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,r){if(!r)return _t.empty;let n=r.openStart||0,s=r.openEnd||0;if(typeof n!="number"||typeof s!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new _t(it.fromJSON(e,r.content),n,s)}static maxOpen(e,r=!0){let n=0,s=0;for(let i=e.firstChild;i&&!i.isLeaf&&(r||!i.type.spec.isolating);i=i.firstChild)n++;for(let i=e.lastChild;i&&!i.isLeaf&&(r||!i.type.spec.isolating);i=i.lastChild)s++;return new _t(e,n,s)}}_t.empty=new _t(it.empty,0,0);function xU(t,e,r){let{index:n,offset:s}=t.findIndex(e),i=t.maybeChild(n),{index:o,offset:l}=t.findIndex(r);if(s==e||i.isText){if(l!=r&&!t.child(o).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(r))}if(n!=o)throw new RangeError("Removing non-flat range");return t.replaceChild(n,i.copy(xU(i.content,e-s-1,r-s-1)))}function yU(t,e,r,n){let{index:s,offset:i}=t.findIndex(e),o=t.maybeChild(s);if(i==e||o.isText)return n&&!n.canReplace(s,s,r)?null:t.cut(0,e).append(r).append(t.cut(e));let l=yU(o.content,e-i-1,r,o);return l&&t.replaceChild(s,o.copy(l))}function Oxe(t,e,r){if(r.openStart>t.depth)throw new zb("Inserted content deeper than insertion position");if(t.depth-r.openStart!=e.depth-r.openEnd)throw new zb("Inconsistent open depths");return bU(t,e,r,0)}function bU(t,e,r,n){let s=t.index(n),i=t.node(n);if(s==e.index(n)&&n<t.depth-r.openStart){let o=bU(t,e,r,n+1);return i.copy(i.content.replaceChild(s,o))}else if(r.content.size)if(!r.openStart&&!r.openEnd&&t.depth==n&&e.depth==n){let o=t.parent,l=o.content;return Yu(o,l.cut(0,t.parentOffset).append(r.content).append(l.cut(e.parentOffset)))}else{let{start:o,end:l}=Exe(r,t);return Yu(i,wU(t,o,l,e,n))}else return Yu(i,Vb(t,e,n))}function vU(t,e){if(!e.type.compatibleContent(t.type))throw new zb("Cannot join "+e.type.name+" onto "+t.type.name)}function g_(t,e,r){let n=t.node(r);return vU(n,e.node(r)),n}function Gu(t,e){let r=e.length-1;r>=0&&t.isText&&t.sameMarkup(e[r])?e[r]=t.withText(e[r].text+t.text):e.push(t)}function Op(t,e,r,n){let s=(e||t).node(r),i=0,o=e?e.index(r):s.childCount;t&&(i=t.index(r),t.depth>r?i++:t.textOffset&&(Gu(t.nodeAfter,n),i++));for(let l=i;l<o;l++)Gu(s.child(l),n);e&&e.depth==r&&e.textOffset&&Gu(e.nodeBefore,n)}function Yu(t,e){return t.type.checkContent(e),t.copy(e)}function wU(t,e,r,n,s){let i=t.depth>s&&g_(t,e,s+1),o=n.depth>s&&g_(r,n,s+1),l=[];return Op(null,t,s,l),i&&o&&e.index(s)==r.index(s)?(vU(i,o),Gu(Yu(i,wU(t,e,r,n,s+1)),l)):(i&&Gu(Yu(i,Vb(t,e,s+1)),l),Op(e,r,s,l),o&&Gu(Yu(o,Vb(r,n,s+1)),l)),Op(n,null,s,l),new it(l)}function Vb(t,e,r){let n=[];if(Op(null,t,r,n),t.depth>r){let s=g_(t,e,r+1);Gu(Yu(s,Vb(t,e,r+1)),n)}return Op(e,null,r,n),new it(n)}function Exe(t,e){let r=e.depth-t.openStart,s=e.node(r).copy(t.content);for(let i=r-1;i>=0;i--)s=e.node(i).copy(it.from(s));return{start:s.resolveNoCache(t.openStart+r),end:s.resolveNoCache(s.content.size-t.openEnd-r)}}class o0{constructor(e,r,n){this.pos=e,this.path=r,this.parentOffset=n,this.depth=r.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,r=this.index(this.depth);if(r==e.childCount)return null;let n=this.pos-this.path[this.path.length-1],s=e.child(r);return n?e.child(r).cut(n):s}get nodeBefore(){let e=this.index(this.depth),r=this.pos-this.path[this.path.length-1];return r?this.parent.child(e).cut(0,r):e==0?null:this.parent.child(e-1)}posAtIndex(e,r){r=this.resolveDepth(r);let n=this.path[r*3],s=r==0?0:this.path[r*3-1]+1;for(let i=0;i<e;i++)s+=n.child(i).nodeSize;return s}marks(){let e=this.parent,r=this.index();if(e.content.size==0)return ln.none;if(this.textOffset)return e.child(r).marks;let n=e.maybeChild(r-1),s=e.maybeChild(r);if(!n){let l=n;n=s,s=l}let i=n.marks;for(var o=0;o<i.length;o++)i[o].type.spec.inclusive===!1&&(!s||!i[o].isInSet(s.marks))&&(i=i[o--].removeFromSet(i));return i}marksAcross(e){let r=this.parent.maybeChild(this.index());if(!r||!r.isInline)return null;let n=r.marks,s=e.parent.maybeChild(e.index());for(var i=0;i<n.length;i++)n[i].type.spec.inclusive===!1&&(!s||!n[i].isInSet(s.marks))&&(n=n[i--].removeFromSet(n));return n}sharedDepth(e){for(let r=this.depth;r>0;r--)if(this.start(r)<=e&&this.end(r)>=e)return r;return 0}blockRange(e=this,r){if(e.pos<this.pos)return e.blockRange(this);for(let n=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);n>=0;n--)if(e.pos<=this.end(n)&&(!r||r(this.node(n))))return new Wb(this,e,n);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let r=1;r<=this.depth;r++)e+=(e?"/":"")+this.node(r).type.name+"_"+this.index(r-1);return e+":"+this.parentOffset}static resolve(e,r){if(!(r>=0&&r<=e.content.size))throw new RangeError("Position "+r+" out of range");let n=[],s=0,i=r;for(let o=e;;){let{index:l,offset:c}=o.content.findIndex(i),d=i-c;if(n.push(o,l,s+c),!d||(o=o.child(l),o.isText))break;i=d-1,s+=c+1}return new o0(r,n,i)}static resolveCached(e,r){let n=KI.get(e);if(n)for(let i=0;i<n.elts.length;i++){let o=n.elts[i];if(o.pos==r)return o}else KI.set(e,n=new Dxe);let s=n.elts[n.i]=o0.resolve(e,r);return n.i=(n.i+1)%Pxe,s}}class Dxe{constructor(){this.elts=[],this.i=0}}const Pxe=12,KI=new WeakMap;class Wb{constructor(e,r,n){this.$from=e,this.$to=r,this.depth=n}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const Rxe=Object.create(null);let Oc=class x_{constructor(e,r,n,s=ln.none){this.type=e,this.attrs=r,this.marks=s,this.content=n||it.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,r,n,s=0){this.content.nodesBetween(e,r,n,s,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,r,n,s){return this.content.textBetween(e,r,n,s)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,r,n){return this.type==e&&Bb(this.attrs,r||e.defaultAttrs||Rxe)&&ln.sameSet(this.marks,n||ln.none)}copy(e=null){return e==this.content?this:new x_(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new x_(this.type,this.attrs,this.content,e)}cut(e,r=this.content.size){return e==0&&r==this.content.size?this:this.copy(this.content.cut(e,r))}slice(e,r=this.content.size,n=!1){if(e==r)return _t.empty;let s=this.resolve(e),i=this.resolve(r),o=n?0:s.sharedDepth(r),l=s.start(o),d=s.node(o).content.cut(s.pos-l,i.pos-l);return new _t(d,s.depth-o,i.depth-o)}replace(e,r,n){return Oxe(this.resolve(e),this.resolve(r),n)}nodeAt(e){for(let r=this;;){let{index:n,offset:s}=r.content.findIndex(e);if(r=r.maybeChild(n),!r)return null;if(s==e||r.isText)return r;e-=s+1}}childAfter(e){let{index:r,offset:n}=this.content.findIndex(e);return{node:this.content.maybeChild(r),index:r,offset:n}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:r,offset:n}=this.content.findIndex(e);if(n<e)return{node:this.content.child(r),index:r,offset:n};let s=this.content.child(r-1);return{node:s,index:r-1,offset:n-s.nodeSize}}resolve(e){return o0.resolveCached(this,e)}resolveNoCache(e){return o0.resolve(this,e)}rangeHasMark(e,r,n){let s=!1;return r>e&&this.nodesBetween(e,r,i=>(n.isInSet(i.marks)&&(s=!0),!s)),s}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),jU(this.marks,e)}contentMatchAt(e){let r=this.type.contentMatch.matchFragment(this.content,0,e);if(!r)throw new Error("Called contentMatchAt on a node with invalid content");return r}canReplace(e,r,n=it.empty,s=0,i=n.childCount){let o=this.contentMatchAt(e).matchFragment(n,s,i),l=o&&o.matchFragment(this.content,r);if(!l||!l.validEnd)return!1;for(let c=s;c<i;c++)if(!this.type.allowsMarks(n.child(c).marks))return!1;return!0}canReplaceWith(e,r,n,s){if(s&&!this.type.allowsMarks(s))return!1;let i=this.contentMatchAt(e).matchType(n),o=i&&i.matchFragment(this.content,r);return o?o.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=ln.none;for(let r=0;r<this.marks.length;r++){let n=this.marks[r];n.type.checkAttrs(n.attrs),e=n.addToSet(e)}if(!ln.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(r=>r.type.name)}`);this.content.forEach(r=>r.check())}toJSON(){let e={type:this.type.name};for(let r in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(r=>r.toJSON())),e}static fromJSON(e,r){if(!r)throw new RangeError("Invalid input for Node.fromJSON");let n;if(r.marks){if(!Array.isArray(r.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=r.marks.map(e.markFromJSON)}if(r.type=="text"){if(typeof r.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(r.text,n)}let s=it.fromJSON(e,r.content),i=e.nodeType(r.type).create(r.attrs,s,n);return i.type.checkAttrs(i.attrs),i}};Oc.prototype.text=void 0;class qb extends Oc{constructor(e,r,n,s){if(super(e,r,null,s),!n)throw new RangeError("Empty text nodes are not allowed");this.text=n}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):jU(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,r){return this.text.slice(e,r)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new qb(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new qb(this.type,this.attrs,e,this.marks)}cut(e=0,r=this.text.length){return e==0&&r==this.text.length?this:this.withText(this.text.slice(e,r))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function jU(t,e){for(let r=t.length-1;r>=0;r--)e=t[r].type.name+"("+e+")";return e}class sd{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,r){let n=new Ixe(e,r);if(n.next==null)return sd.empty;let s=SU(n);n.next&&n.err("Unexpected trailing text");let i=Vxe(zxe(s));return Wxe(i,n),i}matchType(e){for(let r=0;r<this.next.length;r++)if(this.next[r].type==e)return this.next[r].next;return null}matchFragment(e,r=0,n=e.childCount){let s=this;for(let i=r;s&&i<n;i++)s=s.matchType(e.child(i).type);return s}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:r}=this.next[e];if(!(r.isText||r.hasRequiredAttrs()))return r}return null}compatible(e){for(let r=0;r<this.next.length;r++)for(let n=0;n<e.next.length;n++)if(this.next[r].type==e.next[n].type)return!0;return!1}fillBefore(e,r=!1,n=0){let s=[this];function i(o,l){let c=o.matchFragment(e,n);if(c&&(!r||c.validEnd))return it.from(l.map(d=>d.createAndFill()));for(let d=0;d<o.next.length;d++){let{type:h,next:m}=o.next[d];if(!(h.isText||h.hasRequiredAttrs())&&s.indexOf(m)==-1){s.push(m);let x=i(m,l.concat(h));if(x)return x}}return null}return i(this,[])}findWrapping(e){for(let n=0;n<this.wrapCache.length;n+=2)if(this.wrapCache[n]==e)return this.wrapCache[n+1];let r=this.computeWrapping(e);return this.wrapCache.push(e,r),r}computeWrapping(e){let r=Object.create(null),n=[{match:this,type:null,via:null}];for(;n.length;){let s=n.shift(),i=s.match;if(i.matchType(e)){let o=[];for(let l=s;l.type;l=l.via)o.push(l.type);return o.reverse()}for(let o=0;o<i.next.length;o++){let{type:l,next:c}=i.next[o];!l.isLeaf&&!l.hasRequiredAttrs()&&!(l.name in r)&&(!s.type||c.validEnd)&&(n.push({match:l.contentMatch,type:l,via:s}),r[l.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function r(n){e.push(n);for(let s=0;s<n.next.length;s++)e.indexOf(n.next[s].next)==-1&&r(n.next[s].next)}return r(this),e.map((n,s)=>{let i=s+(n.validEnd?"*":" ")+" ";for(let o=0;o<n.next.length;o++)i+=(o?", ":"")+n.next[o].type.name+"->"+e.indexOf(n.next[o].next);return i}).join(`
`)}}sd.empty=new sd(!0);class Ixe{constructor(e,r){this.string=e,this.nodeTypes=r,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function SU(t){let e=[];do e.push(Lxe(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function Lxe(t){let e=[];do e.push($xe(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function $xe(t){let e=Bxe(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=Fxe(t,e);else break;return e}function XI(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function Fxe(t,e){let r=XI(t),n=r;return t.eat(",")&&(t.next!="}"?n=XI(t):n=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:r,max:n,expr:e}}function Hxe(t,e){let r=t.nodeTypes,n=r[e];if(n)return[n];let s=[];for(let i in r){let o=r[i];o.isInGroup(e)&&s.push(o)}return s.length==0&&t.err("No node type or group '"+e+"' found"),s}function Bxe(t){if(t.eat("(")){let e=SU(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=Hxe(t,t.next).map(r=>(t.inline==null?t.inline=r.isInline:t.inline!=r.isInline&&t.err("Mixing inline and block content"),{type:"name",value:r}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function zxe(t){let e=[[]];return s(i(t,0),r()),e;function r(){return e.push([])-1}function n(o,l,c){let d={term:c,to:l};return e[o].push(d),d}function s(o,l){o.forEach(c=>c.to=l)}function i(o,l){if(o.type=="choice")return o.exprs.reduce((c,d)=>c.concat(i(d,l)),[]);if(o.type=="seq")for(let c=0;;c++){let d=i(o.exprs[c],l);if(c==o.exprs.length-1)return d;s(d,l=r())}else if(o.type=="star"){let c=r();return n(l,c),s(i(o.expr,c),c),[n(c)]}else if(o.type=="plus"){let c=r();return s(i(o.expr,l),c),s(i(o.expr,c),c),[n(c)]}else{if(o.type=="opt")return[n(l)].concat(i(o.expr,l));if(o.type=="range"){let c=l;for(let d=0;d<o.min;d++){let h=r();s(i(o.expr,c),h),c=h}if(o.max==-1)s(i(o.expr,c),c);else for(let d=o.min;d<o.max;d++){let h=r();n(c,h),s(i(o.expr,c),h),c=h}return[n(c)]}else{if(o.type=="name")return[n(l,void 0,o.value)];throw new Error("Unknown expr type")}}}}function NU(t,e){return e-t}function JI(t,e){let r=[];return n(e),r.sort(NU);function n(s){let i=t[s];if(i.length==1&&!i[0].term)return n(i[0].to);r.push(s);for(let o=0;o<i.length;o++){let{term:l,to:c}=i[o];!l&&r.indexOf(c)==-1&&n(c)}}}function Vxe(t){let e=Object.create(null);return r(JI(t,0));function r(n){let s=[];n.forEach(o=>{t[o].forEach(({term:l,to:c})=>{if(!l)return;let d;for(let h=0;h<s.length;h++)s[h][0]==l&&(d=s[h][1]);JI(t,c).forEach(h=>{d||s.push([l,d=[]]),d.indexOf(h)==-1&&d.push(h)})})});let i=e[n.join(",")]=new sd(n.indexOf(t.length-1)>-1);for(let o=0;o<s.length;o++){let l=s[o][1].sort(NU);i.next.push({type:s[o][0],next:e[l.join(",")]||r(l)})}return i}}function Wxe(t,e){for(let r=0,n=[t];r<n.length;r++){let s=n[r],i=!s.validEnd,o=[];for(let l=0;l<s.next.length;l++){let{type:c,next:d}=s.next[l];o.push(c.name),i&&!(c.isText||c.hasRequiredAttrs())&&(i=!1),n.indexOf(d)==-1&&n.push(d)}i&&e.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function kU(t){let e=Object.create(null);for(let r in t){let n=t[r];if(!n.hasDefault)return null;e[r]=n.default}return e}function CU(t,e){let r=Object.create(null);for(let n in t){let s=e&&e[n];if(s===void 0){let i=t[n];if(i.hasDefault)s=i.default;else throw new RangeError("No value supplied for attribute "+n)}r[n]=s}return r}function TU(t,e,r,n){for(let s in e)if(!(s in t))throw new RangeError(`Unsupported attribute ${s} for ${r} of type ${s}`);for(let s in t){let i=t[s];i.validate&&i.validate(e[s])}}function _U(t,e){let r=Object.create(null);if(e)for(let n in e)r[n]=new Uxe(t,n,e[n]);return r}let QI=class MU{constructor(e,r,n){this.name=e,this.schema=r,this.spec=n,this.markSet=null,this.groups=n.group?n.group.split(" "):[],this.attrs=_U(e,n.attrs),this.defaultAttrs=kU(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(n.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==sd.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:CU(this.attrs,e)}create(e=null,r,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Oc(this,this.computeAttrs(e),it.from(r),ln.setFrom(n))}createChecked(e=null,r,n){return r=it.from(r),this.checkContent(r),new Oc(this,this.computeAttrs(e),r,ln.setFrom(n))}createAndFill(e=null,r,n){if(e=this.computeAttrs(e),r=it.from(r),r.size){let o=this.contentMatch.fillBefore(r);if(!o)return null;r=o.append(r)}let s=this.contentMatch.matchFragment(r),i=s&&s.fillBefore(it.empty,!0);return i?new Oc(this,e,r.append(i),ln.setFrom(n)):null}validContent(e){let r=this.contentMatch.matchFragment(e);if(!r||!r.validEnd)return!1;for(let n=0;n<e.childCount;n++)if(!this.allowsMarks(e.child(n).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){TU(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let r=0;r<e.length;r++)if(!this.allowsMarkType(e[r].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let r;for(let n=0;n<e.length;n++)this.allowsMarkType(e[n].type)?r&&r.push(e[n]):r||(r=e.slice(0,n));return r?r.length?r:ln.none:e}static compile(e,r){let n=Object.create(null);e.forEach((i,o)=>n[i]=new MU(i,r,o));let s=r.spec.topNode||"doc";if(!n[s])throw new RangeError("Schema is missing its top node type ('"+s+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(let i in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n}};function qxe(t,e,r){let n=r.split("|");return s=>{let i=s===null?"null":typeof s;if(n.indexOf(i)<0)throw new RangeError(`Expected value of type ${n} for attribute ${e} on type ${t}, got ${i}`)}}class Uxe{constructor(e,r,n){this.hasDefault=Object.prototype.hasOwnProperty.call(n,"default"),this.default=n.default,this.validate=typeof n.validate=="string"?qxe(e,r,n.validate):n.validate}get isRequired(){return!this.hasDefault}}class Yw{constructor(e,r,n,s){this.name=e,this.rank=r,this.schema=n,this.spec=s,this.attrs=_U(e,s.attrs),this.excluded=null;let i=kU(this.attrs);this.instance=i?new ln(this,i):null}create(e=null){return!e&&this.instance?this.instance:new ln(this,CU(this.attrs,e))}static compile(e,r){let n=Object.create(null),s=0;return e.forEach((i,o)=>n[i]=new Yw(i,s++,r,o)),n}removeFromSet(e){for(var r=0;r<e.length;r++)e[r].type==this&&(e=e.slice(0,r).concat(e.slice(r+1)),r--);return e}isInSet(e){for(let r=0;r<e.length;r++)if(e[r].type==this)return e[r]}checkAttrs(e){TU(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class AU{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let r=this.spec={};for(let s in e)r[s]=e[s];r.nodes=Ia.from(e.nodes),r.marks=Ia.from(e.marks||{}),this.nodes=QI.compile(this.spec.nodes,this),this.marks=Yw.compile(this.spec.marks,this);let n=Object.create(null);for(let s in this.nodes){if(s in this.marks)throw new RangeError(s+" can not be both a node and a mark");let i=this.nodes[s],o=i.spec.content||"",l=i.spec.marks;if(i.contentMatch=n[o]||(n[o]=sd.parse(o,this.nodes)),i.inlineContent=i.contentMatch.inlineContent,i.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!i.isInline||!i.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=i}i.markSet=l=="_"?null:l?ZI(this,l.split(" ")):l==""||!i.inlineContent?[]:null}for(let s in this.marks){let i=this.marks[s],o=i.spec.excludes;i.excluded=o==null?[i]:o==""?[]:ZI(this,o.split(" "))}this.nodeFromJSON=s=>Oc.fromJSON(this,s),this.markFromJSON=s=>ln.fromJSON(this,s),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,r=null,n,s){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof QI){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(r,n,s)}text(e,r){let n=this.nodes.text;return new qb(n,n.defaultAttrs,e,ln.setFrom(r))}mark(e,r){return typeof e=="string"&&(e=this.marks[e]),e.create(r)}nodeType(e){let r=this.nodes[e];if(!r)throw new RangeError("Unknown node type: "+e);return r}}function ZI(t,e){let r=[];for(let n=0;n<e.length;n++){let s=e[n],i=t.marks[s],o=i;if(i)r.push(i);else for(let l in t.marks){let c=t.marks[l];(s=="_"||c.spec.group&&c.spec.group.split(" ").indexOf(s)>-1)&&r.push(o=c)}if(!o)throw new SyntaxError("Unknown mark type: '"+e[n]+"'")}return r}function Gxe(t){return t.tag!=null}function Yxe(t){return t.style!=null}class Ec{constructor(e,r){this.schema=e,this.rules=r,this.tags=[],this.styles=[];let n=this.matchedStyles=[];r.forEach(s=>{if(Gxe(s))this.tags.push(s);else if(Yxe(s)){let i=/[^=]*/.exec(s.style)[0];n.indexOf(i)<0&&n.push(i),this.styles.push(s)}}),this.normalizeLists=!this.tags.some(s=>{if(!/^(ul|ol)\b/.test(s.tag)||!s.node)return!1;let i=e.nodes[s.node];return i.contentMatch.matchType(i)})}parse(e,r={}){let n=new tL(this,r,!1);return n.addAll(e,ln.none,r.from,r.to),n.finish()}parseSlice(e,r={}){let n=new tL(this,r,!0);return n.addAll(e,ln.none,r.from,r.to),_t.maxOpen(n.finish())}matchTag(e,r,n){for(let s=n?this.tags.indexOf(n)+1:0;s<this.tags.length;s++){let i=this.tags[s];if(Jxe(e,i.tag)&&(i.namespace===void 0||e.namespaceURI==i.namespace)&&(!i.context||r.matchesContext(i.context))){if(i.getAttrs){let o=i.getAttrs(e);if(o===!1)continue;i.attrs=o||void 0}return i}}}matchStyle(e,r,n,s){for(let i=s?this.styles.indexOf(s)+1:0;i<this.styles.length;i++){let o=this.styles[i],l=o.style;if(!(l.indexOf(e)!=0||o.context&&!n.matchesContext(o.context)||l.length>e.length&&(l.charCodeAt(e.length)!=61||l.slice(e.length+1)!=r))){if(o.getAttrs){let c=o.getAttrs(r);if(c===!1)continue;o.attrs=c||void 0}return o}}}static schemaRules(e){let r=[];function n(s){let i=s.priority==null?50:s.priority,o=0;for(;o<r.length;o++){let l=r[o];if((l.priority==null?50:l.priority)<i)break}r.splice(o,0,s)}for(let s in e.marks){let i=e.marks[s].spec.parseDOM;i&&i.forEach(o=>{n(o=rL(o)),o.mark||o.ignore||o.clearMark||(o.mark=s)})}for(let s in e.nodes){let i=e.nodes[s].spec.parseDOM;i&&i.forEach(o=>{n(o=rL(o)),o.node||o.ignore||o.mark||(o.node=s)})}return r}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Ec(e,Ec.schemaRules(e)))}}const OU={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},Kxe={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},EU={ol:!0,ul:!0},l0=1,y_=2,Ep=4;function eL(t,e,r){return e!=null?(e?l0:0)|(e==="full"?y_:0):t&&t.whitespace=="pre"?l0|y_:r&~Ep}class cy{constructor(e,r,n,s,i,o){this.type=e,this.attrs=r,this.marks=n,this.solid=s,this.options=o,this.content=[],this.activeMarks=ln.none,this.match=i||(o&Ep?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let r=this.type.contentMatch.fillBefore(it.from(e));if(r)this.match=this.type.contentMatch.matchFragment(r);else{let n=this.type.contentMatch,s;return(s=n.findWrapping(e.type))?(this.match=n,s):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&l0)){let n=this.content[this.content.length-1],s;if(n&&n.isText&&(s=/[ \t\r\n\u000c]+$/.exec(n.text))){let i=n;n.text.length==s[0].length?this.content.pop():this.content[this.content.length-1]=i.withText(i.text.slice(0,i.text.length-s[0].length))}}let r=it.from(this.content);return!e&&this.match&&(r=r.append(this.match.fillBefore(it.empty,!0))),this.type?this.type.create(this.attrs,r,this.marks):r}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!OU.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class tL{constructor(e,r,n){this.parser=e,this.options=r,this.isOpen=n,this.open=0,this.localPreserveWS=!1;let s=r.topNode,i,o=eL(null,r.preserveWhitespace,0)|(n?Ep:0);s?i=new cy(s.type,s.attrs,ln.none,!0,r.topMatch||s.type.contentMatch,o):n?i=new cy(null,null,ln.none,!0,null,o):i=new cy(e.schema.topNodeType,null,ln.none,!0,null,o),this.nodes=[i],this.find=r.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,r){e.nodeType==3?this.addTextNode(e,r):e.nodeType==1&&this.addElement(e,r)}addTextNode(e,r){let n=e.nodeValue,s=this.top,i=s.options&y_?"full":this.localPreserveWS||(s.options&l0)>0;if(i==="full"||s.inlineContext(e)||/[^ \t\r\n\u000c]/.test(n)){if(i)i!=="full"?n=n.replace(/\r?\n|\r/g," "):n=n.replace(/\r\n?/g,`
`);else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let o=s.content[s.content.length-1],l=e.previousSibling;(!o||l&&l.nodeName=="BR"||o.isText&&/[ \t\r\n\u000c]$/.test(o.text))&&(n=n.slice(1))}n&&this.insertNode(this.parser.schema.text(n),r,!/\S/.test(n)),this.findInText(e)}else this.findInside(e)}addElement(e,r,n){let s=this.localPreserveWS,i=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let o=e.nodeName.toLowerCase(),l;EU.hasOwnProperty(o)&&this.parser.normalizeLists&&Xxe(e);let c=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(l=this.parser.matchTag(e,this,n));e:if(c?c.ignore:Kxe.hasOwnProperty(o))this.findInside(e),this.ignoreFallback(e,r);else if(!c||c.skip||c.closeParent){c&&c.closeParent?this.open=Math.max(0,this.open-1):c&&c.skip.nodeType&&(e=c.skip);let d,h=this.needsBlock;if(OU.hasOwnProperty(o))i.content.length&&i.content[0].isInline&&this.open&&(this.open--,i=this.top),d=!0,i.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,r);break e}let m=c&&c.skip?r:this.readStyles(e,r);m&&this.addAll(e,m),d&&this.sync(i),this.needsBlock=h}else{let d=this.readStyles(e,r);d&&this.addElementByRule(e,c,d,c.consuming===!1?l:void 0)}this.localPreserveWS=s}leafFallback(e,r){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),r)}ignoreFallback(e,r){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),r,!0)}readStyles(e,r){let n=e.style;if(n&&n.length)for(let s=0;s<this.parser.matchedStyles.length;s++){let i=this.parser.matchedStyles[s],o=n.getPropertyValue(i);if(o)for(let l=void 0;;){let c=this.parser.matchStyle(i,o,this,l);if(!c)break;if(c.ignore)return null;if(c.clearMark?r=r.filter(d=>!c.clearMark(d)):r=r.concat(this.parser.schema.marks[c.mark].create(c.attrs)),c.consuming===!1)l=c;else break}}return r}addElementByRule(e,r,n,s){let i,o;if(r.node)if(o=this.parser.schema.nodes[r.node],o.isLeaf)this.insertNode(o.create(r.attrs),n,e.nodeName=="BR")||this.leafFallback(e,n);else{let c=this.enter(o,r.attrs||null,n,r.preserveWhitespace);c&&(i=!0,n=c)}else{let c=this.parser.schema.marks[r.mark];n=n.concat(c.create(r.attrs))}let l=this.top;if(o&&o.isLeaf)this.findInside(e);else if(s)this.addElement(e,n,s);else if(r.getContent)this.findInside(e),r.getContent(e,this.parser.schema).forEach(c=>this.insertNode(c,n,!1));else{let c=e;typeof r.contentElement=="string"?c=e.querySelector(r.contentElement):typeof r.contentElement=="function"?c=r.contentElement(e):r.contentElement&&(c=r.contentElement),this.findAround(e,c,!0),this.addAll(c,n),this.findAround(e,c,!1)}i&&this.sync(l)&&this.open--}addAll(e,r,n,s){let i=n||0;for(let o=n?e.childNodes[n]:e.firstChild,l=s==null?null:e.childNodes[s];o!=l;o=o.nextSibling,++i)this.findAtPoint(e,i),this.addDOM(o,r);this.findAtPoint(e,i)}findPlace(e,r,n){let s,i;for(let o=this.open,l=0;o>=0;o--){let c=this.nodes[o],d=c.findWrapping(e);if(d&&(!s||s.length>d.length+l)&&(s=d,i=c,!d.length))break;if(c.solid){if(n)break;l+=2}}if(!s)return null;this.sync(i);for(let o=0;o<s.length;o++)r=this.enterInner(s[o],null,r,!1);return r}insertNode(e,r,n){if(e.isInline&&this.needsBlock&&!this.top.type){let i=this.textblockFromContext();i&&(r=this.enterInner(i,null,r))}let s=this.findPlace(e,r,n);if(s){this.closeExtra();let i=this.top;i.match&&(i.match=i.match.matchType(e.type));let o=ln.none;for(let l of s.concat(e.marks))(i.type?i.type.allowsMarkType(l.type):nL(l.type,e.type))&&(o=l.addToSet(o));return i.content.push(e.mark(o)),!0}return!1}enter(e,r,n,s){let i=this.findPlace(e.create(r),n,!1);return i&&(i=this.enterInner(e,r,n,!0,s)),i}enterInner(e,r,n,s=!1,i){this.closeExtra();let o=this.top;o.match=o.match&&o.match.matchType(e);let l=eL(e,i,o.options);o.options&Ep&&o.content.length==0&&(l|=Ep);let c=ln.none;return n=n.filter(d=>(o.type?o.type.allowsMarkType(d.type):nL(d.type,e))?(c=d.addToSet(c),!1):!0),this.nodes.push(new cy(e,r,c,s,null,l)),this.open++,n}closeExtra(e=!1){let r=this.nodes.length-1;if(r>this.open){for(;r>this.open;r--)this.nodes[r-1].content.push(this.nodes[r].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let r=this.open;r>=0;r--){if(this.nodes[r]==e)return this.open=r,!0;this.localPreserveWS&&(this.nodes[r].options|=l0)}return!1}get currentPos(){this.closeExtra();let e=0;for(let r=this.open;r>=0;r--){let n=this.nodes[r].content;for(let s=n.length-1;s>=0;s--)e+=n[s].nodeSize;r&&e++}return e}findAtPoint(e,r){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&this.find[n].offset==r&&(this.find[n].pos=this.currentPos)}findInside(e){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].pos==null&&e.nodeType==1&&e.contains(this.find[r].node)&&(this.find[r].pos=this.currentPos)}findAround(e,r,n){if(e!=r&&this.find)for(let s=0;s<this.find.length;s++)this.find[s].pos==null&&e.nodeType==1&&e.contains(this.find[s].node)&&r.compareDocumentPosition(this.find[s].node)&(n?2:4)&&(this.find[s].pos=this.currentPos)}findInText(e){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&(this.find[r].pos=this.currentPos-(e.nodeValue.length-this.find[r].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let r=e.split("/"),n=this.options.context,s=!this.isOpen&&(!n||n.parent.type==this.nodes[0].type),i=-(n?n.depth+1:0)+(s?0:1),o=(l,c)=>{for(;l>=0;l--){let d=r[l];if(d==""){if(l==r.length-1||l==0)continue;for(;c>=i;c--)if(o(l-1,c))return!0;return!1}else{let h=c>0||c==0&&s?this.nodes[c].type:n&&c>=i?n.node(c-i).type:null;if(!h||h.name!=d&&!h.isInGroup(d))return!1;c--}}return!0};return o(r.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let r=e.depth;r>=0;r--){let n=e.node(r).contentMatchAt(e.indexAfter(r)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(let r in this.parser.schema.nodes){let n=this.parser.schema.nodes[r];if(n.isTextblock&&n.defaultAttrs)return n}}}function Xxe(t){for(let e=t.firstChild,r=null;e;e=e.nextSibling){let n=e.nodeType==1?e.nodeName.toLowerCase():null;n&&EU.hasOwnProperty(n)&&r?(r.appendChild(e),e=r):n=="li"?r=e:n&&(r=null)}}function Jxe(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function rL(t){let e={};for(let r in t)e[r]=t[r];return e}function nL(t,e){let r=e.schema.nodes;for(let n in r){let s=r[n];if(!s.allowsMarkType(t))continue;let i=[],o=l=>{i.push(l);for(let c=0;c<l.edgeCount;c++){let{type:d,next:h}=l.edge(c);if(d==e||i.indexOf(h)<0&&o(h))return!0}};if(o(s.contentMatch))return!0}}class yd{constructor(e,r){this.nodes=e,this.marks=r}serializeFragment(e,r={},n){n||(n=VN(r).createDocumentFragment());let s=n,i=[];return e.forEach(o=>{if(i.length||o.marks.length){let l=0,c=0;for(;l<i.length&&c<o.marks.length;){let d=o.marks[c];if(!this.marks[d.type.name]){c++;continue}if(!d.eq(i[l][0])||d.type.spec.spanning===!1)break;l++,c++}for(;l<i.length;)s=i.pop()[1];for(;c<o.marks.length;){let d=o.marks[c++],h=this.serializeMark(d,o.isInline,r);h&&(i.push([d,s]),s.appendChild(h.dom),s=h.contentDOM||h.dom)}}s.appendChild(this.serializeNodeInner(o,r))}),n}serializeNodeInner(e,r){let{dom:n,contentDOM:s}=ab(VN(r),this.nodes[e.type.name](e),null,e.attrs);if(s){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,r,s)}return n}serializeNode(e,r={}){let n=this.serializeNodeInner(e,r);for(let s=e.marks.length-1;s>=0;s--){let i=this.serializeMark(e.marks[s],e.isInline,r);i&&((i.contentDOM||i.dom).appendChild(n),n=i.dom)}return n}serializeMark(e,r,n={}){let s=this.marks[e.type.name];return s&&ab(VN(n),s(e,r),null,e.attrs)}static renderSpec(e,r,n=null,s){return ab(e,r,n,s)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new yd(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let r=aL(e.nodes);return r.text||(r.text=n=>n.text),r}static marksFromSchema(e){return aL(e.marks)}}function aL(t){let e={};for(let r in t){let n=t[r].spec.toDOM;n&&(e[r]=n)}return e}function VN(t){return t.document||window.document}const sL=new WeakMap;function Qxe(t){let e=sL.get(t);return e===void 0&&sL.set(t,e=Zxe(t)),e}function Zxe(t){let e=null;function r(n){if(n&&typeof n=="object")if(Array.isArray(n))if(typeof n[0]=="string")e||(e=[]),e.push(n);else for(let s=0;s<n.length;s++)r(n[s]);else for(let s in n)r(n[s])}return r(t),e}function ab(t,e,r,n){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let s=e[0],i;if(typeof s!="string")throw new RangeError("Invalid array passed to renderSpec");if(n&&(i=Qxe(n))&&i.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let o=s.indexOf(" ");o>0&&(r=s.slice(0,o),s=s.slice(o+1));let l,c=r?t.createElementNS(r,s):t.createElement(s),d=e[1],h=1;if(d&&typeof d=="object"&&d.nodeType==null&&!Array.isArray(d)){h=2;for(let m in d)if(d[m]!=null){let x=m.indexOf(" ");x>0?c.setAttributeNS(m.slice(0,x),m.slice(x+1),d[m]):m=="style"&&c.style?c.style.cssText=d[m]:c.setAttribute(m,d[m])}}for(let m=h;m<e.length;m++){let x=e[m];if(x===0){if(m<e.length-1||m>h)throw new RangeError("Content hole must be the only child of its parent node");return{dom:c,contentDOM:c}}else{let{dom:y,contentDOM:w}=ab(t,x,r,n);if(c.appendChild(y),w){if(l)throw new RangeError("Multiple content holes");l=w}}}return{dom:c,contentDOM:l}}const DU=65535,PU=Math.pow(2,16);function eye(t,e){return t+e*PU}function iL(t){return t&DU}function tye(t){return(t-(t&DU))/PU}const RU=1,IU=2,sb=4,LU=8;class b_{constructor(e,r,n){this.pos=e,this.delInfo=r,this.recover=n}get deleted(){return(this.delInfo&LU)>0}get deletedBefore(){return(this.delInfo&(RU|sb))>0}get deletedAfter(){return(this.delInfo&(IU|sb))>0}get deletedAcross(){return(this.delInfo&sb)>0}}class zs{constructor(e,r=!1){if(this.ranges=e,this.inverted=r,!e.length&&zs.empty)return zs.empty}recover(e){let r=0,n=iL(e);if(!this.inverted)for(let s=0;s<n;s++)r+=this.ranges[s*3+2]-this.ranges[s*3+1];return this.ranges[n*3]+r+tye(e)}mapResult(e,r=1){return this._map(e,r,!1)}map(e,r=1){return this._map(e,r,!0)}_map(e,r,n){let s=0,i=this.inverted?2:1,o=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let c=this.ranges[l]-(this.inverted?s:0);if(c>e)break;let d=this.ranges[l+i],h=this.ranges[l+o],m=c+d;if(e<=m){let x=d?e==c?-1:e==m?1:r:r,y=c+s+(x<0?0:h);if(n)return y;let w=e==(r<0?c:m)?null:eye(l/3,e-c),j=e==c?IU:e==m?RU:sb;return(r<0?e!=c:e!=m)&&(j|=LU),new b_(y,j,w)}s+=h-d}return n?e+s:new b_(e+s,0,null)}touches(e,r){let n=0,s=iL(r),i=this.inverted?2:1,o=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let c=this.ranges[l]-(this.inverted?n:0);if(c>e)break;let d=this.ranges[l+i],h=c+d;if(e<=h&&l==s*3)return!0;n+=this.ranges[l+o]-d}return!1}forEach(e){let r=this.inverted?2:1,n=this.inverted?1:2;for(let s=0,i=0;s<this.ranges.length;s+=3){let o=this.ranges[s],l=o-(this.inverted?i:0),c=o+(this.inverted?0:i),d=this.ranges[s+r],h=this.ranges[s+n];e(l,l+d,c,c+h),i+=h-d}}invert(){return new zs(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?zs.empty:new zs(e<0?[0,-e,0]:[0,0,e])}}zs.empty=new zs([]);class c0{constructor(e,r,n=0,s=e?e.length:0){this.mirror=r,this.from=n,this.to=s,this._maps=e||[],this.ownData=!(e||r)}get maps(){return this._maps}slice(e=0,r=this.maps.length){return new c0(this._maps,this.mirror,e,r)}appendMap(e,r){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),r!=null&&this.setMirror(this._maps.length-1,r)}appendMapping(e){for(let r=0,n=this._maps.length;r<e._maps.length;r++){let s=e.getMirror(r);this.appendMap(e._maps[r],s!=null&&s<r?n+s:void 0)}}getMirror(e){if(this.mirror){for(let r=0;r<this.mirror.length;r++)if(this.mirror[r]==e)return this.mirror[r+(r%2?-1:1)]}}setMirror(e,r){this.mirror||(this.mirror=[]),this.mirror.push(e,r)}appendMappingInverted(e){for(let r=e.maps.length-1,n=this._maps.length+e._maps.length;r>=0;r--){let s=e.getMirror(r);this.appendMap(e._maps[r].invert(),s!=null&&s>r?n-s-1:void 0)}}invert(){let e=new c0;return e.appendMappingInverted(this),e}map(e,r=1){if(this.mirror)return this._map(e,r,!0);for(let n=this.from;n<this.to;n++)e=this._maps[n].map(e,r);return e}mapResult(e,r=1){return this._map(e,r,!1)}_map(e,r,n){let s=0;for(let i=this.from;i<this.to;i++){let o=this._maps[i],l=o.mapResult(e,r);if(l.recover!=null){let c=this.getMirror(i);if(c!=null&&c>i&&c<this.to){i=c,e=this._maps[c].recover(l.recover);continue}}s|=l.delInfo,e=l.pos}return n?e:new b_(e,s,null)}}const WN=Object.create(null);let Qa=class{getMap(){return zs.empty}merge(e){return null}static fromJSON(e,r){if(!r||!r.stepType)throw new RangeError("Invalid input for Step.fromJSON");let n=WN[r.stepType];if(!n)throw new RangeError(`No step type ${r.stepType} defined`);return n.fromJSON(e,r)}static jsonID(e,r){if(e in WN)throw new RangeError("Duplicate use of step JSON ID "+e);return WN[e]=r,r.prototype.jsonID=e,r}};class oa{constructor(e,r){this.doc=e,this.failed=r}static ok(e){return new oa(e,null)}static fail(e){return new oa(null,e)}static fromReplace(e,r,n,s){try{return oa.ok(e.replace(r,n,s))}catch(i){if(i instanceof zb)return oa.fail(i.message);throw i}}}function NO(t,e,r){let n=[];for(let s=0;s<t.childCount;s++){let i=t.child(s);i.content.size&&(i=i.copy(NO(i.content,e,i))),i.isInline&&(i=e(i,r,s)),n.push(i)}return it.fromArray(n)}class kc extends Qa{constructor(e,r,n){super(),this.from=e,this.to=r,this.mark=n}apply(e){let r=e.slice(this.from,this.to),n=e.resolve(this.from),s=n.node(n.sharedDepth(this.to)),i=new _t(NO(r.content,(o,l)=>!o.isAtom||!l.type.allowsMarkType(this.mark.type)?o:o.mark(this.mark.addToSet(o.marks)),s),r.openStart,r.openEnd);return oa.fromReplace(e,this.from,this.to,i)}invert(){return new Vi(this.from,this.to,this.mark)}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return r.deleted&&n.deleted||r.pos>=n.pos?null:new kc(r.pos,n.pos,this.mark)}merge(e){return e instanceof kc&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new kc(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new kc(r.from,r.to,e.markFromJSON(r.mark))}}Qa.jsonID("addMark",kc);class Vi extends Qa{constructor(e,r,n){super(),this.from=e,this.to=r,this.mark=n}apply(e){let r=e.slice(this.from,this.to),n=new _t(NO(r.content,s=>s.mark(this.mark.removeFromSet(s.marks)),e),r.openStart,r.openEnd);return oa.fromReplace(e,this.from,this.to,n)}invert(){return new kc(this.from,this.to,this.mark)}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return r.deleted&&n.deleted||r.pos>=n.pos?null:new Vi(r.pos,n.pos,this.mark)}merge(e){return e instanceof Vi&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Vi(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Vi(r.from,r.to,e.markFromJSON(r.mark))}}Qa.jsonID("removeMark",Vi);class Cc extends Qa{constructor(e,r){super(),this.pos=e,this.mark=r}apply(e){let r=e.nodeAt(this.pos);if(!r)return oa.fail("No node at mark step's position");let n=r.type.create(r.attrs,null,this.mark.addToSet(r.marks));return oa.fromReplace(e,this.pos,this.pos+1,new _t(it.from(n),0,r.isLeaf?0:1))}invert(e){let r=e.nodeAt(this.pos);if(r){let n=this.mark.addToSet(r.marks);if(n.length==r.marks.length){for(let s=0;s<r.marks.length;s++)if(!r.marks[s].isInSet(n))return new Cc(this.pos,r.marks[s]);return new Cc(this.pos,this.mark)}}return new id(this.pos,this.mark)}map(e){let r=e.mapResult(this.pos,1);return r.deletedAfter?null:new Cc(r.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Cc(r.pos,e.markFromJSON(r.mark))}}Qa.jsonID("addNodeMark",Cc);class id extends Qa{constructor(e,r){super(),this.pos=e,this.mark=r}apply(e){let r=e.nodeAt(this.pos);if(!r)return oa.fail("No node at mark step's position");let n=r.type.create(r.attrs,null,this.mark.removeFromSet(r.marks));return oa.fromReplace(e,this.pos,this.pos+1,new _t(it.from(n),0,r.isLeaf?0:1))}invert(e){let r=e.nodeAt(this.pos);return!r||!this.mark.isInSet(r.marks)?this:new Cc(this.pos,this.mark)}map(e){let r=e.mapResult(this.pos,1);return r.deletedAfter?null:new id(r.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new id(r.pos,e.markFromJSON(r.mark))}}Qa.jsonID("removeNodeMark",id);class Sa extends Qa{constructor(e,r,n,s=!1){super(),this.from=e,this.to=r,this.slice=n,this.structure=s}apply(e){return this.structure&&v_(e,this.from,this.to)?oa.fail("Structure replace would overwrite content"):oa.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new zs([this.from,this.to-this.from,this.slice.size])}invert(e){return new Sa(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return r.deletedAcross&&n.deletedAcross?null:new Sa(r.pos,Math.max(r.pos,n.pos),this.slice,this.structure)}merge(e){if(!(e instanceof Sa)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let r=this.slice.size+e.slice.size==0?_t.empty:new _t(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Sa(this.from,this.to+(e.to-e.from),r,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let r=this.slice.size+e.slice.size==0?_t.empty:new _t(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Sa(e.from,this.to,r,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Sa(r.from,r.to,_t.fromJSON(e,r.slice),!!r.structure)}}Qa.jsonID("replace",Sa);class ka extends Qa{constructor(e,r,n,s,i,o,l=!1){super(),this.from=e,this.to=r,this.gapFrom=n,this.gapTo=s,this.slice=i,this.insert=o,this.structure=l}apply(e){if(this.structure&&(v_(e,this.from,this.gapFrom)||v_(e,this.gapTo,this.to)))return oa.fail("Structure gap-replace would overwrite content");let r=e.slice(this.gapFrom,this.gapTo);if(r.openStart||r.openEnd)return oa.fail("Gap is not a flat range");let n=this.slice.insertAt(this.insert,r.content);return n?oa.fromReplace(e,this.from,this.to,n):oa.fail("Content does not fit in gap")}getMap(){return new zs([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let r=this.gapTo-this.gapFrom;return new ka(this.from,this.from+this.slice.size+r,this.from+this.insert,this.from+this.insert+r,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1),s=this.from==this.gapFrom?r.pos:e.map(this.gapFrom,-1),i=this.to==this.gapTo?n.pos:e.map(this.gapTo,1);return r.deletedAcross&&n.deletedAcross||s<r.pos||i>n.pos?null:new ka(r.pos,n.pos,s,i,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number"||typeof r.gapFrom!="number"||typeof r.gapTo!="number"||typeof r.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new ka(r.from,r.to,r.gapFrom,r.gapTo,_t.fromJSON(e,r.slice),r.insert,!!r.structure)}}Qa.jsonID("replaceAround",ka);function v_(t,e,r){let n=t.resolve(e),s=r-e,i=n.depth;for(;s>0&&i>0&&n.indexAfter(i)==n.node(i).childCount;)i--,s--;if(s>0){let o=n.node(i).maybeChild(n.indexAfter(i));for(;s>0;){if(!o||o.isLeaf)return!0;o=o.firstChild,s--}}return!1}function rye(t,e,r,n){let s=[],i=[],o,l;t.doc.nodesBetween(e,r,(c,d,h)=>{if(!c.isInline)return;let m=c.marks;if(!n.isInSet(m)&&h.type.allowsMarkType(n.type)){let x=Math.max(d,e),y=Math.min(d+c.nodeSize,r),w=n.addToSet(m);for(let j=0;j<m.length;j++)m[j].isInSet(w)||(o&&o.to==x&&o.mark.eq(m[j])?o.to=y:s.push(o=new Vi(x,y,m[j])));l&&l.to==x?l.to=y:i.push(l=new kc(x,y,n))}}),s.forEach(c=>t.step(c)),i.forEach(c=>t.step(c))}function nye(t,e,r,n){let s=[],i=0;t.doc.nodesBetween(e,r,(o,l)=>{if(!o.isInline)return;i++;let c=null;if(n instanceof Yw){let d=o.marks,h;for(;h=n.isInSet(d);)(c||(c=[])).push(h),d=h.removeFromSet(d)}else n?n.isInSet(o.marks)&&(c=[n]):c=o.marks;if(c&&c.length){let d=Math.min(l+o.nodeSize,r);for(let h=0;h<c.length;h++){let m=c[h],x;for(let y=0;y<s.length;y++){let w=s[y];w.step==i-1&&m.eq(s[y].style)&&(x=w)}x?(x.to=d,x.step=i):s.push({style:m,from:Math.max(l,e),to:d,step:i})}}}),s.forEach(o=>t.step(new Vi(o.from,o.to,o.style)))}function kO(t,e,r,n=r.contentMatch,s=!0){let i=t.doc.nodeAt(e),o=[],l=e+1;for(let c=0;c<i.childCount;c++){let d=i.child(c),h=l+d.nodeSize,m=n.matchType(d.type);if(!m)o.push(new Sa(l,h,_t.empty));else{n=m;for(let x=0;x<d.marks.length;x++)r.allowsMarkType(d.marks[x].type)||t.step(new Vi(l,h,d.marks[x]));if(s&&d.isText&&r.whitespace!="pre"){let x,y=/\r?\n|\r/g,w;for(;x=y.exec(d.text);)w||(w=new _t(it.from(r.schema.text(" ",r.allowedMarks(d.marks))),0,0)),o.push(new Sa(l+x.index,l+x.index+x[0].length,w))}}l=h}if(!n.validEnd){let c=n.fillBefore(it.empty,!0);t.replace(l,l,new _t(c,0,0))}for(let c=o.length-1;c>=0;c--)t.step(o[c])}function aye(t,e,r){return(e==0||t.canReplace(e,t.childCount))&&(r==t.childCount||t.canReplace(0,r))}function zh(t){let r=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let n=t.depth;;--n){let s=t.$from.node(n),i=t.$from.index(n),o=t.$to.indexAfter(n);if(n<t.depth&&s.canReplace(i,o,r))return n;if(n==0||s.type.spec.isolating||!aye(s,i,o))break}return null}function sye(t,e,r){let{$from:n,$to:s,depth:i}=e,o=n.before(i+1),l=s.after(i+1),c=o,d=l,h=it.empty,m=0;for(let w=i,j=!1;w>r;w--)j||n.index(w)>0?(j=!0,h=it.from(n.node(w).copy(h)),m++):c--;let x=it.empty,y=0;for(let w=i,j=!1;w>r;w--)j||s.after(w+1)<s.end(w)?(j=!0,x=it.from(s.node(w).copy(x)),y++):d++;t.step(new ka(c,d,o,l,new _t(h.append(x),m,y),h.size-m,!0))}function CO(t,e,r=null,n=t){let s=iye(t,e),i=s&&oye(n,e);return i?s.map(oL).concat({type:e,attrs:r}).concat(i.map(oL)):null}function oL(t){return{type:t,attrs:null}}function iye(t,e){let{parent:r,startIndex:n,endIndex:s}=t,i=r.contentMatchAt(n).findWrapping(e);if(!i)return null;let o=i.length?i[0]:e;return r.canReplaceWith(n,s,o)?i:null}function oye(t,e){let{parent:r,startIndex:n,endIndex:s}=t,i=r.child(n),o=e.contentMatch.findWrapping(i.type);if(!o)return null;let c=(o.length?o[o.length-1]:e).contentMatch;for(let d=n;c&&d<s;d++)c=c.matchType(r.child(d).type);return!c||!c.validEnd?null:o}function lye(t,e,r){let n=it.empty;for(let o=r.length-1;o>=0;o--){if(n.size){let l=r[o].type.contentMatch.matchFragment(n);if(!l||!l.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}n=it.from(r[o].type.create(r[o].attrs,n))}let s=e.start,i=e.end;t.step(new ka(s,i,s,i,new _t(n,0,0),r.length,!0))}function cye(t,e,r,n,s){if(!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let i=t.steps.length;t.doc.nodesBetween(e,r,(o,l)=>{let c=typeof s=="function"?s(o):s;if(o.isTextblock&&!o.hasMarkup(n,c)&&uye(t.doc,t.mapping.slice(i).map(l),n)){let d=null;if(n.schema.linebreakReplacement){let y=n.whitespace=="pre",w=!!n.contentMatch.matchType(n.schema.linebreakReplacement);y&&!w?d=!1:!y&&w&&(d=!0)}d===!1&&FU(t,o,l,i),kO(t,t.mapping.slice(i).map(l,1),n,void 0,d===null);let h=t.mapping.slice(i),m=h.map(l,1),x=h.map(l+o.nodeSize,1);return t.step(new ka(m,x,m+1,x-1,new _t(it.from(n.create(c,null,o.marks)),0,0),1,!0)),d===!0&&$U(t,o,l,i),!1}})}function $U(t,e,r,n){e.forEach((s,i)=>{if(s.isText){let o,l=/\r?\n|\r/g;for(;o=l.exec(s.text);){let c=t.mapping.slice(n).map(r+1+i+o.index);t.replaceWith(c,c+1,e.type.schema.linebreakReplacement.create())}}})}function FU(t,e,r,n){e.forEach((s,i)=>{if(s.type==s.type.schema.linebreakReplacement){let o=t.mapping.slice(n).map(r+1+i);t.replaceWith(o,o+1,e.type.schema.text(`
`))}})}function uye(t,e,r){let n=t.resolve(e),s=n.index();return n.parent.canReplaceWith(s,s+1,r)}function dye(t,e,r,n,s){let i=t.doc.nodeAt(e);if(!i)throw new RangeError("No node at given position");r||(r=i.type);let o=r.create(n,null,s||i.marks);if(i.isLeaf)return t.replaceWith(e,e+i.nodeSize,o);if(!r.validContent(i.content))throw new RangeError("Invalid content for node type "+r.name);t.step(new ka(e,e+i.nodeSize,e+1,e+i.nodeSize-1,new _t(it.from(o),0,0),1,!0))}function jl(t,e,r=1,n){let s=t.resolve(e),i=s.depth-r,o=n&&n[n.length-1]||s.parent;if(i<0||s.parent.type.spec.isolating||!s.parent.canReplace(s.index(),s.parent.childCount)||!o.type.validContent(s.parent.content.cutByIndex(s.index(),s.parent.childCount)))return!1;for(let d=s.depth-1,h=r-2;d>i;d--,h--){let m=s.node(d),x=s.index(d);if(m.type.spec.isolating)return!1;let y=m.content.cutByIndex(x,m.childCount),w=n&&n[h+1];w&&(y=y.replaceChild(0,w.type.create(w.attrs)));let j=n&&n[h]||m;if(!m.canReplace(x+1,m.childCount)||!j.type.validContent(y))return!1}let l=s.indexAfter(i),c=n&&n[0];return s.node(i).canReplaceWith(l,l,c?c.type:s.node(i+1).type)}function fye(t,e,r=1,n){let s=t.doc.resolve(e),i=it.empty,o=it.empty;for(let l=s.depth,c=s.depth-r,d=r-1;l>c;l--,d--){i=it.from(s.node(l).copy(i));let h=n&&n[d];o=it.from(h?h.type.create(h.attrs,o):s.node(l).copy(o))}t.step(new Sa(e,e,new _t(i.append(o),r,r),!0))}function Gc(t,e){let r=t.resolve(e),n=r.index();return HU(r.nodeBefore,r.nodeAfter)&&r.parent.canReplace(n,n+1)}function hye(t,e){e.content.size||t.type.compatibleContent(e.type);let r=t.contentMatchAt(t.childCount),{linebreakReplacement:n}=t.type.schema;for(let s=0;s<e.childCount;s++){let i=e.child(s),o=i.type==n?t.type.schema.nodes.text:i.type;if(r=r.matchType(o),!r||!t.type.allowsMarks(i.marks))return!1}return r.validEnd}function HU(t,e){return!!(t&&e&&!t.isLeaf&&hye(t,e))}function Kw(t,e,r=-1){let n=t.resolve(e);for(let s=n.depth;;s--){let i,o,l=n.index(s);if(s==n.depth?(i=n.nodeBefore,o=n.nodeAfter):r>0?(i=n.node(s+1),l++,o=n.node(s).maybeChild(l)):(i=n.node(s).maybeChild(l-1),o=n.node(s+1)),i&&!i.isTextblock&&HU(i,o)&&n.node(s).canReplace(l,l+1))return e;if(s==0)break;e=r<0?n.before(s):n.after(s)}}function mye(t,e,r){let n=null,{linebreakReplacement:s}=t.doc.type.schema,i=t.doc.resolve(e-r),o=i.node().type;if(s&&o.inlineContent){let h=o.whitespace=="pre",m=!!o.contentMatch.matchType(s);h&&!m?n=!1:!h&&m&&(n=!0)}let l=t.steps.length;if(n===!1){let h=t.doc.resolve(e+r);FU(t,h.node(),h.before(),l)}o.inlineContent&&kO(t,e+r-1,o,i.node().contentMatchAt(i.index()),n==null);let c=t.mapping.slice(l),d=c.map(e-r);if(t.step(new Sa(d,c.map(e+r,-1),_t.empty,!0)),n===!0){let h=t.doc.resolve(d);$U(t,h.node(),h.before(),t.steps.length)}return t}function pye(t,e,r){let n=t.resolve(e);if(n.parent.canReplaceWith(n.index(),n.index(),r))return e;if(n.parentOffset==0)for(let s=n.depth-1;s>=0;s--){let i=n.index(s);if(n.node(s).canReplaceWith(i,i,r))return n.before(s+1);if(i>0)return null}if(n.parentOffset==n.parent.content.size)for(let s=n.depth-1;s>=0;s--){let i=n.indexAfter(s);if(n.node(s).canReplaceWith(i,i,r))return n.after(s+1);if(i<n.node(s).childCount)return null}return null}function BU(t,e,r){let n=t.resolve(e);if(!r.content.size)return e;let s=r.content;for(let i=0;i<r.openStart;i++)s=s.firstChild.content;for(let i=1;i<=(r.openStart==0&&r.size?2:1);i++)for(let o=n.depth;o>=0;o--){let l=o==n.depth?0:n.pos<=(n.start(o+1)+n.end(o+1))/2?-1:1,c=n.index(o)+(l>0?1:0),d=n.node(o),h=!1;if(i==1)h=d.canReplace(c,c,s);else{let m=d.contentMatchAt(c).findWrapping(s.firstChild.type);h=m&&d.canReplaceWith(c,c,m[0])}if(h)return l==0?n.pos:l<0?n.before(o+1):n.after(o+1)}return null}function Xw(t,e,r=e,n=_t.empty){if(e==r&&!n.size)return null;let s=t.resolve(e),i=t.resolve(r);return zU(s,i,n)?new Sa(e,r,n):new gye(s,i,n).fit()}function zU(t,e,r){return!r.openStart&&!r.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),r.content)}class gye{constructor(e,r,n){this.$from=e,this.$to=r,this.unplaced=n,this.frontier=[],this.placed=it.empty;for(let s=0;s<=e.depth;s++){let i=e.node(s);this.frontier.push({type:i.type,match:i.contentMatchAt(e.indexAfter(s))})}for(let s=e.depth;s>0;s--)this.placed=it.from(e.node(s).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let d=this.findFittable();d?this.placeNodes(d):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),r=this.placed.size-this.depth-this.$from.depth,n=this.$from,s=this.close(e<0?this.$to:n.doc.resolve(e));if(!s)return null;let i=this.placed,o=n.depth,l=s.depth;for(;o&&l&&i.childCount==1;)i=i.firstChild.content,o--,l--;let c=new _t(i,o,l);return e>-1?new ka(n.pos,e,this.$to.pos,this.$to.end(),c,r):c.size||n.pos!=this.$to.pos?new Sa(n.pos,s.pos,c):null}findFittable(){let e=this.unplaced.openStart;for(let r=this.unplaced.content,n=0,s=this.unplaced.openEnd;n<e;n++){let i=r.firstChild;if(r.childCount>1&&(s=0),i.type.spec.isolating&&s<=n){e=n;break}r=i.content}for(let r=1;r<=2;r++)for(let n=r==1?e:this.unplaced.openStart;n>=0;n--){let s,i=null;n?(i=qN(this.unplaced.content,n-1).firstChild,s=i.content):s=this.unplaced.content;let o=s.firstChild;for(let l=this.depth;l>=0;l--){let{type:c,match:d}=this.frontier[l],h,m=null;if(r==1&&(o?d.matchType(o.type)||(m=d.fillBefore(it.from(o),!1)):i&&c.compatibleContent(i.type)))return{sliceDepth:n,frontierDepth:l,parent:i,inject:m};if(r==2&&o&&(h=d.findWrapping(o.type)))return{sliceDepth:n,frontierDepth:l,parent:i,wrap:h};if(i&&d.matchType(i.type))break}}}openMore(){let{content:e,openStart:r,openEnd:n}=this.unplaced,s=qN(e,r);return!s.childCount||s.firstChild.isLeaf?!1:(this.unplaced=new _t(e,r+1,Math.max(n,s.size+r>=e.size-n?r+1:0)),!0)}dropNode(){let{content:e,openStart:r,openEnd:n}=this.unplaced,s=qN(e,r);if(s.childCount<=1&&r>0){let i=e.size-r<=r+s.size;this.unplaced=new _t(bp(e,r-1,1),r-1,i?r-1:n)}else this.unplaced=new _t(bp(e,r,1),r,n)}placeNodes({sliceDepth:e,frontierDepth:r,parent:n,inject:s,wrap:i}){for(;this.depth>r;)this.closeFrontierNode();if(i)for(let j=0;j<i.length;j++)this.openFrontierNode(i[j]);let o=this.unplaced,l=n?n.content:o.content,c=o.openStart-e,d=0,h=[],{match:m,type:x}=this.frontier[r];if(s){for(let j=0;j<s.childCount;j++)h.push(s.child(j));m=m.matchFragment(s)}let y=l.size+e-(o.content.size-o.openEnd);for(;d<l.childCount;){let j=l.child(d),v=m.matchType(j.type);if(!v)break;d++,(d>1||c==0||j.content.size)&&(m=v,h.push(VU(j.mark(x.allowedMarks(j.marks)),d==1?c:0,d==l.childCount?y:-1)))}let w=d==l.childCount;w||(y=-1),this.placed=vp(this.placed,r,it.from(h)),this.frontier[r].match=m,w&&y<0&&n&&n.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let j=0,v=l;j<y;j++){let N=v.lastChild;this.frontier.push({type:N.type,match:N.contentMatchAt(N.childCount)}),v=N.content}this.unplaced=w?e==0?_t.empty:new _t(bp(o.content,e-1,1),e-1,y<0?o.openEnd:e-1):new _t(bp(o.content,e,d),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],r;if(!e.type.isTextblock||!UN(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(r=this.findCloseLevel(this.$to))&&r.depth==this.depth)return-1;let{depth:n}=this.$to,s=this.$to.after(n);for(;n>1&&s==this.$to.end(--n);)++s;return s}findCloseLevel(e){e:for(let r=Math.min(this.depth,e.depth);r>=0;r--){let{match:n,type:s}=this.frontier[r],i=r<e.depth&&e.end(r+1)==e.pos+(e.depth-(r+1)),o=UN(e,r,s,n,i);if(o){for(let l=r-1;l>=0;l--){let{match:c,type:d}=this.frontier[l],h=UN(e,l,d,c,!0);if(!h||h.childCount)continue e}return{depth:r,fit:o,move:i?e.doc.resolve(e.after(r+1)):e}}}}close(e){let r=this.findCloseLevel(e);if(!r)return null;for(;this.depth>r.depth;)this.closeFrontierNode();r.fit.childCount&&(this.placed=vp(this.placed,r.depth,r.fit)),e=r.move;for(let n=r.depth+1;n<=e.depth;n++){let s=e.node(n),i=s.type.contentMatch.fillBefore(s.content,!0,e.index(n));this.openFrontierNode(s.type,s.attrs,i)}return e}openFrontierNode(e,r=null,n){let s=this.frontier[this.depth];s.match=s.match.matchType(e),this.placed=vp(this.placed,this.depth,it.from(e.create(r,n))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let r=this.frontier.pop().match.fillBefore(it.empty,!0);r.childCount&&(this.placed=vp(this.placed,this.frontier.length,r))}}function bp(t,e,r){return e==0?t.cutByIndex(r,t.childCount):t.replaceChild(0,t.firstChild.copy(bp(t.firstChild.content,e-1,r)))}function vp(t,e,r){return e==0?t.append(r):t.replaceChild(t.childCount-1,t.lastChild.copy(vp(t.lastChild.content,e-1,r)))}function qN(t,e){for(let r=0;r<e;r++)t=t.firstChild.content;return t}function VU(t,e,r){if(e<=0)return t;let n=t.content;return e>1&&(n=n.replaceChild(0,VU(n.firstChild,e-1,n.childCount==1?r-1:0))),e>0&&(n=t.type.contentMatch.fillBefore(n).append(n),r<=0&&(n=n.append(t.type.contentMatch.matchFragment(n).fillBefore(it.empty,!0)))),t.copy(n)}function UN(t,e,r,n,s){let i=t.node(e),o=s?t.indexAfter(e):t.index(e);if(o==i.childCount&&!r.compatibleContent(i.type))return null;let l=n.fillBefore(i.content,!0,o);return l&&!xye(r,i.content,o)?l:null}function xye(t,e,r){for(let n=r;n<e.childCount;n++)if(!t.allowsMarks(e.child(n).marks))return!0;return!1}function yye(t){return t.spec.defining||t.spec.definingForContent}function bye(t,e,r,n){if(!n.size)return t.deleteRange(e,r);let s=t.doc.resolve(e),i=t.doc.resolve(r);if(zU(s,i,n))return t.step(new Sa(e,r,n));let o=qU(s,t.doc.resolve(r));o[o.length-1]==0&&o.pop();let l=-(s.depth+1);o.unshift(l);for(let x=s.depth,y=s.pos-1;x>0;x--,y--){let w=s.node(x).type.spec;if(w.defining||w.definingAsContext||w.isolating)break;o.indexOf(x)>-1?l=x:s.before(x)==y&&o.splice(1,0,-x)}let c=o.indexOf(l),d=[],h=n.openStart;for(let x=n.content,y=0;;y++){let w=x.firstChild;if(d.push(w),y==n.openStart)break;x=w.content}for(let x=h-1;x>=0;x--){let y=d[x],w=yye(y.type);if(w&&!y.sameMarkup(s.node(Math.abs(l)-1)))h=x;else if(w||!y.type.isTextblock)break}for(let x=n.openStart;x>=0;x--){let y=(x+h+1)%(n.openStart+1),w=d[y];if(w)for(let j=0;j<o.length;j++){let v=o[(j+c)%o.length],N=!0;v<0&&(N=!1,v=-v);let T=s.node(v-1),S=s.index(v-1);if(T.canReplaceWith(S,S,w.type,w.marks))return t.replace(s.before(v),N?i.after(v):r,new _t(WU(n.content,0,n.openStart,y),y,n.openEnd))}}let m=t.steps.length;for(let x=o.length-1;x>=0&&(t.replace(e,r,n),!(t.steps.length>m));x--){let y=o[x];y<0||(e=s.before(y),r=i.after(y))}}function WU(t,e,r,n,s){if(e<r){let i=t.firstChild;t=t.replaceChild(0,i.copy(WU(i.content,e+1,r,n,i)))}if(e>n){let i=s.contentMatchAt(0),o=i.fillBefore(t).append(t);t=o.append(i.matchFragment(o).fillBefore(it.empty,!0))}return t}function vye(t,e,r,n){if(!n.isInline&&e==r&&t.doc.resolve(e).parent.content.size){let s=pye(t.doc,e,n.type);s!=null&&(e=r=s)}t.replaceRange(e,r,new _t(it.from(n),0,0))}function wye(t,e,r){let n=t.doc.resolve(e),s=t.doc.resolve(r),i=qU(n,s);for(let o=0;o<i.length;o++){let l=i[o],c=o==i.length-1;if(c&&l==0||n.node(l).type.contentMatch.validEnd)return t.delete(n.start(l),s.end(l));if(l>0&&(c||n.node(l-1).canReplace(n.index(l-1),s.indexAfter(l-1))))return t.delete(n.before(l),s.after(l))}for(let o=1;o<=n.depth&&o<=s.depth;o++)if(e-n.start(o)==n.depth-o&&r>n.end(o)&&s.end(o)-r!=s.depth-o&&n.start(o-1)==s.start(o-1)&&n.node(o-1).canReplace(n.index(o-1),s.index(o-1)))return t.delete(n.before(o),r);t.delete(e,r)}function qU(t,e){let r=[],n=Math.min(t.depth,e.depth);for(let s=n;s>=0;s--){let i=t.start(s);if(i<t.pos-(t.depth-s)||e.end(s)>e.pos+(e.depth-s)||t.node(s).type.spec.isolating||e.node(s).type.spec.isolating)break;(i==e.start(s)||s==t.depth&&s==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&s&&e.start(s-1)==i-1)&&r.push(s)}return r}class $f extends Qa{constructor(e,r,n){super(),this.pos=e,this.attr=r,this.value=n}apply(e){let r=e.nodeAt(this.pos);if(!r)return oa.fail("No node at attribute step's position");let n=Object.create(null);for(let i in r.attrs)n[i]=r.attrs[i];n[this.attr]=this.value;let s=r.type.create(n,null,r.marks);return oa.fromReplace(e,this.pos,this.pos+1,new _t(it.from(s),0,r.isLeaf?0:1))}getMap(){return zs.empty}invert(e){return new $f(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let r=e.mapResult(this.pos,1);return r.deletedAfter?null:new $f(r.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,r){if(typeof r.pos!="number"||typeof r.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new $f(r.pos,r.attr,r.value)}}Qa.jsonID("attr",$f);class u0 extends Qa{constructor(e,r){super(),this.attr=e,this.value=r}apply(e){let r=Object.create(null);for(let s in e.attrs)r[s]=e.attrs[s];r[this.attr]=this.value;let n=e.type.create(r,e.content,e.marks);return oa.ok(n)}getMap(){return zs.empty}invert(e){return new u0(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,r){if(typeof r.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new u0(r.attr,r.value)}}Qa.jsonID("docAttr",u0);let rh=class extends Error{};rh=function t(e){let r=Error.call(this,e);return r.__proto__=t.prototype,r};rh.prototype=Object.create(Error.prototype);rh.prototype.constructor=rh;rh.prototype.name="TransformError";class UU{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new c0}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let r=this.maybeStep(e);if(r.failed)throw new rh(r.failed);return this}maybeStep(e){let r=e.apply(this.doc);return r.failed||this.addStep(e,r.doc),r}get docChanged(){return this.steps.length>0}addStep(e,r){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=r}replace(e,r=e,n=_t.empty){let s=Xw(this.doc,e,r,n);return s&&this.step(s),this}replaceWith(e,r,n){return this.replace(e,r,new _t(it.from(n),0,0))}delete(e,r){return this.replace(e,r,_t.empty)}insert(e,r){return this.replaceWith(e,e,r)}replaceRange(e,r,n){return bye(this,e,r,n),this}replaceRangeWith(e,r,n){return vye(this,e,r,n),this}deleteRange(e,r){return wye(this,e,r),this}lift(e,r){return sye(this,e,r),this}join(e,r=1){return mye(this,e,r),this}wrap(e,r){return lye(this,e,r),this}setBlockType(e,r=e,n,s=null){return cye(this,e,r,n,s),this}setNodeMarkup(e,r,n=null,s){return dye(this,e,r,n,s),this}setNodeAttribute(e,r,n){return this.step(new $f(e,r,n)),this}setDocAttribute(e,r){return this.step(new u0(e,r)),this}addNodeMark(e,r){return this.step(new Cc(e,r)),this}removeNodeMark(e,r){let n=this.doc.nodeAt(e);if(!n)throw new RangeError("No node at position "+e);if(r instanceof ln)r.isInSet(n.marks)&&this.step(new id(e,r));else{let s=n.marks,i,o=[];for(;i=r.isInSet(s);)o.push(new id(e,i)),s=i.removeFromSet(s);for(let l=o.length-1;l>=0;l--)this.step(o[l])}return this}split(e,r=1,n){return fye(this,e,r,n),this}addMark(e,r,n){return rye(this,e,r,n),this}removeMark(e,r,n){return nye(this,e,r,n),this}clearIncompatible(e,r,n){return kO(this,e,r,n),this}}const GN=Object.create(null);class ur{constructor(e,r,n){this.$anchor=e,this.$head=r,this.ranges=n||[new jye(e.min(r),e.max(r))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let r=0;r<e.length;r++)if(e[r].$from.pos!=e[r].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,r=_t.empty){let n=r.content.lastChild,s=null;for(let l=0;l<r.openEnd;l++)s=n,n=n.lastChild;let i=e.steps.length,o=this.ranges;for(let l=0;l<o.length;l++){let{$from:c,$to:d}=o[l],h=e.mapping.slice(i);e.replaceRange(h.map(c.pos),h.map(d.pos),l?_t.empty:r),l==0&&uL(e,i,(n?n.isInline:s&&s.isTextblock)?-1:1)}}replaceWith(e,r){let n=e.steps.length,s=this.ranges;for(let i=0;i<s.length;i++){let{$from:o,$to:l}=s[i],c=e.mapping.slice(n),d=c.map(o.pos),h=c.map(l.pos);i?e.deleteRange(d,h):(e.replaceRangeWith(d,h,r),uL(e,n,r.isInline?-1:1))}}static findFrom(e,r,n=!1){let s=e.parent.inlineContent?new rr(e):pf(e.node(0),e.parent,e.pos,e.index(),r,n);if(s)return s;for(let i=e.depth-1;i>=0;i--){let o=r<0?pf(e.node(0),e.node(i),e.before(i+1),e.index(i),r,n):pf(e.node(0),e.node(i),e.after(i+1),e.index(i)+1,r,n);if(o)return o}return null}static near(e,r=1){return this.findFrom(e,r)||this.findFrom(e,-r)||new Us(e.node(0))}static atStart(e){return pf(e,e,0,0,1)||new Us(e)}static atEnd(e){return pf(e,e,e.content.size,e.childCount,-1)||new Us(e)}static fromJSON(e,r){if(!r||!r.type)throw new RangeError("Invalid input for Selection.fromJSON");let n=GN[r.type];if(!n)throw new RangeError(`No selection type ${r.type} defined`);return n.fromJSON(e,r)}static jsonID(e,r){if(e in GN)throw new RangeError("Duplicate use of selection JSON ID "+e);return GN[e]=r,r.prototype.jsonID=e,r}getBookmark(){return rr.between(this.$anchor,this.$head).getBookmark()}}ur.prototype.visible=!0;class jye{constructor(e,r){this.$from=e,this.$to=r}}let lL=!1;function cL(t){!lL&&!t.parent.inlineContent&&(lL=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class rr extends ur{constructor(e,r=e){cL(e),cL(r),super(e,r)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,r){let n=e.resolve(r.map(this.head));if(!n.parent.inlineContent)return ur.near(n);let s=e.resolve(r.map(this.anchor));return new rr(s.parent.inlineContent?s:n,n)}replace(e,r=_t.empty){if(super.replace(e,r),r==_t.empty){let n=this.$from.marksAcross(this.$to);n&&e.ensureMarks(n)}}eq(e){return e instanceof rr&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Jw(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,r){if(typeof r.anchor!="number"||typeof r.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new rr(e.resolve(r.anchor),e.resolve(r.head))}static create(e,r,n=r){let s=e.resolve(r);return new this(s,n==r?s:e.resolve(n))}static between(e,r,n){let s=e.pos-r.pos;if((!n||s)&&(n=s>=0?1:-1),!r.parent.inlineContent){let i=ur.findFrom(r,n,!0)||ur.findFrom(r,-n,!0);if(i)r=i.$head;else return ur.near(r,n)}return e.parent.inlineContent||(s==0?e=r:(e=(ur.findFrom(e,-n,!0)||ur.findFrom(e,n,!0)).$anchor,e.pos<r.pos!=s<0&&(e=r))),new rr(e,r)}}ur.jsonID("text",rr);class Jw{constructor(e,r){this.anchor=e,this.head=r}map(e){return new Jw(e.map(this.anchor),e.map(this.head))}resolve(e){return rr.between(e.resolve(this.anchor),e.resolve(this.head))}}class Gt extends ur{constructor(e){let r=e.nodeAfter,n=e.node(0).resolve(e.pos+r.nodeSize);super(e,n),this.node=r}map(e,r){let{deleted:n,pos:s}=r.mapResult(this.anchor),i=e.resolve(s);return n?ur.near(i):new Gt(i)}content(){return new _t(it.from(this.node),0,0)}eq(e){return e instanceof Gt&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new TO(this.anchor)}static fromJSON(e,r){if(typeof r.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Gt(e.resolve(r.anchor))}static create(e,r){return new Gt(e.resolve(r))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}Gt.prototype.visible=!1;ur.jsonID("node",Gt);class TO{constructor(e){this.anchor=e}map(e){let{deleted:r,pos:n}=e.mapResult(this.anchor);return r?new Jw(n,n):new TO(n)}resolve(e){let r=e.resolve(this.anchor),n=r.nodeAfter;return n&&Gt.isSelectable(n)?new Gt(r):ur.near(r)}}class Us extends ur{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,r=_t.empty){if(r==_t.empty){e.delete(0,e.doc.content.size);let n=ur.atStart(e.doc);n.eq(e.selection)||e.setSelection(n)}else super.replace(e,r)}toJSON(){return{type:"all"}}static fromJSON(e){return new Us(e)}map(e){return new Us(e)}eq(e){return e instanceof Us}getBookmark(){return Sye}}ur.jsonID("all",Us);const Sye={map(){return this},resolve(t){return new Us(t)}};function pf(t,e,r,n,s,i=!1){if(e.inlineContent)return rr.create(t,r);for(let o=n-(s>0?0:1);s>0?o<e.childCount:o>=0;o+=s){let l=e.child(o);if(l.isAtom){if(!i&&Gt.isSelectable(l))return Gt.create(t,r-(s<0?l.nodeSize:0))}else{let c=pf(t,l,r+s,s<0?l.childCount:0,s,i);if(c)return c}r+=l.nodeSize*s}return null}function uL(t,e,r){let n=t.steps.length-1;if(n<e)return;let s=t.steps[n];if(!(s instanceof Sa||s instanceof ka))return;let i=t.mapping.maps[n],o;i.forEach((l,c,d,h)=>{o==null&&(o=h)}),t.setSelection(ur.near(t.doc.resolve(o),r))}const dL=1,uy=2,fL=4;class Nye extends UU{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|dL)&~uy,this.storedMarks=null,this}get selectionSet(){return(this.updated&dL)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=uy,this}ensureMarks(e){return ln.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&uy)>0}addStep(e,r){super.addStep(e,r),this.updated=this.updated&~uy,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,r=!0){let n=this.selection;return r&&(e=e.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||ln.none))),n.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,r,n){let s=this.doc.type.schema;if(r==null)return e?this.replaceSelectionWith(s.text(e),!0):this.deleteSelection();{if(n==null&&(n=r),n=n??r,!e)return this.deleteRange(r,n);let i=this.storedMarks;if(!i){let o=this.doc.resolve(r);i=n==r?o.marks():o.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(r,n,s.text(e,i)),this.selection.empty||this.setSelection(ur.near(this.selection.$to)),this}}setMeta(e,r){return this.meta[typeof e=="string"?e:e.key]=r,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=fL,this}get scrolledIntoView(){return(this.updated&fL)>0}}function hL(t,e){return!e||!t?t:t.bind(e)}class wp{constructor(e,r,n){this.name=e,this.init=hL(r.init,n),this.apply=hL(r.apply,n)}}const kye=[new wp("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new wp("selection",{init(t,e){return t.selection||ur.atStart(e.doc)},apply(t){return t.selection}}),new wp("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,r,n){return n.selection.$cursor?t.storedMarks:null}}),new wp("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class YN{constructor(e,r){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=kye.slice(),r&&r.forEach(n=>{if(this.pluginsByKey[n.key])throw new RangeError("Adding different instances of a keyed plugin ("+n.key+")");this.plugins.push(n),this.pluginsByKey[n.key]=n,n.spec.state&&this.fields.push(new wp(n.key,n.spec.state,n))})}}class Nf{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,r=-1){for(let n=0;n<this.config.plugins.length;n++)if(n!=r){let s=this.config.plugins[n];if(s.spec.filterTransaction&&!s.spec.filterTransaction.call(s,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let r=[e],n=this.applyInner(e),s=null;for(;;){let i=!1;for(let o=0;o<this.config.plugins.length;o++){let l=this.config.plugins[o];if(l.spec.appendTransaction){let c=s?s[o].n:0,d=s?s[o].state:this,h=c<r.length&&l.spec.appendTransaction.call(l,c?r.slice(c):r,d,n);if(h&&n.filterTransaction(h,o)){if(h.setMeta("appendedTransaction",e),!s){s=[];for(let m=0;m<this.config.plugins.length;m++)s.push(m<o?{state:n,n:r.length}:{state:this,n:0})}r.push(h),n=n.applyInner(h),i=!0}s&&(s[o]={state:n,n:r.length})}}if(!i)return{state:n,transactions:r}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let r=new Nf(this.config),n=this.config.fields;for(let s=0;s<n.length;s++){let i=n[s];r[i.name]=i.apply(e,this[i.name],this,r)}return r}get tr(){return new Nye(this)}static create(e){let r=new YN(e.doc?e.doc.type.schema:e.schema,e.plugins),n=new Nf(r);for(let s=0;s<r.fields.length;s++)n[r.fields[s].name]=r.fields[s].init(e,n);return n}reconfigure(e){let r=new YN(this.schema,e.plugins),n=r.fields,s=new Nf(r);for(let i=0;i<n.length;i++){let o=n[i].name;s[o]=this.hasOwnProperty(o)?this[o]:n[i].init(e,s)}return s}toJSON(e){let r={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(r.storedMarks=this.storedMarks.map(n=>n.toJSON())),e&&typeof e=="object")for(let n in e){if(n=="doc"||n=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let s=e[n],i=s.spec.state;i&&i.toJSON&&(r[n]=i.toJSON.call(s,this[s.key]))}return r}static fromJSON(e,r,n){if(!r)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let s=new YN(e.schema,e.plugins),i=new Nf(s);return s.fields.forEach(o=>{if(o.name=="doc")i.doc=Oc.fromJSON(e.schema,r.doc);else if(o.name=="selection")i.selection=ur.fromJSON(i.doc,r.selection);else if(o.name=="storedMarks")r.storedMarks&&(i.storedMarks=r.storedMarks.map(e.schema.markFromJSON));else{if(n)for(let l in n){let c=n[l],d=c.spec.state;if(c.key==o.name&&d&&d.fromJSON&&Object.prototype.hasOwnProperty.call(r,l)){i[o.name]=d.fromJSON.call(c,e,r[l],i);return}}i[o.name]=o.init(e,i)}}),i}}function GU(t,e,r){for(let n in t){let s=t[n];s instanceof Function?s=s.bind(e):n=="handleDOMEvents"&&(s=GU(s,e,{})),r[n]=s}return r}class qn{constructor(e){this.spec=e,this.props={},e.props&&GU(e.props,this,this.props),this.key=e.key?e.key.key:YU("plugin")}getState(e){return e[this.key]}}const KN=Object.create(null);function YU(t){return t in KN?t+"$"+ ++KN[t]:(KN[t]=0,t+"$")}class _a{constructor(e="key"){this.key=YU(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const Fa=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},nh=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let w_=null;const il=function(t,e,r){let n=w_||(w_=document.createRange());return n.setEnd(t,r??t.nodeValue.length),n.setStart(t,e||0),n},Cye=function(){w_=null},od=function(t,e,r,n){return r&&(mL(t,e,r,n,-1)||mL(t,e,r,n,1))},Tye=/^(img|br|input|textarea|hr)$/i;function mL(t,e,r,n,s){for(var i;;){if(t==r&&e==n)return!0;if(e==(s<0?0:gi(t))){let o=t.parentNode;if(!o||o.nodeType!=1||mg(t)||Tye.test(t.nodeName)||t.contentEditable=="false")return!1;e=Fa(t)+(s<0?0:1),t=o}else if(t.nodeType==1){let o=t.childNodes[e+(s<0?-1:0)];if(o.nodeType==1&&o.contentEditable=="false")if(!((i=o.pmViewDesc)===null||i===void 0)&&i.ignoreForSelection)e+=s;else return!1;else t=o,e=s<0?gi(t):0}else return!1}}function gi(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function _ye(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=gi(t)}else if(t.parentNode&&!mg(t))e=Fa(t),t=t.parentNode;else return null}}function Mye(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!mg(t))e=Fa(t)+1,t=t.parentNode;else return null}}function Aye(t,e,r){for(let n=e==0,s=e==gi(t);n||s;){if(t==r)return!0;let i=Fa(t);if(t=t.parentNode,!t)return!1;n=n&&i==0,s=s&&i==gi(t)}}function mg(t){let e;for(let r=t;r&&!(e=r.pmViewDesc);r=r.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const Qw=function(t){return t.focusNode&&od(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function Tu(t,e){let r=document.createEvent("Event");return r.initEvent("keydown",!0,!0),r.keyCode=t,r.key=r.code=e,r}function Oye(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function Eye(t,e,r){if(t.caretPositionFromPoint)try{let n=t.caretPositionFromPoint(e,r);if(n)return{node:n.offsetNode,offset:Math.min(gi(n.offsetNode),n.offset)}}catch{}if(t.caretRangeFromPoint){let n=t.caretRangeFromPoint(e,r);if(n)return{node:n.startContainer,offset:Math.min(gi(n.startContainer),n.startOffset)}}}const _o=typeof navigator<"u"?navigator:null,pL=typeof document<"u"?document:null,Yc=_o&&_o.userAgent||"",j_=/Edge\/(\d+)/.exec(Yc),KU=/MSIE \d/.exec(Yc),S_=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Yc),Cs=!!(KU||S_||j_),Dc=KU?document.documentMode:S_?+S_[1]:j_?+j_[1]:0,wi=!Cs&&/gecko\/(\d+)/i.test(Yc);wi&&+(/Firefox\/(\d+)/.exec(Yc)||[0,0])[1];const N_=!Cs&&/Chrome\/(\d+)/.exec(Yc),Ka=!!N_,XU=N_?+N_[1]:0,hs=!Cs&&!!_o&&/Apple Computer/.test(_o.vendor),ah=hs&&(/Mobile\/\w+/.test(Yc)||!!_o&&_o.maxTouchPoints>2),mi=ah||(_o?/Mac/.test(_o.platform):!1),Dye=_o?/Win/.test(_o.platform):!1,ul=/Android \d/.test(Yc),pg=!!pL&&"webkitFontSmoothing"in pL.documentElement.style,Pye=pg?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function Rye(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function el(t,e){return typeof t=="number"?t:t[e]}function Iye(t){let e=t.getBoundingClientRect(),r=e.width/t.offsetWidth||1,n=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*r,top:e.top,bottom:e.top+t.clientHeight*n}}function gL(t,e,r){let n=t.someProp("scrollThreshold")||0,s=t.someProp("scrollMargin")||5,i=t.dom.ownerDocument;for(let o=r||t.dom;o;){if(o.nodeType!=1){o=nh(o);continue}let l=o,c=l==i.body,d=c?Rye(i):Iye(l),h=0,m=0;if(e.top<d.top+el(n,"top")?m=-(d.top-e.top+el(s,"top")):e.bottom>d.bottom-el(n,"bottom")&&(m=e.bottom-e.top>d.bottom-d.top?e.top+el(s,"top")-d.top:e.bottom-d.bottom+el(s,"bottom")),e.left<d.left+el(n,"left")?h=-(d.left-e.left+el(s,"left")):e.right>d.right-el(n,"right")&&(h=e.right-d.right+el(s,"right")),h||m)if(c)i.defaultView.scrollBy(h,m);else{let y=l.scrollLeft,w=l.scrollTop;m&&(l.scrollTop+=m),h&&(l.scrollLeft+=h);let j=l.scrollLeft-y,v=l.scrollTop-w;e={left:e.left-j,top:e.top-v,right:e.right-j,bottom:e.bottom-v}}let x=c?"fixed":getComputedStyle(o).position;if(/^(fixed|sticky)$/.test(x))break;o=x=="absolute"?o.offsetParent:nh(o)}}function Lye(t){let e=t.dom.getBoundingClientRect(),r=Math.max(0,e.top),n,s;for(let i=(e.left+e.right)/2,o=r+1;o<Math.min(innerHeight,e.bottom);o+=5){let l=t.root.elementFromPoint(i,o);if(!l||l==t.dom||!t.dom.contains(l))continue;let c=l.getBoundingClientRect();if(c.top>=r-20){n=l,s=c.top;break}}return{refDOM:n,refTop:s,stack:JU(t.dom)}}function JU(t){let e=[],r=t.ownerDocument;for(let n=t;n&&(e.push({dom:n,top:n.scrollTop,left:n.scrollLeft}),t!=r);n=nh(n));return e}function $ye({refDOM:t,refTop:e,stack:r}){let n=t?t.getBoundingClientRect().top:0;QU(r,n==0?0:n-e)}function QU(t,e){for(let r=0;r<t.length;r++){let{dom:n,top:s,left:i}=t[r];n.scrollTop!=s+e&&(n.scrollTop=s+e),n.scrollLeft!=i&&(n.scrollLeft=i)}}let of=null;function Fye(t){if(t.setActive)return t.setActive();if(of)return t.focus(of);let e=JU(t);t.focus(of==null?{get preventScroll(){return of={preventScroll:!0},!0}}:void 0),of||(of=!1,QU(e,0))}function ZU(t,e){let r,n=2e8,s,i=0,o=e.top,l=e.top,c,d;for(let h=t.firstChild,m=0;h;h=h.nextSibling,m++){let x;if(h.nodeType==1)x=h.getClientRects();else if(h.nodeType==3)x=il(h).getClientRects();else continue;for(let y=0;y<x.length;y++){let w=x[y];if(w.top<=o&&w.bottom>=l){o=Math.max(w.bottom,o),l=Math.min(w.top,l);let j=w.left>e.left?w.left-e.left:w.right<e.left?e.left-w.right:0;if(j<n){r=h,n=j,s=j&&r.nodeType==3?{left:w.right<e.left?w.right:w.left,top:e.top}:e,h.nodeType==1&&j&&(i=m+(e.left>=(w.left+w.right)/2?1:0));continue}}else w.top>e.top&&!c&&w.left<=e.left&&w.right>=e.left&&(c=h,d={left:Math.max(w.left,Math.min(w.right,e.left)),top:w.top});!r&&(e.left>=w.right&&e.top>=w.top||e.left>=w.left&&e.top>=w.bottom)&&(i=m+1)}}return!r&&c&&(r=c,s=d,n=0),r&&r.nodeType==3?Hye(r,s):!r||n&&r.nodeType==1?{node:t,offset:i}:ZU(r,s)}function Hye(t,e){let r=t.nodeValue.length,n=document.createRange();for(let s=0;s<r;s++){n.setEnd(t,s+1),n.setStart(t,s);let i=xc(n,1);if(i.top!=i.bottom&&_O(e,i))return{node:t,offset:s+(e.left>=(i.left+i.right)/2?1:0)}}return{node:t,offset:0}}function _O(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function Bye(t,e){let r=t.parentNode;return r&&/^li$/i.test(r.nodeName)&&e.left<t.getBoundingClientRect().left?r:t}function zye(t,e,r){let{node:n,offset:s}=ZU(e,r),i=-1;if(n.nodeType==1&&!n.firstChild){let o=n.getBoundingClientRect();i=o.left!=o.right&&r.left>(o.left+o.right)/2?1:-1}return t.docView.posFromDOM(n,s,i)}function Vye(t,e,r,n){let s=-1;for(let i=e,o=!1;i!=t.dom;){let l=t.docView.nearestDesc(i,!0),c;if(!l)return null;if(l.dom.nodeType==1&&(l.node.isBlock&&l.parent||!l.contentDOM)&&((c=l.dom.getBoundingClientRect()).width||c.height)&&(l.node.isBlock&&l.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(l.dom.nodeName)&&(!o&&c.left>n.left||c.top>n.top?s=l.posBefore:(!o&&c.right<n.left||c.bottom<n.top)&&(s=l.posAfter),o=!0),!l.contentDOM&&s<0&&!l.node.isText))return(l.node.isBlock?n.top<(c.top+c.bottom)/2:n.left<(c.left+c.right)/2)?l.posBefore:l.posAfter;i=l.dom.parentNode}return s>-1?s:t.docView.posFromDOM(e,r,-1)}function eG(t,e,r){let n=t.childNodes.length;if(n&&r.top<r.bottom)for(let s=Math.max(0,Math.min(n-1,Math.floor(n*(e.top-r.top)/(r.bottom-r.top))-2)),i=s;;){let o=t.childNodes[i];if(o.nodeType==1){let l=o.getClientRects();for(let c=0;c<l.length;c++){let d=l[c];if(_O(e,d))return eG(o,e,d)}}if((i=(i+1)%n)==s)break}return t}function Wye(t,e){let r=t.dom.ownerDocument,n,s=0,i=Eye(r,e.left,e.top);i&&({node:n,offset:s}=i);let o=(t.root.elementFromPoint?t.root:r).elementFromPoint(e.left,e.top),l;if(!o||!t.dom.contains(o.nodeType!=1?o.parentNode:o)){let d=t.dom.getBoundingClientRect();if(!_O(e,d)||(o=eG(t.dom,e,d),!o))return null}if(hs)for(let d=o;n&&d;d=nh(d))d.draggable&&(n=void 0);if(o=Bye(o,e),n){if(wi&&n.nodeType==1&&(s=Math.min(s,n.childNodes.length),s<n.childNodes.length)){let h=n.childNodes[s],m;h.nodeName=="IMG"&&(m=h.getBoundingClientRect()).right<=e.left&&m.bottom>e.top&&s++}let d;pg&&s&&n.nodeType==1&&(d=n.childNodes[s-1]).nodeType==1&&d.contentEditable=="false"&&d.getBoundingClientRect().top>=e.top&&s--,n==t.dom&&s==n.childNodes.length-1&&n.lastChild.nodeType==1&&e.top>n.lastChild.getBoundingClientRect().bottom?l=t.state.doc.content.size:(s==0||n.nodeType!=1||n.childNodes[s-1].nodeName!="BR")&&(l=Vye(t,n,s,e))}l==null&&(l=zye(t,o,e));let c=t.docView.nearestDesc(o,!0);return{pos:l,inside:c?c.posAtStart-c.border:-1}}function xL(t){return t.top<t.bottom||t.left<t.right}function xc(t,e){let r=t.getClientRects();if(r.length){let n=r[e<0?0:r.length-1];if(xL(n))return n}return Array.prototype.find.call(r,xL)||t.getBoundingClientRect()}const qye=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function tG(t,e,r){let{node:n,offset:s,atom:i}=t.docView.domFromPos(e,r<0?-1:1),o=pg||wi;if(n.nodeType==3)if(o&&(qye.test(n.nodeValue)||(r<0?!s:s==n.nodeValue.length))){let c=xc(il(n,s,s),r);if(wi&&s&&/\s/.test(n.nodeValue[s-1])&&s<n.nodeValue.length){let d=xc(il(n,s-1,s-1),-1);if(d.top==c.top){let h=xc(il(n,s,s+1),-1);if(h.top!=c.top)return np(h,h.left<d.left)}}return c}else{let c=s,d=s,h=r<0?1:-1;return r<0&&!s?(d++,h=-1):r>=0&&s==n.nodeValue.length?(c--,h=1):r<0?c--:d++,np(xc(il(n,c,d),h),h<0)}if(!t.state.doc.resolve(e-(i||0)).parent.inlineContent){if(i==null&&s&&(r<0||s==gi(n))){let c=n.childNodes[s-1];if(c.nodeType==1)return XN(c.getBoundingClientRect(),!1)}if(i==null&&s<gi(n)){let c=n.childNodes[s];if(c.nodeType==1)return XN(c.getBoundingClientRect(),!0)}return XN(n.getBoundingClientRect(),r>=0)}if(i==null&&s&&(r<0||s==gi(n))){let c=n.childNodes[s-1],d=c.nodeType==3?il(c,gi(c)-(o?0:1)):c.nodeType==1&&(c.nodeName!="BR"||!c.nextSibling)?c:null;if(d)return np(xc(d,1),!1)}if(i==null&&s<gi(n)){let c=n.childNodes[s];for(;c.pmViewDesc&&c.pmViewDesc.ignoreForCoords;)c=c.nextSibling;let d=c?c.nodeType==3?il(c,0,o?0:1):c.nodeType==1?c:null:null;if(d)return np(xc(d,-1),!0)}return np(xc(n.nodeType==3?il(n):n,-r),r>=0)}function np(t,e){if(t.width==0)return t;let r=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:r,right:r}}function XN(t,e){if(t.height==0)return t;let r=e?t.top:t.bottom;return{top:r,bottom:r,left:t.left,right:t.right}}function rG(t,e,r){let n=t.state,s=t.root.activeElement;n!=e&&t.updateState(e),s!=t.dom&&t.focus();try{return r()}finally{n!=e&&t.updateState(n),s!=t.dom&&s&&s.focus()}}function Uye(t,e,r){let n=e.selection,s=r=="up"?n.$from:n.$to;return rG(t,e,()=>{let{node:i}=t.docView.domFromPos(s.pos,r=="up"?-1:1);for(;;){let l=t.docView.nearestDesc(i,!0);if(!l)break;if(l.node.isBlock){i=l.contentDOM||l.dom;break}i=l.dom.parentNode}let o=tG(t,s.pos,1);for(let l=i.firstChild;l;l=l.nextSibling){let c;if(l.nodeType==1)c=l.getClientRects();else if(l.nodeType==3)c=il(l,0,l.nodeValue.length).getClientRects();else continue;for(let d=0;d<c.length;d++){let h=c[d];if(h.bottom>h.top+1&&(r=="up"?o.top-h.top>(h.bottom-o.top)*2:h.bottom-o.bottom>(o.bottom-h.top)*2))return!1}}return!0})}const Gye=/[\u0590-\u08ac]/;function Yye(t,e,r){let{$head:n}=e.selection;if(!n.parent.isTextblock)return!1;let s=n.parentOffset,i=!s,o=s==n.parent.content.size,l=t.domSelection();return l?!Gye.test(n.parent.textContent)||!l.modify?r=="left"||r=="backward"?i:o:rG(t,e,()=>{let{focusNode:c,focusOffset:d,anchorNode:h,anchorOffset:m}=t.domSelectionRange(),x=l.caretBidiLevel;l.modify("move",r,"character");let y=n.depth?t.docView.domAfterPos(n.before()):t.dom,{focusNode:w,focusOffset:j}=t.domSelectionRange(),v=w&&!y.contains(w.nodeType==1?w:w.parentNode)||c==w&&d==j;try{l.collapse(h,m),c&&(c!=h||d!=m)&&l.extend&&l.extend(c,d)}catch{}return x!=null&&(l.caretBidiLevel=x),v}):n.pos==n.start()||n.pos==n.end()}let yL=null,bL=null,vL=!1;function Kye(t,e,r){return yL==e&&bL==r?vL:(yL=e,bL=r,vL=r=="up"||r=="down"?Uye(t,e,r):Yye(t,e,r))}const ji=0,wL=1,Pu=2,Mo=3;class gg{constructor(e,r,n,s){this.parent=e,this.children=r,this.dom=n,this.contentDOM=s,this.dirty=ji,n.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,r,n){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let r=0;r<this.children.length;r++)e+=this.children[r].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let r=0,n=this.posAtStart;;r++){let s=this.children[r];if(s==e)return n;n+=s.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,r,n){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(n<0){let i,o;if(e==this.contentDOM)i=e.childNodes[r-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.previousSibling}for(;i&&!((o=i.pmViewDesc)&&o.parent==this);)i=i.previousSibling;return i?this.posBeforeChild(o)+o.size:this.posAtStart}else{let i,o;if(e==this.contentDOM)i=e.childNodes[r];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.nextSibling}for(;i&&!((o=i.pmViewDesc)&&o.parent==this);)i=i.nextSibling;return i?this.posBeforeChild(o):this.posAtEnd}let s;if(e==this.dom&&this.contentDOM)s=r>Fa(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))s=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(r==0)for(let i=e;;i=i.parentNode){if(i==this.dom){s=!1;break}if(i.previousSibling)break}if(s==null&&r==e.childNodes.length)for(let i=e;;i=i.parentNode){if(i==this.dom){s=!0;break}if(i.nextSibling)break}}return s??n>0?this.posAtEnd:this.posAtStart}nearestDesc(e,r=!1){for(let n=!0,s=e;s;s=s.parentNode){let i=this.getDesc(s),o;if(i&&(!r||i.node))if(n&&(o=i.nodeDOM)&&!(o.nodeType==1?o.contains(e.nodeType==1?e:e.parentNode):o==e))n=!1;else return i}}getDesc(e){let r=e.pmViewDesc;for(let n=r;n;n=n.parent)if(n==this)return r}posFromDOM(e,r,n){for(let s=e;s;s=s.parentNode){let i=this.getDesc(s);if(i)return i.localPosFromDOM(e,r,n)}return-1}descAt(e){for(let r=0,n=0;r<this.children.length;r++){let s=this.children[r],i=n+s.size;if(n==e&&i!=n){for(;!s.border&&s.children.length;)for(let o=0;o<s.children.length;o++){let l=s.children[o];if(l.size){s=l;break}}return s}if(e<i)return s.descAt(e-n-s.border);n=i}}domFromPos(e,r){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let n=0,s=0;for(let i=0;n<this.children.length;n++){let o=this.children[n],l=i+o.size;if(l>e||o instanceof aG){s=e-i;break}i=l}if(s)return this.children[n].domFromPos(s-this.children[n].border,r);for(let i;n&&!(i=this.children[n-1]).size&&i instanceof nG&&i.side>=0;n--);if(r<=0){let i,o=!0;for(;i=n?this.children[n-1]:null,!(!i||i.dom.parentNode==this.contentDOM);n--,o=!1);return i&&r&&o&&!i.border&&!i.domAtom?i.domFromPos(i.size,r):{node:this.contentDOM,offset:i?Fa(i.dom)+1:0}}else{let i,o=!0;for(;i=n<this.children.length?this.children[n]:null,!(!i||i.dom.parentNode==this.contentDOM);n++,o=!1);return i&&o&&!i.border&&!i.domAtom?i.domFromPos(0,r):{node:this.contentDOM,offset:i?Fa(i.dom):this.contentDOM.childNodes.length}}}parseRange(e,r,n=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:r,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let s=-1,i=-1;for(let o=n,l=0;;l++){let c=this.children[l],d=o+c.size;if(s==-1&&e<=d){let h=o+c.border;if(e>=h&&r<=d-c.border&&c.node&&c.contentDOM&&this.contentDOM.contains(c.contentDOM))return c.parseRange(e,r,h);e=o;for(let m=l;m>0;m--){let x=this.children[m-1];if(x.size&&x.dom.parentNode==this.contentDOM&&!x.emptyChildAt(1)){s=Fa(x.dom)+1;break}e-=x.size}s==-1&&(s=0)}if(s>-1&&(d>r||l==this.children.length-1)){r=d;for(let h=l+1;h<this.children.length;h++){let m=this.children[h];if(m.size&&m.dom.parentNode==this.contentDOM&&!m.emptyChildAt(-1)){i=Fa(m.dom);break}r+=m.size}i==-1&&(i=this.contentDOM.childNodes.length);break}o=d}return{node:this.contentDOM,from:e,to:r,fromOffset:s,toOffset:i}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let r=this.children[e<0?0:this.children.length-1];return r.size==0||r.emptyChildAt(e)}domAfterPos(e){let{node:r,offset:n}=this.domFromPos(e,0);if(r.nodeType!=1||n==r.childNodes.length)throw new RangeError("No node after pos "+e);return r.childNodes[n]}setSelection(e,r,n,s=!1){let i=Math.min(e,r),o=Math.max(e,r);for(let y=0,w=0;y<this.children.length;y++){let j=this.children[y],v=w+j.size;if(i>w&&o<v)return j.setSelection(e-w-j.border,r-w-j.border,n,s);w=v}let l=this.domFromPos(e,e?-1:1),c=r==e?l:this.domFromPos(r,r?-1:1),d=n.root.getSelection(),h=n.domSelectionRange(),m=!1;if((wi||hs)&&e==r){let{node:y,offset:w}=l;if(y.nodeType==3){if(m=!!(w&&y.nodeValue[w-1]==`
`),m&&w==y.nodeValue.length)for(let j=y,v;j;j=j.parentNode){if(v=j.nextSibling){v.nodeName=="BR"&&(l=c={node:v.parentNode,offset:Fa(v)+1});break}let N=j.pmViewDesc;if(N&&N.node&&N.node.isBlock)break}}else{let j=y.childNodes[w-1];m=j&&(j.nodeName=="BR"||j.contentEditable=="false")}}if(wi&&h.focusNode&&h.focusNode!=c.node&&h.focusNode.nodeType==1){let y=h.focusNode.childNodes[h.focusOffset];y&&y.contentEditable=="false"&&(s=!0)}if(!(s||m&&hs)&&od(l.node,l.offset,h.anchorNode,h.anchorOffset)&&od(c.node,c.offset,h.focusNode,h.focusOffset))return;let x=!1;if((d.extend||e==r)&&!(m&&wi)){d.collapse(l.node,l.offset);try{e!=r&&d.extend(c.node,c.offset),x=!0}catch{}}if(!x){if(e>r){let w=l;l=c,c=w}let y=document.createRange();y.setEnd(c.node,c.offset),y.setStart(l.node,l.offset),d.removeAllRanges(),d.addRange(y)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,r){for(let n=0,s=0;s<this.children.length;s++){let i=this.children[s],o=n+i.size;if(n==o?e<=o&&r>=n:e<o&&r>n){let l=n+i.border,c=o-i.border;if(e>=l&&r<=c){this.dirty=e==n||r==o?Pu:wL,e==l&&r==c&&(i.contentLost||i.dom.parentNode!=this.contentDOM)?i.dirty=Mo:i.markDirty(e-l,r-l);return}else i.dirty=i.dom==i.contentDOM&&i.dom.parentNode==this.contentDOM&&!i.children.length?Pu:Mo}n=o}this.dirty=Pu}markParentsDirty(){let e=1;for(let r=this.parent;r;r=r.parent,e++){let n=e==1?Pu:wL;r.dirty<n&&(r.dirty=n)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class nG extends gg{constructor(e,r,n,s){let i,o=r.type.toDOM;if(typeof o=="function"&&(o=o(n,()=>{if(!i)return s;if(i.parent)return i.parent.posBeforeChild(i)})),!r.type.spec.raw){if(o.nodeType!=1){let l=document.createElement("span");l.appendChild(o),o=l}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(e,[],o,null),this.widget=r,this.widget=r,i=this}matchesWidget(e){return this.dirty==ji&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let r=this.widget.spec.stopEvent;return r?r(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class Xye extends gg{constructor(e,r,n,s){super(e,[],r,null),this.textDOM=n,this.text=s}get size(){return this.text.length}localPosFromDOM(e,r){return e!=this.textDOM?this.posAtStart+(r?this.size:0):this.posAtStart+r}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class ld extends gg{constructor(e,r,n,s,i){super(e,[],n,s),this.mark=r,this.spec=i}static create(e,r,n,s){let i=s.nodeViews[r.type.name],o=i&&i(r,s,n);return(!o||!o.dom)&&(o=yd.renderSpec(document,r.type.spec.toDOM(r,n),null,r.attrs)),new ld(e,r,o.dom,o.contentDOM||o.dom,o)}parseRule(){return this.dirty&Mo||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=Mo&&this.mark.eq(e)}markDirty(e,r){if(super.markDirty(e,r),this.dirty!=ji){let n=this.parent;for(;!n.node;)n=n.parent;n.dirty<this.dirty&&(n.dirty=this.dirty),this.dirty=ji}}slice(e,r,n){let s=ld.create(this.parent,this.mark,!0,n),i=this.children,o=this.size;r<o&&(i=C_(i,r,o,n)),e>0&&(i=C_(i,0,e,n));for(let l=0;l<i.length;l++)i[l].parent=s;return s.children=i,s}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class Pc extends gg{constructor(e,r,n,s,i,o,l,c,d){super(e,[],i,o),this.node=r,this.outerDeco=n,this.innerDeco=s,this.nodeDOM=l}static create(e,r,n,s,i,o){let l=i.nodeViews[r.type.name],c,d=l&&l(r,i,()=>{if(!c)return o;if(c.parent)return c.parent.posBeforeChild(c)},n,s),h=d&&d.dom,m=d&&d.contentDOM;if(r.isText){if(!h)h=document.createTextNode(r.text);else if(h.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else h||({dom:h,contentDOM:m}=yd.renderSpec(document,r.type.spec.toDOM(r),null,r.attrs));!m&&!r.isText&&h.nodeName!="BR"&&(h.hasAttribute("contenteditable")||(h.contentEditable="false"),r.type.spec.draggable&&(h.draggable=!0));let x=h;return h=oG(h,n,r),d?c=new Jye(e,r,n,s,h,m||null,x,d,i,o+1):r.isText?new Zw(e,r,n,s,h,x,i):new Pc(e,r,n,s,h,m||null,x,i,o+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let r=this.children.length-1;r>=0;r--){let n=this.children[r];if(this.dom.contains(n.dom.parentNode)){e.contentElement=n.dom.parentNode;break}}e.contentElement||(e.getContent=()=>it.empty)}return e}matchesNode(e,r,n){return this.dirty==ji&&e.eq(this.node)&&Ub(r,this.outerDeco)&&n.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,r){let n=this.node.inlineContent,s=r,i=e.composing?this.localCompositionInfo(e,r):null,o=i&&i.pos>-1?i:null,l=i&&i.pos<0,c=new Zye(this,o&&o.node,e);rbe(this.node,this.innerDeco,(d,h,m)=>{d.spec.marks?c.syncToMarks(d.spec.marks,n,e):d.type.side>=0&&!m&&c.syncToMarks(h==this.node.childCount?ln.none:this.node.child(h).marks,n,e),c.placeWidget(d,e,s)},(d,h,m,x)=>{c.syncToMarks(d.marks,n,e);let y;c.findNodeMatch(d,h,m,x)||l&&e.state.selection.from>s&&e.state.selection.to<s+d.nodeSize&&(y=c.findIndexWithChild(i.node))>-1&&c.updateNodeAt(d,h,m,y,e)||c.updateNextNode(d,h,m,e,x,s)||c.addNode(d,h,m,e,s),s+=d.nodeSize}),c.syncToMarks([],n,e),this.node.isTextblock&&c.addTextblockHacks(),c.destroyRest(),(c.changed||this.dirty==Pu)&&(o&&this.protectLocalComposition(e,o),sG(this.contentDOM,this.children,e),ah&&nbe(this.dom))}localCompositionInfo(e,r){let{from:n,to:s}=e.state.selection;if(!(e.state.selection instanceof rr)||n<r||s>r+this.node.content.size)return null;let i=e.input.compositionNode;if(!i||!this.dom.contains(i.parentNode))return null;if(this.node.inlineContent){let o=i.nodeValue,l=abe(this.node.content,o,n-r,s-r);return l<0?null:{node:i,pos:l,text:o}}else return{node:i,pos:-1,text:""}}protectLocalComposition(e,{node:r,pos:n,text:s}){if(this.getDesc(r))return;let i=r;for(;i.parentNode!=this.contentDOM;i=i.parentNode){for(;i.previousSibling;)i.parentNode.removeChild(i.previousSibling);for(;i.nextSibling;)i.parentNode.removeChild(i.nextSibling);i.pmViewDesc&&(i.pmViewDesc=void 0)}let o=new Xye(this,i,r,s);e.input.compositionNodes.push(o),this.children=C_(this.children,n,n+s.length,e,o)}update(e,r,n,s){return this.dirty==Mo||!e.sameMarkup(this.node)?!1:(this.updateInner(e,r,n,s),!0)}updateInner(e,r,n,s){this.updateOuterDeco(r),this.node=e,this.innerDeco=n,this.contentDOM&&this.updateChildren(s,this.posAtStart),this.dirty=ji}updateOuterDeco(e){if(Ub(e,this.outerDeco))return;let r=this.nodeDOM.nodeType!=1,n=this.dom;this.dom=iG(this.dom,this.nodeDOM,k_(this.outerDeco,this.node,r),k_(e,this.node,r)),this.dom!=n&&(n.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function jL(t,e,r,n,s){oG(n,e,t);let i=new Pc(void 0,t,e,r,n,n,n,s,0);return i.contentDOM&&i.updateChildren(s,0),i}class Zw extends Pc{constructor(e,r,n,s,i,o,l){super(e,r,n,s,i,null,o,l,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,r,n,s){return this.dirty==Mo||this.dirty!=ji&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(r),(this.dirty!=ji||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,s.trackWrites==this.nodeDOM&&(s.trackWrites=null)),this.node=e,this.dirty=ji,!0)}inParent(){let e=this.parent.contentDOM;for(let r=this.nodeDOM;r;r=r.parentNode)if(r==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,r,n){return e==this.nodeDOM?this.posAtStart+Math.min(r,this.node.text.length):super.localPosFromDOM(e,r,n)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,r,n){let s=this.node.cut(e,r),i=document.createTextNode(s.text);return new Zw(this.parent,s,this.outerDeco,this.innerDeco,i,i,n)}markDirty(e,r){super.markDirty(e,r),this.dom!=this.nodeDOM&&(e==0||r==this.nodeDOM.nodeValue.length)&&(this.dirty=Mo)}get domAtom(){return!1}isText(e){return this.node.text==e}}class aG extends gg{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==ji&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class Jye extends Pc{constructor(e,r,n,s,i,o,l,c,d,h){super(e,r,n,s,i,o,l,d,h),this.spec=c}update(e,r,n,s){if(this.dirty==Mo)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let i=this.spec.update(e,r,n);return i&&this.updateInner(e,r,n,s),i}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,r,n,s)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,r,n,s){this.spec.setSelection?this.spec.setSelection(e,r,n.root):super.setSelection(e,r,n,s)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function sG(t,e,r){let n=t.firstChild,s=!1;for(let i=0;i<e.length;i++){let o=e[i],l=o.dom;if(l.parentNode==t){for(;l!=n;)n=SL(n),s=!0;n=n.nextSibling}else s=!0,t.insertBefore(l,n);if(o instanceof ld){let c=n?n.previousSibling:t.lastChild;sG(o.contentDOM,o.children,r),n=c?c.nextSibling:t.firstChild}}for(;n;)n=SL(n),s=!0;s&&r.trackWrites==t&&(r.trackWrites=null)}const Dp=function(t){t&&(this.nodeName=t)};Dp.prototype=Object.create(null);const Ru=[new Dp];function k_(t,e,r){if(t.length==0)return Ru;let n=r?Ru[0]:new Dp,s=[n];for(let i=0;i<t.length;i++){let o=t[i].type.attrs;if(o){o.nodeName&&s.push(n=new Dp(o.nodeName));for(let l in o){let c=o[l];c!=null&&(r&&s.length==1&&s.push(n=new Dp(e.isInline?"span":"div")),l=="class"?n.class=(n.class?n.class+" ":"")+c:l=="style"?n.style=(n.style?n.style+";":"")+c:l!="nodeName"&&(n[l]=c))}}}return s}function iG(t,e,r,n){if(r==Ru&&n==Ru)return e;let s=e;for(let i=0;i<n.length;i++){let o=n[i],l=r[i];if(i){let c;l&&l.nodeName==o.nodeName&&s!=t&&(c=s.parentNode)&&c.nodeName.toLowerCase()==o.nodeName||(c=document.createElement(o.nodeName),c.pmIsDeco=!0,c.appendChild(s),l=Ru[0]),s=c}Qye(s,l||Ru[0],o)}return s}function Qye(t,e,r){for(let n in e)n!="class"&&n!="style"&&n!="nodeName"&&!(n in r)&&t.removeAttribute(n);for(let n in r)n!="class"&&n!="style"&&n!="nodeName"&&r[n]!=e[n]&&t.setAttribute(n,r[n]);if(e.class!=r.class){let n=e.class?e.class.split(" ").filter(Boolean):[],s=r.class?r.class.split(" ").filter(Boolean):[];for(let i=0;i<n.length;i++)s.indexOf(n[i])==-1&&t.classList.remove(n[i]);for(let i=0;i<s.length;i++)n.indexOf(s[i])==-1&&t.classList.add(s[i]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=r.style){if(e.style){let n=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,s;for(;s=n.exec(e.style);)t.style.removeProperty(s[1])}r.style&&(t.style.cssText+=r.style)}}function oG(t,e,r){return iG(t,t,Ru,k_(e,r,t.nodeType!=1))}function Ub(t,e){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!t[r].type.eq(e[r].type))return!1;return!0}function SL(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class Zye{constructor(e,r,n){this.lock=r,this.view=n,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=ebe(e.node.content,e)}destroyBetween(e,r){if(e!=r){for(let n=e;n<r;n++)this.top.children[n].destroy();this.top.children.splice(e,r-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,r,n){let s=0,i=this.stack.length>>1,o=Math.min(i,e.length);for(;s<o&&(s==i-1?this.top:this.stack[s+1<<1]).matchesMark(e[s])&&e[s].type.spec.spanning!==!1;)s++;for(;s<i;)this.destroyRest(),this.top.dirty=ji,this.index=this.stack.pop(),this.top=this.stack.pop(),i--;for(;i<e.length;){this.stack.push(this.top,this.index+1);let l=-1;for(let c=this.index;c<Math.min(this.index+3,this.top.children.length);c++){let d=this.top.children[c];if(d.matchesMark(e[i])&&!this.isLocked(d.dom)){l=c;break}}if(l>-1)l>this.index&&(this.changed=!0,this.destroyBetween(this.index,l)),this.top=this.top.children[this.index];else{let c=ld.create(this.top,e[i],r,n);this.top.children.splice(this.index,0,c),this.top=c,this.changed=!0}this.index=0,i++}}findNodeMatch(e,r,n,s){let i=-1,o;if(s>=this.preMatch.index&&(o=this.preMatch.matches[s-this.preMatch.index]).parent==this.top&&o.matchesNode(e,r,n))i=this.top.children.indexOf(o,this.index);else for(let l=this.index,c=Math.min(this.top.children.length,l+5);l<c;l++){let d=this.top.children[l];if(d.matchesNode(e,r,n)&&!this.preMatch.matched.has(d)){i=l;break}}return i<0?!1:(this.destroyBetween(this.index,i),this.index++,!0)}updateNodeAt(e,r,n,s,i){let o=this.top.children[s];return o.dirty==Mo&&o.dom==o.contentDOM&&(o.dirty=Pu),o.update(e,r,n,i)?(this.destroyBetween(this.index,s),this.index++,!0):!1}findIndexWithChild(e){for(;;){let r=e.parentNode;if(!r)return-1;if(r==this.top.contentDOM){let n=e.pmViewDesc;if(n){for(let s=this.index;s<this.top.children.length;s++)if(this.top.children[s]==n)return s}return-1}e=r}}updateNextNode(e,r,n,s,i,o){for(let l=this.index;l<this.top.children.length;l++){let c=this.top.children[l];if(c instanceof Pc){let d=this.preMatch.matched.get(c);if(d!=null&&d!=i)return!1;let h=c.dom,m,x=this.isLocked(h)&&!(e.isText&&c.node&&c.node.isText&&c.nodeDOM.nodeValue==e.text&&c.dirty!=Mo&&Ub(r,c.outerDeco));if(!x&&c.update(e,r,n,s))return this.destroyBetween(this.index,l),c.dom!=h&&(this.changed=!0),this.index++,!0;if(!x&&(m=this.recreateWrapper(c,e,r,n,s,o)))return this.destroyBetween(this.index,l),this.top.children[this.index]=m,m.contentDOM&&(m.dirty=Pu,m.updateChildren(s,o+1),m.dirty=ji),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,r,n,s,i,o){if(e.dirty||r.isAtom||!e.children.length||!e.node.content.eq(r.content)||!Ub(n,e.outerDeco)||!s.eq(e.innerDeco))return null;let l=Pc.create(this.top,r,n,s,i,o);if(l.contentDOM){l.children=e.children,e.children=[];for(let c of l.children)c.parent=l}return e.destroy(),l}addNode(e,r,n,s,i){let o=Pc.create(this.top,e,r,n,s,i);o.contentDOM&&o.updateChildren(s,i+1),this.top.children.splice(this.index++,0,o),this.changed=!0}placeWidget(e,r,n){let s=this.index<this.top.children.length?this.top.children[this.index]:null;if(s&&s.matchesWidget(e)&&(e==s.widget||!s.widget.type.toDOM.parentNode))this.index++;else{let i=new nG(this.top,e,r,n);this.top.children.splice(this.index++,0,i),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],r=this.top;for(;e instanceof ld;)r=e,e=r.children[r.children.length-1];(!e||!(e instanceof Zw)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((hs||Ka)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",r),this.addHackNode("BR",this.top))}addHackNode(e,r){if(r==this.top&&this.index<r.children.length&&r.children[this.index].matchesHack(e))this.index++;else{let n=document.createElement(e);e=="IMG"&&(n.className="ProseMirror-separator",n.alt=""),e=="BR"&&(n.className="ProseMirror-trailingBreak");let s=new aG(this.top,[],n,null);r!=this.top?r.children.push(s):r.children.splice(this.index++,0,s),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function ebe(t,e){let r=e,n=r.children.length,s=t.childCount,i=new Map,o=[];e:for(;s>0;){let l;for(;;)if(n){let d=r.children[n-1];if(d instanceof ld)r=d,n=d.children.length;else{l=d,n--;break}}else{if(r==e)break e;n=r.parent.children.indexOf(r),r=r.parent}let c=l.node;if(c){if(c!=t.child(s-1))break;--s,i.set(l,s),o.push(l)}}return{index:s,matched:i,matches:o.reverse()}}function tbe(t,e){return t.type.side-e.type.side}function rbe(t,e,r,n){let s=e.locals(t),i=0;if(s.length==0){for(let d=0;d<t.childCount;d++){let h=t.child(d);n(h,s,e.forChild(i,h),d),i+=h.nodeSize}return}let o=0,l=[],c=null;for(let d=0;;){let h,m;for(;o<s.length&&s[o].to==i;){let v=s[o++];v.widget&&(h?(m||(m=[h])).push(v):h=v)}if(h)if(m){m.sort(tbe);for(let v=0;v<m.length;v++)r(m[v],d,!!c)}else r(h,d,!!c);let x,y;if(c)y=-1,x=c,c=null;else if(d<t.childCount)y=d,x=t.child(d++);else break;for(let v=0;v<l.length;v++)l[v].to<=i&&l.splice(v--,1);for(;o<s.length&&s[o].from<=i&&s[o].to>i;)l.push(s[o++]);let w=i+x.nodeSize;if(x.isText){let v=w;o<s.length&&s[o].from<v&&(v=s[o].from);for(let N=0;N<l.length;N++)l[N].to<v&&(v=l[N].to);v<w&&(c=x.cut(v-i),x=x.cut(0,v-i),w=v,y=-1)}else for(;o<s.length&&s[o].to<w;)o++;let j=x.isInline&&!x.isLeaf?l.filter(v=>!v.inline):l.slice();n(x,j,e.forChild(i,x),y),i=w}}function nbe(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function abe(t,e,r,n){for(let s=0,i=0;s<t.childCount&&i<=n;){let o=t.child(s++),l=i;if(i+=o.nodeSize,!o.isText)continue;let c=o.text;for(;s<t.childCount;){let d=t.child(s++);if(i+=d.nodeSize,!d.isText)break;c+=d.text}if(i>=r){if(i>=n&&c.slice(n-e.length-l,n-l)==e)return n-e.length;let d=l<n?c.lastIndexOf(e,n-l-1):-1;if(d>=0&&d+e.length+l>=r)return l+d;if(r==n&&c.length>=n+e.length-l&&c.slice(n-l,n-l+e.length)==e)return n}}return-1}function C_(t,e,r,n,s){let i=[];for(let o=0,l=0;o<t.length;o++){let c=t[o],d=l,h=l+=c.size;d>=r||h<=e?i.push(c):(d<e&&i.push(c.slice(0,e-d,n)),s&&(i.push(s),s=void 0),h>r&&i.push(c.slice(r-d,c.size,n)))}return i}function MO(t,e=null){let r=t.domSelectionRange(),n=t.state.doc;if(!r.focusNode)return null;let s=t.docView.nearestDesc(r.focusNode),i=s&&s.size==0,o=t.docView.posFromDOM(r.focusNode,r.focusOffset,1);if(o<0)return null;let l=n.resolve(o),c,d;if(Qw(r)){for(c=o;s&&!s.node;)s=s.parent;let m=s.node;if(s&&m.isAtom&&Gt.isSelectable(m)&&s.parent&&!(m.isInline&&Aye(r.focusNode,r.focusOffset,s.dom))){let x=s.posBefore;d=new Gt(o==x?l:n.resolve(x))}}else{if(r instanceof t.dom.ownerDocument.defaultView.Selection&&r.rangeCount>1){let m=o,x=o;for(let y=0;y<r.rangeCount;y++){let w=r.getRangeAt(y);m=Math.min(m,t.docView.posFromDOM(w.startContainer,w.startOffset,1)),x=Math.max(x,t.docView.posFromDOM(w.endContainer,w.endOffset,-1))}if(m<0)return null;[c,o]=x==t.state.selection.anchor?[x,m]:[m,x],l=n.resolve(o)}else c=t.docView.posFromDOM(r.anchorNode,r.anchorOffset,1);if(c<0)return null}let h=n.resolve(c);if(!d){let m=e=="pointer"||t.state.selection.head<l.pos&&!i?1:-1;d=AO(t,h,l,m)}return d}function lG(t){return t.editable?t.hasFocus():uG(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function Sl(t,e=!1){let r=t.state.selection;if(cG(t,r),!!lG(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&Ka){let n=t.domSelectionRange(),s=t.domObserver.currentSelection;if(n.anchorNode&&s.anchorNode&&od(n.anchorNode,n.anchorOffset,s.anchorNode,s.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)ibe(t);else{let{anchor:n,head:s}=r,i,o;NL&&!(r instanceof rr)&&(r.$from.parent.inlineContent||(i=kL(t,r.from)),!r.empty&&!r.$from.parent.inlineContent&&(o=kL(t,r.to))),t.docView.setSelection(n,s,t,e),NL&&(i&&CL(i),o&&CL(o)),r.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&sbe(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const NL=hs||Ka&&XU<63;function kL(t,e){let{node:r,offset:n}=t.docView.domFromPos(e,0),s=n<r.childNodes.length?r.childNodes[n]:null,i=n?r.childNodes[n-1]:null;if(hs&&s&&s.contentEditable=="false")return JN(s);if((!s||s.contentEditable=="false")&&(!i||i.contentEditable=="false")){if(s)return JN(s);if(i)return JN(i)}}function JN(t){return t.contentEditable="true",hs&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function CL(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function sbe(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let r=t.domSelectionRange(),n=r.anchorNode,s=r.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(r.anchorNode!=n||r.anchorOffset!=s)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!lG(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function ibe(t){let e=t.domSelection();if(!e)return;let r=t.cursorWrapper.dom,n=r.nodeName=="IMG";n?e.collapse(r.parentNode,Fa(r)+1):e.collapse(r,0),!n&&!t.state.selection.visible&&Cs&&Dc<=11&&(r.disabled=!0,r.disabled=!1)}function cG(t,e){if(e instanceof Gt){let r=t.docView.descAt(e.from);r!=t.lastSelectedViewDesc&&(TL(t),r&&r.selectNode(),t.lastSelectedViewDesc=r)}else TL(t)}function TL(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function AO(t,e,r,n){return t.someProp("createSelectionBetween",s=>s(t,e,r))||rr.between(e,r,n)}function _L(t){return t.editable&&!t.hasFocus()?!1:uG(t)}function uG(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function obe(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),r=t.domSelectionRange();return od(e.node,e.offset,r.anchorNode,r.anchorOffset)}function T_(t,e){let{$anchor:r,$head:n}=t.selection,s=e>0?r.max(n):r.min(n),i=s.parent.inlineContent?s.depth?t.doc.resolve(e>0?s.after():s.before()):null:s;return i&&ur.findFrom(i,e)}function yc(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function ML(t,e,r){let n=t.state.selection;if(n instanceof rr)if(r.indexOf("s")>-1){let{$head:s}=n,i=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter;if(!i||i.isText||!i.isLeaf)return!1;let o=t.state.doc.resolve(s.pos+i.nodeSize*(e<0?-1:1));return yc(t,new rr(n.$anchor,o))}else if(n.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let s=T_(t.state,e);return s&&s instanceof Gt?yc(t,s):!1}else if(!(mi&&r.indexOf("m")>-1)){let s=n.$head,i=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter,o;if(!i||i.isText)return!1;let l=e<0?s.pos-i.nodeSize:s.pos;return i.isAtom||(o=t.docView.descAt(l))&&!o.contentDOM?Gt.isSelectable(i)?yc(t,new Gt(e<0?t.state.doc.resolve(s.pos-i.nodeSize):s)):pg?yc(t,new rr(t.state.doc.resolve(e<0?l:l+i.nodeSize))):!1:!1}}else return!1;else{if(n instanceof Gt&&n.node.isInline)return yc(t,new rr(e>0?n.$to:n.$from));{let s=T_(t.state,e);return s?yc(t,s):!1}}}function Gb(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Pp(t,e){let r=t.pmViewDesc;return r&&r.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function lf(t,e){return e<0?lbe(t):cbe(t)}function lbe(t){let e=t.domSelectionRange(),r=e.focusNode,n=e.focusOffset;if(!r)return;let s,i,o=!1;for(wi&&r.nodeType==1&&n<Gb(r)&&Pp(r.childNodes[n],-1)&&(o=!0);;)if(n>0){if(r.nodeType!=1)break;{let l=r.childNodes[n-1];if(Pp(l,-1))s=r,i=--n;else if(l.nodeType==3)r=l,n=r.nodeValue.length;else break}}else{if(dG(r))break;{let l=r.previousSibling;for(;l&&Pp(l,-1);)s=r.parentNode,i=Fa(l),l=l.previousSibling;if(l)r=l,n=Gb(r);else{if(r=r.parentNode,r==t.dom)break;n=0}}}o?__(t,r,n):s&&__(t,s,i)}function cbe(t){let e=t.domSelectionRange(),r=e.focusNode,n=e.focusOffset;if(!r)return;let s=Gb(r),i,o;for(;;)if(n<s){if(r.nodeType!=1)break;let l=r.childNodes[n];if(Pp(l,1))i=r,o=++n;else break}else{if(dG(r))break;{let l=r.nextSibling;for(;l&&Pp(l,1);)i=l.parentNode,o=Fa(l)+1,l=l.nextSibling;if(l)r=l,n=0,s=Gb(r);else{if(r=r.parentNode,r==t.dom)break;n=s=0}}}i&&__(t,i,o)}function dG(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function ube(t,e){for(;t&&e==t.childNodes.length&&!mg(t);)e=Fa(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let r=t.childNodes[e];if(r.nodeType==3)return r;if(r.nodeType==1&&r.contentEditable=="false")break;t=r,e=0}}function dbe(t,e){for(;t&&!e&&!mg(t);)e=Fa(t),t=t.parentNode;for(;t&&e;){let r=t.childNodes[e-1];if(r.nodeType==3)return r;if(r.nodeType==1&&r.contentEditable=="false")break;t=r,e=t.childNodes.length}}function __(t,e,r){if(e.nodeType!=3){let i,o;(o=ube(e,r))?(e=o,r=0):(i=dbe(e,r))&&(e=i,r=i.nodeValue.length)}let n=t.domSelection();if(!n)return;if(Qw(n)){let i=document.createRange();i.setEnd(e,r),i.setStart(e,r),n.removeAllRanges(),n.addRange(i)}else n.extend&&n.extend(e,r);t.domObserver.setCurSelection();let{state:s}=t;setTimeout(()=>{t.state==s&&Sl(t)},50)}function AL(t,e){let r=t.state.doc.resolve(e);if(!(Ka||Dye)&&r.parent.inlineContent){let s=t.coordsAtPos(e);if(e>r.start()){let i=t.coordsAtPos(e-1),o=(i.top+i.bottom)/2;if(o>s.top&&o<s.bottom&&Math.abs(i.left-s.left)>1)return i.left<s.left?"ltr":"rtl"}if(e<r.end()){let i=t.coordsAtPos(e+1),o=(i.top+i.bottom)/2;if(o>s.top&&o<s.bottom&&Math.abs(i.left-s.left)>1)return i.left>s.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function OL(t,e,r){let n=t.state.selection;if(n instanceof rr&&!n.empty||r.indexOf("s")>-1||mi&&r.indexOf("m")>-1)return!1;let{$from:s,$to:i}=n;if(!s.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let o=T_(t.state,e);if(o&&o instanceof Gt)return yc(t,o)}if(!s.parent.inlineContent){let o=e<0?s:i,l=n instanceof Us?ur.near(o,e):ur.findFrom(o,e);return l?yc(t,l):!1}return!1}function EL(t,e){if(!(t.state.selection instanceof rr))return!0;let{$head:r,$anchor:n,empty:s}=t.state.selection;if(!r.sameParent(n))return!0;if(!s)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let i=!r.textOffset&&(e<0?r.nodeBefore:r.nodeAfter);if(i&&!i.isText){let o=t.state.tr;return e<0?o.delete(r.pos-i.nodeSize,r.pos):o.delete(r.pos,r.pos+i.nodeSize),t.dispatch(o),!0}return!1}function DL(t,e,r){t.domObserver.stop(),e.contentEditable=r,t.domObserver.start()}function fbe(t){if(!hs||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:r}=t.domSelectionRange();if(e&&e.nodeType==1&&r==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let n=e.firstChild;DL(t,n,"true"),setTimeout(()=>DL(t,n,"false"),20)}return!1}function hbe(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function mbe(t,e){let r=e.keyCode,n=hbe(e);if(r==8||mi&&r==72&&n=="c")return EL(t,-1)||lf(t,-1);if(r==46&&!e.shiftKey||mi&&r==68&&n=="c")return EL(t,1)||lf(t,1);if(r==13||r==27)return!0;if(r==37||mi&&r==66&&n=="c"){let s=r==37?AL(t,t.state.selection.from)=="ltr"?-1:1:-1;return ML(t,s,n)||lf(t,s)}else if(r==39||mi&&r==70&&n=="c"){let s=r==39?AL(t,t.state.selection.from)=="ltr"?1:-1:1;return ML(t,s,n)||lf(t,s)}else{if(r==38||mi&&r==80&&n=="c")return OL(t,-1,n)||lf(t,-1);if(r==40||mi&&r==78&&n=="c")return fbe(t)||OL(t,1,n)||lf(t,1);if(n==(mi?"m":"c")&&(r==66||r==73||r==89||r==90))return!0}return!1}function OO(t,e){t.someProp("transformCopied",y=>{e=y(e,t)});let r=[],{content:n,openStart:s,openEnd:i}=e;for(;s>1&&i>1&&n.childCount==1&&n.firstChild.childCount==1;){s--,i--;let y=n.firstChild;r.push(y.type.name,y.attrs!=y.type.defaultAttrs?y.attrs:null),n=y.content}let o=t.someProp("clipboardSerializer")||yd.fromSchema(t.state.schema),l=xG(),c=l.createElement("div");c.appendChild(o.serializeFragment(n,{document:l}));let d=c.firstChild,h,m=0;for(;d&&d.nodeType==1&&(h=gG[d.nodeName.toLowerCase()]);){for(let y=h.length-1;y>=0;y--){let w=l.createElement(h[y]);for(;c.firstChild;)w.appendChild(c.firstChild);c.appendChild(w),m++}d=c.firstChild}d&&d.nodeType==1&&d.setAttribute("data-pm-slice",`${s} ${i}${m?` -${m}`:""} ${JSON.stringify(r)}`);let x=t.someProp("clipboardTextSerializer",y=>y(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:c,text:x,slice:e}}function fG(t,e,r,n,s){let i=s.parent.type.spec.code,o,l;if(!r&&!e)return null;let c=!!e&&(n||i||!r);if(c){if(t.someProp("transformPastedText",x=>{e=x(e,i||n,t)}),i)return l=new _t(it.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0),t.someProp("transformPasted",x=>{l=x(l,t,!0)}),l;let m=t.someProp("clipboardTextParser",x=>x(e,s,n,t));if(m)l=m;else{let x=s.marks(),{schema:y}=t.state,w=yd.fromSchema(y);o=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(j=>{let v=o.appendChild(document.createElement("p"));j&&v.appendChild(w.serializeNode(y.text(j,x)))})}}else t.someProp("transformPastedHTML",m=>{r=m(r,t)}),o=ybe(r),pg&&bbe(o);let d=o&&o.querySelector("[data-pm-slice]"),h=d&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(d.getAttribute("data-pm-slice")||"");if(h&&h[3])for(let m=+h[3];m>0;m--){let x=o.firstChild;for(;x&&x.nodeType!=1;)x=x.nextSibling;if(!x)break;o=x}if(l||(l=(t.someProp("clipboardParser")||t.someProp("domParser")||Ec.fromSchema(t.state.schema)).parseSlice(o,{preserveWhitespace:!!(c||h),context:s,ruleFromNode(x){return x.nodeName=="BR"&&!x.nextSibling&&x.parentNode&&!pbe.test(x.parentNode.nodeName)?{ignore:!0}:null}})),h)l=vbe(PL(l,+h[1],+h[2]),h[4]);else if(l=_t.maxOpen(gbe(l.content,s),!0),l.openStart||l.openEnd){let m=0,x=0;for(let y=l.content.firstChild;m<l.openStart&&!y.type.spec.isolating;m++,y=y.firstChild);for(let y=l.content.lastChild;x<l.openEnd&&!y.type.spec.isolating;x++,y=y.lastChild);l=PL(l,m,x)}return t.someProp("transformPasted",m=>{l=m(l,t,c)}),l}const pbe=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function gbe(t,e){if(t.childCount<2)return t;for(let r=e.depth;r>=0;r--){let s=e.node(r).contentMatchAt(e.index(r)),i,o=[];if(t.forEach(l=>{if(!o)return;let c=s.findWrapping(l.type),d;if(!c)return o=null;if(d=o.length&&i.length&&mG(c,i,l,o[o.length-1],0))o[o.length-1]=d;else{o.length&&(o[o.length-1]=pG(o[o.length-1],i.length));let h=hG(l,c);o.push(h),s=s.matchType(h.type),i=c}}),o)return it.from(o)}return t}function hG(t,e,r=0){for(let n=e.length-1;n>=r;n--)t=e[n].create(null,it.from(t));return t}function mG(t,e,r,n,s){if(s<t.length&&s<e.length&&t[s]==e[s]){let i=mG(t,e,r,n.lastChild,s+1);if(i)return n.copy(n.content.replaceChild(n.childCount-1,i));if(n.contentMatchAt(n.childCount).matchType(s==t.length-1?r.type:t[s+1]))return n.copy(n.content.append(it.from(hG(r,t,s+1))))}}function pG(t,e){if(e==0)return t;let r=t.content.replaceChild(t.childCount-1,pG(t.lastChild,e-1)),n=t.contentMatchAt(t.childCount).fillBefore(it.empty,!0);return t.copy(r.append(n))}function M_(t,e,r,n,s,i){let o=e<0?t.firstChild:t.lastChild,l=o.content;return t.childCount>1&&(i=0),s<n-1&&(l=M_(l,e,r,n,s+1,i)),s>=r&&(l=e<0?o.contentMatchAt(0).fillBefore(l,i<=s).append(l):l.append(o.contentMatchAt(o.childCount).fillBefore(it.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,o.copy(l))}function PL(t,e,r){return e<t.openStart&&(t=new _t(M_(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),r<t.openEnd&&(t=new _t(M_(t.content,1,r,t.openEnd,0,0),t.openStart,r)),t}const gG={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let RL=null;function xG(){return RL||(RL=document.implementation.createHTMLDocument("title"))}let QN=null;function xbe(t){let e=window.trustedTypes;return e?(QN||(QN=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:r=>r})),QN.createHTML(t)):t}function ybe(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let r=xG().createElement("div"),n=/<([a-z][^>\s]+)/i.exec(t),s;if((s=n&&gG[n[1].toLowerCase()])&&(t=s.map(i=>"<"+i+">").join("")+t+s.map(i=>"</"+i+">").reverse().join("")),r.innerHTML=xbe(t),s)for(let i=0;i<s.length;i++)r=r.querySelector(s[i])||r;return r}function bbe(t){let e=t.querySelectorAll(Ka?"span:not([class]):not([style])":"span.Apple-converted-space");for(let r=0;r<e.length;r++){let n=e[r];n.childNodes.length==1&&n.textContent==""&&n.parentNode&&n.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),n)}}function vbe(t,e){if(!t.size)return t;let r=t.content.firstChild.type.schema,n;try{n=JSON.parse(e)}catch{return t}let{content:s,openStart:i,openEnd:o}=t;for(let l=n.length-2;l>=0;l-=2){let c=r.nodes[n[l]];if(!c||c.hasRequiredAttrs())break;s=it.from(c.create(n[l+1],s)),i++,o++}return new _t(s,i,o)}const ms={},ps={},wbe={touchstart:!0,touchmove:!0};class jbe{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function Sbe(t){for(let e in ms){let r=ms[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=n=>{kbe(t,n)&&!EO(t,n)&&(t.editable||!(n.type in ps))&&r(t,n)},wbe[e]?{passive:!0}:void 0)}hs&&t.dom.addEventListener("input",()=>null),A_(t)}function Tc(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function Nbe(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function A_(t){t.someProp("handleDOMEvents",e=>{for(let r in e)t.input.eventHandlers[r]||t.dom.addEventListener(r,t.input.eventHandlers[r]=n=>EO(t,n))})}function EO(t,e){return t.someProp("handleDOMEvents",r=>{let n=r[e.type];return n?n(t,e)||e.defaultPrevented:!1})}function kbe(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let r=e.target;r!=t.dom;r=r.parentNode)if(!r||r.nodeType==11||r.pmViewDesc&&r.pmViewDesc.stopEvent(e))return!1;return!0}function Cbe(t,e){!EO(t,e)&&ms[e.type]&&(t.editable||!(e.type in ps))&&ms[e.type](t,e)}ps.keydown=(t,e)=>{let r=e;if(t.input.shiftKey=r.keyCode==16||r.shiftKey,!bG(t,r)&&(t.input.lastKeyCode=r.keyCode,t.input.lastKeyCodeTime=Date.now(),!(ul&&Ka&&r.keyCode==13)))if(r.keyCode!=229&&t.domObserver.forceFlush(),ah&&r.keyCode==13&&!r.ctrlKey&&!r.altKey&&!r.metaKey){let n=Date.now();t.input.lastIOSEnter=n,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==n&&(t.someProp("handleKeyDown",s=>s(t,Tu(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",n=>n(t,r))||mbe(t,r)?r.preventDefault():Tc(t,"key")};ps.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};ps.keypress=(t,e)=>{let r=e;if(bG(t,r)||!r.charCode||r.ctrlKey&&!r.altKey||mi&&r.metaKey)return;if(t.someProp("handleKeyPress",s=>s(t,r))){r.preventDefault();return}let n=t.state.selection;if(!(n instanceof rr)||!n.$from.sameParent(n.$to)){let s=String.fromCharCode(r.charCode),i=()=>t.state.tr.insertText(s).scrollIntoView();!/[\r\n]/.test(s)&&!t.someProp("handleTextInput",o=>o(t,n.$from.pos,n.$to.pos,s,i))&&t.dispatch(i()),r.preventDefault()}};function e1(t){return{left:t.clientX,top:t.clientY}}function Tbe(t,e){let r=e.x-t.clientX,n=e.y-t.clientY;return r*r+n*n<100}function DO(t,e,r,n,s){if(n==-1)return!1;let i=t.state.doc.resolve(n);for(let o=i.depth+1;o>0;o--)if(t.someProp(e,l=>o>i.depth?l(t,r,i.nodeAfter,i.before(o),s,!0):l(t,r,i.node(o),i.before(o),s,!1)))return!0;return!1}function Ff(t,e,r){if(t.focused||t.focus(),t.state.selection.eq(e))return;let n=t.state.tr.setSelection(e);n.setMeta("pointer",!0),t.dispatch(n)}function _be(t,e){if(e==-1)return!1;let r=t.state.doc.resolve(e),n=r.nodeAfter;return n&&n.isAtom&&Gt.isSelectable(n)?(Ff(t,new Gt(r)),!0):!1}function Mbe(t,e){if(e==-1)return!1;let r=t.state.selection,n,s;r instanceof Gt&&(n=r.node);let i=t.state.doc.resolve(e);for(let o=i.depth+1;o>0;o--){let l=o>i.depth?i.nodeAfter:i.node(o);if(Gt.isSelectable(l)){n&&r.$from.depth>0&&o>=r.$from.depth&&i.before(r.$from.depth+1)==r.$from.pos?s=i.before(r.$from.depth):s=i.before(o);break}}return s!=null?(Ff(t,Gt.create(t.state.doc,s)),!0):!1}function Abe(t,e,r,n,s){return DO(t,"handleClickOn",e,r,n)||t.someProp("handleClick",i=>i(t,e,n))||(s?Mbe(t,r):_be(t,r))}function Obe(t,e,r,n){return DO(t,"handleDoubleClickOn",e,r,n)||t.someProp("handleDoubleClick",s=>s(t,e,n))}function Ebe(t,e,r,n){return DO(t,"handleTripleClickOn",e,r,n)||t.someProp("handleTripleClick",s=>s(t,e,n))||Dbe(t,r,n)}function Dbe(t,e,r){if(r.button!=0)return!1;let n=t.state.doc;if(e==-1)return n.inlineContent?(Ff(t,rr.create(n,0,n.content.size)),!0):!1;let s=n.resolve(e);for(let i=s.depth+1;i>0;i--){let o=i>s.depth?s.nodeAfter:s.node(i),l=s.before(i);if(o.inlineContent)Ff(t,rr.create(n,l+1,l+1+o.content.size));else if(Gt.isSelectable(o))Ff(t,Gt.create(n,l));else continue;return!0}}function PO(t){return Yb(t)}const yG=mi?"metaKey":"ctrlKey";ms.mousedown=(t,e)=>{let r=e;t.input.shiftKey=r.shiftKey;let n=PO(t),s=Date.now(),i="singleClick";s-t.input.lastClick.time<500&&Tbe(r,t.input.lastClick)&&!r[yG]&&t.input.lastClick.button==r.button&&(t.input.lastClick.type=="singleClick"?i="doubleClick":t.input.lastClick.type=="doubleClick"&&(i="tripleClick")),t.input.lastClick={time:s,x:r.clientX,y:r.clientY,type:i,button:r.button};let o=t.posAtCoords(e1(r));o&&(i=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new Pbe(t,o,r,!!n)):(i=="doubleClick"?Obe:Ebe)(t,o.pos,o.inside,r)?r.preventDefault():Tc(t,"pointer"))};class Pbe{constructor(e,r,n,s){this.view=e,this.pos=r,this.event=n,this.flushed=s,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!n[yG],this.allowDefault=n.shiftKey;let i,o;if(r.inside>-1)i=e.state.doc.nodeAt(r.inside),o=r.inside;else{let h=e.state.doc.resolve(r.pos);i=h.parent,o=h.depth?h.before():0}const l=s?null:n.target,c=l?e.docView.nearestDesc(l,!0):null;this.target=c&&c.nodeDOM.nodeType==1?c.nodeDOM:null;let{selection:d}=e.state;(n.button==0&&i.type.spec.draggable&&i.type.spec.selectable!==!1||d instanceof Gt&&d.from<=o&&d.to>o)&&(this.mightDrag={node:i,pos:o,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&wi&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Tc(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Sl(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let r=this.pos;this.view.state.doc!=this.startDoc&&(r=this.view.posAtCoords(e1(e))),this.updateAllowDefault(e),this.allowDefault||!r?Tc(this.view,"pointer"):Abe(this.view,r.pos,r.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||hs&&this.mightDrag&&!this.mightDrag.node.isAtom||Ka&&!this.view.state.selection.visible&&Math.min(Math.abs(r.pos-this.view.state.selection.from),Math.abs(r.pos-this.view.state.selection.to))<=2)?(Ff(this.view,ur.near(this.view.state.doc.resolve(r.pos))),e.preventDefault()):Tc(this.view,"pointer")}move(e){this.updateAllowDefault(e),Tc(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}ms.touchstart=t=>{t.input.lastTouch=Date.now(),PO(t),Tc(t,"pointer")};ms.touchmove=t=>{t.input.lastTouch=Date.now(),Tc(t,"pointer")};ms.contextmenu=t=>PO(t);function bG(t,e){return t.composing?!0:hs&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const Rbe=ul?5e3:-1;ps.compositionstart=ps.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,r=e.selection.$to;if(e.selection instanceof rr&&(e.storedMarks||!r.textOffset&&r.parentOffset&&r.nodeBefore.marks.some(n=>n.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||r.marks(),Yb(t,!0),t.markCursor=null;else if(Yb(t,!e.selection.empty),wi&&e.selection.empty&&r.parentOffset&&!r.textOffset&&r.nodeBefore.marks.length){let n=t.domSelectionRange();for(let s=n.focusNode,i=n.focusOffset;s&&s.nodeType==1&&i!=0;){let o=i<0?s.lastChild:s.childNodes[i-1];if(!o)break;if(o.nodeType==3){let l=t.domSelection();l&&l.collapse(o,o.nodeValue.length);break}else s=o,i=-1}}t.input.composing=!0}vG(t,Rbe)};ps.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,vG(t,20))};function vG(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>Yb(t),e))}function wG(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=Lbe());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function Ibe(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let r=_ye(e.focusNode,e.focusOffset),n=Mye(e.focusNode,e.focusOffset);if(r&&n&&r!=n){let s=n.pmViewDesc,i=t.domObserver.lastChangedTextNode;if(r==i||n==i)return i;if(!s||!s.isText(n.nodeValue))return n;if(t.input.compositionNode==n){let o=r.pmViewDesc;if(!(!o||!o.isText(r.nodeValue)))return n}}return r||n}function Lbe(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function Yb(t,e=!1){if(!(ul&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),wG(t),e||t.docView&&t.docView.dirty){let r=MO(t),n=t.state.selection;return r&&!r.eq(n)?t.dispatch(t.state.tr.setSelection(r)):(t.markCursor||e)&&!n.$from.node(n.$from.sharedDepth(n.to)).inlineContent?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function $be(t,e){if(!t.dom.parentNode)return;let r=t.dom.parentNode.appendChild(document.createElement("div"));r.appendChild(e),r.style.cssText="position: fixed; left: -10000px; top: 10px";let n=getSelection(),s=document.createRange();s.selectNodeContents(e),t.dom.blur(),n.removeAllRanges(),n.addRange(s),setTimeout(()=>{r.parentNode&&r.parentNode.removeChild(r),t.focus()},50)}const d0=Cs&&Dc<15||ah&&Pye<604;ms.copy=ps.cut=(t,e)=>{let r=e,n=t.state.selection,s=r.type=="cut";if(n.empty)return;let i=d0?null:r.clipboardData,o=n.content(),{dom:l,text:c}=OO(t,o);i?(r.preventDefault(),i.clearData(),i.setData("text/html",l.innerHTML),i.setData("text/plain",c)):$be(t,l),s&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function Fbe(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function Hbe(t,e){if(!t.dom.parentNode)return;let r=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,n=t.dom.parentNode.appendChild(document.createElement(r?"textarea":"div"));r||(n.contentEditable="true"),n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus();let s=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),n.parentNode&&n.parentNode.removeChild(n),r?f0(t,n.value,null,s,e):f0(t,n.textContent,n.innerHTML,s,e)},50)}function f0(t,e,r,n,s){let i=fG(t,e,r,n,t.state.selection.$from);if(t.someProp("handlePaste",c=>c(t,s,i||_t.empty)))return!0;if(!i)return!1;let o=Fbe(i),l=o?t.state.tr.replaceSelectionWith(o,n):t.state.tr.replaceSelection(i);return t.dispatch(l.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function jG(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let r=t.getData("text/uri-list");return r?r.replace(/\r?\n/g," "):""}ps.paste=(t,e)=>{let r=e;if(t.composing&&!ul)return;let n=d0?null:r.clipboardData,s=t.input.shiftKey&&t.input.lastKeyCode!=45;n&&f0(t,jG(n),n.getData("text/html"),s,r)?r.preventDefault():Hbe(t,r)};class SG{constructor(e,r,n){this.slice=e,this.move=r,this.node=n}}const Bbe=mi?"altKey":"ctrlKey";function NG(t,e){let r=t.someProp("dragCopies",n=>!n(e));return r??!e[Bbe]}ms.dragstart=(t,e)=>{let r=e,n=t.input.mouseDown;if(n&&n.done(),!r.dataTransfer)return;let s=t.state.selection,i=s.empty?null:t.posAtCoords(e1(r)),o;if(!(i&&i.pos>=s.from&&i.pos<=(s instanceof Gt?s.to-1:s.to))){if(n&&n.mightDrag)o=Gt.create(t.state.doc,n.mightDrag.pos);else if(r.target&&r.target.nodeType==1){let m=t.docView.nearestDesc(r.target,!0);m&&m.node.type.spec.draggable&&m!=t.docView&&(o=Gt.create(t.state.doc,m.posBefore))}}let l=(o||t.state.selection).content(),{dom:c,text:d,slice:h}=OO(t,l);(!r.dataTransfer.files.length||!Ka||XU>120)&&r.dataTransfer.clearData(),r.dataTransfer.setData(d0?"Text":"text/html",c.innerHTML),r.dataTransfer.effectAllowed="copyMove",d0||r.dataTransfer.setData("text/plain",d),t.dragging=new SG(h,NG(t,r),o)};ms.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};ps.dragover=ps.dragenter=(t,e)=>e.preventDefault();ps.drop=(t,e)=>{let r=e,n=t.dragging;if(t.dragging=null,!r.dataTransfer)return;let s=t.posAtCoords(e1(r));if(!s)return;let i=t.state.doc.resolve(s.pos),o=n&&n.slice;o?t.someProp("transformPasted",w=>{o=w(o,t,!1)}):o=fG(t,jG(r.dataTransfer),d0?null:r.dataTransfer.getData("text/html"),!1,i);let l=!!(n&&NG(t,r));if(t.someProp("handleDrop",w=>w(t,r,o||_t.empty,l))){r.preventDefault();return}if(!o)return;r.preventDefault();let c=o?BU(t.state.doc,i.pos,o):i.pos;c==null&&(c=i.pos);let d=t.state.tr;if(l){let{node:w}=n;w?w.replace(d):d.deleteSelection()}let h=d.mapping.map(c),m=o.openStart==0&&o.openEnd==0&&o.content.childCount==1,x=d.doc;if(m?d.replaceRangeWith(h,h,o.content.firstChild):d.replaceRange(h,h,o),d.doc.eq(x))return;let y=d.doc.resolve(h);if(m&&Gt.isSelectable(o.content.firstChild)&&y.nodeAfter&&y.nodeAfter.sameMarkup(o.content.firstChild))d.setSelection(new Gt(y));else{let w=d.mapping.map(c);d.mapping.maps[d.mapping.maps.length-1].forEach((j,v,N,T)=>w=T),d.setSelection(AO(t,y,d.doc.resolve(w)))}t.focus(),t.dispatch(d.setMeta("uiEvent","drop"))};ms.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&Sl(t)},20))};ms.blur=(t,e)=>{let r=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),r.relatedTarget&&t.dom.contains(r.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};ms.beforeinput=(t,e)=>{if(Ka&&ul&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:n}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=n||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",i=>i(t,Tu(8,"Backspace")))))return;let{$cursor:s}=t.state.selection;s&&s.pos>0&&t.dispatch(t.state.tr.delete(s.pos-1,s.pos).scrollIntoView())},50)}};for(let t in ps)ms[t]=ps[t];function h0(t,e){if(t==e)return!0;for(let r in t)if(t[r]!==e[r])return!1;for(let r in e)if(!(r in t))return!1;return!0}class Kb{constructor(e,r){this.toDOM=e,this.spec=r||Ku,this.side=this.spec.side||0}map(e,r,n,s){let{pos:i,deleted:o}=e.mapResult(r.from+s,this.side<0?-1:1);return o?null:new ss(i-n,i-n,this)}valid(){return!0}eq(e){return this==e||e instanceof Kb&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&h0(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Rc{constructor(e,r){this.attrs=e,this.spec=r||Ku}map(e,r,n,s){let i=e.map(r.from+s,this.spec.inclusiveStart?-1:1)-n,o=e.map(r.to+s,this.spec.inclusiveEnd?1:-1)-n;return i>=o?null:new ss(i,o,this)}valid(e,r){return r.from<r.to}eq(e){return this==e||e instanceof Rc&&h0(this.attrs,e.attrs)&&h0(this.spec,e.spec)}static is(e){return e.type instanceof Rc}destroy(){}}class RO{constructor(e,r){this.attrs=e,this.spec=r||Ku}map(e,r,n,s){let i=e.mapResult(r.from+s,1);if(i.deleted)return null;let o=e.mapResult(r.to+s,-1);return o.deleted||o.pos<=i.pos?null:new ss(i.pos-n,o.pos-n,this)}valid(e,r){let{index:n,offset:s}=e.content.findIndex(r.from),i;return s==r.from&&!(i=e.child(n)).isText&&s+i.nodeSize==r.to}eq(e){return this==e||e instanceof RO&&h0(this.attrs,e.attrs)&&h0(this.spec,e.spec)}destroy(){}}class ss{constructor(e,r,n){this.from=e,this.to=r,this.type=n}copy(e,r){return new ss(e,r,this.type)}eq(e,r=0){return this.type.eq(e.type)&&this.from+r==e.from&&this.to+r==e.to}map(e,r,n){return this.type.map(e,this,r,n)}static widget(e,r,n){return new ss(e,e,new Kb(r,n))}static inline(e,r,n,s){return new ss(e,r,new Rc(n,s))}static node(e,r,n,s){return new ss(e,r,new RO(n,s))}get spec(){return this.type.spec}get inline(){return this.type instanceof Rc}get widget(){return this.type instanceof Kb}}const gf=[],Ku={};class Mn{constructor(e,r){this.local=e.length?e:gf,this.children=r.length?r:gf}static create(e,r){return r.length?Xb(r,e,0,Ku):Wa}find(e,r,n){let s=[];return this.findInner(e??0,r??1e9,s,0,n),s}findInner(e,r,n,s,i){for(let o=0;o<this.local.length;o++){let l=this.local[o];l.from<=r&&l.to>=e&&(!i||i(l.spec))&&n.push(l.copy(l.from+s,l.to+s))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<r&&this.children[o+1]>e){let l=this.children[o]+1;this.children[o+2].findInner(e-l,r-l,n,s+l,i)}}map(e,r,n){return this==Wa||e.maps.length==0?this:this.mapInner(e,r,0,0,n||Ku)}mapInner(e,r,n,s,i){let o;for(let l=0;l<this.local.length;l++){let c=this.local[l].map(e,n,s);c&&c.type.valid(r,c)?(o||(o=[])).push(c):i.onRemove&&i.onRemove(this.local[l].spec)}return this.children.length?zbe(this.children,o||[],e,r,n,s,i):o?new Mn(o.sort(Xu),gf):Wa}add(e,r){return r.length?this==Wa?Mn.create(e,r):this.addInner(e,r,0):this}addInner(e,r,n){let s,i=0;e.forEach((l,c)=>{let d=c+n,h;if(h=CG(r,l,d)){for(s||(s=this.children.slice());i<s.length&&s[i]<c;)i+=3;s[i]==c?s[i+2]=s[i+2].addInner(l,h,d+1):s.splice(i,0,c,c+l.nodeSize,Xb(h,l,d+1,Ku)),i+=3}});let o=kG(i?TG(r):r,-n);for(let l=0;l<o.length;l++)o[l].type.valid(e,o[l])||o.splice(l--,1);return new Mn(o.length?this.local.concat(o).sort(Xu):this.local,s||this.children)}remove(e){return e.length==0||this==Wa?this:this.removeInner(e,0)}removeInner(e,r){let n=this.children,s=this.local;for(let i=0;i<n.length;i+=3){let o,l=n[i]+r,c=n[i+1]+r;for(let h=0,m;h<e.length;h++)(m=e[h])&&m.from>l&&m.to<c&&(e[h]=null,(o||(o=[])).push(m));if(!o)continue;n==this.children&&(n=this.children.slice());let d=n[i+2].removeInner(o,l+1);d!=Wa?n[i+2]=d:(n.splice(i,3),i-=3)}if(s.length){for(let i=0,o;i<e.length;i++)if(o=e[i])for(let l=0;l<s.length;l++)s[l].eq(o,r)&&(s==this.local&&(s=this.local.slice()),s.splice(l--,1))}return n==this.children&&s==this.local?this:s.length||n.length?new Mn(s,n):Wa}forChild(e,r){if(this==Wa)return this;if(r.isLeaf)return Mn.empty;let n,s;for(let l=0;l<this.children.length;l+=3)if(this.children[l]>=e){this.children[l]==e&&(n=this.children[l+2]);break}let i=e+1,o=i+r.content.size;for(let l=0;l<this.local.length;l++){let c=this.local[l];if(c.from<o&&c.to>i&&c.type instanceof Rc){let d=Math.max(i,c.from)-i,h=Math.min(o,c.to)-i;d<h&&(s||(s=[])).push(c.copy(d,h))}}if(s){let l=new Mn(s.sort(Xu),gf);return n?new jc([l,n]):l}return n||Wa}eq(e){if(this==e)return!0;if(!(e instanceof Mn)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let r=0;r<this.local.length;r++)if(!this.local[r].eq(e.local[r]))return!1;for(let r=0;r<this.children.length;r+=3)if(this.children[r]!=e.children[r]||this.children[r+1]!=e.children[r+1]||!this.children[r+2].eq(e.children[r+2]))return!1;return!0}locals(e){return IO(this.localsInner(e))}localsInner(e){if(this==Wa)return gf;if(e.inlineContent||!this.local.some(Rc.is))return this.local;let r=[];for(let n=0;n<this.local.length;n++)this.local[n].type instanceof Rc||r.push(this.local[n]);return r}forEachSet(e){e(this)}}Mn.empty=new Mn([],[]);Mn.removeOverlap=IO;const Wa=Mn.empty;class jc{constructor(e){this.members=e}map(e,r){const n=this.members.map(s=>s.map(e,r,Ku));return jc.from(n)}forChild(e,r){if(r.isLeaf)return Mn.empty;let n=[];for(let s=0;s<this.members.length;s++){let i=this.members[s].forChild(e,r);i!=Wa&&(i instanceof jc?n=n.concat(i.members):n.push(i))}return jc.from(n)}eq(e){if(!(e instanceof jc)||e.members.length!=this.members.length)return!1;for(let r=0;r<this.members.length;r++)if(!this.members[r].eq(e.members[r]))return!1;return!0}locals(e){let r,n=!0;for(let s=0;s<this.members.length;s++){let i=this.members[s].localsInner(e);if(i.length)if(!r)r=i;else{n&&(r=r.slice(),n=!1);for(let o=0;o<i.length;o++)r.push(i[o])}}return r?IO(n?r:r.sort(Xu)):gf}static from(e){switch(e.length){case 0:return Wa;case 1:return e[0];default:return new jc(e.every(r=>r instanceof Mn)?e:e.reduce((r,n)=>r.concat(n instanceof Mn?n:n.members),[]))}}forEachSet(e){for(let r=0;r<this.members.length;r++)this.members[r].forEachSet(e)}}function zbe(t,e,r,n,s,i,o){let l=t.slice();for(let d=0,h=i;d<r.maps.length;d++){let m=0;r.maps[d].forEach((x,y,w,j)=>{let v=j-w-(y-x);for(let N=0;N<l.length;N+=3){let T=l[N+1];if(T<0||x>T+h-m)continue;let S=l[N]+h-m;y>=S?l[N+1]=x<=S?-2:-1:x>=h&&v&&(l[N]+=v,l[N+1]+=v)}m+=v}),h=r.maps[d].map(h,-1)}let c=!1;for(let d=0;d<l.length;d+=3)if(l[d+1]<0){if(l[d+1]==-2){c=!0,l[d+1]=-1;continue}let h=r.map(t[d]+i),m=h-s;if(m<0||m>=n.content.size){c=!0;continue}let x=r.map(t[d+1]+i,-1),y=x-s,{index:w,offset:j}=n.content.findIndex(m),v=n.maybeChild(w);if(v&&j==m&&j+v.nodeSize==y){let N=l[d+2].mapInner(r,v,h+1,t[d]+i+1,o);N!=Wa?(l[d]=m,l[d+1]=y,l[d+2]=N):(l[d+1]=-2,c=!0)}else c=!0}if(c){let d=Vbe(l,t,e,r,s,i,o),h=Xb(d,n,0,o);e=h.local;for(let m=0;m<l.length;m+=3)l[m+1]<0&&(l.splice(m,3),m-=3);for(let m=0,x=0;m<h.children.length;m+=3){let y=h.children[m];for(;x<l.length&&l[x]<y;)x+=3;l.splice(x,0,h.children[m],h.children[m+1],h.children[m+2])}}return new Mn(e.sort(Xu),l)}function kG(t,e){if(!e||!t.length)return t;let r=[];for(let n=0;n<t.length;n++){let s=t[n];r.push(new ss(s.from+e,s.to+e,s.type))}return r}function Vbe(t,e,r,n,s,i,o){function l(c,d){for(let h=0;h<c.local.length;h++){let m=c.local[h].map(n,s,d);m?r.push(m):o.onRemove&&o.onRemove(c.local[h].spec)}for(let h=0;h<c.children.length;h+=3)l(c.children[h+2],c.children[h]+d+1)}for(let c=0;c<t.length;c+=3)t[c+1]==-1&&l(t[c+2],e[c]+i+1);return r}function CG(t,e,r){if(e.isLeaf)return null;let n=r+e.nodeSize,s=null;for(let i=0,o;i<t.length;i++)(o=t[i])&&o.from>r&&o.to<n&&((s||(s=[])).push(o),t[i]=null);return s}function TG(t){let e=[];for(let r=0;r<t.length;r++)t[r]!=null&&e.push(t[r]);return e}function Xb(t,e,r,n){let s=[],i=!1;e.forEach((l,c)=>{let d=CG(t,l,c+r);if(d){i=!0;let h=Xb(d,l,r+c+1,n);h!=Wa&&s.push(c,c+l.nodeSize,h)}});let o=kG(i?TG(t):t,-r).sort(Xu);for(let l=0;l<o.length;l++)o[l].type.valid(e,o[l])||(n.onRemove&&n.onRemove(o[l].spec),o.splice(l--,1));return o.length||s.length?new Mn(o,s):Wa}function Xu(t,e){return t.from-e.from||t.to-e.to}function IO(t){let e=t;for(let r=0;r<e.length-1;r++){let n=e[r];if(n.from!=n.to)for(let s=r+1;s<e.length;s++){let i=e[s];if(i.from==n.from){i.to!=n.to&&(e==t&&(e=t.slice()),e[s]=i.copy(i.from,n.to),IL(e,s+1,i.copy(n.to,i.to)));continue}else{i.from<n.to&&(e==t&&(e=t.slice()),e[r]=n.copy(n.from,i.from),IL(e,s,n.copy(i.from,n.to)));break}}}return e}function IL(t,e,r){for(;e<t.length&&Xu(r,t[e])>0;)e++;t.splice(e,0,r)}function ZN(t){let e=[];return t.someProp("decorations",r=>{let n=r(t.state);n&&n!=Wa&&e.push(n)}),t.cursorWrapper&&e.push(Mn.create(t.state.doc,[t.cursorWrapper.deco])),jc.from(e)}const Wbe={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},qbe=Cs&&Dc<=11;class Ube{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class Gbe{constructor(e,r){this.view=e,this.handleDOMChange=r,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new Ube,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(n=>{for(let s=0;s<n.length;s++)this.queue.push(n[s]);Cs&&Dc<=11&&n.some(s=>s.type=="childList"&&s.removedNodes.length||s.type=="characterData"&&s.oldValue.length>s.target.nodeValue.length)?this.flushSoon():this.flush()}),qbe&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,Wbe)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let r=0;r<e.length;r++)this.queue.push(e[r]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(_L(this.view)){if(this.suppressingSelectionUpdates)return Sl(this.view);if(Cs&&Dc<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&od(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let r=new Set,n;for(let i=e.focusNode;i;i=nh(i))r.add(i);for(let i=e.anchorNode;i;i=nh(i))if(r.has(i)){n=i;break}let s=n&&this.view.docView.nearestDesc(n);if(s&&s.ignoreMutation({type:"selection",target:n.nodeType==3?n.parentNode:n}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let r=this.pendingRecords();r.length&&(this.queue=[]);let n=e.domSelectionRange(),s=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(n)&&_L(e)&&!this.ignoreSelectionChange(n),i=-1,o=-1,l=!1,c=[];if(e.editable)for(let h=0;h<r.length;h++){let m=this.registerMutation(r[h],c);m&&(i=i<0?m.from:Math.min(m.from,i),o=o<0?m.to:Math.max(m.to,o),m.typeOver&&(l=!0))}if(wi&&c.length){let h=c.filter(m=>m.nodeName=="BR");if(h.length==2){let[m,x]=h;m.parentNode&&m.parentNode.parentNode==x.parentNode?x.remove():m.remove()}else{let{focusNode:m}=this.currentSelection;for(let x of h){let y=x.parentNode;y&&y.nodeName=="LI"&&(!m||Xbe(e,m)!=y)&&x.remove()}}}let d=null;i<0&&s&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Qw(n)&&(d=MO(e))&&d.eq(ur.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Sl(e),this.currentSelection.set(n),e.scrollToSelection()):(i>-1||s)&&(i>-1&&(e.docView.markDirty(i,o),Ybe(e)),this.handleDOMChange(i,o,l,c),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(n)||Sl(e),this.currentSelection.set(n))}registerMutation(e,r){if(r.indexOf(e.target)>-1)return null;let n=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(n==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!n||n.ignoreMutation(e))return null;if(e.type=="childList"){for(let h=0;h<e.addedNodes.length;h++){let m=e.addedNodes[h];r.push(m),m.nodeType==3&&(this.lastChangedTextNode=m)}if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(e.target))return{from:n.posBefore,to:n.posAfter};let s=e.previousSibling,i=e.nextSibling;if(Cs&&Dc<=11&&e.addedNodes.length)for(let h=0;h<e.addedNodes.length;h++){let{previousSibling:m,nextSibling:x}=e.addedNodes[h];(!m||Array.prototype.indexOf.call(e.addedNodes,m)<0)&&(s=m),(!x||Array.prototype.indexOf.call(e.addedNodes,x)<0)&&(i=x)}let o=s&&s.parentNode==e.target?Fa(s)+1:0,l=n.localPosFromDOM(e.target,o,-1),c=i&&i.parentNode==e.target?Fa(i):e.target.childNodes.length,d=n.localPosFromDOM(e.target,c,1);return{from:l,to:d}}else return e.type=="attributes"?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:(this.lastChangedTextNode=e.target,{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let LL=new WeakMap,$L=!1;function Ybe(t){if(!LL.has(t)&&(LL.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=wi,$L)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),$L=!0}}function FL(t,e){let r=e.startContainer,n=e.startOffset,s=e.endContainer,i=e.endOffset,o=t.domAtPos(t.state.selection.anchor);return od(o.node,o.offset,s,i)&&([r,n,s,i]=[s,i,r,n]),{anchorNode:r,anchorOffset:n,focusNode:s,focusOffset:i}}function Kbe(t,e){if(e.getComposedRanges){let s=e.getComposedRanges(t.root)[0];if(s)return FL(t,s)}let r;function n(s){s.preventDefault(),s.stopImmediatePropagation(),r=s.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",n,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",n,!0),r?FL(t,r):null}function Xbe(t,e){for(let r=e.parentNode;r&&r!=t.dom;r=r.parentNode){let n=t.docView.nearestDesc(r,!0);if(n&&n.node.isBlock)return r}return null}function Jbe(t,e,r){let{node:n,fromOffset:s,toOffset:i,from:o,to:l}=t.docView.parseRange(e,r),c=t.domSelectionRange(),d,h=c.anchorNode;if(h&&t.dom.contains(h.nodeType==1?h:h.parentNode)&&(d=[{node:h,offset:c.anchorOffset}],Qw(c)||d.push({node:c.focusNode,offset:c.focusOffset})),Ka&&t.input.lastKeyCode===8)for(let v=i;v>s;v--){let N=n.childNodes[v-1],T=N.pmViewDesc;if(N.nodeName=="BR"&&!T){i=v;break}if(!T||T.size)break}let m=t.state.doc,x=t.someProp("domParser")||Ec.fromSchema(t.state.schema),y=m.resolve(o),w=null,j=x.parse(n,{topNode:y.parent,topMatch:y.parent.contentMatchAt(y.index()),topOpen:!0,from:s,to:i,preserveWhitespace:y.parent.type.whitespace=="pre"?"full":!0,findPositions:d,ruleFromNode:Qbe,context:y});if(d&&d[0].pos!=null){let v=d[0].pos,N=d[1]&&d[1].pos;N==null&&(N=v),w={anchor:v+o,head:N+o}}return{doc:j,sel:w,from:o,to:l}}function Qbe(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(hs&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let r=document.createElement("div");return r.appendChild(document.createElement("li")),{skip:r}}else if(t.parentNode.lastChild==t||hs&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const Zbe=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function eve(t,e,r,n,s){let i=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let E=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,D=MO(t,E);if(D&&!t.state.selection.eq(D)){if(Ka&&ul&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",I=>I(t,Tu(13,"Enter"))))return;let $=t.state.tr.setSelection(D);E=="pointer"?$.setMeta("pointer",!0):E=="key"&&$.scrollIntoView(),i&&$.setMeta("composition",i),t.dispatch($)}return}let o=t.state.doc.resolve(e),l=o.sharedDepth(r);e=o.before(l+1),r=t.state.doc.resolve(r).after(l+1);let c=t.state.selection,d=Jbe(t,e,r),h=t.state.doc,m=h.slice(d.from,d.to),x,y;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(x=t.state.selection.to,y="end"):(x=t.state.selection.from,y="start"),t.input.lastKeyCode=null;let w=nve(m.content,d.doc.content,d.from,x,y);if(w&&t.input.domChangeCount++,(ah&&t.input.lastIOSEnter>Date.now()-225||ul)&&s.some(E=>E.nodeType==1&&!Zbe.test(E.nodeName))&&(!w||w.endA>=w.endB)&&t.someProp("handleKeyDown",E=>E(t,Tu(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!w)if(n&&c instanceof rr&&!c.empty&&c.$head.sameParent(c.$anchor)&&!t.composing&&!(d.sel&&d.sel.anchor!=d.sel.head))w={start:c.from,endA:c.to,endB:c.to};else{if(d.sel){let E=HL(t,t.state.doc,d.sel);if(E&&!E.eq(t.state.selection)){let D=t.state.tr.setSelection(E);i&&D.setMeta("composition",i),t.dispatch(D)}}return}t.state.selection.from<t.state.selection.to&&w.start==w.endB&&t.state.selection instanceof rr&&(w.start>t.state.selection.from&&w.start<=t.state.selection.from+2&&t.state.selection.from>=d.from?w.start=t.state.selection.from:w.endA<t.state.selection.to&&w.endA>=t.state.selection.to-2&&t.state.selection.to<=d.to&&(w.endB+=t.state.selection.to-w.endA,w.endA=t.state.selection.to)),Cs&&Dc<=11&&w.endB==w.start+1&&w.endA==w.start&&w.start>d.from&&d.doc.textBetween(w.start-d.from-1,w.start-d.from+1)==" "&&(w.start--,w.endA--,w.endB--);let j=d.doc.resolveNoCache(w.start-d.from),v=d.doc.resolveNoCache(w.endB-d.from),N=h.resolve(w.start),T=j.sameParent(v)&&j.parent.inlineContent&&N.end()>=w.endA;if((ah&&t.input.lastIOSEnter>Date.now()-225&&(!T||s.some(E=>E.nodeName=="DIV"||E.nodeName=="P"))||!T&&j.pos<d.doc.content.size&&(!j.sameParent(v)||!j.parent.inlineContent)&&j.pos<v.pos&&!/\S/.test(d.doc.textBetween(j.pos,v.pos,"","")))&&t.someProp("handleKeyDown",E=>E(t,Tu(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>w.start&&rve(h,w.start,w.endA,j,v)&&t.someProp("handleKeyDown",E=>E(t,Tu(8,"Backspace")))){ul&&Ka&&t.domObserver.suppressSelectionUpdates();return}Ka&&w.endB==w.start&&(t.input.lastChromeDelete=Date.now()),ul&&!T&&j.start()!=v.start()&&v.parentOffset==0&&j.depth==v.depth&&d.sel&&d.sel.anchor==d.sel.head&&d.sel.head==w.endA&&(w.endB-=2,v=d.doc.resolveNoCache(w.endB-d.from),setTimeout(()=>{t.someProp("handleKeyDown",function(E){return E(t,Tu(13,"Enter"))})},20));let S=w.start,O=w.endA,_=E=>{let D=E||t.state.tr.replace(S,O,d.doc.slice(w.start-d.from,w.endB-d.from));if(d.sel){let $=HL(t,D.doc,d.sel);$&&!(Ka&&t.composing&&$.empty&&(w.start!=w.endB||t.input.lastChromeDelete<Date.now()-100)&&($.head==S||$.head==D.mapping.map(O)-1)||Cs&&$.empty&&$.head==S)&&D.setSelection($)}return i&&D.setMeta("composition",i),D.scrollIntoView()},A;if(T){if(j.pos==v.pos){Cs&&Dc<=11&&j.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>Sl(t),20));let E=_(t.state.tr.delete(S,O)),D=h.resolve(w.start).marksAcross(h.resolve(w.endA));D&&E.ensureMarks(D),t.dispatch(E)}else if(w.endA==w.endB&&(A=tve(j.parent.content.cut(j.parentOffset,v.parentOffset),N.parent.content.cut(N.parentOffset,w.endA-N.start())))){let E=_(t.state.tr);A.type=="add"?E.addMark(S,O,A.mark):E.removeMark(S,O,A.mark),t.dispatch(E)}else if(j.parent.child(j.index()).isText&&j.index()==v.index()-(v.textOffset?0:1)){let E=j.parent.textBetween(j.parentOffset,v.parentOffset),D=()=>_(t.state.tr.insertText(E,S,O));t.someProp("handleTextInput",$=>$(t,S,O,E,D))||t.dispatch(D())}}else t.dispatch(_())}function HL(t,e,r){return Math.max(r.anchor,r.head)>e.content.size?null:AO(t,e.resolve(r.anchor),e.resolve(r.head))}function tve(t,e){let r=t.firstChild.marks,n=e.firstChild.marks,s=r,i=n,o,l,c;for(let h=0;h<n.length;h++)s=n[h].removeFromSet(s);for(let h=0;h<r.length;h++)i=r[h].removeFromSet(i);if(s.length==1&&i.length==0)l=s[0],o="add",c=h=>h.mark(l.addToSet(h.marks));else if(s.length==0&&i.length==1)l=i[0],o="remove",c=h=>h.mark(l.removeFromSet(h.marks));else return null;let d=[];for(let h=0;h<e.childCount;h++)d.push(c(e.child(h)));if(it.from(d).eq(t))return{mark:l,type:o}}function rve(t,e,r,n,s){if(r-e<=s.pos-n.pos||e2(n,!0,!1)<s.pos)return!1;let i=t.resolve(e);if(!n.parent.isTextblock){let l=i.nodeAfter;return l!=null&&r==e+l.nodeSize}if(i.parentOffset<i.parent.content.size||!i.parent.isTextblock)return!1;let o=t.resolve(e2(i,!0,!0));return!o.parent.isTextblock||o.pos>r||e2(o,!0,!1)<r?!1:n.parent.content.cut(n.parentOffset).eq(o.parent.content)}function e2(t,e,r){let n=t.depth,s=e?t.end():t.pos;for(;n>0&&(e||t.indexAfter(n)==t.node(n).childCount);)n--,s++,e=!1;if(r){let i=t.node(n).maybeChild(t.indexAfter(n));for(;i&&!i.isLeaf;)i=i.firstChild,s++}return s}function nve(t,e,r,n,s){let i=t.findDiffStart(e,r);if(i==null)return null;let{a:o,b:l}=t.findDiffEnd(e,r+t.size,r+e.size);if(s=="end"){let c=Math.max(0,i-Math.min(o,l));n-=o+c-i}if(o<i&&t.size<e.size){let c=n<=i&&n>=o?i-n:0;i-=c,i&&i<e.size&&BL(e.textBetween(i-1,i+1))&&(i+=c?1:-1),l=i+(l-o),o=i}else if(l<i){let c=n<=i&&n>=l?i-n:0;i-=c,i&&i<t.size&&BL(t.textBetween(i-1,i+1))&&(i+=c?1:-1),o=i+(o-l),l=i}return{start:i,endA:o,endB:l}}function BL(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),r=t.charCodeAt(1);return e>=56320&&e<=57343&&r>=55296&&r<=56319}class _G{constructor(e,r){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new jbe,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=r,this.state=r.state,this.directPlugins=r.plugins||[],this.directPlugins.forEach(UL),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=WL(this),VL(this),this.nodeViews=qL(this),this.docView=jL(this.state.doc,zL(this),ZN(this),this.dom,this),this.domObserver=new Gbe(this,(n,s,i,o)=>eve(this,n,s,i,o)),this.domObserver.start(),Sbe(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let r in e)this._props[r]=e[r];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&A_(this);let r=this._props;this._props=e,e.plugins&&(e.plugins.forEach(UL),this.directPlugins=e.plugins),this.updateStateInner(e.state,r)}setProps(e){let r={};for(let n in this._props)r[n]=this._props[n];r.state=this.state;for(let n in e)r[n]=e[n];this.update(r)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,r){var n;let s=this.state,i=!1,o=!1;e.storedMarks&&this.composing&&(wG(this),o=!0),this.state=e;let l=s.plugins!=e.plugins||this._props.plugins!=r.plugins;if(l||this._props.plugins!=r.plugins||this._props.nodeViews!=r.nodeViews){let y=qL(this);sve(y,this.nodeViews)&&(this.nodeViews=y,i=!0)}(l||r.handleDOMEvents!=this._props.handleDOMEvents)&&A_(this),this.editable=WL(this),VL(this);let c=ZN(this),d=zL(this),h=s.plugins!=e.plugins&&!s.doc.eq(e.doc)?"reset":e.scrollToSelection>s.scrollToSelection?"to selection":"preserve",m=i||!this.docView.matchesNode(e.doc,d,c);(m||!e.selection.eq(s.selection))&&(o=!0);let x=h=="preserve"&&o&&this.dom.style.overflowAnchor==null&&Lye(this);if(o){this.domObserver.stop();let y=m&&(Cs||Ka)&&!this.composing&&!s.selection.empty&&!e.selection.empty&&ave(s.selection,e.selection);if(m){let w=Ka?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=Ibe(this)),(i||!this.docView.update(e.doc,d,c,this))&&(this.docView.updateOuterDeco(d),this.docView.destroy(),this.docView=jL(e.doc,d,c,this.dom,this)),w&&!this.trackWrites&&(y=!0)}y||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&obe(this))?Sl(this,y):(cG(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(s),!((n=this.dragging)===null||n===void 0)&&n.node&&!s.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,s),h=="reset"?this.dom.scrollTop=0:h=="to selection"?this.scrollToSelection():x&&$ye(x)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",r=>r(this)))if(this.state.selection instanceof Gt){let r=this.docView.domAfterPos(this.state.selection.from);r.nodeType==1&&gL(this,r.getBoundingClientRect(),e)}else gL(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let r=0;r<this.directPlugins.length;r++){let n=this.directPlugins[r];n.spec.view&&this.pluginViews.push(n.spec.view(this))}for(let r=0;r<this.state.plugins.length;r++){let n=this.state.plugins[r];n.spec.view&&this.pluginViews.push(n.spec.view(this))}}else for(let r=0;r<this.pluginViews.length;r++){let n=this.pluginViews[r];n.update&&n.update(this,e)}}updateDraggedNode(e,r){let n=e.node,s=-1;if(this.state.doc.nodeAt(n.from)==n.node)s=n.from;else{let i=n.from+(this.state.doc.content.size-r.doc.content.size);(i>0&&this.state.doc.nodeAt(i))==n.node&&(s=i)}this.dragging=new SG(e.slice,e.move,s<0?void 0:Gt.create(this.state.doc,s))}someProp(e,r){let n=this._props&&this._props[e],s;if(n!=null&&(s=r?r(n):n))return s;for(let o=0;o<this.directPlugins.length;o++){let l=this.directPlugins[o].props[e];if(l!=null&&(s=r?r(l):l))return s}let i=this.state.plugins;if(i)for(let o=0;o<i.length;o++){let l=i[o].props[e];if(l!=null&&(s=r?r(l):l))return s}}hasFocus(){if(Cs){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&Fye(this.dom),Sl(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let r=this.dom.parentNode;r;r=r.parentNode)if(r.nodeType==9||r.nodeType==11&&r.host)return r.getSelection||(Object.getPrototypeOf(r).getSelection=()=>r.ownerDocument.getSelection()),this._root=r}return e||document}updateRoot(){this._root=null}posAtCoords(e){return Wye(this,e)}coordsAtPos(e,r=1){return tG(this,e,r)}domAtPos(e,r=0){return this.docView.domFromPos(e,r)}nodeDOM(e){let r=this.docView.descAt(e);return r?r.nodeDOM:null}posAtDOM(e,r,n=-1){let s=this.docView.posFromDOM(e,r,n);if(s==null)throw new RangeError("DOM position not inside the editor");return s}endOfTextblock(e,r){return Kye(this,r||this.state,e)}pasteHTML(e,r){return f0(this,"",e,!1,r||new ClipboardEvent("paste"))}pasteText(e,r){return f0(this,e,null,!0,r||new ClipboardEvent("paste"))}serializeForClipboard(e){return OO(this,e)}destroy(){this.docView&&(Nbe(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],ZN(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,Cye())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return Cbe(this,e)}domSelectionRange(){let e=this.domSelection();return e?hs&&this.root.nodeType===11&&Oye(this.dom.ownerDocument)==this.dom&&Kbe(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}_G.prototype.dispatch=function(t){let e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))};function zL(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",r=>{if(typeof r=="function"&&(r=r(t.state)),r)for(let n in r)n=="class"?e.class+=" "+r[n]:n=="style"?e.style=(e.style?e.style+";":"")+r[n]:!e[n]&&n!="contenteditable"&&n!="nodeName"&&(e[n]=String(r[n]))}),e.translate||(e.translate="no"),[ss.node(0,t.state.doc.content.size,e)]}function VL(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:ss.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function WL(t){return!t.someProp("editable",e=>e(t.state)===!1)}function ave(t,e){let r=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(r)!=e.$anchor.start(r)}function qL(t){let e=Object.create(null);function r(n){for(let s in n)Object.prototype.hasOwnProperty.call(e,s)||(e[s]=n[s])}return t.someProp("nodeViews",r),t.someProp("markViews",r),e}function sve(t,e){let r=0,n=0;for(let s in t){if(t[s]!=e[s])return!0;r++}for(let s in e)n++;return r!=n}function UL(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Vc={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Jb={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},ive=typeof navigator<"u"&&/Mac/.test(navigator.platform),ove=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Ha=0;Ha<10;Ha++)Vc[48+Ha]=Vc[96+Ha]=String(Ha);for(var Ha=1;Ha<=24;Ha++)Vc[Ha+111]="F"+Ha;for(var Ha=65;Ha<=90;Ha++)Vc[Ha]=String.fromCharCode(Ha+32),Jb[Ha]=String.fromCharCode(Ha);for(var t2 in Vc)Jb.hasOwnProperty(t2)||(Jb[t2]=Vc[t2]);function lve(t){var e=ive&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||ove&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",r=!e&&t.key||(t.shiftKey?Jb:Vc)[t.keyCode]||t.key||"Unidentified";return r=="Esc"&&(r="Escape"),r=="Del"&&(r="Delete"),r=="Left"&&(r="ArrowLeft"),r=="Up"&&(r="ArrowUp"),r=="Right"&&(r="ArrowRight"),r=="Down"&&(r="ArrowDown"),r}const cve=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),uve=typeof navigator<"u"&&/Win/.test(navigator.platform);function dve(t){let e=t.split(/-(?!$)/),r=e[e.length-1];r=="Space"&&(r=" ");let n,s,i,o;for(let l=0;l<e.length-1;l++){let c=e[l];if(/^(cmd|meta|m)$/i.test(c))o=!0;else if(/^a(lt)?$/i.test(c))n=!0;else if(/^(c|ctrl|control)$/i.test(c))s=!0;else if(/^s(hift)?$/i.test(c))i=!0;else if(/^mod$/i.test(c))cve?o=!0:s=!0;else throw new Error("Unrecognized modifier name: "+c)}return n&&(r="Alt-"+r),s&&(r="Ctrl-"+r),o&&(r="Meta-"+r),i&&(r="Shift-"+r),r}function fve(t){let e=Object.create(null);for(let r in t)e[dve(r)]=t[r];return e}function r2(t,e,r=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),r&&e.shiftKey&&(t="Shift-"+t),t}function hve(t){return new qn({props:{handleKeyDown:MG(t)}})}function MG(t){let e=fve(t);return function(r,n){let s=lve(n),i,o=e[r2(s,n)];if(o&&o(r.state,r.dispatch,r))return!0;if(s.length==1&&s!=" "){if(n.shiftKey){let l=e[r2(s,n,!1)];if(l&&l(r.state,r.dispatch,r))return!0}if((n.altKey||n.metaKey||n.ctrlKey)&&!(uve&&n.ctrlKey&&n.altKey)&&(i=Vc[n.keyCode])&&i!=s){let l=e[r2(i,n)];if(l&&l(r.state,r.dispatch,r))return!0}}return!1}}const LO=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function AG(t,e){let{$cursor:r}=t.selection;return!r||(e?!e.endOfTextblock("backward",t):r.parentOffset>0)?null:r}const OG=(t,e,r)=>{let n=AG(t,r);if(!n)return!1;let s=$O(n);if(!s){let o=n.blockRange(),l=o&&zh(o);return l==null?!1:(e&&e(t.tr.lift(o,l).scrollIntoView()),!0)}let i=s.nodeBefore;if(HG(t,s,e,-1))return!0;if(n.parent.content.size==0&&(sh(i,"end")||Gt.isSelectable(i)))for(let o=n.depth;;o--){let l=Xw(t.doc,n.before(o),n.after(o),_t.empty);if(l&&l.slice.size<l.to-l.from){if(e){let c=t.tr.step(l);c.setSelection(sh(i,"end")?ur.findFrom(c.doc.resolve(c.mapping.map(s.pos,-1)),-1):Gt.create(c.doc,s.pos-i.nodeSize)),e(c.scrollIntoView())}return!0}if(o==1||n.node(o-1).childCount>1)break}return i.isAtom&&s.depth==n.depth-1?(e&&e(t.tr.delete(s.pos-i.nodeSize,s.pos).scrollIntoView()),!0):!1},mve=(t,e,r)=>{let n=AG(t,r);if(!n)return!1;let s=$O(n);return s?EG(t,s,e):!1},pve=(t,e,r)=>{let n=PG(t,r);if(!n)return!1;let s=FO(n);return s?EG(t,s,e):!1};function EG(t,e,r){let n=e.nodeBefore,s=n,i=e.pos-1;for(;!s.isTextblock;i--){if(s.type.spec.isolating)return!1;let h=s.lastChild;if(!h)return!1;s=h}let o=e.nodeAfter,l=o,c=e.pos+1;for(;!l.isTextblock;c++){if(l.type.spec.isolating)return!1;let h=l.firstChild;if(!h)return!1;l=h}let d=Xw(t.doc,i,c,_t.empty);if(!d||d.from!=i||d instanceof Sa&&d.slice.size>=c-i)return!1;if(r){let h=t.tr.step(d);h.setSelection(rr.create(h.doc,i)),r(h.scrollIntoView())}return!0}function sh(t,e,r=!1){for(let n=t;n;n=e=="start"?n.firstChild:n.lastChild){if(n.isTextblock)return!0;if(r&&n.childCount!=1)return!1}return!1}const DG=(t,e,r)=>{let{$head:n,empty:s}=t.selection,i=n;if(!s)return!1;if(n.parent.isTextblock){if(r?!r.endOfTextblock("backward",t):n.parentOffset>0)return!1;i=$O(n)}let o=i&&i.nodeBefore;return!o||!Gt.isSelectable(o)?!1:(e&&e(t.tr.setSelection(Gt.create(t.doc,i.pos-o.nodeSize)).scrollIntoView()),!0)};function $O(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function PG(t,e){let{$cursor:r}=t.selection;return!r||(e?!e.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)?null:r}const RG=(t,e,r)=>{let n=PG(t,r);if(!n)return!1;let s=FO(n);if(!s)return!1;let i=s.nodeAfter;if(HG(t,s,e,1))return!0;if(n.parent.content.size==0&&(sh(i,"start")||Gt.isSelectable(i))){let o=Xw(t.doc,n.before(),n.after(),_t.empty);if(o&&o.slice.size<o.to-o.from){if(e){let l=t.tr.step(o);l.setSelection(sh(i,"start")?ur.findFrom(l.doc.resolve(l.mapping.map(s.pos)),1):Gt.create(l.doc,l.mapping.map(s.pos))),e(l.scrollIntoView())}return!0}}return i.isAtom&&s.depth==n.depth-1?(e&&e(t.tr.delete(s.pos,s.pos+i.nodeSize).scrollIntoView()),!0):!1},IG=(t,e,r)=>{let{$head:n,empty:s}=t.selection,i=n;if(!s)return!1;if(n.parent.isTextblock){if(r?!r.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)return!1;i=FO(n)}let o=i&&i.nodeAfter;return!o||!Gt.isSelectable(o)?!1:(e&&e(t.tr.setSelection(Gt.create(t.doc,i.pos)).scrollIntoView()),!0)};function FO(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let r=t.node(e);if(t.index(e)+1<r.childCount)return t.doc.resolve(t.after(e+1));if(r.type.spec.isolating)break}return null}const gve=(t,e)=>{let r=t.selection,n=r instanceof Gt,s;if(n){if(r.node.isTextblock||!Gc(t.doc,r.from))return!1;s=r.from}else if(s=Kw(t.doc,r.from,-1),s==null)return!1;if(e){let i=t.tr.join(s);n&&i.setSelection(Gt.create(i.doc,s-t.doc.resolve(s).nodeBefore.nodeSize)),e(i.scrollIntoView())}return!0},xve=(t,e)=>{let r=t.selection,n;if(r instanceof Gt){if(r.node.isTextblock||!Gc(t.doc,r.to))return!1;n=r.to}else if(n=Kw(t.doc,r.to,1),n==null)return!1;return e&&e(t.tr.join(n).scrollIntoView()),!0},yve=(t,e)=>{let{$from:r,$to:n}=t.selection,s=r.blockRange(n),i=s&&zh(s);return i==null?!1:(e&&e(t.tr.lift(s,i).scrollIntoView()),!0)},LG=(t,e)=>{let{$head:r,$anchor:n}=t.selection;return!r.parent.type.spec.code||!r.sameParent(n)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function HO(t){for(let e=0;e<t.edgeCount;e++){let{type:r}=t.edge(e);if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}const bve=(t,e)=>{let{$head:r,$anchor:n}=t.selection;if(!r.parent.type.spec.code||!r.sameParent(n))return!1;let s=r.node(-1),i=r.indexAfter(-1),o=HO(s.contentMatchAt(i));if(!o||!s.canReplaceWith(i,i,o))return!1;if(e){let l=r.after(),c=t.tr.replaceWith(l,l,o.createAndFill());c.setSelection(ur.near(c.doc.resolve(l),1)),e(c.scrollIntoView())}return!0},$G=(t,e)=>{let r=t.selection,{$from:n,$to:s}=r;if(r instanceof Us||n.parent.inlineContent||s.parent.inlineContent)return!1;let i=HO(s.parent.contentMatchAt(s.indexAfter()));if(!i||!i.isTextblock)return!1;if(e){let o=(!n.parentOffset&&s.index()<s.parent.childCount?n:s).pos,l=t.tr.insert(o,i.createAndFill());l.setSelection(rr.create(l.doc,o+1)),e(l.scrollIntoView())}return!0},FG=(t,e)=>{let{$cursor:r}=t.selection;if(!r||r.parent.content.size)return!1;if(r.depth>1&&r.after()!=r.end(-1)){let i=r.before();if(jl(t.doc,i))return e&&e(t.tr.split(i).scrollIntoView()),!0}let n=r.blockRange(),s=n&&zh(n);return s==null?!1:(e&&e(t.tr.lift(n,s).scrollIntoView()),!0)};function vve(t){return(e,r)=>{let{$from:n,$to:s}=e.selection;if(e.selection instanceof Gt&&e.selection.node.isBlock)return!n.parentOffset||!jl(e.doc,n.pos)?!1:(r&&r(e.tr.split(n.pos).scrollIntoView()),!0);if(!n.depth)return!1;let i=[],o,l,c=!1,d=!1;for(let y=n.depth;;y--)if(n.node(y).isBlock){c=n.end(y)==n.pos+(n.depth-y),d=n.start(y)==n.pos-(n.depth-y),l=HO(n.node(y-1).contentMatchAt(n.indexAfter(y-1))),i.unshift(c&&l?{type:l}:null),o=y;break}else{if(y==1)return!1;i.unshift(null)}let h=e.tr;(e.selection instanceof rr||e.selection instanceof Us)&&h.deleteSelection();let m=h.mapping.map(n.pos),x=jl(h.doc,m,i.length,i);if(x||(i[0]=l?{type:l}:null,x=jl(h.doc,m,i.length,i)),!x)return!1;if(h.split(m,i.length,i),!c&&d&&n.node(o).type!=l){let y=h.mapping.map(n.before(o)),w=h.doc.resolve(y);l&&n.node(o-1).canReplaceWith(w.index(),w.index()+1,l)&&h.setNodeMarkup(h.mapping.map(n.before(o)),l)}return r&&r(h.scrollIntoView()),!0}}const wve=vve(),jve=(t,e)=>{let{$from:r,to:n}=t.selection,s,i=r.sharedDepth(n);return i==0?!1:(s=r.before(i),e&&e(t.tr.setSelection(Gt.create(t.doc,s))),!0)};function Sve(t,e,r){let n=e.nodeBefore,s=e.nodeAfter,i=e.index();return!n||!s||!n.type.compatibleContent(s.type)?!1:!n.content.size&&e.parent.canReplace(i-1,i)?(r&&r(t.tr.delete(e.pos-n.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(i,i+1)||!(s.isTextblock||Gc(t.doc,e.pos))?!1:(r&&r(t.tr.join(e.pos).scrollIntoView()),!0)}function HG(t,e,r,n){let s=e.nodeBefore,i=e.nodeAfter,o,l,c=s.type.spec.isolating||i.type.spec.isolating;if(!c&&Sve(t,e,r))return!0;let d=!c&&e.parent.canReplace(e.index(),e.index()+1);if(d&&(o=(l=s.contentMatchAt(s.childCount)).findWrapping(i.type))&&l.matchType(o[0]||i.type).validEnd){if(r){let y=e.pos+i.nodeSize,w=it.empty;for(let N=o.length-1;N>=0;N--)w=it.from(o[N].create(null,w));w=it.from(s.copy(w));let j=t.tr.step(new ka(e.pos-1,y,e.pos,y,new _t(w,1,0),o.length,!0)),v=j.doc.resolve(y+2*o.length);v.nodeAfter&&v.nodeAfter.type==s.type&&Gc(j.doc,v.pos)&&j.join(v.pos),r(j.scrollIntoView())}return!0}let h=i.type.spec.isolating||n>0&&c?null:ur.findFrom(e,1),m=h&&h.$from.blockRange(h.$to),x=m&&zh(m);if(x!=null&&x>=e.depth)return r&&r(t.tr.lift(m,x).scrollIntoView()),!0;if(d&&sh(i,"start",!0)&&sh(s,"end")){let y=s,w=[];for(;w.push(y),!y.isTextblock;)y=y.lastChild;let j=i,v=1;for(;!j.isTextblock;j=j.firstChild)v++;if(y.canReplace(y.childCount,y.childCount,j.content)){if(r){let N=it.empty;for(let S=w.length-1;S>=0;S--)N=it.from(w[S].copy(N));let T=t.tr.step(new ka(e.pos-w.length,e.pos+i.nodeSize,e.pos+v,e.pos+i.nodeSize-v,new _t(N,w.length,0),0,!0));r(T.scrollIntoView())}return!0}}return!1}function BG(t){return function(e,r){let n=e.selection,s=t<0?n.$from:n.$to,i=s.depth;for(;s.node(i).isInline;){if(!i)return!1;i--}return s.node(i).isTextblock?(r&&r(e.tr.setSelection(rr.create(e.doc,t<0?s.start(i):s.end(i)))),!0):!1}}const Nve=BG(-1),kve=BG(1);function Cve(t,e=null){return function(r,n){let{$from:s,$to:i}=r.selection,o=s.blockRange(i),l=o&&CO(o,t,e);return l?(n&&n(r.tr.wrap(o,l).scrollIntoView()),!0):!1}}function GL(t,e=null){return function(r,n){let s=!1;for(let i=0;i<r.selection.ranges.length&&!s;i++){let{$from:{pos:o},$to:{pos:l}}=r.selection.ranges[i];r.doc.nodesBetween(o,l,(c,d)=>{if(s)return!1;if(!(!c.isTextblock||c.hasMarkup(t,e)))if(c.type==t)s=!0;else{let h=r.doc.resolve(d),m=h.index();s=h.parent.canReplaceWith(m,m+1,t)}})}if(!s)return!1;if(n){let i=r.tr;for(let o=0;o<r.selection.ranges.length;o++){let{$from:{pos:l},$to:{pos:c}}=r.selection.ranges[o];i.setBlockType(l,c,t,e)}n(i.scrollIntoView())}return!0}}function BO(...t){return function(e,r,n){for(let s=0;s<t.length;s++)if(t[s](e,r,n))return!0;return!1}}BO(LO,OG,DG);BO(LO,RG,IG);BO(LG,$G,FG,wve);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function Tve(t,e=null){return function(r,n){let{$from:s,$to:i}=r.selection,o=s.blockRange(i);if(!o)return!1;let l=n?r.tr:null;return _ve(l,o,t,e)?(n&&n(l.scrollIntoView()),!0):!1}}function _ve(t,e,r,n=null){let s=!1,i=e,o=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(r)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let c=o.resolve(e.start-2);i=new Wb(c,c,e.depth),e.endIndex<e.parent.childCount&&(e=new Wb(e.$from,o.resolve(e.$to.end(e.depth)),e.depth)),s=!0}let l=CO(i,r,n,e);return l?(t&&Mve(t,e,l,s,r),!0):!1}function Mve(t,e,r,n,s){let i=it.empty;for(let h=r.length-1;h>=0;h--)i=it.from(r[h].type.create(r[h].attrs,i));t.step(new ka(e.start-(n?2:0),e.end,e.start,e.end,new _t(i,0,0),r.length,!0));let o=0;for(let h=0;h<r.length;h++)r[h].type==s&&(o=h+1);let l=r.length-o,c=e.start+r.length-(n?2:0),d=e.parent;for(let h=e.startIndex,m=e.endIndex,x=!0;h<m;h++,x=!1)!x&&jl(t.doc,c,l)&&(t.split(c,l),c+=2*l),c+=d.child(h).nodeSize;return t}function Ave(t){return function(e,r){let{$from:n,$to:s}=e.selection,i=n.blockRange(s,o=>o.childCount>0&&o.firstChild.type==t);return i?r?n.node(i.depth-1).type==t?Ove(e,r,t,i):Eve(e,r,i):!0:!1}}function Ove(t,e,r,n){let s=t.tr,i=n.end,o=n.$to.end(n.depth);i<o&&(s.step(new ka(i-1,o,i,o,new _t(it.from(r.create(null,n.parent.copy())),1,0),1,!0)),n=new Wb(s.doc.resolve(n.$from.pos),s.doc.resolve(o),n.depth));const l=zh(n);if(l==null)return!1;s.lift(n,l);let c=s.doc.resolve(s.mapping.map(i,-1)-1);return Gc(s.doc,c.pos)&&c.nodeBefore.type==c.nodeAfter.type&&s.join(c.pos),e(s.scrollIntoView()),!0}function Eve(t,e,r){let n=t.tr,s=r.parent;for(let y=r.end,w=r.endIndex-1,j=r.startIndex;w>j;w--)y-=s.child(w).nodeSize,n.delete(y-1,y+1);let i=n.doc.resolve(r.start),o=i.nodeAfter;if(n.mapping.map(r.end)!=r.start+i.nodeAfter.nodeSize)return!1;let l=r.startIndex==0,c=r.endIndex==s.childCount,d=i.node(-1),h=i.index(-1);if(!d.canReplace(h+(l?0:1),h+1,o.content.append(c?it.empty:it.from(s))))return!1;let m=i.pos,x=m+o.nodeSize;return n.step(new ka(m-(l?1:0),x+(c?1:0),m+1,x-1,new _t((l?it.empty:it.from(s.copy(it.empty))).append(c?it.empty:it.from(s.copy(it.empty))),l?0:1,c?0:1),l?0:1)),e(n.scrollIntoView()),!0}function Dve(t){return function(e,r){let{$from:n,$to:s}=e.selection,i=n.blockRange(s,d=>d.childCount>0&&d.firstChild.type==t);if(!i)return!1;let o=i.startIndex;if(o==0)return!1;let l=i.parent,c=l.child(o-1);if(c.type!=t)return!1;if(r){let d=c.lastChild&&c.lastChild.type==l.type,h=it.from(d?t.create():null),m=new _t(it.from(t.create(null,it.from(l.type.create(null,h)))),d?3:1,0),x=i.start,y=i.end;r(e.tr.step(new ka(x-(d?3:1),y,x,y,m,1,!0)).scrollIntoView())}return!0}}var Pve=Object.defineProperty,zG=(t,e)=>{for(var r in e)Pve(t,r,{get:e[r],enumerable:!0})};function t1(t){const{state:e,transaction:r}=t;let{selection:n}=r,{doc:s}=r,{storedMarks:i}=r;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return i},get selection(){return n},get doc(){return s},get tr(){return n=r.selection,s=r.doc,i=r.storedMarks,r}}}var r1=class{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:e,state:r}=this,{view:n}=e,{tr:s}=r,i=this.buildProps(s);return Object.fromEntries(Object.entries(t).map(([o,l])=>[o,(...d)=>{const h=l(...d)(i);return!s.getMeta("preventDispatch")&&!this.hasCustomState&&n.dispatch(s),h}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,e=!0){const{rawCommands:r,editor:n,state:s}=this,{view:i}=n,o=[],l=!!t,c=t||s.tr,d=()=>(!l&&e&&!c.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(c),o.every(m=>m===!0)),h={...Object.fromEntries(Object.entries(r).map(([m,x])=>[m,(...w)=>{const j=this.buildProps(c,e),v=x(...w)(j);return o.push(v),h}])),run:d};return h}createCan(t){const{rawCommands:e,state:r}=this,n=!1,s=t||r.tr,i=this.buildProps(s,n);return{...Object.fromEntries(Object.entries(e).map(([l,c])=>[l,(...d)=>c(...d)({...i,dispatch:void 0})])),chain:()=>this.createChain(s,n)}}buildProps(t,e=!0){const{rawCommands:r,editor:n,state:s}=this,{view:i}=n,o={tr:t,editor:n,view:i,state:t1({state:s,transaction:t}),dispatch:e?()=>{}:void 0,chain:()=>this.createChain(t,e),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(r).map(([l,c])=>[l,(...d)=>c(...d)(o)]))}};return o}},Rve=class{constructor(){this.callbacks={}}on(e,r){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(r),this}emit(e,...r){const n=this.callbacks[e];return n&&n.forEach(s=>s.apply(this,r)),this}off(e,r){const n=this.callbacks[e];return n&&(r?this.callbacks[e]=n.filter(s=>s!==r):delete this.callbacks[e]),this}once(e,r){const n=(...s)=>{this.off(e,n),r.apply(this,s)};return this.on(e,n)}removeAllListeners(){this.callbacks={}}};function VG(t,e){const r=new UU(t);return e.forEach(n=>{n.steps.forEach(s=>{r.step(s)})}),r}var WG=t=>{const e=t.childNodes;for(let r=e.length-1;r>=0;r-=1){const n=e[r];n.nodeType===3&&n.nodeValue&&/^(\n\s\s|\n)$/.test(n.nodeValue)?t.removeChild(n):n.nodeType===1&&WG(n)}return t};function dy(t){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const e=`<body>${t}</body>`,r=new window.DOMParser().parseFromString(e,"text/html").body;return WG(r)}function m0(t,e,r){if(t instanceof Oc||t instanceof it)return t;r={slice:!0,parseOptions:{},...r};const n=typeof t=="object"&&t!==null,s=typeof t=="string";if(n)try{if(Array.isArray(t)&&t.length>0)return it.fromArray(t.map(l=>e.nodeFromJSON(l)));const o=e.nodeFromJSON(t);return r.errorOnInvalidContent&&o.check(),o}catch(i){if(r.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:i});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",i),m0("",e,r)}if(s){if(r.errorOnInvalidContent){let o=!1,l="";const c=new AU({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:d=>(o=!0,l=typeof d=="string"?d:d.outerHTML,null)}]}})});if(r.slice?Ec.fromSchema(c).parseSlice(dy(t),r.parseOptions):Ec.fromSchema(c).parse(dy(t),r.parseOptions),r.errorOnInvalidContent&&o)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${l}`)})}const i=Ec.fromSchema(e);return r.slice?i.parseSlice(dy(t),r.parseOptions).content:i.parse(dy(t),r.parseOptions)}return m0("",e,r)}function O_(t,e,r={},n={}){return m0(t,e,{slice:!1,parseOptions:r,errorOnInvalidContent:n.errorOnInvalidContent})}function Ive(t){for(let e=0;e<t.edgeCount;e+=1){const{type:r}=t.edge(e);if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}function Lve(t,e,r){const n=[];return t.nodesBetween(e.from,e.to,(s,i)=>{r(s)&&n.push({node:s,pos:i})}),n}function $ve(t,e){for(let r=t.depth;r>0;r-=1){const n=t.node(r);if(e(n))return{pos:r>0?t.before(r):0,start:t.start(r),depth:r,node:n}}}function n1(t){return e=>$ve(e.$from,t)}function Wt(t,e,r){return t.config[e]===void 0&&t.parent?Wt(t.parent,e,r):typeof t.config[e]=="function"?t.config[e].bind({...r,parent:t.parent?Wt(t.parent,e,r):null}):t.config[e]}function zO(t){return t.map(e=>{const r={name:e.name,options:e.options,storage:e.storage},n=Wt(e,"addExtensions",r);return n?[e,...zO(n())]:e}).flat(10)}function VO(t,e){const r=yd.fromSchema(e).serializeFragment(t),s=document.implementation.createHTMLDocument().createElement("div");return s.appendChild(r),s.innerHTML}function qG(t){return typeof t=="function"}function Qr(t,e=void 0,...r){return qG(t)?e?t.bind(e)(...r):t(...r):t}function Fve(t={}){return Object.keys(t).length===0&&t.constructor===Object}function p0(t){const e=t.filter(s=>s.type==="extension"),r=t.filter(s=>s.type==="node"),n=t.filter(s=>s.type==="mark");return{baseExtensions:e,nodeExtensions:r,markExtensions:n}}function UG(t){const e=[],{nodeExtensions:r,markExtensions:n}=p0(t),s=[...r,...n],i={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(o=>{const l={name:o.name,options:o.options,storage:o.storage,extensions:s},c=Wt(o,"addGlobalAttributes",l);if(!c)return;c().forEach(h=>{h.types.forEach(m=>{Object.entries(h.attributes).forEach(([x,y])=>{e.push({type:m,name:x,attribute:{...i,...y}})})})})}),s.forEach(o=>{const l={name:o.name,options:o.options,storage:o.storage},c=Wt(o,"addAttributes",l);if(!c)return;const d=c();Object.entries(d).forEach(([h,m])=>{const x={...i,...m};typeof(x==null?void 0:x.default)=="function"&&(x.default=x.default()),x!=null&&x.isRequired&&(x==null?void 0:x.default)===void 0&&delete x.default,e.push({type:o.name,name:h,attribute:x})})}),e}function Vn(...t){return t.filter(e=>!!e).reduce((e,r)=>{const n={...e};return Object.entries(r).forEach(([s,i])=>{if(!n[s]){n[s]=i;return}if(s==="class"){const l=i?String(i).split(" "):[],c=n[s]?n[s].split(" "):[],d=l.filter(h=>!c.includes(h));n[s]=[...c,...d].join(" ")}else if(s==="style"){const l=i?i.split(";").map(h=>h.trim()).filter(Boolean):[],c=n[s]?n[s].split(";").map(h=>h.trim()).filter(Boolean):[],d=new Map;c.forEach(h=>{const[m,x]=h.split(":").map(y=>y.trim());d.set(m,x)}),l.forEach(h=>{const[m,x]=h.split(":").map(y=>y.trim());d.set(m,x)}),n[s]=Array.from(d.entries()).map(([h,m])=>`${h}: ${m}`).join("; ")}else n[s]=i}),n},{})}function Qb(t,e){return e.filter(r=>r.type===t.type.name).filter(r=>r.attribute.rendered).map(r=>r.attribute.renderHTML?r.attribute.renderHTML(t.attrs)||{}:{[r.name]:t.attrs[r.name]}).reduce((r,n)=>Vn(r,n),{})}function Hve(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function YL(t,e){return"style"in t?t:{...t,getAttrs:r=>{const n=t.getAttrs?t.getAttrs(r):t.attrs;if(n===!1)return!1;const s=e.reduce((i,o)=>{const l=o.attribute.parseHTML?o.attribute.parseHTML(r):Hve(r.getAttribute(o.name));return l==null?i:{...i,[o.name]:l}},{});return{...n,...s}}}}function KL(t){return Object.fromEntries(Object.entries(t).filter(([e,r])=>e==="attrs"&&Fve(r)?!1:r!=null))}function Bve(t,e){var r;const n=UG(t),{nodeExtensions:s,markExtensions:i}=p0(t),o=(r=s.find(d=>Wt(d,"topNode")))==null?void 0:r.name,l=Object.fromEntries(s.map(d=>{const h=n.filter(N=>N.type===d.name),m={name:d.name,options:d.options,storage:d.storage,editor:e},x=t.reduce((N,T)=>{const S=Wt(T,"extendNodeSchema",m);return{...N,...S?S(d):{}}},{}),y=KL({...x,content:Qr(Wt(d,"content",m)),marks:Qr(Wt(d,"marks",m)),group:Qr(Wt(d,"group",m)),inline:Qr(Wt(d,"inline",m)),atom:Qr(Wt(d,"atom",m)),selectable:Qr(Wt(d,"selectable",m)),draggable:Qr(Wt(d,"draggable",m)),code:Qr(Wt(d,"code",m)),whitespace:Qr(Wt(d,"whitespace",m)),linebreakReplacement:Qr(Wt(d,"linebreakReplacement",m)),defining:Qr(Wt(d,"defining",m)),isolating:Qr(Wt(d,"isolating",m)),attrs:Object.fromEntries(h.map(N=>{var T,S;return[N.name,{default:(T=N==null?void 0:N.attribute)==null?void 0:T.default,validate:(S=N==null?void 0:N.attribute)==null?void 0:S.validate}]}))}),w=Qr(Wt(d,"parseHTML",m));w&&(y.parseDOM=w.map(N=>YL(N,h)));const j=Wt(d,"renderHTML",m);j&&(y.toDOM=N=>j({node:N,HTMLAttributes:Qb(N,h)}));const v=Wt(d,"renderText",m);return v&&(y.toText=v),[d.name,y]})),c=Object.fromEntries(i.map(d=>{const h=n.filter(v=>v.type===d.name),m={name:d.name,options:d.options,storage:d.storage,editor:e},x=t.reduce((v,N)=>{const T=Wt(N,"extendMarkSchema",m);return{...v,...T?T(d):{}}},{}),y=KL({...x,inclusive:Qr(Wt(d,"inclusive",m)),excludes:Qr(Wt(d,"excludes",m)),group:Qr(Wt(d,"group",m)),spanning:Qr(Wt(d,"spanning",m)),code:Qr(Wt(d,"code",m)),attrs:Object.fromEntries(h.map(v=>{var N,T;return[v.name,{default:(N=v==null?void 0:v.attribute)==null?void 0:N.default,validate:(T=v==null?void 0:v.attribute)==null?void 0:T.validate}]}))}),w=Qr(Wt(d,"parseHTML",m));w&&(y.parseDOM=w.map(v=>YL(v,h)));const j=Wt(d,"renderHTML",m);return j&&(y.toDOM=v=>j({mark:v,HTMLAttributes:Qb(v,h)})),[d.name,y]}));return new AU({topNode:o,nodes:l,marks:c})}function zve(t){const e=t.filter((r,n)=>t.indexOf(r)!==n);return Array.from(new Set(e))}function WO(t){return t.sort((r,n)=>{const s=Wt(r,"priority")||100,i=Wt(n,"priority")||100;return s>i?-1:s<i?1:0})}function GG(t){const e=WO(zO(t)),r=zve(e.map(n=>n.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(n=>`'${n}'`).join(", ")}]. This can lead to issues.`),e}function YG(t,e,r){const{from:n,to:s}=e,{blockSeparator:i=`

`,textSerializers:o={}}=r||{};let l="";return t.nodesBetween(n,s,(c,d,h,m)=>{var x;c.isBlock&&d>n&&(l+=i);const y=o==null?void 0:o[c.type.name];if(y)return h&&(l+=y({node:c,pos:d,parent:h,index:m,range:e})),!1;c.isText&&(l+=(x=c==null?void 0:c.text)==null?void 0:x.slice(Math.max(n,d)-d,s-d))}),l}function Vve(t,e){const r={from:0,to:t.content.size};return YG(t,r,e)}function KG(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,r])=>[e,r.spec.toText]))}function Fl(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}function XG(t,e){const r=Fl(e,t.schema),{from:n,to:s,empty:i}=t.selection,o=[];i?(t.storedMarks&&o.push(...t.storedMarks),o.push(...t.selection.$head.marks())):t.doc.nodesBetween(n,s,c=>{o.push(...c.marks)});const l=o.find(c=>c.type.name===r.name);return l?{...l.attrs}:{}}function ca(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}function Wve(t,e){const r=ca(e,t.schema),{from:n,to:s}=t.selection,i=[];t.doc.nodesBetween(n,s,l=>{i.push(l)});const o=i.reverse().find(l=>l.type.name===r.name);return o?{...o.attrs}:{}}function a1(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function JG(t,e){const r=a1(typeof e=="string"?e:e.name,t.schema);return r==="node"?Wve(t,e):r==="mark"?XG(t,e):{}}function qve(t,e=JSON.stringify){const r={};return t.filter(n=>{const s=e(n);return Object.prototype.hasOwnProperty.call(r,s)?!1:r[s]=!0})}function Uve(t){const e=qve(t);return e.length===1?e:e.filter((r,n)=>!e.filter((i,o)=>o!==n).some(i=>r.oldRange.from>=i.oldRange.from&&r.oldRange.to<=i.oldRange.to&&r.newRange.from>=i.newRange.from&&r.newRange.to<=i.newRange.to))}function QG(t){const{mapping:e,steps:r}=t,n=[];return e.maps.forEach((s,i)=>{const o=[];if(s.ranges.length)s.forEach((l,c)=>{o.push({from:l,to:c})});else{const{from:l,to:c}=r[i];if(l===void 0||c===void 0)return;o.push({from:l,to:c})}o.forEach(({from:l,to:c})=>{const d=e.slice(i).map(l,-1),h=e.slice(i).map(c),m=e.invert().map(d,-1),x=e.invert().map(h);n.push({oldRange:{from:m,to:x},newRange:{from:d,to:h}})})}),Uve(n)}function qO(t){return Object.prototype.toString.call(t)==="[object RegExp]"}function Zb(t,e,r={strict:!0}){const n=Object.keys(e);return n.length?n.every(s=>r.strict?e[s]===t[s]:qO(e[s])?e[s].test(t[s]):e[s]===t[s]):!0}function ZG(t,e,r={}){return t.find(n=>n.type===e&&Zb(Object.fromEntries(Object.keys(r).map(s=>[s,n.attrs[s]])),r))}function XL(t,e,r={}){return!!ZG(t,e,r)}function UO(t,e,r){var n;if(!t||!e)return;let s=t.parent.childAfter(t.parentOffset);if((!s.node||!s.node.marks.some(h=>h.type===e))&&(s=t.parent.childBefore(t.parentOffset)),!s.node||!s.node.marks.some(h=>h.type===e)||(r=r||((n=s.node.marks[0])==null?void 0:n.attrs),!ZG([...s.node.marks],e,r)))return;let o=s.index,l=t.start()+s.offset,c=o+1,d=l+s.node.nodeSize;for(;o>0&&XL([...t.parent.child(o-1).marks],e,r);)o-=1,l-=t.parent.child(o).nodeSize;for(;c<t.parent.childCount&&XL([...t.parent.child(c).marks],e,r);)d+=t.parent.child(c).nodeSize,c+=1;return{from:l,to:d}}function GO(t,e,r){const n=[];return t===e?r.resolve(t).marks().forEach(s=>{const i=r.resolve(t),o=UO(i,s.type);o&&n.push({mark:s,...o})}):r.nodesBetween(t,e,(s,i)=>{!s||(s==null?void 0:s.nodeSize)===void 0||n.push(...s.marks.map(o=>({from:i,to:i+s.nodeSize,mark:o})))}),n}var Gve=(t,e,r,n=20)=>{const s=t.doc.resolve(r);let i=n,o=null;for(;i>0&&o===null;){const l=s.node(i);(l==null?void 0:l.type.name)===e?o=l:i-=1}return[o,i]};function n2(t,e){return e.nodes[t]||e.marks[t]||null}function ib(t,e,r){return Object.fromEntries(Object.entries(r).filter(([n])=>{const s=t.find(i=>i.type===e&&i.name===n);return s?s.attribute.keepOnSplit:!1}))}var Yve=(t,e=500)=>{let r="";const n=t.parentOffset;return t.parent.nodesBetween(Math.max(0,n-e),n,(s,i,o,l)=>{var c,d;const h=((d=(c=s.type.spec).toText)==null?void 0:d.call(c,{node:s,pos:i,parent:o,index:l}))||s.textContent||"%leaf%";r+=s.isAtom&&!s.isText?h:h.slice(0,Math.max(0,n-i))}),r};function E_(t,e,r={}){const{empty:n,ranges:s}=t.selection,i=e?Fl(e,t.schema):null;if(n)return!!(t.storedMarks||t.selection.$from.marks()).filter(m=>i?i.name===m.type.name:!0).find(m=>Zb(m.attrs,r,{strict:!1}));let o=0;const l=[];if(s.forEach(({$from:m,$to:x})=>{const y=m.pos,w=x.pos;t.doc.nodesBetween(y,w,(j,v)=>{if(!j.isText&&!j.marks.length)return;const N=Math.max(y,v),T=Math.min(w,v+j.nodeSize),S=T-N;o+=S,l.push(...j.marks.map(O=>({mark:O,from:N,to:T})))})}),o===0)return!1;const c=l.filter(m=>i?i.name===m.mark.type.name:!0).filter(m=>Zb(m.mark.attrs,r,{strict:!1})).reduce((m,x)=>m+x.to-x.from,0),d=l.filter(m=>i?m.mark.type!==i&&m.mark.type.excludes(i):!0).reduce((m,x)=>m+x.to-x.from,0);return(c>0?c+d:c)>=o}function Wc(t,e,r={}){const{from:n,to:s,empty:i}=t.selection,o=e?ca(e,t.schema):null,l=[];t.doc.nodesBetween(n,s,(m,x)=>{if(m.isText)return;const y=Math.max(n,x),w=Math.min(s,x+m.nodeSize);l.push({node:m,from:y,to:w})});const c=s-n,d=l.filter(m=>o?o.name===m.node.type.name:!0).filter(m=>Zb(m.node.attrs,r,{strict:!1}));return i?!!d.length:d.reduce((m,x)=>m+x.to-x.from,0)>=c}function Kve(t,e,r={}){if(!e)return Wc(t,null,r)||E_(t,null,r);const n=a1(e,t.schema);return n==="node"?Wc(t,e,r):n==="mark"?E_(t,e,r):!1}var Xve=(t,e)=>{const{$from:r,$to:n,$anchor:s}=t.selection;if(e){const i=n1(l=>l.type.name===e)(t.selection);if(!i)return!1;const o=t.doc.resolve(i.pos+1);return s.pos+1===o.end()}return!(n.parentOffset<n.parent.nodeSize-2||r.pos!==n.pos)},Jve=t=>{const{$from:e,$to:r}=t.selection;return!(e.parentOffset>0||e.pos!==r.pos)};function JL(t,e){return Array.isArray(e)?e.some(r=>(typeof r=="string"?r:r.name)===t.name):e}function QL(t,e){const{nodeExtensions:r}=p0(e),n=r.find(o=>o.name===t);if(!n)return!1;const s={name:n.name,options:n.options,storage:n.storage},i=Qr(Wt(n,"group",s));return typeof i!="string"?!1:i.split(" ").includes("list")}function s1(t,{checkChildren:e=!0,ignoreWhitespace:r=!1}={}){var n;if(r){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((n=t.text)!=null?n:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let s=!0;return t.content.forEach(i=>{s!==!1&&(s1(i,{ignoreWhitespace:r,checkChildren:e})||(s=!1))}),s}return!1}function eY(t){return t instanceof Gt}function tY(t){return t instanceof rr}function Iu(t=0,e=0,r=0){return Math.min(Math.max(t,e),r)}function rY(t,e=null){if(!e)return null;const r=ur.atStart(t),n=ur.atEnd(t);if(e==="start"||e===!0)return r;if(e==="end")return n;const s=r.from,i=n.to;return e==="all"?rr.create(t,Iu(0,s,i),Iu(t.content.size,s,i)):rr.create(t,Iu(e,s,i),Iu(e,s,i))}function Qve(t,e,r){const n=t.steps.length-1;if(n<e)return;const s=t.steps[n];if(!(s instanceof Sa||s instanceof ka))return;const i=t.mapping.maps[n];let o=0;i.forEach((l,c,d,h)=>{o===0&&(o=h)}),t.setSelection(ur.near(t.doc.resolve(o),r))}var i1=class{constructor(t){var e;this.find=t.find,this.handler=t.handler,this.undoable=(e=t.undoable)!=null?e:!0}},Zve=(t,e)=>{if(qO(e))return e.exec(t);const r=e(t);if(!r)return null;const n=[r.text];return n.index=r.index,n.input=t,n.data=r.data,r.replaceWith&&(r.text.includes(r.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),n.push(r.replaceWith)),n};function fy(t){var e;const{editor:r,from:n,to:s,text:i,rules:o,plugin:l}=t,{view:c}=r;if(c.composing)return!1;const d=c.state.doc.resolve(n);if(d.parent.type.spec.code||(e=d.nodeBefore||d.nodeAfter)!=null&&e.marks.find(x=>x.type.spec.code))return!1;let h=!1;const m=Yve(d)+i;return o.forEach(x=>{if(h)return;const y=Zve(m,x.find);if(!y)return;const w=c.state.tr,j=t1({state:c.state,transaction:w}),v={from:n-(y[0].length-i.length),to:s},{commands:N,chain:T,can:S}=new r1({editor:r,state:j});x.handler({state:j,range:v,match:y,commands:N,chain:T,can:S})===null||!w.steps.length||(x.undoable&&w.setMeta(l,{transform:w,from:n,to:s,text:i}),c.dispatch(w),h=!0)}),h}function ewe(t){const{editor:e,rules:r}=t,n=new qn({state:{init(){return null},apply(s,i,o){const l=s.getMeta(n);if(l)return l;const c=s.getMeta("applyInputRules");return!!c&&setTimeout(()=>{let{text:h}=c;typeof h=="string"?h=h:h=VO(it.from(h),o.schema);const{from:m}=c,x=m+h.length;fy({editor:e,from:m,to:x,text:h,rules:r,plugin:n})}),s.selectionSet||s.docChanged?null:i}},props:{handleTextInput(s,i,o,l){return fy({editor:e,from:i,to:o,text:l,rules:r,plugin:n})},handleDOMEvents:{compositionend:s=>(setTimeout(()=>{const{$cursor:i}=s.state.selection;i&&fy({editor:e,from:i.pos,to:i.pos,text:"",rules:r,plugin:n})}),!1)},handleKeyDown(s,i){if(i.key!=="Enter")return!1;const{$cursor:o}=s.state.selection;return o?fy({editor:e,from:o.pos,to:o.pos,text:`
`,rules:r,plugin:n}):!1}},isInputRules:!0});return n}function twe(t){return Object.prototype.toString.call(t).slice(8,-1)}function hy(t){return twe(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function nY(t,e){const r={...t};return hy(t)&&hy(e)&&Object.keys(e).forEach(n=>{hy(e[n])&&hy(t[n])?r[n]=nY(t[n],e[n]):r[n]=e[n]}),r}var YO=class{constructor(t={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...t},this.name=this.config.name}get options(){return{...Qr(Wt(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...Qr(Wt(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(t={}){const e=this.extend({...this.config,addOptions:()=>nY(this.options,t)});return e.name=this.name,e.parent=this.parent,e}extend(t={}){const e=new this.constructor({...this.config,...t});return e.parent=this,this.child=e,e.name="name"in t?t.name:e.parent.name,e}},Hl=class aY extends YO{constructor(){super(...arguments),this.type="mark"}static create(e={}){const r=typeof e=="function"?e():e;return new aY(r)}static handleExit({editor:e,mark:r}){const{tr:n}=e.state,s=e.state.selection.$from;if(s.pos===s.end()){const o=s.marks();if(!!!o.find(d=>(d==null?void 0:d.type.name)===r.name))return!1;const c=o.find(d=>(d==null?void 0:d.type.name)===r.name);return c&&n.removeStoredMark(c),n.insertText(" ",s.pos),e.view.dispatch(n),!0}return!1}configure(e){return super.configure(e)}extend(e){const r=typeof e=="function"?e():e;return super.extend(r)}};function rwe(t){return typeof t=="number"}var nwe=class{constructor(t){this.find=t.find,this.handler=t.handler}},awe=(t,e,r)=>{if(qO(e))return[...t.matchAll(e)];const n=e(t,r);return n?n.map(s=>{const i=[s.text];return i.index=s.index,i.input=t,i.data=s.data,s.replaceWith&&(s.text.includes(s.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),i.push(s.replaceWith)),i}):[]};function swe(t){const{editor:e,state:r,from:n,to:s,rule:i,pasteEvent:o,dropEvent:l}=t,{commands:c,chain:d,can:h}=new r1({editor:e,state:r}),m=[];return r.doc.nodesBetween(n,s,(y,w)=>{var j,v,N,T,S;if((v=(j=y.type)==null?void 0:j.spec)!=null&&v.code||!(y.isText||y.isTextblock||y.isInline))return;const O=(S=(T=(N=y.content)==null?void 0:N.size)!=null?T:y.nodeSize)!=null?S:0,_=Math.max(n,w),A=Math.min(s,w+O);if(_>=A)return;const E=y.isText?y.text||"":y.textBetween(_-w,A-w,void 0,"");awe(E,i.find,o).forEach($=>{if($.index===void 0)return;const I=_+$.index+1,L=I+$[0].length,R={from:r.tr.mapping.map(I),to:r.tr.mapping.map(L)},z=i.handler({state:r,range:R,match:$,commands:c,chain:d,can:h,pasteEvent:o,dropEvent:l});m.push(z)})}),m.every(y=>y!==null)}var my=null,iwe=t=>{var e;const r=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=r.clipboardData)==null||e.setData("text/html",t),r};function owe(t){const{editor:e,rules:r}=t;let n=null,s=!1,i=!1,o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,l;try{l=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{l=null}const c=({state:h,from:m,to:x,rule:y,pasteEvt:w})=>{const j=h.tr,v=t1({state:h,transaction:j});if(!(!swe({editor:e,state:v,from:Math.max(m-1,0),to:x.b-1,rule:y,pasteEvent:w,dropEvent:l})||!j.steps.length)){try{l=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{l=null}return o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,j}};return r.map(h=>new qn({view(m){const x=w=>{var j;n=(j=m.dom.parentElement)!=null&&j.contains(w.target)?m.dom.parentElement:null,n&&(my=e)},y=()=>{my&&(my=null)};return window.addEventListener("dragstart",x),window.addEventListener("dragend",y),{destroy(){window.removeEventListener("dragstart",x),window.removeEventListener("dragend",y)}}},props:{handleDOMEvents:{drop:(m,x)=>{if(i=n===m.dom.parentElement,l=x,!i){const y=my;y!=null&&y.isEditable&&setTimeout(()=>{const w=y.state.selection;w&&y.commands.deleteRange({from:w.from,to:w.to})},10)}return!1},paste:(m,x)=>{var y;const w=(y=x.clipboardData)==null?void 0:y.getData("text/html");return o=x,s=!!(w!=null&&w.includes("data-pm-slice")),!1}}},appendTransaction:(m,x,y)=>{const w=m[0],j=w.getMeta("uiEvent")==="paste"&&!s,v=w.getMeta("uiEvent")==="drop"&&!i,N=w.getMeta("applyPasteRules"),T=!!N;if(!j&&!v&&!T)return;if(T){let{text:_}=N;typeof _=="string"?_=_:_=VO(it.from(_),y.schema);const{from:A}=N,E=A+_.length,D=iwe(_);return c({rule:h,state:y,from:A,to:{b:E},pasteEvt:D})}const S=x.doc.content.findDiffStart(y.doc.content),O=x.doc.content.findDiffEnd(y.doc.content);if(!(!rwe(S)||!O||S===O.b))return c({rule:h,state:y,from:S,to:O,pasteEvt:o})}}))}var o1=class{constructor(t,e){this.splittableMarks=[],this.editor=e,this.extensions=GG(t),this.schema=Bve(this.extensions,e),this.setupExtensions()}get commands(){return this.extensions.reduce((t,e)=>{const r={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:n2(e.name,this.schema)},n=Wt(e,"addCommands",r);return n?{...t,...n()}:t},{})}get plugins(){const{editor:t}=this;return WO([...this.extensions].reverse()).flatMap(n=>{const s={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:n2(n.name,this.schema)},i=[],o=Wt(n,"addKeyboardShortcuts",s);let l={};if(n.type==="mark"&&Wt(n,"exitable",s)&&(l.ArrowRight=()=>Hl.handleExit({editor:t,mark:n})),o){const x=Object.fromEntries(Object.entries(o()).map(([y,w])=>[y,()=>w({editor:t})]));l={...l,...x}}const c=hve(l);i.push(c);const d=Wt(n,"addInputRules",s);if(JL(n,t.options.enableInputRules)&&d){const x=d();if(x&&x.length){const y=ewe({editor:t,rules:x}),w=Array.isArray(y)?y:[y];i.push(...w)}}const h=Wt(n,"addPasteRules",s);if(JL(n,t.options.enablePasteRules)&&h){const x=h();if(x&&x.length){const y=owe({editor:t,rules:x});i.push(...y)}}const m=Wt(n,"addProseMirrorPlugins",s);if(m){const x=m();i.push(...x)}return i})}get attributes(){return UG(this.extensions)}get nodeViews(){const{editor:t}=this,{nodeExtensions:e}=p0(this.extensions);return Object.fromEntries(e.filter(r=>!!Wt(r,"addNodeView")).map(r=>{const n=this.attributes.filter(l=>l.type===r.name),s={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:t,type:ca(r.name,this.schema)},i=Wt(r,"addNodeView",s);if(!i)return[];const o=(l,c,d,h,m)=>{const x=Qb(l,n);return i()({node:l,view:c,getPos:d,decorations:h,innerDecorations:m,editor:t,extension:r,HTMLAttributes:x})};return[r.name,o]}))}get markViews(){const{editor:t}=this,{markExtensions:e}=p0(this.extensions);return Object.fromEntries(e.filter(r=>!!Wt(r,"addMarkView")).map(r=>{const n=this.attributes.filter(l=>l.type===r.name),s={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:t,type:Fl(r.name,this.schema)},i=Wt(r,"addMarkView",s);if(!i)return[];const o=(l,c,d)=>{const h=Qb(l,n);return i()({mark:l,view:c,inline:d,editor:t,extension:r,HTMLAttributes:h,updateAttributes:m=>{S1e(l,t,m)}})};return[r.name,o]}))}setupExtensions(){const t=this.extensions;this.editor.extensionStorage=Object.fromEntries(t.map(e=>[e.name,e.storage])),t.forEach(e=>{var r;const n={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:n2(e.name,this.schema)};e.type==="mark"&&((r=Qr(Wt(e,"keepOnSplit",n)))==null||r)&&this.splittableMarks.push(e.name);const s=Wt(e,"onBeforeCreate",n),i=Wt(e,"onCreate",n),o=Wt(e,"onUpdate",n),l=Wt(e,"onSelectionUpdate",n),c=Wt(e,"onTransaction",n),d=Wt(e,"onFocus",n),h=Wt(e,"onBlur",n),m=Wt(e,"onDestroy",n);s&&this.editor.on("beforeCreate",s),i&&this.editor.on("create",i),o&&this.editor.on("update",o),l&&this.editor.on("selectionUpdate",l),c&&this.editor.on("transaction",c),d&&this.editor.on("focus",d),h&&this.editor.on("blur",h),m&&this.editor.on("destroy",m)})}};o1.resolve=GG;o1.sort=WO;o1.flatten=zO;var lwe={};zG(lwe,{ClipboardTextSerializer:()=>iY,Commands:()=>cY,Delete:()=>uY,Drop:()=>dY,Editable:()=>fY,FocusEvents:()=>mY,Keymap:()=>pY,Paste:()=>gY,Tabindex:()=>xY,focusEventsPluginKey:()=>hY});var fn=class sY extends YO{constructor(){super(...arguments),this.type="extension"}static create(e={}){const r=typeof e=="function"?e():e;return new sY(r)}configure(e){return super.configure(e)}extend(e){const r=typeof e=="function"?e():e;return super.extend(r)}},iY=fn.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new qn({key:new _a("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:r}=t,{doc:n,selection:s}=e,{ranges:i}=s,o=Math.min(...i.map(h=>h.$from.pos)),l=Math.max(...i.map(h=>h.$to.pos)),c=KG(r);return YG(n,{from:o,to:l},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:c})}}})]}}),oY={};zG(oY,{blur:()=>cwe,clearContent:()=>uwe,clearNodes:()=>dwe,command:()=>fwe,createParagraphNear:()=>hwe,cut:()=>mwe,deleteCurrentNode:()=>pwe,deleteNode:()=>gwe,deleteRange:()=>xwe,deleteSelection:()=>ywe,enter:()=>bwe,exitCode:()=>vwe,extendMarkRange:()=>wwe,first:()=>jwe,focus:()=>Nwe,forEach:()=>kwe,insertContent:()=>Cwe,insertContentAt:()=>_we,joinBackward:()=>Owe,joinDown:()=>Awe,joinForward:()=>Ewe,joinItemBackward:()=>Dwe,joinItemForward:()=>Pwe,joinTextblockBackward:()=>Rwe,joinTextblockForward:()=>Iwe,joinUp:()=>Mwe,keyboardShortcut:()=>$we,lift:()=>Fwe,liftEmptyBlock:()=>Hwe,liftListItem:()=>Bwe,newlineInCode:()=>zwe,resetAttributes:()=>Vwe,scrollIntoView:()=>Wwe,selectAll:()=>qwe,selectNodeBackward:()=>Uwe,selectNodeForward:()=>Gwe,selectParentNode:()=>Ywe,selectTextblockEnd:()=>Kwe,selectTextblockStart:()=>Xwe,setContent:()=>Jwe,setMark:()=>Zwe,setMeta:()=>e1e,setNode:()=>t1e,setNodeSelection:()=>r1e,setTextSelection:()=>n1e,sinkListItem:()=>a1e,splitBlock:()=>s1e,splitListItem:()=>i1e,toggleList:()=>o1e,toggleMark:()=>l1e,toggleNode:()=>c1e,toggleWrap:()=>u1e,undoInputRule:()=>d1e,unsetAllMarks:()=>f1e,unsetMark:()=>h1e,updateAttributes:()=>m1e,wrapIn:()=>p1e,wrapInList:()=>g1e});var cwe=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var r;t.isDestroyed||(e.dom.blur(),(r=window==null?void 0:window.getSelection())==null||r.removeAllRanges())}),!0),uwe=(t=!0)=>({commands:e})=>e.setContent("",{emitUpdate:t}),dwe=()=>({state:t,tr:e,dispatch:r})=>{const{selection:n}=e,{ranges:s}=n;return r&&s.forEach(({$from:i,$to:o})=>{t.doc.nodesBetween(i.pos,o.pos,(l,c)=>{if(l.type.isText)return;const{doc:d,mapping:h}=e,m=d.resolve(h.map(c)),x=d.resolve(h.map(c+l.nodeSize)),y=m.blockRange(x);if(!y)return;const w=zh(y);if(l.type.isTextblock){const{defaultType:j}=m.parent.contentMatchAt(m.index());e.setNodeMarkup(y.start,j)}(w||w===0)&&e.lift(y,w)})}),!0},fwe=t=>e=>t(e),hwe=()=>({state:t,dispatch:e})=>$G(t,e),mwe=(t,e)=>({editor:r,tr:n})=>{const{state:s}=r,i=s.doc.slice(t.from,t.to);n.deleteRange(t.from,t.to);const o=n.mapping.map(e);return n.insert(o,i.content),n.setSelection(new rr(n.doc.resolve(Math.max(o-1,0)))),!0},pwe=()=>({tr:t,dispatch:e})=>{const{selection:r}=t,n=r.$anchor.node();if(n.content.size>0)return!1;const s=t.selection.$anchor;for(let i=s.depth;i>0;i-=1)if(s.node(i).type===n.type){if(e){const l=s.before(i),c=s.after(i);t.delete(l,c).scrollIntoView()}return!0}return!1},gwe=t=>({tr:e,state:r,dispatch:n})=>{const s=ca(t,r.schema),i=e.selection.$anchor;for(let o=i.depth;o>0;o-=1)if(i.node(o).type===s){if(n){const c=i.before(o),d=i.after(o);e.delete(c,d).scrollIntoView()}return!0}return!1},xwe=t=>({tr:e,dispatch:r})=>{const{from:n,to:s}=t;return r&&e.delete(n,s),!0},ywe=()=>({state:t,dispatch:e})=>LO(t,e),bwe=()=>({commands:t})=>t.keyboardShortcut("Enter"),vwe=()=>({state:t,dispatch:e})=>bve(t,e),wwe=(t,e={})=>({tr:r,state:n,dispatch:s})=>{const i=Fl(t,n.schema),{doc:o,selection:l}=r,{$from:c,from:d,to:h}=l;if(s){const m=UO(c,i,e);if(m&&m.from<=d&&m.to>=h){const x=rr.create(o,m.from,m.to);r.setSelection(x)}}return!0},jwe=t=>e=>{const r=typeof t=="function"?t(e):t;for(let n=0;n<r.length;n+=1)if(r[n](e))return!0;return!1};function Swe(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function KO(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var Nwe=(t=null,e={})=>({editor:r,view:n,tr:s,dispatch:i})=>{e={scrollIntoView:!0,...e};const o=()=>{(KO()||Swe())&&n.dom.focus(),requestAnimationFrame(()=>{r.isDestroyed||(n.focus(),e!=null&&e.scrollIntoView&&r.commands.scrollIntoView())})};if(n.hasFocus()&&t===null||t===!1)return!0;if(i&&t===null&&!tY(r.state.selection))return o(),!0;const l=rY(s.doc,t)||r.state.selection,c=r.state.selection.eq(l);return i&&(c||s.setSelection(l),c&&s.storedMarks&&s.setStoredMarks(s.storedMarks),o()),!0},kwe=(t,e)=>r=>t.every((n,s)=>e(n,{...r,index:s})),Cwe=(t,e)=>({tr:r,commands:n})=>n.insertContentAt({from:r.selection.from,to:r.selection.to},t,e),Twe=t=>!("type"in t),_we=(t,e,r)=>({tr:n,dispatch:s,editor:i})=>{var o;if(s){r={parseOptions:i.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...r};let l;const c=v=>{i.emit("contentError",{editor:i,error:v,disableCollaboration:()=>{"collaboration"in i.storage&&typeof i.storage.collaboration=="object"&&i.storage.collaboration&&(i.storage.collaboration.isDisabled=!0)}})},d={preserveWhitespace:"full",...r.parseOptions};if(!r.errorOnInvalidContent&&!i.options.enableContentCheck&&i.options.emitContentError)try{m0(e,i.schema,{parseOptions:d,errorOnInvalidContent:!0})}catch(v){c(v)}try{l=m0(e,i.schema,{parseOptions:d,errorOnInvalidContent:(o=r.errorOnInvalidContent)!=null?o:i.options.enableContentCheck})}catch(v){return c(v),!1}let{from:h,to:m}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},x=!0,y=!0;if((Twe(l)?l:[l]).forEach(v=>{v.check(),x=x?v.isText&&v.marks.length===0:!1,y=y?v.isBlock:!1}),h===m&&y){const{parent:v}=n.doc.resolve(h);v.isTextblock&&!v.type.spec.code&&!v.childCount&&(h-=1,m+=1)}let j;if(x){if(Array.isArray(e))j=e.map(v=>v.text||"").join("");else if(e instanceof it){let v="";e.forEach(N=>{N.text&&(v+=N.text)}),j=v}else typeof e=="object"&&e&&e.text?j=e.text:j=e;n.insertText(j,h,m)}else{j=l;const v=n.doc.resolve(h),N=v.node(),T=v.parentOffset===0,S=N.isText||N.isTextblock,O=N.content.size>0;T&&S&&O&&(h=Math.max(0,h-1)),n.replaceWith(h,m,j)}r.updateSelection&&Qve(n,n.steps.length-1,-1),r.applyInputRules&&n.setMeta("applyInputRules",{from:h,text:j}),r.applyPasteRules&&n.setMeta("applyPasteRules",{from:h,text:j})}return!0},Mwe=()=>({state:t,dispatch:e})=>gve(t,e),Awe=()=>({state:t,dispatch:e})=>xve(t,e),Owe=()=>({state:t,dispatch:e})=>OG(t,e),Ewe=()=>({state:t,dispatch:e})=>RG(t,e),Dwe=()=>({state:t,dispatch:e,tr:r})=>{try{const n=Kw(t.doc,t.selection.$from.pos,-1);return n==null?!1:(r.join(n,2),e&&e(r),!0)}catch{return!1}},Pwe=()=>({state:t,dispatch:e,tr:r})=>{try{const n=Kw(t.doc,t.selection.$from.pos,1);return n==null?!1:(r.join(n,2),e&&e(r),!0)}catch{return!1}},Rwe=()=>({state:t,dispatch:e})=>mve(t,e),Iwe=()=>({state:t,dispatch:e})=>pve(t,e);function lY(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function Lwe(t){const e=t.split(/-(?!$)/);let r=e[e.length-1];r==="Space"&&(r=" ");let n,s,i,o;for(let l=0;l<e.length-1;l+=1){const c=e[l];if(/^(cmd|meta|m)$/i.test(c))o=!0;else if(/^a(lt)?$/i.test(c))n=!0;else if(/^(c|ctrl|control)$/i.test(c))s=!0;else if(/^s(hift)?$/i.test(c))i=!0;else if(/^mod$/i.test(c))KO()||lY()?o=!0:s=!0;else throw new Error(`Unrecognized modifier name: ${c}`)}return n&&(r=`Alt-${r}`),s&&(r=`Ctrl-${r}`),o&&(r=`Meta-${r}`),i&&(r=`Shift-${r}`),r}var $we=t=>({editor:e,view:r,tr:n,dispatch:s})=>{const i=Lwe(t).split(/-(?!$)/),o=i.find(d=>!["Alt","Ctrl","Meta","Shift"].includes(d)),l=new KeyboardEvent("keydown",{key:o==="Space"?" ":o,altKey:i.includes("Alt"),ctrlKey:i.includes("Ctrl"),metaKey:i.includes("Meta"),shiftKey:i.includes("Shift"),bubbles:!0,cancelable:!0}),c=e.captureTransaction(()=>{r.someProp("handleKeyDown",d=>d(r,l))});return c==null||c.steps.forEach(d=>{const h=d.map(n.mapping);h&&s&&n.maybeStep(h)}),!0},Fwe=(t,e={})=>({state:r,dispatch:n})=>{const s=ca(t,r.schema);return Wc(r,s,e)?yve(r,n):!1},Hwe=()=>({state:t,dispatch:e})=>FG(t,e),Bwe=t=>({state:e,dispatch:r})=>{const n=ca(t,e.schema);return Ave(n)(e,r)},zwe=()=>({state:t,dispatch:e})=>LG(t,e);function ZL(t,e){const r=typeof e=="string"?[e]:e;return Object.keys(t).reduce((n,s)=>(r.includes(s)||(n[s]=t[s]),n),{})}var Vwe=(t,e)=>({tr:r,state:n,dispatch:s})=>{let i=null,o=null;const l=a1(typeof t=="string"?t:t.name,n.schema);return l?(l==="node"&&(i=ca(t,n.schema)),l==="mark"&&(o=Fl(t,n.schema)),s&&r.selection.ranges.forEach(c=>{n.doc.nodesBetween(c.$from.pos,c.$to.pos,(d,h)=>{i&&i===d.type&&r.setNodeMarkup(h,void 0,ZL(d.attrs,e)),o&&d.marks.length&&d.marks.forEach(m=>{o===m.type&&r.addMark(h,h+d.nodeSize,o.create(ZL(m.attrs,e)))})})}),!0):!1},Wwe=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),qwe=()=>({tr:t,dispatch:e})=>{if(e){const r=new Us(t.doc);t.setSelection(r)}return!0},Uwe=()=>({state:t,dispatch:e})=>DG(t,e),Gwe=()=>({state:t,dispatch:e})=>IG(t,e),Ywe=()=>({state:t,dispatch:e})=>jve(t,e),Kwe=()=>({state:t,dispatch:e})=>kve(t,e),Xwe=()=>({state:t,dispatch:e})=>Nve(t,e),Jwe=(t,{errorOnInvalidContent:e,emitUpdate:r=!0,parseOptions:n={}}={})=>({editor:s,tr:i,dispatch:o,commands:l})=>{const{doc:c}=i;if(n.preserveWhitespace!=="full"){const d=O_(t,s.schema,n,{errorOnInvalidContent:e??s.options.enableContentCheck});return o&&i.replaceWith(0,c.content.size,d).setMeta("preventUpdate",!r),!0}return o&&i.setMeta("preventUpdate",!r),l.insertContentAt({from:0,to:c.content.size},t,{parseOptions:n,errorOnInvalidContent:e??s.options.enableContentCheck})};function Qwe(t,e,r){var n;const{selection:s}=e;let i=null;if(tY(s)&&(i=s.$cursor),i){const l=(n=t.storedMarks)!=null?n:i.marks();return i.parent.type.allowsMarkType(r)&&(!!r.isInSet(l)||!l.some(d=>d.type.excludes(r)))}const{ranges:o}=s;return o.some(({$from:l,$to:c})=>{let d=l.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(r):!1;return t.doc.nodesBetween(l.pos,c.pos,(h,m,x)=>{if(d)return!1;if(h.isInline){const y=!x||x.type.allowsMarkType(r),w=!!r.isInSet(h.marks)||!h.marks.some(j=>j.type.excludes(r));d=y&&w}return!d}),d})}var Zwe=(t,e={})=>({tr:r,state:n,dispatch:s})=>{const{selection:i}=r,{empty:o,ranges:l}=i,c=Fl(t,n.schema);if(s)if(o){const d=XG(n,c);r.addStoredMark(c.create({...d,...e}))}else l.forEach(d=>{const h=d.$from.pos,m=d.$to.pos;n.doc.nodesBetween(h,m,(x,y)=>{const w=Math.max(y,h),j=Math.min(y+x.nodeSize,m);x.marks.find(N=>N.type===c)?x.marks.forEach(N=>{c===N.type&&r.addMark(w,j,c.create({...N.attrs,...e}))}):r.addMark(w,j,c.create(e))})});return Qwe(n,r,c)},e1e=(t,e)=>({tr:r})=>(r.setMeta(t,e),!0),t1e=(t,e={})=>({state:r,dispatch:n,chain:s})=>{const i=ca(t,r.schema);let o;return r.selection.$anchor.sameParent(r.selection.$head)&&(o=r.selection.$anchor.parent.attrs),i.isTextblock?s().command(({commands:l})=>GL(i,{...o,...e})(r)?!0:l.clearNodes()).command(({state:l})=>GL(i,{...o,...e})(l,n)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},r1e=t=>({tr:e,dispatch:r})=>{if(r){const{doc:n}=e,s=Iu(t,0,n.content.size),i=Gt.create(n,s);e.setSelection(i)}return!0},n1e=t=>({tr:e,dispatch:r})=>{if(r){const{doc:n}=e,{from:s,to:i}=typeof t=="number"?{from:t,to:t}:t,o=rr.atStart(n).from,l=rr.atEnd(n).to,c=Iu(s,o,l),d=Iu(i,o,l),h=rr.create(n,c,d);e.setSelection(h)}return!0},a1e=t=>({state:e,dispatch:r})=>{const n=ca(t,e.schema);return Dve(n)(e,r)};function e7(t,e){const r=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(r){const n=r.filter(s=>e==null?void 0:e.includes(s.type.name));t.tr.ensureMarks(n)}}var s1e=({keepMarks:t=!0}={})=>({tr:e,state:r,dispatch:n,editor:s})=>{const{selection:i,doc:o}=e,{$from:l,$to:c}=i,d=s.extensionManager.attributes,h=ib(d,l.node().type.name,l.node().attrs);if(i instanceof Gt&&i.node.isBlock)return!l.parentOffset||!jl(o,l.pos)?!1:(n&&(t&&e7(r,s.extensionManager.splittableMarks),e.split(l.pos).scrollIntoView()),!0);if(!l.parent.isBlock)return!1;const m=c.parentOffset===c.parent.content.size,x=l.depth===0?void 0:Ive(l.node(-1).contentMatchAt(l.indexAfter(-1)));let y=m&&x?[{type:x,attrs:h}]:void 0,w=jl(e.doc,e.mapping.map(l.pos),1,y);if(!y&&!w&&jl(e.doc,e.mapping.map(l.pos),1,x?[{type:x}]:void 0)&&(w=!0,y=x?[{type:x,attrs:h}]:void 0),n){if(w&&(i instanceof rr&&e.deleteSelection(),e.split(e.mapping.map(l.pos),1,y),x&&!m&&!l.parentOffset&&l.parent.type!==x)){const j=e.mapping.map(l.before()),v=e.doc.resolve(j);l.node(-1).canReplaceWith(v.index(),v.index()+1,x)&&e.setNodeMarkup(e.mapping.map(l.before()),x)}t&&e7(r,s.extensionManager.splittableMarks),e.scrollIntoView()}return w},i1e=(t,e={})=>({tr:r,state:n,dispatch:s,editor:i})=>{var o;const l=ca(t,n.schema),{$from:c,$to:d}=n.selection,h=n.selection.node;if(h&&h.isBlock||c.depth<2||!c.sameParent(d))return!1;const m=c.node(-1);if(m.type!==l)return!1;const x=i.extensionManager.attributes;if(c.parent.content.size===0&&c.node(-1).childCount===c.indexAfter(-1)){if(c.depth===2||c.node(-3).type!==l||c.index(-2)!==c.node(-2).childCount-1)return!1;if(s){let N=it.empty;const T=c.index(-1)?1:c.index(-2)?2:3;for(let D=c.depth-T;D>=c.depth-3;D-=1)N=it.from(c.node(D).copy(N));const S=c.indexAfter(-1)<c.node(-2).childCount?1:c.indexAfter(-2)<c.node(-3).childCount?2:3,O={...ib(x,c.node().type.name,c.node().attrs),...e},_=((o=l.contentMatch.defaultType)==null?void 0:o.createAndFill(O))||void 0;N=N.append(it.from(l.createAndFill(null,_)||void 0));const A=c.before(c.depth-(T-1));r.replace(A,c.after(-S),new _t(N,4-T,0));let E=-1;r.doc.nodesBetween(A,r.doc.content.size,(D,$)=>{if(E>-1)return!1;D.isTextblock&&D.content.size===0&&(E=$+1)}),E>-1&&r.setSelection(rr.near(r.doc.resolve(E))),r.scrollIntoView()}return!0}const y=d.pos===c.end()?m.contentMatchAt(0).defaultType:null,w={...ib(x,m.type.name,m.attrs),...e},j={...ib(x,c.node().type.name,c.node().attrs),...e};r.delete(c.pos,d.pos);const v=y?[{type:l,attrs:w},{type:y,attrs:j}]:[{type:l,attrs:w}];if(!jl(r.doc,c.pos,2))return!1;if(s){const{selection:N,storedMarks:T}=n,{splittableMarks:S}=i.extensionManager,O=T||N.$to.parentOffset&&N.$from.marks();if(r.split(c.pos,2,v).scrollIntoView(),!O||!s)return!0;const _=O.filter(A=>S.includes(A.type.name));r.ensureMarks(_)}return!0},a2=(t,e)=>{const r=n1(o=>o.type===e)(t.selection);if(!r)return!0;const n=t.doc.resolve(Math.max(0,r.pos-1)).before(r.depth);if(n===void 0)return!0;const s=t.doc.nodeAt(n);return r.node.type===(s==null?void 0:s.type)&&Gc(t.doc,r.pos)&&t.join(r.pos),!0},s2=(t,e)=>{const r=n1(o=>o.type===e)(t.selection);if(!r)return!0;const n=t.doc.resolve(r.start).after(r.depth);if(n===void 0)return!0;const s=t.doc.nodeAt(n);return r.node.type===(s==null?void 0:s.type)&&Gc(t.doc,n)&&t.join(n),!0},o1e=(t,e,r,n={})=>({editor:s,tr:i,state:o,dispatch:l,chain:c,commands:d,can:h})=>{const{extensions:m,splittableMarks:x}=s.extensionManager,y=ca(t,o.schema),w=ca(e,o.schema),{selection:j,storedMarks:v}=o,{$from:N,$to:T}=j,S=N.blockRange(T),O=v||j.$to.parentOffset&&j.$from.marks();if(!S)return!1;const _=n1(A=>QL(A.type.name,m))(j);if(S.depth>=1&&_&&S.depth-_.depth<=1){if(_.node.type===y)return d.liftListItem(w);if(QL(_.node.type.name,m)&&y.validContent(_.node.content)&&l)return c().command(()=>(i.setNodeMarkup(_.pos,y),!0)).command(()=>a2(i,y)).command(()=>s2(i,y)).run()}return!r||!O||!l?c().command(()=>h().wrapInList(y,n)?!0:d.clearNodes()).wrapInList(y,n).command(()=>a2(i,y)).command(()=>s2(i,y)).run():c().command(()=>{const A=h().wrapInList(y,n),E=O.filter(D=>x.includes(D.type.name));return i.ensureMarks(E),A?!0:d.clearNodes()}).wrapInList(y,n).command(()=>a2(i,y)).command(()=>s2(i,y)).run()},l1e=(t,e={},r={})=>({state:n,commands:s})=>{const{extendEmptyMarkRange:i=!1}=r,o=Fl(t,n.schema);return E_(n,o,e)?s.unsetMark(o,{extendEmptyMarkRange:i}):s.setMark(o,e)},c1e=(t,e,r={})=>({state:n,commands:s})=>{const i=ca(t,n.schema),o=ca(e,n.schema),l=Wc(n,i,r);let c;return n.selection.$anchor.sameParent(n.selection.$head)&&(c=n.selection.$anchor.parent.attrs),l?s.setNode(o,c):s.setNode(i,{...c,...r})},u1e=(t,e={})=>({state:r,commands:n})=>{const s=ca(t,r.schema);return Wc(r,s,e)?n.lift(s):n.wrapIn(s,e)},d1e=()=>({state:t,dispatch:e})=>{const r=t.plugins;for(let n=0;n<r.length;n+=1){const s=r[n];let i;if(s.spec.isInputRules&&(i=s.getState(t))){if(e){const o=t.tr,l=i.transform;for(let c=l.steps.length-1;c>=0;c-=1)o.step(l.steps[c].invert(l.docs[c]));if(i.text){const c=o.doc.resolve(i.from).marks();o.replaceWith(i.from,i.to,t.schema.text(i.text,c))}else o.delete(i.from,i.to)}return!0}}return!1},f1e=()=>({tr:t,dispatch:e})=>{const{selection:r}=t,{empty:n,ranges:s}=r;return n||e&&s.forEach(i=>{t.removeMark(i.$from.pos,i.$to.pos)}),!0},h1e=(t,e={})=>({tr:r,state:n,dispatch:s})=>{var i;const{extendEmptyMarkRange:o=!1}=e,{selection:l}=r,c=Fl(t,n.schema),{$from:d,empty:h,ranges:m}=l;if(!s)return!0;if(h&&o){let{from:x,to:y}=l;const w=(i=d.marks().find(v=>v.type===c))==null?void 0:i.attrs,j=UO(d,c,w);j&&(x=j.from,y=j.to),r.removeMark(x,y,c)}else m.forEach(x=>{r.removeMark(x.$from.pos,x.$to.pos,c)});return r.removeStoredMark(c),!0},m1e=(t,e={})=>({tr:r,state:n,dispatch:s})=>{let i=null,o=null;const l=a1(typeof t=="string"?t:t.name,n.schema);return l?(l==="node"&&(i=ca(t,n.schema)),l==="mark"&&(o=Fl(t,n.schema)),s&&r.selection.ranges.forEach(c=>{const d=c.$from.pos,h=c.$to.pos;let m,x,y,w;r.selection.empty?n.doc.nodesBetween(d,h,(j,v)=>{i&&i===j.type&&(y=Math.max(v,d),w=Math.min(v+j.nodeSize,h),m=v,x=j)}):n.doc.nodesBetween(d,h,(j,v)=>{v<d&&i&&i===j.type&&(y=Math.max(v,d),w=Math.min(v+j.nodeSize,h),m=v,x=j),v>=d&&v<=h&&(i&&i===j.type&&r.setNodeMarkup(v,void 0,{...j.attrs,...e}),o&&j.marks.length&&j.marks.forEach(N=>{if(o===N.type){const T=Math.max(v,d),S=Math.min(v+j.nodeSize,h);r.addMark(T,S,o.create({...N.attrs,...e}))}}))}),x&&(m!==void 0&&r.setNodeMarkup(m,void 0,{...x.attrs,...e}),o&&x.marks.length&&x.marks.forEach(j=>{o===j.type&&r.addMark(y,w,o.create({...j.attrs,...e}))}))}),!0):!1},p1e=(t,e={})=>({state:r,dispatch:n})=>{const s=ca(t,r.schema);return Cve(s,e)(r,n)},g1e=(t,e={})=>({state:r,dispatch:n})=>{const s=ca(t,r.schema);return Tve(s,e)(r,n)},cY=fn.create({name:"commands",addCommands(){return{...oY}}}),uY=fn.create({name:"delete",onUpdate({transaction:t,appendedTransactions:e}){var r,n,s;const i=()=>{var o,l,c,d;if((d=(c=(l=(o=this.editor.options.coreExtensionOptions)==null?void 0:o.delete)==null?void 0:l.filterTransaction)==null?void 0:c.call(l,t))!=null?d:t.getMeta("y-sync$"))return;const h=VG(t.before,[t,...e]);QG(h).forEach(y=>{h.mapping.mapResult(y.oldRange.from).deletedAfter&&h.mapping.mapResult(y.oldRange.to).deletedBefore&&h.before.nodesBetween(y.oldRange.from,y.oldRange.to,(w,j)=>{const v=j+w.nodeSize-2,N=y.oldRange.from<=j&&v<=y.oldRange.to;this.editor.emit("delete",{type:"node",node:w,from:j,to:v,newFrom:h.mapping.map(j),newTo:h.mapping.map(v),deletedRange:y.oldRange,newRange:y.newRange,partial:!N,editor:this.editor,transaction:t,combinedTransform:h})})});const x=h.mapping;h.steps.forEach((y,w)=>{var j,v;if(y instanceof Vi){const N=x.slice(w).map(y.from,-1),T=x.slice(w).map(y.to),S=x.invert().map(N,-1),O=x.invert().map(T),_=(j=h.doc.nodeAt(N-1))==null?void 0:j.marks.some(E=>E.eq(y.mark)),A=(v=h.doc.nodeAt(T))==null?void 0:v.marks.some(E=>E.eq(y.mark));this.editor.emit("delete",{type:"mark",mark:y.mark,from:y.from,to:y.to,deletedRange:{from:S,to:O},newRange:{from:N,to:T},partial:!!(A||_),editor:this.editor,transaction:t,combinedTransform:h})}})};(s=(n=(r=this.editor.options.coreExtensionOptions)==null?void 0:r.delete)==null?void 0:n.async)==null||s?setTimeout(i,0):i()}}),dY=fn.create({name:"drop",addProseMirrorPlugins(){return[new qn({key:new _a("tiptapDrop"),props:{handleDrop:(t,e,r,n)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:r,moved:n})}}})]}}),fY=fn.create({name:"editable",addProseMirrorPlugins(){return[new qn({key:new _a("editable"),props:{editable:()=>this.editor.options.editable}})]}}),hY=new _a("focusEvents"),mY=fn.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new qn({key:hY,props:{handleDOMEvents:{focus:(e,r)=>{t.isFocused=!0;const n=t.state.tr.setMeta("focus",{event:r}).setMeta("addToHistory",!1);return e.dispatch(n),!1},blur:(e,r)=>{t.isFocused=!1;const n=t.state.tr.setMeta("blur",{event:r}).setMeta("addToHistory",!1);return e.dispatch(n),!1}}}})]}}),pY=fn.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:o})=>[()=>o.undoInputRule(),()=>o.command(({tr:l})=>{const{selection:c,doc:d}=l,{empty:h,$anchor:m}=c,{pos:x,parent:y}=m,w=m.parent.isTextblock&&x>0?l.doc.resolve(x-1):m,j=w.parent.type.spec.isolating,v=m.pos-m.parentOffset,N=j&&w.parent.childCount===1?v===m.pos:ur.atStart(d).from===x;return!h||!y.type.isTextblock||y.textContent.length||!N||N&&m.parent.type.name==="paragraph"?!1:o.clearNodes()}),()=>o.deleteSelection(),()=>o.joinBackward(),()=>o.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:o})=>[()=>o.deleteSelection(),()=>o.deleteCurrentNode(),()=>o.joinForward(),()=>o.selectNodeForward()]),n={Enter:()=>this.editor.commands.first(({commands:o})=>[()=>o.newlineInCode(),()=>o.createParagraphNear(),()=>o.liftEmptyBlock(),()=>o.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},s={...n},i={...n,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return KO()||lY()?i:s},addProseMirrorPlugins(){return[new qn({key:new _a("clearDocument"),appendTransaction:(t,e,r)=>{if(t.some(j=>j.getMeta("composition")))return;const n=t.some(j=>j.docChanged)&&!e.doc.eq(r.doc),s=t.some(j=>j.getMeta("preventClearDocument"));if(!n||s)return;const{empty:i,from:o,to:l}=e.selection,c=ur.atStart(e.doc).from,d=ur.atEnd(e.doc).to;if(i||!(o===c&&l===d)||!s1(r.doc))return;const x=r.tr,y=t1({state:r,transaction:x}),{commands:w}=new r1({editor:this.editor,state:y});if(w.clearNodes(),!!x.steps.length)return x}})]}}),gY=fn.create({name:"paste",addProseMirrorPlugins(){return[new qn({key:new _a("tiptapPaste"),props:{handlePaste:(t,e,r)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:r})}}})]}}),xY=fn.create({name:"tabindex",addProseMirrorPlugins(){return[new qn({key:new _a("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),x1e=class xf{constructor(e,r,n=!1,s=null){this.currentNode=null,this.actualDepth=null,this.isBlock=n,this.resolvedPos=e,this.editor=r,this.currentNode=s}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!=null?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let r=this.from,n=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}r=this.from+1,n=this.to-1}this.editor.commands.insertContentAt({from:r,to:n},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),r=this.resolvedPos.doc.resolve(e);return new xf(r,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new xf(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new xf(e,this.editor)}get children(){const e=[];return this.node.content.forEach((r,n)=>{const s=r.isBlock&&!r.isTextblock,i=r.isAtom&&!r.isText,o=this.pos+n+(i?0:1);if(o<0||o>this.resolvedPos.doc.nodeSize-2)return;const l=this.resolvedPos.doc.resolve(o);if(!s&&l.depth<=this.depth)return;const c=new xf(l,this.editor,s,s?r:null);s&&(c.actualDepth=this.depth+1),e.push(new xf(l,this.editor,s,s?r:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,r={}){let n=null,s=this.parent;for(;s&&!n;){if(s.node.type.name===e)if(Object.keys(r).length>0){const i=s.node.attrs,o=Object.keys(r);for(let l=0;l<o.length;l+=1){const c=o[l];if(i[c]!==r[c])break}}else n=s;s=s.parent}return n}querySelector(e,r={}){return this.querySelectorAll(e,r,!0)[0]||null}querySelectorAll(e,r={},n=!1){let s=[];if(!this.children||this.children.length===0)return s;const i=Object.keys(r);return this.children.forEach(o=>{n&&s.length>0||(o.node.type.name===e&&i.every(c=>r[c]===o.node.attrs[c])&&s.push(o),!(n&&s.length>0)&&(s=s.concat(o.querySelectorAll(e,r,n))))}),s}setAttribute(e){const{tr:r}=this.editor.state;r.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(r)}},y1e=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function b1e(t,e,r){const n=document.querySelector("style[data-tiptap-style]");if(n!==null)return n;const s=document.createElement("style");return e&&s.setAttribute("nonce",e),s.setAttribute("data-tiptap-style",""),s.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(s),s}var v1e=class extends Rve{constructor(t={}){super(),this.css=null,this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:n})=>{throw n},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(t),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:n,slice:s,moved:i})=>this.options.onDrop(n,s,i)),this.on("paste",({event:n,slice:s})=>this.options.onPaste(n,s)),this.on("delete",this.options.onDelete);const e=this.createDoc(),r=rY(e,this.options.autofocus);this.editorState=Nf.create({doc:e,schema:this.schema,selection:r||void 0}),this.options.element&&this.mount(this.options.element)}mount(t){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(t),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const t=this.editorView.dom;t!=null&&t.editor&&delete t.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(t){console.warn("Failed to remove CSS element:",t)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=b1e(y1e,this.options.injectNonce))}setOptions(t={}){this.options={...this.options,...t},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(t,e=!0){this.setOptions({editable:t}),e&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:t=>{this.editorState=t},dispatch:t=>{this.dispatchTransaction(t)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(t,e)=>{if(this.editorView)return this.editorView[e];if(e==="state")return this.editorState;if(e in t)return Reflect.get(t,e);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${e}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(t,e){const r=qG(e)?e(t,[...this.state.plugins]):[...this.state.plugins,t],n=this.state.reconfigure({plugins:r});return this.view.updateState(n),n}unregisterPlugin(t){if(this.isDestroyed)return;const e=this.state.plugins;let r=e;if([].concat(t).forEach(s=>{const i=typeof s=="string"?`${s}$`:s.key;r=r.filter(o=>!o.key.startsWith(i))}),e.length===r.length)return;const n=this.state.reconfigure({plugins:r});return this.view.updateState(n),n}createExtensionManager(){var t,e;const n=[...this.options.enableCoreExtensions?[fY,iY.configure({blockSeparator:(e=(t=this.options.coreExtensionOptions)==null?void 0:t.clipboardTextSerializer)==null?void 0:e.blockSeparator}),cY,mY,pY,xY,dY,gY,uY].filter(s=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[s.name]!==!1:!0):[],...this.options.extensions].filter(s=>["extension","node","mark"].includes(s==null?void 0:s.type));this.extensionManager=new o1(n,this)}createCommandManager(){this.commandManager=new r1({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let t;try{t=O_(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(e){if(!(e instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(e.message))throw e;this.emit("contentError",{editor:this,error:e,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(r=>r.name!=="collaboration"),this.createExtensionManager()}}),t=O_(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return t}createView(t){var e;this.editorView=new _G(t,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)==null?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const r=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(r),this.prependClass(),this.injectCSS();const n=this.view.dom;n.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1;const e=this.capturedTransaction;return this.capturedTransaction=null,e}dispatchTransaction(t){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=t;return}t.steps.forEach(d=>{var h;return(h=this.capturedTransaction)==null?void 0:h.step(d)});return}const{state:e,transactions:r}=this.state.applyTransaction(t),n=!this.state.selection.eq(e.selection),s=r.includes(t),i=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:t,nextState:e}),!s)return;this.view.updateState(e),this.emit("transaction",{editor:this,transaction:t,appendedTransactions:r.slice(1)}),n&&this.emit("selectionUpdate",{editor:this,transaction:t});const o=r.findLast(d=>d.getMeta("focus")||d.getMeta("blur")),l=o==null?void 0:o.getMeta("focus"),c=o==null?void 0:o.getMeta("blur");l&&this.emit("focus",{editor:this,event:l.event,transaction:o}),c&&this.emit("blur",{editor:this,event:c.event,transaction:o}),!(t.getMeta("preventUpdate")||!r.some(d=>d.docChanged)||i.doc.eq(e.doc))&&this.emit("update",{editor:this,transaction:t,appendedTransactions:r.slice(1)})}getAttributes(t){return JG(this.state,t)}isActive(t,e){const r=typeof t=="string"?t:null,n=typeof t=="string"?e:t;return Kve(this.state,r,n)}getJSON(){return this.state.doc.toJSON()}getHTML(){return VO(this.state.doc.content,this.schema)}getText(t){const{blockSeparator:e=`

`,textSerializers:r={}}=t||{};return Vve(this.state.doc,{blockSeparator:e,textSerializers:{...KG(this.schema),...r}})}get isEmpty(){return s1(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var t,e;return(e=(t=this.editorView)==null?void 0:t.isDestroyed)!=null?e:!0}$node(t,e){var r;return((r=this.$doc)==null?void 0:r.querySelector(t,e))||null}$nodes(t,e){var r;return((r=this.$doc)==null?void 0:r.querySelectorAll(t,e))||null}$pos(t){const e=this.state.doc.resolve(t);return new x1e(e,this)}get $doc(){return this.$pos(0)}};function cd(t){return new i1({find:t.find,handler:({state:e,range:r,match:n})=>{const s=Qr(t.getAttributes,void 0,n);if(s===!1||s===null)return null;const{tr:i}=e,o=n[n.length-1],l=n[0];if(o){const c=l.search(/\S/),d=r.from+l.indexOf(o),h=d+o.length;if(GO(r.from,r.to,e.doc).filter(y=>y.mark.type.excluded.find(j=>j===t.type&&j!==y.mark.type)).filter(y=>y.to>d).length)return null;h<r.to&&i.delete(h,r.to),d>r.from&&i.delete(r.from+c,d);const x=r.from+c+o.length;i.addMark(r.from+c,x,t.type.create(s||{})),i.removeStoredMark(t.type)}},undoable:t.undoable})}function w1e(t){return new i1({find:t.find,handler:({state:e,range:r,match:n})=>{const s=Qr(t.getAttributes,void 0,n)||{},{tr:i}=e,o=r.from;let l=r.to;const c=t.type.create(s);if(n[1]){const d=n[0].lastIndexOf(n[1]);let h=o+d;h>l?h=l:l=h+n[1].length;const m=n[0][n[0].length-1];i.insertText(m,o+n[0].length-1),i.replaceWith(h,l,c)}else if(n[0]){const d=t.type.isInline?o:o-1;i.insert(d,t.type.create(s)).delete(i.mapping.map(o),i.mapping.map(l))}i.scrollIntoView()},undoable:t.undoable})}function D_(t){return new i1({find:t.find,handler:({state:e,range:r,match:n})=>{const s=e.doc.resolve(r.from),i=Qr(t.getAttributes,void 0,n)||{};if(!s.node(-1).canReplaceWith(s.index(-1),s.indexAfter(-1),t.type))return null;e.tr.delete(r.from,r.to).setBlockType(r.from,r.from,t.type,i)},undoable:t.undoable})}function ih(t){return new i1({find:t.find,handler:({state:e,range:r,match:n,chain:s})=>{const i=Qr(t.getAttributes,void 0,n)||{},o=e.tr.delete(r.from,r.to),c=o.doc.resolve(r.from).blockRange(),d=c&&CO(c,t.type,i);if(!d)return null;if(o.wrap(c,d),t.keepMarks&&t.editor){const{selection:m,storedMarks:x}=e,{splittableMarks:y}=t.editor.extensionManager,w=x||m.$to.parentOffset&&m.$from.marks();if(w){const j=w.filter(v=>y.includes(v.type.name));o.ensureMarks(j)}}if(t.keepAttributes){const m=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";s().updateAttributes(m,i).run()}const h=o.doc.resolve(r.from-1).nodeBefore;h&&h.type===t.type&&Gc(o.doc,r.from-1)&&(!t.joinPredicate||t.joinPredicate(n,h))&&o.join(r.from-1)},undoable:t.undoable})}function j1e(t,e){const{selection:r}=t,{$from:n}=r;if(r instanceof Gt){const i=n.index();return n.parent.canReplaceWith(i,i+1,e)}let s=n.depth;for(;s>=0;){const i=n.index(s);if(n.node(s).contentMatchAt(i).matchType(e))return!0;s-=1}return!1}function S1e(t,e,r={}){const{state:n}=e,{doc:s,tr:i}=n,o=t;s.descendants((l,c)=>{const d=i.mapping.map(c),h=i.mapping.map(c)+l.nodeSize;let m=null;if(l.marks.forEach(y=>{if(y!==o)return!1;m=y}),!m)return;let x=!1;if(Object.keys(r).forEach(y=>{r[y]!==m.attrs[y]&&(x=!0)}),x){const y=t.type.create({...t.attrs,...r});i.removeMark(d,h,t.type),i.addMark(d,h,y)}}),i.docChanged&&e.view.dispatch(i)}var Ks=class yY extends YO{constructor(){super(...arguments),this.type="node"}static create(e={}){const r=typeof e=="function"?e():e;return new yY(r)}configure(e){return super.configure(e)}extend(e){const r=typeof e=="function"?e():e;return super.extend(r)}};function qc(t){return new nwe({find:t.find,handler:({state:e,range:r,match:n,pasteEvent:s})=>{const i=Qr(t.getAttributes,void 0,n,s);if(i===!1||i===null)return null;const{tr:o}=e,l=n[n.length-1],c=n[0];let d=r.to;if(l){const h=c.search(/\S/),m=r.from+c.indexOf(l),x=m+l.length;if(GO(r.from,r.to,e.doc).filter(w=>w.mark.type.excluded.find(v=>v===t.type&&v!==w.mark.type)).filter(w=>w.to>m).length)return null;x<r.to&&o.delete(x,r.to),m>r.from&&o.delete(r.from+h,m),d=r.from+h+l.length,o.addMark(r.from+h,d,t.type.create(i||{})),o.removeStoredMark(t.type)}}})}var N1e=20,bY=(t,e=0)=>{const r=[];return!t.children.length||e>N1e||Array.from(t.children).forEach(n=>{n.tagName==="SPAN"?r.push(n):n.children.length&&r.push(...bY(n,e+1))}),r},k1e=t=>{if(!t.children.length)return;const e=bY(t);e&&e.forEach(r=>{var n,s;const i=r.getAttribute("style"),o=(s=(n=r.parentElement)==null?void 0:n.closest("span"))==null?void 0:s.getAttribute("style");r.setAttribute("style",`${o};${i}`)})},C1e=Hl.create({name:"textStyle",priority:101,addOptions(){return{HTMLAttributes:{},mergeNestedSpanStyles:!0}},parseHTML(){return[{tag:"span",consuming:!1,getAttrs:t=>t.hasAttribute("style")?(this.options.mergeNestedSpanStyles&&k1e(t),{}):!1}]},renderHTML({HTMLAttributes:t}){return["span",Vn(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleTextStyle:t=>({commands:e})=>e.toggleMark(this.name,t),removeEmptyTextStyle:()=>({tr:t})=>{const{selection:e}=t;return t.doc.nodesBetween(e.from,e.to,(r,n)=>{if(r.isTextblock)return!0;r.marks.filter(s=>s.type===this.type).some(s=>Object.values(s.attrs).some(i=>!!i))||t.removeMark(n,n+r.nodeSize,this.type)}),!0}}}}),T1e=fn.create({name:"backgroundColor",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{backgroundColor:{default:null,parseHTML:t=>{var e;const r=t.getAttribute("style");if(r){const n=r.split(";").map(s=>s.trim()).filter(Boolean);for(let s=n.length-1;s>=0;s-=1){const i=n[s].split(":");if(i.length>=2){const o=i[0].trim().toLowerCase(),l=i.slice(1).join(":").trim();if(o==="background-color")return l.replace(/['"]+/g,"")}}}return(e=t.style.backgroundColor)==null?void 0:e.replace(/['"]+/g,"")},renderHTML:t=>t.backgroundColor?{style:`background-color: ${t.backgroundColor}`}:{}}}}]},addCommands(){return{setBackgroundColor:t=>({chain:e})=>e().setMark("textStyle",{backgroundColor:t}).run(),unsetBackgroundColor:()=>({chain:t})=>t().setMark("textStyle",{backgroundColor:null}).removeEmptyTextStyle().run()}}}),vY=fn.create({name:"color",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:t=>{var e;const r=t.getAttribute("style");if(r){const n=r.split(";").map(s=>s.trim()).filter(Boolean);for(let s=n.length-1;s>=0;s-=1){const i=n[s].split(":");if(i.length>=2){const o=i[0].trim().toLowerCase(),l=i.slice(1).join(":").trim();if(o==="color")return l.replace(/['"]+/g,"")}}}return(e=t.style.color)==null?void 0:e.replace(/['"]+/g,"")},renderHTML:t=>t.color?{style:`color: ${t.color}`}:{}}}}]},addCommands(){return{setColor:t=>({chain:e})=>e().setMark("textStyle",{color:t}).run(),unsetColor:()=>({chain:t})=>t().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()}}}),wY=fn.create({name:"fontFamily",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontFamily:{default:null,parseHTML:t=>t.style.fontFamily,renderHTML:t=>t.fontFamily?{style:`font-family: ${t.fontFamily}`}:{}}}}]},addCommands(){return{setFontFamily:t=>({chain:e})=>e().setMark("textStyle",{fontFamily:t}).run(),unsetFontFamily:()=>({chain:t})=>t().setMark("textStyle",{fontFamily:null}).removeEmptyTextStyle().run()}}}),_1e=fn.create({name:"fontSize",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontSize:{default:null,parseHTML:t=>t.style.fontSize,renderHTML:t=>t.fontSize?{style:`font-size: ${t.fontSize}`}:{}}}}]},addCommands(){return{setFontSize:t=>({chain:e})=>e().setMark("textStyle",{fontSize:t}).run(),unsetFontSize:()=>({chain:t})=>t().setMark("textStyle",{fontSize:null}).removeEmptyTextStyle().run()}}}),M1e=fn.create({name:"lineHeight",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{lineHeight:{default:null,parseHTML:t=>t.style.lineHeight,renderHTML:t=>t.lineHeight?{style:`line-height: ${t.lineHeight}`}:{}}}}]},addCommands(){return{setLineHeight:t=>({chain:e})=>e().setMark("textStyle",{lineHeight:t}).run(),unsetLineHeight:()=>({chain:t})=>t().setMark("textStyle",{lineHeight:null}).removeEmptyTextStyle().run()}}}),A1e=fn.create({name:"textStyleKit",addExtensions(){const t=[];return this.options.backgroundColor!==!1&&t.push(T1e.configure(this.options.backgroundColor)),this.options.color!==!1&&t.push(vY.configure(this.options.color)),this.options.fontFamily!==!1&&t.push(wY.configure(this.options.fontFamily)),this.options.fontSize!==!1&&t.push(_1e.configure(this.options.fontSize)),this.options.lineHeight!==!1&&t.push(M1e.configure(this.options.lineHeight)),this.options.textStyle!==!1&&t.push(C1e.configure(this.options.textStyle)),t}}),O1e=fn.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:null}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:t=>{const e=t.style.textAlign;return this.options.alignments.includes(e)?e:this.options.defaultAlignment},renderHTML:t=>t.textAlign?{style:`text-align: ${t.textAlign}`}:{}}}}]},addCommands(){return{setTextAlign:t=>({commands:e})=>this.options.alignments.includes(t)?this.options.types.map(r=>e.updateAttributes(r,{textAlign:t})).every(r=>r):!1,unsetTextAlign:()=>({commands:t})=>this.options.types.map(e=>t.resetAttributes(e,"textAlign")).every(e=>e),toggleTextAlign:t=>({editor:e,commands:r})=>this.options.alignments.includes(t)?e.isActive({textAlign:t})?r.unsetTextAlign():r.setTextAlign(t):!1}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),E1e=O1e,D1e=vY,P1e=wY;const R1e="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",I1e="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",P_="numeric",R_="ascii",I_="alpha",Rp="asciinumeric",jp="alphanumeric",L_="domain",jY="emoji",L1e="scheme",$1e="slashscheme",i2="whitespace";function F1e(t,e){return t in e||(e[t]=[]),e[t]}function Lu(t,e,r){e[P_]&&(e[Rp]=!0,e[jp]=!0),e[R_]&&(e[Rp]=!0,e[I_]=!0),e[Rp]&&(e[jp]=!0),e[I_]&&(e[jp]=!0),e[jp]&&(e[L_]=!0),e[jY]&&(e[L_]=!0);for(const n in e){const s=F1e(n,r);s.indexOf(t)<0&&s.push(t)}}function H1e(t,e){const r={};for(const n in e)e[n].indexOf(t)>=0&&(r[n]=!0);return r}function Ss(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}Ss.groups={};Ss.prototype={accepts(){return!!this.t},go(t){const e=this,r=e.j[t];if(r)return r;for(let n=0;n<e.jr.length;n++){const s=e.jr[n][0],i=e.jr[n][1];if(i&&s.test(t))return i}return e.jd},has(t,e=!1){return e?t in this.j:!!this.go(t)},ta(t,e,r,n){for(let s=0;s<t.length;s++)this.tt(t[s],e,r,n)},tr(t,e,r,n){n=n||Ss.groups;let s;return e&&e.j?s=e:(s=new Ss(e),r&&n&&Lu(e,r,n)),this.jr.push([t,s]),s},ts(t,e,r,n){let s=this;const i=t.length;if(!i)return s;for(let o=0;o<i-1;o++)s=s.tt(t[o]);return s.tt(t[i-1],e,r,n)},tt(t,e,r,n){n=n||Ss.groups;const s=this;if(e&&e.j)return s.j[t]=e,e;const i=e;let o,l=s.go(t);if(l?(o=new Ss,Object.assign(o.j,l.j),o.jr.push.apply(o.jr,l.jr),o.jd=l.jd,o.t=l.t):o=new Ss,i){if(n)if(o.t&&typeof o.t=="string"){const c=Object.assign(H1e(o.t,n),r);Lu(i,c,n)}else r&&Lu(i,r,n);o.t=i}return s.j[t]=o,o}};const cr=(t,e,r,n,s)=>t.ta(e,r,n,s),In=(t,e,r,n,s)=>t.tr(e,r,n,s),t7=(t,e,r,n,s)=>t.ts(e,r,n,s),ft=(t,e,r,n,s)=>t.tt(e,r,n,s),sl="WORD",$_="UWORD",SY="ASCIINUMERICAL",NY="ALPHANUMERICAL",g0="LOCALHOST",F_="TLD",H_="UTLD",ob="SCHEME",yf="SLASH_SCHEME",XO="NUM",B_="WS",JO="NL",Ip="OPENBRACE",Lp="CLOSEBRACE",ev="OPENBRACKET",tv="CLOSEBRACKET",rv="OPENPAREN",nv="CLOSEPAREN",av="OPENANGLEBRACKET",sv="CLOSEANGLEBRACKET",iv="FULLWIDTHLEFTPAREN",ov="FULLWIDTHRIGHTPAREN",lv="LEFTCORNERBRACKET",cv="RIGHTCORNERBRACKET",uv="LEFTWHITECORNERBRACKET",dv="RIGHTWHITECORNERBRACKET",fv="FULLWIDTHLESSTHAN",hv="FULLWIDTHGREATERTHAN",mv="AMPERSAND",pv="APOSTROPHE",gv="ASTERISK",bc="AT",xv="BACKSLASH",yv="BACKTICK",bv="CARET",Sc="COLON",QO="COMMA",vv="DOLLAR",ro="DOT",wv="EQUALS",ZO="EXCLAMATION",di="HYPHEN",$p="PERCENT",jv="PIPE",Sv="PLUS",Nv="POUND",Fp="QUERY",eE="QUOTE",kY="FULLWIDTHMIDDLEDOT",tE="SEMI",no="SLASH",Hp="TILDE",kv="UNDERSCORE",CY="EMOJI",Cv="SYM";var TY=Object.freeze({__proto__:null,ALPHANUMERICAL:NY,AMPERSAND:mv,APOSTROPHE:pv,ASCIINUMERICAL:SY,ASTERISK:gv,AT:bc,BACKSLASH:xv,BACKTICK:yv,CARET:bv,CLOSEANGLEBRACKET:sv,CLOSEBRACE:Lp,CLOSEBRACKET:tv,CLOSEPAREN:nv,COLON:Sc,COMMA:QO,DOLLAR:vv,DOT:ro,EMOJI:CY,EQUALS:wv,EXCLAMATION:ZO,FULLWIDTHGREATERTHAN:hv,FULLWIDTHLEFTPAREN:iv,FULLWIDTHLESSTHAN:fv,FULLWIDTHMIDDLEDOT:kY,FULLWIDTHRIGHTPAREN:ov,HYPHEN:di,LEFTCORNERBRACKET:lv,LEFTWHITECORNERBRACKET:uv,LOCALHOST:g0,NL:JO,NUM:XO,OPENANGLEBRACKET:av,OPENBRACE:Ip,OPENBRACKET:ev,OPENPAREN:rv,PERCENT:$p,PIPE:jv,PLUS:Sv,POUND:Nv,QUERY:Fp,QUOTE:eE,RIGHTCORNERBRACKET:cv,RIGHTWHITECORNERBRACKET:dv,SCHEME:ob,SEMI:tE,SLASH:no,SLASH_SCHEME:yf,SYM:Cv,TILDE:Hp,TLD:F_,UNDERSCORE:kv,UTLD:H_,UWORD:$_,WORD:sl,WS:B_});const tl=/[a-z]/,ap=new RegExp("\\p{L}","u"),o2=new RegExp("\\p{Emoji}","u"),rl=/\d/,l2=/\s/,r7="\r",c2=`
`,B1e="",z1e="",u2="";let py=null,gy=null;function V1e(t=[]){const e={};Ss.groups=e;const r=new Ss;py==null&&(py=n7(R1e)),gy==null&&(gy=n7(I1e)),ft(r,"'",pv),ft(r,"{",Ip),ft(r,"}",Lp),ft(r,"[",ev),ft(r,"]",tv),ft(r,"(",rv),ft(r,")",nv),ft(r,"<",av),ft(r,">",sv),ft(r,"",iv),ft(r,"",ov),ft(r,"",lv),ft(r,"",cv),ft(r,"",uv),ft(r,"",dv),ft(r,"",fv),ft(r,"",hv),ft(r,"&",mv),ft(r,"*",gv),ft(r,"@",bc),ft(r,"`",yv),ft(r,"^",bv),ft(r,":",Sc),ft(r,",",QO),ft(r,"$",vv),ft(r,".",ro),ft(r,"=",wv),ft(r,"!",ZO),ft(r,"-",di),ft(r,"%",$p),ft(r,"|",jv),ft(r,"+",Sv),ft(r,"#",Nv),ft(r,"?",Fp),ft(r,'"',eE),ft(r,"/",no),ft(r,";",tE),ft(r,"~",Hp),ft(r,"_",kv),ft(r,"\\",xv),ft(r,"",kY);const n=In(r,rl,XO,{[P_]:!0});In(n,rl,n);const s=In(n,tl,SY,{[Rp]:!0}),i=In(n,ap,NY,{[jp]:!0}),o=In(r,tl,sl,{[R_]:!0});In(o,rl,s),In(o,tl,o),In(s,rl,s),In(s,tl,s);const l=In(r,ap,$_,{[I_]:!0});In(l,tl),In(l,rl,i),In(l,ap,l),In(i,rl,i),In(i,tl),In(i,ap,i);const c=ft(r,c2,JO,{[i2]:!0}),d=ft(r,r7,B_,{[i2]:!0}),h=In(r,l2,B_,{[i2]:!0});ft(r,u2,h),ft(d,c2,c),ft(d,u2,h),In(d,l2,h),ft(h,r7),ft(h,c2),In(h,l2,h),ft(h,u2,h);const m=In(r,o2,CY,{[jY]:!0});ft(m,"#"),In(m,o2,m),ft(m,B1e,m);const x=ft(m,z1e);ft(x,"#"),In(x,o2,m);const y=[[tl,o],[rl,s]],w=[[tl,null],[ap,l],[rl,i]];for(let j=0;j<py.length;j++)pc(r,py[j],F_,sl,y);for(let j=0;j<gy.length;j++)pc(r,gy[j],H_,$_,w);Lu(F_,{tld:!0,ascii:!0},e),Lu(H_,{utld:!0,alpha:!0},e),pc(r,"file",ob,sl,y),pc(r,"mailto",ob,sl,y),pc(r,"http",yf,sl,y),pc(r,"https",yf,sl,y),pc(r,"ftp",yf,sl,y),pc(r,"ftps",yf,sl,y),Lu(ob,{scheme:!0,ascii:!0},e),Lu(yf,{slashscheme:!0,ascii:!0},e),t=t.sort((j,v)=>j[0]>v[0]?1:-1);for(let j=0;j<t.length;j++){const v=t[j][0],T=t[j][1]?{[L1e]:!0}:{[$1e]:!0};v.indexOf("-")>=0?T[L_]=!0:tl.test(v)?rl.test(v)?T[Rp]=!0:T[R_]=!0:T[P_]=!0,t7(r,v,v,T)}return t7(r,"localhost",g0,{ascii:!0}),r.jd=new Ss(Cv),{start:r,tokens:Object.assign({groups:e},TY)}}function _Y(t,e){const r=W1e(e.replace(/[A-Z]/g,l=>l.toLowerCase())),n=r.length,s=[];let i=0,o=0;for(;o<n;){let l=t,c=null,d=0,h=null,m=-1,x=-1;for(;o<n&&(c=l.go(r[o]));)l=c,l.accepts()?(m=0,x=0,h=l):m>=0&&(m+=r[o].length,x++),d+=r[o].length,i+=r[o].length,o++;i-=m,o-=x,d-=m,s.push({t:h.t,v:e.slice(i-d,i),s:i-d,e:i})}return s}function W1e(t){const e=[],r=t.length;let n=0;for(;n<r;){let s=t.charCodeAt(n),i,o=s<55296||s>56319||n+1===r||(i=t.charCodeAt(n+1))<56320||i>57343?t[n]:t.slice(n,n+2);e.push(o),n+=o.length}return e}function pc(t,e,r,n,s){let i;const o=e.length;for(let l=0;l<o-1;l++){const c=e[l];t.j[c]?i=t.j[c]:(i=new Ss(n),i.jr=s.slice(),t.j[c]=i),t=i}return i=new Ss(r),i.jr=s.slice(),t.j[e[o-1]]=i,i}function n7(t){const e=[],r=[];let n=0,s="0123456789";for(;n<t.length;){let i=0;for(;s.indexOf(t[n+i])>=0;)i++;if(i>0){e.push(r.join(""));for(let o=parseInt(t.substring(n,n+i),10);o>0;o--)r.pop();n+=i}else r.push(t[n]),n++}return e}const x0={defaultProtocol:"http",events:null,format:a7,formatHref:a7,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function rE(t,e=null){let r=Object.assign({},x0);t&&(r=Object.assign(r,t instanceof rE?t.o:t));const n=r.ignoreTags,s=[];for(let i=0;i<n.length;i++)s.push(n[i].toUpperCase());this.o=r,e&&(this.defaultRender=e),this.ignoreTags=s}rE.prototype={o:x0,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,r){const n=e!=null;let s=this.o[t];return s&&(typeof s=="object"?(s=r.t in s?s[r.t]:x0[t],typeof s=="function"&&n&&(s=s(e,r))):typeof s=="function"&&n&&(s=s(e,r.t,r)),s)},getObj(t,e,r){let n=this.o[t];return typeof n=="function"&&e!=null&&(n=n(e,r.t,r)),n},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function a7(t){return t}function MY(t,e){this.t="token",this.v=t,this.tk=e}MY.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),r=t.get("truncate",e,this),n=t.get("format",e,this);return r&&n.length>r?n.substring(0,r)+"":n},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=x0.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,r=this.toHref(t.get("defaultProtocol")),n=t.get("formatHref",r,this),s=t.get("tagName",r,e),i=this.toFormattedString(t),o={},l=t.get("className",r,e),c=t.get("target",r,e),d=t.get("rel",r,e),h=t.getObj("attributes",r,e),m=t.getObj("events",r,e);return o.href=n,l&&(o.class=l),c&&(o.target=c),d&&(o.rel=d),h&&Object.assign(o,h),{tagName:s,attributes:o,content:i,eventListeners:m}}};function l1(t,e){class r extends MY{constructor(s,i){super(s,i),this.t=t}}for(const n in e)r.prototype[n]=e[n];return r.t=t,r}const s7=l1("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),i7=l1("text"),q1e=l1("nl"),xy=l1("url",{isLink:!0,toHref(t=x0.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==g0&&t[1].t===Sc}}),ii=t=>new Ss(t);function U1e({groups:t}){const e=t.domain.concat([mv,gv,bc,xv,yv,bv,vv,wv,di,XO,$p,jv,Sv,Nv,no,Cv,Hp,kv]),r=[pv,Sc,QO,ro,ZO,$p,Fp,eE,tE,av,sv,Ip,Lp,tv,ev,rv,nv,iv,ov,lv,cv,uv,dv,fv,hv],n=[mv,pv,gv,xv,yv,bv,vv,wv,di,Ip,Lp,$p,jv,Sv,Nv,Fp,no,Cv,Hp,kv],s=ii(),i=ft(s,Hp);cr(i,n,i),cr(i,t.domain,i);const o=ii(),l=ii(),c=ii();cr(s,t.domain,o),cr(s,t.scheme,l),cr(s,t.slashscheme,c),cr(o,n,i),cr(o,t.domain,o);const d=ft(o,bc);ft(i,bc,d),ft(l,bc,d),ft(c,bc,d);const h=ft(i,ro);cr(h,n,i),cr(h,t.domain,i);const m=ii();cr(d,t.domain,m),cr(m,t.domain,m);const x=ft(m,ro);cr(x,t.domain,m);const y=ii(s7);cr(x,t.tld,y),cr(x,t.utld,y),ft(d,g0,y);const w=ft(m,di);ft(w,di,w),cr(w,t.domain,m),cr(y,t.domain,m),ft(y,ro,x),ft(y,di,w);const j=ft(y,Sc);cr(j,t.numeric,s7);const v=ft(o,di),N=ft(o,ro);ft(v,di,v),cr(v,t.domain,o),cr(N,n,i),cr(N,t.domain,o);const T=ii(xy);cr(N,t.tld,T),cr(N,t.utld,T),cr(T,t.domain,o),cr(T,n,i),ft(T,ro,N),ft(T,di,v),ft(T,bc,d);const S=ft(T,Sc),O=ii(xy);cr(S,t.numeric,O);const _=ii(xy),A=ii();cr(_,e,_),cr(_,r,A),cr(A,e,_),cr(A,r,A),ft(T,no,_),ft(O,no,_);const E=ft(l,Sc),D=ft(c,Sc),$=ft(D,no),I=ft($,no);cr(l,t.domain,o),ft(l,ro,N),ft(l,di,v),cr(c,t.domain,o),ft(c,ro,N),ft(c,di,v),cr(E,t.domain,_),ft(E,no,_),ft(E,Fp,_),cr(I,t.domain,_),cr(I,e,_),ft(I,no,_);const L=[[Ip,Lp],[ev,tv],[rv,nv],[av,sv],[iv,ov],[lv,cv],[uv,dv],[fv,hv]];for(let R=0;R<L.length;R++){const[z,Y]=L[R],W=ft(_,z);ft(A,z,W),ft(W,Y,_);const H=ii(xy);cr(W,e,H);const P=ii();cr(W,r),cr(H,e,H),cr(H,r,P),cr(P,e,H),cr(P,r,P),ft(H,Y,_),ft(P,Y,_)}return ft(s,g0,T),ft(s,JO,q1e),{start:s,tokens:TY}}function G1e(t,e,r){let n=r.length,s=0,i=[],o=[];for(;s<n;){let l=t,c=null,d=null,h=0,m=null,x=-1;for(;s<n&&!(c=l.go(r[s].t));)o.push(r[s++]);for(;s<n&&(d=c||l.go(r[s].t));)c=null,l=d,l.accepts()?(x=0,m=l):x>=0&&x++,s++,h++;if(x<0)s-=h,s<n&&(o.push(r[s]),s++);else{o.length>0&&(i.push(d2(i7,e,o)),o=[]),s-=x,h-=x;const y=m.t,w=r.slice(s-h,s);i.push(d2(y,e,w))}}return o.length>0&&i.push(d2(i7,e,o)),i}function d2(t,e,r){const n=r[0].s,s=r[r.length-1].e,i=e.slice(n,s);return new t(i,r)}const Y1e=typeof console<"u"&&console&&console.warn||(()=>{}),K1e="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",wn={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function X1e(){return Ss.groups={},wn.scanner=null,wn.parser=null,wn.tokenQueue=[],wn.pluginQueue=[],wn.customSchemes=[],wn.initialized=!1,wn}function o7(t,e=!1){if(wn.initialized&&Y1e(`linkifyjs: already initialized - will not register custom scheme "${t}" ${K1e}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);wn.customSchemes.push([t,e])}function J1e(){wn.scanner=V1e(wn.customSchemes);for(let t=0;t<wn.tokenQueue.length;t++)wn.tokenQueue[t][1]({scanner:wn.scanner});wn.parser=U1e(wn.scanner.tokens);for(let t=0;t<wn.pluginQueue.length;t++)wn.pluginQueue[t][1]({scanner:wn.scanner,parser:wn.parser});return wn.initialized=!0,wn}function nE(t){return wn.initialized||J1e(),G1e(wn.parser.start,t,_Y(wn.scanner.start,t))}nE.scan=_Y;function AY(t,e=null,r=null){if(e&&typeof e=="object"){if(r)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);r=e,e=null}const n=new rE(r),s=nE(t),i=[];for(let o=0;o<s.length;o++){const l=s[o];l.isLink&&(!e||l.t===e)&&n.check(l)&&i.push(l.toFormattedObject(n))}return i}var aE="[\0- -\u2029]",Q1e=new RegExp(aE),Z1e=new RegExp(`${aE}$`),eje=new RegExp(aE,"g");function tje(t){return t.length===1?t[0].isLink:t.length===3&&t[1].isLink?["()","[]"].includes(t[0].value+t[2].value):!1}function rje(t){return new qn({key:new _a("autolink"),appendTransaction:(e,r,n)=>{const s=e.some(d=>d.docChanged)&&!r.doc.eq(n.doc),i=e.some(d=>d.getMeta("preventAutolink"));if(!s||i)return;const{tr:o}=n,l=VG(r.doc,[...e]);if(QG(l).forEach(({newRange:d})=>{const h=Lve(n.doc,d,y=>y.isTextblock);let m,x;if(h.length>1)m=h[0],x=n.doc.textBetween(m.pos,m.pos+m.node.nodeSize,void 0," ");else if(h.length){const y=n.doc.textBetween(d.from,d.to," "," ");if(!Z1e.test(y))return;m=h[0],x=n.doc.textBetween(m.pos,d.to,void 0," ")}if(m&&x){const y=x.split(Q1e).filter(Boolean);if(y.length<=0)return!1;const w=y[y.length-1],j=m.pos+x.lastIndexOf(w);if(!w)return!1;const v=nE(w).map(N=>N.toObject(t.defaultProtocol));if(!tje(v))return!1;v.filter(N=>N.isLink).map(N=>({...N,from:j+N.start+1,to:j+N.end+1})).filter(N=>n.schema.marks.code?!n.doc.rangeHasMark(N.from,N.to,n.schema.marks.code):!0).filter(N=>t.validate(N.value)).filter(N=>t.shouldAutoLink(N.value)).forEach(N=>{GO(N.from,N.to,n.doc).some(T=>T.mark.type===t.type)||o.addMark(N.from,N.to,t.type.create({href:N.href}))})}}),!!o.steps.length)return o}})}function nje(t){return new qn({key:new _a("handleClickLink"),props:{handleClick:(e,r,n)=>{var s,i;if(n.button!==0||!e.editable)return!1;let o=null;if(n.target instanceof HTMLAnchorElement)o=n.target;else{let h=n.target;const m=[];for(;h.nodeName!=="DIV";)m.push(h),h=h.parentNode;o=m.find(x=>x.nodeName==="A")}if(!o)return!1;const l=JG(e.state,t.type.name),c=(s=o==null?void 0:o.href)!=null?s:l.href,d=(i=o==null?void 0:o.target)!=null?i:l.target;return t.enableClickSelection&&t.editor.commands.extendMarkRange(t.type.name),o&&c?(window.open(c,d),!0):!1}}})}function aje(t){return new qn({key:new _a("handlePasteLink"),props:{handlePaste:(e,r,n)=>{const{state:s}=e,{selection:i}=s,{empty:o}=i;if(o)return!1;let l="";n.content.forEach(d=>{l+=d.textContent});const c=AY(l,{defaultProtocol:t.defaultProtocol}).find(d=>d.isLink&&d.value===l);return!l||!c?!1:t.editor.commands.setMark(t.type,{href:c.href})}}})}function yu(t,e){const r=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(n=>{const s=typeof n=="string"?n:n.scheme;s&&r.push(s)}),!t||t.replace(eje,"").match(new RegExp(`^(?:(?:${r.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var OY=Hl.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(t=>{if(typeof t=="string"){o7(t);return}o7(t.scheme,t.optionalSlashes)})},onDestroy(){X1e()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(t,e)=>!!yu(t,e.protocols),validate:t=>!!t,shouldAutoLink:t=>!!t}},addAttributes(){return{href:{default:null,parseHTML(t){return t.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:t=>{const e=t.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:r=>!!yu(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:t}){return this.options.isAllowedUri(t.href,{defaultValidate:e=>!!yu(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",Vn(this.options.HTMLAttributes,t),0]:["a",Vn(this.options.HTMLAttributes,{...t,href:""}),0]},addCommands(){return{setLink:t=>({chain:e})=>{const{href:r}=t;return this.options.isAllowedUri(r,{defaultValidate:n=>!!yu(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,t).setMeta("preventAutolink",!0).run():!1},toggleLink:t=>({chain:e})=>{const{href:r}=t||{};return r&&!this.options.isAllowedUri(r,{defaultValidate:n=>!!yu(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[qc({find:t=>{const e=[];if(t){const{protocols:r,defaultProtocol:n}=this.options,s=AY(t).filter(i=>i.isLink&&this.options.isAllowedUri(i.value,{defaultValidate:o=>!!yu(o,r),protocols:r,defaultProtocol:n}));s.length&&s.forEach(i=>e.push({text:i.value,data:{href:i.href},index:i.start}))}return e},type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)==null?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[],{protocols:e,defaultProtocol:r}=this.options;return this.options.autolink&&t.push(rje({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:n=>this.options.isAllowedUri(n,{defaultValidate:s=>!!yu(s,e),protocols:e,defaultProtocol:r}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&t.push(nje({type:this.type,editor:this.editor,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&t.push(aje({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type})),t}}),sje=OY,f2={exports:{}},h2={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l7;function ije(){if(l7)return h2;l7=1;var t=Z0();function e(m,x){return m===x&&(m!==0||1/m===1/x)||m!==m&&x!==x}var r=typeof Object.is=="function"?Object.is:e,n=t.useState,s=t.useEffect,i=t.useLayoutEffect,o=t.useDebugValue;function l(m,x){var y=x(),w=n({inst:{value:y,getSnapshot:x}}),j=w[0].inst,v=w[1];return i(function(){j.value=y,j.getSnapshot=x,c(j)&&v({inst:j})},[m,y,x]),s(function(){return c(j)&&v({inst:j}),m(function(){c(j)&&v({inst:j})})},[m]),o(y),y}function c(m){var x=m.getSnapshot;m=m.value;try{var y=x();return!r(m,y)}catch{return!0}}function d(m,x){return x()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:l;return h2.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:h,h2}var c7;function EY(){return c7||(c7=1,f2.exports=ije()),f2.exports}var DY=EY(),m2,u7;function oje(){return u7||(u7=1,m2=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var n,s,i;if(Array.isArray(e)){if(n=e.length,n!=r.length)return!1;for(s=n;s--!==0;)if(!t(e[s],r[s]))return!1;return!0}if(e instanceof Map&&r instanceof Map){if(e.size!==r.size)return!1;for(s of e.entries())if(!r.has(s[0]))return!1;for(s of e.entries())if(!t(s[1],r.get(s[0])))return!1;return!0}if(e instanceof Set&&r instanceof Set){if(e.size!==r.size)return!1;for(s of e.entries())if(!r.has(s[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(r)){if(n=e.length,n!=r.length)return!1;for(s=n;s--!==0;)if(e[s]!==r[s])return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(i=Object.keys(e),n=i.length,n!==Object.keys(r).length)return!1;for(s=n;s--!==0;)if(!Object.prototype.hasOwnProperty.call(r,i[s]))return!1;for(s=n;s--!==0;){var o=i[s];if(!(o==="_owner"&&e.$$typeof)&&!t(e[o],r[o]))return!1}return!0}return e!==e&&r!==r}),m2}var lje=oje();const cje=$r(lje);var p2={exports:{}},g2={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d7;function uje(){if(d7)return g2;d7=1;var t=Z0(),e=EY();function r(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var n=typeof Object.is=="function"?Object.is:r,s=e.useSyncExternalStore,i=t.useRef,o=t.useEffect,l=t.useMemo,c=t.useDebugValue;return g2.useSyncExternalStoreWithSelector=function(d,h,m,x,y){var w=i(null);if(w.current===null){var j={hasValue:!1,value:null};w.current=j}else j=w.current;w=l(function(){function N(A){if(!T){if(T=!0,S=A,A=x(A),y!==void 0&&j.hasValue){var E=j.value;if(y(E,A))return O=E}return O=A}if(E=O,n(S,A))return E;var D=x(A);return y!==void 0&&y(E,D)?(S=A,E):(S=A,O=D)}var T=!1,S,O,_=m===void 0?null:m;return[function(){return N(h())},_===null?void 0:function(){return N(_())}]},[h,m,x,y]);var v=s(d,w[0],w[1]);return o(function(){j.hasValue=!0,j.value=v},[v]),c(v),v},g2}var f7;function dje(){return f7||(f7=1,p2.exports=uje()),p2.exports}var fje=dje(),hje=(...t)=>e=>{t.forEach(r=>{typeof r=="function"?r(e):r&&(r.current=e)})},mje=({contentComponent:t})=>{const e=DY.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return a.jsx(a.Fragment,{children:Object.values(e)})};function pje(){const t=new Set;let e={};return{subscribe(r){return t.add(r),()=>{t.delete(r)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(r,n){e={...e,[r]:Qz.createPortal(n.reactElement,n.element,r)},t.forEach(s=>s())},removeRenderer(r){const n={...e};delete n[r],e=n,t.forEach(s=>s())}}}var gje=class extends J.Component{constructor(t){var e;super(t),this.editorContentRef=J.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((e=t.editor)!=null&&e.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const t=this.props.editor;if(t&&!t.isDestroyed&&t.options.element){if(t.contentComponent)return;const e=this.editorContentRef.current;e.append(t.view.dom),t.setOptions({element:e}),t.contentComponent=pje(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=t.contentComponent.subscribe(()=>{this.setState(r=>r.hasContentComponentInitialized?r:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),t.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var t;const e=this.props.editor;if(e){this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null;try{if(!((t=e.view.dom)!=null&&t.firstChild))return;const r=document.createElement("div");r.append(e.view.dom),e.setOptions({element:r})}catch{}}}render(){const{editor:t,innerRef:e,...r}=this.props;return a.jsxs(a.Fragment,{children:[a.jsx("div",{ref:hje(e,this.editorContentRef),...r}),(t==null?void 0:t.contentComponent)&&a.jsx(mje,{contentComponent:t.contentComponent})]})}},xje=g.forwardRef((t,e)=>{const r=J.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return J.createElement(gje,{key:r,innerRef:e,...t})}),yje=J.memo(xje),bje=typeof window<"u"?g.useLayoutEffect:g.useEffect,vje=class{constructor(t){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=t,this.lastSnapshot={editor:t,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(t){return this.subscribers.add(t),()=>{this.subscribers.delete(t)}}watch(t){if(this.editor=t,this.editor){const e=()=>{this.transactionNumber+=1,this.subscribers.forEach(n=>n())},r=this.editor;return r.on("transaction",e),()=>{r.off("transaction",e)}}}};function PY(t){var e;const[r]=g.useState(()=>new vje(t.editor)),n=fje.useSyncExternalStoreWithSelector(r.subscribe,r.getSnapshot,r.getServerSnapshot,t.selector,(e=t.equalityFn)!=null?e:cje);return bje(()=>r.watch(t.editor),[t.editor,r]),g.useDebugValue(n),n}var wje=!1,z_=typeof window>"u",jje=z_||!!(typeof window<"u"&&window.next),Sje=class RY{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(r=>r())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?z_||jje?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...n)=>{var s,i;return(i=(s=this.options.current).onBeforeCreate)==null?void 0:i.call(s,...n)},onBlur:(...n)=>{var s,i;return(i=(s=this.options.current).onBlur)==null?void 0:i.call(s,...n)},onCreate:(...n)=>{var s,i;return(i=(s=this.options.current).onCreate)==null?void 0:i.call(s,...n)},onDestroy:(...n)=>{var s,i;return(i=(s=this.options.current).onDestroy)==null?void 0:i.call(s,...n)},onFocus:(...n)=>{var s,i;return(i=(s=this.options.current).onFocus)==null?void 0:i.call(s,...n)},onSelectionUpdate:(...n)=>{var s,i;return(i=(s=this.options.current).onSelectionUpdate)==null?void 0:i.call(s,...n)},onTransaction:(...n)=>{var s,i;return(i=(s=this.options.current).onTransaction)==null?void 0:i.call(s,...n)},onUpdate:(...n)=>{var s,i;return(i=(s=this.options.current).onUpdate)==null?void 0:i.call(s,...n)},onContentError:(...n)=>{var s,i;return(i=(s=this.options.current).onContentError)==null?void 0:i.call(s,...n)},onDrop:(...n)=>{var s,i;return(i=(s=this.options.current).onDrop)==null?void 0:i.call(s,...n)},onPaste:(...n)=>{var s,i;return(i=(s=this.options.current).onPaste)==null?void 0:i.call(s,...n)},onDelete:(...n)=>{var s,i;return(i=(s=this.options.current).onDelete)==null?void 0:i.call(s,...n)}};return new v1e(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,r){return Object.keys(e).every(n=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(n)?!0:n==="extensions"&&e.extensions&&r.extensions?e.extensions.length!==r.extensions.length?!1:e.extensions.every((s,i)=>{var o;return s===((o=r.extensions)==null?void 0:o[i])}):e[n]===r[n])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?RY.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((n,s)=>n===e[s]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,r=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){r&&r.setOptions(this.options.current);return}r&&!r.isDestroyed&&(r.destroy(),this.instanceId===e&&this.setEditor(null))},1)}};function Nje(t={},e=[]){const r=g.useRef(t);r.current=t;const[n]=g.useState(()=>new Sje(r)),s=DY.useSyncExternalStore(n.subscribe,n.getEditor,n.getServerSnapshot);return g.useDebugValue(s),g.useEffect(n.onRender(e)),PY({editor:s,selector:({transactionNumber:i})=>t.shouldRerenderOnTransaction===!1||t.shouldRerenderOnTransaction===void 0?null:t.immediatelyRender&&i===0?0:i+1}),s}var kje=g.createContext({editor:null});kje.Consumer;var Cje=g.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),Tje=()=>g.useContext(Cje);J.forwardRef((t,e)=>{const{onDragStart:r}=Tje(),n=t.as||"div";return a.jsx(n,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:r,style:{whiteSpace:"normal",...t.style}})});J.createContext({markViewContentRef:()=>{}});var Tv=(t,e)=>{if(t==="slot")return 0;if(t instanceof Function)return t(e);const{children:r,...n}=e??{};if(t==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[t,n,r]},_je=/^\s*>\s$/,Mje=Ks.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return Tv("blockquote",{...Vn(this.options.HTMLAttributes,t),children:Tv("slot",{})})},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[ih({find:_je,type:this.type})]}}),Aje=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,Oje=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,Eje=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,Dje=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,Pje=Hl.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return Tv("strong",{...Vn(this.options.HTMLAttributes,t),children:Tv("slot",{})})},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[cd({find:Aje,type:this.type}),cd({find:Eje,type:this.type})]},addPasteRules(){return[qc({find:Oje,type:this.type}),qc({find:Dje,type:this.type})]}}),Rje=/(^|[^`])`([^`]+)`(?!`)$/,Ije=/(^|[^`])`([^`]+)`(?!`)/g,Lje=Hl.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",Vn(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[cd({find:Rje,type:this.type})]},addPasteRules(){return[qc({find:Ije,type:this.type})]}}),x2=4,$je=/^```([a-z]+)?[\s\n]$/,Fje=/^~~~([a-z]+)?[\s\n]$/,Hje=Ks.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:x2,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:r}=this.options;if(!r)return null;const i=[...((e=t.firstElementChild)==null?void 0:e.classList)||[]].filter(o=>o.startsWith(r)).map(o=>o.replace(r,""))[0];return i||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",Vn(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,r=e.pos===1;return!t||e.parent.type.name!==this.name?!1:r||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const r=(e=this.options.tabSize)!=null?e:x2,{state:n}=t,{selection:s}=n,{$from:i,empty:o}=s;if(i.parent.type!==this.type)return!1;const l=" ".repeat(r);return o?t.commands.insertContent(l):t.commands.command(({tr:c})=>{const{from:d,to:h}=s,y=n.doc.textBetween(d,h,`
`,`
`).split(`
`).map(w=>l+w).join(`
`);return c.replaceWith(d,h,n.schema.text(y)),!0})},"Shift-Tab":({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const r=(e=this.options.tabSize)!=null?e:x2,{state:n}=t,{selection:s}=n,{$from:i,empty:o}=s;return i.parent.type!==this.type?!1:o?t.commands.command(({tr:l})=>{var c;const{pos:d}=i,h=i.start(),m=i.end(),y=n.doc.textBetween(h,m,`
`,`
`).split(`
`);let w=0,j=0;const v=d-h;for(let A=0;A<y.length;A+=1){if(j+y[A].length>=v){w=A;break}j+=y[A].length+1}const T=((c=y[w].match(/^ */))==null?void 0:c[0])||"",S=Math.min(T.length,r);if(S===0)return!0;let O=h;for(let A=0;A<w;A+=1)O+=y[A].length+1;return l.delete(O,O+S),d-O<=S&&l.setSelection(rr.create(l.doc,O)),!0}):t.commands.command(({tr:l})=>{const{from:c,to:d}=s,x=n.doc.textBetween(c,d,`
`,`
`).split(`
`).map(y=>{var w;const j=((w=y.match(/^ */))==null?void 0:w[0])||"",v=Math.min(j.length,r);return y.slice(v)}).join(`
`);return l.replaceWith(c,d,n.schema.text(x)),!0})},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:r}=e,{$from:n,empty:s}=r;if(!s||n.parent.type!==this.type)return!1;const i=n.parentOffset===n.parent.nodeSize-2,o=n.parent.textContent.endsWith(`

`);return!i||!o?!1:t.chain().command(({tr:l})=>(l.delete(n.pos-2,n.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:r,doc:n}=e,{$from:s,empty:i}=r;if(!i||s.parent.type!==this.type||!(s.parentOffset===s.parent.nodeSize-2))return!1;const l=s.after();return l===void 0?!1:n.nodeAt(l)?t.commands.command(({tr:d})=>(d.setSelection(ur.near(n.resolve(l))),!0)):t.commands.exitCode()}}},addInputRules(){return[D_({find:$je,type:this.type,getAttributes:t=>({language:t[1]})}),D_({find:Fje,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new qn({key:new _a("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const r=e.clipboardData.getData("text/plain"),n=e.clipboardData.getData("vscode-editor-data"),s=n?JSON.parse(n):void 0,i=s==null?void 0:s.mode;if(!r||!i)return!1;const{tr:o,schema:l}=t.state,c=l.text(r.replace(/\r\n?/g,`
`));return o.replaceSelectionWith(this.type.create({language:i},c)),o.selection.$from.parent.type!==this.type&&o.setSelection(rr.near(o.doc.resolve(Math.max(0,o.selection.from-2)))),o.setMeta("paste",!0),t.dispatch(o),!0}}})]}}),Bje=Ks.create({name:"doc",topNode:!0,content:"block+"}),zje=Ks.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",Vn(this.options.HTMLAttributes,t)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:r,editor:n})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:s,storedMarks:i}=r;if(s.$from.parent.type.spec.isolating)return!1;const{keepMarks:o}=this.options,{splittableMarks:l}=n.extensionManager,c=i||s.$to.parentOffset&&s.$from.marks();return e().insertContent({type:this.name}).command(({tr:d,dispatch:h})=>{if(h&&c&&o){const m=c.filter(x=>l.includes(x.type.name));d.ensureMarks(m)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),Vje=Ks.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,Vn(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>D_({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}}),Wje=Ks.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",Vn(this.options.HTMLAttributes,t)]},addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{if(!j1e(e,e.schema.nodes[this.name]))return!1;const{selection:r}=e,{$to:n}=r,s=t();return eY(r)?s.insertContentAt(n.pos,{type:this.name}):s.insertContent({type:this.name}),s.command(({state:i,tr:o,dispatch:l})=>{if(l){const{$to:c}=o.selection,d=c.end();if(c.nodeAfter)c.nodeAfter.isTextblock?o.setSelection(rr.create(o.doc,c.pos+1)):c.nodeAfter.isBlock?o.setSelection(Gt.create(o.doc,c.pos)):o.setSelection(rr.create(o.doc,c.pos));else{const h=i.schema.nodes[this.options.nextNodeType]||c.parent.type.contentMatch.defaultType,m=h==null?void 0:h.create();m&&(o.insert(d,m),o.setSelection(rr.create(o.doc,d+1)))}o.scrollIntoView()}return!0}).run()}}},addInputRules(){return[w1e({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),qje=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,Uje=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,Gje=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,Yje=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,Kje=Hl.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",Vn(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[cd({find:qje,type:this.type}),cd({find:Gje,type:this.type})]},addPasteRules(){return[qc({find:Uje,type:this.type}),qc({find:Yje,type:this.type})]}}),Xje=Object.defineProperty,Jje=(t,e)=>{for(var r in e)Xje(t,r,{get:e[r],enumerable:!0})},Qje="listItem",h7="textStyle",m7=/^\s*([-+*])\s$/,IY=Ks.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",Vn(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(Qje,this.editor.getAttributes(h7)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=ih({find:m7,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=ih({find:m7,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(h7),editor:this.editor})),[t]}}),LY=Ks.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",Vn(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),Zje={};Jje(Zje,{findListItemPos:()=>xg,getNextListDepth:()=>sE,handleBackspace:()=>V_,handleDelete:()=>W_,hasListBefore:()=>$Y,hasListItemAfter:()=>eSe,hasListItemBefore:()=>FY,listItemHasSubList:()=>HY,nextListIsDeeper:()=>BY,nextListIsHigher:()=>zY});var xg=(t,e)=>{const{$from:r}=e.selection,n=ca(t,e.schema);let s=null,i=r.depth,o=r.pos,l=null;for(;i>0&&l===null;)s=r.node(i),s.type===n?l=i:(i-=1,o-=1);return l===null?null:{$pos:e.doc.resolve(o),depth:l}},sE=(t,e)=>{const r=xg(t,e);if(!r)return!1;const[,n]=Gve(e,t,r.$pos.pos+4);return n},$Y=(t,e,r)=>{const{$anchor:n}=t.selection,s=Math.max(0,n.pos-2),i=t.doc.resolve(s).node();return!(!i||!r.includes(i.type.name))},FY=(t,e)=>{var r;const{$anchor:n}=e.selection,s=e.doc.resolve(n.pos-2);return!(s.index()===0||((r=s.nodeBefore)==null?void 0:r.type.name)!==t)},HY=(t,e,r)=>{if(!r)return!1;const n=ca(t,e.schema);let s=!1;return r.descendants(i=>{i.type===n&&(s=!0)}),s},V_=(t,e,r)=>{if(t.commands.undoInputRule())return!0;if(t.state.selection.from!==t.state.selection.to)return!1;if(!Wc(t.state,e)&&$Y(t.state,e,r)){const{$anchor:l}=t.state.selection,c=t.state.doc.resolve(l.before()-1),d=[];c.node().descendants((x,y)=>{x.type.name===e&&d.push({node:x,pos:y})});const h=d.at(-1);if(!h)return!1;const m=t.state.doc.resolve(c.start()+h.pos+1);return t.chain().cut({from:l.start()-1,to:l.end()+1},m.end()).joinForward().run()}if(!Wc(t.state,e)||!Jve(t.state))return!1;const n=xg(e,t.state);if(!n)return!1;const i=t.state.doc.resolve(n.$pos.pos-2).node(n.depth),o=HY(e,t.state,i);return FY(e,t.state)&&!o?t.commands.joinItemBackward():t.chain().liftListItem(e).run()},BY=(t,e)=>{const r=sE(t,e),n=xg(t,e);return!n||!r?!1:r>n.depth},zY=(t,e)=>{const r=sE(t,e),n=xg(t,e);return!n||!r?!1:r<n.depth},W_=(t,e)=>{if(!Wc(t.state,e)||!Xve(t.state,e))return!1;const{selection:r}=t.state,{$from:n,$to:s}=r;return!r.empty&&n.sameParent(s)?!1:BY(e,t.state)?t.chain().focus(t.state.selection.from+4).lift(e).joinBackward().run():zY(e,t.state)?t.chain().joinForward().joinBackward().run():t.commands.joinItemForward()},eSe=(t,e)=>{var r;const{$anchor:n}=e.selection,s=e.doc.resolve(n.pos-n.parentOffset-2);return!(s.index()===s.parent.childCount-1||((r=s.nodeAfter)==null?void 0:r.type.name)!==t)},VY=fn.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:r})=>{t.state.schema.nodes[r]!==void 0&&W_(t,r)&&(e=!0)}),e},"Mod-Delete":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:r})=>{t.state.schema.nodes[r]!==void 0&&W_(t,r)&&(e=!0)}),e},Backspace:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:r,wrapperNames:n})=>{t.state.schema.nodes[r]!==void 0&&V_(t,r,n)&&(e=!0)}),e},"Mod-Backspace":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:r,wrapperNames:n})=>{t.state.schema.nodes[r]!==void 0&&V_(t,r,n)&&(e=!0)}),e}}}}),tSe="listItem",p7="textStyle",g7=/^(\d+)\.\s$/,WY=Ks.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:null,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...r}=t;return e===1?["ol",Vn(this.options.HTMLAttributes,r),0]:["ol",Vn(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(tSe,this.editor.getAttributes(p7)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=ih({find:g7,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,r)=>r.childCount+r.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=ih({find:g7,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(p7)}),joinPredicate:(e,r)=>r.childCount+r.attrs.start===+e[1],editor:this.editor})),[t]}}),rSe=/^\s*(\[([( |x])?\])\s$/,nSe=Ks.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:t=>{const e=t.getAttribute("data-checked");return e===""||e==="true"},renderHTML:t=>({"data-checked":t.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:t,HTMLAttributes:e}){return["li",Vn(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:t.attrs.checked?"checked":null}],["span"]],["div",0]]},addKeyboardShortcuts(){const t={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...t,Tab:()=>this.editor.commands.sinkListItem(this.name)}:t},addNodeView(){return({node:t,HTMLAttributes:e,getPos:r,editor:n})=>{const s=document.createElement("li"),i=document.createElement("label"),o=document.createElement("span"),l=document.createElement("input"),c=document.createElement("div"),d=h=>{var m,x;l.ariaLabel=((x=(m=this.options.a11y)==null?void 0:m.checkboxLabel)==null?void 0:x.call(m,h,l.checked))||`Task item checkbox for ${h.textContent||"empty task item"}`};return d(t),i.contentEditable="false",l.type="checkbox",l.addEventListener("mousedown",h=>h.preventDefault()),l.addEventListener("change",h=>{if(!n.isEditable&&!this.options.onReadOnlyChecked){l.checked=!l.checked;return}const{checked:m}=h.target;n.isEditable&&typeof r=="function"&&n.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:x})=>{const y=r();if(typeof y!="number")return!1;const w=x.doc.nodeAt(y);return x.setNodeMarkup(y,void 0,{...w==null?void 0:w.attrs,checked:m}),!0}).run(),!n.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(t,m)||(l.checked=!l.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([h,m])=>{s.setAttribute(h,m)}),s.dataset.checked=t.attrs.checked,l.checked=t.attrs.checked,i.append(l,o),s.append(i,c),Object.entries(e).forEach(([h,m])=>{s.setAttribute(h,m)}),{dom:s,contentDOM:c,update:h=>h.type!==this.type?!1:(s.dataset.checked=h.attrs.checked,l.checked=h.attrs.checked,d(h),!0)}}},addInputRules(){return[ih({find:rSe,type:this.type,getAttributes:t=>({checked:t[t.length-1]==="x"})})]}}),aSe=Ks.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:t}){return["ul",Vn(this.options.HTMLAttributes,t,{"data-type":this.name}),0]},addCommands(){return{toggleTaskList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});fn.create({name:"listKit",addExtensions(){const t=[];return this.options.bulletList!==!1&&t.push(IY.configure(this.options.bulletList)),this.options.listItem!==!1&&t.push(LY.configure(this.options.listItem)),this.options.listKeymap!==!1&&t.push(VY.configure(this.options.listKeymap)),this.options.orderedList!==!1&&t.push(WY.configure(this.options.orderedList)),this.options.taskItem!==!1&&t.push(nSe.configure(this.options.taskItem)),this.options.taskList!==!1&&t.push(aSe.configure(this.options.taskList)),t}});var sSe=Ks.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",Vn(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),iSe=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,oSe=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,lSe=Hl.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",Vn(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[cd({find:iSe,type:this.type})]},addPasteRules(){return[qc({find:oSe,type:this.type})]}}),cSe=Ks.create({name:"text",group:"inline"}),uSe=Hl.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",Vn(this.options.HTMLAttributes,t),0]},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}});function dSe(t={}){return new qn({view(e){return new fSe(e,t)}})}class fSe{constructor(e,r){var n;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(n=r.width)!==null&&n!==void 0?n:1,this.color=r.color===!1?void 0:r.color||"black",this.class=r.class,this.handlers=["dragover","dragend","drop","dragleave"].map(s=>{let i=o=>{this[s](o)};return e.dom.addEventListener(s,i),{name:s,handler:i}})}destroy(){this.handlers.forEach(({name:e,handler:r})=>this.editorView.dom.removeEventListener(e,r))}update(e,r){this.cursorPos!=null&&r.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),r=!e.parent.inlineContent,n,s=this.editorView.dom,i=s.getBoundingClientRect(),o=i.width/s.offsetWidth,l=i.height/s.offsetHeight;if(r){let m=e.nodeBefore,x=e.nodeAfter;if(m||x){let y=this.editorView.nodeDOM(this.cursorPos-(m?m.nodeSize:0));if(y){let w=y.getBoundingClientRect(),j=m?w.bottom:w.top;m&&x&&(j=(j+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let v=this.width/2*l;n={left:w.left,right:w.right,top:j-v,bottom:j+v}}}}if(!n){let m=this.editorView.coordsAtPos(this.cursorPos),x=this.width/2*o;n={left:m.left-x,right:m.left+x,top:m.top,bottom:m.bottom}}let c=this.editorView.dom.offsetParent;this.element||(this.element=c.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",r),this.element.classList.toggle("prosemirror-dropcursor-inline",!r);let d,h;if(!c||c==document.body&&getComputedStyle(c).position=="static")d=-pageXOffset,h=-pageYOffset;else{let m=c.getBoundingClientRect(),x=m.width/c.offsetWidth,y=m.height/c.offsetHeight;d=m.left-c.scrollLeft*x,h=m.top-c.scrollTop*y}this.element.style.left=(n.left-d)/o+"px",this.element.style.top=(n.top-h)/l+"px",this.element.style.width=(n.right-n.left)/o+"px",this.element.style.height=(n.bottom-n.top)/l+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let r=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),n=r&&r.inside>=0&&this.editorView.state.doc.nodeAt(r.inside),s=n&&n.type.spec.disableDropCursor,i=typeof s=="function"?s(this.editorView,r,e):s;if(r&&!i){let o=r.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let l=BU(this.editorView.state.doc,o,this.editorView.dragging.slice);l!=null&&(o=l)}this.setCursor(o),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}class Fn extends ur{constructor(e){super(e,e)}map(e,r){let n=e.resolve(r.map(this.head));return Fn.valid(n)?new Fn(n):ur.near(n)}content(){return _t.empty}eq(e){return e instanceof Fn&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new Fn(e.resolve(r.pos))}getBookmark(){return new iE(this.anchor)}static valid(e){let r=e.parent;if(r.isTextblock||!hSe(e)||!mSe(e))return!1;let n=r.type.spec.allowGapCursor;if(n!=null)return n;let s=r.contentMatchAt(e.index()).defaultType;return s&&s.isTextblock}static findGapCursorFrom(e,r,n=!1){e:for(;;){if(!n&&Fn.valid(e))return e;let s=e.pos,i=null;for(let o=e.depth;;o--){let l=e.node(o);if(r>0?e.indexAfter(o)<l.childCount:e.index(o)>0){i=l.child(r>0?e.indexAfter(o):e.index(o)-1);break}else if(o==0)return null;s+=r;let c=e.doc.resolve(s);if(Fn.valid(c))return c}for(;;){let o=r>0?i.firstChild:i.lastChild;if(!o){if(i.isAtom&&!i.isText&&!Gt.isSelectable(i)){e=e.doc.resolve(s+i.nodeSize*r),n=!1;continue e}break}i=o,s+=r;let l=e.doc.resolve(s);if(Fn.valid(l))return l}return null}}}Fn.prototype.visible=!1;Fn.findFrom=Fn.findGapCursorFrom;ur.jsonID("gapcursor",Fn);class iE{constructor(e){this.pos=e}map(e){return new iE(e.map(this.pos))}resolve(e){let r=e.resolve(this.pos);return Fn.valid(r)?new Fn(r):ur.near(r)}}function hSe(t){for(let e=t.depth;e>=0;e--){let r=t.index(e),n=t.node(e);if(r==0){if(n.type.spec.isolating)return!0;continue}for(let s=n.child(r-1);;s=s.lastChild){if(s.childCount==0&&!s.inlineContent||s.isAtom||s.type.spec.isolating)return!0;if(s.inlineContent)return!1}}return!0}function mSe(t){for(let e=t.depth;e>=0;e--){let r=t.indexAfter(e),n=t.node(e);if(r==n.childCount){if(n.type.spec.isolating)return!0;continue}for(let s=n.child(r);;s=s.firstChild){if(s.childCount==0&&!s.inlineContent||s.isAtom||s.type.spec.isolating)return!0;if(s.inlineContent)return!1}}return!0}function pSe(){return new qn({props:{decorations:bSe,createSelectionBetween(t,e,r){return e.pos==r.pos&&Fn.valid(r)?new Fn(r):null},handleClick:xSe,handleKeyDown:gSe,handleDOMEvents:{beforeinput:ySe}}})}const gSe=MG({ArrowLeft:yy("horiz",-1),ArrowRight:yy("horiz",1),ArrowUp:yy("vert",-1),ArrowDown:yy("vert",1)});function yy(t,e){const r=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(n,s,i){let o=n.selection,l=e>0?o.$to:o.$from,c=o.empty;if(o instanceof rr){if(!i.endOfTextblock(r)||l.depth==0)return!1;c=!1,l=n.doc.resolve(e>0?l.after():l.before())}let d=Fn.findGapCursorFrom(l,e,c);return d?(s&&s(n.tr.setSelection(new Fn(d))),!0):!1}}function xSe(t,e,r){if(!t||!t.editable)return!1;let n=t.state.doc.resolve(e);if(!Fn.valid(n))return!1;let s=t.posAtCoords({left:r.clientX,top:r.clientY});return s&&s.inside>-1&&Gt.isSelectable(t.state.doc.nodeAt(s.inside))?!1:(t.dispatch(t.state.tr.setSelection(new Fn(n))),!0)}function ySe(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof Fn))return!1;let{$from:r}=t.state.selection,n=r.parent.contentMatchAt(r.index()).findWrapping(t.state.schema.nodes.text);if(!n)return!1;let s=it.empty;for(let o=n.length-1;o>=0;o--)s=it.from(n[o].createAndFill(null,s));let i=t.state.tr.replace(r.pos,r.pos,new _t(s,0,0));return i.setSelection(rr.near(i.doc.resolve(r.pos+1))),t.dispatch(i),!1}function bSe(t){if(!(t.selection instanceof Fn))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",Mn.create(t.doc,[ss.widget(t.selection.head,e,{key:"gapcursor"})])}var _v=200,Ca=function(){};Ca.prototype.append=function(e){return e.length?(e=Ca.from(e),!this.length&&e||e.length<_v&&this.leafAppend(e)||this.length<_v&&e.leafPrepend(this)||this.appendInner(e)):this};Ca.prototype.prepend=function(e){return e.length?Ca.from(e).append(this):this};Ca.prototype.appendInner=function(e){return new vSe(this,e)};Ca.prototype.slice=function(e,r){return e===void 0&&(e=0),r===void 0&&(r=this.length),e>=r?Ca.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,r))};Ca.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Ca.prototype.forEach=function(e,r,n){r===void 0&&(r=0),n===void 0&&(n=this.length),r<=n?this.forEachInner(e,r,n,0):this.forEachInvertedInner(e,r,n,0)};Ca.prototype.map=function(e,r,n){r===void 0&&(r=0),n===void 0&&(n=this.length);var s=[];return this.forEach(function(i,o){return s.push(e(i,o))},r,n),s};Ca.from=function(e){return e instanceof Ca?e:e&&e.length?new qY(e):Ca.empty};var qY=(function(t){function e(n){t.call(this),this.values=n}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(s,i){return s==0&&i==this.length?this:new e(this.values.slice(s,i))},e.prototype.getInner=function(s){return this.values[s]},e.prototype.forEachInner=function(s,i,o,l){for(var c=i;c<o;c++)if(s(this.values[c],l+c)===!1)return!1},e.prototype.forEachInvertedInner=function(s,i,o,l){for(var c=i-1;c>=o;c--)if(s(this.values[c],l+c)===!1)return!1},e.prototype.leafAppend=function(s){if(this.length+s.length<=_v)return new e(this.values.concat(s.flatten()))},e.prototype.leafPrepend=function(s){if(this.length+s.length<=_v)return new e(s.flatten().concat(this.values))},r.length.get=function(){return this.values.length},r.depth.get=function(){return 0},Object.defineProperties(e.prototype,r),e})(Ca);Ca.empty=new qY([]);var vSe=(function(t){function e(r,n){t.call(this),this.left=r,this.right=n,this.length=r.length+n.length,this.depth=Math.max(r.depth,n.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(n){return n<this.left.length?this.left.get(n):this.right.get(n-this.left.length)},e.prototype.forEachInner=function(n,s,i,o){var l=this.left.length;if(s<l&&this.left.forEachInner(n,s,Math.min(i,l),o)===!1||i>l&&this.right.forEachInner(n,Math.max(s-l,0),Math.min(this.length,i)-l,o+l)===!1)return!1},e.prototype.forEachInvertedInner=function(n,s,i,o){var l=this.left.length;if(s>l&&this.right.forEachInvertedInner(n,s-l,Math.max(i,l)-l,o+l)===!1||i<l&&this.left.forEachInvertedInner(n,Math.min(s,l),i,o)===!1)return!1},e.prototype.sliceInner=function(n,s){if(n==0&&s==this.length)return this;var i=this.left.length;return s<=i?this.left.slice(n,s):n>=i?this.right.slice(n-i,s-i):this.left.slice(n,i).append(this.right.slice(0,s-i))},e.prototype.leafAppend=function(n){var s=this.right.leafAppend(n);if(s)return new e(this.left,s)},e.prototype.leafPrepend=function(n){var s=this.left.leafPrepend(n);if(s)return new e(s,this.right)},e.prototype.appendInner=function(n){return this.left.depth>=Math.max(this.right.depth,n.depth)+1?new e(this.left,new e(this.right,n)):new e(this,n)},e})(Ca);const wSe=500;class Bi{constructor(e,r){this.items=e,this.eventCount=r}popEvent(e,r){if(this.eventCount==0)return null;let n=this.items.length;for(;;n--)if(this.items.get(n-1).selection){--n;break}let s,i;r&&(s=this.remapping(n,this.items.length),i=s.maps.length);let o=e.tr,l,c,d=[],h=[];return this.items.forEach((m,x)=>{if(!m.step){s||(s=this.remapping(n,x+1),i=s.maps.length),i--,h.push(m);return}if(s){h.push(new ao(m.map));let y=m.step.map(s.slice(i)),w;y&&o.maybeStep(y).doc&&(w=o.mapping.maps[o.mapping.maps.length-1],d.push(new ao(w,void 0,void 0,d.length+h.length))),i--,w&&s.appendMap(w,i)}else o.maybeStep(m.step);if(m.selection)return l=s?m.selection.map(s.slice(i)):m.selection,c=new Bi(this.items.slice(0,n).append(h.reverse().concat(d)),this.eventCount-1),!1},this.items.length,0),{remaining:c,transform:o,selection:l}}addTransform(e,r,n,s){let i=[],o=this.eventCount,l=this.items,c=!s&&l.length?l.get(l.length-1):null;for(let h=0;h<e.steps.length;h++){let m=e.steps[h].invert(e.docs[h]),x=new ao(e.mapping.maps[h],m,r),y;(y=c&&c.merge(x))&&(x=y,h?i.pop():l=l.slice(0,l.length-1)),i.push(x),r&&(o++,r=void 0),s||(c=x)}let d=o-n.depth;return d>SSe&&(l=jSe(l,d),o-=d),new Bi(l.append(i),o)}remapping(e,r){let n=new c0;return this.items.forEach((s,i)=>{let o=s.mirrorOffset!=null&&i-s.mirrorOffset>=e?n.maps.length-s.mirrorOffset:void 0;n.appendMap(s.map,o)},e,r),n}addMaps(e){return this.eventCount==0?this:new Bi(this.items.append(e.map(r=>new ao(r))),this.eventCount)}rebased(e,r){if(!this.eventCount)return this;let n=[],s=Math.max(0,this.items.length-r),i=e.mapping,o=e.steps.length,l=this.eventCount;this.items.forEach(x=>{x.selection&&l--},s);let c=r;this.items.forEach(x=>{let y=i.getMirror(--c);if(y==null)return;o=Math.min(o,y);let w=i.maps[y];if(x.step){let j=e.steps[y].invert(e.docs[y]),v=x.selection&&x.selection.map(i.slice(c+1,y));v&&l++,n.push(new ao(w,j,v))}else n.push(new ao(w))},s);let d=[];for(let x=r;x<o;x++)d.push(new ao(i.maps[x]));let h=this.items.slice(0,s).append(d).append(n),m=new Bi(h,l);return m.emptyItemCount()>wSe&&(m=m.compress(this.items.length-n.length)),m}emptyItemCount(){let e=0;return this.items.forEach(r=>{r.step||e++}),e}compress(e=this.items.length){let r=this.remapping(0,e),n=r.maps.length,s=[],i=0;return this.items.forEach((o,l)=>{if(l>=e)s.push(o),o.selection&&i++;else if(o.step){let c=o.step.map(r.slice(n)),d=c&&c.getMap();if(n--,d&&r.appendMap(d,n),c){let h=o.selection&&o.selection.map(r.slice(n));h&&i++;let m=new ao(d.invert(),c,h),x,y=s.length-1;(x=s.length&&s[y].merge(m))?s[y]=x:s.push(m)}}else o.map&&n--},this.items.length,0),new Bi(Ca.from(s.reverse()),i)}}Bi.empty=new Bi(Ca.empty,0);function jSe(t,e){let r;return t.forEach((n,s)=>{if(n.selection&&e--==0)return r=s,!1}),t.slice(r)}class ao{constructor(e,r,n,s){this.map=e,this.step=r,this.selection=n,this.mirrorOffset=s}merge(e){if(this.step&&e.step&&!e.selection){let r=e.step.merge(this.step);if(r)return new ao(r.getMap().invert(),r,this.selection)}}}class vc{constructor(e,r,n,s,i){this.done=e,this.undone=r,this.prevRanges=n,this.prevTime=s,this.prevComposition=i}}const SSe=20;function NSe(t,e,r,n){let s=r.getMeta(Ju),i;if(s)return s.historyState;r.getMeta(TSe)&&(t=new vc(t.done,t.undone,null,0,-1));let o=r.getMeta("appendedTransaction");if(r.steps.length==0)return t;if(o&&o.getMeta(Ju))return o.getMeta(Ju).redo?new vc(t.done.addTransform(r,void 0,n,lb(e)),t.undone,x7(r.mapping.maps),t.prevTime,t.prevComposition):new vc(t.done,t.undone.addTransform(r,void 0,n,lb(e)),null,t.prevTime,t.prevComposition);if(r.getMeta("addToHistory")!==!1&&!(o&&o.getMeta("addToHistory")===!1)){let l=r.getMeta("composition"),c=t.prevTime==0||!o&&t.prevComposition!=l&&(t.prevTime<(r.time||0)-n.newGroupDelay||!kSe(r,t.prevRanges)),d=o?y2(t.prevRanges,r.mapping):x7(r.mapping.maps);return new vc(t.done.addTransform(r,c?e.selection.getBookmark():void 0,n,lb(e)),Bi.empty,d,r.time,l??t.prevComposition)}else return(i=r.getMeta("rebased"))?new vc(t.done.rebased(r,i),t.undone.rebased(r,i),y2(t.prevRanges,r.mapping),t.prevTime,t.prevComposition):new vc(t.done.addMaps(r.mapping.maps),t.undone.addMaps(r.mapping.maps),y2(t.prevRanges,r.mapping),t.prevTime,t.prevComposition)}function kSe(t,e){if(!e)return!1;if(!t.docChanged)return!0;let r=!1;return t.mapping.maps[0].forEach((n,s)=>{for(let i=0;i<e.length;i+=2)n<=e[i+1]&&s>=e[i]&&(r=!0)}),r}function x7(t){let e=[];for(let r=t.length-1;r>=0&&e.length==0;r--)t[r].forEach((n,s,i,o)=>e.push(i,o));return e}function y2(t,e){if(!t)return null;let r=[];for(let n=0;n<t.length;n+=2){let s=e.map(t[n],1),i=e.map(t[n+1],-1);s<=i&&r.push(s,i)}return r}function CSe(t,e,r){let n=lb(e),s=Ju.get(e).spec.config,i=(r?t.undone:t.done).popEvent(e,n);if(!i)return null;let o=i.selection.resolve(i.transform.doc),l=(r?t.done:t.undone).addTransform(i.transform,e.selection.getBookmark(),s,n),c=new vc(r?l:i.remaining,r?i.remaining:l,null,0,-1);return i.transform.setSelection(o).setMeta(Ju,{redo:r,historyState:c})}let b2=!1,y7=null;function lb(t){let e=t.plugins;if(y7!=e){b2=!1,y7=e;for(let r=0;r<e.length;r++)if(e[r].spec.historyPreserveItems){b2=!0;break}}return b2}const Ju=new _a("history"),TSe=new _a("closeHistory");function _Se(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new qn({key:Ju,state:{init(){return new vc(Bi.empty,Bi.empty,null,0,-1)},apply(e,r,n){return NSe(r,n,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,r){let n=r.inputType,s=n=="historyUndo"?GY:n=="historyRedo"?YY:null;return s?(r.preventDefault(),s(e.state,e.dispatch)):!1}}}})}function UY(t,e){return(r,n)=>{let s=Ju.getState(r);if(!s||(t?s.undone:s.done).eventCount==0)return!1;if(n){let i=CSe(s,r,t);i&&n(e?i.scrollIntoView():i)}return!0}}const GY=UY(!1,!0),YY=UY(!0,!0);fn.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:t=>t.length,wordCounter:t=>t.split(" ").filter(e=>e!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=t=>{const e=(t==null?void 0:t.node)||this.editor.state.doc;if(((t==null?void 0:t.mode)||this.options.mode)==="textSize"){const n=e.textBetween(0,e.content.size,void 0," ");return this.options.textCounter(n)}return e.nodeSize},this.storage.words=t=>{const e=(t==null?void 0:t.node)||this.editor.state.doc,r=e.textBetween(0,e.content.size," "," ");return this.options.wordCounter(r)}},addProseMirrorPlugins(){let t=!1;return[new qn({key:new _a("characterCount"),appendTransaction:(e,r,n)=>{if(t)return;const s=this.options.limit;if(s==null||s===0){t=!0;return}const i=this.storage.characters({node:n.doc});if(i>s){const o=i-s,l=0,c=o;console.warn(`[CharacterCount] Initial content exceeded limit of ${s} characters. Content was automatically trimmed.`);const d=n.tr.deleteRange(l,c);return t=!0,d}t=!0},filterTransaction:(e,r)=>{const n=this.options.limit;if(!e.docChanged||n===0||n===null||n===void 0)return!0;const s=this.storage.characters({node:r.doc}),i=this.storage.characters({node:e.doc});if(i<=n||s>n&&i>n&&i<=s)return!0;if(s>n&&i>n&&i>s||!e.getMeta("paste"))return!1;const l=e.selection.$head.pos,c=i-n,d=l-c,h=l;return e.deleteRange(d,h),!(this.storage.characters({node:e.doc})>n)}})]}});var MSe=fn.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[dSe(this.options)]}});fn.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new qn({key:new _a("focus"),props:{decorations:({doc:t,selection:e})=>{const{isEditable:r,isFocused:n}=this.editor,{anchor:s}=e,i=[];if(!r||!n)return Mn.create(t,[]);let o=0;this.options.mode==="deepest"&&t.descendants((c,d)=>{if(c.isText)return;if(!(s>=d&&s<=d+c.nodeSize-1))return!1;o+=1});let l=0;return t.descendants((c,d)=>{if(c.isText||!(s>=d&&s<=d+c.nodeSize-1))return!1;if(l+=1,this.options.mode==="deepest"&&o-l>0||this.options.mode==="shallowest"&&l>1)return this.options.mode==="deepest";i.push(ss.node(d,d+c.nodeSize,{class:this.options.className}))}),Mn.create(t,i)}}})]}});var ASe=fn.create({name:"gapCursor",addProseMirrorPlugins(){return[pSe()]},extendNodeSchema(t){var e;const r={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=Qr(Wt(t,"allowGapCursor",r)))!=null?e:null}}});fn.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new qn({key:new _a("placeholder"),props:{decorations:({doc:t,selection:e})=>{const r=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:n}=e,s=[];if(!r)return null;const i=this.editor.isEmpty;return t.descendants((o,l)=>{const c=n>=l&&n<=l+o.nodeSize,d=!o.isLeaf&&s1(o);if((c||!this.options.showOnlyCurrent)&&d){const h=[this.options.emptyNodeClass];i&&h.push(this.options.emptyEditorClass);const m=ss.node(l,l+o.nodeSize,{class:h.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:o,pos:l,hasAnchor:c}):this.options.placeholder});s.push(m)}return this.options.includeChildren}),Mn.create(t,s)}}})]}});fn.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:t,options:e}=this;return[new qn({key:new _a("selection"),props:{decorations(r){return r.selection.empty||t.isFocused||!t.isEditable||eY(r.selection)||t.view.dragging?null:Mn.create(r.doc,[ss.inline(r.selection.from,r.selection.to,{class:e.className})])}}})]}});function b7({types:t,node:e}){return e&&Array.isArray(t)&&t.includes(e.type)||(e==null?void 0:e.type)===t}var OSe=fn.create({name:"trailingNode",addOptions(){return{node:"paragraph",notAfter:[]}},addProseMirrorPlugins(){const t=new _a(this.name),e=Object.entries(this.editor.schema.nodes).map(([,r])=>r).filter(r=>(this.options.notAfter||[]).concat(this.options.node).includes(r.name));return[new qn({key:t,appendTransaction:(r,n,s)=>{const{doc:i,tr:o,schema:l}=s,c=t.getState(s),d=i.content.size,h=l.nodes[this.options.node];if(c)return o.insert(d,h.create())},state:{init:(r,n)=>{const s=n.tr.doc.lastChild;return!b7({node:s,types:e})},apply:(r,n)=>{if(!r.docChanged)return n;const s=r.doc.lastChild;return!b7({node:s,types:e})}}})]}}),ESe=fn.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>GY(t,e),redo:()=>({state:t,dispatch:e})=>YY(t,e)}},addProseMirrorPlugins(){return[_Se(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),DSe=fn.create({name:"starterKit",addExtensions(){var t,e,r,n;const s=[];return this.options.bold!==!1&&s.push(Pje.configure(this.options.bold)),this.options.blockquote!==!1&&s.push(Mje.configure(this.options.blockquote)),this.options.bulletList!==!1&&s.push(IY.configure(this.options.bulletList)),this.options.code!==!1&&s.push(Lje.configure(this.options.code)),this.options.codeBlock!==!1&&s.push(Hje.configure(this.options.codeBlock)),this.options.document!==!1&&s.push(Bje.configure(this.options.document)),this.options.dropcursor!==!1&&s.push(MSe.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&s.push(ASe.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&s.push(zje.configure(this.options.hardBreak)),this.options.heading!==!1&&s.push(Vje.configure(this.options.heading)),this.options.undoRedo!==!1&&s.push(ESe.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&s.push(Wje.configure(this.options.horizontalRule)),this.options.italic!==!1&&s.push(Kje.configure(this.options.italic)),this.options.listItem!==!1&&s.push(LY.configure(this.options.listItem)),this.options.listKeymap!==!1&&s.push(VY.configure((t=this.options)==null?void 0:t.listKeymap)),this.options.link!==!1&&s.push(OY.configure((e=this.options)==null?void 0:e.link)),this.options.orderedList!==!1&&s.push(WY.configure(this.options.orderedList)),this.options.paragraph!==!1&&s.push(sSe.configure(this.options.paragraph)),this.options.strike!==!1&&s.push(lSe.configure(this.options.strike)),this.options.text!==!1&&s.push(cSe.configure(this.options.text)),this.options.underline!==!1&&s.push(uSe.configure((r=this.options)==null?void 0:r.underline)),this.options.trailingNode!==!1&&s.push(OSe.configure((n=this.options)==null?void 0:n.trailingNode)),s}}),PSe=DSe,RSe=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))$/,ISe=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))/g,LSe=Hl.create({name:"highlight",addOptions(){return{multicolor:!1,HTMLAttributes:{}}},addAttributes(){return this.options.multicolor?{color:{default:null,parseHTML:t=>t.getAttribute("data-color")||t.style.backgroundColor,renderHTML:t=>t.color?{"data-color":t.color,style:`background-color: ${t.color}; color: inherit`}:{}}}:{}},parseHTML(){return[{tag:"mark"}]},renderHTML({HTMLAttributes:t}){return["mark",Vn(this.options.HTMLAttributes,t),0]},addCommands(){return{setHighlight:t=>({commands:e})=>e.setMark(this.name,t),toggleHighlight:t=>({commands:e})=>e.toggleMark(this.name,t),unsetHighlight:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-h":()=>this.editor.commands.toggleHighlight()}},addInputRules(){return[cd({find:RSe,type:this.type})]},addPasteRules(){return[qc({find:ISe,type:this.type})]}}),$Se=LSe;const FSe=[A1e,PSe.configure({bold:{HTMLAttributes:{class:"font-bold"}},italic:{HTMLAttributes:{class:"italic"}},strike:{HTMLAttributes:{class:"line-through"}},underline:{HTMLAttributes:{class:"underline"}}}),D1e.configure({types:["textStyle"]}),$Se.configure({multicolor:!0}),P1e.configure({types:["textStyle"]}),sje.configure({openOnClick:!1,HTMLAttributes:{class:"text-blue-500 underline hover:text-blue-700 cursor-pointer"}}),E1e.configure({types:["heading","paragraph"],alignments:["left","center","right","justify"]})],HSe=({editor:t,onClose:e})=>{const[r,n]=g.useState(()=>t.getAttributes("link").href||""),[s,i]=g.useState(()=>({from:t.state.selection.from,to:t.state.selection.to})),[o,l]=g.useState(()=>{try{const{from:h,to:m}=t.state.selection;return h===m?"":t.state.doc.textBetween(h,m)||""}catch{return""}}),c=()=>{t.chain().focus().setTextSelection(s).run(),r?o?t.chain().focus().extendMarkRange("link").setLink({href:r}).run():t.chain().focus().insertContent({type:"text",text:o||r,marks:[{type:"link",attrs:{href:r}}]}).run():t.chain().focus().unsetLink().run(),e()},d=()=>{t.chain().focus().setTextSelection(s).run(),t.chain().focus().unsetLink().run(),e()};return a.jsx("div",{className:"fixed inset-0 backdrop-brightness-50 bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 w-96",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Add/Edit Link"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"URL"}),a.jsx("input",{type:"url",value:r,onChange:h=>n(h.target.value),placeholder:"https://example.com",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",autoFocus:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Text ",!o&&a.jsx("span",{className:"text-orange-500",children:"(required if no text selected)"})]}),a.jsx("input",{type:"text",value:o,onChange:h=>l(h.target.value),placeholder:o||"Enter link text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),!o&&a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"No text selected. Enter text above or select text first."})]})]}),a.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[a.jsx("button",{onClick:e,className:"px-4 py-2 text-sm text-gray-600 hover:text-gray-800 transition-colors",children:"Cancel"}),t.getAttributes("link").href&&a.jsx("button",{onClick:d,className:"px-4 py-2 text-sm text-red-600 hover:text-red-800 transition-colors",children:"Remove Link"}),a.jsx("button",{onClick:c,disabled:!r,className:"px-4 py-2 text-sm bg-blue-500 text-white rounded-md hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Save Link"})]})]})})},BSe=({editor:t,type:e,onClose:r})=>{const n=["#000000","#FFFFFF","#FF0000","#00FF00","#0000FF","#FFFF00","#FF00FF","#00FFFF","#FFA500","#800080","#008000","#800000","#008080","#000080","#808080","#FFE4E1","#F0FFF0","#F0F8FF","#FFF8DC","#F5F5F5"],s=e==="color"?t.getAttributes("textStyle").color:t.getAttributes("highlight").color,i=l=>{e==="color"?t.chain().focus().setColor(l).run():t.chain().focus().setHighlight({color:l}).run(),r()},o=()=>{e==="color"?t.chain().focus().unsetColor().run():t.chain().focus().unsetHighlight().run(),r()};return a.jsx("div",{className:"fixed inset-0 backdrop-brightness-50 bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 w-80",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:e==="color"?"Text Color":"Background Color"}),a.jsx("div",{className:"grid grid-cols-5 gap-2 mb-4",children:n.map(l=>a.jsx("button",{onClick:()=>i(l),className:`w-8 h-8 rounded border border-gray-300 ${s===l?"ring-2 ring-blue-500":""}`,style:{backgroundColor:l},title:l},l))}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("button",{onClick:o,className:"px-4 py-2 text-sm text-red-600 hover:text-red-800 transition-colors",children:"Remove Color"}),a.jsx("button",{onClick:r,className:"px-4 py-2 text-sm text-gray-600 hover:text-gray-800 transition-colors",children:"Close"})]})]})})};function zSe({editor:t}){const[e,r]=g.useState(!1),[n,s]=g.useState(null),[i,o]=g.useState(!1);if(!t)return null;const l=PY({editor:t,selector:d=>({isBold:d.editor.isActive("bold")??!1,canBold:d.editor.can().chain().toggleBold().run()??!1,isItalic:d.editor.isActive("italic")??!1,canItalic:d.editor.can().chain().toggleItalic().run()??!1,isStrike:d.editor.isActive("strike")??!1,canStrike:d.editor.can().chain().toggleStrike().run()??!1,isCode:d.editor.isActive("code")??!1,canCode:d.editor.can().chain().toggleCode().run()??!1,isLink:d.editor.isActive("link")??!1,currentColor:d.editor.getAttributes("textStyle").color,currentBackgroundColor:d.editor.getAttributes("highlight").color,currentFontFamily:d.editor.getAttributes("textStyle").fontFamily,isAlignLeft:d.editor.isActive({textAlign:"left"})??!1,isAlignCenter:d.editor.isActive({textAlign:"center"})??!1,isAlignRight:d.editor.isActive({textAlign:"right"})??!1,isAlignJustify:d.editor.isActive({textAlign:"justify"})??!1,canClearMarks:d.editor.can().chain().unsetAllMarks().run()??!1,isParagraph:d.editor.isActive("paragraph")??!1,isHeading1:d.editor.isActive("heading",{level:1})??!1,isHeading2:d.editor.isActive("heading",{level:2})??!1,isHeading3:d.editor.isActive("heading",{level:3})??!1,isBulletList:d.editor.isActive("bulletList")??!1,isOrderedList:d.editor.isActive("orderedList")??!1,canUndo:d.editor.can().chain().undo().run()??!1,canRedo:d.editor.can().chain().redo().run()??!1})}),c=["Arial, sans-serif","Georgia, serif","Times New Roman, serif","Helvetica, sans-serif","Courier New, monospace","Verdana, sans-serif","Trebuchet MS, sans-serif","Comic Sans MS, cursive"];return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"border-b border-gray-200 bg-gray-50 p-2 sm:p-3",children:a.jsxs("div",{className:"flex flex-wrap gap-1 sm:gap-2",children:[a.jsxs("div",{className:"flex items-center gap-1 sm:gap-1",children:[a.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleBold().run(),disabled:!l.canBold,className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isBold?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Bold",children:a.jsx(joe,{size:18})}),a.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleItalic().run(),disabled:!l.canItalic,className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isItalic?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Italic",children:a.jsx(Cle,{size:18})}),a.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleStrike().run(),disabled:!l.canStrike,className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isStrike?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Strikethrough",children:a.jsx(jce,{size:18})}),a.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleCode().run(),disabled:!l.canCode,className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isCode?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Code",children:a.jsx(Uoe,{size:18})})]}),a.jsx("div",{className:"w-px bg-gray-300 mx-1"}),a.jsxs("div",{className:"flex items-center gap-1 sm:gap-1",children:[a.jsx("button",{type:"button",onClick:()=>t.chain().focus().setTextAlign("left").run(),className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isAlignLeft?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Align Left",children:a.jsx(foe,{size:18})}),a.jsx("button",{type:"button",onClick:()=>t.chain().focus().setTextAlign("center").run(),className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isAlignCenter?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Align Center",children:a.jsx(loe,{size:18})}),a.jsx("button",{type:"button",onClick:()=>t.chain().focus().setTextAlign("right").run(),className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isAlignRight?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Align Right",children:a.jsx(moe,{size:18})}),a.jsx("button",{type:"button",onClick:()=>t.chain().focus().setTextAlign("justify").run(),className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isAlignJustify?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Justify",children:a.jsx(uoe,{size:18})})]}),a.jsx("div",{className:"w-px bg-gray-300 mx-1"}),a.jsxs("div",{className:"flex items-center gap-1 sm:gap-1",children:[a.jsxs("button",{type:"button",onClick:()=>s("color"),className:"p-2 text-sm rounded border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 transition-colors flex items-center justify-center relative",title:"Text Color",children:[a.jsx(Jle,{size:18}),l.currentColor&&a.jsx("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 rounded-full border border-white",style:{backgroundColor:l.currentColor}})]}),a.jsxs("button",{type:"button",onClick:()=>s("backgroundColor"),className:"p-2 text-sm rounded border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 transition-colors flex items-center justify-center relative",title:"Background Color",children:[a.jsx(Kle,{size:18}),l.currentBackgroundColor&&a.jsx("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 rounded-full border border-white",style:{backgroundColor:l.currentBackgroundColor}})]})]}),a.jsx("div",{className:"w-px bg-gray-300 mx-1"}),a.jsxs("div",{className:"flex items-center gap-1 sm:gap-1 relative",children:[a.jsx("button",{type:"button",onClick:()=>o(!i),className:"p-2 text-sm rounded border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 transition-colors flex items-center justify-center",title:"Font Family",children:a.jsx(HW,{size:18})}),i&&a.jsxs("div",{className:"absolute top-full left-0 mt-1 bg-white border border-gray-300 rounded-md shadow-lg z-10 w-48",children:[c.map(d=>a.jsx("button",{onClick:()=>{t.chain().focus().setFontFamily(d).run(),o(!1)},className:"w-full px-3 py-2 text-left hover:bg-gray-50 transition-colors",style:{fontFamily:d},children:d.split(",")[0]},d)),a.jsx("button",{type:"button",onClick:()=>{t.chain().focus().unsetFontFamily().run(),o(!1)},className:"w-full px-3 py-2 text-left hover:bg-gray-50 transition-colors text-red-600",children:"Reset Font"})]})]}),a.jsx("div",{className:"w-px bg-gray-300 mx-1"}),a.jsx("button",{type:"button",onClick:d=>{d.preventDefault(),d.stopPropagation(),r(!0)},className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isLink?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Insert Link",children:a.jsx(Ale,{size:18})}),a.jsx("div",{className:"w-px bg-gray-300 mx-1"}),a.jsxs("div",{className:"flex items-center gap-1 sm:gap-1",children:[a.jsx("button",{type:"button",onClick:()=>t.chain().focus().unsetAllMarks().run(),className:"p-2 text-sm rounded border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 transition-colors flex items-center justify-center",title:"Clear formatting",children:a.jsx(fce,{size:18})}),a.jsx("button",{type:"button",onClick:()=>t.chain().focus().clearNodes().run(),className:"p-2 text-sm rounded border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 transition-colors flex items-center justify-center",title:"Clear nodes",children:a.jsx(dn,{size:18})})]}),a.jsx("div",{className:"w-px bg-gray-300 mx-1"}),a.jsxs("div",{className:"flex items-center gap-1 sm:gap-1",children:[a.jsx("button",{type:"button",onClick:()=>t.chain().focus().setParagraph().run(),className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isParagraph?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Paragraph",children:a.jsx(tce,{size:18})}),a.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleHeading({level:1}).run(),className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isHeading1?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Heading 1",children:a.jsx(gle,{size:18})}),a.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleHeading({level:2}).run(),className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isHeading2?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Heading 2",children:a.jsx(yle,{size:18})}),a.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleHeading({level:3}).run(),className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isHeading3?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Heading 3",children:a.jsx(vle,{size:18})})]}),a.jsx("div",{className:"w-px bg-gray-300 mx-1"}),a.jsxs("div",{className:"flex items-center gap-1 sm:gap-1",children:[a.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleBulletList().run(),className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isBulletList?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Bullet List",children:a.jsx($W,{size:18})}),a.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleOrderedList().run(),className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isOrderedList?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Ordered List",children:a.jsx(Ple,{size:18})})]}),a.jsx("div",{className:"w-px bg-gray-300 mx-1"}),a.jsxs("div",{className:"flex items-center gap-1 sm:gap-1",children:[a.jsx("button",{type:"button",onClick:()=>t.chain().focus().undo().run(),disabled:!l.canUndo,className:"p-2 text-sm rounded border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center",title:"Undo",children:a.jsx(Ace,{size:18})}),a.jsx("button",{type:"button",onClick:()=>t.chain().focus().redo().run(),disabled:!l.canRedo,className:"p-2 text-sm rounded border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center",title:"Redo",children:a.jsx(lce,{size:18})})]})]})}),e&&a.jsx(HSe,{editor:t,onClose:()=>r(!1)}),n&&a.jsx(BSe,{editor:t,type:n,onClose:()=>s(null)})]})}const Ol=({value:t,onChange:e})=>{const r=Nje({extensions:FSe,content:t,onUpdate:({editor:n})=>{const s=n.getHTML();e(s)},editorProps:{attributes:{class:"tiptap-editor min-h-[120px] p-4 prose max-w-none focus:outline-none"},transformPastedHTML(n){return n}},parseOptions:{preserveWhitespace:"full"}});return r?a.jsxs("div",{className:"border border-gray-300 rounded-lg focus-within:ring-2 focus-within:ring-blue-500 focus-within:border-blue-500 bg-white transition-all duration-200",children:[a.jsx(zSe,{editor:r}),a.jsx(yje,{editor:r,className:"min-h-[120px]"})]}):a.jsx("div",{className:"border border-gray-300 rounded-lg p-4 min-h-[120px] bg-gray-50 flex items-center justify-center",children:a.jsx("div",{className:"text-gray-500",children:"Loading editor..."})})},VSe=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(C.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(at,{size:24})})]}),a.jsx("div",{children:n})]})}):null,WSe=()=>{var Le,Oe,xe,Me,Be,re,se;const{getAllMasterData:t,submitMachineHistory:e}=St(),r=jt(),[n,s]=g.useState(!1),[i,o]=g.useState(null),[l,c]=g.useState(null),[d,h]=g.useState(!1),[m,x]=g.useState(()=>{const ee=localStorage.getItem("sidebarOpen");return ee?JSON.parse(ee):!1}),y=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!m)),x(ee=>!ee)},[w,j]=g.useState(window.innerWidth<768),[v,N]=g.useState([]),[T,S]=g.useState([]),[O,_]=g.useState([]),[A,E]=g.useState([]),[D,$]=g.useState([]),[I,L]=g.useState([]),[R,z]=g.useState([]),[Y,W]=g.useState([]),[H,P]=g.useState([]),F={date:new Date().toISOString().split("T")[0],shift:"",group:"",stopJam:0,stopMenit:0,startJam:0,startMenit:0,stopTime:"",unit:"",mesin:"",runningHour:0,itemTrouble:"",jenisGangguan:"",bentukTindakan:"",perbaikanPerawatan:"",rootCause:"",jenisAktivitas:"",kegiatan:"",kodePart:"",sparePart:"",idPart:"",jumlah:0,unitSparePart:""},[X,te]=g.useState(F),q=g.useCallback((ee,ve)=>{if(ee&&typeof ee=="object"&&"value"in ee&&ve)te(Ge=>({...Ge,[ve]:ee.value}));else if(ee&&"target"in ee){const{name:Ge,value:Ke}=ee.target;te(ye=>{if(["stopJam","startJam"].includes(Ge)){const ot=Ke.replace(/[^\d]/g,""),mt=parseInt(ot,10);return{...ye,[Ge]:ot===""?0:Math.max(0,Math.min(23,isNaN(mt)?0:mt))}}if(["stopMenit","startMenit"].includes(Ge)){const ot=Ke.replace(/[^\d]/g,""),mt=parseInt(ot,10);return{...ye,[Ge]:ot===""?0:Math.max(0,Math.min(59,isNaN(mt)?0:mt))}}return Ge==="runningHour"||Ge==="jumlah"?{...ye,[Ge]:Ke.replace(/[^\d.]/g,"")}:{...ye,[Ge]:Ke}})}},[]),Z=g.useCallback(ee=>{if(typeof ee=="string"){const ve=ee.replace(/[^\d]/g,""),Ge=parseInt(ve,10);return isNaN(Ge)?"":Ge.toLocaleString("id-ID").replace(/,/g,".")}return isNaN(ee)||ee===null||ee===void 0?"":ee.toLocaleString("id-ID").replace(/,/g,".")},[]),ie=async ee=>{ee.preventDefault(),s(!0),o(null),c(null);const ve={...X,perbaikanPerawatan:X.jenisAktivitas==="Perbaikan"?"Perbaikan":"Perawatan",runningHour:X.runningHour?parseInt(String(X.runningHour).replace(/\./g,""),10):0,jumlah:X.jumlah?parseInt(String(X.jumlah).replace(/\./g,""),10):0,stopJam:X.stopJam===0&&String(X.stopJam)===""?null:X.stopJam,stopMenit:X.stopMenit===0&&String(X.stopMenit)===""?null:X.stopMenit,startJam:X.startJam===0&&String(X.startJam)===""?null:X.startJam,startMenit:X.startMenit===0&&String(X.startMenit)===""?null:X.startMenit};try{await e(ve),c("Data history mesin berhasil disimpan!"),h(!0),oe()}catch(Ge){o(Ge.message||"Gagal menyimpan data history mesin. Silakan coba lagi."),console.error("Submission error:",Ge)}finally{s(!1)}},oe=g.useCallback(()=>{te(F),o(null),c(null)},[]),le=g.useCallback(()=>{h(!1),r("/machinehistory")},[r]);g.useEffect(()=>{(async()=>{var ve,Ge,Ke,ye,ot,mt,nt,xt,Nt;try{const wt=await t();N(((ve=wt.mesin)==null?void 0:ve.data)||[]),S(((Ge=wt.shifts)==null?void 0:Ge.data)||[]),_(((Ke=wt.groups)==null?void 0:Ke.data)||[]),E(((ye=wt.stoptimes)==null?void 0:ye.data)||[]),$(((ot=wt.units)==null?void 0:ot.data)||[]),L(((mt=wt.itemtroubles)==null?void 0:mt.data)||[]),z(((nt=wt.jenisaktivitas)==null?void 0:nt.data)||[]),W(((xt=wt.kegiatans)==null?void 0:xt.data)||[]),P(((Nt=wt.unitspareparts)==null?void 0:Nt.data)||[])}catch(wt){console.error("Gagal mengambil semua data master:",wt),o(wt.message||"Gagal memuat daftar data master.")}})()},[t]);const ge={control:(ee,ve)=>({...ee,minHeight:"42px",borderColor:ve.isFocused?"#3B82F6":"#D1D5DB",boxShadow:ve.isFocused?"0 0 0 1px #3B82F6":"none","&:hover":{borderColor:"#9CA3AF"},borderRadius:"0.5rem",backgroundColor:"#FFFFFF",padding:"0 0.5rem",transition:"all 0.15s ease-in-out"}),valueContainer:ee=>({...ee,padding:"0"}),singleValue:ee=>({...ee,color:"#374151"}),placeholder:ee=>({...ee,color:"#6B7280"}),dropdownIndicator:ee=>({...ee,color:"#9CA3AF","&:hover":{color:"#6B7280"}}),indicatorSeparator:ee=>({...ee,display:"none"}),menu:ee=>({...ee,zIndex:9999,borderRadius:"0.5rem",border:"1px solid #E5E7EB",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"}),option:(ee,ve)=>({...ee,backgroundColor:ve.isFocused?"#EFF6FF":"#FFFFFF",color:"#1F2937","&:active":{backgroundColor:"#DBEAFE"},padding:"0.625rem 1rem"})};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Mt,{mainTitle:"Add Machine History",mainTitleHighlight:"Machine History",description:"Manage activities and their configurations within the system.",icon:a.jsx(og,{}),isMobile:w,toggleSidebar:y}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Record New Machine History"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Fill in the details for machine maintenance and issues"})]}),a.jsxs(C.button,{onClick:()=>r("/machinehistory"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(kr,{className:"text-lg"})," Back to History"]})]}),a.jsxs(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[i&&a.jsxs(C.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:i}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(at,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>o(null)})})]}),a.jsxs("form",{onSubmit:ie,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(Lt,{className:"mr-2 text-blue-500"})," General Information"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"date",className:"block text-sm font-medium text-gray-700 mb-1",children:["Date ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"date",name:"date",id:"date",value:X.date,onChange:q,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"shift",className:"block text-sm font-medium text-gray-700 mb-1",children:["Shift ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Er,{name:"shift",id:"shift",options:(T||[]).map(ee=>({value:ee.id,label:ee.name})),value:T.map(ee=>({value:ee.id,label:ee.name})).find(ee=>ee.value===X.shift),onChange:ee=>q(ee,"shift"),placeholder:"Select Shift",styles:ge,required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"group",className:"block text-sm font-medium text-gray-700 mb-1",children:["Group ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Er,{name:"group",id:"group",options:(O||[]).map(ee=>({value:ee.id,label:ee.name})),value:O.map(ee=>({value:ee.id,label:ee.name})).find(ee=>ee.value===X.group),onChange:ee=>q(ee,"group"),placeholder:"Select Group",styles:ge,required:!0})]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(Lt,{className:"mr-2 text-indigo-500"})," Time Details"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Start Time ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"number",name:"startJam",id:"startJam",value:X.startJam===null?"":X.startJam,onChange:q,min:"0",max:"23",placeholder:"HH",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0}),a.jsx("span",{className:"text-gray-500 text-lg",children:":"}),a.jsx("input",{type:"number",name:"startMenit",id:"startMenit",value:X.startMenit===null?"":X.startMenit,onChange:q,min:"0",max:"59",placeholder:"MM",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Stop Time ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"number",name:"stopJam",id:"stopJam",value:X.stopJam===null?"":X.stopJam,onChange:q,min:"0",max:"23",placeholder:"HH",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0}),a.jsx("span",{className:"text-gray-500 text-lg",children:":"}),a.jsx("input",{type:"number",name:"stopMenit",id:"stopMenit",value:X.stopMenit===null?"":X.stopMenit,onChange:q,min:"0",max:"59",placeholder:"MM",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"stopTime",className:"block text-sm font-medium text-gray-700 mb-1",children:["Stop Type ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Er,{name:"stopTime",id:"stopTime",options:(A||[]).map(ee=>({value:ee.id,label:ee.name})),value:A.find(ee=>ee.id===X.stopTime)?{value:X.stopTime,label:((Le=A.find(ee=>ee.id===X.stopTime))==null?void 0:Le.name)||""}:null,onChange:ee=>q(ee,"stopTime"),placeholder:"Select Stop Type",styles:ge,required:!0})]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(Gi,{className:"mr-2 text-green-500"})," Machine Details"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"mesin",className:"block text-sm font-medium text-gray-700 mb-1",children:["Machine ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Er,{name:"mesin",id:"mesin",options:(v||[]).map(ee=>({value:ee.id,label:ee.name})),value:v.find(ee=>ee.id===X.mesin)?{value:X.mesin,label:((Oe=v.find(ee=>ee.id===X.mesin))==null?void 0:Oe.name)||""}:null,onChange:ee=>q(ee,"mesin"),placeholder:"Select Machine",styles:ge,required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"runningHour",className:"block text-sm font-medium text-gray-700 mb-1",children:["Running Hour ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"runningHour",id:"runningHour",value:Z(X.runningHour),onChange:q,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., 12.500",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"unit",className:"block text-sm font-medium text-gray-700 mb-1",children:["Unit ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Er,{name:"unit",id:"unit",options:(D||[]).map(ee=>({value:ee.id,label:ee.name})),value:D.find(ee=>ee.id===X.unit)?{value:X.unit,label:((xe=D.find(ee=>ee.id===X.unit))==null?void 0:xe.name)||""}:null,onChange:ee=>q(ee,"unit"),placeholder:"Select Unit",styles:ge,required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"itemTrouble",className:"block text-sm font-medium text-gray-700 mb-1",children:["Item Trouble ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Er,{name:"itemTrouble",id:"itemTrouble",options:(I||[]).map(ee=>({value:ee.id,label:ee.name})),value:I.find(ee=>ee.id===X.itemTrouble)?{value:X.itemTrouble,label:((Me=I.find(ee=>ee.id===X.itemTrouble))==null?void 0:Me.name)||""}:null,onChange:ee=>q(ee,"itemTrouble"),placeholder:"Select Item Trouble",styles:ge,required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"jenisGangguan",className:"block text-sm font-medium text-gray-700 mb-1",children:["Type of Disturbance / Damage ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"jenisGangguan",id:"jenisGangguan",value:X.jenisGangguan,onChange:q,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., Electrical Issue",required:!0})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsxs("label",{htmlFor:"bentukTindakan",className:"block text-sm font-medium text-gray-700 mb-1",children:["Action Taken ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Ol,{value:X.bentukTindakan,onChange:ee=>{te(ve=>({...ve,bentukTindakan:ee}))}})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"rootCause",className:"block text-sm font-medium text-gray-700 mb-1",children:["Root Cause ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("textarea",{name:"rootCause",id:"rootCause",value:X.rootCause,onChange:q,rows:3,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"Identify the root cause...",required:!0})]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(Lh,{className:"mr-2 text-purple-500"})," Activity Details"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"jenisAktivitas",className:"block text-sm font-medium text-gray-700 mb-1",children:["Type of Activity ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Er,{name:"jenisAktivitas",id:"jenisAktivitas",options:(R||[]).map(ee=>({value:ee.id,label:ee.name})),value:R.find(ee=>ee.id===X.jenisAktivitas)?{value:X.jenisAktivitas,label:((Be=R.find(ee=>ee.id===X.jenisAktivitas))==null?void 0:Be.name)||""}:null,onChange:ee=>q(ee,"jenisAktivitas"),placeholder:"Select Type of Activity",styles:ge,required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"kegiatan",className:"block text-sm font-medium text-gray-700 mb-1",children:["Activity ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Er,{name:"kegiatan",id:"kegiatan",options:(Y||[]).map(ee=>({value:ee.id,label:ee.name})),value:Y.find(ee=>ee.id===X.kegiatan)?{value:X.kegiatan,label:((re=Y.find(ee=>ee.id===X.kegiatan))==null?void 0:re.name)||""}:null,onChange:ee=>q(ee,"kegiatan"),placeholder:"Select Activity",styles:ge,required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"kodePart",className:"block text-sm font-medium text-gray-700 mb-1",children:"Part Code"}),a.jsx("input",{type:"text",name:"kodePart",id:"kodePart",value:X.kodePart,onChange:q,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., P001"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"sparePart",className:"block text-sm font-medium text-gray-700 mb-1",children:"Spare Part"}),a.jsx("input",{type:"text",name:"sparePart",id:"sparePart",value:X.sparePart,onChange:q,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., Oil Filter"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"idPart",className:"block text-sm font-medium text-gray-700 mb-1",children:"Part ID"}),a.jsx("input",{type:"text",name:"idPart",id:"idPart",value:X.idPart,onChange:q,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., SPU-005"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"jumlah",className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantity"}),a.jsx("input",{type:"text",name:"jumlah",id:"jumlah",value:Z(X.jumlah),onChange:q,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., 5"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"unitSparePart",className:"block text-sm font-medium text-gray-700 mb-1",children:"Spare Part Unit"}),a.jsx(Er,{name:"unitSparePart",id:"unitSparePart",options:(H||[]).map(ee=>({value:ee.id,label:ee.name})),value:H.find(ee=>ee.id===X.unitSparePart)?{value:X.unitSparePart,label:((se=H.find(ee=>ee.id===X.unitSparePart))==null?void 0:se.name)||""}:null,onChange:ee=>q(ee,"unitSparePart"),placeholder:"Select Unit",styles:ge})]})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsxs(C.button,{type:"button",onClick:oe,whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",children:[a.jsx(dn,{className:"mr-2 h-5 w-5"})," Clear Form"]}),a.jsx(C.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:n,children:n?a.jsxs(a.Fragment,{children:[a.jsx(mr,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Ar,{className:"mr-2 h-5 w-5"})," Save Record"]})})]})]})]})]})]}),a.jsx(VSe,{isOpen:d,onClose:le,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx($t,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:"Your machine history record has been added successfully!"}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:le,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Go to Machine History"})]})})]})},qSe=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(C.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(at,{size:24})})]}),a.jsx("div",{children:n})]})}):null,USe=()=>{var z,Y,W,H,P,F,X,te,q,Z,ie,oe,le,ge,Le,Oe,xe,Me,Be,re,se,ee,ve,Ge,Ke,ye,ot,mt,nt,xt,Nt,wt,zt,rt,Ne,ze;const{id:t}=Ta(),e=jt(),[r,n]=g.useState(()=>{const we=localStorage.getItem("sidebarOpen");return we?JSON.parse(we):!1}),s=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!r)),n(we=>!we)},[i,o]=g.useState(window.innerWidth<768),{getMachineHistoryById:l,updateMachineHistory:c,masterData:d,isMasterDataLoading:h}=St(),[m,x]=g.useState({date:"",shift:"",group:"",stopJam:null,stopMenit:null,startJam:null,startMenit:null,stopTime:"",unit:"",mesin:"",runningHour:0,itemTrouble:"",jenisGangguan:"",bentukTindakan:"",perbaikanPerawatan:"",rootCause:"",jenisAktivitas:"",kegiatan:"",kodePart:"",sparePart:"",idPart:"",jumlah:0,unitSparePart:""}),[y,w]=g.useState(!0),[j,v]=g.useState(!1),[N,T]=g.useState(null),[S,O]=g.useState(null),[_,A]=g.useState(!1);g.useEffect(()=>{(async()=>{var ut,ht,We,he,Je;try{if(w(!0),h||!d)return;if(t){const ae=(await l(t)).data;ae?x({date:ae.date||"",shift:String(ae.shift_id)||"",group:String(ae.group_id)||"",stopJam:((ut=ae.startstop)==null?void 0:ut.stop_time_hh)??null,stopMenit:((ht=ae.startstop)==null?void 0:ht.stop_time_mm)??null,startJam:((We=ae.startstop)==null?void 0:We.start_time_hh)??null,startMenit:((he=ae.startstop)==null?void 0:he.start_time_mm)??null,stopTime:String(ae.stoptime_id)||"",unit:String(ae.unit_id)||"",mesin:String(ae.mesin_id)||"",runningHour:ae.running_hour??0,itemTrouble:String(ae.itemtrouble_id)||"",jenisGangguan:ae.jenis_gangguan||"",bentukTindakan:ae.bentuk_tindakan||"",perbaikanPerawatan:((Je=ae.jenisaktifitas)==null?void 0:Je.name)==="Perbaikan"?"Perbaikan":"Perawatan",rootCause:ae.root_cause||"",jenisAktivitas:String(ae.jenisaktifitas_id)||"",kegiatan:String(ae.kegiatan_id)||"",kodePart:ae.kode_part||"",sparePart:ae.spare_part||"",idPart:ae.id_part||"",jumlah:ae.jumlah??0,unitSparePart:String(ae.unitsp_id)||""}):T("Data history mesin tidak ditemukan.")}else T("ID history mesin tidak diberikan untuk pengeditan.")}catch(Ue){console.error("Error fetching machine history:",Ue),T(Ue.message||"Terjadi kesalahan saat memuat data.")}finally{w(!1)}})()},[t,d,h,l]);const E=g.useCallback((we,ut)=>{if(we&&typeof we=="object"&&"value"in we&&ut)x(ht=>({...ht,[ut]:we.value}));else if(we&&"target"in we){const{name:ht,value:We,type:he}=we.target;x(Je=>{if(["stopJam","startJam"].includes(ht)){const Ue=We.replace(/[^\d]/g,""),ae=parseInt(Ue,10);return{...Je,[ht]:Ue===""?null:Math.max(0,Math.min(23,isNaN(ae)?0:ae))}}if(["stopMenit","startMenit"].includes(ht)){const Ue=We.replace(/[^\d]/g,""),ae=parseInt(Ue,10);return{...Je,[ht]:Ue===""?null:Math.max(0,Math.min(59,isNaN(ae)?0:ae))}}return ht==="runningHour"||ht==="jumlah"?{...Je,[ht]:We.replace(/[^\d.]/g,"")}:{...Je,[ht]:We}})}},[]),D=g.useCallback(we=>{if(we===null||isNaN(Number(we)))return"";if(typeof we=="string"){const ut=we.replace(/[^\d]/g,""),ht=parseInt(ut,10);return isNaN(ht)?"":ht.toLocaleString("id-ID").replace(/,/g,".")}return we.toLocaleString("id-ID").replace(/,/g,".")},[]),$=async we=>{we.preventDefault(),v(!0),T(null),O(null);const ut={...m,perbaikanPerawatan:m.jenisAktivitas==="Perbaikan"?"Perbaikan":"Perawatan",runningHour:m.runningHour?parseInt(String(m.runningHour).replace(/\./g,""),10):0,jumlah:m.jumlah?parseInt(String(m.jumlah).replace(/\./g,""),10):0};try{const ht=await c(t,ut);O(ht.message||"Machine history updated successfully!"),A(!0)}catch(ht){console.error("Error updating machine history:",ht),T(ht.message||"Failed to update machine history.")}finally{v(!1)}},I=g.useCallback(()=>{x({date:"",shift:"",group:"",stopJam:null,stopMenit:null,startJam:null,startMenit:null,stopTime:"",unit:"",mesin:"",runningHour:0,itemTrouble:"",jenisGangguan:"",bentukTindakan:"",perbaikanPerawatan:"",rootCause:"",jenisAktivitas:"",kegiatan:"",kodePart:"",sparePart:"",idPart:"",jumlah:0,unitSparePart:""}),T(null),O(null)},[]),L=g.useCallback(()=>{A(!1),e("/machinehistory")},[e]),R={control:(we,ut)=>({...we,minHeight:"42px",borderColor:ut.isFocused?"#3B82F6":"#D1D5DB",boxShadow:ut.isFocused?"0 0 0 1px #3B82F6":"none","&:hover":{borderColor:"#9CA3AF"},borderRadius:"0.5rem",backgroundColor:"#FFFFFF",padding:"0 0.5rem",transition:"all 0.15s ease-in-out"}),valueContainer:we=>({...we,padding:"0"}),singleValue:we=>({...we,color:"#374151"}),placeholder:we=>({...we,color:"#6B7280"}),dropdownIndicator:we=>({...we,color:"#9CA3AF","&:hover":{color:"#6B7280"}}),indicatorSeparator:we=>({...we,display:"none"}),menu:we=>({...we,zIndex:9999,borderRadius:"0.5rem",border:"1px solid #E5E7EB",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"}),option:(we,ut)=>({...we,backgroundColor:ut.isFocused?"#EFF6FF":"#FFFFFF",color:"#1F2937","&:active":{backgroundColor:"#DBEAFE"},padding:"0.625rem 1rem"})};return h||y?a.jsx("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900 justify-center items-center",children:a.jsxs("div",{className:"bg-blue-100 border border-blue-400 text-blue-700 px-6 py-4 rounded-lg flex items-center shadow-lg animate-pulse",role:"alert",children:[a.jsx(mr,{className:"animate-spin mr-3 text-2xl"}),a.jsx("span",{className:"font-semibold text-lg",children:"Loading Data... Please wait."})]})}):!d&&!h?a.jsx("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900 justify-center items-center",children:a.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-6 py-4 rounded-lg flex items-center shadow-lg",role:"alert",children:[a.jsx(at,{className:"mr-3 text-2xl"}),a.jsx("span",{className:"font-semibold text-lg",children:"Error: Master data failed to load. Please refresh the page."})]})}):N&&!m.date?a.jsx("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900 justify-center items-center",children:a.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-6 py-4 rounded-lg flex items-center shadow-lg",role:"alert",children:[a.jsx(at,{className:"mr-3 text-2xl"}),a.jsxs("span",{className:"font-semibold text-lg",children:["Error: ",N]})]})}):a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Mt,{mainTitle:"Edit Machine History",mainTitleHighlight:"Machine History",description:"Manage activities and their configurations within the system.",icon:a.jsx(og,{}),isMobile:i,toggleSidebar:s}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Edit Machine History Record ",t&&`(ID: ${t})`]}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Update maintenance activities and machine issues"})]}),a.jsxs(C.button,{onClick:()=>e("/machinehistory"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(kr,{className:"text-lg"})," Back to History"]})]}),a.jsxs(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[N&&a.jsxs(C.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:N}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(at,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>T(null)})})]}),a.jsxs("form",{onSubmit:$,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(Lt,{className:"mr-2 text-blue-500"})," General Information"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"date",className:"block text-sm font-medium text-gray-700 mb-1",children:["Date ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"date",name:"date",id:"date",value:m.date,onChange:E,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"shift",className:"block text-sm font-medium text-gray-700 mb-1",children:["Shift ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Er,{name:"shift",id:"shift",options:((Y=(z=d==null?void 0:d.shifts)==null?void 0:z.data)==null?void 0:Y.map(we=>({value:we.id,label:we.name})))||[],value:((H=(W=d==null?void 0:d.shifts)==null?void 0:W.data)==null?void 0:H.map(we=>({value:we.id,label:we.name})).find(we=>String(we.value)===String(m.shift)))||null,onChange:we=>E(we,"shift"),placeholder:"Select Shift",styles:R,required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"group",className:"block text-sm font-medium text-gray-700 mb-1",children:["Group ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Er,{name:"group",id:"group",options:((F=(P=d==null?void 0:d.groups)==null?void 0:P.data)==null?void 0:F.map(we=>({value:we.id,label:we.name})))||[],value:((te=(X=d==null?void 0:d.groups)==null?void 0:X.data)==null?void 0:te.map(we=>({value:we.id,label:we.name})).find(we=>String(we.value)===String(m.group)))||null,onChange:we=>E(we,"group"),placeholder:"Select Group",styles:R,required:!0})]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(Lt,{className:"mr-2 text-indigo-500"})," Time Details"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Start Time ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"number",name:"startJam",id:"startJam",value:m.startJam===null?"":m.startJam,onChange:E,min:"0",max:"23",placeholder:"HH",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0}),a.jsx("span",{className:"text-gray-500 text-lg",children:":"}),a.jsx("input",{type:"number",name:"startMenit",id:"startMenit",value:m.startMenit===null?"":m.startMenit,onChange:E,min:"0",max:"59",placeholder:"MM",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Stop Time ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"number",name:"stopJam",id:"stopJam",value:m.stopJam===null?"":m.stopJam,onChange:E,min:"0",max:"23",placeholder:"HH",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0}),a.jsx("span",{className:"text-gray-500 text-lg",children:":"}),a.jsx("input",{type:"number",name:"stopMenit",id:"stopMenit",value:m.stopMenit===null?"":m.stopMenit,onChange:E,min:"0",max:"59",placeholder:"MM",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"stopTime",className:"block text-sm font-medium text-gray-700 mb-1",children:["Stop Type ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Er,{name:"stopTime",id:"stopTime",options:((Z=(q=d==null?void 0:d.stoptimes)==null?void 0:q.data)==null?void 0:Z.map(we=>({value:we.id,label:we.name})))||[],value:((oe=(ie=d==null?void 0:d.stoptimes)==null?void 0:ie.data)==null?void 0:oe.map(we=>({value:we.id,label:we.name})).find(we=>String(we.value)===String(m.stopTime)))||null,onChange:we=>E(we,"stopTime"),placeholder:"Select Stop Type",styles:R,required:!0})]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(Gi,{className:"mr-2 text-green-500"})," Machine Details"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"mesin",className:"block text-sm font-medium text-gray-700 mb-1",children:["Machine ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Er,{name:"mesin",id:"mesin",options:((ge=(le=d==null?void 0:d.mesin)==null?void 0:le.data)==null?void 0:ge.map(we=>({value:we.id,label:we.name})))||[],value:((Oe=(Le=d==null?void 0:d.mesin)==null?void 0:Le.data)==null?void 0:Oe.map(we=>({value:we.id,label:we.name})).find(we=>String(we.value)===String(m.mesin)))||null,onChange:we=>E(we,"mesin"),placeholder:"Select Machine",styles:R,required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"runningHour",className:"block text-sm font-medium text-gray-700 mb-1",children:["Running Hour ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"runningHour",id:"runningHour",value:D(m.runningHour),onChange:E,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., 12.500",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"unit",className:"block text-sm font-medium text-gray-700 mb-1",children:["Unit ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Er,{name:"unit",id:"unit",options:((Me=(xe=d==null?void 0:d.units)==null?void 0:xe.data)==null?void 0:Me.map(we=>({value:we.id,label:we.name})))||[],value:((re=(Be=d==null?void 0:d.units)==null?void 0:Be.data)==null?void 0:re.map(we=>({value:we.id,label:we.name})).find(we=>String(we.value)===String(m.unit)))||null,onChange:we=>E(we,"unit"),placeholder:"Select Unit",styles:R,required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"itemTrouble",className:"block text-sm font-medium text-gray-700 mb-1",children:["Item Trouble ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Er,{name:"itemTrouble",id:"itemTrouble",options:((ee=(se=d==null?void 0:d.itemtroubles)==null?void 0:se.data)==null?void 0:ee.map(we=>({value:we.id,label:we.name})))||[],value:((Ge=(ve=d==null?void 0:d.itemtroubles)==null?void 0:ve.data)==null?void 0:Ge.map(we=>({value:we.id,label:we.name})).find(we=>String(we.value)===String(m.itemTrouble)))||null,onChange:we=>E(we,"itemTrouble"),placeholder:"Select Item Trouble",styles:R,required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"jenisGangguan",className:"block text-sm font-medium text-gray-700 mb-1",children:["Type of Disturbance ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"jenisGangguan",id:"jenisGangguan",value:m.jenisGangguan,onChange:E,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., Electrical Issue",required:!0})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsxs("label",{htmlFor:"bentukTindakan",className:"block text-sm font-medium text-gray-700 mb-1",children:["Action Taken ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Ol,{value:m.bentukTindakan,onChange:we=>{x(ut=>({...ut,bentukTindakan:we}))}})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"rootCause",className:"block text-sm font-medium text-gray-700 mb-1",children:["Root Cause ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("textarea",{name:"rootCause",id:"rootCause",value:m.rootCause,onChange:E,rows:3,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"Identify the root cause...",required:!0})]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(Lh,{className:"mr-2 text-purple-500"})," Activity Details"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"jenisAktivitas",className:"block text-sm font-medium text-gray-700 mb-1",children:["Type of Activity ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Er,{name:"jenisAktivitas",id:"jenisAktivitas",options:((ye=(Ke=d==null?void 0:d.jenisaktivitas)==null?void 0:Ke.data)==null?void 0:ye.map(we=>({value:we.id,label:we.name})))||[],value:((mt=(ot=d==null?void 0:d.jenisaktivitas)==null?void 0:ot.data)==null?void 0:mt.map(we=>({value:we.id,label:we.name})).find(we=>String(we.value)===String(m.jenisAktivitas)))||null,onChange:we=>E(we,"jenisAktivitas"),placeholder:"Select Type of Activity",styles:R,required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"kegiatan",className:"block text-sm font-medium text-gray-700 mb-1",children:["Activity ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Er,{name:"kegiatan",id:"kegiatan",options:((xt=(nt=d==null?void 0:d.kegiatans)==null?void 0:nt.data)==null?void 0:xt.map(we=>({value:we.id,label:we.name})))||[],value:((wt=(Nt=d==null?void 0:d.kegiatans)==null?void 0:Nt.data)==null?void 0:wt.map(we=>({value:we.id,label:we.name})).find(we=>String(we.value)===String(m.kegiatan)))||null,onChange:we=>E(we,"kegiatan"),placeholder:"Select Activity",styles:R,required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"kodePart",className:"block text-sm font-medium text-gray-700 mb-1",children:"Part Code"}),a.jsx("input",{type:"text",name:"kodePart",id:"kodePart",value:m.kodePart,onChange:E,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., P001"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"sparePart",className:"block text-sm font-medium text-gray-700 mb-1",children:"Spare Part"}),a.jsx("input",{type:"text",name:"sparePart",id:"sparePart",value:m.sparePart,onChange:E,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., Oil Filter"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"idPart",className:"block text-sm font-medium text-gray-700 mb-1",children:"Part ID"}),a.jsx("input",{type:"text",name:"idPart",id:"idPart",value:m.idPart,onChange:E,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., SPU-005"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"jumlah",className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantity"}),a.jsx("input",{type:"text",name:"jumlah",id:"jumlah",value:D(m.jumlah),onChange:E,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., 5"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"unitSparePart",className:"block text-sm font-medium text-gray-700 mb-1",children:"Spare Part Unit"}),a.jsx(Er,{name:"unitSparePart",id:"unitSparePart",options:((rt=(zt=d==null?void 0:d.unitspareparts)==null?void 0:zt.data)==null?void 0:rt.map(we=>({value:we.id,label:we.name})))||[],value:((ze=(Ne=d==null?void 0:d.unitspareparts)==null?void 0:Ne.data)==null?void 0:ze.map(we=>({value:we.id,label:we.name})).find(we=>String(we.value)===String(m.unitSparePart)))||null,onChange:we=>E(we,"unitSparePart"),placeholder:"Select Unit",styles:R})]})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsxs(C.button,{type:"button",onClick:I,whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",children:[a.jsx(dn,{className:"mr-2 h-5 w-5"})," Clear Form"]}),a.jsx(C.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:j,children:j?a.jsxs(a.Fragment,{children:[a.jsx(mr,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Ar,{className:"mr-2 h-5 w-5"})," Save Changes"]})})]})]})]})]})]}),a.jsx(qSe,{isOpen:_,onClose:L,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx($t,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:"Your machine history record has been updated successfully!"}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:L,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Go to Machine History"})]})})]})},v7={dashboard:{view:"1",edit:"2"},assets:{view:"3",create:"4",edit:"5",delete:"6"},workorders:{view:"7",create:"8",assign:"9",complete:"10",edit:"18",delete:"19"},machinehistory:{view:"31",create:"32",edit:"33",delete:"34"},inventory:{view:"23",create:"24",edit:"25",delete:"26"},reports:{view:"11",create:"20",edit:"21",export:"12",delete:"22"},teams:{view:"27",create:"28",edit:"29",delete:"30"},settings:{view:"13",edit:"14"},permissions:{view:"15",edit:"16"},users:{manage:"17"}},GSe=()=>{var Be;const{user:t,logout:e,fetchWithAuth:r,getUsers:n,hasPermission:s,updateUserPermissions:i,deleteUser:o,createRole:l,updateRole:c}=St(),d=jt();ua();const[h,m]=g.useState(()=>{const re=localStorage.getItem("sidebarOpen");return re?JSON.parse(re):!1}),[x,y]=g.useState(window.innerWidth<768),[w,j]=g.useState("roles"),[v,N]=g.useState(null),[T,S]=g.useState(null),[O,_]=g.useState(!1),[A,E]=g.useState({}),[D,$]=g.useState("all"),[I,L]=g.useState(""),[R,z]=g.useState([]),[Y,W]=g.useState([]),[H,P]=g.useState(!1);g.useRef(null),g.useEffect(()=>{const re=()=>{y(window.innerWidth<768),window.innerWidth<768&&m(!1)};return window.addEventListener("resize",re),()=>window.removeEventListener("resize",re)},[]),g.useEffect(()=>{localStorage.setItem("sidebarOpen",JSON.stringify(h))},[h]),g.useEffect(()=>{const re=async()=>{try{const[se,ee]=await Promise.all([n(),r("/roles")]),Ge=se.map(ye=>({id:String(ye.id),name:ye.name,nik:ye.nik,email:ye.email,roleId:ye.role_id?String(ye.role_id):null,customPermissions:ye.customPermissions||[],department:ye.department||null,department_id:ye.department_id||null,permissions:ye.permissions||ye.allPermissions||[]})),Ke=ee.map(ye=>({id:String(ye.id),name:ye.name,description:ye.description||`${ye.name} role`,permissions:ye.permissions.map(String),isSuperadmin:ye.name==="superadmin"}));z(Ge),W(Ke)}catch(se){console.error("Failed to fetch data:",se)}};s("view_permissions")&&re()},[n,r,s]);const F=()=>{m(re=>!re)},X=re=>{E(se=>({...se,[re]:!se[re]}))},te=re=>{!v||v.isSuperadmin||N(se=>({...se,permissions:se.permissions.includes(re)?se.permissions.filter(ee=>ee!==re):[...se.permissions,re]}))},q=re=>{!T||T.roleId==="3"||S(se=>{if(!se)return null;const ee=se.customPermissions.includes(re)?se.customPermissions.filter(ve=>ve!==re):[...se.customPermissions,re];return{...se,customPermissions:ee,permissions:[...new Set([...se.rolePermissions||[],...ee])]}})},Z=re=>{N(re),_(!0)},ie=g.useCallback(async()=>{if(!v||!s("edit_permissions")){alert("You don't have permission or role data is incomplete.");return}if(!v.name.trim()){alert("Role name cannot be empty!");return}try{const re={name:v.name,description:v.description,permissions:v.permissions};v.id?await c(v.id,re):await l(re);const ee=(await r("/roles")).map(ve=>({id:String(ve.id),name:ve.name,description:ve.description,permissions:ve.permissions.map(String),isSuperadmin:ve.name==="superadmin"}));W(ee),_(!1),N(null)}catch(re){console.error("Failed to save role:",re)}},[v,s,c,l,r]),oe=re=>{const se=Y.find(ee=>String(ee.id)===String(re.roleId));S({...re,rolePermissions:(se==null?void 0:se.permissions)||[],customPermissions:re.customPermissions||[],permissions:re.permissions||[]})},le=async()=>{if(T)try{const re=await i(T.id,{roleId:T.roleId||null,customPermissions:T.customPermissions||[]});z(R.map(se=>{if(se.id===re.id){const ee=re.roleId||null,ve=Y.find(ot=>String(ot.id)===String(ee)),Ge=(ve==null?void 0:ve.permissions)||[],Ke=re.customPermissions||[],ye=[...new Set([...Ge,...Ke])];return{...re,roleId:ee,customPermissions:Ke,rolePermissions:Ge,permissions:ye}}return se})),S(null)}catch(re){console.error("Failed to save user:",re)}},ge=async re=>{if(!(!s("manage_users")||!window.confirm("Are you sure you want to delete this role?")))try{await r(`/roles/${re}`,{method:"DELETE"});const ee=(await r("/roles")).map(ve=>({id:String(ve.id),name:ve.name,description:ve.description,permissions:ve.permissions.map(String),isSuperadmin:ve.name==="superadmin"}));W(ee)}catch(se){console.error("Failed to delete role:",se)}},Le=g.useCallback(async re=>{if(window.confirm("Are you sure you want to delete this user?")){P(!0);try{await o(re);const se=await n();z(se)}catch(se){console.error("Failed to delete user:",se)}finally{P(!1)}}},[o,n]),Oe=re=>{if(!re)return"No Role";const se=Y.find(ee=>String(ee.id)===String(re));return se?se.name:"No Role"},xe=["all",...new Set(R.map(re=>{var se;return((se=re.department)==null?void 0:se.name)||""}).filter(Boolean))],Me=R.filter(re=>{var se;return D==="all"||((se=re.department)==null?void 0:se.name)===D}).filter(re=>re.name.toLowerCase().includes(I.toLowerCase())||re.nik.toLowerCase().includes(I.toLowerCase()));return s("15")?a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Mt,{mainTitle:"Permission",mainTitleHighlight:"Management",description:"Manage user roles and permissions to control access and functionality within the system.",icon:a.jsx(Gf,{}),isMobile:x,toggleSidebar:F}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsx(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Permission ",a.jsx("span",{className:"text-blue-600",children:"Management"})]}),a.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Manage user roles and permissions to control access and functionality within the system."})]})}),a.jsx("div",{className:"bg-white rounded-2xl shadow-md p-5 border border-blue-100 mb-6",children:a.jsxs("div",{className:"flex border-b border-gray-100",children:[a.jsxs("button",{onClick:()=>j("roles"),className:`px-6 py-3 font-medium text-sm flex items-center ${w==="roles"?"text-blue-700 border-b-2 border-blue-700":"text-gray-600 hover:text-gray-900"}`,children:[a.jsx(Gf,{className:"mr-2 text-base"}),"Roles & Permissions"]}),a.jsxs("button",{onClick:()=>j("users"),className:`px-6 py-3 font-medium text-sm flex items-center ${w==="users"?"text-blue-700 border-b-2 border-blue-700":"text-gray-600 hover:text-gray-900"}`,children:[a.jsx(xa,{className:"mr-2 text-base"}),"User Permissions"]})]})}),w==="roles"&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Roles"}),s("16")&&a.jsxs(C.button,{onClick:()=>{_(!0),N({id:null,name:"",description:"",permissions:[],isSuperadmin:!1})},whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[a.jsx(Jn,{className:"text-base"}),a.jsx("span",{children:"Add Role"})]})]}),O&&a.jsxs(C.div,{whileHover:{y:-2,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.05)"},transition:{type:"spring",stiffness:300},className:"bg-white rounded-2xl shadow-md p-6 mb-6 border border-blue-100",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:v!=null&&v.id?"Edit Role":"Add New Role"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role Name"}),a.jsx("input",{type:"text",value:(v==null?void 0:v.name)||"",onChange:re=>N(se=>({...se,name:re.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., Maintenance Manager"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("input",{type:"text",value:(v==null?void 0:v.description)||"",onChange:re=>N(se=>({...se,description:re.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Brief description of the role"})]})]}),a.jsx("h4",{className:"font-medium text-gray-700 mb-3",children:"Permissions"}),a.jsx("div",{className:"space-y-4",children:Object.entries(v7).map(([re,se])=>a.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[a.jsxs("button",{onClick:()=>X(re),className:"w-full flex justify-between items-center p-3 bg-gray-50 hover:bg-gray-100 transition-colors duration-200",children:[a.jsx("span",{className:"font-medium text-gray-700 capitalize",children:re.replace(/([A-Z])/g," $1").trim()}),A[re]?a.jsx(bb,{}):a.jsx(cn,{})]}),a.jsx(kt,{children:A[re]&&a.jsx(C.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"p-3 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 bg-white",children:Object.entries(se).map(([ee,ve])=>a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:`perm-${ve}`,checked:(v==null?void 0:v.isSuperadmin)||(v==null?void 0:v.permissions.includes(ve))||!1,onChange:()=>te(ve),disabled:v==null?void 0:v.isSuperadmin,className:"h-4 w-4 text-blue-600 rounded focus:ring-blue-500 border-gray-300"}),a.jsx("label",{htmlFor:`perm-${ve}`,className:"ml-2 text-sm text-gray-700",children:a.jsxs("div",{className:"font-medium",children:[ee," ",re.replace(/([A-Z])/g," $1").trim(),(v==null?void 0:v.isSuperadmin)&&a.jsx("span",{className:"ml-2 text-xs bg-blue-100 text-blue-800 px-2 py-0.5 rounded",children:"Superadmin"})]})})]},ve))})})]},re))}),a.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>{_(!1),N(null)},className:"px-4 py-2 border border-gray-300 text-gray-700 hover:bg-gray-50 rounded-lg transition-colors duration-200 font-medium text-sm",children:"Cancel"}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:ie,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors duration-200 font-medium text-sm",children:"Save Role"})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Y.map(re=>a.jsxs(C.div,{whileHover:{y:-2,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.05)"},transition:{type:"spring",stiffness:300},className:"bg-white rounded-2xl shadow-sm p-6 border border-blue-100 h-full",children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:[re.name,re.isSuperadmin&&a.jsx("span",{className:"ml-2 text-xs bg-blue-100 text-blue-800 px-2 py-0.5 rounded",children:"Superadmin"})]}),a.jsxs("div",{className:"flex space-x-2",children:[!re.isSuperadmin&&s("16")&&a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>Z(re),className:"text-blue-600 hover:text-blue-800 transition-colors duration-200 p-1 rounded-full hover:bg-blue-50",title:"Edit",children:a.jsx(Bn,{className:"text-base"})}),!re.isSuperadmin&&s("17")&&a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>ge(re.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:a.jsx(dn,{className:"text-base"})})]})]}),a.jsx("p",{className:"text-gray-600 text-sm mb-4",children:re.description}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-gray-500",children:"Permissions:"}),a.jsx("span",{className:"font-medium text-gray-900",children:re.permissions.length})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-gray-500",children:"Users with this role:"}),a.jsx("span",{className:"font-medium text-gray-900",children:R.filter(se=>se.roleId===re.id).length})]})]})]},re.id))})]}),w==="users"&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0 mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Users"}),a.jsxs("div",{className:"flex flex-col md:flex-row space-y-3 md:space-y-0 md:space-x-3",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Wn,{className:"absolute left-3 top-3 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search users...",value:I,onChange:re=>L(re.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 pl-10 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent w-full"})]}),a.jsx("select",{value:D,onChange:re=>$(re.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:xe.map(re=>a.jsx("option",{value:re,children:re==="all"?"All Departments":re},re))}),s("17")&&a.jsxs(C.button,{whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},onClick:()=>d("/permissions/adduser"),className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[a.jsx(Rce,{className:"text-base"}),a.jsx("span",{children:"Add User"})]})]})]}),a.jsx("div",{className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:a.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:a.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[a.jsx("thead",{className:"bg-blue-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Name"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"NIK"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Email"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Department"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Role"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Permissions"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:Me.map(re=>{var se,ee;return a.jsxs("tr",{className:"hover:bg-blue-50 transition-colors duration-150",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:re.name}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:re.nik}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:re.email}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:((se=re.department)==null?void 0:se.name)||"-"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:Oe(re.roleId)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:re.roleId==="3"?a.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-blue-100 text-blue-800",children:"All permissions"}):(ee=re.customPermissions)!=null&&ee.length?a.jsxs("span",{className:"cursor-help border-b border-dashed border-gray-400",title:re.customPermissions.join(", "),children:[re.customPermissions.length," custom"]}):a.jsx("span",{className:"italic text-gray-400",children:"None"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-2",children:s("edit_permissions")&&a.jsxs(a.Fragment,{children:[a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>oe(re),className:"text-blue-600 hover:text-blue-800 transition-colors duration-200 p-1 rounded-full hover:bg-blue-50",title:"Edit",children:a.jsx(Bn,{className:"text-base"})}),re.id!==(t==null?void 0:t.id)&&s("manage_users")&&a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>Le(re.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:a.jsx(dn,{className:"text-base"})})]})})]},re.id)})})]})})})]})]})]}),a.jsx(kt,{children:T&&a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:a.jsxs(C.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex justify-between items-center border-b border-gray-100 p-4 sticky top-0 bg-white z-10",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Edit User Permissions"}),a.jsx("button",{onClick:()=>S(null),className:"text-gray-500 hover:text-gray-700",children:a.jsx(at,{className:"text-xl"})})]}),a.jsxs("div",{className:"p-6",children:[!T.roleId&&a.jsx("div",{className:"p-3 bg-yellow-50 rounded-md mb-4",children:a.jsx("p",{className:"text-yellow-700",children:" This user has no role assigned. Permissions will come only from custom permissions."})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),a.jsx("div",{className:"font-medium text-gray-900",children:T.name})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"NIK"}),a.jsx("div",{className:"text-gray-600",children:T.nik})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),a.jsx("div",{className:"text-gray-600",children:T.email})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department"}),a.jsx("div",{className:"text-gray-600",children:((Be=T.department)==null?void 0:Be.name)||"-"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),a.jsxs("select",{value:T.roleId||"",onChange:re=>{const se=re.target.value||null,ee=Y.find(ve=>String(ve.id)===String(se));S({...T,roleId:se,rolePermissions:(ee==null?void 0:ee.permissions)||[]})},className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"",children:"No Role"}),Y.map(re=>a.jsx("option",{value:String(re.id),children:re.name},re.id))]})]})]}),a.jsx("h4",{className:"font-medium text-gray-700 mb-3",children:"Custom Permissions"}),a.jsx("div",{className:"space-y-4",children:Object.entries(v7).map(([re,se])=>a.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[a.jsxs("button",{onClick:()=>X(re),className:"w-full flex justify-between items-center p-3 bg-gray-50 hover:bg-gray-100 transition-colors duration-200",children:[a.jsx("span",{className:"font-medium text-gray-700 capitalize",children:re.replace(/([A-Z])/g," $1").trim()}),A[re]?a.jsx(bb,{}):a.jsx(cn,{})]}),a.jsx(kt,{children:A[re]&&a.jsx(C.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"p-3 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 bg-white",children:Object.entries(se).map(([ee,ve])=>{var mt,nt;const Ge=((mt=T.rolePermissions)==null?void 0:mt.includes(ve))||!1,Ke=T.roleId==="3",ye=Ke||Ge||((nt=T.customPermissions)==null?void 0:nt.includes(ve)),ot=Ke||Ge;return a.jsxs("div",{className:`flex items-center ${ot?"opacity-50":""}`,children:[a.jsx("input",{type:"checkbox",id:`user-perm-${ve}`,checked:ye,onChange:()=>!ot&&q(ve),disabled:ot,className:`h-4 w-4 rounded focus:ring-blue-500 ${Ke?"text-blue-600":Ge?"text-purple-600":"text-blue-600"}`}),a.jsx("label",{htmlFor:`user-perm-${ve}`,className:"ml-2 text-sm text-gray-700",children:a.jsxs("div",{className:"font-medium flex items-center",children:[ee," ",re.replace(/([A-Z])/g," $1").trim(),Ke&&a.jsx("span",{className:"ml-2 text-xs bg-blue-100 text-blue-800 px-2 py-0.5 rounded",children:"Superadmin"}),Ge&&!Ke&&a.jsx("span",{className:"ml-2 text-xs bg-purple-100 text-purple-800 px-2 py-0.5 rounded",children:"from role"})]})})]},ve)})})})]},re))})]}),a.jsxs("div",{className:"flex justify-end space-x-3 p-4 border-t border-gray-100 sticky bottom-0 bg-white",children:[a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>S(null),className:"px-4 py-2 border border-gray-300 text-gray-700 hover:bg-gray-50 rounded-lg transition-colors duration-200 font-medium text-sm",children:"Cancel"}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:le,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors duration-200 font-medium text-sm",children:"Save Changes"})]})]})})})]}):a.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50 font-sans",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 text-center border border-red-200",children:[a.jsx(er,{className:"text-red-500 text-4xl mx-auto mb-4"}),a.jsx("p",{className:"text-xl text-red-600 font-semibold",children:"You don't have permission to access this page"})]})})},YSe=()=>{const{changePassword:t}=St(),e=jt(),[r,n]=g.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[s,i]=g.useState({currentPassword:"",newPassword:"",confirmPassword:"",general:""}),[o,l]=g.useState(!1),[c,d]=g.useState({current:!1,new:!1,confirm:!1}),[h,m]=g.useState(""),x=v=>{const{name:N,value:T}=v.target;n(S=>({...S,[N]:T})),s[N]&&i(S=>({...S,[N]:"",general:""}))},y=v=>{d(N=>({...N,[v]:!N[v]}))},w=()=>{let v=!0;const N={currentPassword:"",newPassword:"",confirmPassword:"",general:""};return r.currentPassword||(N.currentPassword="Current password is required",v=!1),r.newPassword?r.newPassword.length<8&&(N.newPassword="Password must be at least 8 characters",v=!1):(N.newPassword="New password is required",v=!1),r.newPassword!==r.confirmPassword&&(N.confirmPassword="Passwords do not match",v=!1),i(N),v},j=async v=>{if(v.preventDefault(),!!w()){l(!0),m("");try{await t(r.currentPassword,r.newPassword),m("Your password has been changed successfully!"),n({currentPassword:"",newPassword:"",confirmPassword:""}),i({currentPassword:"",newPassword:"",confirmPassword:"",general:""})}catch(N){console.error("Password change error:",N),i(T=>({...T,general:N.message||"Failed to change password. Please try again."}))}finally{l(!1)}}};return a.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[a.jsxs("header",{className:"bg-white shadow-sm py-4 px-6 flex items-center",children:[a.jsx(C.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>e(-1),className:"p-2 rounded-full hover:bg-gray-100 mr-4",children:a.jsx(vA,{className:"text-xl text-gray-700"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Change Password"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Update your account password"})]})]}),a.jsxs("main",{className:"flex-1 p-4 md:p-6 max-w-3xl mx-auto w-full",children:[a.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"bg-white rounded-xl shadow-sm p-6 border border-blue-100",children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center mr-3",children:a.jsx(c6,{className:"text-blue-600 text-lg"})}),a.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Password Update"})]}),a.jsx("p",{className:"text-gray-600 text-sm",children:"Please enter your current password and set a new one."})]}),a.jsxs("form",{onSubmit:j,className:"space-y-6",children:[a.jsxs(kt,{children:[s.general&&a.jsxs(C.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0},className:"bg-red-50 border-l-4 border-red-500 p-4 rounded flex items-start",children:[a.jsx(Bx,{className:"text-red-500 mr-3 mt-0.5 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-red-700 font-medium",children:"Error"}),a.jsx("p",{className:"text-red-600 text-sm",children:s.general})]})]}),h&&a.jsxs(C.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0},className:"bg-green-50 border-l-4 border-green-500 p-4 rounded flex items-start",children:[a.jsx(mre,{className:"text-green-500 mr-3 mt-0.5 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-green-700 font-medium",children:"Success"}),a.jsx("p",{className:"text-green-600 text-sm",children:h})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"currentPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Current Password"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:c.current?"text":"password",id:"currentPassword",name:"currentPassword",value:r.currentPassword,onChange:x,className:`w-full border ${s.currentPassword?"border-red-300":"border-gray-300"} rounded-md px-3 py-2 pr-10 focus:outline-none focus:ring-2 focus:ring-blue-500`,disabled:o,autoComplete:"current-password"}),a.jsx("button",{type:"button",onClick:()=>y("current"),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-500 hover:text-gray-700","aria-label":c.current?"Hide password":"Show password",children:c.current?a.jsx(By,{}):a.jsx(zy,{})})]}),s.currentPassword&&a.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[a.jsx(Bx,{className:"mr-1"})," ",s.currentPassword]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"New Password"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:c.new?"text":"password",id:"newPassword",name:"newPassword",value:r.newPassword,onChange:x,className:`w-full border ${s.newPassword?"border-red-300":"border-gray-300"} rounded-md px-3 py-2 pr-10 focus:outline-none focus:ring-2 focus:ring-blue-500`,disabled:o,autoComplete:"new-password"}),a.jsx("button",{type:"button",onClick:()=>y("new"),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-500 hover:text-gray-700","aria-label":c.new?"Hide password":"Show password",children:c.new?a.jsx(By,{}):a.jsx(zy,{})})]}),a.jsxs("div",{className:"mt-3 bg-blue-50 p-3 rounded-md",children:[a.jsxs("p",{className:"text-xs font-medium text-gray-700 mb-1 flex items-center",children:[a.jsx(l6,{className:"mr-1 text-blue-500"})," Password requirement:"]}),a.jsx("p",{className:"text-xs text-gray-600",children:"Must be at least 8 characters long"})]}),s.newPassword&&a.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[a.jsx(Bx,{className:"mr-1"})," ",s.newPassword]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm New Password"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:c.confirm?"text":"password",id:"confirmPassword",name:"confirmPassword",value:r.confirmPassword,onChange:x,className:`w-full border ${s.confirmPassword?"border-red-300":"border-gray-300"} rounded-md px-3 py-2 pr-10 focus:outline-none focus:ring-2 focus:ring-blue-500`,disabled:o,autoComplete:"new-password"}),a.jsx("button",{type:"button",onClick:()=>y("confirm"),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-500 hover:text-gray-700","aria-label":c.confirm?"Hide password":"Show password",children:c.confirm?a.jsx(By,{}):a.jsx(zy,{})})]}),s.confirmPassword&&a.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[a.jsx(Bx,{className:"mr-1"})," ",s.confirmPassword]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-100",children:[a.jsx(C.button,{type:"button",whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>e(-1),disabled:o,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 disabled:opacity-50",children:"Cancel"}),a.jsx(C.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},disabled:o||r.newPassword.length<8||r.newPassword!==r.confirmPassword,className:`px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:hover:bg-blue-600 flex items-center ${o?"opacity-75":""}`,children:o?a.jsxs(a.Fragment,{children:[a.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Updating..."]}):a.jsxs(a.Fragment,{children:[a.jsx(c6,{className:"mr-2"}),"Update Password"]})})]})]})]}),a.jsxs("div",{className:"mt-6 bg-white rounded-xl shadow-sm p-6 border border-blue-100",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-3 flex items-center",children:[a.jsx(l6,{className:"text-blue-500 mr-2"})," Security Tip"]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Choose a password that's easy for you to remember but hard for others to guess. Avoid using common words or personal information."})]})]})]})},KSe=["Dashboard","Assets","Work Orders","Machine History","Inventory","Reports","Team","Settings","Permissions","Users"],XSe=[{id:"1",name:"View Dashboard",description:"Can view dashboard",category:"Dashboard"},{id:"2",name:"Edit Dashboard",description:"Can edit dashboard",category:"Dashboard"},{id:"3",name:"View Assets",description:"Can view assets",category:"Assets"},{id:"4",name:"Create Assets",description:"Can create assets",category:"Assets"},{id:"5",name:"Edit Assets",description:"Can edit assets",category:"Assets"},{id:"6",name:"Delete Assets",description:"Can delete assets",category:"Assets"},{id:"7",name:"View Work Orders",description:"Can view work orders",category:"Work Orders"},{id:"8",name:"Create Work Orders",description:"Can create work orders",category:"Work Orders"},{id:"9",name:"Assign Work Orders",description:"Can assign work orders",category:"Work Orders"},{id:"10",name:"Complete Work Orders",description:"Can complete work orders",category:"Work Orders"},{id:"18",name:"Edit Work Orders",description:"Can edit work orders",category:"Work Orders"},{id:"19",name:"Delete Work Orders",description:"Can delete work orders",category:"Work Orders"},{id:"31",name:"View Machine History",description:"Can view machine history",category:"Machine History"},{id:"32",name:"Create Machine History",description:"Can create machine history",category:"Machine History"},{id:"33",name:"Edit Machine History",description:"Can edit machine history",category:"Machine History"},{id:"34",name:"Delete Machine History",description:"Can delete machine history",category:"Machine History"},{id:"23",name:"View Inventory",description:"Can view inventory",category:"Inventory"},{id:"24",name:"Create Inventory",description:"Can create inventory",category:"Inventory"},{id:"25",name:"Edit Inventory",description:"Can edit inventory",category:"Inventory"},{id:"26",name:"Delete Inventory",description:"Can delete inventory",category:"Inventory"},{id:"11",name:"View Reports",description:"Can view reports",category:"Reports"},{id:"12",name:"Export Reports",description:"Can export reports",category:"Reports"},{id:"20",name:"Create Reports",description:"Can create reports",category:"Reports"},{id:"21",name:"Edit Reports",description:"Can edit reports",category:"Reports"},{id:"22",name:"Delete Reports",description:"Can delete reports",category:"Reports"},{id:"27",name:"View Team",description:"Can view team",category:"Team"},{id:"28",name:"Create Team",description:"Can create team",category:"Team"},{id:"29",name:"Edit Team",description:"Can edit team",category:"Team"},{id:"30",name:"Delete Team",description:"Can delete team",category:"Team"},{id:"13",name:"View Settings",description:"Can view settings",category:"Settings"},{id:"14",name:"Edit Settings",description:"Can edit settings",category:"Settings"},{id:"15",name:"View Permissions",description:"Can view permissions",category:"Permissions"},{id:"16",name:"Edit Permissions",description:"Can edit permissions",category:"Permissions"},{id:"17",name:"Manage Users",description:"Can manage users",category:"Users"}],JSe=()=>{const t=jt(),{user:e,register:r,getRoles:n,hasPermission:s}=St(),[i,o]=g.useState(!1),[l,c]=g.useState({}),[d,h]=g.useState(!1),[m,x]=g.useState({}),[y,w]=g.useState([]),[j,v]=g.useState([]),[N,T]=g.useState(window.innerWidth<768),[S,O]=g.useState(()=>{const W=localStorage.getItem("sidebarOpen");return JSON.parse(W||"false")}),_=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!S)),O(W=>!W)},[A,E]=g.useState({name:"",nik:"",email:"",roleId:"",customPermissions:[],department:"",position:"",password:"",confirmPassword:""});g.useEffect(()=>{(async()=>{try{const H=await n();w(H),v([{id:"1",name:"IT"},{id:"2",name:"HR"},{id:"3",name:"Finance"},{id:"4",name:"Operations"},{id:"5",name:"Maintenance"}])}catch(H){console.error("Failed to fetch data:",H)}})()},[n,s,t]);const D=KSe.reduce((W,H)=>(W[H]=XSe.filter(P=>P.category===H),W),{}),$=W=>{c(H=>({...H,[W]:!H[W]}))},I=W=>{E(H=>({...H,customPermissions:H.customPermissions.includes(W)?H.customPermissions.filter(P=>P!==W):[...H.customPermissions,W]}))},L=W=>{const{name:H,value:P}=W.target;E(F=>({...F,[H]:P})),m[H]&&x(F=>({...F,[H]:""}))},R=()=>{const W={};return A.name.trim()||(W.name="Name is required"),A.nik.trim()?/^\d+$/.test(A.nik)||(W.nik="NIK must be numeric"):W.nik="NIK is required",A.password?A.password.length<6&&(W.password="Password must be at least 6 characters"):W.password="Password is required",A.password!==A.confirmPassword&&(W.confirmPassword="Passwords do not match"),A.department||(W.department="Department is required"),A.roleId||(W.roleId="Role is required"),x(W),Object.keys(W).length===0},z=W=>{const H=y.find(P=>P.id===W);return H?H.permissions:[]},Y=async W=>{if(W.preventDefault(),!!R()){h(!0);try{await r(A.name,A.email,A.nik,A.password,A.department,A.position,A.roleId,A.customPermissions),t("/permissions",{state:{success:"User created successfully"}})}catch(H){console.error("Failed to create user:",H),x({form:H.message||"Failed to create user. Please try again."})}finally{h(!1)}}};return s("manage_users")?a.jsxs("div",{className:`flex h-screen font-sans antialiased ${i?"dark bg-gray-900":"bg-blue-50"} text-gray-900`,children:[a.jsx(vt,{})," ",a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Mt,{mainTitle:"Add User",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:a.jsx(Mr,{}),isMobile:N,toggleSidebar:_}),a.jsxs("main",{className:`flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar ${i?"bg-gray-900":"bg-gray-50"}`,children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:`${i?"text-gray-100":"text-gray-900"} text-2xl md:text-3xl font-bold`,children:"Add New User"}),a.jsx("p",{className:`${i?"text-gray-400":"text-gray-600"} mt-1`,children:"Fill out the form below to add a new user to the system."})]}),a.jsxs(C.button,{onClick:()=>t("/permissions"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:`${i?"bg-gray-800 border-gray-700 text-gray-200 hover:bg-gray-700":"bg-white border-gray-200 text-gray-800 hover:bg-blue-50"} flex items-center space-x-2 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md border`,children:[a.jsx(vA,{className:"text-lg"}),a.jsx("span",{className:"font-semibold",children:"Back to Permissions"})]})]}),m.form&&a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:`${i?"bg-red-900 border-red-700 text-red-200":"bg-red-100 border-red-400 text-red-700"} px-4 py-3 rounded relative border mb-6`,role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsxs("span",{className:"block sm:inline",children:[" ",m.form]})]}),a.jsxs("form",{onSubmit:Y,children:[a.jsxs(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:`${i?"bg-gray-800 border-gray-700":"bg-white border-blue-50"} rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border mb-6`,children:[a.jsx("h3",{className:`text-lg font-semibold mb-4 ${i?"text-gray-100":"text-gray-900"}`,children:"User Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium ${i?"text-gray-300":"text-gray-700"}`,children:"Full Name*"}),a.jsx("input",{type:"text",name:"name",value:A.name,onChange:L,className:`mt-1 block w-full border ${i?"bg-gray-700 border-gray-600 text-gray-100":"border-gray-200 bg-white text-gray-900"} rounded-lg shadow-sm p-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200`,placeholder:"Enter full name"}),m.name&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.name})]}),a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium ${i?"text-gray-300":"text-gray-700"}`,children:"NIK (Employee ID)*"}),a.jsx("input",{type:"text",name:"nik",value:A.nik,onChange:L,className:`mt-1 block w-full border ${i?"bg-gray-700 border-gray-600 text-gray-100":"border-gray-200 bg-white text-gray-900"} rounded-lg shadow-sm p-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200`,placeholder:"Enter NIK (numeric only)"}),m.nik&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.nik})]}),a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium ${i?"text-gray-300":"text-gray-700"}`,children:"Email*"}),a.jsx("input",{type:"text",name:"email",value:A.email,onChange:L,className:`mt-1 block w-full border ${i?"bg-gray-700 border-gray-600 text-gray-100":"border-gray-200 bg-white text-gray-900"} rounded-lg shadow-sm p-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200`,placeholder:"Enter Email"}),m.email&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.email})]}),a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium ${i?"text-gray-300":"text-gray-700"}`,children:"Department*"}),a.jsxs("select",{name:"department",value:A.department,onChange:L,className:`mt-1 block w-full border ${i?"bg-gray-700 border-gray-600 text-gray-100":"border-gray-200 bg-white text-gray-900"} rounded-lg shadow-sm p-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200`,children:[a.jsx("option",{value:"",children:"Select Department"}),j.map(W=>a.jsx("option",{value:W.name,children:W.name},W.id))]}),m.department&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.department})]}),a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium ${i?"text-gray-300":"text-gray-700"}`,children:"Position"}),a.jsx("input",{type:"text",name:"position",value:A.position,onChange:L,className:`mt-1 block w-full border ${i?"bg-gray-700 border-gray-600 text-gray-100":"border-gray-200 bg-white text-gray-900"} rounded-lg shadow-sm p-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200`,placeholder:"Enter position"})]}),a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium ${i?"text-gray-300":"text-gray-700"}`,children:"Password*"}),a.jsx("input",{type:"password",name:"password",value:A.password,onChange:L,className:`mt-1 block w-full border ${i?"bg-gray-700 border-gray-600 text-gray-100":"border-gray-200 bg-white text-gray-900"} rounded-lg shadow-sm p-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200`,placeholder:"Enter password (min 6 chars)"}),m.password&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.password})]}),a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium ${i?"text-gray-300":"text-gray-700"}`,children:"Confirm Password*"}),a.jsx("input",{type:"password",name:"confirmPassword",value:A.confirmPassword,onChange:L,className:`mt-1 block w-full border ${i?"bg-gray-700 border-gray-600 text-gray-100":"border-gray-200 bg-white text-gray-900"} rounded-lg shadow-sm p-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200`,placeholder:"Confirm password"}),m.confirmPassword&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.confirmPassword})]}),a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium ${i?"text-gray-300":"text-gray-700"}`,children:"Role*"}),a.jsxs("select",{name:"roleId",value:A.roleId,onChange:L,className:`mt-1 block w-full border ${i?"bg-gray-700 border-gray-600 text-gray-100":"border-gray-200 bg-white text-gray-900"} rounded-lg shadow-sm p-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200`,children:[a.jsx("option",{value:"",children:"Select Role"}),y.map(W=>a.jsx("option",{value:W.id,children:W.name},W.id))]}),m.roleId&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.roleId})]})]})]}),a.jsxs(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:`${i?"bg-gray-800 border-gray-700":"bg-white border-blue-50"} rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border mb-6`,children:[a.jsx("h3",{className:`text-lg font-semibold mb-4 ${i?"text-gray-100":"text-gray-900"}`,children:"Custom Permissions"}),a.jsx("p",{className:`text-sm mb-4 ${i?"text-gray-400":"text-gray-600"}`,children:"Select additional permissions beyond the user's role. Permissions already included in the role are disabled."}),a.jsx("div",{className:"space-y-4",children:Object.entries(D).map(([W,H])=>a.jsxs("div",{className:`${i?"border-gray-700":"border-gray-200"} border rounded-lg overflow-hidden`,children:[a.jsxs("button",{type:"button",onClick:()=>$(W),className:`w-full flex justify-between items-center p-3 ${i?"bg-gray-700 hover:bg-gray-600":"bg-gray-50 hover:bg-gray-100"} transition-colors duration-200`,children:[a.jsx("span",{className:`font-medium ${i?"text-gray-200":"text-gray-700"}`,children:W}),l[W]?a.jsx(gre,{className:`${i?"text-gray-400":"text-gray-500"}`}):a.jsx(pre,{className:`${i?"text-gray-400":"text-gray-500"}`})]}),a.jsx(kt,{children:l[W]&&a.jsx(C.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:`p-3 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 ${i?"bg-gray-800":"bg-white"}`,children:H.map(P=>{const F=A.roleId?z(A.roleId).includes(P.id):!1,X=A.customPermissions.includes(P.id),te=F;return a.jsxs("div",{className:`flex items-center ${te?"opacity-50":""}`,children:[a.jsx("input",{type:"checkbox",id:`perm-${P.id}`,checked:X||F,onChange:()=>!te&&I(P.id),disabled:te,className:`h-4 w-4 rounded focus:ring-blue-500
                                  ${F?i?"text-purple-400 bg-gray-700 border-gray-600":"text-purple-600":i?"text-blue-400 bg-gray-700 border-gray-600":"text-blue-600"} border-gray-300`}),a.jsxs("label",{htmlFor:`perm-${P.id}`,className:`ml-2 text-sm ${i?"text-gray-300":"text-gray-700"}`,children:[a.jsxs("div",{className:"font-medium flex items-center",children:[P.name,F&&a.jsx("span",{className:`ml-2 text-xs ${i?"bg-purple-900 text-purple-300":"bg-purple-100 text-purple-800"} px-2 py-0.5 rounded`,children:"from role"})]}),a.jsx("div",{className:"text-gray-500 text-xs",children:P.description})]})]},P.id)})})})]},W))})]}),a.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[a.jsx(C.button,{type:"button",onClick:()=>t("/permissions"),whileHover:{scale:1.03},whileTap:{scale:.97},className:`${i?"border-gray-600 text-gray-200 hover:bg-gray-700":"border-gray-200 text-gray-700 hover:bg-blue-50"} inline-flex items-center px-5 py-2.5 border text-base font-medium rounded-md shadow-sm bg-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200`,children:"Cancel"}),a.jsx(C.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},disabled:d,className:`inline-flex items-center px-5 py-2.5 border border-transparent text-base font-medium rounded-md shadow-sm text-white ${i?"bg-blue-700 hover:bg-blue-800":"bg-blue-600 hover:bg-blue-700"} focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed`,children:d?a.jsxs(a.Fragment,{children:[a.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating..."]}):a.jsxs(a.Fragment,{children:[a.jsx(bre,{className:"mr-2 h-5 w-5"}),"Create User"]})})]})]})]})]})]}):a.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100",children:a.jsx("div",{className:"text-xl",children:"You don't have permission to access this page"})})},by=({title:t,value:e,change:r,icon:n})=>{const s=r.startsWith("+");return a.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),a.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),a.jsxs("p",{className:`mt-3 text-xs font-semibold ${s?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})},QSe=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(C.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl mx-auto p-6 border border-blue-100 max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(at,{size:24})})]}),a.jsx("div",{children:n})]})}):null,ZSe=({isOpen:t,onClose:e,onAssign:r,workOrder:n,technicians:s})=>{const[i,o]=g.useState(""),l=()=>{n&&i&&(r(n.id,i),e())};return!t||!n?null:a.jsx(QSe,{isOpen:t,onClose:e,title:`Assign Work Order #${n.work_order_no||n.id}`,children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("p",{className:"text-gray-700",children:["Work Order ",a.jsxs("strong",{children:["#",n.work_order_no||n.id]})," from ",a.jsx("strong",{children:n.requester.name})," needs to be assigned."]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"technician-select",className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Technician"}),a.jsxs("select",{id:"technician-select",value:i,onChange:c=>o(c.target.value),className:"mt-1 block w-full pl-3 pr-10 py-2.5 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md",children:[a.jsx("option",{value:"",children:"Select Technician"}),s.map(c=>{var d;return a.jsxs("option",{value:c.id,children:[c.name," - ",((d=c.department)==null?void 0:d.name)||c.department_name]},c.id)})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:e,className:"px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:l,disabled:!i,className:`px-4 py-2 rounded-md text-sm font-semibold transition-colors duration-200 ${i?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-300 text-gray-600 cursor-not-allowed"}`,children:"Assign"})]})]})})},eNe=()=>{const[t,e]=g.useState(!1),[r,n]=g.useState(!1),[s,i]=g.useState(""),[o,l]=g.useState("all"),[c,d]=g.useState(!1),[h,m]=g.useState(!1),[x,y]=g.useState(!1),[w,j]=g.useState(null),[v,N]=g.useState(1),[T]=g.useState(5),[S,O]=g.useState(window.innerWidth<768),[_,A]=g.useState(!1),[E,D]=g.useState(!1),[$,I]=g.useState([]),[L,R]=g.useState(!0),[z,Y]=g.useState(null),[W,H]=g.useState(!1),[P,F]=g.useState(null),[X,te]=g.useState(!1),[q,Z]=g.useState([]),[ie,oe]=g.useState(!1),le=jt(),ge=ua(),Le=g.useRef(null),Oe=g.useRef(null),{user:xe,getWorkOrdersIT:Me,updateWorkOrderIT:Be,getUsers:re,hasPermission:se,getVendor:ee}=St(),ve=ge.pathname==="/workorders/it/assignment",Ge=ge.pathname==="/workorders/it/reports",Ke=ge.pathname==="/workorders/it/knowledgebase",ye=ge.pathname==="/workorders/it",ot=ge.pathname==="/workorders/it/receiver";ge.pathname;const mt=g.useCallback(async()=>{R(!0),Y(null);try{const ce=(await Me()).filter(be=>{var $e,ue,fe;return(((ue=($e=be.service)==null?void 0:$e.owner)==null?void 0:ue.id)||((fe=be.service)==null?void 0:fe.service_owner))===Number(xe==null?void 0:xe.id)});I(ce)}catch(B){Y(B.message||"Failed to load work orders.")}finally{R(!1)}},[Me,xe==null?void 0:xe.id]),nt=g.useCallback(async()=>{try{const ce=(await re()).filter(be=>{var Se,$e,ue,fe;return((Se=be.roles)==null?void 0:Se.includes("technician"))||((ue=($e=be.department)==null?void 0:$e.name)==null?void 0:ue.toLowerCase().includes("it"))||((fe=be.position)==null?void 0:fe.toLowerCase().includes("technician"))});Z(ce)}catch(B){console.error("Failed to fetch technicians:",B)}},[re]),xt=g.useCallback(async(B,ce)=>{H(!0),F(null),te(!1);try{const be=await Be({...ce,id:B});return I(Se=>Se.map($e=>$e.id===B?be:$e)),te(!0),setTimeout(()=>te(!1),3e3),be}catch(be){throw F(be.message||"Failed to update work order."),be}finally{H(!1)}},[Be]),Nt=()=>{O(window.innerWidth<768),window.innerWidth<768&&n(!1)},wt=B=>{Le.current&&!Le.current.contains(B.target)&&A(!1),Oe.current&&!Oe.current.contains(B.target)&&D(!1)};g.useEffect(()=>(window.addEventListener("resize",Nt),document.addEventListener("mousedown",wt),mt(),nt(),()=>{window.removeEventListener("resize",Nt),document.removeEventListener("mousedown",wt)}),[mt,nt]);const zt=B=>{switch(B){case"New":return"bg-gray-500 text-white";case"Assigned":return"bg-blue-600 text-white";case"In Progress":return"bg-cyan-500 text-white";case"Escalated":return"bg-purple-500 text-white";case"Vendor Handled":return"bg-red-500 text-white";case"Resolved":return"bg-orange-500 text-white";case"Cancel":return"bg-red-500 text-white";case"Closed":return"bg-gray-900 text-white";default:return"bg-gray-500 text-white"}},rt=B=>{switch(B==null?void 0:B.toLowerCase()){case"high":return"bg-red-500 text-white";case"medium":return"bg-yellow-500 text-white";case"low":return"bg-green-500 text-white";case"critical":return"bg-purple-500 text-white";default:return"bg-gray-500 text-white"}},Ne=B=>{switch(B){case"New":return 1;case"Assigned":return 2;case"In Progress":return 3;case"Escalated":return 4;case"Vendor Handled":return 5;case"Resolved":return 6;case"Cancel":return 7;case"Closed":return 8;default:return 9}},ze=B=>{switch(B==null?void 0:B.toLowerCase()){case"critical":return 1;case"high":return 2;case"medium":return 3;case"low":return 4;default:return 5}},we=g.useCallback(B=>{const ce=$.find(be=>be.id===B);ce&&(j(ce),m(!0))},[$]);g.useCallback(B=>{const ce=$.find(be=>be.id===B);ce&&(j(ce),y(!0))},[$]),g.useCallback(async B=>{try{await xt(B.id,B),y(!1),j(null)}catch{}},[xt]);const ut=()=>{n(B=>!B)},ht=$.filter(B=>{var Se,$e,ue,fe;const ce=(($e=(Se=B.requester)==null?void 0:Se.name)==null?void 0:$e.toLowerCase().includes(s.toLowerCase()))||((ue=B.work_order_no)==null?void 0:ue.toLowerCase().includes(s.toLowerCase()))||((fe=B.complaint)==null?void 0:fe.toLowerCase().includes(s.toLowerCase()))||String(B.id).includes(s),be=o==="all"||B.handling_status===o;return ce&&be}).sort((B,ce)=>{var fe,Ae;const be=Ne(B.handling_status),Se=Ne(ce.handling_status);if(be!==Se)return be-Se;const $e=ze(((fe=B.service)==null?void 0:fe.priority)||"Medium"),ue=ze(((Ae=ce.service)==null?void 0:Ae.priority)||"Medium");return $e!==ue?$e-ue:new Date(ce.created_at).getTime()-new Date(B.created_at).getTime()}),We=v*T,he=We-T,Je=ht.slice(he,We),Ue=Math.ceil(ht.length/T),ae=B=>N(B),ne=g.useCallback(B=>{j(B),oe(!0)},[]),Te=g.useCallback(async(B,ce)=>{try{await xt(B,{assigned_to_id:parseInt(ce),handling_status:"Assigned",handling_date:new Date().toISOString()}),oe(!1),j(null)}catch(be){console.error("Failed to assign work order:",be)}},[xt]),et=B=>{var ce;return B.vendor?`${B.vendor.name}`:((ce=B.assigned_to)==null?void 0:ce.name)||"Unassigned"},ct=B=>B.vendor?"vendor":B.assigned_to?"user":"unassigned",pe=({order:B,onClose:ce})=>{var pt,Ee,Ye,bt,Qt,Dr,Vr,Ot,dr,Rt,Or,_e;const be=De=>De==null?"-":typeof De=="object"&&De!==null?De.name||De.title||De.id||"-":typeof De=="string"?De.trim()!==""?De.trim():"-":typeof De=="number"?De.toString():String(De),Se=De=>De?new Date(De).toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-",$e=({status:De})=>{const Ze={New:"bg-gray-100 text-gray-800 border-gray-300",Assigned:"bg-blue-100 text-blue-800 border-blue-300","In Progress":"bg-cyan-100 text-cyan-800 border-cyan-300",Escalated:"bg-purple-100 text-purple-800 border-purple-300","Vendor Handled":"bg-red-100 text-red-800 border-red-300",Resolved:"bg-orange-100 text-orange-800 border-orange-300",Cancel:"bg-gray-100 text-gray-800 border-gray-300",Closed:"bg-green-100 text-green-800 border-green-300"};return a.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold border ${Ze[De]||Ze.New}`,children:De})},ue=({priority:De})=>{const Ze={Critical:"bg-purple-100 text-purple-800 border-purple-300",High:"bg-red-100 text-red-800 border-red-300",Medium:"bg-yellow-100 text-yellow-800 border-yellow-300",Low:"bg-green-100 text-green-800 border-green-300"};return a.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold border ${Ze[De]||Ze.Medium}`,children:De||"Medium"})},fe=({title:De,children:Ze,icon:K})=>a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[a.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-4 border-b border-gray-200",children:a.jsxs("div",{className:"flex items-center",children:[K&&a.jsx("div",{className:"mr-3 text-blue-600",children:K}),a.jsx("h3",{className:"text-lg font-bold text-gray-900",children:De})]})}),a.jsx("div",{className:"p-6",children:Ze})]}),Ae=({label:De,value:Ze,icon:K,fullWidth:ke=!1,priority:He="medium"})=>{const Pt={high:"border-l-4 border-l-blue-500 bg-blue-25",medium:"border-l-2 border-l-gray-200",low:"border-l border-l-gray-100"};return a.jsx("div",{className:`${ke?"col-span-full":""}`,children:a.jsx("div",{className:`p-4 rounded-lg ${Pt[He]} transition-all duration-200 hover:shadow-sm`,children:a.jsxs("div",{className:"flex items-start space-x-3",children:[K&&a.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:K}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1",children:De}),a.jsx("p",{className:"text-sm font-medium text-gray-900 leading-relaxed",children:Ze})]})]})})})},tt=({label:De,htmlContent:Ze,icon:K,fullWidth:ke=!1})=>{if(!Ze)return a.jsx(Ae,{label:De,value:"-",icon:K,fullWidth:ke,priority:"low"});const He=$l.sanitize(Ze,{ALLOWED_TAGS:["h1","h2","h3","h4","h5","h6","p","br","span","div","ol","ul","li","strong","b","em","i","u","s","strike","code","mark","sub","sup","blockquote","pre"],ALLOWED_ATTR:["style","class","data-color","align","type","start"]});return a.jsx("div",{className:`${ke?"col-span-full":""}`,children:a.jsx("div",{className:"p-4 rounded-lg border-l-2 border-l-blue-200 bg-blue-25 transition-all duration-200 hover:shadow-sm",children:a.jsxs("div",{className:"flex items-start space-x-3",children:[K&&a.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:K}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:De}),a.jsx("div",{className:`rich-text-content text-sm text-gray-900 leading-relaxed prose prose-sm max-w-none\r
                          prose-headings:font-semibold prose-p:my-2 prose-ul:my-2 prose-ol:my-2\r
                          prose-li:my-1 prose-strong:font-semibold prose-em:italic`,dangerouslySetInnerHTML:{__html:He}})]})]})})})},dt=({order:De})=>{const Ze=De.handling_status==="New",K=De.handling_status==="Assigned",ke=Ze&&se("assign_workorders");return a.jsxs("div",{className:"flex flex-wrap gap-3 mt-6 pt-6 border-t border-gray-200",children:[ke&&a.jsxs(C.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{oe(!0)},className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors duration-200 font-semibold text-sm",children:[a.jsx(Mr,{className:"w-4 h-4 mr-2"}),"Assign Technician"]}),K&&a.jsxs(C.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>le(`/workorders/it/receiver/editreceiver/${De.id}`),className:"inline-flex items-center px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500 transition-colors duration-200 font-semibold text-sm",children:[a.jsx(Bn,{className:"w-4 h-4 mr-2"}),"Edit Assignment"]}),a.jsxs(C.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:ce,className:"inline-flex items-center px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500 transition-colors duration-200 font-semibold text-sm",children:[a.jsx(at,{className:"w-4 h-4 mr-2"}),"Close"]})]})};return a.jsxs("div",{className:"space-y-6 max-h-[70vh] overflow-y-auto custom-scrollbar pr-2",children:[a.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6",children:a.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:["#",B.work_order_no||B.id]}),a.jsx($e,{status:B.handling_status}),a.jsx(ue,{priority:(pt=B.service)==null?void 0:pt.priority})]}),a.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(xn,{className:"w-4 h-4"}),"Created: ",Se(B.date)]}),a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(Lt,{className:"w-4 h-4"}),B.handling_date?`Handling: ${Se(B.handling_date)}`:"Not yet handled"]})]})]})})}),a.jsx(fe,{title:"Service Owner Information",icon:a.jsx(Mr,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(Ae,{label:"Service Owner",value:be(((Ye=(Ee=B.service)==null?void 0:Ee.owner)==null?void 0:Ye.name)||(xe==null?void 0:xe.name)),icon:a.jsx(Mr,{className:"w-4 h-4"}),priority:"high"}),a.jsx(Ae,{label:"Service Department",value:be((bt=xe==null?void 0:xe.department)==null?void 0:bt.name),icon:a.jsx(Tn,{className:"w-4 h-4"})}),a.jsx(Ae,{label:"Service Type",value:be((Qt=B.service_type)==null?void 0:Qt.group_name),icon:a.jsx(pn,{className:"w-4 h-4"}),priority:"high"}),a.jsx(Ae,{label:"Service Name",value:be((Dr=B.service)==null?void 0:Dr.service_name),icon:a.jsx(ir,{className:"w-4 h-4"}),priority:"high"})]})}),a.jsx(fe,{title:"Request Information",icon:a.jsx(ir,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsx(Ae,{label:"Requester",value:be((Vr=B.requester)==null?void 0:Vr.name),icon:a.jsx(Mr,{className:"w-4 h-4"}),priority:"high"}),a.jsx(Ae,{label:"Requester Department",value:be(B.department_name||((Ot=B.department)==null?void 0:Ot.name)),icon:a.jsx(Tn,{className:"w-4 h-4"})}),a.jsx(Ae,{label:"Reception Method",value:be(B.reception_method),icon:a.jsx(Ja,{className:"w-4 h-4"})}),a.jsx(Ae,{label:"Known By",value:be((dr=B.known_by)==null?void 0:dr.name),icon:a.jsx(us,{className:"w-4 h-4"})}),a.jsx(Ae,{label:"Asset Number",value:be(B.asset_no),icon:a.jsx(ir,{className:"w-4 h-4"})})]})}),a.jsx(fe,{title:"Technical Details",icon:a.jsx(pn,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsx(Ae,{label:"Device Information",value:be(B.device_info),icon:a.jsx(Tn,{className:"w-4 h-4"}),fullWidth:!0}),a.jsx(tt,{label:"Complaint Details",htmlContent:B.complaint||"",icon:a.jsx(er,{className:"w-4 h-4"}),fullWidth:!0})]})}),a.jsx(fe,{title:"Assignment & Handling",icon:a.jsx(Lt,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:col-span-2",children:[a.jsx(Ae,{label:"Current Status",value:be(B.handling_status),icon:a.jsx(Lt,{className:"w-4 h-4"}),priority:"high"}),a.jsx(Ae,{label:"Priority Level",value:be(((Rt=B.service)==null?void 0:Rt.priority)||"Medium"),icon:a.jsx(er,{className:"w-4 h-4"}),priority:"high"})]}),a.jsx(Ae,{label:"Assigned To",value:be(((Or=B.assigned_to)==null?void 0:Or.name)||"Unassigned"),icon:a.jsx(Mr,{className:"w-4 h-4"})}),a.jsx(Ae,{label:"Assignment Type",value:B.vendor?"Vendor":B.assigned_to?"Internal Technician":"Not Assigned",icon:a.jsx(Tn,{className:"w-4 h-4"})}),a.jsx(Ae,{label:"Handling Start Date",value:Se(B.handling_date||"-"),icon:a.jsx(xn,{className:"w-4 h-4"})}),a.jsx(Ae,{label:"Received By",value:be(((_e=B.received_by)==null?void 0:_e.name)||"-"),icon:a.jsx($t,{className:"w-4 h-4"})}),a.jsx(tt,{label:"Action Taken",htmlContent:B.action_taken||"",icon:a.jsx(pn,{className:"w-4 h-4"}),fullWidth:!0}),a.jsx(tt,{label:"Technical Remarks",htmlContent:B.remarks||"",icon:a.jsx(ir,{className:"w-4 h-4"}),fullWidth:!0})]})}),B.vendor&&a.jsx(fe,{title:"Vendor Assignment",icon:a.jsx(Mr,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsx(Ae,{label:"Vendor Name",value:be(B.vendor.name),icon:a.jsx(Mr,{className:"w-4 h-4"}),priority:"high"}),a.jsx(Ae,{label:"Contact Person",value:be(B.vendor.contact_person),icon:a.jsx(Mr,{className:"w-4 h-4"})}),a.jsx(Ae,{label:"Email",value:be(B.vendor.email),icon:a.jsx($h,{className:"w-4 h-4"})}),a.jsx(Ae,{label:"Phone",value:be(B.vendor.telp),icon:a.jsx(yo,{className:"w-4 h-4"})}),a.jsx(Ae,{label:"Mobile",value:be(B.vendor.HP),icon:a.jsx(yo,{className:"w-4 h-4"})}),a.jsx(Ae,{label:"Address",value:be(B.vendor.address),icon:a.jsx(Si,{className:"w-4 h-4"}),fullWidth:!0})]})}),a.jsx(fe,{title:"Timeline",icon:a.jsx(Lt,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-lg border border-green-200",children:[a.jsx("span",{className:"text-sm font-medium text-green-800",children:"Request Created"}),a.jsx("span",{className:"text-sm text-green-600",children:Se(B.date)})]}),B.handling_date&&a.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg border border-blue-200",children:[a.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Handling Started"}),a.jsx("span",{className:"text-sm text-blue-600",children:Se(B.handling_date)})]}),B.assigned_to&&a.jsxs("div",{className:"flex justify-between items-center p-3 bg-purple-50 rounded-lg border border-purple-200",children:[a.jsx("span",{className:"text-sm font-medium text-purple-800",children:"Assigned to Technician"}),a.jsx("span",{className:"text-sm text-purple-600",children:be(B.assigned_to.name)})]})]})}),B.attachment&&a.jsx(fe,{title:"Attachment",icon:a.jsx(Ni,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-blue-25 rounded-lg border-l-4 border-l-blue-400",children:[a.jsx(Ni,{className:"w-5 h-5 text-blue-600 flex-shrink-0"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"Supporting Document"}),a.jsxs("a",{href:B.attachment,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-blue-600 hover:text-blue-800 font-medium text-sm transition-colors duration-200",children:[a.jsx(rO,{className:"w-4 h-4 mr-1"}),"View Attachment"]})]})]})}),a.jsx(dt,{order:B})]})};return g.useEffect(()=>{N(1),document.documentElement.classList.toggle("dark",t)},[s,o,t]),L?a.jsxs("div",{className:"flex h-screen items-center justify-center bg-blue-50",children:[a.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-blue-600"}),a.jsx("p",{className:"ml-4 text-lg text-gray-700",children:"Loading work orders..."})]}):z?a.jsxs("div",{className:"flex h-screen items-center justify-center bg-red-50",children:[a.jsx(er,{className:"text-red-600 text-5xl"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-lg text-red-800",children:z}),a.jsx("button",{onClick:mt,className:"mt-4 px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Try Again"})]})]}):a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Mt,{mainTitle:"IT Work Orders - Receiver",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:a.jsx(ir,{}),isMobile:S,toggleSidebar:ut}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"isi style mb-6 flex space-x-6 border-b border-gray-200",children:[a.jsx(C.div,{whileTap:{scale:.98},onClick:()=>le("/workorders/it"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${ye?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Request"}),a.jsx(C.div,{whileTap:{scale:.98},onClick:()=>le("/workorders/it/receiver"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${ot?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Receiver"}),a.jsx(C.div,{whileTap:{scale:.98},onClick:()=>le("/workorders/it/assignment"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${ve?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Assignment"}),a.jsx(C.div,{whileTap:{scale:.98},onClick:()=>le("/workorders/it/reports"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${Ge?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Reports"}),a.jsx(C.div,{whileTap:{scale:.98},onClick:()=>le("/workorders/it/knowledgebase"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${Ke?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Knowledge Base"})]}),P&&a.jsxs(C.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",children:[a.jsx("span",{className:"block sm:inline",children:P}),a.jsx("button",{onClick:()=>F(null),className:"absolute top-0 right-0 p-3",children:a.jsx(at,{size:16})})]}),X&&a.jsxs(C.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-4 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative",children:[a.jsx("span",{className:"block sm:inline",children:"Work order updated successfully!"}),a.jsx("button",{onClick:()=>te(!1),className:"absolute top-0 right-0 p-3",children:a.jsx(at,{size:16})})]}),a.jsx(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"IT Receiver"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Manage IT-related work orders as a service owner"})]})}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[a.jsx(by,{title:"Total IT Assignments",value:ht.length.toString(),change:"+8%",icon:a.jsx(ir,{})}),a.jsx(by,{title:"In Progress",value:ht.filter(B=>["In Progress","Escalated","Vendor Handled"].includes(B.handling_status)).length.toString(),change:"-1",icon:a.jsx(pn,{})}),a.jsx(by,{title:"Resolved",value:ht.filter(B=>["Resolved","Done"].includes(B.handling_status)).length.toString(),change:"+1",icon:a.jsx($t,{})}),a.jsx(by,{title:"Assigned",value:ht.filter(B=>B.handling_status==="Assigned").length.toString(),change:"+3",icon:a.jsx(Lt,{})})]}),a.jsx(C.div,{layout:!0,className:"mb-6 bg-white rounded-2xl shadow-md p-4 md:p-6 border border-blue-50",children:a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Wn,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),a.jsx("input",{type:"text",placeholder:"Search IT assignments...",className:"w-full pl-12 pr-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base transition-all duration-200",value:s,onChange:B=>i(B.target.value)})]}),a.jsx(kt,{children:c&&a.jsx(C.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3 w-full md:w-auto",children:a.jsxs("select",{className:"border border-gray-200 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base appearance-none bg-no-repeat bg-right-12 bg-center-y transition-all duration-200",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='currentColor'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/svg%3E")`,backgroundSize:"1.2rem"},value:o,onChange:B=>l(B.target.value),children:[a.jsx("option",{value:"all",children:"All Statuses"}),a.jsx("option",{value:"New",children:"New"}),a.jsx("option",{value:"Assigned",children:"Assigned"}),a.jsx("option",{value:"In Progress",children:"In Progress"}),a.jsx("option",{value:"Escalated",children:"Escalated"}),a.jsx("option",{value:"Vendor Handled",children:"Vendor Handled"}),a.jsx("option",{value:"Resolved",children:"Resolved"}),a.jsx("option",{value:"Done",children:"Done"}),a.jsx("option",{value:"Cancel",children:"Cancel"})]})})})]})}),a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-50",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-100",children:[a.jsx("thead",{className:"bg-blue-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Requester"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Date"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Handling Date"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Priority"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Ticket Status"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Assigned To"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:Je.length>0?Je.map(B=>{var fe,Ae,tt,dt;const be=!(B.handling_status==="Resolved"||B.handling_status==="Done"||B.handling_status==="Cancel"||B.handling_status==="Closed")&&se("edit_workorders"),Se=B.handling_status==="New";["In Progress","Escalated","Vendor Handled"].includes(B.handling_status);const $e=et(B),ue=ct(B);return a.jsxs(C.tr,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.2},whileHover:{backgroundColor:"rgba(239, 246, 255, 1)"},className:"transition-colors duration-150",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 cursor-pointer hover:text-blue-600 hover:underline transition-colors duration-200",onClick:()=>we(B.id),title:"Click to view details",children:B.work_order_no||"-"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:B.requester.name}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:new Date(B.date).toLocaleDateString()}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:B.handling_date?new Date(B.handling_date).toLocaleDateString():"-"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-bold rounded-full ${rt((fe=B.service)==null?void 0:fe.priority)} shadow-sm`,children:((Ae=B.service)==null?void 0:Ae.priority)||"Medium"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-bold rounded-full ${zt(B.handling_status)} shadow-sm`,children:B.handling_status})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:Se?a.jsx(C.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>ne(B),className:"px-3 py-1.5 text-xs font-semibold rounded-full text-white bg-blue-600 hover:bg-blue-700 transition-colors duration-200",children:"Click to Assign"}):a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:`text-sm font-medium ${ue==="vendor"?"text-purple-600":ue==="user"?"text-blue-600":"text-gray-500"}`,children:$e}),ue==="vendor"&&a.jsx("span",{className:"ml-2 px-1.5 py-0.5 text-xs bg-purple-100 text-purple-800 rounded-full",children:"Vendor"})]})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium flex items-center space-x-2",children:[a.jsx(C.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>we(B.id),className:"text-blue-600 hover:text-blue-800 transition-colors duration-200 flex items-center space-x-1",title:"View Details",children:a.jsx(us,{className:"text-lg"})}),be&&(B.handling_status!=="In Progress"||!((tt=B.assigned_to)!=null&&tt.name)||((dt=B.assigned_to)==null?void 0:dt.name)==="N/A")&&a.jsx(C.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>le(`/workorders/it/receiver/editreceiver/${B.id}`),className:"text-gray-600 hover:text-gray-800 transition-colors duration-200 flex items-center space-x-1",title:"Edit Assignment",children:a.jsx(Bn,{className:"text-lg"})})]})]},B.id)}):a.jsx("tr",{children:a.jsx("td",{colSpan:6,className:"px-6 py-10 text-center text-gray-600 text-lg",children:"No IT work orders for assignment found matching your criteria."})})})]})})}),ht.length>T&&a.jsxs(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"mt-8 flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{className:"text-sm text-gray-600 mb-4 sm:mb-0",children:["Showing ",a.jsx("span",{className:"font-semibold",children:he+1})," to ",a.jsx("span",{className:"font-semibold",children:Math.min(We,ht.length)})," of"," ",a.jsx("span",{className:"font-semibold",children:ht.length})," results"]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(C.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>ae(v-1),disabled:v===1,className:"px-4 py-2 border border-gray-200 rounded-lg bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm",children:"Previous"}),Array.from({length:Ue},(B,ce)=>a.jsx(C.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>ae(ce+1),className:`px-4 py-2 rounded-lg transition-colors duration-200 shadow-sm
                          ${v===ce+1?"bg-blue-600 text-white shadow-md":"bg-white text-gray-700 hover:bg-blue-50 border border-gray-200"}
                        `,children:ce+1},ce+1)),a.jsx(C.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>ae(v+1),disabled:v===Ue,className:"px-4 py-2 border border-gray-200 rounded-lg bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm",children:"Next"})]})]})]})]}),w&&a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 p-4 overflow-y-auto",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsxs("h3",{className:"text-2xl font-bold text-gray-900",children:["Work Order Details #",w.work_order_no||w.id]}),a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{m(!1),j(null)},className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(at,{size:24})})]}),a.jsx("div",{className:"overflow-y-auto max-h-[70vh]",children:a.jsx(pe,{order:w,onClose:()=>{m(!1),j(null)}})})]})})}),w&&a.jsx(ZSe,{isOpen:ie,onClose:()=>{oe(!1),j(null)},onAssign:Te,workOrder:w,technicians:q})]})},w7=({content:t,className:e=""})=>{if(!t)return a.jsx("div",{className:`w-full bg-blue-50 border border-blue-100 rounded-lg p-3 text-gray-800 text-base font-medium min-h-[44px] flex items-center ${e}`,children:"-"});const r=$l.sanitize(t,{ALLOWED_TAGS:["h1","h2","h3","h4","h5","h6","p","br","span","div","ol","ul","li","strong","b","em","i","u","s","strike","code","mark","sub","sup"],ALLOWED_ATTR:["style","class","data-color","align","type","start"]});return a.jsx("div",{className:`rich-text-content w-full bg-blue-50 border border-blue-100 rounded-lg p-4 text-gray-800 min-h-[44px] ${e}`,dangerouslySetInnerHTML:{__html:r}})},tNe=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(C.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl mx-auto p-6 border border-blue-100 max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100 sticky top-0 bg-white",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(at,{size:24})})]}),a.jsx("div",{children:n})]})}):null,rNe=()=>{const[t,e]=g.useState(!1),[r,n]=g.useState(!1),[s,i]=g.useState(""),[o,l]=g.useState("all"),[c,d]=g.useState(!1),[h,m]=g.useState(null),[x,y]=g.useState(null),[w,j]=g.useState(1),[v]=g.useState(5),[N,T]=g.useState(window.innerWidth<768),[S,O]=g.useState(!1),[_,A]=g.useState(!1),[E,D]=g.useState(!0),[$,I]=g.useState(null),{user:L,hasPermission:R,getWorkOrdersIT:z}=St(),Y=jt(),W=ua(),H=g.useRef(null),P=g.useRef(null);W.pathname,W.pathname;const F=W.pathname==="/workorders/it";W.pathname;const X=W.pathname==="/workorders/it/assignment",te=W.pathname==="/workorders/it/receiver",q=W.pathname==="/workorders/it/reports",Z=W.pathname==="/workorders/it/knowledgebase",[ie,oe]=g.useState([]),le=g.useCallback(async()=>{try{D(!0),I(null);const Ge=(await z()).filter(Ke=>Ke.action_taken&&Ke.handling_status==="Closed").map(Ke=>{var mt,nt,xt;const ye=Ke.complaint.split(" ").slice(0,5).join(" "),ot=`Solution for: ${ye}${ye.length<Ke.complaint.length?"...":""}`;return{id:Ke.id,title:ot,content:Ke.action_taken||"No action taken details available.",category:((mt=Ke.service)==null?void 0:mt.service_name)||"General",tags:[((nt=Ke.service_type)==null?void 0:nt.group_name)||"General",Ke.handling_status||"Completed",...Ke.asset_no?[`Asset: ${Ke.asset_no}`]:[]],lastUpdated:Ke.handling_date||Ke.updated_at||Ke.created_at,workOrderNo:Ke.work_order_no,technician:((xt=Ke.assigned_to)==null?void 0:xt.name)||"Unknown Technician",completionDate:Ke.handling_date||Ke.updated_at}});oe(Ge)}catch(ve){I("Failed to load knowledge base articles"),console.error("Error loading work orders:",ve)}finally{D(!1)}},[z]);g.useEffect(()=>{const ve=()=>{T(window.innerWidth<768),window.innerWidth<768&&n(!1)};return window.addEventListener("resize",ve),()=>window.removeEventListener("resize",ve)},[]),g.useEffect(()=>{const ve=Ge=>{H.current&&!H.current.contains(Ge.target)&&O(!1),P.current&&!P.current.contains(Ge.target)&&A(!1)};return document.addEventListener("mousedown",ve),()=>{document.removeEventListener("mousedown",ve)}},[]),g.useEffect(()=>{le()},[le]),g.useEffect(()=>{j(1),document.documentElement.classList.toggle("dark",t)},[s,o,r,t]);const ge=()=>{n(ve=>!ve)},Le=g.useCallback(ve=>{y(ve),d(!0)},[]),Oe=ie.filter(ve=>{const Ge=ve.title.toLowerCase().includes(s.toLowerCase())||ve.content.toLowerCase().includes(s.toLowerCase())||ve.tags.some(ye=>ye.toLowerCase().includes(s.toLowerCase())),Ke=o==="all"||ve.category===o;return Ge&&Ke}),xe=Array.from(new Set(ie.map(ve=>ve.category))),Me=w*v,Be=Me-v,re=Oe.slice(Be,Me),se=Math.ceil(Oe.length/v),ee=ve=>j(ve);return L?a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Mt,{mainTitle:"IT Work Orders - Knowladge Base",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:a.jsx(ll,{}),isMobile:N,toggleSidebar:ge}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"isi style mb-6 flex space-x-6 border-b border-gray-200",children:[a.jsx(C.div,{whileTap:{scale:.98},onClick:()=>Y("/workorders/it"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${F?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Request"}),a.jsx(C.div,{whileTap:{scale:.98},onClick:()=>Y("/workorders/it/receiver"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${te?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Receiver"}),a.jsx(C.div,{whileTap:{scale:.98},onClick:()=>Y("/workorders/it/assignment"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${X?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Assignment"}),a.jsx(C.div,{whileTap:{scale:.98},onClick:()=>Y("/workorders/it/reports"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${q?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Reports"}),a.jsx(C.div,{whileTap:{scale:.98},onClick:()=>Y("/workorders/it/knowledgebase"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${Z?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Knowledge Base"})]}),a.jsx(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"IT Knowledge Base"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Find solutions and information from completed work orders."})]})}),a.jsx("div",{className:"bg-white rounded-2xl shadow-md p-6 mb-6 border border-blue-100",children:a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[a.jsxs("div",{className:"relative w-full md:w-2/3",children:[a.jsx(Wn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),a.jsx("input",{type:"text",placeholder:"Search articles by title, content, or tags...",value:s,onChange:ve=>i(ve.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),a.jsxs("div",{className:"relative w-full md:w-1/3",children:[a.jsxs("select",{value:o,onChange:ve=>l(ve.target.value),className:"w-full p-2.5 border border-gray-300 rounded-lg appearance-none focus:ring-blue-500 focus:border-blue-500 pr-8 bg-white",children:[a.jsx("option",{value:"all",children:"All Categories"}),xe.map(ve=>a.jsx("option",{value:ve,children:ve},ve))]}),a.jsx(cn,{className:"absolute right-3 top-3.5 text-gray-400",size:18})]})]})}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:"Knowledge Articles"}),a.jsxs("div",{className:"text-sm text-gray-500",children:[Oe.length," articles found"]})]}),E?a.jsxs("div",{className:"text-center py-10",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"mt-2 text-gray-600",children:"Loading knowledge base..."})]}):$?a.jsxs("div",{className:"text-center py-10 text-red-500",children:[a.jsx(sa,{className:"mx-auto h-12 w-12 text-red-400 mb-2"}),a.jsx("p",{className:"text-lg font-medium",children:$}),a.jsx("button",{onClick:le,className:"mt-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Retry"})]}):re.length===0?a.jsxs("div",{className:"text-center py-10 text-gray-500",children:[a.jsx(sa,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsx("p",{className:"mt-2 text-lg",children:"No articles found matching your criteria."}),a.jsx("p",{className:"text-sm",children:"Try adjusting your filters or search query."})]}):a.jsx("div",{className:"grid grid-cols-1 gap-4",children:a.jsx(kt,{children:re.map(ve=>a.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,x:-20},transition:{duration:.3},className:"bg-gray-50 p-5 rounded-xl border border-gray-200 shadow-sm cursor-pointer hover:bg-blue-50 hover:border-blue-200 transition-all duration-200",onClick:()=>Le(ve),children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:ve.title}),a.jsx("div",{className:"text-gray-700 text-sm line-clamp-2 mb-3",children:a.jsx(w7,{content:ve.content,className:"line-clamp-2 bg-transparent border-none p-0"})}),a.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[a.jsx("span",{className:"px-2 py-0.5 bg-blue-100 text-blue-800 text-xs font-medium rounded-full",children:ve.category}),ve.tags.map(Ge=>a.jsx("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-700 text-xs font-medium rounded-full",children:Ge},Ge))]}),a.jsxs("div",{className:"flex justify-between items-center text-xs text-gray-500",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("span",{className:"flex items-center",children:[a.jsx(Of,{size:12,className:"mr-1"}),ve.workOrderNo]}),a.jsxs("span",{className:"flex items-center",children:[a.jsx(kR,{size:12,className:"mr-1"}),ve.technician]})]}),a.jsxs("span",{className:"flex items-center",children:[a.jsx(xn,{size:12,className:"mr-1"}),new Date(ve.lastUpdated).toLocaleDateString()]})]})]},ve.id))})}),Oe.length>v&&a.jsxs("nav",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6 mt-6",children:[a.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[a.jsx(C.button,{onClick:()=>ee(w-1),disabled:w===1,whileHover:{scale:1.05},whileTap:{scale:.95},className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),a.jsx(C.button,{onClick:()=>ee(w+1),disabled:w===se,whileHover:{scale:1.05},whileTap:{scale:.95},className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]}),a.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[a.jsx("div",{children:a.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",a.jsx("span",{className:"font-medium",children:Be+1})," to ",a.jsx("span",{className:"font-medium",children:Math.min(Me,Oe.length)})," of"," ",a.jsx("span",{className:"font-medium",children:Oe.length})," results"]})}),a.jsx("div",{children:a.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[a.jsxs(C.button,{onClick:()=>ee(w-1),disabled:w===1,whileHover:{scale:1.05},whileTap:{scale:.95},className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx("span",{className:"sr-only",children:"Previous"}),a.jsx(Il,{className:"h-5 w-5","aria-hidden":"true"})]}),[...Array(se)].map((ve,Ge)=>a.jsx(C.button,{onClick:()=>ee(Ge+1),whileHover:{scale:1.05},whileTap:{scale:.95},className:`relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium ${w===Ge+1?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:Ge+1},Ge)),a.jsxs(C.button,{onClick:()=>ee(w+1),disabled:w===se,whileHover:{scale:1.05},whileTap:{scale:.95},className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx("span",{className:"sr-only",children:"Next"}),a.jsx(sn,{className:"h-5 w-5","aria-hidden":"true"})]})]})})]})]})]})]})]}),x&&a.jsx(tNe,{isOpen:c,onClose:()=>d(!1),title:x.title,children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-600",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Of,{size:16,className:"mr-2 text-blue-600"}),a.jsx("span",{className:"font-medium",children:"Work Order:"}),a.jsx("span",{className:"ml-2",children:x.workOrderNo})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(kR,{size:16,className:"mr-2 text-green-600"}),a.jsx("span",{className:"font-medium",children:"Technician:"}),a.jsx("span",{className:"ml-2",children:x.technician})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(xn,{size:16,className:"mr-2 text-purple-600"}),a.jsx("span",{className:"font-medium",children:"Completed:"}),a.jsx("span",{className:"ml-2",children:new Date(x.completionDate).toLocaleDateString()})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(ll,{size:16,className:"mr-2 text-orange-600"}),a.jsx("span",{className:"font-medium",children:"Category:"}),a.jsx("span",{className:"ml-2",children:x.category})]})]}),a.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[a.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Solution Details"}),a.jsx(w7,{content:x.content})]}),a.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[a.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Tags"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:x.tags.map(ve=>a.jsx("span",{className:"px-3 py-1 bg-gray-100 text-gray-700 text-sm rounded-full",children:ve},ve))})]}),a.jsxs("div",{className:"border-t border-gray-200 pt-4 text-xs text-gray-500",children:["Last updated: ",new Date(x.lastUpdated).toLocaleDateString()," at ",new Date(x.lastUpdated).toLocaleTimeString()]})]})})]}):a.jsx("div",{className:"flex items-center justify-center h-screen",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})})};var nNe=["allowCreateWhileLoading","createOptionPosition","formatCreateLabel","isValidNewOption","getNewOptionData","onCreateOption","options","onChange"],j7=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",r=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,s=String(e).toLowerCase(),i=String(n.getOptionValue(r)).toLowerCase(),o=String(n.getOptionLabel(r)).toLowerCase();return i===s||o===s},v2={formatCreateLabel:function(e){return'Create "'.concat(e,'"')},isValidNewOption:function(e,r,n,s){return!(!e||r.some(function(i){return j7(e,i,s)})||n.some(function(i){return j7(e,i,s)}))},getNewOptionData:function(e,r){return{label:r,value:e,__isNew__:!0}}};function aNe(t){var e=t.allowCreateWhileLoading,r=e===void 0?!1:e,n=t.createOptionPosition,s=n===void 0?"last":n,i=t.formatCreateLabel,o=i===void 0?v2.formatCreateLabel:i,l=t.isValidNewOption,c=l===void 0?v2.isValidNewOption:l,d=t.getNewOptionData,h=d===void 0?v2.getNewOptionData:d,m=t.onCreateOption,x=t.options,y=x===void 0?[]:x,w=t.onChange,j=Po(t,nNe),v=j.getOptionValue,N=v===void 0?oU:v,T=j.getOptionLabel,S=T===void 0?iU:T,O=j.inputValue,_=j.isLoading,A=j.isMulti,E=j.value,D=j.name,$=g.useMemo(function(){return c(O,$b(E),y,{getOptionValue:N,getOptionLabel:S})?h(O,o(O)):void 0},[o,h,S,N,O,c,y,E]),I=g.useMemo(function(){return(r||!_)&&$?s==="first"?[$].concat(If(y)):[].concat(If(y),[$]):y},[r,s,_,$,y]),L=g.useCallback(function(R,z){if(z.action!=="select-option")return w(R,z);var Y=Array.isArray(R)?R:[R];if(Y[Y.length-1]===$){if(m)m(O);else{var W=h(O,O),H={action:"create-option",name:D,option:W};w(yp(A,[].concat(If($b(E)),[W]),W),H)}return}w(R,z)},[h,O,A,D,$,m,w,E]);return Ut(Ut({},j),{},{options:I,onChange:L})}var sNe=g.forwardRef(function(t,e){var r=Dq(t),n=aNe(r);return g.createElement(SO,Xt({ref:e},n))}),KY=sNe;const iNe=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(C.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(at,{size:24})})]}),a.jsx("div",{children:n})]})}):null,oNe=()=>{var ne,Te,et,ct,pe;const{addWorkOrderIT:t,user:e,getUsers:r,getServices:n,getDepartment:s,getServiceGroups:i}=St(),o=jt(),[l,c]=g.useState([]),[d,h]=g.useState([]),[m,x]=g.useState([]),[y,w]=g.useState([]),[j,v]=g.useState(window.innerWidth<768),[N,T]=g.useState(()=>{const B=localStorage.getItem("sidebarOpen");return B?JSON.parse(B):!1}),[S,O]=g.useState(!1),[_,A]=g.useState(!1),[E,D]=g.useState(!1),[$,I]=g.useState(!1),[L,R]=g.useState(null),[z,Y]=g.useState(null),[W,H]=g.useState(!1),[P,F]=g.useState(null),X=g.useRef(null),te=g.useRef(null),[q,Z]=g.useState([]),[ie,oe]=g.useState([]),[le,ge]=g.useState([]),[Le,Oe]=g.useState(!1),[xe,Me]=g.useState(!1),[Be,re]=g.useState(null),se=g.useRef(null),ee=g.useRef(null),ve=()=>{Me(!0)},Ge=()=>{const B=document.createElement("input");B.type="file",B.accept="image/*, .pdf, .doc, .docx, .xls, .xlsx",B.onchange=ce=>{const be=ce.target;if(be.files&&be.files.length>0){const Se=be.files[0];F(Se),xt($e=>({...$e,attachment:Se.name})),Me(!1)}},B.click()},Ke=async()=>{try{const B=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});re(B),se.current&&(se.current.srcObject=B)}catch(B){console.error("Error accessing camera:",B),alert("Tidak dapat mengakses kamera. Pastikan izin kamera telah diberikan.")}},ye=()=>{if(se.current&&ee.current){const B=ee.current,ce=B.getContext("2d");if(ce){B.width=se.current.videoWidth,B.height=se.current.videoHeight,ce.drawImage(se.current,0,0);const be=B.toDataURL("image/jpeg",.8);xt(Se=>({...Se,attachment:be})),Be&&(Be.getTracks().forEach(Se=>Se.stop()),re(null)),Me(!1)}}},ot=()=>{Be&&(Be.getTracks().forEach(B=>B.stop()),re(null)),Me(!1)},mt={date:new Date().toISOString().split("T")[0],reception_method:"Electronic Work Order System",requester_id:e!=null&&e.id?parseInt(e.id):0,known_by_id:((ne=e==null?void 0:e.department)==null?void 0:ne.head_id)||null,department_id:(e==null?void 0:e.department_id)||0,service_type_id:"",service_id:"",asset_no:"",device_info:"",complaint:"",attachment:null,received_by_id:null,handling_date:null,action_taken:null,handling_status:"New",remarks:null},[nt,xt]=g.useState(mt),Nt=nt.reception_method==="Electronic Work Order System";g.useEffect(()=>{e&&(async()=>{try{const be=(await i(0)).map(ue=>({id:Number(ue.id),name:ue.group_name??"",description:ue.group_description??void 0}));oe(be);const Se=await s();h(Se);const $e=await r();if(c($e),e&&e.id){const fe=await n(parseInt(e.id));x(fe),console.log("Services loaded:",fe)}}catch(ce){console.error("Failed to fetch master data:",ce)}})()},[e,r,n,s,i]),g.useEffect(()=>{if(nt.reception_method==="Electronic Work Order System"&&e&&d.length>0){const B=d.find(be=>be.id===e.department_id),ce=(B==null?void 0:B.head_id)||null;xt(be=>({...be,requester_id:parseInt(e.id),department_id:e.department_id||0,known_by_id:ce}))}},[nt.reception_method,e,d]),g.useEffect(()=>{const B=()=>{v(window.innerWidth<768),window.innerWidth<768&&T(!1)};return window.addEventListener("resize",B),()=>window.removeEventListener("resize",B)},[]),g.useEffect(()=>{const B=ce=>{X.current&&!X.current.contains(ce.target)&&A(!1),te.current&&!te.current.contains(ce.target)&&D(!1)};return document.addEventListener("mousedown",B),()=>{document.removeEventListener("mousedown",B)}},[]),g.useEffect(()=>{if(nt.service_type_id&&m.length>0){const B=m.filter(ce=>String(ce.id)===nt.service_type_id);Z(B)}else Z([])},[nt.service_type_id,m]),g.useEffect(()=>{document.documentElement.classList.toggle("dark",S),localStorage.setItem("sidebarOpen",JSON.stringify(N))},[N,S]);const wt=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!N)),T(B=>!B)},zt=g.useCallback((B,ce)=>{let be,Se;if(B&&"target"in B)be=B.target.name,Se=B.target.value;else if(B&&typeof B=="object"&&"value"in B&&ce)be=ce,Se=B.value;else if(B===null&&ce)be=ce,Se=null;else return;xt($e=>({...$e,[be]:Se}))},[]),rt=B=>{const ce=(B==null?void 0:B.value)||"";xt(be=>{var $e,ue;const Se={...be,reception_method:ce};return ce==="Electronic Work Order System"&&e?{...Se,requester_id:parseInt(e.id),department_id:(($e=e.department)==null?void 0:$e.id)||0,known_by_id:((ue=e.department)==null?void 0:ue.head_id)||null}:Se})},Ne=B=>{xt(ce=>({...ce,asset_no:B?B.value:""}))};g.useCallback(B=>{const ce=("nativeEvent"in B,B.target.files);ce&&ce.length>0?(F(ce[0]),xt(be=>({...be,attachment:ce[0].name}))):(F(null),xt(be=>({...be,attachment:null})))},[]);const ze=g.useCallback(()=>{F(null),xt(B=>({...B,attachment:null}))},[]),we=async B=>{B.preventDefault(),I(!0),R(null);const ce={...nt,date:nt.date,reception_method:nt.reception_method,requester_id:nt.requester_id,known_by_id:nt.known_by_id,department_id:nt.department_id,service_group_id:Number(nt.service_type_id),service_catalogue_id:Number(nt.service_id),asset_no:nt.asset_no,device_info:nt.device_info,complaint:nt.complaint,attachment:nt.attachment};try{await t(ce),H(!0)}catch(be){R(be.message||"Gagal menyimpan data history mesin. Silakan coba lagi."),console.error("Submission error:",be)}finally{I(!1)}},ut=B=>{xt(ce=>({...ce,service_type_id:B?B.value:"",service_id:""}))},ht=B=>{xt(ce=>({...ce,service_id:B?B.value:""}))},We=g.useCallback(()=>{H(!1),o("/workorders/it")},[o]),he={control:(B,ce)=>({...B,minHeight:"42px",borderColor:ce.isFocused?"#3B82F6":"#D1D5DB",boxShadow:ce.isFocused?"0 0 0 1px #3B82F6":"none","&:hover":{borderColor:"#9CA3AF"},borderRadius:"0.5rem",backgroundColor:"#FFFFFF",padding:"0 0.5rem",transition:"all 0.15s ease-in-out"}),valueContainer:B=>({...B,padding:"0"}),singleValue:B=>({...B,color:"#374151"}),placeholder:B=>({...B,color:"#6B7280"}),dropdownIndicator:B=>({...B,color:"#9CA3AF","&:hover":{color:"#6B7280"}}),indicatorSeparator:B=>({...B,display:"none"}),menu:B=>({...B,zIndex:9999,borderRadius:"0.5rem",border:"1px solid #E5E7EB",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"}),option:(B,ce)=>({...B,backgroundColor:ce.isFocused?"#EFF6FF":"#FFFFFF",color:"#1F2937","&:active":{backgroundColor:"#DBEAFE"},padding:"0.625rem 1rem"})},Je=g.useCallback(B=>{if(!B)return;const ce=parseInt(B.value),be=l.find(Se=>parseInt(Se.id)===ce);if(be){const Se=d.find($e=>$e.id===be.department_id);xt($e=>({...$e,requester_id:ce,department_id:be.department_id||0,known_by_id:(Se==null?void 0:Se.head_id)||null}))}},[l,d]),Ue=()=>{if(Nt){const ce=d.find(be=>be.id===(e==null?void 0:e.department_id));return(ce==null?void 0:ce.name)||"No department assigned"}const B=d.find(ce=>ce.id===nt.department_id);return(B==null?void 0:B.name)||"No department assigned"},ae=()=>{if(Nt){const ce=d.find(be=>be.id===(e==null?void 0:e.department_id));if(ce&&ce.head_id){const be=l.find(Se=>parseInt(Se.id)===ce.head_id);return(be==null?void 0:be.name)||"No department head assigned"}return"No department head assigned"}const B=d.find(ce=>ce.id===nt.department_id);if(B&&B.head_id){const ce=l.find(be=>parseInt(be.id)===B.head_id);return(ce==null?void 0:ce.name)||"No department head assigned"}return"No department head assigned"};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Mt,{mainTitle:"Work Unit",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:a.jsx(ir,{}),isMobile:j,toggleSidebar:wt}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Work Order"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Fill in the details to create a new maintenance or service request"})]}),a.jsxs(C.button,{onClick:()=>o("/workorders/it"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(Il,{className:"text-lg"})," Back to Work Orders"]})]}),a.jsxs(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[L&&a.jsxs(C.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:L}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(at,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>R(null)})})]}),a.jsxs("form",{onSubmit:we,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(Lt,{className:"mr-2 text-blue-500"})," General Information"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"date",className:"block text-sm font-medium text-gray-700 mb-1",children:["Date ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"date",id:"date",name:"date",value:nt.date,onChange:zt,required:!0,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700"})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"reception_method",className:"block text-sm font-medium text-gray-700 mb-1",children:["Reception Method ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Er,{id:"reception_method",name:"reception_method",options:[{value:"Electronic Work Order System",label:"Electronic Work Order System"},{value:"Direct Information",label:"Direct Information"},{value:"Phone",label:"Phone"},{value:"Whatsapp",label:"Whatsapp"},{value:"Email",label:"Email"}],value:{value:nt.reception_method,label:nt.reception_method},onChange:rt,placeholder:"Select Reception Method",styles:he,required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"requester_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Requester ",a.jsx("span",{className:"text-red-500",children:"*"})]}),Nt?a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-blue-50 text-gray-700",children:a.jsx("span",{children:(e==null?void 0:e.name)||"Current User"})}):a.jsx(Er,{id:"requester_id",name:"requester_id",options:l.map(B=>({value:String(B.id),label:B.name})),value:l.find(B=>parseInt(B.id)===nt.requester_id)?{value:String(nt.requester_id),label:((Te=l.find(B=>parseInt(B.id)===nt.requester_id))==null?void 0:Te.name)||""}:null,onChange:Je,placeholder:"Select Requester",styles:he,required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"department_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Department ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-blue-50 text-gray-700",children:a.jsx("span",{children:Ue()})})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"known_by_id",className:"block text-sm font-medium text-gray-700 mb-1",children:"Known By (Head)"}),a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-blue-50 text-gray-700",children:a.jsx("span",{children:ae()})})]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(Gi,{className:"mr-2 text-green-500"})," Service Details"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"service_type_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Service Type ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Er,{id:"service_type_id",name:"service_type_id",options:ie.map(B=>({value:String(B.id),label:B.name})),value:nt.service_type_id?{value:nt.service_type_id,label:((et=ie.find(B=>String(B.id)===nt.service_type_id))==null?void 0:et.name)||""}:null,onChange:ut,placeholder:"Select Service Type",styles:he,required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"service_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Service ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Er,{id:"service_id",name:"service_id",options:q.map(B=>({value:String(B.id),label:B.service_name})),value:nt.service_id?{value:nt.service_id,label:((ct=q.find(B=>String(B.id)===nt.service_id))==null?void 0:ct.service_name)||""}:null,onChange:ht,placeholder:"Select Service",styles:he}),q.length===0&&nt.service_type_id&&a.jsx("p",{className:"text-sm text-yellow-500 mt-1",children:"No services available for selected type"})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"asset_no",className:"block text-sm font-medium text-gray-700 mb-1",children:["No. Asset ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(KY,{name:"asset_no",id:"asset_no",options:y,value:nt.asset_no?{value:nt.asset_no,label:nt.asset_no}:null,onChange:Ne,onCreateOption:B=>{const ce={value:B,label:B};w(be=>[...be,ce]),Ne(ce)},placeholder:"Type or select Asset No.",styles:he,required:!0})]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(Lh,{className:"mr-2 text-purple-500"})," Device & Complaint Details"]}),a.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"device_info",className:"block text-sm font-medium text-gray-700 mb-1",children:["Device Information ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("textarea",{id:"device_info",name:"device_info",value:nt.device_info,onChange:zt,required:!0,rows:3,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"Provide details about the device (e.g., model, serial number)."})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"complaint",className:"block text-sm font-medium text-gray-700 mb-1",children:["Complaint ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Ol,{value:nt.complaint,onChange:B=>{xt(ce=>({...ce,complaint:B}))}})]})]})]}),a.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-100",children:[a.jsx("label",{htmlFor:"attachment",className:"block text-sm font-medium text-gray-700 mb-1",children:"Attachment (Optional)"}),a.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-200 border-dashed rounded-lg cursor-pointer hover:border-blue-400 transition-all duration-200",onClick:ve,children:a.jsxs("div",{className:"space-y-1 text-center",children:[a.jsx(Ni,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsx("div",{className:"flex text-sm text-gray-600 justify-center",children:a.jsx("span",{children:"Klik untuk memilih attachment"})}),a.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF, PDF up to 10MB"})]})}),a.jsx(kt,{children:xe&&a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(C.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-md mx-auto p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Pilih Attachment"}),a.jsx("button",{onClick:ot,className:"text-gray-500 hover:text-gray-700",children:a.jsx(at,{size:24})})]}),Be?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"relative bg-black rounded-lg overflow-hidden",children:[a.jsx("video",{ref:se,autoPlay:!0,playsInline:!0,className:"w-full h-64 object-cover"}),a.jsx("canvas",{ref:ee,className:"hidden"})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(C.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:ye,className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded-lg font-medium",children:"Ambil Foto"}),a.jsx(C.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:ot,className:"flex-1 bg-gray-300 text-gray-700 py-2 px-4 rounded-lg font-medium",children:"Batal"})]})]}):a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsxs(C.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ge,className:"flex items-center justify-center p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-blue-400 transition-colors",children:[a.jsx(ale,{className:"h-8 w-8 text-gray-400 mr-3"}),a.jsxs("div",{className:"text-left",children:[a.jsx("div",{className:"font-medium text-gray-900",children:"Pilih File"}),a.jsx("div",{className:"text-sm text-gray-500",children:"Dari perangkat Anda"})]})]}),a.jsxs(C.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ke,className:"flex items-center justify-center p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-blue-400 transition-colors",children:[a.jsx(Aoe,{className:"h-8 w-8 text-gray-400 mr-3"}),a.jsxs("div",{className:"text-left",children:[a.jsx("div",{className:"font-medium text-gray-900",children:"Ambil Foto"}),a.jsx("div",{className:"text-sm text-gray-500",children:"Gunakan kamera"})]})]})]})]})})}),P&&a.jsx("ul",{className:"mt-3 border border-gray-200 rounded-md divide-y divide-gray-200",children:a.jsxs("li",{className:"flex items-center justify-between py-2 pl-3 pr-4 text-sm",children:[a.jsxs("div",{className:"flex w-0 flex-1 items-center",children:[a.jsx(Ni,{className:"h-5 w-5 flex-shrink-0 text-gray-400","aria-hidden":"true"}),a.jsx("span",{className:"ml-2 w-0 flex-1 truncate",children:P.name})]}),a.jsx("div",{className:"ml-4 flex-shrink-0",children:a.jsx(C.button,{type:"button",onClick:ze,whileHover:{scale:1.1},whileTap:{scale:.9},className:"font-medium text-red-600 hover:text-red-900 transition-colors duration-200",children:"Remove"})})]},P.name)})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsxs(C.button,{type:"button",onClick:()=>{xt(mt),F(null),R(null),Y(null)},whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",children:[a.jsx(dn,{className:"mr-2 h-5 w-5"})," Clear Form"]}),a.jsx(C.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},disabled:$,className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed",children:$?a.jsxs(a.Fragment,{children:[a.jsx(mr,{className:"animate-spin mr-2 h-5 w-5"}),"Adding..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Ar,{className:"mr-2 h-5 w-5"})," Add Work Order"]})})]})]})]})]})]}),a.jsx(iNe,{isOpen:W,onClose:We,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx($t,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center mb-2",children:z==null?void 0:z.message}),a.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Work Order Number: ",(pe=z==null?void 0:z.work_order)==null?void 0:pe.work_order_no]}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:We,className:"mt-6 px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold",children:"Go to Work Orders"})]})})]})},lNe=()=>{const t=jt(),{user:e}=St(),[r,n]=g.useState(!1),[s,i]=g.useState(window.innerWidth>=768),[o,l]=g.useState(window.innerWidth<768),[c,d]=g.useState(!1),[h,m]=g.useState(!1),x=g.useRef(null),y=g.useRef(null);g.useEffect(()=>{const v=()=>{l(window.innerWidth<768),window.innerWidth<768?i(!1):i(!0)};return window.addEventListener("resize",v),()=>window.removeEventListener("resize",v)},[]),g.useEffect(()=>{const v=N=>{x.current&&!x.current.contains(N.target)&&d(!1),y.current&&!y.current.contains(N.target)&&m(!1)};return document.addEventListener("mousedown",v),()=>{document.removeEventListener("mousedown",v)}},[]);const w=()=>{i(v=>!v)};g.useEffect(()=>{document.documentElement.classList.toggle("dark",r)},[r]);const j=v=>{t(v)};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Mt,{mainTitle:"Work Unit",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:a.jsx(ir,{}),isMobile:o,toggleSidebar:w}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 text-center",children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Select Work Order Department"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Choose the department you wish to manage work orders for."})]}),a.jsxs("div",{className:"flex flex-col md:flex-row justify-center items-center gap-6 max-w-4xl mx-auto py-8",children:[a.jsxs(C.div,{className:"w-full md:w-1/2 bg-white rounded-2xl shadow-xl p-8 border border-blue-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>j("/workorders/it"),children:[a.jsx(Xoe,{size:64,className:"text-blue-600 mb-4"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"IT Work Orders"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Manage and track IT-related maintenance and service requests."}),a.jsxs("span",{className:"text-blue-600 font-semibold flex items-center",children:["Go to IT Work Orders ",a.jsx(sn,{size:18,className:"ml-1"})]})]}),a.jsxs(C.div,{className:"w-full md:w-1/2 bg-white rounded-2xl shadow-xl p-8 border border-green-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>j("/workorders/td"),children:[a.jsx(mle,{size:64,className:"text-green-600 mb-4"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"TD Work Orders"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Handle technical department maintenance, repairs, and tasks."}),a.jsxs("span",{className:"text-green-600 font-semibold flex items-center",children:["Go to TD Work Orders ",a.jsx(sn,{size:18,className:"ml-1"})]})]})]})]})]})]})},cNe=()=>{const t=jt(),{user:e}=St(),[r,n]=g.useState(!1),[s,i]=g.useState(window.innerWidth>=768),[o,l]=g.useState(window.innerWidth<768),[c,d]=g.useState(!1),[h,m]=g.useState(!1),x=g.useRef(null),y=g.useRef(null);g.useEffect(()=>{const v=()=>{l(window.innerWidth<768),window.innerWidth<768?i(!1):i(!0)};return window.addEventListener("resize",v),()=>window.removeEventListener("resize",v)},[]),g.useEffect(()=>{const v=N=>{x.current&&!x.current.contains(N.target)&&d(!1),y.current&&!y.current.contains(N.target)&&m(!1)};return document.addEventListener("mousedown",v),()=>{document.removeEventListener("mousedown",v)}},[]);const w=()=>{i(v=>!v)};g.useEffect(()=>{document.documentElement.classList.toggle("dark",r)},[r]);const j=v=>{t(v)};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Mt,{mainTitle:"Work Location",mainTitleHighlight:"Page",description:"Manage work shifts and their configurations within the system.",icon:a.jsx(Si,{}),isMobile:o,toggleSidebar:w}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 text-center",children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Select Work Location Type"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Choose the type of work location you wish to manage."})]}),a.jsxs("div",{className:"flex flex-col md:flex-row justify-center items-center gap-6 max-w-5xl mx-auto py-8",children:[a.jsxs(C.div,{className:"w-full md:w-1/3 bg-white rounded-2xl shadow-xl p-8 border border-blue-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>j("/worklocation/workarea"),children:[a.jsx(Si,{size:64,className:"text-blue-600 mb-4"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Work Area"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Manage and define specific work areas within your facilities."}),a.jsxs("span",{className:"text-blue-600 font-semibold flex items-center",children:["Go to Work Area ",a.jsx(sn,{size:18,className:"ml-1"})]})]}),a.jsxs(C.div,{className:"w-full md:w-1/3 bg-white rounded-2xl shadow-xl p-8 border border-green-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>j("/worklocation/department"),children:[a.jsx(td,{size:64,className:"text-green-600 mb-4"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Departments"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Organize and manage work orders by specific company departments."}),a.jsxs("span",{className:"text-green-600 font-semibold flex items-center",children:["Go to Department ",a.jsx(sn,{size:18,className:"ml-1"})]})]}),a.jsxs(C.div,{className:"w-full md:w-1/3 bg-white rounded-2xl shadow-xl p-8 border border-purple-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>j("/worklocation/workunit"),children:[a.jsx(Df,{size:64,className:"text-purple-600 mb-4"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Work Unit"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Define and track the precise physical locations of individual units."}),a.jsxs("span",{className:"text-purple-600 font-semibold flex items-center",children:["Go to Work Unit ",a.jsx(sn,{size:18,className:"ml-1"})]})]})]})]})]})]})},uNe=()=>{const t=jt(),{user:e}=St(),[r,n]=g.useState(!1),[s,i]=g.useState(window.innerWidth>=768),[o,l]=g.useState(window.innerWidth<768),[c,d]=g.useState(!1),[h,m]=g.useState(!1),x=g.useRef(null),y=g.useRef(null);g.useEffect(()=>{const v=()=>{l(window.innerWidth<768),window.innerWidth<768?i(!1):i(!0)};return window.addEventListener("resize",v),()=>window.removeEventListener("resize",v)},[]),g.useEffect(()=>{const v=N=>{x.current&&!x.current.contains(N.target)&&d(!1),y.current&&!y.current.contains(N.target)&&m(!1)};return document.addEventListener("mousedown",v),()=>{document.removeEventListener("mousedown",v)}},[]);const w=()=>{i(v=>!v)};g.useEffect(()=>{document.documentElement.classList.toggle("dark",r)},[r]);const j=v=>{t(v)};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Mt,{mainTitle:"Work Arrangement",mainTitleHighlight:"Page",description:"Manage work shifts and their configurations within the system.",icon:a.jsx(xa,{}),isMobile:o,toggleSidebar:w}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 text-center",children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Select Work Arrangement Type"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Choose how you want to manage work groups and shifts."})]}),a.jsxs("div",{className:"flex flex-col md:flex-row justify-center items-center gap-6 max-w-4xl mx-auto py-8",children:[a.jsxs(C.div,{className:"w-full md:w-1/2 bg-white rounded-2xl shadow-xl p-8 border border-blue-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>j("/workarrangement/workgroup"),children:[a.jsx(xa,{size:64,className:"text-blue-600 mb-4"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:" Work Group Management"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Organize and manage teams or groups for various work arrangements."}),a.jsxs("span",{className:"text-blue-600 font-semibold flex items-center",children:["Go to Group Management ",a.jsx(sn,{size:18,className:"ml-1"})]})]}),a.jsxs(C.div,{className:"w-full md:w-1/2 bg-white rounded-2xl shadow-xl p-8 border border-green-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>j("/workarrangement/workshift"),children:[a.jsx(Lt,{size:64,className:"text-green-600 mb-4"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Work Shift Management"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Plan and manage work shifts and schedules for your workforce."}),a.jsxs("span",{className:"text-green-600 font-semibold flex items-center",children:["Go to Shift Management ",a.jsx(sn,{size:18,className:"ml-1"})]})]})]})]})]})]})},dNe=()=>{const t=jt(),{user:e}=St(),[r,n]=g.useState(!1),[s,i]=g.useState(window.innerWidth>=768),[o,l]=g.useState(window.innerWidth<768),[c,d]=g.useState(!1),[h,m]=g.useState(!1),x=g.useRef(null),y=g.useRef(null);g.useEffect(()=>{const v=()=>{l(window.innerWidth<768),window.innerWidth<768?i(!1):i(!0)};return window.addEventListener("resize",v),()=>window.removeEventListener("resize",v)},[]),g.useEffect(()=>{const v=N=>{x.current&&!x.current.contains(N.target)&&d(!1),y.current&&!y.current.contains(N.target)&&m(!1)};return document.addEventListener("mousedown",v),()=>{document.removeEventListener("mousedown",v)}},[]);const w=()=>{i(v=>!v)};g.useEffect(()=>{document.documentElement.classList.toggle("dark",r)},[r]);const j=v=>{t(v)};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Mt,{mainTitle:"Spare Paarts",mainTitleHighlight:"Groups",description:"Manage service groups used across the service management system.",icon:a.jsx(pn,{}),isMobile:o,toggleSidebar:w}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 text-center",children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Spare Part Management"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Select a category to manage your spare parts inventory and settings."})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 max-w-6xl mx-auto py-8",children:[a.jsxs(C.div,{className:"w-full bg-white rounded-2xl shadow-xl p-8 border border-blue-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>j("/sparepart/generalsettings"),children:[a.jsx(Tn,{size:64,className:"text-blue-600 mb-4"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"General Settings"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Configure overall settings for spare part management."}),a.jsxs("span",{className:"text-blue-600 font-semibold flex items-center",children:["Go to Settings ",a.jsx(sn,{size:18,className:"ml-1"})]})]}),a.jsxs(C.div,{className:"w-full bg-white rounded-2xl shadow-xl p-8 border border-green-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>j("/sparepart/spareparttype"),children:[a.jsx(HW,{size:64,className:"text-green-600 mb-4"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Spare Part Type"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Define and manage different types of spare parts."}),a.jsxs("span",{className:"text-green-600 font-semibold flex items-center",children:["Go to Types ",a.jsx(sn,{size:18,className:"ml-1"})]})]}),a.jsxs(C.div,{className:"w-full bg-white rounded-2xl shadow-xl p-8 border border-purple-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>j("/sparepart/sparepartgroup"),children:[a.jsx(RW,{size:64,className:"text-purple-600 mb-4"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Spare Part Group"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Categorize spare parts into logical groups."}),a.jsxs("span",{className:"text-purple-600 font-semibold flex items-center",children:["Go to Groups ",a.jsx(sn,{size:18,className:"ml-1"})]})]}),a.jsxs(C.div,{className:"w-full bg-white rounded-2xl shadow-xl p-8 border border-orange-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>j("/sparepart/sparepartmaintenance"),children:[a.jsx(Gi,{size:64,className:"text-orange-600 mb-4"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Spare Part Maintenance"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Manage maintenance records related to spare parts."}),a.jsxs("span",{className:"text-orange-600 font-semibold flex items-center",children:["Go to Maintenance ",a.jsx(sn,{size:18,className:"ml-1"})]})]})]})]})]})]})},fNe=()=>{const t=jt(),{user:e}=St(),[r,n]=g.useState(!1),[s,i]=g.useState(window.innerWidth>=768),[o,l]=g.useState(window.innerWidth<768),[c,d]=g.useState(!1),[h,m]=g.useState(!1),x=g.useRef(null),y=g.useRef(null);g.useEffect(()=>{const v=()=>{l(window.innerWidth<768),window.innerWidth<768?i(!1):i(!0)};return window.addEventListener("resize",v),()=>window.removeEventListener("resize",v)},[]),g.useEffect(()=>{const v=N=>{x.current&&!x.current.contains(N.target)&&d(!1),y.current&&!y.current.contains(N.target)&&m(!1)};return document.addEventListener("mousedown",v),()=>{document.removeEventListener("mousedown",v)}},[]);const w=()=>{i(v=>!v)};g.useEffect(()=>{document.documentElement.classList.toggle("dark",r)},[r]);const j=v=>{t(v)};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Mt,{mainTitle:"Assets",mainTitleHighlight:"Trail",description:"Manage activities and their configurations within the system.",icon:a.jsx(kn,{}),isMobile:o,toggleSidebar:w}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 text-center",children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Asset Management"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Select a category to manage your assets."})]}),a.jsxs("div",{className:"flex flex-col md:flex-row justify-center items-center gap-6 max-w-4xl mx-auto py-8",children:[a.jsxs(C.div,{className:"w-full md:w-1/2 bg-white rounded-2xl shadow-xl p-8 border border-blue-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>j("/assets/assetsgroup"),children:[a.jsx(RW,{size:64,className:"text-blue-600 mb-4"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Assets Group"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Organize your assets into logical groups for better management."}),a.jsxs("span",{className:"text-blue-600 font-semibold flex items-center",children:["Go to Assets Group ",a.jsx(sn,{size:18,className:"ml-1"})]})]}),a.jsxs(C.div,{className:"w-full md:w-1/2 bg-white rounded-2xl shadow-xl p-8 border border-green-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>j("/assets/assetsdata"),children:[a.jsx(Dw,{size:64,className:"text-green-600 mb-4"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Assets Data"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"View and manage detailed information about your individual assets."}),a.jsxs("span",{className:"text-green-600 font-semibold flex items-center",children:["Go to Assets Data ",a.jsx(sn,{size:18,className:"ml-1"})]})]})]})]})]})]})},hNe=()=>{const t=jt(),{user:e}=St(),[r,n]=g.useState(!1),[s,i]=g.useState(window.innerWidth>=768),[o,l]=g.useState(window.innerWidth<768),[c,d]=g.useState(!1),[h,m]=g.useState(!1),x=g.useRef(null),y=g.useRef(null);g.useEffect(()=>{const v=()=>{l(window.innerWidth<768),window.innerWidth<768?i(!1):i(!0)};return window.addEventListener("resize",v),()=>window.removeEventListener("resize",v)},[]),g.useEffect(()=>{const v=N=>{x.current&&!x.current.contains(N.target)&&d(!1),y.current&&!y.current.contains(N.target)&&m(!1)};return document.addEventListener("mousedown",v),()=>{document.removeEventListener("mousedown",v)}},[]);const w=()=>{i(v=>!v)};g.useEffect(()=>{document.documentElement.classList.toggle("dark",r)},[r]);const j=v=>{t(v)};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Mt,{mainTitle:"Services",mainTitleHighlight:"Groups",description:"Manage service groups used across the service management system.",icon:a.jsx(LW,{}),isMobile:o,toggleSidebar:w}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 text-center",children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Service Management"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Select a category to manage your services."})]}),a.jsxs("div",{className:"flex flex-col md:flex-row justify-center items-center gap-6 max-w-4xl mx-auto py-8",children:[a.jsxs(C.div,{className:"w-full md:w-1/2 bg-white rounded-2xl shadow-xl p-8 border border-blue-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>j("/services/servicegroups"),children:[a.jsx(xa,{size:64,className:"text-blue-600 mb-4"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Service Group"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Organize and manage groups of services or service teams."}),a.jsxs("span",{className:"text-blue-600 font-semibold flex items-center",children:["Go to Service Group ",a.jsx(sn,{size:18,className:"ml-1"})]})]}),a.jsxs(C.div,{className:"w-full md:w-1/2 bg-white rounded-2xl shadow-xl p-8 border border-green-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>j("/services/servicecatalogues"),children:[a.jsx(ll,{size:64,className:"text-green-600 mb-4"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Service Catalogue"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Browse and manage the list of available services."}),a.jsxs("span",{className:"text-green-600 font-semibold flex items-center",children:["Go to Service Catalogue ",a.jsx(sn,{size:18,className:"ml-1"})]})]})]})]})]})]})},mNe=()=>{const t=jt(),{user:e}=St(),[r,n]=g.useState(!1),[s,i]=g.useState(window.innerWidth>=768),[o,l]=g.useState(window.innerWidth<768),[c,d]=g.useState(!1),[h,m]=g.useState(!1),x=g.useRef(null),y=g.useRef(null);g.useEffect(()=>{const v=()=>{l(window.innerWidth<768),window.innerWidth<768?i(!1):i(!0)};return window.addEventListener("resize",v),()=>window.removeEventListener("resize",v)},[]),g.useEffect(()=>{const v=N=>{x.current&&!x.current.contains(N.target)&&d(!1),y.current&&!y.current.contains(N.target)&&m(!1)};return document.addEventListener("mousedown",v),()=>{document.removeEventListener("mousedown",v)}},[]);const w=()=>{i(v=>!v)};g.useEffect(()=>{document.documentElement.classList.toggle("dark",r)},[r]);const j=v=>{t(v)};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Mt,{mainTitle:"Maintenance Activity",mainTitleHighlight:"Management",description:"blablablabl",icon:a.jsx(Gi,{}),isMobile:o,toggleSidebar:w}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 text-center",children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Maintenance Activity Management"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Select a category to manage maintenance activities."})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 max-w-6xl mx-auto py-8",children:[a.jsxs(C.div,{className:"w-full bg-white rounded-2xl shadow-xl p-8 border border-blue-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>j("/maintenanceactivity/activitytypes"),children:[a.jsx(K5,{size:64,className:"text-blue-600 mb-4"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Activity Type"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Define and manage different types of maintenance activities."}),a.jsxs("span",{className:"text-blue-600 font-semibold flex items-center",children:["Go to Activity Types ",a.jsx(sn,{size:18,className:"ml-1"})]})]}),a.jsxs(C.div,{className:"w-full bg-white rounded-2xl shadow-xl p-8 border border-green-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>j("/maintenanceactivity/activity"),children:[a.jsx(fo,{size:64,className:"text-green-600 mb-4"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Activity"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Manage the details of individual maintenance activities."}),a.jsxs("span",{className:"text-green-600 font-semibold flex items-center",children:["Go to Activities ",a.jsx(sn,{size:18,className:"ml-1"})]})]}),a.jsxs(C.div,{className:"w-full bg-white rounded-2xl shadow-xl p-8 border border-purple-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>j("/maintenanceactivity/stoptimes"),children:[a.jsx(Lt,{size:64,className:"text-purple-600 mb-4"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Stop Time"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Record and analyze machine downtime and stop times."}),a.jsxs("span",{className:"text-purple-600 font-semibold flex items-center",children:["Go to Stop Time ",a.jsx(sn,{size:18,className:"ml-1"})]})]}),a.jsxs(C.div,{className:"w-full bg-white rounded-2xl shadow-xl p-8 border border-orange-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>j("/maintenanceactivity/troubleitem"),children:[a.jsx(er,{size:64,className:"text-orange-600 mb-4"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Trouble Item"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Manage and categorize common trouble items or issues."}),a.jsxs("span",{className:"text-orange-600 font-semibold flex items-center",children:["Go to Trouble Items ",a.jsx(sn,{size:18,className:"ml-1"})]})]})]})]})]})]})};var w2,S7;function _s(){if(S7)return w2;S7=1;var t=Array.isArray;return w2=t,w2}var j2,N7;function XY(){if(N7)return j2;N7=1;var t=typeof Fx=="object"&&Fx&&Fx.Object===Object&&Fx;return j2=t,j2}var S2,k7;function Ro(){if(k7)return S2;k7=1;var t=XY(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return S2=r,S2}var N2,C7;function yg(){if(C7)return N2;C7=1;var t=Ro(),e=t.Symbol;return N2=e,N2}var k2,T7;function pNe(){if(T7)return k2;T7=1;var t=yg(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,s=t?t.toStringTag:void 0;function i(o){var l=r.call(o,s),c=o[s];try{o[s]=void 0;var d=!0}catch{}var h=n.call(o);return d&&(l?o[s]=c:delete o[s]),h}return k2=i,k2}var C2,_7;function gNe(){if(_7)return C2;_7=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return C2=r,C2}var T2,M7;function Bl(){if(M7)return T2;M7=1;var t=yg(),e=pNe(),r=gNe(),n="[object Null]",s="[object Undefined]",i=t?t.toStringTag:void 0;function o(l){return l==null?l===void 0?s:n:i&&i in Object(l)?e(l):r(l)}return T2=o,T2}var _2,A7;function zl(){if(A7)return _2;A7=1;function t(e){return e!=null&&typeof e=="object"}return _2=t,_2}var M2,O7;function Vh(){if(O7)return M2;O7=1;var t=Bl(),e=zl(),r="[object Symbol]";function n(s){return typeof s=="symbol"||e(s)&&t(s)==r}return M2=n,M2}var A2,E7;function oE(){if(E7)return A2;E7=1;var t=_s(),e=Vh(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function s(i,o){if(t(i))return!1;var l=typeof i;return l=="number"||l=="symbol"||l=="boolean"||i==null||e(i)?!0:n.test(i)||!r.test(i)||o!=null&&i in Object(o)}return A2=s,A2}var O2,D7;function Kc(){if(D7)return O2;D7=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return O2=t,O2}var E2,P7;function lE(){if(P7)return E2;P7=1;var t=Bl(),e=Kc(),r="[object AsyncFunction]",n="[object Function]",s="[object GeneratorFunction]",i="[object Proxy]";function o(l){if(!e(l))return!1;var c=t(l);return c==n||c==s||c==r||c==i}return E2=o,E2}var D2,R7;function xNe(){if(R7)return D2;R7=1;var t=Ro(),e=t["__core-js_shared__"];return D2=e,D2}var P2,I7;function yNe(){if(I7)return P2;I7=1;var t=xNe(),e=(function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!e&&e in n}return P2=r,P2}var R2,L7;function JY(){if(L7)return R2;L7=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return R2=r,R2}var I2,$7;function bNe(){if($7)return I2;$7=1;var t=lE(),e=yNe(),r=Kc(),n=JY(),s=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,o=Function.prototype,l=Object.prototype,c=o.toString,d=l.hasOwnProperty,h=RegExp("^"+c.call(d).replace(s,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(x){if(!r(x)||e(x))return!1;var y=t(x)?h:i;return y.test(n(x))}return I2=m,I2}var L2,F7;function vNe(){if(F7)return L2;F7=1;function t(e,r){return e==null?void 0:e[r]}return L2=t,L2}var $2,H7;function bd(){if(H7)return $2;H7=1;var t=bNe(),e=vNe();function r(n,s){var i=e(n,s);return t(i)?i:void 0}return $2=r,$2}var F2,B7;function c1(){if(B7)return F2;B7=1;var t=bd(),e=t(Object,"create");return F2=e,F2}var H2,z7;function wNe(){if(z7)return H2;z7=1;var t=c1();function e(){this.__data__=t?t(null):{},this.size=0}return H2=e,H2}var B2,V7;function jNe(){if(V7)return B2;V7=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return B2=t,B2}var z2,W7;function SNe(){if(W7)return z2;W7=1;var t=c1(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function s(i){var o=this.__data__;if(t){var l=o[i];return l===e?void 0:l}return n.call(o,i)?o[i]:void 0}return z2=s,z2}var V2,q7;function NNe(){if(q7)return V2;q7=1;var t=c1(),e=Object.prototype,r=e.hasOwnProperty;function n(s){var i=this.__data__;return t?i[s]!==void 0:r.call(i,s)}return V2=n,V2}var W2,U7;function kNe(){if(U7)return W2;U7=1;var t=c1(),e="__lodash_hash_undefined__";function r(n,s){var i=this.__data__;return this.size+=this.has(n)?0:1,i[n]=t&&s===void 0?e:s,this}return W2=r,W2}var q2,G7;function CNe(){if(G7)return q2;G7=1;var t=wNe(),e=jNe(),r=SNe(),n=NNe(),s=kNe();function i(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var d=o[l];this.set(d[0],d[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=n,i.prototype.set=s,q2=i,q2}var U2,Y7;function TNe(){if(Y7)return U2;Y7=1;function t(){this.__data__=[],this.size=0}return U2=t,U2}var G2,K7;function cE(){if(K7)return G2;K7=1;function t(e,r){return e===r||e!==e&&r!==r}return G2=t,G2}var Y2,X7;function u1(){if(X7)return Y2;X7=1;var t=cE();function e(r,n){for(var s=r.length;s--;)if(t(r[s][0],n))return s;return-1}return Y2=e,Y2}var K2,J7;function _Ne(){if(J7)return K2;J7=1;var t=u1(),e=Array.prototype,r=e.splice;function n(s){var i=this.__data__,o=t(i,s);if(o<0)return!1;var l=i.length-1;return o==l?i.pop():r.call(i,o,1),--this.size,!0}return K2=n,K2}var X2,Q7;function MNe(){if(Q7)return X2;Q7=1;var t=u1();function e(r){var n=this.__data__,s=t(n,r);return s<0?void 0:n[s][1]}return X2=e,X2}var J2,Z7;function ANe(){if(Z7)return J2;Z7=1;var t=u1();function e(r){return t(this.__data__,r)>-1}return J2=e,J2}var Q2,e$;function ONe(){if(e$)return Q2;e$=1;var t=u1();function e(r,n){var s=this.__data__,i=t(s,r);return i<0?(++this.size,s.push([r,n])):s[i][1]=n,this}return Q2=e,Q2}var Z2,t$;function d1(){if(t$)return Z2;t$=1;var t=TNe(),e=_Ne(),r=MNe(),n=ANe(),s=ONe();function i(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var d=o[l];this.set(d[0],d[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=n,i.prototype.set=s,Z2=i,Z2}var ek,r$;function uE(){if(r$)return ek;r$=1;var t=bd(),e=Ro(),r=t(e,"Map");return ek=r,ek}var tk,n$;function ENe(){if(n$)return tk;n$=1;var t=CNe(),e=d1(),r=uE();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return tk=n,tk}var rk,a$;function DNe(){if(a$)return rk;a$=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return rk=t,rk}var nk,s$;function f1(){if(s$)return nk;s$=1;var t=DNe();function e(r,n){var s=r.__data__;return t(n)?s[typeof n=="string"?"string":"hash"]:s.map}return nk=e,nk}var ak,i$;function PNe(){if(i$)return ak;i$=1;var t=f1();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return ak=e,ak}var sk,o$;function RNe(){if(o$)return sk;o$=1;var t=f1();function e(r){return t(this,r).get(r)}return sk=e,sk}var ik,l$;function INe(){if(l$)return ik;l$=1;var t=f1();function e(r){return t(this,r).has(r)}return ik=e,ik}var ok,c$;function LNe(){if(c$)return ok;c$=1;var t=f1();function e(r,n){var s=t(this,r),i=s.size;return s.set(r,n),this.size+=s.size==i?0:1,this}return ok=e,ok}var lk,u$;function dE(){if(u$)return lk;u$=1;var t=ENe(),e=PNe(),r=RNe(),n=INe(),s=LNe();function i(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var d=o[l];this.set(d[0],d[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=n,i.prototype.set=s,lk=i,lk}var ck,d$;function QY(){if(d$)return ck;d$=1;var t=dE(),e="Expected a function";function r(n,s){if(typeof n!="function"||s!=null&&typeof s!="function")throw new TypeError(e);var i=function(){var o=arguments,l=s?s.apply(this,o):o[0],c=i.cache;if(c.has(l))return c.get(l);var d=n.apply(this,o);return i.cache=c.set(l,d)||c,d};return i.cache=new(r.Cache||t),i}return r.Cache=t,ck=r,ck}var uk,f$;function $Ne(){if(f$)return uk;f$=1;var t=QY(),e=500;function r(n){var s=t(n,function(o){return i.size===e&&i.clear(),o}),i=s.cache;return s}return uk=r,uk}var dk,h$;function FNe(){if(h$)return dk;h$=1;var t=$Ne(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(s){var i=[];return s.charCodeAt(0)===46&&i.push(""),s.replace(e,function(o,l,c,d){i.push(c?d.replace(r,"$1"):l||o)}),i});return dk=n,dk}var fk,m$;function fE(){if(m$)return fk;m$=1;function t(e,r){for(var n=-1,s=e==null?0:e.length,i=Array(s);++n<s;)i[n]=r(e[n],n,e);return i}return fk=t,fk}var hk,p$;function HNe(){if(p$)return hk;p$=1;var t=yg(),e=fE(),r=_s(),n=Vh(),s=t?t.prototype:void 0,i=s?s.toString:void 0;function o(l){if(typeof l=="string")return l;if(r(l))return e(l,o)+"";if(n(l))return i?i.call(l):"";var c=l+"";return c=="0"&&1/l==-1/0?"-0":c}return hk=o,hk}var mk,g$;function ZY(){if(g$)return mk;g$=1;var t=HNe();function e(r){return r==null?"":t(r)}return mk=e,mk}var pk,x$;function eK(){if(x$)return pk;x$=1;var t=_s(),e=oE(),r=FNe(),n=ZY();function s(i,o){return t(i)?i:e(i,o)?[i]:r(n(i))}return pk=s,pk}var gk,y$;function h1(){if(y$)return gk;y$=1;var t=Vh();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return gk=e,gk}var xk,b$;function hE(){if(b$)return xk;b$=1;var t=eK(),e=h1();function r(n,s){s=t(s,n);for(var i=0,o=s.length;n!=null&&i<o;)n=n[e(s[i++])];return i&&i==o?n:void 0}return xk=r,xk}var yk,v$;function tK(){if(v$)return yk;v$=1;var t=hE();function e(r,n,s){var i=r==null?void 0:t(r,n);return i===void 0?s:i}return yk=e,yk}var BNe=tK();const Gs=$r(BNe);var bk,w$;function zNe(){if(w$)return bk;w$=1;function t(e){return e==null}return bk=t,bk}var VNe=zNe();const ar=$r(VNe);var vk,j$;function WNe(){if(j$)return vk;j$=1;var t=Bl(),e=_s(),r=zl(),n="[object String]";function s(i){return typeof i=="string"||!e(i)&&r(i)&&t(i)==n}return vk=s,vk}var qNe=WNe();const ud=$r(qNe);var UNe=lE();const tr=$r(UNe);var GNe=Kc();const Wh=$r(GNe);var wk={exports:{}},qr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S$;function YNe(){if(S$)return qr;S$=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),y=Symbol.for("react.offscreen"),w;w=Symbol.for("react.module.reference");function j(v){if(typeof v=="object"&&v!==null){var N=v.$$typeof;switch(N){case t:switch(v=v.type,v){case r:case s:case n:case d:case h:return v;default:switch(v=v&&v.$$typeof,v){case l:case o:case c:case x:case m:case i:return v;default:return N}}case e:return N}}}return qr.ContextConsumer=o,qr.ContextProvider=i,qr.Element=t,qr.ForwardRef=c,qr.Fragment=r,qr.Lazy=x,qr.Memo=m,qr.Portal=e,qr.Profiler=s,qr.StrictMode=n,qr.Suspense=d,qr.SuspenseList=h,qr.isAsyncMode=function(){return!1},qr.isConcurrentMode=function(){return!1},qr.isContextConsumer=function(v){return j(v)===o},qr.isContextProvider=function(v){return j(v)===i},qr.isElement=function(v){return typeof v=="object"&&v!==null&&v.$$typeof===t},qr.isForwardRef=function(v){return j(v)===c},qr.isFragment=function(v){return j(v)===r},qr.isLazy=function(v){return j(v)===x},qr.isMemo=function(v){return j(v)===m},qr.isPortal=function(v){return j(v)===e},qr.isProfiler=function(v){return j(v)===s},qr.isStrictMode=function(v){return j(v)===n},qr.isSuspense=function(v){return j(v)===d},qr.isSuspenseList=function(v){return j(v)===h},qr.isValidElementType=function(v){return typeof v=="string"||typeof v=="function"||v===r||v===s||v===n||v===d||v===h||v===y||typeof v=="object"&&v!==null&&(v.$$typeof===x||v.$$typeof===m||v.$$typeof===i||v.$$typeof===o||v.$$typeof===c||v.$$typeof===w||v.getModuleId!==void 0)},qr.typeOf=j,qr}var N$;function KNe(){return N$||(N$=1,wk.exports=YNe()),wk.exports}var XNe=KNe(),jk,k$;function rK(){if(k$)return jk;k$=1;var t=Bl(),e=zl(),r="[object Number]";function n(s){return typeof s=="number"||e(s)&&t(s)==r}return jk=n,jk}var Sk,C$;function JNe(){if(C$)return Sk;C$=1;var t=rK();function e(r){return t(r)&&r!=+r}return Sk=e,Sk}var QNe=JNe();const bg=$r(QNe);var ZNe=rK();const e2e=$r(ZNe);var is=function(e){return e===0?0:e>0?1:-1},$u=function(e){return ud(e)&&e.indexOf("%")===e.length-1},yt=function(e){return e2e(e)&&!bg(e)},t2e=function(e){return ar(e)},ga=function(e){return yt(e)||ud(e)},r2e=0,qh=function(e){var r=++r2e;return"".concat(e||"").concat(r)},ls=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!yt(e)&&!ud(e))return n;var i;if($u(e)){var o=e.indexOf("%");i=r*parseFloat(e.slice(0,o))/100}else i=+e;return bg(i)&&(i=n),s&&i>r&&(i=r),i},Nc=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},n2e=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},s=0;s<r;s++)if(!n[e[s]])n[e[s]]=!0;else return!0;return!1},Bs=function(e,r){return yt(e)&&yt(r)?function(n){return e+n*(r-e)}:function(){return r}};function Mv(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):Gs(n,e))===r})}var a2e=function(e,r){return yt(e)&&yt(r)?e-r:ud(e)&&ud(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function Hf(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function q_(t){"@babel/helpers - typeof";return q_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},q_(t)}var s2e=["viewBox","children"],i2e=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],T$=["points","pathLength"],Nk={svg:s2e,polygon:T$,polyline:T$},mE=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Av=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(g.isValidElement(e)&&(n=e.props),!Wh(n))return null;var s={};return Object.keys(n).forEach(function(i){mE.includes(i)&&(s[i]=r||function(o){return n[i](n,o)})}),s},o2e=function(e,r,n){return function(s){return e(r,n,s),null}},dd=function(e,r,n){if(!Wh(e)||q_(e)!=="object")return null;var s=null;return Object.keys(e).forEach(function(i){var o=e[i];mE.includes(i)&&typeof o=="function"&&(s||(s={}),s[i]=o2e(o,r,n))}),s},l2e=["children"],c2e=["children"];function _$(t,e){if(t==null)return{};var r=u2e(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function u2e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function U_(t){"@babel/helpers - typeof";return U_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},U_(t)}var M$={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Nl=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},A$=null,kk=null,pE=function t(e){if(e===A$&&Array.isArray(kk))return kk;var r=[];return g.Children.forEach(e,function(n){ar(n)||(XNe.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),kk=r,A$=e,r};function Ys(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(s){return Nl(s)}):n=[Nl(e)],pE(t).forEach(function(s){var i=Gs(s,"type.displayName")||Gs(s,"type.name");n.indexOf(i)!==-1&&r.push(s)}),r}function Hs(t,e){var r=Ys(t,e);return r&&r[0]}var O$=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,s=r.height;return!(!yt(n)||n<=0||!yt(s)||s<=0)},d2e=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],f2e=function(e){return e&&e.type&&ud(e.type)&&d2e.indexOf(e.type)>=0},h2e=function(e){return e&&U_(e)==="object"&&"clipDot"in e},m2e=function(e,r,n,s){var i,o=(i=Nk==null?void 0:Nk[s])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!tr(e)&&(s&&o.includes(r)||i2e.includes(r))||n&&mE.includes(r)},Yt=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var s=e;if(g.isValidElement(e)&&(s=e.props),!Wh(s))return null;var i={};return Object.keys(s).forEach(function(o){var l;m2e((l=s)===null||l===void 0?void 0:l[o],o,r,n)&&(i[o]=s[o])}),i},G_=function t(e,r){if(e===r)return!0;var n=g.Children.count(e);if(n!==g.Children.count(r))return!1;if(n===0)return!0;if(n===1)return E$(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var s=0;s<n;s++){var i=e[s],o=r[s];if(Array.isArray(i)||Array.isArray(o)){if(!t(i,o))return!1}else if(!E$(i,o))return!1}return!0},E$=function(e,r){if(ar(e)&&ar(r))return!0;if(!ar(e)&&!ar(r)){var n=e.props||{},s=n.children,i=_$(n,l2e),o=r.props||{},l=o.children,c=_$(o,c2e);return s&&l?Hf(i,c)&&G_(s,l):!s&&!l?Hf(i,c):!1}return!1},D$=function(e,r){var n=[],s={};return pE(e).forEach(function(i,o){if(f2e(i))n.push(i);else if(i){var l=Nl(i.type),c=r[l]||{},d=c.handler,h=c.once;if(d&&(!h||!s[l])){var m=d(i,l,o);n.push(m),s[l]=!0}}}),n},p2e=function(e){var r=e&&e.type;return r&&M$[r]?M$[r]:null},g2e=function(e,r){return pE(r).indexOf(e)},x2e=["children","width","height","viewBox","className","style","title","desc"];function Y_(){return Y_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Y_.apply(this,arguments)}function y2e(t,e){if(t==null)return{};var r=b2e(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function b2e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function K_(t){var e=t.children,r=t.width,n=t.height,s=t.viewBox,i=t.className,o=t.style,l=t.title,c=t.desc,d=y2e(t,x2e),h=s||{width:r,height:n,x:0,y:0},m=Ht("recharts-surface",i);return J.createElement("svg",Y_({},Yt(d,!0,"svg"),{className:m,width:r,height:n,style:o,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height)}),J.createElement("title",null,l),J.createElement("desc",null,c),e)}var v2e=["children","className"];function X_(){return X_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},X_.apply(this,arguments)}function w2e(t,e){if(t==null)return{};var r=j2e(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function j2e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Ir=J.forwardRef(function(t,e){var r=t.children,n=t.className,s=w2e(t,v2e),i=Ht("recharts-layer",n);return J.createElement("g",X_({className:i},Yt(s,!0),{ref:e}),r)}),qi=function(e,r){for(var n=arguments.length,s=new Array(n>2?n-2:0),i=2;i<n;i++)s[i-2]=arguments[i]},Ck,P$;function S2e(){if(P$)return Ck;P$=1;function t(e,r,n){var s=-1,i=e.length;r<0&&(r=-r>i?0:i+r),n=n>i?i:n,n<0&&(n+=i),i=r>n?0:n-r>>>0,r>>>=0;for(var o=Array(i);++s<i;)o[s]=e[s+r];return o}return Ck=t,Ck}var Tk,R$;function N2e(){if(R$)return Tk;R$=1;var t=S2e();function e(r,n,s){var i=r.length;return s=s===void 0?i:s,!n&&s>=i?r:t(r,n,s)}return Tk=e,Tk}var _k,I$;function nK(){if(I$)return _k;I$=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",s=e+r+n,i="\\ufe0e\\ufe0f",o="\\u200d",l=RegExp("["+o+t+s+i+"]");function c(d){return l.test(d)}return _k=c,_k}var Mk,L$;function k2e(){if(L$)return Mk;L$=1;function t(e){return e.split("")}return Mk=t,Mk}var Ak,$$;function C2e(){if($$)return Ak;$$=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",s=e+r+n,i="\\ufe0e\\ufe0f",o="["+t+"]",l="["+s+"]",c="\\ud83c[\\udffb-\\udfff]",d="(?:"+l+"|"+c+")",h="[^"+t+"]",m="(?:\\ud83c[\\udde6-\\uddff]){2}",x="[\\ud800-\\udbff][\\udc00-\\udfff]",y="\\u200d",w=d+"?",j="["+i+"]?",v="(?:"+y+"(?:"+[h,m,x].join("|")+")"+j+w+")*",N=j+w+v,T="(?:"+[h+l+"?",l,m,x,o].join("|")+")",S=RegExp(c+"(?="+c+")|"+T+N,"g");function O(_){return _.match(S)||[]}return Ak=O,Ak}var Ok,F$;function T2e(){if(F$)return Ok;F$=1;var t=k2e(),e=nK(),r=C2e();function n(s){return e(s)?r(s):t(s)}return Ok=n,Ok}var Ek,H$;function _2e(){if(H$)return Ek;H$=1;var t=N2e(),e=nK(),r=T2e(),n=ZY();function s(i){return function(o){o=n(o);var l=e(o)?r(o):void 0,c=l?l[0]:o.charAt(0),d=l?t(l,1).join(""):o.slice(1);return c[i]()+d}}return Ek=s,Ek}var Dk,B$;function M2e(){if(B$)return Dk;B$=1;var t=_2e(),e=t("toUpperCase");return Dk=e,Dk}var A2e=M2e();const m1=$r(A2e);function mn(t){return function(){return t}}const aK=Math.cos,Ov=Math.sin,Xi=Math.sqrt,Ev=Math.PI,p1=2*Ev,J_=Math.PI,Q_=2*J_,ku=1e-6,O2e=Q_-ku;function sK(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function E2e(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return sK;const r=10**e;return function(n){this._+=n[0];for(let s=1,i=n.length;s<i;++s)this._+=Math.round(arguments[s]*r)/r+n[s]}}class D2e{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?sK:E2e(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,s){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+s}`}bezierCurveTo(e,r,n,s,i,o){this._append`C${+e},${+r},${+n},${+s},${this._x1=+i},${this._y1=+o}`}arcTo(e,r,n,s,i){if(e=+e,r=+r,n=+n,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=n-e,d=s-r,h=o-e,m=l-r,x=h*h+m*m;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(x>ku)if(!(Math.abs(m*c-d*h)>ku)||!i)this._append`L${this._x1=e},${this._y1=r}`;else{let y=n-o,w=s-l,j=c*c+d*d,v=y*y+w*w,N=Math.sqrt(j),T=Math.sqrt(x),S=i*Math.tan((J_-Math.acos((j+x-v)/(2*N*T)))/2),O=S/T,_=S/N;Math.abs(O-1)>ku&&this._append`L${e+O*h},${r+O*m}`,this._append`A${i},${i},0,0,${+(m*y>h*w)},${this._x1=e+_*c},${this._y1=r+_*d}`}}arc(e,r,n,s,i,o){if(e=+e,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(s),c=n*Math.sin(s),d=e+l,h=r+c,m=1^o,x=o?s-i:i-s;this._x1===null?this._append`M${d},${h}`:(Math.abs(this._x1-d)>ku||Math.abs(this._y1-h)>ku)&&this._append`L${d},${h}`,n&&(x<0&&(x=x%Q_+Q_),x>O2e?this._append`A${n},${n},0,1,${m},${e-l},${r-c}A${n},${n},0,1,${m},${this._x1=d},${this._y1=h}`:x>ku&&this._append`A${n},${n},0,${+(x>=J_)},${m},${this._x1=e+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(e,r,n,s){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+s}h${-n}Z`}toString(){return this._}}function gE(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new D2e(e)}function xE(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function iK(t){this._context=t}iK.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function g1(t){return new iK(t)}function oK(t){return t[0]}function lK(t){return t[1]}function cK(t,e){var r=mn(!0),n=null,s=g1,i=null,o=gE(l);t=typeof t=="function"?t:t===void 0?oK:mn(t),e=typeof e=="function"?e:e===void 0?lK:mn(e);function l(c){var d,h=(c=xE(c)).length,m,x=!1,y;for(n==null&&(i=s(y=o())),d=0;d<=h;++d)!(d<h&&r(m=c[d],d,c))===x&&((x=!x)?i.lineStart():i.lineEnd()),x&&i.point(+t(m,d,c),+e(m,d,c));if(y)return i=null,y+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:mn(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:mn(+c),l):e},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:mn(!!c),l):r},l.curve=function(c){return arguments.length?(s=c,n!=null&&(i=s(n)),l):s},l.context=function(c){return arguments.length?(c==null?n=i=null:i=s(n=c),l):n},l}function vy(t,e,r){var n=null,s=mn(!0),i=null,o=g1,l=null,c=gE(d);t=typeof t=="function"?t:t===void 0?oK:mn(+t),e=typeof e=="function"?e:mn(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?lK:mn(+r);function d(m){var x,y,w,j=(m=xE(m)).length,v,N=!1,T,S=new Array(j),O=new Array(j);for(i==null&&(l=o(T=c())),x=0;x<=j;++x){if(!(x<j&&s(v=m[x],x,m))===N)if(N=!N)y=x,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),w=x-1;w>=y;--w)l.point(S[w],O[w]);l.lineEnd(),l.areaEnd()}N&&(S[x]=+t(v,x,m),O[x]=+e(v,x,m),l.point(n?+n(v,x,m):S[x],r?+r(v,x,m):O[x]))}if(T)return l=null,T+""||null}function h(){return cK().defined(s).curve(o).context(i)}return d.x=function(m){return arguments.length?(t=typeof m=="function"?m:mn(+m),n=null,d):t},d.x0=function(m){return arguments.length?(t=typeof m=="function"?m:mn(+m),d):t},d.x1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:mn(+m),d):n},d.y=function(m){return arguments.length?(e=typeof m=="function"?m:mn(+m),r=null,d):e},d.y0=function(m){return arguments.length?(e=typeof m=="function"?m:mn(+m),d):e},d.y1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:mn(+m),d):r},d.lineX0=d.lineY0=function(){return h().x(t).y(e)},d.lineY1=function(){return h().x(t).y(r)},d.lineX1=function(){return h().x(n).y(e)},d.defined=function(m){return arguments.length?(s=typeof m=="function"?m:mn(!!m),d):s},d.curve=function(m){return arguments.length?(o=m,i!=null&&(l=o(i)),d):o},d.context=function(m){return arguments.length?(m==null?i=l=null:l=o(i=m),d):i},d}class uK{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function P2e(t){return new uK(t,!0)}function R2e(t){return new uK(t,!1)}const yE={draw(t,e){const r=Xi(e/Ev);t.moveTo(r,0),t.arc(0,0,r,0,p1)}},I2e={draw(t,e){const r=Xi(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},dK=Xi(1/3),L2e=dK*2,$2e={draw(t,e){const r=Xi(e/L2e),n=r*dK;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},F2e={draw(t,e){const r=Xi(e),n=-r/2;t.rect(n,n,r,r)}},H2e=.8908130915292852,fK=Ov(Ev/10)/Ov(7*Ev/10),B2e=Ov(p1/10)*fK,z2e=-aK(p1/10)*fK,V2e={draw(t,e){const r=Xi(e*H2e),n=B2e*r,s=z2e*r;t.moveTo(0,-r),t.lineTo(n,s);for(let i=1;i<5;++i){const o=p1*i/5,l=aK(o),c=Ov(o);t.lineTo(c*r,-l*r),t.lineTo(l*n-c*s,c*n+l*s)}t.closePath()}},Pk=Xi(3),W2e={draw(t,e){const r=-Xi(e/(Pk*3));t.moveTo(0,r*2),t.lineTo(-Pk*r,-r),t.lineTo(Pk*r,-r),t.closePath()}},oi=-.5,li=Xi(3)/2,Z_=1/Xi(12),q2e=(Z_/2+1)*3,U2e={draw(t,e){const r=Xi(e/q2e),n=r/2,s=r*Z_,i=n,o=r*Z_+r,l=-i,c=o;t.moveTo(n,s),t.lineTo(i,o),t.lineTo(l,c),t.lineTo(oi*n-li*s,li*n+oi*s),t.lineTo(oi*i-li*o,li*i+oi*o),t.lineTo(oi*l-li*c,li*l+oi*c),t.lineTo(oi*n+li*s,oi*s-li*n),t.lineTo(oi*i+li*o,oi*o-li*i),t.lineTo(oi*l+li*c,oi*c-li*l),t.closePath()}};function G2e(t,e){let r=null,n=gE(s);t=typeof t=="function"?t:mn(t||yE),e=typeof e=="function"?e:mn(e===void 0?64:+e);function s(){let i;if(r||(r=i=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),i)return r=null,i+""||null}return s.type=function(i){return arguments.length?(t=typeof i=="function"?i:mn(i),s):t},s.size=function(i){return arguments.length?(e=typeof i=="function"?i:mn(+i),s):e},s.context=function(i){return arguments.length?(r=i??null,s):r},s}function Dv(){}function Pv(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function hK(t){this._context=t}hK.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Pv(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Pv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Y2e(t){return new hK(t)}function mK(t){this._context=t}mK.prototype={areaStart:Dv,areaEnd:Dv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Pv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function K2e(t){return new mK(t)}function pK(t){this._context=t}pK.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Pv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function X2e(t){return new pK(t)}function gK(t){this._context=t}gK.prototype={areaStart:Dv,areaEnd:Dv,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function J2e(t){return new gK(t)}function z$(t){return t<0?-1:1}function V$(t,e,r){var n=t._x1-t._x0,s=e-t._x1,i=(t._y1-t._y0)/(n||s<0&&-0),o=(r-t._y1)/(s||n<0&&-0),l=(i*s+o*n)/(n+s);return(z$(i)+z$(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function W$(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function Rk(t,e,r){var n=t._x0,s=t._y0,i=t._x1,o=t._y1,l=(i-n)/3;t._context.bezierCurveTo(n+l,s+l*e,i-l,o-l*r,i,o)}function Rv(t){this._context=t}Rv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Rk(this,this._t0,W$(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Rk(this,W$(this,r=V$(this,t,e)),r);break;default:Rk(this,this._t0,r=V$(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function xK(t){this._context=new yK(t)}(xK.prototype=Object.create(Rv.prototype)).point=function(t,e){Rv.prototype.point.call(this,e,t)};function yK(t){this._context=t}yK.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,s,i){this._context.bezierCurveTo(e,t,n,r,i,s)}};function Q2e(t){return new Rv(t)}function Z2e(t){return new xK(t)}function bK(t){this._context=t}bK.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=q$(t),s=q$(e),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],s[0][i],n[1][i],s[1][i],t[o],e[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function q$(t){var e,r=t.length-1,n,s=new Array(r),i=new Array(r),o=new Array(r);for(s[0]=0,i[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)s[e]=1,i[e]=4,o[e]=4*t[e]+2*t[e+1];for(s[r-1]=2,i[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=s[e]/i[e-1],i[e]-=n,o[e]-=n*o[e-1];for(s[r-1]=o[r-1]/i[r-1],e=r-2;e>=0;--e)s[e]=(o[e]-s[e+1])/i[e];for(i[r-1]=(t[r]+s[r-1])/2,e=0;e<r-1;++e)i[e]=2*t[e+1]-s[e+1];return[s,i]}function eke(t){return new bK(t)}function x1(t,e){this._context=t,this._t=e}x1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function tke(t){return new x1(t,.5)}function rke(t){return new x1(t,0)}function nke(t){return new x1(t,1)}function oh(t,e){if((o=t.length)>1)for(var r=1,n,s,i=t[e[0]],o,l=i.length;r<o;++r)for(s=i,i=t[e[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(s[n][1])?s[n][0]:s[n][1]}function eM(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function ake(t,e){return t[e]}function ske(t){const e=[];return e.key=t,e}function ike(){var t=mn([]),e=eM,r=oh,n=ake;function s(i){var o=Array.from(t.apply(this,arguments),ske),l,c=o.length,d=-1,h;for(const m of i)for(l=0,++d;l<c;++l)(o[l][d]=[0,+n(m,o[l].key,d,i)]).data=m;for(l=0,h=xE(e(o));l<c;++l)o[h[l]].index=l;return r(o,h),o}return s.keys=function(i){return arguments.length?(t=typeof i=="function"?i:mn(Array.from(i)),s):t},s.value=function(i){return arguments.length?(n=typeof i=="function"?i:mn(+i),s):n},s.order=function(i){return arguments.length?(e=i==null?eM:typeof i=="function"?i:mn(Array.from(i)),s):e},s.offset=function(i){return arguments.length?(r=i??oh,s):r},s}function oke(t,e){if((n=t.length)>0){for(var r,n,s=0,i=t[0].length,o;s<i;++s){for(o=r=0;r<n;++r)o+=t[r][s][1]||0;if(o)for(r=0;r<n;++r)t[r][s][1]/=o}oh(t,e)}}function lke(t,e){if((s=t.length)>0){for(var r=0,n=t[e[0]],s,i=n.length;r<i;++r){for(var o=0,l=0;o<s;++o)l+=t[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}oh(t,e)}}function cke(t,e){if(!(!((o=t.length)>0)||!((i=(s=t[e[0]]).length)>0))){for(var r=0,n=1,s,i,o;n<i;++n){for(var l=0,c=0,d=0;l<o;++l){for(var h=t[e[l]],m=h[n][1]||0,x=h[n-1][1]||0,y=(m-x)/2,w=0;w<l;++w){var j=t[e[w]],v=j[n][1]||0,N=j[n-1][1]||0;y+=v-N}c+=m,d+=y*m}s[n-1][1]+=s[n-1][0]=r,c&&(r-=d/c)}s[n-1][1]+=s[n-1][0]=r,oh(t,e)}}function y0(t){"@babel/helpers - typeof";return y0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y0(t)}var uke=["type","size","sizeType"];function tM(){return tM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},tM.apply(this,arguments)}function U$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function G$(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?U$(Object(r),!0).forEach(function(n){dke(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):U$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dke(t,e,r){return e=fke(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fke(t){var e=hke(t,"string");return y0(e)=="symbol"?e:e+""}function hke(t,e){if(y0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(y0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mke(t,e){if(t==null)return{};var r=pke(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function pke(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var vK={symbolCircle:yE,symbolCross:I2e,symbolDiamond:$2e,symbolSquare:F2e,symbolStar:V2e,symbolTriangle:W2e,symbolWye:U2e},gke=Math.PI/180,xke=function(e){var r="symbol".concat(m1(e));return vK[r]||yE},yke=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var s=18*gke;return 1.25*e*e*(Math.tan(s)-Math.tan(s*2)*Math.pow(Math.tan(s),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},bke=function(e,r){vK["symbol".concat(m1(e))]=r},bE=function(e){var r=e.type,n=r===void 0?"circle":r,s=e.size,i=s===void 0?64:s,o=e.sizeType,l=o===void 0?"area":o,c=mke(e,uke),d=G$(G$({},c),{},{type:n,size:i,sizeType:l}),h=function(){var v=xke(n),N=G2e().type(v).size(yke(i,l,n));return N()},m=d.className,x=d.cx,y=d.cy,w=Yt(d,!0);return x===+x&&y===+y&&i===+i?J.createElement("path",tM({},w,{className:Ht("recharts-symbols",m),transform:"translate(".concat(x,", ").concat(y,")"),d:h()})):null};bE.registerSymbol=bke;function lh(t){"@babel/helpers - typeof";return lh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lh(t)}function rM(){return rM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},rM.apply(this,arguments)}function Y$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function vke(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Y$(Object(r),!0).forEach(function(n){b0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Y$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jke(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,jK(n.key),n)}}function Ske(t,e,r){return e&&jke(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Nke(t,e,r){return e=Iv(e),kke(t,wK()?Reflect.construct(e,r||[],Iv(t).constructor):e.apply(t,r))}function kke(t,e){if(e&&(lh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cke(t)}function Cke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wK=function(){return!!t})()}function Iv(t){return Iv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Iv(t)}function Tke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nM(t,e)}function nM(t,e){return nM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},nM(t,e)}function b0(t,e,r){return e=jK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jK(t){var e=_ke(t,"string");return lh(e)=="symbol"?e:e+""}function _ke(t,e){if(lh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(lh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ci=32,vE=(function(t){function e(){return wke(this,e),Nke(this,e,arguments)}return Tke(e,t),Ske(e,[{key:"renderIcon",value:function(n){var s=this.props.inactiveColor,i=ci/2,o=ci/6,l=ci/3,c=n.inactive?s:n.color;if(n.type==="plainline")return J.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:ci,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return J.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(ci,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return J.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(ci/8,"h").concat(ci,"v").concat(ci*3/4,"h").concat(-ci,"z"),className:"recharts-legend-icon"});if(J.isValidElement(n.legendIcon)){var d=vke({},n);return delete d.legendIcon,J.cloneElement(n.legendIcon,d)}return J.createElement(bE,{fill:c,cx:i,cy:i,size:ci,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,s=this.props,i=s.payload,o=s.iconSize,l=s.layout,c=s.formatter,d=s.inactiveColor,h={x:0,y:0,width:ci,height:ci},m={display:l==="horizontal"?"inline-block":"block",marginRight:10},x={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(y,w){var j=y.formatter||c,v=Ht(b0(b0({"recharts-legend-item":!0},"legend-item-".concat(w),!0),"inactive",y.inactive));if(y.type==="none")return null;var N=tr(y.value)?null:y.value;qi(!tr(y.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var T=y.inactive?d:y.color;return J.createElement("li",rM({className:v,style:m,key:"legend-item-".concat(w)},dd(n.props,y,w)),J.createElement(K_,{width:o,height:o,viewBox:h,style:x},n.renderIcon(y)),J.createElement("span",{className:"recharts-legend-item-text",style:{color:T}},j?j(N,y,w):N))})}},{key:"render",value:function(){var n=this.props,s=n.payload,i=n.layout,o=n.align;if(!s||!s.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return J.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])})(g.PureComponent);b0(vE,"displayName","Legend");b0(vE,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Ik,K$;function Mke(){if(K$)return Ik;K$=1;var t=d1();function e(){this.__data__=new t,this.size=0}return Ik=e,Ik}var Lk,X$;function Ake(){if(X$)return Lk;X$=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return Lk=t,Lk}var $k,J$;function Oke(){if(J$)return $k;J$=1;function t(e){return this.__data__.get(e)}return $k=t,$k}var Fk,Q$;function Eke(){if(Q$)return Fk;Q$=1;function t(e){return this.__data__.has(e)}return Fk=t,Fk}var Hk,Z$;function Dke(){if(Z$)return Hk;Z$=1;var t=d1(),e=uE(),r=dE(),n=200;function s(i,o){var l=this.__data__;if(l instanceof t){var c=l.__data__;if(!e||c.length<n-1)return c.push([i,o]),this.size=++l.size,this;l=this.__data__=new r(c)}return l.set(i,o),this.size=l.size,this}return Hk=s,Hk}var Bk,e8;function SK(){if(e8)return Bk;e8=1;var t=d1(),e=Mke(),r=Ake(),n=Oke(),s=Eke(),i=Dke();function o(l){var c=this.__data__=new t(l);this.size=c.size}return o.prototype.clear=e,o.prototype.delete=r,o.prototype.get=n,o.prototype.has=s,o.prototype.set=i,Bk=o,Bk}var zk,t8;function Pke(){if(t8)return zk;t8=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return zk=e,zk}var Vk,r8;function Rke(){if(r8)return Vk;r8=1;function t(e){return this.__data__.has(e)}return Vk=t,Vk}var Wk,n8;function NK(){if(n8)return Wk;n8=1;var t=dE(),e=Pke(),r=Rke();function n(s){var i=-1,o=s==null?0:s.length;for(this.__data__=new t;++i<o;)this.add(s[i])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,Wk=n,Wk}var qk,a8;function kK(){if(a8)return qk;a8=1;function t(e,r){for(var n=-1,s=e==null?0:e.length;++n<s;)if(r(e[n],n,e))return!0;return!1}return qk=t,qk}var Uk,s8;function CK(){if(s8)return Uk;s8=1;function t(e,r){return e.has(r)}return Uk=t,Uk}var Gk,i8;function TK(){if(i8)return Gk;i8=1;var t=NK(),e=kK(),r=CK(),n=1,s=2;function i(o,l,c,d,h,m){var x=c&n,y=o.length,w=l.length;if(y!=w&&!(x&&w>y))return!1;var j=m.get(o),v=m.get(l);if(j&&v)return j==l&&v==o;var N=-1,T=!0,S=c&s?new t:void 0;for(m.set(o,l),m.set(l,o);++N<y;){var O=o[N],_=l[N];if(d)var A=x?d(_,O,N,l,o,m):d(O,_,N,o,l,m);if(A!==void 0){if(A)continue;T=!1;break}if(S){if(!e(l,function(E,D){if(!r(S,D)&&(O===E||h(O,E,c,d,m)))return S.push(D)})){T=!1;break}}else if(!(O===_||h(O,_,c,d,m))){T=!1;break}}return m.delete(o),m.delete(l),T}return Gk=i,Gk}var Yk,o8;function Ike(){if(o8)return Yk;o8=1;var t=Ro(),e=t.Uint8Array;return Yk=e,Yk}var Kk,l8;function Lke(){if(l8)return Kk;l8=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(s,i){n[++r]=[i,s]}),n}return Kk=t,Kk}var Xk,c8;function wE(){if(c8)return Xk;c8=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(s){n[++r]=s}),n}return Xk=t,Xk}var Jk,u8;function $ke(){if(u8)return Jk;u8=1;var t=yg(),e=Ike(),r=cE(),n=TK(),s=Lke(),i=wE(),o=1,l=2,c="[object Boolean]",d="[object Date]",h="[object Error]",m="[object Map]",x="[object Number]",y="[object RegExp]",w="[object Set]",j="[object String]",v="[object Symbol]",N="[object ArrayBuffer]",T="[object DataView]",S=t?t.prototype:void 0,O=S?S.valueOf:void 0;function _(A,E,D,$,I,L,R){switch(D){case T:if(A.byteLength!=E.byteLength||A.byteOffset!=E.byteOffset)return!1;A=A.buffer,E=E.buffer;case N:return!(A.byteLength!=E.byteLength||!L(new e(A),new e(E)));case c:case d:case x:return r(+A,+E);case h:return A.name==E.name&&A.message==E.message;case y:case j:return A==E+"";case m:var z=s;case w:var Y=$&o;if(z||(z=i),A.size!=E.size&&!Y)return!1;var W=R.get(A);if(W)return W==E;$|=l,R.set(A,E);var H=n(z(A),z(E),$,I,L,R);return R.delete(A),H;case v:if(O)return O.call(A)==O.call(E)}return!1}return Jk=_,Jk}var Qk,d8;function _K(){if(d8)return Qk;d8=1;function t(e,r){for(var n=-1,s=r.length,i=e.length;++n<s;)e[i+n]=r[n];return e}return Qk=t,Qk}var Zk,f8;function Fke(){if(f8)return Zk;f8=1;var t=_K(),e=_s();function r(n,s,i){var o=s(n);return e(n)?o:t(o,i(n))}return Zk=r,Zk}var eC,h8;function Hke(){if(h8)return eC;h8=1;function t(e,r){for(var n=-1,s=e==null?0:e.length,i=0,o=[];++n<s;){var l=e[n];r(l,n,e)&&(o[i++]=l)}return o}return eC=t,eC}var tC,m8;function Bke(){if(m8)return tC;m8=1;function t(){return[]}return tC=t,tC}var rC,p8;function zke(){if(p8)return rC;p8=1;var t=Hke(),e=Bke(),r=Object.prototype,n=r.propertyIsEnumerable,s=Object.getOwnPropertySymbols,i=s?function(o){return o==null?[]:(o=Object(o),t(s(o),function(l){return n.call(o,l)}))}:e;return rC=i,rC}var nC,g8;function Vke(){if(g8)return nC;g8=1;function t(e,r){for(var n=-1,s=Array(e);++n<e;)s[n]=r(n);return s}return nC=t,nC}var aC,x8;function Wke(){if(x8)return aC;x8=1;var t=Bl(),e=zl(),r="[object Arguments]";function n(s){return e(s)&&t(s)==r}return aC=n,aC}var sC,y8;function jE(){if(y8)return sC;y8=1;var t=Wke(),e=zl(),r=Object.prototype,n=r.hasOwnProperty,s=r.propertyIsEnumerable,i=t((function(){return arguments})())?t:function(o){return e(o)&&n.call(o,"callee")&&!s.call(o,"callee")};return sC=i,sC}var Sp={exports:{}},iC,b8;function qke(){if(b8)return iC;b8=1;function t(){return!1}return iC=t,iC}Sp.exports;var v8;function MK(){return v8||(v8=1,(function(t,e){var r=Ro(),n=qke(),s=e&&!e.nodeType&&e,i=s&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===s,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,d=c||n;t.exports=d})(Sp,Sp.exports)),Sp.exports}var oC,w8;function SE(){if(w8)return oC;w8=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,s){var i=typeof n;return s=s??t,!!s&&(i=="number"||i!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<s}return oC=r,oC}var lC,j8;function NE(){if(j8)return lC;j8=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return lC=e,lC}var cC,S8;function Uke(){if(S8)return cC;S8=1;var t=Bl(),e=NE(),r=zl(),n="[object Arguments]",s="[object Array]",i="[object Boolean]",o="[object Date]",l="[object Error]",c="[object Function]",d="[object Map]",h="[object Number]",m="[object Object]",x="[object RegExp]",y="[object Set]",w="[object String]",j="[object WeakMap]",v="[object ArrayBuffer]",N="[object DataView]",T="[object Float32Array]",S="[object Float64Array]",O="[object Int8Array]",_="[object Int16Array]",A="[object Int32Array]",E="[object Uint8Array]",D="[object Uint8ClampedArray]",$="[object Uint16Array]",I="[object Uint32Array]",L={};L[T]=L[S]=L[O]=L[_]=L[A]=L[E]=L[D]=L[$]=L[I]=!0,L[n]=L[s]=L[v]=L[i]=L[N]=L[o]=L[l]=L[c]=L[d]=L[h]=L[m]=L[x]=L[y]=L[w]=L[j]=!1;function R(z){return r(z)&&e(z.length)&&!!L[t(z)]}return cC=R,cC}var uC,N8;function AK(){if(N8)return uC;N8=1;function t(e){return function(r){return e(r)}}return uC=t,uC}var Np={exports:{}};Np.exports;var k8;function Gke(){return k8||(k8=1,(function(t,e){var r=XY(),n=e&&!e.nodeType&&e,s=n&&!0&&t&&!t.nodeType&&t,i=s&&s.exports===n,o=i&&r.process,l=(function(){try{var c=s&&s.require&&s.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}})();t.exports=l})(Np,Np.exports)),Np.exports}var dC,C8;function OK(){if(C8)return dC;C8=1;var t=Uke(),e=AK(),r=Gke(),n=r&&r.isTypedArray,s=n?e(n):t;return dC=s,dC}var fC,T8;function Yke(){if(T8)return fC;T8=1;var t=Vke(),e=jE(),r=_s(),n=MK(),s=SE(),i=OK(),o=Object.prototype,l=o.hasOwnProperty;function c(d,h){var m=r(d),x=!m&&e(d),y=!m&&!x&&n(d),w=!m&&!x&&!y&&i(d),j=m||x||y||w,v=j?t(d.length,String):[],N=v.length;for(var T in d)(h||l.call(d,T))&&!(j&&(T=="length"||y&&(T=="offset"||T=="parent")||w&&(T=="buffer"||T=="byteLength"||T=="byteOffset")||s(T,N)))&&v.push(T);return v}return fC=c,fC}var hC,_8;function Kke(){if(_8)return hC;_8=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,s=typeof n=="function"&&n.prototype||t;return r===s}return hC=e,hC}var mC,M8;function EK(){if(M8)return mC;M8=1;function t(e,r){return function(n){return e(r(n))}}return mC=t,mC}var pC,A8;function Xke(){if(A8)return pC;A8=1;var t=EK(),e=t(Object.keys,Object);return pC=e,pC}var gC,O8;function Jke(){if(O8)return gC;O8=1;var t=Kke(),e=Xke(),r=Object.prototype,n=r.hasOwnProperty;function s(i){if(!t(i))return e(i);var o=[];for(var l in Object(i))n.call(i,l)&&l!="constructor"&&o.push(l);return o}return gC=s,gC}var xC,E8;function vg(){if(E8)return xC;E8=1;var t=lE(),e=NE();function r(n){return n!=null&&e(n.length)&&!t(n)}return xC=r,xC}var yC,D8;function y1(){if(D8)return yC;D8=1;var t=Yke(),e=Jke(),r=vg();function n(s){return r(s)?t(s):e(s)}return yC=n,yC}var bC,P8;function Qke(){if(P8)return bC;P8=1;var t=Fke(),e=zke(),r=y1();function n(s){return t(s,r,e)}return bC=n,bC}var vC,R8;function Zke(){if(R8)return vC;R8=1;var t=Qke(),e=1,r=Object.prototype,n=r.hasOwnProperty;function s(i,o,l,c,d,h){var m=l&e,x=t(i),y=x.length,w=t(o),j=w.length;if(y!=j&&!m)return!1;for(var v=y;v--;){var N=x[v];if(!(m?N in o:n.call(o,N)))return!1}var T=h.get(i),S=h.get(o);if(T&&S)return T==o&&S==i;var O=!0;h.set(i,o),h.set(o,i);for(var _=m;++v<y;){N=x[v];var A=i[N],E=o[N];if(c)var D=m?c(E,A,N,o,i,h):c(A,E,N,i,o,h);if(!(D===void 0?A===E||d(A,E,l,c,h):D)){O=!1;break}_||(_=N=="constructor")}if(O&&!_){var $=i.constructor,I=o.constructor;$!=I&&"constructor"in i&&"constructor"in o&&!(typeof $=="function"&&$ instanceof $&&typeof I=="function"&&I instanceof I)&&(O=!1)}return h.delete(i),h.delete(o),O}return vC=s,vC}var wC,I8;function eCe(){if(I8)return wC;I8=1;var t=bd(),e=Ro(),r=t(e,"DataView");return wC=r,wC}var jC,L8;function tCe(){if(L8)return jC;L8=1;var t=bd(),e=Ro(),r=t(e,"Promise");return jC=r,jC}var SC,$8;function DK(){if($8)return SC;$8=1;var t=bd(),e=Ro(),r=t(e,"Set");return SC=r,SC}var NC,F8;function rCe(){if(F8)return NC;F8=1;var t=bd(),e=Ro(),r=t(e,"WeakMap");return NC=r,NC}var kC,H8;function nCe(){if(H8)return kC;H8=1;var t=eCe(),e=uE(),r=tCe(),n=DK(),s=rCe(),i=Bl(),o=JY(),l="[object Map]",c="[object Object]",d="[object Promise]",h="[object Set]",m="[object WeakMap]",x="[object DataView]",y=o(t),w=o(e),j=o(r),v=o(n),N=o(s),T=i;return(t&&T(new t(new ArrayBuffer(1)))!=x||e&&T(new e)!=l||r&&T(r.resolve())!=d||n&&T(new n)!=h||s&&T(new s)!=m)&&(T=function(S){var O=i(S),_=O==c?S.constructor:void 0,A=_?o(_):"";if(A)switch(A){case y:return x;case w:return l;case j:return d;case v:return h;case N:return m}return O}),kC=T,kC}var CC,B8;function aCe(){if(B8)return CC;B8=1;var t=SK(),e=TK(),r=$ke(),n=Zke(),s=nCe(),i=_s(),o=MK(),l=OK(),c=1,d="[object Arguments]",h="[object Array]",m="[object Object]",x=Object.prototype,y=x.hasOwnProperty;function w(j,v,N,T,S,O){var _=i(j),A=i(v),E=_?h:s(j),D=A?h:s(v);E=E==d?m:E,D=D==d?m:D;var $=E==m,I=D==m,L=E==D;if(L&&o(j)){if(!o(v))return!1;_=!0,$=!1}if(L&&!$)return O||(O=new t),_||l(j)?e(j,v,N,T,S,O):r(j,v,E,N,T,S,O);if(!(N&c)){var R=$&&y.call(j,"__wrapped__"),z=I&&y.call(v,"__wrapped__");if(R||z){var Y=R?j.value():j,W=z?v.value():v;return O||(O=new t),S(Y,W,N,T,O)}}return L?(O||(O=new t),n(j,v,N,T,S,O)):!1}return CC=w,CC}var TC,z8;function kE(){if(z8)return TC;z8=1;var t=aCe(),e=zl();function r(n,s,i,o,l){return n===s?!0:n==null||s==null||!e(n)&&!e(s)?n!==n&&s!==s:t(n,s,i,o,r,l)}return TC=r,TC}var _C,V8;function sCe(){if(V8)return _C;V8=1;var t=SK(),e=kE(),r=1,n=2;function s(i,o,l,c){var d=l.length,h=d,m=!c;if(i==null)return!h;for(i=Object(i);d--;){var x=l[d];if(m&&x[2]?x[1]!==i[x[0]]:!(x[0]in i))return!1}for(;++d<h;){x=l[d];var y=x[0],w=i[y],j=x[1];if(m&&x[2]){if(w===void 0&&!(y in i))return!1}else{var v=new t;if(c)var N=c(w,j,y,i,o,v);if(!(N===void 0?e(j,w,r|n,c,v):N))return!1}}return!0}return _C=s,_C}var MC,W8;function PK(){if(W8)return MC;W8=1;var t=Kc();function e(r){return r===r&&!t(r)}return MC=e,MC}var AC,q8;function iCe(){if(q8)return AC;q8=1;var t=PK(),e=y1();function r(n){for(var s=e(n),i=s.length;i--;){var o=s[i],l=n[o];s[i]=[o,l,t(l)]}return s}return AC=r,AC}var OC,U8;function RK(){if(U8)return OC;U8=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return OC=t,OC}var EC,G8;function oCe(){if(G8)return EC;G8=1;var t=sCe(),e=iCe(),r=RK();function n(s){var i=e(s);return i.length==1&&i[0][2]?r(i[0][0],i[0][1]):function(o){return o===s||t(o,s,i)}}return EC=n,EC}var DC,Y8;function lCe(){if(Y8)return DC;Y8=1;function t(e,r){return e!=null&&r in Object(e)}return DC=t,DC}var PC,K8;function cCe(){if(K8)return PC;K8=1;var t=eK(),e=jE(),r=_s(),n=SE(),s=NE(),i=h1();function o(l,c,d){c=t(c,l);for(var h=-1,m=c.length,x=!1;++h<m;){var y=i(c[h]);if(!(x=l!=null&&d(l,y)))break;l=l[y]}return x||++h!=m?x:(m=l==null?0:l.length,!!m&&s(m)&&n(y,m)&&(r(l)||e(l)))}return PC=o,PC}var RC,X8;function uCe(){if(X8)return RC;X8=1;var t=lCe(),e=cCe();function r(n,s){return n!=null&&e(n,s,t)}return RC=r,RC}var IC,J8;function dCe(){if(J8)return IC;J8=1;var t=kE(),e=tK(),r=uCe(),n=oE(),s=PK(),i=RK(),o=h1(),l=1,c=2;function d(h,m){return n(h)&&s(m)?i(o(h),m):function(x){var y=e(x,h);return y===void 0&&y===m?r(x,h):t(m,y,l|c)}}return IC=d,IC}var LC,Q8;function Uh(){if(Q8)return LC;Q8=1;function t(e){return e}return LC=t,LC}var $C,Z8;function fCe(){if(Z8)return $C;Z8=1;function t(e){return function(r){return r==null?void 0:r[e]}}return $C=t,$C}var FC,eF;function hCe(){if(eF)return FC;eF=1;var t=hE();function e(r){return function(n){return t(n,r)}}return FC=e,FC}var HC,tF;function mCe(){if(tF)return HC;tF=1;var t=fCe(),e=hCe(),r=oE(),n=h1();function s(i){return r(i)?t(n(i)):e(i)}return HC=s,HC}var BC,rF;function Io(){if(rF)return BC;rF=1;var t=oCe(),e=dCe(),r=Uh(),n=_s(),s=mCe();function i(o){return typeof o=="function"?o:o==null?r:typeof o=="object"?n(o)?e(o[0],o[1]):t(o):s(o)}return BC=i,BC}var zC,nF;function IK(){if(nF)return zC;nF=1;function t(e,r,n,s){for(var i=e.length,o=n+(s?1:-1);s?o--:++o<i;)if(r(e[o],o,e))return o;return-1}return zC=t,zC}var VC,aF;function pCe(){if(aF)return VC;aF=1;function t(e){return e!==e}return VC=t,VC}var WC,sF;function gCe(){if(sF)return WC;sF=1;function t(e,r,n){for(var s=n-1,i=e.length;++s<i;)if(e[s]===r)return s;return-1}return WC=t,WC}var qC,iF;function xCe(){if(iF)return qC;iF=1;var t=IK(),e=pCe(),r=gCe();function n(s,i,o){return i===i?r(s,i,o):t(s,e,o)}return qC=n,qC}var UC,oF;function yCe(){if(oF)return UC;oF=1;var t=xCe();function e(r,n){var s=r==null?0:r.length;return!!s&&t(r,n,0)>-1}return UC=e,UC}var GC,lF;function bCe(){if(lF)return GC;lF=1;function t(e,r,n){for(var s=-1,i=e==null?0:e.length;++s<i;)if(n(r,e[s]))return!0;return!1}return GC=t,GC}var YC,cF;function vCe(){if(cF)return YC;cF=1;function t(){}return YC=t,YC}var KC,uF;function wCe(){if(uF)return KC;uF=1;var t=DK(),e=vCe(),r=wE(),n=1/0,s=t&&1/r(new t([,-0]))[1]==n?function(i){return new t(i)}:e;return KC=s,KC}var XC,dF;function jCe(){if(dF)return XC;dF=1;var t=NK(),e=yCe(),r=bCe(),n=CK(),s=wCe(),i=wE(),o=200;function l(c,d,h){var m=-1,x=e,y=c.length,w=!0,j=[],v=j;if(h)w=!1,x=r;else if(y>=o){var N=d?null:s(c);if(N)return i(N);w=!1,x=n,v=new t}else v=d?[]:j;e:for(;++m<y;){var T=c[m],S=d?d(T):T;if(T=h||T!==0?T:0,w&&S===S){for(var O=v.length;O--;)if(v[O]===S)continue e;d&&v.push(S),j.push(T)}else x(v,S,h)||(v!==j&&v.push(S),j.push(T))}return j}return XC=l,XC}var JC,fF;function SCe(){if(fF)return JC;fF=1;var t=Io(),e=jCe();function r(n,s){return n&&n.length?e(n,t(s,2)):[]}return JC=r,JC}var NCe=SCe();const hF=$r(NCe);function LK(t,e,r){return e===!0?hF(t,r):tr(e)?hF(t,e):t}function ch(t){"@babel/helpers - typeof";return ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ch(t)}var kCe=["ref"];function mF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function nl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mF(Object(r),!0).forEach(function(n){b1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function CCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pF(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,FK(n.key),n)}}function TCe(t,e,r){return e&&pF(t.prototype,e),r&&pF(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function _Ce(t,e,r){return e=Lv(e),MCe(t,$K()?Reflect.construct(e,r||[],Lv(t).constructor):e.apply(t,r))}function MCe(t,e){if(e&&(ch(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ACe(t)}function ACe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $K(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($K=function(){return!!t})()}function Lv(t){return Lv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lv(t)}function OCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&aM(t,e)}function aM(t,e){return aM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},aM(t,e)}function b1(t,e,r){return e=FK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function FK(t){var e=ECe(t,"string");return ch(e)=="symbol"?e:e+""}function ECe(t,e){if(ch(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ch(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function DCe(t,e){if(t==null)return{};var r=PCe(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function PCe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function RCe(t){return t.value}function ICe(t,e){if(J.isValidElement(t))return J.cloneElement(t,e);if(typeof t=="function")return J.createElement(t,e);e.ref;var r=DCe(e,kCe);return J.createElement(vE,r)}var gF=1,wo=(function(t){function e(){var r;CCe(this,e);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=_Ce(this,e,[].concat(s)),b1(r,"lastBoundingBox",{width:-1,height:-1}),r}return OCe(e,t),TCe(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,s=this.getBBox();s?(Math.abs(s.width-this.lastBoundingBox.width)>gF||Math.abs(s.height-this.lastBoundingBox.height)>gF)&&(this.lastBoundingBox.width=s.width,this.lastBoundingBox.height=s.height,n&&n(s)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?nl({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var s=this.props,i=s.layout,o=s.align,l=s.verticalAlign,c=s.margin,d=s.chartWidth,h=s.chartHeight,m,x;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&i==="vertical"){var y=this.getBBoxSnapshot();m={left:((d||0)-y.width)/2}}else m=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var w=this.getBBoxSnapshot();x={top:((h||0)-w.height)/2}}else x=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return nl(nl({},m),x)}},{key:"render",value:function(){var n=this,s=this.props,i=s.content,o=s.width,l=s.height,c=s.wrapperStyle,d=s.payloadUniqBy,h=s.payload,m=nl(nl({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return J.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:function(y){n.wrapperNode=y}},ICe(i,nl(nl({},this.props),{},{payload:LK(h,d,RCe)})))}}],[{key:"getWithHeight",value:function(n,s){var i=nl(nl({},this.defaultProps),n.props),o=i.layout;return o==="vertical"&&yt(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||s}:null}}])})(g.PureComponent);b1(wo,"displayName","Legend");b1(wo,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var QC,xF;function LCe(){if(xF)return QC;xF=1;var t=yg(),e=jE(),r=_s(),n=t?t.isConcatSpreadable:void 0;function s(i){return r(i)||e(i)||!!(n&&i&&i[n])}return QC=s,QC}var ZC,yF;function HK(){if(yF)return ZC;yF=1;var t=_K(),e=LCe();function r(n,s,i,o,l){var c=-1,d=n.length;for(i||(i=e),l||(l=[]);++c<d;){var h=n[c];s>0&&i(h)?s>1?r(h,s-1,i,o,l):t(l,h):o||(l[l.length]=h)}return l}return ZC=r,ZC}var eT,bF;function $Ce(){if(bF)return eT;bF=1;function t(e){return function(r,n,s){for(var i=-1,o=Object(r),l=s(r),c=l.length;c--;){var d=l[e?c:++i];if(n(o[d],d,o)===!1)break}return r}}return eT=t,eT}var tT,vF;function FCe(){if(vF)return tT;vF=1;var t=$Ce(),e=t();return tT=e,tT}var rT,wF;function BK(){if(wF)return rT;wF=1;var t=FCe(),e=y1();function r(n,s){return n&&t(n,s,e)}return rT=r,rT}var nT,jF;function HCe(){if(jF)return nT;jF=1;var t=vg();function e(r,n){return function(s,i){if(s==null)return s;if(!t(s))return r(s,i);for(var o=s.length,l=n?o:-1,c=Object(s);(n?l--:++l<o)&&i(c[l],l,c)!==!1;);return s}}return nT=e,nT}var aT,SF;function CE(){if(SF)return aT;SF=1;var t=BK(),e=HCe(),r=e(t);return aT=r,aT}var sT,NF;function zK(){if(NF)return sT;NF=1;var t=CE(),e=vg();function r(n,s){var i=-1,o=e(n)?Array(n.length):[];return t(n,function(l,c,d){o[++i]=s(l,c,d)}),o}return sT=r,sT}var iT,kF;function BCe(){if(kF)return iT;kF=1;function t(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}return iT=t,iT}var oT,CF;function zCe(){if(CF)return oT;CF=1;var t=Vh();function e(r,n){if(r!==n){var s=r!==void 0,i=r===null,o=r===r,l=t(r),c=n!==void 0,d=n===null,h=n===n,m=t(n);if(!d&&!m&&!l&&r>n||l&&c&&h&&!d&&!m||i&&c&&h||!s&&h||!o)return 1;if(!i&&!l&&!m&&r<n||m&&s&&o&&!i&&!l||d&&s&&o||!c&&o||!h)return-1}return 0}return oT=e,oT}var lT,TF;function VCe(){if(TF)return lT;TF=1;var t=zCe();function e(r,n,s){for(var i=-1,o=r.criteria,l=n.criteria,c=o.length,d=s.length;++i<c;){var h=t(o[i],l[i]);if(h){if(i>=d)return h;var m=s[i];return h*(m=="desc"?-1:1)}}return r.index-n.index}return lT=e,lT}var cT,_F;function WCe(){if(_F)return cT;_F=1;var t=fE(),e=hE(),r=Io(),n=zK(),s=BCe(),i=AK(),o=VCe(),l=Uh(),c=_s();function d(h,m,x){m.length?m=t(m,function(j){return c(j)?function(v){return e(v,j.length===1?j[0]:j)}:j}):m=[l];var y=-1;m=t(m,i(r));var w=n(h,function(j,v,N){var T=t(m,function(S){return S(j)});return{criteria:T,index:++y,value:j}});return s(w,function(j,v){return o(j,v,x)})}return cT=d,cT}var uT,MF;function qCe(){if(MF)return uT;MF=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return uT=t,uT}var dT,AF;function UCe(){if(AF)return dT;AF=1;var t=qCe(),e=Math.max;function r(n,s,i){return s=e(s===void 0?n.length-1:s,0),function(){for(var o=arguments,l=-1,c=e(o.length-s,0),d=Array(c);++l<c;)d[l]=o[s+l];l=-1;for(var h=Array(s+1);++l<s;)h[l]=o[l];return h[s]=i(d),t(n,this,h)}}return dT=r,dT}var fT,OF;function GCe(){if(OF)return fT;OF=1;function t(e){return function(){return e}}return fT=t,fT}var hT,EF;function VK(){if(EF)return hT;EF=1;var t=bd(),e=(function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}})();return hT=e,hT}var mT,DF;function YCe(){if(DF)return mT;DF=1;var t=GCe(),e=VK(),r=Uh(),n=e?function(s,i){return e(s,"toString",{configurable:!0,enumerable:!1,value:t(i),writable:!0})}:r;return mT=n,mT}var pT,PF;function KCe(){if(PF)return pT;PF=1;var t=800,e=16,r=Date.now;function n(s){var i=0,o=0;return function(){var l=r(),c=e-(l-o);if(o=l,c>0){if(++i>=t)return arguments[0]}else i=0;return s.apply(void 0,arguments)}}return pT=n,pT}var gT,RF;function XCe(){if(RF)return gT;RF=1;var t=YCe(),e=KCe(),r=e(t);return gT=r,gT}var xT,IF;function JCe(){if(IF)return xT;IF=1;var t=Uh(),e=UCe(),r=XCe();function n(s,i){return r(e(s,i,t),s+"")}return xT=n,xT}var yT,LF;function v1(){if(LF)return yT;LF=1;var t=cE(),e=vg(),r=SE(),n=Kc();function s(i,o,l){if(!n(l))return!1;var c=typeof o;return(c=="number"?e(l)&&r(o,l.length):c=="string"&&o in l)?t(l[o],i):!1}return yT=s,yT}var bT,$F;function QCe(){if($F)return bT;$F=1;var t=HK(),e=WCe(),r=JCe(),n=v1(),s=r(function(i,o){if(i==null)return[];var l=o.length;return l>1&&n(i,o[0],o[1])?o=[]:l>2&&n(o[0],o[1],o[2])&&(o=[o[0]]),e(i,t(o,1),[])});return bT=s,bT}var ZCe=QCe();const TE=$r(ZCe);function v0(t){"@babel/helpers - typeof";return v0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v0(t)}function sM(){return sM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},sM.apply(this,arguments)}function eTe(t,e){return aTe(t)||nTe(t,e)||rTe(t,e)||tTe()}function tTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rTe(t,e){if(t){if(typeof t=="string")return FF(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return FF(t,e)}}function FF(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function nTe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(h){d=!0,s=h}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function aTe(t){if(Array.isArray(t))return t}function HF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function vT(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HF(Object(r),!0).forEach(function(n){sTe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sTe(t,e,r){return e=iTe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iTe(t){var e=oTe(t,"string");return v0(e)=="symbol"?e:e+""}function oTe(t,e){if(v0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(v0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lTe(t){return Array.isArray(t)&&ga(t[0])&&ga(t[1])?t.join(" ~ "):t}var cTe=function(e){var r=e.separator,n=r===void 0?" : ":r,s=e.contentStyle,i=s===void 0?{}:s,o=e.itemStyle,l=o===void 0?{}:o,c=e.labelStyle,d=c===void 0?{}:c,h=e.payload,m=e.formatter,x=e.itemSorter,y=e.wrapperClassName,w=e.labelClassName,j=e.label,v=e.labelFormatter,N=e.accessibilityLayer,T=N===void 0?!1:N,S=function(){if(h&&h.length){var R={padding:0,margin:0},z=(x?TE(h,x):h).map(function(Y,W){if(Y.type==="none")return null;var H=vT({display:"block",paddingTop:4,paddingBottom:4,color:Y.color||"#000"},l),P=Y.formatter||m||lTe,F=Y.value,X=Y.name,te=F,q=X;if(P&&te!=null&&q!=null){var Z=P(F,X,Y,W,h);if(Array.isArray(Z)){var ie=eTe(Z,2);te=ie[0],q=ie[1]}else te=Z}return J.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(W),style:H},ga(q)?J.createElement("span",{className:"recharts-tooltip-item-name"},q):null,ga(q)?J.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,J.createElement("span",{className:"recharts-tooltip-item-value"},te),J.createElement("span",{className:"recharts-tooltip-item-unit"},Y.unit||""))});return J.createElement("ul",{className:"recharts-tooltip-item-list",style:R},z)}return null},O=vT({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),_=vT({margin:0},d),A=!ar(j),E=A?j:"",D=Ht("recharts-default-tooltip",y),$=Ht("recharts-tooltip-label",w);A&&v&&h!==void 0&&h!==null&&(E=v(j,h));var I=T?{role:"status","aria-live":"assertive"}:{};return J.createElement("div",sM({className:D,style:O},I),J.createElement("p",{className:$,style:_},J.isValidElement(E)?E:"".concat(E)),S())};function w0(t){"@babel/helpers - typeof";return w0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w0(t)}function wy(t,e,r){return e=uTe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uTe(t){var e=dTe(t,"string");return w0(e)=="symbol"?e:e+""}function dTe(t,e){if(w0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(w0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sp="recharts-tooltip-wrapper",fTe={visibility:"hidden"};function hTe(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return Ht(sp,wy(wy(wy(wy({},"".concat(sp,"-right"),yt(r)&&e&&yt(e.x)&&r>=e.x),"".concat(sp,"-left"),yt(r)&&e&&yt(e.x)&&r<e.x),"".concat(sp,"-bottom"),yt(n)&&e&&yt(e.y)&&n>=e.y),"".concat(sp,"-top"),yt(n)&&e&&yt(e.y)&&n<e.y))}function BF(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,s=t.offsetTopLeft,i=t.position,o=t.reverseDirection,l=t.tooltipDimension,c=t.viewBox,d=t.viewBoxDimension;if(i&&yt(i[n]))return i[n];var h=r[n]-l-s,m=r[n]+s;if(e[n])return o[n]?h:m;if(o[n]){var x=h,y=c[n];return x<y?Math.max(m,c[n]):Math.max(h,c[n])}var w=m+l,j=c[n]+d;return w>j?Math.max(h,c[n]):Math.max(m,c[n])}function mTe(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function pTe(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,s=t.position,i=t.reverseDirection,o=t.tooltipBox,l=t.useTranslate3d,c=t.viewBox,d,h,m;return o.height>0&&o.width>0&&r?(h=BF({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),m=BF({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),d=mTe({translateX:h,translateY:m,useTranslate3d:l})):d=fTe,{cssProperties:d,cssClasses:hTe({translateX:h,translateY:m,coordinate:r})}}function uh(t){"@babel/helpers - typeof";return uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uh(t)}function zF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function VF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zF(Object(r),!0).forEach(function(n){oM(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xTe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,qK(n.key),n)}}function yTe(t,e,r){return e&&xTe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function bTe(t,e,r){return e=$v(e),vTe(t,WK()?Reflect.construct(e,r||[],$v(t).constructor):e.apply(t,r))}function vTe(t,e){if(e&&(uh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wTe(t)}function wTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function WK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WK=function(){return!!t})()}function $v(t){return $v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$v(t)}function jTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&iM(t,e)}function iM(t,e){return iM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},iM(t,e)}function oM(t,e,r){return e=qK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qK(t){var e=STe(t,"string");return uh(e)=="symbol"?e:e+""}function STe(t,e){if(uh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(uh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var WF=1,NTe=(function(t){function e(){var r;gTe(this,e);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=bTe(this,e,[].concat(s)),oM(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),oM(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,d,h;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(d=(h=r.props.coordinate)===null||h===void 0?void 0:h.y)!==null&&d!==void 0?d:0}})}}),r}return jTe(e,t),yTe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>WF||Math.abs(n.height-this.state.lastBoundingBox.height)>WF)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,s;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,d=s.children,h=s.coordinate,m=s.hasPayload,x=s.isAnimationActive,y=s.offset,w=s.position,j=s.reverseDirection,v=s.useTranslate3d,N=s.viewBox,T=s.wrapperStyle,S=pTe({allowEscapeViewBox:o,coordinate:h,offsetTopLeft:y,position:w,reverseDirection:j,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:N}),O=S.cssClasses,_=S.cssProperties,A=VF(VF({transition:x&&i?"transform ".concat(l,"ms ").concat(c):void 0},_),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&m?"visible":"hidden",position:"absolute",top:0,left:0},T);return J.createElement("div",{tabIndex:-1,className:O,style:A,ref:function(D){n.wrapperNode=D}},d)}}])})(g.PureComponent),kTe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},vd={isSsr:kTe()};function dh(t){"@babel/helpers - typeof";return dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dh(t)}function qF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function UF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qF(Object(r),!0).forEach(function(n){_E(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function CTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TTe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,GK(n.key),n)}}function _Te(t,e,r){return e&&TTe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function MTe(t,e,r){return e=Fv(e),ATe(t,UK()?Reflect.construct(e,r||[],Fv(t).constructor):e.apply(t,r))}function ATe(t,e){if(e&&(dh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OTe(t)}function OTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function UK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UK=function(){return!!t})()}function Fv(t){return Fv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fv(t)}function ETe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lM(t,e)}function lM(t,e){return lM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},lM(t,e)}function _E(t,e,r){return e=GK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function GK(t){var e=DTe(t,"string");return dh(e)=="symbol"?e:e+""}function DTe(t,e){if(dh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(dh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function PTe(t){return t.dataKey}function RTe(t,e){return J.isValidElement(t)?J.cloneElement(t,e):typeof t=="function"?J.createElement(t,e):J.createElement(cTe,e)}var ja=(function(t){function e(){return CTe(this,e),MTe(this,e,arguments)}return ETe(e,t),_Te(e,[{key:"render",value:function(){var n=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,d=s.content,h=s.coordinate,m=s.filterNull,x=s.isAnimationActive,y=s.offset,w=s.payload,j=s.payloadUniqBy,v=s.position,N=s.reverseDirection,T=s.useTranslate3d,S=s.viewBox,O=s.wrapperStyle,_=w??[];m&&_.length&&(_=LK(w.filter(function(E){return E.value!=null&&(E.hide!==!0||n.props.includeHidden)}),j,PTe));var A=_.length>0;return J.createElement(NTe,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:x,active:i,coordinate:h,hasPayload:A,offset:y,position:v,reverseDirection:N,useTranslate3d:T,viewBox:S,wrapperStyle:O},RTe(d,UF(UF({},this.props),{},{payload:_})))}}])})(g.PureComponent);_E(ja,"displayName","Tooltip");_E(ja,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!vd.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var wT,GF;function ITe(){if(GF)return wT;GF=1;var t=Ro(),e=function(){return t.Date.now()};return wT=e,wT}var jT,YF;function LTe(){if(YF)return jT;YF=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return jT=e,jT}var ST,KF;function $Te(){if(KF)return ST;KF=1;var t=LTe(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return ST=r,ST}var NT,XF;function YK(){if(XF)return NT;XF=1;var t=$Te(),e=Kc(),r=Vh(),n=NaN,s=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt;function c(d){if(typeof d=="number")return d;if(r(d))return n;if(e(d)){var h=typeof d.valueOf=="function"?d.valueOf():d;d=e(h)?h+"":h}if(typeof d!="string")return d===0?d:+d;d=t(d);var m=i.test(d);return m||o.test(d)?l(d.slice(2),m?2:8):s.test(d)?n:+d}return NT=c,NT}var kT,JF;function FTe(){if(JF)return kT;JF=1;var t=Kc(),e=ITe(),r=YK(),n="Expected a function",s=Math.max,i=Math.min;function o(l,c,d){var h,m,x,y,w,j,v=0,N=!1,T=!1,S=!0;if(typeof l!="function")throw new TypeError(n);c=r(c)||0,t(d)&&(N=!!d.leading,T="maxWait"in d,x=T?s(r(d.maxWait)||0,c):x,S="trailing"in d?!!d.trailing:S);function O(z){var Y=h,W=m;return h=m=void 0,v=z,y=l.apply(W,Y),y}function _(z){return v=z,w=setTimeout(D,c),N?O(z):y}function A(z){var Y=z-j,W=z-v,H=c-Y;return T?i(H,x-W):H}function E(z){var Y=z-j,W=z-v;return j===void 0||Y>=c||Y<0||T&&W>=x}function D(){var z=e();if(E(z))return $(z);w=setTimeout(D,A(z))}function $(z){return w=void 0,S&&h?O(z):(h=m=void 0,y)}function I(){w!==void 0&&clearTimeout(w),v=0,h=j=m=w=void 0}function L(){return w===void 0?y:$(e())}function R(){var z=e(),Y=E(z);if(h=arguments,m=this,j=z,Y){if(w===void 0)return _(j);if(T)return clearTimeout(w),w=setTimeout(D,c),O(j)}return w===void 0&&(w=setTimeout(D,c)),y}return R.cancel=I,R.flush=L,R}return kT=o,kT}var CT,QF;function HTe(){if(QF)return CT;QF=1;var t=FTe(),e=Kc(),r="Expected a function";function n(s,i,o){var l=!0,c=!0;if(typeof s!="function")throw new TypeError(r);return e(o)&&(l="leading"in o?!!o.leading:l,c="trailing"in o?!!o.trailing:c),t(s,i,{leading:l,maxWait:i,trailing:c})}return CT=n,CT}var BTe=HTe();const KK=$r(BTe);function j0(t){"@babel/helpers - typeof";return j0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j0(t)}function ZF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function jy(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ZF(Object(r),!0).forEach(function(n){zTe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ZF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zTe(t,e,r){return e=VTe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function VTe(t){var e=WTe(t,"string");return j0(e)=="symbol"?e:e+""}function WTe(t,e){if(j0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(j0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qTe(t,e){return KTe(t)||YTe(t,e)||GTe(t,e)||UTe()}function UTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GTe(t,e){if(t){if(typeof t=="string")return e9(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return e9(t,e)}}function e9(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function YTe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(h){d=!0,s=h}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function KTe(t){if(Array.isArray(t))return t}var dl=g.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,s=n===void 0?{width:-1,height:-1}:n,i=t.width,o=i===void 0?"100%":i,l=t.height,c=l===void 0?"100%":l,d=t.minWidth,h=d===void 0?0:d,m=t.minHeight,x=t.maxHeight,y=t.children,w=t.debounce,j=w===void 0?0:w,v=t.id,N=t.className,T=t.onResize,S=t.style,O=S===void 0?{}:S,_=g.useRef(null),A=g.useRef();A.current=T,g.useImperativeHandle(e,function(){return Object.defineProperty(_.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),_.current},configurable:!0})});var E=g.useState({containerWidth:s.width,containerHeight:s.height}),D=qTe(E,2),$=D[0],I=D[1],L=g.useCallback(function(z,Y){I(function(W){var H=Math.round(z),P=Math.round(Y);return W.containerWidth===H&&W.containerHeight===P?W:{containerWidth:H,containerHeight:P}})},[]);g.useEffect(function(){var z=function(X){var te,q=X[0].contentRect,Z=q.width,ie=q.height;L(Z,ie),(te=A.current)===null||te===void 0||te.call(A,Z,ie)};j>0&&(z=KK(z,j,{trailing:!0,leading:!1}));var Y=new ResizeObserver(z),W=_.current.getBoundingClientRect(),H=W.width,P=W.height;return L(H,P),Y.observe(_.current),function(){Y.disconnect()}},[L,j]);var R=g.useMemo(function(){var z=$.containerWidth,Y=$.containerHeight;if(z<0||Y<0)return null;qi($u(o)||$u(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),qi(!r||r>0,"The aspect(%s) must be greater than zero.",r);var W=$u(o)?z:o,H=$u(c)?Y:c;r&&r>0&&(W?H=W/r:H&&(W=H*r),x&&H>x&&(H=x)),qi(W>0||H>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,W,H,o,c,h,m,r);var P=!Array.isArray(y)&&Nl(y.type).endsWith("Chart");return J.Children.map(y,function(F){return J.isValidElement(F)?g.cloneElement(F,jy({width:W,height:H},P?{style:jy({height:"100%",width:"100%",maxHeight:H,maxWidth:W},F.props.style)}:{})):F})},[r,y,c,x,m,h,$,o]);return J.createElement("div",{id:v?"".concat(v):void 0,className:Ht("recharts-responsive-container",N),style:jy(jy({},O),{},{width:o,height:c,minWidth:h,minHeight:m,maxHeight:x}),ref:_},R)}),Gh=function(e){return null};Gh.displayName="Cell";function S0(t){"@babel/helpers - typeof";return S0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S0(t)}function t9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function cM(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?t9(Object(r),!0).forEach(function(n){XTe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):t9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function XTe(t,e,r){return e=JTe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function JTe(t){var e=QTe(t,"string");return S0(e)=="symbol"?e:e+""}function QTe(t,e){if(S0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(S0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cf={widthCache:{},cacheCount:0},ZTe=2e3,e5e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},r9="recharts_measurement_span";function t5e(t){var e=cM({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var Bp=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||vd.isSsr)return{width:0,height:0};var n=t5e(r),s=JSON.stringify({text:e,copyStyle:n});if(cf.widthCache[s])return cf.widthCache[s];try{var i=document.getElementById(r9);i||(i=document.createElement("span"),i.setAttribute("id",r9),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=cM(cM({},e5e),n);Object.assign(i.style,o),i.textContent="".concat(e);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return cf.widthCache[s]=c,++cf.cacheCount>ZTe&&(cf.cacheCount=0,cf.widthCache={}),c}catch{return{width:0,height:0}}},r5e=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function N0(t){"@babel/helpers - typeof";return N0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N0(t)}function Hv(t,e){return i5e(t)||s5e(t,e)||a5e(t,e)||n5e()}function n5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a5e(t,e){if(t){if(typeof t=="string")return n9(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n9(t,e)}}function n9(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function s5e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(h){d=!0,s=h}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function i5e(t){if(Array.isArray(t))return t}function o5e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a9(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,c5e(n.key),n)}}function l5e(t,e,r){return e&&a9(t.prototype,e),r&&a9(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function c5e(t){var e=u5e(t,"string");return N0(e)=="symbol"?e:e+""}function u5e(t,e){if(N0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(N0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var s9=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,i9=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,d5e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,f5e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,XK={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},h5e=Object.keys(XK),kf="NaN";function m5e(t,e){return t*XK[e]}var Sy=(function(){function t(e,r){o5e(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!d5e.test(r)&&(this.num=NaN,this.unit=""),h5e.includes(r)&&(this.num=m5e(e,r),this.unit="px")}return l5e(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,s=(n=f5e.exec(r))!==null&&n!==void 0?n:[],i=Hv(s,3),o=i[1],l=i[2];return new t(parseFloat(o),l??"")}}])})();function JK(t){if(t.includes(kf))return kf;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=s9.exec(e))!==null&&r!==void 0?r:[],s=Hv(n,4),i=s[1],o=s[2],l=s[3],c=Sy.parse(i??""),d=Sy.parse(l??""),h=o==="*"?c.multiply(d):c.divide(d);if(h.isNaN())return kf;e=e.replace(s9,h.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var m,x=(m=i9.exec(e))!==null&&m!==void 0?m:[],y=Hv(x,4),w=y[1],j=y[2],v=y[3],N=Sy.parse(w??""),T=Sy.parse(v??""),S=j==="+"?N.add(T):N.subtract(T);if(S.isNaN())return kf;e=e.replace(i9,S.toString())}return e}var o9=/\(([^()]*)\)/;function p5e(t){for(var e=t;e.includes("(");){var r=o9.exec(e),n=Hv(r,2),s=n[1];e=e.replace(o9,JK(s))}return e}function g5e(t){var e=t.replace(/\s+/g,"");return e=p5e(e),e=JK(e),e}function x5e(t){try{return g5e(t)}catch{return kf}}function TT(t){var e=x5e(t.slice(5,-1));return e===kf?"":e}var y5e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],b5e=["dx","dy","angle","className","breakAll"];function uM(){return uM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},uM.apply(this,arguments)}function l9(t,e){if(t==null)return{};var r=v5e(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function v5e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function c9(t,e){return N5e(t)||S5e(t,e)||j5e(t,e)||w5e()}function w5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j5e(t,e){if(t){if(typeof t=="string")return u9(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u9(t,e)}}function u9(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function S5e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(h){d=!0,s=h}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function N5e(t){if(Array.isArray(t))return t}var QK=/[ \f\n\r\t\v\u2028\u2029]+/,ZK=function(e){var r=e.children,n=e.breakAll,s=e.style;try{var i=[];ar(r)||(n?i=r.toString().split(""):i=r.toString().split(QK));var o=i.map(function(c){return{word:c,width:Bp(c,s).width}}),l=n?0:Bp("",s).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},k5e=function(e,r,n,s,i){var o=e.maxLines,l=e.children,c=e.style,d=e.breakAll,h=yt(o),m=l,x=function(){var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return W.reduce(function(H,P){var F=P.word,X=P.width,te=H[H.length-1];if(te&&(s==null||i||te.width+X+n<Number(s)))te.words.push(F),te.width+=X+n;else{var q={words:[F],width:X};H.push(q)}return H},[])},y=x(r),w=function(W){return W.reduce(function(H,P){return H.width>P.width?H:P})};if(!h)return y;for(var j="",v=function(W){var H=m.slice(0,W),P=ZK({breakAll:d,style:c,children:H+j}).wordsWithComputedWidth,F=x(P),X=F.length>o||w(F).width>Number(s);return[X,F]},N=0,T=m.length-1,S=0,O;N<=T&&S<=m.length-1;){var _=Math.floor((N+T)/2),A=_-1,E=v(A),D=c9(E,2),$=D[0],I=D[1],L=v(_),R=c9(L,1),z=R[0];if(!$&&!z&&(N=_+1),$&&z&&(T=_-1),!$&&z){O=I;break}S++}return O||y},d9=function(e){var r=ar(e)?[]:e.toString().split(QK);return[{words:r}]},C5e=function(e){var r=e.width,n=e.scaleToFit,s=e.children,i=e.style,o=e.breakAll,l=e.maxLines;if((r||n)&&!vd.isSsr){var c,d,h=ZK({breakAll:o,children:s,style:i});if(h){var m=h.wordsWithComputedWidth,x=h.spaceWidth;c=m,d=x}else return d9(s);return k5e({breakAll:o,children:s,maxLines:l,style:i},c,d,r,n)}return d9(s)},f9="#808080",fd=function(e){var r=e.x,n=r===void 0?0:r,s=e.y,i=s===void 0?0:s,o=e.lineHeight,l=o===void 0?"1em":o,c=e.capHeight,d=c===void 0?"0.71em":c,h=e.scaleToFit,m=h===void 0?!1:h,x=e.textAnchor,y=x===void 0?"start":x,w=e.verticalAnchor,j=w===void 0?"end":w,v=e.fill,N=v===void 0?f9:v,T=l9(e,y5e),S=g.useMemo(function(){return C5e({breakAll:T.breakAll,children:T.children,maxLines:T.maxLines,scaleToFit:m,style:T.style,width:T.width})},[T.breakAll,T.children,T.maxLines,m,T.style,T.width]),O=T.dx,_=T.dy,A=T.angle,E=T.className,D=T.breakAll,$=l9(T,b5e);if(!ga(n)||!ga(i))return null;var I=n+(yt(O)?O:0),L=i+(yt(_)?_:0),R;switch(j){case"start":R=TT("calc(".concat(d,")"));break;case"middle":R=TT("calc(".concat((S.length-1)/2," * -").concat(l," + (").concat(d," / 2))"));break;default:R=TT("calc(".concat(S.length-1," * -").concat(l,")"));break}var z=[];if(m){var Y=S[0].width,W=T.width;z.push("scale(".concat((yt(W)?W/Y:1)/Y,")"))}return A&&z.push("rotate(".concat(A,", ").concat(I,", ").concat(L,")")),z.length&&($.transform=z.join(" ")),J.createElement("text",uM({},Yt($,!0),{x:I,y:L,className:Ht("recharts-text",E),textAnchor:y,fill:N.includes("url")?f9:N}),S.map(function(H,P){var F=H.words.join(D?"":" ");return J.createElement("tspan",{x:I,dy:P===0?R:l,key:"".concat(F,"-").concat(P)},F)}))};function Ic(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function T5e(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function ME(t){let e,r,n;t.length!==2?(e=Ic,r=(l,c)=>Ic(t(l),c),n=(l,c)=>t(l)-c):(e=t===Ic||t===T5e?t:_5e,r=t,n=t);function s(l,c,d=0,h=l.length){if(d<h){if(e(c,c)!==0)return h;do{const m=d+h>>>1;r(l[m],c)<0?d=m+1:h=m}while(d<h)}return d}function i(l,c,d=0,h=l.length){if(d<h){if(e(c,c)!==0)return h;do{const m=d+h>>>1;r(l[m],c)<=0?d=m+1:h=m}while(d<h)}return d}function o(l,c,d=0,h=l.length){const m=s(l,c,d,h-1);return m>d&&n(l[m-1],c)>-n(l[m],c)?m-1:m}return{left:s,center:o,right:i}}function _5e(){return 0}function eX(t){return t===null?NaN:+t}function*M5e(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const A5e=ME(Ic),wg=A5e.right;ME(eX).center;class h9 extends Map{constructor(e,r=D5e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,s]of e)this.set(n,s)}get(e){return super.get(m9(this,e))}has(e){return super.has(m9(this,e))}set(e,r){return super.set(O5e(this,e),r)}delete(e){return super.delete(E5e(this,e))}}function m9({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function O5e({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function E5e({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function D5e(t){return t!==null&&typeof t=="object"?t.valueOf():t}function P5e(t=Ic){if(t===Ic)return tX;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function tX(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const R5e=Math.sqrt(50),I5e=Math.sqrt(10),L5e=Math.sqrt(2);function Bv(t,e,r){const n=(e-t)/Math.max(0,r),s=Math.floor(Math.log10(n)),i=n/Math.pow(10,s),o=i>=R5e?10:i>=I5e?5:i>=L5e?2:1;let l,c,d;return s<0?(d=Math.pow(10,-s)/o,l=Math.round(t*d),c=Math.round(e*d),l/d<t&&++l,c/d>e&&--c,d=-d):(d=Math.pow(10,s)*o,l=Math.round(t/d),c=Math.round(e/d),l*d<t&&++l,c*d>e&&--c),c<l&&.5<=r&&r<2?Bv(t,e,r*2):[l,c,d]}function dM(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[s,i,o]=n?Bv(e,t,r):Bv(t,e,r);if(!(i>=s))return[];const l=i-s+1,c=new Array(l);if(n)if(o<0)for(let d=0;d<l;++d)c[d]=(i-d)/-o;else for(let d=0;d<l;++d)c[d]=(i-d)*o;else if(o<0)for(let d=0;d<l;++d)c[d]=(s+d)/-o;else for(let d=0;d<l;++d)c[d]=(s+d)*o;return c}function fM(t,e,r){return e=+e,t=+t,r=+r,Bv(t,e,r)[2]}function hM(t,e,r){e=+e,t=+t,r=+r;const n=e<t,s=n?fM(e,t,r):fM(t,e,r);return(n?-1:1)*(s<0?1/-s:s)}function p9(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function g9(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function rX(t,e,r=0,n=1/0,s){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(s=s===void 0?tX:P5e(s);n>r;){if(n-r>600){const c=n-r+1,d=e-r+1,h=Math.log(c),m=.5*Math.exp(2*h/3),x=.5*Math.sqrt(h*m*(c-m)/c)*(d-c/2<0?-1:1),y=Math.max(r,Math.floor(e-d*m/c+x)),w=Math.min(n,Math.floor(e+(c-d)*m/c+x));rX(t,e,y,w,s)}const i=t[e];let o=r,l=n;for(ip(t,r,e),s(t[n],i)>0&&ip(t,r,n);o<l;){for(ip(t,o,l),++o,--l;s(t[o],i)<0;)++o;for(;s(t[l],i)>0;)--l}s(t[r],i)===0?ip(t,r,l):(++l,ip(t,l,n)),l<=e&&(r=l+1),e<=l&&(n=l-1)}return t}function ip(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function $5e(t,e,r){if(t=Float64Array.from(M5e(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return g9(t);if(e>=1)return p9(t);var n,s=(n-1)*e,i=Math.floor(s),o=p9(rX(t,i).subarray(0,i+1)),l=g9(t.subarray(i+1));return o+(l-o)*(s-i)}}function F5e(t,e,r=eX){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,s=(n-1)*e,i=Math.floor(s),o=+r(t[i],i,t),l=+r(t[i+1],i+1,t);return o+(l-o)*(s-i)}}function H5e(t,e,r){t=+t,e=+e,r=(s=arguments.length)<2?(e=t,t=0,1):s<3?1:+r;for(var n=-1,s=Math.max(0,Math.ceil((e-t)/r))|0,i=new Array(s);++n<s;)i[n]=t+n*r;return i}function Mi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Vl(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const mM=Symbol("implicit");function AE(){var t=new h9,e=[],r=[],n=mM;function s(i){let o=t.get(i);if(o===void 0){if(n!==mM)return n;t.set(i,o=e.push(i)-1)}return r[o%r.length]}return s.domain=function(i){if(!arguments.length)return e.slice();e=[],t=new h9;for(const o of i)t.has(o)||t.set(o,e.push(o)-1);return s},s.range=function(i){return arguments.length?(r=Array.from(i),s):r.slice()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return AE(e,r).unknown(n)},Mi.apply(s,arguments),s}function k0(){var t=AE().unknown(void 0),e=t.domain,r=t.range,n=0,s=1,i,o,l=!1,c=0,d=0,h=.5;delete t.unknown;function m(){var x=e().length,y=s<n,w=y?s:n,j=y?n:s;i=(j-w)/Math.max(1,x-c+d*2),l&&(i=Math.floor(i)),w+=(j-w-i*(x-c))*h,o=i*(1-c),l&&(w=Math.round(w),o=Math.round(o));var v=H5e(x).map(function(N){return w+i*N});return r(y?v.reverse():v)}return t.domain=function(x){return arguments.length?(e(x),m()):e()},t.range=function(x){return arguments.length?([n,s]=x,n=+n,s=+s,m()):[n,s]},t.rangeRound=function(x){return[n,s]=x,n=+n,s=+s,l=!0,m()},t.bandwidth=function(){return o},t.step=function(){return i},t.round=function(x){return arguments.length?(l=!!x,m()):l},t.padding=function(x){return arguments.length?(c=Math.min(1,d=+x),m()):c},t.paddingInner=function(x){return arguments.length?(c=Math.min(1,x),m()):c},t.paddingOuter=function(x){return arguments.length?(d=+x,m()):d},t.align=function(x){return arguments.length?(h=Math.max(0,Math.min(1,x)),m()):h},t.copy=function(){return k0(e(),[n,s]).round(l).paddingInner(c).paddingOuter(d).align(h)},Mi.apply(m(),arguments)}function nX(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return nX(e())},t}function zp(){return nX(k0.apply(null,arguments).paddingInner(1))}function OE(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function aX(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function jg(){}var C0=.7,zv=1/C0,Bf="\\s*([+-]?\\d+)\\s*",T0="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",jo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",B5e=/^#([0-9a-f]{3,8})$/,z5e=new RegExp(`^rgb\\(${Bf},${Bf},${Bf}\\)$`),V5e=new RegExp(`^rgb\\(${jo},${jo},${jo}\\)$`),W5e=new RegExp(`^rgba\\(${Bf},${Bf},${Bf},${T0}\\)$`),q5e=new RegExp(`^rgba\\(${jo},${jo},${jo},${T0}\\)$`),U5e=new RegExp(`^hsl\\(${T0},${jo},${jo}\\)$`),G5e=new RegExp(`^hsla\\(${T0},${jo},${jo},${T0}\\)$`),x9={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};OE(jg,_0,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:y9,formatHex:y9,formatHex8:Y5e,formatHsl:K5e,formatRgb:b9,toString:b9});function y9(){return this.rgb().formatHex()}function Y5e(){return this.rgb().formatHex8()}function K5e(){return sX(this).formatHsl()}function b9(){return this.rgb().formatRgb()}function _0(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=B5e.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?v9(e):r===3?new ks(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?Ny(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?Ny(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=z5e.exec(t))?new ks(e[1],e[2],e[3],1):(e=V5e.exec(t))?new ks(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=W5e.exec(t))?Ny(e[1],e[2],e[3],e[4]):(e=q5e.exec(t))?Ny(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=U5e.exec(t))?S9(e[1],e[2]/100,e[3]/100,1):(e=G5e.exec(t))?S9(e[1],e[2]/100,e[3]/100,e[4]):x9.hasOwnProperty(t)?v9(x9[t]):t==="transparent"?new ks(NaN,NaN,NaN,0):null}function v9(t){return new ks(t>>16&255,t>>8&255,t&255,1)}function Ny(t,e,r,n){return n<=0&&(t=e=r=NaN),new ks(t,e,r,n)}function X5e(t){return t instanceof jg||(t=_0(t)),t?(t=t.rgb(),new ks(t.r,t.g,t.b,t.opacity)):new ks}function pM(t,e,r,n){return arguments.length===1?X5e(t):new ks(t,e,r,n??1)}function ks(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}OE(ks,pM,aX(jg,{brighter(t){return t=t==null?zv:Math.pow(zv,t),new ks(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?C0:Math.pow(C0,t),new ks(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ks(Qu(this.r),Qu(this.g),Qu(this.b),Vv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:w9,formatHex:w9,formatHex8:J5e,formatRgb:j9,toString:j9}));function w9(){return`#${Fu(this.r)}${Fu(this.g)}${Fu(this.b)}`}function J5e(){return`#${Fu(this.r)}${Fu(this.g)}${Fu(this.b)}${Fu((isNaN(this.opacity)?1:this.opacity)*255)}`}function j9(){const t=Vv(this.opacity);return`${t===1?"rgb(":"rgba("}${Qu(this.r)}, ${Qu(this.g)}, ${Qu(this.b)}${t===1?")":`, ${t})`}`}function Vv(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Qu(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Fu(t){return t=Qu(t),(t<16?"0":"")+t.toString(16)}function S9(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new zi(t,e,r,n)}function sX(t){if(t instanceof zi)return new zi(t.h,t.s,t.l,t.opacity);if(t instanceof jg||(t=_0(t)),!t)return new zi;if(t instanceof zi)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,s=Math.min(e,r,n),i=Math.max(e,r,n),o=NaN,l=i-s,c=(i+s)/2;return l?(e===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-e)/l+2:o=(e-r)/l+4,l/=c<.5?i+s:2-i-s,o*=60):l=c>0&&c<1?0:o,new zi(o,l,c,t.opacity)}function Q5e(t,e,r,n){return arguments.length===1?sX(t):new zi(t,e,r,n??1)}function zi(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}OE(zi,Q5e,aX(jg,{brighter(t){return t=t==null?zv:Math.pow(zv,t),new zi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?C0:Math.pow(C0,t),new zi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,s=2*r-n;return new ks(_T(t>=240?t-240:t+120,s,n),_T(t,s,n),_T(t<120?t+240:t-120,s,n),this.opacity)},clamp(){return new zi(N9(this.h),ky(this.s),ky(this.l),Vv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Vv(this.opacity);return`${t===1?"hsl(":"hsla("}${N9(this.h)}, ${ky(this.s)*100}%, ${ky(this.l)*100}%${t===1?")":`, ${t})`}`}}));function N9(t){return t=(t||0)%360,t<0?t+360:t}function ky(t){return Math.max(0,Math.min(1,t||0))}function _T(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const EE=t=>()=>t;function Z5e(t,e){return function(r){return t+r*e}}function e_e(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function t_e(t){return(t=+t)==1?iX:function(e,r){return r-e?e_e(e,r,t):EE(isNaN(e)?r:e)}}function iX(t,e){var r=e-t;return r?Z5e(t,r):EE(isNaN(t)?e:t)}const k9=(function t(e){var r=t_e(e);function n(s,i){var o=r((s=pM(s)).r,(i=pM(i)).r),l=r(s.g,i.g),c=r(s.b,i.b),d=iX(s.opacity,i.opacity);return function(h){return s.r=o(h),s.g=l(h),s.b=c(h),s.opacity=d(h),s+""}}return n.gamma=t,n})(1);function r_e(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),s;return function(i){for(s=0;s<r;++s)n[s]=t[s]*(1-i)+e[s]*i;return n}}function n_e(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function a_e(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,s=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)s[o]=Yh(t[o],e[o]);for(;o<r;++o)i[o]=e[o];return function(l){for(o=0;o<n;++o)i[o]=s[o](l);return i}}function s_e(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function Wv(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function i_e(t,e){var r={},n={},s;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(s in e)s in t?r[s]=Yh(t[s],e[s]):n[s]=e[s];return function(i){for(s in r)n[s]=r[s](i);return n}}var gM=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,MT=new RegExp(gM.source,"g");function o_e(t){return function(){return t}}function l_e(t){return function(e){return t(e)+""}}function c_e(t,e){var r=gM.lastIndex=MT.lastIndex=0,n,s,i,o=-1,l=[],c=[];for(t=t+"",e=e+"";(n=gM.exec(t))&&(s=MT.exec(e));)(i=s.index)>r&&(i=e.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(s=s[0])?l[o]?l[o]+=s:l[++o]=s:(l[++o]=null,c.push({i:o,x:Wv(n,s)})),r=MT.lastIndex;return r<e.length&&(i=e.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?l_e(c[0].x):o_e(e):(e=c.length,function(d){for(var h=0,m;h<e;++h)l[(m=c[h]).i]=m.x(d);return l.join("")})}function Yh(t,e){var r=typeof e,n;return e==null||r==="boolean"?EE(e):(r==="number"?Wv:r==="string"?(n=_0(e))?(e=n,k9):c_e:e instanceof _0?k9:e instanceof Date?s_e:n_e(e)?r_e:Array.isArray(e)?a_e:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?i_e:Wv)(t,e)}function DE(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function u_e(t,e){e===void 0&&(e=t,t=Yh);for(var r=0,n=e.length-1,s=e[0],i=new Array(n<0?0:n);r<n;)i[r]=t(s,s=e[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function d_e(t){return function(){return t}}function qv(t){return+t}var C9=[0,1];function cs(t){return t}function xM(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:d_e(isNaN(e)?NaN:.5)}function f_e(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function h_e(t,e,r){var n=t[0],s=t[1],i=e[0],o=e[1];return s<n?(n=xM(s,n),i=r(o,i)):(n=xM(n,s),i=r(i,o)),function(l){return i(n(l))}}function m_e(t,e,r){var n=Math.min(t.length,e.length)-1,s=new Array(n),i=new Array(n),o=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<n;)s[o]=xM(t[o],t[o+1]),i[o]=r(e[o],e[o+1]);return function(l){var c=wg(t,l,1,n)-1;return i[c](s[c](l))}}function Sg(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function w1(){var t=C9,e=C9,r=Yh,n,s,i,o=cs,l,c,d;function h(){var x=Math.min(t.length,e.length);return o!==cs&&(o=f_e(t[0],t[x-1])),l=x>2?m_e:h_e,c=d=null,m}function m(x){return x==null||isNaN(x=+x)?i:(c||(c=l(t.map(n),e,r)))(n(o(x)))}return m.invert=function(x){return o(s((d||(d=l(e,t.map(n),Wv)))(x)))},m.domain=function(x){return arguments.length?(t=Array.from(x,qv),h()):t.slice()},m.range=function(x){return arguments.length?(e=Array.from(x),h()):e.slice()},m.rangeRound=function(x){return e=Array.from(x),r=DE,h()},m.clamp=function(x){return arguments.length?(o=x?!0:cs,h()):o!==cs},m.interpolate=function(x){return arguments.length?(r=x,h()):r},m.unknown=function(x){return arguments.length?(i=x,m):i},function(x,y){return n=x,s=y,h()}}function PE(){return w1()(cs,cs)}function p_e(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Uv(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function fh(t){return t=Uv(Math.abs(t)),t?t[1]:NaN}function g_e(t,e){return function(r,n){for(var s=r.length,i=[],o=0,l=t[0],c=0;s>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(s-=l,s+l)),!((c+=l+1)>n));)l=t[o=(o+1)%t.length];return i.reverse().join(e)}}function x_e(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var y_e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function M0(t){if(!(e=y_e.exec(t)))throw new Error("invalid format: "+t);var e;return new RE({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}M0.prototype=RE.prototype;function RE(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}RE.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function b_e(t){e:for(var e=t.length,r=1,n=-1,s;r<e;++r)switch(t[r]){case".":n=s=r;break;case"0":n===0&&(n=r),s=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(s+1):t}var oX;function v_e(t,e){var r=Uv(t,e);if(!r)return t+"";var n=r[0],s=r[1],i=s-(oX=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Uv(t,Math.max(0,e+i-1))[0]}function T9(t,e){var r=Uv(t,e);if(!r)return t+"";var n=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+n:n.length>s+1?n.slice(0,s+1)+"."+n.slice(s+1):n+new Array(s-n.length+2).join("0")}const _9={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:p_e,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>T9(t*100,e),r:T9,s:v_e,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function M9(t){return t}var A9=Array.prototype.map,O9=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function w_e(t){var e=t.grouping===void 0||t.thousands===void 0?M9:g_e(A9.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",s=t.decimal===void 0?".":t.decimal+"",i=t.numerals===void 0?M9:x_e(A9.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function d(m){m=M0(m);var x=m.fill,y=m.align,w=m.sign,j=m.symbol,v=m.zero,N=m.width,T=m.comma,S=m.precision,O=m.trim,_=m.type;_==="n"?(T=!0,_="g"):_9[_]||(S===void 0&&(S=12),O=!0,_="g"),(v||x==="0"&&y==="=")&&(v=!0,x="0",y="=");var A=j==="$"?r:j==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",E=j==="$"?n:/[%p]/.test(_)?o:"",D=_9[_],$=/[defgprs%]/.test(_);S=S===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function I(L){var R=A,z=E,Y,W,H;if(_==="c")z=D(L)+z,L="";else{L=+L;var P=L<0||1/L<0;if(L=isNaN(L)?c:D(Math.abs(L),S),O&&(L=b_e(L)),P&&+L==0&&w!=="+"&&(P=!1),R=(P?w==="("?w:l:w==="-"||w==="("?"":w)+R,z=(_==="s"?O9[8+oX/3]:"")+z+(P&&w==="("?")":""),$){for(Y=-1,W=L.length;++Y<W;)if(H=L.charCodeAt(Y),48>H||H>57){z=(H===46?s+L.slice(Y+1):L.slice(Y))+z,L=L.slice(0,Y);break}}}T&&!v&&(L=e(L,1/0));var F=R.length+L.length+z.length,X=F<N?new Array(N-F+1).join(x):"";switch(T&&v&&(L=e(X+L,X.length?N-z.length:1/0),X=""),y){case"<":L=R+L+z+X;break;case"=":L=R+X+L+z;break;case"^":L=X.slice(0,F=X.length>>1)+R+L+z+X.slice(F);break;default:L=X+R+L+z;break}return i(L)}return I.toString=function(){return m+""},I}function h(m,x){var y=d((m=M0(m),m.type="f",m)),w=Math.max(-8,Math.min(8,Math.floor(fh(x)/3)))*3,j=Math.pow(10,-w),v=O9[8+w/3];return function(N){return y(j*N)+v}}return{format:d,formatPrefix:h}}var Cy,IE,lX;j_e({thousands:",",grouping:[3],currency:["$",""]});function j_e(t){return Cy=w_e(t),IE=Cy.format,lX=Cy.formatPrefix,Cy}function S_e(t){return Math.max(0,-fh(Math.abs(t)))}function N_e(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(fh(e)/3)))*3-fh(Math.abs(t)))}function k_e(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,fh(e)-fh(t))+1}function cX(t,e,r,n){var s=hM(t,e,r),i;switch(n=M0(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(i=N_e(s,o))&&(n.precision=i),lX(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=k_e(s,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=S_e(s))&&(n.precision=i-(n.type==="%")*2);break}}return IE(n)}function Xc(t){var e=t.domain;return t.ticks=function(r){var n=e();return dM(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var s=e();return cX(s[0],s[s.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),s=0,i=n.length-1,o=n[s],l=n[i],c,d,h=10;for(l<o&&(d=o,o=l,l=d,d=s,s=i,i=d);h-- >0;){if(d=fM(o,l,r),d===c)return n[s]=o,n[i]=l,e(n);if(d>0)o=Math.floor(o/d)*d,l=Math.ceil(l/d)*d;else if(d<0)o=Math.ceil(o*d)/d,l=Math.floor(l*d)/d;else break;c=d}return t},t}function Gv(){var t=PE();return t.copy=function(){return Sg(t,Gv())},Mi.apply(t,arguments),Xc(t)}function uX(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,qv),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return uX(t).unknown(e)},t=arguments.length?Array.from(t,qv):[0,1],Xc(r)}function dX(t,e){t=t.slice();var r=0,n=t.length-1,s=t[r],i=t[n],o;return i<s&&(o=r,r=n,n=o,o=s,s=i,i=o),t[r]=e.floor(s),t[n]=e.ceil(i),t}function E9(t){return Math.log(t)}function D9(t){return Math.exp(t)}function C_e(t){return-Math.log(-t)}function T_e(t){return-Math.exp(-t)}function __e(t){return isFinite(t)?+("1e"+t):t<0?0:t}function M_e(t){return t===10?__e:t===Math.E?Math.exp:e=>Math.pow(t,e)}function A_e(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function P9(t){return(e,r)=>-t(-e,r)}function LE(t){const e=t(E9,D9),r=e.domain;let n=10,s,i;function o(){return s=A_e(n),i=M_e(n),r()[0]<0?(s=P9(s),i=P9(i),t(C_e,T_e)):t(E9,D9),e}return e.base=function(l){return arguments.length?(n=+l,o()):n},e.domain=function(l){return arguments.length?(r(l),o()):r()},e.ticks=l=>{const c=r();let d=c[0],h=c[c.length-1];const m=h<d;m&&([d,h]=[h,d]);let x=s(d),y=s(h),w,j;const v=l==null?10:+l;let N=[];if(!(n%1)&&y-x<v){if(x=Math.floor(x),y=Math.ceil(y),d>0){for(;x<=y;++x)for(w=1;w<n;++w)if(j=x<0?w/i(-x):w*i(x),!(j<d)){if(j>h)break;N.push(j)}}else for(;x<=y;++x)for(w=n-1;w>=1;--w)if(j=x>0?w/i(-x):w*i(x),!(j<d)){if(j>h)break;N.push(j)}N.length*2<v&&(N=dM(d,h,v))}else N=dM(x,y,Math.min(y-x,v)).map(i);return m?N.reverse():N},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=M0(c)).precision==null&&(c.trim=!0),c=IE(c)),l===1/0)return c;const d=Math.max(1,n*l/e.ticks().length);return h=>{let m=h/i(Math.round(s(h)));return m*n<n-.5&&(m*=n),m<=d?c(h):""}},e.nice=()=>r(dX(r(),{floor:l=>i(Math.floor(s(l))),ceil:l=>i(Math.ceil(s(l)))})),e}function fX(){const t=LE(w1()).domain([1,10]);return t.copy=()=>Sg(t,fX()).base(t.base()),Mi.apply(t,arguments),t}function R9(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function I9(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function $E(t){var e=1,r=t(R9(e),I9(e));return r.constant=function(n){return arguments.length?t(R9(e=+n),I9(e)):e},Xc(r)}function hX(){var t=$E(w1());return t.copy=function(){return Sg(t,hX()).constant(t.constant())},Mi.apply(t,arguments)}function L9(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function O_e(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function E_e(t){return t<0?-t*t:t*t}function FE(t){var e=t(cs,cs),r=1;function n(){return r===1?t(cs,cs):r===.5?t(O_e,E_e):t(L9(r),L9(1/r))}return e.exponent=function(s){return arguments.length?(r=+s,n()):r},Xc(e)}function HE(){var t=FE(w1());return t.copy=function(){return Sg(t,HE()).exponent(t.exponent())},Mi.apply(t,arguments),t}function D_e(){return HE.apply(null,arguments).exponent(.5)}function $9(t){return Math.sign(t)*t*t}function P_e(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function mX(){var t=PE(),e=[0,1],r=!1,n;function s(i){var o=P_e(t(i));return isNaN(o)?n:r?Math.round(o):o}return s.invert=function(i){return t.invert($9(i))},s.domain=function(i){return arguments.length?(t.domain(i),s):t.domain()},s.range=function(i){return arguments.length?(t.range((e=Array.from(i,qv)).map($9)),s):e.slice()},s.rangeRound=function(i){return s.range(i).round(!0)},s.round=function(i){return arguments.length?(r=!!i,s):r},s.clamp=function(i){return arguments.length?(t.clamp(i),s):t.clamp()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return mX(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},Mi.apply(s,arguments),Xc(s)}function pX(){var t=[],e=[],r=[],n;function s(){var o=0,l=Math.max(1,e.length);for(r=new Array(l-1);++o<l;)r[o-1]=F5e(t,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:e[wg(r,o)]}return i.invertExtent=function(o){var l=e.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:t[0],l<r.length?r[l]:t[t.length-1]]},i.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let l of o)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(Ic),s()},i.range=function(o){return arguments.length?(e=Array.from(o),s()):e.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return pX().domain(t).range(e).unknown(n)},Mi.apply(i,arguments)}function gX(){var t=0,e=1,r=1,n=[.5],s=[0,1],i;function o(c){return c!=null&&c<=c?s[wg(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*e-(c-r)*t)/(r+1);return o}return o.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},o.range=function(c){return arguments.length?(r=(s=Array.from(c)).length-1,l()):s.slice()},o.invertExtent=function(c){var d=s.indexOf(c);return d<0?[NaN,NaN]:d<1?[t,n[0]]:d>=r?[n[r-1],e]:[n[d-1],n[d]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return gX().domain([t,e]).range(s).unknown(i)},Mi.apply(Xc(o),arguments)}function xX(){var t=[.5],e=[0,1],r,n=1;function s(i){return i!=null&&i<=i?e[wg(t,i,0,n)]:r}return s.domain=function(i){return arguments.length?(t=Array.from(i),n=Math.min(t.length,e.length-1),s):t.slice()},s.range=function(i){return arguments.length?(e=Array.from(i),n=Math.min(t.length,e.length-1),s):e.slice()},s.invertExtent=function(i){var o=e.indexOf(i);return[t[o-1],t[o]]},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return xX().domain(t).range(e).unknown(r)},Mi.apply(s,arguments)}const AT=new Date,OT=new Date;function ya(t,e,r,n){function s(i){return t(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(t(i=new Date(+i)),i),s.ceil=i=>(t(i=new Date(i-1)),e(i,1),t(i),i),s.round=i=>{const o=s(i),l=s.ceil(i);return i-o<l-i?o:l},s.offset=(i,o)=>(e(i=new Date(+i),o==null?1:Math.floor(o)),i),s.range=(i,o,l)=>{const c=[];if(i=s.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let d;do c.push(d=new Date(+i)),e(i,l),t(i);while(d<i&&i<o);return c},s.filter=i=>ya(o=>{if(o>=o)for(;t(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;e(o,-1),!i(o););else for(;--l>=0;)for(;e(o,1),!i(o););}),r&&(s.count=(i,o)=>(AT.setTime(+i),OT.setTime(+o),t(AT),t(OT),Math.floor(r(AT,OT))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(n?o=>n(o)%i===0:o=>s.count(0,o)%i===0):s)),s}const Yv=ya(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Yv.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?ya(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):Yv);Yv.range;const fl=1e3,bi=fl*60,hl=bi*60,El=hl*24,BE=El*7,F9=El*30,ET=El*365,Hu=ya(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*fl)},(t,e)=>(e-t)/fl,t=>t.getUTCSeconds());Hu.range;const zE=ya(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*fl)},(t,e)=>{t.setTime(+t+e*bi)},(t,e)=>(e-t)/bi,t=>t.getMinutes());zE.range;const VE=ya(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*bi)},(t,e)=>(e-t)/bi,t=>t.getUTCMinutes());VE.range;const WE=ya(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*fl-t.getMinutes()*bi)},(t,e)=>{t.setTime(+t+e*hl)},(t,e)=>(e-t)/hl,t=>t.getHours());WE.range;const qE=ya(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*hl)},(t,e)=>(e-t)/hl,t=>t.getUTCHours());qE.range;const Ng=ya(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*bi)/El,t=>t.getDate()-1);Ng.range;const j1=ya(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/El,t=>t.getUTCDate()-1);j1.range;const yX=ya(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/El,t=>Math.floor(t/El));yX.range;function wd(t){return ya(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*bi)/BE)}const S1=wd(0),Kv=wd(1),R_e=wd(2),I_e=wd(3),hh=wd(4),L_e=wd(5),$_e=wd(6);S1.range;Kv.range;R_e.range;I_e.range;hh.range;L_e.range;$_e.range;function jd(t){return ya(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/BE)}const N1=jd(0),Xv=jd(1),F_e=jd(2),H_e=jd(3),mh=jd(4),B_e=jd(5),z_e=jd(6);N1.range;Xv.range;F_e.range;H_e.range;mh.range;B_e.range;z_e.range;const UE=ya(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());UE.range;const GE=ya(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());GE.range;const Dl=ya(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Dl.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ya(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});Dl.range;const Pl=ya(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Pl.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ya(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Pl.range;function bX(t,e,r,n,s,i){const o=[[Hu,1,fl],[Hu,5,5*fl],[Hu,15,15*fl],[Hu,30,30*fl],[i,1,bi],[i,5,5*bi],[i,15,15*bi],[i,30,30*bi],[s,1,hl],[s,3,3*hl],[s,6,6*hl],[s,12,12*hl],[n,1,El],[n,2,2*El],[r,1,BE],[e,1,F9],[e,3,3*F9],[t,1,ET]];function l(d,h,m){const x=h<d;x&&([d,h]=[h,d]);const y=m&&typeof m.range=="function"?m:c(d,h,m),w=y?y.range(d,+h+1):[];return x?w.reverse():w}function c(d,h,m){const x=Math.abs(h-d)/m,y=ME(([,,v])=>v).right(o,x);if(y===o.length)return t.every(hM(d/ET,h/ET,m));if(y===0)return Yv.every(Math.max(hM(d,h,m),1));const[w,j]=o[x/o[y-1][2]<o[y][2]/x?y-1:y];return w.every(j)}return[l,c]}const[V_e,W_e]=bX(Pl,GE,N1,yX,qE,VE),[q_e,U_e]=bX(Dl,UE,S1,Ng,WE,zE);function DT(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function PT(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function op(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function G_e(t){var e=t.dateTime,r=t.date,n=t.time,s=t.periods,i=t.days,o=t.shortDays,l=t.months,c=t.shortMonths,d=lp(s),h=cp(s),m=lp(i),x=cp(i),y=lp(o),w=cp(o),j=lp(l),v=cp(l),N=lp(c),T=cp(c),S={a:P,A:F,b:X,B:te,c:null,d:q9,e:q9,f:gMe,g:CMe,G:_Me,H:hMe,I:mMe,j:pMe,L:vX,m:xMe,M:yMe,p:q,q:Z,Q:Y9,s:K9,S:bMe,u:vMe,U:wMe,V:jMe,w:SMe,W:NMe,x:null,X:null,y:kMe,Y:TMe,Z:MMe,"%":G9},O={a:ie,A:oe,b:le,B:ge,c:null,d:U9,e:U9,f:DMe,g:VMe,G:qMe,H:AMe,I:OMe,j:EMe,L:jX,m:PMe,M:RMe,p:Le,q:Oe,Q:Y9,s:K9,S:IMe,u:LMe,U:$Me,V:FMe,w:HMe,W:BMe,x:null,X:null,y:zMe,Y:WMe,Z:UMe,"%":G9},_={a:I,A:L,b:R,B:z,c:Y,d:V9,e:V9,f:cMe,g:z9,G:B9,H:W9,I:W9,j:sMe,L:lMe,m:aMe,M:iMe,p:$,q:nMe,Q:dMe,s:fMe,S:oMe,u:Q_e,U:Z_e,V:eMe,w:J_e,W:tMe,x:W,X:H,y:z9,Y:B9,Z:rMe,"%":uMe};S.x=A(r,S),S.X=A(n,S),S.c=A(e,S),O.x=A(r,O),O.X=A(n,O),O.c=A(e,O);function A(xe,Me){return function(Be){var re=[],se=-1,ee=0,ve=xe.length,Ge,Ke,ye;for(Be instanceof Date||(Be=new Date(+Be));++se<ve;)xe.charCodeAt(se)===37&&(re.push(xe.slice(ee,se)),(Ke=H9[Ge=xe.charAt(++se)])!=null?Ge=xe.charAt(++se):Ke=Ge==="e"?" ":"0",(ye=Me[Ge])&&(Ge=ye(Be,Ke)),re.push(Ge),ee=se+1);return re.push(xe.slice(ee,se)),re.join("")}}function E(xe,Me){return function(Be){var re=op(1900,void 0,1),se=D(re,xe,Be+="",0),ee,ve;if(se!=Be.length)return null;if("Q"in re)return new Date(re.Q);if("s"in re)return new Date(re.s*1e3+("L"in re?re.L:0));if(Me&&!("Z"in re)&&(re.Z=0),"p"in re&&(re.H=re.H%12+re.p*12),re.m===void 0&&(re.m="q"in re?re.q:0),"V"in re){if(re.V<1||re.V>53)return null;"w"in re||(re.w=1),"Z"in re?(ee=PT(op(re.y,0,1)),ve=ee.getUTCDay(),ee=ve>4||ve===0?Xv.ceil(ee):Xv(ee),ee=j1.offset(ee,(re.V-1)*7),re.y=ee.getUTCFullYear(),re.m=ee.getUTCMonth(),re.d=ee.getUTCDate()+(re.w+6)%7):(ee=DT(op(re.y,0,1)),ve=ee.getDay(),ee=ve>4||ve===0?Kv.ceil(ee):Kv(ee),ee=Ng.offset(ee,(re.V-1)*7),re.y=ee.getFullYear(),re.m=ee.getMonth(),re.d=ee.getDate()+(re.w+6)%7)}else("W"in re||"U"in re)&&("w"in re||(re.w="u"in re?re.u%7:"W"in re?1:0),ve="Z"in re?PT(op(re.y,0,1)).getUTCDay():DT(op(re.y,0,1)).getDay(),re.m=0,re.d="W"in re?(re.w+6)%7+re.W*7-(ve+5)%7:re.w+re.U*7-(ve+6)%7);return"Z"in re?(re.H+=re.Z/100|0,re.M+=re.Z%100,PT(re)):DT(re)}}function D(xe,Me,Be,re){for(var se=0,ee=Me.length,ve=Be.length,Ge,Ke;se<ee;){if(re>=ve)return-1;if(Ge=Me.charCodeAt(se++),Ge===37){if(Ge=Me.charAt(se++),Ke=_[Ge in H9?Me.charAt(se++):Ge],!Ke||(re=Ke(xe,Be,re))<0)return-1}else if(Ge!=Be.charCodeAt(re++))return-1}return re}function $(xe,Me,Be){var re=d.exec(Me.slice(Be));return re?(xe.p=h.get(re[0].toLowerCase()),Be+re[0].length):-1}function I(xe,Me,Be){var re=y.exec(Me.slice(Be));return re?(xe.w=w.get(re[0].toLowerCase()),Be+re[0].length):-1}function L(xe,Me,Be){var re=m.exec(Me.slice(Be));return re?(xe.w=x.get(re[0].toLowerCase()),Be+re[0].length):-1}function R(xe,Me,Be){var re=N.exec(Me.slice(Be));return re?(xe.m=T.get(re[0].toLowerCase()),Be+re[0].length):-1}function z(xe,Me,Be){var re=j.exec(Me.slice(Be));return re?(xe.m=v.get(re[0].toLowerCase()),Be+re[0].length):-1}function Y(xe,Me,Be){return D(xe,e,Me,Be)}function W(xe,Me,Be){return D(xe,r,Me,Be)}function H(xe,Me,Be){return D(xe,n,Me,Be)}function P(xe){return o[xe.getDay()]}function F(xe){return i[xe.getDay()]}function X(xe){return c[xe.getMonth()]}function te(xe){return l[xe.getMonth()]}function q(xe){return s[+(xe.getHours()>=12)]}function Z(xe){return 1+~~(xe.getMonth()/3)}function ie(xe){return o[xe.getUTCDay()]}function oe(xe){return i[xe.getUTCDay()]}function le(xe){return c[xe.getUTCMonth()]}function ge(xe){return l[xe.getUTCMonth()]}function Le(xe){return s[+(xe.getUTCHours()>=12)]}function Oe(xe){return 1+~~(xe.getUTCMonth()/3)}return{format:function(xe){var Me=A(xe+="",S);return Me.toString=function(){return xe},Me},parse:function(xe){var Me=E(xe+="",!1);return Me.toString=function(){return xe},Me},utcFormat:function(xe){var Me=A(xe+="",O);return Me.toString=function(){return xe},Me},utcParse:function(xe){var Me=E(xe+="",!0);return Me.toString=function(){return xe},Me}}}var H9={"-":"",_:" ",0:"0"},Ma=/^\s*\d+/,Y_e=/^%/,K_e=/[\\^$*+?|[\]().{}]/g;function Lr(t,e,r){var n=t<0?"-":"",s=(n?-t:t)+"",i=s.length;return n+(i<r?new Array(r-i+1).join(e)+s:s)}function X_e(t){return t.replace(K_e,"\\$&")}function lp(t){return new RegExp("^(?:"+t.map(X_e).join("|")+")","i")}function cp(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function J_e(t,e,r){var n=Ma.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function Q_e(t,e,r){var n=Ma.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function Z_e(t,e,r){var n=Ma.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function eMe(t,e,r){var n=Ma.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function tMe(t,e,r){var n=Ma.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function B9(t,e,r){var n=Ma.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function z9(t,e,r){var n=Ma.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function rMe(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function nMe(t,e,r){var n=Ma.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function aMe(t,e,r){var n=Ma.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function V9(t,e,r){var n=Ma.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function sMe(t,e,r){var n=Ma.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function W9(t,e,r){var n=Ma.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function iMe(t,e,r){var n=Ma.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function oMe(t,e,r){var n=Ma.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function lMe(t,e,r){var n=Ma.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function cMe(t,e,r){var n=Ma.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function uMe(t,e,r){var n=Y_e.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function dMe(t,e,r){var n=Ma.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function fMe(t,e,r){var n=Ma.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function q9(t,e){return Lr(t.getDate(),e,2)}function hMe(t,e){return Lr(t.getHours(),e,2)}function mMe(t,e){return Lr(t.getHours()%12||12,e,2)}function pMe(t,e){return Lr(1+Ng.count(Dl(t),t),e,3)}function vX(t,e){return Lr(t.getMilliseconds(),e,3)}function gMe(t,e){return vX(t,e)+"000"}function xMe(t,e){return Lr(t.getMonth()+1,e,2)}function yMe(t,e){return Lr(t.getMinutes(),e,2)}function bMe(t,e){return Lr(t.getSeconds(),e,2)}function vMe(t){var e=t.getDay();return e===0?7:e}function wMe(t,e){return Lr(S1.count(Dl(t)-1,t),e,2)}function wX(t){var e=t.getDay();return e>=4||e===0?hh(t):hh.ceil(t)}function jMe(t,e){return t=wX(t),Lr(hh.count(Dl(t),t)+(Dl(t).getDay()===4),e,2)}function SMe(t){return t.getDay()}function NMe(t,e){return Lr(Kv.count(Dl(t)-1,t),e,2)}function kMe(t,e){return Lr(t.getFullYear()%100,e,2)}function CMe(t,e){return t=wX(t),Lr(t.getFullYear()%100,e,2)}function TMe(t,e){return Lr(t.getFullYear()%1e4,e,4)}function _Me(t,e){var r=t.getDay();return t=r>=4||r===0?hh(t):hh.ceil(t),Lr(t.getFullYear()%1e4,e,4)}function MMe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Lr(e/60|0,"0",2)+Lr(e%60,"0",2)}function U9(t,e){return Lr(t.getUTCDate(),e,2)}function AMe(t,e){return Lr(t.getUTCHours(),e,2)}function OMe(t,e){return Lr(t.getUTCHours()%12||12,e,2)}function EMe(t,e){return Lr(1+j1.count(Pl(t),t),e,3)}function jX(t,e){return Lr(t.getUTCMilliseconds(),e,3)}function DMe(t,e){return jX(t,e)+"000"}function PMe(t,e){return Lr(t.getUTCMonth()+1,e,2)}function RMe(t,e){return Lr(t.getUTCMinutes(),e,2)}function IMe(t,e){return Lr(t.getUTCSeconds(),e,2)}function LMe(t){var e=t.getUTCDay();return e===0?7:e}function $Me(t,e){return Lr(N1.count(Pl(t)-1,t),e,2)}function SX(t){var e=t.getUTCDay();return e>=4||e===0?mh(t):mh.ceil(t)}function FMe(t,e){return t=SX(t),Lr(mh.count(Pl(t),t)+(Pl(t).getUTCDay()===4),e,2)}function HMe(t){return t.getUTCDay()}function BMe(t,e){return Lr(Xv.count(Pl(t)-1,t),e,2)}function zMe(t,e){return Lr(t.getUTCFullYear()%100,e,2)}function VMe(t,e){return t=SX(t),Lr(t.getUTCFullYear()%100,e,2)}function WMe(t,e){return Lr(t.getUTCFullYear()%1e4,e,4)}function qMe(t,e){var r=t.getUTCDay();return t=r>=4||r===0?mh(t):mh.ceil(t),Lr(t.getUTCFullYear()%1e4,e,4)}function UMe(){return"+0000"}function G9(){return"%"}function Y9(t){return+t}function K9(t){return Math.floor(+t/1e3)}var uf,NX,kX;GMe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function GMe(t){return uf=G_e(t),NX=uf.format,uf.parse,kX=uf.utcFormat,uf.utcParse,uf}function YMe(t){return new Date(t)}function KMe(t){return t instanceof Date?+t:+new Date(+t)}function YE(t,e,r,n,s,i,o,l,c,d){var h=PE(),m=h.invert,x=h.domain,y=d(".%L"),w=d(":%S"),j=d("%I:%M"),v=d("%I %p"),N=d("%a %d"),T=d("%b %d"),S=d("%B"),O=d("%Y");function _(A){return(c(A)<A?y:l(A)<A?w:o(A)<A?j:i(A)<A?v:n(A)<A?s(A)<A?N:T:r(A)<A?S:O)(A)}return h.invert=function(A){return new Date(m(A))},h.domain=function(A){return arguments.length?x(Array.from(A,KMe)):x().map(YMe)},h.ticks=function(A){var E=x();return t(E[0],E[E.length-1],A??10)},h.tickFormat=function(A,E){return E==null?_:d(E)},h.nice=function(A){var E=x();return(!A||typeof A.range!="function")&&(A=e(E[0],E[E.length-1],A??10)),A?x(dX(E,A)):h},h.copy=function(){return Sg(h,YE(t,e,r,n,s,i,o,l,c,d))},h}function XMe(){return Mi.apply(YE(q_e,U_e,Dl,UE,S1,Ng,WE,zE,Hu,NX).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function JMe(){return Mi.apply(YE(V_e,W_e,Pl,GE,N1,j1,qE,VE,Hu,kX).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function k1(){var t=0,e=1,r,n,s,i,o=cs,l=!1,c;function d(m){return m==null||isNaN(m=+m)?c:o(s===0?.5:(m=(i(m)-r)*s,l?Math.max(0,Math.min(1,m)):m))}d.domain=function(m){return arguments.length?([t,e]=m,r=i(t=+t),n=i(e=+e),s=r===n?0:1/(n-r),d):[t,e]},d.clamp=function(m){return arguments.length?(l=!!m,d):l},d.interpolator=function(m){return arguments.length?(o=m,d):o};function h(m){return function(x){var y,w;return arguments.length?([y,w]=x,o=m(y,w),d):[o(0),o(1)]}}return d.range=h(Yh),d.rangeRound=h(DE),d.unknown=function(m){return arguments.length?(c=m,d):c},function(m){return i=m,r=m(t),n=m(e),s=r===n?0:1/(n-r),d}}function Jc(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function CX(){var t=Xc(k1()(cs));return t.copy=function(){return Jc(t,CX())},Vl.apply(t,arguments)}function TX(){var t=LE(k1()).domain([1,10]);return t.copy=function(){return Jc(t,TX()).base(t.base())},Vl.apply(t,arguments)}function _X(){var t=$E(k1());return t.copy=function(){return Jc(t,_X()).constant(t.constant())},Vl.apply(t,arguments)}function KE(){var t=FE(k1());return t.copy=function(){return Jc(t,KE()).exponent(t.exponent())},Vl.apply(t,arguments)}function QMe(){return KE.apply(null,arguments).exponent(.5)}function MX(){var t=[],e=cs;function r(n){if(n!=null&&!isNaN(n=+n))return e((wg(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let s of n)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(Ic),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,s)=>e(s/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(s,i)=>$5e(t,i/n))},r.copy=function(){return MX(e).domain(t)},Vl.apply(r,arguments)}function C1(){var t=0,e=.5,r=1,n=1,s,i,o,l,c,d=cs,h,m=!1,x;function y(j){return isNaN(j=+j)?x:(j=.5+((j=+h(j))-i)*(n*j<n*i?l:c),d(m?Math.max(0,Math.min(1,j)):j))}y.domain=function(j){return arguments.length?([t,e,r]=j,s=h(t=+t),i=h(e=+e),o=h(r=+r),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),n=i<s?-1:1,y):[t,e,r]},y.clamp=function(j){return arguments.length?(m=!!j,y):m},y.interpolator=function(j){return arguments.length?(d=j,y):d};function w(j){return function(v){var N,T,S;return arguments.length?([N,T,S]=v,d=u_e(j,[N,T,S]),y):[d(0),d(.5),d(1)]}}return y.range=w(Yh),y.rangeRound=w(DE),y.unknown=function(j){return arguments.length?(x=j,y):x},function(j){return h=j,s=j(t),i=j(e),o=j(r),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),n=i<s?-1:1,y}}function AX(){var t=Xc(C1()(cs));return t.copy=function(){return Jc(t,AX())},Vl.apply(t,arguments)}function OX(){var t=LE(C1()).domain([.1,1,10]);return t.copy=function(){return Jc(t,OX()).base(t.base())},Vl.apply(t,arguments)}function EX(){var t=$E(C1());return t.copy=function(){return Jc(t,EX()).constant(t.constant())},Vl.apply(t,arguments)}function XE(){var t=FE(C1());return t.copy=function(){return Jc(t,XE()).exponent(t.exponent())},Vl.apply(t,arguments)}function ZMe(){return XE.apply(null,arguments).exponent(.5)}const X9=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:k0,scaleDiverging:AX,scaleDivergingLog:OX,scaleDivergingPow:XE,scaleDivergingSqrt:ZMe,scaleDivergingSymlog:EX,scaleIdentity:uX,scaleImplicit:mM,scaleLinear:Gv,scaleLog:fX,scaleOrdinal:AE,scalePoint:zp,scalePow:HE,scaleQuantile:pX,scaleQuantize:gX,scaleRadial:mX,scaleSequential:CX,scaleSequentialLog:TX,scaleSequentialPow:KE,scaleSequentialQuantile:MX,scaleSequentialSqrt:QMe,scaleSequentialSymlog:_X,scaleSqrt:D_e,scaleSymlog:hX,scaleThreshold:xX,scaleTime:XMe,scaleUtc:JMe,tickFormat:cX},Symbol.toStringTag,{value:"Module"}));var RT,J9;function T1(){if(J9)return RT;J9=1;var t=Vh();function e(r,n,s){for(var i=-1,o=r.length;++i<o;){var l=r[i],c=n(l);if(c!=null&&(d===void 0?c===c&&!t(c):s(c,d)))var d=c,h=l}return h}return RT=e,RT}var IT,Q9;function DX(){if(Q9)return IT;Q9=1;function t(e,r){return e>r}return IT=t,IT}var LT,Z9;function eAe(){if(Z9)return LT;Z9=1;var t=T1(),e=DX(),r=Uh();function n(s){return s&&s.length?t(s,r,e):void 0}return LT=n,LT}var tAe=eAe();const _1=$r(tAe);var $T,eH;function PX(){if(eH)return $T;eH=1;function t(e,r){return e<r}return $T=t,$T}var FT,tH;function rAe(){if(tH)return FT;tH=1;var t=T1(),e=PX(),r=Uh();function n(s){return s&&s.length?t(s,r,e):void 0}return FT=n,FT}var nAe=rAe();const M1=$r(nAe);var HT,rH;function aAe(){if(rH)return HT;rH=1;var t=fE(),e=Io(),r=zK(),n=_s();function s(i,o){var l=n(i)?t:r;return l(i,e(o,3))}return HT=s,HT}var BT,nH;function sAe(){if(nH)return BT;nH=1;var t=HK(),e=aAe();function r(n,s){return t(e(n,s),1)}return BT=r,BT}var iAe=sAe();const oAe=$r(iAe);var zT,aH;function lAe(){if(aH)return zT;aH=1;var t=kE();function e(r,n){return t(r,n)}return zT=e,zT}var cAe=lAe();const kg=$r(cAe);var Kh=1e9,uAe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},QE,_n=!0,Ti="[DecimalError] ",Zu=Ti+"Invalid argument: ",JE=Ti+"Exponent out of range: ",Xh=Math.floor,Cu=Math.pow,dAe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Vs,wa=1e7,jn=7,RX=9007199254740991,Jv=Xh(RX/jn),Et={};Et.absoluteValue=Et.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Et.comparedTo=Et.cmp=function(t){var e,r,n,s,i=this;if(t=new i.constructor(t),i.s!==t.s)return i.s||-t.s;if(i.e!==t.e)return i.e>t.e^i.s<0?1:-1;for(n=i.d.length,s=t.d.length,e=0,r=n<s?n:s;e<r;++e)if(i.d[e]!==t.d[e])return i.d[e]>t.d[e]^i.s<0?1:-1;return n===s?0:n>s^i.s<0?1:-1};Et.decimalPlaces=Et.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*jn;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};Et.dividedBy=Et.div=function(t){return kl(this,new this.constructor(t))};Et.dividedToIntegerBy=Et.idiv=function(t){var e=this,r=e.constructor;return un(kl(e,new r(t),0,1),r.precision)};Et.equals=Et.eq=function(t){return!this.cmp(t)};Et.exponent=function(){return la(this)};Et.greaterThan=Et.gt=function(t){return this.cmp(t)>0};Et.greaterThanOrEqualTo=Et.gte=function(t){return this.cmp(t)>=0};Et.isInteger=Et.isint=function(){return this.e>this.d.length-2};Et.isNegative=Et.isneg=function(){return this.s<0};Et.isPositive=Et.ispos=function(){return this.s>0};Et.isZero=function(){return this.s===0};Et.lessThan=Et.lt=function(t){return this.cmp(t)<0};Et.lessThanOrEqualTo=Et.lte=function(t){return this.cmp(t)<1};Et.logarithm=Et.log=function(t){var e,r=this,n=r.constructor,s=n.precision,i=s+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(Vs))throw Error(Ti+"NaN");if(r.s<1)throw Error(Ti+(r.s?"NaN":"-Infinity"));return r.eq(Vs)?new n(0):(_n=!1,e=kl(A0(r,i),A0(t,i),i),_n=!0,un(e,s))};Et.minus=Et.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?$X(e,t):IX(e,(t.s=-t.s,t))};Et.modulo=Et.mod=function(t){var e,r=this,n=r.constructor,s=n.precision;if(t=new n(t),!t.s)throw Error(Ti+"NaN");return r.s?(_n=!1,e=kl(r,t,0,1).times(t),_n=!0,r.minus(e)):un(new n(r),s)};Et.naturalExponential=Et.exp=function(){return LX(this)};Et.naturalLogarithm=Et.ln=function(){return A0(this)};Et.negated=Et.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Et.plus=Et.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?IX(e,t):$X(e,(t.s=-t.s,t))};Et.precision=Et.sd=function(t){var e,r,n,s=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Zu+t);if(e=la(s)+1,n=s.d.length-1,r=n*jn+1,n=s.d[n],n){for(;n%10==0;n/=10)r--;for(n=s.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};Et.squareRoot=Et.sqrt=function(){var t,e,r,n,s,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Ti+"NaN")}for(t=la(l),_n=!1,s=Math.sqrt(+l),s==0||s==1/0?(e=po(l.d),(e.length+t)%2==0&&(e+="0"),s=Math.sqrt(e),t=Xh((t+1)/2)-(t<0||t%2),s==1/0?e="5e"+t:(e=s.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new c(e)):n=new c(s.toString()),r=c.precision,s=o=r+3;;)if(i=n,n=i.plus(kl(l,i,o+2)).times(.5),po(i.d).slice(0,o)===(e=po(n.d)).slice(0,o)){if(e=e.slice(o-3,o+1),s==o&&e=="4999"){if(un(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(e!="9999")break;o+=4}return _n=!0,un(n,r)};Et.times=Et.mul=function(t){var e,r,n,s,i,o,l,c,d,h=this,m=h.constructor,x=h.d,y=(t=new m(t)).d;if(!h.s||!t.s)return new m(0);for(t.s*=h.s,r=h.e+t.e,c=x.length,d=y.length,c<d&&(i=x,x=y,y=i,o=c,c=d,d=o),i=[],o=c+d,n=o;n--;)i.push(0);for(n=d;--n>=0;){for(e=0,s=c+n;s>n;)l=i[s]+y[n]*x[s-n-1]+e,i[s--]=l%wa|0,e=l/wa|0;i[s]=(i[s]+e)%wa|0}for(;!i[--o];)i.pop();return e?++r:i.shift(),t.d=i,t.e=r,_n?un(t,m.precision):t};Et.toDecimalPlaces=Et.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(Ao(t,0,Kh),e===void 0?e=n.rounding:Ao(e,0,8),un(r,t+la(r)+1,e))};Et.toExponential=function(t,e){var r,n=this,s=n.constructor;return t===void 0?r=hd(n,!0):(Ao(t,0,Kh),e===void 0?e=s.rounding:Ao(e,0,8),n=un(new s(n),t+1,e),r=hd(n,!0,t+1)),r};Et.toFixed=function(t,e){var r,n,s=this,i=s.constructor;return t===void 0?hd(s):(Ao(t,0,Kh),e===void 0?e=i.rounding:Ao(e,0,8),n=un(new i(s),t+la(s)+1,e),r=hd(n.abs(),!1,t+la(n)+1),s.isneg()&&!s.isZero()?"-"+r:r)};Et.toInteger=Et.toint=function(){var t=this,e=t.constructor;return un(new e(t),la(t)+1,e.rounding)};Et.toNumber=function(){return+this};Et.toPower=Et.pow=function(t){var e,r,n,s,i,o,l=this,c=l.constructor,d=12,h=+(t=new c(t));if(!t.s)return new c(Vs);if(l=new c(l),!l.s){if(t.s<1)throw Error(Ti+"Infinity");return l}if(l.eq(Vs))return l;if(n=c.precision,t.eq(Vs))return un(l,n);if(e=t.e,r=t.d.length-1,o=e>=r,i=l.s,o){if((r=h<0?-h:h)<=RX){for(s=new c(Vs),e=Math.ceil(n/jn+4),_n=!1;r%2&&(s=s.times(l),iH(s.d,e)),r=Xh(r/2),r!==0;)l=l.times(l),iH(l.d,e);return _n=!0,t.s<0?new c(Vs).div(s):un(s,n)}}else if(i<0)throw Error(Ti+"NaN");return i=i<0&&t.d[Math.max(e,r)]&1?-1:1,l.s=1,_n=!1,s=t.times(A0(l,n+d)),_n=!0,s=LX(s),s.s=i,s};Et.toPrecision=function(t,e){var r,n,s=this,i=s.constructor;return t===void 0?(r=la(s),n=hd(s,r<=i.toExpNeg||r>=i.toExpPos)):(Ao(t,1,Kh),e===void 0?e=i.rounding:Ao(e,0,8),s=un(new i(s),t,e),r=la(s),n=hd(s,t<=r||r<=i.toExpNeg,t)),n};Et.toSignificantDigits=Et.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(Ao(t,1,Kh),e===void 0?e=n.rounding:Ao(e,0,8)),un(new n(r),t,e)};Et.toString=Et.valueOf=Et.val=Et.toJSON=Et[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=la(t),r=t.constructor;return hd(t,e<=r.toExpNeg||e>=r.toExpPos)};function IX(t,e){var r,n,s,i,o,l,c,d,h=t.constructor,m=h.precision;if(!t.s||!e.s)return e.s||(e=new h(t)),_n?un(e,m):e;if(c=t.d,d=e.d,o=t.e,s=e.e,c=c.slice(),i=o-s,i){for(i<0?(n=c,i=-i,l=d.length):(n=d,s=o,l=c.length),o=Math.ceil(m/jn),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=d.length,l-i<0&&(i=l,n=d,d=c,c=n),r=0;i;)r=(c[--i]=c[i]+d[i]+r)/wa|0,c[i]%=wa;for(r&&(c.unshift(r),++s),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=s,_n?un(e,m):e}function Ao(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Zu+t)}function po(t){var e,r,n,s=t.length-1,i="",o=t[0];if(s>0){for(i+=o,e=1;e<s;e++)n=t[e]+"",r=jn-n.length,r&&(i+=wc(r)),i+=n;o=t[e],n=o+"",r=jn-n.length,r&&(i+=wc(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var kl=(function(){function t(n,s){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*s+o,n[l]=i%wa|0,o=i/wa|0;return o&&n.unshift(o),n}function e(n,s,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=s[l]){c=n[l]>s[l]?1:-1;break}return c}function r(n,s,i){for(var o=0;i--;)n[i]-=o,o=n[i]<s[i]?1:0,n[i]=o*wa+n[i]-s[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,s,i,o){var l,c,d,h,m,x,y,w,j,v,N,T,S,O,_,A,E,D,$=n.constructor,I=n.s==s.s?1:-1,L=n.d,R=s.d;if(!n.s)return new $(n);if(!s.s)throw Error(Ti+"Division by zero");for(c=n.e-s.e,E=R.length,_=L.length,y=new $(I),w=y.d=[],d=0;R[d]==(L[d]||0);)++d;if(R[d]>(L[d]||0)&&--c,i==null?T=i=$.precision:o?T=i+(la(n)-la(s))+1:T=i,T<0)return new $(0);if(T=T/jn+2|0,d=0,E==1)for(h=0,R=R[0],T++;(d<_||h)&&T--;d++)S=h*wa+(L[d]||0),w[d]=S/R|0,h=S%R|0;else{for(h=wa/(R[0]+1)|0,h>1&&(R=t(R,h),L=t(L,h),E=R.length,_=L.length),O=E,j=L.slice(0,E),v=j.length;v<E;)j[v++]=0;D=R.slice(),D.unshift(0),A=R[0],R[1]>=wa/2&&++A;do h=0,l=e(R,j,E,v),l<0?(N=j[0],E!=v&&(N=N*wa+(j[1]||0)),h=N/A|0,h>1?(h>=wa&&(h=wa-1),m=t(R,h),x=m.length,v=j.length,l=e(m,j,x,v),l==1&&(h--,r(m,E<x?D:R,x))):(h==0&&(l=h=1),m=R.slice()),x=m.length,x<v&&m.unshift(0),r(j,m,v),l==-1&&(v=j.length,l=e(R,j,E,v),l<1&&(h++,r(j,E<v?D:R,v))),v=j.length):l===0&&(h++,j=[0]),w[d++]=h,l&&j[0]?j[v++]=L[O]||0:(j=[L[O]],v=1);while((O++<_||j[0]!==void 0)&&T--)}return w[0]||w.shift(),y.e=c,un(y,o?i+la(y)+1:i)}})();function LX(t,e){var r,n,s,i,o,l,c=0,d=0,h=t.constructor,m=h.precision;if(la(t)>16)throw Error(JE+la(t));if(!t.s)return new h(Vs);for(_n=!1,l=m,o=new h(.03125);t.abs().gte(.1);)t=t.times(o),d+=5;for(n=Math.log(Cu(2,d))/Math.LN10*2+5|0,l+=n,r=s=i=new h(Vs),h.precision=l;;){if(s=un(s.times(t),l),r=r.times(++c),o=i.plus(kl(s,r,l)),po(o.d).slice(0,l)===po(i.d).slice(0,l)){for(;d--;)i=un(i.times(i),l);return h.precision=m,e==null?(_n=!0,un(i,m)):i}i=o}}function la(t){for(var e=t.e*jn,r=t.d[0];r>=10;r/=10)e++;return e}function VT(t,e,r){if(e>t.LN10.sd())throw _n=!0,r&&(t.precision=r),Error(Ti+"LN10 precision limit exceeded");return un(new t(t.LN10),e)}function wc(t){for(var e="";t--;)e+="0";return e}function A0(t,e){var r,n,s,i,o,l,c,d,h,m=1,x=10,y=t,w=y.d,j=y.constructor,v=j.precision;if(y.s<1)throw Error(Ti+(y.s?"NaN":"-Infinity"));if(y.eq(Vs))return new j(0);if(e==null?(_n=!1,d=v):d=e,y.eq(10))return e==null&&(_n=!0),VT(j,d);if(d+=x,j.precision=d,r=po(w),n=r.charAt(0),i=la(y),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)y=y.times(t),r=po(y.d),n=r.charAt(0),m++;i=la(y),n>1?(y=new j("0."+r),i++):y=new j(n+"."+r.slice(1))}else return c=VT(j,d+2,v).times(i+""),y=A0(new j(n+"."+r.slice(1)),d-x).plus(c),j.precision=v,e==null?(_n=!0,un(y,v)):y;for(l=o=y=kl(y.minus(Vs),y.plus(Vs),d),h=un(y.times(y),d),s=3;;){if(o=un(o.times(h),d),c=l.plus(kl(o,new j(s),d)),po(c.d).slice(0,d)===po(l.d).slice(0,d))return l=l.times(2),i!==0&&(l=l.plus(VT(j,d+2,v).times(i+""))),l=kl(l,new j(m),d),j.precision=v,e==null?(_n=!0,un(l,v)):l;l=c,s+=2}}function sH(t,e){var r,n,s;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(s=e.length;e.charCodeAt(s-1)===48;)--s;if(e=e.slice(n,s),e){if(s-=n,r=r-n-1,t.e=Xh(r/jn),t.d=[],n=(r+1)%jn,r<0&&(n+=jn),n<s){for(n&&t.d.push(+e.slice(0,n)),s-=jn;n<s;)t.d.push(+e.slice(n,n+=jn));e=e.slice(n),n=jn-e.length}else n-=s;for(;n--;)e+="0";if(t.d.push(+e),_n&&(t.e>Jv||t.e<-Jv))throw Error(JE+r)}else t.s=0,t.e=0,t.d=[0];return t}function un(t,e,r){var n,s,i,o,l,c,d,h,m=t.d;for(o=1,i=m[0];i>=10;i/=10)o++;if(n=e-o,n<0)n+=jn,s=e,d=m[h=0];else{if(h=Math.ceil((n+1)/jn),i=m.length,h>=i)return t;for(d=i=m[h],o=1;i>=10;i/=10)o++;n%=jn,s=n-jn+o}if(r!==void 0&&(i=Cu(10,o-s-1),l=d/i%10|0,c=e<0||m[h+1]!==void 0||d%i,c=r<4?(l||c)&&(r==0||r==(t.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?s>0?d/Cu(10,o-s):0:m[h-1])%10&1||r==(t.s<0?8:7))),e<1||!m[0])return c?(i=la(t),m.length=1,e=e-i-1,m[0]=Cu(10,(jn-e%jn)%jn),t.e=Xh(-e/jn)||0):(m.length=1,m[0]=t.e=t.s=0),t;if(n==0?(m.length=h,i=1,h--):(m.length=h+1,i=Cu(10,jn-n),m[h]=s>0?(d/Cu(10,o-s)%Cu(10,s)|0)*i:0),c)for(;;)if(h==0){(m[0]+=i)==wa&&(m[0]=1,++t.e);break}else{if(m[h]+=i,m[h]!=wa)break;m[h--]=0,i=1}for(n=m.length;m[--n]===0;)m.pop();if(_n&&(t.e>Jv||t.e<-Jv))throw Error(JE+la(t));return t}function $X(t,e){var r,n,s,i,o,l,c,d,h,m,x=t.constructor,y=x.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new x(t),_n?un(e,y):e;if(c=t.d,m=e.d,n=e.e,d=t.e,c=c.slice(),o=d-n,o){for(h=o<0,h?(r=c,o=-o,l=m.length):(r=m,n=d,l=c.length),s=Math.max(Math.ceil(y/jn),l)+2,o>s&&(o=s,r.length=1),r.reverse(),s=o;s--;)r.push(0);r.reverse()}else{for(s=c.length,l=m.length,h=s<l,h&&(l=s),s=0;s<l;s++)if(c[s]!=m[s]){h=c[s]<m[s];break}o=0}for(h&&(r=c,c=m,m=r,e.s=-e.s),l=c.length,s=m.length-l;s>0;--s)c[l++]=0;for(s=m.length;s>o;){if(c[--s]<m[s]){for(i=s;i&&c[--i]===0;)c[i]=wa-1;--c[i],c[s]+=wa}c[s]-=m[s]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(e.d=c,e.e=n,_n?un(e,y):e):new x(0)}function hd(t,e,r){var n,s=la(t),i=po(t.d),o=i.length;return e?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+wc(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(s<0?"e":"e+")+s):s<0?(i="0."+wc(-s-1)+i,r&&(n=r-o)>0&&(i+=wc(n))):s>=o?(i+=wc(s+1-o),r&&(n=r-s-1)>0&&(i=i+"."+wc(n))):((n=s+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(s+1===o&&(i+="."),i+=wc(n))),t.s<0?"-"+i:i}function iH(t,e){if(t.length>e)return t.length=e,!0}function FX(t){var e,r,n;function s(i){var o=this;if(!(o instanceof s))return new s(i);if(o.constructor=s,i instanceof s){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Zu+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return sH(o,i.toString())}else if(typeof i!="string")throw Error(Zu+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,dAe.test(i))sH(o,i);else throw Error(Zu+i)}if(s.prototype=Et,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=FX,s.config=s.set=fAe,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return s.config(t),s}function fAe(t){if(!t||typeof t!="object")throw Error(Ti+"Object expected");var e,r,n,s=["precision",1,Kh,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<s.length;e+=3)if((n=t[r=s[e]])!==void 0)if(Xh(n)===n&&n>=s[e+1]&&n<=s[e+2])this[r]=n;else throw Error(Zu+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Zu+r+": "+n);return this}var QE=FX(uAe);Vs=new QE(1);const an=QE;function hAe(t){return xAe(t)||gAe(t)||pAe(t)||mAe()}function mAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pAe(t,e){if(t){if(typeof t=="string")return yM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yM(t,e)}}function gAe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function xAe(t){if(Array.isArray(t))return yM(t)}function yM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var yAe=function(e){return e},HX={},BX=function(e){return e===HX},oH=function(e){return function r(){return arguments.length===0||arguments.length===1&&BX(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},bAe=function t(e,r){return e===1?r:oH(function(){for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];var o=s.filter(function(l){return l!==HX}).length;return o>=e?r.apply(void 0,s):t(e-o,oH(function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];var h=s.map(function(m){return BX(m)?c.shift():m});return r.apply(void 0,hAe(h).concat(c))}))})},A1=function(e){return bAe(e.length,e)},bM=function(e,r){for(var n=[],s=e;s<r;++s)n[s-e]=s;return n},vAe=A1(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),wAe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return yAe;var s=r.reverse(),i=s[0],o=s.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},vM=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},zX=function(e){var r=null,n=null;return function(){for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r&&i.every(function(l,c){return l===r[c]})||(r=i,n=e.apply(void 0,i)),n}};function jAe(t){var e;return t===0?e=1:e=Math.floor(new an(t).abs().log(10).toNumber())+1,e}function SAe(t,e,r){for(var n=new an(t),s=0,i=[];n.lt(e)&&s<1e5;)i.push(n.toNumber()),n=n.add(r),s++;return i}var NAe=A1(function(t,e,r){var n=+t,s=+e;return n+r*(s-n)}),kAe=A1(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),CAe=A1(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const O1={rangeStep:SAe,getDigitCount:jAe,interpolateNumber:NAe,uninterpolateNumber:kAe,uninterpolateTruncation:CAe};function wM(t){return MAe(t)||_Ae(t)||VX(t)||TAe()}function TAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _Ae(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function MAe(t){if(Array.isArray(t))return jM(t)}function O0(t,e){return EAe(t)||OAe(t,e)||VX(t,e)||AAe()}function AAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VX(t,e){if(t){if(typeof t=="string")return jM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jM(t,e)}}function jM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function OAe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,s=!1,i=void 0;try{for(var o=t[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(e&&r.length===e));n=!0);}catch(c){s=!0,i=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(s)throw i}}return r}}function EAe(t){if(Array.isArray(t))return t}function WX(t){var e=O0(t,2),r=e[0],n=e[1],s=r,i=n;return r>n&&(s=n,i=r),[s,i]}function qX(t,e,r){if(t.lte(0))return new an(0);var n=O1.getDigitCount(t.toNumber()),s=new an(10).pow(n),i=t.div(s),o=n!==1?.05:.1,l=new an(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(s);return e?c:new an(Math.ceil(c))}function DAe(t,e,r){var n=1,s=new an(t);if(!s.isint()&&r){var i=Math.abs(t);i<1?(n=new an(10).pow(O1.getDigitCount(t)-1),s=new an(Math.floor(s.div(n).toNumber())).mul(n)):i>1&&(s=new an(Math.floor(t)))}else t===0?s=new an(Math.floor((e-1)/2)):r||(s=new an(Math.floor(t)));var o=Math.floor((e-1)/2),l=wAe(vAe(function(c){return s.add(new an(c-o).mul(n)).toNumber()}),bM);return l(0,e)}function UX(t,e,r,n){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new an(0),tickMin:new an(0),tickMax:new an(0)};var i=qX(new an(e).sub(t).div(r-1),n,s),o;t<=0&&e>=0?o=new an(0):(o=new an(t).add(e).div(2),o=o.sub(new an(o).mod(i)));var l=Math.ceil(o.sub(t).div(i).toNumber()),c=Math.ceil(new an(e).sub(o).div(i).toNumber()),d=l+c+1;return d>r?UX(t,e,r,n,s+1):(d<r&&(c=e>0?c+(r-d):c,l=e>0?l:l+(r-d)),{step:i,tickMin:o.sub(new an(l).mul(i)),tickMax:o.add(new an(c).mul(i))})}function PAe(t){var e=O0(t,2),r=e[0],n=e[1],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(s,2),l=WX([r,n]),c=O0(l,2),d=c[0],h=c[1];if(d===-1/0||h===1/0){var m=h===1/0?[d].concat(wM(bM(0,s-1).map(function(){return 1/0}))):[].concat(wM(bM(0,s-1).map(function(){return-1/0})),[h]);return r>n?vM(m):m}if(d===h)return DAe(d,s,i);var x=UX(d,h,o,i),y=x.step,w=x.tickMin,j=x.tickMax,v=O1.rangeStep(w,j.add(new an(.1).mul(y)),y);return r>n?vM(v):v}function RAe(t,e){var r=O0(t,2),n=r[0],s=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=WX([n,s]),l=O0(o,2),c=l[0],d=l[1];if(c===-1/0||d===1/0)return[n,s];if(c===d)return[c];var h=Math.max(e,2),m=qX(new an(d).sub(c).div(h-1),i,0),x=[].concat(wM(O1.rangeStep(new an(c),new an(d).sub(new an(.99).mul(m)),m)),[d]);return n>s?vM(x):x}var IAe=zX(PAe),LAe=zX(RAe),$Ae="Invariant failed";function md(t,e){throw new Error($Ae)}var FAe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function ph(t){"@babel/helpers - typeof";return ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ph(t)}function Qv(){return Qv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Qv.apply(this,arguments)}function HAe(t,e){return WAe(t)||VAe(t,e)||zAe(t,e)||BAe()}function BAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zAe(t,e){if(t){if(typeof t=="string")return lH(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lH(t,e)}}function lH(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function VAe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(h){d=!0,s=h}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function WAe(t){if(Array.isArray(t))return t}function qAe(t,e){if(t==null)return{};var r=UAe(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function UAe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function GAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YAe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,KX(n.key),n)}}function KAe(t,e,r){return e&&YAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function XAe(t,e,r){return e=Zv(e),JAe(t,GX()?Reflect.construct(e,r||[],Zv(t).constructor):e.apply(t,r))}function JAe(t,e){if(e&&(ph(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QAe(t)}function QAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function GX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GX=function(){return!!t})()}function Zv(t){return Zv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zv(t)}function ZAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&SM(t,e)}function SM(t,e){return SM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},SM(t,e)}function YX(t,e,r){return e=KX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function KX(t){var e=eOe(t,"string");return ph(e)=="symbol"?e:e+""}function eOe(t,e){if(ph(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ph(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Cg=(function(t){function e(){return GAe(this,e),XAe(this,e,arguments)}return ZAe(e,t),KAe(e,[{key:"render",value:function(){var n=this.props,s=n.offset,i=n.layout,o=n.width,l=n.dataKey,c=n.data,d=n.dataPointFormatter,h=n.xAxis,m=n.yAxis,x=qAe(n,FAe),y=Yt(x,!1);this.props.direction==="x"&&h.type!=="number"&&md();var w=c.map(function(j){var v=d(j,l),N=v.x,T=v.y,S=v.value,O=v.errorVal;if(!O)return null;var _=[],A,E;if(Array.isArray(O)){var D=HAe(O,2);A=D[0],E=D[1]}else A=E=O;if(i==="vertical"){var $=h.scale,I=T+s,L=I+o,R=I-o,z=$(S-A),Y=$(S+E);_.push({x1:Y,y1:L,x2:Y,y2:R}),_.push({x1:z,y1:I,x2:Y,y2:I}),_.push({x1:z,y1:L,x2:z,y2:R})}else if(i==="horizontal"){var W=m.scale,H=N+s,P=H-o,F=H+o,X=W(S-A),te=W(S+E);_.push({x1:P,y1:te,x2:F,y2:te}),_.push({x1:H,y1:X,x2:H,y2:te}),_.push({x1:P,y1:X,x2:F,y2:X})}return J.createElement(Ir,Qv({className:"recharts-errorBar",key:"bar-".concat(_.map(function(q){return"".concat(q.x1,"-").concat(q.x2,"-").concat(q.y1,"-").concat(q.y2)}))},y),_.map(function(q){return J.createElement("line",Qv({},q,{key:"line-".concat(q.x1,"-").concat(q.x2,"-").concat(q.y1,"-").concat(q.y2)}))}))});return J.createElement(Ir,{className:"recharts-errorBars"},w)}}])})(J.Component);YX(Cg,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});YX(Cg,"displayName","ErrorBar");function E0(t){"@babel/helpers - typeof";return E0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E0(t)}function cH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function bu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cH(Object(r),!0).forEach(function(n){tOe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function tOe(t,e,r){return e=rOe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rOe(t){var e=nOe(t,"string");return E0(e)=="symbol"?e:e+""}function nOe(t,e){if(E0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(E0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var XX=function(e){var r=e.children,n=e.formattedGraphicalItems,s=e.legendWidth,i=e.legendContent,o=Hs(r,wo);if(!o)return null;var l=wo.defaultProps,c=l!==void 0?bu(bu({},l),o.props):{},d;return o.props&&o.props.payload?d=o.props&&o.props.payload:i==="children"?d=(n||[]).reduce(function(h,m){var x=m.item,y=m.props,w=y.sectors||y.data||[];return h.concat(w.map(function(j){return{type:o.props.iconType||x.props.legendType,value:j.name,color:j.fill,payload:j}}))},[]):d=(n||[]).map(function(h){var m=h.item,x=m.type.defaultProps,y=x!==void 0?bu(bu({},x),m.props):{},w=y.dataKey,j=y.name,v=y.legendType,N=y.hide;return{inactive:N,dataKey:w,type:c.iconType||v||"square",color:ZE(m),value:j||w,payload:y}}),bu(bu(bu({},c),wo.getWithHeight(o,s)),{},{payload:d,item:o})};function D0(t){"@babel/helpers - typeof";return D0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D0(t)}function uH(t){return oOe(t)||iOe(t)||sOe(t)||aOe()}function aOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sOe(t,e){if(t){if(typeof t=="string")return NM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return NM(t,e)}}function iOe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function oOe(t){if(Array.isArray(t))return NM(t)}function NM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function dH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function $n(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dH(Object(r),!0).forEach(function(n){zf(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zf(t,e,r){return e=lOe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lOe(t){var e=cOe(t,"string");return D0(e)=="symbol"?e:e+""}function cOe(t,e){if(D0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(D0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pa(t,e,r){return ar(t)||ar(e)?r:ga(e)?Gs(t,e,r):tr(e)?e(t):r}function Vp(t,e,r,n){var s=oAe(t,function(l){return pa(l,e)});if(r==="number"){var i=s.filter(function(l){return yt(l)||parseFloat(l)});return i.length?[M1(i),_1(i)]:[1/0,-1/0]}var o=n?s.filter(function(l){return!ar(l)}):s;return o.map(function(l){return ga(l)||l instanceof Date?l:""})}var uOe=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,d=0;d<l;d++){var h=d>0?s[d-1].coordinate:s[l-1].coordinate,m=s[d].coordinate,x=d>=l-1?s[0].coordinate:s[d+1].coordinate,y=void 0;if(is(m-h)!==is(x-m)){var w=[];if(is(x-m)===is(c[1]-c[0])){y=x;var j=m+c[1]-c[0];w[0]=Math.min(j,(j+h)/2),w[1]=Math.max(j,(j+h)/2)}else{y=h;var v=x+c[1]-c[0];w[0]=Math.min(m,(v+m)/2),w[1]=Math.max(m,(v+m)/2)}var N=[Math.min(m,(y+m)/2),Math.max(m,(y+m)/2)];if(e>N[0]&&e<=N[1]||e>=w[0]&&e<=w[1]){o=s[d].index;break}}else{var T=Math.min(h,x),S=Math.max(h,x);if(e>(T+m)/2&&e<=(S+m)/2){o=s[d].index;break}}}else for(var O=0;O<l;O++)if(O===0&&e<=(n[O].coordinate+n[O+1].coordinate)/2||O>0&&O<l-1&&e>(n[O].coordinate+n[O-1].coordinate)/2&&e<=(n[O].coordinate+n[O+1].coordinate)/2||O===l-1&&e>(n[O].coordinate+n[O-1].coordinate)/2){o=n[O].index;break}return o},ZE=function(e){var r,n=e,s=n.type.displayName,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?$n($n({},e.type.defaultProps),e.props):e.props,o=i.stroke,l=i.fill,c;switch(s){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},dOe=function(e){var r=e.barSize,n=e.totalSize,s=e.stackGroups,i=s===void 0?{}:s;if(!i)return{};for(var o={},l=Object.keys(i),c=0,d=l.length;c<d;c++)for(var h=i[l[c]].stackGroups,m=Object.keys(h),x=0,y=m.length;x<y;x++){var w=h[m[x]],j=w.items,v=w.cateAxisId,N=j.filter(function(E){return Nl(E.type).indexOf("Bar")>=0});if(N&&N.length){var T=N[0].type.defaultProps,S=T!==void 0?$n($n({},T),N[0].props):N[0].props,O=S.barSize,_=S[v];o[_]||(o[_]=[]);var A=ar(O)?r:O;o[_].push({item:N[0],stackList:N.slice(1),barSize:ar(A)?void 0:ls(A,n,0)})}}return o},fOe=function(e){var r=e.barGap,n=e.barCategoryGap,s=e.bandSize,i=e.sizeList,o=i===void 0?[]:i,l=e.maxBarSize,c=o.length;if(c<1)return null;var d=ls(r,s,0,!0),h,m=[];if(o[0].barSize===+o[0].barSize){var x=!1,y=s/c,w=o.reduce(function(O,_){return O+_.barSize||0},0);w+=(c-1)*d,w>=s&&(w-=(c-1)*d,d=0),w>=s&&y>0&&(x=!0,y*=.9,w=c*y);var j=(s-w)/2>>0,v={offset:j-d,size:0};h=o.reduce(function(O,_){var A={item:_.item,position:{offset:v.offset+v.size+d,size:x?y:_.barSize}},E=[].concat(uH(O),[A]);return v=E[E.length-1].position,_.stackList&&_.stackList.length&&_.stackList.forEach(function(D){E.push({item:D,position:v})}),E},m)}else{var N=ls(n,s,0,!0);s-2*N-(c-1)*d<=0&&(d=0);var T=(s-2*N-(c-1)*d)/c;T>1&&(T>>=0);var S=l===+l?Math.min(T,l):T;h=o.reduce(function(O,_,A){var E=[].concat(uH(O),[{item:_.item,position:{offset:N+(T+d)*A+(T-S)/2,size:S}}]);return _.stackList&&_.stackList.length&&_.stackList.forEach(function(D){E.push({item:D,position:E[E.length-1].position})}),E},m)}return h},hOe=function(e,r,n,s){var i=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),d=XX({children:i,legendWidth:c});if(d){var h=s||{},m=h.width,x=h.height,y=d.align,w=d.verticalAlign,j=d.layout;if((j==="vertical"||j==="horizontal"&&w==="middle")&&y!=="center"&&yt(e[y]))return $n($n({},e),{},zf({},y,e[y]+(m||0)));if((j==="horizontal"||j==="vertical"&&y==="center")&&w!=="middle"&&yt(e[w]))return $n($n({},e),{},zf({},w,e[w]+(x||0)))}return e},mOe=function(e,r,n){return ar(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},JX=function(e,r,n,s,i){var o=r.props.children,l=Ys(o,Cg).filter(function(d){return mOe(s,i,d.props.direction)});if(l&&l.length){var c=l.map(function(d){return d.props.dataKey});return e.reduce(function(d,h){var m=pa(h,n);if(ar(m))return d;var x=Array.isArray(m)?[M1(m),_1(m)]:[m,m],y=c.reduce(function(w,j){var v=pa(h,j,0),N=x[0]-Math.abs(Array.isArray(v)?v[0]:v),T=x[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(N,w[0]),Math.max(T,w[1])]},[1/0,-1/0]);return[Math.min(y[0],d[0]),Math.max(y[1],d[1])]},[1/0,-1/0])}return null},pOe=function(e,r,n,s,i){var o=r.map(function(l){return JX(e,l,n,i,s)}).filter(function(l){return!ar(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},QX=function(e,r,n,s,i){var o=r.map(function(c){var d=c.props.dataKey;return n==="number"&&d&&JX(e,c,d,s)||Vp(e,d,n,i)});if(n==="number")return o.reduce(function(c,d){return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,d){for(var h=0,m=d.length;h<m;h++)l[d[h]]||(l[d[h]]=!0,c.push(d[h]));return c},[])},ZX=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},eJ=function(e,r,n,s){if(s)return e.map(function(c){return c.coordinate});var i,o,l=e.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===n&&(o=!0),c.coordinate});return i||l.push(r),o||l.push(n),l},ml=function(e,r,n){if(!e)return null;var s=e.scale,i=e.duplicateDomain,o=e.type,l=e.range,c=e.realScaleType==="scaleBand"?s.bandwidth()/2:2,d=(r||n)&&o==="category"&&s.bandwidth?s.bandwidth()/c:0;if(d=e.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?is(l[0]-l[1])*2*d:d,r&&(e.ticks||e.niceTicks)){var h=(e.ticks||e.niceTicks).map(function(m){var x=i?i.indexOf(m):m;return{coordinate:s(x)+d,value:m,offset:d}});return h.filter(function(m){return!bg(m.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(m,x){return{coordinate:s(m)+d,value:m,index:x,offset:d}}):s.ticks&&!n?s.ticks(e.tickCount).map(function(m){return{coordinate:s(m)+d,value:m,offset:d}}):s.domain().map(function(m,x){return{coordinate:s(m)+d,value:i?i[m]:m,index:x,offset:d}})},WT=new WeakMap,Ty=function(e,r){if(typeof r!="function")return e;WT.has(e)||WT.set(e,new WeakMap);var n=WT.get(e);if(n.has(r))return n.get(r);var s=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,s),s},tJ=function(e,r,n){var s=e.scale,i=e.type,o=e.layout,l=e.axisType;if(s==="auto")return o==="radial"&&l==="radiusAxis"?{scale:k0(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:Gv(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:zp(),realScaleType:"point"}:i==="category"?{scale:k0(),realScaleType:"band"}:{scale:Gv(),realScaleType:"linear"};if(ud(s)){var c="scale".concat(m1(s));return{scale:(X9[c]||zp)(),realScaleType:X9[c]?c:"point"}}return tr(s)?{scale:s}:{scale:zp(),realScaleType:"point"}},fH=1e-4,rJ=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,s=e.range(),i=Math.min(s[0],s[1])-fH,o=Math.max(s[0],s[1])+fH,l=e(r[0]),c=e(r[n-1]);(l<i||l>o||c<i||c>o)&&e.domain([r[0],r[n-1]])}},gOe=function(e,r){if(!e)return null;for(var n=0,s=e.length;n<s;n++)if(e[n].item===r)return e[n].position;return null},xOe=function(e,r){if(!r||r.length!==2||!yt(r[0])||!yt(r[1]))return e;var n=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]),i=[e[0],e[1]];return(!yt(e[0])||e[0]<n)&&(i[0]=n),(!yt(e[1])||e[1]>s)&&(i[1]=s),i[0]>s&&(i[0]=s),i[1]<n&&(i[1]=n),i},yOe=function(e){var r=e.length;if(!(r<=0))for(var n=0,s=e[0].length;n<s;++n)for(var i=0,o=0,l=0;l<r;++l){var c=bg(e[l][n][1])?e[l][n][0]:e[l][n][1];c>=0?(e[l][n][0]=i,e[l][n][1]=i+c,i=e[l][n][1]):(e[l][n][0]=o,e[l][n][1]=o+c,o=e[l][n][1])}},bOe=function(e){var r=e.length;if(!(r<=0))for(var n=0,s=e[0].length;n<s;++n)for(var i=0,o=0;o<r;++o){var l=bg(e[o][n][1])?e[o][n][0]:e[o][n][1];l>=0?(e[o][n][0]=i,e[o][n][1]=i+l,i=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},vOe={sign:yOe,expand:oke,none:oh,silhouette:lke,wiggle:cke,positive:bOe},wOe=function(e,r,n){var s=r.map(function(l){return l.props.dataKey}),i=vOe[n],o=ike().keys(s).value(function(l,c){return+pa(l,c,0)}).order(eM).offset(i);return o(e)},jOe=function(e,r,n,s,i,o){if(!e)return null;var l=o?r.reverse():r,c={},d=l.reduce(function(m,x){var y,w=(y=x.type)!==null&&y!==void 0&&y.defaultProps?$n($n({},x.type.defaultProps),x.props):x.props,j=w.stackId,v=w.hide;if(v)return m;var N=w[n],T=m[N]||{hasStack:!1,stackGroups:{}};if(ga(j)){var S=T.stackGroups[j]||{numericAxisId:n,cateAxisId:s,items:[]};S.items.push(x),T.hasStack=!0,T.stackGroups[j]=S}else T.stackGroups[qh("_stackId_")]={numericAxisId:n,cateAxisId:s,items:[x]};return $n($n({},m),{},zf({},N,T))},c),h={};return Object.keys(d).reduce(function(m,x){var y=d[x];if(y.hasStack){var w={};y.stackGroups=Object.keys(y.stackGroups).reduce(function(j,v){var N=y.stackGroups[v];return $n($n({},j),{},zf({},v,{numericAxisId:n,cateAxisId:s,items:N.items,stackedData:wOe(e,N.items,i)}))},w)}return $n($n({},m),{},zf({},x,y))},h)},nJ=function(e,r){var n=r.realScaleType,s=r.type,i=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&s==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var d=e.domain();if(!d.length)return null;var h=IAe(d,i,l);return e.domain([M1(h),_1(h)]),{niceTicks:h}}if(i&&s==="number"){var m=e.domain(),x=LAe(m,i,l);return{niceTicks:x}}return null};function hH(t){var e=t.axis,r=t.ticks,n=t.bandSize,s=t.entry,i=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!ar(s[e.dataKey])){var l=Mv(r,"value",s[e.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=pa(s,ar(o)?e.dataKey:o);return ar(c)?null:e.scale(c)}var mH=function(e){var r=e.axis,n=e.ticks,s=e.offset,i=e.bandSize,o=e.entry,l=e.index;if(r.type==="category")return n[l]?n[l].coordinate+s:null;var c=pa(o,r.dataKey,r.domain[l]);return ar(c)?null:r.scale(c)-i/2+s},SOe=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var s=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return s<=0&&i>=0?0:i<0?i:s}return n[0]},NOe=function(e,r){var n,s=(n=e.type)!==null&&n!==void 0&&n.defaultProps?$n($n({},e.type.defaultProps),e.props):e.props,i=s.stackId;if(ga(i)){var o=r[i];if(o){var l=o.items.indexOf(e);return l>=0?o.stackedData[l]:null}}return null},kOe=function(e){return e.reduce(function(r,n){return[M1(n.concat([r[0]]).filter(yt)),_1(n.concat([r[1]]).filter(yt))]},[1/0,-1/0])},aJ=function(e,r,n){return Object.keys(e).reduce(function(s,i){var o=e[i],l=o.stackedData,c=l.reduce(function(d,h){var m=kOe(h.slice(r,n+1));return[Math.min(d[0],m[0]),Math.max(d[1],m[1])]},[1/0,-1/0]);return[Math.min(c[0],s[0]),Math.max(c[1],s[1])]},[1/0,-1/0]).map(function(s){return s===1/0||s===-1/0?0:s})},pH=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,gH=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,kM=function(e,r,n){if(tr(e))return e(r,n);if(!Array.isArray(e))return r;var s=[];if(yt(e[0]))s[0]=n?e[0]:Math.min(e[0],r[0]);else if(pH.test(e[0])){var i=+pH.exec(e[0])[1];s[0]=r[0]-i}else tr(e[0])?s[0]=e[0](r[0]):s[0]=r[0];if(yt(e[1]))s[1]=n?e[1]:Math.max(e[1],r[1]);else if(gH.test(e[1])){var o=+gH.exec(e[1])[1];s[1]=r[1]+o}else tr(e[1])?s[1]=e[1](r[1]):s[1]=r[1];return s},ew=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var s=e.scale.bandwidth();if(!n||s>0)return s}if(e&&r&&r.length>=2){for(var i=TE(r,function(m){return m.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var d=i[l],h=i[l-1];o=Math.min((d.coordinate||0)-(h.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},xH=function(e,r,n){return!e||!e.length||kg(e,Gs(n,"type.defaultProps.domain"))?r:e},sJ=function(e,r){var n=e.type.defaultProps?$n($n({},e.type.defaultProps),e.props):e.props,s=n.dataKey,i=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,d=n.chartType,h=n.hide;return $n($n({},Yt(e,!1)),{},{dataKey:s,unit:o,formatter:l,name:i||s,color:ZE(e),value:pa(r,s),type:c,payload:r,chartType:d,hide:h})};function P0(t){"@babel/helpers - typeof";return P0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P0(t)}function yH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function ol(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yH(Object(r),!0).forEach(function(n){iJ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function iJ(t,e,r){return e=COe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function COe(t){var e=TOe(t,"string");return P0(e)=="symbol"?e:e+""}function TOe(t,e){if(P0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(P0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _Oe(t,e){return EOe(t)||OOe(t,e)||AOe(t,e)||MOe()}function MOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AOe(t,e){if(t){if(typeof t=="string")return bH(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bH(t,e)}}function bH(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function OOe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(h){d=!0,s=h}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function EOe(t){if(Array.isArray(t))return t}var tw=Math.PI/180,DOe=function(e){return e*180/Math.PI},gn=function(e,r,n,s){return{x:e+Math.cos(-tw*s)*n,y:r+Math.sin(-tw*s)*n}},oJ=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},POe=function(e,r,n,s,i){var o=e.width,l=e.height,c=e.startAngle,d=e.endAngle,h=ls(e.cx,o,o/2),m=ls(e.cy,l,l/2),x=oJ(o,l,n),y=ls(e.innerRadius,x,0),w=ls(e.outerRadius,x,x*.8),j=Object.keys(r);return j.reduce(function(v,N){var T=r[N],S=T.domain,O=T.reversed,_;if(ar(T.range))s==="angleAxis"?_=[c,d]:s==="radiusAxis"&&(_=[y,w]),O&&(_=[_[1],_[0]]);else{_=T.range;var A=_,E=_Oe(A,2);c=E[0],d=E[1]}var D=tJ(T,i),$=D.realScaleType,I=D.scale;I.domain(S).range(_),rJ(I);var L=nJ(I,ol(ol({},T),{},{realScaleType:$})),R=ol(ol(ol({},T),L),{},{range:_,radius:w,realScaleType:$,scale:I,cx:h,cy:m,innerRadius:y,outerRadius:w,startAngle:c,endAngle:d});return ol(ol({},v),{},iJ({},N,R))},{})},ROe=function(e,r){var n=e.x,s=e.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(s-o,2))},IOe=function(e,r){var n=e.x,s=e.y,i=r.cx,o=r.cy,l=ROe({x:n,y:s},{x:i,y:o});if(l<=0)return{radius:l};var c=(n-i)/l,d=Math.acos(c);return s>o&&(d=2*Math.PI-d),{radius:l,angle:DOe(d),angleInRadian:d}},LOe=function(e){var r=e.startAngle,n=e.endAngle,s=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(s,i);return{startAngle:r-o*360,endAngle:n-o*360}},$Oe=function(e,r){var n=r.startAngle,s=r.endAngle,i=Math.floor(n/360),o=Math.floor(s/360),l=Math.min(i,o);return e+l*360},vH=function(e,r){var n=e.x,s=e.y,i=IOe({x:n,y:s},r),o=i.radius,l=i.angle,c=r.innerRadius,d=r.outerRadius;if(o<c||o>d)return!1;if(o===0)return!0;var h=LOe(r),m=h.startAngle,x=h.endAngle,y=l,w;if(m<=x){for(;y>x;)y-=360;for(;y<m;)y+=360;w=y>=m&&y<=x}else{for(;y>m;)y-=360;for(;y<x;)y+=360;w=y>=x&&y<=m}return w?ol(ol({},r),{},{radius:o,angle:$Oe(y,r)}):null},lJ=function(e){return!g.isValidElement(e)&&!tr(e)&&typeof e!="boolean"?e.className:""};function R0(t){"@babel/helpers - typeof";return R0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R0(t)}var FOe=["offset"];function HOe(t){return WOe(t)||VOe(t)||zOe(t)||BOe()}function BOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zOe(t,e){if(t){if(typeof t=="string")return CM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return CM(t,e)}}function VOe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function WOe(t){if(Array.isArray(t))return CM(t)}function CM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function qOe(t,e){if(t==null)return{};var r=UOe(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function UOe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function wH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function ma(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wH(Object(r),!0).forEach(function(n){GOe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function GOe(t,e,r){return e=YOe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function YOe(t){var e=KOe(t,"string");return R0(e)=="symbol"?e:e+""}function KOe(t,e){if(R0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(R0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function I0(){return I0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},I0.apply(this,arguments)}var XOe=function(e){var r=e.value,n=e.formatter,s=ar(e.children)?r:e.children;return tr(n)?n(s):s},JOe=function(e,r){var n=is(r-e),s=Math.min(Math.abs(r-e),360);return n*s},QOe=function(e,r,n){var s=e.position,i=e.viewBox,o=e.offset,l=e.className,c=i,d=c.cx,h=c.cy,m=c.innerRadius,x=c.outerRadius,y=c.startAngle,w=c.endAngle,j=c.clockWise,v=(m+x)/2,N=JOe(y,w),T=N>=0?1:-1,S,O;s==="insideStart"?(S=y+T*o,O=j):s==="insideEnd"?(S=w-T*o,O=!j):s==="end"&&(S=w+T*o,O=j),O=N<=0?O:!O;var _=gn(d,h,v,S),A=gn(d,h,v,S+(O?1:-1)*359),E="M".concat(_.x,",").concat(_.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(O?0:1,`,
    `).concat(A.x,",").concat(A.y),D=ar(e.id)?qh("recharts-radial-line-"):e.id;return J.createElement("text",I0({},n,{dominantBaseline:"central",className:Ht("recharts-radial-bar-label",l)}),J.createElement("defs",null,J.createElement("path",{id:D,d:E})),J.createElement("textPath",{xlinkHref:"#".concat(D)},r))},ZOe=function(e){var r=e.viewBox,n=e.offset,s=e.position,i=r,o=i.cx,l=i.cy,c=i.innerRadius,d=i.outerRadius,h=i.startAngle,m=i.endAngle,x=(h+m)/2;if(s==="outside"){var y=gn(o,l,d+n,x),w=y.x,j=y.y;return{x:w,y:j,textAnchor:w>=o?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var v=(c+d)/2,N=gn(o,l,v,x),T=N.x,S=N.y;return{x:T,y:S,textAnchor:"middle",verticalAnchor:"middle"}},eEe=function(e){var r=e.viewBox,n=e.parentViewBox,s=e.offset,i=e.position,o=r,l=o.x,c=o.y,d=o.width,h=o.height,m=h>=0?1:-1,x=m*s,y=m>0?"end":"start",w=m>0?"start":"end",j=d>=0?1:-1,v=j*s,N=j>0?"end":"start",T=j>0?"start":"end";if(i==="top"){var S={x:l+d/2,y:c-m*s,textAnchor:"middle",verticalAnchor:y};return ma(ma({},S),n?{height:Math.max(c-n.y,0),width:d}:{})}if(i==="bottom"){var O={x:l+d/2,y:c+h+x,textAnchor:"middle",verticalAnchor:w};return ma(ma({},O),n?{height:Math.max(n.y+n.height-(c+h),0),width:d}:{})}if(i==="left"){var _={x:l-v,y:c+h/2,textAnchor:N,verticalAnchor:"middle"};return ma(ma({},_),n?{width:Math.max(_.x-n.x,0),height:h}:{})}if(i==="right"){var A={x:l+d+v,y:c+h/2,textAnchor:T,verticalAnchor:"middle"};return ma(ma({},A),n?{width:Math.max(n.x+n.width-A.x,0),height:h}:{})}var E=n?{width:d,height:h}:{};return i==="insideLeft"?ma({x:l+v,y:c+h/2,textAnchor:T,verticalAnchor:"middle"},E):i==="insideRight"?ma({x:l+d-v,y:c+h/2,textAnchor:N,verticalAnchor:"middle"},E):i==="insideTop"?ma({x:l+d/2,y:c+x,textAnchor:"middle",verticalAnchor:w},E):i==="insideBottom"?ma({x:l+d/2,y:c+h-x,textAnchor:"middle",verticalAnchor:y},E):i==="insideTopLeft"?ma({x:l+v,y:c+x,textAnchor:T,verticalAnchor:w},E):i==="insideTopRight"?ma({x:l+d-v,y:c+x,textAnchor:N,verticalAnchor:w},E):i==="insideBottomLeft"?ma({x:l+v,y:c+h-x,textAnchor:T,verticalAnchor:y},E):i==="insideBottomRight"?ma({x:l+d-v,y:c+h-x,textAnchor:N,verticalAnchor:y},E):Wh(i)&&(yt(i.x)||$u(i.x))&&(yt(i.y)||$u(i.y))?ma({x:l+ls(i.x,d),y:c+ls(i.y,h),textAnchor:"end",verticalAnchor:"end"},E):ma({x:l+d/2,y:c+h/2,textAnchor:"middle",verticalAnchor:"middle"},E)},tEe=function(e){return"cx"in e&&yt(e.cx)};function Na(t){var e=t.offset,r=e===void 0?5:e,n=qOe(t,FOe),s=ma({offset:r},n),i=s.viewBox,o=s.position,l=s.value,c=s.children,d=s.content,h=s.className,m=h===void 0?"":h,x=s.textBreakAll;if(!i||ar(l)&&ar(c)&&!g.isValidElement(d)&&!tr(d))return null;if(g.isValidElement(d))return g.cloneElement(d,s);var y;if(tr(d)){if(y=g.createElement(d,s),g.isValidElement(y))return y}else y=XOe(s);var w=tEe(i),j=Yt(s,!0);if(w&&(o==="insideStart"||o==="insideEnd"||o==="end"))return QOe(s,y,j);var v=w?ZOe(s):eEe(s);return J.createElement(fd,I0({className:Ht("recharts-label",m)},j,v,{breakAll:x}),y)}Na.displayName="Label";var cJ=function(e){var r=e.cx,n=e.cy,s=e.angle,i=e.startAngle,o=e.endAngle,l=e.r,c=e.radius,d=e.innerRadius,h=e.outerRadius,m=e.x,x=e.y,y=e.top,w=e.left,j=e.width,v=e.height,N=e.clockWise,T=e.labelViewBox;if(T)return T;if(yt(j)&&yt(v)){if(yt(m)&&yt(x))return{x:m,y:x,width:j,height:v};if(yt(y)&&yt(w))return{x:y,y:w,width:j,height:v}}return yt(m)&&yt(x)?{x:m,y:x,width:0,height:0}:yt(r)&&yt(n)?{cx:r,cy:n,startAngle:i||s||0,endAngle:o||s||0,innerRadius:d||0,outerRadius:h||c||l||0,clockWise:N}:e.viewBox?e.viewBox:{}},rEe=function(e,r){return e?e===!0?J.createElement(Na,{key:"label-implicit",viewBox:r}):ga(e)?J.createElement(Na,{key:"label-implicit",viewBox:r,value:e}):g.isValidElement(e)?e.type===Na?g.cloneElement(e,{key:"label-implicit",viewBox:r}):J.createElement(Na,{key:"label-implicit",content:e,viewBox:r}):tr(e)?J.createElement(Na,{key:"label-implicit",content:e,viewBox:r}):Wh(e)?J.createElement(Na,I0({viewBox:r},e,{key:"label-implicit"})):null:null},nEe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var s=e.children,i=cJ(e),o=Ys(s,Na).map(function(c,d){return g.cloneElement(c,{viewBox:r||i,key:"label-".concat(d)})});if(!n)return o;var l=rEe(e.label,r||i);return[l].concat(HOe(o))};Na.parseViewBox=cJ;Na.renderCallByParent=nEe;var qT,jH;function aEe(){if(jH)return qT;jH=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return qT=t,qT}var sEe=aEe();const iEe=$r(sEe);function L0(t){"@babel/helpers - typeof";return L0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L0(t)}var oEe=["valueAccessor"],lEe=["data","dataKey","clockWise","id","textBreakAll"];function cEe(t){return hEe(t)||fEe(t)||dEe(t)||uEe()}function uEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dEe(t,e){if(t){if(typeof t=="string")return TM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return TM(t,e)}}function fEe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function hEe(t){if(Array.isArray(t))return TM(t)}function TM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function rw(){return rw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},rw.apply(this,arguments)}function SH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function NH(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SH(Object(r),!0).forEach(function(n){mEe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mEe(t,e,r){return e=pEe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pEe(t){var e=gEe(t,"string");return L0(e)=="symbol"?e:e+""}function gEe(t,e){if(L0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(L0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kH(t,e){if(t==null)return{};var r=xEe(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function xEe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var yEe=function(e){return Array.isArray(e.value)?iEe(e.value):e.value};function Cl(t){var e=t.valueAccessor,r=e===void 0?yEe:e,n=kH(t,oEe),s=n.data,i=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,d=kH(n,lEe);return!s||!s.length?null:J.createElement(Ir,{className:"recharts-label-list"},s.map(function(h,m){var x=ar(i)?r(h,m):pa(h&&h.payload,i),y=ar(l)?{}:{id:"".concat(l,"-").concat(m)};return J.createElement(Na,rw({},Yt(h,!0),d,y,{parentViewBox:h.parentViewBox,value:x,textBreakAll:c,viewBox:Na.parseViewBox(ar(o)?h:NH(NH({},h),{},{clockWise:o})),key:"label-".concat(m),index:m}))}))}Cl.displayName="LabelList";function bEe(t,e){return t?t===!0?J.createElement(Cl,{key:"labelList-implicit",data:e}):J.isValidElement(t)||tr(t)?J.createElement(Cl,{key:"labelList-implicit",data:e,content:t}):Wh(t)?J.createElement(Cl,rw({data:e},t,{key:"labelList-implicit"})):null:null}function vEe(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,s=Ys(n,Cl).map(function(o,l){return g.cloneElement(o,{data:e,key:"labelList-".concat(l)})});if(!r)return s;var i=bEe(t.label,e);return[i].concat(cEe(s))}Cl.renderCallByParent=vEe;function $0(t){"@babel/helpers - typeof";return $0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$0(t)}function _M(){return _M=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_M.apply(this,arguments)}function CH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function TH(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?CH(Object(r),!0).forEach(function(n){wEe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wEe(t,e,r){return e=jEe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jEe(t){var e=SEe(t,"string");return $0(e)=="symbol"?e:e+""}function SEe(t,e){if($0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var NEe=function(e,r){var n=is(r-e),s=Math.min(Math.abs(r-e),359.999);return n*s},_y=function(e){var r=e.cx,n=e.cy,s=e.radius,i=e.angle,o=e.sign,l=e.isExternal,c=e.cornerRadius,d=e.cornerIsExternal,h=c*(l?1:-1)+s,m=Math.asin(c/h)/tw,x=d?i:i+o*m,y=gn(r,n,h,x),w=gn(r,n,s,x),j=d?i-o*m:i,v=gn(r,n,h*Math.cos(m*tw),j);return{center:y,circleTangency:w,lineTangency:v,theta:m}},uJ=function(e){var r=e.cx,n=e.cy,s=e.innerRadius,i=e.outerRadius,o=e.startAngle,l=e.endAngle,c=NEe(o,l),d=o+c,h=gn(r,n,i,o),m=gn(r,n,i,d),x="M ".concat(h.x,",").concat(h.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>d),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(s>0){var y=gn(r,n,s,o),w=gn(r,n,s,d);x+="L ".concat(w.x,",").concat(w.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=d),`,
            `).concat(y.x,",").concat(y.y," Z")}else x+="L ".concat(r,",").concat(n," Z");return x},kEe=function(e){var r=e.cx,n=e.cy,s=e.innerRadius,i=e.outerRadius,o=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,d=e.startAngle,h=e.endAngle,m=is(h-d),x=_y({cx:r,cy:n,radius:i,angle:d,sign:m,cornerRadius:o,cornerIsExternal:c}),y=x.circleTangency,w=x.lineTangency,j=x.theta,v=_y({cx:r,cy:n,radius:i,angle:h,sign:-m,cornerRadius:o,cornerIsExternal:c}),N=v.circleTangency,T=v.lineTangency,S=v.theta,O=c?Math.abs(d-h):Math.abs(d-h)-j-S;if(O<0)return l?"M ".concat(w.x,",").concat(w.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):uJ({cx:r,cy:n,innerRadius:s,outerRadius:i,startAngle:d,endAngle:h});var _="M ".concat(w.x,",").concat(w.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(O>180),",").concat(+(m<0),",").concat(N.x,",").concat(N.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(T.x,",").concat(T.y,`
  `);if(s>0){var A=_y({cx:r,cy:n,radius:s,angle:d,sign:m,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),E=A.circleTangency,D=A.lineTangency,$=A.theta,I=_y({cx:r,cy:n,radius:s,angle:h,sign:-m,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),L=I.circleTangency,R=I.lineTangency,z=I.theta,Y=c?Math.abs(d-h):Math.abs(d-h)-$-z;if(Y<0&&o===0)return"".concat(_,"L").concat(r,",").concat(n,"Z");_+="L".concat(R.x,",").concat(R.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(L.x,",").concat(L.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(Y>180),",").concat(+(m>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(D.x,",").concat(D.y,"Z")}else _+="L".concat(r,",").concat(n,"Z");return _},CEe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},dJ=function(e){var r=TH(TH({},CEe),e),n=r.cx,s=r.cy,i=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,d=r.cornerIsExternal,h=r.startAngle,m=r.endAngle,x=r.className;if(o<i||h===m)return null;var y=Ht("recharts-sector",x),w=o-i,j=ls(l,w,0,!0),v;return j>0&&Math.abs(h-m)<360?v=kEe({cx:n,cy:s,innerRadius:i,outerRadius:o,cornerRadius:Math.min(j,w/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:h,endAngle:m}):v=uJ({cx:n,cy:s,innerRadius:i,outerRadius:o,startAngle:h,endAngle:m}),J.createElement("path",_M({},Yt(r,!0),{className:y,d:v,role:"img"}))};function F0(t){"@babel/helpers - typeof";return F0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},F0(t)}function MM(){return MM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},MM.apply(this,arguments)}function _H(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function MH(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_H(Object(r),!0).forEach(function(n){TEe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_H(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function TEe(t,e,r){return e=_Ee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _Ee(t){var e=MEe(t,"string");return F0(e)=="symbol"?e:e+""}function MEe(t,e){if(F0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(F0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var AH={curveBasisClosed:K2e,curveBasisOpen:X2e,curveBasis:Y2e,curveBumpX:P2e,curveBumpY:R2e,curveLinearClosed:J2e,curveLinear:g1,curveMonotoneX:Q2e,curveMonotoneY:Z2e,curveNatural:eke,curveStep:tke,curveStepAfter:nke,curveStepBefore:rke},My=function(e){return e.x===+e.x&&e.y===+e.y},up=function(e){return e.x},dp=function(e){return e.y},AEe=function(e,r){if(tr(e))return e;var n="curve".concat(m1(e));return(n==="curveMonotone"||n==="curveBump")&&r?AH["".concat(n).concat(r==="vertical"?"Y":"X")]:AH[n]||g1},OEe=function(e){var r=e.type,n=r===void 0?"linear":r,s=e.points,i=s===void 0?[]:s,o=e.baseLine,l=e.layout,c=e.connectNulls,d=c===void 0?!1:c,h=AEe(n,l),m=d?i.filter(function(j){return My(j)}):i,x;if(Array.isArray(o)){var y=d?o.filter(function(j){return My(j)}):o,w=m.map(function(j,v){return MH(MH({},j),{},{base:y[v]})});return l==="vertical"?x=vy().y(dp).x1(up).x0(function(j){return j.base.x}):x=vy().x(up).y1(dp).y0(function(j){return j.base.y}),x.defined(My).curve(h),x(w)}return l==="vertical"&&yt(o)?x=vy().y(dp).x1(up).x0(o):yt(o)?x=vy().x(up).y1(dp).y0(o):x=cK().x(up).y(dp),x.defined(My).curve(h),x(m)},nw=function(e){var r=e.className,n=e.points,s=e.path,i=e.pathRef;if((!n||!n.length)&&!s)return null;var o=n&&n.length?OEe(e):s;return g.createElement("path",MM({},Yt(e,!1),Av(e),{className:Ht("recharts-curve",r),d:o,ref:i}))},UT={exports:{}},GT,OH;function EEe(){if(OH)return GT;OH=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return GT=t,GT}var YT,EH;function DEe(){if(EH)return YT;EH=1;var t=EEe();function e(){}function r(){}return r.resetWarningCache=e,YT=function(){function n(o,l,c,d,h,m){if(m!==t){var x=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw x.name="Invariant Violation",x}}n.isRequired=n;function s(){return n}var i={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:s,element:n,elementType:n,instanceOf:s,node:n,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:r,resetWarningCache:e};return i.PropTypes=i,i},YT}var DH;function PEe(){return DH||(DH=1,UT.exports=DEe()()),UT.exports}var REe=PEe();const Ur=$r(REe);var IEe=Object.getOwnPropertyNames,LEe=Object.getOwnPropertySymbols,$Ee=Object.prototype.hasOwnProperty;function PH(t,e){return function(n,s,i){return t(n,s,i)&&e(n,s,i)}}function Ay(t){return function(r,n,s){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,s);var i=s.cache,o=i.get(r),l=i.get(n);if(o&&l)return o===n&&l===r;i.set(r,n),i.set(n,r);var c=t(r,n,s);return i.delete(r),i.delete(n),c}}function FEe(t){return t!=null?t[Symbol.toStringTag]:void 0}function RH(t){return IEe(t).concat(LEe(t))}var HEe=Object.hasOwn||(function(t,e){return $Ee.call(t,e)});function Sd(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var BEe="__v",zEe="__o",VEe="_owner",IH=Object.getOwnPropertyDescriptor,LH=Object.keys;function WEe(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function qEe(t,e){return Sd(t.getTime(),e.getTime())}function UEe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function GEe(t,e){return t===e}function $H(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var s=new Array(n),i=t.entries(),o,l,c=0;(o=i.next())&&!o.done;){for(var d=e.entries(),h=!1,m=0;(l=d.next())&&!l.done;){if(s[m]){m++;continue}var x=o.value,y=l.value;if(r.equals(x[0],y[0],c,m,t,e,r)&&r.equals(x[1],y[1],x[0],y[0],t,e,r)){h=s[m]=!0;break}m++}if(!h)return!1;c++}return!0}var YEe=Sd;function KEe(t,e,r){var n=LH(t),s=n.length;if(LH(e).length!==s)return!1;for(;s-- >0;)if(!fJ(t,e,r,n[s]))return!1;return!0}function fp(t,e,r){var n=RH(t),s=n.length;if(RH(e).length!==s)return!1;for(var i,o,l;s-- >0;)if(i=n[s],!fJ(t,e,r,i)||(o=IH(t,i),l=IH(e,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function XEe(t,e){return Sd(t.valueOf(),e.valueOf())}function JEe(t,e){return t.source===e.source&&t.flags===e.flags}function FH(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var s=new Array(n),i=t.values(),o,l;(o=i.next())&&!o.done;){for(var c=e.values(),d=!1,h=0;(l=c.next())&&!l.done;){if(!s[h]&&r.equals(o.value,l.value,o.value,l.value,t,e,r)){d=s[h]=!0;break}h++}if(!d)return!1}return!0}function QEe(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function ZEe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function fJ(t,e,r,n){return(n===VEe||n===zEe||n===BEe)&&(t.$$typeof||e.$$typeof)?!0:HEe(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var eDe="[object Arguments]",tDe="[object Boolean]",rDe="[object Date]",nDe="[object Error]",aDe="[object Map]",sDe="[object Number]",iDe="[object Object]",oDe="[object RegExp]",lDe="[object Set]",cDe="[object String]",uDe="[object URL]",dDe=Array.isArray,HH=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,BH=Object.assign,fDe=Object.prototype.toString.call.bind(Object.prototype.toString);function hDe(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,s=t.areFunctionsEqual,i=t.areMapsEqual,o=t.areNumbersEqual,l=t.areObjectsEqual,c=t.arePrimitiveWrappersEqual,d=t.areRegExpsEqual,h=t.areSetsEqual,m=t.areTypedArraysEqual,x=t.areUrlsEqual,y=t.unknownTagComparators;return function(j,v,N){if(j===v)return!0;if(j==null||v==null)return!1;var T=typeof j;if(T!==typeof v)return!1;if(T!=="object")return T==="number"?o(j,v,N):T==="function"?s(j,v,N):!1;var S=j.constructor;if(S!==v.constructor)return!1;if(S===Object)return l(j,v,N);if(dDe(j))return e(j,v,N);if(HH!=null&&HH(j))return m(j,v,N);if(S===Date)return r(j,v,N);if(S===RegExp)return d(j,v,N);if(S===Map)return i(j,v,N);if(S===Set)return h(j,v,N);var O=fDe(j);if(O===rDe)return r(j,v,N);if(O===oDe)return d(j,v,N);if(O===aDe)return i(j,v,N);if(O===lDe)return h(j,v,N);if(O===iDe)return typeof j.then!="function"&&typeof v.then!="function"&&l(j,v,N);if(O===uDe)return x(j,v,N);if(O===nDe)return n(j,v,N);if(O===eDe)return l(j,v,N);if(O===tDe||O===sDe||O===cDe)return c(j,v,N);if(y){var _=y[O];if(!_){var A=FEe(j);A&&(_=y[A])}if(_)return _(j,v,N)}return!1}}function mDe(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,s={areArraysEqual:n?fp:WEe,areDatesEqual:qEe,areErrorsEqual:UEe,areFunctionsEqual:GEe,areMapsEqual:n?PH($H,fp):$H,areNumbersEqual:YEe,areObjectsEqual:n?fp:KEe,arePrimitiveWrappersEqual:XEe,areRegExpsEqual:JEe,areSetsEqual:n?PH(FH,fp):FH,areTypedArraysEqual:n?fp:QEe,areUrlsEqual:ZEe,unknownTagComparators:void 0};if(r&&(s=BH({},s,r(s))),e){var i=Ay(s.areArraysEqual),o=Ay(s.areMapsEqual),l=Ay(s.areObjectsEqual),c=Ay(s.areSetsEqual);s=BH({},s,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return s}function pDe(t){return function(e,r,n,s,i,o,l){return t(e,r,l)}}function gDe(t){var e=t.circular,r=t.comparator,n=t.createState,s=t.equals,i=t.strict;if(n)return function(c,d){var h=n(),m=h.cache,x=m===void 0?e?new WeakMap:void 0:m,y=h.meta;return r(c,d,{cache:x,equals:s,meta:y,strict:i})};if(e)return function(c,d){return r(c,d,{cache:new WeakMap,equals:s,meta:void 0,strict:i})};var o={cache:void 0,equals:s,meta:void 0,strict:i};return function(c,d){return r(c,d,o)}}var xDe=Qc();Qc({strict:!0});Qc({circular:!0});Qc({circular:!0,strict:!0});Qc({createInternalComparator:function(){return Sd}});Qc({strict:!0,createInternalComparator:function(){return Sd}});Qc({circular:!0,createInternalComparator:function(){return Sd}});Qc({circular:!0,createInternalComparator:function(){return Sd},strict:!0});function Qc(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,s=t.createState,i=t.strict,o=i===void 0?!1:i,l=mDe(t),c=hDe(l),d=n?n(c):pDe(c);return gDe({circular:r,comparator:c,createState:s,equals:d,strict:o})}function yDe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function zH(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function s(i){r<0&&(r=i),i-r>e?(t(i),r=-1):yDe(s)};requestAnimationFrame(n)}function AM(t){"@babel/helpers - typeof";return AM=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},AM(t)}function bDe(t){return SDe(t)||jDe(t)||wDe(t)||vDe()}function vDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wDe(t,e){if(t){if(typeof t=="string")return VH(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return VH(t,e)}}function VH(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function jDe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function SDe(t){if(Array.isArray(t))return t}function NDe(){var t={},e=function(){return null},r=!1,n=function s(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,l=bDe(o),c=l[0],d=l.slice(1);if(typeof c=="number"){zH(s.bind(null,d),c);return}s(c),zH(s.bind(null,d));return}AM(i)==="object"&&(t=i,e(t)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return e=i,function(){e=function(){return null}}}}}function H0(t){"@babel/helpers - typeof";return H0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},H0(t)}function WH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function qH(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WH(Object(r),!0).forEach(function(n){hJ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hJ(t,e,r){return e=kDe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kDe(t){var e=CDe(t,"string");return H0(e)==="symbol"?e:String(e)}function CDe(t,e){if(H0(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(H0(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var TDe=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,s){return n.filter(function(i){return s.includes(i)})})},_De=function(e){return e},MDe=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Wp=function(e,r){return Object.keys(r).reduce(function(n,s){return qH(qH({},n),{},hJ({},s,e(s,r[s])))},{})},UH=function(e,r,n){return e.map(function(s){return"".concat(MDe(s)," ").concat(r,"ms ").concat(n)}).join(",")};function ADe(t,e){return DDe(t)||EDe(t,e)||mJ(t,e)||ODe()}function ODe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EDe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(h){d=!0,s=h}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function DDe(t){if(Array.isArray(t))return t}function PDe(t){return LDe(t)||IDe(t)||mJ(t)||RDe()}function RDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mJ(t,e){if(t){if(typeof t=="string")return OM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return OM(t,e)}}function IDe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function LDe(t){if(Array.isArray(t))return OM(t)}function OM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var aw=1e-4,pJ=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},gJ=function(e,r){return e.map(function(n,s){return n*Math.pow(r,s)}).reduce(function(n,s){return n+s})},GH=function(e,r){return function(n){var s=pJ(e,r);return gJ(s,n)}},$De=function(e,r){return function(n){var s=pJ(e,r),i=[].concat(PDe(s.map(function(o,l){return o*l}).slice(1)),[0]);return gJ(i,n)}},YH=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var s=r[0],i=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":s=0,i=0,o=1,l=1;break;case"ease":s=.25,i=.1,o=.25,l=1;break;case"ease-in":s=.42,i=0,o=1,l=1;break;case"ease-out":s=.42,i=0,o=.58,l=1;break;case"ease-in-out":s=0,i=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var d=c[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),h=ADe(d,4);s=h[0],i=h[1],o=h[2],l=h[3]}}}var m=GH(s,o),x=GH(i,l),y=$De(s,o),w=function(N){return N>1?1:N<0?0:N},j=function(N){for(var T=N>1?1:N,S=T,O=0;O<8;++O){var _=m(S)-T,A=y(S);if(Math.abs(_-T)<aw||A<aw)return x(S);S=w(S-_/A)}return x(S)};return j.isStepper=!1,j},FDe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,s=e.damping,i=s===void 0?8:s,o=e.dt,l=o===void 0?17:o,c=function(h,m,x){var y=-(h-m)*n,w=x*i,j=x+(y-w)*l/1e3,v=x*l/1e3+h;return Math.abs(v-m)<aw&&Math.abs(j)<aw?[m,0]:[v,j]};return c.isStepper=!0,c.dt=l,c},HDe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var s=r[0];if(typeof s=="string")switch(s){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return YH(s);case"spring":return FDe();default:if(s.split("(")[0]==="cubic-bezier")return YH(s)}return typeof s=="function"?s:null};function B0(t){"@babel/helpers - typeof";return B0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},B0(t)}function KH(t){return VDe(t)||zDe(t)||xJ(t)||BDe()}function BDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zDe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function VDe(t){if(Array.isArray(t))return DM(t)}function XH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Ra(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XH(Object(r),!0).forEach(function(n){EM(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function EM(t,e,r){return e=WDe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function WDe(t){var e=qDe(t,"string");return B0(e)==="symbol"?e:String(e)}function qDe(t,e){if(B0(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(B0(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function UDe(t,e){return KDe(t)||YDe(t,e)||xJ(t,e)||GDe()}function GDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xJ(t,e){if(t){if(typeof t=="string")return DM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return DM(t,e)}}function DM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function YDe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(h){d=!0,s=h}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function KDe(t){if(Array.isArray(t))return t}var sw=function(e,r,n){return e+(r-e)*n},PM=function(e){var r=e.from,n=e.to;return r!==n},XDe=function t(e,r,n){var s=Wp(function(i,o){if(PM(o)){var l=e(o.from,o.to,o.velocity),c=UDe(l,2),d=c[0],h=c[1];return Ra(Ra({},o),{},{from:d,velocity:h})}return o},r);return n<1?Wp(function(i,o){return PM(o)?Ra(Ra({},o),{},{velocity:sw(o.velocity,s[i].velocity,n),from:sw(o.from,s[i].from,n)}):o},r):t(e,s,n-1)};const JDe=(function(t,e,r,n,s){var i=TDe(t,e),o=i.reduce(function(v,N){return Ra(Ra({},v),{},EM({},N,[t[N],e[N]]))},{}),l=i.reduce(function(v,N){return Ra(Ra({},v),{},EM({},N,{from:t[N],velocity:0,to:e[N]}))},{}),c=-1,d,h,m=function(){return null},x=function(){return Wp(function(N,T){return T.from},l)},y=function(){return!Object.values(l).filter(PM).length},w=function(N){d||(d=N);var T=N-d,S=T/r.dt;l=XDe(r,l,S),s(Ra(Ra(Ra({},t),e),x())),d=N,y()||(c=requestAnimationFrame(m))},j=function(N){h||(h=N);var T=(N-h)/n,S=Wp(function(_,A){return sw.apply(void 0,KH(A).concat([r(T)]))},o);if(s(Ra(Ra(Ra({},t),e),S)),T<1)c=requestAnimationFrame(m);else{var O=Wp(function(_,A){return sw.apply(void 0,KH(A).concat([r(1)]))},o);s(Ra(Ra(Ra({},t),e),O))}};return m=r.isStepper?w:j,function(){return requestAnimationFrame(m),function(){cancelAnimationFrame(c)}}});function gh(t){"@babel/helpers - typeof";return gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gh(t)}var QDe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function ZDe(t,e){if(t==null)return{};var r=ePe(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ePe(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,i;for(i=0;i<n.length;i++)s=n[i],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function KT(t){return aPe(t)||nPe(t)||rPe(t)||tPe()}function tPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rPe(t,e){if(t){if(typeof t=="string")return RM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return RM(t,e)}}function nPe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function aPe(t){if(Array.isArray(t))return RM(t)}function RM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function JH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Pi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?JH(Object(r),!0).forEach(function(n){kp(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):JH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kp(t,e,r){return e=yJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iPe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,yJ(n.key),n)}}function oPe(t,e,r){return e&&iPe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function yJ(t){var e=lPe(t,"string");return gh(e)==="symbol"?e:String(e)}function lPe(t,e){if(gh(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gh(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&IM(t,e)}function IM(t,e){return IM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},IM(t,e)}function uPe(t){var e=dPe();return function(){var n=iw(t),s;if(e){var i=iw(this).constructor;s=Reflect.construct(n,arguments,i)}else s=n.apply(this,arguments);return LM(this,s)}}function LM(t,e){if(e&&(gh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $M(t)}function $M(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dPe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function iw(t){return iw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},iw(t)}var Oo=(function(t){cPe(r,t);var e=uPe(r);function r(n,s){var i;sPe(this,r),i=e.call(this,n,s);var o=i.props,l=o.isActive,c=o.attributeName,d=o.from,h=o.to,m=o.steps,x=o.children,y=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind($M(i)),i.changeStyle=i.changeStyle.bind($M(i)),!l||y<=0)return i.state={style:{}},typeof x=="function"&&(i.state={style:h}),LM(i);if(m&&m.length)i.state={style:m[0].style};else if(d){if(typeof x=="function")return i.state={style:d},LM(i);i.state={style:c?kp({},c,d):d}}else i.state={style:{}};return i}return oPe(r,[{key:"componentDidMount",value:function(){var s=this.props,i=s.isActive,o=s.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(s){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,d=i.shouldReAnimate,h=i.to,m=i.from,x=this.state.style;if(l){if(!o){var y={style:c?kp({},c,h):h};this.state&&x&&(c&&x[c]!==h||!c&&x!==h)&&this.setState(y);return}if(!(xDe(s.to,h)&&s.canBegin&&s.isActive)){var w=!s.canBegin||!s.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var j=w||d?m:s.to;if(this.state&&x){var v={style:c?kp({},c,j):j};(c&&x[c]!==j||!c&&x!==j)&&this.setState(v)}this.runAnimation(Pi(Pi({},this.props),{},{from:j,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var s=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),s&&s()}},{key:"handleStyleChange",value:function(s){this.changeStyle(s)}},{key:"changeStyle",value:function(s){this.mounted&&this.setState({style:s})}},{key:"runJSAnimation",value:function(s){var i=this,o=s.from,l=s.to,c=s.duration,d=s.easing,h=s.begin,m=s.onAnimationEnd,x=s.onAnimationStart,y=JDe(o,l,HDe(d),c,this.changeStyle),w=function(){i.stopJSAnimation=y()};this.manager.start([x,h,w,c,m])}},{key:"runStepAnimation",value:function(s){var i=this,o=s.steps,l=s.begin,c=s.onAnimationStart,d=o[0],h=d.style,m=d.duration,x=m===void 0?0:m,y=function(j,v,N){if(N===0)return j;var T=v.duration,S=v.easing,O=S===void 0?"ease":S,_=v.style,A=v.properties,E=v.onAnimationEnd,D=N>0?o[N-1]:v,$=A||Object.keys(_);if(typeof O=="function"||O==="spring")return[].concat(KT(j),[i.runJSAnimation.bind(i,{from:D.style,to:_,duration:T,easing:O}),T]);var I=UH($,T,O),L=Pi(Pi(Pi({},D.style),_),{},{transition:I});return[].concat(KT(j),[L,T,E]).filter(_De)};return this.manager.start([c].concat(KT(o.reduce(y,[h,Math.max(x,l)])),[s.onAnimationEnd]))}},{key:"runAnimation",value:function(s){this.manager||(this.manager=NDe());var i=s.begin,o=s.duration,l=s.attributeName,c=s.to,d=s.easing,h=s.onAnimationStart,m=s.onAnimationEnd,x=s.steps,y=s.children,w=this.manager;if(this.unSubscribe=w.subscribe(this.handleStyleChange),typeof d=="function"||typeof y=="function"||d==="spring"){this.runJSAnimation(s);return}if(x.length>1){this.runStepAnimation(s);return}var j=l?kp({},l,c):c,v=UH(Object.keys(j),o,d);w.start([h,i,Pi(Pi({},j),{},{transition:v}),o,m])}},{key:"render",value:function(){var s=this.props,i=s.children;s.begin;var o=s.duration;s.attributeName,s.easing;var l=s.isActive;s.steps,s.from,s.to,s.canBegin,s.onAnimationEnd,s.shouldReAnimate,s.onAnimationReStart;var c=ZDe(s,QDe),d=g.Children.count(i),h=this.state.style;if(typeof i=="function")return i(h);if(!l||d===0||o<=0)return i;var m=function(y){var w=y.props,j=w.style,v=j===void 0?{}:j,N=w.className,T=g.cloneElement(y,Pi(Pi({},c),{},{style:Pi(Pi({},v),h),className:N}));return T};return d===1?m(g.Children.only(i)):J.createElement("div",null,g.Children.map(i,function(x){return m(x)}))}}]),r})(g.PureComponent);Oo.displayName="Animate";Oo.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Oo.propTypes={from:Ur.oneOfType([Ur.object,Ur.string]),to:Ur.oneOfType([Ur.object,Ur.string]),attributeName:Ur.string,duration:Ur.number,begin:Ur.number,easing:Ur.oneOfType([Ur.string,Ur.func]),steps:Ur.arrayOf(Ur.shape({duration:Ur.number.isRequired,style:Ur.object.isRequired,easing:Ur.oneOfType([Ur.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Ur.func]),properties:Ur.arrayOf("string"),onAnimationEnd:Ur.func})),children:Ur.oneOfType([Ur.node,Ur.func]),isActive:Ur.bool,canBegin:Ur.bool,onAnimationEnd:Ur.func,shouldReAnimate:Ur.bool,onAnimationStart:Ur.func,onAnimationReStart:Ur.func};function z0(t){"@babel/helpers - typeof";return z0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},z0(t)}function ow(){return ow=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ow.apply(this,arguments)}function fPe(t,e){return gPe(t)||pPe(t,e)||mPe(t,e)||hPe()}function hPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mPe(t,e){if(t){if(typeof t=="string")return QH(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return QH(t,e)}}function QH(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function pPe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(h){d=!0,s=h}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function gPe(t){if(Array.isArray(t))return t}function ZH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function eB(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ZH(Object(r),!0).forEach(function(n){xPe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ZH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xPe(t,e,r){return e=yPe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yPe(t){var e=bPe(t,"string");return z0(e)=="symbol"?e:e+""}function bPe(t,e){if(z0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(z0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tB=function(e,r,n,s,i){var o=Math.min(Math.abs(n)/2,Math.abs(s)/2),l=s>=0?1:-1,c=n>=0?1:-1,d=s>=0&&n>=0||s<0&&n<0?1:0,h;if(o>0&&i instanceof Array){for(var m=[0,0,0,0],x=0,y=4;x<y;x++)m[x]=i[x]>o?o:i[x];h="M".concat(e,",").concat(r+l*m[0]),m[0]>0&&(h+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(d,",").concat(e+c*m[0],",").concat(r)),h+="L ".concat(e+n-c*m[1],",").concat(r),m[1]>0&&(h+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(d,`,
        `).concat(e+n,",").concat(r+l*m[1])),h+="L ".concat(e+n,",").concat(r+s-l*m[2]),m[2]>0&&(h+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(d,`,
        `).concat(e+n-c*m[2],",").concat(r+s)),h+="L ".concat(e+c*m[3],",").concat(r+s),m[3]>0&&(h+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(d,`,
        `).concat(e,",").concat(r+s-l*m[3])),h+="Z"}else if(o>0&&i===+i&&i>0){var w=Math.min(o,i);h="M ".concat(e,",").concat(r+l*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(d,",").concat(e+c*w,",").concat(r,`
            L `).concat(e+n-c*w,",").concat(r,`
            A `).concat(w,",").concat(w,",0,0,").concat(d,",").concat(e+n,",").concat(r+l*w,`
            L `).concat(e+n,",").concat(r+s-l*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(d,",").concat(e+n-c*w,",").concat(r+s,`
            L `).concat(e+c*w,",").concat(r+s,`
            A `).concat(w,",").concat(w,",0,0,").concat(d,",").concat(e,",").concat(r+s-l*w," Z")}else h="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(s," h ").concat(-n," Z");return h},vPe=function(e,r){if(!e||!r)return!1;var n=e.x,s=e.y,i=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var d=Math.min(i,i+l),h=Math.max(i,i+l),m=Math.min(o,o+c),x=Math.max(o,o+c);return n>=d&&n<=h&&s>=m&&s<=x}return!1},wPe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},eD=function(e){var r=eB(eB({},wPe),e),n=g.useRef(),s=g.useState(-1),i=fPe(s,2),o=i[0],l=i[1];g.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var O=n.current.getTotalLength();O&&l(O)}catch{}},[]);var c=r.x,d=r.y,h=r.width,m=r.height,x=r.radius,y=r.className,w=r.animationEasing,j=r.animationDuration,v=r.animationBegin,N=r.isAnimationActive,T=r.isUpdateAnimationActive;if(c!==+c||d!==+d||h!==+h||m!==+m||h===0||m===0)return null;var S=Ht("recharts-rectangle",y);return T?J.createElement(Oo,{canBegin:o>0,from:{width:h,height:m,x:c,y:d},to:{width:h,height:m,x:c,y:d},duration:j,animationEasing:w,isActive:T},function(O){var _=O.width,A=O.height,E=O.x,D=O.y;return J.createElement(Oo,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:j,isActive:N,easing:w},J.createElement("path",ow({},Yt(r,!0),{className:S,d:tB(E,D,_,A,x),ref:n})))}):J.createElement("path",ow({},Yt(r,!0),{className:S,d:tB(c,d,h,m,x)}))},jPe=["points","className","baseLinePoints","connectNulls"];function Cf(){return Cf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Cf.apply(this,arguments)}function SPe(t,e){if(t==null)return{};var r=NPe(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function NPe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function rB(t){return _Pe(t)||TPe(t)||CPe(t)||kPe()}function kPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CPe(t,e){if(t){if(typeof t=="string")return FM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return FM(t,e)}}function TPe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _Pe(t){if(Array.isArray(t))return FM(t)}function FM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var nB=function(e){return e&&e.x===+e.x&&e.y===+e.y},MPe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){nB(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),nB(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},qp=function(e,r){var n=MPe(e);r&&(n=[n.reduce(function(i,o){return[].concat(rB(i),rB(o))},[])]);var s=n.map(function(i){return i.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(s,"Z"):s},APe=function(e,r,n){var s=qp(e,n);return"".concat(s.slice(-1)==="Z"?s.slice(0,-1):s,"L").concat(qp(r.reverse(),n).slice(1))},OPe=function(e){var r=e.points,n=e.className,s=e.baseLinePoints,i=e.connectNulls,o=SPe(e,jPe);if(!r||!r.length)return null;var l=Ht("recharts-polygon",n);if(s&&s.length){var c=o.stroke&&o.stroke!=="none",d=APe(r,s,i);return J.createElement("g",{className:l},J.createElement("path",Cf({},Yt(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",stroke:"none",d})),c?J.createElement("path",Cf({},Yt(o,!0),{fill:"none",d:qp(r,i)})):null,c?J.createElement("path",Cf({},Yt(o,!0),{fill:"none",d:qp(s,i)})):null)}var h=qp(r,i);return J.createElement("path",Cf({},Yt(o,!0),{fill:h.slice(-1)==="Z"?o.fill:"none",className:l,d:h}))};function HM(){return HM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},HM.apply(this,arguments)}var E1=function(e){var r=e.cx,n=e.cy,s=e.r,i=e.className,o=Ht("recharts-dot",i);return r===+r&&n===+n&&s===+s?g.createElement("circle",HM({},Yt(e,!1),Av(e),{className:o,cx:r,cy:n,r:s})):null};function V0(t){"@babel/helpers - typeof";return V0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},V0(t)}var EPe=["x","y","top","left","width","height","className"];function BM(){return BM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},BM.apply(this,arguments)}function aB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function DPe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aB(Object(r),!0).forEach(function(n){PPe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function PPe(t,e,r){return e=RPe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function RPe(t){var e=IPe(t,"string");return V0(e)=="symbol"?e:e+""}function IPe(t,e){if(V0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(V0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function LPe(t,e){if(t==null)return{};var r=$Pe(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function $Pe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var FPe=function(e,r,n,s,i,o){return"M".concat(e,",").concat(i,"v").concat(s,"M").concat(o,",").concat(r,"h").concat(n)},HPe=function(e){var r=e.x,n=r===void 0?0:r,s=e.y,i=s===void 0?0:s,o=e.top,l=o===void 0?0:o,c=e.left,d=c===void 0?0:c,h=e.width,m=h===void 0?0:h,x=e.height,y=x===void 0?0:x,w=e.className,j=LPe(e,EPe),v=DPe({x:n,y:i,top:l,left:d,width:m,height:y},j);return!yt(n)||!yt(i)||!yt(m)||!yt(y)||!yt(l)||!yt(d)?null:J.createElement("path",BM({},Yt(v,!0),{className:Ht("recharts-cross",w),d:FPe(n,i,m,y,l,d)}))},XT,sB;function BPe(){if(sB)return XT;sB=1;var t=T1(),e=DX(),r=Io();function n(s,i){return s&&s.length?t(s,r(i,2),e):void 0}return XT=n,XT}var zPe=BPe();const VPe=$r(zPe);var JT,iB;function WPe(){if(iB)return JT;iB=1;var t=T1(),e=Io(),r=PX();function n(s,i){return s&&s.length?t(s,e(i,2),r):void 0}return JT=n,JT}var qPe=WPe();const UPe=$r(qPe);var GPe=["cx","cy","angle","ticks","axisLine"],YPe=["ticks","tick","angle","tickFormatter","stroke"];function xh(t){"@babel/helpers - typeof";return xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xh(t)}function Up(){return Up=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Up.apply(this,arguments)}function oB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function vu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oB(Object(r),!0).forEach(function(n){D1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lB(t,e){if(t==null)return{};var r=KPe(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function KPe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function XPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cB(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,vJ(n.key),n)}}function JPe(t,e,r){return e&&cB(t.prototype,e),r&&cB(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function QPe(t,e,r){return e=lw(e),ZPe(t,bJ()?Reflect.construct(e,r||[],lw(t).constructor):e.apply(t,r))}function ZPe(t,e){if(e&&(xh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return e4e(t)}function e4e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bJ=function(){return!!t})()}function lw(t){return lw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},lw(t)}function t4e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zM(t,e)}function zM(t,e){return zM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},zM(t,e)}function D1(t,e,r){return e=vJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vJ(t){var e=r4e(t,"string");return xh(e)=="symbol"?e:e+""}function r4e(t,e){if(xh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var P1=(function(t){function e(){return XPe(this,e),QPe(this,e,arguments)}return t4e(e,t),JPe(e,[{key:"getTickValueCoord",value:function(n){var s=n.coordinate,i=this.props,o=i.angle,l=i.cx,c=i.cy;return gn(l,c,s,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,s;switch(n){case"left":s="end";break;case"right":s="start";break;default:s="middle";break}return s}},{key:"getViewBox",value:function(){var n=this.props,s=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=VPe(l,function(h){return h.coordinate||0}),d=UPe(l,function(h){return h.coordinate||0});return{cx:s,cy:i,startAngle:o,endAngle:o,innerRadius:d.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=n.axisLine,d=lB(n,GPe),h=l.reduce(function(w,j){return[Math.min(w[0],j.coordinate),Math.max(w[1],j.coordinate)]},[1/0,-1/0]),m=gn(s,i,h[0],o),x=gn(s,i,h[1],o),y=vu(vu(vu({},Yt(d,!1)),{},{fill:"none"},Yt(c,!1)),{},{x1:m.x,y1:m.y,x2:x.x,y2:x.y});return J.createElement("line",Up({className:"recharts-polar-radius-axis-line"},y))}},{key:"renderTicks",value:function(){var n=this,s=this.props,i=s.ticks,o=s.tick,l=s.angle,c=s.tickFormatter,d=s.stroke,h=lB(s,YPe),m=this.getTickTextAnchor(),x=Yt(h,!1),y=Yt(o,!1),w=i.map(function(j,v){var N=n.getTickValueCoord(j),T=vu(vu(vu(vu({textAnchor:m,transform:"rotate(".concat(90-l,", ").concat(N.x,", ").concat(N.y,")")},x),{},{stroke:"none",fill:d},y),{},{index:v},N),{},{payload:j});return J.createElement(Ir,Up({className:Ht("recharts-polar-radius-axis-tick",lJ(o)),key:"tick-".concat(j.coordinate)},dd(n.props,j,v)),e.renderTickItem(o,T,c?c(j.value,v):j.value))});return J.createElement(Ir,{className:"recharts-polar-radius-axis-ticks"},w)}},{key:"render",value:function(){var n=this.props,s=n.ticks,i=n.axisLine,o=n.tick;return!s||!s.length?null:J.createElement(Ir,{className:Ht("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),Na.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,s,i){var o;return J.isValidElement(n)?o=J.cloneElement(n,s):tr(n)?o=n(s):o=J.createElement(fd,Up({},s,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])})(g.PureComponent);D1(P1,"displayName","PolarRadiusAxis");D1(P1,"axisType","radiusAxis");D1(P1,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function yh(t){"@babel/helpers - typeof";return yh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yh(t)}function _u(){return _u=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_u.apply(this,arguments)}function uB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function wu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uB(Object(r),!0).forEach(function(n){R1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function n4e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dB(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,jJ(n.key),n)}}function a4e(t,e,r){return e&&dB(t.prototype,e),r&&dB(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function s4e(t,e,r){return e=cw(e),i4e(t,wJ()?Reflect.construct(e,r||[],cw(t).constructor):e.apply(t,r))}function i4e(t,e){if(e&&(yh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return o4e(t)}function o4e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wJ=function(){return!!t})()}function cw(t){return cw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},cw(t)}function l4e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&VM(t,e)}function VM(t,e){return VM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},VM(t,e)}function R1(t,e,r){return e=jJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jJ(t){var e=c4e(t,"string");return yh(e)=="symbol"?e:e+""}function c4e(t,e){if(yh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(yh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var u4e=Math.PI/180,fB=1e-5,I1=(function(t){function e(){return n4e(this,e),s4e(this,e,arguments)}return l4e(e,t),a4e(e,[{key:"getTickLineCoord",value:function(n){var s=this.props,i=s.cx,o=s.cy,l=s.radius,c=s.orientation,d=s.tickSize,h=d||8,m=gn(i,o,l,n.coordinate),x=gn(i,o,l+(c==="inner"?-1:1)*h,n.coordinate);return{x1:m.x,y1:m.y,x2:x.x,y2:x.y}}},{key:"getTickTextAnchor",value:function(n){var s=this.props.orientation,i=Math.cos(-n.coordinate*u4e),o;return i>fB?o=s==="outer"?"start":"end":i<-fB?o=s==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.cx,i=n.cy,o=n.radius,l=n.axisLine,c=n.axisLineType,d=wu(wu({},Yt(this.props,!1)),{},{fill:"none"},Yt(l,!1));if(c==="circle")return J.createElement(E1,_u({className:"recharts-polar-angle-axis-line"},d,{cx:s,cy:i,r:o}));var h=this.props.ticks,m=h.map(function(x){return gn(s,i,o,x.coordinate)});return J.createElement(OPe,_u({className:"recharts-polar-angle-axis-line"},d,{points:m}))}},{key:"renderTicks",value:function(){var n=this,s=this.props,i=s.ticks,o=s.tick,l=s.tickLine,c=s.tickFormatter,d=s.stroke,h=Yt(this.props,!1),m=Yt(o,!1),x=wu(wu({},h),{},{fill:"none"},Yt(l,!1)),y=i.map(function(w,j){var v=n.getTickLineCoord(w),N=n.getTickTextAnchor(w),T=wu(wu(wu({textAnchor:N},h),{},{stroke:"none",fill:d},m),{},{index:j,payload:w,x:v.x2,y:v.y2});return J.createElement(Ir,_u({className:Ht("recharts-polar-angle-axis-tick",lJ(o)),key:"tick-".concat(w.coordinate)},dd(n.props,w,j)),l&&J.createElement("line",_u({className:"recharts-polar-angle-axis-tick-line"},x,v)),o&&e.renderTickItem(o,T,c?c(w.value,j):w.value))});return J.createElement(Ir,{className:"recharts-polar-angle-axis-ticks"},y)}},{key:"render",value:function(){var n=this.props,s=n.ticks,i=n.radius,o=n.axisLine;return i<=0||!s||!s.length?null:J.createElement(Ir,{className:Ht("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,s,i){var o;return J.isValidElement(n)?o=J.cloneElement(n,s):tr(n)?o=n(s):o=J.createElement(fd,_u({},s,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])})(g.PureComponent);R1(I1,"displayName","PolarAngleAxis");R1(I1,"axisType","angleAxis");R1(I1,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var QT,hB;function d4e(){if(hB)return QT;hB=1;var t=EK(),e=t(Object.getPrototypeOf,Object);return QT=e,QT}var ZT,mB;function f4e(){if(mB)return ZT;mB=1;var t=Bl(),e=d4e(),r=zl(),n="[object Object]",s=Function.prototype,i=Object.prototype,o=s.toString,l=i.hasOwnProperty,c=o.call(Object);function d(h){if(!r(h)||t(h)!=n)return!1;var m=e(h);if(m===null)return!0;var x=l.call(m,"constructor")&&m.constructor;return typeof x=="function"&&x instanceof x&&o.call(x)==c}return ZT=d,ZT}var h4e=f4e();const m4e=$r(h4e);var e5,pB;function p4e(){if(pB)return e5;pB=1;var t=Bl(),e=zl(),r="[object Boolean]";function n(s){return s===!0||s===!1||e(s)&&t(s)==r}return e5=n,e5}var g4e=p4e();const x4e=$r(g4e);function W0(t){"@babel/helpers - typeof";return W0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},W0(t)}function uw(){return uw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},uw.apply(this,arguments)}function y4e(t,e){return j4e(t)||w4e(t,e)||v4e(t,e)||b4e()}function b4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v4e(t,e){if(t){if(typeof t=="string")return gB(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gB(t,e)}}function gB(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function w4e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(h){d=!0,s=h}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function j4e(t){if(Array.isArray(t))return t}function xB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function yB(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xB(Object(r),!0).forEach(function(n){S4e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function S4e(t,e,r){return e=N4e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function N4e(t){var e=k4e(t,"string");return W0(e)=="symbol"?e:e+""}function k4e(t,e){if(W0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(W0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bB=function(e,r,n,s,i){var o=n-s,l;return l="M ".concat(e,",").concat(r),l+="L ".concat(e+n,",").concat(r),l+="L ".concat(e+n-o/2,",").concat(r+i),l+="L ".concat(e+n-o/2-s,",").concat(r+i),l+="L ".concat(e,",").concat(r," Z"),l},C4e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},T4e=function(e){var r=yB(yB({},C4e),e),n=g.useRef(),s=g.useState(-1),i=y4e(s,2),o=i[0],l=i[1];g.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var S=n.current.getTotalLength();S&&l(S)}catch{}},[]);var c=r.x,d=r.y,h=r.upperWidth,m=r.lowerWidth,x=r.height,y=r.className,w=r.animationEasing,j=r.animationDuration,v=r.animationBegin,N=r.isUpdateAnimationActive;if(c!==+c||d!==+d||h!==+h||m!==+m||x!==+x||h===0&&m===0||x===0)return null;var T=Ht("recharts-trapezoid",y);return N?J.createElement(Oo,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:x,x:c,y:d},to:{upperWidth:h,lowerWidth:m,height:x,x:c,y:d},duration:j,animationEasing:w,isActive:N},function(S){var O=S.upperWidth,_=S.lowerWidth,A=S.height,E=S.x,D=S.y;return J.createElement(Oo,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:j,easing:w},J.createElement("path",uw({},Yt(r,!0),{className:T,d:bB(E,D,O,_,A),ref:n})))}):J.createElement("g",null,J.createElement("path",uw({},Yt(r,!0),{className:T,d:bB(c,d,h,m,x)})))},_4e=["option","shapeType","propTransformer","activeClassName","isActive"];function q0(t){"@babel/helpers - typeof";return q0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},q0(t)}function M4e(t,e){if(t==null)return{};var r=A4e(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function A4e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function vB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function dw(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vB(Object(r),!0).forEach(function(n){O4e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function O4e(t,e,r){return e=E4e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function E4e(t){var e=D4e(t,"string");return q0(e)=="symbol"?e:e+""}function D4e(t,e){if(q0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(q0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function P4e(t,e){return dw(dw({},e),t)}function R4e(t,e){return t==="symbols"}function wB(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return J.createElement(eD,r);case"trapezoid":return J.createElement(T4e,r);case"sector":return J.createElement(dJ,r);case"symbols":if(R4e(e))return J.createElement(bE,r);break;default:return null}}function I4e(t){return g.isValidElement(t)?t.props:t}function SJ(t){var e=t.option,r=t.shapeType,n=t.propTransformer,s=n===void 0?P4e:n,i=t.activeClassName,o=i===void 0?"recharts-active-shape":i,l=t.isActive,c=M4e(t,_4e),d;if(g.isValidElement(e))d=g.cloneElement(e,dw(dw({},c),I4e(e)));else if(tr(e))d=e(c);else if(m4e(e)&&!x4e(e)){var h=s(e,c);d=J.createElement(wB,{shapeType:r,elementProps:h})}else{var m=c;d=J.createElement(wB,{shapeType:r,elementProps:m})}return l?J.createElement(Ir,{className:o},d):d}function L1(t,e){return e!=null&&"trapezoids"in t.props}function $1(t,e){return e!=null&&"sectors"in t.props}function U0(t,e){return e!=null&&"points"in t.props}function L4e(t,e){var r,n,s=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,i=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return s&&i}function $4e(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function F4e(t,e){var r=t.x===e.x,n=t.y===e.y,s=t.z===e.z;return r&&n&&s}function H4e(t,e){var r;return L1(t,e)?r=L4e:$1(t,e)?r=$4e:U0(t,e)&&(r=F4e),r}function B4e(t,e){var r;return L1(t,e)?r="trapezoids":$1(t,e)?r="sectors":U0(t,e)&&(r="points"),r}function z4e(t,e){if(L1(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if($1(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return U0(t,e)?e.payload:{}}function V4e(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,s=B4e(r,e),i=z4e(r,e),o=n.filter(function(c,d){var h=kg(i,c),m=r.props[s].filter(function(w){var j=H4e(r,e);return j(w,e)}),x=r.props[s].indexOf(m[m.length-1]),y=d===x;return h&&y}),l=n.indexOf(o[o.length-1]);return l}var cb;function bh(t){"@babel/helpers - typeof";return bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bh(t)}function Tf(){return Tf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Tf.apply(this,arguments)}function jB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function hn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jB(Object(r),!0).forEach(function(n){xi(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function W4e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SB(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,kJ(n.key),n)}}function q4e(t,e,r){return e&&SB(t.prototype,e),r&&SB(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function U4e(t,e,r){return e=fw(e),G4e(t,NJ()?Reflect.construct(e,r||[],fw(t).constructor):e.apply(t,r))}function G4e(t,e){if(e&&(bh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Y4e(t)}function Y4e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function NJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NJ=function(){return!!t})()}function fw(t){return fw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fw(t)}function K4e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&WM(t,e)}function WM(t,e){return WM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},WM(t,e)}function xi(t,e,r){return e=kJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kJ(t){var e=X4e(t,"string");return bh(e)=="symbol"?e:e+""}function X4e(t,e){if(bh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ji=(function(t){function e(r){var n;return W4e(this,e),n=U4e(this,e,[r]),xi(n,"pieRef",null),xi(n,"sectorRefs",[]),xi(n,"id",qh("recharts-pie-")),xi(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),tr(s)&&s()}),xi(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),tr(s)&&s()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return K4e(e,t),q4e(e,[{key:"isActiveIndex",value:function(n){var s=this.props.activeIndex;return Array.isArray(s)?s.indexOf(n)!==-1:n===s}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,l=i.labelLine,c=i.dataKey,d=i.valueKey,h=Yt(this.props,!1),m=Yt(o,!1),x=Yt(l,!1),y=o&&o.offsetRadius||20,w=n.map(function(j,v){var N=(j.startAngle+j.endAngle)/2,T=gn(j.cx,j.cy,j.outerRadius+y,N),S=hn(hn(hn(hn({},h),j),{},{stroke:"none"},m),{},{index:v,textAnchor:e.getTextAnchor(T.x,j.cx)},T),O=hn(hn(hn(hn({},h),j),{},{fill:"none",stroke:j.fill},x),{},{index:v,points:[gn(j.cx,j.cy,j.outerRadius,N),T]}),_=c;return ar(c)&&ar(d)?_="value":ar(c)&&(_=d),J.createElement(Ir,{key:"label-".concat(j.startAngle,"-").concat(j.endAngle,"-").concat(j.midAngle,"-").concat(v)},l&&e.renderLabelLineItem(l,O,"line"),e.renderLabelItem(o,S,pa(j,_)))});return J.createElement(Ir,{className:"recharts-pie-labels"},w)}},{key:"renderSectorsStatically",value:function(n){var s=this,i=this.props,o=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return n.map(function(d,h){if((d==null?void 0:d.startAngle)===0&&(d==null?void 0:d.endAngle)===0&&n.length!==1)return null;var m=s.isActiveIndex(h),x=c&&s.hasActiveIndex()?c:null,y=m?o:x,w=hn(hn({},d),{},{stroke:l?d.fill:d.stroke,tabIndex:-1});return J.createElement(Ir,Tf({ref:function(v){v&&!s.sectorRefs.includes(v)&&s.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},dd(s.props,d,h),{key:"sector-".concat(d==null?void 0:d.startAngle,"-").concat(d==null?void 0:d.endAngle,"-").concat(d.midAngle,"-").concat(h)}),J.createElement(SJ,Tf({option:y,isActive:m,shapeType:"sector"},w)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,s=this.props,i=s.sectors,o=s.isAnimationActive,l=s.animationBegin,c=s.animationDuration,d=s.animationEasing,h=s.animationId,m=this.state,x=m.prevSectors,y=m.prevIsAnimationActive;return J.createElement(Oo,{begin:l,duration:c,isActive:o,easing:d,from:{t:0},to:{t:1},key:"pie-".concat(h,"-").concat(y),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(w){var j=w.t,v=[],N=i&&i[0],T=N.startAngle;return i.forEach(function(S,O){var _=x&&x[O],A=O>0?Gs(S,"paddingAngle",0):0;if(_){var E=Bs(_.endAngle-_.startAngle,S.endAngle-S.startAngle),D=hn(hn({},S),{},{startAngle:T+A,endAngle:T+E(j)+A});v.push(D),T=D.endAngle}else{var $=S.endAngle,I=S.startAngle,L=Bs(0,$-I),R=L(j),z=hn(hn({},S),{},{startAngle:T+A,endAngle:T+R+A});v.push(z),T=z.endAngle}}),J.createElement(Ir,null,n.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(n){var s=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[o].focus(),s.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--s.state.sectorToFocus<0?s.sectorRefs.length-1:s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[l].focus(),s.setState({sectorToFocus:l});break}case"Escape":{s.sectorRefs[s.state.sectorToFocus].blur(),s.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,s=n.sectors,i=n.isAnimationActive,o=this.state.prevSectors;return i&&s&&s.length&&(!o||!kg(o,s))?this.renderSectorsWithAnimation():this.renderSectorsStatically(s)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,s=this.props,i=s.hide,o=s.sectors,l=s.className,c=s.label,d=s.cx,h=s.cy,m=s.innerRadius,x=s.outerRadius,y=s.isAnimationActive,w=this.state.isAnimationFinished;if(i||!o||!o.length||!yt(d)||!yt(h)||!yt(m)||!yt(x))return null;var j=Ht("recharts-pie",l);return J.createElement(Ir,{tabIndex:this.props.rootTabIndex,className:j,ref:function(N){n.pieRef=N}},this.renderSectors(),c&&this.renderLabels(o),Na.renderCallByParent(this.props,null,!1),(!y||w)&&Cl.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return s.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:s.curSectors,isAnimationFinished:!0}:n.sectors!==s.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,s){return n>s?"start":n<s?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,s,i){if(J.isValidElement(n))return J.cloneElement(n,s);if(tr(n))return n(s);var o=Ht("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return J.createElement(nw,Tf({},s,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,s,i){if(J.isValidElement(n))return J.cloneElement(n,s);var o=i;if(tr(n)&&(o=n(s),J.isValidElement(o)))return o;var l=Ht("recharts-pie-label-text",typeof n!="boolean"&&!tr(n)?n.className:"");return J.createElement(fd,Tf({},s,{alignmentBaseline:"middle",className:l}),o)}}])})(g.PureComponent);cb=Ji;xi(Ji,"displayName","Pie");xi(Ji,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!vd.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});xi(Ji,"parseDeltaAngle",function(t,e){var r=is(e-t),n=Math.min(Math.abs(e-t),360);return r*n});xi(Ji,"getRealPieData",function(t){var e=t.data,r=t.children,n=Yt(t,!1),s=Ys(r,Gh);return e&&e.length?e.map(function(i,o){return hn(hn(hn({payload:i},n),i),s&&s[o]&&s[o].props)}):s&&s.length?s.map(function(i){return hn(hn({},n),i.props)}):[]});xi(Ji,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,s=e.width,i=e.height,o=oJ(s,i),l=n+ls(t.cx,s,s/2),c=r+ls(t.cy,i,i/2),d=ls(t.innerRadius,o,0),h=ls(t.outerRadius,o,o*.8),m=t.maxRadius||Math.sqrt(s*s+i*i)/2;return{cx:l,cy:c,innerRadius:d,outerRadius:h,maxRadius:m}});xi(Ji,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?hn(hn({},e.type.defaultProps),e.props):e.props,s=cb.getRealPieData(n);if(!s||!s.length)return null;var i=n.cornerRadius,o=n.startAngle,l=n.endAngle,c=n.paddingAngle,d=n.dataKey,h=n.nameKey,m=n.valueKey,x=n.tooltipType,y=Math.abs(n.minAngle),w=cb.parseCoordinateOfPie(n,r),j=cb.parseDeltaAngle(o,l),v=Math.abs(j),N=d;ar(d)&&ar(m)?(qi(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),N="value"):ar(d)&&(qi(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),N=m);var T=s.filter(function(D){return pa(D,N,0)!==0}).length,S=(v>=360?T:T-1)*c,O=v-T*y-S,_=s.reduce(function(D,$){var I=pa($,N,0);return D+(yt(I)?I:0)},0),A;if(_>0){var E;A=s.map(function(D,$){var I=pa(D,N,0),L=pa(D,h,$),R=(yt(I)?I:0)/_,z;$?z=E.endAngle+is(j)*c*(I!==0?1:0):z=o;var Y=z+is(j)*((I!==0?y:0)+R*O),W=(z+Y)/2,H=(w.innerRadius+w.outerRadius)/2,P=[{name:L,value:I,payload:D,dataKey:N,type:x}],F=gn(w.cx,w.cy,H,W);return E=hn(hn(hn({percent:R,cornerRadius:i,name:L,tooltipPayload:P,midAngle:W,middleRadius:H,tooltipPosition:F},D),w),{},{value:pa(D,N),startAngle:z,endAngle:Y,payload:D,paddingAngle:is(j)*c}),E})}return hn(hn({},w),{},{sectors:A,data:s})});var t5,NB;function J4e(){if(NB)return t5;NB=1;var t=Math.ceil,e=Math.max;function r(n,s,i,o){for(var l=-1,c=e(t((s-n)/(i||1)),0),d=Array(c);c--;)d[o?c:++l]=n,n+=i;return d}return t5=r,t5}var r5,kB;function CJ(){if(kB)return r5;kB=1;var t=YK(),e=1/0,r=17976931348623157e292;function n(s){if(!s)return s===0?s:0;if(s=t(s),s===e||s===-e){var i=s<0?-1:1;return i*r}return s===s?s:0}return r5=n,r5}var n5,CB;function Q4e(){if(CB)return n5;CB=1;var t=J4e(),e=v1(),r=CJ();function n(s){return function(i,o,l){return l&&typeof l!="number"&&e(i,o,l)&&(o=l=void 0),i=r(i),o===void 0?(o=i,i=0):o=r(o),l=l===void 0?i<o?1:-1:r(l),t(i,o,l,s)}}return n5=n,n5}var a5,TB;function Z4e(){if(TB)return a5;TB=1;var t=Q4e(),e=t();return a5=e,a5}var e3e=Z4e();const hw=$r(e3e);function G0(t){"@babel/helpers - typeof";return G0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},G0(t)}function _B(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function MB(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_B(Object(r),!0).forEach(function(n){TJ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_B(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function TJ(t,e,r){return e=t3e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function t3e(t){var e=r3e(t,"string");return G0(e)=="symbol"?e:e+""}function r3e(t,e){if(G0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(G0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var n3e=["Webkit","Moz","O","ms"],a3e=function(e,r){var n=e.replace(/(\w)/,function(i){return i.toUpperCase()}),s=n3e.reduce(function(i,o){return MB(MB({},i),{},TJ({},o+n,r))},{});return s[e]=r,s};function vh(t){"@babel/helpers - typeof";return vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vh(t)}function mw(){return mw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mw.apply(this,arguments)}function AB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function s5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AB(Object(r),!0).forEach(function(n){Fs(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function s3e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OB(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,MJ(n.key),n)}}function i3e(t,e,r){return e&&OB(t.prototype,e),r&&OB(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function o3e(t,e,r){return e=pw(e),l3e(t,_J()?Reflect.construct(e,r||[],pw(t).constructor):e.apply(t,r))}function l3e(t,e){if(e&&(vh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return c3e(t)}function c3e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _J(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_J=function(){return!!t})()}function pw(t){return pw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},pw(t)}function u3e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qM(t,e)}function qM(t,e){return qM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},qM(t,e)}function Fs(t,e,r){return e=MJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function MJ(t){var e=d3e(t,"string");return vh(e)=="symbol"?e:e+""}function d3e(t,e){if(vh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var f3e=function(e){var r=e.data,n=e.startIndex,s=e.endIndex,i=e.x,o=e.width,l=e.travellerWidth;if(!r||!r.length)return{};var c=r.length,d=zp().domain(hw(0,c)).range([i,i+o-l]),h=d.domain().map(function(m){return d(m)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:d(n),endX:d(s),scale:d,scaleValues:h}},EB=function(e){return e.changedTouches&&!!e.changedTouches.length},wh=(function(t){function e(r){var n;return s3e(this,e),n=o3e(this,e,[r]),Fs(n,"handleDrag",function(s){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(s):n.state.isSlideMoving&&n.handleSlideDrag(s)}),Fs(n,"handleTouchMove",function(s){s.changedTouches!=null&&s.changedTouches.length>0&&n.handleDrag(s.changedTouches[0])}),Fs(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var s=n.props,i=s.endIndex,o=s.onDragEnd,l=s.startIndex;o==null||o({endIndex:i,startIndex:l})}),n.detachDragEndListener()}),Fs(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Fs(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Fs(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Fs(n,"handleSlideDragStart",function(s){var i=EB(s)?s.changedTouches[0]:s;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return u3e(e,t),i3e(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var s=n.startX,i=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,d=l.data,h=d.length-1,m=Math.min(s,i),x=Math.max(s,i),y=e.getIndexInRange(o,m),w=e.getIndexInRange(o,x);return{startIndex:y-y%c,endIndex:w===h?h:w-w%c}}},{key:"getTextOfTick",value:function(n){var s=this.props,i=s.data,o=s.tickFormatter,l=s.dataKey,c=pa(i[n],l,n);return tr(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var s=this.state,i=s.slideMoveStartX,o=s.startX,l=s.endX,c=this.props,d=c.x,h=c.width,m=c.travellerWidth,x=c.startIndex,y=c.endIndex,w=c.onChange,j=n.pageX-i;j>0?j=Math.min(j,d+h-m-l,d+h-m-o):j<0&&(j=Math.max(j,d-o,d-l));var v=this.getIndex({startX:o+j,endX:l+j});(v.startIndex!==x||v.endIndex!==y)&&w&&w(v),this.setState({startX:o+j,endX:l+j,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,s){var i=EB(s)?s.changedTouches[0]:s;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var s=this.state,i=s.brushMoveStartX,o=s.movingTravellerId,l=s.endX,c=s.startX,d=this.state[o],h=this.props,m=h.x,x=h.width,y=h.travellerWidth,w=h.onChange,j=h.gap,v=h.data,N={startX:this.state.startX,endX:this.state.endX},T=n.pageX-i;T>0?T=Math.min(T,m+x-y-d):T<0&&(T=Math.max(T,m-d)),N[o]=d+T;var S=this.getIndex(N),O=S.startIndex,_=S.endIndex,A=function(){var D=v.length-1;return o==="startX"&&(l>c?O%j===0:_%j===0)||l<c&&_===D||o==="endX"&&(l>c?_%j===0:O%j===0)||l>c&&_===D};this.setState(Fs(Fs({},o,d+T),"brushMoveStartX",n.pageX),function(){w&&A()&&w(S)})}},{key:"handleTravellerMoveKeyboard",value:function(n,s){var i=this,o=this.state,l=o.scaleValues,c=o.startX,d=o.endX,h=this.state[s],m=l.indexOf(h);if(m!==-1){var x=m+n;if(!(x===-1||x>=l.length)){var y=l[x];s==="startX"&&y>=d||s==="endX"&&y<=c||this.setState(Fs({},s,y),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,l=n.height,c=n.fill,d=n.stroke;return J.createElement("rect",{stroke:d,fill:c,x:s,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,l=n.height,c=n.data,d=n.children,h=n.padding,m=g.Children.only(d);return m?J.cloneElement(m,{x:s,y:i,width:o,height:l,margin:h,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,s){var i,o,l=this,c=this.props,d=c.y,h=c.travellerWidth,m=c.height,x=c.traveller,y=c.ariaLabel,w=c.data,j=c.startIndex,v=c.endIndex,N=Math.max(n,this.props.x),T=s5(s5({},Yt(this.props,!1)),{},{x:N,y:d,width:h,height:m}),S=y||"Min value: ".concat((i=w[j])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=w[v])===null||o===void 0?void 0:o.name);return J.createElement(Ir,{tabIndex:0,role:"slider","aria-label":S,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[s],onTouchStart:this.travellerDragStartHandlers[s],onKeyDown:function(_){["ArrowLeft","ArrowRight"].includes(_.key)&&(_.preventDefault(),_.stopPropagation(),l.handleTravellerMoveKeyboard(_.key==="ArrowRight"?1:-1,s))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(x,T))}},{key:"renderSlide",value:function(n,s){var i=this.props,o=i.y,l=i.height,c=i.stroke,d=i.travellerWidth,h=Math.min(n,s)+d,m=Math.max(Math.abs(s-n)-d,0);return J.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:h,y:o,width:m,height:l})}},{key:"renderText",value:function(){var n=this.props,s=n.startIndex,i=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,d=n.stroke,h=this.state,m=h.startX,x=h.endX,y=5,w={pointerEvents:"none",fill:d};return J.createElement(Ir,{className:"recharts-brush-texts"},J.createElement(fd,mw({textAnchor:"end",verticalAnchor:"middle",x:Math.min(m,x)-y,y:o+l/2},w),this.getTextOfTick(s)),J.createElement(fd,mw({textAnchor:"start",verticalAnchor:"middle",x:Math.max(m,x)+c+y,y:o+l/2},w),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,s=n.data,i=n.className,o=n.children,l=n.x,c=n.y,d=n.width,h=n.height,m=n.alwaysShowText,x=this.state,y=x.startX,w=x.endX,j=x.isTextActive,v=x.isSlideMoving,N=x.isTravellerMoving,T=x.isTravellerFocused;if(!s||!s.length||!yt(l)||!yt(c)||!yt(d)||!yt(h)||d<=0||h<=0)return null;var S=Ht("recharts-brush",i),O=J.Children.count(o)===1,_=a3e("userSelect","none");return J.createElement(Ir,{className:S,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:_},this.renderBackground(),O&&this.renderPanorama(),this.renderSlide(y,w),this.renderTravellerLayer(y,"startX"),this.renderTravellerLayer(w,"endX"),(j||v||N||T||m)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var s=n.x,i=n.y,o=n.width,l=n.height,c=n.stroke,d=Math.floor(i+l/2)-1;return J.createElement(J.Fragment,null,J.createElement("rect",{x:s,y:i,width:o,height:l,fill:c,stroke:"none"}),J.createElement("line",{x1:s+1,y1:d,x2:s+o-1,y2:d,fill:"none",stroke:"#fff"}),J.createElement("line",{x1:s+1,y1:d+2,x2:s+o-1,y2:d+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,s){var i;return J.isValidElement(n)?i=J.cloneElement(n,s):tr(n)?i=n(s):i=e.renderDefaultTraveller(s),i}},{key:"getDerivedStateFromProps",value:function(n,s){var i=n.data,o=n.width,l=n.x,c=n.travellerWidth,d=n.updateId,h=n.startIndex,m=n.endIndex;if(i!==s.prevData||d!==s.prevUpdateId)return s5({prevData:i,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o},i&&i.length?f3e({data:i,width:o,x:l,travellerWidth:c,startIndex:h,endIndex:m}):{scale:null,scaleValues:null});if(s.scale&&(o!==s.prevWidth||l!==s.prevX||c!==s.prevTravellerWidth)){s.scale.range([l,l+o-c]);var x=s.scale.domain().map(function(y){return s.scale(y)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o,startX:s.scale(n.startIndex),endX:s.scale(n.endIndex),scaleValues:x}}return null}},{key:"getIndexInRange",value:function(n,s){for(var i=n.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>s?l=c:o=c}return s>=n[l]?l:o}}])})(g.PureComponent);Fs(wh,"displayName","Brush");Fs(wh,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var i5,DB;function h3e(){if(DB)return i5;DB=1;var t=CE();function e(r,n){var s;return t(r,function(i,o,l){return s=n(i,o,l),!s}),!!s}return i5=e,i5}var o5,PB;function m3e(){if(PB)return o5;PB=1;var t=kK(),e=Io(),r=h3e(),n=_s(),s=v1();function i(o,l,c){var d=n(o)?t:r;return c&&s(o,l,c)&&(l=void 0),d(o,e(l,3))}return o5=i,o5}var p3e=m3e();const g3e=$r(p3e);var So=function(e,r){var n=e.alwaysShow,s=e.ifOverflow;return n&&(s="extendDomain"),s===r},l5,RB;function x3e(){if(RB)return l5;RB=1;var t=VK();function e(r,n,s){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:s,writable:!0}):r[n]=s}return l5=e,l5}var c5,IB;function y3e(){if(IB)return c5;IB=1;var t=x3e(),e=BK(),r=Io();function n(s,i){var o={};return i=r(i,3),e(s,function(l,c,d){t(o,c,i(l,c,d))}),o}return c5=n,c5}var b3e=y3e();const v3e=$r(b3e);var u5,LB;function w3e(){if(LB)return u5;LB=1;function t(e,r){for(var n=-1,s=e==null?0:e.length;++n<s;)if(!r(e[n],n,e))return!1;return!0}return u5=t,u5}var d5,$B;function j3e(){if($B)return d5;$B=1;var t=CE();function e(r,n){var s=!0;return t(r,function(i,o,l){return s=!!n(i,o,l),s}),s}return d5=e,d5}var f5,FB;function S3e(){if(FB)return f5;FB=1;var t=w3e(),e=j3e(),r=Io(),n=_s(),s=v1();function i(o,l,c){var d=n(o)?t:e;return c&&s(o,l,c)&&(l=void 0),d(o,r(l,3))}return f5=i,f5}var N3e=S3e();const AJ=$r(N3e);var k3e=["x","y"];function Y0(t){"@babel/helpers - typeof";return Y0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Y0(t)}function UM(){return UM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},UM.apply(this,arguments)}function HB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function hp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HB(Object(r),!0).forEach(function(n){C3e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function C3e(t,e,r){return e=T3e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function T3e(t){var e=_3e(t,"string");return Y0(e)=="symbol"?e:e+""}function _3e(t,e){if(Y0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Y0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function M3e(t,e){if(t==null)return{};var r=A3e(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function A3e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function O3e(t,e){var r=t.x,n=t.y,s=M3e(t,k3e),i="".concat(r),o=parseInt(i,10),l="".concat(n),c=parseInt(l,10),d="".concat(e.height||s.height),h=parseInt(d,10),m="".concat(e.width||s.width),x=parseInt(m,10);return hp(hp(hp(hp(hp({},e),s),o?{x:o}:{}),c?{y:c}:{}),{},{height:h,width:x,name:e.name,radius:e.radius})}function BB(t){return J.createElement(SJ,UM({shapeType:"rectangle",propTransformer:O3e,activeClassName:"recharts-active-bar"},t))}var E3e=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,s){if(typeof e=="number")return e;var i=yt(n)||t2e(n);return i?e(n,s):(i||md(),r)}},D3e=["value","background"],OJ;function jh(t){"@babel/helpers - typeof";return jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jh(t)}function P3e(t,e){if(t==null)return{};var r=R3e(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function R3e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function gw(){return gw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gw.apply(this,arguments)}function zB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function na(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zB(Object(r),!0).forEach(function(n){_c(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function I3e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VB(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,DJ(n.key),n)}}function L3e(t,e,r){return e&&VB(t.prototype,e),r&&VB(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function $3e(t,e,r){return e=xw(e),F3e(t,EJ()?Reflect.construct(e,r||[],xw(t).constructor):e.apply(t,r))}function F3e(t,e){if(e&&(jh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return H3e(t)}function H3e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function EJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EJ=function(){return!!t})()}function xw(t){return xw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xw(t)}function B3e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&GM(t,e)}function GM(t,e){return GM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},GM(t,e)}function _c(t,e,r){return e=DJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function DJ(t){var e=z3e(t,"string");return jh(e)=="symbol"?e:e+""}function z3e(t,e){if(jh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(jh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Rl=(function(t){function e(){var r;I3e(this,e);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=$3e(this,e,[].concat(s)),_c(r,"state",{isAnimationFinished:!1}),_c(r,"id",qh("recharts-bar-")),_c(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),_c(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return B3e(e,t),L3e(e,[{key:"renderRectanglesStatically",value:function(n){var s=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,d=i.activeBar,h=Yt(this.props,!1);return n&&n.map(function(m,x){var y=x===c,w=y?d:o,j=na(na(na({},h),m),{},{isActive:y,option:w,index:x,dataKey:l,onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd});return J.createElement(Ir,gw({className:"recharts-bar-rectangle"},dd(s.props,m,x),{key:"rectangle-".concat(m==null?void 0:m.x,"-").concat(m==null?void 0:m.y,"-").concat(m==null?void 0:m.value,"-").concat(x)}),J.createElement(BB,j))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,s=this.props,i=s.data,o=s.layout,l=s.isAnimationActive,c=s.animationBegin,d=s.animationDuration,h=s.animationEasing,m=s.animationId,x=this.state.prevData;return J.createElement(Oo,{begin:c,duration:d,isActive:l,easing:h,from:{t:0},to:{t:1},key:"bar-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var w=y.t,j=i.map(function(v,N){var T=x&&x[N];if(T){var S=Bs(T.x,v.x),O=Bs(T.y,v.y),_=Bs(T.width,v.width),A=Bs(T.height,v.height);return na(na({},v),{},{x:S(w),y:O(w),width:_(w),height:A(w)})}if(o==="horizontal"){var E=Bs(0,v.height),D=E(w);return na(na({},v),{},{y:v.y+v.height-D,height:D})}var $=Bs(0,v.width),I=$(w);return na(na({},v),{},{width:I})});return J.createElement(Ir,null,n.renderRectanglesStatically(j))})}},{key:"renderRectangles",value:function(){var n=this.props,s=n.data,i=n.isAnimationActive,o=this.state.prevData;return i&&s&&s.length&&(!o||!kg(o,s))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(s)}},{key:"renderBackground",value:function(){var n=this,s=this.props,i=s.data,o=s.dataKey,l=s.activeIndex,c=Yt(this.props.background,!1);return i.map(function(d,h){d.value;var m=d.background,x=P3e(d,D3e);if(!m)return null;var y=na(na(na(na(na({},x),{},{fill:"#eee"},m),c),dd(n.props,d,h)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:h,className:"recharts-bar-background-rectangle"});return J.createElement(BB,gw({key:"background-bar-".concat(h),option:n.props.background,isActive:h===l},y))})}},{key:"renderErrorBar",value:function(n,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,d=i.layout,h=i.children,m=Ys(h,Cg);if(!m)return null;var x=d==="vertical"?o[0].height/2:o[0].width/2,y=function(v,N){var T=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:T,errorVal:pa(v,N)}},w={clipPath:n?"url(#clipPath-".concat(s,")"):null};return J.createElement(Ir,w,m.map(function(j){return J.cloneElement(j,{key:"error-bar-".concat(s,"-").concat(j.props.dataKey),data:o,xAxis:l,yAxis:c,layout:d,offset:x,dataPointFormatter:y})}))}},{key:"render",value:function(){var n=this.props,s=n.hide,i=n.data,o=n.className,l=n.xAxis,c=n.yAxis,d=n.left,h=n.top,m=n.width,x=n.height,y=n.isAnimationActive,w=n.background,j=n.id;if(s||!i||!i.length)return null;var v=this.state.isAnimationFinished,N=Ht("recharts-bar",o),T=l&&l.allowDataOverflow,S=c&&c.allowDataOverflow,O=T||S,_=ar(j)?this.id:j;return J.createElement(Ir,{className:N},T||S?J.createElement("defs",null,J.createElement("clipPath",{id:"clipPath-".concat(_)},J.createElement("rect",{x:T?d:d-m/2,y:S?h:h-x/2,width:T?m:m*2,height:S?x:x*2}))):null,J.createElement(Ir,{className:"recharts-bar-rectangles",clipPath:O?"url(#clipPath-".concat(_,")"):null},w?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(O,_),(!y||v)&&Cl.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:s.curData}:n.data!==s.curData?{curData:n.data}:null}}])})(g.PureComponent);OJ=Rl;_c(Rl,"displayName","Bar");_c(Rl,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!vd.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});_c(Rl,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,s=t.bandSize,i=t.xAxis,o=t.yAxis,l=t.xAxisTicks,c=t.yAxisTicks,d=t.stackedData,h=t.dataStartIndex,m=t.displayedData,x=t.offset,y=gOe(n,r);if(!y)return null;var w=e.layout,j=r.type.defaultProps,v=j!==void 0?na(na({},j),r.props):r.props,N=v.dataKey,T=v.children,S=v.minPointSize,O=w==="horizontal"?o:i,_=d?O.scale.domain():null,A=SOe({numericAxis:O}),E=Ys(T,Gh),D=m.map(function($,I){var L,R,z,Y,W,H;d?L=xOe(d[h+I],_):(L=pa($,N),Array.isArray(L)||(L=[A,L]));var P=E3e(S,OJ.defaultProps.minPointSize)(L[1],I);if(w==="horizontal"){var F,X=[o.scale(L[0]),o.scale(L[1])],te=X[0],q=X[1];R=mH({axis:i,ticks:l,bandSize:s,offset:y.offset,entry:$,index:I}),z=(F=q??te)!==null&&F!==void 0?F:void 0,Y=y.size;var Z=te-q;if(W=Number.isNaN(Z)?0:Z,H={x:R,y:o.y,width:Y,height:o.height},Math.abs(P)>0&&Math.abs(W)<Math.abs(P)){var ie=is(W||P)*(Math.abs(P)-Math.abs(W));z-=ie,W+=ie}}else{var oe=[i.scale(L[0]),i.scale(L[1])],le=oe[0],ge=oe[1];if(R=le,z=mH({axis:o,ticks:c,bandSize:s,offset:y.offset,entry:$,index:I}),Y=ge-le,W=y.size,H={x:i.x,y:z,width:i.width,height:W},Math.abs(P)>0&&Math.abs(Y)<Math.abs(P)){var Le=is(Y||P)*(Math.abs(P)-Math.abs(Y));Y+=Le}}return na(na(na({},$),{},{x:R,y:z,width:Y,height:W,value:d?L:L[1],payload:$,background:H},E&&E[I]&&E[I].props),{},{tooltipPayload:[sJ(r,$)],tooltipPosition:{x:R+Y/2,y:z+W/2}})});return na({data:D,layout:w},x)});function K0(t){"@babel/helpers - typeof";return K0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},K0(t)}function V3e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WB(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,PJ(n.key),n)}}function W3e(t,e,r){return e&&WB(t.prototype,e),r&&WB(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function qB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Fi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qB(Object(r),!0).forEach(function(n){F1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function F1(t,e,r){return e=PJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function PJ(t){var e=q3e(t,"string");return K0(e)=="symbol"?e:e+""}function q3e(t,e){if(K0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(K0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var RJ=function(e,r,n,s,i){var o=e.width,l=e.height,c=e.layout,d=e.children,h=Object.keys(r),m={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},x=!!Hs(d,Rl);return h.reduce(function(y,w){var j=r[w],v=j.orientation,N=j.domain,T=j.padding,S=T===void 0?{}:T,O=j.mirror,_=j.reversed,A="".concat(v).concat(O?"Mirror":""),E,D,$,I,L;if(j.type==="number"&&(j.padding==="gap"||j.padding==="no-gap")){var R=N[1]-N[0],z=1/0,Y=j.categoricalDomain.sort(a2e);if(Y.forEach(function(oe,le){le>0&&(z=Math.min((oe||0)-(Y[le-1]||0),z))}),Number.isFinite(z)){var W=z/R,H=j.layout==="vertical"?n.height:n.width;if(j.padding==="gap"&&(E=W*H/2),j.padding==="no-gap"){var P=ls(e.barCategoryGap,W*H),F=W*H/2;E=F-P-(F-P)/H*P}}}s==="xAxis"?D=[n.left+(S.left||0)+(E||0),n.left+n.width-(S.right||0)-(E||0)]:s==="yAxis"?D=c==="horizontal"?[n.top+n.height-(S.bottom||0),n.top+(S.top||0)]:[n.top+(S.top||0)+(E||0),n.top+n.height-(S.bottom||0)-(E||0)]:D=j.range,_&&(D=[D[1],D[0]]);var X=tJ(j,i,x),te=X.scale,q=X.realScaleType;te.domain(N).range(D),rJ(te);var Z=nJ(te,Fi(Fi({},j),{},{realScaleType:q}));s==="xAxis"?(L=v==="top"&&!O||v==="bottom"&&O,$=n.left,I=m[A]-L*j.height):s==="yAxis"&&(L=v==="left"&&!O||v==="right"&&O,$=m[A]-L*j.width,I=n.top);var ie=Fi(Fi(Fi({},j),Z),{},{realScaleType:q,x:$,y:I,scale:te,width:s==="xAxis"?n.width:j.width,height:s==="yAxis"?n.height:j.height});return ie.bandSize=ew(ie,Z),!j.hide&&s==="xAxis"?m[A]+=(L?-1:1)*ie.height:j.hide||(m[A]+=(L?-1:1)*ie.width),Fi(Fi({},y),{},F1({},w,ie))},{})},IJ=function(e,r){var n=e.x,s=e.y,i=r.x,o=r.y;return{x:Math.min(n,i),y:Math.min(s,o),width:Math.abs(i-n),height:Math.abs(o-s)}},U3e=function(e){var r=e.x1,n=e.y1,s=e.x2,i=e.y2;return IJ({x:r,y:n},{x:s,y:i})},LJ=(function(){function t(e){V3e(this,t),this.scale=e}return W3e(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(s){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),s=n[0],i=n[n.length-1];return s<=i?r>=s&&r<=i:r>=i&&r<=s}}],[{key:"create",value:function(r){return new t(r)}}])})();F1(LJ,"EPS",1e-4);var tD=function(e){var r=Object.keys(e).reduce(function(n,s){return Fi(Fi({},n),{},F1({},s,LJ.create(e[s])))},{});return Fi(Fi({},r),{},{apply:function(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return v3e(s,function(c,d){return r[d].apply(c,{bandAware:o,position:l})})},isInRange:function(s){return AJ(s,function(i,o){return r[o].isInRange(i)})}})};function G3e(t){return(t%180+180)%180}var Y3e=function(e){var r=e.width,n=e.height,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=G3e(s),o=i*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},h5,UB;function K3e(){if(UB)return h5;UB=1;var t=Io(),e=vg(),r=y1();function n(s){return function(i,o,l){var c=Object(i);if(!e(i)){var d=t(o,3);i=r(i),o=function(m){return d(c[m],m,c)}}var h=s(i,o,l);return h>-1?c[d?i[h]:h]:void 0}}return h5=n,h5}var m5,GB;function X3e(){if(GB)return m5;GB=1;var t=CJ();function e(r){var n=t(r),s=n%1;return n===n?s?n-s:n:0}return m5=e,m5}var p5,YB;function J3e(){if(YB)return p5;YB=1;var t=IK(),e=Io(),r=X3e(),n=Math.max;function s(i,o,l){var c=i==null?0:i.length;if(!c)return-1;var d=l==null?0:r(l);return d<0&&(d=n(c+d,0)),t(i,e(o,3),d)}return p5=s,p5}var g5,KB;function Q3e(){if(KB)return g5;KB=1;var t=K3e(),e=J3e(),r=t(e);return g5=r,g5}var Z3e=Q3e();const e6e=$r(Z3e);var t6e=QY();const r6e=$r(t6e);var n6e=r6e(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),rD=g.createContext(void 0),nD=g.createContext(void 0),$J=g.createContext(void 0),FJ=g.createContext({}),HJ=g.createContext(void 0),BJ=g.createContext(0),zJ=g.createContext(0),XB=function(e){var r=e.state,n=r.xAxisMap,s=r.yAxisMap,i=r.offset,o=e.clipPathId,l=e.children,c=e.width,d=e.height,h=n6e(i);return J.createElement(rD.Provider,{value:n},J.createElement(nD.Provider,{value:s},J.createElement(FJ.Provider,{value:i},J.createElement($J.Provider,{value:h},J.createElement(HJ.Provider,{value:o},J.createElement(BJ.Provider,{value:d},J.createElement(zJ.Provider,{value:c},l)))))))},a6e=function(){return g.useContext(HJ)},VJ=function(e){var r=g.useContext(rD);r==null&&md();var n=r[e];return n==null&&md(),n},s6e=function(){var e=g.useContext(rD);return Nc(e)},i6e=function(){var e=g.useContext(nD),r=e6e(e,function(n){return AJ(n.domain,Number.isFinite)});return r||Nc(e)},WJ=function(e){var r=g.useContext(nD);r==null&&md();var n=r[e];return n==null&&md(),n},o6e=function(){var e=g.useContext($J);return e},l6e=function(){return g.useContext(FJ)},aD=function(){return g.useContext(zJ)},sD=function(){return g.useContext(BJ)};function Sh(t){"@babel/helpers - typeof";return Sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sh(t)}function c6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u6e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,UJ(n.key),n)}}function d6e(t,e,r){return e&&u6e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function f6e(t,e,r){return e=yw(e),h6e(t,qJ()?Reflect.construct(e,r||[],yw(t).constructor):e.apply(t,r))}function h6e(t,e){if(e&&(Sh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return m6e(t)}function m6e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qJ=function(){return!!t})()}function yw(t){return yw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yw(t)}function p6e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&YM(t,e)}function YM(t,e){return YM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},YM(t,e)}function JB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function QB(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?JB(Object(r),!0).forEach(function(n){iD(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):JB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function iD(t,e,r){return e=UJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function UJ(t){var e=g6e(t,"string");return Sh(e)=="symbol"?e:e+""}function g6e(t,e){if(Sh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Sh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function x6e(t,e){return w6e(t)||v6e(t,e)||b6e(t,e)||y6e()}function y6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b6e(t,e){if(t){if(typeof t=="string")return ZB(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZB(t,e)}}function ZB(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function v6e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(h){d=!0,s=h}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function w6e(t){if(Array.isArray(t))return t}function KM(){return KM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},KM.apply(this,arguments)}var j6e=function(e,r){var n;return J.isValidElement(e)?n=J.cloneElement(e,r):tr(e)?n=e(r):n=J.createElement("line",KM({},r,{className:"recharts-reference-line-line"})),n},S6e=function(e,r,n,s,i,o,l,c,d){var h=i.x,m=i.y,x=i.width,y=i.height;if(n){var w=d.y,j=e.y.apply(w,{position:o});if(So(d,"discard")&&!e.y.isInRange(j))return null;var v=[{x:h+x,y:j},{x:h,y:j}];return c==="left"?v.reverse():v}if(r){var N=d.x,T=e.x.apply(N,{position:o});if(So(d,"discard")&&!e.x.isInRange(T))return null;var S=[{x:T,y:m+y},{x:T,y:m}];return l==="top"?S.reverse():S}if(s){var O=d.segment,_=O.map(function(A){return e.apply(A,{position:o})});return So(d,"discard")&&g3e(_,function(A){return!e.isInRange(A)})?null:_}return null};function N6e(t){var e=t.x,r=t.y,n=t.segment,s=t.xAxisId,i=t.yAxisId,o=t.shape,l=t.className,c=t.alwaysShow,d=a6e(),h=VJ(s),m=WJ(i),x=o6e();if(!d||!x)return null;qi(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var y=tD({x:h.scale,y:m.scale}),w=ga(e),j=ga(r),v=n&&n.length===2,N=S6e(y,w,j,v,x,t.position,h.orientation,m.orientation,t);if(!N)return null;var T=x6e(N,2),S=T[0],O=S.x,_=S.y,A=T[1],E=A.x,D=A.y,$=So(t,"hidden")?"url(#".concat(d,")"):void 0,I=QB(QB({clipPath:$},Yt(t,!0)),{},{x1:O,y1:_,x2:E,y2:D});return J.createElement(Ir,{className:Ht("recharts-reference-line",l)},j6e(o,I),Na.renderCallByParent(t,U3e({x1:O,y1:_,x2:E,y2:D})))}var oD=(function(t){function e(){return c6e(this,e),f6e(this,e,arguments)}return p6e(e,t),d6e(e,[{key:"render",value:function(){return J.createElement(N6e,this.props)}}])})(J.Component);iD(oD,"displayName","ReferenceLine");iD(oD,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function XM(){return XM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},XM.apply(this,arguments)}function Nh(t){"@babel/helpers - typeof";return Nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nh(t)}function ez(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function tz(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ez(Object(r),!0).forEach(function(n){H1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ez(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function k6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function C6e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,YJ(n.key),n)}}function T6e(t,e,r){return e&&C6e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _6e(t,e,r){return e=bw(e),M6e(t,GJ()?Reflect.construct(e,r||[],bw(t).constructor):e.apply(t,r))}function M6e(t,e){if(e&&(Nh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return A6e(t)}function A6e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function GJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GJ=function(){return!!t})()}function bw(t){return bw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bw(t)}function O6e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&JM(t,e)}function JM(t,e){return JM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},JM(t,e)}function H1(t,e,r){return e=YJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function YJ(t){var e=E6e(t,"string");return Nh(e)=="symbol"?e:e+""}function E6e(t,e){if(Nh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Nh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var D6e=function(e){var r=e.x,n=e.y,s=e.xAxis,i=e.yAxis,o=tD({x:s.scale,y:i.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return So(e,"discard")&&!o.isInRange(l)?null:l},B1=(function(t){function e(){return k6e(this,e),_6e(this,e,arguments)}return O6e(e,t),T6e(e,[{key:"render",value:function(){var n=this.props,s=n.x,i=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,d=ga(s),h=ga(i);if(qi(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!d||!h)return null;var m=D6e(this.props);if(!m)return null;var x=m.x,y=m.y,w=this.props,j=w.shape,v=w.className,N=So(this.props,"hidden")?"url(#".concat(c,")"):void 0,T=tz(tz({clipPath:N},Yt(this.props,!0)),{},{cx:x,cy:y});return J.createElement(Ir,{className:Ht("recharts-reference-dot",v)},e.renderDot(j,T),Na.renderCallByParent(this.props,{x:x-o,y:y-o,width:2*o,height:2*o}))}}])})(J.Component);H1(B1,"displayName","ReferenceDot");H1(B1,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});H1(B1,"renderDot",function(t,e){var r;return J.isValidElement(t)?r=J.cloneElement(t,e):tr(t)?r=t(e):r=J.createElement(E1,XM({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function QM(){return QM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},QM.apply(this,arguments)}function kh(t){"@babel/helpers - typeof";return kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kh(t)}function rz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function nz(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rz(Object(r),!0).forEach(function(n){z1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function P6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function R6e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,XJ(n.key),n)}}function I6e(t,e,r){return e&&R6e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function L6e(t,e,r){return e=vw(e),$6e(t,KJ()?Reflect.construct(e,r||[],vw(t).constructor):e.apply(t,r))}function $6e(t,e){if(e&&(kh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return F6e(t)}function F6e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function KJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KJ=function(){return!!t})()}function vw(t){return vw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vw(t)}function H6e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ZM(t,e)}function ZM(t,e){return ZM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},ZM(t,e)}function z1(t,e,r){return e=XJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function XJ(t){var e=B6e(t,"string");return kh(e)=="symbol"?e:e+""}function B6e(t,e){if(kh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(kh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var z6e=function(e,r,n,s,i){var o=i.x1,l=i.x2,c=i.y1,d=i.y2,h=i.xAxis,m=i.yAxis;if(!h||!m)return null;var x=tD({x:h.scale,y:m.scale}),y={x:e?x.x.apply(o,{position:"start"}):x.x.rangeMin,y:n?x.y.apply(c,{position:"start"}):x.y.rangeMin},w={x:r?x.x.apply(l,{position:"end"}):x.x.rangeMax,y:s?x.y.apply(d,{position:"end"}):x.y.rangeMax};return So(i,"discard")&&(!x.isInRange(y)||!x.isInRange(w))?null:IJ(y,w)},V1=(function(t){function e(){return P6e(this,e),L6e(this,e,arguments)}return H6e(e,t),I6e(e,[{key:"render",value:function(){var n=this.props,s=n.x1,i=n.x2,o=n.y1,l=n.y2,c=n.className,d=n.alwaysShow,h=n.clipPathId;qi(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=ga(s),x=ga(i),y=ga(o),w=ga(l),j=this.props.shape;if(!m&&!x&&!y&&!w&&!j)return null;var v=z6e(m,x,y,w,this.props);if(!v&&!j)return null;var N=So(this.props,"hidden")?"url(#".concat(h,")"):void 0;return J.createElement(Ir,{className:Ht("recharts-reference-area",c)},e.renderRect(j,nz(nz({clipPath:N},Yt(this.props,!0)),v)),Na.renderCallByParent(this.props,v))}}])})(J.Component);z1(V1,"displayName","ReferenceArea");z1(V1,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});z1(V1,"renderRect",function(t,e){var r;return J.isValidElement(t)?r=J.cloneElement(t,e):tr(t)?r=t(e):r=J.createElement(eD,QM({},e,{className:"recharts-reference-area-rect"})),r});function JJ(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],s=0;s<t.length;s+=e)n.push(t[s]);return n}function V6e(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return Y3e(n,r)}function W6e(t,e,r){var n=r==="width",s=t.x,i=t.y,o=t.width,l=t.height;return e===1?{start:n?s:i,end:n?s+o:i+l}:{start:n?s+o:i+l,end:n?s:i}}function ww(t,e,r,n,s){if(t*e<t*n||t*e>t*s)return!1;var i=r();return t*(e-t*i/2-n)>=0&&t*(e+t*i/2-s)<=0}function q6e(t,e){return JJ(t,e+1)}function U6e(t,e,r,n,s){for(var i=(n||[]).slice(),o=e.start,l=e.end,c=0,d=1,h=o,m=function(){var w=n==null?void 0:n[c];if(w===void 0)return{v:JJ(n,d)};var j=c,v,N=function(){return v===void 0&&(v=r(w,j)),v},T=w.coordinate,S=c===0||ww(t,T,N,h,l);S||(c=0,h=o,d+=1),S&&(h=T+t*(N()/2+s),c+=d)},x;d<=i.length;)if(x=m(),x)return x.v;return[]}function X0(t){"@babel/helpers - typeof";return X0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},X0(t)}function az(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function qa(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?az(Object(r),!0).forEach(function(n){G6e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):az(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function G6e(t,e,r){return e=Y6e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Y6e(t){var e=K6e(t,"string");return X0(e)=="symbol"?e:e+""}function K6e(t,e){if(X0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(X0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function X6e(t,e,r,n,s){for(var i=(n||[]).slice(),o=i.length,l=e.start,c=e.end,d=function(x){var y=i[x],w,j=function(){return w===void 0&&(w=r(y,x)),w};if(x===o-1){var v=t*(y.coordinate+t*j()/2-c);i[x]=y=qa(qa({},y),{},{tickCoord:v>0?y.coordinate-v*t:y.coordinate})}else i[x]=y=qa(qa({},y),{},{tickCoord:y.coordinate});var N=ww(t,y.tickCoord,j,l,c);N&&(c=y.tickCoord-t*(j()/2+s),i[x]=qa(qa({},y),{},{isShow:!0}))},h=o-1;h>=0;h--)d(h);return i}function J6e(t,e,r,n,s,i){var o=(n||[]).slice(),l=o.length,c=e.start,d=e.end;if(i){var h=n[l-1],m=r(h,l-1),x=t*(h.coordinate+t*m/2-d);o[l-1]=h=qa(qa({},h),{},{tickCoord:x>0?h.coordinate-x*t:h.coordinate});var y=ww(t,h.tickCoord,function(){return m},c,d);y&&(d=h.tickCoord-t*(m/2+s),o[l-1]=qa(qa({},h),{},{isShow:!0}))}for(var w=i?l-1:l,j=function(T){var S=o[T],O,_=function(){return O===void 0&&(O=r(S,T)),O};if(T===0){var A=t*(S.coordinate-t*_()/2-c);o[T]=S=qa(qa({},S),{},{tickCoord:A<0?S.coordinate-A*t:S.coordinate})}else o[T]=S=qa(qa({},S),{},{tickCoord:S.coordinate});var E=ww(t,S.tickCoord,_,c,d);E&&(c=S.tickCoord+t*(_()/2+s),o[T]=qa(qa({},S),{},{isShow:!0}))},v=0;v<w;v++)j(v);return o}function lD(t,e,r){var n=t.tick,s=t.ticks,i=t.viewBox,o=t.minTickGap,l=t.orientation,c=t.interval,d=t.tickFormatter,h=t.unit,m=t.angle;if(!s||!s.length||!n)return[];if(yt(c)||vd.isSsr)return q6e(s,typeof c=="number"&&yt(c)?c:0);var x=[],y=l==="top"||l==="bottom"?"width":"height",w=h&&y==="width"?Bp(h,{fontSize:e,letterSpacing:r}):{width:0,height:0},j=function(S,O){var _=tr(d)?d(S.value,O):S.value;return y==="width"?V6e(Bp(_,{fontSize:e,letterSpacing:r}),w,m):Bp(_,{fontSize:e,letterSpacing:r})[y]},v=s.length>=2?is(s[1].coordinate-s[0].coordinate):1,N=W6e(i,v,y);return c==="equidistantPreserveStart"?U6e(v,N,j,s,o):(c==="preserveStart"||c==="preserveStartEnd"?x=J6e(v,N,j,s,o,c==="preserveStartEnd"):x=X6e(v,N,j,s,o),x.filter(function(T){return T.isShow}))}var Q6e=["viewBox"],Z6e=["viewBox"],eRe=["ticks"];function Ch(t){"@babel/helpers - typeof";return Ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ch(t)}function _f(){return _f=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_f.apply(this,arguments)}function sz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function ha(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sz(Object(r),!0).forEach(function(n){cD(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function x5(t,e){if(t==null)return{};var r=tRe(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function tRe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function rRe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iz(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ZJ(n.key),n)}}function nRe(t,e,r){return e&&iz(t.prototype,e),r&&iz(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function aRe(t,e,r){return e=jw(e),sRe(t,QJ()?Reflect.construct(e,r||[],jw(t).constructor):e.apply(t,r))}function sRe(t,e){if(e&&(Ch(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iRe(t)}function iRe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function QJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QJ=function(){return!!t})()}function jw(t){return jw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jw(t)}function oRe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&eA(t,e)}function eA(t,e){return eA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},eA(t,e)}function cD(t,e,r){return e=ZJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ZJ(t){var e=lRe(t,"string");return Ch(e)=="symbol"?e:e+""}function lRe(t,e){if(Ch(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ch(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Jh=(function(t){function e(r){var n;return rRe(this,e),n=aRe(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return oRe(e,t),nRe(e,[{key:"shouldComponentUpdate",value:function(n,s){var i=n.viewBox,o=x5(n,Q6e),l=this.props,c=l.viewBox,d=x5(l,Z6e);return!Hf(i,c)||!Hf(o,d)||!Hf(s,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var s=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];s&&this.setState({fontSize:window.getComputedStyle(s).fontSize,letterSpacing:window.getComputedStyle(s).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var s=this.props,i=s.x,o=s.y,l=s.width,c=s.height,d=s.orientation,h=s.tickSize,m=s.mirror,x=s.tickMargin,y,w,j,v,N,T,S=m?-1:1,O=n.tickSize||h,_=yt(n.tickCoord)?n.tickCoord:n.coordinate;switch(d){case"top":y=w=n.coordinate,v=o+ +!m*c,j=v-S*O,T=j-S*x,N=_;break;case"left":j=v=n.coordinate,w=i+ +!m*l,y=w-S*O,N=y-S*x,T=_;break;case"right":j=v=n.coordinate,w=i+ +m*l,y=w+S*O,N=y+S*x,T=_;break;default:y=w=n.coordinate,v=o+ +m*c,j=v+S*O,T=j+S*x,N=_;break}return{line:{x1:y,y1:j,x2:w,y2:v},tick:{x:N,y:T}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,s=n.orientation,i=n.mirror,o;switch(s){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,s=n.orientation,i=n.mirror,o="end";switch(s){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,l=n.height,c=n.orientation,d=n.mirror,h=n.axisLine,m=ha(ha(ha({},Yt(this.props,!1)),Yt(h,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var x=+(c==="top"&&!d||c==="bottom"&&d);m=ha(ha({},m),{},{x1:s,y1:i+x*l,x2:s+o,y2:i+x*l})}else{var y=+(c==="left"&&!d||c==="right"&&d);m=ha(ha({},m),{},{x1:s+y*o,y1:i,x2:s+y*o,y2:i+l})}return J.createElement("line",_f({},m,{className:Ht("recharts-cartesian-axis-line",Gs(h,"className"))}))}},{key:"renderTicks",value:function(n,s,i){var o=this,l=this.props,c=l.tickLine,d=l.stroke,h=l.tick,m=l.tickFormatter,x=l.unit,y=lD(ha(ha({},this.props),{},{ticks:n}),s,i),w=this.getTickTextAnchor(),j=this.getTickVerticalAnchor(),v=Yt(this.props,!1),N=Yt(h,!1),T=ha(ha({},v),{},{fill:"none"},Yt(c,!1)),S=y.map(function(O,_){var A=o.getTickLineCoord(O),E=A.line,D=A.tick,$=ha(ha(ha(ha({textAnchor:w,verticalAnchor:j},v),{},{stroke:"none",fill:d},N),D),{},{index:_,payload:O,visibleTicksCount:y.length,tickFormatter:m});return J.createElement(Ir,_f({className:"recharts-cartesian-axis-tick",key:"tick-".concat(O.value,"-").concat(O.coordinate,"-").concat(O.tickCoord)},dd(o.props,O,_)),c&&J.createElement("line",_f({},T,E,{className:Ht("recharts-cartesian-axis-tick-line",Gs(c,"className"))})),h&&e.renderTickItem(h,$,"".concat(tr(m)?m(O.value,_):O.value).concat(x||"")))});return J.createElement("g",{className:"recharts-cartesian-axis-ticks"},S)}},{key:"render",value:function(){var n=this,s=this.props,i=s.axisLine,o=s.width,l=s.height,c=s.ticksGenerator,d=s.className,h=s.hide;if(h)return null;var m=this.props,x=m.ticks,y=x5(m,eRe),w=x;return tr(c)&&(w=x&&x.length>0?c(this.props):c(y)),o<=0||l<=0||!w||!w.length?null:J.createElement(Ir,{className:Ht("recharts-cartesian-axis",d),ref:function(v){n.layerReference=v}},i&&this.renderAxisLine(),this.renderTicks(w,this.state.fontSize,this.state.letterSpacing),Na.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,s,i){var o,l=Ht(s.className,"recharts-cartesian-axis-tick-value");return J.isValidElement(n)?o=J.cloneElement(n,ha(ha({},s),{},{className:l})):tr(n)?o=n(ha(ha({},s),{},{className:l})):o=J.createElement(fd,_f({},s,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])})(g.Component);cD(Jh,"displayName","CartesianAxis");cD(Jh,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var cRe=["x1","y1","x2","y2","key"],uRe=["offset"];function pd(t){"@babel/helpers - typeof";return pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pd(t)}function oz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Ua(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oz(Object(r),!0).forEach(function(n){dRe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dRe(t,e,r){return e=fRe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fRe(t){var e=hRe(t,"string");return pd(e)=="symbol"?e:e+""}function hRe(t,e){if(pd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(pd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bu(){return Bu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Bu.apply(this,arguments)}function lz(t,e){if(t==null)return{};var r=mRe(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function mRe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var pRe=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,s=e.x,i=e.y,o=e.width,l=e.height,c=e.ry;return J.createElement("rect",{x:s,y:i,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function eQ(t,e){var r;if(J.isValidElement(t))r=J.cloneElement(t,e);else if(tr(t))r=t(e);else{var n=e.x1,s=e.y1,i=e.x2,o=e.y2,l=e.key,c=lz(e,cRe),d=Yt(c,!1);d.offset;var h=lz(d,uRe);r=J.createElement("line",Bu({},h,{x1:n,y1:s,x2:i,y2:o,fill:"none",key:l}))}return r}function gRe(t){var e=t.x,r=t.width,n=t.horizontal,s=n===void 0?!0:n,i=t.horizontalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(l,c){var d=Ua(Ua({},t),{},{x1:e,y1:l,x2:e+r,y2:l,key:"line-".concat(c),index:c});return eQ(s,d)});return J.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function xRe(t){var e=t.y,r=t.height,n=t.vertical,s=n===void 0?!0:n,i=t.verticalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(l,c){var d=Ua(Ua({},t),{},{x1:l,y1:e,x2:l,y2:e+r,key:"line-".concat(c),index:c});return eQ(s,d)});return J.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function yRe(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,s=t.y,i=t.width,o=t.height,l=t.horizontalPoints,c=t.horizontal,d=c===void 0?!0:c;if(!d||!e||!e.length)return null;var h=l.map(function(x){return Math.round(x+s-s)}).sort(function(x,y){return x-y});s!==h[0]&&h.unshift(0);var m=h.map(function(x,y){var w=!h[y+1],j=w?s+o-x:h[y+1]-x;if(j<=0)return null;var v=y%e.length;return J.createElement("rect",{key:"react-".concat(y),y:x,x:n,height:j,width:i,stroke:"none",fill:e[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return J.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function bRe(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,s=t.fillOpacity,i=t.x,o=t.y,l=t.width,c=t.height,d=t.verticalPoints;if(!r||!n||!n.length)return null;var h=d.map(function(x){return Math.round(x+i-i)}).sort(function(x,y){return x-y});i!==h[0]&&h.unshift(0);var m=h.map(function(x,y){var w=!h[y+1],j=w?i+l-x:h[y+1]-x;if(j<=0)return null;var v=y%n.length;return J.createElement("rect",{key:"react-".concat(y),x,y:o,width:j,height:c,stroke:"none",fill:n[v],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return J.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var vRe=function(e,r){var n=e.xAxis,s=e.width,i=e.height,o=e.offset;return eJ(lD(Ua(Ua(Ua({},Jh.defaultProps),n),{},{ticks:ml(n,!0),viewBox:{x:0,y:0,width:s,height:i}})),o.left,o.left+o.width,r)},wRe=function(e,r){var n=e.yAxis,s=e.width,i=e.height,o=e.offset;return eJ(lD(Ua(Ua(Ua({},Jh.defaultProps),n),{},{ticks:ml(n,!0),viewBox:{x:0,y:0,width:s,height:i}})),o.top,o.top+o.height,r)},df={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function ed(t){var e,r,n,s,i,o,l=aD(),c=sD(),d=l6e(),h=Ua(Ua({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:df.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:df.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:df.horizontal,horizontalFill:(s=t.horizontalFill)!==null&&s!==void 0?s:df.horizontalFill,vertical:(i=t.vertical)!==null&&i!==void 0?i:df.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:df.verticalFill,x:yt(t.x)?t.x:d.left,y:yt(t.y)?t.y:d.top,width:yt(t.width)?t.width:d.width,height:yt(t.height)?t.height:d.height}),m=h.x,x=h.y,y=h.width,w=h.height,j=h.syncWithTicks,v=h.horizontalValues,N=h.verticalValues,T=s6e(),S=i6e();if(!yt(y)||y<=0||!yt(w)||w<=0||!yt(m)||m!==+m||!yt(x)||x!==+x)return null;var O=h.verticalCoordinatesGenerator||vRe,_=h.horizontalCoordinatesGenerator||wRe,A=h.horizontalPoints,E=h.verticalPoints;if((!A||!A.length)&&tr(_)){var D=v&&v.length,$=_({yAxis:S?Ua(Ua({},S),{},{ticks:D?v:S.ticks}):void 0,width:l,height:c,offset:d},D?!0:j);qi(Array.isArray($),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(pd($),"]")),Array.isArray($)&&(A=$)}if((!E||!E.length)&&tr(O)){var I=N&&N.length,L=O({xAxis:T?Ua(Ua({},T),{},{ticks:I?N:T.ticks}):void 0,width:l,height:c,offset:d},I?!0:j);qi(Array.isArray(L),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(pd(L),"]")),Array.isArray(L)&&(E=L)}return J.createElement("g",{className:"recharts-cartesian-grid"},J.createElement(pRe,{fill:h.fill,fillOpacity:h.fillOpacity,x:h.x,y:h.y,width:h.width,height:h.height,ry:h.ry}),J.createElement(gRe,Bu({},h,{offset:d,horizontalPoints:A,xAxis:T,yAxis:S})),J.createElement(xRe,Bu({},h,{offset:d,verticalPoints:E,xAxis:T,yAxis:S})),J.createElement(yRe,Bu({},h,{horizontalPoints:A})),J.createElement(bRe,Bu({},h,{verticalPoints:E})))}ed.displayName="CartesianGrid";var jRe=["type","layout","connectNulls","ref"],SRe=["key"];function Th(t){"@babel/helpers - typeof";return Th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Th(t)}function cz(t,e){if(t==null)return{};var r=NRe(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function NRe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Gp(){return Gp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Gp.apply(this,arguments)}function uz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function $s(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uz(Object(r),!0).forEach(function(n){Hi(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ff(t){return _Re(t)||TRe(t)||CRe(t)||kRe()}function kRe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CRe(t,e){if(t){if(typeof t=="string")return tA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tA(t,e)}}function TRe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _Re(t){if(Array.isArray(t))return tA(t)}function tA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function MRe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dz(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,rQ(n.key),n)}}function ARe(t,e,r){return e&&dz(t.prototype,e),r&&dz(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function ORe(t,e,r){return e=Sw(e),ERe(t,tQ()?Reflect.construct(e,r||[],Sw(t).constructor):e.apply(t,r))}function ERe(t,e){if(e&&(Th(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DRe(t)}function DRe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tQ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tQ=function(){return!!t})()}function Sw(t){return Sw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sw(t)}function PRe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rA(t,e)}function rA(t,e){return rA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},rA(t,e)}function Hi(t,e,r){return e=rQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rQ(t){var e=RRe(t,"string");return Th(e)=="symbol"?e:e+""}function RRe(t,e){if(Th(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Th(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var gd=(function(t){function e(){var r;MRe(this,e);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=ORe(this,e,[].concat(s)),Hi(r,"state",{isAnimationFinished:!0,totalLength:0}),Hi(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),Hi(r,"getStrokeDasharray",function(o,l,c){var d=c.reduce(function(N,T){return N+T});if(!d)return r.generateSimpleStrokeDasharray(l,o);for(var h=Math.floor(o/d),m=o%d,x=l-o,y=[],w=0,j=0;w<c.length;j+=c[w],++w)if(j+c[w]>m){y=[].concat(ff(c.slice(0,w)),[m-j]);break}var v=y.length%2===0?[0,x]:[x];return[].concat(ff(e.repeat(c,h)),ff(y),v).map(function(N){return"".concat(N,"px")}).join(", ")}),Hi(r,"id",qh("recharts-line-")),Hi(r,"pathRef",function(o){r.mainCurve=o}),Hi(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Hi(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return PRe(e,t),ARe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,l=i.xAxis,c=i.yAxis,d=i.layout,h=i.children,m=Ys(h,Cg);if(!m)return null;var x=function(j,v){return{x:j.x,y:j.y,value:j.value,errorVal:pa(j.payload,v)}},y={clipPath:n?"url(#clipPath-".concat(s,")"):null};return J.createElement(Ir,y,m.map(function(w){return J.cloneElement(w,{key:"bar-".concat(w.props.dataKey),data:o,xAxis:l,yAxis:c,layout:d,dataPointFormatter:x})}))}},{key:"renderDots",value:function(n,s,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,d=l.points,h=l.dataKey,m=Yt(this.props,!1),x=Yt(c,!0),y=d.map(function(j,v){var N=$s($s($s({key:"dot-".concat(v),r:3},m),x),{},{index:v,cx:j.x,cy:j.y,value:j.value,dataKey:h,payload:j.payload,points:d});return e.renderDotItem(c,N)}),w={clipPath:n?"url(#clipPath-".concat(s?"":"dots-").concat(i,")"):null};return J.createElement(Ir,Gp({className:"recharts-line-dots",key:"dots"},w),y)}},{key:"renderCurveStatically",value:function(n,s,i,o){var l=this.props,c=l.type,d=l.layout,h=l.connectNulls;l.ref;var m=cz(l,jRe),x=$s($s($s({},Yt(m,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:s?"url(#clipPath-".concat(i,")"):null,points:n},o),{},{type:c,layout:d,connectNulls:h});return J.createElement(nw,Gp({},x,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,s){var i=this,o=this.props,l=o.points,c=o.strokeDasharray,d=o.isAnimationActive,h=o.animationBegin,m=o.animationDuration,x=o.animationEasing,y=o.animationId,w=o.animateNewValues,j=o.width,v=o.height,N=this.state,T=N.prevPoints,S=N.totalLength;return J.createElement(Oo,{begin:h,duration:m,isActive:d,easing:x,from:{t:0},to:{t:1},key:"line-".concat(y),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(O){var _=O.t;if(T){var A=T.length/l.length,E=l.map(function(R,z){var Y=Math.floor(z*A);if(T[Y]){var W=T[Y],H=Bs(W.x,R.x),P=Bs(W.y,R.y);return $s($s({},R),{},{x:H(_),y:P(_)})}if(w){var F=Bs(j*2,R.x),X=Bs(v/2,R.y);return $s($s({},R),{},{x:F(_),y:X(_)})}return $s($s({},R),{},{x:R.x,y:R.y})});return i.renderCurveStatically(E,n,s)}var D=Bs(0,S),$=D(_),I;if(c){var L="".concat(c).split(/[,\s]+/gim).map(function(R){return parseFloat(R)});I=i.getStrokeDasharray($,S,L)}else I=i.generateSimpleStrokeDasharray(S,$);return i.renderCurveStatically(l,n,s,{strokeDasharray:I})})}},{key:"renderCurve",value:function(n,s){var i=this.props,o=i.points,l=i.isAnimationActive,c=this.state,d=c.prevPoints,h=c.totalLength;return l&&o&&o.length&&(!d&&h>0||!kg(d,o))?this.renderCurveWithAnimation(n,s):this.renderCurveStatically(o,n,s)}},{key:"render",value:function(){var n,s=this.props,i=s.hide,o=s.dot,l=s.points,c=s.className,d=s.xAxis,h=s.yAxis,m=s.top,x=s.left,y=s.width,w=s.height,j=s.isAnimationActive,v=s.id;if(i||!l||!l.length)return null;var N=this.state.isAnimationFinished,T=l.length===1,S=Ht("recharts-line",c),O=d&&d.allowDataOverflow,_=h&&h.allowDataOverflow,A=O||_,E=ar(v)?this.id:v,D=(n=Yt(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},$=D.r,I=$===void 0?3:$,L=D.strokeWidth,R=L===void 0?2:L,z=h2e(o)?o:{},Y=z.clipDot,W=Y===void 0?!0:Y,H=I*2+R;return J.createElement(Ir,{className:S},O||_?J.createElement("defs",null,J.createElement("clipPath",{id:"clipPath-".concat(E)},J.createElement("rect",{x:O?x:x-y/2,y:_?m:m-w/2,width:O?y:y*2,height:_?w:w*2})),!W&&J.createElement("clipPath",{id:"clipPath-dots-".concat(E)},J.createElement("rect",{x:x-H/2,y:m-H/2,width:y+H,height:w+H}))):null,!T&&this.renderCurve(A,E),this.renderErrorBar(A,E),(T||o)&&this.renderDots(A,W,E),(!j||N)&&Cl.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:s.curPoints}:n.points!==s.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,s){for(var i=n.length%2!==0?[].concat(ff(n),[0]):n,o=[],l=0;l<s;++l)o=[].concat(ff(o),ff(i));return o}},{key:"renderDotItem",value:function(n,s){var i;if(J.isValidElement(n))i=J.cloneElement(n,s);else if(tr(n))i=n(s);else{var o=s.key,l=cz(s,SRe),c=Ht("recharts-line-dot",typeof n!="boolean"?n.className:"");i=J.createElement(E1,Gp({key:o},l,{className:c}))}return i}}])})(g.PureComponent);Hi(gd,"displayName","Line");Hi(gd,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!vd.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Hi(gd,"getComposedData",function(t){var e=t.props,r=t.xAxis,n=t.yAxis,s=t.xAxisTicks,i=t.yAxisTicks,o=t.dataKey,l=t.bandSize,c=t.displayedData,d=t.offset,h=e.layout,m=c.map(function(x,y){var w=pa(x,o);return h==="horizontal"?{x:hH({axis:r,ticks:s,bandSize:l,entry:x,index:y}),y:ar(w)?null:n.scale(w),value:w,payload:x}:{x:ar(w)?null:r.scale(w),y:hH({axis:n,ticks:i,bandSize:l,entry:x,index:y}),value:w,payload:x}});return $s({points:m,layout:h},d)});function _h(t){"@babel/helpers - typeof";return _h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_h(t)}function IRe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LRe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,sQ(n.key),n)}}function $Re(t,e,r){return e&&LRe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function FRe(t,e,r){return e=Nw(e),HRe(t,nQ()?Reflect.construct(e,r||[],Nw(t).constructor):e.apply(t,r))}function HRe(t,e){if(e&&(_h(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BRe(t)}function BRe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nQ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nQ=function(){return!!t})()}function Nw(t){return Nw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Nw(t)}function zRe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nA(t,e)}function nA(t,e){return nA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},nA(t,e)}function aQ(t,e,r){return e=sQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sQ(t){var e=VRe(t,"string");return _h(e)=="symbol"?e:e+""}function VRe(t,e){if(_h(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_h(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function aA(){return aA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},aA.apply(this,arguments)}function WRe(t){var e=t.xAxisId,r=aD(),n=sD(),s=VJ(e);return s==null?null:g.createElement(Jh,aA({},s,{className:Ht("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return ml(o,!0)}}))}var No=(function(t){function e(){return IRe(this,e),FRe(this,e,arguments)}return zRe(e,t),$Re(e,[{key:"render",value:function(){return g.createElement(WRe,this.props)}}])})(g.Component);aQ(No,"displayName","XAxis");aQ(No,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Mh(t){"@babel/helpers - typeof";return Mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mh(t)}function qRe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function URe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,lQ(n.key),n)}}function GRe(t,e,r){return e&&URe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function YRe(t,e,r){return e=kw(e),KRe(t,iQ()?Reflect.construct(e,r||[],kw(t).constructor):e.apply(t,r))}function KRe(t,e){if(e&&(Mh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XRe(t)}function XRe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iQ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iQ=function(){return!!t})()}function kw(t){return kw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kw(t)}function JRe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sA(t,e)}function sA(t,e){return sA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},sA(t,e)}function oQ(t,e,r){return e=lQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lQ(t){var e=QRe(t,"string");return Mh(e)=="symbol"?e:e+""}function QRe(t,e){if(Mh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Mh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function iA(){return iA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},iA.apply(this,arguments)}var ZRe=function(e){var r=e.yAxisId,n=aD(),s=sD(),i=WJ(r);return i==null?null:g.createElement(Jh,iA({},i,{className:Ht("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:s},ticksGenerator:function(l){return ml(l,!0)}}))},ko=(function(t){function e(){return qRe(this,e),YRe(this,e,arguments)}return JRe(e,t),GRe(e,[{key:"render",value:function(){return g.createElement(ZRe,this.props)}}])})(g.Component);oQ(ko,"displayName","YAxis");oQ(ko,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function fz(t){return nIe(t)||rIe(t)||tIe(t)||eIe()}function eIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tIe(t,e){if(t){if(typeof t=="string")return oA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oA(t,e)}}function rIe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function nIe(t){if(Array.isArray(t))return oA(t)}function oA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var lA=function(e,r,n,s,i){var o=Ys(e,oD),l=Ys(e,B1),c=[].concat(fz(o),fz(l)),d=Ys(e,V1),h="".concat(s,"Id"),m=s[0],x=r;if(c.length&&(x=c.reduce(function(j,v){if(v.props[h]===n&&So(v.props,"extendDomain")&&yt(v.props[m])){var N=v.props[m];return[Math.min(j[0],N),Math.max(j[1],N)]}return j},x)),d.length){var y="".concat(m,"1"),w="".concat(m,"2");x=d.reduce(function(j,v){if(v.props[h]===n&&So(v.props,"extendDomain")&&yt(v.props[y])&&yt(v.props[w])){var N=v.props[y],T=v.props[w];return[Math.min(j[0],N,T),Math.max(j[1],N,T)]}return j},x)}return i&&i.length&&(x=i.reduce(function(j,v){return yt(v)?[Math.min(j[0],v),Math.max(j[1],v)]:j},x)),x},y5={exports:{}},hz;function aIe(){return hz||(hz=1,(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function s(c,d,h){this.fn=c,this.context=d,this.once=h||!1}function i(c,d,h,m,x){if(typeof h!="function")throw new TypeError("The listener must be a function");var y=new s(h,m||c,x),w=r?r+d:d;return c._events[w]?c._events[w].fn?c._events[w]=[c._events[w],y]:c._events[w].push(y):(c._events[w]=y,c._eventsCount++),c}function o(c,d){--c._eventsCount===0?c._events=new n:delete c._events[d]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],h,m;if(this._eventsCount===0)return d;for(m in h=this._events)e.call(h,m)&&d.push(r?m.slice(1):m);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(h)):d},l.prototype.listeners=function(d){var h=r?r+d:d,m=this._events[h];if(!m)return[];if(m.fn)return[m.fn];for(var x=0,y=m.length,w=new Array(y);x<y;x++)w[x]=m[x].fn;return w},l.prototype.listenerCount=function(d){var h=r?r+d:d,m=this._events[h];return m?m.fn?1:m.length:0},l.prototype.emit=function(d,h,m,x,y,w){var j=r?r+d:d;if(!this._events[j])return!1;var v=this._events[j],N=arguments.length,T,S;if(v.fn){switch(v.once&&this.removeListener(d,v.fn,void 0,!0),N){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,h),!0;case 3:return v.fn.call(v.context,h,m),!0;case 4:return v.fn.call(v.context,h,m,x),!0;case 5:return v.fn.call(v.context,h,m,x,y),!0;case 6:return v.fn.call(v.context,h,m,x,y,w),!0}for(S=1,T=new Array(N-1);S<N;S++)T[S-1]=arguments[S];v.fn.apply(v.context,T)}else{var O=v.length,_;for(S=0;S<O;S++)switch(v[S].once&&this.removeListener(d,v[S].fn,void 0,!0),N){case 1:v[S].fn.call(v[S].context);break;case 2:v[S].fn.call(v[S].context,h);break;case 3:v[S].fn.call(v[S].context,h,m);break;case 4:v[S].fn.call(v[S].context,h,m,x);break;default:if(!T)for(_=1,T=new Array(N-1);_<N;_++)T[_-1]=arguments[_];v[S].fn.apply(v[S].context,T)}}return!0},l.prototype.on=function(d,h,m){return i(this,d,h,m,!1)},l.prototype.once=function(d,h,m){return i(this,d,h,m,!0)},l.prototype.removeListener=function(d,h,m,x){var y=r?r+d:d;if(!this._events[y])return this;if(!h)return o(this,y),this;var w=this._events[y];if(w.fn)w.fn===h&&(!x||w.once)&&(!m||w.context===m)&&o(this,y);else{for(var j=0,v=[],N=w.length;j<N;j++)(w[j].fn!==h||x&&!w[j].once||m&&w[j].context!==m)&&v.push(w[j]);v.length?this._events[y]=v.length===1?v[0]:v:o(this,y)}return this},l.prototype.removeAllListeners=function(d){var h;return d?(h=r?r+d:d,this._events[h]&&o(this,h)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,t.exports=l})(y5)),y5.exports}var sIe=aIe();const iIe=$r(sIe);var b5=new iIe,v5="recharts.syncMouseEvents";function J0(t){"@babel/helpers - typeof";return J0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},J0(t)}function oIe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lIe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,cQ(n.key),n)}}function cIe(t,e,r){return e&&lIe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function w5(t,e,r){return e=cQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cQ(t){var e=uIe(t,"string");return J0(e)=="symbol"?e:e+""}function uIe(t,e){if(J0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(J0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var dIe=(function(){function t(){oIe(this,t),w5(this,"activeIndex",0),w5(this,"coordinateList",[]),w5(this,"layout","horizontal")}return cIe(t,[{key:"setDetails",value:function(r){var n,s=r.coordinateList,i=s===void 0?null:s,o=r.container,l=o===void 0?null:o,c=r.layout,d=c===void 0?null:c,h=r.offset,m=h===void 0?null:h,x=r.mouseHandlerCallback,y=x===void 0?null:x;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=d??this.layout,this.offset=m??this.offset,this.mouseHandlerCallback=y??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var s=this.container.getBoundingClientRect(),i=s.x,o=s.y,l=s.height,c=this.coordinateList[this.activeIndex].coordinate,d=((r=window)===null||r===void 0?void 0:r.scrollX)||0,h=((n=window)===null||n===void 0?void 0:n.scrollY)||0,m=i+c+d,x=o+this.offset.top+l/2+h;this.mouseHandlerCallback({pageX:m,pageY:x})}}}])})();function fIe(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],s=t==null?void 0:t[1];if(n&&s&&yt(n)&&yt(s))return!0}return!1}function hIe(t,e,r,n){var s=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-s:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-s,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function uQ(t){var e=t.cx,r=t.cy,n=t.radius,s=t.startAngle,i=t.endAngle,o=gn(e,r,n,s),l=gn(e,r,n,i);return{points:[o,l],cx:e,cy:r,radius:n,startAngle:s,endAngle:i}}function mIe(t,e,r){var n,s,i,o;if(t==="horizontal")n=e.x,i=n,s=r.top,o=r.top+r.height;else if(t==="vertical")s=e.y,o=s,n=r.left,i=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,c=e.cy,d=e.innerRadius,h=e.outerRadius,m=e.angle,x=gn(l,c,d,m),y=gn(l,c,h,m);n=x.x,s=x.y,i=y.x,o=y.y}else return uQ(e);return[{x:n,y:s},{x:i,y:o}]}function Q0(t){"@babel/helpers - typeof";return Q0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Q0(t)}function mz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Oy(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mz(Object(r),!0).forEach(function(n){pIe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pIe(t,e,r){return e=gIe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gIe(t){var e=xIe(t,"string");return Q0(e)=="symbol"?e:e+""}function xIe(t,e){if(Q0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Q0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yIe(t){var e,r,n=t.element,s=t.tooltipEventType,i=t.isActive,o=t.activeCoordinate,l=t.activePayload,c=t.offset,d=t.activeTooltipIndex,h=t.tooltipAxisBandSize,m=t.layout,x=t.chartName,y=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!y||!i||!o||x!=="ScatterChart"&&s!=="axis")return null;var w,j=nw;if(x==="ScatterChart")w=o,j=HPe;else if(x==="BarChart")w=hIe(m,o,c,h),j=eD;else if(m==="radial"){var v=uQ(o),N=v.cx,T=v.cy,S=v.radius,O=v.startAngle,_=v.endAngle;w={cx:N,cy:T,startAngle:O,endAngle:_,innerRadius:S,outerRadius:S},j=dJ}else w={points:mIe(m,o,c)},j=nw;var A=Oy(Oy(Oy(Oy({stroke:"#ccc",pointerEvents:"none"},c),w),Yt(y,!1)),{},{payload:l,payloadIndex:d,className:Ht("recharts-tooltip-cursor",y.className)});return g.isValidElement(y)?g.cloneElement(y,A):g.createElement(j,A)}var bIe=["item"],vIe=["children","className","width","height","style","compact","title","desc"];function Ah(t){"@babel/helpers - typeof";return Ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ah(t)}function Mf(){return Mf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Mf.apply(this,arguments)}function pz(t,e){return SIe(t)||jIe(t,e)||fQ(t,e)||wIe()}function wIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jIe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(h){d=!0,s=h}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function SIe(t){if(Array.isArray(t))return t}function gz(t,e){if(t==null)return{};var r=NIe(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function NIe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function kIe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function CIe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,hQ(n.key),n)}}function TIe(t,e,r){return e&&CIe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _Ie(t,e,r){return e=Cw(e),MIe(t,dQ()?Reflect.construct(e,r||[],Cw(t).constructor):e.apply(t,r))}function MIe(t,e){if(e&&(Ah(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return AIe(t)}function AIe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dQ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dQ=function(){return!!t})()}function Cw(t){return Cw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cw(t)}function OIe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cA(t,e)}function cA(t,e){return cA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},cA(t,e)}function Oh(t){return PIe(t)||DIe(t)||fQ(t)||EIe()}function EIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fQ(t,e){if(t){if(typeof t=="string")return uA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uA(t,e)}}function DIe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function PIe(t){if(Array.isArray(t))return uA(t)}function uA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function xz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function qe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xz(Object(r),!0).forEach(function(n){Jt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Jt(t,e,r){return e=hQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hQ(t){var e=RIe(t,"string");return Ah(e)=="symbol"?e:e+""}function RIe(t,e){if(Ah(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ah(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var IIe={xAxis:["bottom","top"],yAxis:["left","right"]},LIe={width:"100%",height:"100%"},mQ={x:0,y:0};function Ey(t){return t}var $Ie=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},FIe=function(e,r,n,s){var i=r.find(function(h){return h&&h.index===n});if(i){if(e==="horizontal")return{x:i.coordinate,y:s.y};if(e==="vertical")return{x:s.x,y:i.coordinate};if(e==="centric"){var o=i.coordinate,l=s.radius;return qe(qe(qe({},s),gn(s.cx,s.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,d=s.angle;return qe(qe(qe({},s),gn(s.cx,s.cy,c,d)),{},{angle:d,radius:c})}return mQ},W1=function(e,r){var n=r.graphicalItems,s=r.dataStartIndex,i=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var d=c.props.data;return d&&d.length?[].concat(Oh(l),Oh(d)):l},[]);return o.length>0?o:e&&e.length&&yt(s)&&yt(i)?e.slice(s,i+1):[]};function pQ(t){return t==="number"?[0,"auto"]:void 0}var dA=function(e,r,n,s){var i=e.graphicalItems,o=e.tooltipAxis,l=W1(r,e);return n<0||!i||!i.length||n>=l.length?null:i.reduce(function(c,d){var h,m=(h=d.props.data)!==null&&h!==void 0?h:r;m&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(m=m.slice(e.dataStartIndex,e.dataEndIndex+1));var x;if(o.dataKey&&!o.allowDuplicatedCategory){var y=m===void 0?l:m;x=Mv(y,o.dataKey,s)}else x=m&&m[n]||l[n];return x?[].concat(Oh(c),[sJ(d,x)]):c},[])},yz=function(e,r,n,s){var i=s||{x:e.chartX,y:e.chartY},o=$Ie(i,n),l=e.orderedTooltipTicks,c=e.tooltipAxis,d=e.tooltipTicks,h=uOe(o,l,d,c);if(h>=0&&d){var m=d[h]&&d[h].value,x=dA(e,r,h,m),y=FIe(n,l,h,i);return{activeTooltipIndex:h,activeLabel:m,activePayload:x,activeCoordinate:y}}return null},HIe=function(e,r){var n=r.axes,s=r.graphicalItems,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,h=e.layout,m=e.children,x=e.stackOffset,y=ZX(h,i);return n.reduce(function(w,j){var v,N=j.type.defaultProps!==void 0?qe(qe({},j.type.defaultProps),j.props):j.props,T=N.type,S=N.dataKey,O=N.allowDataOverflow,_=N.allowDuplicatedCategory,A=N.scale,E=N.ticks,D=N.includeHidden,$=N[o];if(w[$])return w;var I=W1(e.data,{graphicalItems:s.filter(function(Z){var ie,oe=o in Z.props?Z.props[o]:(ie=Z.type.defaultProps)===null||ie===void 0?void 0:ie[o];return oe===$}),dataStartIndex:c,dataEndIndex:d}),L=I.length,R,z,Y;fIe(N.domain,O,T)&&(R=kM(N.domain,null,O),y&&(T==="number"||A!=="auto")&&(Y=Vp(I,S,"category")));var W=pQ(T);if(!R||R.length===0){var H,P=(H=N.domain)!==null&&H!==void 0?H:W;if(S){if(R=Vp(I,S,T),T==="category"&&y){var F=n2e(R);_&&F?(z=R,R=hw(0,L)):_||(R=xH(P,R,j).reduce(function(Z,ie){return Z.indexOf(ie)>=0?Z:[].concat(Oh(Z),[ie])},[]))}else if(T==="category")_?R=R.filter(function(Z){return Z!==""&&!ar(Z)}):R=xH(P,R,j).reduce(function(Z,ie){return Z.indexOf(ie)>=0||ie===""||ar(ie)?Z:[].concat(Oh(Z),[ie])},[]);else if(T==="number"){var X=pOe(I,s.filter(function(Z){var ie,oe,le=o in Z.props?Z.props[o]:(ie=Z.type.defaultProps)===null||ie===void 0?void 0:ie[o],ge="hide"in Z.props?Z.props.hide:(oe=Z.type.defaultProps)===null||oe===void 0?void 0:oe.hide;return le===$&&(D||!ge)}),S,i,h);X&&(R=X)}y&&(T==="number"||A!=="auto")&&(Y=Vp(I,S,"category"))}else y?R=hw(0,L):l&&l[$]&&l[$].hasStack&&T==="number"?R=x==="expand"?[0,1]:aJ(l[$].stackGroups,c,d):R=QX(I,s.filter(function(Z){var ie=o in Z.props?Z.props[o]:Z.type.defaultProps[o],oe="hide"in Z.props?Z.props.hide:Z.type.defaultProps.hide;return ie===$&&(D||!oe)}),T,h,!0);if(T==="number")R=lA(m,R,$,i,E),P&&(R=kM(P,R,O));else if(T==="category"&&P){var te=P,q=R.every(function(Z){return te.indexOf(Z)>=0});q&&(R=te)}}return qe(qe({},w),{},Jt({},$,qe(qe({},N),{},{axisType:i,domain:R,categoricalDomain:Y,duplicateDomain:z,originalDomain:(v=N.domain)!==null&&v!==void 0?v:W,isCategorical:y,layout:h})))},{})},BIe=function(e,r){var n=r.graphicalItems,s=r.Axis,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,h=e.layout,m=e.children,x=W1(e.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:d}),y=x.length,w=ZX(h,i),j=-1;return n.reduce(function(v,N){var T=N.type.defaultProps!==void 0?qe(qe({},N.type.defaultProps),N.props):N.props,S=T[o],O=pQ("number");if(!v[S]){j++;var _;return w?_=hw(0,y):l&&l[S]&&l[S].hasStack?(_=aJ(l[S].stackGroups,c,d),_=lA(m,_,S,i)):(_=kM(O,QX(x,n.filter(function(A){var E,D,$=o in A.props?A.props[o]:(E=A.type.defaultProps)===null||E===void 0?void 0:E[o],I="hide"in A.props?A.props.hide:(D=A.type.defaultProps)===null||D===void 0?void 0:D.hide;return $===S&&!I}),"number",h),s.defaultProps.allowDataOverflow),_=lA(m,_,S,i)),qe(qe({},v),{},Jt({},S,qe(qe({axisType:i},s.defaultProps),{},{hide:!0,orientation:Gs(IIe,"".concat(i,".").concat(j%2),null),domain:_,originalDomain:O,isCategorical:w,layout:h})))}return v},{})},zIe=function(e,r){var n=r.axisType,s=n===void 0?"xAxis":n,i=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,h=e.children,m="".concat(s,"Id"),x=Ys(h,i),y={};return x&&x.length?y=HIe(e,{axes:x,graphicalItems:o,axisType:s,axisIdKey:m,stackGroups:l,dataStartIndex:c,dataEndIndex:d}):o&&o.length&&(y=BIe(e,{Axis:i,graphicalItems:o,axisType:s,axisIdKey:m,stackGroups:l,dataStartIndex:c,dataEndIndex:d})),y},VIe=function(e){var r=Nc(e),n=ml(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:TE(n,function(s){return s.coordinate}),tooltipAxis:r,tooltipAxisBandSize:ew(r,n)}},bz=function(e){var r=e.children,n=e.defaultShowTooltip,s=Hs(r,wh),i=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),s&&s.props&&(s.props.startIndex>=0&&(i=s.props.startIndex),s.props.endIndex>=0&&(o=s.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},WIe=function(e){return!e||!e.length?!1:e.some(function(r){var n=Nl(r&&r.type);return n&&n.indexOf("Bar")>=0})},vz=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},qIe=function(e,r){var n=e.props,s=e.graphicalItems,i=e.xAxisMap,o=i===void 0?{}:i,l=e.yAxisMap,c=l===void 0?{}:l,d=n.width,h=n.height,m=n.children,x=n.margin||{},y=Hs(m,wh),w=Hs(m,wo),j=Object.keys(c).reduce(function(_,A){var E=c[A],D=E.orientation;return!E.mirror&&!E.hide?qe(qe({},_),{},Jt({},D,_[D]+E.width)):_},{left:x.left||0,right:x.right||0}),v=Object.keys(o).reduce(function(_,A){var E=o[A],D=E.orientation;return!E.mirror&&!E.hide?qe(qe({},_),{},Jt({},D,Gs(_,"".concat(D))+E.height)):_},{top:x.top||0,bottom:x.bottom||0}),N=qe(qe({},v),j),T=N.bottom;y&&(N.bottom+=y.props.height||wh.defaultProps.height),w&&r&&(N=hOe(N,s,n,r));var S=d-N.left-N.right,O=h-N.top-N.bottom;return qe(qe({brushBottom:T},N),{},{width:Math.max(S,0),height:Math.max(O,0)})},UIe=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},uD=function(e){var r=e.chartName,n=e.GraphicalChild,s=e.defaultTooltipEventType,i=s===void 0?"axis":s,o=e.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=e.axisComponents,d=e.legendContent,h=e.formatAxisMap,m=e.defaultProps,x=function(N,T){var S=T.graphicalItems,O=T.stackGroups,_=T.offset,A=T.updateId,E=T.dataStartIndex,D=T.dataEndIndex,$=N.barSize,I=N.layout,L=N.barGap,R=N.barCategoryGap,z=N.maxBarSize,Y=vz(I),W=Y.numericAxisName,H=Y.cateAxisName,P=WIe(S),F=[];return S.forEach(function(X,te){var q=W1(N.data,{graphicalItems:[X],dataStartIndex:E,dataEndIndex:D}),Z=X.type.defaultProps!==void 0?qe(qe({},X.type.defaultProps),X.props):X.props,ie=Z.dataKey,oe=Z.maxBarSize,le=Z["".concat(W,"Id")],ge=Z["".concat(H,"Id")],Le={},Oe=c.reduce(function(nt,xt){var Nt=T["".concat(xt.axisType,"Map")],wt=Z["".concat(xt.axisType,"Id")];Nt&&Nt[wt]||xt.axisType==="zAxis"||md();var zt=Nt[wt];return qe(qe({},nt),{},Jt(Jt({},xt.axisType,zt),"".concat(xt.axisType,"Ticks"),ml(zt)))},Le),xe=Oe[H],Me=Oe["".concat(H,"Ticks")],Be=O&&O[le]&&O[le].hasStack&&NOe(X,O[le].stackGroups),re=Nl(X.type).indexOf("Bar")>=0,se=ew(xe,Me),ee=[],ve=P&&dOe({barSize:$,stackGroups:O,totalSize:UIe(Oe,H)});if(re){var Ge,Ke,ye=ar(oe)?z:oe,ot=(Ge=(Ke=ew(xe,Me,!0))!==null&&Ke!==void 0?Ke:ye)!==null&&Ge!==void 0?Ge:0;ee=fOe({barGap:L,barCategoryGap:R,bandSize:ot!==se?ot:se,sizeList:ve[ge],maxBarSize:ye}),ot!==se&&(ee=ee.map(function(nt){return qe(qe({},nt),{},{position:qe(qe({},nt.position),{},{offset:nt.position.offset-ot/2})})}))}var mt=X&&X.type&&X.type.getComposedData;mt&&F.push({props:qe(qe({},mt(qe(qe({},Oe),{},{displayedData:q,props:N,dataKey:ie,item:X,bandSize:se,barPosition:ee,offset:_,stackedData:Be,layout:I,dataStartIndex:E,dataEndIndex:D}))),{},Jt(Jt(Jt({key:X.key||"item-".concat(te)},W,Oe[W]),H,Oe[H]),"animationId",A)),childIndex:g2e(X,N.children),item:X})}),F},y=function(N,T){var S=N.props,O=N.dataStartIndex,_=N.dataEndIndex,A=N.updateId;if(!O$({props:S}))return null;var E=S.children,D=S.layout,$=S.stackOffset,I=S.data,L=S.reverseStackOrder,R=vz(D),z=R.numericAxisName,Y=R.cateAxisName,W=Ys(E,n),H=jOe(I,W,"".concat(z,"Id"),"".concat(Y,"Id"),$,L),P=c.reduce(function(Z,ie){var oe="".concat(ie.axisType,"Map");return qe(qe({},Z),{},Jt({},oe,zIe(S,qe(qe({},ie),{},{graphicalItems:W,stackGroups:ie.axisType===z&&H,dataStartIndex:O,dataEndIndex:_}))))},{}),F=qIe(qe(qe({},P),{},{props:S,graphicalItems:W}),T==null?void 0:T.legendBBox);Object.keys(P).forEach(function(Z){P[Z]=h(S,P[Z],F,Z.replace("Map",""),r)});var X=P["".concat(Y,"Map")],te=VIe(X),q=x(S,qe(qe({},P),{},{dataStartIndex:O,dataEndIndex:_,updateId:A,graphicalItems:W,stackGroups:H,offset:F}));return qe(qe({formattedGraphicalItems:q,graphicalItems:W,offset:F,stackGroups:H},te),P)},w=(function(v){function N(T){var S,O,_;return kIe(this,N),_=_Ie(this,N,[T]),Jt(_,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Jt(_,"accessibilityManager",new dIe),Jt(_,"handleLegendBBoxUpdate",function(A){if(A){var E=_.state,D=E.dataStartIndex,$=E.dataEndIndex,I=E.updateId;_.setState(qe({legendBBox:A},y({props:_.props,dataStartIndex:D,dataEndIndex:$,updateId:I},qe(qe({},_.state),{},{legendBBox:A}))))}}),Jt(_,"handleReceiveSyncEvent",function(A,E,D){if(_.props.syncId===A){if(D===_.eventEmitterSymbol&&typeof _.props.syncMethod!="function")return;_.applySyncEvent(E)}}),Jt(_,"handleBrushChange",function(A){var E=A.startIndex,D=A.endIndex;if(E!==_.state.dataStartIndex||D!==_.state.dataEndIndex){var $=_.state.updateId;_.setState(function(){return qe({dataStartIndex:E,dataEndIndex:D},y({props:_.props,dataStartIndex:E,dataEndIndex:D,updateId:$},_.state))}),_.triggerSyncEvent({dataStartIndex:E,dataEndIndex:D})}}),Jt(_,"handleMouseEnter",function(A){var E=_.getMouseInfo(A);if(E){var D=qe(qe({},E),{},{isTooltipActive:!0});_.setState(D),_.triggerSyncEvent(D);var $=_.props.onMouseEnter;tr($)&&$(D,A)}}),Jt(_,"triggeredAfterMouseMove",function(A){var E=_.getMouseInfo(A),D=E?qe(qe({},E),{},{isTooltipActive:!0}):{isTooltipActive:!1};_.setState(D),_.triggerSyncEvent(D);var $=_.props.onMouseMove;tr($)&&$(D,A)}),Jt(_,"handleItemMouseEnter",function(A){_.setState(function(){return{isTooltipActive:!0,activeItem:A,activePayload:A.tooltipPayload,activeCoordinate:A.tooltipPosition||{x:A.cx,y:A.cy}}})}),Jt(_,"handleItemMouseLeave",function(){_.setState(function(){return{isTooltipActive:!1}})}),Jt(_,"handleMouseMove",function(A){A.persist(),_.throttleTriggeredAfterMouseMove(A)}),Jt(_,"handleMouseLeave",function(A){_.throttleTriggeredAfterMouseMove.cancel();var E={isTooltipActive:!1};_.setState(E),_.triggerSyncEvent(E);var D=_.props.onMouseLeave;tr(D)&&D(E,A)}),Jt(_,"handleOuterEvent",function(A){var E=p2e(A),D=Gs(_.props,"".concat(E));if(E&&tr(D)){var $,I;/.*touch.*/i.test(E)?I=_.getMouseInfo(A.changedTouches[0]):I=_.getMouseInfo(A),D(($=I)!==null&&$!==void 0?$:{},A)}}),Jt(_,"handleClick",function(A){var E=_.getMouseInfo(A);if(E){var D=qe(qe({},E),{},{isTooltipActive:!0});_.setState(D),_.triggerSyncEvent(D);var $=_.props.onClick;tr($)&&$(D,A)}}),Jt(_,"handleMouseDown",function(A){var E=_.props.onMouseDown;if(tr(E)){var D=_.getMouseInfo(A);E(D,A)}}),Jt(_,"handleMouseUp",function(A){var E=_.props.onMouseUp;if(tr(E)){var D=_.getMouseInfo(A);E(D,A)}}),Jt(_,"handleTouchMove",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&_.throttleTriggeredAfterMouseMove(A.changedTouches[0])}),Jt(_,"handleTouchStart",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&_.handleMouseDown(A.changedTouches[0])}),Jt(_,"handleTouchEnd",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&_.handleMouseUp(A.changedTouches[0])}),Jt(_,"handleDoubleClick",function(A){var E=_.props.onDoubleClick;if(tr(E)){var D=_.getMouseInfo(A);E(D,A)}}),Jt(_,"handleContextMenu",function(A){var E=_.props.onContextMenu;if(tr(E)){var D=_.getMouseInfo(A);E(D,A)}}),Jt(_,"triggerSyncEvent",function(A){_.props.syncId!==void 0&&b5.emit(v5,_.props.syncId,A,_.eventEmitterSymbol)}),Jt(_,"applySyncEvent",function(A){var E=_.props,D=E.layout,$=E.syncMethod,I=_.state.updateId,L=A.dataStartIndex,R=A.dataEndIndex;if(A.dataStartIndex!==void 0||A.dataEndIndex!==void 0)_.setState(qe({dataStartIndex:L,dataEndIndex:R},y({props:_.props,dataStartIndex:L,dataEndIndex:R,updateId:I},_.state)));else if(A.activeTooltipIndex!==void 0){var z=A.chartX,Y=A.chartY,W=A.activeTooltipIndex,H=_.state,P=H.offset,F=H.tooltipTicks;if(!P)return;if(typeof $=="function")W=$(F,A);else if($==="value"){W=-1;for(var X=0;X<F.length;X++)if(F[X].value===A.activeLabel){W=X;break}}var te=qe(qe({},P),{},{x:P.left,y:P.top}),q=Math.min(z,te.x+te.width),Z=Math.min(Y,te.y+te.height),ie=F[W]&&F[W].value,oe=dA(_.state,_.props.data,W),le=F[W]?{x:D==="horizontal"?F[W].coordinate:q,y:D==="horizontal"?Z:F[W].coordinate}:mQ;_.setState(qe(qe({},A),{},{activeLabel:ie,activeCoordinate:le,activePayload:oe,activeTooltipIndex:W}))}else _.setState(A)}),Jt(_,"renderCursor",function(A){var E,D=_.state,$=D.isTooltipActive,I=D.activeCoordinate,L=D.activePayload,R=D.offset,z=D.activeTooltipIndex,Y=D.tooltipAxisBandSize,W=_.getTooltipEventType(),H=(E=A.props.active)!==null&&E!==void 0?E:$,P=_.props.layout,F=A.key||"_recharts-cursor";return J.createElement(yIe,{key:F,activeCoordinate:I,activePayload:L,activeTooltipIndex:z,chartName:r,element:A,isActive:H,layout:P,offset:R,tooltipAxisBandSize:Y,tooltipEventType:W})}),Jt(_,"renderPolarAxis",function(A,E,D){var $=Gs(A,"type.axisType"),I=Gs(_.state,"".concat($,"Map")),L=A.type.defaultProps,R=L!==void 0?qe(qe({},L),A.props):A.props,z=I&&I[R["".concat($,"Id")]];return g.cloneElement(A,qe(qe({},z),{},{className:Ht($,z.className),key:A.key||"".concat(E,"-").concat(D),ticks:ml(z,!0)}))}),Jt(_,"renderPolarGrid",function(A){var E=A.props,D=E.radialLines,$=E.polarAngles,I=E.polarRadius,L=_.state,R=L.radiusAxisMap,z=L.angleAxisMap,Y=Nc(R),W=Nc(z),H=W.cx,P=W.cy,F=W.innerRadius,X=W.outerRadius;return g.cloneElement(A,{polarAngles:Array.isArray($)?$:ml(W,!0).map(function(te){return te.coordinate}),polarRadius:Array.isArray(I)?I:ml(Y,!0).map(function(te){return te.coordinate}),cx:H,cy:P,innerRadius:F,outerRadius:X,key:A.key||"polar-grid",radialLines:D})}),Jt(_,"renderLegend",function(){var A=_.state.formattedGraphicalItems,E=_.props,D=E.children,$=E.width,I=E.height,L=_.props.margin||{},R=$-(L.left||0)-(L.right||0),z=XX({children:D,formattedGraphicalItems:A,legendWidth:R,legendContent:d});if(!z)return null;var Y=z.item,W=gz(z,bIe);return g.cloneElement(Y,qe(qe({},W),{},{chartWidth:$,chartHeight:I,margin:L,onBBoxUpdate:_.handleLegendBBoxUpdate}))}),Jt(_,"renderTooltip",function(){var A,E=_.props,D=E.children,$=E.accessibilityLayer,I=Hs(D,ja);if(!I)return null;var L=_.state,R=L.isTooltipActive,z=L.activeCoordinate,Y=L.activePayload,W=L.activeLabel,H=L.offset,P=(A=I.props.active)!==null&&A!==void 0?A:R;return g.cloneElement(I,{viewBox:qe(qe({},H),{},{x:H.left,y:H.top}),active:P,label:W,payload:P?Y:[],coordinate:z,accessibilityLayer:$})}),Jt(_,"renderBrush",function(A){var E=_.props,D=E.margin,$=E.data,I=_.state,L=I.offset,R=I.dataStartIndex,z=I.dataEndIndex,Y=I.updateId;return g.cloneElement(A,{key:A.key||"_recharts-brush",onChange:Ty(_.handleBrushChange,A.props.onChange),data:$,x:yt(A.props.x)?A.props.x:L.left,y:yt(A.props.y)?A.props.y:L.top+L.height+L.brushBottom-(D.bottom||0),width:yt(A.props.width)?A.props.width:L.width,startIndex:R,endIndex:z,updateId:"brush-".concat(Y)})}),Jt(_,"renderReferenceElement",function(A,E,D){if(!A)return null;var $=_,I=$.clipPathId,L=_.state,R=L.xAxisMap,z=L.yAxisMap,Y=L.offset,W=A.type.defaultProps||{},H=A.props,P=H.xAxisId,F=P===void 0?W.xAxisId:P,X=H.yAxisId,te=X===void 0?W.yAxisId:X;return g.cloneElement(A,{key:A.key||"".concat(E,"-").concat(D),xAxis:R[F],yAxis:z[te],viewBox:{x:Y.left,y:Y.top,width:Y.width,height:Y.height},clipPathId:I})}),Jt(_,"renderActivePoints",function(A){var E=A.item,D=A.activePoint,$=A.basePoint,I=A.childIndex,L=A.isRange,R=[],z=E.props.key,Y=E.item.type.defaultProps!==void 0?qe(qe({},E.item.type.defaultProps),E.item.props):E.item.props,W=Y.activeDot,H=Y.dataKey,P=qe(qe({index:I,dataKey:H,cx:D.x,cy:D.y,r:4,fill:ZE(E.item),strokeWidth:2,stroke:"#fff",payload:D.payload,value:D.value},Yt(W,!1)),Av(W));return R.push(N.renderActiveDot(W,P,"".concat(z,"-activePoint-").concat(I))),$?R.push(N.renderActiveDot(W,qe(qe({},P),{},{cx:$.x,cy:$.y}),"".concat(z,"-basePoint-").concat(I))):L&&R.push(null),R}),Jt(_,"renderGraphicChild",function(A,E,D){var $=_.filterFormatItem(A,E,D);if(!$)return null;var I=_.getTooltipEventType(),L=_.state,R=L.isTooltipActive,z=L.tooltipAxis,Y=L.activeTooltipIndex,W=L.activeLabel,H=_.props.children,P=Hs(H,ja),F=$.props,X=F.points,te=F.isRange,q=F.baseLine,Z=$.item.type.defaultProps!==void 0?qe(qe({},$.item.type.defaultProps),$.item.props):$.item.props,ie=Z.activeDot,oe=Z.hide,le=Z.activeBar,ge=Z.activeShape,Le=!!(!oe&&R&&P&&(ie||le||ge)),Oe={};I!=="axis"&&P&&P.props.trigger==="click"?Oe={onClick:Ty(_.handleItemMouseEnter,A.props.onClick)}:I!=="axis"&&(Oe={onMouseLeave:Ty(_.handleItemMouseLeave,A.props.onMouseLeave),onMouseEnter:Ty(_.handleItemMouseEnter,A.props.onMouseEnter)});var xe=g.cloneElement(A,qe(qe({},$.props),Oe));function Me(xt){return typeof z.dataKey=="function"?z.dataKey(xt.payload):null}if(Le)if(Y>=0){var Be,re;if(z.dataKey&&!z.allowDuplicatedCategory){var se=typeof z.dataKey=="function"?Me:"payload.".concat(z.dataKey.toString());Be=Mv(X,se,W),re=te&&q&&Mv(q,se,W)}else Be=X==null?void 0:X[Y],re=te&&q&&q[Y];if(ge||le){var ee=A.props.activeIndex!==void 0?A.props.activeIndex:Y;return[g.cloneElement(A,qe(qe(qe({},$.props),Oe),{},{activeIndex:ee})),null,null]}if(!ar(Be))return[xe].concat(Oh(_.renderActivePoints({item:$,activePoint:Be,basePoint:re,childIndex:Y,isRange:te})))}else{var ve,Ge=(ve=_.getItemByXY(_.state.activeCoordinate))!==null&&ve!==void 0?ve:{graphicalItem:xe},Ke=Ge.graphicalItem,ye=Ke.item,ot=ye===void 0?A:ye,mt=Ke.childIndex,nt=qe(qe(qe({},$.props),Oe),{},{activeIndex:mt});return[g.cloneElement(ot,nt),null,null]}return te?[xe,null,null]:[xe,null]}),Jt(_,"renderCustomized",function(A,E,D){return g.cloneElement(A,qe(qe({key:"recharts-customized-".concat(D)},_.props),_.state))}),Jt(_,"renderMap",{CartesianGrid:{handler:Ey,once:!0},ReferenceArea:{handler:_.renderReferenceElement},ReferenceLine:{handler:Ey},ReferenceDot:{handler:_.renderReferenceElement},XAxis:{handler:Ey},YAxis:{handler:Ey},Brush:{handler:_.renderBrush,once:!0},Bar:{handler:_.renderGraphicChild},Line:{handler:_.renderGraphicChild},Area:{handler:_.renderGraphicChild},Radar:{handler:_.renderGraphicChild},RadialBar:{handler:_.renderGraphicChild},Scatter:{handler:_.renderGraphicChild},Pie:{handler:_.renderGraphicChild},Funnel:{handler:_.renderGraphicChild},Tooltip:{handler:_.renderCursor,once:!0},PolarGrid:{handler:_.renderPolarGrid,once:!0},PolarAngleAxis:{handler:_.renderPolarAxis},PolarRadiusAxis:{handler:_.renderPolarAxis},Customized:{handler:_.renderCustomized}}),_.clipPathId="".concat((S=T.id)!==null&&S!==void 0?S:qh("recharts"),"-clip"),_.throttleTriggeredAfterMouseMove=KK(_.triggeredAfterMouseMove,(O=T.throttleDelay)!==null&&O!==void 0?O:1e3/60),_.state={},_}return OIe(N,v),TIe(N,[{key:"componentDidMount",value:function(){var S,O;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(O=this.props.margin.top)!==null&&O!==void 0?O:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var S=this.props,O=S.children,_=S.data,A=S.height,E=S.layout,D=Hs(O,ja);if(D){var $=D.props.defaultIndex;if(!(typeof $!="number"||$<0||$>this.state.tooltipTicks.length-1)){var I=this.state.tooltipTicks[$]&&this.state.tooltipTicks[$].value,L=dA(this.state,_,$,I),R=this.state.tooltipTicks[$].coordinate,z=(this.state.offset.top+A)/2,Y=E==="horizontal",W=Y?{x:R,y:z}:{y:R,x:z},H=this.state.formattedGraphicalItems.find(function(F){var X=F.item;return X.type.name==="Scatter"});H&&(W=qe(qe({},W),H.props.points[$].tooltipPosition),L=H.props.points[$].tooltipPayload);var P={activeTooltipIndex:$,isTooltipActive:!0,activeLabel:I,activePayload:L,activeCoordinate:W};this.setState(P),this.renderCursor(D),this.accessibilityManager.setIndex($)}}}},{key:"getSnapshotBeforeUpdate",value:function(S,O){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==O.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==S.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==S.margin){var _,A;this.accessibilityManager.setDetails({offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0}})}return null}},{key:"componentDidUpdate",value:function(S){G_([Hs(S.children,ja)],[Hs(this.props.children,ja)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var S=Hs(this.props.children,ja);if(S&&typeof S.props.shared=="boolean"){var O=S.props.shared?"axis":"item";return l.indexOf(O)>=0?O:i}return i}},{key:"getMouseInfo",value:function(S){if(!this.container)return null;var O=this.container,_=O.getBoundingClientRect(),A=r5e(_),E={chartX:Math.round(S.pageX-A.left),chartY:Math.round(S.pageY-A.top)},D=_.width/O.offsetWidth||1,$=this.inRange(E.chartX,E.chartY,D);if(!$)return null;var I=this.state,L=I.xAxisMap,R=I.yAxisMap,z=this.getTooltipEventType(),Y=yz(this.state,this.props.data,this.props.layout,$);if(z!=="axis"&&L&&R){var W=Nc(L).scale,H=Nc(R).scale,P=W&&W.invert?W.invert(E.chartX):null,F=H&&H.invert?H.invert(E.chartY):null;return qe(qe({},E),{},{xValue:P,yValue:F},Y)}return Y?qe(qe({},E),Y):null}},{key:"inRange",value:function(S,O){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,A=this.props.layout,E=S/_,D=O/_;if(A==="horizontal"||A==="vertical"){var $=this.state.offset,I=E>=$.left&&E<=$.left+$.width&&D>=$.top&&D<=$.top+$.height;return I?{x:E,y:D}:null}var L=this.state,R=L.angleAxisMap,z=L.radiusAxisMap;if(R&&z){var Y=Nc(R);return vH({x:E,y:D},Y)}return null}},{key:"parseEventsOfWrapper",value:function(){var S=this.props.children,O=this.getTooltipEventType(),_=Hs(S,ja),A={};_&&O==="axis"&&(_.props.trigger==="click"?A={onClick:this.handleClick}:A={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var E=Av(this.props,this.handleOuterEvent);return qe(qe({},E),A)}},{key:"addListener",value:function(){b5.on(v5,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){b5.removeListener(v5,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(S,O,_){for(var A=this.state.formattedGraphicalItems,E=0,D=A.length;E<D;E++){var $=A[E];if($.item===S||$.props.key===S.key||O===Nl($.item.type)&&_===$.childIndex)return $}return null}},{key:"renderClipPath",value:function(){var S=this.clipPathId,O=this.state.offset,_=O.left,A=O.top,E=O.height,D=O.width;return J.createElement("defs",null,J.createElement("clipPath",{id:S},J.createElement("rect",{x:_,y:A,height:E,width:D})))}},{key:"getXScales",value:function(){var S=this.state.xAxisMap;return S?Object.entries(S).reduce(function(O,_){var A=pz(_,2),E=A[0],D=A[1];return qe(qe({},O),{},Jt({},E,D.scale))},{}):null}},{key:"getYScales",value:function(){var S=this.state.yAxisMap;return S?Object.entries(S).reduce(function(O,_){var A=pz(_,2),E=A[0],D=A[1];return qe(qe({},O),{},Jt({},E,D.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(S){var O;return(O=this.state.xAxisMap)===null||O===void 0||(O=O[S])===null||O===void 0?void 0:O.scale}},{key:"getYScaleByAxisId",value:function(S){var O;return(O=this.state.yAxisMap)===null||O===void 0||(O=O[S])===null||O===void 0?void 0:O.scale}},{key:"getItemByXY",value:function(S){var O=this.state,_=O.formattedGraphicalItems,A=O.activeItem;if(_&&_.length)for(var E=0,D=_.length;E<D;E++){var $=_[E],I=$.props,L=$.item,R=L.type.defaultProps!==void 0?qe(qe({},L.type.defaultProps),L.props):L.props,z=Nl(L.type);if(z==="Bar"){var Y=(I.data||[]).find(function(F){return vPe(S,F)});if(Y)return{graphicalItem:$,payload:Y}}else if(z==="RadialBar"){var W=(I.data||[]).find(function(F){return vH(S,F)});if(W)return{graphicalItem:$,payload:W}}else if(L1($,A)||$1($,A)||U0($,A)){var H=V4e({graphicalItem:$,activeTooltipItem:A,itemData:R.data}),P=R.activeIndex===void 0?H:R.activeIndex;return{graphicalItem:qe(qe({},$),{},{childIndex:P}),payload:U0($,A)?R.data[H]:$.props.data[H]}}}return null}},{key:"render",value:function(){var S=this;if(!O$(this))return null;var O=this.props,_=O.children,A=O.className,E=O.width,D=O.height,$=O.style,I=O.compact,L=O.title,R=O.desc,z=gz(O,vIe),Y=Yt(z,!1);if(I)return J.createElement(XB,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},J.createElement(K_,Mf({},Y,{width:E,height:D,title:L,desc:R}),this.renderClipPath(),D$(_,this.renderMap)));if(this.props.accessibilityLayer){var W,H;Y.tabIndex=(W=this.props.tabIndex)!==null&&W!==void 0?W:0,Y.role=(H=this.props.role)!==null&&H!==void 0?H:"application",Y.onKeyDown=function(F){S.accessibilityManager.keyboardEvent(F)},Y.onFocus=function(){S.accessibilityManager.focus()}}var P=this.parseEventsOfWrapper();return J.createElement(XB,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},J.createElement("div",Mf({className:Ht("recharts-wrapper",A),style:qe({position:"relative",cursor:"default",width:E,height:D},$)},P,{ref:function(X){S.container=X}}),J.createElement(K_,Mf({},Y,{width:E,height:D,title:L,desc:R,style:LIe}),this.renderClipPath(),D$(_,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(g.Component);Jt(w,"displayName",r),Jt(w,"defaultProps",qe({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},m)),Jt(w,"getDerivedStateFromProps",function(v,N){var T=v.dataKey,S=v.data,O=v.children,_=v.width,A=v.height,E=v.layout,D=v.stackOffset,$=v.margin,I=N.dataStartIndex,L=N.dataEndIndex;if(N.updateId===void 0){var R=bz(v);return qe(qe(qe({},R),{},{updateId:0},y(qe(qe({props:v},R),{},{updateId:0}),N)),{},{prevDataKey:T,prevData:S,prevWidth:_,prevHeight:A,prevLayout:E,prevStackOffset:D,prevMargin:$,prevChildren:O})}if(T!==N.prevDataKey||S!==N.prevData||_!==N.prevWidth||A!==N.prevHeight||E!==N.prevLayout||D!==N.prevStackOffset||!Hf($,N.prevMargin)){var z=bz(v),Y={chartX:N.chartX,chartY:N.chartY,isTooltipActive:N.isTooltipActive},W=qe(qe({},yz(N,S,E)),{},{updateId:N.updateId+1}),H=qe(qe(qe({},z),Y),W);return qe(qe(qe({},H),y(qe({props:v},H),N)),{},{prevDataKey:T,prevData:S,prevWidth:_,prevHeight:A,prevLayout:E,prevStackOffset:D,prevMargin:$,prevChildren:O})}if(!G_(O,N.prevChildren)){var P,F,X,te,q=Hs(O,wh),Z=q&&(P=(F=q.props)===null||F===void 0?void 0:F.startIndex)!==null&&P!==void 0?P:I,ie=q&&(X=(te=q.props)===null||te===void 0?void 0:te.endIndex)!==null&&X!==void 0?X:L,oe=Z!==I||ie!==L,le=!ar(S),ge=le&&!oe?N.updateId:N.updateId+1;return qe(qe({updateId:ge},y(qe(qe({props:v},N),{},{updateId:ge,dataStartIndex:Z,dataEndIndex:ie}),N)),{},{prevChildren:O,dataStartIndex:Z,dataEndIndex:ie})}return null}),Jt(w,"renderActiveDot",function(v,N,T){var S;return g.isValidElement(v)?S=g.cloneElement(v,N):tr(v)?S=v(N):S=J.createElement(E1,N),J.createElement(Ir,{className:"recharts-active-dot",key:T},S)});var j=g.forwardRef(function(N,T){return J.createElement(w,Mf({},N,{ref:T}))});return j.displayName=w.displayName,j},fA=uD({chartName:"LineChart",GraphicalChild:gd,axisComponents:[{axisType:"xAxis",AxisComp:No},{axisType:"yAxis",AxisComp:ko}],formatAxisMap:RJ}),hA=uD({chartName:"BarChart",GraphicalChild:Rl,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:No},{axisType:"yAxis",AxisComp:ko}],formatAxisMap:RJ}),dD=uD({chartName:"PieChart",GraphicalChild:Ji,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:I1},{axisType:"radiusAxis",AxisComp:P1}],formatAxisMap:POe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const wz=(t,e,r,n)=>{if(t==null||e===null||e===void 0||r===null||r===void 0||n===null||n===void 0)return null;const s=t*60+e,i=r*60+n;let o=Math.abs(i-s);return o>720&&(o=1440-o),o},Dy=t=>{if(t==null||isNaN(t)||t<0)return"-";const e=Math.round(t*100)/100,r=Math.floor(e/60),n=e%60;return e===0?"0min":r===0&&n>0?`${n.toFixed(2)}min`:r>0&&n===0?`${r}h`:`${r}h ${n.toFixed(2)}min`},j5=({title:t,value:e,change:r,icon:n})=>{const s=r==null?void 0:r.startsWith("+");return a.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),a.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),r&&a.jsxs("p",{className:`mt-3 text-xs font-semibold ${s?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})},GIe=()=>{const[t,e]=g.useState(()=>{const W=localStorage.getItem("sidebarOpen");return W?JSON.parse(W):!1}),[r,n]=g.useState(!1),[s,i]=g.useState([]),[o,l]=g.useState(!0),[c,d]=g.useState(null),{user:h,getMachineHistories:m}=St(),x=jt(),y=ua(),[w,j]=g.useState(window.innerWidth<768),[v,N]=g.useState(!1),[T,S]=g.useState(!1),O=J.useRef(null),_=J.useRef(null),A=y.pathname==="/machinehistory",E=y.pathname==="/machinehistory/reports";g.useEffect(()=>{(async()=>{l(!0);try{const H=await m();i(H||[])}catch(H){console.error("Failed to fetch machine history for reports:",H),d("Failed to load machine history data for reports."),i([])}finally{l(!1)}})()},[m]),g.useEffect(()=>{const W=()=>{j(window.innerWidth<768),window.innerWidth<768&&e(!1)};return window.addEventListener("resize",W),()=>window.removeEventListener("resize",W)},[]),g.useEffect(()=>{const W=H=>{O.current&&!O.current.contains(H.target)&&N(!1),_.current&&!_.current.contains(H.target)&&S(!1)};return document.addEventListener("mousedown",W),()=>{document.removeEventListener("mousedown",W)}},[]);const D=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!t)),e(W=>!W)},$=g.useMemo(()=>s.length,[s]),I=g.useMemo(()=>{const W={};return s.forEach(H=>{H.mesin&&(W[H.mesin]=(W[H.mesin]||0)+1)}),Object.entries(W).sort(([,H],[,P])=>P-H).slice(0,3).map(([H,P])=>({name:H,count:P}))},[s]),L=g.useMemo(()=>{const W={};return s.forEach(H=>{if(H.mesin){const P=wz(H.stopJam,H.stopMenit,H.startJam,H.startMenit);P!==null&&(W[H.mesin]||(W[H.mesin]={totalMinutes:0,count:0}),W[H.mesin].totalMinutes+=P,W[H.mesin].count+=1)}}),Object.entries(W).map(([H,P])=>{const F=P.count>0?P.totalMinutes/P.count:0,X=Math.round(F*100)/100;return{name:H,averageDowntimeMinutes:X,displayDowntime:Dy(X)}})},[s]),R=g.useMemo(()=>{const W={};return s.forEach(H=>{if(H.date){const P=new Date(H.date),F=P.getFullYear(),X=(P.getMonth()+1).toString().padStart(2,"0"),te=`${F}-${X}`;W[te]=(W[te]||0)+1}}),Object.entries(W).sort(([H],[P])=>H.localeCompare(P)).map(([H,P])=>{const[F,X]=H.split("-");return{name:`${new Date(Number(F),Number(X)-1,1).toLocaleString("en-US",{month:"short"})} ${F}`,"Maintenance Events":P}})},[s]),z=g.useMemo(()=>{const W={Perbaikan:0,Perawatan:0};return s.forEach(H=>{H.perbaikanPerawatan==="Perbaikan"?W.Perbaikan+=1:H.perbaikanPerawatan==="Perawatan"&&(W.Perawatan+=1)}),[{name:"Repairs",value:W.Perbaikan},{name:"Maintenance",value:W.Perawatan}].filter(H=>H.value>0)},[s]),Y=["#8884d8","#82ca9d","#ffc658","#ff7300"];return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Mt,{mainTitle:"Machine History",mainTitleHighlight:"Machine History",description:"Manage activities and their configurations within the system.",icon:a.jsx(og,{}),isMobile:w,toggleSidebar:D}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"isi style mb-6 flex space-x-6 border-b border-gray-200",children:[a.jsx(C.div,{whileTap:{scale:.98},onClick:()=>x("/machinehistory"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${A?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Record"}),a.jsx(C.div,{whileTap:{scale:.98},onClick:()=>x("/machinehistory/reports"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${E?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Reports"})]}),a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8",children:[a.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Machine History ",a.jsx("span",{className:"text-blue-600",children:"Reports & Analytics"})]}),a.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Gain insights into machine maintenance trends, downtime, and performance."})]}),o?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),a.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading analytics data..."})]}):s.length===0?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx(sa,{className:"text-blue-500 text-4xl mx-auto mb-4"}),a.jsx("p",{className:"text-gray-700 text-base font-medium",children:"No machine history records available to generate reports."})]}):a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[a.jsx(j5,{title:"Total Maintenance Events",value:$.toLocaleString("id-ID"),icon:a.jsx(ir,{})}),a.jsx(j5,{title:"Avg. Downtime (All Machines)",value:Dy(Math.round(s.reduce((W,H)=>W+(wz(H.stopJam,H.stopMenit,H.startJam,H.startMenit)||0),0)/s.length*100)/100),icon:a.jsx(Lt,{})}),a.jsx(j5,{title:"Machines Maintained",value:new Set(s.map(W=>W.mesin)).size.toLocaleString("id-ID"),icon:a.jsx(pn,{})}),a.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1,ease:"easeOut"},className:"lg:col-span-2 bg-white rounded-2xl shadow-md p-6 border border-blue-50",children:[a.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[a.jsx(Ui,{className:"mr-2 text-blue-600"})," Most Frequently Maintained Machines"]}),a.jsx(dl,{width:"100%",height:300,children:a.jsxs(hA,{data:I,margin:{top:20,right:30,left:20,bottom:5},children:[a.jsx(ed,{strokeDasharray:"3 3",stroke:"#e0e7ff"}),a.jsx(No,{dataKey:"name",tickLine:!1,axisLine:!1,style:{fontSize:"12px",fill:"#6B7280"}}),a.jsx(ko,{allowDecimals:!1,tickLine:!1,axisLine:!1,style:{fontSize:"12px",fill:"#6B7280"}}),a.jsx(ja,{cursor:{fill:"rgba(239, 246, 255, 0.7)"},contentStyle:{backgroundColor:"#fff",border:"1px solid #e0e7ff",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",padding:"10px"},labelStyle:{fontWeight:"bold",color:"#374151"},itemStyle:{color:"#4B5563"}}),a.jsx(Rl,{dataKey:"count",fill:"#3B82F6",barSize:30,radius:[10,10,0,0]})]})}),I.length===0&&a.jsx("p",{className:"text-center text-gray-500 mt-4 text-sm",children:"No data for most frequently maintained machines."})]}),a.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2,ease:"easeOut"},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 flex flex-col items-center justify-center",children:[a.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[a.jsx($t,{className:"mr-2 text-blue-600"})," Maintenance Type Distribution"]}),z.length>0?a.jsx(dl,{width:"100%",height:300,children:a.jsxs(dD,{children:[a.jsx(Ji,{data:z,cx:"50%",cy:"50%",labelLine:!1,outerRadius:100,fill:"#8884d8",dataKey:"value",nameKey:"name",children:z.map((W,H)=>a.jsx(Gh,{fill:Y[H%Y.length]},`cell-${H}`))}),a.jsx(ja,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e0e7ff",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",padding:"10px"},labelStyle:{fontWeight:"bold",color:"#374151"},itemStyle:{color:"#4B5563"},formatter:(W,H)=>[`${W} events`,H]}),a.jsx(wo,{layout:"vertical",align:"right",verticalAlign:"middle",wrapperStyle:{fontSize:"12px",color:"#6B7280"}})]})}):a.jsx("p",{className:"text-center text-gray-500 mt-4 text-sm",children:"No data for maintenance types."})]}),a.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3,ease:"easeOut"},className:"lg:col-span-3 bg-white rounded-2xl shadow-md p-6 border border-blue-50",children:[a.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[a.jsx(Lt,{className:"mr-2 text-blue-600"})," Average Downtime per Machine"]}),a.jsx(dl,{width:"100%",height:350,children:a.jsxs(hA,{data:L,margin:{top:20,right:30,left:20,bottom:5},children:[a.jsx(ed,{strokeDasharray:"3 3",stroke:"#e0e7ff"}),a.jsx(No,{dataKey:"name",tickLine:!1,axisLine:!1,style:{fontSize:"12px",fill:"#6B7280"}}),a.jsx(ko,{tickFormatter:W=>Dy(W),tickLine:!1,axisLine:!1,style:{fontSize:"12px",fill:"#6B7280"}}),a.jsx(ja,{cursor:{fill:"rgba(239, 246, 255, 0.7)"},contentStyle:{backgroundColor:"#fff",border:"1px solid #e0e7ff",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",padding:"10px"},labelStyle:{fontWeight:"bold",color:"#374151"},itemStyle:{color:"#4B5563"},formatter:W=>Dy(W)}),a.jsx(Rl,{dataKey:"averageDowntimeMinutes",fill:"#82ca9d",barSize:30,radius:[10,10,0,0]})]})}),L.length===0&&a.jsx("p",{className:"text-center text-gray-500 mt-4 text-sm",children:"No data for average downtime per machine."})]}),a.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4,ease:"easeOut"},className:"lg:col-span-3 bg-white rounded-2xl shadow-md p-6 border border-blue-50",children:[a.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[a.jsx(Ou,{className:"mr-2 text-blue-600"})," Maintenance Trend Over Time"]}),a.jsx(dl,{width:"100%",height:350,children:a.jsxs(fA,{data:R,margin:{top:20,right:30,left:20,bottom:5},children:[a.jsx(ed,{strokeDasharray:"3 3",stroke:"#e0e7ff"}),a.jsx(No,{dataKey:"name",tickLine:!1,axisLine:!1,style:{fontSize:"12px",fill:"#6B7280"}}),a.jsx(ko,{allowDecimals:!1,tickLine:!1,axisLine:!1,style:{fontSize:"12px",fill:"#6B7280"}}),a.jsx(ja,{cursor:{fill:"rgba(239, 246, 255, 0.7)"},contentStyle:{backgroundColor:"#fff",border:"1px solid #e0e7ff",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",padding:"10px"},labelStyle:{fontWeight:"bold",color:"#374151"},itemStyle:{color:"#4B5563"}}),a.jsx(wo,{wrapperStyle:{fontSize:"12px",color:"#6B7280"}}),a.jsx(gd,{type:"monotone",dataKey:"Maintenance Events",stroke:"#3B82F6",strokeWidth:2,dot:{r:4},activeDot:{r:6}})]})}),R.length===0&&a.jsx("p",{className:"text-center text-gray-500 mt-4 text-sm",children:"No data for maintenance trend over time."})]})]})]})]})]})};function YIe(t,e){const[r,n]=g.useState(t);return g.useEffect(()=>{const s=setTimeout(()=>{n(t)},e);return()=>{clearTimeout(s)}},[t,e]),r}const KIe=()=>{const[t,e]=g.useState(()=>{const se=localStorage.getItem("sidebarOpen");return se?JSON.parse(se):!1}),[r,n]=g.useState(!1),[s,i]=g.useState([]),[o,l]=g.useState(!0),[c,d]=g.useState(null),[h,m]=g.useState(1),[x]=g.useState(10),{user:y,getAuditTrail:w,isAuthenticated:j}=St();jt();const[v,N]=g.useState(window.innerWidth<768),[T,S]=g.useState(!1),[O,_]=g.useState(!1),A=g.useRef(null),E=g.useRef(null),[D,$]=g.useState({key:"changed_at",direction:"descending"}),[I,L]=g.useState(""),R=YIe(I,300),[z,Y]=g.useState(!1),[W,H]=g.useState(null),P=g.useCallback(async()=>{try{l(!0),d(null);const se=await w();i(se)}catch(se){console.error("Failed to fetch audit trail:",se),d("Failed to load audit trail data. Please try again."),i([])}finally{l(!1)}},[w]);g.useEffect(()=>{P()},[P]),g.useEffect(()=>{const se=()=>{N(window.innerWidth<768),window.innerWidth<768&&e(!1)};return window.addEventListener("resize",se),()=>window.removeEventListener("resize",se)},[]),g.useEffect(()=>{const se=ee=>{A.current&&!A.current.contains(ee.target)&&S(!1),E.current&&!E.current.contains(ee.target)&&_(!1)};return document.addEventListener("mousedown",se),()=>{document.removeEventListener("mousedown",se)}},[]);const F=se=>{L(se.target.value)},X=se=>{let ee="ascending";D&&D.key===se&&D.direction==="ascending"&&(ee="descending"),$({key:se,direction:ee})},te=se=>typeof se=="object"&&se!==null?se.name||se.toString():(se==null?void 0:se.toString())||"",q=g.useCallback(se=>{H(se),Y(!0)},[]),Z=se=>{switch(se){case"created":return"bg-green-500 text-white";case"updated":return"bg-blue-600 text-white";case"deleted":return"bg-red-500 text-white";default:return"bg-gray-500 text-white"}},ie=se=>se?se.replace("App\\Models\\",""):"Unknown",oe=J.useMemo(()=>{let se=[...s||[]];if(R.trim()){const ee=R.toLowerCase().trim();se=se.filter(ve=>{var Ke,ye,ot;return[((Ke=ve.changed_by)==null?void 0:Ke.toLowerCase())||"",((ye=ve.action)==null?void 0:ye.toLowerCase())||"",((ot=ve.recordable_type)==null?void 0:ot.toLowerCase())||"",JSON.stringify(ve.old_data_snapshot||{}).toLowerCase(),JSON.stringify(ve.new_data_snapshot||{}).toLowerCase()].some(mt=>mt.includes(ee))})}return D!==null?se.sort((ee,ve)=>{if(D.key==="changed_at"){const ye=new Date(ee.changed_at).getTime(),ot=new Date(ve.changed_at).getTime();return D.direction==="ascending"?ye-ot:ot-ye}const Ge=te(ee[D.key]),Ke=te(ve[D.key]);return Ge<Ke?D.direction==="ascending"?-1:1:Ge>Ke?D.direction==="ascending"?1:-1:0}):se.sort((ee,ve)=>{const Ge=new Date(ee.changed_at).getTime();return new Date(ve.changed_at).getTime()-Ge}),se},[s,R,D]),le=h*x,ge=le-x,Le=oe.slice(ge,le),Oe=Math.ceil(oe.length/x),xe=se=>m(se),Me=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!t)),e(se=>!se)},Be=se=>{try{return new Date(se).toLocaleString()}catch{return se}},re=({log:se,onClose:ee})=>{const ve=rt=>rt==null?"-":typeof rt=="object"&&rt!==null?JSON.stringify(rt):typeof rt=="string"?rt.trim()!==""?rt.trim():"-":typeof rt=="number"?rt.toString():typeof rt=="boolean"?rt?"Yes":"No":String(rt),Ge=rt=>!rt||rt.trim()===""?"-":$l.sanitize(rt,{ALLOWED_TAGS:["h1","h2","h3","h4","h5","h6","p","br","span","div","ol","ul","li","strong","b","em","i","u","s","strike","code","mark","sub","sup","blockquote","pre"],ALLOWED_ATTR:["style","class","data-color","align","type","start"]}),Ke=rt=>{try{return new Date(rt).toLocaleString()}catch{return rt}},ye=rt=>rt?rt.replace("App\\Models\\",""):"Unknown",ot=({title:rt,children:Ne,icon:ze})=>a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[a.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-4 border-b border-gray-200",children:a.jsxs("div",{className:"flex items-center",children:[ze&&a.jsx("div",{className:"mr-3 text-blue-600",children:ze}),a.jsx("h3",{className:"text-lg font-bold text-gray-900",children:rt})]})}),a.jsx("div",{className:"p-6",children:Ne})]}),mt=({label:rt,value:Ne,icon:ze,fullWidth:we=!1,priority:ut="medium"})=>{const ht={high:"border-l-4 border-l-blue-500 bg-blue-25",medium:"border-l-2 border-l-gray-200",low:"border-l border-l-gray-100"};return a.jsx("div",{className:`${we?"col-span-full":""}`,children:a.jsx("div",{className:`p-4 rounded-lg ${ht[ut]} transition-all duration-200 hover:shadow-sm`,children:a.jsxs("div",{className:"flex items-start space-x-3",children:[ze&&a.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:ze}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1",children:rt}),a.jsx("p",{className:"text-sm font-medium text-gray-900 leading-relaxed",children:Ne})]})]})})})},nt=()=>{const rt=se.old_data_snapshot?Object.keys(se.old_data_snapshot):[],Ne=se.new_data_snapshot?Object.keys(se.new_data_snapshot):[];return[...new Set([...rt,...Ne])].filter(we=>!["id","created_at","updated_at","deleted_at"].includes(we))},xt=(rt,Ne)=>{if(rt===void 0&&Ne===void 0||rt===null&&Ne===null)return!0;if(rt===void 0&&Ne===null||rt===null&&Ne===void 0)return!1;if(rt===Ne)return!0;if(!isNaN(Number(rt))&&!isNaN(Number(Ne)))return Number(rt)===Number(Ne);if(typeof rt=="boolean"&&typeof Ne=="boolean")return rt===Ne;if(typeof rt=="string"&&typeof Ne=="string")return rt.trim().toLowerCase()===Ne.trim().toLowerCase();if(typeof rt=="object"&&typeof Ne=="object"&&rt!==null&&Ne!==null)try{return JSON.stringify(rt)===JSON.stringify(Ne)}catch{return String(rt)===String(Ne)}const ze=String(rt||"").trim(),we=String(Ne||"").trim();return(ze===""||ze==="null"||ze==="undefined")&&(we===""||we==="null"||we==="undefined")?!0:ze===we},Nt=()=>{const rt=nt();if(rt.length===0)return a.jsx("div",{className:"text-center py-8 text-gray-500",children:"No data changes recorded"});const Ne=rt.map(ut=>{const ht=se.old_data_snapshot??{},We=se.new_data_snapshot??{},he=Object.prototype.hasOwnProperty.call(ht,ut),Je=Object.prototype.hasOwnProperty.call(We,ut),Ue=he?ht[ut]:void 0;let ae=Je?We[ut]:void 0;se.action==="updated"&&he&&!Je&&(ae=Ue);let ne;return!he&&Je?ne="added":he&&!Je?ne=se.action==="deleted"?"removed":"unchanged":xt(Ue,ae)?ne="unchanged":ne="updated",{key:ut,oldValue:Ue,newValue:ae,status:ne}}),ze=Ne.filter(ut=>ut.status!=="unchanged").length,we=Ne.length-ze;return a.jsxs("div",{className:"overflow-x-auto",children:[a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Field"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Old Value"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"New Value"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Ne.map(({key:ut,oldValue:ht,newValue:We,status:he})=>{const Je=ut.split("_").map(et=>et.charAt(0).toUpperCase()+et.slice(1)).join(" "),Ue=ut.toLowerCase().includes("complaint")||ut.toLowerCase().includes("action_taken")||ut.toLowerCase().includes("remarks"),ae=Ue?Ge(String(ht||"")):ve(ht),ne=Ue?Ge(String(We||"")):ve(We),Te=he==="updated"?"bg-yellow-50":he==="added"?"bg-green-50":he==="removed"?"bg-red-50":"";return a.jsxs("tr",{className:Te,children:[a.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900",children:Je}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:Ue?a.jsx("div",{className:`p-2 rounded rich-text-content prose prose-sm max-w-none ${he==="removed"?"bg-red-100 text-red-800 border border-red-200":he==="updated"?"bg-yellow-100 text-yellow-800 border border-yellow-200":"bg-gray-100 text-gray-800 border border-gray-200"}`,dangerouslySetInnerHTML:{__html:ae}}):a.jsx("div",{className:`p-2 rounded ${he==="removed"?"bg-red-100 text-red-800 border border-red-200":he==="updated"?"bg-yellow-100 text-yellow-800 border border-yellow-200":"bg-gray-100 text-gray-800 border border-gray-200"}`,children:ae})}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:Ue?a.jsx("div",{className:`p-2 rounded rich-text-content prose prose-sm max-w-none ${he==="added"?"bg-green-100 text-green-800 border border-green-200":he==="updated"?"bg-yellow-100 text-yellow-800 border border-yellow-200":"bg-gray-100 text-gray-800 border border-gray-200"}`,dangerouslySetInnerHTML:{__html:ne}}):a.jsx("div",{className:`p-2 rounded ${he==="added"?"bg-green-100 text-green-800 border border-green-200":he==="updated"?"bg-yellow-100 text-yellow-800 border border-yellow-200":"bg-gray-100 text-gray-800 border border-gray-200"}`,children:ne})}),a.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm",children:he==="added"?a.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[a.jsx(Jn,{className:"w-3 h-3 mr-1"}),"Added"]}):he==="removed"?a.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[a.jsx(dn,{className:"w-3 h-3 mr-1"}),"Removed"]}):he==="updated"?a.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[a.jsx(fo,{className:"w-3 h-3 mr-1"}),"Updated"]}):a.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-700",children:[a.jsx($t,{className:"w-3 h-3 mr-1"}),"Unchanged"]})})]},ut)})})]}),a.jsxs("div",{className:"mt-4 text-sm text-gray-600",children:[a.jsx("span",{className:"font-medium",children:ze})," field(s) changed  ",a.jsx("span",{className:"font-medium",children:we})," field(s) unchanged"]})]})},wt=(rt,Ne)=>{if(!rt||Object.keys(rt).length===0)return a.jsxs("div",{className:"text-center py-8 text-gray-500 bg-white rounded-lg border border-gray-200",children:["No ",Ne," data available"]});const ze=Object.entries(rt).filter(([we])=>!["id","created_at","updated_at","deleted_at"].includes(we));return ze.length===0?a.jsxs("div",{className:"text-center py-8 text-gray-500 bg-white rounded-lg border border-gray-200",children:["No ",Ne," data available"]}):a.jsx("div",{className:"space-y-4",children:ze.map(([we,ut])=>{const ht=we.split("_").map(he=>he.charAt(0).toUpperCase()+he.slice(1)).join(" "),We=we.toLowerCase().includes("complaint")||we.toLowerCase().includes("action_taken")||we.toLowerCase().includes("remarks");return a.jsxs("div",{className:"flex flex-col md:flex-row md:items-start gap-3 p-4 bg-white rounded-lg border border-gray-200 hover:bg-gray-50 transition-colors",children:[a.jsx("div",{className:"md:w-1/3 lg:w-1/4",children:a.jsx("h4",{className:"text-sm font-semibold text-gray-700 break-words",children:ht})}),a.jsx("div",{className:"md:w-2/3 lg:w-3/4",children:We?a.jsx("div",{className:`rich-text-content bg-blue-50 border border-blue-100 rounded-lg p-3 text-gray-800 text-sm break-words prose prose-sm max-w-none\r
                          prose-headings:font-semibold prose-p:my-2 prose-ul:my-2 prose-ol:my-2\r
                          prose-li:my-1 prose-strong:font-semibold prose-em:italic`,dangerouslySetInnerHTML:{__html:Ge(String(ut||""))}}):a.jsx("div",{className:"bg-blue-50 border border-blue-100 rounded-lg p-3 text-gray-800 text-sm break-words",children:ve(ut)})})]},we)})})},zt=(rt,Ne)=>{if(!rt||Object.keys(rt).length===0)return a.jsxs("div",{className:"text-center py-4 text-gray-500",children:["No ",Ne.toLowerCase()," available"]});const ze=Object.entries(rt).filter(([we,ut])=>!(["id","created_at","updated_at","deleted_at"].includes(we)||ut==null||ut===""));return ze.length===0?a.jsxs("div",{className:"text-center py-4 text-gray-500",children:["No ",Ne.toLowerCase()," available"]}):a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:ze.map(([we,ut])=>{const ht=we.split("_").map(We=>We.charAt(0).toUpperCase()+We.slice(1)).join(" ");return a.jsx(mt,{label:ht,value:ve(ut)},we)})})};return a.jsxs("div",{className:"space-y-6 max-h-[70vh] overflow-y-auto custom-scrollbar pr-2",children:[a.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6",children:a.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:["Audit Log #",se.id]}),a.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-bold rounded-full ${se.action==="created"?"bg-green-100 text-green-800 border border-green-300":se.action==="updated"?"bg-blue-100 text-blue-800 border border-blue-300":se.action==="deleted"?"bg-red-100 text-red-800 border border-red-300":"bg-gray-100 text-gray-800 border border-gray-300"}`,children:se.action.charAt(0).toUpperCase()+se.action.slice(1)})]}),a.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(Lt,{className:"w-4 h-4"}),"Timestamp: ",Ke(se.changed_at)]}),a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(Mr,{className:"w-4 h-4"}),"User: ",se.changed_by||"N/A"]})]})]})})}),a.jsx(ot,{title:"General Information",icon:a.jsx(ir,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsx(mt,{label:"Audit ID",value:ve(se.id),icon:a.jsx(Gf,{className:"w-4 h-4"}),priority:"high"}),a.jsx(mt,{label:"Timestamp",value:Ke(se.changed_at),icon:a.jsx(Lt,{className:"w-4 h-4"}),priority:"high"}),a.jsx(mt,{label:"User",value:ve(se.changed_by),icon:a.jsx(Mr,{className:"w-4 h-4"}),priority:"high"}),a.jsx(mt,{label:"Action",value:ve(se.action),icon:a.jsx(fo,{className:"w-4 h-4"}),priority:"high"}),a.jsx(mt,{label:"Record Type",value:ye(se.recordable_type),icon:a.jsx(Of,{className:"w-4 h-4"})}),a.jsx(mt,{label:"Record ID",value:ve(se.recordable_id),icon:a.jsx(t0,{className:"w-4 h-4"})})]})}),se.recordable_details&&Object.keys(se.recordable_details).length>0&&a.jsx(ot,{title:"Record Details",icon:a.jsx(Of,{className:"w-5 h-5"}),children:zt(se.recordable_details,"Record Details")}),a.jsx(ot,{title:"Data Changes Comparison",icon:a.jsx(fo,{className:"w-5 h-5"}),children:Nt()}),a.jsx(ot,{title:"Complete Data Snapshots",icon:a.jsx(Dw,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"space-y-8",children:[se.old_data_snapshot&&Object.keys(se.old_data_snapshot).length>0&&a.jsxs("div",{className:"w-full",children:[a.jsx("h4",{className:"text-md font-semibold text-gray-700 mb-4 pb-2 border-b border-gray-200",children:"Old Data Snapshot"}),a.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:wt(se.old_data_snapshot,"old")})]}),se.new_data_snapshot&&Object.keys(se.new_data_snapshot).length>0&&a.jsxs("div",{className:"w-full",children:[a.jsx("h4",{className:"text-md font-semibold text-gray-700 mb-4 pb-2 border-b border-gray-200",children:"New Data Snapshot"}),a.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:wt(se.new_data_snapshot,"new")})]})]})}),a.jsx(ot,{title:"Audit Summary",icon:a.jsx(Ui,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"p-4 bg-blue-25 rounded-lg border-l-4 border-l-blue-400",children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Action Type"}),a.jsx("p",{className:"text-lg font-bold text-blue-600",children:se.action.charAt(0).toUpperCase()+se.action.slice(1)})]}),a.jsxs("div",{className:"p-4 bg-green-25 rounded-lg border-l-4 border-l-green-400",children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Record Information"}),a.jsxs("p",{className:"text-sm text-green-600",children:[ye(se.recordable_type),"  ID: ",se.recordable_id]})]})]})}),a.jsx("div",{className:"flex justify-end pt-6 border-t border-gray-100 mt-8",children:a.jsx(C.button,{type:"button",onClick:ee,whileHover:{scale:1.03,boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.97},className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold",children:"Close Details"})})]})};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Mt,{mainTitle:"Audit Trail",mainTitleHighlight:"Trail",description:"Manage activities and their configurations within the system.",icon:a.jsx(t0,{}),isMobile:v,toggleSidebar:Me}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-8",children:[a.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Audit ",a.jsx("span",{className:"text-blue-600",children:"Trail"})]}),a.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Track all user activities and system changes for enhanced security and accountability."})]}),a.jsx(C.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:a.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Wn,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),a.jsx("input",{type:"text",placeholder:"Search by user, action, or details...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:I,onChange:F,"aria-label":"Search audit logs"})]})})}),o?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),a.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading audit trail data..."})]}):c?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx(er,{className:"text-red-500 text-4xl mx-auto mb-4"}),a.jsx("p",{className:"text-red-700 text-base font-medium",children:c}),a.jsx("button",{onClick:P,className:"mt-5 px-5 py-2 bg-red-100 text-red-700 rounded-md hover:bg-red-200 transition-colors duration-200 text-sm",children:"Retry"})]}):oe.length===0?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx(sa,{className:"text-blue-500 text-4xl mx-auto mb-4"}),a.jsx("p",{className:"text-gray-700 text-base font-medium",children:R?"No audit entries found matching your search.":"No audit entries available."}),R&&a.jsx("button",{onClick:()=>L(""),className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear Search"})]}):a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:a.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:a.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[a.jsx("thead",{className:"bg-blue-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider cursor-pointer",onClick:()=>X("changed_at"),children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Lt,{className:"mr-2 text-sm"})," Timestamp",(D==null?void 0:D.key)==="changed_at"?a.jsx("span",{className:"ml-1",children:D.direction==="ascending"?"":""}):a.jsx("span",{className:"ml-1 text-gray-400",children:""})]})}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider cursor-pointer",onClick:()=>X("changed_by"),children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Mr,{className:"mr-2 text-sm"})," User",(D==null?void 0:D.key)==="changed_by"&&a.jsx("span",{className:"ml-1",children:D.direction==="ascending"?"":""})]})}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider cursor-pointer",onClick:()=>X("action"),children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(fo,{className:"mr-2 text-sm"})," Action",(D==null?void 0:D.key)==="action"&&a.jsx("span",{className:"ml-1",children:D.direction==="ascending"?"":""})]})}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider cursor-pointer",onClick:()=>X("recordable_type"),children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Of,{className:"mr-2 text-sm"})," Record Type",(D==null?void 0:D.key)==="recordable_type"&&a.jsx("span",{className:"ml-1",children:D.direction==="ascending"?"":""})]})}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:Le.map(se=>a.jsxs(C.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:Be(se.changed_at)})}),a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:se.changed_by||"N/A"})}),a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-bold rounded-full ${Z(se.action)} shadow-sm`,children:se.action.charAt(0).toUpperCase()+se.action.slice(1)})}),a.jsxs("td",{className:"px-5 py-3",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:ie(se.recordable_type)}),se.recordable_id&&a.jsxs("div",{className:"text-xs text-gray-500",children:["ID: ",se.recordable_id]})]}),a.jsx("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium",children:a.jsxs(C.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>q(se),className:"text-blue-600 hover:text-blue-800 transition-colors duration-200 flex items-center space-x-1",title:"View Details",children:[a.jsx(us,{className:"text-lg"}),a.jsx("span",{children:"View"})]})})]},se.id))})]})})}),oe.length>x&&a.jsxs(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"mt-8 flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0",children:[a.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",a.jsx("span",{className:"font-semibold",children:ge+1})," to ",a.jsx("span",{className:"font-semibold",children:Math.min(le,oe.length)})," of"," ",a.jsx("span",{className:"font-semibold",children:oe.length})," results"]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>xe(h-1),disabled:h===1,className:"px-4 py-2 border border-blue-200 rounded-md bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm font-medium text-sm","aria-label":"Previous page",children:"Previous"}),Array.from({length:Oe},(se,ee)=>a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>xe(ee+1),className:`px-3.5 py-2 rounded-md transition-colors duration-200 shadow-sm font-medium text-sm
                      ${h===ee+1?"bg-blue-600 text-white shadow-md":"bg-white text-gray-700 hover:bg-blue-50 border border-blue-200"}
                    `,"aria-label":`Go to page ${ee+1}`,children:ee+1},ee+1)),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>xe(h+1),disabled:h===Oe,className:"px-4 py-2 border border-blue-200 rounded-md bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm font-medium text-sm","aria-label":"Next page",children:"Next"})]})]})]})]}),W&&a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 p-4 overflow-y-auto",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsxs("h3",{className:"text-2xl font-bold text-gray-900",children:["Audit Details #",W.id]}),a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{Y(!1),H(null)},className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(at,{size:24})})]}),a.jsx("div",{className:"overflow-y-auto max-h-[70vh]",children:a.jsx(re,{log:W,onClose:()=>{Y(!1),H(null)}})})]})})})]})},XIe=()=>{const t=jt(),{user:e}=St(),[r,n]=g.useState(!1),[s,i]=g.useState(window.innerWidth>=768),[o,l]=g.useState(window.innerWidth<768),[c,d]=g.useState(!1),[h,m]=g.useState(!1),x=g.useRef(null),y=g.useRef(null);g.useEffect(()=>{const v=()=>{l(window.innerWidth<768),window.innerWidth<768?i(!1):i(!0)};return window.addEventListener("resize",v),()=>window.removeEventListener("resize",v)},[]),g.useEffect(()=>{const v=N=>{x.current&&!x.current.contains(N.target)&&d(!1),y.current&&!y.current.contains(N.target)&&m(!1)};return document.addEventListener("mousedown",v),()=>{document.removeEventListener("mousedown",v)}},[]);const w=()=>{i(v=>!v)};g.useEffect(()=>{document.documentElement.classList.toggle("dark",r)},[r]);const j=v=>{t(v)};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Mt,{mainTitle:"Workflow Approval",mainTitleHighlight:"Page",description:"Manage work shifts and their configurations within the system.",icon:a.jsx(wb,{}),isMobile:o,toggleSidebar:w}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 text-center",children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Select Workflow Approval Menu"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Choose the type of workflow approval you wish to manage."})]}),a.jsx("div",{className:"flex flex-col md:flex-row justify-center items-center gap-6 max-w-5xl mx-auto py-8",children:a.jsxs(C.div,{className:"w-full md:w-1/3 bg-white rounded-2xl shadow-xl p-8 border border-green-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>j("/workflowapproval/monitoringapproval"),children:[a.jsx(Fh,{size:64,className:"text-green-600 mb-4"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Monitoring Approval"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Organize and manage work orders by specific company departments."}),a.jsxs("span",{className:"text-green-600 font-semibold flex items-center",children:["Go to Monitoring Approval ",a.jsx(sn,{size:18,className:"ml-1"})]})]})})]})]})]})},jz=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(C.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(at,{size:24})})]}),a.jsx("div",{children:n})]})}):null,JIe=()=>{const t=jt(),{getApprovalTemplates:e,createApprovalTemplate:r,deleteApprovalTemplate:n,setApprovalTemplateActive:s}=St(),[i,o]=g.useState(window.innerWidth<768),[l,c]=g.useState(()=>{const z=localStorage.getItem("sidebarOpen");return JSON.parse(z||"false")}),d=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!l)),c(z=>!z)},[h,m]=g.useState(!1),[x,y]=g.useState(""),[w,j]=g.useState([]),[v,N]=g.useState(!1),[T,S]=g.useState(""),[O,_]=g.useState(!1),[A,E]=g.useState(null),D=(z,Y,W)=>{E({type:z,templateId:Y,templateName:W}),_(!0)},$=async()=>{if(A)try{N(!0),A.type==="activate"?(await s(A.templateId),j(z=>z.map(Y=>({...Y,is_active:Y.id===A.templateId})))):A.type==="delete"&&(await n(A.templateId),await I()),_(!1),E(null),S("")}catch(z){S(`Failed to ${A.type} template`),console.error(`Error ${A.type}ing template:`,z)}finally{N(!1)}};g.useEffect(()=>{I()},[]);const I=async()=>{try{N(!0);const z=await e();j(z||[])}catch(z){S("Failed to load approval templates"),console.error("Error loading templates:",z)}finally{N(!1)}},L=async()=>{if(!x.trim()){S("Template name must be filled out.");return}try{N(!0);const z=await r({name:x,is_active:!1});j(Y=>[...Y,z]),m(!1),y(""),S("")}catch(z){S("Failed to create template"),console.error("Error creating template:",z)}finally{N(!1)}},R=z=>{t(`/workflowapproval/monitoringapproval/configureapproval/${z.id}`)};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Mt,{mainTitle:"Monitoring Approval",mainTitleHighlight:"Page",description:"Manage work shifts and their configurations within the system.",icon:a.jsx(wb,{}),isMobile:i,toggleSidebar:d}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[a.jsx($W,{className:"mr-2 text-gray-700",size:24})," Select or Create Template"]}),a.jsxs(C.button,{onClick:()=>m(!0),whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-5 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-semibold flex items-center text-sm shadow-md disabled:opacity-50",disabled:v,children:[a.jsx(ile,{size:18,className:"mr-2"})," Create New Template"]})]}),T&&a.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:T}),v?a.jsx("div",{className:"flex justify-center items-center py-8",children:a.jsx(vb,{className:"animate-spin text-blue-600",size:32})}):a.jsx("div",{className:"space-y-4",children:w.length>0?w.map(z=>a.jsx(C.div,{whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(0,0,0,0.08)"},whileTap:{scale:.98},className:"p-6 bg-white rounded-lg border border-gray-200 cursor-pointer transition-all duration-200",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("h3",{className:"text-lg font-bold text-gray-800 flex items-center",children:[a.jsx(Of,{size:20,className:"mr-2 text-blue-500"}),z.name]}),a.jsxs("div",{className:"mt-2 flex items-center space-x-2",children:[a.jsx("span",{className:`text-xs font-medium px-2.5 py-1 rounded-full ${z.is_active?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:z.is_active?"Active":"Inactive"}),z.approvers&&a.jsxs("span",{className:"text-xs text-gray-500",children:[z.approvers.length," approver(s)"]})]})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(C.button,{onClick:()=>R(z),whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 text-sm font-semibold rounded-lg text-blue-600 hover:bg-blue-100 transition-colors",disabled:v,children:"Configure"}),!z.is_active&&a.jsx(C.button,{onClick:Y=>{Y.stopPropagation(),D("activate",z.id,z.name)},whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 text-sm font-semibold rounded-lg bg-green-500 text-white hover:bg-green-600 transition-colors",disabled:v,children:"Activate"}),a.jsx(C.button,{onClick:Y=>{Y.stopPropagation(),D("delete",z.id,z.name)},whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 text-sm font-semibold rounded-lg bg-red-500 text-white hover:bg-red-600 transition-colors",disabled:v,children:"Delete"})]})]})},z.id)):a.jsx("div",{className:"p-6 text-center text-gray-500 border border-dashed border-gray-300 rounded-lg",children:"No templates found. Create the first template to get started."})}),a.jsx(jz,{isOpen:O,onClose:()=>{_(!1),E(null)},title:"Confirm Action",children:a.jsxs("div",{className:"space-y-5 text-center py-3",children:[a.jsx(er,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),a.jsxs("p",{className:"text-base text-gray-700 font-medium",children:["Are you sure you want to ",A==null?void 0:A.type,' template "',A==null?void 0:A.templateName,'"?',(A==null?void 0:A.type)==="delete"&&" This action cannot be undone."]}),a.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>{_(!1),E(null)},className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:$,className:`px-5 py-2.5 text-white rounded-md hover:opacity-90 focus:outline-none focus:ring-2 focus:ring-offset-2 transition-colors duration-200 font-semibold text-sm ${(A==null?void 0:A.type)==="delete"?"bg-red-600 hover:bg-red-700 focus:ring-red-500":"bg-green-600 hover:bg-green-700 focus:ring-green-500"}`,children:(A==null?void 0:A.type)==="delete"?"Delete":"Activate"})]})]})}),a.jsx(jz,{isOpen:h,onClose:()=>m(!1),title:"Create New Template",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"templateName",className:"block text-sm font-medium text-gray-700",children:"Template Name"}),a.jsx("input",{type:"text",id:"templateName",value:x,onChange:z=>y(z.target.value),placeholder:"e.g., Production Approval Flow",className:"mt-1 block w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150"})]}),T&&a.jsx("div",{className:"p-2 bg-red-100 border border-red-400 text-red-700 rounded text-sm",children:T}),a.jsxs("div",{className:"flex justify-end pt-2 space-x-3",children:[a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>{m(!1),y(""),S("")},className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 font-semibold text-sm",children:"Cancel"}),a.jsxs(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:L,className:"px-5 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-semibold text-sm disabled:opacity-50 disabled:cursor-not-allowed flex items-center",disabled:v||!x.trim(),children:[v?a.jsx(vb,{className:"animate-spin mr-2",size:16}):null,"Create Template"]})]})]})})]})]})]})},Sz=({isOpen:t,onClose:e,title:r,children:n,className:s})=>a.jsx(kt,{children:t&&a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:a.jsxs(C.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${s||"max-w-xl w-full"}`,children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:r}),a.jsx("button",{onClick:e,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:a.jsx(at,{className:"text-xl"})})]}),a.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:n})]})})}),QIe=()=>{const[t,e]=g.useState([]),[r,n]=g.useState(!0),[s,i]=g.useState(!1),[o,l]=g.useState(null),[c,d]=g.useState(""),[h,m]=g.useState(""),[x,y]=g.useState(!1),[w,j]=g.useState(null),[v,N]=g.useState(!1),[T,S]=g.useState(null),O=g.useRef(!0),[_]=g.useState(window.innerWidth<768),[A,E]=g.useState(()=>{const P=localStorage.getItem("sidebarOpen");return P?JSON.parse(P):!1}),D=jt(),{getServiceGroups:$,getServiceGroup:I,hasPermission:L}=St(),R=()=>{const P=!A;E(P),localStorage.setItem("sidebarOpen",JSON.stringify(P))},z=g.useCallback(async()=>{try{n(!0);const F=(await $(0)).map(X=>({id:Number(X.id),name:X.group_name??"",description:X.group_description??void 0}));e(F)}catch(P){S("Failed to load service groups"),console.error("Error loading service groups:",P)}finally{O.current&&n(!1)}},[$]);g.useEffect(()=>(O.current=!0,z(),()=>{O.current=!1}),[z]);const Y=async()=>{if(!c.trim()){S("Group Name is required");return}y(!0),S(null);try{if(await new Promise(P=>setTimeout(P,500)),o)e(P=>P.map(F=>F.id===o.id?{...F,name:c.trim(),description:h.trim()||void 0}:F));else{const P={id:t.length>0?Math.max(...t.map(F=>F.id))+1:1,name:c.trim(),description:h.trim()||void 0};e(F=>[...F,P])}i(!1),l(null),d(""),m("")}catch(P){S("Failed to save service group"),console.error("Error saving service group:",P)}finally{y(!1)}},W=P=>{if(!L("manage_users")){S("You don't have permission to delete service groups");return}j(P),N(!0),S(null)},H=async()=>{if(w!==null){y(!0),S(null);try{await new Promise(P=>setTimeout(P,500)),e(P=>P.filter(F=>F.id!==w)),N(!1),j(null)}catch(P){S("Failed to delete service group"),console.error("Error deleting service group:",P)}finally{y(!1)}}};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Mt,{mainTitle:"Service Groups",mainTitleHighlight:"Groups",description:"Manage service groups used across the service management system.",icon:a.jsx(xa,{}),isMobile:_,toggleSidebar:R}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-8 flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Service ",a.jsx("span",{className:"text-blue-600",children:"Groups"})]}),a.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Manage service groups used across the service management system."})]}),L("manage_users")&&a.jsxs(C.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>D("/service/servicegroups/addservicegroup"),className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[a.jsx(Jn,{className:"text-base"}),a.jsx("span",{children:"Add Group"})]})]}),r?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),a.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading service groups..."})]}):t.length===0?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("div",{className:"text-blue-500 text-4xl mx-auto mb-4",children:a.jsx(IW,{})}),a.jsx("p",{className:"text-gray-700 text-base font-medium",children:"No service groups available."}),L("manage_users")&&a.jsx("button",{onClick:()=>D("/service/servicegroups/"),className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Create first group"})]}):a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:a.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:a.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[a.jsx("thead",{className:"bg-blue-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Group Name"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Group Description"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:t.map((P,F)=>a.jsxs(C.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:F+1})}),a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:P.name})}),a.jsx("td",{className:"px-5 py-3",children:a.jsx("div",{className:"text-sm text-gray-600 truncate max-w-xs",children:P.description||"-"})}),L("manage_users")&&a.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>D(`/service/servicegroups/editservicegroup/${P.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit",children:a.jsx(Bn,{className:"inline text-base"})}),a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>W(P.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:a.jsx(dn,{className:"inline text-base"})})]})]},P.id))})]})})}),T&&a.jsx("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:a.jsx("p",{className:"text-sm text-red-600 font-medium",children:T})})]})]}),a.jsx(Sz,{isOpen:s,onClose:()=>i(!1),title:o?"Edit Service Group":"Add Service Group",className:"max-w-lg",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Group Name"}),a.jsx("input",{value:c,onChange:P=>d(P.target.value),type:"text",className:"mt-2 w-full px-4 py-2 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Group Description"}),a.jsx("textarea",{value:h,onChange:P=>m(P.target.value),className:"mt-2 w-full px-4 py-2 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm",rows:4})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-100",children:[a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>{i(!1),l(null),d(""),m(""),S(null)},className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:Y,disabled:x,className:"px-5 py-2.5 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold text-sm",children:x?"Saving...":"Save"})]}),T&&a.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:a.jsx("p",{className:"text-sm text-red-600 font-medium",children:T})})]})}),a.jsx(Sz,{isOpen:v,onClose:()=>N(!1),title:"Confirm Deletion",children:a.jsxs("div",{className:"space-y-5 text-center py-3",children:[a.jsx("div",{className:"text-red-500 text-5xl mx-auto animate-pulse",children:a.jsx(dn,{})}),a.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this service group? This action cannot be undone."}),a.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>N(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:H,disabled:x,className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:x?"Deleting...":"Delete"})]})]})})]})};function ZIe(t,e){const[r,n]=g.useState(t);return g.useEffect(()=>{const s=setTimeout(()=>{n(t)},e);return()=>{clearTimeout(s)}},[t,e]),r}const S5=({isOpen:t,onClose:e,title:r,children:n,className:s})=>a.jsx(kt,{children:t&&a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.18},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:a.jsxs(C.div,{initial:{y:50,opacity:0,scale:.98},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.98},transition:{duration:.28,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${s||"max-w-xl w-full"}`,children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:r}),a.jsx("button",{onClick:e,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150",children:a.jsx(at,{className:"text-xl"})})]}),a.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:n})]})})}),Py=({title:t,currentCount:e,lastMonthCount:r,icon:n,usePercentage:s=!0})=>{const l=s?((h,m)=>{if(m===0)return h>0?"+100%":"0%";const x=(h-m)/m*100;return`${x>=0?"+":""}${Math.round(x)}%`})(e,r):((h,m)=>{const x=h-m;return`${x>0?"+":x<0?"":"+"}${x}`})(e,r),c=e>=r,d=s?`${l} from last month`:`${l} from last month`;return a.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),a.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),a.jsx("p",{className:`mt-3 text-xs font-semibold ${c?"text-green-600":"text-red-600"}`,children:d})]})},eLe=()=>{const t=St(),[e,r]=g.useState(()=>{const ue=localStorage.getItem("sidebarOpen");return JSON.parse(ue||"false")}),n=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!e)),r(ue=>!ue)},s=jt(),[i,o]=g.useState(null),l=ue=>{o(ue),d(!0)},[c,d]=g.useState(!1),[h,m]=g.useState(!1),[x,y]=g.useState(!1),[w,j]=g.useState(!1),[v,N]=g.useState(""),[T,S]=g.useState(!1),[O,_]=g.useState(""),[A,E]=g.useState(""),[D,$]=g.useState(!0),[I,L]=g.useState([]),[R,z]=g.useState([]),[Y,W]=g.useState([]),[H,P]=g.useState(!1),[F,X]=g.useState(null),[te,q]=g.useState(!1),[Z,ie]=g.useState(null),[oe,le]=g.useState(null),[ge,Le]=g.useState(!1),Oe=ZIe(v,300),xe=g.useRef(null),[Me,Be]=g.useState(1),re=10,[se,ee]=g.useState({key:"created_at",direction:"descending"}),[ve,Ge]=g.useState(null),[Ke,ye]=g.useState(!1),[ot,mt]=g.useState(window.innerWidth<768),nt=g.useRef(null),xt=g.useRef(null),Nt=g.useCallback(async()=>{try{const fe=(await t.getServiceGroups(0)||[]).map(Ae=>Ae.group_name||Ae.group_description?{id:Ae.id,group_name:Ae.group_name,group_description:Ae.group_description,name:Ae.group_name||Ae.name}:{id:Ae.id,name:Ae.name||null});z(fe)}catch{z([])}},[t]),wt=g.useCallback(async()=>{try{const fe=(await t.getUsers()||[]).map(Ae=>({id:Number(Ae.id),name:Ae.name}));W(fe)}catch{W([])}},[t]),zt=g.useCallback(ue=>({id:ue.id??0,service_name:ue.service_name??ue.name??"",service_description:ue.service_description??ue.description??"",service_type:Number(ue.service_type??ue.service_type??0),priority:ue.priority??"Low",service_owner:Number(ue.service_owner??ue.service_owner??ue.owner??0),sla:Number(ue.sla??ue.sla??0),impact:ue.impact??"",created_at:ue.created_at??ue.createdAt??new Date().toISOString(),updated_at:ue.updated_at??ue.updatedAt??new Date().toISOString()}),[]),rt=g.useCallback(async()=>{$(!0),Ge(null);try{const fe=(await t.getServices(0)||[]).map(zt);fe.sort((Ae,tt)=>Ae.created_at<tt.created_at?1:-1),L(fe)}catch{Ge("Failed to load service catalogue."),L([])}finally{$(!1)}},[t,zt]);g.useEffect(()=>{let ue=!0;return ue&&(rt(),Nt(),wt()),()=>{ue=!1}},[rt,Nt,wt]),g.useEffect(()=>{const ue=()=>{mt(window.innerWidth<768)};return window.addEventListener("resize",ue),()=>window.removeEventListener("resize",ue)},[]),g.useEffect(()=>{const ue=fe=>{nt.current&&!nt.current.contains(fe.target)&&j(!1),xt.current&&!xt.current.contains(fe.target)&&y(!1)};return document.addEventListener("mousedown",ue),()=>{document.removeEventListener("mousedown",ue)}},[]);const Ne=(ue,fe)=>{le({type:ue,message:fe}),setTimeout(()=>le(null),3e3)},ze=I.length,we=g.useMemo(()=>{const ue={Critical:0,High:0,Medium:0,Low:0};return I.forEach(fe=>{const Ae=fe.priority||"Low";ue[Ae]=(ue[Ae]||0)+1}),ue},[I]),ut=g.useMemo(()=>{if(I.length===0)return 0;const ue=I.reduce((fe,Ae)=>fe+(Ae.sla||0),0);return Math.round(ue/I.length*100)/100},[I]),ht=g.useMemo(()=>{const ue=new Set;return I.forEach(fe=>ue.add(fe.service_owner)),ue.size},[I]),We=g.useMemo(()=>{const ue=new Date;return ue.setMonth(ue.getMonth()-1),I.filter(fe=>new Date(fe.created_at)<ue)},[I]),he=()=>{_(""),E(""),N("")},Je=ue=>{let fe="ascending";se&&se.key===ue&&se.direction==="ascending"&&(fe="descending"),ee({key:ue,direction:fe})},Ue=async ue=>{if(ue){Le(!0);try{const Ae=(await ue.text()).split(`
`).map(dt=>dt.trim()).filter(Boolean),tt=[];for(let dt=0;dt<Ae.length;dt++){const pt=Ae[dt].split(",").map(Ye=>Ye.trim()),Ee={service_name:pt[1]||`Imported Service ${dt+1}`,service_description:pt[2]||"",service_type:R[0]?Number(R[0].id):0,priority:pt[4]||"Low",service_owner:Y[0]?Y[0].id:0,sla:Number(pt[6])||24,impact:pt[7]||""};tt.push(Ee)}for(const dt of tt)await t.fetchWithAuth("/service-catalogues",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(dt)});await rt(),Ne("success",`Imported ${tt.length} services`)}catch{Ne("error","Import failed")}finally{Le(!1)}}},ae=ue=>{var Ae;const fe=((Ae=ue.target.files)==null?void 0:Ae[0])||null;fe&&Ue(fe),ue.target.value=""},ne=ue=>{ie(ue),q(!0)},Te=async()=>{if(Z){ye(!0);try{await t.fetchWithAuth(`/service-catalogues/${Z}`,{method:"DELETE"}),await rt(),q(!1),ie(null),Ne("success","Service deleted")}catch{Ne("error","Failed to delete service")}finally{ye(!1)}}},et=g.useMemo(()=>{let ue=[...I];if(Oe.trim()){const fe=Oe.toLowerCase().trim();ue=ue.filter(Ae=>Ae.service_name.toLowerCase().includes(fe)||(Ae.service_description||"").toLowerCase().includes(fe))}return O&&(ue=ue.filter(fe=>String(fe.service_type)===String(O))),A&&(ue=ue.filter(fe=>fe.priority===A)),se&&ue.sort((fe,Ae)=>{const tt=fe[se.key],dt=Ae[se.key];return tt<dt?se.direction==="ascending"?-1:1:tt>dt?se.direction==="ascending"?1:-1:0}),ue},[I,Oe,O,A,se]),ct=ue=>{switch(ue){case"Critical":return"bg-red-500 text-white";case"High":return"bg-orange-500 text-white";case"Medium":return"bg-yellow-500 text-white";case"Low":return"bg-gray-500 text-white";default:return"bg-gray-500 text-white"}},pe=Me*re,B=pe-re,ce=et.slice(B,pe),be=Math.max(1,Math.ceil(et.length/re)),Se=()=>{const[ue,fe]=g.useState((F==null?void 0:F.service_name)||""),[Ae,tt]=g.useState((F==null?void 0:F.service_description)||""),[dt,pt]=g.useState((F==null?void 0:F.service_type)||""),[Ee,Ye]=g.useState((F==null?void 0:F.priority)||"Low"),[bt,Qt]=g.useState((F==null?void 0:F.service_owner)||(Y[0]?Y[0].id:"")),[Dr,Vr]=g.useState((F==null?void 0:F.sla)||24),[Ot,dr]=g.useState((F==null?void 0:F.impact)||""),[Rt,Or]=g.useState({}),_e=async()=>{if(Or({}),!ue.trim()){Or({service_name:"Service Name is required"});return}if(!dt){Or(De=>({...De,service_type:"Service Type is required"}));return}if(!Ee){Or(De=>({...De,priority:"Priority is required"}));return}if(isNaN(Number(Dr))){Or(De=>({...De,sla:"SLA must be a number"}));return}ye(!0);try{const De={service_name:ue.trim(),service_description:Ae.trim(),service_type:Number(dt),priority:Ee,service_owner:Number(bt)||0,sla:Number(Dr)||0,impact:Ot.trim()};F?(await t.fetchWithAuth(`/service-catalogues/${F.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(De)}),Ne("success","Service updated")):(await t.fetchWithAuth("/service-catalogues",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(De)}),Ne("success","Service created")),await rt(),P(!1)}catch{Ne("error","Save failed")}finally{ye(!1)}};return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Service Name *"}),a.jsx("input",{value:ue,onChange:De=>fe(De.target.value),className:"w-full mt-2 px-4 py-2 border border-blue-200 rounded-lg bg-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/30"}),Rt.service_name&&a.jsx("p",{className:"text-xs text-red-600 mt-1",children:Rt.service_name})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Service Description"}),a.jsx("textarea",{value:Ae,onChange:De=>tt(De.target.value),rows:3,className:"w-full mt-2 px-4 py-2 border border-blue-200 rounded-lg bg-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/30"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Service Type *"}),a.jsxs("select",{value:dt,onChange:De=>pt(De.target.value?Number(De.target.value):""),className:"w-full mt-2 px-4 py-2 border border-blue-200 rounded-lg bg-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/30",children:[a.jsx("option",{value:"",children:"-- Select Group --"}),R.map(De=>a.jsx("option",{value:String(De.id),children:De.group_name??De.name??String(De.id)},String(De.id)))]}),Rt.service_type&&a.jsx("p",{className:"text-xs text-red-600 mt-1",children:Rt.service_type})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Priority *"}),a.jsxs("select",{value:Ee,onChange:De=>Ye(De.target.value),className:"w-full mt-2 px-4 py-2 border border-blue-200 rounded-lg bg-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/30",children:[a.jsx("option",{value:"Low",children:"Low"}),a.jsx("option",{value:"Medium",children:"Medium"}),a.jsx("option",{value:"High",children:"High"}),a.jsx("option",{value:"Critical",children:"Critical"})]}),Rt.priority&&a.jsx("p",{className:"text-xs text-red-600 mt-1",children:Rt.priority})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"SLA (hours) *"}),a.jsx("input",{type:"number",value:Dr,onChange:De=>Vr(Number(De.target.value)),className:"w-full mt-2 px-4 py-2 border border-blue-200 rounded-lg bg-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/30"}),Rt.sla&&a.jsx("p",{className:"text-xs text-red-600 mt-1",children:Rt.sla})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Service Owner"}),a.jsxs("select",{value:bt,onChange:De=>Qt(De.target.value?Number(De.target.value):""),className:"w-full mt-2 px-4 py-2 border border-blue-200 rounded-lg bg-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/30",children:[a.jsx("option",{value:"",children:"-- Select Owner --"}),Y.map(De=>a.jsx("option",{value:De.id,children:De.name},De.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Impact"}),a.jsx("textarea",{value:Ot,onChange:De=>dr(De.target.value),rows:2,className:"w-full mt-2 px-4 py-2 border border-blue-200 rounded-lg bg-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/30"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-100 mt-3",children:[a.jsx(C.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>P(!1),className:"px-5 py-2 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),a.jsx(C.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:_e,disabled:Ke,className:"px-5 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold text-sm disabled:opacity-60",children:Ke?"Saving...":"Save"})]})]})},$e=({service:ue,onClose:fe})=>{var Qt,Dr,Vr;const Ae=Ot=>Ot==null?"-":typeof Ot=="string"?Ot.trim()!==""?Ot.trim():"-":typeof Ot=="number"?Ot.toString():String(Ot),tt=Ot=>Ot?new Date(Ot).toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-",dt=({priority:Ot})=>{const dr={Critical:"bg-red-100 text-red-800 border-red-300",High:"bg-orange-100 text-orange-800 border-orange-300",Medium:"bg-yellow-100 text-yellow-800 border-yellow-300",Low:"bg-gray-100 text-gray-800 border-gray-300"};return a.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold border ${dr[Ot]||dr.Low}`,children:Ot})},pt=({title:Ot,children:dr,icon:Rt})=>a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[a.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-4 border-b border-gray-200",children:a.jsxs("div",{className:"flex items-center",children:[Rt&&a.jsx("div",{className:"mr-3 text-blue-600",children:Rt}),a.jsx("h3",{className:"text-lg font-bold text-gray-900",children:Ot})]})}),a.jsx("div",{className:"p-6",children:dr})]}),Ee=({label:Ot,value:dr,icon:Rt,fullWidth:Or=!1,priority:_e="medium"})=>{const De={high:"border-l-4 border-l-blue-500 bg-blue-25",medium:"border-l-2 border-l-gray-200",low:"border-l border-l-gray-100"};return a.jsx("div",{className:`${Or?"col-span-full":""}`,children:a.jsx("div",{className:`p-4 rounded-lg ${De[_e]} transition-all duration-200 hover:shadow-sm`,children:a.jsxs("div",{className:"flex items-start space-x-3",children:[Rt&&a.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:Rt}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1",children:Ot}),a.jsx("p",{className:"text-sm font-medium text-gray-900 leading-relaxed",children:dr})]})]})})})},Ye=((Qt=Y.find(Ot=>Ot.id===Number(ue.service_owner)))==null?void 0:Qt.name)??String(ue.service_owner),bt=((Dr=R.find(Ot=>String(Ot.id)===String(ue.service_type)))==null?void 0:Dr.group_name)??((Vr=R.find(Ot=>String(Ot.id)===String(ue.service_type)))==null?void 0:Vr.name)??String(ue.service_type);return a.jsxs("div",{className:"space-y-6 max-h-[70vh] overflow-y-auto custom-scrollbar pr-2",children:[a.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6",children:a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:ue.service_name}),a.jsx(dt,{priority:ue.priority})]}),a.jsxs("p",{className:"text-gray-600 flex items-center gap-2",children:[a.jsx(xn,{className:"w-4 h-4"}),"Created: ",tt(ue.created_at)]})]}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs(C.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:fe,className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-lg text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:[a.jsx(at,{className:"w-4 h-4 mr-2"}),"Close"]})})]})}),a.jsx(pt,{title:"Service Information",icon:a.jsx(sa,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsx(Ee,{label:"Service Name",value:Ae(ue.service_name),icon:a.jsx(ll,{className:"w-4 h-4"}),priority:"high"}),a.jsx(Ee,{label:"Service Type",value:Ae(bt),icon:a.jsx(IW,{className:"w-4 h-4"}),priority:"high"}),a.jsx(Ee,{label:"Priority",value:Ae(ue.priority),icon:a.jsx(er,{className:"w-4 h-4"}),priority:"high"})]})}),a.jsx(pt,{title:"Service Details",icon:a.jsx(ll,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsx(Ee,{label:"Service Description",value:Ae(ue.service_description),icon:a.jsx(ll,{className:"w-4 h-4"}),fullWidth:!0}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(Ee,{label:"Service Owner",value:Ae(Ye),icon:a.jsx(Mr,{className:"w-4 h-4"})}),a.jsx(Ee,{label:"SLA (hours)",value:Ae(ue.sla),icon:a.jsx(Lt,{className:"w-4 h-4"})})]})]})}),a.jsx(pt,{title:"Additional Information",icon:a.jsx(sa,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsx(Ee,{label:"Impact",value:Ae(ue.impact),icon:a.jsx(er,{className:"w-4 h-4"}),fullWidth:!0}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(Ee,{label:"Created At",value:tt(ue.created_at),icon:a.jsx(xn,{className:"w-4 h-4"})}),a.jsx(Ee,{label:"Updated At",value:tt(ue.updated_at),icon:a.jsx(xn,{className:"w-4 h-4"})})]})]})})]})};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Mt,{mainTitle:"Service Catalogue",mainTitleHighlight:"Management",description:"Manage user roles and permissions to control access and functionality within the system.",icon:a.jsx(ll,{}),isMobile:ot,toggleSidebar:n}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Service ",a.jsx("span",{className:"text-blue-600",children:"Catalogue"})]}),a.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Browse and manage the list of available services."})]}),a.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[a.jsxs(C.button,{onClick:()=>s("/services/servicecatalogues/addservicecatalogue"),whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[a.jsx(Jn,{className:"text-base"}),a.jsx("span",{children:"Add Service"})]}),a.jsxs("label",{className:"flex items-center cursor-pointer",children:[a.jsx("input",{type:"file",accept:".csv",onChange:ae,className:"hidden"}),a.jsxs(C.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(Ja,{className:"text-base"}),a.jsx("span",{children:ge?"Importing...":"Import"})]})]}),a.jsxs(C.button,{onClick:()=>S(ue=>!ue),whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(Xa,{className:"text-base"}),a.jsx("span",{children:"Filters"}),a.jsx(C.span,{animate:{rotate:T?180:0},transition:{duration:.2},children:a.jsx(cn,{className:"text-base"})})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[a.jsx(Py,{title:"Total Services",currentCount:ze,lastMonthCount:We.length,icon:a.jsx(sa,{})}),a.jsx(Py,{title:"Critical",currentCount:we.Critical,lastMonthCount:We.filter(ue=>ue.priority==="Critical").length,icon:a.jsx(sa,{}),usePercentage:!1}),a.jsx(Py,{title:"Average SLA (hrs)",currentCount:ut,lastMonthCount:We.length>0?Math.round(We.reduce((ue,fe)=>ue+(fe.sla||0),0)/We.length*100)/100:0,icon:a.jsx(sa,{}),usePercentage:!1}),a.jsx(Py,{title:"Total Owners",currentCount:ht,lastMonthCount:new Set(We.map(ue=>ue.service_owner)).size,icon:a.jsx(Mr,{}),usePercentage:!1})]}),a.jsxs(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.05},children:[a.jsx("div",{className:"mb-4 bg-white rounded-2xl shadow-md p-4 md:p-6 border border-blue-50",children:a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Wn,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),a.jsx("input",{ref:xe,value:v,onChange:ue=>N(ue.target.value),placeholder:"Search services by name or description...",className:"w-full pl-12 pr-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base transition-all duration-200"})]}),a.jsx(kt,{children:T&&a.jsxs(C.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3 w-full md:w-auto",children:[a.jsxs("select",{value:O,onChange:ue=>_(ue.target.value),className:"border border-gray-200 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base appearance-none bg-no-repeat bg-right-12 bg-center-y transition-all duration-200",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='currentColor'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/svg%3E")`,backgroundSize:"1.2rem"},children:[a.jsx("option",{value:"",children:"All Groups"}),R.map(ue=>a.jsx("option",{value:String(ue.id),children:ue.group_name??ue.name??String(ue.id)},String(ue.id)))]}),a.jsxs("select",{value:A,onChange:ue=>E(ue.target.value),className:"border border-gray-200 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base appearance-none bg-no-repeat bg-right-12 bg-center-y transition-all duration-200",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='currentColor'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/svg%3E")`,backgroundSize:"1.2rem"},children:[a.jsx("option",{value:"",children:"All Priorities"}),a.jsx("option",{value:"Critical",children:"Critical"}),a.jsx("option",{value:"High",children:"High"}),a.jsx("option",{value:"Medium",children:"Medium"}),a.jsx("option",{value:"Low",children:"Low"})]})]})})]})}),D?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),a.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading service catalogue..."})]}):ve?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 text-center border border-yellow-100",children:[a.jsx(sa,{className:"text-yellow-500 text-4xl mx-auto mb-4"}),a.jsx("p",{className:"text-gray-700 text-base font-medium",children:ve}),a.jsx("div",{className:"mt-4",children:a.jsx("button",{onClick:rt,className:"px-4 py-2 bg-blue-600 text-white rounded-md",children:"Retry"})})]}):et.length===0?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx(sa,{className:"text-blue-500 text-4xl mx-auto mb-4"}),a.jsx("p",{className:"text-gray-700 text-base font-medium",children:Oe||O||A?"No services found matching your filters.":"No services available."}),(Oe||O||A)&&a.jsx("button",{onClick:he,className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear All Filters"})]}):a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-100",children:[a.jsx("thead",{className:"bg-blue-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",onClick:()=>Je("service_name"),children:"Service Name"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Group"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Priority"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Service Owner"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"SLA (hrs)"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Impact"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:ce.map((ue,fe)=>{var dt,pt,Ee;const Ae=((dt=Y.find(Ye=>Ye.id===Number(ue.service_owner)))==null?void 0:dt.name)??String(ue.service_owner),tt=((pt=R.find(Ye=>String(Ye.id)===String(ue.service_type)))==null?void 0:pt.group_name)??((Ee=R.find(Ye=>String(Ye.id)===String(ue.service_type)))==null?void 0:Ee.name)??String(ue.service_type);return a.jsxs(C.tr,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.2},whileHover:{backgroundColor:"rgba(239, 246, 255, 1)"},className:"transition-colors duration-150",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:B+fe+1}),a.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:ue.service_name}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:tt}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-bold rounded-full ${ct(ue.priority)} shadow-sm`,children:ue.priority})}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:Ae}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:ue.sla}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:ue.impact||"-"}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium flex items-center space-x-2",children:[a.jsx(C.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>l(ue),className:"text-blue-600 hover:text-blue-800 transition-colors duration-200 flex items-center space-x-1",title:"View Details",children:a.jsx(us,{className:"text-lg"})}),a.jsx(C.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>s(`/services/servicecatalogues/editservicecatalogue/${ue.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 flex items-center space-x-1",title:"Edit",children:a.jsx(Bn,{className:"text-lg"})}),a.jsx(C.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>ne(ue.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 flex items-center space-x-1",title:"Delete",children:a.jsx(dn,{className:"text-lg"})})]})]},ue.id)})})]})})}),et.length>re&&a.jsxs(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"mt-8 flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{className:"text-sm text-gray-600 mb-4 sm:mb-0",children:["Showing ",a.jsx("span",{className:"font-semibold",children:B+1})," to ",a.jsx("span",{className:"font-semibold",children:Math.min(pe,et.length)})," of"," ",a.jsx("span",{className:"font-semibold",children:et.length})," results"]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(C.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Be(ue=>Math.max(1,ue-1)),disabled:Me===1,className:"px-4 py-2 border border-gray-200 rounded-lg bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm",children:"Previous"}),Array.from({length:be},(ue,fe)=>a.jsx(C.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Be(fe+1),className:`px-4 py-2 rounded-lg transition-colors duration-200 shadow-sm
                          ${Me===fe+1?"bg-blue-600 text-white shadow-md":"bg-white text-gray-700 hover:bg-blue-50 border border-gray-200"}
                        `,children:fe+1},fe+1)),a.jsx(C.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Be(ue=>Math.min(be,ue+1)),disabled:Me===be,className:"px-4 py-2 border border-gray-200 rounded-lg bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm",children:"Next"})]})]})]})]})]}),a.jsx(S5,{isOpen:H,onClose:()=>P(!1),title:F?"Edit Service":"Add Service",className:"max-w-3xl",children:a.jsx(Se,{})}),a.jsx(S5,{isOpen:te,onClose:()=>q(!1),title:"Confirm Deletion",children:a.jsxs("div",{className:"space-y-5 text-center py-3",children:[a.jsx(sa,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),a.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this service? This action cannot be undone."}),a.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>q(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:Te,disabled:Ke,className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm disabled:opacity-60",children:"Delete"})]})]})}),a.jsx(S5,{isOpen:c,onClose:()=>d(!1),title:"Service Details",className:"max-w-5xl",children:i&&a.jsx($e,{service:i,onClose:()=>d(!1)})}),oe&&a.jsx("div",{className:"fixed bottom-6 right-6 z-50",children:a.jsx(C.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:`px-5 py-3 rounded-lg shadow-md ${oe.type==="success"?"bg-green-600 text-white":"bg-red-600 text-white"}`,children:oe.message})})]})},tLe=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(C.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(at,{size:24})})]}),a.jsx("div",{children:n})]})}):null,rLe=()=>{const t=St(),{addServiceGroup:e}=t,[r,n]=g.useState(window.innerWidth<768),[s,i]=g.useState(()=>{const O=localStorage.getItem("sidebarOpen");return JSON.parse(O||"false")}),o=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!s)),i(O=>!O)},l=jt(),[c,d]=g.useState(""),[h,m]=g.useState(""),[x,y]=g.useState(!1),[w,j]=g.useState(null),[v,N]=g.useState(!1),T=async O=>{if(O.preventDefault(),j(null),!c.trim()){j("Group Name is required");return}y(!0);try{await e({group_name:c.trim(),group_description:h.trim()||null}),N(!0)}catch(_){const A=_ instanceof Error?_.message:"Failed to save service group";j(A)}finally{y(!1)}},S=()=>{N(!1),l("/servicegroups")};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Mt,{mainTitle:"Edit Group",mainTitleHighlight:"Management",description:"Manage user roles and permissions to control access and functionality within the system.",icon:a.jsx(xa,{}),isMobile:r,toggleSidebar:o}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(C.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.25},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create Service Group"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Add a new service group to categorize services."})]}),a.jsxs(C.button,{onClick:()=>l("/servicegroups"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(kr,{className:"text-lg"})," Back"]})]}),a.jsxs(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.08},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[w&&a.jsxs("div",{className:"bg-red-100 border border-red-300 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-semibold",children:"Error: "}),a.jsx("span",{className:"ml-2",children:w})]}),a.jsxs("form",{onSubmit:T,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Group Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{name:"group_name",value:c,onChange:O=>d(O.target.value),type:"text",className:"mt-2 w-full px-4 py-2 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Group Description"}),a.jsx("textarea",{name:"group_description",value:h,onChange:O=>m(O.target.value),rows:4,className:"mt-2 w-full px-4 py-2 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-100",children:[a.jsx(C.button,{type:"button",whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>l("/servicegroups"),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),a.jsx(C.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},disabled:x,className:"px-5 py-2.5 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold text-sm flex items-center",children:x?a.jsxs(a.Fragment,{children:[a.jsx(mr,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Ar,{className:"mr-2 h-5 w-5"}),"Save"]})})]})]})]})]})]}),a.jsx(tLe,{isOpen:v,onClose:S,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx($t,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:"Service group has been created successfully."}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:S,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Go to Service Groups"})]})})]})},nLe=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(C.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(at,{size:24})})]}),a.jsx("div",{children:n})]})}):null,aLe=()=>{const e=Ta().id,r=jt(),n=St(),{getServiceGroup:s,updateServiceGroup:i}=n,[o,l]=g.useState(window.innerWidth<768),[c,d]=g.useState(()=>{const $=localStorage.getItem("sidebarOpen");return JSON.parse($||"false")}),h=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!c)),d($=>!$)},[m,x]=g.useState(""),[y,w]=g.useState(""),[j,v]=g.useState(!1),[N,T]=g.useState(!0),[S,O]=g.useState(null),[_,A]=g.useState(!1);g.useEffect(()=>{let $=!0;return(async()=>{T(!0),O(null);try{if(!e){O("Missing service group id");return}const L=await s(e);if(!$)return;x(String(L.group_name??"")),w(String(L.group_description??"")||"")}catch(L){const R=L instanceof Error?L.message:"Failed to load service group";O(R)}finally{$&&T(!1)}})(),()=>{$=!1}},[s,e]);const E=async $=>{if($.preventDefault(),O(null),!m.trim()){O("Group Name is required");return}v(!0);try{const I=Number(e);await i(I,{group_name:m.trim(),group_description:y.trim()||null}),A(!0)}catch(I){const L=I instanceof Error?I.message:"Failed to update service group";O(L)}finally{v(!1)}},D=()=>{A(!1),r("/servicegroups")};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Mt,{mainTitle:"Edit Group",mainTitleHighlight:"Management",description:"Manage user roles and permissions to control access and functionality within the system.",icon:a.jsx(xa,{}),isMobile:o,toggleSidebar:h}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsx(C.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.25},className:"mb-6",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Service Group"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Update the service group details below."})]})}),a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.08},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:N?a.jsxs("div",{className:"text-center p-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-4 border-b-4 border-blue-500 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading service group..."})]}):a.jsxs(a.Fragment,{children:[S&&a.jsxs("div",{className:"bg-red-100 border border-red-300 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-semibold",children:"Error: "}),a.jsx("span",{className:"ml-2",children:S})]}),a.jsxs("form",{onSubmit:E,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Group Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{name:"group_name",value:m,onChange:$=>x($.target.value),type:"text",className:"mt-2 w-full px-4 py-2 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Group Description"}),a.jsx("textarea",{name:"group_description",value:y,onChange:$=>w($.target.value),rows:4,className:"mt-2 w-full px-4 py-2 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-100",children:[a.jsx(C.button,{type:"button",whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>r("/servicegroups"),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),a.jsx(C.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},disabled:j,className:"px-5 py-2.5 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold text-sm flex items-center",children:j?a.jsxs(a.Fragment,{children:[a.jsx(mr,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Ar,{className:"mr-2 h-5 w-5"}),"Save Changes"]})})]})]})]})})]})]}),a.jsx(nLe,{isOpen:_,onClose:D,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx($t,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:"Service group has been updated successfully."}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:D,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Go to Service Groups"})]})})]})},sLe=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(C.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(at,{size:24})})]}),a.jsx("div",{children:n})]})}):null,iLe=()=>{const{id:t}=Ta(),{updateServiceCatalogue:e,getServiceGroups:r,getUsers:n,fetchWithAuth:s}=St(),i=jt(),[o,l]=g.useState(window.innerWidth<768),[c,d]=g.useState(()=>{const W=localStorage.getItem("sidebarOpen");return JSON.parse(W||"false")}),h=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!c)),d(W=>!W)},[m,x]=g.useState(!1),[y,w]=g.useState(!0),[j,v]=g.useState(null),[N,T]=g.useState(null),[S,O]=g.useState(!1),[_,A]=g.useState([]),[E,D]=g.useState([]),[$,I]=g.useState({service_name:"",service_description:"",service_type:"",priority:"Low",service_owner:"",sla:24,impact:""}),L=g.useCallback(async()=>{try{const[W,H,P]=await Promise.all([s(`/service-catalogues/${t}`),r(0),n()]),F=W.data||W;A(H),D(P),F&&I({service_name:F.service_name||"",service_description:F.service_description||"",service_type:String(F.service_type||""),priority:F.priority||"Low",service_owner:String(F.service_owner||""),sla:F.sla?parseFloat(F.sla):24,impact:F.impact||""})}catch(W){v(W.message||"Failed to load service data")}finally{w(!1)}},[t,s,r,n]);g.useEffect(()=>{t&&L()},[t,L]);const R=W=>{const{name:H,value:P}=W.target;I(F=>({...F,[H]:H==="sla"?Number(P):P}))},z=async W=>{if(W.preventDefault(),x(!0),v(null),!$.service_name||!$.service_type||!$.priority||!$.service_owner||!$.sla){v("Please fill all required fields"),x(!1);return}try{const H={service_name:$.service_name,service_description:$.service_description,service_type:Number($.service_type),priority:$.priority,service_owner:Number($.service_owner),sla:$.sla,impact:$.impact};await e(t,H),T("Service Catalogue updated successfully!"),O(!0)}catch(H){v(H.message||"Failed to update Service Catalogue")}finally{x(!1)}},Y=()=>{O(!1),i("/services/servicecatalogues")};return y?a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsx("div",{className:"flex-1 flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500"})})]}):a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Mt,{mainTitle:"Edit Catalogue",mainTitleHighlight:"Management",description:"Manage user roles and permissions to control access and functionality within the system.",icon:a.jsx(ll,{}),isMobile:o,toggleSidebar:h}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Service Catalogue"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Update service details"})]}),a.jsxs(C.button,{onClick:()=>i("/services/servicecatalogues"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(kr,{className:"text-lg"})," Back to Catalogue"]})]}),a.jsxs(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[j&&a.jsxs(C.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:j}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(at,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>v(null)})})]}),a.jsxs("form",{onSubmit:z,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Service Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"service_name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Service Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"service_name",id:"service_name",value:$.service_name,onChange:R,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"service_type",className:"block text-sm font-medium text-gray-700 mb-1",children:["Service Type ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{name:"service_type",id:"service_type",value:$.service_type,onChange:R,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0,children:[a.jsx("option",{value:"",children:"Select Service Type"}),_.map(W=>a.jsx("option",{value:W.id,children:W.group_name||W.name},W.id))]})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"priority",className:"block text-sm font-medium text-gray-700 mb-1",children:["Priority ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{name:"priority",id:"priority",value:$.priority,onChange:R,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0,children:[a.jsx("option",{value:"Low",children:"Low"}),a.jsx("option",{value:"Medium",children:"Medium"}),a.jsx("option",{value:"High",children:"High"}),a.jsx("option",{value:"Critical",children:"Critical"})]})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"service_owner",className:"block text-sm font-medium text-gray-700 mb-1",children:["Service Owner ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{name:"service_owner",id:"service_owner",value:$.service_owner,onChange:R,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0,children:[a.jsx("option",{value:"",children:"Select Service Owner"}),E.map(W=>a.jsx("option",{value:W.id,children:W.name},W.id))]})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"sla",className:"block text-sm font-medium text-gray-700 mb-1",children:["SLA (hours) ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"number",name:"sla",id:"sla",value:$.sla,onChange:R,min:"1",step:"0.01",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"impact",className:"block text-sm font-medium text-gray-700 mb-1",children:"Impact"}),a.jsx("input",{type:"text",name:"impact",id:"impact",value:$.impact,onChange:R,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700"})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{htmlFor:"service_description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Service Description"}),a.jsx("textarea",{name:"service_description",id:"service_description",value:$.service_description,onChange:R,rows:4,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700"})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsx(C.button,{type:"button",onClick:()=>i("/services/servicecatalogues"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),a.jsx(C.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:m,children:m?a.jsxs(a.Fragment,{children:[a.jsx(mr,{className:"animate-spin mr-2 h-5 w-5"}),"Updating..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Ar,{className:"mr-2 h-5 w-5"})," Update Service"]})})]})]})]})]})]}),a.jsx(sLe,{isOpen:S,onClose:Y,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx($t,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:N}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:Y,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Service Catalogue"})]})})]})},oLe=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(C.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(at,{size:24})})]}),a.jsx("div",{children:n})]})}):null,lLe=()=>{const{addServiceCatalogue:t,getServiceGroups:e,getUsers:r}=St(),n=jt(),[s,i]=g.useState(window.innerWidth<768),[o,l]=g.useState(()=>{const L=localStorage.getItem("sidebarOpen");return JSON.parse(L||"false")}),c=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!o)),l(L=>!L)},[d,h]=g.useState(!1),[m,x]=g.useState(null),[y,w]=g.useState(null),[j,v]=g.useState(!1),[N,T]=g.useState([]),[S,O]=g.useState([]),[_,A]=g.useState({service_name:"",service_description:"",service_type:"",priority:"Low",service_owner:"",sla:24,impact:""}),E=g.useCallback(async()=>{try{const[L,R]=await Promise.all([e(0),r()]);T(L),O(R)}catch(L){x(L.message||"Failed to load form data")}},[e,r]);g.useEffect(()=>{E()},[E]);const D=L=>{const{name:R,value:z}=L.target;A(Y=>({...Y,[R]:R==="sla"?Number(z):z}))},$=async L=>{if(L.preventDefault(),h(!0),x(null),!_.service_name||!_.service_type||!_.priority||!_.service_owner||!_.sla){x("Please fill all required fields"),h(!1);return}try{const R={service_name:_.service_name,service_description:_.service_description,service_type:Number(_.service_type),priority:_.priority,service_owner:Number(_.service_owner),sla:_.sla,impact:_.impact};await t(R),w("Service Catalogue created successfully!"),v(!0)}catch(R){x(R.message||"Failed to create Service Catalogue")}finally{h(!1)}},I=()=>{v(!1),n("/servicecatalogue")};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Mt,{mainTitle:"Add Catalogue",mainTitleHighlight:"Management",description:"Manage user roles and permissions to control access and functionality within the system.",icon:a.jsx(ll,{}),isMobile:s,toggleSidebar:c}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Service Catalogue"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Add a new service to the catalogue"})]}),a.jsxs(C.button,{onClick:()=>n("/servicecatalogue"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(kr,{className:"text-lg"})," Back to Catalogue"]})]}),a.jsxs(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[m&&a.jsxs(C.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:m}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(at,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>x(null)})})]}),a.jsxs("form",{onSubmit:$,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Service Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"service_name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Service Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"service_name",id:"service_name",value:_.service_name,onChange:D,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"service_type",className:"block text-sm font-medium text-gray-700 mb-1",children:["Service Type ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{name:"service_type",id:"service_type",value:_.service_type,onChange:D,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0,children:[a.jsx("option",{value:"",children:"Select Service Type"}),N.map(L=>a.jsx("option",{value:L.id,children:L.group_name||L.name},L.id))]})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"priority",className:"block text-sm font-medium text-gray-700 mb-1",children:["Priority ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{name:"priority",id:"priority",value:_.priority,onChange:D,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0,children:[a.jsx("option",{value:"Low",children:"Low"}),a.jsx("option",{value:"Medium",children:"Medium"}),a.jsx("option",{value:"High",children:"High"}),a.jsx("option",{value:"Critical",children:"Critical"})]})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"service_owner",className:"block text-sm font-medium text-gray-700 mb-1",children:["Service Owner ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{name:"service_owner",id:"service_owner",value:_.service_owner,onChange:D,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0,children:[a.jsx("option",{value:"",children:"Select Service Owner"}),S.map(L=>a.jsx("option",{value:L.id,children:L.name},L.id))]})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"sla",className:"block text-sm font-medium text-gray-700 mb-1",children:["SLA (hours) ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"number",name:"sla",id:"sla",value:_.sla,onChange:D,min:"1",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"impact",className:"block text-sm font-medium text-gray-700 mb-1",children:"Impact"}),a.jsx("input",{type:"text",name:"impact",id:"impact",value:_.impact,onChange:D,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700"})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{htmlFor:"service_description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Service Description"}),a.jsx("textarea",{name:"service_description",id:"service_description",value:_.service_description,onChange:D,rows:4,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700"})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsx(C.button,{type:"button",onClick:()=>n("/servicecatalogue"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),a.jsx(C.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:d,children:d?a.jsxs(a.Fragment,{children:[a.jsx(mr,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Ar,{className:"mr-2 h-5 w-5"})," Save Service"]})})]})]})]})]})]}),a.jsx(oLe,{isOpen:j,onClose:I,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx($t,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:y}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:I,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Service Catalogue"})]})})]})},cLe=({isOpen:t,onClose:e,title:r,children:n,className:s})=>a.jsx(kt,{children:t&&a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:a.jsxs(C.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${s||"max-w-xl w-full"}`,children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:r}),a.jsx("button",{onClick:e,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:a.jsx(at,{className:"text-xl"})})]}),a.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:n})]})})}),Ry=({title:t,value:e,change:r,icon:n})=>{const s=r.startsWith("+");return a.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),a.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),a.jsxs("p",{className:`mt-3 text-xs font-semibold ${s?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})},uLe=()=>{const[t,e]=g.useState([]),[r,n]=g.useState([]),{getDepartment:s,getUsers:i,deleteDepartment:o}=St(),[l,c]=g.useState(!0),[d,h]=g.useState(null),[m,x]=g.useState(""),[y,w]=g.useState(!1),[j,v]=g.useState(null),[N,T]=g.useState(!1),[S]=g.useState(window.innerWidth<768),[O,_]=g.useState(()=>{const te=localStorage.getItem("sidebarOpen");return te?JSON.parse(te):!1}),A=jt(),E=g.useRef(null),[D,$]=g.useState(!1),I=g.useMemo(()=>[{id:"department",name:"Department"},{id:"head",name:"Head"}],[]),L=g.useCallback(async()=>{try{c(!0);const te=await s(),q=await i(),Z=[...te].sort((ie,oe)=>ie.id-oe.id);e(Z),n(q)}catch(te){h("Failed to load departments"),console.error("Error loading departments:",te)}finally{c(!1)}},[s,i]);g.useEffect(()=>{L()},[L]);const R=()=>{const te=!O;_(te),localStorage.setItem("sidebarOpen",JSON.stringify(te))},z=()=>{alert("Import functionality is not yet implemented.")},Y=te=>{const q=te.target.value;x(q)},W=g.useMemo(()=>{if(!m)return I;const te=m.toLowerCase();return I.filter(q=>q.name.toLowerCase().includes(te))},[m,I]),H=te=>{var q;x(`${te}: `),$(!1),(q=E.current)==null||q.focus()},P=g.useMemo(()=>{if(!m.trim())return t;const te=m.toLowerCase().trim(),q=te.split(":");let Z="all",ie=te;return q.length>1&&I.some(oe=>oe.name.toLowerCase()===q[0].trim())&&(Z=q[0].trim(),ie=q.slice(1).join(":").trim()),t.filter(oe=>{var Le,Oe,xe;const le=(Le=oe.name)==null?void 0:Le.toLowerCase().includes(ie),ge=(xe=(Oe=oe.head)==null?void 0:Oe.name)==null?void 0:xe.toLowerCase().includes(ie);return Z==="department"?le:Z==="head"?ge:le||ge})},[t,m,I]),F=async te=>{try{await o(te),e(t.filter(q=>q.id!==te)),w(!1),v(null)}catch(q){console.error("Failed to delete department:",q),h("Failed to delete department. Please try again.")}},X=g.useCallback(te=>{v(te),w(!0)},[]);return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Mt,{mainTitle:"Departments",mainTitleHighlight:"Page",description:"Manage departments and their configurations within the system.",icon:a.jsx(td,{}),isMobile:S,toggleSidebar:R}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Departments ",a.jsx("span",{className:"text-blue-600",children:"Management"})]}),a.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Organize and manage departments by specific company requirements."})]}),a.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[a.jsxs(C.button,{onClick:()=>A("/worklocation/department/adddepartment"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[a.jsx(Jn,{className:"text-base"}),a.jsx("span",{children:"Add Department"})]}),a.jsxs(C.button,{onClick:z,whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(Ja,{className:"text-base"}),a.jsx("span",{children:"Import"})]}),a.jsxs(C.button,{onClick:()=>T(!N),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(Xa,{className:"text-base"}),a.jsx("span",{children:"Filters"}),a.jsx(C.span,{animate:{rotate:N?180:0},transition:{duration:.2},children:a.jsx(cn,{className:"text-base"})})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[a.jsx(Ry,{title:"Total Departments",value:t.length.toString(),change:`+${Math.floor(t.length/10*100)}%`,icon:a.jsx(td,{className:"w-6 h-6"})}),a.jsx(Ry,{title:"Head Departments",value:t.filter(te=>te.head_id!==null).length.toString(),change:`+${Math.floor(t.filter(te=>te.head_id!==null).length/t.length*100)}%`,icon:a.jsx(Mr,{className:"w-6 h-6"})}),a.jsx(Ry,{title:"Departments with Email",value:t.filter(te=>{var q;return(q=te.head)==null?void 0:q.email}).length.toString(),change:`+${Math.floor(t.filter(te=>{var q;return(q=te.head)==null?void 0:q.email}).length/t.length*100)}%`,icon:a.jsx($h,{className:"w-6 h-6"})}),a.jsx(Ry,{title:"Total Employees",value:r.length.toString(),change:`+${Math.floor(r.length/50*100)}%`,icon:a.jsx(xa,{className:"w-6 h-6"})})]}),a.jsxs(C.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[a.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Wn,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),a.jsx("input",{ref:E,type:"text",placeholder:"Search by department or head...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:m,onChange:Y,onFocus:()=>$(!0),"aria-label":"Search departments"}),a.jsx(kt,{children:D&&W.length>0&&a.jsx(C.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.15},className:"search-suggestions absolute left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-10 max-h-56 overflow-y-auto custom-scrollbar",children:W.map(te=>a.jsx(C.button,{onClick:()=>H(te.name),whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},className:"w-full text-left p-3 text-gray-700 hover:text-blue-700 transition-colors duration-150 text-sm",role:"option",children:a.jsx("span",{className:"font-semibold",children:te.name})},te.id))})})]})}),a.jsx(kt,{children:N&&a.jsx(C.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full"})})]}),l?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),a.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading department data..."})]}):P.length===0?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("p",{className:"text-gray-700 text-base font-medium",children:m?"No departments found matching your search.":"No departments available."}),m&&a.jsx("button",{onClick:()=>x(""),className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear Search"})]}):a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:a.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:a.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[a.jsx("thead",{className:"bg-blue-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Department"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Head Department"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Email Head Department"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:P.map((te,q)=>{var Z,ie;return a.jsxs(C.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:q+1})}),a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:te.name})}),a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:((Z=te.head)==null?void 0:Z.name)||"-"})}),a.jsx("td",{className:"px-5 py-3",children:a.jsx("div",{className:"text-sm text-gray-600 truncate max-w-xs",children:((ie=te.head)==null?void 0:ie.email)||"-"})}),a.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>A(`/worklocation/department/editdepartment/${te.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit",children:a.jsx(Bn,{className:"inline text-base"})}),a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>X(te.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:a.jsx(dn,{className:"inline text-base"})})]})]},te.id)})})]})})})]})]}),a.jsx(cLe,{isOpen:y,onClose:()=>w(!1),title:"Confirm Deletion",children:a.jsxs("div",{className:"space-y-5 text-center py-3",children:[a.jsx(er,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),a.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this department? This action cannot be undone."}),a.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>w(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>j&&F(j),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})]})},dLe=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(C.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(at,{size:24})})]}),a.jsx("div",{children:n})]})}):null,fLe=()=>{const[t,e]=g.useState(window.innerWidth<768),[r,n]=g.useState([]),[s,i]=g.useState([]),{addDepartment:o,getUsers:l}=St(),[c,d]=g.useState(()=>{const I=localStorage.getItem("sidebarOpen");return I?JSON.parse(I):!1}),[h,m]=g.useState(null),[x,y]=g.useState(null),[w,j]=g.useState(!1),[v,N]=g.useState(!1),T=jt(),[S,O]=g.useState({name:"",head_id:0}),_=()=>{d(I=>!I)},A=I=>{const{name:L,value:R}=I.target;O(z=>({...z,[L]:L==="sla"?Number(R):R}))},E=g.useCallback(async()=>{try{const[I]=await Promise.all([l()]);n(I)}catch(I){m(I.message||"Failed to load form data")}},[l]);g.useEffect(()=>{E()},[E]);const D=async I=>{I.preventDefault(),N(!0),m(null);try{const L={name:S.name,head_id:S.head_id};await o(L),y("Service Catalogue created successfully!"),j(!0)}catch(L){m(L.message||"Failed to create Service Catalogue")}finally{N(!1)}};g.useCallback(I=>{if(!I)return;const L=parseInt(I.value),R=r.find(z=>parseInt(z.id)===L);if(R){const z=s.find(Y=>Y.id===R.department_id);O(Y=>({...Y,id:L,department_id:R.department_id||0,known_by_id:(z==null?void 0:z.head_id)||null}))}},[r,s]);const $=()=>{j(!1),T("/worklocation/department")};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Mt,{mainTitle:"Add Department",mainTitleHighlight:"Management",description:"blablablabl",icon:a.jsx(td,{}),isMobile:t,toggleSidebar:_}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Department and Head"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Add a new Department and Head information"})]}),a.jsxs(C.button,{onClick:()=>T("/worklocation/department"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(kr,{className:"text-lg"})," Back to Catalogue"]})]}),a.jsxs(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[h&&a.jsxs(C.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:h}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(at,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>m(null)})})]}),a.jsxs("form",{onSubmit:D,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Service Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Name Department ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"name",id:"name",value:S.name,onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"head_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Head Department ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{name:"head_id",id:"head_id",value:S.head_id,onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0,children:[a.jsx("option",{value:"",children:"Select Head Department"}),r.map(I=>a.jsx("option",{value:I.id,children:I.name||I.name},I.id))]})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsx(C.button,{type:"button",onClick:()=>T("/worklocations"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),a.jsx(C.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:v,children:v?a.jsxs(a.Fragment,{children:[a.jsx(mr,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Ar,{className:"mr-2 h-5 w-5"})," Save Service"]})})]})]})]})]})]}),a.jsx(dLe,{isOpen:w,onClose:$,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx($t,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:x}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:$,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Service Catalogue"})]})})]})},hLe=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(C.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(at,{size:24})})]}),a.jsx("div",{children:n})]})}):null,mLe=()=>{const{id:t}=Ta(),[e,r]=g.useState(window.innerWidth<768),[n,s]=g.useState([]),[i,o]=g.useState(),{addDepartment:l,getUsers:c,updateDepartment:d,getDepartmentById:h}=St(),[m,x]=g.useState(()=>{const z=localStorage.getItem("sidebarOpen");return z?JSON.parse(z):!1}),[y,w]=g.useState(null),[j,v]=g.useState(null),[N,T]=g.useState(!1),[S,O]=g.useState(!1),_=jt(),[A,E]=g.useState({name:"",head_id:0}),D=()=>{x(z=>!z)};g.useEffect(()=>{i&&E({name:i.name||"",head_id:i.head_id||0})},[i]);const $=z=>{const{name:Y,value:W}=z.target;E(H=>({...H,[Y]:Y==="sla"?Number(W):W}))},I=g.useCallback(async()=>{try{if(t){const[z,Y]=await Promise.all([h(t),c()]);o(z),s(Y)}}catch(z){w(z.message||"Failed to load form data")}},[t,h,c]);g.useEffect(()=>{t&&I()},[t,I]);const L=async z=>{z.preventDefault(),O(!0),w(null);try{const Y={name:A.name,head_id:A.head_id};await d(t,Y),v("Service Catalogue created successfully!"),T(!0)}catch(Y){w(Y.message||"Failed to create Service Catalogue")}finally{O(!1)}},R=()=>{T(!1),_("/worklocation/department")};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Mt,{mainTitle:"Edit Department",mainTitleHighlight:"Management",description:"blablablabl",icon:a.jsx(td,{}),isMobile:e,toggleSidebar:D}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Department and Head"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Update Department and Head information"})]}),a.jsxs(C.button,{onClick:()=>_("/worklocation/department"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(kr,{className:"text-lg"})," Back to Catalogue"]})]}),a.jsxs(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[y&&a.jsxs(C.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:y}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(at,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>w(null)})})]}),a.jsxs("form",{onSubmit:L,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Service Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Name Department ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"name",id:"name",value:A.name,onChange:$,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"head_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Head Department ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{name:"head_id",id:"head_id",value:A.head_id,onChange:$,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0,children:[a.jsx("option",{value:"",children:"Select Head Department"}),n.map(z=>a.jsx("option",{value:z.id,children:z.name||z.name},z.id))]})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsx(C.button,{type:"button",onClick:()=>_("/worklocations"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),a.jsx(C.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:S,children:S?a.jsxs(a.Fragment,{children:[a.jsx(mr,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Ar,{className:"mr-2 h-5 w-5"})," Save Service"]})})]})]})]})]})]}),a.jsx(hLe,{isOpen:N,onClose:R,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx($t,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:j}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:R,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Service Catalogue"})]})})]})},pLe=({isOpen:t,onClose:e,title:r,children:n,className:s})=>a.jsx(kt,{children:t&&a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4 backdrop-blur-sm",children:a.jsxs(C.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${s||"max-w-xl w-full"}`,children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:r}),a.jsx("button",{onClick:e,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:a.jsx(at,{className:"text-xl"})})]}),a.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:n})]})})}),gLe=({title:t,value:e,change:r,icon:n})=>{const s=r.startsWith("+");return a.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),a.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),a.jsxs("p",{className:`mt-3 text-xs font-semibold ${s?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})},xLe=()=>{const[t,e]=g.useState([]),{getStopTimes:r,deleteStopTimes:n}=St(),[s,i]=g.useState(!0),[o,l]=g.useState(null),[c,d]=g.useState(""),[h,m]=g.useState(!1),[x,y]=g.useState(null),[w,j]=g.useState(!1),[v]=g.useState(window.innerWidth<768),[N,T]=g.useState(()=>{const P=localStorage.getItem("sidebarOpen");return P?JSON.parse(P):!1}),S=jt(),O=g.useRef(null),[_,A]=g.useState(!1),E=g.useMemo(()=>[{id:"stoptime",name:"Stop Time"},{id:"description",name:"Description"}],[]),D=g.useCallback(async()=>{try{i(!0);const F=[...await r()].sort((X,te)=>X.id-te.id);e(F)}catch(P){l("Failed to load stop times"),console.error("Error loading stop times:",P)}finally{i(!1)}},[r]);g.useEffect(()=>{D()},[D]);const $=()=>{const P=!N;T(P),localStorage.setItem("sidebarOpen",JSON.stringify(P))},I=()=>{alert("Import functionality is not yet implemented.")},L=P=>{const F=P.target.value;d(F)},R=g.useMemo(()=>{if(!c)return E;const P=c.toLowerCase();return E.filter(F=>F.name.toLowerCase().includes(P))},[c,E]),z=P=>{var F;d(`${P}: `),A(!1),(F=O.current)==null||F.focus()},Y=g.useMemo(()=>{if(!c.trim())return t;const P=c.toLowerCase().trim(),F=P.split(":");let X="all",te=P;return F.length>1&&E.some(q=>q.name.toLowerCase()===F[0].trim())&&(X=F[0].trim(),te=F.slice(1).join(":").trim()),t.filter(q=>{var oe,le;const Z=(oe=q.name)==null?void 0:oe.toLowerCase().includes(te),ie=(le=q.description)==null?void 0:le.toLowerCase().includes(te);return X==="stop time"?Z:X==="description"?ie:Z||ie})},[t,c,E]),W=async P=>{try{await n(P),e(t.filter(F=>F.id!==P)),m(!1),y(null)}catch(F){console.error("Failed to delete stop time:",F),l("Failed to delete stop time. Please try again.")}},H=g.useCallback(P=>{y(P),m(!0)},[]);return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Mt,{mainTitle:"Stop Times",mainTitleHighlight:"Page",description:"Manage stop times and their configurations within the system.",icon:a.jsx(Lt,{}),isMobile:v,toggleSidebar:$}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Stop Times ",a.jsx("span",{className:"text-blue-600",children:"Management"})]}),a.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Organize and manage stop times by specific company requirements."})]}),a.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[a.jsxs(C.button,{onClick:()=>S("/maintenanceactivity/stoptimes/addstoptime"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[a.jsx(Jn,{className:"text-base"}),a.jsx("span",{children:"Add Stop Time"})]}),a.jsxs(C.button,{onClick:I,whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(Ja,{className:"text-base"}),a.jsx("span",{children:"Import"})]}),a.jsxs(C.button,{onClick:()=>j(!w),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(Xa,{className:"text-base"}),a.jsx("span",{children:"Filters"}),a.jsx(C.span,{animate:{rotate:w?180:0},transition:{duration:.2},children:a.jsx(cn,{className:"text-base"})})]})]})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:a.jsx(gLe,{title:"Total Stop Times",value:t.length.toString(),change:`+${Math.floor(t.length/10*100)}%`,icon:a.jsx(Lt,{className:"w-6 h-6"})})}),a.jsxs(C.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[a.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Wn,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),a.jsx("input",{ref:O,type:"text",placeholder:"Search by stop time or description...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:c,onChange:L,onFocus:()=>A(!0),"aria-label":"Search stop times"}),a.jsx(kt,{children:_&&R.length>0&&a.jsx(C.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.15},className:"search-suggestions absolute left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-10 max-h-56 overflow-y-auto custom-scrollbar",children:R.map(P=>a.jsx(C.button,{onClick:()=>z(P.name),whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},className:"w-full text-left p-3 text-gray-700 hover:text-blue-700 transition-colors duration-150 text-sm",role:"option",children:a.jsx("span",{className:"font-semibold",children:P.name})},P.id))})})]})}),a.jsx(kt,{children:w&&a.jsx(C.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full"})})]}),s?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),a.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading stop time data..."})]}):Y.length===0?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("p",{className:"text-gray-700 text-base font-medium",children:c?"No stop times found matching your search.":"No stop times available."}),c&&a.jsx("button",{onClick:()=>d(""),className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear Search"})]}):a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:a.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:a.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[a.jsx("thead",{className:"bg-blue-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Stop Time"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Description"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:Y.map((P,F)=>a.jsxs(C.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:F+1})}),a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:P.name})}),a.jsx("td",{className:"px-5 py-3",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:P.description||"-"})}),a.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>S(`/maintenanceactivity/stoptimes/editstoptime/${P.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit",children:a.jsx(Bn,{className:"inline text-base"})}),a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>H(P.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:a.jsx(dn,{className:"inline text-base"})})]})]},P.id))})]})})})]})]}),a.jsx(pLe,{isOpen:h,onClose:()=>m(!1),title:"Confirm Deletion",children:a.jsxs("div",{className:"space-y-5 text-center py-3",children:[a.jsx(er,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),a.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this stop time? This action cannot be undone."}),a.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>m(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>x&&W(x),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})]})},yLe=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(C.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(at,{size:24})})]}),a.jsx("div",{children:n})]})}):null,bLe=()=>{const[t,e]=g.useState(window.innerWidth<768),[r,n]=g.useState([]),[s,i]=g.useState([]),{addStopTimes:o,getStopTimes:l}=St(),[c,d]=g.useState(()=>{const I=localStorage.getItem("sidebarOpen");return I?JSON.parse(I):!1}),[h,m]=g.useState(null),[x,y]=g.useState(null),[w,j]=g.useState(!1),[v,N]=g.useState(!1),T=jt(),[S,O]=g.useState({name:"",description:""}),_=()=>{d(I=>!I)},A=I=>{const{name:L,value:R}=I.target;O(z=>({...z,[L]:L==="sla"?Number(R):R}))},E=g.useCallback(async()=>{try{const[I]=await Promise.all([l()]);n(I)}catch(I){m(I.message||"Failed to load form data")}},[l]);g.useEffect(()=>{E()},[E]);const D=async I=>{I.preventDefault(),N(!0),m(null);try{const L={name:S.name,description:S.description};await o(L),y("Stop Time created successfully!"),j(!0)}catch(L){m(L.message||"Failed to create Stop Time")}finally{N(!1)}},$=()=>{j(!1),T("/maintenanceactivity/stoptimes")};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Mt,{mainTitle:"Create Stop Times",mainTitleHighlight:"Management",description:"blablablabl",icon:a.jsx(Lt,{}),isMobile:t,toggleSidebar:_}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Stop Times"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Add a new Stop Times information"})]}),a.jsxs(C.button,{onClick:()=>T("/maintenanceactivity/stoptimes"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(kr,{className:"text-lg"})," Back to Stop Times Management"]})]}),a.jsxs(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[h&&a.jsxs(C.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:h}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(at,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>m(null)})})]}),a.jsxs("form",{onSubmit:D,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Stop Times Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Stop Times Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"name",id:"name",value:S.name,onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"description",id:"description",value:S.description,onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsx(C.button,{type:"button",onClick:()=>T("/maintenanceactivity/stoptimes"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),a.jsx(C.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:v,children:v?a.jsxs(a.Fragment,{children:[a.jsx(mr,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Ar,{className:"mr-2 h-5 w-5"})," Save Service"]})})]})]})]})]})]}),a.jsx(yLe,{isOpen:w,onClose:$,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx($t,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:x}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:$,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Stop Times Management"})]})})]})},vLe=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(C.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(at,{size:24})})]}),a.jsx("div",{children:n})]})}):null,wLe=()=>{const{id:t}=Ta(),[e,r]=g.useState(window.innerWidth<768),[n,s]=g.useState([]),[i,o]=g.useState(),{getStopTimes:l,updateStopTimes:c,getStopTimesById:d}=St(),[h,m]=g.useState(()=>{const R=localStorage.getItem("sidebarOpen");return R?JSON.parse(R):!1}),[x,y]=g.useState(null),[w,j]=g.useState(null),[v,N]=g.useState(!1),[T,S]=g.useState(!1),O=jt(),[_,A]=g.useState({name:"",description:""}),E=()=>{m(R=>!R)};g.useEffect(()=>{i&&A({name:i.name||"",description:i.description||""})},[i]);const D=R=>{const{name:z,value:Y}=R.target;A(W=>({...W,[z]:z==="sla"?Number(Y):Y}))},$=g.useCallback(async()=>{try{if(t){const[R]=await Promise.all([d(t)]);o(R)}}catch(R){y(R.message||"Failed to load form data")}},[t,d]);g.useEffect(()=>{t&&$()},[t,$]);const I=async R=>{R.preventDefault(),S(!0),y(null);try{const z={name:_.name,description:_.description};await c(t,z),j("Stop Time update successfully!"),N(!0)}catch(z){y(z.message||"Failed to update Stop Time")}finally{S(!1)}},L=()=>{N(!1),O("/maintenanceactivity/stoptimes")};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Mt,{mainTitle:"Edit Stop Times",mainTitleHighlight:"Management",description:"blablablabl",icon:a.jsx(Lt,{}),isMobile:e,toggleSidebar:E}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Stop Times"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Update Stop Timesinformation"})]}),a.jsxs(C.button,{onClick:()=>O("/maintenanceactivity/stoptimes"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(kr,{className:"text-lg"})," Back to Stop Times Management"]})]}),a.jsxs(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[x&&a.jsxs(C.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:x}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(at,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>y(null)})})]}),a.jsxs("form",{onSubmit:I,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Stop Times Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Stop Times Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"name",id:"name",value:_.name,onChange:D,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"description",id:"description",value:_.description,onChange:D,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsx(C.button,{type:"button",onClick:()=>O("/maintenanceactivity/stoptimes"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),a.jsx(C.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:T,children:T?a.jsxs(a.Fragment,{children:[a.jsx(mr,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Ar,{className:"mr-2 h-5 w-5"})," Save Service"]})})]})]})]})]})]}),a.jsx(vLe,{isOpen:v,onClose:L,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx($t,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:w}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:L,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Stop Times Management"})]})})]})},jLe=({isOpen:t,onClose:e,title:r,children:n,className:s})=>a.jsx(kt,{children:t&&a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:a.jsxs(C.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${s||"max-w-xl w-full"}`,children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:r}),a.jsx("button",{onClick:e,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:a.jsx(at,{className:"text-xl"})})]}),a.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:n})]})})}),SLe=({title:t,value:e,change:r,icon:n})=>{const s=r.startsWith("+");return a.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),a.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),a.jsxs("p",{className:`mt-3 text-xs font-semibold ${s?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})},NLe=()=>{const[t,e]=g.useState([]),{getActivityTypes:r,deleteActivityTypes:n}=St(),[s,i]=g.useState(!0),[o,l]=g.useState(null),[c,d]=g.useState(""),[h,m]=g.useState(!1),[x,y]=g.useState(null),[w,j]=g.useState(!1),[v]=g.useState(window.innerWidth<768),[N,T]=g.useState(()=>{const P=localStorage.getItem("sidebarOpen");return P?JSON.parse(P):!1}),S=jt(),O=g.useRef(null),[_,A]=g.useState(!1),E=g.useMemo(()=>[{id:"activitytype",name:"Activity Type"}],[]),D=g.useCallback(async()=>{try{i(!0);const F=[...await r()].sort((X,te)=>X.id-te.id);e(F)}catch(P){l("Failed to load activity types"),console.error("Error loading activity types:",P)}finally{i(!1)}},[r]);g.useEffect(()=>{D()},[D]);const $=()=>{const P=!N;T(P),localStorage.setItem("sidebarOpen",JSON.stringify(P))},I=()=>{alert("Import functionality is not yet implemented.")},L=P=>{const F=P.target.value;d(F)},R=g.useMemo(()=>{if(!c)return E;const P=c.toLowerCase();return E.filter(F=>F.name.toLowerCase().includes(P))},[c,E]),z=P=>{var F;d(`${P}: `),A(!1),(F=O.current)==null||F.focus()},Y=g.useMemo(()=>{if(!c.trim())return t;const P=c.toLowerCase().trim(),F=P.split(":");let X="all",te=P;return F.length>1&&E.some(q=>q.name.toLowerCase()===F[0].trim())&&(X=F[0].trim(),te=F.slice(1).join(":").trim()),t.filter(q=>{var ie;const Z=(ie=q.name)==null?void 0:ie.toLowerCase().includes(te);return Z})},[t,c,E]),W=async P=>{try{await n(P),e(t.filter(F=>F.id!==P)),m(!1),y(null)}catch(F){console.error("Failed to delete activity type:",F),l("Failed to delete activity type. Please try again.")}},H=g.useCallback(P=>{y(P),m(!0)},[]);return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Mt,{mainTitle:"Activity Types",mainTitleHighlight:"Page",description:"Manage activity types and their configurations within the system.",icon:a.jsx(K5,{}),isMobile:v,toggleSidebar:$}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Activity Types ",a.jsx("span",{className:"text-blue-600",children:"Management"})]}),a.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Organize and manage activity types by specific company requirements."})]}),a.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[a.jsxs(C.button,{onClick:()=>S("/maintenanceactivity/activitytypes/addactivitytype"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[a.jsx(Jn,{className:"text-base"}),a.jsx("span",{children:"Add Activity Type"})]}),a.jsxs(C.button,{onClick:I,whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(Ja,{className:"text-base"}),a.jsx("span",{children:"Import"})]}),a.jsxs(C.button,{onClick:()=>j(!w),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(Xa,{className:"text-base"}),a.jsx("span",{children:"Filters"}),a.jsx(C.span,{animate:{rotate:w?180:0},transition:{duration:.2},children:a.jsx(cn,{className:"text-base"})})]})]})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:a.jsx(SLe,{title:"Total Activity Types",value:t.length.toString(),change:`+${Math.floor(t.length/10*100)}%`,icon:a.jsx(K5,{className:"w-6 h-6"})})}),a.jsxs(C.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[a.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Wn,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),a.jsx("input",{ref:O,type:"text",placeholder:"Search by activity type...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:c,onChange:L,onFocus:()=>A(!0),"aria-label":"Search activity types"}),a.jsx(kt,{children:_&&R.length>0&&a.jsx(C.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.15},className:"search-suggestions absolute left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-10 max-h-56 overflow-y-auto custom-scrollbar",children:R.map(P=>a.jsx(C.button,{onClick:()=>z(P.name),whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},className:"w-full text-left p-3 text-gray-700 hover:text-blue-700 transition-colors duration-150 text-sm",role:"option",children:a.jsx("span",{className:"font-semibold",children:P.name})},P.id))})})]})}),a.jsx(kt,{children:w&&a.jsx(C.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full"})})]}),s?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),a.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading activity type data..."})]}):Y.length===0?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("p",{className:"text-gray-700 text-base font-medium",children:c?"No activity types found matching your search.":"No activity types available."}),c&&a.jsx("button",{onClick:()=>d(""),className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear Search"})]}):a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:a.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:a.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[a.jsx("thead",{className:"bg-blue-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Activity Type"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:Y.map((P,F)=>a.jsxs(C.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:F+1})}),a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:P.name})}),a.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>S(`/maintenanceactivity/activitytypes/editactivitytype/${P.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit",children:a.jsx(Bn,{className:"inline text-base"})}),a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>H(P.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:a.jsx(dn,{className:"inline text-base"})})]})]},P.id))})]})})})]})]}),a.jsx(jLe,{isOpen:h,onClose:()=>m(!1),title:"Confirm Deletion",children:a.jsxs("div",{className:"space-y-5 text-center py-3",children:[a.jsx(er,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),a.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this activity type? This action cannot be undone."}),a.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>m(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>x&&W(x),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})]})},kLe=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(C.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(at,{size:24})})]}),a.jsx("div",{children:n})]})}):null,Nz=()=>{const[t,e]=g.useState(window.innerWidth<768),[r,n]=g.useState([]),[s,i]=g.useState([]),{addActivityTypes:o,getActivityTypes:l}=St(),[c,d]=g.useState(()=>{const I=localStorage.getItem("sidebarOpen");return I?JSON.parse(I):!1}),[h,m]=g.useState(null),[x,y]=g.useState(null),[w,j]=g.useState(!1),[v,N]=g.useState(!1),T=jt(),[S,O]=g.useState({name:""}),_=()=>{d(I=>!I)},A=I=>{const{name:L,value:R}=I.target;O(z=>({...z,[L]:L==="sla"?Number(R):R}))},E=g.useCallback(async()=>{try{const[I]=await Promise.all([l()]);n(I)}catch(I){m(I.message||"Failed to load form data")}},[l]);g.useEffect(()=>{E()},[E]);const D=async I=>{I.preventDefault(),N(!0),m(null);try{const L={name:S.name};await o(L),y("Activity Type created successfully!"),j(!0)}catch(L){m(L.message||"Failed to create Activity Type")}finally{N(!1)}},$=()=>{j(!1),T("/maintenanceactivity/activitytypes")};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Mt,{mainTitle:"Create Activity Type",mainTitleHighlight:"Management",description:"blablablabl",icon:a.jsx(t0,{}),isMobile:t,toggleSidebar:_}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Activity Type"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Add a new Activity Type information"})]}),a.jsxs(C.button,{onClick:()=>T("/maintenanceactivity/activitytypes"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(kr,{className:"text-lg"})," Back to Activity Types Management"]})]}),a.jsxs(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[h&&a.jsxs(C.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:h}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(at,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>m(null)})})]}),a.jsxs("form",{onSubmit:D,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Activity Types Information"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-6",children:a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Name Activity Type ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"name",id:"name",value:S.name,onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsx(C.button,{type:"button",onClick:()=>T("/maintenanceactivity/activitytypes"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),a.jsx(C.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:v,children:v?a.jsxs(a.Fragment,{children:[a.jsx(mr,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Ar,{className:"mr-2 h-5 w-5"})," Save Service"]})})]})]})]})]})]}),a.jsx(kLe,{isOpen:w,onClose:$,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx($t,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:x}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:$,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Activity Types Management"})]})})]})},CLe=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(C.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(at,{size:24})})]}),a.jsx("div",{children:n})]})}):null,TLe=()=>{const{id:t}=Ta(),[e,r]=g.useState(window.innerWidth<768),[n,s]=g.useState([]),[i,o]=g.useState(),{getActivityTypes:l,updateActivityTypes:c,getActivityTypesById:d}=St(),[h,m]=g.useState(()=>{const R=localStorage.getItem("sidebarOpen");return R?JSON.parse(R):!1}),[x,y]=g.useState(null),[w,j]=g.useState(null),[v,N]=g.useState(!1),[T,S]=g.useState(!1),O=jt(),[_,A]=g.useState({name:""}),E=()=>{m(R=>!R)};g.useEffect(()=>{i&&A({name:i.name||""})},[i]);const D=R=>{const{name:z,value:Y}=R.target;A(W=>({...W,[z]:z==="sla"?Number(Y):Y}))},$=g.useCallback(async()=>{try{if(t){const[R]=await Promise.all([d(t)]);o(R)}}catch(R){y(R.message||"Failed to load form data")}},[t,d]);g.useEffect(()=>{t&&$()},[t,$]);const I=async R=>{R.preventDefault(),S(!0),y(null);try{const z={name:_.name};await c(t,z),j("Activity Type update successfully!"),N(!0)}catch(z){y(z.message||"Failed to update Activity Type")}finally{S(!1)}},L=()=>{N(!1),O("/maintenanceactivity/activitytypes")};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Mt,{mainTitle:"Edit Activity Type",mainTitleHighlight:"Management",description:"blablablabl",icon:a.jsx(t0,{}),isMobile:e,toggleSidebar:E}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Activity Type"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Update Activity Type information"})]}),a.jsxs(C.button,{onClick:()=>O("/maintenanceactivity/activitytypes"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(kr,{className:"text-lg"})," Back to Activity Type Management"]})]}),a.jsxs(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[x&&a.jsxs(C.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:x}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(at,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>y(null)})})]}),a.jsxs("form",{onSubmit:I,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Activity Type Information"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Name Activity Type ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"name",id:"name",value:_.name,onChange:D,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsx(C.button,{type:"button",onClick:()=>O("/maintenanceactivity/activitytypes"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),a.jsx(C.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:T,children:T?a.jsxs(a.Fragment,{children:[a.jsx(mr,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Ar,{className:"mr-2 h-5 w-5"})," Save Service"]})})]})]})]})]})]}),a.jsx(CLe,{isOpen:v,onClose:L,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx($t,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:w}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:L,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Activity Types Management"})]})})]})},Iy=({title:t,currentCount:e,lastMonthCount:r,icon:n,usePercentage:s=!0})=>{const i=s?_Le(e,r):MLe(e,r),o=e>=r,l=s?`${i} from last month`:`${i} from last month`;return a.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),a.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),a.jsx("p",{className:`mt-3 text-xs font-semibold ${o?"text-green-600":"text-red-600"}`,children:l})]})},_Le=(t,e)=>{if(e===0)return t>0?"+100%":"0%";const r=(t-e)/e*100;return`${r>=0?"+":""}${Math.round(r)}%`},MLe=(t,e)=>{const r=t-e;return`${r>0?"+":r<0?"":"+"}${r}`},ALe=()=>{const[t,e]=g.useState(!1),[r,n]=g.useState(!1),[s,i]=g.useState(""),[o,l]=g.useState("all"),[c,d]=g.useState(!1),[h,m]=g.useState(!1),[x,y]=g.useState(null),[w,j]=g.useState(null),[v,N]=g.useState(!1),[T,S]=g.useState(null),[O,_]=g.useState(1),[A]=g.useState(5),[E,D]=g.useState(window.innerWidth<768),[$,I]=g.useState(!1),[L,R]=g.useState(!1),[z,Y]=g.useState([]),[W,H]=g.useState([]),[P,F]=g.useState(!0),[X,te]=g.useState(null),[q,Z]=g.useState(null),[ie,oe]=g.useState([]),[le,ge]=g.useState(!1),[Le,Oe]=g.useState(!1),[xe,Me]=g.useState(null),[Be,re]=g.useState(null),{user:se,getWorkOrdersIT:ee,deleteWorkOrder:ve,hasPermission:Ge,fetchWithAuth:Ke,getVendor:ye}=St(),ot=jt(),mt=ua(),nt=g.useRef(null),xt=g.useRef(null);mt.pathname,mt.pathname;const Nt=mt.pathname==="/workorders/it";mt.pathname;const wt=mt.pathname==="/workorders/it/assignment",zt=mt.pathname==="/workorders/it/receiver",rt=mt.pathname==="/workorders/it/reports",Ne=mt.pathname==="/workorders/it/knowledgebase";g.useEffect(()=>{const fe=()=>{D(window.innerWidth<768),window.innerWidth<768&&n(!1)};return window.addEventListener("resize",fe),()=>window.removeEventListener("resize",fe)},[]),g.useEffect(()=>{const fe=Ae=>{nt.current&&!nt.current.contains(Ae.target)&&I(!1),xt.current&&!xt.current.contains(Ae.target)&&R(!1)};return document.addEventListener("mousedown",fe),()=>{document.removeEventListener("mousedown",fe)}},[]),g.useEffect(()=>{let fe=!0;return(async()=>{try{F(!0),te(null);const tt=await ee();if(!fe)return;const dt=tt.filter(Ye=>Ye.requester_id===Number(se==null?void 0:se.id));Y(dt);const pt=new Date;pt.setMonth(pt.getMonth()-1);const Ee=dt.filter(Ye=>new Date(Ye.date)<pt);oe(Ee)}catch(tt){if(!fe)return;te("Failed to load work orders. Please try again."),console.error("Error loading work orders:",tt)}finally{fe&&F(!1)}})(),()=>{fe=!1}},[ee,se==null?void 0:se.id]),g.useEffect(()=>{_(1),document.documentElement.classList.toggle("dark",t)},[s,o,t]);const ze=fe=>{switch(fe){case"New":return"bg-gray-500 text-white";case"Assigned":return"bg-blue-600 text-white";case"In Progress":return"bg-cyan-500 text-white";case"Escalated":return"bg-purple-500 text-white";case"Vendor Handled":return"bg-red-500 text-white";case"Resolved":return"bg-orange-500 text-white";case"Cancel":return"bg-gray-500 text-white";case"Closed":return"bg-red-500 text-white";default:return"bg-gray-500 text-white"}},we=g.useCallback(fe=>{const Ae=z.find(tt=>tt.id===fe);Ae&&(y(Ae),m(!0))},[z]);g.useCallback(fe=>{S(fe),N(!0)},[]);const ut=g.useCallback(async fe=>{try{F(!0),te(null),await ve(fe);const tt=(await ee()).filter(dt=>dt.requester_id===Number(se==null?void 0:se.id));Y(tt),N(!1),S(null),Z("Work order deleted successfully."),setTimeout(()=>Z(null),2500)}catch(Ae){te("Failed to delete work order."),console.error("Error deleting work order:",Ae)}finally{F(!1)}},[ve,ee,se==null?void 0:se.id]),ht=g.useCallback(fe=>{re(fe),Oe(!0)},[]),We=g.useCallback(fe=>{Me(fe),ge(!0)},[]),he=g.useCallback(async fe=>{try{F(!0),te(null),await Ke(`/ayam/${fe}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({handling_status:"Cancel"})});const tt=(await ee()).filter(Ee=>Ee.requester_id===Number(se==null?void 0:se.id));Y(tt);const dt=new Date;dt.setMonth(dt.getMonth()-1);const pt=tt.filter(Ee=>new Date(Ee.date)<dt);oe(pt),m(!1),y(null),Oe(!1),re(null),Z("Work order cancelled successfully."),setTimeout(()=>Z(null),2500)}catch(Ae){te("Failed to cancel work order."),console.error("Error cancelling work order:",Ae)}finally{F(!1)}},[Ke,ee,se==null?void 0:se.id]),Je=g.useCallback(async fe=>{try{F(!0),te(null),await Ke(`/ayam/${fe}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({handling_status:"Closed"})});const tt=(await ee()).filter(Ee=>Ee.requester_id===Number(se==null?void 0:se.id));Y(tt);const dt=new Date;dt.setMonth(dt.getMonth()-1);const pt=tt.filter(Ee=>new Date(Ee.date)<dt);oe(pt),m(!1),y(null),ge(!1),Me(null),Z("Work order completed successfully."),setTimeout(()=>Z(null),2500)}catch(Ae){te("Failed to complete work order."),console.error("Error completing work order:",Ae)}finally{F(!1)}},[Ke,ee,se==null?void 0:se.id]),Ue=fe=>fe.filter(Ae=>["Assigned","In Progress","Escalated","Vendor Handled","Resolved"].includes(Ae.handling_status)),ae=fe=>fe.filter(Ae=>["Closed","Cancel"].includes(Ae.handling_status)),ne=fe=>fe.filter(Ae=>Ae.handling_status==="New"),Te=()=>{n(fe=>!fe)},et=fe=>{var Ae;return fe.vendor?`${fe.vendor.name}`:((Ae=fe.assigned_to)==null?void 0:Ae.name)||"Unassigned"},ct=fe=>fe.vendor?"vendor":fe.assigned_to?"user":"unassigned",pe=z.filter(fe=>{var dt,pt,Ee,Ye;const Ae=((pt=(dt=fe.requester)==null?void 0:dt.name)==null?void 0:pt.toLowerCase().includes(s.toLowerCase()))||((Ee=fe.work_order_no)==null?void 0:Ee.toLowerCase().includes(s.toLowerCase()))||((Ye=fe.complaint)==null?void 0:Ye.toLowerCase().includes(s.toLowerCase()))||String(fe.id).includes(s),tt=o==="all"||fe.handling_status===o;return Ae&&tt}).sort((fe,Ae)=>new Date(Ae.created_at).getTime()-new Date(fe.created_at).getTime()),B=O*A,ce=B-A,be=pe.slice(ce,B),Se=Math.ceil(pe.length/A),$e=fe=>_(fe),ue=({order:fe,onClose:Ae})=>{var Qt,Dr,Vr,Ot,dr;const tt=Rt=>Rt==null?"-":typeof Rt=="object"&&Rt!==null?Rt.name||Rt.title||Rt.id||"-":typeof Rt=="string"?Rt.trim()!==""?Rt.trim():"-":typeof Rt=="number"?Rt.toString():String(Rt),dt=Rt=>Rt?new Date(Rt).toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-",pt=({status:Rt})=>{const Or={New:"bg-gray-100 text-gray-800 border-gray-300",Assigned:"bg-blue-100 text-blue-800 border-blue-300","In Progress":"bg-cyan-100 text-cyan-800 border-cyan-300",Escalated:"bg-purple-100 text-purple-800 border-purple-300","Vendor Handled":"bg-red-100 text-red-800 border-red-300",Resolved:"bg-orange-100 text-orange-800 border-orange-300",Cancel:"bg-gray-100 text-gray-800 border-gray-300",Closed:"bg-green-100 text-green-800 border-green-300"};return a.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold border ${Or[Rt]||Or.New}`,children:Rt})},Ee=({title:Rt,children:Or,icon:_e})=>a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[a.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-4 border-b border-gray-200",children:a.jsxs("div",{className:"flex items-center",children:[_e&&a.jsx("div",{className:"mr-3 text-blue-600",children:_e}),a.jsx("h3",{className:"text-lg font-bold text-gray-900",children:Rt})]})}),a.jsx("div",{className:"p-6",children:Or})]}),Ye=({label:Rt,value:Or,icon:_e,fullWidth:De=!1,priority:Ze="medium"})=>{const K={high:"border-l-4 border-l-blue-500 bg-blue-25",medium:"border-l-2 border-l-gray-200",low:"border-l border-l-gray-100"};return a.jsx("div",{className:`${De?"col-span-full":""}`,children:a.jsx("div",{className:`p-4 rounded-lg ${K[Ze]} transition-all duration-200 hover:shadow-sm`,children:a.jsxs("div",{className:"flex items-start space-x-3",children:[_e&&a.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:_e}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1",children:Rt}),a.jsx("p",{className:"text-sm font-medium text-gray-900 leading-relaxed",children:Or})]})]})})})},bt=({label:Rt,htmlContent:Or,icon:_e,fullWidth:De=!1})=>{if(!Or)return a.jsx(Ye,{label:Rt,value:"-",icon:_e,fullWidth:De,priority:"low"});const Ze=$l.sanitize(Or,{ALLOWED_TAGS:["h1","h2","h3","h4","h5","h6","p","br","span","div","ol","ul","li","strong","b","em","i","u","s","strike","code","mark","sub","sup","blockquote","pre"],ALLOWED_ATTR:["style","class","data-color","align","type","start"]});return a.jsx("div",{className:`${De?"col-span-full":""}`,children:a.jsx("div",{className:"p-4 rounded-lg border-l-2 border-l-blue-200 bg-blue-25 transition-all duration-200 hover:shadow-sm",children:a.jsxs("div",{className:"flex items-start space-x-3",children:[_e&&a.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:_e}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:Rt}),a.jsx("div",{className:`rich-text-content text-sm text-gray-900 leading-relaxed prose prose-sm max-w-none\r
                          prose-headings:font-semibold prose-p:my-2 prose-ul:my-2 prose-ol:my-2\r
                          prose-li:my-1 prose-strong:font-semibold prose-em:italic`,dangerouslySetInnerHTML:{__html:Ze}})]})]})})})};return a.jsxs("div",{className:"space-y-6 max-h-[70vh] overflow-y-auto custom-scrollbar pr-2",children:[a.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6",children:a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:["#",fe.work_order_no||fe.id]}),a.jsx(pt,{status:fe.handling_status})]}),a.jsxs("p",{className:"text-gray-600 flex items-center gap-2",children:[a.jsx(xn,{className:"w-4 h-4"}),"Created: ",dt(fe.date)]})]}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs(C.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:Ae,className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-lg text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:[a.jsx(at,{className:"w-4 h-4 mr-2"}),"Close"]})})]})}),a.jsx(Ee,{title:"General Information",icon:a.jsx(Mr,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsx(Ye,{label:"Work Order No",value:tt(fe.work_order_no),icon:a.jsx(ir,{className:"w-4 h-4"}),priority:"high"}),a.jsx(Ye,{label:"Reception Method",value:tt(fe.reception_method),icon:a.jsx(Ja,{className:"w-4 h-4"})}),a.jsx(Ye,{label:"Requester",value:tt((Qt=fe.requester)==null?void 0:Qt.name),icon:a.jsx(Mr,{className:"w-4 h-4"}),priority:"high"}),a.jsx(Ye,{label:"Department",value:tt((Dr=fe.department)==null?void 0:Dr.name),icon:a.jsx(Tn,{className:"w-4 h-4"})}),a.jsx(Ye,{label:"Known By",value:tt((Vr=fe.known_by)==null?void 0:Vr.name),icon:a.jsx(us,{className:"w-4 h-4"})})]})}),a.jsx(Ee,{title:"Service Details",icon:a.jsx(pn,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsx(Ye,{label:"Service Type",value:tt(fe.service_type.group_name),icon:a.jsx(Tn,{className:"w-4 h-4"}),priority:"high"}),a.jsx(Ye,{label:"Service",value:tt(fe.service.service_name),icon:a.jsx(pn,{className:"w-4 h-4"}),priority:"high"}),a.jsx(Ye,{label:"No Asset",value:tt(fe.asset_no),icon:a.jsx(ir,{className:"w-4 h-4"})})]})}),a.jsx(Ee,{title:"Device & Complaint",icon:a.jsx(er,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsx(Ye,{label:"Device Information",value:tt(fe.device_info),icon:a.jsx(Tn,{className:"w-4 h-4"}),fullWidth:!0}),a.jsx(bt,{label:"Complaint Details",htmlContent:fe.complaint||"",icon:a.jsx(er,{className:"w-4 h-4"}),fullWidth:!0})]})}),a.jsx(Ee,{title:"Handling Information",icon:a.jsx(Lt,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:col-span-2",children:[a.jsx(Ye,{label:"Ticket Status",value:tt(fe.handling_status),icon:a.jsx(Lt,{className:"w-4 h-4"}),priority:"high"}),a.jsx(Ye,{label:"Handling Date",value:dt(fe.handling_date||"-"),icon:a.jsx(xn,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:col-span-2",children:[a.jsx(Ye,{label:"Assigned To",value:tt((Ot=fe.assigned_to)==null?void 0:Ot.name),icon:a.jsx(Mr,{className:"w-4 h-4"})}),a.jsx(Ye,{label:"Received By",value:tt((dr=fe.received_by)==null?void 0:dr.name),icon:a.jsx($t,{className:"w-4 h-4"})})]}),a.jsx(bt,{label:"Action Taken",htmlContent:fe.action_taken||"",icon:a.jsx(pn,{className:"w-4 h-4"}),fullWidth:!0}),a.jsx(bt,{label:"Remarks",htmlContent:fe.remarks||"",icon:a.jsx(ir,{className:"w-4 h-4"}),fullWidth:!0})]})}),fe.vendor&&a.jsx(Ee,{title:"Vendor Details",icon:a.jsx(Mr,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsx(Ye,{label:"Vendor Name",value:tt(fe.vendor.name),icon:a.jsx(Mr,{className:"w-4 h-4"}),priority:"high"}),a.jsx(Ye,{label:"Contact Person",value:tt(fe.vendor.contact_person),icon:a.jsx(Mr,{className:"w-4 h-4"})}),a.jsx(Ye,{label:"Email",value:tt(fe.vendor.email),icon:a.jsx($h,{className:"w-4 h-4"})}),a.jsx(Ye,{label:"Phone",value:tt(fe.vendor.telp),icon:a.jsx(yo,{className:"w-4 h-4"})}),a.jsx(Ye,{label:"Mobile",value:tt(fe.vendor.HP),icon:a.jsx(yo,{className:"w-4 h-4"})}),a.jsx(Ye,{label:"Address",value:tt(fe.vendor.address),icon:a.jsx(Si,{className:"w-4 h-4"}),fullWidth:!0})]})}),fe.attachment&&a.jsx(Ee,{title:"Attachment",icon:a.jsx(Ni,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-blue-25 rounded-lg border-l-4 border-l-blue-400",children:[a.jsx(Ni,{className:"w-5 h-5 text-blue-600 flex-shrink-0"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"Document Attachment"}),a.jsxs("a",{href:fe.attachment,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-blue-600 hover:text-blue-800 font-medium text-sm transition-colors duration-200",children:[a.jsx(rO,{className:"w-4 h-4 mr-1"}),"View Attachment"]})]})]})})]})};return P?a.jsxs("div",{className:"flex h-screen items-center justify-center bg-blue-50",children:[a.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-blue-600"}),a.jsx("p",{className:"ml-4 text-lg text-gray-700",children:"Loading work orders..."})]}):X?a.jsxs("div",{className:"flex h-screen items-center justify-center bg-red-50",children:[a.jsx(er,{className:"text-red-600 text-5xl"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-lg text-red-800",children:X}),a.jsx("button",{onClick:()=>{(async()=>{try{F(!0),te(null);const tt=(await ee()).filter(Ee=>Ee.requester_id===Number(se==null?void 0:se.id));Y(tt);const dt=new Date;dt.setMonth(dt.getMonth()-1);const pt=tt.filter(Ee=>new Date(Ee.date)<dt);oe(pt)}catch{te("Failed to load work orders. Please try again.")}finally{F(!1)}})()},className:"mt-4 px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Try Again"})]})]}):a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Mt,{mainTitle:"IT Work Orders - Request",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:a.jsx(ir,{}),isMobile:E,toggleSidebar:Te}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"isi style mb-6 flex space-x-6 border-b border-gray-200",children:[a.jsx(C.div,{whileTap:{scale:.98},onClick:()=>ot("/workorders/it"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${Nt?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Request"}),a.jsx(C.div,{whileTap:{scale:.98},onClick:()=>ot("/workorders/it/receiver"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${zt?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Receiver"}),a.jsx(C.div,{whileTap:{scale:.98},onClick:()=>ot("/workorders/it/assignment"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${wt?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Assignment"}),a.jsx(C.div,{whileTap:{scale:.98},onClick:()=>ot("/workorders/it/reports"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${rt?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Reports"}),a.jsx(C.div,{whileTap:{scale:.98},onClick:()=>ot("/workorders/it/knowledgebase"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${Ne?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Knowledge Base"})]}),a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"IT Request"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Submit and track your IT-related maintenance and service requests"})]}),a.jsxs("div",{className:"flex flex-wrap gap-3",children:[a.jsxs(C.button,{onClick:()=>ot("/workorders/it/addworkorder"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(Jn,{className:"text-lg"}),a.jsx("span",{className:"font-semibold",children:"Create New Work Order"})]}),a.jsxs(C.button,{onClick:()=>d(!c),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(Xa,{className:"text-lg"}),a.jsx("span",{className:"font-semibold",children:"Filters"}),c?a.jsx(bb,{}):a.jsx(cn,{})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[a.jsx(Iy,{title:"Total IT Requests",currentCount:pe.length,lastMonthCount:ie.length,icon:a.jsx(ir,{})}),a.jsx(Iy,{title:"IT New WO",currentCount:ne(pe).length,lastMonthCount:ne(ie).length,icon:a.jsx(Lt,{}),usePercentage:!1}),a.jsx(Iy,{title:"IT Progress",currentCount:Ue(pe).length,lastMonthCount:Ue(ie).length,icon:a.jsx(pn,{}),usePercentage:!1}),a.jsx(Iy,{title:"IT Closed",currentCount:ae(pe).length,lastMonthCount:ae(ie).length,icon:a.jsx($t,{}),usePercentage:!1})]}),a.jsx(C.div,{layout:!0,className:"mb-6 bg-white rounded-2xl shadow-md p-4 md:p-6 border border-blue-50",children:a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Wn,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),a.jsx("input",{type:"text",placeholder:"Search IT requests by device, ID, or assignee...",className:"w-full pl-12 pr-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base transition-all duration-200",value:s,onChange:fe=>i(fe.target.value)})]}),a.jsx(kt,{children:c&&a.jsx(C.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3 w-full md:w-auto",children:a.jsxs("select",{className:"border border-gray-200 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base appearance-none bg-no-repeat bg-right-12 bg-center-y transition-all duration-200",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='currentColor'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/svg%3E")`,backgroundSize:"1.2rem"},value:o,onChange:fe=>l(fe.target.value),children:[a.jsx("option",{value:"all",children:"All Statuses"}),a.jsx("option",{value:"New",children:"New"}),a.jsx("option",{value:"Assigned",children:"Assigned"}),a.jsx("option",{value:"In Progress",children:"In Progress"}),a.jsx("option",{value:"Escalated",children:"Escalated"}),a.jsx("option",{value:"Vendor Handled",children:"Vendor Handled"}),a.jsx("option",{value:"Resolved",children:"Resolved"}),a.jsx("option",{value:"Cancel",children:"Cancel"}),a.jsx("option",{value:"Closed",children:"Closed"})]})})})]})}),a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-50",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-100",children:[a.jsx("thead",{className:"bg-blue-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Date"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Device Information"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No Asset"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Service Type"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Ticket Status"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Assigned To"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:be.length>0?be.map(fe=>{const Ae=et(fe),tt=ct(fe);return a.jsxs(C.tr,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.2},whileHover:{backgroundColor:"rgba(239, 246, 255, 1)"},className:"transition-colors duration-150",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 cursor-pointer hover:text-blue-600 hover:underline transition-colors duration-200",onClick:()=>we(fe.id),title:"Click to view details",children:fe.work_order_no||"-"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:new Date(fe.date).toLocaleDateString()}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:fe.device_info})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:fe.asset_no})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:fe.service_type.group_name||"N/A"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-bold rounded-full ${ze(fe.handling_status)} shadow-sm`,children:fe.handling_status})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:`text-sm font-medium ${tt==="vendor"?"text-purple-600":tt==="user"?"text-blue-600":"text-gray-500"}`,children:Ae}),tt==="vendor"&&a.jsx("span",{className:"ml-2 px-1.5 py-0.5 text-xs bg-purple-100 text-purple-800 rounded-full",children:"Vendor"})]})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium flex items-center space-x-2",children:[a.jsx(C.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>we(fe.id),className:"text-blue-600 hover:text-blue-800 transition-colors duration-200 flex items-center space-x-1",title:"View Details",children:a.jsx(us,{className:"text-lg"})}),fe.handling_status==="New"&&a.jsxs(a.Fragment,{children:[a.jsx(C.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>ot(`/workorders/it/editworkorder/${fe.id}`),className:"text-gray-600 hover:text-gray-800 transition-colors duration-200 flex items-center space-x-1",title:"Edit Work Order",children:a.jsx(Bn,{className:"text-lg"})}),a.jsx(C.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>ht(fe.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 flex items-center space-x-1",title:"Cancel Work Order",children:a.jsx(at,{className:"text-lg"})})]}),fe.handling_status==="Resolved"&&a.jsx(C.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:dt=>{We(fe.id)},className:"text-green-600 hover:text-green-800 transition-colors duration-200 flex items-center space-x-1",title:"Mark as Closed",children:a.jsx($t,{className:"text-lg"})})]})]},fe.id)}):a.jsx("tr",{children:a.jsx("td",{colSpan:8,className:"px-6 py-10 text-center text-gray-600 text-lg",children:"No IT work order requests found matching your criteria."})})})]})})}),pe.length>A&&a.jsxs(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"mt-8 flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{className:"text-sm text-gray-600 mb-4 sm:mb-0",children:["Showing ",a.jsx("span",{className:"font-semibold",children:ce+1})," to ",a.jsx("span",{className:"font-semibold",children:Math.min(B,pe.length)})," of"," ",a.jsx("span",{className:"font-semibold",children:pe.length})," results"]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(C.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>$e(O-1),disabled:O===1,className:"px-4 py-2 border border-gray-200 rounded-lg bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm",children:"Previous"}),Array.from({length:Se},(fe,Ae)=>a.jsx(C.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>$e(Ae+1),className:`px-4 py-2 rounded-lg transition-colors duration-200 shadow-sm
                          ${O===Ae+1?"bg-blue-600 text-white shadow-md":"bg-white text-gray-700 hover:bg-blue-50 border border-gray-200"}
                        `,children:Ae+1},Ae+1)),a.jsx(C.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>$e(O+1),disabled:O===Se,className:"px-4 py-2 border border-gray-200 rounded-lg bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm",children:"Next"})]})]})]})]}),x&&a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 p-4 overflow-y-auto",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsxs("h3",{className:"text-2xl font-bold text-gray-900",children:["Work Order Details #",x.id]}),a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{m(!1),y(null)},className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(at,{size:24})})]}),a.jsx("div",{className:"overflow-y-auto max-h-[70vh]",children:a.jsx(ue,{order:x,onClose:()=>{m(!1),y(null)}})})]})})}),a.jsx(kt,{children:v&&a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 p-4",children:a.jsx("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md mx-auto p-6 border border-blue-100",children:a.jsxs("div",{className:"space-y-5 text-center py-3",children:[a.jsx(er,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),a.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this record? This action cannot be undone."}),a.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>N(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>T!==null&&ut(T),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})})}),q&&a.jsx(C.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:"fixed bottom-6 right-6 bg-green-600 text-white px-4 py-2 rounded-lg shadow-lg",children:q}),a.jsx(kt,{children:le&&a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 p-4",children:a.jsx("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md mx-auto p-6 border border-blue-100",children:a.jsxs("div",{className:"space-y-5 text-center py-3",children:[a.jsx($t,{className:"text-green-500 text-5xl mx-auto"}),a.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to mark this work order as completed? This action will close the ticket."}),a.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>ge(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>xe!==null&&Je(xe),className:"px-5 py-2.5 bg-green-600 text-white rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-colors duration-200 font-semibold text-sm",children:"Yes, Complete"})]})]})})})}),a.jsx(kt,{children:Le&&a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:a.jsx("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md mx-auto p-6 border border-blue-100",children:a.jsxs("div",{className:"space-y-5 text-center py-3",children:[a.jsx(er,{className:"text-orange-500 text-5xl mx-auto"}),a.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to cancel this work order? This action cannot be undone."}),a.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>Oe(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"No, Keep It"}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>Be!==null&&he(Be),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Yes, Cancel"})]})]})})})}),X&&a.jsxs(C.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:"fixed bottom-6 right-6 bg-red-600 text-white px-4 py-2 rounded-lg shadow-lg",children:[X,a.jsx("button",{onClick:()=>te(null),className:"ml-2 underline",children:"Dismiss"})]})]})},OLe=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(C.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(at,{size:24})})]}),a.jsx("div",{children:n})]})}):null,ELe=()=>{var We,he,Je,Ue,ae;const{updateWorkOrderIT:t,user:e,getUsers:r,getServices:n,getDepartment:s,getServiceGroups:i,getWorkOrderById:o}=St(),l=jt(),{id:c}=Ta(),[d,h]=g.useState([]),[m,x]=g.useState([]),[y,w]=g.useState([]),[j,v]=g.useState([]),[N,T]=g.useState(window.innerWidth<768),[S,O]=g.useState(()=>{const ne=localStorage.getItem("sidebarOpen");return ne?JSON.parse(ne):!1}),[_,A]=g.useState(!1),[E,D]=g.useState(!1),[$,I]=g.useState(!1),[L,R]=g.useState(!1),[z,Y]=g.useState(!0),[W,H]=g.useState(null),[P,F]=g.useState(null),[X,te]=g.useState(!1),[q,Z]=g.useState(null),ie=g.useRef(null),oe=g.useRef(null),[le,ge]=g.useState([]),[Le,Oe]=g.useState([]),[xe,Me]=g.useState([]),[Be,re]=g.useState(!1),se={date:new Date().toISOString().split("T")[0],reception_method:"Electronic Work Order System",requester_id:e!=null&&e.id?parseInt(e.id):0,known_by_id:((We=e==null?void 0:e.department)==null?void 0:We.head_id)||null,department_id:(e==null?void 0:e.department_id)||0,service_type_id:"",service_id:"",asset_no:"",device_info:"",complaint:"",attachment:null,received_by_id:null,handling_date:null,action_taken:null,handling_status:"New",remarks:null},[ee,ve]=g.useState(se),Ge=ee.reception_method==="Electronic Work Order System";g.useEffect(()=>{(async()=>{if(c)try{Y(!0);const Te=await o(parseInt(c));console.log("Work Order Data:",Te),ve({id:Te.id,date:Te.date.split("T")[0],reception_method:Te.reception_method,requester_id:Te.requester_id,known_by_id:Te.known_by_id,department_id:Te.department_id,service_type_id:String(Te.service_group_id||""),service_id:String(Te.service_catalogue_id||""),asset_no:Te.asset_no,device_info:Te.device_info,complaint:Te.complaint,attachment:Te.attachment,received_by_id:Te.received_by_id,handling_date:Te.handling_date?Te.handling_date.split("T")[0]:null,action_taken:Te.action_taken,handling_status:Te.handling_status,remarks:Te.remarks})}catch(Te){console.error("Failed to fetch work order data:",Te),H(Te.message||"Gagal memuat data work order. Silakan coba lagi.")}finally{Y(!1)}})()},[c,o]),g.useEffect(()=>{e&&(async()=>{try{const et=(await i(0)).map(B=>({id:Number(B.id),name:B.group_name??"",description:B.group_description??void 0}));Oe(et),Me(et);const ct=await s();x(ct);const pe=await r();if(h(pe),e&&e.id){const ce=await n(parseInt(e.id));w(ce),console.log("Services loaded:",ce)}}catch(Te){console.error("Failed to fetch master data:",Te)}})()},[e,r,n,s,i]),g.useEffect(()=>{var ne;if(ee.reception_method==="Electronic Work Order System"&&e){const Te=((ne=e.department)==null?void 0:ne.head_id)||null;ve(et=>({...et,requester_id:parseInt(e.id),department_id:e.department_id||0,known_by_id:Te}))}},[ee.reception_method,e]),g.useEffect(()=>{const ne=()=>{T(window.innerWidth<768),window.innerWidth<768&&O(!1)};return window.addEventListener("resize",ne),()=>window.removeEventListener("resize",ne)},[]),g.useEffect(()=>{const ne=Te=>{ie.current&&!ie.current.contains(Te.target)&&D(!1),oe.current&&!oe.current.contains(Te.target)&&I(!1)};return document.addEventListener("mousedown",ne),()=>{document.removeEventListener("mousedown",ne)}},[]),g.useEffect(()=>{if(ee.service_type_id&&y.length>0){const ne=y.filter(Te=>String(Te.service_type)===ee.service_type_id);ge(ne)}else ge([])},[ee.service_type_id,y]),g.useEffect(()=>{document.documentElement.classList.toggle("dark",_),localStorage.setItem("sidebarOpen",JSON.stringify(S))},[S,_]);const Ke=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!S)),O(ne=>!ne)},ye=g.useCallback((ne,Te)=>{let et,ct;if(ne&&"target"in ne)et=ne.target.name,ct=ne.target.value;else if(ne&&typeof ne=="object"&&"value"in ne&&Te)et=Te,ct=ne.value;else if(ne===null&&Te)et=Te,ct=null;else return;ve(pe=>({...pe,[et]:ct}))},[]),ot=ne=>{const Te=(ne==null?void 0:ne.value)||"";ve(et=>{var pe,B;const ct={...et,reception_method:Te};return Te==="Electronic Work Order System"&&e?{...ct,requester_id:parseInt(e.id),department_id:((pe=e.department)==null?void 0:pe.id)||0,known_by_id:((B=e.department)==null?void 0:B.head_id)||null}:ct})},mt=ne=>{ve(Te=>({...Te,asset_no:ne?ne.value:""}))},nt=g.useCallback(ne=>{ne.target.files&&ne.target.files.length>0?(Z(ne.target.files[0]),ve(Te=>({...Te,attachment:ne.target.files[0].name}))):(Z(null),ve(Te=>({...Te,attachment:null})))},[]),xt=g.useCallback(()=>{Z(null),ve(ne=>({...ne,attachment:null}))},[]),Nt=async ne=>{ne.preventDefault(),R(!0),H(null);const Te={id:ee.id,date:ee.date,reception_method:ee.reception_method,requester_id:ee.requester_id,known_by_id:ee.known_by_id,department_id:ee.department_id,service_group_id:Number(ee.service_type_id),service_catalogue_id:Number(ee.service_id),asset_no:ee.asset_no,device_info:ee.device_info,complaint:ee.complaint,attachment:ee.attachment};try{await t(Te),F({message:"Work Order berhasil diperbarui!",work_order:{work_order_no:`WO-IT-${ee.id}`}}),te(!0)}catch(et){H(et.message||"Gagal memperbarui work order. Silakan coba lagi."),console.error("Submission error:",et)}finally{R(!1)}},wt=ne=>{ve(Te=>({...Te,service_type_id:ne?ne.value:"",service_id:""}))},zt=ne=>{ve(Te=>({...Te,service_id:ne?ne.value:""}))},rt=g.useCallback(()=>{te(!1),l("/workorders/it")},[l]),Ne={control:(ne,Te)=>({...ne,minHeight:"42px",borderColor:Te.isFocused?"#3B82F6":"#D1D5DB",boxShadow:Te.isFocused?"0 0 0 1px #3B82F6":"none","&:hover":{borderColor:"#9CA3AF"},borderRadius:"0.5rem",backgroundColor:"#FFFFFF",padding:"0 0.5rem",transition:"all 0.15s ease-in-out"}),valueContainer:ne=>({...ne,padding:"0"}),singleValue:ne=>({...ne,color:"#374151"}),placeholder:ne=>({...ne,color:"#6B7280"}),dropdownIndicator:ne=>({...ne,color:"#9CA3AF","&:hover":{color:"#6B7280"}}),indicatorSeparator:ne=>({...ne,display:"none"}),menu:ne=>({...ne,zIndex:9999,borderRadius:"0.5rem",border:"1px solid #E5E7EB",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"}),option:(ne,Te)=>({...ne,backgroundColor:Te.isFocused?"#EFF6FF":"#FFFFFF",color:"#1F2937","&:active":{backgroundColor:"#DBEAFE"},padding:"0.625rem 1rem"})},ze=g.useCallback(ne=>{if(!ne)return;const Te=parseInt(ne.value),et=d.find(ct=>parseInt(ct.id)===Te);if(et){const ct=m.find(pe=>pe.id===et.department_id);ve(pe=>({...pe,requester_id:Te,department_id:et.department_id||0,known_by_id:(ct==null?void 0:ct.head_id)||null}))}},[d,m]),we=()=>{if(Ge){const Te=m.find(et=>et.id===(e==null?void 0:e.department_id));return(Te==null?void 0:Te.name)||"No department assigned"}const ne=m.find(Te=>Te.id===ee.department_id);return(ne==null?void 0:ne.name)||"No department assigned"},ut=()=>{if(Ge){const Te=m.find(et=>et.id===(e==null?void 0:e.department_id));if(Te&&Te.head_id){const et=d.find(ct=>parseInt(ct.id)===Te.head_id);return(et==null?void 0:et.name)||"No department head assigned"}return"No department head assigned"}const ne=m.find(Te=>Te.id===ee.department_id);if(ne&&ne.head_id){const Te=d.find(et=>parseInt(et.id)===ne.head_id);return(Te==null?void 0:Te.name)||"No department head assigned"}return"No department head assigned"},ht=()=>{if(!ee.attachment)return null;try{const Te=new URL(ee.attachment).pathname;return Te.substring(Te.lastIndexOf("/")+1)}catch{return ee.attachment}};return z?a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsx("div",{className:"flex-1 flex flex-col overflow-hidden",children:a.jsx("div",{className:"flex items-center justify-center h-full",children:a.jsxs("div",{className:"text-center",children:[a.jsx(mr,{className:"animate-spin h-12 w-12 text-blue-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Memuat data work order..."})]})})})]}):a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Mt,{mainTitle:"Edit Work Order",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:a.jsx(ir,{}),isMobile:N,toggleSidebar:Ke}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Work Order"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Perbarui detail work order yang sudah ada"})]}),a.jsxs(C.button,{onClick:()=>l("/workorders/it"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(Il,{className:"text-lg"})," Back to Work Orders"]})]}),a.jsxs(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[W&&a.jsxs(C.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:W}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(at,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>H(null)})})]}),a.jsxs("form",{onSubmit:Nt,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(Lt,{className:"mr-2 text-blue-500"})," General Information"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"date",className:"block text-sm font-medium text-gray-700 mb-1",children:["Date ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"date",id:"date",name:"date",value:ee.date,onChange:ye,required:!0,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700"})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"reception_method",className:"block text-sm font-medium text-gray-700 mb-1",children:["Reception Method ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Er,{id:"reception_method",name:"reception_method",options:[{value:"Electronic Work Order System",label:"Electronic Work Order System"},{value:"Direct Information",label:"Direct Information"},{value:"Phone",label:"Phone"},{value:"Whatsapp",label:"Whatsapp"},{value:"Email",label:"Email"}],value:{value:ee.reception_method,label:ee.reception_method},onChange:ot,placeholder:"Select Reception Method",styles:Ne,required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"requester_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Requester ",a.jsx("span",{className:"text-red-500",children:"*"})]}),Ge?a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-blue-50 text-gray-700",children:a.jsx("span",{children:(e==null?void 0:e.name)||"Current User"})}):a.jsx(Er,{id:"requester_id",name:"requester_id",options:d.map(ne=>({value:String(ne.id),label:ne.name})),value:d.find(ne=>parseInt(ne.id)===ee.requester_id)?{value:String(ee.requester_id),label:((he=d.find(ne=>parseInt(ne.id)===ee.requester_id))==null?void 0:he.name)||""}:null,onChange:ze,placeholder:"Select Requester",styles:Ne,required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"department_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Department ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-blue-50 text-gray-700",children:a.jsx("span",{children:we()})})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"known_by_id",className:"block text-sm font-medium text-gray-700 mb-1",children:"Known By (Head)"}),a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-blue-50 text-gray-700",children:a.jsx("span",{children:ut()})})]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(Gi,{className:"mr-2 text-green-500"})," Service Details"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"service_type_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Service Type ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Er,{id:"service_type_id",name:"service_type_id",options:xe.map(ne=>({value:String(ne.id),label:ne.name})),value:ee.service_type_id?{value:ee.service_type_id,label:((Je=xe.find(ne=>String(ne.id)===ee.service_type_id))==null?void 0:Je.name)||""}:null,onChange:wt,placeholder:"Select Service Type",styles:Ne,required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"service_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Service ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Er,{id:"service_id",name:"service_id",options:le.map(ne=>({value:String(ne.id),label:ne.service_name})),value:ee.service_id?{value:ee.service_id,label:((Ue=le.find(ne=>String(ne.id)===ee.service_id))==null?void 0:Ue.service_name)||""}:null,onChange:zt,placeholder:"Select Service",styles:Ne}),le.length===0&&ee.service_type_id&&a.jsx("p",{className:"text-sm text-yellow-500 mt-1",children:"No services available for selected type"})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"asset_no",className:"block text-sm font-medium text-gray-700 mb-1",children:["No. Asset ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(KY,{name:"asset_no",id:"asset_no",options:j,value:ee.asset_no?{value:ee.asset_no,label:ee.asset_no}:null,onChange:mt,onCreateOption:ne=>{const Te={value:ne,label:ne};v(et=>[...et,Te]),mt(Te)},placeholder:"Type or select Asset No.",styles:Ne,required:!0})]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(Lh,{className:"mr-2 text-purple-500"})," Device & Complaint Details"]}),a.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"device_info",className:"block text-sm font-medium text-gray-700 mb-1",children:["Device Information ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("textarea",{id:"device_info",name:"device_info",value:ee.device_info,onChange:ye,required:!0,rows:3,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"Provide details about the device (e.g., model, serial number)."})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"complaint",className:"block text-sm font-medium text-gray-700 mb-1",children:["Complaint ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Ol,{value:ee.complaint,onChange:ne=>{ve(Te=>({...Te,complaint:ne}))}})]})]})]}),a.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-100",children:[a.jsx("label",{htmlFor:"attachment",className:"block text-sm font-medium text-gray-700 mb-1",children:"Attachment (Optional)"}),a.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-200 border-dashed rounded-lg cursor-pointer hover:border-blue-400 transition-all duration-200",children:a.jsxs("div",{className:"space-y-1 text-center",children:[a.jsx(Ni,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsxs("div",{className:"flex text-sm text-gray-600",children:[a.jsxs("label",{htmlFor:"file-upload",className:"relative cursor-pointer rounded-md bg-white font-medium text-blue-600 hover:text-blue-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-blue-500 focus-within:ring-offset-2",children:[a.jsx("span",{children:"Upload a file"}),a.jsx("input",{id:"file-upload",name:"file-upload",type:"file",className:"sr-only",onChange:nt})]}),a.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),a.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF, PDF up to 10MB"})]})}),q&&a.jsx("ul",{className:"mt-3 border border-gray-200 rounded-md divide-y divide-gray-200",children:a.jsxs("li",{className:"flex items-center justify-between py-2 pl-3 pr-4 text-sm",children:[a.jsxs("div",{className:"flex w-0 flex-1 items-center",children:[a.jsx(Ni,{className:"h-5 w-5 flex-shrink-0 text-gray-400","aria-hidden":"true"}),a.jsx("span",{className:"ml-2 w-0 flex-1 truncate",children:q.name})]}),a.jsx("div",{className:"ml-4 flex-shrink-0",children:a.jsx(C.button,{type:"button",onClick:xt,whileHover:{scale:1.1},whileTap:{scale:.9},className:"font-medium text-red-600 hover:text-red-900 transition-colors duration-200",children:"Remove"})})]},q.name)}),ee.attachment&&!q&&a.jsx("div",{className:"mt-3",children:a.jsxs("p",{className:"text-sm text-gray-600",children:["Current attachment: ",ht()]})})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsxs(C.button,{type:"button",onClick:()=>l("/workorders/it"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",children:[a.jsx(kr,{className:"mr-2 h-5 w-5"})," Cancel"]}),a.jsx(C.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},disabled:L,className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed",children:L?a.jsxs(a.Fragment,{children:[a.jsx(mr,{className:"animate-spin mr-2 h-5 w-5"}),"Updating..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Ar,{className:"mr-2 h-5 w-5"})," Update Work Order"]})})]})]})]})]})]}),a.jsx(OLe,{isOpen:X,onClose:rt,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx($t,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center mb-2",children:P==null?void 0:P.message}),a.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Work Order Number: ",(ae=P==null?void 0:P.work_order)==null?void 0:ae.work_order_no]}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:rt,className:"mt-6 px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold",children:"Go to Work Orders"})]})})]})},DLe=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(C.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(at,{size:24})})]}),a.jsx("div",{children:n})]})}):null,PLe=()=>{var he,Je,Ue;const{updateWorkOrderIT:t,user:e,getUsers:r,getServices:n,getDepartment:s,getServiceGroups:i,getWorkOrderById:o,getVendor:l}=St(),c=jt(),{id:d}=Ta(),[h,m]=g.useState([]),[x,y]=g.useState([]),[w,j]=g.useState([]),[v,N]=g.useState(window.innerWidth<768),[T,S]=g.useState(()=>{const ae=localStorage.getItem("sidebarOpen");return ae?JSON.parse(ae):!1}),[O,_]=g.useState(!1),[A,E]=g.useState(!1),[D,$]=g.useState(!1),[I,L]=g.useState(!1),[R,z]=g.useState(!0),[Y,W]=g.useState(null),[H,P]=g.useState(null),[F,X]=g.useState(!1),te=g.useRef(null),q=g.useRef(null),[Z,ie]=g.useState([]),[oe,le]=g.useState([]),[ge,Le]=g.useState(!1),[Oe,xe]=g.useState([]),[Me,Be]=g.useState(!1),[re,se]=g.useState(null),[ee,ve]=g.useState(!1),Ge=({content:ae,className:ne=""})=>{if(!ae)return a.jsx("div",{className:`p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700 ${ne}`,children:a.jsx("span",{children:"-"})});const Te=$l.sanitize(ae,{ALLOWED_TAGS:["h1","h2","h3","h4","h5","h6","p","br","span","div","ol","ul","li","strong","b","em","i","u","s","strike","code","mark","sub","sup","blockquote","table","thead","tbody","tr","th","td"],ALLOWED_ATTR:["style","class","align","type","start","colspan","rowspan"]});return a.jsx("div",{className:`rich-text-content p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700 ${ne}`,dangerouslySetInnerHTML:{__html:Te}})},Ke={date:new Date().toISOString().split("T")[0],reception_method:"Electronic Work Order System",requester_id:e!=null&&e.id?parseInt(e.id):0,known_by_id:((he=e==null?void 0:e.department)==null?void 0:he.head_id)||null,department_id:(e==null?void 0:e.department_id)||0,service_type_id:"",service_id:"",asset_no:"",device_info:"",complaint:"",attachment:null,received_by_id:null,handling_date:null,action_taken:null,handling_status:"New",remarks:null,assigned_to_id:null,vendor_id:null},[ye,ot]=g.useState(Ke);g.useEffect(()=>{const ae=ye.handling_status==="Escalated",ne=ye.handling_status==="Vendor Handled";Le(ae),Be(ne),!ae&&ye.assigned_to_id&&ot(Te=>({...Te,assigned_to_id:null})),ne||(ot(Te=>({...Te,vendor_id:null})),se(null),ve(!1))},[ye.handling_status]),g.useEffect(()=>{const ae=async()=>{if(d)try{z(!0);const ne=await o(parseInt(d));if(ot({id:ne.id,date:ne.date.split("T")[0],reception_method:ne.reception_method,requester_id:ne.requester_id,known_by_id:ne.known_by_id,department_id:ne.department_id,service_type_id:String(ne.service_group_id||""),service_id:String(ne.service_catalogue_id||""),asset_no:ne.asset_no,device_info:ne.device_info,complaint:ne.complaint,attachment:ne.attachment,received_by_id:ne.received_by_id,handling_date:ne.handling_date?ne.handling_date.split("T")[0]:null,action_taken:ne.action_taken,handling_status:ne.handling_status,remarks:ne.remarks,vendor_id:ne.vendor_id||null}),ne.vendor_id&&Oe.length>0){const Te=Oe.find(et=>et.id===ne.vendor_id);Te&&se(Te)}}catch(ne){console.error("Failed to fetch work order data:",ne),W(ne.message||"Gagal memuat data work order. Silakan coba lagi.")}finally{z(!1)}};Oe.length>0&&ae()},[d,o,Oe]),g.useEffect(()=>{e&&(async()=>{try{const ne=await l();xe(ne);const et=(await i(0)).map(B=>({id:Number(B.id),name:B.group_name??"",description:B.group_description??void 0}));le(et);const ct=await s();y(ct);const pe=await r();if(m(pe),e&&e.id){const B=await n(parseInt(e.id));j(B)}}catch(ne){console.error("Failed to fetch master data:",ne)}})()},[e,r,n,s,i,l]),g.useEffect(()=>{const ae=()=>{N(window.innerWidth<768),window.innerWidth<768&&S(!1)};return window.addEventListener("resize",ae),()=>window.removeEventListener("resize",ae)},[]),g.useEffect(()=>{const ae=ne=>{te.current&&!te.current.contains(ne.target)&&E(!1),q.current&&!q.current.contains(ne.target)&&$(!1)};return document.addEventListener("mousedown",ae),()=>{document.removeEventListener("mousedown",ae)}},[]),g.useEffect(()=>{if(ye.service_type_id&&w.length>0){const ae=w.filter(ne=>String(ne.service_type)===ye.service_type_id);ie(ae)}else ie([])},[ye.service_type_id,w]),g.useEffect(()=>{document.documentElement.classList.toggle("dark",O),localStorage.setItem("sidebarOpen",JSON.stringify(T))},[T,O]);const mt=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!T)),S(ae=>!ae)},nt=g.useCallback((ae,ne)=>{let Te,et;if(ae&&"target"in ae)Te=ae.target.name,et=ae.target.value;else if(ae&&typeof ae=="object"&&"value"in ae&&ne)Te=ne,ne==="assigned_to_id"||ne==="requester_id"||ne==="known_by_id"?et=ae.value?parseInt(ae.value):null:et=ae.value;else if(ae===null&&ne)Te=ne,et=null;else return;ot(ct=>({...ct,[Te]:et}))},[]),xt=ae=>{se(ae),ot(ne=>({...ne,vendor_id:ae.id})),ve(!1)},Nt=async ae=>{if(ae.preventDefault(),L(!0),W(null),ye.handling_status==="Escalated"&&!ye.assigned_to_id){W("Assigned To is required for Escalated status"),L(!1);return}if(ye.handling_status==="Vendor Handled"&&!ye.vendor_id){W("Vendor selection is required for Vendor Handled status"),L(!1);return}if(!ye.handling_status){W("Handling status is required"),L(!1);return}if(!ye.handling_date){W("Handling date is required"),L(!1);return}if(!ye.action_taken||ye.action_taken.length<5){W("Action taken must be at least 5 characters"),L(!1);return}const ne={...ye,id:ye.id,received_by_id:e!=null&&e.id?parseInt(e.id):null,handling_date:ye.handling_date,action_taken:ye.action_taken,handling_status:ye.handling_status,remarks:ye.remarks,assigned_to_id:ye.assigned_to_id?parseInt(ye.assigned_to_id):null,vendor_id:ye.vendor_id};try{await t(ne),P({message:"Work Order berhasil diperbarui!",work_order:{work_order_no:`WO-IT-${ye.id}`}}),X(!0)}catch(Te){W(Te.message||"Gagal memperbarui work order. Silakan coba lagi."),console.error("Submission error:",Te)}finally{L(!1)}},wt=g.useCallback(()=>{X(!1),c("/workorders/it/receiver")},[c]),zt={control:(ae,ne)=>({...ae,minHeight:"42px",borderColor:ne.isFocused?"#3B82F6":"#D1D5DB",boxShadow:ne.isFocused?"0 0 0 1px #3B82F6":"none","&:hover":{borderColor:"#9CA3AF"},borderRadius:"0.5rem",backgroundColor:"#FFFFFF",padding:"0 0.5rem",transition:"all 0.15s ease-in-out"}),valueContainer:ae=>({...ae,padding:"0"}),singleValue:ae=>({...ae,color:"#374151"}),placeholder:ae=>({...ae,color:"#6B7280"}),dropdownIndicator:ae=>({...ae,color:"#9CA3AF","&:hover":{color:"#6B7280"}}),indicatorSeparator:ae=>({...ae,display:"none"}),menu:ae=>({...ae,zIndex:9999,borderRadius:"0.5rem",border:"1px solid #E5E7EB",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"}),option:(ae,ne)=>({...ae,backgroundColor:ne.isFocused?"#EFF6FF":"#FFFFFF",color:"#1F2937","&:active":{backgroundColor:"#DBEAFE"},padding:"0.625rem 1rem"})},rt=()=>{const ae=h.find(ne=>parseInt(ne.id)===ye.requester_id);return(ae==null?void 0:ae.name)||"Unknown"},Ne=()=>{const ae=x.find(ne=>ne.id===ye.department_id);return(ae==null?void 0:ae.name)||"No department assigned"},ze=()=>{const ae=x.find(ne=>ne.id===ye.department_id);if(ae&&ae.head_id){const ne=h.find(Te=>parseInt(Te.id)===ae.head_id);return(ne==null?void 0:ne.name)||"No department head assigned"}return"No department head assigned"},we=()=>{const ae=oe.find(ne=>String(ne.id)===ye.service_type_id);return(ae==null?void 0:ae.name)||"Unknown"},ut=()=>{const ae=w.find(ne=>String(ne.id)===ye.service_id);return(ae==null?void 0:ae.service_name)||"Unknown"},ht=()=>{if(!ye.attachment)return null;try{const ne=new URL(ye.attachment).pathname;return ne.substring(ne.lastIndexOf("/")+1)}catch{return ye.attachment}},We=()=>{ye.attachment&&window.open(ye.attachment,"_blank")};return R?a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsx("div",{className:"flex-1 flex flex-col overflow-hidden",children:a.jsx("div",{className:"flex items-center justify-center h-full",children:a.jsxs("div",{className:"text-center",children:[a.jsx(mr,{className:"animate-spin h-12 w-12 text-blue-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Memuat data work order..."})]})})})]}):a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Mt,{mainTitle:"Edit Receiver",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:a.jsx(ir,{}),isMobile:v,toggleSidebar:mt}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Update Work Order"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Perbarui status dan penanganan work order"})]}),a.jsxs(C.button,{onClick:()=>c("/workorders/it/receiver"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(Il,{className:"text-lg"})," Back to Receiver"]})]}),a.jsxs(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[Y&&a.jsxs(C.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:Y}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(at,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>W(null)})})]}),a.jsxs("form",{onSubmit:Nt,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(Lt,{className:"mr-2 text-blue-500"})," General Information"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:a.jsx("span",{children:ye.date})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reception Method"}),a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:a.jsx("span",{children:ye.reception_method})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Requester"}),a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:a.jsx("span",{children:rt()})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department"}),a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:a.jsx("span",{children:Ne()})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Known By (Head)"}),a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:a.jsx("span",{children:ze()})})]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(Gi,{className:"mr-2 text-green-500"})," Service Details"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Service Type"}),a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:a.jsx("span",{children:we()})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Service"}),a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:a.jsx("span",{children:ut()})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"No. Asset"}),a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:a.jsx("span",{children:ye.asset_no})})]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(Lh,{className:"mr-2 text-purple-500"})," Device & Complaint Details"]}),a.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Device Information"}),a.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:a.jsx("span",{children:ye.device_info})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Complaint"}),a.jsx(Ge,{content:ye.complaint,className:"min-h-[100px]"})]})]})]}),ye.attachment&&a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(Ni,{className:"mr-2 text-gray-500"})," Attachment"]}),a.jsxs("div",{className:"flex items-center justify-between p-2.5 border border-gray-300 rounded-lg bg-gray-50",children:[a.jsx("span",{className:"text-gray-700",children:ht()}),a.jsx(C.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:We,className:"ml-4 px-3 py-1 bg-blue-600 text-white text-sm rounded-md hover:bg-blue-700 transition-colors",children:"View"})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx($t,{className:"mr-2 text-blue-500"})," Handling Information"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"received_by_id",className:"block text-sm font-medium text-gray-700 mb-1",children:"Received By"}),a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-blue-50 text-gray-700",children:a.jsx("span",{children:(e==null?void 0:e.name)||"Current User"})})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"handling_date",className:"block text-sm font-medium text-gray-700 mb-1",children:["Handling Date ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"date",id:"handling_date",name:"handling_date",value:ye.handling_date||"",onChange:nt,required:!0,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700"})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"handling_status",className:"block text-sm font-medium text-gray-700 mb-1",children:["Ticket Status ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Er,{id:"handling_status",name:"handling_status",options:[{value:"New",label:"New"},{value:"In Progress",label:"In Progress"},{value:"Escalated",label:"Escalated"},{value:"Vendor Handled",label:"Vendor Handled"},{value:"Resolved",label:"Resolved"}],value:ye.handling_status?{value:ye.handling_status,label:ye.handling_status}:null,onChange:ae=>nt(ae,"handling_status"),placeholder:"Select Handling Status",styles:zt,required:!0})]}),ge&&a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"assigned_to_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Assigned To ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Er,{id:"assigned_to_id",name:"assigned_to_id",options:h.map(ae=>({value:String(ae.id),label:ae.name})),value:ye.assigned_to_id?{value:String(ye.assigned_to_id),label:((Je=h.find(ae=>parseInt(ae.id)===ye.assigned_to_id))==null?void 0:Je.name)||"Unknown"}:null,onChange:ae=>nt(ae,"assigned_to_id"),placeholder:"Select Assignee",styles:zt,required:ge})]}),Me&&a.jsxs("div",{className:"md:col-span-2 bg-gray-50 p-4 rounded-lg border border-gray-200",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(Gi,{className:"mr-2 text-gray-600"})," Vendor Information"]}),re?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h4",{className:"font-semibold text-gray-800",children:"Selected Vendor"}),a.jsx(C.button,{type:"button",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{se(null),ot(ae=>({...ae,vendor_id:null})),ve(!1)},className:"px-2 py-1 bg-red-100 text-red-700 text-sm rounded-md hover:bg-red-200 transition-colors",children:"Change Vendor"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Vendor Name"}),a.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:re.name})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Person"}),a.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:re.contact_person})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),a.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:re.address||"-"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),a.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:re.email})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),a.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:re.telp||"-"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mobile"}),a.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:re.HP||"-"})]})]})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Select Vendor ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(C.button,{type:"button",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>ve(!ee),className:"px-3 py-1 bg-gray-600 text-white text-sm rounded-md hover:bg-gray-700 transition-colors",children:ee?"Hide Vendors":"Select Vendor"})]}),ee&&a.jsx("div",{className:"border border-gray-200 rounded-lg bg-white max-h-60 overflow-y-auto",children:Oe.length>0?Oe.map(ae=>a.jsxs(C.div,{whileHover:{backgroundColor:"rgba(0, 0, 0, 0.05)"},className:"p-3 border-b border-gray-100 cursor-pointer transition-colors",onClick:()=>xt(ae),children:[a.jsx("div",{className:"font-medium text-gray-900",children:ae.name}),a.jsxs("div",{className:"text-sm text-gray-600",children:[ae.contact_person,"  ",ae.email]}),a.jsx("div",{className:"text-xs text-gray-500",children:ae.address})]},ae.id)):a.jsxs("div",{className:"p-4 text-center text-gray-600",children:[a.jsx(er,{className:"mx-auto h-6 w-6 mb-2"}),"No vendors available"]})})]})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsxs("label",{htmlFor:"action_taken",className:"block text-sm font-medium text-gray-700 mb-1",children:["Action Taken ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Ol,{value:ye.action_taken||"",onChange:ae=>{ot(ne=>({...ne,action_taken:ae}))}})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsxs("label",{htmlFor:"remarks",className:"block text-sm font-medium text-gray-700 mb-1",children:["Remarks ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Ol,{value:ye.remarks||"",onChange:ae=>{ot(ne=>({...ne,remarks:ae}))}})]})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsxs(C.button,{type:"button",onClick:()=>c("/workorders/it/receiver"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",children:[a.jsx(kr,{className:"mr-2 h-5 w-5"})," Cancel"]}),a.jsx(C.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},disabled:I,className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed",children:I?a.jsxs(a.Fragment,{children:[a.jsx(mr,{className:"animate-spin mr-2 h-5 w-5"}),"Updating..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Ar,{className:"mr-2 h-5 w-5"})," Update Work Order"]})})]})]})]})]})]}),a.jsx(DLe,{isOpen:F,onClose:wt,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx($t,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center mb-2",children:H==null?void 0:H.message}),a.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Work Order Number: ",(Ue=H==null?void 0:H.work_order)==null?void 0:Ue.work_order_no]}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:wt,className:"mt-6 px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold",children:"Go to Work Orders"})]})})]})},Ly=({title:t,value:e,change:r,icon:n})=>{const s=r.startsWith("+");return a.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),a.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),a.jsxs("p",{className:`mt-3 text-xs font-semibold ${s?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})},RLe=()=>{const[t,e]=g.useState(!1),[r,n]=g.useState(!1),[s,i]=g.useState(""),[o,l]=g.useState("all"),[c,d]=g.useState(!1),[h,m]=g.useState(!1),[x,y]=g.useState(null),[w,j]=g.useState(1),[v]=g.useState(5),[N,T]=g.useState(window.innerWidth<768),[S,O]=g.useState(!1),[_,A]=g.useState(!1),[E,D]=g.useState([]),[$,I]=g.useState(!0),[L,R]=g.useState(null),[z,Y]=g.useState(!1),[W,H]=g.useState(null),[P,F]=g.useState(!1),[X,te]=g.useState(""),q=jt(),Z=ua(),ie=g.useRef(null),oe=g.useRef(null),{user:le,getWorkOrdersIT:ge,updateWorkOrderIT:Le,hasPermission:Oe}=St(),xe=Z.pathname==="/workorders/it/assignment",Me=Z.pathname==="/workorders/it/reports",Be=Z.pathname==="/workorders/it/knowledgebase",re=Z.pathname==="/workorders/it",se=Z.pathname==="/workorders/it/receiver";Z.pathname;const ee=({order:he,onClose:Je})=>{var ce,be,Se,$e,ue,fe,Ae,tt,dt,pt;const Ue=Ee=>Ee==null?"-":typeof Ee=="object"&&Ee!==null?Ee.name||Ee.title||Ee.id||"-":typeof Ee=="string"?Ee.trim()!==""?Ee.trim():"-":typeof Ee=="number"?Ee.toString():String(Ee),ae=Ee=>Ee?new Date(Ee).toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-",ne=({status:Ee})=>{const Ye={New:"bg-gray-100 text-gray-800 border-gray-300",Assigned:"bg-blue-100 text-blue-800 border-blue-300","In Progress":"bg-cyan-100 text-cyan-800 border-cyan-300",Escalated:"bg-purple-100 text-purple-800 border-purple-300","Vendor Handled":"bg-red-100 text-red-800 border-red-300",Resolved:"bg-orange-100 text-orange-800 border-orange-300",Cancel:"bg-gray-100 text-gray-800 border-gray-300",Closed:"bg-green-100 text-green-800 border-green-300"};return a.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold border ${Ye[Ee]||Ye.New}`,children:Ee})},Te=({priority:Ee})=>{const Ye={Critical:"bg-purple-100 text-purple-800 border-purple-300",High:"bg-red-100 text-red-800 border-red-300",Medium:"bg-yellow-100 text-yellow-800 border-yellow-300",Low:"bg-green-100 text-green-800 border-green-300"};return a.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold border ${Ye[Ee]||Ye.Medium}`,children:Ee||"Medium"})},et=({title:Ee,children:Ye,icon:bt})=>a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[a.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-4 border-b border-gray-200",children:a.jsxs("div",{className:"flex items-center",children:[bt&&a.jsx("div",{className:"mr-3 text-blue-600",children:bt}),a.jsx("h3",{className:"text-lg font-bold text-gray-900",children:Ee})]})}),a.jsx("div",{className:"p-6",children:Ye})]}),ct=({label:Ee,value:Ye,icon:bt,fullWidth:Qt=!1,priority:Dr="medium"})=>{const Vr={high:"border-l-4 border-l-blue-500 bg-blue-25",medium:"border-l-2 border-l-gray-200",low:"border-l border-l-gray-100"};return a.jsx("div",{className:`${Qt?"col-span-full":""}`,children:a.jsx("div",{className:`p-4 rounded-lg ${Vr[Dr]} transition-all duration-200 hover:shadow-sm`,children:a.jsxs("div",{className:"flex items-start space-x-3",children:[bt&&a.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:bt}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1",children:Ee}),a.jsx("p",{className:"text-sm font-medium text-gray-900 leading-relaxed",children:Ye})]})]})})})},pe=({label:Ee,htmlContent:Ye,icon:bt,fullWidth:Qt=!1})=>{if(!Ye)return a.jsx(ct,{label:Ee,value:"-",icon:bt,fullWidth:Qt,priority:"low"});const Dr=$l.sanitize(Ye,{ALLOWED_TAGS:["h1","h2","h3","h4","h5","h6","p","br","span","div","ol","ul","li","strong","b","em","i","u","s","strike","code","mark","sub","sup","blockquote","pre"],ALLOWED_ATTR:["style","class","data-color","align","type","start"]});return a.jsx("div",{className:`${Qt?"col-span-full":""}`,children:a.jsx("div",{className:"p-4 rounded-lg border-l-2 border-l-blue-200 bg-blue-25 transition-all duration-200 hover:shadow-sm",children:a.jsxs("div",{className:"flex items-start space-x-3",children:[bt&&a.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:bt}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:Ee}),a.jsx("div",{className:`rich-text-content text-sm text-gray-900 leading-relaxed prose prose-sm max-w-none\r
                          prose-headings:font-semibold prose-p:my-2 prose-ul:my-2 prose-ol:my-2\r
                          prose-li:my-1 prose-strong:font-semibold prose-em:italic`,dangerouslySetInnerHTML:{__html:Dr}})]})]})})})},B=({order:Ee})=>{const bt=!["Resolved","Cancel","Closed"].includes(Ee.handling_status)&&Ee.assigned_to_id===Number(le==null?void 0:le.id);return a.jsxs("div",{className:"flex flex-wrap gap-3 mt-6 pt-6 border-t border-gray-200",children:[bt&&a.jsxs(C.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>q(`/workorders/it/assignment/editassignment/${Ee.id}`),className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors duration-200 font-semibold text-sm",children:[a.jsx(Bn,{className:"w-4 h-4 mr-2"}),"Update Progress"]}),a.jsxs(C.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:Je,className:"inline-flex items-center px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500 transition-colors duration-200 font-semibold text-sm",children:[a.jsx(at,{className:"w-4 h-4 mr-2"}),"Close"]})]})};return a.jsxs("div",{className:"space-y-6 max-h-[70vh] overflow-y-auto custom-scrollbar pr-2",children:[a.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6",children:a.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:["#",he.work_order_no||he.id]}),a.jsx(ne,{status:he.handling_status}),a.jsx(Te,{priority:(ce=he.service)==null?void 0:ce.priority})]}),a.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(xn,{className:"w-4 h-4"}),"Created: ",ae(he.date)]}),a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(Lt,{className:"w-4 h-4"}),he.handling_date?`Assigned: ${ae(he.handling_date)}`:"Not yet assigned"]})]})]})})}),a.jsx(et,{title:"My Assignment Details",icon:a.jsx(Mr,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(ct,{label:"Assigned To",value:Ue(((be=he.assigned_to)==null?void 0:be.name)||(le==null?void 0:le.name)),icon:a.jsx(Mr,{className:"w-4 h-4"}),priority:"high"}),a.jsx(ct,{label:"Assignment Type",value:he.vendor?"Vendor":"Internal Technician",icon:a.jsx(Tn,{className:"w-4 h-4"})}),a.jsx(ct,{label:"Current Status",value:Ue(he.handling_status),icon:a.jsx(Lt,{className:"w-4 h-4"}),priority:"high"}),a.jsx(ct,{label:"Priority Level",value:Ue(((Se=he.service)==null?void 0:Se.priority)||"Medium"),icon:a.jsx(er,{className:"w-4 h-4"}),priority:"high"})]})}),a.jsx(et,{title:"Service & Technical Information",icon:a.jsx(pn,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(ct,{label:"Service Type",value:Ue(($e=he.service_type)==null?void 0:$e.group_name),icon:a.jsx(Tn,{className:"w-4 h-4"})}),a.jsx(ct,{label:"Service Name",value:Ue((ue=he.service)==null?void 0:ue.service_name),icon:a.jsx(ir,{className:"w-4 h-4"})}),a.jsx(ct,{label:"Service Owner",value:Ue((Ae=(fe=he.service)==null?void 0:fe.owner)==null?void 0:Ae.name),icon:a.jsx(Mr,{className:"w-4 h-4"})}),a.jsx(ct,{label:"Asset Number",value:Ue(he.asset_no),icon:a.jsx(ir,{className:"w-4 h-4"})})]})}),a.jsx(et,{title:"Request Information",icon:a.jsx(ir,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsx(ct,{label:"Requester",value:Ue((tt=he.requester)==null?void 0:tt.name),icon:a.jsx(Mr,{className:"w-4 h-4"})}),a.jsx(ct,{label:"Requester Department",value:Ue(he.department_name||((dt=he.department)==null?void 0:dt.name)),icon:a.jsx(Tn,{className:"w-4 h-4"})}),a.jsx(ct,{label:"Reception Method",value:Ue(he.reception_method),icon:a.jsx(Ja,{className:"w-4 h-4"})}),a.jsx(ct,{label:"Known By",value:Ue((pt=he.known_by)==null?void 0:pt.name),icon:a.jsx(us,{className:"w-4 h-4"})})]})}),a.jsx(et,{title:"Problem Details",icon:a.jsx(er,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsx(ct,{label:"Device Information",value:Ue(he.device_info),icon:a.jsx(Tn,{className:"w-4 h-4"}),fullWidth:!0}),a.jsx(pe,{label:"Complaint Description",htmlContent:he.complaint||"",icon:a.jsx(er,{className:"w-4 h-4"}),fullWidth:!0})]})}),a.jsx(et,{title:"Progress & Actions",icon:a.jsx(Lt,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsx(pe,{label:"Action Taken",htmlContent:he.action_taken||"No actions recorded yet",icon:a.jsx(pn,{className:"w-4 h-4"}),fullWidth:!0}),a.jsx(pe,{label:"Technical Notes & Remarks",htmlContent:he.remarks||"No remarks yet",icon:a.jsx(ir,{className:"w-4 h-4"}),fullWidth:!0})]})}),he.vendor&&a.jsx(et,{title:"Vendor Information",icon:a.jsx(Mr,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsx(ct,{label:"Vendor Name",value:Ue(he.vendor.name),icon:a.jsx(Mr,{className:"w-4 h-4"}),priority:"high"}),a.jsx(ct,{label:"Contact Person",value:Ue(he.vendor.contact_person),icon:a.jsx(Mr,{className:"w-4 h-4"})}),a.jsx(ct,{label:"Email",value:Ue(he.vendor.email),icon:a.jsx($h,{className:"w-4 h-4"})}),a.jsx(ct,{label:"Phone",value:Ue(he.vendor.telp),icon:a.jsx(yo,{className:"w-4 h-4"})}),a.jsx(ct,{label:"Mobile",value:Ue(he.vendor.HP),icon:a.jsx(yo,{className:"w-4 h-4"})}),a.jsx(ct,{label:"Address",value:Ue(he.vendor.address),icon:a.jsx(Si,{className:"w-4 h-4"}),fullWidth:!0})]})}),a.jsx(et,{title:"Timeline & Status History",icon:a.jsx(Lt,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-lg border border-green-200",children:[a.jsx("span",{className:"text-sm font-medium text-green-800",children:"Request Created"}),a.jsx("span",{className:"text-sm text-green-600",children:ae(he.date)})]}),he.handling_date&&a.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg border border-blue-200",children:[a.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Assigned to You"}),a.jsx("span",{className:"text-sm text-blue-600",children:ae(he.handling_date)})]}),he.action_taken&&a.jsxs("div",{className:"flex justify-between items-center p-3 bg-purple-50 rounded-lg border border-purple-200",children:[a.jsx("span",{className:"text-sm font-medium text-purple-800",children:"Work Started"}),a.jsx("span",{className:"text-sm text-purple-600",children:"In Progress"})]}),["Resolved","Closed"].includes(he.handling_status)&&a.jsxs("div",{className:"flex justify-between items-center p-3 bg-orange-50 rounded-lg border border-orange-200",children:[a.jsx("span",{className:"text-sm font-medium text-orange-800",children:"Work Completed"}),a.jsx("span",{className:"text-sm text-orange-600",children:he.handling_status})]})]})}),!["Resolved","Closed","Cancel"].includes(he.handling_status)&&a.jsx(et,{title:"Next Steps",icon:a.jsx($t,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-blue-25 rounded-lg border border-blue-200",children:[a.jsx($t,{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"Update Progress"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Click 'Update Progress' to record your work and update the status"})]})]}),he.handling_status==="Assigned"&&a.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-yellow-25 rounded-lg border border-yellow-200",children:[a.jsx(Lt,{className:"w-5 h-5 text-yellow-600 mt-0.5 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"Start Working"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Change status to 'In Progress' when you begin working on this task"})]})]}),he.handling_status==="In Progress"&&a.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-green-25 rounded-lg border border-green-200",children:[a.jsx(pn,{className:"w-5 h-5 text-green-600 mt-0.5 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"Complete Work"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Change status to 'Resolved' when the work is completed"})]})]})]})}),he.attachment&&a.jsx(et,{title:"Supporting Documents",icon:a.jsx(Ni,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-blue-25 rounded-lg border-l-4 border-l-blue-400",children:[a.jsx(Ni,{className:"w-5 h-5 text-blue-600 flex-shrink-0"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"Related Attachment"}),a.jsxs("a",{href:he.attachment,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-blue-600 hover:text-blue-800 font-medium text-sm transition-colors duration-200",children:[a.jsx(rO,{className:"w-4 h-4 mr-1"}),"View Attachment"]})]})]})}),a.jsx(B,{order:he})]})},ve=g.useCallback(async()=>{I(!0),R(null);try{const Je=(await ge()).filter(Ue=>Ue.assigned_to_id===Number(le==null?void 0:le.id));D(Je)}catch(he){R(he.message||"Failed to load work orders.")}finally{I(!1)}},[ge,le==null?void 0:le.id]),Ge=g.useCallback(async(he,Je)=>{Y(!0),H(null),F(!1);try{const Ue=await Le({...Je,id:he});return D(ae=>ae.map(ne=>ne.id===he?Ue:ne)),F(!0),setTimeout(()=>F(!1),3e3),Ue}catch(Ue){throw H(Ue.message||"Failed to update work order."),Ue}finally{Y(!1)}},[Le]),Ke=()=>{T(window.innerWidth<768),window.innerWidth<768&&n(!1)},ye=he=>{ie.current&&!ie.current.contains(he.target)&&O(!1),oe.current&&!oe.current.contains(he.target)&&A(!1)};g.useEffect(()=>(window.addEventListener("resize",Ke),document.addEventListener("mousedown",ye),ve(),()=>{window.removeEventListener("resize",Ke),document.removeEventListener("mousedown",ye)}),[ve]);const ot=he=>{switch(he){case"New":return"bg-gray-500 text-white";case"Assigned":return"bg-blue-600 text-white";case"In Progress":return"bg-cyan-500 text-white";case"Escalated":return"bg-purple-500 text-white";case"Vendor Handled":return"bg-red-500 text-white";case"Resolved":return"bg-orange-500 text-white";case"Cancel":return"bg-red-500 text-white";case"Closed":return"bg-gray-900 text-white";default:return"bg-gray-500 text-white"}},mt=he=>{switch(he==null?void 0:he.toLowerCase()){case"high":return"bg-red-500 text-white";case"medium":return"bg-yellow-500 text-white";case"low":return"bg-green-500 text-white";case"critical":return"bg-purple-500 text-white";default:return"bg-gray-500 text-white"}},nt=he=>{switch(he){case"Assigned":return 1;case"In Progress":return 2;case"Escalated":return 3;case"Vendor Handled":return 4;case"Resolved":return 5;case"Cancel":return 6;case"Closed":return 7;default:return 8}},xt=he=>{switch(he==null?void 0:he.toLowerCase()){case"critical":return 1;case"high":return 2;case"medium":return 3;case"low":return 4;default:return 5}},Nt=g.useCallback(he=>{const Je=E.find(Ue=>Ue.id===he);Je&&(y(Je),m(!0))},[E]);g.useCallback(async he=>{if(!X.trim()){H("Vendor name is required");return}try{await Ge(he,{assigned_to_name:X.trim(),handling_status:"Vendor Handled",handling_date:new Date().toISOString()}),te(""),F(!0)}catch(Je){console.error("Failed to assign vendor:",Je)}},[Ge,X]),g.useCallback(async(he,Je)=>{try{await Ge(he,{handling_status:Je,handling_date:new Date().toISOString()})}catch(Ue){console.error("Failed to update status:",Ue)}},[Ge]);const wt=he=>{var Je;return he.vendor?`${he.vendor.name}`:((Je=he.assigned_to)==null?void 0:Je.name)||"Unassigned"},zt=he=>he.vendor?"vendor":he.assigned_to?"user":"unassigned",rt=()=>{n(he=>!he)},Ne=E.filter(he=>{var ae,ne,Te,et;const Je=((ne=(ae=he.requester)==null?void 0:ae.name)==null?void 0:ne.toLowerCase().includes(s.toLowerCase()))||((Te=he.work_order_no)==null?void 0:Te.toLowerCase().includes(s.toLowerCase()))||((et=he.complaint)==null?void 0:et.toLowerCase().includes(s.toLowerCase()))||String(he.id).includes(s),Ue=o==="all"||he.handling_status===o;return Je&&Ue}).sort((he,Je)=>{var et,ct;const Ue=nt(he.handling_status),ae=nt(Je.handling_status);if(Ue!==ae)return Ue-ae;const ne=xt((et=he.service)==null?void 0:et.priority),Te=xt((ct=Je.service)==null?void 0:ct.priority);return ne!==Te?ne-Te:new Date(Je.created_at).getTime()-new Date(he.created_at).getTime()}),ze=w*v,we=ze-v,ut=Ne.slice(we,ze),ht=Math.ceil(Ne.length/v),We=he=>j(he);return g.useEffect(()=>{j(1),document.documentElement.classList.toggle("dark",t)},[s,o,t]),$?a.jsxs("div",{className:"flex h-screen items-center justify-center bg-blue-50",children:[a.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-blue-600"}),a.jsx("p",{className:"ml-4 text-lg text-gray-700",children:"Loading work orders..."})]}):L?a.jsxs("div",{className:"flex h-screen items-center justify-center bg-red-50",children:[a.jsx(er,{className:"text-red-600 text-5xl"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-lg text-red-800",children:L}),a.jsx("button",{onClick:ve,className:"mt-4 px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Try Again"})]})]}):a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Mt,{mainTitle:"IT Work Orders - Assigments",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:a.jsx(ir,{}),isMobile:N,toggleSidebar:rt}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"isi style mb-6 flex space-x-6 border-b border-gray-200",children:[a.jsx(C.div,{whileTap:{scale:.98},onClick:()=>q("/workorders/it"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${re?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Request"}),a.jsx(C.div,{whileTap:{scale:.98},onClick:()=>q("/workorders/it/receiver"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${se?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Receiver"}),a.jsx(C.div,{whileTap:{scale:.98},onClick:()=>q("/workorders/it/assignment"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${xe?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Assignment"}),a.jsx(C.div,{whileTap:{scale:.98},onClick:()=>q("/workorders/it/reports"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${Me?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Reports"}),a.jsx(C.div,{whileTap:{scale:.98},onClick:()=>q("/workorders/it/knowledgebase"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${Be?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Knowledge Base"})]}),W&&a.jsxs(C.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",children:[a.jsx("span",{className:"block sm:inline",children:W}),a.jsx("button",{onClick:()=>H(null),className:"absolute top-0 right-0 p-3",children:a.jsx(at,{size:16})})]}),P&&a.jsxs(C.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-4 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative",children:[a.jsx("span",{className:"block sm:inline",children:"Work order updated successfully!"}),a.jsx("button",{onClick:()=>F(!1),className:"absolute top-0 right-0 p-3",children:a.jsx(at,{size:16})})]}),a.jsx(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"IT Assignment"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Manage assigned IT work orders as a technician/vendor"})]})}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[a.jsx(Ly,{title:"Total Assignments",value:Ne.length.toString(),change:"+8%",icon:a.jsx(ir,{})}),a.jsx(Ly,{title:"In Progress",value:Ne.filter(he=>he.handling_status==="In Progress").length.toString(),change:"-1",icon:a.jsx(pn,{})}),a.jsx(Ly,{title:"Resolved",value:Ne.filter(he=>he.handling_status==="Resolved").length.toString(),change:"+1",icon:a.jsx($t,{})}),a.jsx(Ly,{title:"Vendor Handled",value:Ne.filter(he=>he.handling_status==="Vendor Handled").length.toString(),change:"+3",icon:a.jsx(Lt,{})})]}),a.jsx(C.div,{layout:!0,className:"mb-6 bg-white rounded-2xl shadow-md p-4 md:p-6 border border-blue-50",children:a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Wn,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),a.jsx("input",{type:"text",placeholder:"Search assignments...",className:"w-full pl-12 pr-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base transition-all duration-200",value:s,onChange:he=>i(he.target.value)})]}),a.jsx(kt,{children:c&&a.jsx(C.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3 w-full md:w-auto",children:a.jsxs("select",{className:"border border-gray-200 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base appearance-none bg-no-repeat bg-right-12 bg-center-y transition-all duration-200",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='currentColor'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/svg%3E")`,backgroundSize:"1.2rem"},value:o,onChange:he=>l(he.target.value),children:[a.jsx("option",{value:"all",children:"All Statuses"}),a.jsx("option",{value:"Assigned",children:"Assigned"}),a.jsx("option",{value:"In Progress",children:"In Progress"}),a.jsx("option",{value:"Escalated",children:"Escalated"}),a.jsx("option",{value:"Vendor Handled",children:"Vendor Handled"}),a.jsx("option",{value:"Resolved",children:"Resolved"}),a.jsx("option",{value:"Cancel",children:"Cancel"}),a.jsx("option",{value:"Closed",children:"Closed"})]})})})]})}),a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-50",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-100",children:[a.jsx("thead",{className:"bg-blue-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Requester"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Date"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Handling Date"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Priority"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Ticket Status"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Assigned To"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:ut.length>0?ut.map(he=>{var ae,ne;he.handling_status,["Resolved","Cancel","Closed"].includes(he.handling_status),he.handling_status;const Je=wt(he),Ue=zt(he);return a.jsxs(C.tr,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.2},whileHover:{backgroundColor:"rgba(239, 246, 255, 1)"},className:"transition-colors duration-150",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 cursor-pointer hover:text-blue-600 hover:underline transition-colors duration-200",onClick:()=>Nt(he.id),title:"Click to view details",children:he.work_order_no||"-"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:he.requester.name}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:new Date(he.date).toLocaleDateString()}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:he.handling_date?new Date(he.handling_date).toLocaleDateString():"-"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-bold rounded-full ${mt((ae=he.service)==null?void 0:ae.priority)} shadow-sm`,children:((ne=he.service)==null?void 0:ne.priority)||"Medium"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-bold rounded-full ${ot(he.handling_status)} shadow-sm`,children:he.handling_status})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:`text-sm font-medium ${Ue==="vendor"?"text-purple-600":Ue==="user"?"text-blue-600":"text-gray-500"}`,children:Je}),Ue==="vendor"&&a.jsx("span",{className:"ml-2 px-1.5 py-0.5 text-xs bg-purple-100 text-purple-800 rounded-full",children:"Vendor"})]})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium flex items-center space-x-2",children:[a.jsx(C.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Nt(he.id),className:"text-blue-600 hover:text-blue-800 transition-colors duration-200 flex items-center space-x-1",title:"View Details",children:a.jsx(us,{className:"text-lg"})}),a.jsx(C.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>q(`/workorders/it/assignment/editassignment/${he.id}`),className:"text-gray-600 hover:text-gray-800 transition-colors duration-200 flex items-center space-x-1",title:"Edit Assignment",children:a.jsx(Bn,{className:"text-lg"})})]})]},he.id)}):a.jsx("tr",{children:a.jsx("td",{colSpan:6,className:"px-6 py-10 text-center text-gray-600 text-lg",children:"No IT assignments found matching your criteria."})})})]})})}),Ne.length>v&&a.jsxs(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"mt-8 flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{className:"text-sm text-gray-600 mb-4 sm:mb-0",children:["Showing ",a.jsx("span",{className:"font-semibold",children:we+1})," to ",a.jsx("span",{className:"font-semibold",children:Math.min(ze,Ne.length)})," of"," ",a.jsx("span",{className:"font-semibold",children:Ne.length})," results"]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(C.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>We(w-1),disabled:w===1,className:"px-4 py-2 border border-gray-200 rounded-lg bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm",children:"Previous"}),Array.from({length:ht},(he,Je)=>a.jsx(C.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>We(Je+1),className:`px-4 py-2 rounded-lg transition-colors duration-200 shadow-sm
                          ${w===Je+1?"bg-blue-600 text-white shadow-md":"bg-white text-gray-700 hover:bg-blue-50 border border-gray-200"}
                        `,children:Je+1},Je+1)),a.jsx(C.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>We(w+1),disabled:w===ht,className:"px-4 py-2 border border-gray-200 rounded-lg bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm",children:"Next"})]})]})]})]}),x&&a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 p-4 overflow-y-auto",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsxs("h3",{className:"text-2xl font-bold text-gray-900",children:["Work Order Details #",x.work_order_no||x.id]}),a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{m(!1),y(null)},className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(at,{size:24})})]}),a.jsx("div",{className:"overflow-y-auto max-h-[70vh]",children:a.jsx(ee,{order:x,onClose:()=>{m(!1),y(null)}})})]})})})]})},ILe=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(C.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(at,{size:24})})]}),a.jsx("div",{children:n})]})}):null,LLe=()=>{var he,Je,Ue;const{updateWorkOrderIT:t,user:e,getUsers:r,getServices:n,getDepartment:s,getServiceGroups:i,getWorkOrderById:o,getVendor:l}=St(),c=jt(),{id:d}=Ta(),[h,m]=g.useState([]),[x,y]=g.useState([]),[w,j]=g.useState([]),[v,N]=g.useState(window.innerWidth<768),[T,S]=g.useState(()=>{const ae=localStorage.getItem("sidebarOpen");return ae?JSON.parse(ae):!1}),[O,_]=g.useState(!1),[A,E]=g.useState(!1),[D,$]=g.useState(!1),[I,L]=g.useState(!1),[R,z]=g.useState(!0),[Y,W]=g.useState(null),[H,P]=g.useState(null),[F,X]=g.useState(!1),te=g.useRef(null),q=g.useRef(null),[Z,ie]=g.useState([]),[oe,le]=g.useState([]),[ge,Le]=g.useState(!1),[Oe,xe]=g.useState([]),[Me,Be]=g.useState(!1),[re,se]=g.useState(null),[ee,ve]=g.useState(!1),Ge=({content:ae,className:ne=""})=>{if(!ae)return a.jsx("div",{className:`p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700 ${ne}`,children:a.jsx("span",{children:"-"})});const Te=$l.sanitize(ae,{ALLOWED_TAGS:["h1","h2","h3","h4","h5","h6","p","br","span","div","ol","ul","li","strong","b","em","i","u","s","strike","code","mark","sub","sup","blockquote","table","thead","tbody","tr","th","td"],ALLOWED_ATTR:["style","class","align","type","start","colspan","rowspan"]});return a.jsx("div",{className:`rich-text-content p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700 ${ne}`,dangerouslySetInnerHTML:{__html:Te}})},Ke={date:new Date().toISOString().split("T")[0],reception_method:"Electronic Work Order System",requester_id:e!=null&&e.id?parseInt(e.id):0,known_by_id:((he=e==null?void 0:e.department)==null?void 0:he.head_id)||null,department_id:(e==null?void 0:e.department_id)||0,service_type_id:"",service_id:"",asset_no:"",device_info:"",complaint:"",attachment:null,received_by_id:null,handling_date:null,action_taken:null,handling_status:"New",remarks:null,assigned_to_id:null,vendor_id:null},[ye,ot]=g.useState(Ke);g.useEffect(()=>{const ae=ye.handling_status!=="New",ne=ye.handling_status==="Vendor Handled";Le(ae),Be(ne),!ne&&ye.vendor_id&&(ot(Te=>({...Te,vendor_id:null})),se(null),ve(!1))},[ye.handling_status]),g.useEffect(()=>{const ae=async()=>{if(d)try{z(!0);const ne=await o(parseInt(d));if(ot({id:ne.id,date:ne.date.split("T")[0],reception_method:ne.reception_method,requester_id:ne.requester_id,known_by_id:ne.known_by_id,department_id:ne.department_id,service_type_id:String(ne.service_group_id||""),service_id:String(ne.service_catalogue_id||""),asset_no:ne.asset_no,device_info:ne.device_info,complaint:ne.complaint,attachment:ne.attachment,received_by_id:ne.received_by_id,handling_date:ne.handling_date?ne.handling_date.split("T")[0]:null,action_taken:ne.action_taken,handling_status:ne.handling_status,remarks:ne.remarks,assigned_to_id:ne.assigned_to_id,vendor_id:ne.vendor_id||null}),ne.vendor_id&&Oe.length>0){const Te=Oe.find(et=>et.id===ne.vendor_id);Te&&se(Te)}}catch(ne){console.error("Failed to fetch work order data:",ne),W(ne.message||"Gagal memuat data work order. Silakan coba lagi.")}finally{z(!1)}};Oe.length>0&&ae()},[d,o,Oe]),g.useEffect(()=>{e&&(async()=>{try{const ne=await l();xe(ne);const et=(await i(0)).map(B=>({id:Number(B.id),name:B.group_name??"",description:B.group_description??void 0}));le(et);const ct=await s();y(ct);const pe=await r();if(m(pe),e&&e.id){const B=await n(parseInt(e.id));j(B)}}catch(ne){console.error("Failed to fetch master data:",ne)}})()},[e,r,n,s,i,l]),g.useEffect(()=>{const ae=()=>{N(window.innerWidth<768),window.innerWidth<768&&S(!1)};return window.addEventListener("resize",ae),()=>window.removeEventListener("resize",ae)},[]),g.useEffect(()=>{const ae=ne=>{te.current&&!te.current.contains(ne.target)&&E(!1),q.current&&!q.current.contains(ne.target)&&$(!1)};return document.addEventListener("mousedown",ae),()=>{document.removeEventListener("mousedown",ae)}},[]),g.useEffect(()=>{if(ye.service_type_id&&w.length>0){const ae=w.filter(ne=>String(ne.service_type)===ye.service_type_id);ie(ae)}else ie([])},[ye.service_type_id,w]),g.useEffect(()=>{document.documentElement.classList.toggle("dark",O),localStorage.setItem("sidebarOpen",JSON.stringify(T))},[T,O]);const mt=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!T)),S(ae=>!ae)},nt=g.useCallback((ae,ne)=>{let Te,et;if(ae&&"target"in ae)Te=ae.target.name,et=ae.target.value;else if(ae&&typeof ae=="object"&&"value"in ae&&ne)Te=ne,ne==="assigned_to_id"||ne==="requester_id"||ne==="known_by_id"?et=ae.value?parseInt(ae.value):null:et=ae.value;else if(ae===null&&ne)Te=ne,et=null;else return;ot(ct=>({...ct,[Te]:et}))},[]),xt=ae=>{se(ae),ot(ne=>({...ne,vendor_id:ae.id})),ve(!1)},Nt=async ae=>{ae.preventDefault(),L(!0),W(null);const ne=["In Progress","Escalated","Vendor Handled","Resolved"];if(ye.handling_status&&ne.includes(ye.handling_status)&&!ye.assigned_to_id){W("Assigned To is required for this status"),L(!1);return}if(ye.handling_status==="Vendor Handled"&&!ye.vendor_id){W("Vendor selection is required for Vendor Handled status"),L(!1);return}if(!ye.handling_status){W("Handling status is required"),L(!1);return}if(!ye.handling_date){W("Handling date is required"),L(!1);return}if(!ye.action_taken||ye.action_taken.length<5){W("Action taken must be at least 5 characters"),L(!1);return}const Te={...ye,id:ye.id,received_by_id:e!=null&&e.id?parseInt(e.id):null,handling_date:ye.handling_date,action_taken:ye.action_taken,handling_status:ye.handling_status,remarks:ye.remarks,assigned_to_id:ye.assigned_to_id?parseInt(ye.assigned_to_id):null,vendor_id:ye.vendor_id};try{await t(Te),P({message:"Work Order berhasil diperbarui!",work_order:{work_order_no:`WO-IT-${ye.id}`}}),X(!0)}catch(et){W(et.message||"Gagal memperbarui work order. Silakan coba lagi."),console.error("Submission error:",et)}finally{L(!1)}},wt=g.useCallback(()=>{X(!1),c("/workorders/it/assignment")},[c]),zt={control:(ae,ne)=>({...ae,minHeight:"42px",borderColor:ne.isFocused?"#3B82F6":"#D1D5DB",boxShadow:ne.isFocused?"0 0 0 1px #3B82F6":"none","&:hover":{borderColor:"#9CA3AF"},borderRadius:"0.5rem",backgroundColor:"#FFFFFF",padding:"0 0.5rem",transition:"all 0.15s ease-in-out"}),valueContainer:ae=>({...ae,padding:"0"}),singleValue:ae=>({...ae,color:"#374151"}),placeholder:ae=>({...ae,color:"#6B7280"}),dropdownIndicator:ae=>({...ae,color:"#9CA3AF","&:hover":{color:"#6B7280"}}),indicatorSeparator:ae=>({...ae,display:"none"}),menu:ae=>({...ae,zIndex:9999,borderRadius:"0.5rem",border:"1px solid #E5E7EB",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"}),option:(ae,ne)=>({...ae,backgroundColor:ne.isFocused?"#EFF6FF":"#FFFFFF",color:"#1F2937","&:active":{backgroundColor:"#DBEAFE"},padding:"0.625rem 1rem"})},rt=()=>{const ae=h.find(ne=>parseInt(ne.id)===ye.requester_id);return(ae==null?void 0:ae.name)||"Unknown"},Ne=()=>{const ae=x.find(ne=>ne.id===ye.department_id);return(ae==null?void 0:ae.name)||"No department assigned"},ze=()=>{const ae=x.find(ne=>ne.id===ye.department_id);if(ae&&ae.head_id){const ne=h.find(Te=>parseInt(Te.id)===ae.head_id);return(ne==null?void 0:ne.name)||"No department head assigned"}return"No department head assigned"},we=()=>{const ae=oe.find(ne=>String(ne.id)===ye.service_type_id);return(ae==null?void 0:ae.name)||"Unknown"},ut=()=>{const ae=w.find(ne=>String(ne.id)===ye.service_id);return(ae==null?void 0:ae.service_name)||"Unknown"},ht=()=>{if(!ye.attachment)return null;try{const ne=new URL(ye.attachment).pathname;return ne.substring(ne.lastIndexOf("/")+1)}catch{return ye.attachment}},We=()=>{ye.attachment&&window.open(ye.attachment,"_blank")};return R?a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsx("div",{className:"flex-1 flex flex-col overflow-hidden",children:a.jsx("div",{className:"flex items-center justify-center h-full",children:a.jsxs("div",{className:"text-center",children:[a.jsx(mr,{className:"animate-spin h-12 w-12 text-blue-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Memuat data work order..."})]})})})]}):a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Mt,{mainTitle:"Edit Assignment",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:a.jsx(ir,{}),isMobile:v,toggleSidebar:mt}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Update Work Order"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Perbarui status dan penanganan work order"})]}),a.jsxs(C.button,{onClick:()=>c("/workorders/it/assignment"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(Il,{className:"text-lg"})," Back to Assignment"]})]}),a.jsxs(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[Y&&a.jsxs(C.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:Y}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(at,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>W(null)})})]}),a.jsxs("form",{onSubmit:Nt,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(Lt,{className:"mr-2 text-blue-500"})," General Information"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:a.jsx("span",{children:ye.date})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reception Method"}),a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:a.jsx("span",{children:ye.reception_method})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Requester"}),a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:a.jsx("span",{children:rt()})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department"}),a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:a.jsx("span",{children:Ne()})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Known By (Head)"}),a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:a.jsx("span",{children:ze()})})]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(Gi,{className:"mr-2 text-green-500"})," Service Details"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Service Type"}),a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:a.jsx("span",{children:we()})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Service"}),a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:a.jsx("span",{children:ut()})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"No. Asset"}),a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:a.jsx("span",{children:ye.asset_no})})]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(Lh,{className:"mr-2 text-purple-500"})," Device & Complaint Details"]}),a.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Device Information"}),a.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:a.jsx("span",{children:ye.device_info})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Complaint"}),a.jsx(Ge,{content:ye.complaint,className:"min-h-[100px]"})]})]})]}),ye.attachment&&a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(Ni,{className:"mr-2 text-gray-500"})," Attachment"]}),a.jsxs("div",{className:"flex items-center justify-between p-2.5 border border-gray-300 rounded-lg bg-gray-50",children:[a.jsx("span",{className:"text-gray-700",children:ht()}),a.jsx(C.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:We,className:"ml-4 px-3 py-1 bg-blue-600 text-white text-sm rounded-md hover:bg-blue-700 transition-colors",children:"View"})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx($t,{className:"mr-2 text-blue-500"})," Handling Information"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"received_by_id",className:"block text-sm font-medium text-gray-700 mb-1",children:"Received By"}),a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-blue-50 text-gray-700",children:a.jsx("span",{children:(e==null?void 0:e.name)||"Current User"})})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"handling_date",className:"block text-sm font-medium text-gray-700 mb-1",children:["Handling Date ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"date",id:"handling_date",name:"handling_date",value:ye.handling_date||"",onChange:nt,required:!0,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700"})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"handling_status",className:"block text-sm font-medium text-gray-700 mb-1",children:["Ticket Status ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Er,{id:"handling_status",name:"handling_status",options:[{value:"New",label:"New"},{value:"In Progress",label:"In Progress"},{value:"Escalated",label:"Escalated"},{value:"Vendor Handled",label:"Vendor Handled"},{value:"Resolved",label:"Resolved"}],value:ye.handling_status?{value:ye.handling_status,label:ye.handling_status}:null,onChange:ae=>nt(ae,"handling_status"),placeholder:"Select Handling Status",styles:zt,required:!0})]}),ge&&a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"assigned_to_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Assigned To ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Er,{id:"assigned_to_id",name:"assigned_to_id",options:h.map(ae=>({value:String(ae.id),label:ae.name})),value:ye.assigned_to_id?{value:String(ye.assigned_to_id),label:((Je=h.find(ae=>parseInt(ae.id)===ye.assigned_to_id))==null?void 0:Je.name)||"Unknown"}:null,onChange:ae=>nt(ae,"assigned_to_id"),placeholder:"Select Assignee",styles:zt,required:ge})]}),Me&&a.jsxs("div",{className:"md:col-span-2 bg-gray-50 p-4 rounded-lg border border-gray-200",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(Gi,{className:"mr-2 text-gray-600"})," Vendor Information"]}),re?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h4",{className:"font-semibold text-gray-800",children:"Selected Vendor"}),a.jsx(C.button,{type:"button",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{se(null),ot(ae=>({...ae,vendor_id:null})),ve(!1)},className:"px-2 py-1 bg-red-100 text-red-700 text-sm rounded-md hover:bg-red-200 transition-colors",children:"Change Vendor"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Vendor Name"}),a.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:re.name})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Person"}),a.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:re.contact_person})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),a.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:re.address||"-"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),a.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:re.email})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),a.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:re.telp||"-"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mobile"}),a.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:re.HP||"-"})]})]})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Select Vendor ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(C.button,{type:"button",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>ve(!ee),className:"px-3 py-1 bg-gray-600 text-white text-sm rounded-md hover:bg-gray-700 transition-colors",children:ee?"Hide Vendors":"Select Vendor"})]}),ee&&a.jsx("div",{className:"border border-gray-200 rounded-lg bg-white max-h-60 overflow-y-auto",children:Oe.length>0?Oe.map(ae=>a.jsxs(C.div,{whileHover:{backgroundColor:"rgba(0, 0, 0, 0.05)"},className:"p-3 border-b border-gray-100 cursor-pointer transition-colors",onClick:()=>xt(ae),children:[a.jsx("div",{className:"font-medium text-gray-900",children:ae.name}),a.jsxs("div",{className:"text-sm text-gray-600",children:[ae.contact_person,"  ",ae.email]}),a.jsx("div",{className:"text-xs text-gray-500",children:ae.address})]},ae.id)):a.jsxs("div",{className:"p-4 text-center text-gray-600",children:[a.jsx(er,{className:"mx-auto h-6 w-6 mb-2"}),"No vendors available"]})})]})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsxs("label",{htmlFor:"action_taken",className:"block text-sm font-medium text-gray-700 mb-1",children:["Action Taken ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Ol,{value:ye.action_taken||"",onChange:ae=>{ot(ne=>({...ne,action_taken:ae}))}})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsxs("label",{htmlFor:"remarks",className:"block text-sm font-medium text-gray-700 mb-1",children:["Remarks ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Ol,{value:ye.remarks||"",onChange:ae=>{ot(ne=>({...ne,remarks:ae}))}})]})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsxs(C.button,{type:"button",onClick:()=>c("/workorders/it/assignment"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",children:[a.jsx(kr,{className:"mr-2 h-5 w-5"})," Cancel"]}),a.jsx(C.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},disabled:I,className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed",children:I?a.jsxs(a.Fragment,{children:[a.jsx(mr,{className:"animate-spin mr-2 h-5 w-5"}),"Updating..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Ar,{className:"mr-2 h-5 w-5"})," Update Work Order"]})})]})]})]})]})]}),a.jsx(ILe,{isOpen:F,onClose:wt,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx($t,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center mb-2",children:H==null?void 0:H.message}),a.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Work Order Number: ",(Ue=H==null?void 0:H.work_order)==null?void 0:Ue.work_order_no]}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:wt,className:"mt-6 px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold",children:"Go to Work Orders"})]})})]})},$Le=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(C.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(at,{size:24})})]}),a.jsx("div",{children:n})]})}):null,FLe=()=>{const{id:t}=Ta(),[e,r]=g.useState(window.innerWidth<768),[n,s]=g.useState([]),[i,o]=g.useState(),{getActivity:l,updateActivity:c,getActivityById:d}=St(),[h,m]=g.useState(()=>{const R=localStorage.getItem("sidebarOpen");return R?JSON.parse(R):!1}),[x,y]=g.useState(null),[w,j]=g.useState(null),[v,N]=g.useState(!1),[T,S]=g.useState(!1),O=jt(),[_,A]=g.useState({name:"",description:""}),E=()=>{m(R=>!R)};g.useEffect(()=>{i&&A({name:i.name||"",description:i.description||""})},[i]);const D=R=>{const{name:z,value:Y}=R.target;A(W=>({...W,[z]:z==="sla"?Number(Y):Y}))},$=g.useCallback(async()=>{try{if(t){const[R]=await Promise.all([d(t)]);o(R)}}catch(R){y(R.message||"Failed to load form data")}},[t,d]);g.useEffect(()=>{t&&$()},[t,$]);const I=async R=>{R.preventDefault(),S(!0),y(null);try{const z={name:_.name,description:_.description};await c(t,z),j("Activity update successfully!"),N(!0)}catch(z){y(z.message||"Failed to update Activity")}finally{S(!1)}},L=()=>{N(!1),O("/maintenanceactivity/activity")};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Mt,{mainTitle:"Edit Activity",mainTitleHighlight:"Management",description:"blablablabl",icon:a.jsx(fo,{}),isMobile:e,toggleSidebar:E}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Activity"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Update Activity information"})]}),a.jsxs(C.button,{onClick:()=>O("/maintenanceactivity/activity"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(kr,{className:"text-lg"})," Back to Activity Management"]})]}),a.jsxs(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[x&&a.jsxs(C.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:x}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(at,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>y(null)})})]}),a.jsxs("form",{onSubmit:I,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Activity Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Activity Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"name",id:"name",value:_.name,onChange:D,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"description",id:"description",value:_.description,onChange:D,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsx(C.button,{type:"button",onClick:()=>O("/maintenanceactivity/activity"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),a.jsx(C.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:T,children:T?a.jsxs(a.Fragment,{children:[a.jsx(mr,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Ar,{className:"mr-2 h-5 w-5"})," Save Activity"]})})]})]})]})]})]}),a.jsx($Le,{isOpen:v,onClose:L,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx($t,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:w}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:L,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Activity Management"})]})})]})},HLe=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(C.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(at,{size:24})})]}),a.jsx("div",{children:n})]})}):null,BLe=()=>{const[t,e]=g.useState(window.innerWidth<768),[r,n]=g.useState([]),[s,i]=g.useState([]),{addActivity:o,getActivity:l}=St(),[c,d]=g.useState(()=>{const I=localStorage.getItem("sidebarOpen");return I?JSON.parse(I):!1}),[h,m]=g.useState(null),[x,y]=g.useState(null),[w,j]=g.useState(!1),[v,N]=g.useState(!1),T=jt(),[S,O]=g.useState({name:"",description:""}),_=()=>{d(I=>!I)},A=I=>{const{name:L,value:R}=I.target;O(z=>({...z,[L]:L==="sla"?Number(R):R}))},E=g.useCallback(async()=>{try{const[I]=await Promise.all([l()]);n(I)}catch(I){m(I.message||"Failed to load form data")}},[l]);g.useEffect(()=>{E()},[E]);const D=async I=>{I.preventDefault(),N(!0),m(null);try{const L={name:S.name,description:S.description};await o(L),y("Activity created successfully!"),j(!0)}catch(L){m(L.message||"Failed to create Activity")}finally{N(!1)}},$=()=>{j(!1),T("/maintenanceactivity/activity")};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Mt,{mainTitle:"Create Activity",mainTitleHighlight:"Management",description:"blablablabl",icon:a.jsx(fo,{}),isMobile:t,toggleSidebar:_}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Activity"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Add a new Activity information"})]}),a.jsxs(C.button,{onClick:()=>T("/maintenanceactivity/activity"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(kr,{className:"text-lg"})," Back to Activity Management"]})]}),a.jsxs(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[h&&a.jsxs(C.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:h}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(at,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>m(null)})})]}),a.jsxs("form",{onSubmit:D,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Activity Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Activity Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"name",id:"name",value:S.name,onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"description",id:"description",value:S.description,onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsx(C.button,{type:"button",onClick:()=>T("/maintenanceactivity/activity"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),a.jsx(C.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:v,children:v?a.jsxs(a.Fragment,{children:[a.jsx(mr,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Ar,{className:"mr-2 h-5 w-5"})," Save Activity"]})})]})]})]})]})]}),a.jsx(HLe,{isOpen:w,onClose:$,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx($t,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:x}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:$,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Activity Management"})]})})]})},zLe=({isOpen:t,onClose:e,title:r,children:n,className:s})=>a.jsx(kt,{children:t&&a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:a.jsxs(C.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${s||"max-w-xl w-full"}`,children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:r}),a.jsx("button",{onClick:e,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:a.jsx(at,{className:"text-xl"})})]}),a.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:n})]})})}),VLe=({title:t,value:e,change:r,icon:n})=>{const s=r.startsWith("+");return a.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),a.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),a.jsxs("p",{className:`mt-3 text-xs font-semibold ${s?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})},WLe=()=>{const[t,e]=g.useState([]),{getActivity:r,deleteActivity:n}=St(),[s,i]=g.useState(!0),[o,l]=g.useState(null),[c,d]=g.useState(""),[h,m]=g.useState(!1),[x,y]=g.useState(null),[w,j]=g.useState(!1),[v]=g.useState(window.innerWidth<768),[N,T]=g.useState(()=>{const P=localStorage.getItem("sidebarOpen");return P?JSON.parse(P):!1}),S=jt(),O=g.useRef(null),[_,A]=g.useState(!1),E=g.useMemo(()=>[{id:"activity",name:"Activity"},{id:"description",name:"Description"}],[]),D=g.useCallback(async()=>{try{i(!0);const F=[...await r()].sort((X,te)=>X.id-te.id);e(F)}catch(P){l("Failed to load activities"),console.error("Error loading activities:",P)}finally{i(!1)}},[r]);g.useEffect(()=>{D()},[D]);const $=()=>{const P=!N;T(P),localStorage.setItem("sidebarOpen",JSON.stringify(P))},I=()=>{alert("Import functionality is not yet implemented.")},L=P=>{const F=P.target.value;d(F)},R=g.useMemo(()=>{if(!c)return E;const P=c.toLowerCase();return E.filter(F=>F.name.toLowerCase().includes(P))},[c,E]),z=P=>{var F;d(`${P}: `),A(!1),(F=O.current)==null||F.focus()},Y=g.useMemo(()=>{if(!c.trim())return t;const P=c.toLowerCase().trim(),F=P.split(":");let X="all",te=P;return F.length>1&&E.some(q=>q.name.toLowerCase()===F[0].trim())&&(X=F[0].trim(),te=F.slice(1).join(":").trim()),t.filter(q=>{var oe,le;const Z=(oe=q.name)==null?void 0:oe.toLowerCase().includes(te),ie=(le=q.description)==null?void 0:le.toLowerCase().includes(te);return X==="activity"?Z:X==="description"?ie:Z||ie})},[t,c,E]),W=async P=>{try{await n(P),e(t.filter(F=>F.id!==P)),m(!1),y(null)}catch(F){console.error("Failed to delete activity:",F),l("Failed to delete activity. Please try again.")}},H=g.useCallback(P=>{y(P),m(!0)},[]);return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Mt,{mainTitle:"Activity",mainTitleHighlight:"Page",description:"Manage activities and their configurations within the system.",icon:a.jsx(fo,{}),isMobile:v,toggleSidebar:$}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Activity ",a.jsx("span",{className:"text-blue-600",children:"Management"})]}),a.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Organize and manage activities by specific company requirements."})]}),a.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[a.jsxs(C.button,{onClick:()=>S("/maintenanceactivity/activity/addactivity"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[a.jsx(Jn,{className:"text-base"}),a.jsx("span",{children:"Add Activity"})]}),a.jsxs(C.button,{onClick:I,whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(Ja,{className:"text-base"}),a.jsx("span",{children:"Import"})]}),a.jsxs(C.button,{onClick:()=>j(!w),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(Xa,{className:"text-base"}),a.jsx("span",{children:"Filters"}),a.jsx(C.span,{animate:{rotate:w?180:0},transition:{duration:.2},children:a.jsx(cn,{className:"text-base"})})]})]})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:a.jsx(VLe,{title:"Total Activities",value:t.length.toString(),change:`+${Math.floor(t.length/10*100)}%`,icon:a.jsx(fo,{className:"w-6 h-6"})})}),a.jsxs(C.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[a.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Wn,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),a.jsx("input",{ref:O,type:"text",placeholder:"Search by activity or description...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:c,onChange:L,onFocus:()=>A(!0),"aria-label":"Search activities"}),a.jsx(kt,{children:_&&R.length>0&&a.jsx(C.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.15},className:"search-suggestions absolute left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-10 max-h-56 overflow-y-auto custom-scrollbar",children:R.map(P=>a.jsx(C.button,{onClick:()=>z(P.name),whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},className:"w-full text-left p-3 text-gray-700 hover:text-blue-700 transition-colors duration-150 text-sm",role:"option",children:a.jsx("span",{className:"font-semibold",children:P.name})},P.id))})})]})}),a.jsx(kt,{children:w&&a.jsx(C.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full"})})]}),s?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),a.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading activity data..."})]}):Y.length===0?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("p",{className:"text-gray-700 text-base font-medium",children:c?"No activities found matching your search.":"No activities available."}),c&&a.jsx("button",{onClick:()=>d(""),className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear Search"})]}):a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:a.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:a.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[a.jsx("thead",{className:"bg-blue-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Activity"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Description"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:Y.map((P,F)=>a.jsxs(C.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:F+1})}),a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:P.name})}),a.jsx("td",{className:"px-5 py-3",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:P.description||"-"})}),a.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>S(`/maintenanceactivity/activity/editactivity/${P.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit",children:a.jsx(Bn,{className:"inline text-base"})}),a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>H(P.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:a.jsx(dn,{className:"inline text-base"})})]})]},P.id))})]})})})]})]}),a.jsx(zLe,{isOpen:h,onClose:()=>m(!1),title:"Confirm Deletion",children:a.jsxs("div",{className:"space-y-5 text-center py-3",children:[a.jsx(er,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),a.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this activity? This action cannot be undone."}),a.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>m(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>x&&W(x),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})]})},qLe=({isOpen:t,onClose:e,title:r,children:n,className:s})=>a.jsx(kt,{children:t&&a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4 backdrop-blur-sm",children:a.jsxs(C.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${s||"max-w-xl w-full"}`,children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:r}),a.jsx("button",{onClick:e,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:a.jsx(at,{className:"text-xl"})})]}),a.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:n})]})})}),ULe=({title:t,value:e,change:r,icon:n})=>{const s=r.startsWith("+");return a.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),a.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),a.jsxs("p",{className:`mt-3 text-xs font-semibold ${s?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})},GLe=()=>{const[t,e]=g.useState([]),{getTroubleItem:r,deleteTroubleItem:n}=St(),[s,i]=g.useState(!0),[o,l]=g.useState(null),[c,d]=g.useState(""),[h,m]=g.useState(!1),[x,y]=g.useState(null),[w,j]=g.useState(!1),[v]=g.useState(window.innerWidth<768),[N,T]=g.useState(()=>{const P=localStorage.getItem("sidebarOpen");return P?JSON.parse(P):!1}),S=jt(),O=g.useRef(null),[_,A]=g.useState(!1),E=g.useMemo(()=>[{id:"troubleitem",name:"Trouble Item"},{id:"description",name:"Description"}],[]),D=g.useCallback(async()=>{try{i(!0);const F=[...await r()].sort((X,te)=>X.id-te.id);e(F)}catch(P){l("Failed to load trouble items"),console.error("Error loading trouble items:",P)}finally{i(!1)}},[r]);g.useEffect(()=>{D()},[D]);const $=()=>{const P=!N;T(P),localStorage.setItem("sidebarOpen",JSON.stringify(P))},I=()=>{alert("Import functionality is not yet implemented.")},L=P=>{const F=P.target.value;d(F)},R=g.useMemo(()=>{if(!c)return E;const P=c.toLowerCase();return E.filter(F=>F.name.toLowerCase().includes(P))},[c,E]),z=P=>{var F;d(`${P}: `),A(!1),(F=O.current)==null||F.focus()},Y=g.useMemo(()=>{if(!c.trim())return t;const P=c.toLowerCase().trim(),F=P.split(":");let X="all",te=P;return F.length>1&&E.some(q=>q.name.toLowerCase()===F[0].trim())&&(X=F[0].trim(),te=F.slice(1).join(":").trim()),t.filter(q=>{var oe,le;const Z=(oe=q.name)==null?void 0:oe.toLowerCase().includes(te),ie=(le=q.description)==null?void 0:le.toLowerCase().includes(te);return X==="trouble item"?Z:X==="description"?ie:Z||ie})},[t,c,E]),W=async P=>{try{await n(P),e(t.filter(F=>F.id!==P)),m(!1),y(null)}catch(F){console.error("Failed to delete trouble item:",F),l("Failed to delete trouble item. Please try again.")}},H=g.useCallback(P=>{y(P),m(!0)},[]);return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Mt,{mainTitle:"Trouble Item",mainTitleHighlight:"Page",description:"Manage trouble items and their configurations within the system.",icon:a.jsx(er,{}),isMobile:v,toggleSidebar:$}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Trouble Item ",a.jsx("span",{className:"text-blue-600",children:"Management"})]}),a.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Organize and manage trouble items by specific company requirements."})]}),a.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[a.jsxs(C.button,{onClick:()=>S("/maintenanceactivity/troubleitem/addtroubleitem"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[a.jsx(Jn,{className:"text-base"}),a.jsx("span",{children:"Add Trouble Item"})]}),a.jsxs(C.button,{onClick:I,whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(Ja,{className:"text-base"}),a.jsx("span",{children:"Import"})]}),a.jsxs(C.button,{onClick:()=>j(!w),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(Xa,{className:"text-base"}),a.jsx("span",{children:"Filters"}),a.jsx(C.span,{animate:{rotate:w?180:0},transition:{duration:.2},children:a.jsx(cn,{className:"text-base"})})]})]})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:a.jsx(ULe,{title:"Total Trouble Items",value:t.length.toString(),change:`+${Math.floor(t.length/10*100)}%`,icon:a.jsx(er,{className:"w-6 h-6"})})}),a.jsxs(C.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[a.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Wn,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),a.jsx("input",{ref:O,type:"text",placeholder:"Search by trouble item or description...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:c,onChange:L,onFocus:()=>A(!0),"aria-label":"Search trouble items"}),a.jsx(kt,{children:_&&R.length>0&&a.jsx(C.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.15},className:"search-suggestions absolute left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-10 max-h-56 overflow-y-auto custom-scrollbar",children:R.map(P=>a.jsx(C.button,{onClick:()=>z(P.name),whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},className:"w-full text-left p-3 text-gray-700 hover:text-blue-700 transition-colors duration-150 text-sm",role:"option",children:a.jsx("span",{className:"font-semibold",children:P.name})},P.id))})})]})}),a.jsx(kt,{children:w&&a.jsx(C.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full"})})]}),s?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),a.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading trouble item data..."})]}):Y.length===0?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("p",{className:"text-gray-700 text-base font-medium",children:c?"No trouble items found matching your search.":"No trouble items available."}),c&&a.jsx("button",{onClick:()=>d(""),className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear Search"})]}):a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:a.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:a.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[a.jsx("thead",{className:"bg-blue-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Trouble Item"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Description"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:Y.map((P,F)=>a.jsxs(C.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:F+1})}),a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:P.name})}),a.jsx("td",{className:"px-5 py-3",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:P.description||"-"})}),a.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>S(`/maintenanceactivity/troubleitem/edittroubleitem/${P.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit",children:a.jsx(Bn,{className:"inline text-base"})}),a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>H(P.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:a.jsx(dn,{className:"inline text-base"})})]})]},P.id))})]})})})]})]}),a.jsx(qLe,{isOpen:h,onClose:()=>m(!1),title:"Confirm Deletion",children:a.jsxs("div",{className:"space-y-5 text-center py-3",children:[a.jsx(er,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),a.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this trouble item? This action cannot be undone."}),a.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>m(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>x&&W(x),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})]})},YLe=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(C.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(at,{size:24})})]}),a.jsx("div",{children:n})]})}):null,kz=()=>{const[t,e]=g.useState(window.innerWidth<768),[r,n]=g.useState([]),[s,i]=g.useState([]),{addTroubleItem:o,getTroubleItem:l}=St(),[c,d]=g.useState(()=>{const I=localStorage.getItem("sidebarOpen");return I?JSON.parse(I):!1}),[h,m]=g.useState(null),[x,y]=g.useState(null),[w,j]=g.useState(!1),[v,N]=g.useState(!1),T=jt(),[S,O]=g.useState({name:"",description:""}),_=()=>{d(I=>!I)},A=I=>{const{name:L,value:R}=I.target;O(z=>({...z,[L]:L==="sla"?Number(R):R}))},E=g.useCallback(async()=>{try{const[I]=await Promise.all([l()]);n(I)}catch(I){m(I.message||"Failed to load form data")}},[l]);g.useEffect(()=>{E()},[E]);const D=async I=>{I.preventDefault(),N(!0),m(null);try{const L={name:S.name,description:S.description};await o(L),y("Trouble Item created successfully!"),j(!0)}catch(L){m(L.message||"Failed to create Trouble Item")}finally{N(!1)}},$=()=>{j(!1),T("/maintenanceactivity/troubleitem")};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Mt,{mainTitle:"Create Trouble Item",mainTitleHighlight:"Management",description:"blablablabl",icon:a.jsx(er,{}),isMobile:t,toggleSidebar:_}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Trouble Item"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Add a new Trouble Item information"})]}),a.jsxs(C.button,{onClick:()=>T("/maintenanceactivity/troubleitem"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(kr,{className:"text-lg"})," Back to Trouble Item Management"]})]}),a.jsxs(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[h&&a.jsxs(C.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:h}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(at,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>m(null)})})]}),a.jsxs("form",{onSubmit:D,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Trouble Item Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Trouble Item Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"name",id:"name",value:S.name,onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"description",id:"description",value:S.description,onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsx(C.button,{type:"button",onClick:()=>T("/maintenanceactivity/troubleitem"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),a.jsx(C.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:v,children:v?a.jsxs(a.Fragment,{children:[a.jsx(mr,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Ar,{className:"mr-2 h-5 w-5"})," Save Trouble Item"]})})]})]})]})]})]}),a.jsx(YLe,{isOpen:w,onClose:$,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx($t,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:x}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:$,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Trouble Item Management"})]})})]})},KLe=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(C.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(at,{size:24})})]}),a.jsx("div",{children:n})]})}):null,XLe=()=>{const[t,e]=g.useState(window.innerWidth<768),[r,n]=g.useState([]),[s,i]=g.useState([]),{addWorkUnit:o,getWorkUnit:l}=St(),[c,d]=g.useState(()=>{const I=localStorage.getItem("sidebarOpen");return I?JSON.parse(I):!1}),[h,m]=g.useState(null),[x,y]=g.useState(null),[w,j]=g.useState(!1),[v,N]=g.useState(!1),T=jt(),[S,O]=g.useState({name:"",is_production:"",description:""}),_=()=>{d(I=>!I)},A=I=>{const{name:L,value:R}=I.target;O(z=>({...z,[L]:L==="sla"?Number(R):R}))},E=g.useCallback(async()=>{try{const[I]=await Promise.all([l()]);n(I)}catch(I){m(I.message||"Failed to load form data")}},[l]);g.useEffect(()=>{E()},[E]);const D=async I=>{I.preventDefault(),N(!0),m(null);try{const L={name:S.name,is_production:S.is_production,description:S.description};await o(L),y("Work Unit created successfully!"),j(!0)}catch(L){m(L.message||"Failed to create Work Unit")}finally{N(!1)}},$=()=>{j(!1),T("/worklocation/workunit")};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Mt,{mainTitle:"Create Work Unit",mainTitleHighlight:"Management",description:"blablablabl",icon:a.jsx(Df,{}),isMobile:t,toggleSidebar:_}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Work Unit"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Add a new Work Unit information"})]}),a.jsxs(C.button,{onClick:()=>T("/worklocation/workunit"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(kr,{className:"text-lg"})," Back to Work Unit Management"]})]}),a.jsxs(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[h&&a.jsxs(C.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:h}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(at,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>m(null)})})]}),a.jsxs("form",{onSubmit:D,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Work Unit Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Work Unit Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"name",id:"name",value:S.name,onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"is_production",className:"block text-sm font-medium text-gray-700 mb-1",children:["Zone ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{name:"is_production",id:"is_production",value:S.is_production,onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0,children:[a.jsx("option",{value:"Production",children:"Production"}),a.jsx("option",{value:"Not Production",children:"Not Production"})]})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Ol,{value:S.description,onChange:I=>{O(L=>({...L,description:I}))}})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsx(C.button,{type:"button",onClick:()=>T("/worklocation/workunit"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),a.jsx(C.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:v,children:v?a.jsxs(a.Fragment,{children:[a.jsx(mr,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Ar,{className:"mr-2 h-5 w-5"})," Save Work Unit"]})})]})]})]})]})]}),a.jsx(KLe,{isOpen:w,onClose:$,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx($t,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:x}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:$,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Work Unit Management"})]})})]})},JLe=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(C.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(at,{size:24})})]}),a.jsx("div",{children:n})]})}):null,QLe=()=>{const{id:t}=Ta(),[e,r]=g.useState(window.innerWidth<768),[n,s]=g.useState([]),[i,o]=g.useState(),{getWorkUnit:l,updateWorkUnit:c,getWorkUnitById:d}=St(),[h,m]=g.useState(()=>{const R=localStorage.getItem("sidebarOpen");return R?JSON.parse(R):!1}),[x,y]=g.useState(null),[w,j]=g.useState(null),[v,N]=g.useState(!1),[T,S]=g.useState(!1),O=jt(),[_,A]=g.useState({name:"",is_production:"",description:""}),E=()=>{m(R=>!R)};g.useEffect(()=>{i&&A({name:i.name||"",is_production:i.is_production||"",description:i.description||""})},[i]);const D=R=>{const{name:z,value:Y}=R.target;A(W=>({...W,[z]:z==="sla"?Number(Y):Y}))},$=g.useCallback(async()=>{try{if(t){const[R]=await Promise.all([d(t)]);o(R)}}catch(R){y(R.message||"Failed to load form data")}},[t,d]);g.useEffect(()=>{t&&$()},[t,$]);const I=async R=>{R.preventDefault(),S(!0),y(null);try{const z={name:_.name,is_production:_.is_production,description:_.description};await c(t,z),j("Work Unit update successfully!"),N(!0)}catch(z){y(z.message||"Failed to update Work Unit")}finally{S(!1)}},L=()=>{N(!1),O("/worklocation/workunit")};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Mt,{mainTitle:"Edit Work Unit",mainTitleHighlight:"Management",description:"blablablabl",icon:a.jsx(Df,{}),isMobile:e,toggleSidebar:E}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Work Unit"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Update Work Unit information"})]}),a.jsxs(C.button,{onClick:()=>O("/worklocation/workunit"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(kr,{className:"text-lg"})," Back to Work Unit Management"]})]}),a.jsxs(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[x&&a.jsxs(C.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:x}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(at,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>y(null)})})]}),a.jsxs("form",{onSubmit:I,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Work Unit Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Work Unit Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"name",id:"name",value:_.name,onChange:D,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"is_production",className:"block text-sm font-medium text-gray-700 mb-1",children:["Zone ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{name:"is_production",id:"is_production",value:_.is_production,onChange:D,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0,children:[a.jsx("option",{value:"Production",children:"Production"}),a.jsx("option",{value:"Not Production",children:"Not Production"})]})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"description",id:"description",value:_.description,onChange:D,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsx(C.button,{type:"button",onClick:()=>O("/worklocation/workunit"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),a.jsx(C.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:T,children:T?a.jsxs(a.Fragment,{children:[a.jsx(mr,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Ar,{className:"mr-2 h-5 w-5"})," Save Work Unit"]})})]})]})]})]})]}),a.jsx(JLe,{isOpen:v,onClose:L,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx($t,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:w}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:L,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Work Unit Management"})]})})]})},ZLe=({isOpen:t,onClose:e,title:r,children:n,className:s})=>a.jsx(kt,{children:t&&a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:a.jsxs(C.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${s||"max-w-xl w-full"}`,children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:r}),a.jsx("button",{onClick:e,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:a.jsx(at,{className:"text-xl"})})]}),a.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:n})]})})}),Cz=({title:t,value:e,change:r,icon:n})=>{const s=r.startsWith("+");return a.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),a.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),a.jsxs("p",{className:`mt-3 text-xs font-semibold ${s?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})},e7e=()=>{const[t,e]=g.useState([]),{getWorkUnit:r,deleteWorkUnit:n}=St(),[s,i]=g.useState(!0),[o,l]=g.useState(null),[c,d]=g.useState(""),[h,m]=g.useState(!1),[x,y]=g.useState(null),[w,j]=g.useState(!1),[v]=g.useState(window.innerWidth<768),[N,T]=g.useState(()=>{const P=localStorage.getItem("sidebarOpen");return P?JSON.parse(P):!1}),S=jt(),O=g.useRef(null),[_,A]=g.useState(!1),E=g.useMemo(()=>[{id:"workunit",name:"Work Unit"},{id:"description",name:"Description"}],[]),D=g.useCallback(async()=>{try{i(!0);const F=[...await r()].sort((X,te)=>X.id-te.id);e(F)}catch(P){l("Failed to load work units"),console.error("Error loading work units:",P)}finally{i(!1)}},[r]);g.useEffect(()=>{D()},[D]);const $=()=>{const P=!N;T(P),localStorage.setItem("sidebarOpen",JSON.stringify(P))},I=()=>{alert("Import functionality is not yet implemented.")},L=P=>{const F=P.target.value;d(F)},R=g.useMemo(()=>{if(!c)return E;const P=c.toLowerCase();return E.filter(F=>F.name.toLowerCase().includes(P))},[c,E]),z=P=>{var F;d(`${P}: `),A(!1),(F=O.current)==null||F.focus()},Y=g.useMemo(()=>{if(!c.trim())return t;const P=c.toLowerCase().trim(),F=P.split(":");let X="all",te=P;return F.length>1&&E.some(q=>q.name.toLowerCase()===F[0].trim())&&(X=F[0].trim(),te=F.slice(1).join(":").trim()),t.filter(q=>{var oe,le;const Z=(oe=q.name)==null?void 0:oe.toLowerCase().includes(te),ie=(le=q.description)==null?void 0:le.toLowerCase().includes(te);return X==="work unit"?Z:X==="description"?ie:Z||ie})},[t,c,E]),W=async P=>{try{await n(P),e(t.filter(F=>F.id!==P)),m(!1),y(null)}catch(F){console.error("Failed to delete work unit:",F),l("Failed to delete work unit. Please try again.")}},H=g.useCallback(P=>{y(P),m(!0)},[]);return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Mt,{mainTitle:"Work Unit",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:a.jsx(Df,{}),isMobile:v,toggleSidebar:$}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Work Unit ",a.jsx("span",{className:"text-blue-600",children:"Management"})]}),a.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Organize and manage work units by specific company requirements."})]}),a.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[a.jsxs(C.button,{onClick:()=>S("/worklocation/workunit/addworkunit"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[a.jsx(Jn,{className:"text-base"}),a.jsx("span",{children:"Add Work Unit"})]}),a.jsxs(C.button,{onClick:I,whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(Ja,{className:"text-base"}),a.jsx("span",{children:"Import"})]}),a.jsxs(C.button,{onClick:()=>j(!w),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(Xa,{className:"text-base"}),a.jsx("span",{children:"Filters"}),a.jsx(C.span,{animate:{rotate:w?180:0},transition:{duration:.2},children:a.jsx(cn,{className:"text-base"})})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[a.jsx(Cz,{title:"Total Work Units",value:t.length.toString(),change:`+${Math.floor(t.length/10*100)}%`,icon:a.jsx(Df,{className:"w-6 h-6"})}),a.jsx(Cz,{title:"Production Units",value:t.filter(P=>String(P.is_production)==="1").length.toString(),change:`+${Math.floor(t.filter(P=>String(P.is_production)==="1").length/t.length*100)}%`,icon:a.jsx(Df,{className:"w-6 h-6"})})]}),a.jsxs(C.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[a.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Wn,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),a.jsx("input",{ref:O,type:"text",placeholder:"Search by work unit or description...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:c,onChange:L,onFocus:()=>A(!0),"aria-label":"Search work units"}),a.jsx(kt,{children:_&&R.length>0&&a.jsx(C.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.15},className:"search-suggestions absolute left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-10 max-h-56 overflow-y-auto custom-scrollbar",children:R.map(P=>a.jsx(C.button,{onClick:()=>z(P.name),whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},className:"w-full text-left p-3 text-gray-700 hover:text-blue-700 transition-colors duration-150 text-sm",role:"option",children:a.jsx("span",{className:"font-semibold",children:P.name})},P.id))})})]})}),a.jsx(kt,{children:w&&a.jsx(C.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full"})})]}),s?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),a.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading work unit data..."})]}):Y.length===0?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("p",{className:"text-gray-700 text-base font-medium",children:c?"No work units found matching your search.":"No work units available."}),c&&a.jsx("button",{onClick:()=>d(""),className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear Search"})]}):a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:a.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:a.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[a.jsx("thead",{className:"bg-blue-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Work Unit"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Production?"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Description"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:Y.map((P,F)=>a.jsxs(C.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:F+1})}),a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:P.name})}),a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:String(P.is_production)==="1"?"Yes":"No"})}),a.jsx("td",{className:"px-5 py-3",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:P.description||"-"})}),a.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>S(`/worklocation/workunit/editworkunit/${P.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit",children:a.jsx(Bn,{className:"inline text-base"})}),a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>H(P.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:a.jsx(dn,{className:"inline text-base"})})]})]},P.id))})]})})})]})]}),a.jsx(ZLe,{isOpen:h,onClose:()=>m(!1),title:"Confirm Deletion",children:a.jsxs("div",{className:"space-y-5 text-center py-3",children:[a.jsx(er,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),a.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this work unit? This action cannot be undone."}),a.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>m(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>x&&W(x),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})]})},t7e=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(C.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(at,{size:24})})]}),a.jsx("div",{children:n})]})}):null,Tz=()=>{const{id:t}=Ta(),[e,r]=g.useState(window.innerWidth<768),[n,s]=g.useState([]),[i,o]=g.useState(),{getWorkGroup:l,updateWorkGroup:c,getWorkGroupById:d}=St(),[h,m]=g.useState(()=>{const R=localStorage.getItem("sidebarOpen");return R?JSON.parse(R):!1}),[x,y]=g.useState(null),[w,j]=g.useState(null),[v,N]=g.useState(!1),[T,S]=g.useState(!1),O=jt(),[_,A]=g.useState({name:"",description:""}),E=()=>{m(R=>!R)};g.useEffect(()=>{i&&A({name:i.name||"",description:i.description||""})},[i]);const D=R=>{const{name:z,value:Y}=R.target;A(W=>({...W,[z]:z==="sla"?Number(Y):Y}))},$=g.useCallback(async()=>{try{if(t){const[R]=await Promise.all([d(t)]);o(R)}}catch(R){y(R.message||"Failed to load form data")}},[t,d]);g.useEffect(()=>{t&&$()},[t,$]);const I=async R=>{R.preventDefault(),S(!0),y(null);try{const z={name:_.name,description:_.description};await c(t,z),j("Work Group update successfully!"),N(!0)}catch(z){y(z.message||"Failed to update Work Group")}finally{S(!1)}},L=()=>{N(!1),O("/workarrangement/workgroup")};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Mt,{mainTitle:"Edit Work Group",mainTitleHighlight:"Management",description:"blablablabl",icon:a.jsx(xa,{}),isMobile:e,toggleSidebar:E}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Work Group"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Update Work Group information"})]}),a.jsxs(C.button,{onClick:()=>O("/workarrangement/workgroup"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(kr,{className:"text-lg"})," Back to Work Group Management"]})]}),a.jsxs(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[x&&a.jsxs(C.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:x}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(at,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>y(null)})})]}),a.jsxs("form",{onSubmit:I,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Work Group Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Work Group Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"name",id:"name",value:_.name,onChange:D,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"description",id:"description",value:_.description,onChange:D,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsx(C.button,{type:"button",onClick:()=>O("/workarrangement/workgroup"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),a.jsx(C.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:T,children:T?a.jsxs(a.Fragment,{children:[a.jsx(mr,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Ar,{className:"mr-2 h-5 w-5"})," Save Work Group"]})})]})]})]})]})]}),a.jsx(t7e,{isOpen:v,onClose:L,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx($t,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:w}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:L,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Work Group Management"})]})})]})},r7e=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(C.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(at,{size:24})})]}),a.jsx("div",{children:n})]})}):null,_z=()=>{const[t,e]=g.useState(window.innerWidth<768),[r,n]=g.useState([]),[s,i]=g.useState([]),{addWorkGroup:o,getWorkGroup:l}=St(),[c,d]=g.useState(()=>{const I=localStorage.getItem("sidebarOpen");return I?JSON.parse(I):!1}),[h,m]=g.useState(null),[x,y]=g.useState(null),[w,j]=g.useState(!1),[v,N]=g.useState(!1),T=jt(),[S,O]=g.useState({name:"",description:""}),_=()=>{d(I=>!I)},A=I=>{const{name:L,value:R}=I.target;O(z=>({...z,[L]:L==="sla"?Number(R):R}))},E=g.useCallback(async()=>{try{const[I]=await Promise.all([l()]);n(I)}catch(I){m(I.message||"Failed to load form data")}},[l]);g.useEffect(()=>{E()},[E]);const D=async I=>{I.preventDefault(),N(!0),m(null);try{const L={name:S.name,description:S.description};await o(L),y("Work Group created successfully!"),j(!0)}catch(L){m(L.message||"Failed to create Work Group")}finally{N(!1)}},$=()=>{j(!1),T("/maintenanceactivity/activity")};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Mt,{mainTitle:"Create Work Group",mainTitleHighlight:"Management",description:"blablablabl",icon:a.jsx(xa,{}),isMobile:t,toggleSidebar:_}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Work Group"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Add a new Work Group information"})]}),a.jsxs(C.button,{onClick:()=>T("/workarrangement/workgroup"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(kr,{className:"text-lg"})," Back to Work Group Management"]})]}),a.jsxs(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[h&&a.jsxs(C.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:h}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(at,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>m(null)})})]}),a.jsxs("form",{onSubmit:D,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Work Group Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Work Group Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"name",id:"name",value:S.name,onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"description",id:"description",value:S.description,onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsx(C.button,{type:"button",onClick:()=>T("/workarrangement/workgroup"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),a.jsx(C.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:v,children:v?a.jsxs(a.Fragment,{children:[a.jsx(mr,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Ar,{className:"mr-2 h-5 w-5"})," Save Work Group"]})})]})]})]})]})]}),a.jsx(r7e,{isOpen:w,onClose:$,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx($t,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:x}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:$,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Work Group Management"})]})})]})},n7e=({isOpen:t,onClose:e,title:r,children:n,className:s})=>a.jsx(kt,{children:t&&a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:a.jsxs(C.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${s||"max-w-xl w-full"}`,children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:r}),a.jsx("button",{onClick:e,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:a.jsx(at,{className:"text-xl"})})]}),a.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:n})]})})}),Mz=({title:t,value:e,change:r,icon:n})=>{const s=r.startsWith("+");return a.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),a.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),a.jsxs("p",{className:`mt-3 text-xs font-semibold ${s?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})},Az=()=>{const[t,e]=g.useState([]),{getWorkGroup:r,deleteWorkGroup:n}=St(),[s,i]=g.useState(!0),[o,l]=g.useState(null),[c,d]=g.useState(""),[h,m]=g.useState(!1),[x,y]=g.useState(null),[w,j]=g.useState(!1),[v]=g.useState(window.innerWidth<768),[N,T]=g.useState(()=>{const P=localStorage.getItem("sidebarOpen");return P?JSON.parse(P):!1}),S=jt(),O=g.useRef(null),[_,A]=g.useState(!1),E=g.useMemo(()=>[{id:"workgroup",name:"Work Group"},{id:"description",name:"Description"}],[]),D=g.useCallback(async()=>{try{i(!0);const F=[...await r()].sort((X,te)=>X.id-te.id);e(F)}catch(P){l("Failed to load work groups"),console.error("Error loading work groups:",P)}finally{i(!1)}},[r]);g.useEffect(()=>{D()},[D]);const $=()=>{const P=!N;T(P),localStorage.setItem("sidebarOpen",JSON.stringify(P))},I=()=>{alert("Import functionality is not yet implemented.")},L=P=>{const F=P.target.value;d(F)},R=g.useMemo(()=>{if(!c)return E;const P=c.toLowerCase();return E.filter(F=>F.name.toLowerCase().includes(P))},[c,E]),z=P=>{var F;d(`${P}: `),A(!1),(F=O.current)==null||F.focus()},Y=g.useMemo(()=>{if(!c.trim())return t;const P=c.toLowerCase().trim(),F=P.split(":");let X="all",te=P;return F.length>1&&E.some(q=>q.name.toLowerCase()===F[0].trim())&&(X=F[0].trim(),te=F.slice(1).join(":").trim()),t.filter(q=>{var oe,le;const Z=(oe=q.name)==null?void 0:oe.toLowerCase().includes(te),ie=(le=q.description)==null?void 0:le.toLowerCase().includes(te);return X==="work group"?Z:X==="description"?ie:Z||ie})},[t,c,E]),W=async P=>{try{await n(P),e(t.filter(F=>F.id!==P)),m(!1),y(null)}catch(F){console.error("Failed to delete work group:",F),l("Failed to delete work group. Please try again.")}},H=g.useCallback(P=>{y(P),m(!0)},[]);return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Mt,{mainTitle:"Work Group",mainTitleHighlight:"Page",description:"Manage work groups and their configurations within the system.",icon:a.jsx(xa,{}),isMobile:v,toggleSidebar:$}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Work Group ",a.jsx("span",{className:"text-blue-600",children:"Management"})]}),a.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Organize and manage work groups by specific company requirements."})]}),a.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[a.jsxs(C.button,{onClick:()=>S("/workarrangement/workgroup/addworkgroup"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[a.jsx(Jn,{className:"text-base"}),a.jsx("span",{children:"Add Work Group"})]}),a.jsxs(C.button,{onClick:I,whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(Ja,{className:"text-base"}),a.jsx("span",{children:"Import"})]}),a.jsxs(C.button,{onClick:()=>j(!w),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(Xa,{className:"text-base"}),a.jsx("span",{children:"Filters"}),a.jsx(C.span,{animate:{rotate:w?180:0},transition:{duration:.2},children:a.jsx(cn,{className:"text-base"})})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[a.jsx(Mz,{title:"Total Work Groups",value:t.length.toString(),change:`+${Math.floor(t.length/10*100)}%`,icon:a.jsx(xa,{className:"w-6 h-6"})}),a.jsx(Mz,{title:"Active Groups",value:t.filter(P=>P.description&&P.description.length>0).length.toString(),change:`+${Math.floor(t.filter(P=>P.description&&P.description.length>0).length/t.length*100)}%`,icon:a.jsx(xa,{className:"w-6 h-6"})})]}),a.jsxs(C.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[a.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Wn,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),a.jsx("input",{ref:O,type:"text",placeholder:"Search by work group or description...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:c,onChange:L,onFocus:()=>A(!0),"aria-label":"Search work groups"}),a.jsx(kt,{children:_&&R.length>0&&a.jsx(C.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.15},className:"search-suggestions absolute left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-10 max-h-56 overflow-y-auto custom-scrollbar",children:R.map(P=>a.jsx(C.button,{onClick:()=>z(P.name),whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},className:"w-full text-left p-3 text-gray-700 hover:text-blue-700 transition-colors duration-150 text-sm",role:"option",children:a.jsx("span",{className:"font-semibold",children:P.name})},P.id))})})]})}),a.jsx(kt,{children:w&&a.jsx(C.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full"})})]}),s?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),a.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading work group data..."})]}):Y.length===0?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("p",{className:"text-gray-700 text-base font-medium",children:c?"No work groups found matching your search.":"No work groups available."}),c&&a.jsx("button",{onClick:()=>d(""),className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear Search"})]}):a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:a.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:a.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[a.jsx("thead",{className:"bg-blue-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Work Group"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Description"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:Y.map((P,F)=>a.jsxs(C.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:F+1})}),a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:P.name})}),a.jsx("td",{className:"px-5 py-3",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:P.description||"-"})}),a.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>S(`/workarrangement/workgroup/editworkgroup/${P.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit",children:a.jsx(Bn,{className:"inline text-base"})}),a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>H(P.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:a.jsx(dn,{className:"inline text-base"})})]})]},P.id))})]})})})]})]}),a.jsx(n7e,{isOpen:h,onClose:()=>m(!1),title:"Confirm Deletion",children:a.jsxs("div",{className:"space-y-5 text-center py-3",children:[a.jsx(er,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),a.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this work group? This action cannot be undone."}),a.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>m(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>x&&W(x),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})]})},a7e=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(C.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(at,{size:24})})]}),a.jsx("div",{children:n})]})}):null,s7e=()=>{const{id:t}=Ta(),[e,r]=g.useState(window.innerWidth<768),[n,s]=g.useState([]),[i,o]=g.useState(),{getWorkShift:l,updateWorkShift:c,getWorkShiftById:d}=St(),[h,m]=g.useState(()=>{const R=localStorage.getItem("sidebarOpen");return R?JSON.parse(R):!1}),[x,y]=g.useState(null),[w,j]=g.useState(null),[v,N]=g.useState(!1),[T,S]=g.useState(!1),O=jt(),[_,A]=g.useState({name:"",description:""}),E=()=>{m(R=>!R)};g.useEffect(()=>{i&&A({name:i.name||"",description:i.description||""})},[i]);const D=R=>{const{name:z,value:Y}=R.target;A(W=>({...W,[z]:z==="sla"?Number(Y):Y}))},$=g.useCallback(async()=>{try{if(t){const[R]=await Promise.all([d(t)]);o(R)}}catch(R){y(R.message||"Failed to load form data")}},[t,d]);g.useEffect(()=>{t&&$()},[t,$]);const I=async R=>{R.preventDefault(),S(!0),y(null);try{const z={name:_.name,description:_.description};await c(t,z),j("Work Shift update successfully!"),N(!0)}catch(z){y(z.message||"Failed to update Work Shift")}finally{S(!1)}},L=()=>{N(!1),O("/workarrangement/workshift")};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Mt,{mainTitle:"Edit Work Shift",mainTitleHighlight:"Management",description:"blablablabl",icon:a.jsx(Lt,{}),isMobile:e,toggleSidebar:E}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Work Shift"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Update Work Shift information"})]}),a.jsxs(C.button,{onClick:()=>O("/workarrangement/workshift"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(kr,{className:"text-lg"})," Back to Work Shift Management"]})]}),a.jsxs(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[x&&a.jsxs(C.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:x}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(at,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>y(null)})})]}),a.jsxs("form",{onSubmit:I,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Work Shift Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Work Shift Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"name",id:"name",value:_.name,onChange:D,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"description",id:"description",value:_.description,onChange:D,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsx(C.button,{type:"button",onClick:()=>O("/workarrangement/workshift"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),a.jsx(C.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:T,children:T?a.jsxs(a.Fragment,{children:[a.jsx(mr,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Ar,{className:"mr-2 h-5 w-5"})," Save Work Shift"]})})]})]})]})]})]}),a.jsx(a7e,{isOpen:v,onClose:L,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx($t,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:w}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:L,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Work Shift Management"})]})})]})},i7e=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(C.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(at,{size:24})})]}),a.jsx("div",{children:n})]})}):null,o7e=()=>{const[t,e]=g.useState(window.innerWidth<768),[r,n]=g.useState([]),[s,i]=g.useState([]),{addWorkShift:o,getWorkShift:l}=St(),[c,d]=g.useState(()=>{const I=localStorage.getItem("sidebarOpen");return I?JSON.parse(I):!1}),[h,m]=g.useState(null),[x,y]=g.useState(null),[w,j]=g.useState(!1),[v,N]=g.useState(!1),T=jt(),[S,O]=g.useState({name:"",description:""}),_=()=>{d(I=>!I)},A=I=>{const{name:L,value:R}=I.target;O(z=>({...z,[L]:L==="sla"?Number(R):R}))},E=g.useCallback(async()=>{try{const[I]=await Promise.all([l()]);n(I)}catch(I){m(I.message||"Failed to load form data")}},[l]);g.useEffect(()=>{E()},[E]);const D=async I=>{I.preventDefault(),N(!0),m(null);try{const L={name:S.name,description:S.description};await o(L),y("Work Shift created successfully!"),j(!0)}catch(L){m(L.message||"Failed to create Work Shift")}finally{N(!1)}},$=()=>{j(!1),T("/workarrangement/workshift")};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Mt,{mainTitle:"Create Work Shift",mainTitleHighlight:"Management",description:"blablablabl",icon:a.jsx(Lt,{}),isMobile:t,toggleSidebar:_}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Work Shift"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Add a new Work Shift information"})]}),a.jsxs(C.button,{onClick:()=>T("/workarrangement/workshift"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(kr,{className:"text-lg"})," Back to Work Shift Management"]})]}),a.jsxs(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[h&&a.jsxs(C.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:h}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(at,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>m(null)})})]}),a.jsxs("form",{onSubmit:D,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Work Shift Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Work Shift Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"name",id:"name",value:S.name,onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"description",id:"description",value:S.description,onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsx(C.button,{type:"button",onClick:()=>T("/workarrangement/workshift"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),a.jsx(C.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:v,children:v?a.jsxs(a.Fragment,{children:[a.jsx(mr,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Ar,{className:"mr-2 h-5 w-5"})," Save Work Shift"]})})]})]})]})]})]}),a.jsx(i7e,{isOpen:w,onClose:$,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx($t,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:x}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:$,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Work Shift Management"})]})})]})},l7e=({isOpen:t,onClose:e,title:r,children:n,className:s})=>a.jsx(kt,{children:t&&a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:a.jsxs(C.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${s||"max-w-xl w-full"}`,children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:r}),a.jsx("button",{onClick:e,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:a.jsx(at,{className:"text-xl"})})]}),a.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:n})]})})}),Oz=({title:t,value:e,change:r,icon:n})=>{const s=r.startsWith("+");return a.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),a.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),a.jsxs("p",{className:`mt-3 text-xs font-semibold ${s?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})},c7e=()=>{const[t,e]=g.useState([]),{getWorkShift:r,deleteWorkShift:n}=St(),[s,i]=g.useState(!0),[o,l]=g.useState(null),[c,d]=g.useState(""),[h,m]=g.useState(!1),[x,y]=g.useState(null),[w,j]=g.useState(!1),[v]=g.useState(window.innerWidth<768),[N,T]=g.useState(()=>{const P=localStorage.getItem("sidebarOpen");return P?JSON.parse(P):!1}),S=jt(),O=g.useRef(null),[_,A]=g.useState(!1),E=g.useMemo(()=>[{id:"workshift",name:"Work Shift"},{id:"description",name:"Description"}],[]),D=g.useCallback(async()=>{try{i(!0);const F=[...await r()].sort((X,te)=>X.id-te.id);e(F)}catch(P){l("Failed to load work shifts"),console.error("Error loading work shifts:",P)}finally{i(!1)}},[r]);g.useEffect(()=>{D()},[D]);const $=()=>{const P=!N;T(P),localStorage.setItem("sidebarOpen",JSON.stringify(P))},I=()=>{alert("Import functionality is not yet implemented.")},L=P=>{const F=P.target.value;d(F)},R=g.useMemo(()=>{if(!c)return E;const P=c.toLowerCase();return E.filter(F=>F.name.toLowerCase().includes(P))},[c,E]),z=P=>{var F;d(`${P}: `),A(!1),(F=O.current)==null||F.focus()},Y=g.useMemo(()=>{if(!c.trim())return t;const P=c.toLowerCase().trim(),F=P.split(":");let X="all",te=P;return F.length>1&&E.some(q=>q.name.toLowerCase()===F[0].trim())&&(X=F[0].trim(),te=F.slice(1).join(":").trim()),t.filter(q=>{var oe,le;const Z=(oe=q.name)==null?void 0:oe.toLowerCase().includes(te),ie=(le=q.description)==null?void 0:le.toLowerCase().includes(te);return X==="work shift"?Z:X==="description"?ie:Z||ie})},[t,c,E]),W=async P=>{try{await n(P),e(t.filter(F=>F.id!==P)),m(!1),y(null)}catch(F){console.error("Failed to delete work shift:",F),l("Failed to delete work shift. Please try again.")}},H=g.useCallback(P=>{y(P),m(!0)},[]);return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Mt,{mainTitle:"Work Shift",mainTitleHighlight:"Page",description:"Manage work shifts and their configurations within the system.",icon:a.jsx(Lt,{}),isMobile:v,toggleSidebar:$}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Work Shift ",a.jsx("span",{className:"text-blue-600",children:"Management"})]}),a.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Organize and manage work shifts by specific company requirements."})]}),a.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[a.jsxs(C.button,{onClick:()=>S("/workarrangement/workshift/addworkshift"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[a.jsx(Jn,{className:"text-base"}),a.jsx("span",{children:"Add Work Shift"})]}),a.jsxs(C.button,{onClick:I,whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(Ja,{className:"text-base"}),a.jsx("span",{children:"Import"})]}),a.jsxs(C.button,{onClick:()=>j(!w),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(Xa,{className:"text-base"}),a.jsx("span",{children:"Filters"}),a.jsx(C.span,{animate:{rotate:w?180:0},transition:{duration:.2},children:a.jsx(cn,{className:"text-base"})})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[a.jsx(Oz,{title:"Total Work Shifts",value:t.length.toString(),change:`+${Math.floor(t.length/10*100)}%`,icon:a.jsx(Lt,{className:"w-6 h-6"})}),a.jsx(Oz,{title:"Active Shifts",value:t.filter(P=>P.description&&P.description.length>0).length.toString(),change:`+${Math.floor(t.filter(P=>P.description&&P.description.length>0).length/t.length*100)}%`,icon:a.jsx(Lt,{className:"w-6 h-6"})})]}),a.jsxs(C.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[a.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Wn,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),a.jsx("input",{ref:O,type:"text",placeholder:"Search by work shift or description...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:c,onChange:L,onFocus:()=>A(!0),"aria-label":"Search work shifts"}),a.jsx(kt,{children:_&&R.length>0&&a.jsx(C.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.15},className:"search-suggestions absolute left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-10 max-h-56 overflow-y-auto custom-scrollbar",children:R.map(P=>a.jsx(C.button,{onClick:()=>z(P.name),whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},className:"w-full text-left p-3 text-gray-700 hover:text-blue-700 transition-colors duration-150 text-sm",role:"option",children:a.jsx("span",{className:"font-semibold",children:P.name})},P.id))})})]})}),a.jsx(kt,{children:w&&a.jsx(C.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full"})})]}),s?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),a.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading work shift data..."})]}):Y.length===0?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("p",{className:"text-gray-700 text-base font-medium",children:c?"No work shifts found matching your search.":"No work shifts available."}),c&&a.jsx("button",{onClick:()=>d(""),className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear Search"})]}):a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:a.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:a.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[a.jsx("thead",{className:"bg-blue-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Work Shift"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Description"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:Y.map((P,F)=>a.jsxs(C.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:F+1})}),a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:P.name})}),a.jsx("td",{className:"px-5 py-3",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:P.description||"-"})}),a.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>S(`/workarrangement/workshift/editworkshift/${P.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit",children:a.jsx(Bn,{className:"inline text-base"})}),a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>H(P.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:a.jsx(dn,{className:"inline text-base"})})]})]},P.id))})]})})})]})]}),a.jsx(l7e,{isOpen:h,onClose:()=>m(!1),title:"Confirm Deletion",children:a.jsxs("div",{className:"space-y-5 text-center py-3",children:[a.jsx(er,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),a.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this work shift? This action cannot be undone."}),a.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>m(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>x&&W(x),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})]})},u7e=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(C.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(at,{size:24})})]}),a.jsx("div",{children:n})]})}):null,d7e=()=>{const t=jt(),{getAllMasterMonitoring:e,addMonitoringSchedule:r,addMonitoringActivities:n,getMesinDetail:s}=St(),[i,o]=g.useState(window.innerWidth<768),[l,c]=g.useState(()=>{const oe=localStorage.getItem("sidebarOpen");return JSON.parse(oe||"false")}),d=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!l)),c(oe=>!oe)},[h,m]=g.useState(!1),[x,y]=g.useState(null),[w,j]=g.useState(null),[v,N]=g.useState(!1),[T,S]=g.useState(null),[O,_]=g.useState(!0),[A,E]=g.useState(1),[D,$]=g.useState({startDate:null,endDate:null,units:[]}),I={control:(oe,le)=>({...oe,minHeight:"42px",borderColor:le.isFocused?"#3B82F6":"#D1D5DB",boxShadow:le.isFocused?"0 0 0 1px #3B82F6":"none","&:hover":{borderColor:"#9CA3AF"},borderRadius:"0.5rem",backgroundColor:"#FFFFFF",padding:"0 0.5rem",transition:"all 0.15s ease-in-out"}),valueContainer:oe=>({...oe,padding:"0"}),singleValue:oe=>({...oe,color:"#374151"}),placeholder:oe=>({...oe,color:"#6B7280"}),dropdownIndicator:oe=>({...oe,color:"#9CA3AF"}),clearIndicator:oe=>({...oe,color:"#9CA3AF"}),menu:oe=>({...oe,zIndex:9999,borderRadius:"0.5rem",border:"1px solid #E5E7EB",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"}),option:(oe,le)=>({...oe,backgroundColor:le.isFocused?"#EFF6FF":"#FFFFFF",color:"#1F2937","&:active":{backgroundColor:"#DBEAFE"},padding:"0.625rem 1rem"})};g.useEffect(()=>{(async()=>{try{_(!0);const le=await e();S(le)}catch{y("Gagal memuat data master")}finally{_(!1)}})()},[e]);const L=g.useCallback(()=>{$(oe=>({...oe,units:[...oe.units,{id:0,name:"",machines:[]}]}))},[]),R=g.useCallback(oe=>{$(le=>({...le,units:le.units.filter((ge,Le)=>Le!==oe)}))},[]),z=g.useCallback((oe,le)=>{var ge;if(le){const Le=(ge=T==null?void 0:T.unitsWithMachines)==null?void 0:ge.find(Oe=>Oe.id===le.value);Le&&$(Oe=>{const xe=[...Oe.units];return xe[oe]={id:Le.id,name:Le.name,machines:[]},{...Oe,units:xe}})}else $(Le=>{const Oe=[...Le.units];return Oe[oe]={id:0,name:"",machines:[]},{...Le,units:Oe}})},[T]),Y=g.useCallback(oe=>{$(le=>{const ge=[...le.units];return ge[oe].machines=[...ge[oe].machines,{id:0,name:"",intervalId:null,items:[]}],{...le,units:ge}})},[]),W=g.useCallback((oe,le)=>{$(ge=>{const Le=[...ge.units];return Le[oe].machines=Le[oe].machines.filter((Oe,xe)=>xe!==le),{...ge,units:Le}})},[]),H=g.useCallback(async(oe,le,ge)=>{if(ge)try{const Le=await s(ge.value);Le&&$(Oe=>{const xe=[...Oe.units];return xe[oe].machines[le]={id:Le.id,name:Le.name,intervalId:null,items:Le.item_mesin.map(Me=>({...Me,hasil_monitoring:"",hasil_keterangan:"",interval_type:""}))},{...Oe,units:xe}})}catch(Le){console.error("Error fetching machine detail:",Le),y("Gagal memuat detail mesin")}else $(Le=>{const Oe=[...Le.units];return Oe[oe].machines[le]={id:0,name:"",intervalId:null,items:[]},{...Le,units:Oe}})},[s]),P=g.useCallback((oe,le,ge)=>{var Le,Oe,xe;if(ge&&((Oe=(Le=D.units[oe])==null?void 0:Le.machines[le])!=null&&Oe.id)){const Me=(xe=T==null?void 0:T.intervals)==null?void 0:xe.find(Be=>Be.id_interval===ge.value);Me&&$(Be=>{const re=[...Be.units],se=re[oe].machines[le],ee=se.items.filter(ve=>ve.interval_id===Me.id_interval);return re[oe].machines[le]={...se,intervalId:Me.id_interval,intervalType:Me.type_interval,items:ee.map(ve=>({...ve,interval_type:Me.type_interval}))},{...Be,units:re}})}else $(Me=>{const Be=[...Me.units],re=Be[oe].machines[le];return Be[oe].machines[le]={...re,intervalId:null,intervalType:void 0,items:re.items.map(se=>({...se,interval_type:""}))},{...Me,units:Be}})},[T,D.units]);g.useCallback((oe,le,ge,Le,Oe)=>{$(xe=>{const Me=[...xe.units];return Me[oe].machines[le].items[ge]={...Me[oe].machines[le].items[ge],[Le]:Oe},{...xe,units:Me}})},[]);const F=["January","February","March","April","May","June","July","August","September","October","November","December"],X=async oe=>{oe.preventDefault(),m(!0),y(null);try{if(!D.startDate||!D.endDate)throw new Error("Tanggal mulai dan selesai harus diisi");if(D.units.length===0||D.units.some(Oe=>!Oe.id))throw new Error("Pilih setidaknya satu unit");const le=Oe=>{const xe=Oe.getFullYear(),Me=String(Oe.getMonth()+1).padStart(2,"0"),Be=String(Oe.getDate()).padStart(2,"0");return`${xe}-${Me}-${Be}`},ge=[],Le=[];for(const Oe of D.units)for(const xe of Oe.machines)if(xe.id&&xe.items.length>0){const Me=xe.items.map(se=>se.id),Be={tahun:D.startDate.getFullYear(),bulan:F[D.startDate.getMonth()],tgl_start:le(D.startDate),tgl_end:le(D.endDate),unit:Oe.name,id_mesins:xe.id,id_interval:xe.intervalId||1,item_mesin_ids:Me},re=await r(Be);ge.push(re)}if(ge.length===0)throw new Error("Tidak ada data monitoring yang valid untuk disimpan");j("Data monitoring berhasil disimpan!"),N(!0)}catch(le){y(le.message||"Gagal menyimpan data monitoring")}finally{m(!1)}},te=g.useCallback(()=>{N(!1),t("/monitoringmaintenance")},[t]),q=g.useMemo(()=>{switch(A){case 1:return!D.startDate||!D.endDate;case 2:return D.units.length===0||D.units.every(le=>!le.id);case 3:return D.units.every(le=>le.machines.length===0||le.machines.every(ge=>!ge.id||!ge.intervalId||ge.items.length===0));case 4:return!D.units.some(le=>le.machines.some(ge=>ge.id&&ge.intervalId&&ge.items.length>0));default:return!0}},[A,D]),Z=()=>a.jsx("div",{className:"flex justify-around items-center mb-8 border-b-2 border-gray-100",children:[1,2,3,4].map(oe=>a.jsxs("button",{type:"button",onClick:()=>E(oe),disabled:oe===2&&(!D.startDate||!D.endDate)||oe===3&&(D.units.length===0||D.units.every(le=>!le.id))||oe===4&&D.units.every(le=>le.machines.every(ge=>!ge.id||!ge.intervalId)),className:`px-4 py-2 font-medium ${A===oe?"border-b-2 border-blue-500 text-blue-600":"text-gray-500"} ${oe===2&&(!D.startDate||!D.endDate)||oe===3&&(D.units.length===0||D.units.every(le=>!le.id))||oe===4&&D.units.every(le=>le.machines.every(ge=>!ge.id||!ge.intervalId))?"opacity-50 cursor-not-allowed":""}`,children:[oe,". ",["Date","Unit","Machine & Interval","Item"][oe-1]]},oe))}),ie=()=>{if(O)return a.jsx("div",{className:"flex justify-center items-center py-8",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})});switch(A){case 1:return a.jsxs(C.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Monitoring Schedule"}),a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-6 md:gap-8",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),a.jsx(zc,{selected:D.startDate,onChange:oe=>$(le=>({...le,startDate:oe})),dateFormat:"dd/MM/yyyy",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholderText:"Pilih Tanggal Mulai",isClearable:!0})]}),a.jsx("div",{className:"text-gray-400 hidden md:block mt-6",children:a.jsx(boe,{size:24})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),a.jsx(zc,{selected:D.endDate,onChange:oe=>$(le=>({...le,endDate:oe})),dateFormat:"dd/MM/yyyy",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholderText:"Pilih Tanggal Selesai",isClearable:!0})]})]})]},"step1");case 2:return a.jsxs(C.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Unit"}),a.jsxs("div",{className:"space-y-4",children:[D.units.map((oe,le)=>{var ge;return a.jsxs(C.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 border border-gray-200 rounded-lg bg-gray-50 flex items-center space-x-2",children:[a.jsx("div",{className:"flex-1",children:a.jsx(Er,{options:((ge=T==null?void 0:T.unitsWithMachines)==null?void 0:ge.map(Le=>({value:Le.id,label:Le.name})))||[],value:oe.id?{value:oe.id,label:oe.name}:null,onChange:Le=>z(le,Le),isClearable:!0,placeholder:"Pilih Unit",styles:I,noOptionsMessage:()=>"Tidak ada unit tersedia"})}),D.units.length>1&&a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>R(le),className:"text-red-500 hover:text-red-700 p-1",type:"button",children:a.jsx(dn,{size:20})})]},le)}),a.jsxs(C.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:L,className:"flex items-center justify-center w-full px-4 py-2 border-2 border-dashed border-gray-300 rounded-lg text-gray-600 hover:bg-gray-100",type:"button",children:[a.jsx(Jn,{size:20,className:"mr-2"})," Add Unit"]})]})]},"step2");case 3:return a.jsxs(C.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Machine & Interval"}),a.jsx("div",{className:"space-y-6",children:D.units.map((oe,le)=>oe.id&&a.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg bg-gray-50",children:[a.jsx("h3",{className:"font-semibold text-gray-700 mb-3",children:oe.name}),a.jsx("div",{className:"space-y-4",children:oe.machines.map((ge,Le)=>{var Oe,xe,Me,Be;return a.jsxs(C.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 border border-gray-300 rounded-lg bg-white space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Machine"}),a.jsx(Er,{options:((Me=(xe=(Oe=T==null?void 0:T.unitsWithMachines)==null?void 0:Oe.find(re=>re.id===oe.id))==null?void 0:xe.mesin)==null?void 0:Me.map(re=>({value:re.id,label:re.name})))||[],value:ge.id?{value:ge.id,label:ge.name}:null,onChange:re=>H(le,Le,re),isClearable:!0,placeholder:"Select Machine",styles:I})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Interval"}),a.jsx(Er,{options:((Be=T==null?void 0:T.intervals)==null?void 0:Be.map(re=>({value:re.id_interval,label:re.type_interval})))||[],value:ge.intervalId?{value:ge.intervalId,label:ge.intervalType}:null,onChange:re=>P(le,Le,re),isClearable:!0,placeholder:ge.id?"Select Interval":"Please Select Machine",isDisabled:!ge.id||ge.items.length===0,styles:I})]})]}),ge.id&&a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-sm font-medium text-blue-800",children:["Total ",ge.items.length," item monitoring tersedia"]}),ge.intervalId&&a.jsxs("span",{className:"text-sm text-green-600",children:[ge.items.filter(re=>re.interval_id===ge.intervalId).length," item untuk interval ",ge.intervalType]})]}),ge.items.length===0&&a.jsx("span",{className:"text-xs text-orange-600 bg-orange-100 px-2 py-1 rounded mt-2 inline-block",children:"Mesin ini belum memiliki item monitoring"})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>W(le,Le),className:"text-red-500 hover:text-red-700",children:a.jsx(dn,{size:20})})})]},Le)})}),a.jsxs(C.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Y(le),className:"mt-4 flex items-center justify-center w-full px-4 py-2 border-2 border-dashed border-gray-300 rounded-lg text-gray-600 hover:bg-gray-100",children:[a.jsx(Jn,{size:20,className:"mr-2"})," Add Machine"]})]},le))})]},"step3");case 4:return a.jsxs(C.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Item Monitoring"}),a.jsx("div",{className:"space-y-6",children:D.units.map((oe,le)=>oe.id&&oe.machines.map((ge,Le)=>ge.id&&a.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg bg-gray-50",children:[a.jsxs("h3",{className:"font-semibold text-gray-700 mb-3",children:[oe.name," - ",ge.name]}),ge.items.length>0?a.jsx("div",{className:"space-y-4",children:ge.items.map((Oe,xe)=>a.jsxs(C.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-3 border border-gray-300 rounded-lg bg-white",children:[a.jsxs("h4",{className:"font-bold text-gray-800 mb-2",children:[Oe.item_mesin," (",Oe.satuan,")"]}),Oe.interval_type&&a.jsx("span",{className:"bg-green-100 text-green-800 text-xs font-medium px-2.5 py-0.5 rounded",children:Oe.interval_type}),Oe.standard_min&&Oe.standard_max&&a.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Standar: ",Oe.standard_min," - ",Oe.standard_max]}),Oe.standard_visual&&a.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Standar Visual: ",Oe.standard_visual]})]},xe))}):a.jsx("p",{className:"text-gray-500 italic mt-2",children:"Tidak ada item monitoring untuk mesin ini."})]},`${le}-${Le}`)))})]},"step4");default:return null}};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Mt,{mainTitle:"Create Monitoring Schedule",mainTitleHighlight:"Create Monitoring Schedule",description:"Manage user roles and permissions to control access and functionality within the system.",icon:a.jsx(Fh,{}),isMobile:i,toggleSidebar:d}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create Monitoring Schedule"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"All create detail for monitoring schedule"})]}),a.jsxs(C.button,{onClick:()=>t("/monitoringmaintenance"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg shadow-md",children:[a.jsx(kr,{className:"text-lg"})," Back To Monitoring Maintenance"]})]}),a.jsxs(C.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[x&&a.jsxs(C.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:x}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(at,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>y(null)})})]}),Z(),a.jsx(kt,{mode:"wait",children:ie()}),a.jsxs("div",{className:"flex justify-between items-center mt-8 pt-6 border-t border-gray-100",children:[A>1&&a.jsxs(C.button,{type:"button",onClick:()=>E(oe=>oe-1),whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-6 py-3 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:ring-2 focus:ring-blue-500 flex items-center",children:[a.jsx(Il,{className:"mr-2 h-5 w-5"})," Back"]}),A<4?a.jsxs(C.button,{type:"button",onClick:()=>E(oe=>oe+1),disabled:q,whileHover:{scale:q?1:1.03},whileTap:{scale:q?1:.97},className:`ml-auto px-6 py-3 border border-transparent rounded-lg text-sm font-medium text-white bg-blue-600 focus:ring-2 focus:ring-blue-500 flex items-center ${q?"opacity-50 cursor-not-allowed":"hover:bg-blue-700"}`,children:["Lanjut ",a.jsx(sn,{className:"ml-2 h-5 w-5"})]}):a.jsx(C.button,{type:"button",onClick:X,disabled:q||h,whileHover:{scale:q?1:1.03},whileTap:{scale:q?1:.97},className:`ml-auto px-6 py-3 border border-transparent rounded-lg text-sm font-medium text-white bg-blue-600 focus:ring-2 focus:ring-blue-500 flex items-center ${q||h?"opacity-50 cursor-not-allowed":"hover:bg-blue-700"}`,children:h?a.jsxs(a.Fragment,{children:[a.jsx(mr,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Ar,{className:"mr-2 h-5 w-5"})," Save Monitoring"]})})]})]})]})]}),a.jsx(u7e,{isOpen:v,onClose:te,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx($t,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:"Data monitoring schedule berhasil disimpan!"}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:te,className:"mt-6 px-6 py-3 border border-transparent rounded-lg text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:ring-2 focus:ring-blue-500",children:"Go to Monitoring Mainteannce"})]})})]})},Ez=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884D8","#82CA9D"],hf=({title:t,value:e,change:r,icon:n})=>{const s=r.startsWith("+");return a.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),a.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),a.jsxs("p",{className:`mt-3 text-xs font-semibold ${s?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})},f7e=({isOpen:t,workOrder:e,onClose:r})=>{var l,c,d,h,m,x,y;if(!t||!e)return null;const n=w=>w?new Date(w).toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric"}):"-",s=({title:w,children:j,icon:v})=>a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[a.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-4 border-b border-gray-200",children:a.jsxs("div",{className:"flex items-center",children:[v&&a.jsx("div",{className:"mr-3 text-blue-600",children:v}),a.jsx("h3",{className:"text-lg font-bold text-gray-900",children:w})]})}),a.jsx("div",{className:"p-6",children:j})]}),i=({label:w,value:j,icon:v,fullWidth:N=!1,priority:T="medium"})=>{const S={high:"border-l-4 border-l-blue-500 bg-blue-25",medium:"border-l-2 border-l-gray-200",low:"border-l border-l-gray-100"};return a.jsx("div",{className:`${N?"col-span-full":""}`,children:a.jsx("div",{className:`p-4 rounded-lg ${S[T]} transition-all duration-200 hover:shadow-sm`,children:a.jsxs("div",{className:"flex items-start space-x-3",children:[v&&a.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:v}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1",children:w}),a.jsx("p",{className:"text-sm font-medium text-gray-900 leading-relaxed",children:j})]})]})})})},o=({label:w,htmlContent:j,icon:v,fullWidth:N=!1})=>{if(!j)return a.jsx(i,{label:w,value:"-",icon:v,fullWidth:N,priority:"low"});const T=$l.sanitize(j,{ALLOWED_TAGS:["h1","h2","h3","h4","h5","h6","p","br","span","div","ol","ul","li","strong","b","em","i","u","s","strike","code","mark","sub","sup","blockquote","pre"],ALLOWED_ATTR:["style","class","data-color","align","type","start"]});return a.jsx("div",{className:`${N?"col-span-full":""}`,children:a.jsx("div",{className:"p-4 rounded-lg border-l-2 border-l-blue-200 bg-blue-25 transition-all duration-200 hover:shadow-sm",children:a.jsxs("div",{className:"flex items-start space-x-3",children:[v&&a.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:v}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:w}),a.jsx("div",{className:`rich-text-content text-sm text-gray-900 leading-relaxed prose prose-sm max-w-none\r
                          prose-headings:font-semibold prose-p:my-2 prose-ul:my-2 prose-ol:my-2\r
                          prose-li:my-1 prose-strong:font-semibold prose-em:italic`,dangerouslySetInnerHTML:{__html:T}})]})]})})})};return a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(C.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl mx-auto border border-blue-100 max-h-[90vh] overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"flex justify-between items-center border-b border-gray-100 px-6 py-4 bg-blue-50",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Work Order Details"}),a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:r,className:"text-gray-500 hover:text-gray-700 text-2xl p-1 rounded-full hover:bg-blue-100 transition-colors duration-200",children:a.jsx(at,{size:24})})]}),a.jsxs("div",{className:"overflow-y-auto custom-scrollbar p-6 space-y-6 flex-grow",children:[a.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6",children:a.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:e.work_order_no||"No Work Order Number"}),a.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-bold rounded-full ${e.handling_status==="New"?"bg-gray-100 text-gray-800 border border-gray-300":e.handling_status==="Assigned"?"bg-blue-100 text-blue-800 border border-blue-300":e.handling_status==="In Progress"?"bg-yellow-100 text-yellow-800 border border-yellow-300":e.handling_status==="Resolved"||e.handling_status==="Closed"?"bg-green-100 text-green-800 border border-green-300":"bg-gray-100 text-gray-800 border border-gray-300"}`,children:e.handling_status||"Unknown Status"})]}),a.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(xn,{className:"w-4 h-4"}),"Created: ",n(e.date)]}),e.handling_date&&a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(Lt,{className:"w-4 h-4"}),"Handled: ",n(e.handling_date)]})]})]})})}),a.jsx(s,{title:"General Information",icon:a.jsx(ir,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsx(i,{label:"Work Order No",value:e.work_order_no||"-",icon:a.jsx(ir,{className:"w-4 h-4"}),priority:"high"}),a.jsx(i,{label:"Date",value:n(e.date),icon:a.jsx(xn,{className:"w-4 h-4"}),priority:"high"}),a.jsx(i,{label:"Reception Method",value:e.reception_method||"-",icon:a.jsx(Mr,{className:"w-4 h-4"})}),a.jsx(i,{label:"Requester",value:((l=e.requester)==null?void 0:l.name)||"-",icon:a.jsx(Mr,{className:"w-4 h-4"}),priority:"high"}),a.jsx(i,{label:"Known By",value:((c=e.known_by)==null?void 0:c.name)||"-",icon:a.jsx(us,{className:"w-4 h-4"})}),a.jsx(i,{label:"Department",value:((d=e.department)==null?void 0:d.name)||"-",icon:a.jsx(xa,{className:"w-4 h-4"})})]})}),a.jsx(s,{title:"Service Details",icon:a.jsx(Tn,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(i,{label:"Service Type",value:((h=e.service_type)==null?void 0:h.group_name)||"-",icon:a.jsx(Tn,{className:"w-4 h-4"}),priority:"high"}),a.jsx(i,{label:"Service",value:((m=e.service)==null?void 0:m.service_name)||"-",icon:a.jsx(pn,{className:"w-4 h-4"}),priority:"high"}),a.jsx(i,{label:"Asset No",value:e.asset_no||"-",icon:a.jsx(ir,{className:"w-4 h-4"})}),a.jsx(i,{label:"Device Info",value:e.device_info||"-",icon:a.jsx(Tn,{className:"w-4 h-4"})}),a.jsx(o,{label:"Complaint",htmlContent:e.complaint||"",icon:a.jsx(er,{className:"w-4 h-4"}),fullWidth:!0})]})}),a.jsx(s,{title:"Handling Information",icon:a.jsx(Lt,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(i,{label:"Status",value:e.handling_status||"-",icon:a.jsx(Lt,{className:"w-4 h-4"}),priority:"high"}),a.jsx(i,{label:"Received By",value:((x=e.received_by)==null?void 0:x.name)||"-",icon:a.jsx(Mr,{className:"w-4 h-4"})}),a.jsx(i,{label:"Assigned To",value:((y=e.assigned_to)==null?void 0:y.name)||"-",icon:a.jsx(Mr,{className:"w-4 h-4"}),priority:"high"}),a.jsx(i,{label:"Handling Date",value:n(e.handling_date),icon:a.jsx(xn,{className:"w-4 h-4"})}),a.jsx(o,{label:"Action Taken",htmlContent:e.action_taken||"",icon:a.jsx($t,{className:"w-4 h-4"}),fullWidth:!0}),a.jsx(o,{label:"Remarks",htmlContent:e.remarks||"",icon:a.jsx(ir,{className:"w-4 h-4"}),fullWidth:!0})]})}),a.jsx(s,{title:"Report Summary",icon:a.jsx(Ui,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"p-4 bg-blue-25 rounded-lg border-l-4 border-l-blue-400",children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Current Status"}),a.jsx("p",{className:"text-lg font-bold text-blue-600",children:e.handling_status||"Unknown"})]}),a.jsxs("div",{className:"p-4 bg-green-25 rounded-lg border-l-4 border-l-green-400",children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Timeline"}),a.jsxs("p",{className:"text-sm text-green-600",children:["Created: ",n(e.date),e.handling_date&&`  Handled: ${n(e.handling_date)}`]})]})]})})]}),a.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-100 px-6 py-4 bg-gray-50",children:a.jsx(C.button,{type:"button",onClick:r,whileHover:{scale:1.03,boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.97},className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold",children:"Close Details"})})]})})},h7e=()=>{const[t,e]=g.useState(!1),[r,n]=g.useState(!1),[s,i]=g.useState(""),[o,l]=g.useState("all"),[c,d]=g.useState("all"),[h,m]=g.useState(!1),[x,y]=g.useState(1),[w]=g.useState(5),[j,v]=g.useState(window.innerWidth<768),[N,T]=g.useState(!1),[S,O]=g.useState(!1),[_,A]=g.useState([]),[E,D]=g.useState(!0),[$,I]=g.useState(null),[L,R]=g.useState(),[z,Y]=g.useState(!1),{user:W,getWorkOrdersIT:H,hasPermission:P}=St(),F=jt(),X=g.useRef(null),te=g.useRef(null),q=location.pathname==="/workorders/it",Z=location.pathname==="/workorders/it/assignment",ie=location.pathname==="/workorders/it/receiver",oe=location.pathname==="/workorders/it/reports",le=location.pathname==="/workorders/it/knowledgebase";g.useEffect(()=>{const Ne=()=>{v(window.innerWidth<768),window.innerWidth<768&&n(!1)};return window.addEventListener("resize",Ne),()=>window.removeEventListener("resize",Ne)},[]),g.useEffect(()=>{const Ne=ze=>{X.current&&!X.current.contains(ze.target)&&T(!1),te.current&&!te.current.contains(ze.target)&&O(!1)};return document.addEventListener("mousedown",Ne),()=>{document.removeEventListener("mousedown",Ne)}},[]);const ge=g.useCallback(async()=>{try{D(!0);const Ne=await H();A(Ne)}catch(Ne){I("Failed to load work orders data"),console.error("Error loading work orders:",Ne)}finally{D(!1)}},[H]);g.useEffect(()=>{ge()},[ge]);const Le=Ne=>{switch(Ne==null?void 0:Ne.toLowerCase()){case"new":return"bg-gray-500 text-white";case"assigned":return"bg-blue-500 text-white";case"in progress":return"bg-yellow-500 text-white";case"escalated":return"bg-orange-500 text-white";case"vendor handled":return"bg-purple-500 text-white";case"resolved":return"bg-green-500 text-white";case"cancel":return"bg-red-500 text-white";case"closed":return"bg-green-700 text-white";default:return"bg-gray-500 text-white"}},Oe=()=>{n(Ne=>!Ne)},xe=_.filter(Ne=>{var ht,We,he,Je,Ue,ae,ne;const ze=((ht=Ne.work_order_no)==null?void 0:ht.toLowerCase().includes(s.toLowerCase()))||((he=(We=Ne.requester)==null?void 0:We.name)==null?void 0:he.toLowerCase().includes(s.toLowerCase()))||((Je=Ne.complaint)==null?void 0:Je.toLowerCase().includes(s.toLowerCase()))||((ae=(Ue=Ne.service)==null?void 0:Ue.service_name)==null?void 0:ae.toLowerCase().includes(s.toLowerCase())),we=o==="all"||Ne.handling_status===o,ut=c==="all"||((ne=Ne.department)==null?void 0:ne.name)===c;return ze&&we&&ut}),Me=x*w,Be=Me-w,re=xe.slice(Be,Me),se=Math.ceil(xe.length/w),ee=Ne=>y(Ne);g.useEffect(()=>{y(1)},[s,o,c]),g.useEffect(()=>{document.documentElement.classList.toggle("dark",t)},[t]);const ve=xe.length,Ge=xe.filter(Ne=>{var ze;return["resolved","closed"].includes((ze=Ne.handling_status)==null?void 0:ze.toLowerCase())}).length,Ke=xe.filter(Ne=>{var ze;return!["cancel"].includes((ze=Ne.handling_status)==null?void 0:ze.toLowerCase())}).length,ye=xe.filter(Ne=>{var ze;return((ze=Ne.handling_status)==null?void 0:ze.toLowerCase())==="escalated"}).length;xe.filter(Ne=>Ne.assigned_to!==null).length;const ot=ve>0?Math.round(Ge/ve*100):0,mt=xe.filter(Ne=>{var ze;return Ne.handling_date&&Ne.date&&["resolved","closed"].includes((ze=Ne.handling_status)==null?void 0:ze.toLowerCase())}).reduce((Ne,ze)=>{const we=new Date(ze.date),ut=new Date(ze.handling_date),ht=Math.abs(ut.getTime()-we.getTime()),We=Math.ceil(ht/(1e3*60*60*24));return Ne+We},0)/(Ge||1),nt=Object.entries(xe.reduce((Ne,ze)=>{var ut;const we=((ut=ze.department)==null?void 0:ut.name)||"Unknown";return Ne[we]=(Ne[we]||0)+1,Ne},{})).map(([Ne,ze])=>({name:Ne,value:ze})),xt=Object.entries(xe.reduce((Ne,ze)=>{const we=ze.handling_status||"Unknown";return Ne[we]=(Ne[we]||0)+1,Ne},{})).map(([Ne,ze])=>({name:Ne,value:ze})),Nt=g.useCallback(()=>{if(P("export_reports")){const Ne=["Work Order No","Requester","Department","Date","Status","Assigned To","Handling Date"],ze=xe.map(he=>{var Je,Ue,ae;return[he.work_order_no,((Je=he.requester)==null?void 0:Je.name)||"",((Ue=he.department)==null?void 0:Ue.name)||"",he.date,he.handling_status,((ae=he.assigned_to)==null?void 0:ae.name)||"",he.handling_date||""]}),we=[Ne.join(","),...ze.map(he=>he.map(Je=>`"${Je}"`).join(","))].join(`
`),ut=new Blob([we],{type:"text/csv"}),ht=window.URL.createObjectURL(ut),We=document.createElement("a");We.href=ht,We.download=`it-reports-${new Date().toISOString().split("T")[0]}.csv`,We.click(),window.URL.revokeObjectURL(ht)}else alert("You do not have permission to export reports.")},[P,xe]),wt=Ne=>{R(Ne),Y(!0)},zt=()=>{Y(!1),R(void 0)},rt=Ne=>{if(!Ne)return"-";try{const ze=new Date(Ne);return isNaN(ze.getTime())?"-":ze.toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric"})}catch{return"-"}};return E?a.jsxs("div",{className:"flex h-screen items-center justify-center bg-blue-50",children:[a.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-blue-600"}),a.jsx("p",{className:"ml-4 text-lg text-gray-700",children:"Loading reports data..."})]}):$?a.jsxs("div",{className:"flex h-screen items-center justify-center bg-red-50",children:[a.jsx(er,{className:"text-red-600 text-5xl"}),a.jsx("p",{className:"ml-4 text-lg text-red-800",children:$}),a.jsx("button",{onClick:()=>window.location.reload(),className:"ml-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Retry"})]}):a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Mt,{mainTitle:"IT Work Order - Reports",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:a.jsx(Ui,{}),isMobile:j,toggleSidebar:Oe}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"isi style mb-6 flex space-x-6 border-b border-gray-200",children:[a.jsx(C.div,{whileTap:{scale:.98},onClick:()=>F("/workorders/it"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${q?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Request"}),a.jsx(C.div,{whileTap:{scale:.98},onClick:()=>F("/workorders/it/receiver"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${ie?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Receiver"}),a.jsx(C.div,{whileTap:{scale:.98},onClick:()=>F("/workorders/it/assignment"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${Z?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Assignment"}),a.jsx(C.div,{whileTap:{scale:.98},onClick:()=>F("/workorders/it/reports"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${oe?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Reports"}),a.jsx(C.div,{whileTap:{scale:.98},onClick:()=>F("/workorders/it/knowledgebase"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${le?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Knowledge Base"})]}),a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"IT Work Order Reports"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Comprehensive overview of work orders in the IT department."})]}),P("export_reports")&&a.jsxs(C.button,{onClick:Nt,whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 rounded-lg bg-blue-600 text-white shadow-md hover:bg-blue-700 transition-colors duration-200 flex items-center",children:[a.jsx(ace,{className:"mr-2"})," Export Report"]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[a.jsx(hf,{title:"Total Requests",value:ve.toString(),change:"+10% ",icon:a.jsx(ir,{})}),a.jsx(hf,{title:"Resolved",value:Ge.toString(),change:"+15% ",icon:a.jsx($t,{})}),a.jsx(hf,{title:"Cancel",value:Ke.toString(),change:"-5% ",icon:a.jsx(Lt,{})}),a.jsx(hf,{title:"Escalated",value:ye.toString(),change:"+8% ",icon:a.jsx(xa,{})}),a.jsx(hf,{title:"Completion Rate",value:`${ot}%`,change:ot>70?"+12% ":"-5% ",icon:a.jsx(NR,{})}),a.jsx(hf,{title:"Avg Resolution Time",value:`${Math.round(mt)} days`,change:mt<5?"-2 days ":"+3 days ",icon:a.jsx(Lt,{})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(NR,{className:"mr-2"})," Work Orders by Department"]}),a.jsx(dl,{width:"100%",height:300,children:a.jsxs(hA,{data:nt,children:[a.jsx(ed,{strokeDasharray:"3 3"}),a.jsx(No,{dataKey:"name"}),a.jsx(ko,{}),a.jsx(ja,{}),a.jsx(wo,{}),a.jsx(Rl,{dataKey:"value",fill:"#0081ff"})]})})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(Roe,{className:"mr-2"})," Work Orders by Status"]}),a.jsx(dl,{width:"100%",height:300,children:a.jsxs(dD,{children:[a.jsx(Ji,{data:xt,cx:"50%",cy:"50%",labelLine:!1,label:({name:Ne,percent:ze})=>`${Ne}: ${(ze*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:xt.map((Ne,ze)=>a.jsx(Gh,{fill:Ez[ze%Ez.length]},`cell-${ze}`))}),a.jsx(ja,{}),a.jsx(wo,{})]})})]})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 mb-6 border border-blue-100",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[a.jsxs("div",{className:"relative w-full md:w-1/3",children:[a.jsx(Wn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),a.jsx("input",{type:"text",placeholder:"Search work orders...",value:s,onChange:Ne=>i(Ne.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 w-full md:w-2/3 justify-end",children:[a.jsxs("div",{className:"relative w-full sm:w-auto",children:[a.jsxs("select",{value:o,onChange:Ne=>l(Ne.target.value),className:"w-full sm:w-48 p-2.5 border border-gray-300 rounded-lg appearance-none focus:ring-blue-500 focus:border-blue-500 pr-8 bg-white",children:[a.jsx("option",{value:"all",children:"All Statuses"}),a.jsx("option",{value:"New",children:"New"}),a.jsx("option",{value:"Assigned",children:"Assigned"}),a.jsx("option",{value:"In Progress",children:"In Progress"}),a.jsx("option",{value:"Escalated",children:"Escalated"}),a.jsx("option",{value:"Vendor Handled",children:"Vendor Handled"}),a.jsx("option",{value:"Resolved",children:"Resolved"}),a.jsx("option",{value:"Cancel",children:"Cancel"}),a.jsx("option",{value:"Closed",children:"Closed"})]}),a.jsx(cn,{className:"absolute right-3 top-3.5 text-gray-400",size:18})]}),a.jsxs("div",{className:"relative w-full sm:w-auto",children:[a.jsxs("select",{value:c,onChange:Ne=>d(Ne.target.value),className:"w-full sm:w-48 p-2.5 border border-gray-300 rounded-lg appearance-none focus:ring-blue-500 focus:border-blue-500 pr-8 bg-white",children:[a.jsx("option",{value:"all",children:"All Departments"}),Array.from(new Set(_.map(Ne=>{var ze;return(ze=Ne.department)==null?void 0:ze.name}).filter(Boolean))).map(Ne=>a.jsx("option",{value:Ne,children:Ne},Ne))]}),a.jsx(cn,{className:"absolute right-3 top-3.5 text-gray-400",size:18})]}),a.jsxs(C.button,{onClick:()=>m(!h),whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center px-4 py-2 bg-white border border-gray-300 rounded-lg shadow-sm text-gray-700 hover:bg-gray-50 transition-colors duration-200",children:[a.jsx(Xa,{className:"mr-2",size:20})," Advanced Filters"]})]})]}),a.jsx(kt,{children:h&&a.jsx(C.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"overflow-hidden mt-4 pt-4 border-t border-gray-200",children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:a.jsx("p",{className:"text-gray-500 col-span-full",children:"More filter options coming soon!"})})})})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100 overflow-x-auto",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Detailed Work Order List"}),re.length===0?a.jsxs("div",{className:"text-center py-10 text-gray-500",children:[a.jsx(pn,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsx("p",{className:"mt-2 text-lg",children:"No work orders found matching your criteria."}),a.jsx("p",{className:"text-sm",children:"Try adjusting your filters or search query."})]}):a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"No"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Work Order No"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Requester"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Department"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Assigned To"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Handling Date"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a.jsx(kt,{children:re.map((Ne,ze)=>{var we,ut,ht;return a.jsxs(C.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,x:-20},transition:{duration:.3},className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Be+ze+1}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-blue-600",children:Ne.work_order_no}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:((we=Ne.requester)==null?void 0:we.name)||"-"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:((ut=Ne.department)==null?void 0:ut.name)||"-"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:rt(Ne.date)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${Le(Ne.handling_status)}`,children:Ne.handling_status||"Unknown"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:((ht=Ne.assigned_to)==null?void 0:ht.name)||"-"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:rt(Ne.handling_date)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:a.jsxs(C.button,{onClick:()=>wt(Ne),whileHover:{scale:1.05},whileTap:{scale:.95},className:"text-blue-600 hover:text-blue-900 transition-colors duration-200 flex items-center",children:[a.jsx(us,{className:"mr-1",size:16})," View"]})})]},Ne.id)})})})]}),xe.length>w&&a.jsxs("nav",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6",children:[a.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[a.jsx(C.button,{onClick:()=>ee(x-1),disabled:x===1,whileHover:{scale:1.05},whileTap:{scale:.95},className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"Previous"}),a.jsx(C.button,{onClick:()=>ee(x+1),disabled:x===se,whileHover:{scale:1.05},whileTap:{scale:.95},className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"Next"})]}),a.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[a.jsx("div",{children:a.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",a.jsx("span",{className:"font-medium",children:Be+1})," to ",a.jsx("span",{className:"font-medium",children:Math.min(Me,xe.length)})," of"," ",a.jsx("span",{className:"font-medium",children:xe.length})," results"]})}),a.jsx("div",{children:a.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[a.jsxs(C.button,{onClick:()=>ee(x-1),disabled:x===1,whileHover:{scale:1.05},whileTap:{scale:.95},className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",children:[a.jsx("span",{className:"sr-only",children:"Previous"}),a.jsx(Il,{className:"h-5 w-5","aria-hidden":"true"})]}),[...Array(se)].map((Ne,ze)=>a.jsx(C.button,{onClick:()=>ee(ze+1),whileHover:{scale:1.05},whileTap:{scale:.95},className:`relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium ${x===ze+1?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:ze+1},ze)),a.jsxs(C.button,{onClick:()=>ee(x+1),disabled:x===se,whileHover:{scale:1.05},whileTap:{scale:.95},className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",children:[a.jsx("span",{className:"sr-only",children:"Next"}),a.jsx(sn,{className:"h-5 w-5","aria-hidden":"true"})]})]})})]})]})]})]})]}),a.jsx(f7e,{isOpen:z,onClose:zt,workOrder:L})]})},m7e=t=>{const e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate()));e.setUTCDate(e.getUTCDate()+4-(e.getUTCDay()||7));const r=new Date(Date.UTC(e.getUTCFullYear(),0,1));return Math.ceil(((e.getTime()-r.getTime())/864e5+1)/7)},Ri=t=>t==null||t===""?"N/A":String(t),gQ=({isOpen:t,onClose:e,title:r,children:n,className:s,maxWidth:i="max-w-xl"})=>a.jsx(kt,{children:t&&a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-60 flex justify-center items-center z-50 p-4",children:a.jsxs(C.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${i} ${s||"w-full"}`,children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-gradient-to-r from-blue-50 to-indigo-50",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:r}),a.jsx("button",{onClick:e,className:"p-2 rounded-xl text-gray-500 hover:bg-white hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:a.jsx(at,{className:"w-5 h-5"})})]}),a.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:n})]})})}),Ii=({label:t,value:e,className:r="",valueColorClass:n="text-gray-900"})=>a.jsxs("div",{className:`p-4 bg-gray-50 backdrop-brightness-50 rounded-lg shadow-sm ${r}`,children:[a.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase",children:t}),a.jsx("p",{className:`mt-1 text-sm font-semibold ${n}`,children:e??"N/A"})]}),N5=({title:t})=>a.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4 pb-2 border-b border-blue-200 mt-6 first:mt-0",children:t}),p7e=({record:t,onUpdateRecord:e})=>a.jsxs("div",{className:"space-y-6",children:[a.jsx(N5,{title:"Monitoring Details"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsx(Ii,{label:"Monitoring Interval",value:Ri(t.interval)}),a.jsx(Ii,{label:"Unit",value:Ri(t.unitWilayah)}),a.jsx(Ii,{label:"Machine",value:Ri(t.mesin)}),a.jsx(Ii,{label:"Item",value:Ri(t.item)}),a.jsx(Ii,{label:"Unit of Measure",value:Ri(t.unitOfMeasure)}),a.jsx(Ii,{label:"Monitoring Result",value:Ri(t.monitoringResult),valueColorClass:t.msStatus==="MS"?"text-green-600":t.msStatus==="TMS"?"text-red-600":"text-gray-900"}),a.jsx(Ii,{label:"MS Status",value:Ri(t.msStatus),valueColorClass:t.msStatus==="MS"?"text-green-600":t.msStatus==="TMS"?"text-red-600":"text-gray-900"})]}),a.jsx(N5,{title:"Standard"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsx(Ii,{label:"Standard (Min)",value:Ri(t.standardMin)}),a.jsx(Ii,{label:"Standard (Max)",value:Ri(t.standardMax)}),a.jsx(Ii,{label:"Visual Standard",value:Ri(t.standartVisual),className:"md:col-span-2"})]}),a.jsx(N5,{title:"Description"}),a.jsx("div",{className:"grid grid-cols-1",children:a.jsx(Ii,{label:"Notes",value:Ri(t.notes)})})]}),g7e=({records:t})=>{const[e,r]=g.useState(""),[n,s]=g.useState("");console.log("Trend Analysis - Total records:",t.length),console.log("Trend Analysis - Sample records:",t.slice(0,3));const i=g.useMemo(()=>{if(!t||t.length===0)return console.log("No records available for machines"),[""];const w=[...new Set(t.filter(j=>j.mesin&&j.mesin!=="N/A"&&j.mesin.trim()!=="").map(j=>j.mesin))].sort();return console.log("Available machines:",w),["",...w]},[t]),o=g.useMemo(()=>{if(!e||e==="")return console.log("No machine selected for items"),[""];const w=t.filter(v=>v.mesin===e&&v.item&&v.item!=="N/A"&&v.item.trim()!=="").map(v=>v.item),j=[...new Set(w)].sort();return console.log(`Available items for ${e}:`,j),["",...j]},[t,e]),l=g.useMemo(()=>{if(!e||!n||e===""||n==="")return console.log("Missing selection for trend data"),[];const w=t.filter(j=>{const v=j.mesin===e,N=j.item===n,T=j.id.startsWith("activity-"),S=j.monitoringResult&&j.monitoringResult!=="N/A"&&j.monitoringResult!=="MS"&&j.monitoringResult!=="TMS"&&!isNaN(parseFloat(j.monitoringResult))&&isFinite(parseFloat(j.monitoringResult));return console.log(`Record ${j.id}:`,{machineMatch:v,itemMatch:N,hasActivity:T,monitoringResult:j.monitoringResult,isNumeric:S,parsedValue:S?parseFloat(j.monitoringResult):null}),v&&N&&T&&S}).sort((j,v)=>new Date(j.date).getTime()-new Date(v.date).getTime()).map(j=>{const v=parseFloat(j.monitoringResult);return console.log(`Trend data point: ${j.date}, ${j.monitoringResult}, numeric: ${v}`),{date:new Date(j.date),dateString:new Date(j.date).toLocaleDateString("en-US"),result:v,msStatus:j.msStatus,notes:j.notes,machine:j.mesin,item:j.item,standardMin:j.standardMin,standardMax:j.standardMax,isActivity:j.id.startsWith("activity-")}});return console.log(`Trend data for ${e} - ${n}:`,w),w},[t,e,n]),c=g.useMemo(()=>{if(l.length===0)return console.log("No trend data available for analysis"),null;try{const w=l.map(Z=>Z.result);console.log("Analysis results:",w);const j=w.reduce((Z,ie)=>Z+ie,0)/w.length,v=[...w].sort((Z,ie)=>Z-ie),N=v.length%2===0?(v[v.length/2-1]+v[v.length/2])/2:v[Math.floor(v.length/2)],T=w.reduce((Z,ie)=>Z+Math.pow(ie-j,2),0)/w.length,S=Math.sqrt(T),O=Math.min(...w),_=Math.max(...w),A=_-O,E=l.map(Z=>Z.date.getTime()),D=l.map(Z=>Z.result),$=E.length,I=E.reduce((Z,ie)=>Z+ie,0),L=D.reduce((Z,ie)=>Z+ie,0),R=E.reduce((Z,ie,oe)=>Z+ie*D[oe],0),z=E.reduce((Z,ie)=>Z+ie*ie,0),Y=$*z-I*I,W=Y!==0?($*R-I*L)/Y:0,H=Y!==0?(L-W*I)/$:0,P=W>.001?"increasing":W<-.001?"decreasing":"stable",F=S>0?Math.abs(W)/S:0,X=l.filter(Z=>Math.abs(Z.result-j)>2*S),te=l[0],q=te.standardMin!==null&&te.standardMax!==null?l.filter(Z=>Z.result>=(te.standardMin||0)&&Z.result<=(te.standardMax||1/0)).length/l.length*100:null;return{mean:j,median:N,stdDev:S,min:O,max:_,range:A,count:w.length,trendDirection:P,trendStrength:F*1e3,slope:W,outliers:X,withinStandard:q,coefficientOfVariation:j>0?S/j*100:0}}catch(w){return console.error("Error in statistical analysis:",w),null}},[l]),d=g.useMemo(()=>{const w=t.length,j=new Set(t.map(T=>T.mesin)).size,v=t.filter(T=>T.msStatus==="MS").length,N=w>0?v/w*100:0;return[{title:"Total Monitoring Items",value:w.toLocaleString("id-ID"),icon:a.jsx(ir,{})},{title:"Machines Monitored",value:j.toLocaleString("id-ID"),icon:a.jsx(Fh,{})},{title:"Success Rate",value:`${N.toFixed(1)}%`,icon:a.jsx($t,{})}]},[t]),h=g.useMemo(()=>{const w={};return t.forEach(j=>{j.mesin&&(w[j.mesin]=(w[j.mesin]||0)+1)}),Object.entries(w).sort(([,j],[,v])=>v-j).slice(0,5).map(([j,v])=>({name:j,count:v}))},[t]),m=g.useMemo(()=>{const w={};return t.forEach(j=>{if(j.date){const v=new Date(j.date),N=v.getFullYear(),T=(v.getMonth()+1).toString().padStart(2,"0"),S=`${N}-${T}`;w[S]=(w[S]||0)+1}}),Object.entries(w).sort(([j],[v])=>j.localeCompare(v)).map(([j,v])=>{const[N,T]=j.split("-");return{name:`${new Date(Number(N),Number(T)-1,1).toLocaleString("en-US",{month:"short"})} ${N}`,"Monitoring Events":v}})},[t]),x=g.useMemo(()=>{const w={MS:0,TMS:0,"N/A":0};return t.forEach(j=>{const v=j.msStatus||"N/A";w[v]=(w[v]||0)+1}),[{name:"MS",value:w.MS},{name:"TMS",value:w.TMS},{name:"N/A",value:w["N/A"]}].filter(j=>j.value>0)},[t]),y=["#10B981","#EF4444","#6B7280"];return console.log("Current selection:",{selectedMachine:e,selectedItem:n}),console.log("Trend data length:",l.length),console.log("Analysis available:",c!==null),!e||!n?a.jsxs("div",{className:"space-y-8",children:[a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:d.map((w,j)=>a.jsx(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:j*.1,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:w.title}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:w.value})]}),a.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:w.icon})]})},w.title))}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[a.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50",children:[a.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[a.jsx(Ui,{className:"mr-2 text-blue-600"})," Most Monitored Machines"]}),a.jsx("div",{className:"space-y-3",children:h.map((w,j)=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center mr-3",children:a.jsx("span",{className:"text-blue-600 font-bold text-sm",children:j+1})}),a.jsx("span",{className:"font-medium text-gray-800",children:w.name})]}),a.jsxs("span",{className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-semibold",children:[w.count," events"]})]},w.name))})]}),a.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 flex flex-col items-center justify-center",children:[a.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[a.jsx($t,{className:"mr-2 text-blue-600"})," Status Distribution"]}),x.length>0?a.jsx("div",{className:"w-full h-64",children:a.jsx(dl,{width:"100%",height:"100%",children:a.jsxs(dD,{children:[a.jsx(Ji,{data:x,cx:"50%",cy:"50%",labelLine:!1,outerRadius:80,fill:"#8884d8",dataKey:"value",nameKey:"name",label:({name:w,percent:j})=>`${w} ${(j*100).toFixed(0)}%`,children:x.map((w,j)=>a.jsx(Gh,{fill:y[j%y.length]},`cell-${j}`))}),a.jsx(ja,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e0e7ff",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",padding:"10px"},formatter:w=>[`${w} events`,"Count"]})]})})}):a.jsx("p",{className:"text-center text-gray-500 mt-4 text-sm",children:"No data for status distribution."})]})]}),a.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50",children:[a.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[a.jsx(Ou,{className:"mr-2 text-blue-600"})," Monitoring Trend Over Time"]}),m.length>0?a.jsx("div",{className:"h-80",children:a.jsx(dl,{width:"100%",height:"100%",children:a.jsxs(fA,{data:m,children:[a.jsx(ed,{strokeDasharray:"3 3",stroke:"#e0e7ff"}),a.jsx(No,{dataKey:"name",tickLine:!1,axisLine:!1,style:{fontSize:"12px",fill:"#6B7280"}}),a.jsx(ko,{allowDecimals:!1,tickLine:!1,axisLine:!1,style:{fontSize:"12px",fill:"#6B7280"}}),a.jsx(ja,{cursor:{fill:"rgba(239, 246, 255, 0.7)"},contentStyle:{backgroundColor:"#fff",border:"1px solid #e0e7ff",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",padding:"10px"}}),a.jsx(gd,{type:"monotone",dataKey:"Monitoring Events",stroke:"#3B82F6",strokeWidth:2,dot:{r:4},activeDot:{r:6}})]})})}):a.jsx("p",{className:"text-center text-gray-500 mt-4 text-sm",children:"No data for monitoring trend."})]}),a.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.5},className:"bg-white rounded-2xl shadow-md p-8 border border-blue-50",children:[a.jsxs("div",{className:"text-center",children:[a.jsx(Ou,{className:"mx-auto text-gray-300 mb-4",size:64}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Detailed Trend Analysis"}),a.jsx("p",{className:"text-gray-600 mb-8 max-w-md mx-auto",children:t.length===0?"No monitoring data available for analysis.":"Select a machine and monitoring item to visualize trends and analyze performance patterns over time."})]}),t.length>0&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 max-w-2xl mx-auto",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-900",children:"Select Machine"}),a.jsxs("select",{value:e,onChange:w=>{console.log("Machine selected:",w.target.value),r(w.target.value),s("")},className:"w-full px-4 py-3 rounded-xl border border-gray-200 bg-white focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-gray-900",children:[a.jsx("option",{value:"",children:"Choose machine..."}),i.slice(1).map(w=>a.jsx("option",{value:w,children:w},w))]}),e&&a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[o.length-1," item(s) available for this machine"]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-900",children:"Select Item"}),a.jsxs("select",{value:n,onChange:w=>{console.log("Item selected:",w.target.value),s(w.target.value)},className:"w-full px-4 py-3 rounded-xl border border-gray-200 bg-white focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-gray-900 disabled:opacity-50",disabled:!e,children:[a.jsx("option",{value:"",children:e?o.length>1?"Choose item...":"No items available":"Select machine first"}),o.slice(1).map(w=>a.jsx("option",{value:w,children:w},w))]}),n&&a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[l.length," data point(s) available for analysis"]})]})]})]})]}):l.length===0?a.jsxs("div",{className:"space-y-6 bg-white rounded-2xl shadow-sm p-8 border border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Trend Analysis"}),a.jsxs("div",{className:"text-center py-12",children:[a.jsx(sa,{className:"mx-auto text-gray-300 mb-4",size:48}),a.jsx("p",{className:"text-gray-600 text-lg mb-2",children:"No numeric data available for analysis"}),a.jsxs("p",{className:"text-gray-400 text-sm mb-4",children:['The selected item "',n,'" for machine "',e,`" doesn't have numeric monitoring results.`]}),a.jsx("p",{className:"text-gray-400 text-xs",children:"Monitoring results must be numeric values (numbers) for trend analysis."}),a.jsx("button",{onClick:()=>{r(""),s("")},className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Select Different Machine/Item"})]})]}):c?a.jsxs("div",{className:"space-y-8",children:[a.jsx("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Trend Analysis"}),a.jsxs("p",{className:"text-gray-600",children:[e,"  ",n]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[a.jsx("select",{value:e,onChange:w=>{r(w.target.value),s("")},className:"px-4 py-2 rounded-lg border border-gray-200 bg-white focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm text-gray-900",children:i.slice(1).map(w=>a.jsx("option",{value:w,children:w},w))}),a.jsx("select",{value:n,onChange:w=>s(w.target.value),className:"px-4 py-2 rounded-lg border border-gray-200 bg-white focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm text-gray-900",children:o.slice(1).map(w=>a.jsx("option",{value:w,children:w},w))})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsx(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:"Data Points"}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:c.count})]}),a.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:a.jsx(ir,{className:"w-6 h-6"})})]})}),a.jsx(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:"Average Value"}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:c.mean.toLocaleString(void 0,{maximumFractionDigits:2})})]}),a.jsx("div",{className:"p-2 rounded-full bg-green-50 text-green-600 text-2xl opacity-90 transition-all duration-200",children:a.jsx(Ou,{className:"w-6 h-6"})})]})}),a.jsx(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:"Standard Deviation"}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:c.stdDev.toLocaleString(void 0,{maximumFractionDigits:2})})]}),a.jsx("div",{className:"p-2 rounded-full bg-purple-50 text-purple-600 text-2xl opacity-90 transition-all duration-200",children:a.jsx(fo,{className:"w-6 h-6"})})]})})]}),a.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50",children:[a.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[a.jsx(Ou,{className:"mr-2 text-blue-600"})," Trend Visualization"]}),a.jsx("div",{className:"h-80",children:a.jsx(dl,{width:"100%",height:"100%",children:a.jsxs(fA,{data:l,children:[a.jsx(ed,{strokeDasharray:"3 3",stroke:"#e0e7ff"}),a.jsx(No,{dataKey:"dateString",tickLine:!1,axisLine:!1,style:{fontSize:"12px",fill:"#6B7280"}}),a.jsx(ko,{tickLine:!1,axisLine:!1,style:{fontSize:"12px",fill:"#6B7280"}}),a.jsx(ja,{cursor:{fill:"rgba(239, 246, 255, 0.7)"},contentStyle:{backgroundColor:"#fff",border:"1px solid #e0e7ff",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",padding:"10px"},formatter:w=>[w,"Value"]}),a.jsx(gd,{type:"monotone",dataKey:"result",stroke:"#3B82F6",strokeWidth:2,dot:{r:4},activeDot:{r:6}})]})})})]}),a.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.5},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50",children:[a.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[a.jsx(Ui,{className:"mr-2 text-blue-600"})," Statistical Summary"]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Minimum"}),a.jsx("p",{className:"text-xl font-bold text-gray-900",children:c.min.toLocaleString(void 0,{maximumFractionDigits:2})})]}),a.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Maximum"}),a.jsx("p",{className:"text-xl font-bold text-gray-900",children:c.max.toLocaleString(void 0,{maximumFractionDigits:2})})]}),a.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Median"}),a.jsx("p",{className:"text-xl font-bold text-gray-900",children:c.median.toLocaleString(void 0,{maximumFractionDigits:2})})]}),a.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Range"}),a.jsx("p",{className:"text-xl font-bold text-gray-900",children:c.range.toLocaleString(void 0,{maximumFractionDigits:2})})]})]})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100 overflow-hidden",children:[a.jsxs("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Raw Data (",l.length," records)"]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Result"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Notes"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.map((w,j)=>a.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:w.dateString}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-gray-900",children:w.result.toLocaleString()}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${w.msStatus==="MS"?"bg-green-100 text-green-800":w.msStatus==="TMS"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:w.msStatus||"N/A"})}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 max-w-xs",children:w.notes||"-"})]},j))})]})})]})]}):a.jsxs("div",{className:"space-y-6 bg-white rounded-2xl shadow-sm p-8 border border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Trend Analysis"}),a.jsxs("div",{className:"text-center py-12",children:[a.jsx(er,{className:"mx-auto text-yellow-500 mb-4",size:48}),a.jsx("p",{className:"text-gray-600 text-lg mb-2",children:"Unable to analyze data"}),a.jsx("p",{className:"text-gray-400 text-sm",children:"There was an error processing the data for analysis."})]})]})},x7e=g.createContext(void 0),y7e=({isOpen:t,onClose:e,schedules:r,onSelectSchedule:n,titleDate:s})=>{const i=d=>{n(d)},o=r.reduce((d,h)=>{const m=String(h.scheduleId||"unknown");return d[m]||(d[m]={scheduleId:m,machine:h.mesin,unit:h.unitWilayah,interval:h.interval,items:[]}),d[m].items.push(h),d},{}),l=({status:d})=>{const h={New:{color:"bg-blue-100 text-blue-800 border-blue-200",icon:""},"On Progress":{color:"bg-yellow-100 text-yellow-800 border-yellow-200",icon:""},Done:{color:"bg-green-100 text-green-800 border-green-200",icon:""},Cancelled:{color:"bg-red-100 text-red-800 border-red-200",icon:""}},m=h[d]||h.New;return a.jsxs("span",{className:`inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-semibold border ${m.color}`,children:[a.jsx("span",{className:"text-xs",children:m.icon}),d]})},c=({status:d})=>{const h={MS:{color:"bg-green-100 text-green-800 border-green-200",label:"Within Standard"},TMS:{color:"bg-red-100 text-red-800 border-red-200",label:"Out of Standard"},"N/A":{color:"bg-gray-100 text-gray-800 border-gray-200",label:"Not Applicable"}}[d]||{color:"bg-gray-100 text-gray-800 border-gray-200",label:d};return a.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-lg text-xs font-medium border ${h.color}`,children:h.label})};return a.jsx(gQ,{isOpen:t,onClose:e,title:`Schedules for ${new Date(s).toLocaleDateString("en-US",{weekday:"long",day:"numeric",month:"long",year:"numeric"})}`,className:"max-w-4xl",maxWidth:"max-w-4xl",children:a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-2xl p-6 border border-blue-100",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Daily Overview"}),a.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(xn,{className:"w-4 h-4"}),r.length," total items"]}),a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(Tn,{className:"w-4 h-4"}),Object.keys(o).length," schedules"]})]})]}),a.jsxs("div",{className:"flex gap-2",children:[Object.values(o).some(d=>d.items.some(h=>h.scheduleStatus==="Done"))&&a.jsx(l,{status:"Done"}),Object.values(o).some(d=>d.items.some(h=>h.scheduleStatus==="On Progress"))&&a.jsx(l,{status:"On Progress"}),Object.values(o).some(d=>d.items.some(h=>h.scheduleStatus==="New"))&&a.jsx(l,{status:"New"})]})]})}),r.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-2xl flex items-center justify-center mx-auto mb-4",children:a.jsx(xn,{className:"text-gray-400 text-2xl"})}),a.jsx("p",{className:"text-gray-600 text-lg font-medium mb-2",children:"No schedules for this date"}),a.jsx("p",{className:"text-gray-400 text-sm",children:"There are no maintenance schedules scheduled for this day."})]}):a.jsx("div",{className:"space-y-4",children:Object.values(o).map(d=>a.jsxs(C.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-white rounded-2xl border border-gray-200 shadow-sm overflow-hidden hover:shadow-md transition-all duration-200",children:[a.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-blue-50 px-6 py-4 border-b border-gray-100",children:a.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-3",children:a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("h4",{className:"text-lg font-bold text-gray-900",children:d.machine}),d.items.every(h=>h.scheduleStatus===d.items[0].scheduleStatus)&&a.jsx(l,{status:d.items[0].scheduleStatus||"New"})]}),a.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[a.jsxs("span",{className:"flex items-center gap-1.5",children:[a.jsx(ir,{className:"w-4 h-4"}),d.items.length," item",d.items.length>1?"s":""]}),a.jsxs("span",{className:"flex items-center gap-1.5",children:[a.jsx(Lt,{className:"w-4 h-4"}),d.interval]}),a.jsxs("span",{className:"flex items-center gap-1.5",children:[a.jsx(kn,{className:"w-4 h-4"}),d.unit]})]})]})})}),a.jsx("div",{className:"divide-y divide-gray-100",children:d.items.map((h,m)=>a.jsxs(C.button,{whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)",scale:1.005},whileTap:{scale:.995},onClick:()=>i(h),className:"w-full text-left p-6 transition-all duration-200 flex justify-between items-start gap-4",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{children:[a.jsx("h5",{className:"text-base font-semibold text-gray-900 mb-1",children:h.item}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx(l,{status:h.scheduleStatus||"New"}),h.monitoringResult&&h.monitoringResult!=="N/A"&&a.jsxs("span",{className:"inline-flex items-center px-2.5 py-1 bg-purple-100 text-purple-800 rounded-lg text-xs font-medium border border-purple-200",children:[" Result: ",h.monitoringResult]})]})]}),a.jsx(c,{status:h.msStatus})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[h.standardMin!==null&&h.standardMax!==null&&a.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[a.jsx("span",{className:"font-medium",children:"Standard:"}),a.jsxs("span",{children:[h.standardMin," - ",h.standardMax]})]}),h.unitOfMeasure&&h.unitOfMeasure!=="N/A"&&a.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[a.jsx("span",{className:"font-medium",children:"Unit:"}),a.jsx("span",{children:h.unitOfMeasure})]}),h.notes&&h.notes!=="N/A"&&a.jsxs("div",{className:"md:col-span-2 flex items-start gap-2 text-gray-600",children:[a.jsx("span",{className:"font-medium mt-0.5",children:"Notes:"}),a.jsx("span",{className:"flex-1",children:h.notes})]})]})]}),a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"p-2 rounded-lg bg-blue-50 text-blue-600",children:a.jsx(sn,{className:"w-4 h-4"})})})]},`${h.id}-${m}`))})]},d.scheduleId))}),a.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-100",children:a.jsx(C.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:e,className:"px-6 py-3 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 transition-colors duration-200 font-semibold text-sm",children:"Close"})})]})})},Dz=()=>{const t=jt(),{getMonitoringSchedules:e,getAllMasterMonitoring:r,getMonitoringScheduleById:n}=St(),[s,i]=g.useState(()=>{const K=localStorage.getItem("sidebarOpen");return JSON.parse(K||"false")}),[o,l]=g.useState(!1),[c,d]=g.useState(!0),[h,m]=g.useState(null),[x,y]=g.useState(window.innerWidth<768),[w,j]=g.useState(!1),[v,N]=g.useState(!1),[T,S]=g.useState(!1),[O,_]=g.useState(!1),[A,E]=g.useState(null),[D,$]=g.useState("calendar"),[I,L]=g.useState(null),[R,z]=g.useState(null),[Y,W]=g.useState([]),[H,P]=g.useState([]),[F,X]=g.useState([]),[te,q]=g.useState(""),[Z,ie]=g.useState(!1),[oe,le]=g.useState(1),[ge,Le]=g.useState([]),[Oe,xe]=g.useState([]),[Me,Be]=g.useState([]),[re,se]=g.useState({startDate:null,endDate:null,selectedUnits:[]}),[ee,ve]=g.useState(!1),[Ge,Ke]=g.useState([]),[ye,ot]=g.useState(""),mt=g.useRef(null),nt=g.useRef(null),[xt,Nt]=g.useState([]),[wt,zt]=g.useState([]),[rt,Ne]=g.useState(!1),[ze,we]=g.useState(!1),ut=g.useRef(null),[ht,We]=g.useState(!1),he=g.useRef(null),[Je,Ue]=g.useState(!1),ae=g.useRef(null),ne=g.useMemo(()=>[{value:"MS",label:"MS"},{value:"TMS",label:"TMS"},{value:"N/A",label:"N/A"}],[]);g.useMemo(()=>[{value:"Daily",label:"Daily"},{value:"Weekly",label:"Weekly"},{value:"Monthly",label:"Monthly"},{value:"3 Months",label:"3 Months"},{value:"6 Months",label:"6 Months"},{value:"1 Year",label:"1 Year"}],[]);const Te=g.useMemo(()=>ge.map(K=>{var fr;const ke=Oe.flatMap(Tt=>Tt.mesin).find(Tt=>Tt.id===K.id_mesins),He=(ke==null?void 0:ke.name)||`Machine ${K.id_mesins}`,Pt=((fr=K.monitoring_interval)==null?void 0:fr.type_interval)||"weekly";return{id:`schedule-${K.id_monitoring_schedule}`,mesin:He,item:"",interval:Pt,unitWilayah:K.unit,unitOfMeasure:"N/A",standardMin:null,standardMax:null,standartVisual:"N/A"}}),[ge,Oe]),et=g.useCallback((K,ke,He)=>{const Pt=[];K.forEach(Tt=>{var Ms;const Bt=He.flatMap(or=>or.mesin).find(or=>or.id===Tt.id_mesins),pr=(Bt==null?void 0:Bt.name)||`Machine ${Tt.id_mesins}`,xr=((Ms=Tt.monitoring_interval)==null?void 0:Ms.type_interval)||"weekly",yn=xr==="weekly"?"Weekly":xr==="monthly"?"Monthly":xr==="quarterly"?"3 Months":xr==="semi-annual"?"6 Months":xr==="yearly"?"1 Year":"Daily",Cr=Tt.item_mesins&&Tt.item_mesins.length>0?Tt.item_mesins:(Bt==null?void 0:Bt.item_mesin)||[];Tt.monitoring_activities&&Tt.monitoring_activities.length>0?Tt.monitoring_activities.forEach(or=>{var Dn;let Qn=Cr.find(Kr=>Kr.id===or.id_item_mesin);if(!Qn)for(const Kr of He){for(const Nd of Kr.mesin){const kd=(Dn=Nd.item_mesin)==null?void 0:Dn.find(Zc=>Zc.id===or.id_item_mesin);if(kd){Qn=kd;break}}if(Qn)break}Qn||(console.warn(`Item mesin not found for activity ${or.id_monitoring_activity}, item_mesin_id: ${or.id_item_mesin}`),Qn={id:or.id_item_mesin,item_mesin:"Unknown Item",satuan:"N/A",standard_min:null,standard_max:null,standard_visual:"N/A",interval_id:1,mesin_id:Tt.id_mesins,created_at:"",updated_at:""});let ba="N/A";or.hasil_ms_tms==="ms"?ba="MS":or.hasil_ms_tms==="tms"&&(ba="TMS");let Yr=or.hasil_monitoring||"N/A";if(or.hasil_monitoring&&or.hasil_monitoring!=="N/A"){const Kr=parseFloat(or.hasil_monitoring);!isNaN(Kr)&&isFinite(Kr)&&(Yr=Kr.toString())}Pt.push({id:`activity-${or.id_monitoring_activity}`,mesin:pr,date:or.tgl_monitoring,interval:yn,unitWilayah:Tt.unit,item:Qn.item_mesin||"Unknown Item",unitOfMeasure:Qn.satuan||"N/A",standardMin:Qn.standard_min?parseFloat(Qn.standard_min):null,standardMax:Qn.standard_max?parseFloat(Qn.standard_max):null,standartVisual:Qn.standard_visual||"N/A",monitoringResult:Yr,msStatus:ba,notes:or.hasil_keterangan||"N/A",perbaikanPerawatan:"Preventive",description:`Monitoring activity for ${pr}`,pic:"System",shift:"N/A",group:"N/A",stopJam:0,stopMenit:0,startJam:0,startMenit:0,stopTime:"N/A",unit:Tt.unit,runningHour:0,itemTrouble:"N/A",jenisGangguan:"N/A",bentukTindakan:"N/A",rootCause:"N/A",jenisAktivitas:"Monitoring",kegiatan:"Routine inspection",kodePart:"N/A",sparePart:"N/A",idPart:"N/A",jumlah:0,unitSparePart:"N/A",scheduleId:Tt.id_monitoring_schedule,scheduleStatus:Tt.status||"New"})}):Cr.forEach(or=>{Pt.push({id:`schedule-${Tt.id_monitoring_schedule}-scheduled-${or.id}`,mesin:pr,date:Tt.tgl_start,interval:yn,unitWilayah:Tt.unit,item:or.item_mesin||"Unknown Item",unitOfMeasure:or.satuan||"N/A",standardMin:or.standard_min?parseFloat(or.standard_min):null,standardMax:or.standard_max?parseFloat(or.standard_max):null,standartVisual:or.standard_visual||"N/A",monitoringResult:"N/A",msStatus:"N/A",notes:"Scheduled monitoring - Not yet performed",perbaikanPerawatan:"Preventive",description:`Scheduled monitoring for ${pr}`,pic:"N/A",shift:"N/A",group:"N/A",stopJam:0,stopMenit:0,startJam:0,startMenit:0,stopTime:"N/A",unit:Tt.unit,runningHour:0,itemTrouble:"N/A",jenisGangguan:"N/A",bentukTindakan:"N/A",rootCause:"N/A",jenisAktivitas:"Monitoring",kegiatan:"Routine inspection",kodePart:"N/A",sparePart:"N/A",idPart:"N/A",jumlah:0,unitSparePart:"N/A",scheduleId:Tt.id_monitoring_schedule,scheduleStatus:Tt.status||"New"})})}),console.log("Converted records:",Pt.length),console.log("Sample converted records:",Pt.slice(0,5));const fr=Pt.filter(Tt=>Tt.monitoringResult&&Tt.monitoringResult!=="N/A"&&!isNaN(parseFloat(Tt.monitoringResult)));return console.log("Numeric records available:",fr.length),console.log("Numeric records sample:",fr.slice(0,3)),Pt},[]),[ct,pe]=g.useState([]),B=300*1e3,[ce,be]=g.useState(null);g.useEffect(()=>{let K=!0;const ke=new AbortController;return(async()=>{var fr,Tt,Bt;if(!K)return;const Pt=Date.now();if(ce&&Pt-ce.timestamp<B){Le(ce.schedules),xe(ce.masterData.unitsWithMachines||[]),Be(ce.masterData.intervals||[]);const pr=et(ce.schedules,[],ce.masterData.unitsWithMachines||[]);pe(pr),d(!1);return}try{d(!0),m(null);const[pr,xr]=await Promise.all([e(),r()]);if(!K)return;console.log("Schedules data:",pr),console.log("Master data:",xr),console.log("Units with machines:",xr.unitsWithMachines),xr.unitsWithMachines&&xr.unitsWithMachines.length>0&&console.log("Sample machine items:",(Bt=(Tt=(fr=xr.unitsWithMachines[0])==null?void 0:fr.mesin)==null?void 0:Tt[0])==null?void 0:Bt.item_mesin),be({schedules:pr,masterData:xr,timestamp:Pt}),Le(pr),xe(xr.unitsWithMachines||[]),Be(xr.intervals||[]);const yn=et(pr,[],xr.unitsWithMachines||[]);pe(yn)}catch(pr){if(!K)return;m(pr instanceof Error?pr.message:"Failed to fetch data")}finally{K&&d(!1)}})(),()=>{K=!1,ke.abort()}},[e,r,et,ce]);const Se={role:"Unit Head Engineering"},$e=g.useMemo(()=>["",...new Set(ct.map(K=>K.unitWilayah))],[ct]),ue=g.useMemo(()=>["",...new Set(ct.map(K=>K.mesin))],[ct]);g.useMemo(()=>["",...new Set(ct.map(K=>K.item))],[ct]);const fe=g.useMemo(()=>{if(ct.length===0)return[];let K=ct;if(te){const ke=te.toLowerCase();if(K=K.filter(He=>He.mesin.toLowerCase().includes(ke)||He.item.toLowerCase().includes(ke)||He.unitWilayah.toLowerCase().includes(ke)),K.length===0)return[]}if(I&&R){const ke=I.toISOString().split("T")[0],He=R.toISOString().split("T")[0];if(K=K.filter(Pt=>Pt.date>=ke&&Pt.date<=He),K.length===0)return[]}if(xt.length>0){const ke=new Set(xt);if(K=K.filter(He=>ke.has(He.msStatus)),K.length===0)return[]}if(Y.length>0){const ke=new Set(Y);if(K=K.filter(He=>ke.has(He.unitWilayah)),K.length===0)return[]}if(H.length>0){const ke=new Set(H);if(K=K.filter(He=>ke.has(He.mesin)),K.length===0)return[]}return K},[ct,I,R,xt,Y,H,te]);g.useEffect(()=>{const K=()=>{y(window.innerWidth<768),window.innerWidth<768&&i(!1)};return window.addEventListener("resize",K),()=>window.removeEventListener("resize",K)},[]),g.useEffect(()=>{const K=ke=>{mt.current&&!mt.current.contains(ke.target)&&j(!1),nt.current&&!nt.current.contains(ke.target)&&N(!1),ut.current&&!ut.current.contains(ke.target)&&!ke.target.closest(".status-filter-toggle")&&we(!1),he.current&&!he.current.contains(ke.target)&&!ke.target.closest(".machine-filter-toggle")&&We(!1),ae.current&&!ae.current.contains(ke.target)&&!ke.target.closest(".unit-filter-toggle")&&Ue(!1)};return document.addEventListener("mousedown",K),()=>{document.removeEventListener("mousedown",K)}},[]);const Ae=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!s)),i(K=>!K)},tt=K=>{E(K),S(!0)},dt=g.useCallback(K=>{pe(ke=>ke.map(He=>He.id===K.id?K:He))},[]),pt=(K,ke)=>new Date(K,ke+1,0).getDate(),Ee=(K,ke)=>{const He=new Date(K,ke,1).getDay();return He===0?6:He-1},Ye=g.useMemo(()=>new Date,[]),[bt,Qt]=g.useState(Ye),Dr=()=>{Qt(K=>new Date(K.getFullYear(),K.getMonth()-1,1))},Vr=()=>{Qt(K=>new Date(K.getFullYear(),K.getMonth()+1,1))},Ot=()=>{Qt(new Date)},dr=(K,ke)=>{Ke(K),ot(ke),ve(!0)},Rt=K=>{console.log("Navigating with record:",K);let ke;if(K.scheduleId)ke=K.scheduleId;else if(K.id.startsWith("schedule-")){const He=K.id.split("-");He.length>=2&&(ke=He[1])}else if(K.id.startsWith("activity-")){const He=K.id.split("-");if(He.length>=2){for(let Pt of He)if(/^\d+$/.test(Pt)){ke=Pt;break}}}if(!ke){console.error("Could not extract schedule ID from record:",K),alert("Error: Could not determine schedule ID");return}console.log("Navigating to schedule ID:",ke),t(`/monitoringmaintenance/detailmonitoringmaintenance/${ke}`),ve(!1)},Or=()=>{const K=bt.getFullYear(),ke=bt.getMonth(),He=pt(K,ke),Pt=Ee(K,ke),fr=[];let Tt=1,Bt=[],pr=null;for(let xr=0;xr<Pt;xr++)Bt.push(a.jsx("div",{className:"p-3 rounded-xl bg-gray-50 border border-gray-100 min-h-[100px] flex flex-col items-center justify-center",children:a.jsx("span",{className:"text-sm text-gray-400",children:"-"})},`empty-pre-${xr}`));for(;Tt<=He;){const xr=new Date(K,ke,Tt);pr||(pr=xr);const yn=`${K}-${String(ke+1).padStart(2,"0")}-${String(Tt).padStart(2,"0")}`,Cr=fe.filter(Yr=>Yr.date===yn),Ms=Cr.reduce((Yr,Dn)=>{const Kr=String(Dn.scheduleId||"unknown");return Yr[Kr]?Yr[Kr].items.push(Dn):Yr[Kr]={scheduleId:Kr,machine:Dn.mesin,items:[Dn]},Yr},{}),or=Object.values(Ms),Lo=Ye.toDateString()===xr.toDateString(),Qn=or.length>0;let ba="p-3 rounded-xl border-2 min-h-[100px] flex flex-col transition-all duration-200 ";if(Lo)ba+="bg-blue-50 border-blue-200 shadow-sm ";else if(Qn){const Yr=or.flatMap(Dn=>Dn.items.map(Kr=>Kr.scheduleStatus||"New"));Yr.includes("Done")?ba+="bg-green-50 border-green-200 ":Yr.includes("On Progress")?ba+="bg-yellow-50 border-yellow-200 ":ba+="bg-blue-50 border-blue-200 "}else ba+="bg-white border-gray-100 hover:border-gray-200 ";if(ba+="hover:shadow-md hover:scale-[1.02] cursor-pointer ",Bt.push(a.jsxs(C.div,{className:ba,whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>Qn&&dr(Cr,yn),children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsx("span",{className:`text-sm font-semibold ${Lo?"text-blue-600":Qn?"text-gray-900":"text-gray-500"}`,children:Tt}),Lo&&a.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"})]}),a.jsxs("div",{className:"flex-1 flex flex-col gap-1.5",children:[or.slice(0,2).map((Yr,Dn)=>a.jsxs("div",{className:`px-2 py-1.5 rounded-lg text-xs font-medium ${Yr.items[0].scheduleStatus==="Done"?"bg-green-100 text-green-800 border border-green-200":Yr.items[0].scheduleStatus==="On Progress"?"bg-yellow-100 text-yellow-800 border border-yellow-200":"bg-blue-100 text-blue-800 border border-blue-200"}`,children:[a.jsx("div",{className:"font-semibold truncate",children:Yr.machine}),a.jsxs("div",{className:"text-xs opacity-75 mt-0.5",children:[Yr.items.length," item",Yr.items.length>1?"s":""]})]},Yr.scheduleId)),or.length>2&&a.jsxs("div",{className:"px-2 py-1 bg-gray-100 text-gray-600 rounded-lg text-xs font-medium text-center",children:["+",or.length-2," more"]})]})]},yn)),Bt.length===7||Tt===He){for(;Bt.length<7;)Bt.push(a.jsx("div",{className:"p-3 rounded-xl bg-gray-50 border border-gray-100 min-h-[100px] flex flex-col items-center justify-center",children:a.jsx("span",{className:"text-sm text-gray-400",children:"-"})},`empty-post-${Bt.length}`));const Yr=pr?m7e(pr):null;fr.push(a.jsxs(g.Fragment,{children:[a.jsx("div",{className:"p-3 rounded-xl bg-gradient-to-br from-gray-50 to-gray-100 border border-gray-200 flex items-center justify-center",children:a.jsx("span",{className:"text-sm font-bold text-gray-600",children:Yr!==null?`${String(Yr).padStart(2,"0")}`:""})}),Bt]},`week-row-${Tt}`)),Bt=[],pr=null}Tt++}return fr};g.useMemo(()=>{const K=ct.filter(He=>He),ke=[];return K.forEach(He=>{ke.push({id:`approval-${He.id}`,icon:a.jsx(tO,{className:"text-orange-500"}),title:`Approval Needed: ${He.mesin} - ${He.item}`,description:`Record for ${He.mesin} - ${He.item} is awaiting your approval ().`,date:new Date(He.date).toLocaleDateString("en-US")})}),ke},[ct,Se.role]);const _e=(K,ke)=>{Nt(ke?He=>[...He,K]:He=>He.filter(Pt=>Pt!==K))},De=(K,ke)=>{P(ke?He=>[...He,K]:He=>He.filter(Pt=>Pt!==K))},Ze=(K,ke)=>{W(ke?He=>[...He,K]:He=>He.filter(Pt=>Pt!==K))};return re.startDate!==null&&re.endDate,re.selectedUnits.length>0,re.selectedUnits.every(K=>K.machines.length>0&&K.machines.every(ke=>ke.selectedInterval!==null)),re.selectedUnits.every(K=>K.machines.every(ke=>ke.selectedInterval===null||ke.selectedInterval!==null&&ke.selectedItems.length>0)),a.jsx(x7e.Provider,{value:{records:ct,setRecords:pe,routineSchedules:Te},children:a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Mt,{mainTitle:"Moninoring Maintenance",mainTitleHighlight:"Management",description:"Manage user roles and permissions to control access and functionality within the system.",icon:a.jsx(Fh,{}),isMobile:x,toggleSidebar:Ae}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Monitoring ",a.jsx("span",{className:"text-blue-600",children:"Maintenance"})]}),a.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Monitor and schedule preventive maintenance tasks for all machines, and track their approval progress."})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs(C.button,{onClick:()=>t("/monitoringmaintenance/formmonitoringmaintenance"),whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-full text-sm font-semibold shadow-md hover:bg-blue-700 transition-colors duration-200",children:[a.jsx(Jn,{className:"w-4 h-4 mr-2"})," Add Schedule"]}),a.jsxs("div",{className:"flex space-x-1 p-1 bg-white rounded-full shadow-sm border border-gray-100",children:[a.jsxs(C.button,{onClick:()=>$("calendar"),whileTap:{scale:.95},className:`flex items-center px-4 py-2 rounded-full text-sm font-semibold transition-colors duration-200 ${D==="calendar"?"bg-blue-600 text-white shadow":"text-gray-700 hover:bg-gray-100"}`,children:[a.jsx(xn,{className:"w-4 h-4 mr-2"})," Calendar"]}),a.jsxs(C.button,{onClick:()=>$("table"),whileTap:{scale:.95},className:`flex items-center px-4 py-2 rounded-full text-sm font-semibold transition-colors duration-200 ${D==="table"?"bg-blue-600 text-white shadow":"text-gray-700 hover:bg-gray-100"}`,children:[a.jsx(ir,{className:"w-4 h-4 mr-2"})," Table"]}),a.jsxs(C.button,{onClick:()=>$("trend"),whileTap:{scale:.95},className:`flex items-center px-4 py-2 rounded-full text-sm font-semibold transition-colors duration-200 ${D==="trend"?"bg-blue-600 text-white shadow":"text-gray-700 hover:bg-gray-100"}`,children:[a.jsx(Ou,{className:"w-4 h-4 mr-2"})," Trend"]})]})]})]}),c?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),a.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading maintenance data..."})]}):ct.length===0?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx(sa,{className:"text-blue-500 text-4xl mx-auto mb-4"}),a.jsx("p",{className:"text-gray-700 text-base font-medium",children:"No monitoring data available."})]}):a.jsx(kt,{mode:"wait",children:a.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:[a.jsxs(C.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Wn,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),a.jsx("input",{type:"text",placeholder:"Search by Interval, unit, or machine...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:te,onChange:K=>q(K.target.value),"aria-label":"Search records"})]}),a.jsxs(C.button,{whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},onClick:()=>ie(!Z),className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(Xa,{className:"text-base"}),a.jsx("span",{children:"Filter"}),a.jsx(C.span,{animate:{rotate:Z?180:0},transition:{duration:.2},children:a.jsx(cn,{className:"text-base"})})]})]}),a.jsx(kt,{children:Z&&a.jsxs(C.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 w-full",children:[a.jsxs("div",{className:"flex items-center space-x-2 bg-white p-2.5 rounded-lg border border-blue-200 shadow-sm",children:[a.jsx(xn,{className:"text-gray-500 text-base"}),a.jsx(zc,{selected:I,onChange:K=>L(K),selectsStart:!0,startDate:I,endDate:R,placeholderText:"Start Date",className:"w-24 focus:outline-none bg-transparent text-sm text-gray-800 placeholder-gray-400",dateFormat:"dd/MM/yyyy",isClearable:!0,"aria-label":"Start Date"}),a.jsx("span",{className:"text-gray-400",children:"-"}),a.jsx(zc,{selected:R,onChange:K=>z(K),selectsEnd:!0,startDate:I,endDate:R,minDate:I||void 0,placeholderText:"End Date",className:"w-24 focus:outline-none bg-transparent text-sm text-gray-800 placeholder-gray-400",dateFormat:"dd/MM/yyyy",isClearable:!0,"aria-label":"End Date"}),(I||R)&&a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{L(null),z(null)},className:"p-1 rounded-full text-gray-400 hover:bg-gray-100 transition-colors",title:"Clear Dates","aria-label":"Clear date range",children:a.jsx(at,{className:"text-base"})})]}),a.jsxs("div",{ref:ut,className:"relative w-full",children:[a.jsxs("button",{type:"button",className:"status-filter-toggle w-full border border-blue-200 rounded-lg px-4 py-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm text-left flex justify-between items-center transition-all duration-200 shadow-sm cursor-pointer",onClick:K=>{K.stopPropagation(),we(!ze)},"aria-expanded":ze,"aria-haspopup":"true","aria-label":"Filter by Status",children:[a.jsx("span",{children:xt.length>0?xt.length===ne.length?"All Status":`Selected (${xt.length})`:"All Status"}),a.jsx(cn,{className:`transform transition-transform ${ze?"rotate-180":"rotate-0"} text-gray-500 text-base`})]}),a.jsx(kt,{children:ze&&a.jsxs(C.div,{initial:{opacity:0,y:5,height:0},animate:{opacity:1,y:0,height:"auto"},exit:{opacity:0,y:5,height:0},transition:{duration:.15},className:"absolute top-full left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-50 max-h-56 overflow-y-auto custom-scrollbar",role:"listbox",children:[a.jsxs("label",{className:"flex items-center p-2.5 hover:bg-blue-50 cursor-pointer border-b border-blue-50",role:"option",children:[a.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 rounded focus:ring-blue-500 transition duration-150 ease-in-out",checked:xt.length===ne.length&&ne.length>0,onChange:K=>{K.target.checked?Nt(ne.map(ke=>ke.value)):Nt([])}}),a.jsx("span",{className:"ml-2 text-gray-800 font-semibold text-sm",children:"Select All"})]}),ne.map(K=>a.jsxs("label",{className:"flex items-center p-2.5 hover:bg-blue-50 cursor-pointer",role:"option",children:[a.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 rounded focus:ring-blue-500 transition duration-150 ease-in-out",checked:xt.includes(K.value),onChange:ke=>_e(K.value,ke.target.checked)}),a.jsx("span",{className:"ml-2 text-gray-800 text-sm",children:K.label})]},K.value))]})})]}),a.jsxs("div",{ref:ae,className:"relative w-full",children:[a.jsxs("button",{type:"button",className:"unit-filter-toggle w-full border border-blue-200 rounded-lg px-4 py-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm text-left flex justify-between items-center transition-all duration-200 shadow-sm cursor-pointer",onClick:K=>{K.stopPropagation(),Ue(!Je)},"aria-expanded":Je,"aria-haspopup":"true","aria-label":"Filter by Unit",children:[a.jsx("span",{children:Y.length>0?Y.length===$e.length-1?"All Units":`Selected (${Y.length})`:"All Units"}),a.jsx(cn,{className:`transform transition-transform ${Je?"rotate-180":"rotate-0"} text-gray-500 text-base`})]}),a.jsx(kt,{children:Je&&a.jsxs(C.div,{initial:{opacity:0,y:5,height:0},animate:{opacity:1,y:0,height:"auto"},exit:{opacity:0,y:5,height:0},transition:{duration:.15},className:"absolute top-full left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-50 max-h-56 overflow-y-auto custom-scrollbar",role:"listbox",children:[a.jsxs("label",{className:"flex items-center p-2.5 hover:bg-blue-50 cursor-pointer border-b border-blue-50",role:"option",children:[a.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 rounded focus:ring-blue-500 transition duration-150 ease-in-out",checked:Y.length===$e.length-1&&$e.length>1,onChange:K=>{K.target.checked?W($e.slice(1)):W([])}}),a.jsx("span",{className:"ml-2 text-gray-800 font-semibold text-sm",children:"Select All"})]}),$e.slice(1).map(K=>a.jsxs("label",{className:"flex items-center p-2.5 hover:bg-blue-50 cursor-pointer",role:"option",children:[a.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 rounded focus:ring-blue-500 transition duration-150 ease-in-out",checked:Y.includes(K),onChange:ke=>Ze(K,ke.target.checked)}),a.jsx("span",{className:"ml-2 text-gray-800 text-sm",children:K})]},K))]})})]}),a.jsxs("div",{ref:he,className:"relative w-full",children:[a.jsxs("button",{type:"button",className:"machine-filter-toggle w-full border border-blue-200 rounded-lg px-4 py-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm text-left flex justify-between items-center transition-all duration-200 shadow-sm cursor-pointer",onClick:K=>{K.stopPropagation(),We(!ht)},"aria-expanded":ht,"aria-haspopup":"true","aria-label":"Filter by Machine",children:[a.jsx("span",{children:H.length>0?H.length===ue.length-1?"All Machines":`Selected (${H.length})`:"All Machines"}),a.jsx(cn,{className:`transform transition-transform ${ht?"rotate-180":"rotate-0"} text-gray-500 text-base`})]}),a.jsx(kt,{children:ht&&a.jsxs(C.div,{initial:{opacity:0,y:5,height:0},animate:{opacity:1,y:0,height:"auto"},exit:{opacity:0,y:5,height:0},transition:{duration:.15},className:"absolute top-full left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-50 max-h-56 overflow-y-auto custom-scrollbar",role:"listbox",children:[a.jsxs("label",{className:"flex items-center p-2.5 hover:bg-blue-50 cursor-pointer border-b border-blue-50",role:"option",children:[a.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 rounded focus:ring-blue-500 transition duration-150 ease-in-out",checked:H.length===ue.length-1&&ue.length>1,onChange:K=>{K.target.checked?P(ue.slice(1)):P([])}}),a.jsx("span",{className:"ml-2 text-gray-800 font-semibold text-sm",children:"Select All"})]}),ue.slice(1).map(K=>a.jsxs("label",{className:"flex items-center p-2.5 hover:bg-blue-50 cursor-pointer",role:"option",children:[a.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 rounded focus:ring-blue-500 transition duration-150 ease-in-out",checked:H.includes(K),onChange:ke=>De(K,ke.target.checked)}),a.jsx("span",{className:"ml-2 text-gray-800 text-sm",children:K})]},K))]})})]})]})})]}),D==="calendar"&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"bg-white rounded-2xl shadow-sm p-6 border border-gray-100",children:a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[a.jsxs("div",{className:"text-center lg:text-left",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:bt.toLocaleDateString("en-US",{month:"long",year:"numeric"})}),a.jsx("p",{className:"text-gray-600 text-sm",children:"Monitor your maintenance schedules and activities"})]}),a.jsxs("div",{className:"flex items-center justify-center gap-3",children:[a.jsx(C.button,{whileHover:{scale:1.05,backgroundColor:"rgba(59, 130, 246, 0.1)"},whileTap:{scale:.95},onClick:Dr,className:"p-3 rounded-xl text-gray-600 hover:text-blue-600 hover:bg-blue-50 transition-all duration-200 border border-gray-200","aria-label":"Previous month",children:a.jsx(Il,{size:20})}),a.jsx(C.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ot,className:"px-4 py-3 bg-blue-600 text-white rounded-xl text-sm font-semibold shadow-lg hover:bg-blue-700 transition-colors duration-200",children:"Today"}),a.jsx(C.button,{whileHover:{scale:1.05,backgroundColor:"rgba(59, 130, 246, 0.1)"},whileTap:{scale:.95},onClick:Vr,className:"p-3 rounded-xl text-gray-600 hover:text-blue-600 hover:bg-blue-50 transition-all duration-200 border border-gray-200","aria-label":"Next month",children:a.jsx(sn,{size:20})})]})]})}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-6 border border-gray-100",children:[a.jsxs("div",{className:"grid grid-cols-8 gap-2 mb-4",children:[a.jsx("div",{className:"p-3 text-center",children:a.jsx("span",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wider",children:"WN"})}),["Mon","Tue","Wed","Thu","Fri","Sat","Sun"].map(K=>a.jsx("div",{className:"p-3 text-center",children:a.jsx("span",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wider",children:K})},K))]}),a.jsx("div",{className:"grid grid-cols-8 gap-2",children:Or()})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-6 border border-gray-100",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Schedule Status"}),a.jsxs("div",{className:"flex flex-wrap gap-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-4 h-4 bg-blue-100 border-2 border-blue-400 rounded-full"}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"New / Not Started"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-4 h-4 bg-yellow-100 border-2 border-yellow-400 rounded-full"}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"On Progress"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-4 h-4 bg-green-100 border-2 border-green-400 rounded-full"}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Done / Completed"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-4 h-4 bg-gray-100 border-2 border-gray-300 rounded-full"}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"No Schedule"})]})]})]})]}),D==="table"&&a.jsx("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:a.jsx("div",{className:"overflow-x-auto bg-white rounded-lg shadow-md mt-6 animate-fade-in",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Interval"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Machine"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Item"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Monitoring Result"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"MS Status"}),a.jsx("th",{className:"relative px-6 py-3",children:a.jsx("span",{className:"sr-only",children:"Actions"})})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:fe.length>0?fe.map(K=>a.jsxs(C.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:K.date}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:K.interval}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:K.unitWilayah}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:K.mesin}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:K.item}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:K.monitoringResult}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:a.jsx("span",{className:`px-2.5 py-0.5 rounded-full text-xs font-semibold ${K.msStatus==="MS"?"bg-green-100 text-green-800":K.msStatus==="TMS"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:K.msStatus})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>tt(K),className:"text-blue-600 hover:text-blue-900 transition-colors duration-200",title:"View Details",children:a.jsx(us,{size:18})})})]},K.id)):a.jsx("tr",{children:a.jsx("td",{colSpan:8,className:"px-6 py-4 text-center text-sm text-gray-500",children:"No monitoring data found."})})})]})})}),D==="trend"&&a.jsx(g7e,{records:fe})]},D)})]})]}),a.jsx(gQ,{isOpen:T,onClose:()=>S(!1),title:"Monitoring Details",children:A&&a.jsxs(a.Fragment,{children:[a.jsx(p7e,{record:A,onUpdateRecord:dt}),a.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200 flex justify-center",children:a.jsxs(C.button,{onClick:()=>Rt(A),whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-5 py-2.5 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors duration-200 font-semibold text-sm flex items-center",children:[a.jsx(us,{className:"w-4 h-4 mr-2"}),"View Full Details"]})})]})}),a.jsx(y7e,{isOpen:ee,onClose:()=>ve(!1),schedules:Ge,onSelectSchedule:Rt,titleDate:ye})]})})};function b7e(t,e){const[r,n]=g.useState(t);return g.useEffect(()=>{const s=setTimeout(()=>{n(t)},e);return()=>{clearTimeout(s)}},[t,e]),r}const Pz=({isOpen:t,onClose:e,title:r,children:n,className:s})=>a.jsx(kt,{children:t&&a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:a.jsxs(C.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${s||"max-w-xl w-full"}`,children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:r}),a.jsx("button",{onClick:e,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:a.jsx(at,{className:"text-xl"})})]}),a.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:n})]})})}),$y=({title:t,value:e,change:r,icon:n})=>{const s=r.startsWith("+");return a.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),a.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),a.jsxs("p",{className:`mt-3 text-xs font-semibold ${s?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})},v7e=({vendor:t,onClose:e})=>{const r=o=>o==null?"-":typeof o=="object"&&o!==null?o.name||o.title||o.id||"-":typeof o=="string"?o.trim()!==""?o.trim():"-":typeof o=="number"?o.toString():String(o),n=o=>o?new Date(o).toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-",s=({title:o,children:l,icon:c})=>a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[a.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-4 border-b border-gray-200",children:a.jsxs("div",{className:"flex items-center",children:[c&&a.jsx("div",{className:"mr-3 text-blue-600",children:c}),a.jsx("h3",{className:"text-lg font-bold text-gray-900",children:o})]})}),a.jsx("div",{className:"p-6",children:l})]}),i=({label:o,value:l,icon:c,fullWidth:d=!1,priority:h="medium"})=>{const m={high:"border-l-4 border-l-blue-500 bg-blue-25",medium:"border-l-2 border-l-gray-200",low:"border-l border-l-gray-100"};return a.jsx("div",{className:`${d?"col-span-full":""}`,children:a.jsx("div",{className:`p-4 rounded-lg ${m[h]} transition-all duration-200 hover:shadow-sm`,children:a.jsxs("div",{className:"flex items-start space-x-3",children:[c&&a.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:c}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1",children:o}),a.jsx("p",{className:"text-sm font-medium text-gray-900 leading-relaxed",children:l})]})]})})})};return a.jsxs("div",{className:"space-y-6 max-h-[70vh] overflow-y-auto custom-scrollbar pr-2",children:[a.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6",children:a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"flex items-center gap-3 mb-2",children:a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:t.name})}),a.jsxs("p",{className:"text-gray-600 flex items-center gap-2",children:[a.jsx(xn,{className:"w-4 h-4"}),"Vendor ID: ",t.id,"  Created: ",n(t.created_at)]})]}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs(C.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:e,className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-lg text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:[a.jsx(at,{className:"w-4 h-4 mr-2"}),"Close"]})})]})}),a.jsx(s,{title:"Basic Information",icon:a.jsx(Mr,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsx(i,{label:"Vendor ID",value:r(t.id),icon:a.jsx(ir,{className:"w-4 h-4"}),priority:"high"}),a.jsx(i,{label:"Vendor Name",value:r(t.name),icon:a.jsx(td,{className:"w-4 h-4"}),priority:"high"}),a.jsx(i,{label:"Contact Person",value:r(t.contact_person),icon:a.jsx(Mr,{className:"w-4 h-4"}),priority:"high"})]})}),a.jsx(s,{title:"Contact Information",icon:a.jsx(yo,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsx(i,{label:"Email",value:r(t.email),icon:a.jsx($h,{className:"w-4 h-4"}),priority:"high"}),a.jsx(i,{label:"Telephone",value:r(t.telp),icon:a.jsx(yo,{className:"w-4 h-4"})}),a.jsx(i,{label:"Mobile Phone",value:r(t.HP),icon:a.jsx(yo,{className:"w-4 h-4"})})]})}),a.jsx(s,{title:"Address Information",icon:a.jsx(Si,{className:"w-5 h-5"}),children:a.jsx("div",{className:"grid grid-cols-1 gap-4",children:a.jsx(i,{label:"Full Address",value:r(t.address),icon:a.jsx(Si,{className:"w-4 h-4"}),fullWidth:!0})})}),a.jsx(s,{title:"Additional Information",icon:a.jsx(sa,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(i,{label:"Created At",value:n(t.created_at),icon:a.jsx(xn,{className:"w-4 h-4"})}),a.jsx(i,{label:"Updated At",value:n(t.updated_at),icon:a.jsx(xn,{className:"w-4 h-4"})})]})})]})},w7e=()=>{ua();const[t,e]=g.useState([]),{getVendor:r,deleteVendor:n,user:s,hasPermission:i}=St(),[o,l]=g.useState([]),[c,d]=g.useState(!0),[h,m]=g.useState(!1),[x,y]=g.useState(null),[w,j]=g.useState(""),[v,N]=g.useState(""),[T,S]=g.useState(!1),[O,_]=g.useState(null),[A,E]=g.useState(!1),[D,$]=g.useState(null),I=g.useRef(!0),[L,R]=g.useState(null),[z,Y]=g.useState(null),W=g.useRef(null),[H,P]=g.useState(!1),[F,X]=g.useState(""),[te]=g.useState(window.innerWidth<768),[q,Z]=g.useState(()=>{const B=localStorage.getItem("sidebarOpen");return B?JSON.parse(B):!1}),[ie,oe]=g.useState(!1),[le,ge]=g.useState(null),[Le,Oe]=g.useState(!1),[xe,Me]=g.useState(null),Be=jt(),[re,se]=g.useState(!1),[ee,ve]=g.useState(!1),[Ge,Ke]=g.useState(!1),ye=g.useRef(null),ot=g.useRef(null),[mt,nt]=g.useState(1),[xt]=g.useState(10),[Nt,wt]=g.useState({key:"name",direction:"ascending"}),zt=b7e(F,300),rt=g.useMemo(()=>[{id:"name",name:"Vendor Name"},{id:"contact",name:"Contact Person"},{id:"email",name:"Email"},{id:"id",name:"Vendor ID"}],[]),Ne=g.useCallback(async()=>{try{d(!0);const ce=[...await r()].sort((be,Se)=>be.id-Se.id);e(ce),l(ce)}catch(B){$("Failed to load vendors"),console.error("Error loading vendors:",B)}finally{I.current&&d(!1)}},[r]);g.useEffect(()=>{Ne()},[Ne]),g.useEffect(()=>{let B=[...t];if(zt.trim()){const ce=zt.toLowerCase().trim();B=B.filter(be=>{var pt,Ee,Ye;const Se=ce.split(":");let $e="all",ue=ce;Se.length>1&&rt.some(bt=>bt.name.toLowerCase()===Se[0].trim())&&($e=Se[0].trim(),ue=Se.slice(1).join(":").trim());const fe=(pt=be.name)==null?void 0:pt.toLowerCase().includes(ue),Ae=(Ee=be.contact_person)==null?void 0:Ee.toLowerCase().includes(ue),tt=(Ye=be.email)==null?void 0:Ye.toLowerCase().includes(ue),dt=be.id.toString().includes(ue);return $e==="vendor name"?fe:$e==="contact person"?Ae:$e==="email"?tt:$e==="vendor id"?dt:fe||Ae||tt||dt})}if(L){const ce=new Date(L);ce.setHours(0,0,0,0),B=B.filter(be=>{if(!be.created_at)return!0;const Se=new Date(be.created_at);return Se.setHours(0,0,0,0),Se>=ce})}if(z){const ce=new Date(z);ce.setHours(23,59,59,999),B=B.filter(be=>{if(!be.created_at)return!0;const Se=new Date(be.created_at);return Se.setHours(0,0,0,0),Se<=ce})}Nt!==null&&B.sort((ce,be)=>{const Se=ae(ce[Nt.key]),$e=ae(be[Nt.key]);return Se<$e?Nt.direction==="ascending"?-1:1:Se>$e?Nt.direction==="ascending"?1:-1:0}),l(B)},[t,zt,L,z,Nt,rt]);const ze=()=>{const B=!q;Z(B),localStorage.setItem("sidebarOpen",JSON.stringify(B))},we=()=>{alert("Import functionality is not yet implemented.")},ut=B=>{const ce=B.target.value;X(ce)},ht=J.useMemo(()=>{if(!F)return rt;const B=F.toLowerCase();return rt.filter(ce=>ce.name.toLowerCase().includes(B))},[F,rt]),We=B=>{var ce;X(`${B}: `),P(!1),(ce=W.current)==null||ce.focus()},he=B=>{ge(B),Oe(!0)},Je=async B=>{try{await n(B),e(t.filter(ce=>ce.id!==B)),E(!1),Me(null)}catch(ce){console.error("Failed to delete Vendor:",ce),$("Failed to delete vendor. Please try again.")}};g.useCallback(B=>{Me(B),E(!0)},[]);const Ue=B=>{let ce="ascending";Nt&&Nt.key===B&&Nt.direction==="ascending"&&(ce="descending"),wt({key:B,direction:ce})},ae=B=>typeof B=="object"&&B!==null?B.name||B.toString():(B==null?void 0:B.toString())||"",ne=mt*xt,Te=ne-xt,et=o.slice(Te,ne),ct=Math.ceil(o.length/xt),pe=B=>nt(B);return g.useEffect(()=>{const B=ce=>{ye.current&&!ye.current.contains(ce.target)&&ve(!1),ot.current&&!ot.current.contains(ce.target)&&Ke(!1),W.current&&!W.current.contains(ce.target)&&!ce.target.closest(".search-suggestions")&&P(!1)};return document.addEventListener("mousedown",B),()=>{document.removeEventListener("mousedown",B)}},[]),a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Mt,{mainTitle:"Vendor",mainTitleHighlight:"Groups",description:"Manage service groups used across the service management system.",icon:a.jsx(koe,{}),isMobile:te,toggleSidebar:ze}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Vendors ",a.jsx("span",{className:"text-blue-600",children:"Management"})]}),a.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Organize and manage vendors by specific company."})]}),a.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[i("create_machine_history")&&a.jsxs(C.button,{onClick:()=>Be("/vendors/addvendor"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[a.jsx(Jn,{className:"text-base"}),a.jsx("span",{children:"Add Vendor"})]}),a.jsxs(C.button,{onClick:we,whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(Ja,{className:"text-base"}),a.jsx("span",{children:"Import"})]}),a.jsxs(C.button,{onClick:()=>oe(!ie),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(Xa,{className:"text-base"}),a.jsx("span",{children:"Filters"}),a.jsx(C.span,{animate:{rotate:ie?180:0},transition:{duration:.2},children:a.jsx(cn,{className:"text-base"})})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[a.jsx($y,{title:"Total Vendors",value:t.length.toString(),change:`+${Math.floor(t.length/10*100)}%`,icon:a.jsx(td,{className:"w-6 h-6"})}),a.jsx($y,{title:"Vendors with Email",value:t.filter(B=>B.email).length.toString(),change:`+${Math.floor(t.filter(B=>B.email).length/t.length*100)}%`,icon:a.jsx($h,{className:"w-6 h-6"})}),a.jsx($y,{title:"Vendors with Contact",value:t.filter(B=>B.contact_person).length.toString(),change:`+${Math.floor(t.filter(B=>B.contact_person).length/t.length*100)}%`,icon:a.jsx(xa,{className:"w-6 h-6"})}),a.jsx($y,{title:"Vendors with Phone",value:t.filter(B=>B.telp||B.HP).length.toString(),change:`+${Math.floor(t.filter(B=>B.telp||B.HP).length/t.length*100)}%`,icon:a.jsx(yo,{className:"w-6 h-6"})})]}),a.jsxs(C.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[a.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Wn,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),a.jsx("input",{ref:W,type:"text",placeholder:"Search by vendor name, contact, email, or ID...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:F,onChange:ut,onFocus:()=>P(!0),"aria-label":"Search vendors"}),a.jsx(kt,{children:H&&ht.length>0&&a.jsx(C.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.15},className:"search-suggestions absolute left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-10 max-h-56 overflow-y-auto custom-scrollbar",children:ht.map(B=>a.jsx(C.button,{onClick:()=>We(B.name),whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},className:"w-full text-left p-3 text-gray-700 hover:text-blue-700 transition-colors duration-150 text-sm",role:"option",children:a.jsx("span",{className:"font-semibold",children:B.name})},B.id))})})]})}),a.jsx(kt,{children:ie&&a.jsx(C.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full",children:a.jsxs("div",{className:"flex items-center space-x-2 bg-white p-2.5 rounded-lg border border-blue-200 shadow-sm",children:[a.jsx(xn,{className:"text-gray-500 text-base"}),a.jsx(zc,{selected:L,onChange:B=>R(B),selectsStart:!0,startDate:L,endDate:z,placeholderText:"Start Date",className:"w-24 focus:outline-none bg-transparent text-sm text-gray-800 placeholder-gray-400",dateFormat:"dd/MM/yyyy",isClearable:!0,"aria-label":"Start Date"}),a.jsx("span",{className:"text-gray-400",children:"-"}),a.jsx(zc,{selected:z,onChange:B=>Y(B),selectsEnd:!0,startDate:L,endDate:z,minDate:L||void 0,placeholderText:"End Date",className:"w-24 focus:outline-none bg-transparent text-sm text-gray-800 placeholder-gray-400",dateFormat:"dd/MM/yyyy",isClearable:!0,"aria-label":"End Date"}),(L||z)&&a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{R(null),Y(null)},className:"p-1 rounded-full text-gray-400 hover:bg-gray-100 transition-colors",title:"Clear Dates","aria-label":"Clear date range",children:a.jsx(at,{className:"text-base"})})]})})})]}),c?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),a.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading vendor data..."})]}):o.length===0?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx(sa,{className:"text-blue-500 text-4xl mx-auto mb-4"}),a.jsx("p",{className:"text-gray-700 text-base font-medium",children:zt||L||z?"No vendors found matching your filters.":"No vendors available."}),(zt||L||z)&&a.jsx("button",{onClick:()=>{X(""),R(null),Y(null)},className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear All Filters"})]}):a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:a.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:a.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[a.jsx("thead",{className:"bg-blue-50",children:a.jsxs("tr",{children:[a.jsxs("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider cursor-pointer",onClick:()=>Ue("id"),children:["No",(Nt==null?void 0:Nt.key)==="id"&&a.jsx("span",{className:"ml-1",children:Nt.direction==="ascending"?"":""})]}),a.jsxs("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider cursor-pointer",onClick:()=>Ue("name"),children:["Vendor Name",(Nt==null?void 0:Nt.key)==="name"&&a.jsx("span",{className:"ml-1",children:Nt.direction==="ascending"?"":""})]}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Address"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Contact Person"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Email"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Telp"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Handphone"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:et.map((B,ce)=>a.jsxs(C.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:ce+1})}),a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:B.name})}),a.jsx("td",{className:"px-5 py-3",children:a.jsx("div",{className:"text-sm text-gray-600 truncate max-w-xs",children:B.address||"-"})}),a.jsx("td",{className:"px-5 py-3",children:a.jsx("div",{className:"text-sm text-gray-600 truncate max-w-xs",children:B.contact_person||"-"})}),a.jsx("td",{className:"px-5 py-3",children:a.jsx("div",{className:"text-sm text-gray-600 truncate max-w-xs",children:B.email||"-"})}),a.jsx("td",{className:"px-5 py-3",children:a.jsx("div",{className:"text-sm text-gray-600 truncate max-w-xs",children:B.telp||"-"})}),a.jsx("td",{className:"px-5 py-3",children:a.jsx("div",{className:"text-sm text-gray-600 truncate max-w-xs",children:B.HP||"-"})}),a.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>he(B),className:"text-blue-600 hover:text-blue-800 transition-colors duration-200 p-1 rounded-full hover:bg-blue-50",title:"View Details","aria-label":`View details for vendor ${B.name}`,children:a.jsx(us,{className:"inline text-base"})}),a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>Be(`/vendors/editvendor/${B.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit","aria-label":`Edit vendor ${B.name}`,children:a.jsx(Bn,{className:"inline text-base"})}),a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{Me(B.id),E(!0)},className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete","aria-label":`Delete vendor ${B.name}`,children:a.jsx(dn,{className:"inline text-base"})})]})]},B.id))})]})})}),o.length>xt&&a.jsxs(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"mt-8 flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0",children:[a.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",a.jsx("span",{className:"font-semibold",children:Te+1})," to ",a.jsx("span",{className:"font-semibold",children:Math.min(ne,o.length)})," of"," ",a.jsx("span",{className:"font-semibold",children:o.length})," results"]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>pe(mt-1),disabled:mt===1,className:"px-4 py-2 border border-blue-200 rounded-md bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm font-medium text-sm","aria-label":"Previous page",children:"Previous"}),Array.from({length:ct},(B,ce)=>a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>pe(ce+1),className:`px-3.5 py-2 rounded-md transition-colors duration-200 shadow-sm font-medium text-sm
                      ${mt===ce+1?"bg-blue-600 text-white shadow-md":"bg-white text-gray-700 hover:bg-blue-50 border border-blue-200"}
                    `,"aria-label":`Go to page ${ce+1}`,children:ce+1},ce+1)),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>pe(mt+1),disabled:mt===ct,className:"px-4 py-2 border border-blue-200 rounded-md bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm font-medium text-sm","aria-label":"Next page",children:"Next"})]})]})]})]}),le&&a.jsx(Pz,{isOpen:Le,onClose:()=>{Oe(!1),ge(null)},title:"Vendor Details",className:"max-w-3xl",children:a.jsx(v7e,{vendor:le,onClose:()=>Oe(!1)})}),a.jsx(Pz,{isOpen:A,onClose:()=>E(!1),title:"Confirm Deletion",children:a.jsxs("div",{className:"space-y-5 text-center py-3",children:[a.jsx(er,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),a.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this Vendor? This action cannot be undone."}),a.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>E(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>xe&&Je(xe),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})]})},j7e=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(C.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(at,{size:24})})]}),a.jsx("div",{children:n})]})}):null,S7e=()=>{const[t,e]=g.useState(window.innerWidth<768),[r,n]=g.useState([]),[s,i]=g.useState([]),{addVendor:o,getVendor:l}=St(),[c,d]=g.useState(()=>{const I=localStorage.getItem("sidebarOpen");return I?JSON.parse(I):!1}),[h,m]=g.useState(null),[x,y]=g.useState(null),[w,j]=g.useState(!1),[v,N]=g.useState(!1),T=jt(),[S,O]=g.useState({name:"",address:"",contact_person:"",email:"",telp:"",HP:""}),_=()=>{d(I=>!I)},A=I=>{const{name:L,value:R}=I.target;O(z=>({...z,[L]:L==="sla"?Number(R):R}))},E=g.useCallback(async()=>{try{const[I]=await Promise.all([l()]);n(I)}catch(I){m(I.message||"Failed to load form data")}},[l]);g.useEffect(()=>{E()},[E]);const D=async I=>{I.preventDefault(),N(!0),m(null);try{const L={name:S.name,address:S.address,contact_person:S.contact_person,email:S.email,telp:S.telp,HP:S.HP};await o(L),y("Vendor created successfully!"),j(!0)}catch(L){m(L.message||"Failed to create Vendor")}finally{N(!1)}},$=()=>{j(!1),T("/vendors")};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Mt,{mainTitle:"Create Vendor",mainTitleHighlight:"Management",description:"blablablabl",icon:a.jsx(Lt,{}),isMobile:t,toggleSidebar:_}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Work Vendor"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Add a new Vendor information"})]}),a.jsxs(C.button,{onClick:()=>T("/vendors"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(kr,{className:"text-lg"})," Back to Vendors Management"]})]}),a.jsxs(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[h&&a.jsxs(C.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:h}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(at,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>m(null)})})]}),a.jsxs("form",{onSubmit:D,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Vendor Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Vendor Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"name",id:"name",value:S.name,onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 mb-1",children:["Address ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"address",id:"address",value:S.address,onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"contact_person",className:"block text-sm font-medium text-gray-700 mb-1",children:["Contact Person ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"contact_person",id:"contact_person",value:S.contact_person,onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:["Email ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"email",id:"email",value:S.email,onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"telp",className:"block text-sm font-medium text-gray-700 mb-1",children:["Telp ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"telp",id:"telp",value:S.telp,onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"HP",className:"block text-sm font-medium text-gray-700 mb-1",children:["Handphone ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"HP",id:"HP",value:S.HP,onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsx(C.button,{type:"button",onClick:()=>T("/vendors"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),a.jsx(C.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:v,children:v?a.jsxs(a.Fragment,{children:[a.jsx(mr,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Ar,{className:"mr-2 h-5 w-5"})," Save Vendor"]})})]})]})]})]})]}),a.jsx(j7e,{isOpen:w,onClose:$,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx($t,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:x}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:$,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Vendors Management"})]})})]})},N7e=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(C.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(at,{size:24})})]}),a.jsx("div",{children:n})]})}):null,k7e=()=>{const{id:t}=Ta(),[e,r]=g.useState(window.innerWidth<768),[n,s]=g.useState([]),[i,o]=g.useState(),{getVendor:l,updateVendor:c,getVendorById:d}=St(),[h,m]=g.useState(()=>{const R=localStorage.getItem("sidebarOpen");return R?JSON.parse(R):!1}),[x,y]=g.useState(null),[w,j]=g.useState(null),[v,N]=g.useState(!1),[T,S]=g.useState(!1),O=jt(),[_,A]=g.useState({name:"",address:"",contact_person:"",email:"",telp:"",HP:""}),E=()=>{m(R=>!R)};g.useEffect(()=>{i&&A({name:i.name||"",address:i.address||"",contact_person:i.contact_person||"",email:i.email||"",telp:i.telp||"",HP:i.HP||""})},[i]);const D=R=>{const{name:z,value:Y}=R.target;A(W=>({...W,[z]:z==="sla"?Number(Y):Y}))},$=g.useCallback(async()=>{try{if(t){const[R]=await Promise.all([d(t)]);o(R)}}catch(R){y(R.message||"Failed to load form data")}},[t,d]);g.useEffect(()=>{t&&$()},[t,$]);const I=async R=>{R.preventDefault(),S(!0),y(null);try{const z={name:_.name,address:_.address,contact_person:_.contact_person,email:_.email,telp:_.telp,HP:_.HP};await c(t,z),j("Vendor update successfully!"),N(!0)}catch(z){y(z.message||"Failed to update Vendor")}finally{S(!1)}},L=()=>{N(!1),O("/vendors")};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Mt,{mainTitle:"Edit Vendor",mainTitleHighlight:"Management",description:"blablablabl",icon:a.jsx(Lt,{}),isMobile:e,toggleSidebar:E}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Vendor"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Update Vendor Informations"})]}),a.jsxs(C.button,{onClick:()=>O("/vendors"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(kr,{className:"text-lg"})," Back to Vendors Management"]})]}),a.jsxs(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[x&&a.jsxs(C.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:x}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(at,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>y(null)})})]}),a.jsxs("form",{onSubmit:I,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Vendor Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Vendor Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"name",id:"name",value:_.name,onChange:D,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 mb-1",children:["Address ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"address",id:"address",value:_.address,onChange:D,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"contact_person",className:"block text-sm font-medium text-gray-700 mb-1",children:["Contact Person ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"contact_person",id:"contact_person",value:_.contact_person,onChange:D,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:["Email ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"email",id:"email",value:_.email,onChange:D,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"telp",className:"block text-sm font-medium text-gray-700 mb-1",children:["Telp ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"telp",id:"telp",value:_.telp,onChange:D,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"HP",className:"block text-sm font-medium text-gray-700 mb-1",children:["Handphone ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"HP",id:"HP",value:_.HP,onChange:D,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsx(C.button,{type:"button",onClick:()=>O("/vendors"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),a.jsx(C.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:T,children:T?a.jsxs(a.Fragment,{children:[a.jsx(mr,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Ar,{className:"mr-2 h-5 w-5"})," Save Vendor"]})})]})]})]})]})]}),a.jsx(N7e,{isOpen:v,onClose:L,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx($t,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:w}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:L,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Vendors Management"})]})})]})},C7e=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(C.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(at,{size:24})})]}),a.jsx("div",{children:n})]})}):null,T7e=({isOpen:t,onClose:e,onConfirm:r,title:n,message:s,confirmText:i="Confirm",cancelText:o="Cancel",type:l="approve"})=>a.jsx(kt,{children:t&&a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:a.jsx(C.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:"bg-white rounded-2xl shadow-2xl overflow-hidden max-w-md w-full border border-blue-100",children:a.jsxs("div",{className:"p-6 text-center",children:[a.jsxs("div",{className:"flex justify-center mb-4",children:[l==="approve"&&a.jsx($t,{className:"text-green-500 text-5xl"}),l==="feedback"&&a.jsx(Ef,{className:"text-blue-500 text-5xl"}),l==="reject"&&a.jsx(er,{className:"text-red-500 text-5xl"}),l==="edit"&&a.jsx(Bn,{className:"text-purple-500 text-5xl"})]}),a.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:n}),a.jsx("p",{className:"text-gray-600 mb-6",children:s}),a.jsxs("div",{className:"flex justify-center space-x-3",children:[a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:e,className:"px-5 py-2.5 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 font-semibold transition-colors duration-200",children:o}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:r,className:`px-5 py-2.5 text-white rounded-lg font-semibold transition-colors duration-200 ${l==="approve"?"bg-green-600 hover:bg-green-700":l==="feedback"?"bg-blue-600 hover:bg-blue-700":l==="reject"?"bg-red-600 hover:bg-red-700":"bg-purple-600 hover:bg-purple-700"}`,children:i})]})]})})})}),_7e=()=>{var ct;ua();const t=jt(),{id:e}=Ta(),{user:r,getMonitoringScheduleById:n,addMonitoringActivities:s,hasPermission:i,approveSchedule:o,getApprovalTemplates:l,updateMonitoringActivity:c}=St(),[d,h]=g.useState(window.innerWidth<768),[m,x]=g.useState(()=>{const pe=localStorage.getItem("sidebarOpen");return JSON.parse(pe||"false")}),y=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!m)),x(pe=>!pe)},[w,j]=g.useState(null),[v,N]=g.useState(null),[T,S]=g.useState(!1),[O,_]=g.useState(!0),[A,E]=g.useState(null),[D,$]=g.useState("approval"),[I,L]=g.useState({}),[R,z]=g.useState(null),[Y,W]=g.useState(!0),[H,P]=g.useState(null),[F,X]=g.useState(!1),[te,q]=g.useState(!1),[Z,ie]=g.useState(""),[oe,le]=g.useState(""),[ge,Le]=g.useState(!0),[Oe,xe]=g.useState(!1),[Me,Be]=g.useState(null);g.useEffect(()=>{(async()=>{var B,ce,be,Se;if(e)try{_(!0),E(null);const $e=await n(parseInt(e));if(P($e),!$e)throw new Error("Data monitoring schedule tidak ditemukan");console.log("Schedule data dengan approvals:",$e),$e.approval_template&&(z($e.approval_template),console.log("Active template set in first useEffect:",$e.approval_template));const ue={id:$e.id_monitoring_schedule.toString(),name:`${((B=$e.data_mesin)==null?void 0:B.name)||"Mesin"} - ${$e.unit}`,interval:((ce=$e.monitoring_interval)==null?void 0:ce.type_interval)||"Weekly",period:`${$e.tgl_start} - ${$e.tgl_end}`,unit:$e.unit,mesin:(be=$e.data_mesin)==null?void 0:be.name,tahun:$e.tahun,bulan:$e.bulan,tgl_start:$e.tgl_start,tgl_end:$e.tgl_end,items:((Se=$e.item_mesins)==null?void 0:Se.map(Ee=>({id:Ee.id,name:Ee.item_mesin,uom:Ee.satuan,min:Ee.standard_min?parseFloat(Ee.standard_min):void 0,max:Ee.standard_max?parseFloat(Ee.standard_max):void 0,visual:Ee.standard_visual,standard_min:Ee.standard_min,standard_max:Ee.standard_max,standard_visual:Ee.standard_visual,satuan:Ee.satuan})))||[]};j(ue);const fe=$e.monitoring_activities||[],Ae=$e.schedule_approvals||[],tt={};$e.approval_template&&$e.approval_template.approvers?$e.approval_template.approvers.forEach(Ee=>{const Ye=`step_${Ee.step}`,bt=Ae.find(Qt=>Qt.approval_step===Ee.step&&Qt.approver_id===Ee.approver_user_id);if(bt){let Qt="Pending";switch(bt.status){case"approved":Qt="Approved";break;case"rejected":Qt="Rejected";break;case"feedback_given":Qt="FeedbackGiven";break;default:Qt="Pending"}tt[Ye]=Qt}else tt[Ye]="Pending"}):Ae.forEach(Ee=>{const Ye=`step_${Ee.approval_step}`;let bt="Pending";switch(Ee.status){case"approved":bt="Approved";break;case"rejected":bt="Rejected";break;case"feedback_given":bt="FeedbackGiven";break;default:bt="Pending"}tt[Ye]=bt});const dt=Ae.map(Ee=>{var Dr;let Ye="approval",bt="";switch(Ee.status){case"approved":Ye="approval",bt=`Menyetujui laporan pada step ${Ee.approval_step}`;break;case"rejected":Ye="rejection",bt=`Menolak laporan pada step ${Ee.approval_step}`;break;case"feedback_given":Ye="feedback",bt=`Memberikan feedback pada step ${Ee.approval_step}`;break;default:Ye="submission",bt=`Mengajukan approval pada step ${Ee.approval_step}`}const Qt=Ee.approved_at||Ee.created_at;return{type:Ye,timestamp:Qt||new Date().toISOString(),actor:((Dr=Ee.approver)==null?void 0:Dr.name)||`Approver Step ${Ee.approval_step}`,description:bt,details:Ee.comments||void 0}});if(fe.length>0){const Ee=fe[0].created_at;dt.unshift({type:"submission",timestamp:Ee||new Date().toISOString(),actor:"Technician",description:"Mengisi hasil monitoring"})}const pt={machineId:ue.id,itemResults:ue.items.map(Ee=>{const Ye=fe.find(Qt=>Qt.id_item_mesin===Ee.id);let bt="Pending";if(Ye!=null&&Ye.hasil_ms_tms){const Qt=Ye.hasil_ms_tms.toLowerCase();Qt==="ms"?bt="MS":Qt==="tms"?bt="TMS":bt="N/A"}return{itemId:Ee.id,result:(Ye==null?void 0:Ye.hasil_monitoring)||"",status:bt,remarks:(Ye==null?void 0:Ye.hasil_keterangan)||""}}),approvalStatus:tt,commentsHistory:[],activityHistory:dt,isSaved:fe.length>0,submissionDate:fe.length>0?new Date().toISOString():void 0,currentApprovalStep:ve(Ae,$e.approval_template)};N(pt)}catch($e){E($e instanceof Error?$e.message:"Gagal memuat data monitoring"),console.error("Error loading machine detail:",$e)}finally{_(!1)}})()},[e,n]);const re=g.useMemo(()=>{var pe,B,ce,be,Se,$e;return r?r.position?{id:r.id,name:r.position,isDepartmentHead:r.position.toLowerCase().includes("head")||r.position.toLowerCase().includes("manager"),isSuperadmin:r.roleId==="3"}:r.roleId==="1"?{id:"1",name:"admin",isDepartmentHead:!0}:r.roleId==="3"?{id:"3",name:"superadmin",isSuperadmin:!0}:(B=(pe=r.department)==null?void 0:pe.name)!=null&&B.toLowerCase().includes("engineering")?(ce=r.position)!=null&&ce.toLowerCase().includes("head")?{id:"unitHeadEngineering",name:"Unit Head Engineering",isDepartmentHead:!0}:{id:"technician",name:"Technician"}:(Se=(be=r.department)==null?void 0:be.name)!=null&&Se.toLowerCase().includes("process")?($e=r.position)!=null&&$e.toLowerCase().includes("head")?{id:"unitHeadProcess",name:"Unit Head Process",isDepartmentHead:!0}:{id:"technician",name:"Technician"}:{id:"technician",name:"Technician"}:{id:"guest",name:"Guest"}},[r]),se=g.useCallback(pe=>{if(!R||!R.approvers||!r)return console.log(` isUserApproverForStep ${pe}: Missing data`),!1;const B=R.approvers.find(be=>be.step===pe&&be.approver_user_id.toString()===r.id),ce=!!B;return console.log(` IS USER APPROVER STEP ${pe}:`,{step:pe,userID:r.id,userName:r.name,approverUserID:B==null?void 0:B.approver_user_id,approverName:B==null?void 0:B.approver.name,MATCH:ce}),ce},[R,r]),ee=g.useCallback(()=>{if(!v||!(R!=null&&R.approvers))return console.log(" GET CURRENT STEP: No monitoringResults or approvers"),1;const pe=[...R.approvers].sort((ce,be)=>ce.step-be.step);console.log(" GET CURRENT STEP - All approvers status:",v.approvalStatus);for(let ce=0;ce<pe.length;ce++){const be=pe[ce],Se=`step_${be.step}`,$e=v.approvalStatus[Se]||"Pending";if(console.log(` Checking step ${be.step}:`,{stepKey:Se,status:$e,isPending:$e==="Pending"}),$e==="Pending")return console.log(` CURRENT ACTIVE STEP FOUND: ${be.step}`),be.step}const B=pe.length+1;return console.log(` ALL STEPS APPROVED, NEXT STEP: ${B}`),B},[v,R]);g.useEffect(()=>{var pe;v&&R&&r&&(console.log("===  DEBUG ACTIONS VISIBILITY ==="),console.log("User:",{id:r.id,name:r.name}),console.log("Template:",R.name),console.log("Is Saved:",v.isSaved),(pe=R.approvers)==null||pe.forEach(B=>{const ce=`step_${B.step}`,be=v.approvalStatus[ce],Se=ht(B.step,B,be);console.log(` Step ${B.step} - ${B.approver.name}:`,{status:be,shouldShowActions:Se,isCurrentUser:B.approver_user_id.toString()===r.id,conditions:{isCurrentApprover:B.approver_user_id.toString()===r.id,needsAction:be==="Pending",isCurrentStep:ee()===B.step,isPreviousStepApproved:B.step===1?!0:v.approvalStatus[`step_${B.step-1}`]==="Approved"}})}))},[v,R,r]);const ve=(pe,B)=>{if(!B||!B.approvers)return 1;const ce=[...B.approvers].sort((Se,$e)=>Se.step-$e.step);console.log("Getting current step from approvals:",{approvalsCount:pe.length,approversCount:ce.length});for(let Se=0;Se<ce.length;Se++){const $e=ce[Se],ue=pe.find(fe=>fe.approval_step===$e.step&&fe.approver_id===$e.approver_user_id);if(console.log(`Step ${$e.step}:`,{hasApproval:!!ue,status:ue==null?void 0:ue.status,isApproved:(ue==null?void 0:ue.status)==="approved"}),!ue||ue.status!=="approved")return console.log(`Current step from approvals: ${$e.step}`),$e.step}const be=ce.length+1;return console.log(`All steps approved from approvals, next step: ${be}`),be},Ge=(pe,B)=>H?(H.schedule_approvals||[]).find(be=>be.approval_step===pe&&be.approver_id===B.approver_user_id):null,Ke=g.useCallback(async()=>{var pe,B,ce,be;if(e)try{_(!0),E(null);const Se=await n(parseInt(e));if(P(Se),!Se)throw new Error("Data monitoring schedule tidak ditemukan");console.log("Schedule data dengan approvals:",Se),Se.approval_template&&(z(Se.approval_template),console.log("Active template set:",Se.approval_template));const $e={id:Se.id_monitoring_schedule.toString(),name:`${((pe=Se.data_mesin)==null?void 0:pe.name)||"Mesin"} - ${Se.unit}`,interval:((B=Se.monitoring_interval)==null?void 0:B.type_interval)||"Weekly",period:`${Se.tgl_start} - ${Se.tgl_end}`,unit:Se.unit,mesin:(ce=Se.data_mesin)==null?void 0:ce.name,tahun:Se.tahun,bulan:Se.bulan,tgl_start:Se.tgl_start,tgl_end:Se.tgl_end,items:((be=Se.item_mesins)==null?void 0:be.map(pt=>({id:pt.id,name:pt.item_mesin,uom:pt.satuan,min:pt.standard_min?parseFloat(pt.standard_min):void 0,max:pt.standard_max?parseFloat(pt.standard_max):void 0,visual:pt.standard_visual,standard_min:pt.standard_min,standard_max:pt.standard_max,standard_visual:pt.standard_visual,satuan:pt.satuan})))||[]};j($e);const ue=Se.monitoring_activities||[],fe=Se.schedule_approvals||[],Ae={};Se.approval_template&&Se.approval_template.approvers&&Se.approval_template.approvers.forEach(pt=>{const Ee=`step_${pt.step}`,Ye=fe.find(bt=>bt.approval_step===pt.step&&bt.approver_id===pt.approver_user_id);if(Ye){let bt="Pending";switch(Ye.status){case"approved":bt="Approved";break;case"rejected":bt="Rejected";break;case"feedback_given":bt="FeedbackGiven";break;default:bt="Pending"}Ae[Ee]=bt}else Ae[Ee]="Pending",console.log(` Step ${pt.step} di-set ke Pending (no approval history)`)});const tt=fe.map(pt=>{var Qt;let Ee="approval",Ye="";switch(pt.status){case"approved":Ee="approval",Ye=`Menyetujui laporan pada step ${pt.approval_step}`;break;case"rejected":Ee="rejection",Ye=`Menolak laporan pada step ${pt.approval_step}`;break;case"feedback_given":Ee="feedback",Ye=`Memberikan feedback pada step ${pt.approval_step}`;break;default:Ee="submission",Ye=`Mengajukan approval pada step ${pt.approval_step}`}const bt=pt.approved_at||pt.created_at;return{type:Ee,timestamp:bt||new Date().toISOString(),actor:((Qt=pt.approver)==null?void 0:Qt.name)||`Approver Step ${pt.approval_step}`,description:Ye,details:pt.comments||void 0}});if(ue.length>0){const pt=ue[0].created_at;tt.unshift({type:"submission",timestamp:pt||new Date().toISOString(),actor:"Technician",description:"Mengisi hasil monitoring"})}const dt={machineId:$e.id,itemResults:$e.items.map(pt=>{const Ee=ue.find(bt=>bt.id_item_mesin===pt.id);let Ye="Pending";if(Ee!=null&&Ee.hasil_ms_tms){const bt=Ee.hasil_ms_tms.toLowerCase();bt==="ms"?Ye="MS":bt==="tms"?Ye="TMS":Ye="N/A"}return{itemId:pt.id,result:(Ee==null?void 0:Ee.hasil_monitoring)||"",status:Ye,remarks:(Ee==null?void 0:Ee.hasil_keterangan)||""}}),approvalStatus:Ae,commentsHistory:[],activityHistory:tt,isSaved:ue.length>0,submissionDate:ue.length>0?new Date().toISOString():void 0,currentApprovalStep:ve(fe,Se.approval_template)};N(dt)}catch(Se){E(Se instanceof Error?Se.message:"Gagal memuat data monitoring"),console.error("Error loading machine detail:",Se)}finally{_(!1)}},[e,n]),ye=(pe,B,ce,be,Se)=>{N($e=>$e?{...$e,itemResults:$e.itemResults.map(ue=>ue.itemId===pe?{...ue,result:B,status:ce==="numeric"?mt(Number(B),be,Se):B==="MS"?"MS":B==="TMS"?"TMS":"Pending"}:ue)}:null)},ot=(pe,B)=>{N(ce=>ce?{...ce,itemResults:ce.itemResults.map(be=>be.itemId===pe?{...be,remarks:B}:be)}:null)},mt=(pe,B,ce)=>isNaN(pe)||pe===null||pe===void 0?B===void 0||ce===void 0?"N/A":"Pending":B!==void 0&&ce!==void 0?pe>=B&&pe<=ce?"MS":"TMS":"N/A",nt=pe=>{switch(pe){case"MS":return"bg-green-100 text-green-800 border-green-200";case"TMS":return"bg-red-100 text-red-800 border-red-200";case"Pending":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"N/A":return"bg-gray-100 text-gray-800 border-gray-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},xt=pe=>{switch(pe){case"Pending":return"bg-yellow-100 text-yellow-800";case"Approved":return"bg-green-100 text-green-800";case"Rejected":return"bg-red-100 text-red-800";case"FeedbackGiven":return"bg-blue-100 text-blue-800";case"Edited":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},Nt=pe=>{if(!R||!R.approvers)return"Unknown Role";const B=R.approvers.find(ce=>ce.approver_user_id.toString()===pe);return(B==null?void 0:B.approver.position)||"Unknown Position"};g.useCallback((pe,B,ce,be=null)=>{N(Se=>{if(!Se||Se.machineId!==pe)return Se;const $e={id:crypto.randomUUID(),role:B,comment:ce,timestamp:new Date().toLocaleString(),replies:[],parentId:be},ue=(Ae,tt)=>tt.parentId===null?[...Ae,tt]:Ae.map(dt=>dt.id===tt.parentId?{...dt,replies:dt.replies?[...dt.replies,tt]:[tt]}:{...dt,replies:dt.replies?ue(dt.replies,tt):dt.replies}),fe=Se.commentsHistory||[];return{...Se,commentsHistory:ue(fe,$e)}})},[]);const wt=(pe,B,ce)=>{let be="",Se="",$e="approve";switch(B){case"Approved":be="Confirm Approval",Se=`Are you sure you want to approve this monitoring report for step ${pe}?`,$e="approve";break;case"FeedbackGiven":be="Confirm Feedback",Se=`Are you sure you want to send feedback for step ${pe}?`,$e="feedback";break;case"Rejected":be="Confirm Rejection",Se=`Are you sure you want to reject this monitoring report for step ${pe}?`,$e="reject";break;case"Edited":be="Confirm Edit",Se=`Are you sure you want to mark this as edited for step ${pe}?`,$e="edit";break}Be({type:$e,step:pe,title:be,message:Se,feedbackText:ce}),xe(!0)},zt=async()=>{if(Me)try{await rt(Me.step,Me.type==="approve"?"Approved":Me.type==="feedback"?"FeedbackGiven":Me.type==="reject"?"Rejected":"Edited",Me.feedbackText),xe(!1),Be(null),await Ke()}catch(pe){console.error("Error during confirmation:",pe),xe(!1),Be(null)}},rt=async(pe,B,ce)=>{if(!(!v||!e||!r))try{let be="";(B==="FeedbackGiven"&&ce||B==="Rejected"&&ce)&&(be=ce),console.log(`Sending approval for step ${pe}, action: ${B}`);const Se=await o(parseInt(e),be);if(Se.success){N(ue=>{if(!ue)return null;const fe={...ue.approvalStatus,[`step_${pe}`]:B},Ae=[...ue.activityHistory],tt=new Date().toLocaleString();let dt="";switch(B){case"Approved":dt=`Menyetujui laporan pada step ${pe}`;break;case"FeedbackGiven":dt=`Memberikan feedback pada step ${pe}`;break;case"Rejected":dt=`Menolak laporan pada step ${pe}`;break;default:dt=`Melakukan aksi ${B} pada step ${pe}`}return Ae.push({type:B==="Approved"?"approval":B==="Rejected"?"rejection":B==="FeedbackGiven"?"feedback":"edit",timestamp:tt,actor:re.name,description:`${re.name} ${dt}`,details:be||void 0}),B!=="Edited"&&L(pt=>({...pt,[`step_${pe}`]:{showInput:!1,text:""}})),{...ue,approvalStatus:fe,activityHistory:Ae}});let $e="";switch(B){case"Approved":$e="Berhasil menyetujui laporan.";break;case"FeedbackGiven":$e="Berhasil mengirim feedback.";break;case"Rejected":$e="Berhasil menolak laporan.";break;case"Edited":$e="Berhasil menyimpan perubahan.";break}Te("Success!",$e,!0)}else throw new Error(Se.message||"Approval failed")}catch(be){console.error("Error during approval:",be),Te("Error!","Gagal melakukan approval. Silakan coba lagi.",!1)}},Ne=g.useCallback(()=>{if(!R||!R.approvers||!v)return!1;const pe=[...R.approvers].sort((ce,be)=>ce.step-be.step),B=pe.every(ce=>{const be=`step_${ce.step}`;return v.approvalStatus[be]==="Approved"});return console.log(" CHECK ALL STEPS COMPLETED:",{totalSteps:pe.length,allApproved:B,approvalStatus:v.approvalStatus}),B},[R,v]),ze=pe=>{L(B=>{var ce;return{...B,[`step_${pe}`]:{...B[`step_${pe}`],showInput:!((ce=B[`step_${pe}`])!=null&&ce.showInput)}}})},we=(pe,B)=>{L(ce=>({...ce,[`step_${pe}`]:{...ce[`step_${pe}`],text:B}}))},ut=async()=>{if(!(!w||!v||!e)){S(!0);try{let pe=!0;const B=[];if(v.itemResults.forEach(ue=>{const fe=w.items.find(Ae=>Ae.id===ue.itemId);fe&&(ue.result===""||ue.status==="Pending")&&(pe=!1,B.push({item:fe.name}))}),!pe){Te("Validation Error",`Harap isi semua hasil monitoring yang diperlukan untuk ${w.name}. Item yang belum diisi: `+B.map(ue=>ue.item).join(", "),!1);return}const ce=v.itemResults.map(ue=>{var tt;const fe=(tt=H==null?void 0:H.monitoring_activities)==null?void 0:tt.find(dt=>dt.id_item_mesin===ue.itemId),Ae={id_monitoring_schedule:parseInt(e),id_item_mesin:ue.itemId,tgl_monitoring:w.tgl_start||new Date().toISOString().split("T")[0],hasil_monitoring:ue.result.toString(),hasil_keterangan:ue.remarks,hasil_ms_tms:ue.status==="MS"?"ms":ue.status==="TMS"?"tms":"na"};return fe&&fe.id_monitoring_activity?{id:fe.id_monitoring_activity,data:Ae}:{id:0,data:Ae}});console.log(" Data yang akan dikirim ke backend:",ce);const be=ce.filter(ue=>ue.id===0),Se=ce.filter(ue=>ue.id>0);if(console.log(" Activities to CREATE:",be.length),console.log(" Activities to UPDATE:",Se.length),be.length>0){const ue=be.map(fe=>fe.data);console.log(" CREATE new monitoring activities:",ue),await s(ue)}Se.length>0&&(console.log(" UPDATE existing monitoring activities:",Se),await c(Se)),N(ue=>{if(!ue)return null;const fe=[...ue.activityHistory],Ae=new Date().toLocaleString(),tt=ue.isSaved?"edit":"submission",dt=ue.isSaved?`${re.name} mengedit hasil monitoring.`:`${re.name} mengisi hasil monitoring.`;return fe.push({type:tt,timestamp:Ae,actor:re.name,description:dt}),{...ue,isSaved:!0,submissionDate:new Date().toISOString(),activityHistory:fe}}),await Ke();const $e=v.isSaved?`Hasil monitoring untuk ${w.name} berhasil diupdate!`:`Hasil monitoring untuk ${w.name} berhasil disimpan!`;Te("Success!",$e,!0)}catch(pe){const B=v.isSaved?"Gagal mengupdate hasil monitoring. Silakan coba lagi.":"Gagal menyimpan hasil monitoring. Silakan coba lagi.";Te("Error!",B,!1),console.error("Error saving monitoring results:",pe)}finally{S(!1)}}},ht=(pe,B,ce)=>{if(!r||!(v!=null&&v.isSaved))return console.log(` Button step ${pe}: User atau monitoringResults tidak siap`,{user:!!r,monitoringResults:!!v,isSaved:v==null?void 0:v.isSaved}),!1;const be=B.approver_user_id.toString()===r.id,Se=ce==="Pending",$e=ee(),ue=$e===pe;let fe=!0;if(pe>1){const tt=`step_${pe-1}`;fe=v.approvalStatus[tt]==="Approved"}const Ae=be&&Se&&ue&&fe;return console.log(` CALCULATE BUTTON STEP ${pe}:`,{step:pe,isCurrentApprover:be,needsAction:Se,isCurrentStep:ue,isPreviousStepApproved:fe,currentStatus:ce,currentStep:$e,userID:r.id,approverID:B.approver_user_id,userPosition:r.position,approverPosition:B.approver.position,FINAL_RESULT:Ae}),Ae},We=async pe=>{if(!(!v||!e||pe!==1)){if(Ne()){Te("Info","Tidak dapat mengedit karena semua step approval sudah selesai.",!1);return}try{await ut(),N(B=>{if(!B)return null;const ce={...B.approvalStatus,step_1:"Edited"},be=[...B.activityHistory],Se=new Date().toLocaleString();return be.push({type:"edit",timestamp:Se,actor:re.name,description:`${re.name} (Approver Step 1) mengedit hasil monitoring.`}),{...B,approvalStatus:ce,activityHistory:be}}),await Ke(),Te("Success!","Berhasil menyimpan perubahan dan menandai sebagai edited oleh Approver Step 1.",!0)}catch(B){console.error("Error during edit by approver:",B),Te("Error!","Gagal menyimpan perubahan. Silakan coba lagi.",!1)}}};g.useMemo(()=>{if(!(v!=null&&v.commentsHistory))return{};const pe=(ce,be=null)=>ce.filter(Se=>Se.parentId===be).sort((Se,$e)=>new Date(Se.timestamp).getTime()-new Date($e.timestamp).getTime()).map(Se=>({...Se,replies:pe(ce,Se.id)})),B={};return R!=null&&R.approvers&&R.approvers.forEach(ce=>{const be=v.commentsHistory.filter(Se=>Se.role===Nt(ce.approver_user_id.toString()));B[`step_${ce.step}`]=pe(be)}),B},[v==null?void 0:v.commentsHistory,R]);const he=g.useCallback(()=>{var pe;!v||!R||(console.log("=== DEBUG APPROVAL STATUS ==="),console.log("Active Template:",R.name),console.log("Approvers:",R.approvers),(pe=R.approvers)==null||pe.forEach(B=>{const ce=`step_${B.step}`,be=v.approvalStatus[ce],Se=B.approver_user_id.toString()===(r==null?void 0:r.id);console.log(`Step ${B.step}:`,{approver:B.approver.name,status:be,isCurrentUser:Se,stepKey:ce})}),console.log("Current Step:",ee()),console.log("User ID:",r==null?void 0:r.id))},[v,R,r,ee]);g.useEffect(()=>{v&&R&&he()},[v,R,he]);const Je=pe=>pe.satuan&&pe.satuan!=="Visual"&&pe.satuan!=="Level"&&pe.satuan!=="Kekencangan"?"numeric":"visual";g.useMemo(()=>re.name.toLowerCase().includes("technician")&&!se(1),[re,se]);const Ue=se(1),ae=g.useMemo(()=>!(v!=null&&v.isSaved)||v.approvalStatus.step_1==="Pending"?!0:se(1)&&!Ne(),[v==null?void 0:v.isSaved,v==null?void 0:v.approvalStatus,se,Ne]),ne=se(ee()),Te=g.useCallback((pe,B,ce=!0)=>{le(pe),ie(B),Le(ce),ce?X(!0):q(!0)},[]),et=g.useCallback(()=>{X(!1),q(!1),Ke()},[Ke]);return O?a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx("header",{className:"bg-white border-b border-gray-100 p-4 flex items-center justify-between shadow-sm sticky top-0 z-30",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs(C.button,{onClick:()=>t(-1),whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center text-blue-600 hover:text-blue-800 transition-colors duration-200",children:[a.jsx(kr,{className:"text-xl"}),a.jsx("span",{className:"font-semibold text-sm hidden md:inline",children:"Back"})]}),a.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900 ml-4",children:"Monitoring & Maintenance"})]})}),a.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-4 border-b-4 border-blue-500"})})})]})]}):A?a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx("header",{className:"bg-white border-b border-gray-100 p-4 flex items-center justify-between shadow-sm sticky top-0 z-30",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs(C.button,{onClick:()=>t(-1),whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center text-blue-600 hover:text-blue-800 transition-colors duration-200",children:[a.jsx(kr,{className:"text-xl"}),a.jsx("span",{className:"font-semibold text-sm hidden md:inline",children:"Back"})]}),a.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900 ml-4",children:"Monitoring & Maintenance"})]})}),a.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 text-center",children:[a.jsx(er,{className:"text-red-500 text-4xl mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-red-800 mb-2",children:"Gagal Memuat Data"}),a.jsx("p",{className:"text-red-600 mb-4",children:A}),a.jsxs(C.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ke,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-semibold flex items-center justify-center mx-auto",children:[a.jsx(uce,{className:"mr-2 h-4 w-4"}),"Coba Lagi"]})]})})]})]}):!w||!v?a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx("header",{className:"bg-white border-b border-gray-100 p-4 flex items-center justify-between shadow-sm sticky top-0 z-30",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs(C.button,{onClick:()=>t(-1),whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center text-blue-600 hover:text-blue-800 transition-colors duration-200",children:[a.jsx(kr,{className:"text-xl"}),a.jsx("span",{className:"font-semibold text-sm hidden md:inline",children:"Back"})]}),a.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900 ml-4",children:"Monitoring & Maintenance"})]})}),a.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:a.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6 text-center",children:[a.jsx(er,{className:"text-yellow-500 text-4xl mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-yellow-800 mb-2",children:"Data Tidak Ditemukan"}),a.jsx("p",{className:"text-yellow-600",children:"Data monitoring schedule tidak tersedia."})]})})]})]}):a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Mt,{mainTitle:"Monitoring Maintenance",mainTitleHighlight:"Management",description:"Manage user roles and permissions to control access and functionality within the system.",icon:a.jsx(Fh,{}),isMobile:d,toggleSidebar:y}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsx(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Detail Monitoring & Maintenance"}),a.jsxs("p",{className:"text-gray-600 mt-1",children:["Machine: ",a.jsx("span",{className:"font-semibold text-gray-800",children:w.name})]}),a.jsxs("p",{className:"text-gray-600 mt-1",children:["Interval: ",a.jsx("span",{className:"font-semibold text-gray-800",children:w.interval})]}),a.jsxs("p",{className:"text-gray-600 mt-1",children:["Periode: ",a.jsx("span",{className:"font-semibold text-gray-800",children:w.period})]}),a.jsxs("div",{className:"text-sm text-gray-500 mt-2 flex items-center space-x-4",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-semibold",children:w.items.length})," Items"]}),R&&R.approvers&&R.approvers.length>0?a.jsxs("p",{children:["Template: ",a.jsx("span",{className:"font-semibold",children:R.name}),R.is_active&&a.jsx("span",{className:"ml-1 text-green-600",children:"(Aktif)"}),Ne()&&a.jsx("span",{className:"ml-2 bg-green-100 text-green-800 px-2 py-1 rounded-full text-xs font-semibold",children:"All Steps Completed"})]}):a.jsxs("p",{children:["Template: ",a.jsx("span",{className:"font-semibold text-yellow-600",children:"Tidak ada template"})]}),R&&Ue&&a.jsx("p",{className:`font-semibold ${Ne()?"text-gray-500":"text-blue-600"}`,children:Ne()?"(Semua step approval selesai - tidak dapat edit)":"(Anda adalah Approver Step 1 - Dapat mengedit)"}),R&&ne&&!Ue&&a.jsxs("p",{className:"text-green-600 font-semibold",children:["(Anda adalah approver untuk step ",ee(),")"]})]})]})}),a.jsx("div",{className:"space-y-6",children:a.jsxs(C.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1,duration:.2},className:"bg-white rounded-lg border border-gray-200 shadow-sm p-4",children:[a.jsx("div",{className:"overflow-x-auto rounded-lg border border-gray-200 shadow-sm",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nama Item"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Standar"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Hasil"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Catatan"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:w.items.map(pe=>{const B=v.itemResults.find(be=>be.itemId===pe.id),ce=Je(pe);return a.jsxs("tr",{children:[a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:[pe.name,!ae&&(v==null?void 0:v.isSaved)&&a.jsx("span",{className:"ml-2 text-xs text-gray-500",children:"(Terkunci)"})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:pe.standard_visual?`${pe.standard_visual} (${pe.satuan})`:`${pe.standard_min} - ${pe.standard_max} ${pe.satuan}`}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:ce==="visual"?a.jsxs("select",{className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md disabled:bg-gray-100 disabled:cursor-not-allowed",value:(B==null?void 0:B.result)||"",onChange:be=>ye(pe.id,be.target.value,"visual"),disabled:!ae,children:[a.jsx("option",{value:"",children:"Pilih"}),a.jsx("option",{value:"MS",children:"MS"}),a.jsx("option",{value:"TMS",children:"TMS"})]}):a.jsx("input",{type:"number",step:"0.01",value:B==null?void 0:B.result,onChange:be=>ye(pe.id,be.target.value,"numeric",pe.min,pe.max),disabled:!ae,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700 text-sm disabled:bg-gray-100 disabled:cursor-not-allowed",placeholder:"Input result"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:a.jsx("span",{className:`text-xs font-medium px-2.5 py-1 rounded-full ${nt((B==null?void 0:B.status)||"Pending")}`,children:B==null?void 0:B.status})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:a.jsx("textarea",{rows:1,value:B==null?void 0:B.remarks,onChange:be=>ot(pe.id,be.target.value),disabled:!ae,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700 text-sm disabled:bg-gray-100 disabled:cursor-not-allowed",placeholder:"Tambahkan catatan..."})})]},pe.id)})})]})}),a.jsxs("div",{className:"flex justify-end mt-6 relative",children:[a.jsx(C.button,{whileHover:{scale:ae?1.05:1},whileTap:{scale:ae?.95:1},onClick:Ue?()=>We(1):ut,disabled:!ae||T||Ue&&Ne(),className:"px-6 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-semibold flex items-center disabled:opacity-50 disabled:cursor-not-allowed relative group",children:T?a.jsxs(a.Fragment,{children:[a.jsx(mr,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Ar,{className:"mr-2 h-5 w-5"}),Ue?Ne()?"All Steps Completed":"Save & Mark as Edited":"Save Monitoring"]})}),Ue&&Ne()&&a.jsx("div",{className:"absolute bottom-full mb-2 hidden group-hover:block bg-gray-800 text-white text-xs rounded py-1 px-2 whitespace-nowrap",children:"Semua step approval sudah selesai. Tidak dapat melakukan edit."})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm mt-8",children:[a.jsxs("div",{className:"flex items-center space-x-4 mb-4 border-b border-gray-200",children:[a.jsxs(C.button,{whileHover:{scale:1.03},onClick:()=>$("approval"),className:`pb-3 px-2 font-semibold text-gray-700 transition-colors flex items-center space-x-2 ${D==="approval"?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:[a.jsx(sa,{className:"h-5 w-5"}),a.jsx("span",{children:"Approval Status"})]}),a.jsxs(C.button,{whileHover:{scale:1.03},onClick:()=>$("history"),className:`pb-3 px-2 font-semibold text-gray-700 transition-colors flex items-center space-x-2 ${D==="history"?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:[a.jsx(Uf,{className:"h-5 w-5"}),a.jsx("span",{children:"History Activity"})]})]}),D==="approval"?a.jsx(kt,{mode:"wait",children:a.jsx(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:"space-y-4",children:!R||!R.approvers||R.approvers.length===0?a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx(sa,{className:"mx-auto h-12 w-12 mb-4 text-gray-400"}),a.jsx("p",{children:"Tidak ada template approval yang aktif untuk schedule ini."}),a.jsx("p",{className:"text-sm mt-2",children:"Silakan hubungi administrator untuk mengatur template approval."})]}):(ct=R.approvers)==null?void 0:ct.map(pe=>{var dt,pt,Ee,Ye;const B=`step_${pe.step}`,ce=(v==null?void 0:v.approvalStatus[B])||"Pending",be=ht(pe.step,pe,ce),Se=Ge(pe.step,pe),$e=ee(),ue=pe.approver_user_id.toString()===(r==null?void 0:r.id),fe=pe.step-1,Ae=`step_${fe}`,tt=v==null?void 0:v.approvalStatus[Ae];return console.log(`Rendering Step ${pe.step}:`,{status:ce,shouldShowActionButtons:be,currentStep:$e,isCurrentUserApprover:ue,previousStepStatus:tt,userId:r==null?void 0:r.id,approverId:pe.approver_user_id}),a.jsxs("div",{className:"p-4 rounded-lg border border-gray-200 bg-white",children:[a.jsx("div",{className:"flex items-center justify-between mb-3",children:a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Step ",pe.step,": ",pe.approver.name," (",pe.approver.position,")"]}),a.jsx("p",{className:"text-xs text-gray-500",children:pe.approver.department}),Se&&a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[Se.approved_at&&`Disetujui: ${new Date(Se.approved_at).toLocaleString()}`,Se.status==="feedback_given"&&" | Feedback diberikan"]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:`text-xs font-medium px-3 py-1 rounded-full ${xt(ce)}`,children:ce}),ue&&a.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded-full",children:"Anda"})]})]}),(Se==null?void 0:Se.comments)&&a.jsx("div",{className:"mt-2 p-2 bg-gray-50 rounded border",children:a.jsxs("p",{className:"text-xs text-gray-400",children:[a.jsx("strong",{children:"Komentar:"})," ",Se.comments]})}),$e===pe.step&&ce!=="Approved"&&!be&&a.jsx("div",{className:"mt-2 p-2 bg-yellow-50 border border-yellow-200 rounded text-xs",children:a.jsxs("p",{className:"text-yellow-700",children:[a.jsx("strong",{children:"Menunggu:"})," Step ",pe.step," sedang menunggu approval dari ",pe.approver.name,fe>0&&tt!=="Approved"&&a.jsxs("span",{children:[" (Step ",fe," perlu disetujui terlebih dahulu)"]})]})}),ce==="Approved"&&a.jsx("div",{className:"mt-2 p-2 bg-green-50 border border-green-200 rounded text-xs",children:a.jsxs("p",{className:"text-green-700",children:[a.jsx("strong",{children:"Selesai:"})," Step ",pe.step," telah disetujui"]})}),be&&a.jsxs("div",{className:"flex space-x-2 mt-3",children:[a.jsxs(C.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>wt(pe.step,"Approved"),className:"px-3 py-1.5 bg-green-600 text-white rounded-lg hover:bg-green-700 text-sm font-semibold transition-colors flex items-center",children:[a.jsx($t,{size:16,className:"mr-1"}),"Approve"]}),a.jsxs(C.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>ze(pe.step),className:"px-3 py-1.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm font-semibold transition-colors flex items-center",children:[a.jsx(Ef,{size:16,className:"mr-1"}),"Feedback"]})]})]})}),a.jsx(kt,{children:((dt=I[B])==null?void 0:dt.showInput)&&a.jsxs(C.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-4 p-4 bg-gray-100 rounded-lg border border-gray-200",children:[a.jsx("h5",{className:"text-sm font-semibold text-gray-800 mb-2",children:"Berikan Feedback"}),a.jsx("textarea",{rows:3,value:((pt=I[B])==null?void 0:pt.text)||"",onChange:bt=>we(pe.step,bt.target.value),className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700 text-sm",placeholder:"Tulis feedback atau alasan penolakan..."}),a.jsxs("div",{className:"flex justify-end space-x-2 mt-3",children:[a.jsxs(C.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{var bt;return wt(pe.step,"FeedbackGiven",(bt=I[B])==null?void 0:bt.text)},disabled:!((Ye=(Ee=I[B])==null?void 0:Ee.text)!=null&&Ye.trim()),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm font-semibold transition-colors flex items-center disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx(Ef,{size:16,className:"mr-1"}),"Kirim Feedback"]}),a.jsx(C.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>ze(pe.step),className:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 text-sm font-semibold transition-colors",children:"Batal"})]})]})})]},B)})},"approval-tab")}):a.jsx(kt,{mode:"wait",children:a.jsx(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:"space-y-4",children:v.activityHistory.length>0?v.activityHistory.slice().sort((pe,B)=>new Date(B.timestamp).getTime()-new Date(pe.timestamp).getTime()).map((pe,B)=>a.jsxs(C.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:B*.05},className:"flex items-start space-x-4 p-4 bg-gray-50 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("div",{className:"mt-1 flex-shrink-0",children:[pe.type==="approval"&&a.jsx($t,{size:20,className:"text-green-500"}),pe.type==="rejection"&&a.jsx(zoe,{size:20,className:"text-red-500"}),pe.type==="feedback"&&a.jsx(Ef,{size:20,className:"text-blue-500"}),pe.type==="submission"&&a.jsx(Uf,{size:20,className:"text-blue-500"}),pe.type==="edit"&&a.jsx(Ar,{size:20,className:"text-purple-500"})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-semibold text-gray-800",children:pe.description}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[a.jsxs("span",{className:"font-medium text-gray-600",children:["Oleh: ",pe.actor]})," - ",new Date(pe.timestamp).toLocaleString()]}),pe.details&&a.jsxs("p",{className:"text-sm text-gray-700 italic mt-2",children:['"',pe.details,'"']})]})]},B)):a.jsx("p",{className:"text-gray-500 text-sm",children:"Belum ada aktivitas yang tercatat."})},"history-tab")})]})]})})]})]}),a.jsx(T7e,{isOpen:Oe,onClose:()=>{xe(!1),Be(null)},onConfirm:zt,title:(Me==null?void 0:Me.title)||"Confirm Action",message:(Me==null?void 0:Me.message)||"Are you sure you want to proceed?",confirmText:(Me==null?void 0:Me.type)==="approve"?"Approve":(Me==null?void 0:Me.type)==="feedback"?"Send Feedback":(Me==null?void 0:Me.type)==="reject"?"Reject":(Me==null?void 0:Me.type)==="edit"?"Save & Mark as Edited":"Confirm",type:Me==null?void 0:Me.type}),a.jsx(C7e,{isOpen:F,onClose:et,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx($t,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:"Data detail hasil monitoring berhasil disimpan!"}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:et,className:"mt-6 px-6 py-3 border border-transparent rounded-lg text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:ring-2 focus:ring-blue-500",children:"Back To Detail Monitoring"})]})})]})},M7e={id:"MACH-A01",name:"Mesin A01 (Produksi) - Unit WY01",interval:"Weekly",period:"01 Sep 2025 - 07 Sep 2025",items:[{id:101,name:"Oil Level",uom:"Level",visual:"Normal"},{id:102,name:"Belt Tension",uom:"Kekencangan",visual:"Baik"},{id:103,name:"Temperature",uom:"C",min:20,max:40},{id:104,name:"Pressure",uom:"Bar",min:1.5,max:3},{id:105,name:"Motor Sound",uom:"Visual",visual:"Tidak ada suara aneh"},{id:106,name:"Vibration",uom:"mm/s",min:.1,max:1},{id:107,name:"pH Level",uom:"pH",min:6,max:8},{id:108,name:"Filter Condition",uom:"Visual",visual:"Bersih"}]};let mp="technician";const k5=["unitHeadEngineering","unitHeadProcess","sectionHeadEngineering","sectionHeadProcess"],xQ=({comment:t,machineId:e,currentUserRole:r,onAddCommentOrReply:n,depth:s})=>{const[i,o]=g.useState(!1),[l,c]=g.useState(""),d=()=>{l.trim()&&(n(e,r,l,t.id),c(""),o(!1))},h=s*4;return a.jsxs("div",{className:`p-4 bg-gray-50 border border-gray-200 rounded-lg shadow-sm mb-2 ${s>0?`ml-${h} border-l-4 border-l-blue-200`:""}`,children:[a.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-1 flex items-center",children:t.role.replace(/([A-Z])/g," $1").replace(/^./,m=>m.toUpperCase())}),a.jsx("p",{className:"text-gray-800 text-base mb-2",children:t.comment}),a.jsxs("p",{className:"text-xs text-gray-500 flex items-center",children:[a.jsx(Lt,{size:14,className:"mr-1"})," ",t.timestamp,a.jsx(C.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>o(!i),className:"ml-3 text-blue-600 hover:text-blue-800 text-xs font-semibold",children:"Balas"})]}),a.jsx(kt,{children:i&&a.jsxs(C.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-3",children:[a.jsx("textarea",{rows:1,value:l,onChange:m=>c(m.target.value),placeholder:`Balas sebagai ${r.replace(/([A-Z])/g," $1").replace(/^./,m=>m.toUpperCase())}...`,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700 text-sm"}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:d,disabled:!l.trim(),className:"mt-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm font-semibold flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed",children:"Kirim Balasan"})]})}),t.replies&&t.replies.length>0&&a.jsx("div",{className:"mt-3 border-t border-gray-100 pt-3",children:t.replies.map(m=>a.jsx(xQ,{comment:m,machineId:e,currentUserRole:r,onAddCommentOrReply:n,depth:s+1},m.id))})]})},A7e=()=>{var $;const t=ua(),e=jt(),r=(($=t.state)==null?void 0:$.machine)||M7e,[n,s]=g.useState(null),[i,o]=g.useState(!1),[l,c]=g.useState("approval"),[d,h]=g.useState({unitHeadEngineering:{showInput:!1,text:""},unitHeadProcess:{showInput:!1,text:""},sectionHeadEngineering:{showInput:!1,text:""},sectionHeadProcess:{showInput:!1,text:""}});g.useEffect(()=>{if(r){const I={machineId:r.id,itemResults:r.items.map(L=>({itemId:L.id,result:"",status:"Pending",remarks:""})),approvalStatus:{unitHeadEngineering:"Pending",unitHeadProcess:"Pending",sectionHeadEngineering:"Pending",sectionHeadProcess:"Pending"},commentsHistory:[],activityHistory:[],isSaved:!1};s(I)}},[r]);const m=(I,L,R,z,Y)=>{s(W=>W?{...W,itemResults:W.itemResults.map(H=>H.itemId===I?{...H,result:L,status:R==="numeric"?y(Number(L),z,Y):L==="MS"?"MS":L==="TMS"?"TMS":"Pending"}:H)}:null)},x=(I,L)=>{s(R=>R?{...R,itemResults:R.itemResults.map(z=>z.itemId===I?{...z,remarks:L}:z)}:null)},y=(I,L,R)=>isNaN(I)||I===null||I===void 0?L===void 0||R===void 0?"N/A":"Pending":L!==void 0&&R!==void 0?I>=L&&I<=R?"MS":"TMS":"N/A",w=I=>{switch(I){case"MS":return"bg-green-100 text-green-800 border-green-200";case"TMS":return"bg-red-100 text-red-800 border-red-200";case"Pending":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"N/A":return"bg-gray-100 text-gray-800 border-gray-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},j=I=>{switch(I){case"Pending":return"bg-yellow-100 text-yellow-800";case"Approved":return"bg-green-100 text-green-800";case"Rejected":return"bg-red-100 text-red-800";case"FeedbackGiven":return"bg-blue-100 text-blue-800";case"Edited":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},v=I=>({admin:"Admin",technician:"Teknisi",unitHeadEngineering:"Unit Head Engineering",unitHeadProcess:"Unit Head Process",sectionHeadEngineering:"Section Head Engineering",sectionHeadProcess:"Section Head Process"})[I]||I,N=g.useCallback((I,L,R,z=null)=>{s(Y=>{if(!Y||Y.machineId!==I)return Y;const W={id:crypto.randomUUID(),role:L,comment:R,timestamp:new Date().toLocaleString(),replies:[],parentId:z},H=(F,X)=>X.parentId===null?[...F,X]:F.map(te=>te.id===X.parentId?{...te,replies:te.replies?[...te.replies,X]:[X]}:{...te,replies:te.replies?H(te.replies,X):te.replies}),P=Y.commentsHistory||[];return{...Y,commentsHistory:H(P,W)}})},[]),T=(I,L,R)=>{n&&(s(z=>{if(!z)return null;let Y=z.commentsHistory||[],W=[...z.activityHistory];const H=new Date().toLocaleString();if((L==="FeedbackGiven"||L==="Rejected")&&R){const F={id:crypto.randomUUID(),role:I,comment:R,timestamp:H,replies:[],parentId:null};Y=[...Y,F];const X=L==="FeedbackGiven"?"Memberi feedback.":"Menolak laporan.";W.push({type:L==="FeedbackGiven"?"feedback":"rejection",timestamp:H,actor:I,description:`${v(I)} ${X}`,details:R})}else L==="Approved"&&(Y=Y.filter(F=>!(F.role===I&&(F.parentId===null||F.parentId===void 0)))||[],W.push({type:"approval",timestamp:H,actor:I,description:`${v(I)} menyetujui laporan.`}));return{...z,approvalStatus:{...z.approvalStatus,[I]:L},commentsHistory:Y,activityHistory:W}}),h(z=>{const Y={...z},W=I;return Y[W]&&(Y[W]={showInput:!1,text:""}),Y}))},S=I=>{h(L=>{const R={...L},z=I;return R[z]&&(R[z]={...R[z],showInput:!R[z].showInput}),R})},O=(I,L)=>{h(R=>{const z={...R},Y=I;return z[Y]&&(z[Y]={...z[Y],text:L}),z})},_=()=>{if(!r||!n)return;o(!0);let I=!0;const L=[];n.itemResults.forEach(R=>{const z=r.items.find(Y=>Y.id===R.itemId);z&&(R.result===""||R.status==="Pending")&&(I=!1,L.push({item:z.name}))}),I?(s(R=>{if(!R)return null;let z={...R.approvalStatus},Y=R.commentsHistory||[],W=[...R.activityHistory];const H=new Date().toLocaleString(),P=k5[0];return z={...z,[P]:"Pending"},W.push({type:"submission",timestamp:H,actor:mp,description:`${v(mp)} mengisi dan mengajukan laporan.`}),{...R,isSaved:!0,submissionDate:new Date().toISOString(),approvalStatus:z,commentsHistory:Y,activityHistory:W}}),alert(`Hasil monitoring untuk ${r.name} berhasil disimpan!`)):alert(`Harap isi semua hasil monitoring yang diperlukan untuk ${r.name}. Item yang belum diisi: `+L.map(R=>R.item).join(", ")),o(!1)},A=(I,L,R,z,Y,W)=>!1,E=g.useMemo(()=>{if(!(n!=null&&n.commentsHistory))return{unitHeadEngineering:[],unitHeadProcess:[],sectionHeadEngineering:[],sectionHeadProcess:[]};const I=(R,z=null)=>R.filter(Y=>Y.parentId===z).sort((Y,W)=>new Date(Y.timestamp).getTime()-new Date(W.timestamp).getTime()).map(Y=>({...Y,replies:I(R,Y.id)})),L={unitHeadEngineering:[],unitHeadProcess:[],sectionHeadEngineering:[],sectionHeadProcess:[]};return k5.forEach(R=>{const z=n.commentsHistory.filter(Y=>Y.role===R);L[R]=I(z)}),L},[n==null?void 0:n.commentsHistory]);if(!r||!n)return a.jsx("div",{className:"flex justify-center items-center h-screen bg-gray-100",children:a.jsx("p",{className:"text-gray-600",children:"Loading machine details..."})});const D=!n.isSaved&&mp==="technician";return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx("header",{className:"bg-white border-b border-gray-100 p-4 flex items-center justify-between shadow-sm sticky top-0 z-30",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs(C.button,{onClick:()=>e(-1),whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center text-blue-600 hover:text-blue-800 transition-colors duration-200",children:[a.jsx(kr,{className:"text-xl"}),a.jsx("span",{className:"font-semibold text-sm hidden md:inline",children:"Back"})]}),a.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900 ml-4",children:"Monitoring & Maintenance"})]})}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsx(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Detail Monitoring & Maintenance"}),a.jsxs("p",{className:"text-gray-600 mt-1",children:["Machine: ",a.jsx("span",{className:"font-semibold text-gray-800",children:r.name})]}),a.jsxs("p",{className:"text-gray-600 mt-1",children:["Interval: ",a.jsx("span",{className:"font-semibold text-gray-800",children:r.interval})]}),a.jsxs("p",{className:"text-gray-600 mt-1",children:["Periode: ",a.jsx("span",{className:"font-semibold text-gray-800",children:r.period})]}),a.jsx("div",{className:"text-sm text-gray-500 mt-2 flex items-center space-x-4",children:a.jsxs("p",{children:[a.jsx("span",{className:"font-semibold",children:r.items.length})," Items"]})})]})}),a.jsx("div",{className:"space-y-6",children:a.jsxs(C.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1,duration:.2},className:"bg-white rounded-lg border border-gray-200 shadow-sm p-4",children:[a.jsx("div",{className:"overflow-x-auto rounded-lg border border-gray-200 shadow-sm",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nama Item"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Standar"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Hasil"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Catatan"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.items.map(I=>{const L=n.itemResults.find(R=>R.itemId===I.id);return a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:I.name}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:I.visual?`${I.visual} (${I.uom})`:`${I.min} - ${I.max} ${I.uom}`}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:I.uom==="Visual"||I.uom==="Level"||I.uom==="Kekencangan"?a.jsxs("select",{className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md",value:(L==null?void 0:L.result)||"",onChange:R=>m(I.id,R.target.value,"visual"),disabled:!D,children:[a.jsx("option",{value:"",children:"Pilih"}),a.jsx("option",{value:"MS",children:"MS"}),a.jsx("option",{value:"TMS",children:"TMS"})]}):a.jsx("input",{type:"number",step:"0.01",value:L==null?void 0:L.result,onChange:R=>m(I.id,R.target.value,"numeric",I.min,I.max),disabled:!D,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700 text-sm disabled:bg-gray-50 disabled:cursor-not-allowed",placeholder:"Input result"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:a.jsx("span",{className:`text-xs font-medium px-2.5 py-1 rounded-full ${w((L==null?void 0:L.status)||"Pending")}`,children:L==null?void 0:L.status})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:a.jsx("textarea",{rows:1,value:L==null?void 0:L.remarks,onChange:R=>x(I.id,R.target.value),disabled:!D,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700 text-sm disabled:bg-gray-50 disabled:cursor-not-allowed",placeholder:"Tambahkan catatan..."})})]},I.id)})})]})}),a.jsx("div",{className:"flex justify-end mt-6",children:a.jsx(C.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:_,disabled:!D||i,className:"px-6 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-semibold flex items-center disabled:opacity-50 disabled:cursor-not-allowed",children:i?a.jsxs(a.Fragment,{children:[a.jsx(mr,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Ar,{className:"mr-2 h-5 w-5"}),"Save Monitoring"]})})}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm mt-8",children:[a.jsxs("div",{className:"flex items-center space-x-4 mb-4 border-b border-gray-200",children:[a.jsxs(C.button,{whileHover:{scale:1.03},onClick:()=>c("approval"),className:`pb-3 px-2 font-semibold text-gray-700 transition-colors flex items-center space-x-2 ${l==="approval"?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:[a.jsx(sa,{className:"h-5 w-5"}),a.jsx("span",{children:"Approval Status"})]}),a.jsxs(C.button,{whileHover:{scale:1.03},onClick:()=>c("history"),className:`pb-3 px-2 font-semibold text-gray-700 transition-colors flex items-center space-x-2 ${l==="history"?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:[a.jsx(Uf,{className:"h-5 w-5"}),a.jsx("span",{children:"History Activity"})]})]}),l==="approval"?a.jsx(kt,{mode:"wait",children:a.jsx(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(n.approvalStatus).map(([I,L])=>{var W,H;const R=I,z=A(mp,R,L,n.approvalStatus,k5,n.isSaved),Y=E[R]||[];return a.jsxs("div",{className:"p-3 rounded-lg border border-gray-200",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:v(R)}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:`text-xs font-medium px-3 py-1 rounded-full ${j(L)}`,children:L==="Edited"?`Edited by ${v(R)}`:L}),z&&a.jsxs("div",{className:"flex space-x-1",children:[a.jsx(C.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>T(I,"Approved"),className:"p-1 rounded-full text-green-600 hover:bg-green-100 transition-colors",children:a.jsx($t,{size:20})}),a.jsx(C.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>S(I),className:"p-1 rounded-full text-blue-600 hover:bg-blue-100 transition-colors",children:a.jsx(Ef,{size:20})})]})]})]}),a.jsx(kt,{children:((W=d[R])==null?void 0:W.showInput)&&a.jsxs(C.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-4 p-4 bg-gray-100 rounded-lg border border-gray-200",children:[a.jsxs("h5",{className:"text-sm font-semibold text-gray-800 mb-2",children:["Alasan untuk Feedback (",v(R),")"]}),a.jsx("textarea",{rows:2,value:(H=d[R])==null?void 0:H.text,onChange:P=>O(R,P.target.value),className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700 text-sm",placeholder:"Tulis alasan feedback atau penolakan..."}),a.jsx("div",{className:"flex justify-end space-x-2 mt-2",children:a.jsx(C.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>T(R,"FeedbackGiven",d[R].text),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm font-semibold transition-colors",children:"Kirim Feedback"})})]})}),a.jsx("div",{className:"mt-4",children:Y.length>0?Y.map(P=>a.jsx(xQ,{comment:P,machineId:r.id,currentUserRole:mp,onAddCommentOrReply:N,depth:0},P.id)):a.jsx("p",{className:"text-gray-500 text-sm",children:"Belum ada komentar."})})]},I)})},"approval-tab")}):a.jsx(kt,{mode:"wait",children:a.jsx(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:"space-y-4",children:n.activityHistory.length>0?n.activityHistory.map((I,L)=>a.jsxs(C.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:L*.05},className:"flex items-start space-x-4 p-4 bg-gray-50 rounded-lg border border-gray-200 shadow-sm",children:[a.jsx("div",{className:"mt-1 flex-shrink-0",children:a.jsx(Uf,{size:20,className:"text-blue-500"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-semibold text-gray-800",children:I.description}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[a.jsxs("span",{className:"font-medium text-gray-600",children:["Oleh: ",v(I.actor)]})," - ",I.timestamp]}),I.details&&a.jsxs("p",{className:"text-sm text-gray-700 italic mt-2",children:['"',I.details,'"']})]})]},L)):a.jsx("p",{className:"text-gray-500 text-sm",children:"Belum ada aktivitas yang tercatat."})},"history-tab")})]})]})})]})]})]})},O7e=()=>{const t=jt(),{id:e}=Ta(),{getUsers:r,getTemplateApprovers:n,addApproverToTemplate:s,updateApprover:i,deleteApprover:o,getApprovalTemplateById:l}=St(),[c,d]=g.useState(window.innerWidth<768),[h,m]=g.useState(()=>{const F=localStorage.getItem("sidebarOpen");return JSON.parse(F||"false")}),x=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!h)),m(F=>!F)},[y,w]=g.useState([]),[j,v]=g.useState(null),[N,T]=g.useState([]),[S,O]=g.useState(!1),[_,A]=g.useState("");g.useEffect(()=>{e&&(E(),$())},[e]);const E=async()=>{if(!e){A("Template ID is missing");return}try{O(!0);const F=await l(e);console.log("Template data loaded:",F),v(F),F.approvers&&F.approvers.length>0?await D(F.approvers):T([{order:1,role:"Select Position",assignee:""}])}catch(F){A("Failed to load template"),console.error("Error loading template:",F)}finally{O(!1)}},D=async F=>{try{const X=F.map(te=>{var q,Z;return{order:te.step,role:((q=te.approver)==null?void 0:q.position)||`Approval Step ${te.step}`,assignee:((Z=te.approver)==null?void 0:Z.name)||"",approver_user_id:te.approver_user_id}});T(X)}catch(X){console.error("Error loading template approvers from data:",X),T([{order:1,role:"Select Position",assignee:""}])}},$=async()=>{try{const X=(await r()).map(te=>{var q;return{id:parseInt(te.id),name:te.name,email:te.email,position:te.position||"No Position",department:((q=te.department)==null?void 0:q.name)||te.department_name}});w(X)}catch(F){console.error("Error loading users:",F)}},I=()=>{const F=y.map(X=>X.position).filter(X=>X!=null&&X!=="No Position");return[...new Set(F)]},L=F=>y.filter(X=>X.position===F),R=()=>{const F=N.length>0?Math.max(...N.map(X=>X.order))+1:1;T(X=>[...X,{order:F,role:"Select Position",assignee:""}])},z=F=>{T(X=>X.filter((te,q)=>q!==F).map((te,q)=>({...te,order:q+1})))},Y=(F,X)=>{T(te=>te.map((q,Z)=>Z===F?{...q,role:X,assignee:""}:q))},W=(F,X)=>{const te=y.find(q=>q.id===X);te&&T(q=>q.map((Z,ie)=>ie===F?{...Z,assignee:te.name,approver_user_id:te.id}:Z))},H=async()=>{if(!j)return;if(!N.every(X=>X.role&&X.assignee&&X.approver_user_id&&X.role!=="Select Position")){A("Please complete all roles and assignees.");return}try{O(!0),A(""),console.log("Saving approval flow with smart update/post logic..."),console.log("Template ID:",j.id),console.log("Existing approvers:",j.approvers),console.log("New approval flow:",N);const X=j.approvers||[],te=N.map(ie=>({approver_user_id:ie.approver_user_id,step:ie.order}));console.log("Existing approvers:",X),console.log("New approvers:",te);const q=[];for(const ie of N){const oe={approver_user_id:ie.approver_user_id,step:ie.order},le=X.find(ge=>ge.step===ie.order);if(le)if(le.approver_user_id!==ie.approver_user_id){console.log(`Updating approver for step ${ie.order} (ID: ${le.id})`);try{await i(j.id,le.id,oe),console.log(` Updated approver for step ${ie.order}`)}catch(ge){throw console.error(` Failed to update approver for step ${ie.order}:`,ge),new Error(`Failed to update approver for step ${ie.order}`)}}else console.log(` Approver for step ${ie.order} unchanged, skipping`);else{console.log(`Adding new approver for step ${ie.order}`);try{await s(j.id,oe),console.log(` Added new approver for step ${ie.order}`)}catch(ge){throw console.error(` Failed to add approver for step ${ie.order}:`,ge),new Error(`Failed to add approver for step ${ie.order}`)}}q.push(ie.order)}const Z=X.filter(ie=>!q.includes(ie.step)).map(ie=>({id:ie.id,step:ie.step}));console.log("Steps to delete:",Z);for(const ie of Z)try{await o(j.id,ie.id),console.log(` Deleted unused approver for step ${ie.step}`)}catch(oe){console.warn(` Could not delete approver for step ${ie.step}:`,oe)}alert(` Approval flow for template "${j.name}" has been successfully saved!`),await E()}catch(X){console.error(" Error saving approval flow:",X),A(X instanceof Error?X.message:"Failed to save approval flow")}finally{O(!1)}},P=()=>{t("/workflowapproval/monitoringapproval")};return console.log("Template state:",j),console.log("Custom approval flow:",N),S&&!j?a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsx("div",{className:"flex-1 flex items-center justify-center",children:a.jsx(vb,{className:"animate-spin text-blue-600",size:32})})]}):j?a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Mt,{mainTitle:"Monitoring Approval",mainTitleHighlight:"Page",description:"Manage work shifts and their configurations within the system.",icon:a.jsx(wb,{}),isMobile:c,toggleSidebar:x}),a.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[a.jsx(wb,{className:"mr-2 text-gray-700",size:24}),"Flow Configuration: ",a.jsx("span",{className:"text-blue-600 ml-2",children:j==null?void 0:j.name})]}),a.jsxs(C.button,{onClick:P,whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors font-semibold text-sm flex items-center",disabled:S,children:[a.jsx(kr,{className:"mr-2",size:18})," Back to Template List"]})]}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Configure the approval flow by selecting positions and assigning approvers."}),_&&a.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:_}),a.jsx("div",{className:"space-y-4",children:N.map((F,X)=>{const te=I(),q=F.role&&F.role!=="Select Position"?L(F.role):[];return a.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[a.jsxs("span",{className:"text-gray-500 font-semibold min-w-8",children:[F.order,"."]}),a.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Position"}),a.jsxs("select",{value:F.role,onChange:Z=>Y(X,Z.target.value),className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700 text-sm",children:[a.jsx("option",{value:"Select Position",children:"Select Position"}),te.map(Z=>a.jsx("option",{value:Z,children:Z},Z))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Assignee"}),a.jsxs("select",{value:F.approver_user_id||"",onChange:Z=>W(X,parseInt(Z.target.value)),className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700 text-sm",disabled:!F.role||F.role==="Select Position"||q.length===0,children:[a.jsx("option",{value:"",children:"Select User"}),q.map(Z=>a.jsxs("option",{value:Z.id,children:[Z.name," (",Z.email,")"]},Z.id))]}),F.role&&F.role!=="Select Position"&&q.length===0&&a.jsx("p",{className:"text-xs text-red-500 mt-1",children:"No users found for this position"})]})]}),N.length>1&&a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>z(X),className:"text-red-600 hover:text-red-800 transition-colors p-2",disabled:S,children:a.jsx(dn,{size:20})})]},X)})}),a.jsxs("div",{className:"flex justify-between items-center mt-6",children:[a.jsxs(C.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:R,className:"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors font-semibold flex items-center text-sm disabled:opacity-50",disabled:S,children:[a.jsx(Jn,{size:18,className:"mr-2"})," Add Step"]}),a.jsxs(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:H,className:"px-5 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors font-semibold text-sm disabled:opacity-50 flex items-center",disabled:S,children:[S?a.jsx(vb,{className:"animate-spin mr-2",size:16}):a.jsx(Ar,{size:18,className:"mr-2"}),"Save Flow"]})]})]})})]})]}):a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsx("div",{className:"flex-1 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-700 mb-2",children:"Template not found"}),a.jsxs("p",{className:"text-gray-500 mb-4",children:["ID: ",e]}),a.jsx("button",{onClick:P,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Back to Templates"})]})})]})},E7e=()=>a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 px-4",children:a.jsxs("div",{className:"max-w-md w-full text-center",children:[a.jsx("div",{className:"mb-8",children:a.jsxs("div",{className:"relative inline-flex",children:[a.jsx("div",{className:"w-32 h-32 bg-white rounded-full shadow-lg flex items-center justify-center",children:a.jsx(cle,{className:"w-16 h-16 text-gray-400"})}),a.jsx("div",{className:"absolute -top-2 -right-2 w-8 h-8 bg-red-500 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-white text-sm font-bold",children:"404"})})]})}),a.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-4",children:"Page Not Found"}),a.jsx("p",{className:"text-gray-600 mb-8 text-lg",children:"Oops! The page you're looking for seems to have wandered off into the digital void."}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[a.jsxs(Lc,{to:"/",className:"inline-flex items-center justify-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200 font-medium",children:[a.jsx(lg,{className:"mr-2"}),"Back to Home"]}),a.jsxs("button",{onClick:()=>window.history.back(),className:"inline-flex items-center justify-center px-6 py-3 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors duration-200 font-medium",children:[a.jsx(kr,{className:"mr-2"}),"Go Back"]})]}),a.jsx("div",{className:"mt-8 p-4 bg-white rounded-lg shadow-sm",children:a.jsxs("p",{className:"text-sm text-gray-600",children:["If you believe this is an error, please contact the"," ",a.jsx(Lc,{to:"#",className:"text-blue-600 hover:underline",children:"IT Department"})]})}),a.jsx("div",{className:"mt-12",children:a.jsx("div",{className:"relative h-1 bg-gray-200 rounded-full overflow-hidden",children:a.jsx("div",{className:"absolute top-0 left-0 h-full bg-gradient-to-r from-blue-500 to-purple-500 w-1/3 animate-ping-pong"})})})]})}),D7e=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(C.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(at,{size:24})})]}),a.jsx("div",{children:n})]})}):null,P7e=()=>{const{id:t}=Ta(),[e,r]=g.useState(window.innerWidth<768),[n,s]=g.useState([]),[i,o]=g.useState(),{getWorkArea:l,updateWorkArea:c,getWorkAreaById:d}=St(),[h,m]=g.useState(()=>{const R=localStorage.getItem("sidebarOpen");return R?JSON.parse(R):!1}),[x,y]=g.useState(null),[w,j]=g.useState(null),[v,N]=g.useState(!1),[T,S]=g.useState(!1),O=jt(),[_,A]=g.useState({work_area:""}),E=()=>{m(R=>!R)};g.useEffect(()=>{i&&A({work_area:i.work_area||""})},[i]);const D=R=>{const{name:z,value:Y}=R.target;A(W=>({...W,[z]:z==="sla"?Number(Y):Y}))},$=g.useCallback(async()=>{try{if(t){const[R]=await Promise.all([d(t)]);o(R)}}catch(R){y(R.message||"Failed to load form data")}},[t,d]);g.useEffect(()=>{t&&$()},[t,$]);const I=async R=>{R.preventDefault(),S(!0),y(null);try{const z={work_area:_.work_area};await c(t,z),j("Work Area update successfully!"),N(!0)}catch(z){y(z.message||"Failed to update Work Area")}finally{S(!1)}},L=()=>{N(!1),O("/worklocation/workarea")};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Mt,{mainTitle:"Edit Work Area",mainTitleHighlight:"Management",description:"blablablabl",icon:a.jsx(Si,{}),isMobile:e,toggleSidebar:E}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Work Area"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Update Work Area information"})]}),a.jsxs(C.button,{onClick:()=>O("/worklocation/workarea"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(kr,{className:"text-lg"})," Back to Work Area Management"]})]}),a.jsxs(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[x&&a.jsxs(C.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:x}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(at,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>y(null)})})]}),a.jsxs("form",{onSubmit:I,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Work Area Information"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"work_area",className:"block text-sm font-medium text-gray-700 mb-1",children:["Work Area ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"work_area",id:"work_area",value:_.work_area,onChange:D,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsx(C.button,{type:"button",onClick:()=>O("/worklocation/workarea"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),a.jsx(C.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:T,children:T?a.jsxs(a.Fragment,{children:[a.jsx(mr,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Ar,{className:"mr-2 h-5 w-5"})," Save Work Area"]})})]})]})]})]})]}),a.jsx(D7e,{isOpen:v,onClose:L,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx($t,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:w}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:L,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Work Area Management"})]})})]})},R7e=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(C.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(at,{size:24})})]}),a.jsx("div",{children:n})]})}):null,I7e=()=>{const[t,e]=g.useState(window.innerWidth<768),[r,n]=g.useState([]),{addWorkArea:s,getWorkArea:i}=St(),[o,l]=g.useState(()=>{const D=localStorage.getItem("sidebarOpen");return D?JSON.parse(D):!1}),[c,d]=g.useState(null),[h,m]=g.useState(null),[x,y]=g.useState(!1),[w,j]=g.useState(!1),v=jt(),[N,T]=g.useState({work_area:""}),S=()=>{l(D=>!D)},O=D=>{const{name:$,value:I}=D.target;T(L=>({...L,[$]:$==="sla"?Number(I):I}))},_=g.useCallback(async()=>{try{const[D]=await Promise.all([i()]);n(D)}catch(D){d(D.message||"Failed to load form data")}},[i]);g.useEffect(()=>{_()},[_]);const A=async D=>{D.preventDefault(),j(!0),d(null);try{const $={work_area:N.work_area};await s($),m("Work Area created successfully!"),y(!0)}catch($){d($.message||"Failed to create Work Area")}finally{j(!1)}},E=()=>{y(!1),v("/worklocation/workarea")};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Mt,{mainTitle:"Create Work Area",mainTitleHighlight:"Management",description:"blablablabl",icon:a.jsx(Si,{}),isMobile:t,toggleSidebar:S}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Work Area"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Create a new Work Area information"})]}),a.jsxs(C.button,{onClick:()=>v("/worklocation/workarea"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(kr,{className:"text-lg"})," Back to Work Area Management"]})]}),a.jsxs(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[c&&a.jsxs(C.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:c}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(at,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>d(null)})})]}),a.jsxs("form",{onSubmit:A,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Work Area Information"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"work_area",className:"block text-sm font-medium text-gray-700 mb-1",children:["Work Area ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"work_area",id:"work_area",value:N.work_area,onChange:O,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsx(C.button,{type:"button",onClick:()=>v("/worklocation/workarea"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),a.jsx(C.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:w,children:w?a.jsxs(a.Fragment,{children:[a.jsx(mr,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Ar,{className:"mr-2 h-5 w-5"})," Save Work Area"]})})]})]})]})]})]}),a.jsx(R7e,{isOpen:x,onClose:E,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx($t,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:h}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:E,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Work Area Management"})]})})]})},L7e=({isOpen:t,onClose:e,title:r,children:n,className:s})=>a.jsx(kt,{children:t&&a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:a.jsxs(C.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${s||"max-w-xl w-full"}`,children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:r}),a.jsx("button",{onClick:e,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:a.jsx(at,{className:"text-xl"})})]}),a.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:n})]})})}),$7e=({title:t,value:e,change:r,icon:n})=>{const s=r.startsWith("+");return a.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),a.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),a.jsxs("p",{className:`mt-3 text-xs font-semibold ${s?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})},F7e=()=>{const[t,e]=g.useState([]),{getWorkArea:r,deleteWorkArea:n}=St(),[s,i]=g.useState(!0),[o,l]=g.useState(null),[c,d]=g.useState(""),[h,m]=g.useState(!1),[x,y]=g.useState(null),[w,j]=g.useState(!1),[v]=g.useState(window.innerWidth<768),[N,T]=g.useState(()=>{const P=localStorage.getItem("sidebarOpen");return P?JSON.parse(P):!1}),S=jt(),O=g.useRef(null),[_,A]=g.useState(!1),E=g.useMemo(()=>[{id:"workarea",name:"Work Area"}],[]),D=g.useCallback(async()=>{try{i(!0);const F=[...await r()].sort((X,te)=>X.id-te.id);e(F)}catch(P){l("Failed to load Work Area"),console.error("Error loading Work Area:",P)}finally{i(!1)}},[r]);g.useEffect(()=>{D()},[D]);const $=()=>{const P=!N;T(P),localStorage.setItem("sidebarOpen",JSON.stringify(P))},I=()=>{alert("Import functionality is not yet implemented.")},L=P=>{const F=P.target.value;d(F)},R=g.useMemo(()=>{if(!c)return E;const P=c.toLowerCase();return E.filter(F=>F.name.toLowerCase().includes(P))},[c,E]),z=P=>{var F;d(`${P}: `),A(!1),(F=O.current)==null||F.focus()},Y=g.useMemo(()=>{if(!c.trim())return t;const P=c.toLowerCase().trim(),F=P.split(":");let X="all",te=P;return F.length>1&&E.some(q=>q.name.toLowerCase()===F[0].trim())&&(X=F[0].trim(),te=F.slice(1).join(":").trim()),t.filter(q=>{const Z=q.work_area.toLowerCase().includes(te);return Z})},[t,c,E]),W=async P=>{try{await n(P),e(t.filter(F=>F.id!==P)),m(!1),y(null)}catch(F){console.error("Failed to delete Work Area:",F),l("Failed to delete Work Area. Please try again.")}},H=g.useCallback(P=>{y(P),m(!0)},[]);return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Mt,{mainTitle:"Work Area",mainTitleHighlight:"Page",description:"Manage work area and their configurations within the system.",icon:a.jsx(Si,{}),isMobile:v,toggleSidebar:$}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Work Area ",a.jsx("span",{className:"text-blue-600",children:"Management"})]}),a.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Organize and manage work area by specific company requirements."})]}),a.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[a.jsxs(C.button,{onClick:()=>S("/worklocation/workarea/addworkarea"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[a.jsx(Jn,{className:"text-base"}),a.jsx("span",{children:"Add Work Area"})]}),a.jsxs(C.button,{onClick:I,whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(Ja,{className:"text-base"}),a.jsx("span",{children:"Import"})]}),a.jsxs(C.button,{onClick:()=>j(!w),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(Xa,{className:"text-base"}),a.jsx("span",{children:"Filters"}),a.jsx(C.span,{animate:{rotate:w?180:0},transition:{duration:.2},children:a.jsx(cn,{className:"text-base"})})]})]})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:a.jsx($7e,{title:"Total Work Area",value:t.length.toString(),change:`+${Math.floor(t.length/10*100)}%`,icon:a.jsx(Si,{className:"w-6 h-6"})})}),a.jsxs(C.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[a.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Wn,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),a.jsx("input",{ref:O,type:"text",placeholder:"Search by work area...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:c,onChange:L,onFocus:()=>A(!0),"aria-label":"Search work area"}),a.jsx(kt,{children:_&&R.length>0&&a.jsx(C.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.15},className:"search-suggestions absolute left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-10 max-h-56 overflow-y-auto custom-scrollbar",children:R.map(P=>a.jsx(C.button,{onClick:()=>z(P.name),whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},className:"w-full text-left p-3 text-gray-700 hover:text-blue-700 transition-colors duration-150 text-sm",role:"option",children:a.jsx("span",{className:"font-semibold",children:P.name})},P.id))})})]})}),a.jsx(kt,{children:w&&a.jsx(C.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full"})})]}),s?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),a.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading work area data..."})]}):Y.length===0?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("p",{className:"text-gray-700 text-base font-medium",children:c?"No work area found matching your search.":"No work area available."}),c&&a.jsx("button",{onClick:()=>d(""),className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear Search"})]}):a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:a.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:a.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[a.jsx("thead",{className:"bg-blue-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Work Area"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:Y.map((P,F)=>a.jsxs(C.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:F+1})}),a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:P.work_area})}),a.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>S(`/worklocation/workarea/editworkarea/${P.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit",children:a.jsx(Bn,{className:"inline text-base"})}),a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>H(P.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:a.jsx(dn,{className:"inline text-base"})})]})]},P.id))})]})})})]})]}),a.jsx(L7e,{isOpen:h,onClose:()=>m(!1),title:"Confirm Deletion",children:a.jsxs("div",{className:"space-y-5 text-center py-3",children:[a.jsx(er,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),a.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this work area? This action cannot be undone."}),a.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>m(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>x&&W(x),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})]})},H7e=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(C.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(at,{size:24})})]}),a.jsx("div",{children:n})]})}):null,B7e=()=>{const{addAsset:t}=St(),e=jt(),[r,n]=g.useState(!1),[s,i]=g.useState(null),[o,l]=g.useState(!1),[c,d]=g.useState(()=>{const O=localStorage.getItem("sidebarOpen");return O?JSON.parse(O):!1}),[h,m]=g.useState(window.innerWidth<768),x=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!c)),d(O=>!O)},y={id:0,name:"",category:"",location:"",purchase_date:new Date().toISOString().split("T")[0],description:"",type:"",make:"",model:"",status:"",last_maintenance:"",next_maintenance:"",work_orders:"",health:"",created_at:new Date().toISOString(),update_at:new Date().toISOString()},[w,j]=g.useState(y),v=g.useCallback(O=>{const{name:_,value:A}=O.target;j(E=>({...E,[_]:A}))},[]),N=async O=>{O.preventDefault(),n(!0),i(null);try{const _={...w,id:0,created_at:new Date().toISOString(),update_at:new Date().toISOString()};await t(_),l(!0),T()}catch(_){i(_.message||"Failed to save asset data. Please try again."),console.error("Submission error:",_)}finally{n(!1)}},T=g.useCallback(()=>{j(y),i(null)},[y]),S=g.useCallback(()=>{l(!1),e("/assets")},[e]);return g.useEffect(()=>{const O=()=>{m(window.innerWidth<768)};return window.addEventListener("resize",O),()=>window.removeEventListener("resize",O)},[]),a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Mt,{mainTitle:"Add New Asset",mainTitleHighlight:"Asset",description:"Add new asset to the system inventory.",icon:a.jsx(kn,{}),isMobile:h,toggleSidebar:x}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Add New Asset"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Fill in the details for the new asset"})]}),a.jsxs(C.button,{onClick:()=>e("/assets"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(kr,{className:"text-lg"})," Back to Assets"]})]}),a.jsxs(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[s&&a.jsxs(C.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:s}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(at,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>i(null)})})]}),a.jsxs("form",{onSubmit:N,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(kn,{className:"mr-2 text-blue-500"})," Basic Information"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Asset Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"name",id:"name",value:w.name,onChange:v,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., Production Machine A-01",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 mb-1",children:["Category ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"category",id:"category",value:w.category,onChange:v,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., Manufacturing Equipment",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700 mb-1",children:["Location ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"location",id:"location",value:w.location,onChange:v,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., Production Floor, Building B",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"purchase_date",className:"block text-sm font-medium text-gray-700 mb-1",children:["Purchase Date ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"date",name:"purchase_date",id:"purchase_date",value:w.purchase_date,onChange:v,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("textarea",{name:"description",id:"description",value:w.description,onChange:v,rows:3,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"Detailed description of the asset...",required:!0})]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(Tn,{className:"mr-2 text-green-500"})," Technical Specifications"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"type",className:"block text-sm font-medium text-gray-700 mb-1",children:"Asset Type"}),a.jsxs("select",{name:"type",id:"type",value:w.type||"",onChange:v,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",children:[a.jsx("option",{value:"",children:"Select Type"}),a.jsx("option",{value:"mechanical",children:"Mechanical"}),a.jsx("option",{value:"electrical",children:"Electrical"}),a.jsx("option",{value:"vehicle",children:"Vehicle"}),a.jsx("option",{value:"building",children:"Building"}),a.jsx("option",{value:"equipment",children:"Equipment"}),a.jsx("option",{value:"tool",children:"Tool"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"make",className:"block text-sm font-medium text-gray-700 mb-1",children:"Make/Manufacturer"}),a.jsx("input",{type:"text",name:"make",id:"make",value:w.make||"",onChange:v,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., Siemens, Caterpillar"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"model",className:"block text-sm font-medium text-gray-700 mb-1",children:"Model"}),a.jsx("input",{type:"text",name:"model",id:"model",value:w.model||"",onChange:v,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., X500, 320D"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),a.jsxs("select",{name:"status",id:"status",value:w.status||"",onChange:v,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",children:[a.jsx("option",{value:"",children:"Select Status"}),a.jsx("option",{value:"running",children:"Running"}),a.jsx("option",{value:"maintenance",children:"Maintenance"}),a.jsx("option",{value:"breakdown",children:"Breakdown"}),a.jsx("option",{value:"idle",children:"Idle"}),a.jsx("option",{value:"retired",children:"Retired"})]})]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(pn,{className:"mr-2 text-purple-500"})," Maintenance Information"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"last_maintenance",className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Maintenance Date"}),a.jsx("input",{type:"date",name:"last_maintenance",id:"last_maintenance",value:w.last_maintenance||"",onChange:v,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"next_maintenance",className:"block text-sm font-medium text-gray-700 mb-1",children:"Next Maintenance Date"}),a.jsx("input",{type:"date",name:"next_maintenance",id:"next_maintenance",value:w.next_maintenance||"",onChange:v,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"work_orders",className:"block text-sm font-medium text-gray-700 mb-1",children:"Work Orders"}),a.jsx("input",{type:"text",name:"work_orders",id:"work_orders",value:w.work_orders||"",onChange:v,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., WO-001, WO-002"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"health",className:"block text-sm font-medium text-gray-700 mb-1",children:"Health Status"}),a.jsxs("select",{name:"health",id:"health",value:w.health||"",onChange:v,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",children:[a.jsx("option",{value:"",children:"Select Health Status"}),a.jsx("option",{value:"excellent",children:"Excellent"}),a.jsx("option",{value:"good",children:"Good"}),a.jsx("option",{value:"fair",children:"Fair"}),a.jsx("option",{value:"poor",children:"Poor"}),a.jsx("option",{value:"critical",children:"Critical"})]})]})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsxs(C.button,{type:"button",onClick:T,whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",children:[a.jsx(dn,{className:"mr-2 h-5 w-5"})," Clear Form"]}),a.jsx(C.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:r,children:r?a.jsxs(a.Fragment,{children:[a.jsx(mr,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Ar,{className:"mr-2 h-5 w-5"})," Save Asset"]})})]})]})]})]})]}),a.jsx(H7e,{isOpen:o,onClose:S,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx($t,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:"Your asset has been added successfully!"}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:S,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Go to Assets"})]})})]})},z7e=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(C.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(at,{size:24})})]}),a.jsx("div",{children:n})]})}):null,V7e=()=>{const{editAsset:t,getAssetsData:e}=St(),r=jt(),{id:n}=Ta(),[s,i]=g.useState(!1),[o,l]=g.useState(!0),[c,d]=g.useState(null),[h,m]=g.useState(!1),[x,y]=g.useState(()=>{const $=localStorage.getItem("sidebarOpen");return $?JSON.parse($):!1}),[w,j]=g.useState(window.innerWidth<768),v=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!x)),y($=>!$)},N={id:0,name:"",category:"",location:"",purchase_date:new Date().toISOString().split("T")[0],description:"",type:"",make:"",model:"",status:"",last_maintenance:"",next_maintenance:"",work_orders:"",health:"",created_at:new Date().toISOString(),update_at:new Date().toISOString()},[T,S]=g.useState(N),O=g.useCallback($=>{const{name:I,value:L}=$.target;S(R=>({...R,[I]:L}))},[]),_=g.useCallback(async()=>{if(n){l(!0);try{const I=(await e()).find(L=>String(L.id)===n);I?S({id:I.id,name:I.name,category:I.category,location:I.location,purchase_date:I.purchaseDate,description:I.description,type:I.type||"",make:I.make||"",model:I.model||"",status:I.status||"",last_maintenance:I.lastMaintenance||"",next_maintenance:I.nextMaintenance||"",work_orders:I.workOrders||"",health:I.health||"",created_at:I.createdAt,update_at:I.updateAt}):d("Asset not found")}catch($){d("Failed to load asset data: "+$.message)}finally{l(!1)}}},[n,e]),A=async $=>{$.preventDefault(),i(!0),d(null);try{const I={...T,update_at:new Date().toISOString()};await t(I),m(!0)}catch(I){d(I.message||"Failed to update asset data. Please try again."),console.error("Submission error:",I)}finally{i(!1)}},E=g.useCallback(()=>{_(),d(null)},[_]),D=g.useCallback(()=>{m(!1),r("/assets")},[r]);return g.useEffect(()=>{const $=()=>{j(window.innerWidth<768)};return window.addEventListener("resize",$),()=>window.removeEventListener("resize",$)},[]),g.useEffect(()=>{_()},[_]),o?a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Mt,{mainTitle:"Edit Asset",mainTitleHighlight:"Asset",description:"Edit asset information.",icon:a.jsx(kn,{}),isMobile:w,toggleSidebar:v}),a.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx(mr,{className:"animate-spin text-blue-600 mb-4",size:32}),a.jsx("p",{className:"text-gray-600",children:"Loading asset data..."})]})})]})]}):a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Mt,{mainTitle:"Edit Asset",mainTitleHighlight:"Asset",description:"Edit asset information in the system.",icon:a.jsx(kn,{}),isMobile:w,toggleSidebar:v}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Asset"}),a.jsxs("p",{className:"text-gray-600 mt-1",children:["Update the details for asset: ",T.name]})]}),a.jsxs(C.button,{onClick:()=>r("/assets"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(kr,{className:"text-lg"})," Back to Assets"]})]}),a.jsxs(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[c&&a.jsxs(C.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:c}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(at,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>d(null)})})]}),a.jsxs("form",{onSubmit:A,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(kn,{className:"mr-2 text-blue-500"})," Basic Information"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Asset Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"name",id:"name",value:T.name,onChange:O,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., Production Machine A-01",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 mb-1",children:["Category ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"category",id:"category",value:T.category,onChange:O,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., Manufacturing Equipment",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700 mb-1",children:["Location ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"location",id:"location",value:T.location,onChange:O,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., Production Floor, Building B",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"purchase_date",className:"block text-sm font-medium text-gray-700 mb-1",children:["Purchase Date ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"date",name:"purchase_date",id:"purchase_date",value:T.purchase_date,onChange:O,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("textarea",{name:"description",id:"description",value:T.description,onChange:O,rows:3,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"Detailed description of the asset...",required:!0})]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(kn,{className:"mr-2 text-green-500"})," Technical Specifications"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"type",className:"block text-sm font-medium text-gray-700 mb-1",children:"Asset Type"}),a.jsxs("select",{name:"type",id:"type",value:T.type||"",onChange:O,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",children:[a.jsx("option",{value:"",children:"Select Type"}),a.jsx("option",{value:"mechanical",children:"Mechanical"}),a.jsx("option",{value:"electrical",children:"Electrical"}),a.jsx("option",{value:"vehicle",children:"Vehicle"}),a.jsx("option",{value:"building",children:"Building"}),a.jsx("option",{value:"equipment",children:"Equipment"}),a.jsx("option",{value:"tool",children:"Tool"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"make",className:"block text-sm font-medium text-gray-700 mb-1",children:"Make/Manufacturer"}),a.jsx("input",{type:"text",name:"make",id:"make",value:T.make||"",onChange:O,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., Siemens, Caterpillar"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"model",className:"block text-sm font-medium text-gray-700 mb-1",children:"Model"}),a.jsx("input",{type:"text",name:"model",id:"model",value:T.model||"",onChange:O,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., X500, 320D"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),a.jsxs("select",{name:"status",id:"status",value:T.status||"",onChange:O,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",children:[a.jsx("option",{value:"",children:"Select Status"}),a.jsx("option",{value:"running",children:"Running"}),a.jsx("option",{value:"maintenance",children:"Maintenance"}),a.jsx("option",{value:"breakdown",children:"Breakdown"}),a.jsx("option",{value:"idle",children:"Idle"}),a.jsx("option",{value:"retired",children:"Retired"})]})]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(kn,{className:"mr-2 text-purple-500"})," Maintenance Information"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"last_maintenance",className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Maintenance Date"}),a.jsx("input",{type:"date",name:"last_maintenance",id:"last_maintenance",value:T.last_maintenance||"",onChange:O,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"next_maintenance",className:"block text-sm font-medium text-gray-700 mb-1",children:"Next Maintenance Date"}),a.jsx("input",{type:"date",name:"next_maintenance",id:"next_maintenance",value:T.next_maintenance||"",onChange:O,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"work_orders",className:"block text-sm font-medium text-gray-700 mb-1",children:"Work Orders"}),a.jsx("input",{type:"text",name:"work_orders",id:"work_orders",value:T.work_orders||"",onChange:O,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., WO-001, WO-002"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"health",className:"block text-sm font-medium text-gray-700 mb-1",children:"Health Status"}),a.jsxs("select",{name:"health",id:"health",value:T.health||"",onChange:O,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",children:[a.jsx("option",{value:"",children:"Select Health Status"}),a.jsx("option",{value:"excellent",children:"Excellent"}),a.jsx("option",{value:"good",children:"Good"}),a.jsx("option",{value:"fair",children:"Fair"}),a.jsx("option",{value:"poor",children:"Poor"}),a.jsx("option",{value:"critical",children:"Critical"})]})]})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsxs(C.button,{type:"button",onClick:E,whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",children:[a.jsx(dn,{className:"mr-2 h-5 w-5"})," Reset Changes"]}),a.jsx(C.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:s,children:s?a.jsxs(a.Fragment,{children:[a.jsx(mr,{className:"animate-spin mr-2 h-5 w-5"}),"Updating..."]}):a.jsxs(a.Fragment,{children:[a.jsx(mce,{className:"mr-2 h-5 w-5"})," Update Asset"]})})]})]})]})]})]}),a.jsx(z7e,{isOpen:h,onClose:D,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx($t,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:"Asset has been updated successfully!"}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:D,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Go to Assets"})]})})]})};function W7e(){return a.jsx(a.Fragment,{children:a.jsxs(Cte,{children:[a.jsx(lt,{path:"/login",element:a.jsx(vre,{})}),a.jsx(lt,{path:"/forgot-password",element:a.jsx(Vce,{})}),a.jsx(lt,{path:"/privacy-policy",element:a.jsx(Wce,{})}),a.jsx(lt,{path:"/maintenanceactivity/activitytypes/addactivitytype",element:a.jsx(Nz,{})}),a.jsx(lt,{path:"/monitoringmaintenance/detailmonitoringmaintenanceD",element:a.jsx(A7e,{})}),a.jsxs(lt,{element:a.jsx(es,{}),children:[a.jsx(lt,{index:!0,element:a.jsx(_R,{})})," ",a.jsx(lt,{path:"/dashboard",element:a.jsx(_R,{})})]}),a.jsx(lt,{element:a.jsx(es,{requiredPermissions:["view_assets"]}),children:a.jsx(lt,{path:"/audittrail",element:a.jsx(KIe,{})})}),a.jsxs(lt,{element:a.jsx(es,{requiredPermissions:["view_assets"]}),children:[a.jsx(lt,{path:"/workflowapproval",element:a.jsx(XIe,{})}),a.jsx(lt,{path:"/workflowapproval/monitoringapproval",element:a.jsx(JIe,{})}),a.jsx(lt,{path:"/workflowapproval/monitoringapproval/configureapproval/:id",element:a.jsx(O7e,{})})]}),a.jsxs(lt,{element:a.jsx(es,{requiredPermissions:["view_assets"]}),children:[a.jsx(lt,{path:"/worklocation",element:a.jsx(cNe,{})}),a.jsx(lt,{path:"/worklocation/department",element:a.jsx(uLe,{})}),a.jsx(lt,{path:"/worklocation/department/adddepartment",element:a.jsx(fLe,{})}),a.jsx(lt,{path:"/worklocation/department/editdepartment/:id",element:a.jsx(mLe,{})}),a.jsx(lt,{path:"/worklocation/workunit",element:a.jsx(e7e,{})}),a.jsx(lt,{path:"/worklocation/workunit/addworkunit",element:a.jsx(XLe,{})}),a.jsx(lt,{path:"/worklocation/workunit/editworkunit/:id",element:a.jsx(QLe,{})}),a.jsx(lt,{path:"/worklocation/workgroup",element:a.jsx(Az,{})}),a.jsx(lt,{path:"/worklocation/workgroup/addworkgroup",element:a.jsx(_z,{})}),a.jsx(lt,{path:"/worklocation/workgroup/editworkgroup/:id",element:a.jsx(Tz,{})}),a.jsx(lt,{path:"/worklocation/workarea",element:a.jsx(F7e,{})}),a.jsx(lt,{path:"/worklocation/workarea/addworkarea",element:a.jsx(I7e,{})}),a.jsx(lt,{path:"/worklocation/workarea/editworkarea/:id",element:a.jsx(P7e,{})})]}),a.jsxs(lt,{element:a.jsx(es,{requiredPermissions:["view_assets"]}),children:[a.jsx(lt,{path:"/workarrangement",element:a.jsx(uNe,{})}),a.jsx(lt,{path:"/workarrangement/workshift",element:a.jsx(c7e,{})}),a.jsx(lt,{path:"/workarrangement/workshift/addworkshift",element:a.jsx(o7e,{})}),a.jsx(lt,{path:"/workarrangement/workshift/editworkshift/:id",element:a.jsx(s7e,{})}),a.jsx(lt,{path:"/workarrangement/workgroup",element:a.jsx(Az,{})}),a.jsx(lt,{path:"/workarrangement/workgroup/addworkgroup",element:a.jsx(_z,{})}),a.jsx(lt,{path:"/workarrangement/workgroup/editworkgroup/:id",element:a.jsx(Tz,{})})]}),a.jsx(lt,{element:a.jsx(es,{requiredPermissions:["view_assets"]}),children:a.jsx(lt,{path:"/sparepart",element:a.jsx(dNe,{})})}),a.jsxs(lt,{element:a.jsx(es,{requiredPermissions:["view_assets"]}),children:[a.jsx(lt,{path:"/assets",element:a.jsx(fNe,{})}),a.jsx(lt,{path:"/assets/assetsdata",element:a.jsx(Kce,{})}),a.jsx(lt,{path:"/assets/assetsdata/addasset",element:a.jsx(B7e,{})}),a.jsx(lt,{path:"/assets/assetsdata/editasset/:id",element:a.jsx(V7e,{})})]}),a.jsxs(lt,{element:a.jsx(es,{requiredPermissions:["view_assets"]}),children:[a.jsx(lt,{path:"/vendors",element:a.jsx(w7e,{})}),a.jsx(lt,{path:"/vendors/addvendor",element:a.jsx(S7e,{})}),a.jsx(lt,{path:"/vendors/editvendor/:id",element:a.jsx(k7e,{})})]}),a.jsxs(lt,{element:a.jsx(es,{requiredPermissions:["view_assets"]}),children:[a.jsx(lt,{path:"/services",element:a.jsx(hNe,{})}),a.jsx(lt,{path:"/services/servicegroups",element:a.jsx(QIe,{})}),a.jsx(lt,{path:"/services/servicegroups/addservicegroup",element:a.jsx(rLe,{})}),a.jsx(lt,{path:"/services/servicegroups/editservicegroup/:id",element:a.jsx(aLe,{})}),a.jsx(lt,{path:"/services/servicecatalogues",element:a.jsx(eLe,{})}),a.jsx(lt,{path:"/services/servicecatalogues/addservicecatalogue",element:a.jsx(lLe,{})}),a.jsx(lt,{path:"/services/servicecatalogues/editservicecatalogue/:id",element:a.jsx(iLe,{})})]}),a.jsxs(lt,{element:a.jsx(es,{requiredPermissions:["view_assets"]}),children:[a.jsx(lt,{path:"/maintenanceactivity",element:a.jsx(mNe,{})}),a.jsx(lt,{path:"/maintenanceactivity/stoptimes",element:a.jsx(xLe,{})}),a.jsx(lt,{path:"/maintenanceactivity/stoptimes/addstoptime",element:a.jsx(bLe,{})}),a.jsx(lt,{path:"/maintenanceactivity/stoptimes/editstoptime/:id",element:a.jsx(wLe,{})}),a.jsx(lt,{path:"/maintenanceactivity/activitytypes",element:a.jsx(NLe,{})}),a.jsx(lt,{path:"/maintenanceactivity/activitytypes/addactivitytype",element:a.jsx(Nz,{})}),a.jsx(lt,{path:"/maintenanceactivity/activitytypes/editactivitytype/:id",element:a.jsx(TLe,{})}),a.jsx(lt,{path:"/maintenanceactivity/activity",element:a.jsx(WLe,{})}),a.jsx(lt,{path:"/maintenanceactivity/activity/addactivity",element:a.jsx(BLe,{})}),a.jsx(lt,{path:"/maintenanceactivity/activity/editactivity/:id",element:a.jsx(FLe,{})}),a.jsx(lt,{path:"/maintenanceactivity/troubleitem",element:a.jsx(GLe,{})}),a.jsx(lt,{path:"/maintenanceactivity/troubleitem/addtroubleitem",element:a.jsx(kz,{})}),a.jsx(lt,{path:"/maintenanceactivity/troubleitem/edittroubleitem/:id",element:a.jsx(kz,{})})]}),a.jsxs(lt,{element:a.jsx(es,{requiredPermissions:["view_machinehistory"]}),children:[a.jsx(lt,{path:"/machinehistory",element:a.jsx(npe,{})}),a.jsx(lt,{path:"/machinehistory/reports",element:a.jsx(GIe,{})}),a.jsx(lt,{path:"/machinehistory/addmachinehistory",element:a.jsx(WSe,{})}),a.jsx(lt,{path:"/machinehistory/edit/:id",element:a.jsx(USe,{})})]}),a.jsxs(lt,{element:a.jsx(es,{requiredPermissions:["view_assets"]}),children:[a.jsx(lt,{path:"/monitoringmaintenance",element:a.jsx(Dz,{})}),a.jsx(lt,{path:"/monitoringmaintenance/detailmonitoringmaintenance/:id",element:a.jsx(_7e,{})}),a.jsx(lt,{path:"/monitoringmaintenance/formmonitoringmaintenance",element:a.jsx(d7e,{})}),a.jsx(lt,{path:"/monitoringmaintenance",element:a.jsx(Dz,{})})]}),a.jsxs(lt,{element:a.jsx(es,{requiredPermissions:["view_workorders"]}),children:[a.jsx(lt,{path:"/workorders",element:a.jsx(lNe,{})}),a.jsx(lt,{path:"/workorders/it",element:a.jsx(ALe,{})}),a.jsx(lt,{path:"/workorders/it/addworkorder",element:a.jsx(oNe,{})}),a.jsx(lt,{path:"/workorders/it/editworkorder/:id",element:a.jsx(ELe,{})}),a.jsx(lt,{path:"/workorders/it/receiver",element:a.jsx(eNe,{})}),a.jsx(lt,{path:"/workorders/it/receiver/editreceiver/:id",element:a.jsx(PLe,{})}),a.jsx(lt,{path:"/workorders/it/assignment",element:a.jsx(RLe,{})}),a.jsx(lt,{path:"/workorders/it/assignment/editassignment/:id",element:a.jsx(LLe,{})}),a.jsx(lt,{path:"/workorders/it/reports",element:a.jsx(h7e,{})}),a.jsx(lt,{path:"/workorders/it/knowledgebase",element:a.jsx(rNe,{})})]}),a.jsxs(lt,{element:a.jsx(es,{requiredPermissions:["view_settings"]}),children:[a.jsx(lt,{path:"/settings",element:a.jsx(Xce,{})}),a.jsx(lt,{path:"/settings/change-password",element:a.jsx(YSe,{})})]}),a.jsxs(lt,{element:a.jsx(es,{requiredPermissions:["view_permissions"]}),children:[a.jsx(lt,{path:"/permissions",element:a.jsx(GSe,{})}),a.jsx(lt,{path:"/permissions/adduser",element:a.jsx(JSe,{})})]}),a.jsx(lt,{path:"/logout",element:a.jsx(Uce,{})}),a.jsx(lt,{path:"*",element:a.jsx(E7e,{})})]})})}const q7e=Dee.createRoot(document.getElementById("root"));q7e.render(a.jsx(J.StrictMode,{children:a.jsx(Kte,{children:a.jsx(ire,{children:a.jsx(W7e,{})})})}));
