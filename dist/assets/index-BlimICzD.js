const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index.es-DJuQhB0n.js","assets/projectEnvVariables-BdSAgEbo.js"])))=>i.map(i=>d[i]);
var e=Object.defineProperty,t=(t,n,r)=>((t,n,r)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[n]=r)(t,"symbol"!=typeof n?n+"":n,r);import{g as n}from"./projectEnvVariables-BdSAgEbo.js";function r(e,t){for(var n=0;n<t.length;n++){const r=t[n];if("string"!=typeof r&&!Array.isArray(r))for(const t in r)if("default"!==t&&!(t in e)){const n=Object.getOwnPropertyDescriptor(r,t);n&&Object.defineProperty(e,t,n.get?n:{enumerable:!0,get:()=>r[t]})}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function i(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var s,o,l,c,d={exports:{}},u={},h=(o||(o=1,d.exports=function(){if(s)return u;s=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(t,n,r){var a=null;if(void 0!==r&&(a=""+r),void 0!==n.key&&(a=""+n.key),"key"in n)for(var i in r={},n)"key"!==i&&(r[i]=n[i]);else r=n;return n=r.ref,{$$typeof:e,type:t,key:a,ref:void 0!==n?n:null,props:r}}return u.Fragment=t,u.jsx=n,u.jsxs=n,u}()),d.exports),p={exports:{}},m={};function f(){if(l)return m;l=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),s=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),h=Symbol.for("react.activity"),p=Symbol.iterator,f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,x={};function b(e,t,n){this.props=e,this.context=t,this.refs=x,this.updater=n||f}function y(){}function v(e,t,n){this.props=e,this.context=t,this.refs=x,this.updater=n||f}b.prototype.isReactComponent={},b.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},b.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=b.prototype;var w=v.prototype=new y;w.constructor=v,g(w,b.prototype),w.isPureReactComponent=!0;var j=Array.isArray;function N(){}var k={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function C(t,n,r){var a=r.ref;return{$$typeof:e,type:t,key:n,ref:void 0!==a?a:null,props:r}}function _(t){return"object"==typeof t&&null!==t&&t.$$typeof===e}var A=/\/+/g;function T(e,t){return"object"==typeof e&&null!==e&&null!=e.key?(n=""+e.key,r={"=":"=0",":":"=2"},"$"+n.replace(/[=:]/g,function(e){return r[e]})):t.toString(36);var n,r}function O(n,r,a,i,s){var o=typeof n;"undefined"!==o&&"boolean"!==o||(n=null);var l,c,d=!1;if(null===n)d=!0;else switch(o){case"bigint":case"string":case"number":d=!0;break;case"object":switch(n.$$typeof){case e:case t:d=!0;break;case u:return O((d=n._init)(n._payload),r,a,i,s)}}if(d)return s=s(n),d=""===i?"."+T(n,0):i,j(s)?(a="",null!=d&&(a=d.replace(A,"$&/")+"/"),O(s,r,a,"",function(e){return e})):null!=s&&(_(s)&&(l=s,c=a+(null==s.key||n&&n.key===s.key?"":(""+s.key).replace(A,"$&/")+"/")+d,s=C(l.type,c,l.props)),r.push(s)),1;d=0;var h,m=""===i?".":i+":";if(j(n))for(var f=0;f<n.length;f++)d+=O(i=n[f],r,a,o=m+T(i,f),s);else if("function"==typeof(f=null===(h=n)||"object"!=typeof h?null:"function"==typeof(h=p&&h[p]||h["@@iterator"])?h:null))for(n=f.call(n),f=0;!(i=n.next()).done;)d+=O(i=i.value,r,a,o=m+T(i,f++),s);else if("object"===o){if("function"==typeof n.then)return O(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"==typeof e.status?e.then(N,N):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(n),r,a,i,s);throw r=String(n),Error("Objects are not valid as a React child (found: "+("[object Object]"===r?"object with keys {"+Object.keys(n).join(", ")+"}":r)+"). If you meant to render a collection of children, use an array instead.")}return d}function E(e,t,n){if(null==e)return e;var r=[],a=0;return O(e,r,"","",function(e){return t.call(n,e,a++)}),r}function M(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e)},D={map:E,forEach:function(e,t,n){E(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return E(e,function(){t++}),t},toArray:function(e){return E(e,function(e){return e})||[]},only:function(e){if(!_(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};return m.Activity=h,m.Children=D,m.Component=b,m.Fragment=n,m.Profiler=a,m.PureComponent=v,m.StrictMode=r,m.Suspense=c,m.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,m.__COMPILER_RUNTIME={__proto__:null,c:function(e){return k.H.useMemoCache(e)}},m.cache=function(e){return function(){return e.apply(null,arguments)}},m.cacheSignal=function(){return null},m.cloneElement=function(e,t,n){if(null==e)throw Error("The argument must be a React element, but you passed "+e+".");var r=g({},e.props),a=e.key;if(null!=t)for(i in void 0!==t.key&&(a=""+t.key),t)!S.call(t,i)||"key"===i||"__self"===i||"__source"===i||"ref"===i&&void 0===t.ref||(r[i]=t[i]);var i=arguments.length-2;if(1===i)r.children=n;else if(1<i){for(var s=Array(i),o=0;o<i;o++)s[o]=arguments[o+2];r.children=s}return C(e.type,a,r)},m.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:i,_context:e},e},m.createElement=function(e,t,n){var r,a={},i=null;if(null!=t)for(r in void 0!==t.key&&(i=""+t.key),t)S.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(a[r]=t[r]);var s=arguments.length-2;if(1===s)a.children=n;else if(1<s){for(var o=Array(s),l=0;l<s;l++)o[l]=arguments[l+2];a.children=o}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===a[r]&&(a[r]=s[r]);return C(e,i,a)},m.createRef=function(){return{current:null}},m.forwardRef=function(e){return{$$typeof:o,render:e}},m.isValidElement=_,m.lazy=function(e){return{$$typeof:u,_payload:{_status:-1,_result:e},_init:M}},m.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},m.startTransition=function(e){var t=k.T,n={};k.T=n;try{var r=e(),a=k.S;null!==a&&a(n,r),"object"==typeof r&&null!==r&&"function"==typeof r.then&&r.then(N,P)}catch(i){P(i)}finally{null!==t&&null!==n.types&&(t.types=n.types),k.T=t}},m.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},m.use=function(e){return k.H.use(e)},m.useActionState=function(e,t,n){return k.H.useActionState(e,t,n)},m.useCallback=function(e,t){return k.H.useCallback(e,t)},m.useContext=function(e){return k.H.useContext(e)},m.useDebugValue=function(){},m.useDeferredValue=function(e,t){return k.H.useDeferredValue(e,t)},m.useEffect=function(e,t){return k.H.useEffect(e,t)},m.useEffectEvent=function(e){return k.H.useEffectEvent(e)},m.useId=function(){return k.H.useId()},m.useImperativeHandle=function(e,t,n){return k.H.useImperativeHandle(e,t,n)},m.useInsertionEffect=function(e,t){return k.H.useInsertionEffect(e,t)},m.useLayoutEffect=function(e,t){return k.H.useLayoutEffect(e,t)},m.useMemo=function(e,t){return k.H.useMemo(e,t)},m.useOptimistic=function(e,t){return k.H.useOptimistic(e,t)},m.useReducer=function(e,t,n){return k.H.useReducer(e,t,n)},m.useRef=function(e){return k.H.useRef(e)},m.useState=function(e){return k.H.useState(e)},m.useSyncExternalStore=function(e,t,n){return k.H.useSyncExternalStore(e,t,n)},m.useTransition=function(){return k.H.useTransition()},m.version="19.2.0",m}function g(){return c||(c=1,p.exports=f()),p.exports}var x=g();const b=i(x),y=r({__proto__:null,default:b},[x]);var v,w,j={exports:{}},N={},k={exports:{}},S={};var C,_,A,T,O={exports:{}},E={};function M(){return _||(_=1,function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){}}(),O.exports=function(){if(C)return E;C=1;var e=g();function t(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal"),i=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function s(e,t){return"font"===e?"":"string"==typeof t?"use-credentials"===t?t:"":void 0}return E.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,E.createPortal=function(e,n){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!n||1!==n.nodeType&&9!==n.nodeType&&11!==n.nodeType)throw Error(t(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:a,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,n,null,r)},E.flushSync=function(e){var t=i.T,n=r.p;try{if(i.T=null,r.p=2,e)return e()}finally{i.T=t,r.p=n,r.d.f()}},E.preconnect=function(e,t){"string"==typeof e&&(t=t?"string"==typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:null,r.d.C(e,t))},E.prefetchDNS=function(e){"string"==typeof e&&r.d.D(e)},E.preinit=function(e,t){if("string"==typeof e&&t&&"string"==typeof t.as){var n=t.as,a=s(n,t.crossOrigin),i="string"==typeof t.integrity?t.integrity:void 0,o="string"==typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?r.d.S(e,"string"==typeof t.precedence?t.precedence:void 0,{crossOrigin:a,integrity:i,fetchPriority:o}):"script"===n&&r.d.X(e,{crossOrigin:a,integrity:i,fetchPriority:o,nonce:"string"==typeof t.nonce?t.nonce:void 0})}},E.preinitModule=function(e,t){if("string"==typeof e)if("object"==typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=s(t.as,t.crossOrigin);r.d.M(e,{crossOrigin:n,integrity:"string"==typeof t.integrity?t.integrity:void 0,nonce:"string"==typeof t.nonce?t.nonce:void 0})}}else null==t&&r.d.M(e)},E.preload=function(e,t){if("string"==typeof e&&"object"==typeof t&&null!==t&&"string"==typeof t.as){var n=t.as,a=s(n,t.crossOrigin);r.d.L(e,n,{crossOrigin:a,integrity:"string"==typeof t.integrity?t.integrity:void 0,nonce:"string"==typeof t.nonce?t.nonce:void 0,type:"string"==typeof t.type?t.type:void 0,fetchPriority:"string"==typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"==typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"==typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"==typeof t.imageSizes?t.imageSizes:void 0,media:"string"==typeof t.media?t.media:void 0})}},E.preloadModule=function(e,t){if("string"==typeof e)if(t){var n=s(t.as,t.crossOrigin);r.d.m(e,{as:"string"==typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"==typeof t.integrity?t.integrity:void 0})}else r.d.m(e)},E.requestFormReset=function(e){r.d.r(e)},E.unstable_batchedUpdates=function(e,t){return e(t)},E.useFormState=function(e,t,n){return i.H.useFormState(e,t,n)},E.useFormStatus=function(){return i.H.useHostTransitionStatus()},E.version="19.2.0",E}()),O.exports}const P=i((T||(T=1,function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){}}(),j.exports=function(){if(A)return N;A=1;var e=(w||(w=1,k.exports=(v||(v=1,function(e){function t(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function n(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,s=i>>>1;r<s;){var o=2*(r+1)-1,l=e[o],c=o+1,d=e[c];if(0>a(l,n))c<i&&0>a(d,l)?(e[r]=d,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<i&&0>a(d,n)))break e;e[r]=d,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(e.unstable_now=void 0,"object"==typeof performance&&"function"==typeof performance.now){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var l=[],c=[],d=1,u=null,h=3,p=!1,m=!1,f=!1,g=!1,x="function"==typeof setTimeout?setTimeout:null,b="function"==typeof clearTimeout?clearTimeout:null,y="undefined"!=typeof setImmediate?setImmediate:null;function v(e){for(var a=n(c);null!==a;){if(null===a.callback)r(c);else{if(!(a.startTime<=e))break;r(c),a.sortIndex=a.expirationTime,t(l,a)}a=n(c)}}function w(e){if(f=!1,v(e),!m)if(null!==n(l))m=!0,N||(N=!0,j());else{var t=n(c);null!==t&&E(w,t.startTime-e)}}var j,N=!1,k=-1,S=5,C=-1;function _(){return!(!g&&e.unstable_now()-C<S)}function A(){if(g=!1,N){var t=e.unstable_now();C=t;var a=!0;try{e:{m=!1,f&&(f=!1,b(k),k=-1),p=!0;var i=h;try{t:{for(v(t),u=n(l);null!==u&&!(u.expirationTime>t&&_());){var s=u.callback;if("function"==typeof s){u.callback=null,h=u.priorityLevel;var o=s(u.expirationTime<=t);if(t=e.unstable_now(),"function"==typeof o){u.callback=o,v(t),a=!0;break t}u===n(l)&&r(l),v(t)}else r(l);u=n(l)}if(null!==u)a=!0;else{var d=n(c);null!==d&&E(w,d.startTime-t),a=!1}}break e}finally{u=null,h=i,p=!1}a=void 0}}finally{a?j():N=!1}}}if("function"==typeof y)j=function(){y(A)};else if("undefined"!=typeof MessageChannel){var T=new MessageChannel,O=T.port2;T.port1.onmessage=A,j=function(){O.postMessage(null)}}else j=function(){x(A,0)};function E(t,n){k=x(function(){t(e.unstable_now())},n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_forceFrameRate=function(e){0>e||125<e||(S=0<e?Math.floor(1e3/e):5)},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},e.unstable_requestPaint=function(){g=!0},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},e.unstable_scheduleCallback=function(r,a,i){var s=e.unstable_now();switch(i="object"==typeof i&&null!==i&&"number"==typeof(i=i.delay)&&0<i?s+i:s,r){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return r={id:d++,callback:a,priorityLevel:r,startTime:i,expirationTime:o=i+o,sortIndex:-1},i>s?(r.sortIndex=i,t(c,r),null===n(l)&&r===n(c)&&(f?(b(k),k=-1):f=!0,E(w,i-s))):(r.sortIndex=o,t(l,r),m||p||(m=!0,N||(N=!0,j()))),r},e.unstable_shouldYield=_,e.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}}(S)),S)),k.exports),t=g(),n=M();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function i(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function s(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function o(e){if(31===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function l(e){if(i(e)!==e)throw Error(r(188))}function c(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=c(e)))return t;e=e.sibling}return null}var d=Object.assign,u=Symbol.for("react.element"),h=Symbol.for("react.transitional.element"),p=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),b=Symbol.for("react.consumer"),y=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function L(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=D&&e[D]||e["@@iterator"])?e:null}var I=Symbol.for("react.client.reference");function R(e){if(null==e)return null;if("function"==typeof e)return e.$$typeof===I?null:e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case m:return"Fragment";case x:return"Profiler";case f:return"StrictMode";case C:return"Suspense";case _:return"SuspenseList";case E:return"Activity"}if("object"==typeof e)switch(e.$$typeof){case p:return"Portal";case y:return e.displayName||"Context";case b:return(e._context.displayName||"Context")+".Consumer";case j:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case T:return null!==(t=e.displayName||null)?t:R(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return R(e(t))}catch(n){}}return null}var F=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B={pending:!1,data:null,method:null,action:null},W=[],$=-1;function U(e){return{current:e}}function V(e){0>$||(e.current=W[$],W[$]=null,$--)}function q(e,t){$++,W[$]=e.current,e.current=t}var G,Y,K=U(null),J=U(null),X=U(null),Q=U(null);function Z(e,t){switch(q(X,t),q(J,e),q(K,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?ju(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=Nu(t=ju(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}V(K),q(K,e)}function ee(){V(K),V(J),V(X)}function te(e){null!==e.memoizedState&&q(Q,e);var t=K.current,n=Nu(t,e.type);t!==n&&(q(J,e),q(K,n))}function ne(e){J.current===e&&(V(K),V(J)),Q.current===e&&(V(Q),fh._currentValue=B)}function re(e){if(void 0===G)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);G=t&&t[1]||"",Y=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+G+e+Y}var ae=!1;function ie(e,t){if(!e||ae)return"";ae=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(a){var r=a}Reflect.construct(e,[],n)}else{try{n.call()}catch(cne){r=cne}e.call(n.prototype)}}else{try{throw Error()}catch(i){r=i}(n=e())&&"function"==typeof n.catch&&n.catch(function(){})}}catch(s){if(s&&r&&"string"==typeof s.stack)return[s.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var a=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");a&&a.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=r.DetermineComponentFrameRoot(),s=i[0],o=i[1];if(s&&o){var l=s.split("\n"),c=o.split("\n");for(a=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;a<c.length&&!c[a].includes("DetermineComponentFrameRoot");)a++;if(r===l.length||a===c.length)for(r=l.length-1,a=c.length-1;1<=r&&0<=a&&l[r]!==c[a];)a--;for(;1<=r&&0<=a;r--,a--)if(l[r]!==c[a]){if(1!==r||1!==a)do{if(r--,0>--a||l[r]!==c[a]){var d="\n"+l[r].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}}while(1<=r&&0<=a);break}}}finally{ae=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?re(n):""}function se(e,t){switch(e.tag){case 26:case 27:case 5:return re(e.type);case 16:return re("Lazy");case 13:return e.child!==t&&null!==t?re("Suspense Fallback"):re("Suspense");case 19:return re("SuspenseList");case 0:case 15:return ie(e.type,!1);case 11:return ie(e.type.render,!1);case 1:return ie(e.type,!0);case 31:return re("Activity");default:return""}}function oe(e){try{var t="",n=null;do{t+=se(e,n),n=e,e=e.return}while(e);return t}catch(r){return"\nError generating stack: "+r.message+"\n"+r.stack}}var le=Object.prototype.hasOwnProperty,ce=e.unstable_scheduleCallback,de=e.unstable_cancelCallback,ue=e.unstable_shouldYield,he=e.unstable_requestPaint,pe=e.unstable_now,me=e.unstable_getCurrentPriorityLevel,fe=e.unstable_ImmediatePriority,ge=e.unstable_UserBlockingPriority,xe=e.unstable_NormalPriority,be=e.unstable_LowPriority,ye=e.unstable_IdlePriority,ve=e.log,we=e.unstable_setDisableYieldValue,je=null,Ne=null;function ke(e){if("function"==typeof ve&&we(e),Ne&&"function"==typeof Ne.setStrictMode)try{Ne.setStrictMode(je,e)}catch(t){}}var Se=Math.clz32?Math.clz32:function(e){return 0==(e>>>=0)?32:31-(Ce(e)/_e|0)|0},Ce=Math.log,_e=Math.LN2,Ae=256,Te=262144,Oe=4194304;function Ee(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&e;case 262144:case 524288:case 1048576:case 2097152:return 3932160&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Me(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var a=0,i=e.suspendedLanes,s=e.pingedLanes;e=e.warmLanes;var o=134217727&r;return 0!==o?0!==(r=o&~i)?a=Ee(r):0!==(s&=o)?a=Ee(s):n||0!==(n=o&~e)&&(a=Ee(n)):0!==(o=r&~i)?a=Ee(o):0!==s?a=Ee(s):n||0!==(n=r&~e)&&(a=Ee(n)),0===a?0:0!==t&&t!==a&&0===(t&i)&&((i=a&-a)>=(n=t&-t)||32===i&&4194048&n)?t:a}function Pe(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function De(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Le(){var e=Oe;return!(62914560&(Oe<<=1))&&(Oe=4194304),e}function Ie(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Re(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Fe(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-Se(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|261930&n}function He(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Se(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}function ze(e,t){var n=t&-t;return 0!==((n=42&n?1:Be(n))&(e.suspendedLanes|t))?0:n}function Be(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function We(e){return 2<(e&=-e)?8<e?134217727&e?32:268435456:8:2}function $e(){var e=z.p;return 0!==e?e:void 0===(e=window.event)?32:Eh(e.type)}function Ue(e,t){var n=z.p;try{return z.p=e,t()}finally{z.p=n}}var Ve=Math.random().toString(36).slice(2),qe="__reactFiber$"+Ve,Ge="__reactProps$"+Ve,Ye="__reactContainer$"+Ve,Ke="__reactEvents$"+Ve,Je="__reactListeners$"+Ve,Xe="__reactHandles$"+Ve,Qe="__reactResources$"+Ve,Ze="__reactMarker$"+Ve;function et(e){delete e[qe],delete e[Ge],delete e[Ke],delete e[Je],delete e[Xe]}function tt(e){var t=e[qe];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ye]||n[qe]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Bu(e);null!==e;){if(n=e[qe])return n;e=Bu(e)}return t}n=(e=n).parentNode}return null}function nt(e){if(e=e[qe]||e[Ye]){var t=e.tag;if(5===t||6===t||13===t||31===t||26===t||27===t||3===t)return e}return null}function rt(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(r(33))}function at(e){var t=e[Qe];return t||(t=e[Qe]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function it(e){e[Ze]=!0}var st=new Set,ot={};function lt(e,t){ct(e,t),ct(e+"Capture",t)}function ct(e,t){for(ot[e]=t,e=0;e<t.length;e++)st.add(t[e])}var dt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ut={},ht={};function pt(e,t,n){if(a=t,le.call(ht,a)||!le.call(ut,a)&&(dt.test(a)?ht[a]=!0:(ut[a]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var a}function mt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function ft(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function gt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function xt(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function bt(e){if(!e._valueTracker){var t=xt(e)?"checked":"value";e._valueTracker=function(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&void 0!==r&&"function"==typeof r.get&&"function"==typeof r.set){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){n=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e,t,""+e[t])}}function yt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=xt(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function vt(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(Ew){return e.body}}var wt=/[\n"\\]/g;function jt(e){return e.replace(wt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function Nt(e,t,n,r,a,i,s,o){e.name="",null!=s&&"function"!=typeof s&&"symbol"!=typeof s&&"boolean"!=typeof s?e.type=s:e.removeAttribute("type"),null!=t?"number"===s?(0===t&&""===e.value||e.value!=t)&&(e.value=""+gt(t)):e.value!==""+gt(t)&&(e.value=""+gt(t)):"submit"!==s&&"reset"!==s||e.removeAttribute("value"),null!=t?St(e,s,gt(t)):null!=n?St(e,s,gt(n)):null!=r&&e.removeAttribute("value"),null==a&&null!=i&&(e.defaultChecked=!!i),null!=a&&(e.checked=a&&"function"!=typeof a&&"symbol"!=typeof a),null!=o&&"function"!=typeof o&&"symbol"!=typeof o&&"boolean"!=typeof o?e.name=""+gt(o):e.removeAttribute("name")}function kt(e,t,n,r,a,i,s,o){if(null!=i&&"function"!=typeof i&&"symbol"!=typeof i&&"boolean"!=typeof i&&(e.type=i),null!=t||null!=n){if(("submit"===i||"reset"===i)&&null==t)return void bt(e);n=null!=n?""+gt(n):"",t=null!=t?""+gt(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}r="function"!=typeof(r=null!=r?r:a)&&"symbol"!=typeof r&&!!r,e.checked=o?e.checked:!!r,e.defaultChecked=!!r,null!=s&&"function"!=typeof s&&"symbol"!=typeof s&&"boolean"!=typeof s&&(e.name=s),bt(e)}function St(e,t,n){"number"===t&&vt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Ct(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+gt(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function _t(e,t,n){null==t||((t=""+gt(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+gt(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function At(e,t,n,a){if(null==t){if(null!=a){if(null!=n)throw Error(r(92));if(F(a)){if(1<a.length)throw Error(r(93));a=a[0]}n=a}null==n&&(n=""),t=n}n=gt(t),e.defaultValue=n,(a=e.textContent)===n&&""!==a&&null!==a&&(e.value=a),bt(e)}function Tt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var Ot=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Et(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"==typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!=typeof n||0===n||Ot.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Mt(e,t,n){if(null!=t&&"object"!=typeof t)throw Error(r(62));if(e=e.style,null!=n){for(var a in n)!n.hasOwnProperty(a)||null!=t&&t.hasOwnProperty(a)||(0===a.indexOf("--")?e.setProperty(a,""):"float"===a?e.cssFloat="":e[a]="");for(var i in t)a=t[i],t.hasOwnProperty(i)&&n[i]!==a&&Et(e,i,a)}else for(var s in t)t.hasOwnProperty(s)&&Et(e,s,t[s])}function Pt(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Lt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function It(e){return Lt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Rt(){}var Ft=null;function Ht(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var zt=null,Bt=null;function Wt(e){var t=nt(e);if(t&&(e=t.stateNode)){var n=e[Ge]||null;e:switch(e=t.stateNode,t.type){case"input":if(Nt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+jt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var i=a[Ge]||null;if(!i)throw Error(r(90));Nt(a,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)(a=n[t]).form===e.form&&yt(a)}break e;case"textarea":_t(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&Ct(e,!!n.multiple,t,!1)}}}var $t=!1;function Ut(e,t,n){if($t)return e(t,n);$t=!0;try{return e(t)}finally{if($t=!1,(null!==zt||null!==Bt)&&(ad(),zt&&(t=zt,e=Bt,Bt=zt=null,Wt(t),e)))for(t=0;t<e.length;t++)Wt(e[t])}}function Vt(e,t){var n=e.stateNode;if(null===n)return null;var a=n[Ge]||null;if(null===a)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(a=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!a;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(r(231,t,typeof n));return n}var qt=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),Gt=!1;if(qt)try{var Yt={};Object.defineProperty(Yt,"passive",{get:function(){Gt=!0}}),window.addEventListener("test",Yt,Yt),window.removeEventListener("test",Yt,Yt)}catch(Ew){Gt=!1}var Kt=null,Jt=null,Xt=null;function Qt(){if(Xt)return Xt;var e,t,n=Jt,r=n.length,a="value"in Kt?Kt.value:Kt.textContent,i=a.length;for(e=0;e<r&&n[e]===a[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===a[i-t];t++);return Xt=a.slice(e,1<t?1-t:void 0)}function Zt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function en(){return!0}function tn(){return!1}function nn(e){function t(t,n,r,a,i){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(a):a[s]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?en:tn,this.isPropagationStopped=tn,this}return d(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=en)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=en)},persist:function(){},isPersistent:en}),t}var rn,an,sn,on={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=nn(on),cn=d({},on,{view:0,detail:0}),dn=nn(cn),un=d({},cn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(rn=e.screenX-sn.screenX,an=e.screenY-sn.screenY):an=rn=0,sn=e),rn)},movementY:function(e){return"movementY"in e?e.movementY:an}}),hn=nn(un),pn=nn(d({},un,{dataTransfer:0})),mn=nn(d({},cn,{relatedTarget:0})),fn=nn(d({},on,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=nn(d({},on,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),xn=nn(d({},on,{data:0})),bn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=vn[e])&&!!t[e]}function jn(){return wn}var Nn=nn(d({},cn,{key:function(e){if(e.key){var t=bn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Zt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?yn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jn,charCode:function(e){return"keypress"===e.type?Zt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Zt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),kn=nn(d({},un,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Sn=nn(d({},cn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jn})),Cn=nn(d({},on,{propertyName:0,elapsedTime:0,pseudoElement:0})),_n=nn(d({},un,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),An=nn(d({},on,{newState:0,oldState:0})),Tn=[9,13,27,32],On=qt&&"CompositionEvent"in window,En=null;qt&&"documentMode"in document&&(En=document.documentMode);var Mn=qt&&"TextEvent"in window&&!En,Pn=qt&&(!On||En&&8<En&&11>=En),Dn=String.fromCharCode(32),Ln=!1;function In(e,t){switch(e){case"keyup":return-1!==Tn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Fn=!1,Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Bn(e,t,n,r){zt?Bt?Bt.push(r):Bt=[r]:zt=r,0<(t=lu(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,$n=null;function Un(e){eu(e,0)}function Vn(e){if(yt(rt(e)))return e}function qn(e,t){if("change"===e)return t}var Gn=!1;if(qt){var Yn;if(qt){var Kn="oninput"in document;if(!Kn){var Jn=document.createElement("div");Jn.setAttribute("oninput","return;"),Kn="function"==typeof Jn.oninput}Yn=Kn}else Yn=!1;Gn=Yn&&(!document.documentMode||9<document.documentMode)}function Xn(){Wn&&(Wn.detachEvent("onpropertychange",Qn),$n=Wn=null)}function Qn(e){if("value"===e.propertyName&&Vn($n)){var t=[];Bn(t,$n,e,Ht(e)),Ut(Un,t)}}function Zn(e,t,n){"focusin"===e?(Xn(),$n=n,(Wn=t).attachEvent("onpropertychange",Qn)):"focusout"===e&&Xn()}function er(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Vn($n)}function tr(e,t){if("click"===e)return Vn(t)}function nr(e,t){if("input"===e||"change"===e)return Vn(t)}var rr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function ar(e,t){if(rr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!le.call(t,a)||!rr(e[a],t[a]))return!1}return!0}function ir(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function sr(e,t){var n,r=ir(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ir(r)}}function or(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?or(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function lr(e){for(var t=vt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=vt((e=t.contentWindow).document)}return t}function cr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var dr=qt&&"documentMode"in document&&11>=document.documentMode,ur=null,hr=null,pr=null,mr=!1;function fr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;mr||null==ur||ur!==vt(r)||(r="selectionStart"in(r=ur)&&cr(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},pr&&ar(pr,r)||(pr=r,0<(r=lu(hr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ur)))}function gr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:gr("Animation","AnimationEnd"),animationiteration:gr("Animation","AnimationIteration"),animationstart:gr("Animation","AnimationStart"),transitionrun:gr("Transition","TransitionRun"),transitionstart:gr("Transition","TransitionStart"),transitioncancel:gr("Transition","TransitionCancel"),transitionend:gr("Transition","TransitionEnd")},br={},yr={};function vr(e){if(br[e])return br[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in yr)return br[e]=n[t];return e}qt&&(yr=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var wr=vr("animationend"),jr=vr("animationiteration"),Nr=vr("animationstart"),kr=vr("transitionrun"),Sr=vr("transitionstart"),Cr=vr("transitioncancel"),_r=vr("transitionend"),Ar=new Map,Tr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(e,t){Ar.set(e,t),lt(t,[e])}Tr.push("scrollEnd");var Er="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e)},Mr=[],Pr=0,Dr=0;function Lr(){for(var e=Pr,t=Dr=Pr=0;t<e;){var n=Mr[t];Mr[t++]=null;var r=Mr[t];Mr[t++]=null;var a=Mr[t];Mr[t++]=null;var i=Mr[t];if(Mr[t++]=null,null!==r&&null!==a){var s=r.pending;null===s?a.next=a:(a.next=s.next,s.next=a),r.pending=a}0!==i&&Hr(n,a,i)}}function Ir(e,t,n,r){Mr[Pr++]=e,Mr[Pr++]=t,Mr[Pr++]=n,Mr[Pr++]=r,Dr|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Rr(e,t,n,r){return Ir(e,t,n,r),zr(e)}function Fr(e,t){return Ir(e,null,null,t),zr(e)}function Hr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var a=!1,i=e.return;null!==i;)i.childLanes|=n,null!==(r=i.alternate)&&(r.childLanes|=n),22===i.tag&&(null===(e=i.stateNode)||1&e._visibility||(a=!0)),e=i,i=i.return;return 3===e.tag?(i=e.stateNode,a&&null!==t&&(a=31-Se(n),null===(r=(e=i.hiddenUpdates)[a])?e[a]=[t]:r.push(t),t.lane=536870912|n),i):null}function zr(e){if(50<Kc)throw Kc=0,Jc=null,Error(r(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Br={};function Wr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $r(e,t,n,r){return new Wr(e,t,n,r)}function Ur(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Vr(e,t){var n=e.alternate;return null===n?((n=$r(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function qr(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Gr(e,t,n,a,i,s){var o=0;if(a=e,"function"==typeof e)Ur(e)&&(o=1);else if("string"==typeof e)o=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!=typeof t.precedence||"string"!=typeof t.href||""===t.href)break;return!0;case"link":if("string"!=typeof t.rel||"string"!=typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"==typeof t.precedence&&null==e);case"script":if(t.async&&"function"!=typeof t.async&&"symbol"!=typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"==typeof t.src)return!0}return!1}(e,n,K.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case E:return(e=$r(31,n,t,i)).elementType=E,e.lanes=s,e;case m:return Yr(n.children,i,s,t);case f:o=8,i|=24;break;case x:return(e=$r(12,n,t,2|i)).elementType=x,e.lanes=s,e;case C:return(e=$r(13,n,t,i)).elementType=C,e.lanes=s,e;case _:return(e=$r(19,n,t,i)).elementType=_,e.lanes=s,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case y:o=10;break e;case b:o=9;break e;case j:o=11;break e;case T:o=14;break e;case O:o=16,a=null;break e}o=29,n=Error(r(130,null===e?"null":typeof e,"")),a=null}return(t=$r(o,n,t,i)).elementType=e,t.type=a,t.lanes=s,t}function Yr(e,t,n,r){return(e=$r(7,e,r,t)).lanes=n,e}function Kr(e,t,n){return(e=$r(6,e,null,t)).lanes=n,e}function Jr(e){var t=$r(18,null,null,0);return t.stateNode=e,t}function Xr(e,t,n){return(t=$r(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Qr=new WeakMap;function Zr(e,t){if("object"==typeof e&&null!==e){var n=Qr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:oe(t)},Qr.set(e,t),t)}return{value:e,source:t,stack:oe(t)}}var ea=[],ta=0,na=null,ra=0,aa=[],ia=0,sa=null,oa=1,la="";function ca(e,t){ea[ta++]=ra,ea[ta++]=na,na=e,ra=t}function da(e,t,n){aa[ia++]=oa,aa[ia++]=la,aa[ia++]=sa,sa=e;var r=oa;e=la;var a=32-Se(r)-1;r&=~(1<<a),n+=1;var i=32-Se(t)+a;if(30<i){var s=a-a%5;i=(r&(1<<s)-1).toString(32),r>>=s,a-=s,oa=1<<32-Se(t)+a|n<<a|r,la=i+e}else oa=1<<i|n<<a|r,la=e}function ua(e){null!==e.return&&(ca(e,1),da(e,1,0))}function ha(e){for(;e===na;)na=ea[--ta],ea[ta]=null,ra=ea[--ta],ea[ta]=null;for(;e===sa;)sa=aa[--ia],aa[ia]=null,la=aa[--ia],aa[ia]=null,oa=aa[--ia],aa[ia]=null}function pa(e,t){aa[ia++]=oa,aa[ia++]=la,aa[ia++]=sa,oa=t.id,la=t.overflow,sa=e}var ma=null,fa=null,ga=!1,xa=null,ba=!1,ya=Error(r(519));function va(e){throw Ca(Zr(Error(r(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML","")),e)),ya}function wa(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[qe]=e,t[Ge]=r,n){case"dialog":tu("cancel",t),tu("close",t);break;case"iframe":case"object":case"embed":tu("load",t);break;case"video":case"audio":for(n=0;n<Qd.length;n++)tu(Qd[n],t);break;case"source":tu("error",t);break;case"img":case"image":case"link":tu("error",t),tu("load",t);break;case"details":tu("toggle",t);break;case"input":tu("invalid",t),kt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":tu("invalid",t);break;case"textarea":tu("invalid",t),At(t,r.value,r.defaultValue,r.children)}"string"!=typeof(n=r.children)&&"number"!=typeof n&&"bigint"!=typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||mu(t.textContent,n)?(null!=r.popover&&(tu("beforetoggle",t),tu("toggle",t)),null!=r.onScroll&&tu("scroll",t),null!=r.onScrollEnd&&tu("scrollend",t),null!=r.onClick&&(t.onclick=Rt),t=!0):t=!1,t||va(e,!0)}function ja(e){for(ma=e.return;ma;)switch(ma.tag){case 5:case 31:case 13:return void(ba=!1);case 27:case 3:return void(ba=!0);default:ma=ma.return}}function Na(e){if(e!==ma)return!1;if(!ga)return ja(e),ga=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||ku(e.type,e.memoizedProps)),t=!t),t&&fa&&va(e),ja(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(r(317));fa=zu(e)}else if(31===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(r(317));fa=zu(e)}else 27===n?(n=fa,Eu(e.type)?(e=Hu,Hu=null,fa=e):fa=n):fa=ma?Fu(e.stateNode.nextSibling):null;return!0}function ka(){fa=ma=null,ga=!1}function Sa(){var e=xa;return null!==e&&(null===Lc?Lc=e:Lc.push.apply(Lc,e),xa=null),e}function Ca(e){null===xa?xa=[e]:xa.push(e)}var _a=U(null),Aa=null,Ta=null;function Oa(e,t,n){q(_a,t._currentValue),t._currentValue=n}function Ea(e){e._currentValue=_a.current,V(_a)}function Ma(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Pa(e,t,n,a){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var s=i.dependencies;if(null!==s){var o=i.child;s=s.firstContext;e:for(;null!==s;){var l=s;s=i;for(var c=0;c<t.length;c++)if(l.context===t[c]){s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Ma(s.return,n,e),a||(o=null);break e}s=l.next}}else if(18===i.tag){if(null===(o=i.return))throw Error(r(341));o.lanes|=n,null!==(s=o.alternate)&&(s.lanes|=n),Ma(o,n,e),o=null}else o=i.child;if(null!==o)o.return=i;else for(o=i;null!==o;){if(o===e){o=null;break}if(null!==(i=o.sibling)){i.return=o.return,o=i;break}o=o.return}i=o}}function Da(e,t,n,a){e=null;for(var i=t,s=!1;null!==i;){if(!s)if(524288&i.flags)s=!0;else if(262144&i.flags)break;if(10===i.tag){var o=i.alternate;if(null===o)throw Error(r(387));if(null!==(o=o.memoizedProps)){var l=i.type;rr(i.pendingProps.value,o.value)||(null!==e?e.push(l):e=[l])}}else if(i===Q.current){if(null===(o=i.alternate))throw Error(r(387));o.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==e?e.push(fh):e=[fh])}i=i.return}null!==e&&Pa(t,e,n,a),t.flags|=262144}function La(e){for(e=e.firstContext;null!==e;){if(!rr(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ia(e){Aa=e,Ta=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Ra(e){return Ha(Aa,e)}function Fa(e,t){return null===Aa&&Ia(e),Ha(e,t)}function Ha(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===Ta){if(null===e)throw Error(r(308));Ta=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Ta=Ta.next=t;return n}var za="undefined"!=typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Ba=e.unstable_scheduleCallback,Wa=e.unstable_NormalPriority,$a={$$typeof:y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ua(){return{controller:new za,data:new Map,refCount:0}}function Va(e){e.refCount--,0===e.refCount&&Ba(Wa,function(){e.controller.abort()})}var qa=null,Ga=0,Ya=0,Ka=null;function Ja(){if(0===--Ga&&null!==qa){null!==Ka&&(Ka.status="fulfilled");var e=qa;qa=null,Ya=0,Ka=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Xa=H.S;H.S=function(e,t){Fc=pe(),"object"==typeof t&&null!==t&&"function"==typeof t.then&&function(e,t){if(null===qa){var n=qa=[];Ga=0,Ya=Gd(),Ka={status:"pending",value:void 0,then:function(e){n.push(e)}}}Ga++,t.then(Ja,Ja)}(0,t),null!==Xa&&Xa(e,t)};var Qa=U(null);function Za(){var e=Qa.current;return null!==e?e:yc.pooledCache}function ei(e,t){q(Qa,null===t?Qa.current:t.pool)}function ti(){var e=Za();return null===e?null:{parent:$a._currentValue,pool:e}}var ni=Error(r(460)),ri=Error(r(474)),ai=Error(r(542)),ii={then:function(){}};function si(e){return"fulfilled"===(e=e.status)||"rejected"===e}function oi(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Rt,Rt),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw ui(e=t.reason),e;default:if("string"==typeof t.status)t.then(Rt,Rt);else{if(null!==(e=yc)&&100<e.shellSuspendCounter)throw Error(r(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw ui(e=t.reason),e}throw ci=t,ni}}function li(e){try{return(0,e._init)(e._payload)}catch(t){if(null!==t&&"object"==typeof t&&"function"==typeof t.then)throw ci=t,ni;throw t}}var ci=null;function di(){if(null===ci)throw Error(r(459));var e=ci;return ci=null,e}function ui(e){if(e===ni||e===ai)throw Error(r(483))}var hi=null,pi=0;function mi(e){var t=pi;return pi+=1,null===hi&&(hi=[]),oi(hi,e,t)}function fi(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function gi(e,t){if(t.$$typeof===u)throw Error(r(525));throw e=Object.prototype.toString.call(t),Error(r(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function xi(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function a(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(e,t){return(e=Vr(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Kr(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===m?u(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"==typeof a&&null!==a&&a.$$typeof===O&&li(a)===t.type)?(fi(t=i(t,n.props),n),t.return=e,t):(fi(t=Gr(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function d(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Xr(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function u(e,t,n,r,a){return null===t||7!==t.tag?((t=Yr(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t||"bigint"==typeof t)return(t=Kr(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case h:return fi(n=Gr(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case p:return(t=Xr(t,e.mode,n)).return=e,t;case O:return f(e,t=li(t),n)}if(F(t)||L(t))return(t=Yr(t,e.mode,n,null)).return=e,t;if("function"==typeof t.then)return f(e,mi(t),n);if(t.$$typeof===y)return f(e,Fa(e,t),n);gi(e,t)}return null}function g(e,t,n,r){var a=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n||"bigint"==typeof n)return null!==a?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case h:return n.key===a?c(e,t,n,r):null;case p:return n.key===a?d(e,t,n,r):null;case O:return g(e,t,n=li(n),r)}if(F(n)||L(n))return null!==a?null:u(e,t,n,r,null);if("function"==typeof n.then)return g(e,t,mi(n),r);if(n.$$typeof===y)return g(e,t,Fa(e,n),r);gi(e,n)}return null}function x(e,t,n,r,a){if("string"==typeof r&&""!==r||"number"==typeof r||"bigint"==typeof r)return l(t,e=e.get(n)||null,""+r,a);if("object"==typeof r&&null!==r){switch(r.$$typeof){case h:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case p:return d(t,e=e.get(null===r.key?n:r.key)||null,r,a);case O:return x(e,t,n,r=li(r),a)}if(F(r)||L(r))return u(t,e=e.get(n)||null,r,a,null);if("function"==typeof r.then)return x(e,t,n,mi(r),a);if(r.$$typeof===y)return x(e,t,n,Fa(t,r),a);gi(t,r)}return null}function b(l,c,d,u){if("object"==typeof d&&null!==d&&d.type===m&&null===d.key&&(d=d.props.children),"object"==typeof d&&null!==d){switch(d.$$typeof){case h:e:{for(var v=d.key;null!==c;){if(c.key===v){if((v=d.type)===m){if(7===c.tag){n(l,c.sibling),(u=i(c,d.props.children)).return=l,l=u;break e}}else if(c.elementType===v||"object"==typeof v&&null!==v&&v.$$typeof===O&&li(v)===c.type){n(l,c.sibling),fi(u=i(c,d.props),d),u.return=l,l=u;break e}n(l,c);break}t(l,c),c=c.sibling}d.type===m?((u=Yr(d.props.children,l.mode,u,d.key)).return=l,l=u):(fi(u=Gr(d.type,d.key,d.props,null,l.mode,u),d),u.return=l,l=u)}return o(l);case p:e:{for(v=d.key;null!==c;){if(c.key===v){if(4===c.tag&&c.stateNode.containerInfo===d.containerInfo&&c.stateNode.implementation===d.implementation){n(l,c.sibling),(u=i(c,d.children||[])).return=l,l=u;break e}n(l,c);break}t(l,c),c=c.sibling}(u=Xr(d,l.mode,u)).return=l,l=u}return o(l);case O:return b(l,c,d=li(d),u)}if(F(d))return function(r,i,o,l){for(var c=null,d=null,u=i,h=i=0,p=null;null!==u&&h<o.length;h++){u.index>h?(p=u,u=null):p=u.sibling;var m=g(r,u,o[h],l);if(null===m){null===u&&(u=p);break}e&&u&&null===m.alternate&&t(r,u),i=s(m,i,h),null===d?c=m:d.sibling=m,d=m,u=p}if(h===o.length)return n(r,u),ga&&ca(r,h),c;if(null===u){for(;h<o.length;h++)null!==(u=f(r,o[h],l))&&(i=s(u,i,h),null===d?c=u:d.sibling=u,d=u);return ga&&ca(r,h),c}for(u=a(u);h<o.length;h++)null!==(p=x(u,r,h,o[h],l))&&(e&&null!==p.alternate&&u.delete(null===p.key?h:p.key),i=s(p,i,h),null===d?c=p:d.sibling=p,d=p);return e&&u.forEach(function(e){return t(r,e)}),ga&&ca(r,h),c}(l,c,d,u);if(L(d)){if("function"!=typeof(v=L(d)))throw Error(r(150));return function(i,o,l,c){if(null==l)throw Error(r(151));for(var d=null,u=null,h=o,p=o=0,m=null,b=l.next();null!==h&&!b.done;p++,b=l.next()){h.index>p?(m=h,h=null):m=h.sibling;var y=g(i,h,b.value,c);if(null===y){null===h&&(h=m);break}e&&h&&null===y.alternate&&t(i,h),o=s(y,o,p),null===u?d=y:u.sibling=y,u=y,h=m}if(b.done)return n(i,h),ga&&ca(i,p),d;if(null===h){for(;!b.done;p++,b=l.next())null!==(b=f(i,b.value,c))&&(o=s(b,o,p),null===u?d=b:u.sibling=b,u=b);return ga&&ca(i,p),d}for(h=a(h);!b.done;p++,b=l.next())null!==(b=x(h,i,p,b.value,c))&&(e&&null!==b.alternate&&h.delete(null===b.key?p:b.key),o=s(b,o,p),null===u?d=b:u.sibling=b,u=b);return e&&h.forEach(function(e){return t(i,e)}),ga&&ca(i,p),d}(l,c,d=v.call(d),u)}if("function"==typeof d.then)return b(l,c,mi(d),u);if(d.$$typeof===y)return b(l,c,Fa(l,d),u);gi(l,d)}return"string"==typeof d&&""!==d||"number"==typeof d||"bigint"==typeof d?(d=""+d,null!==c&&6===c.tag?(n(l,c.sibling),(u=i(c,d)).return=l,l=u):(n(l,c),(u=Kr(d,l.mode,u)).return=l,l=u),o(l)):n(l,c)}return function(e,t,n,r){try{pi=0;var a=b(e,t,n,r);return hi=null,a}catch(s){if(s===ni||s===ai)throw s;var i=$r(29,s,null,e.mode);return i.lanes=r,i.return=e,i}}}var bi=xi(!0),yi=xi(!1),vi=!1;function wi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ji(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ni(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ki(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,2&bc){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,t=zr(e),Hr(e,null,n),t}return Ir(e,r,t,n),zr(e)}function Si(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,He(e,n)}}function Ci(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===i?a=i=s:i=i.next=s,n=n.next}while(null!==n);null===i?a=i=t:i=i.next=t}else a=i=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var _i=!1;function Ai(){if(_i&&null!==Ka)throw Ka}function Ti(e,t,n,r){_i=!1;var a=e.updateQueue;vi=!1;var i=a.firstBaseUpdate,s=a.lastBaseUpdate,o=a.shared.pending;if(null!==o){a.shared.pending=null;var l=o,c=l.next;l.next=null,null===s?i=c:s.next=c,s=l;var u=e.alternate;null!==u&&(o=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l)}if(null!==i){var h=a.baseState;for(s=0,u=c=l=null,o=i;;){var p=-536870913&o.lane,m=p!==o.lane;if(m?(wc&p)===p:(r&p)===p){0!==p&&p===Ya&&(_i=!0),null!==u&&(u=u.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var f=e,g=o;p=t;var x=n;switch(g.tag){case 1:if("function"==typeof(f=g.payload)){h=f.call(x,h,p);break e}h=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null==(p="function"==typeof(f=g.payload)?f.call(x,h,p):f))break e;h=d({},h,p);break e;case 2:vi=!0}}null!==(p=o.callback)&&(e.flags|=64,m&&(e.flags|=8192),null===(m=a.callbacks)?a.callbacks=[p]:m.push(p))}else m={lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=m,l=h):u=u.next=m,s|=p;if(null===(o=o.next)){if(null===(o=a.shared.pending))break;o=(m=o).next,m.next=null,a.lastBaseUpdate=m,a.shared.pending=null}}null===u&&(l=h),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=u,null===i&&(a.shared.lanes=0),Tc|=s,e.lanes=s,e.memoizedState=h}}function Oi(e,t){if("function"!=typeof e)throw Error(r(191,e));e.call(t)}function Ei(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)Oi(n[e],t)}var Mi=U(null),Pi=U(0);function Di(e,t){q(Pi,e=_c),q(Mi,t),_c=e|t.baseLanes}function Li(){q(Pi,_c),q(Mi,Mi.current)}function Ii(){_c=Pi.current,V(Mi),V(Pi)}var Ri=U(null),Fi=null;function Hi(e){var t=e.alternate;q(Ui,1&Ui.current),q(Ri,e),null===Fi&&(null===t||null!==Mi.current||null!==t.memoizedState)&&(Fi=e)}function zi(e){q(Ui,Ui.current),q(Ri,e),null===Fi&&(Fi=e)}function Bi(e){22===e.tag?(q(Ui,Ui.current),q(Ri,e),null===Fi&&(Fi=e)):Wi()}function Wi(){q(Ui,Ui.current),q(Ri,Ri.current)}function $i(e){V(Ri),Fi===e&&(Fi=null),V(Ui)}var Ui=U(0);function Vi(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||Iu(n)||Ru(n)))return t}else if(19!==t.tag||"forwards"!==t.memoizedProps.revealOrder&&"backwards"!==t.memoizedProps.revealOrder&&"unstable_legacy-backwards"!==t.memoizedProps.revealOrder&&"together"!==t.memoizedProps.revealOrder){if(null!==t.child){t.child.return=t,t=t.child;continue}}else if(128&t.flags)return t;if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var qi=0,Gi=null,Yi=null,Ki=null,Ji=!1,Xi=!1,Qi=!1,Zi=0,es=0,ts=null,ns=0;function rs(){throw Error(r(321))}function as(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!rr(e[n],t[n]))return!1;return!0}function is(e,t,n,r,a,i){return qi=i,Gi=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,H.H=null===e||null===e.memoizedState?wo:jo,Qi=!1,i=n(r,a),Qi=!1,Xi&&(i=os(t,n,r,a)),ss(e),i}function ss(e){H.H=vo;var t=null!==Yi&&null!==Yi.next;if(qi=0,Ki=Yi=Gi=null,Ji=!1,es=0,ts=null,t)throw Error(r(300));null===e||Fo||null!==(e=e.dependencies)&&La(e)&&(Fo=!0)}function os(e,t,n,a){Gi=e;var i=0;do{if(Xi&&(ts=null),es=0,Xi=!1,25<=i)throw Error(r(301));if(i+=1,Ki=Yi=null,null!=e.updateQueue){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,null!=s.memoCache&&(s.memoCache.index=0)}H.H=No,s=t(n,a)}while(Xi);return s}function ls(){var e=H.H,t=e.useState()[0];return t="function"==typeof t.then?ms(t):t,e=e.useState()[0],(null!==Yi?Yi.memoizedState:null)!==e&&(Gi.flags|=1024),t}function cs(){var e=0!==Zi;return Zi=0,e}function ds(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function us(e){if(Ji){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Ji=!1}qi=0,Ki=Yi=Gi=null,Xi=!1,es=Zi=0,ts=null}function hs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Ki?Gi.memoizedState=Ki=e:Ki=Ki.next=e,Ki}function ps(){if(null===Yi){var e=Gi.alternate;e=null!==e?e.memoizedState:null}else e=Yi.next;var t=null===Ki?Gi.memoizedState:Ki.next;if(null!==t)Ki=t,Yi=e;else{if(null===e){if(null===Gi.alternate)throw Error(r(467));throw Error(r(310))}e={memoizedState:(Yi=e).memoizedState,baseState:Yi.baseState,baseQueue:Yi.baseQueue,queue:Yi.queue,next:null},null===Ki?Gi.memoizedState=Ki=e:Ki=Ki.next=e}return Ki}function ms(e){var t=es;return es+=1,null===ts&&(ts=[]),e=oi(ts,e,t),t=Gi,null===(null===Ki?t.memoizedState:Ki.next)&&(t=t.alternate,H.H=null===t||null===t.memoizedState?wo:jo),e}function fs(e){if(null!==e&&"object"==typeof e){if("function"==typeof e.then)return ms(e);if(e.$$typeof===y)return Ra(e)}throw Error(r(438,String(e)))}function gs(e){var t=null,n=Gi.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=Gi.alternate;null!==r&&null!==(r=r.updateQueue)&&null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},Gi.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=P;return t.index++,n}function xs(e,t){return"function"==typeof t?t(e):t}function bs(e){return ys(ps(),Yi,e)}function ys(e,t,n){var a=e.queue;if(null===a)throw Error(r(311));a.lastRenderedReducer=n;var i=e.baseQueue,s=a.pending;if(null!==s){if(null!==i){var o=i.next;i.next=s.next,s.next=o}t.baseQueue=i=s,a.pending=null}if(s=e.baseState,null===i)e.memoizedState=s;else{var l=o=null,c=null,d=t=i.next,u=!1;do{var h=-536870913&d.lane;if(h!==d.lane?(wc&h)===h:(qi&h)===h){var p=d.revertLane;if(0===p)null!==c&&(c=c.next={lane:0,revertLane:0,gesture:null,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),h===Ya&&(u=!0);else{if((qi&p)===p){d=d.next,p===Ya&&(u=!0);continue}h={lane:0,revertLane:d.revertLane,gesture:null,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},null===c?(l=c=h,o=s):c=c.next=h,Gi.lanes|=p,Tc|=p}h=d.action,Qi&&n(s,h),s=d.hasEagerState?d.eagerState:n(s,h)}else p={lane:h,revertLane:d.revertLane,gesture:d.gesture,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},null===c?(l=c=p,o=s):c=c.next=p,Gi.lanes|=h,Tc|=h;d=d.next}while(null!==d&&d!==t);if(null===c?o=s:c.next=l,!rr(s,e.memoizedState)&&(Fo=!0,u&&null!==(n=Ka)))throw n;e.memoizedState=s,e.baseState=o,e.baseQueue=c,a.lastRenderedState=s}return null===i&&(a.lanes=0),[e.memoizedState,a.dispatch]}function vs(e){var t=ps(),n=t.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=e;var a=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{s=e(s,o.action),o=o.next}while(o!==i);rr(s,t.memoizedState)||(Fo=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,a]}function ws(e,t,n){var a=Gi,i=ps(),s=ga;if(s){if(void 0===n)throw Error(r(407));n=n()}else n=t();var o=!rr((Yi||i).memoizedState,n);if(o&&(i.memoizedState=n,Fo=!0),i=i.queue,qs(ks.bind(null,a,i,e),[e]),i.getSnapshot!==t||o||null!==Ki&&1&Ki.memoizedState.tag){if(a.flags|=2048,Bs(9,{destroy:void 0},Ns.bind(null,a,i,n,t),null),null===yc)throw Error(r(349));s||127&qi||js(a,t,n)}return n}function js(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Gi.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},Gi.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ns(e,t,n,r){t.value=n,t.getSnapshot=r,Ss(t)&&Cs(e)}function ks(e,t,n){return n(function(){Ss(t)&&Cs(e)})}function Ss(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!rr(e,n)}catch(r){return!0}}function Cs(e){var t=Fr(e,2);null!==t&&Zc(t,0,2)}function _s(e){var t=hs();if("function"==typeof e){var n=e;if(e=n(),Qi){ke(!0);try{n()}finally{ke(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xs,lastRenderedState:e},t}function As(e,t,n,r){return e.baseState=n,ys(e,Yi,"function"==typeof r?r:xs)}function Ts(e,t,n,a,i){if(xo(e))throw Error(r(485));if(null!==(e=t.action)){var s={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){s.listeners.push(e)}};null!==H.T?n(!0):s.isTransition=!1,a(s),null===(n=t.pending)?(s.next=t.pending=s,Os(t,s)):(s.next=n.next,t.pending=n.next=s)}}function Os(e,t){var n=t.action,r=t.payload,a=e.state;if(t.isTransition){var i=H.T,s={};H.T=s;try{var o=n(a,r),l=H.S;null!==l&&l(s,o),Es(e,t,o)}catch(c){Ps(e,t,c)}finally{null!==i&&null!==s.types&&(i.types=s.types),H.T=i}}else try{Es(e,t,i=n(a,r))}catch(d){Ps(e,t,d)}}function Es(e,t,n){null!==n&&"object"==typeof n&&"function"==typeof n.then?n.then(function(n){Ms(e,t,n)},function(n){return Ps(e,t,n)}):Ms(e,t,n)}function Ms(e,t,n){t.status="fulfilled",t.value=n,Ds(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,Os(e,n)))}function Ps(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,Ds(t),t=t.next}while(t!==r)}e.action=null}function Ds(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Ls(e,t){return t}function Is(e,t){if(ga){var n=yc.formState;if(null!==n){e:{var r=Gi;if(ga){if(fa){t:{for(var a=fa,i=ba;8!==a.nodeType;){if(!i){a=null;break t}if(null===(a=Fu(a.nextSibling))){a=null;break t}}a="F!"===(i=a.data)||"F"===i?a:null}if(a){fa=Fu(a.nextSibling),r="F!"===a.data;break e}}va(r)}r=!1}r&&(t=n[0])}}return(n=hs()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ls,lastRenderedState:t},n.queue=r,n=mo.bind(null,Gi,r),r.dispatch=n,r=_s(!1),i=go.bind(null,Gi,!1,r.queue),a={state:t,dispatch:null,action:e,pending:null},(r=hs()).queue=a,n=Ts.bind(null,Gi,a,i,n),a.dispatch=n,r.memoizedState=e,[t,n,!1]}function Rs(e){return Fs(ps(),Yi,e)}function Fs(e,t,n){if(t=ys(e,t,Ls)[0],e=bs(xs)[0],"object"==typeof t&&null!==t&&"function"==typeof t.then)try{var r=ms(t)}catch(s){if(s===ni)throw ai;throw s}else r=t;var a=(t=ps()).queue,i=a.dispatch;return n!==t.memoizedState&&(Gi.flags|=2048,Bs(9,{destroy:void 0},Hs.bind(null,a,n),null)),[r,i,e]}function Hs(e,t){e.action=t}function zs(e){var t=ps(),n=Yi;if(null!==n)return Fs(t,n,e);ps(),t=t.memoizedState;var r=(n=ps()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function Bs(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=Gi.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},Gi.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ws(){return ps().memoizedState}function $s(e,t,n,r){var a=hs();Gi.flags|=e,a.memoizedState=Bs(1|t,{destroy:void 0},n,void 0===r?null:r)}function Us(e,t,n,r){var a=ps();r=void 0===r?null:r;var i=a.memoizedState.inst;null!==Yi&&null!==r&&as(r,Yi.memoizedState.deps)?a.memoizedState=Bs(t,i,n,r):(Gi.flags|=e,a.memoizedState=Bs(1|t,i,n,r))}function Vs(e,t){$s(8390656,8,e,t)}function qs(e,t){Us(2048,8,e,t)}function Gs(e){var t=ps().memoizedState;return function(e){Gi.flags|=4;var t=Gi.updateQueue;if(null===t)t={lastEffect:null,events:null,stores:null,memoCache:null},Gi.updateQueue=t,t.events=[e];else{var n=t.events;null===n?t.events=[e]:n.push(e)}}({ref:t,nextImpl:e}),function(){if(2&bc)throw Error(r(440));return t.impl.apply(void 0,arguments)}}function Ys(e,t){return Us(4,2,e,t)}function Ks(e,t){return Us(4,4,e,t)}function Js(e,t){if("function"==typeof t){e=e();var n=t(e);return function(){"function"==typeof n?n():t(null)}}if(null!=t)return e=e(),t.current=e,function(){t.current=null}}function Xs(e,t,n){n=null!=n?n.concat([e]):null,Us(4,4,Js.bind(null,t,e),n)}function Qs(){}function Zs(e,t){var n=ps();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&as(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function eo(e,t){var n=ps();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&as(t,r[1]))return r[0];if(r=e(),Qi){ke(!0);try{e()}finally{ke(!1)}}return n.memoizedState=[r,t],r}function to(e,t,n){return void 0===n||1073741824&qi&&!(261930&wc)?e.memoizedState=t:(e.memoizedState=n,e=Qc(),Gi.lanes|=e,Tc|=e,n)}function no(e,t,n,r){return rr(n,t)?n:null!==Mi.current?(e=to(e,n,r),rr(e,t)||(Fo=!0),e):42&qi&&(!(1073741824&qi)||261930&wc)?(e=Qc(),Gi.lanes|=e,Tc|=e,t):(Fo=!0,e.memoizedState=n)}function ro(e,t,n,r,a){var i=z.p;z.p=0!==i&&8>i?i:8;var s,o,l,c=H.T,d={};H.T=d,go(e,!1,t,n);try{var u=a(),h=H.S;null!==h&&h(d,u),null!==u&&"object"==typeof u&&"function"==typeof u.then?fo(e,t,(s=r,o=[],l={status:"pending",value:null,reason:null,then:function(e){o.push(e)}},u.then(function(){l.status="fulfilled",l.value=s;for(var e=0;e<o.length;e++)(0,o[e])(s)},function(e){for(l.status="rejected",l.reason=e,e=0;e<o.length;e++)(0,o[e])(void 0)}),l),Xc()):fo(e,t,r,Xc())}catch(p){fo(e,t,{then:function(){},status:"rejected",reason:p},Xc())}finally{z.p=i,null!==c&&null!==d.types&&(c.types=d.types),H.T=c}}function ao(){}function io(e,t,n,a){if(5!==e.tag)throw Error(r(476));var i=so(e).queue;ro(e,i,t,B,null===n?ao:function(){return oo(e),n(a)})}function so(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:B,baseState:B,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xs,lastRenderedState:B},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xs,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function oo(e){var t=so(e);null===t.next&&(t=e.alternate.memoizedState),fo(e,t.next.queue,{},Xc())}function lo(){return Ra(fh)}function co(){return ps().memoizedState}function uo(){return ps().memoizedState}function ho(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Xc(),r=ki(t,e=Ni(n),n);return null!==r&&(Zc(r,0,n),Si(r,t,n)),t={cache:Ua()},void(e.payload=t)}t=t.return}}function po(e,t,n){var r=Xc();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},xo(e)?bo(t,n):null!==(n=Rr(e,t,n,r))&&(Zc(n,0,r),yo(n,t,r))}function mo(e,t,n){fo(e,t,n,Xc())}function fo(e,t,n,r){var a={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(xo(e))bo(t,a);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var s=t.lastRenderedState,o=i(s,n);if(a.hasEagerState=!0,a.eagerState=o,rr(o,s))return Ir(e,t,a,0),null===yc&&Lr(),!1}catch(l){}if(null!==(n=Rr(e,t,a,r)))return Zc(n,0,r),yo(n,t,r),!0}return!1}function go(e,t,n,a){if(a={lane:2,revertLane:Gd(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},xo(e)){if(t)throw Error(r(479))}else null!==(t=Rr(e,n,a,2))&&Zc(t,0,2)}function xo(e){var t=e.alternate;return e===Gi||null!==t&&t===Gi}function bo(e,t){Xi=Ji=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function yo(e,t,n){if(4194048&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,He(e,n)}}var vo={readContext:Ra,use:fs,useCallback:rs,useContext:rs,useEffect:rs,useImperativeHandle:rs,useLayoutEffect:rs,useInsertionEffect:rs,useMemo:rs,useReducer:rs,useRef:rs,useState:rs,useDebugValue:rs,useDeferredValue:rs,useTransition:rs,useSyncExternalStore:rs,useId:rs,useHostTransitionStatus:rs,useFormState:rs,useActionState:rs,useOptimistic:rs,useMemoCache:rs,useCacheRefresh:rs};vo.useEffectEvent=rs;var wo={readContext:Ra,use:fs,useCallback:function(e,t){return hs().memoizedState=[e,void 0===t?null:t],e},useContext:Ra,useEffect:Vs,useImperativeHandle:function(e,t,n){n=null!=n?n.concat([e]):null,$s(4194308,4,Js.bind(null,t,e),n)},useLayoutEffect:function(e,t){return $s(4194308,4,e,t)},useInsertionEffect:function(e,t){$s(4,2,e,t)},useMemo:function(e,t){var n=hs();t=void 0===t?null:t;var r=e();if(Qi){ke(!0);try{e()}finally{ke(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=hs();if(void 0!==n){var a=n(t);if(Qi){ke(!0);try{n(t)}finally{ke(!1)}}}else a=t;return r.memoizedState=r.baseState=a,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:a},r.queue=e,e=e.dispatch=po.bind(null,Gi,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},hs().memoizedState=e},useState:function(e){var t=(e=_s(e)).queue,n=mo.bind(null,Gi,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Qs,useDeferredValue:function(e,t){return to(hs(),e,t)},useTransition:function(){var e=_s(!1);return e=ro.bind(null,Gi,e.queue,!0,!1),hs().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var a=Gi,i=hs();if(ga){if(void 0===n)throw Error(r(407));n=n()}else{if(n=t(),null===yc)throw Error(r(349));127&wc||js(a,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Vs(ks.bind(null,a,s,e),[e]),a.flags|=2048,Bs(9,{destroy:void 0},Ns.bind(null,a,s,n,t),null),n},useId:function(){var e=hs(),t=yc.identifierPrefix;if(ga){var n=la;t="_"+t+"R_"+(n=(oa&~(1<<32-Se(oa)-1)).toString(32)+n),0<(n=Zi++)&&(t+="H"+n.toString(32)),t+="_"}else t="_"+t+"r_"+(n=ns++).toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:lo,useFormState:Is,useActionState:Is,useOptimistic:function(e){var t=hs();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=go.bind(null,Gi,!0,n),n.dispatch=t,[e,t]},useMemoCache:gs,useCacheRefresh:function(){return hs().memoizedState=ho.bind(null,Gi)},useEffectEvent:function(e){var t=hs(),n={impl:e};return t.memoizedState=n,function(){if(2&bc)throw Error(r(440));return n.impl.apply(void 0,arguments)}}},jo={readContext:Ra,use:fs,useCallback:Zs,useContext:Ra,useEffect:qs,useImperativeHandle:Xs,useInsertionEffect:Ys,useLayoutEffect:Ks,useMemo:eo,useReducer:bs,useRef:Ws,useState:function(){return bs(xs)},useDebugValue:Qs,useDeferredValue:function(e,t){return no(ps(),Yi.memoizedState,e,t)},useTransition:function(){var e=bs(xs)[0],t=ps().memoizedState;return["boolean"==typeof e?e:ms(e),t]},useSyncExternalStore:ws,useId:co,useHostTransitionStatus:lo,useFormState:Rs,useActionState:Rs,useOptimistic:function(e,t){return As(ps(),0,e,t)},useMemoCache:gs,useCacheRefresh:uo};jo.useEffectEvent=Gs;var No={readContext:Ra,use:fs,useCallback:Zs,useContext:Ra,useEffect:qs,useImperativeHandle:Xs,useInsertionEffect:Ys,useLayoutEffect:Ks,useMemo:eo,useReducer:vs,useRef:Ws,useState:function(){return vs(xs)},useDebugValue:Qs,useDeferredValue:function(e,t){var n=ps();return null===Yi?to(n,e,t):no(n,Yi.memoizedState,e,t)},useTransition:function(){var e=vs(xs)[0],t=ps().memoizedState;return["boolean"==typeof e?e:ms(e),t]},useSyncExternalStore:ws,useId:co,useHostTransitionStatus:lo,useFormState:zs,useActionState:zs,useOptimistic:function(e,t){var n=ps();return null!==Yi?As(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:gs,useCacheRefresh:uo};function ko(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:d({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}No.useEffectEvent=Gs;var So={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Xc(),a=Ni(r);a.payload=t,null!=n&&(a.callback=n),null!==(t=ki(e,a,r))&&(Zc(t,0,r),Si(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Xc(),a=Ni(r);a.tag=1,a.payload=t,null!=n&&(a.callback=n),null!==(t=ki(e,a,r))&&(Zc(t,0,r),Si(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Xc(),r=Ni(n);r.tag=2,null!=t&&(r.callback=t),null!==(t=ki(e,r,n))&&(Zc(t,0,n),Si(t,e,n))}};function Co(e,t,n,r,a,i,s){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,s):!(t.prototype&&t.prototype.isPureReactComponent&&ar(n,r)&&ar(a,i))}function _o(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&So.enqueueReplaceState(t,t.state,null)}function Ao(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var a in n===t&&(n=d({},n)),e)void 0===n[a]&&(n[a]=e[a]);return n}function To(e){Er(e)}function Oo(e){}function Eo(e){Er(e)}function Mo(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Po(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Do(e,t,n){return(n=Ni(n)).tag=3,n.payload={element:null},n.callback=function(){Mo(e,t)},n}function Lo(e){return(e=Ni(e)).tag=3,e}function Io(e,t,n,r){var a=n.type.getDerivedStateFromError;if("function"==typeof a){var i=r.value;e.payload=function(){return a(i)},e.callback=function(){Po(t,n,r)}}var s=n.stateNode;null!==s&&"function"==typeof s.componentDidCatch&&(e.callback=function(){Po(t,n,r),"function"!=typeof a&&(null===Bc?Bc=new Set([this]):Bc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Ro=Error(r(461)),Fo=!1;function Ho(e,t,n,r){t.child=null===e?yi(t,null,n,r):bi(t,e.child,n,r)}function zo(e,t,n,r,a){n=n.render;var i=t.ref;if("ref"in r){var s={};for(var o in r)"ref"!==o&&(s[o]=r[o])}else s=r;return Ia(t),r=is(e,t,n,s,i,a),o=cs(),null===e||Fo?(ga&&o&&ua(t),t.flags|=1,Ho(e,t,r,a),t.child):(ds(e,t,a),cl(e,t,a))}function Bo(e,t,n,r,a){if(null===e){var i=n.type;return"function"!=typeof i||Ur(i)||void 0!==i.defaultProps||null!==n.compare?((e=Gr(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Wo(e,t,i,r,a))}if(i=e.child,!dl(e,a)){var s=i.memoizedProps;if((n=null!==(n=n.compare)?n:ar)(s,r)&&e.ref===t.ref)return cl(e,t,a)}return t.flags|=1,(e=Vr(i,r)).ref=t.ref,e.return=t,t.child=e}function Wo(e,t,n,r,a){if(null!==e){var i=e.memoizedProps;if(ar(i,r)&&e.ref===t.ref){if(Fo=!1,t.pendingProps=r=i,!dl(e,a))return t.lanes=e.lanes,cl(e,t,a);131072&e.flags&&(Fo=!0)}}return Ko(e,t,n,r,a)}function $o(e,t,n,r){var a=r.children,i=null!==e?e.memoizedState:null;if(null===e&&null===t.stateNode&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===r.mode){if(128&t.flags){if(i=null!==i?i.baseLanes|n:n,null!==e){for(r=t.child=e.child,a=0;null!==r;)a=a|r.lanes|r.childLanes,r=r.sibling;r=a&~i}else r=0,t.child=null;return Vo(e,t,i,n,r)}if(!(536870912&n))return r=t.lanes=536870912,Vo(e,t,null!==i?i.baseLanes|n:n,n,r);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&ei(0,null!==i?i.cachePool:null),null!==i?Di(t,i):Li(),Bi(t)}else null!==i?(ei(0,i.cachePool),Di(t,i),Wi(),t.memoizedState=null):(null!==e&&ei(0,null),Li(),Wi());return Ho(e,t,a,n),t.child}function Uo(e,t){return null!==e&&22===e.tag||null!==t.stateNode||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Vo(e,t,n,r,a){var i=Za();return i=null===i?null:{parent:$a._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},null!==e&&ei(0,null),Li(),Bi(t),null!==e&&Da(e,t,r,!0),t.childLanes=a,null}function qo(e,t){return(t=al({mode:t.mode,children:t.children},e.mode)).ref=e.ref,e.child=t,t.return=e,t}function Go(e,t,n){return bi(t,e.child,null,n),(e=qo(t,t.pendingProps)).flags|=2,$i(t),t.memoizedState=null,e}function Yo(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!=typeof n&&"object"!=typeof n)throw Error(r(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Ko(e,t,n,r,a){return Ia(t),n=is(e,t,n,r,void 0,a),r=cs(),null===e||Fo?(ga&&r&&ua(t),t.flags|=1,Ho(e,t,n,a),t.child):(ds(e,t,a),cl(e,t,a))}function Jo(e,t,n,r,a,i){return Ia(t),t.updateQueue=null,n=os(t,r,n,a),ss(e),r=cs(),null===e||Fo?(ga&&r&&ua(t),t.flags|=1,Ho(e,t,n,i),t.child):(ds(e,t,i),cl(e,t,i))}function Xo(e,t,n,r,a){if(Ia(t),null===t.stateNode){var i=Br,s=n.contextType;"object"==typeof s&&null!==s&&(i=Ra(s)),i=new n(r,i),t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,i.updater=So,t.stateNode=i,i._reactInternals=t,(i=t.stateNode).props=r,i.state=t.memoizedState,i.refs={},wi(t),s=n.contextType,i.context="object"==typeof s&&null!==s?Ra(s):Br,i.state=t.memoizedState,"function"==typeof(s=n.getDerivedStateFromProps)&&(ko(t,n,s,r),i.state=t.memoizedState),"function"==typeof n.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(s=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),s!==i.state&&So.enqueueReplaceState(i,i.state,null),Ti(t,r,i,a),Ai(),i.state=t.memoizedState),"function"==typeof i.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){i=t.stateNode;var o=t.memoizedProps,l=Ao(n,o);i.props=l;var c=i.context,d=n.contextType;s=Br,"object"==typeof d&&null!==d&&(s=Ra(d));var u=n.getDerivedStateFromProps;d="function"==typeof u||"function"==typeof i.getSnapshotBeforeUpdate,o=t.pendingProps!==o,d||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(o||c!==s)&&_o(t,i,r,s),vi=!1;var h=t.memoizedState;i.state=h,Ti(t,r,i,a),Ai(),c=t.memoizedState,o||h!==c||vi?("function"==typeof u&&(ko(t,n,u,r),c=t.memoizedState),(l=vi||Co(t,n,l,r,h,c,s))?(d||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||("function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"==typeof i.componentDidMount&&(t.flags|=4194308)):("function"==typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=s,r=l):("function"==typeof i.componentDidMount&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,ji(e,t),d=Ao(n,s=t.memoizedProps),i.props=d,u=t.pendingProps,h=i.context,c=n.contextType,l=Br,"object"==typeof c&&null!==c&&(l=Ra(c)),(c="function"==typeof(o=n.getDerivedStateFromProps)||"function"==typeof i.getSnapshotBeforeUpdate)||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(s!==u||h!==l)&&_o(t,i,r,l),vi=!1,h=t.memoizedState,i.state=h,Ti(t,r,i,a),Ai();var p=t.memoizedState;s!==u||h!==p||vi||null!==e&&null!==e.dependencies&&La(e.dependencies)?("function"==typeof o&&(ko(t,n,o,r),p=t.memoizedState),(d=vi||Co(t,n,d,r,h,p,l)||null!==e&&null!==e.dependencies&&La(e.dependencies))?(c||"function"!=typeof i.UNSAFE_componentWillUpdate&&"function"!=typeof i.componentWillUpdate||("function"==typeof i.componentWillUpdate&&i.componentWillUpdate(r,p,l),"function"==typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,p,l)),"function"==typeof i.componentDidUpdate&&(t.flags|=4),"function"==typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof i.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),i.props=r,i.state=p,i.context=l,r=d):("function"!=typeof i.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return i=r,Yo(e,t),r=!!(128&t.flags),i||r?(i=t.stateNode,n=r&&"function"!=typeof n.getDerivedStateFromError?null:i.render(),t.flags|=1,null!==e&&r?(t.child=bi(t,e.child,null,a),t.child=bi(t,null,n,a)):Ho(e,t,n,a),t.memoizedState=i.state,e=t.child):e=cl(e,t,a),e}function Qo(e,t,n,r){return ka(),t.flags|=256,Ho(e,t,n,r),t.child}var Zo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function el(e){return{baseLanes:e,cachePool:ti()}}function tl(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=Mc),e}function nl(e,t,n){var a,i=t.pendingProps,s=!1,o=!!(128&t.flags);if((a=o)||(a=(null===e||null!==e.memoizedState)&&!!(2&Ui.current)),a&&(s=!0,t.flags&=-129),a=!!(32&t.flags),t.flags&=-33,null===e){if(ga){if(s?Hi(t):Wi(),(e=fa)?null!==(e=null!==(e=Lu(e,ba))&&"&"!==e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==sa?{id:oa,overflow:la}:null,retryLane:536870912,hydrationErrors:null},(n=Jr(e)).return=t,t.child=n,ma=t,fa=null):e=null,null===e)throw va(t);return Ru(e)?t.lanes=32:t.lanes=536870912,null}var l=i.children;return i=i.fallback,s?(Wi(),l=al({mode:"hidden",children:l},s=t.mode),i=Yr(i,s,n,null),l.return=t,i.return=t,l.sibling=i,t.child=l,(i=t.child).memoizedState=el(n),i.childLanes=tl(e,a,n),t.memoizedState=Zo,Uo(null,i)):(Hi(t),rl(t,l))}var c=e.memoizedState;if(null!==c&&null!==(l=c.dehydrated)){if(o)256&t.flags?(Hi(t),t.flags&=-257,t=il(e,t,n)):null!==t.memoizedState?(Wi(),t.child=e.child,t.flags|=128,t=null):(Wi(),l=i.fallback,s=t.mode,i=al({mode:"visible",children:i.children},s),(l=Yr(l,s,n,null)).flags|=2,i.return=t,l.return=t,i.sibling=l,t.child=i,bi(t,e.child,null,n),(i=t.child).memoizedState=el(n),i.childLanes=tl(e,a,n),t.memoizedState=Zo,t=Uo(null,i));else if(Hi(t),Ru(l)){if(a=l.nextSibling&&l.nextSibling.dataset)var d=a.dgst;a=d,(i=Error(r(419))).stack="",i.digest=a,Ca({value:i,source:null,stack:null}),t=il(e,t,n)}else if(Fo||Da(e,t,n,!1),a=0!==(n&e.childLanes),Fo||a){if(null!==(a=yc)&&0!==(i=ze(a,n))&&i!==c.retryLane)throw c.retryLane=i,Fr(e,i),Zc(a,0,i),Ro;Iu(l)||ud(),t=il(e,t,n)}else Iu(l)?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,fa=Fu(l.nextSibling),ma=t,ga=!0,xa=null,ba=!1,null!==e&&pa(t,e),(t=rl(t,i.children)).flags|=4096);return t}return s?(Wi(),l=i.fallback,s=t.mode,d=(c=e.child).sibling,(i=Vr(c,{mode:"hidden",children:i.children})).subtreeFlags=65011712&c.subtreeFlags,null!==d?l=Vr(d,l):(l=Yr(l,s,n,null)).flags|=2,l.return=t,i.return=t,i.sibling=l,t.child=i,Uo(null,i),i=t.child,null===(l=e.child.memoizedState)?l=el(n):(null!==(s=l.cachePool)?(c=$a._currentValue,s=s.parent!==c?{parent:c,pool:c}:s):s=ti(),l={baseLanes:l.baseLanes|n,cachePool:s}),i.memoizedState=l,i.childLanes=tl(e,a,n),t.memoizedState=Zo,Uo(e.child,i)):(Hi(t),e=(n=e.child).sibling,(n=Vr(n,{mode:"visible",children:i.children})).return=t,n.sibling=null,null!==e&&(null===(a=t.deletions)?(t.deletions=[e],t.flags|=16):a.push(e)),t.child=n,t.memoizedState=null,n)}function rl(e,t){return(t=al({mode:"visible",children:t},e.mode)).return=e,e.child=t}function al(e,t){return(e=$r(22,e,null,t)).lanes=0,e}function il(e,t,n){return bi(t,e.child,null,n),(e=rl(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function sl(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ma(e.return,t,n)}function ol(e,t,n,r,a,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a,treeForkCount:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=a,s.treeForkCount=i)}function ll(e,t,n){var r=t.pendingProps,a=r.revealOrder,i=r.tail;r=r.children;var s=Ui.current,o=!!(2&s);if(o?(s=1&s|2,t.flags|=128):s&=1,q(Ui,s),Ho(e,t,r,n),r=ga?ra:0,!o&&null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&sl(e,n,t);else if(19===e.tag)sl(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===Vi(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),ol(t,!1,a,n,i,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===Vi(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}ol(t,!0,n,null,i,r);break;case"together":ol(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function cl(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Tc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Da(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(r(153));if(null!==t.child){for(n=Vr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Vr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function dl(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!La(e))}function ul(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Fo=!0;else{if(!(dl(e,n)||128&t.flags))return Fo=!1,function(e,t,n){switch(t.tag){case 3:Z(t,t.stateNode.containerInfo),Oa(0,$a,e.memoizedState.cache),ka();break;case 27:case 5:te(t);break;case 4:Z(t,t.stateNode.containerInfo);break;case 10:Oa(0,t.type,t.memoizedProps.value);break;case 31:if(null!==t.memoizedState)return t.flags|=128,zi(t),null;break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(Hi(t),t.flags|=128,null):0!==(n&t.child.childLanes)?nl(e,t,n):(Hi(t),null!==(e=cl(e,t,n))?e.sibling:null);Hi(t);break;case 19:var a=!!(128&e.flags);if((r=0!==(n&t.childLanes))||(Da(e,t,n,!1),r=0!==(n&t.childLanes)),a){if(r)return ll(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),q(Ui,Ui.current),r)break;return null;case 22:return t.lanes=0,$o(e,t,n,t.pendingProps);case 24:Oa(0,$a,e.memoizedState.cache)}return cl(e,t,n)}(e,t,n);Fo=!!(131072&e.flags)}else Fo=!1,ga&&1048576&t.flags&&da(t,ra,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=li(t.elementType),t.type=e,"function"!=typeof e){if(null!=e){var i=e.$$typeof;if(i===j){t.tag=11,t=zo(null,t,e,a,n);break e}if(i===T){t.tag=14,t=Bo(null,t,e,a,n);break e}}throw t=R(e)||e,Error(r(306,t,""))}Ur(e)?(a=Ao(e,a),t.tag=1,t=Xo(null,t,e,a,n)):(t.tag=0,t=Ko(null,t,e,a,n))}return t;case 0:return Ko(e,t,t.type,t.pendingProps,n);case 1:return Xo(e,t,a=t.type,i=Ao(a,t.pendingProps),n);case 3:e:{if(Z(t,t.stateNode.containerInfo),null===e)throw Error(r(387));a=t.pendingProps;var s=t.memoizedState;i=s.element,ji(e,t),Ti(t,a,null,n);var o=t.memoizedState;if(a=o.cache,Oa(0,$a,a),a!==s.cache&&Pa(t,[$a],n,!0),Ai(),a=o.element,s.isDehydrated){if(s={element:a,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Qo(e,t,a,n);break e}if(a!==i){Ca(i=Zr(Error(r(424)),t)),t=Qo(e,t,a,n);break e}for(e=9===(e=t.stateNode.containerInfo).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,fa=Fu(e.firstChild),ma=t,ga=!0,xa=null,ba=!0,n=yi(t,null,a,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ka(),a===i){t=cl(e,t,n);break e}Ho(e,t,a,n)}t=t.child}return t;case 26:return Yo(e,t),null===e?(n=Ju(t.type,null,t.pendingProps,null))?t.memoizedState=n:ga||(n=t.type,e=t.pendingProps,(a=wu(X.current).createElement(n))[qe]=t,a[Ge]=e,xu(a,n,e),it(a),t.stateNode=a):t.memoizedState=Ju(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return te(t),null===e&&ga&&(a=t.stateNode=Wu(t.type,t.pendingProps,X.current),ma=t,ba=!0,i=fa,Eu(t.type)?(Hu=i,fa=Fu(a.firstChild)):fa=i),Ho(e,t,t.pendingProps.children,n),Yo(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&ga&&((i=a=fa)&&(null!==(a=function(e,t,n,r){for(;1===e.nodeType;){var a=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Ze])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(i=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(i!==a.rel||e.getAttribute("href")!==(null==a.href||""===a.href?null:a.href)||e.getAttribute("crossorigin")!==(null==a.crossOrigin?null:a.crossOrigin)||e.getAttribute("title")!==(null==a.title?null:a.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((i=e.getAttribute("src"))!==(null==a.src?null:a.src)||e.getAttribute("type")!==(null==a.type?null:a.type)||e.getAttribute("crossorigin")!==(null==a.crossOrigin?null:a.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var i=null==a.name?null:""+a.name;if("hidden"===a.type&&e.getAttribute("name")===i)return e}if(null===(e=Fu(e.nextSibling)))break}return null}(a,t.type,t.pendingProps,ba))?(t.stateNode=a,ma=t,fa=Fu(a.firstChild),ba=!1,i=!0):i=!1),i||va(t)),te(t),i=t.type,s=t.pendingProps,o=null!==e?e.memoizedProps:null,a=s.children,ku(i,s)?a=null:null!==o&&ku(i,o)&&(t.flags|=32),null!==t.memoizedState&&(i=is(e,t,ls,null,null,n),fh._currentValue=i),Yo(e,t),Ho(e,t,a,n),t.child;case 6:return null===e&&ga&&((e=n=fa)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=Fu(e.nextSibling)))return null}return e}(n,t.pendingProps,ba))?(t.stateNode=n,ma=t,fa=null,e=!0):e=!1),e||va(t)),null;case 13:return nl(e,t,n);case 4:return Z(t,t.stateNode.containerInfo),a=t.pendingProps,null===e?t.child=bi(t,null,a,n):Ho(e,t,a,n),t.child;case 11:return zo(e,t,t.type,t.pendingProps,n);case 7:return Ho(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ho(e,t,t.pendingProps.children,n),t.child;case 10:return a=t.pendingProps,Oa(0,t.type,a.value),Ho(e,t,a.children,n),t.child;case 9:return i=t.type._context,a=t.pendingProps.children,Ia(t),a=a(i=Ra(i)),t.flags|=1,Ho(e,t,a,n),t.child;case 14:return Bo(e,t,t.type,t.pendingProps,n);case 15:return Wo(e,t,t.type,t.pendingProps,n);case 19:return ll(e,t,n);case 31:return function(e,t,n){var a=t.pendingProps,i=!!(128&t.flags);if(t.flags&=-129,null===e){if(ga){if("hidden"===a.mode)return e=qo(t,a),t.lanes=536870912,Uo(null,e);if(zi(t),(e=fa)?null!==(e=null!==(e=Lu(e,ba))&&"&"===e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==sa?{id:oa,overflow:la}:null,retryLane:536870912,hydrationErrors:null},(n=Jr(e)).return=t,t.child=n,ma=t,fa=null):e=null,null===e)throw va(t);return t.lanes=536870912,null}return qo(t,a)}var s=e.memoizedState;if(null!==s){var o=s.dehydrated;if(zi(t),i)if(256&t.flags)t.flags&=-257,t=Go(e,t,n);else{if(null===t.memoizedState)throw Error(r(558));t.child=e.child,t.flags|=128,t=null}else if(Fo||Da(e,t,n,!1),i=0!==(n&e.childLanes),Fo||i){if(null!==(a=yc)&&0!==(o=ze(a,n))&&o!==s.retryLane)throw s.retryLane=o,Fr(e,o),Zc(a,0,o),Ro;ud(),t=Go(e,t,n)}else e=s.treeContext,fa=Fu(o.nextSibling),ma=t,ga=!0,xa=null,ba=!1,null!==e&&pa(t,e),(t=qo(t,a)).flags|=4096;return t}return(e=Vr(e.child,{mode:a.mode,children:a.children})).ref=t.ref,t.child=e,e.return=t,e}(e,t,n);case 22:return $o(e,t,n,t.pendingProps);case 24:return Ia(t),a=Ra($a),null===e?(null===(i=Za())&&(i=yc,s=Ua(),i.pooledCache=s,s.refCount++,null!==s&&(i.pooledCacheLanes|=n),i=s),t.memoizedState={parent:a,cache:i},wi(t),Oa(0,$a,i)):(0!==(e.lanes&n)&&(ji(e,t),Ti(t,null,null,n),Ai()),i=e.memoizedState,s=t.memoizedState,i.parent!==a?(i={parent:a,cache:a},t.memoizedState=i,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=i),Oa(0,$a,a)):(a=s.cache,Oa(0,$a,a),a!==i.cache&&Pa(t,[$a],n,!0))),Ho(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function hl(e){e.flags|=4}function pl(e,t,n,r,a){if((t=!!(32&e.mode))&&(t=!1),t){if(e.flags|=16777216,(335544128&a)===a)if(e.stateNode.complete)e.flags|=8192;else{if(!ld())throw ci=ii,ri;e.flags|=8192}}else e.flags&=-16777217}function ml(e,t){if("stylesheet"!==t.type||4&t.state.loading)e.flags&=-16777217;else if(e.flags|=16777216,!ch(t)){if(!ld())throw ci=ii,ri;e.flags|=8192}}function fl(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Le():536870912,e.lanes|=t,Pc|=t)}function gl(e,t){if(!ga)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function xl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=65011712&a.subtreeFlags,r|=65011712&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function bl(e,t,n){var a=t.pendingProps;switch(ha(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return xl(t),null;case 3:return n=t.stateNode,a=null,null!==e&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Ea($a),ee(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(Na(t)?hl(t):null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,Sa())),xl(t),null;case 26:var i=t.type,s=t.memoizedState;return null===e?(hl(t),null!==s?(xl(t),ml(t,s)):(xl(t),pl(t,i,0,0,n))):s?s!==e.memoizedState?(hl(t),xl(t),ml(t,s)):(xl(t),t.flags&=-16777217):((e=e.memoizedProps)!==a&&hl(t),xl(t),pl(t,i,0,0,n)),null;case 27:if(ne(t),n=X.current,i=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==a&&hl(t);else{if(!a){if(null===t.stateNode)throw Error(r(166));return xl(t),null}e=K.current,Na(t)?wa(t):(e=Wu(i,a,n),t.stateNode=e,hl(t))}return xl(t),null;case 5:if(ne(t),i=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==a&&hl(t);else{if(!a){if(null===t.stateNode)throw Error(r(166));return xl(t),null}if(s=K.current,Na(t))wa(t);else{var o=wu(X.current);switch(s){case 1:s=o.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:s=o.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":s=o.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":s=o.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":(s=o.createElement("div")).innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s="string"==typeof a.is?o.createElement("select",{is:a.is}):o.createElement("select"),a.multiple?s.multiple=!0:a.size&&(s.size=a.size);break;default:s="string"==typeof a.is?o.createElement(i,{is:a.is}):o.createElement(i)}}s[qe]=t,s[Ge]=a;e:for(o=t.child;null!==o;){if(5===o.tag||6===o.tag)s.appendChild(o.stateNode);else if(4!==o.tag&&27!==o.tag&&null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;null===o.sibling;){if(null===o.return||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=s;e:switch(xu(s,i,a),i){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&hl(t)}}return xl(t),pl(t,t.type,null===e||e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==a&&hl(t);else{if("string"!=typeof a&&null===t.stateNode)throw Error(r(166));if(e=X.current,Na(t)){if(e=t.stateNode,n=t.memoizedProps,a=null,null!==(i=ma))switch(i.tag){case 27:case 5:a=i.memoizedProps}e[qe]=t,(e=!!(e.nodeValue===n||null!==a&&!0===a.suppressHydrationWarning||mu(e.nodeValue,n)))||va(t,!0)}else(e=wu(e).createTextNode(a))[qe]=t,t.stateNode=e}return xl(t),null;case 31:if(n=t.memoizedState,null===e||null!==e.memoizedState){if(a=Na(t),null!==n){if(null===e){if(!a)throw Error(r(318));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(r(557));e[qe]=t}else ka(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;xl(t),e=!1}else n=Sa(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return 256&t.flags?($i(t),t):($i(t),null);if(128&t.flags)throw Error(r(558))}return xl(t),null;case 13:if(a=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(i=Na(t),null!==a&&null!==a.dehydrated){if(null===e){if(!i)throw Error(r(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(r(317));i[qe]=t}else ka(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;xl(t),i=!1}else i=Sa(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return 256&t.flags?($i(t),t):($i(t),null)}return $i(t),128&t.flags?(t.lanes=n,t):(n=null!==a,e=null!==e&&null!==e.memoizedState,n&&(i=null,null!==(a=t.child).alternate&&null!==a.alternate.memoizedState&&null!==a.alternate.memoizedState.cachePool&&(i=a.alternate.memoizedState.cachePool.pool),s=null,null!==a.memoizedState&&null!==a.memoizedState.cachePool&&(s=a.memoizedState.cachePool.pool),s!==i&&(a.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),fl(t,t.updateQueue),xl(t),null);case 4:return ee(),null===e&&au(t.stateNode.containerInfo),xl(t),null;case 10:return Ea(t.type),xl(t),null;case 19:if(V(Ui),null===(a=t.memoizedState))return xl(t),null;if(i=!!(128&t.flags),null===(s=a.rendering))if(i)gl(a,!1);else{if(0!==Ac||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(s=Vi(e))){for(t.flags|=128,gl(a,!1),e=s.updateQueue,t.updateQueue=e,fl(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)qr(n,e),n=n.sibling;return q(Ui,1&Ui.current|2),ga&&ca(t,a.treeForkCount),t.child}e=e.sibling}null!==a.tail&&pe()>Hc&&(t.flags|=128,i=!0,gl(a,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=Vi(s))){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,fl(t,e),gl(a,!0),null===a.tail&&"hidden"===a.tailMode&&!s.alternate&&!ga)return xl(t),null}else 2*pe()-a.renderingStartTime>Hc&&536870912!==n&&(t.flags|=128,i=!0,gl(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(null!==(e=a.last)?e.sibling=s:t.child=s,a.last=s)}return null!==a.tail?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=pe(),e.sibling=null,n=Ui.current,q(Ui,i?1&n|2:1&n),ga&&ca(t,a.treeForkCount),e):(xl(t),null);case 22:case 23:return $i(t),Ii(),a=null!==t.memoizedState,null!==e?null!==e.memoizedState!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?!!(536870912&n)&&!(128&t.flags)&&(xl(t),6&t.subtreeFlags&&(t.flags|=8192)):xl(t),null!==(n=t.updateQueue)&&fl(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),a=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(a=t.memoizedState.cachePool.pool),a!==n&&(t.flags|=2048),null!==e&&V(Qa),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Ea($a),xl(t),null;case 25:case 30:return null}throw Error(r(156,t.tag))}function yl(e,t){switch(ha(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ea($a),ee(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return ne(t),null;case 31:if(null!==t.memoizedState){if($i(t),null===t.alternate)throw Error(r(340));ka()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 13:if($i(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(r(340));ka()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return V(Ui),null;case 4:return ee(),null;case 10:return Ea(t.type),null;case 22:case 23:return $i(t),Ii(),null!==e&&V(Qa),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return Ea($a),null;default:return null}}function vl(e,t){switch(ha(t),t.tag){case 3:Ea($a),ee();break;case 26:case 27:case 5:ne(t);break;case 4:ee();break;case 31:null!==t.memoizedState&&$i(t);break;case 13:$i(t);break;case 19:V(Ui);break;case 10:Ea(t.type);break;case 22:case 23:$i(t),Ii(),null!==e&&V(Qa);break;case 24:Ea($a)}}function wl(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var a=r.next;n=a;do{if((n.tag&e)===e){r=void 0;var i=n.create,s=n.inst;r=i(),s.destroy=r}n=n.next}while(n!==a)}}catch(o){Ad(t,t.return,o)}}function jl(e,t,n){try{var r=t.updateQueue,a=null!==r?r.lastEffect:null;if(null!==a){var i=a.next;r=i;do{if((r.tag&e)===e){var s=r.inst,o=s.destroy;if(void 0!==o){s.destroy=void 0,a=t;var l=n,c=o;try{c()}catch(d){Ad(a,l,d)}}}r=r.next}while(r!==i)}}catch(d){Ad(t,t.return,d)}}function Nl(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{Ei(t,n)}catch(r){Ad(e,e.return,r)}}}function kl(e,t,n){n.props=Ao(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){Ad(e,t,r)}}function Sl(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"==typeof n?e.refCleanup=n(r):n.current=r}}catch(a){Ad(e,t,a)}}function Cl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"==typeof r)try{r()}catch(a){Ad(e,t,a)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"==typeof n)try{n(null)}catch(i){Ad(e,t,i)}else n.current=null}function _l(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(a){Ad(e,e.return,a)}}function Al(e,t,n){try{var a=e.stateNode;!function(e,t,n,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,s=null,o=null,l=null,c=null,d=null,u=null;for(m in n){var h=n[m];if(n.hasOwnProperty(m)&&null!=h)switch(m){case"checked":case"value":break;case"defaultValue":c=h;default:a.hasOwnProperty(m)||fu(e,t,m,null,a,h)}}for(var p in a){var m=a[p];if(h=n[p],a.hasOwnProperty(p)&&(null!=m||null!=h))switch(p){case"type":s=m;break;case"name":i=m;break;case"checked":d=m;break;case"defaultChecked":u=m;break;case"value":o=m;break;case"defaultValue":l=m;break;case"children":case"dangerouslySetInnerHTML":if(null!=m)throw Error(r(137,t));break;default:m!==h&&fu(e,t,p,m,a,h)}}return void Nt(e,o,l,c,d,u,s,i);case"select":for(s in m=o=l=p=null,n)if(c=n[s],n.hasOwnProperty(s)&&null!=c)switch(s){case"value":break;case"multiple":m=c;default:a.hasOwnProperty(s)||fu(e,t,s,null,a,c)}for(i in a)if(s=a[i],c=n[i],a.hasOwnProperty(i)&&(null!=s||null!=c))switch(i){case"value":p=s;break;case"defaultValue":l=s;break;case"multiple":o=s;default:s!==c&&fu(e,t,i,s,a,c)}return t=l,n=o,a=m,void(null!=p?Ct(e,!!n,p,!1):!!a!=!!n&&(null!=t?Ct(e,!!n,t,!0):Ct(e,!!n,n?[]:"",!1)));case"textarea":for(l in m=p=null,n)if(i=n[l],n.hasOwnProperty(l)&&null!=i&&!a.hasOwnProperty(l))switch(l){case"value":case"children":break;default:fu(e,t,l,null,a,i)}for(o in a)if(i=a[o],s=n[o],a.hasOwnProperty(o)&&(null!=i||null!=s))switch(o){case"value":p=i;break;case"defaultValue":m=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(r(91));break;default:i!==s&&fu(e,t,o,i,a,s)}return void _t(e,p,m);case"option":for(var f in n)p=n[f],n.hasOwnProperty(f)&&null!=p&&!a.hasOwnProperty(f)&&("selected"===f?e.selected=!1:fu(e,t,f,null,a,p));for(c in a)p=a[c],m=n[c],!a.hasOwnProperty(c)||p===m||null==p&&null==m||("selected"===c?e.selected=p&&"function"!=typeof p&&"symbol"!=typeof p:fu(e,t,c,p,a,m));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)p=n[g],n.hasOwnProperty(g)&&null!=p&&!a.hasOwnProperty(g)&&fu(e,t,g,null,a,p);for(d in a)if(p=a[d],m=n[d],a.hasOwnProperty(d)&&p!==m&&(null!=p||null!=m))switch(d){case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(r(137,t));break;default:fu(e,t,d,p,a,m)}return;default:if(Pt(t)){for(var x in n)p=n[x],n.hasOwnProperty(x)&&void 0!==p&&!a.hasOwnProperty(x)&&gu(e,t,x,void 0,a,p);for(u in a)p=a[u],m=n[u],!a.hasOwnProperty(u)||p===m||void 0===p&&void 0===m||gu(e,t,u,p,a,m);return}}for(var b in n)p=n[b],n.hasOwnProperty(b)&&null!=p&&!a.hasOwnProperty(b)&&fu(e,t,b,null,a,p);for(h in a)p=a[h],m=n[h],!a.hasOwnProperty(h)||p===m||null==p&&null==m||fu(e,t,h,p,a,m)}(a,e.type,n,t),a[Ge]=t}catch(i){Ad(e,e.return,i)}}function Tl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&Eu(e.type)||4===e.tag}function Ol(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Tl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&Eu(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function El(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Rt));else if(4!==r&&(27===r&&Eu(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(El(e,t,n),e=e.sibling;null!==e;)El(e,t,n),e=e.sibling}function Ml(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&Eu(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(Ml(e,t,n),e=e.sibling;null!==e;)Ml(e,t,n),e=e.sibling}function Pl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,a=t.attributes;a.length;)t.removeAttributeNode(a[0]);xu(t,r,n),t[qe]=e,t[Ge]=n}catch(i){Ad(e,e.return,i)}}var Dl=!1,Ll=!1,Il=!1,Rl="function"==typeof WeakSet?WeakSet:Set,Fl=null;function Hl(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Zl(e,n),4&r&&wl(5,n);break;case 1:if(Zl(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(s){Ad(n,n.return,s)}else{var a=Ao(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(a,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){Ad(n,n.return,o)}}64&r&&Nl(n),512&r&&Sl(n,n.return);break;case 3:if(Zl(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{Ei(e,t)}catch(s){Ad(n,n.return,s)}}break;case 27:null===t&&4&r&&Pl(n);case 26:case 5:Zl(e,n),null===t&&4&r&&_l(n),512&r&&Sl(n,n.return);break;case 12:Zl(e,n);break;case 31:Zl(e,n),4&r&&Vl(e,n);break;case 13:Zl(e,n),4&r&&ql(e,n),64&r&&null!==(e=n.memoizedState)&&null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$~"===e.data)e._reactRetry=t;else if("$?"!==e.data||"loading"!==n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=Md.bind(null,n));break;case 22:if(!(r=null!==n.memoizedState||Dl)){t=null!==t&&null!==t.memoizedState||Ll,a=Dl;var i=Ll;Dl=r,(Ll=t)&&!i?tc(e,n,!!(8772&n.subtreeFlags)):Zl(e,n),Dl=a,Ll=i}break;case 30:break;default:Zl(e,n)}}function zl(e){var t=e.alternate;null!==t&&(e.alternate=null,zl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&null!==(t=e.stateNode)&&et(t),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Bl=null,Wl=!1;function $l(e,t,n){for(n=n.child;null!==n;)Ul(e,t,n),n=n.sibling}function Ul(e,t,n){if(Ne&&"function"==typeof Ne.onCommitFiberUnmount)try{Ne.onCommitFiberUnmount(je,n)}catch(i){}switch(n.tag){case 26:Ll||Cl(n,t),$l(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:Ll||Cl(n,t);var r=Bl,a=Wl;Eu(n.type)&&(Bl=n.stateNode,Wl=!1),$l(e,t,n),$u(n.stateNode),Bl=r,Wl=a;break;case 5:Ll||Cl(n,t);case 6:if(r=Bl,a=Wl,Bl=null,$l(e,t,n),Wl=a,null!==(Bl=r))if(Wl)try{(9===Bl.nodeType?Bl.body:"HTML"===Bl.nodeName?Bl.ownerDocument.body:Bl).removeChild(n.stateNode)}catch(s){Ad(n,t,s)}else try{Bl.removeChild(n.stateNode)}catch(s){Ad(n,t,s)}break;case 18:null!==Bl&&(Wl?(Mu(9===(e=Bl).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Kh(e)):Mu(Bl,n.stateNode));break;case 4:r=Bl,a=Wl,Bl=n.stateNode.containerInfo,Wl=!0,$l(e,t,n),Bl=r,Wl=a;break;case 0:case 11:case 14:case 15:jl(2,n,t),Ll||jl(4,n,t),$l(e,t,n);break;case 1:Ll||(Cl(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount&&kl(n,t,r)),$l(e,t,n);break;case 21:$l(e,t,n);break;case 22:Ll=(r=Ll)||null!==n.memoizedState,$l(e,t,n),Ll=r;break;default:$l(e,t,n)}}function Vl(e,t){if(null===t.memoizedState&&null!==(e=t.alternate)&&null!==(e=e.memoizedState)){e=e.dehydrated;try{Kh(e)}catch(n){Ad(t,t.return,n)}}}function ql(e,t){if(null===t.memoizedState&&null!==(e=t.alternate)&&null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))try{Kh(e)}catch(n){Ad(t,t.return,n)}}function Gl(e,t){var n=function(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Rl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Rl),t;default:throw Error(r(435,e.tag))}}(e);t.forEach(function(t){if(!n.has(t)){n.add(t);var r=Pd.bind(null,e,t);t.then(r,r)}})}function Yl(e,t){var n=t.deletions;if(null!==n)for(var a=0;a<n.length;a++){var i=n[a],s=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 27:if(Eu(l.type)){Bl=l.stateNode,Wl=!1;break e}break;case 5:Bl=l.stateNode,Wl=!1;break e;case 3:case 4:Bl=l.stateNode.containerInfo,Wl=!0;break e}l=l.return}if(null===Bl)throw Error(r(160));Ul(s,o,i),Bl=null,Wl=!1,null!==(s=i.alternate)&&(s.return=null),i.return=null}if(13886&t.subtreeFlags)for(t=t.child;null!==t;)Jl(t,e),t=t.sibling}var Kl=null;function Jl(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Yl(t,e),Xl(e),4&a&&(jl(3,e,e.return),wl(3,e),jl(5,e,e.return));break;case 1:Yl(t,e),Xl(e),512&a&&(Ll||null===n||Cl(n,n.return)),64&a&&Dl&&null!==(e=e.updateQueue)&&null!==(a=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?a:n.concat(a));break;case 26:var i=Kl;if(Yl(t,e),Xl(e),512&a&&(Ll||null===n||Cl(n,n.return)),4&a){var s=null!==n?n.memoizedState:null;if(a=e.memoizedState,null===n)if(null===a)if(null===e.stateNode){e:{a=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(a){case"title":(!(s=i.getElementsByTagName("title")[0])||s[Ze]||s[qe]||"http://www.w3.org/2000/svg"===s.namespaceURI||s.hasAttribute("itemprop"))&&(s=i.createElement(a),i.head.insertBefore(s,i.querySelector("head > title"))),xu(s,a,n),s[qe]=e,it(s),a=s;break e;case"link":var o=oh("link","href",i).get(a+(n.href||""));if(o)for(var l=0;l<o.length;l++)if((s=o[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&s.getAttribute("rel")===(null==n.rel?null:n.rel)&&s.getAttribute("title")===(null==n.title?null:n.title)&&s.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){o.splice(l,1);break t}xu(s=i.createElement(a),a,n),i.head.appendChild(s);break;case"meta":if(o=oh("meta","content",i).get(a+(n.content||"")))for(l=0;l<o.length;l++)if((s=o[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&s.getAttribute("name")===(null==n.name?null:n.name)&&s.getAttribute("property")===(null==n.property?null:n.property)&&s.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&s.getAttribute("charset")===(null==n.charSet?null:n.charSet)){o.splice(l,1);break t}xu(s=i.createElement(a),a,n),i.head.appendChild(s);break;default:throw Error(r(468,a))}s[qe]=e,it(s),a=s}e.stateNode=a}else lh(i,e.type,e.stateNode);else e.stateNode=nh(i,a,e.memoizedProps);else s!==a?(null===s?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):s.count--,null===a?lh(i,e.type,e.stateNode):nh(i,a,e.memoizedProps)):null===a&&null!==e.stateNode&&Al(e,e.memoizedProps,n.memoizedProps)}break;case 27:Yl(t,e),Xl(e),512&a&&(Ll||null===n||Cl(n,n.return)),null!==n&&4&a&&Al(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Yl(t,e),Xl(e),512&a&&(Ll||null===n||Cl(n,n.return)),32&e.flags){i=e.stateNode;try{Tt(i,"")}catch(f){Ad(e,e.return,f)}}4&a&&null!=e.stateNode&&Al(e,i=e.memoizedProps,null!==n?n.memoizedProps:i),1024&a&&(Il=!0);break;case 6:if(Yl(t,e),Xl(e),4&a){if(null===e.stateNode)throw Error(r(162));a=e.memoizedProps,n=e.stateNode;try{n.nodeValue=a}catch(f){Ad(e,e.return,f)}}break;case 3:if(sh=null,i=Kl,Kl=qu(t.containerInfo),Yl(t,e),Kl=i,Xl(e),4&a&&null!==n&&n.memoizedState.isDehydrated)try{Kh(t.containerInfo)}catch(f){Ad(e,e.return,f)}Il&&(Il=!1,Ql(e));break;case 4:a=Kl,Kl=qu(e.stateNode.containerInfo),Yl(t,e),Xl(e),Kl=a;break;case 12:default:Yl(t,e),Xl(e);break;case 31:case 19:Yl(t,e),Xl(e),4&a&&null!==(a=e.updateQueue)&&(e.updateQueue=null,Gl(e,a));break;case 13:Yl(t,e),Xl(e),8192&e.child.flags&&null!==e.memoizedState!=(null!==n&&null!==n.memoizedState)&&(Rc=pe()),4&a&&null!==(a=e.updateQueue)&&(e.updateQueue=null,Gl(e,a));break;case 22:i=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,d=Dl,u=Ll;if(Dl=d||i,Ll=u||c,Yl(t,e),Ll=u,Dl=d,Xl(e),8192&a)e:for(t=e.stateNode,t._visibility=i?-2&t._visibility:1|t._visibility,i&&(null===n||c||Dl||Ll||ec(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(s=c.stateNode,i)"function"==typeof(o=s.style).setProperty?o.setProperty("display","none","important"):o.display="none";else{l=c.stateNode;var h=c.memoizedProps.style,p=null!=h&&h.hasOwnProperty("display")?h.display:null;l.style.display=null==p||"boolean"==typeof p?"":(""+p).trim()}}catch(f){Ad(c,c.return,f)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=i?"":c.memoizedProps}catch(f){Ad(c,c.return,f)}}}else if(18===t.tag){if(null===n){c=t;try{var m=c.stateNode;i?Pu(m,!0):Pu(c.stateNode,!1)}catch(f){Ad(c,c.return,f)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&a&&null!==(a=e.updateQueue)&&null!==(n=a.retryQueue)&&(a.retryQueue=null,Gl(e,n));case 30:case 21:}}function Xl(e){var t=e.flags;if(2&t){try{for(var n,a=e.return;null!==a;){if(Tl(a)){n=a;break}a=a.return}if(null==n)throw Error(r(160));switch(n.tag){case 27:var i=n.stateNode;Ml(e,Ol(e),i);break;case 5:var s=n.stateNode;32&n.flags&&(Tt(s,""),n.flags&=-33),Ml(e,Ol(e),s);break;case 3:case 4:var o=n.stateNode.containerInfo;El(e,Ol(e),o);break;default:throw Error(r(161))}}catch(l){Ad(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Ql(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Ql(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Zl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Hl(e,t.alternate,t),t=t.sibling}function ec(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:jl(4,t,t.return),ec(t);break;case 1:Cl(t,t.return);var n=t.stateNode;"function"==typeof n.componentWillUnmount&&kl(t,t.return,n),ec(t);break;case 27:$u(t.stateNode);case 26:case 5:Cl(t,t.return),ec(t);break;case 22:null===t.memoizedState&&ec(t);break;default:ec(t)}e=e.sibling}}function tc(e,t,n){for(n=n&&!!(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,a=e,i=t,s=i.flags;switch(i.tag){case 0:case 11:case 15:tc(a,i,n),wl(4,i);break;case 1:if(tc(a,i,n),"function"==typeof(a=(r=i).stateNode).componentDidMount)try{a.componentDidMount()}catch(c){Ad(r,r.return,c)}if(null!==(a=(r=i).updateQueue)){var o=r.stateNode;try{var l=a.shared.hiddenCallbacks;if(null!==l)for(a.shared.hiddenCallbacks=null,a=0;a<l.length;a++)Oi(l[a],o)}catch(c){Ad(r,r.return,c)}}n&&64&s&&Nl(i),Sl(i,i.return);break;case 27:Pl(i);case 26:case 5:tc(a,i,n),n&&null===r&&4&s&&_l(i),Sl(i,i.return);break;case 12:tc(a,i,n);break;case 31:tc(a,i,n),n&&4&s&&Vl(a,i);break;case 13:tc(a,i,n),n&&4&s&&ql(a,i);break;case 22:null===i.memoizedState&&tc(a,i,n),Sl(i,i.return);break;case 30:break;default:tc(a,i,n)}t=t.sibling}}function nc(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Va(n))}function rc(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Va(e))}function ac(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)ic(e,t,n,r),t=t.sibling}function ic(e,t,n,r){var a=t.flags;switch(t.tag){case 0:case 11:case 15:ac(e,t,n,r),2048&a&&wl(9,t);break;case 1:case 31:case 13:default:ac(e,t,n,r);break;case 3:ac(e,t,n,r),2048&a&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Va(e)));break;case 12:if(2048&a){ac(e,t,n,r),e=t.stateNode;try{var i=t.memoizedProps,s=i.id,o=i.onPostCommit;"function"==typeof o&&o(s,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){Ad(t,t.return,l)}}else ac(e,t,n,r);break;case 23:break;case 22:i=t.stateNode,s=t.alternate,null!==t.memoizedState?2&i._visibility?ac(e,t,n,r):oc(e,t):2&i._visibility?ac(e,t,n,r):(i._visibility|=2,sc(e,t,n,r,!!(10256&t.subtreeFlags)||!1)),2048&a&&nc(s,t);break;case 24:ac(e,t,n,r),2048&a&&rc(t.alternate,t)}}function sc(e,t,n,r,a){for(a=a&&(!!(10256&t.subtreeFlags)||!1),t=t.child;null!==t;){var i=e,s=t,o=n,l=r,c=s.flags;switch(s.tag){case 0:case 11:case 15:sc(i,s,o,l,a),wl(8,s);break;case 23:break;case 22:var d=s.stateNode;null!==s.memoizedState?2&d._visibility?sc(i,s,o,l,a):oc(i,s):(d._visibility|=2,sc(i,s,o,l,a)),a&&2048&c&&nc(s.alternate,s);break;case 24:sc(i,s,o,l,a),a&&2048&c&&rc(s.alternate,s);break;default:sc(i,s,o,l,a)}t=t.sibling}}function oc(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,a=r.flags;switch(r.tag){case 22:oc(n,r),2048&a&&nc(r.alternate,r);break;case 24:oc(n,r),2048&a&&rc(r.alternate,r);break;default:oc(n,r)}t=t.sibling}}var lc=8192;function cc(e,t,n){if(e.subtreeFlags&lc)for(e=e.child;null!==e;)dc(e,t,n),e=e.sibling}function dc(e,t,n){switch(e.tag){case 26:cc(e,t,n),e.flags&lc&&null!==e.memoizedState&&function(e,t,n,r){if(!("stylesheet"!==n.type||"string"==typeof r.media&&!1===matchMedia(r.media).matches||4&n.state.loading)){if(null===n.instance){var a=Xu(r.href),i=t.querySelector(Qu(a));if(i)return null!==(t=i._p)&&"object"==typeof t&&"function"==typeof t.then&&(e.count++,e=uh.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=i,void it(i);i=t.ownerDocument||t,r=Zu(r),(a=Uu.get(a))&&ah(r,a),it(i=i.createElement("link"));var s=i;s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),xu(i,"link",r),n.instance=i}null===e.stylesheets&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(3&n.state.loading)&&(e.count++,n=uh.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}(n,Kl,e.memoizedState,e.memoizedProps);break;case 5:default:cc(e,t,n);break;case 3:case 4:var r=Kl;Kl=qu(e.stateNode.containerInfo),cc(e,t,n),Kl=r;break;case 22:null===e.memoizedState&&(null!==(r=e.alternate)&&null!==r.memoizedState?(r=lc,lc=16777216,cc(e,t,n),lc=r):cc(e,t,n))}}function uc(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function hc(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Fl=r,fc(r,e)}uc(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)pc(e),e=e.sibling}function pc(e){switch(e.tag){case 0:case 11:case 15:hc(e),2048&e.flags&&jl(9,e,e.return);break;case 3:case 12:default:hc(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,mc(e)):hc(e)}}function mc(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Fl=r,fc(r,e)}uc(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:jl(8,t,t.return),mc(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,mc(t));break;default:mc(t)}e=e.sibling}}function fc(e,t){for(;null!==Fl;){var n=Fl;switch(n.tag){case 0:case 11:case 15:jl(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Va(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,Fl=r;else e:for(n=e;null!==Fl;){var a=(r=Fl).sibling,i=r.return;if(zl(r),r===n){Fl=null;break e}if(null!==a){a.return=i,Fl=a;break e}Fl=i}}}var gc={getCacheForType:function(e){var t=Ra($a),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Ra($a).controller.signal}},xc="function"==typeof WeakMap?WeakMap:Map,bc=0,yc=null,vc=null,wc=0,jc=0,Nc=null,kc=!1,Sc=!1,Cc=!1,_c=0,Ac=0,Tc=0,Oc=0,Ec=0,Mc=0,Pc=0,Dc=null,Lc=null,Ic=!1,Rc=0,Fc=0,Hc=1/0,zc=null,Bc=null,Wc=0,$c=null,Uc=null,Vc=0,qc=0,Gc=null,Yc=null,Kc=0,Jc=null;function Xc(){return 2&bc&&0!==wc?wc&-wc:null!==H.T?Gd():$e()}function Qc(){if(0===Mc)if(536870912&wc&&!ga)Mc=536870912;else{var e=Te;!(3932160&(Te<<=1))&&(Te=262144),Mc=e}return null!==(e=Ri.current)&&(e.flags|=32),Mc}function Zc(e,t,n){(e!==yc||2!==jc&&9!==jc)&&null===e.cancelPendingCommit||(sd(e,0),rd(e,wc,Mc,!1)),Re(e,n),2&bc&&e===yc||(e===yc&&(!(2&bc)&&(Oc|=n),4===Ac&&rd(e,wc,Mc,!1)),zd(e))}function ed(e,t,n){if(6&bc)throw Error(r(327));for(var a=!n&&!(127&t)&&0===(t&e.expiredLanes)||Pe(e,t),i=a?function(e,t){var n=bc;bc|=2;var a=cd(),i=dd();yc!==e||wc!==t?(zc=null,Hc=pe()+500,sd(e,t)):Sc=Pe(e,t);e:for(;;)try{if(0!==jc&&null!==vc){t=vc;var s=Nc;t:switch(jc){case 1:jc=0,Nc=null,xd(e,t,s,1);break;case 2:case 9:if(si(s)){jc=0,Nc=null,gd(t);break}t=function(){2!==jc&&9!==jc||yc!==e||(jc=7),zd(e)},s.then(t,t);break e;case 3:jc=7;break e;case 4:jc=5;break e;case 7:si(s)?(jc=0,Nc=null,gd(t)):(jc=0,Nc=null,xd(e,t,s,7));break;case 5:var o=null;switch(vc.tag){case 26:o=vc.memoizedState;case 5:case 27:var l=vc;if(o?ch(o):l.stateNode.complete){jc=0,Nc=null;var c=l.sibling;if(null!==c)vc=c;else{var d=l.return;null!==d?(vc=d,bd(d)):vc=null}break t}}jc=0,Nc=null,xd(e,t,s,5);break;case 6:jc=0,Nc=null,xd(e,t,s,6);break;case 8:id(),Ac=6;break e;default:throw Error(r(462))}}md();break}catch(u){od(e,u)}return Ta=Aa=null,H.H=a,H.A=i,bc=n,null!==vc?0:(yc=null,wc=0,Lr(),Ac)}(e,t):hd(e,t,!0),s=a;;){if(0===i){Sc&&!a&&rd(e,t,0,!1);break}if(n=e.current.alternate,!s||nd(n)){if(2===i){if(s=t,e.errorRecoveryDisabledLanes&s)var o=0;else o=0!=(o=-536870913&e.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){t=o;e:{var l=e;i=Dc;var c=l.current.memoizedState.isDehydrated;if(c&&(sd(l,o).flags|=256),2!==(o=hd(l,o,!1))){if(Cc&&!c){l.errorRecoveryDisabledLanes|=s,Oc|=s,i=4;break e}s=Lc,Lc=i,null!==s&&(null===Lc?Lc=s:Lc.push.apply(Lc,s))}i=o}if(s=!1,2!==i)continue}}if(1===i){sd(e,0),rd(e,t,0,!0);break}e:{switch(a=e,s=i){case 0:case 1:throw Error(r(345));case 4:if((4194048&t)!==t)break;case 6:rd(a,t,Mc,!kc);break e;case 2:Lc=null;break;case 3:case 5:break;default:throw Error(r(329))}if((62914560&t)===t&&10<(i=Rc+300-pe())){if(rd(a,t,Mc,!kc),0!==Me(a,0,!0))break e;Vc=t,a.timeoutHandle=Cu(td.bind(null,a,n,Lc,zc,Ic,t,Mc,Oc,Pc,kc,s,"Throttled",-0,0),i)}else td(a,n,Lc,zc,Ic,t,Mc,Oc,Pc,kc,s,null,-0,0)}break}i=hd(e,t,!1),s=!1}zd(e)}function td(e,t,n,r,a,i,s,o,l,c,d,u,h,p){if(e.timeoutHandle=-1,8192&(u=t.subtreeFlags)||!(16785408&~u)){dc(t,i,u={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Rt});var m=(62914560&i)===i?Rc-pe():(4194048&i)===i?Fc-pe():0;if(null!==(m=function(e,t){return e.stylesheets&&0===e.count&&ph(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&ph(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&0===dh&&(dh=62500*function(){if("function"==typeof performance.getEntriesByType){for(var e=0,t=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var a=n[r],i=a.transferSize,s=a.initiatorType,o=a.duration;if(i&&o&&bu(s)){for(s=0,o=a.responseEnd,r+=1;r<n.length;r++){var l=n[r],c=l.startTime;if(c>o)break;var d=l.transferSize,u=l.initiatorType;d&&bu(u)&&(s+=d*((l=l.responseEnd)<o?1:(o-c)/(l-c)))}if(--r,t+=8*(i+s)/(a.duration/1e3),10<++e)break}}if(0<e)return t/e/1e6}return navigator.connection&&"number"==typeof(e=navigator.connection.downlink)?e:5}());var a=setTimeout(function(){if(e.waitingForImages=!1,0===e.count&&(e.stylesheets&&ph(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>dh?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(a)}}:null}(u,m)))return Vc=i,e.cancelPendingCommit=m(vd.bind(null,e,t,i,n,r,a,s,o,l,d,u,null,h,p)),void rd(e,i,s,!c)}vd(e,t,i,n,r,a,s,o,l)}function nd(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&null!==(n=t.updateQueue)&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var a=n[r],i=a.getSnapshot;a=a.value;try{if(!rr(i(),a))return!1}catch(s){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function rd(e,t,n,r){t&=~Ec,t&=~Oc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var a=t;0<a;){var i=31-Se(a),s=1<<i;r[i]=-1,a&=~s}0!==n&&Fe(e,n,t)}function ad(){return!!(6&bc)||(Bd(0),!1)}function id(){if(null!==vc){if(0===jc)var e=vc.return;else Ta=Aa=null,us(e=vc),hi=null,pi=0,e=vc;for(;null!==e;)vl(e.alternate,e),e=e.return;vc=null}}function sd(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,_u(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Vc=0,id(),yc=e,vc=n=Vr(e.current,null),wc=t,jc=0,Nc=null,kc=!1,Sc=Pe(e,t),Cc=!1,Pc=Mc=Ec=Oc=Tc=Ac=0,Lc=Dc=null,Ic=!1,8&t&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var a=31-Se(r),i=1<<a;t|=e[a],r&=~i}return _c=t,Lr(),n}function od(e,t){Gi=null,H.H=vo,t===ni||t===ai?(t=di(),jc=3):t===ri?(t=di(),jc=4):jc=t===Ro?8:null!==t&&"object"==typeof t&&"function"==typeof t.then?6:1,Nc=t,null===vc&&(Ac=1,Mo(e,Zr(t,e.current)))}function ld(){var e=Ri.current;return null===e||((4194048&wc)===wc?null===Fi:!!((62914560&wc)===wc||536870912&wc)&&e===Fi)}function cd(){var e=H.H;return H.H=vo,null===e?vo:e}function dd(){var e=H.A;return H.A=gc,e}function ud(){Ac=4,kc||(4194048&wc)!==wc&&null!==Ri.current||(Sc=!0),!(134217727&Tc)&&!(134217727&Oc)||null===yc||rd(yc,wc,Mc,!1)}function hd(e,t,n){var r=bc;bc|=2;var a=cd(),i=dd();yc===e&&wc===t||(zc=null,sd(e,t)),t=!1;var s=Ac;e:for(;;)try{if(0!==jc&&null!==vc){var o=vc,l=Nc;switch(jc){case 8:id(),s=6;break e;case 3:case 2:case 9:case 6:null===Ri.current&&(t=!0);var c=jc;if(jc=0,Nc=null,xd(e,o,l,c),n&&Sc){s=0;break e}break;default:c=jc,jc=0,Nc=null,xd(e,o,l,c)}}pd(),s=Ac;break}catch(d){od(e,d)}return t&&e.shellSuspendCounter++,Ta=Aa=null,bc=r,H.H=a,H.A=i,null===vc&&(yc=null,wc=0,Lr()),s}function pd(){for(;null!==vc;)fd(vc)}function md(){for(;null!==vc&&!ue();)fd(vc)}function fd(e){var t=ul(e.alternate,e,_c);e.memoizedProps=e.pendingProps,null===t?bd(e):vc=t}function gd(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Jo(n,t,t.pendingProps,t.type,void 0,wc);break;case 11:t=Jo(n,t,t.pendingProps,t.type.render,t.ref,wc);break;case 5:us(t);default:vl(n,t),t=ul(n,t=vc=qr(t,_c),_c)}e.memoizedProps=e.pendingProps,null===t?bd(e):vc=t}function xd(e,t,n,a){Ta=Aa=null,us(t),hi=null,pi=0;var i=t.return;try{if(function(e,t,n,a,i){if(n.flags|=32768,null!==a&&"object"==typeof a&&"function"==typeof a.then){if(null!==(t=n.alternate)&&Da(t,n,i,!0),null!==(n=Ri.current)){switch(n.tag){case 31:case 13:return null===Fi?ud():null===n.alternate&&0===Ac&&(Ac=3),n.flags&=-257,n.flags|=65536,n.lanes=i,a===ii?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([a]):t.add(a),Td(e,a,i)),!1;case 22:return n.flags|=65536,a===ii?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([a]):n.add(a),Td(e,a,i)),!1}throw Error(r(435,n.tag))}return Td(e,a,i),ud(),!1}if(ga)return null!==(t=Ri.current)?(!(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=i,a!==ya&&Ca(Zr(e=Error(r(422),{cause:a}),n))):(a!==ya&&Ca(Zr(t=Error(r(423),{cause:a}),n)),(e=e.current.alternate).flags|=65536,i&=-i,e.lanes|=i,a=Zr(a,n),Ci(e,i=Do(e.stateNode,a,i)),4!==Ac&&(Ac=2)),!1;var s=Error(r(520),{cause:a});if(s=Zr(s,n),null===Dc?Dc=[s]:Dc.push(s),4!==Ac&&(Ac=2),null===t)return!0;a=Zr(a,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,Ci(n,e=Do(n.stateNode,a,e)),!1;case 1:if(t=n.type,s=n.stateNode,!(128&n.flags||"function"!=typeof t.getDerivedStateFromError&&(null===s||"function"!=typeof s.componentDidCatch||null!==Bc&&Bc.has(s))))return n.flags|=65536,i&=-i,n.lanes|=i,Io(i=Lo(i),e,n,a),Ci(n,i),!1}n=n.return}while(null!==n);return!1}(e,i,t,n,wc))return Ac=1,Mo(e,Zr(n,e.current)),void(vc=null)}catch(s){if(null!==i)throw vc=i,s;return Ac=1,Mo(e,Zr(n,e.current)),void(vc=null)}32768&t.flags?(ga||1===a?e=!0:Sc||536870912&wc?e=!1:(kc=e=!0,(2===a||9===a||3===a||6===a)&&null!==(a=Ri.current)&&13===a.tag&&(a.flags|=16384)),yd(t,e)):bd(t)}function bd(e){var t=e;do{if(32768&t.flags)return void yd(t,kc);e=t.return;var n=bl(t.alternate,t,_c);if(null!==n)return void(vc=n);if(null!==(t=t.sibling))return void(vc=t);vc=t=e}while(null!==t);0===Ac&&(Ac=5)}function yd(e,t){do{var n=yl(e.alternate,e);if(null!==n)return n.flags&=32767,void(vc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(vc=e);vc=e=n}while(null!==e);Ac=6,vc=null}function vd(e,t,n,a,i,s,o,l,c){e.cancelPendingCommit=null;do{Sd()}while(0!==Wc);if(6&bc)throw Error(r(327));if(null!==t){if(t===e.current)throw Error(r(177));if(s=t.lanes|t.childLanes,function(e,t,n,r,a,i){var s=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=s&~n;0<n;){var d=31-Se(n),u=1<<d;o[d]=0,l[d]=-1;var h=c[d];if(null!==h)for(c[d]=null,d=0;d<h.length;d++){var p=h[d];null!==p&&(p.lane&=-536870913)}n&=~u}0!==r&&Fe(e,r,0),0!==i&&0===a&&0!==e.tag&&(e.suspendedLanes|=i&~(s&~t))}(e,n,s|=Dr,o,l,c),e===yc&&(vc=yc=null,wc=0),Uc=t,$c=e,Vc=n,qc=s,Gc=i,Yc=a,10256&t.subtreeFlags||10256&t.flags?(e.callbackNode=null,e.callbackPriority=0,ce(xe,function(){return Cd(),null})):(e.callbackNode=null,e.callbackPriority=0),a=!!(13878&t.flags),13878&t.subtreeFlags||a){a=H.T,H.T=null,i=z.p,z.p=2,o=bc,bc|=4;try{!function(e,t){if(e=e.containerInfo,yu=kh,cr(e=lr(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var a=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(a&&0!==a.rangeCount){n=a.anchorNode;var i=a.anchorOffset,s=a.focusNode;a=a.focusOffset;try{n.nodeType,s.nodeType}catch(g){n=null;break e}var o=0,l=-1,c=-1,d=0,u=0,h=e,p=null;t:for(;;){for(var m;h!==n||0!==i&&3!==h.nodeType||(l=o+i),h!==s||0!==a&&3!==h.nodeType||(c=o+a),3===h.nodeType&&(o+=h.nodeValue.length),null!==(m=h.firstChild);)p=h,h=m;for(;;){if(h===e)break t;if(p===n&&++d===i&&(l=o),p===s&&++u===a&&(c=o),null!==(m=h.nextSibling))break;p=(h=p).parentNode}h=m}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(vu={focusedElem:e,selectionRange:n},kh=!1,Fl=t;null!==Fl;)if(e=(t=Fl).child,1028&t.subtreeFlags&&null!==e)e.return=t,Fl=e;else for(;null!==Fl;){switch(s=(t=Fl).alternate,e=t.flags,t.tag){case 0:if(4&e&&null!==(e=null!==(e=t.updateQueue)?e.events:null))for(n=0;n<e.length;n++)(i=e[n]).ref.impl=i.nextImpl;break;case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(1024&e&&null!==s){e=void 0,n=t,i=s.memoizedProps,s=s.memoizedState,a=n.stateNode;try{var f=Ao(n.type,i);e=a.getSnapshotBeforeUpdate(f,s),a.__reactInternalSnapshotBeforeUpdate=e}catch(x){Ad(n,n.return,x)}}break;case 3:if(1024&e)if(9===(n=(e=t.stateNode.containerInfo).nodeType))Du(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Du(e);break;default:e.textContent=""}break;default:if(1024&e)throw Error(r(163))}if(null!==(e=t.sibling)){e.return=t.return,Fl=e;break}Fl=t.return}}(e,t)}finally{bc=o,z.p=i,H.T=a}}Wc=1,wd(),jd(),Nd()}}function wd(){if(1===Wc){Wc=0;var e=$c,t=Uc,n=!!(13878&t.flags);if(13878&t.subtreeFlags||n){n=H.T,H.T=null;var r=z.p;z.p=2;var a=bc;bc|=4;try{Jl(t,e);var i=vu,s=lr(e.containerInfo),o=i.focusedElem,l=i.selectionRange;if(s!==o&&o&&o.ownerDocument&&or(o.ownerDocument.documentElement,o)){if(null!==l&&cr(o)){var c=l.start,d=l.end;if(void 0===d&&(d=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(d,o.value.length);else{var u=o.ownerDocument||document,h=u&&u.defaultView||window;if(h.getSelection){var p=h.getSelection(),m=o.textContent.length,f=Math.min(l.start,m),g=void 0===l.end?f:Math.min(l.end,m);!p.extend&&f>g&&(s=g,g=f,f=s);var x=sr(o,f),b=sr(o,g);if(x&&b&&(1!==p.rangeCount||p.anchorNode!==x.node||p.anchorOffset!==x.offset||p.focusNode!==b.node||p.focusOffset!==b.offset)){var y=u.createRange();y.setStart(x.node,x.offset),p.removeAllRanges(),f>g?(p.addRange(y),p.extend(b.node,b.offset)):(y.setEnd(b.node,b.offset),p.addRange(y))}}}}for(u=[],p=o;p=p.parentNode;)1===p.nodeType&&u.push({element:p,left:p.scrollLeft,top:p.scrollTop});for("function"==typeof o.focus&&o.focus(),o=0;o<u.length;o++){var v=u[o];v.element.scrollLeft=v.left,v.element.scrollTop=v.top}}kh=!!yu,vu=yu=null}finally{bc=a,z.p=r,H.T=n}}e.current=t,Wc=2}}function jd(){if(2===Wc){Wc=0;var e=$c,t=Uc,n=!!(8772&t.flags);if(8772&t.subtreeFlags||n){n=H.T,H.T=null;var r=z.p;z.p=2;var a=bc;bc|=4;try{Hl(e,t.alternate,t)}finally{bc=a,z.p=r,H.T=n}}Wc=3}}function Nd(){if(4===Wc||3===Wc){Wc=0,he();var e=$c,t=Uc,n=Vc,r=Yc;10256&t.subtreeFlags||10256&t.flags?Wc=5:(Wc=0,Uc=$c=null,kd(e,e.pendingLanes));var a=e.pendingLanes;if(0===a&&(Bc=null),We(n),t=t.stateNode,Ne&&"function"==typeof Ne.onCommitFiberRoot)try{Ne.onCommitFiberRoot(je,t,void 0,!(128&~t.current.flags))}catch(l){}if(null!==r){t=H.T,a=z.p,z.p=2,H.T=null;try{for(var i=e.onRecoverableError,s=0;s<r.length;s++){var o=r[s];i(o.value,{componentStack:o.stack})}}finally{H.T=t,z.p=a}}3&Vc&&Sd(),zd(e),a=e.pendingLanes,261930&n&&42&a?e===Jc?Kc++:(Kc=0,Jc=e):Kc=0,Bd(0)}}function kd(e,t){0===(e.pooledCacheLanes&=t)&&null!=(t=e.pooledCache)&&(e.pooledCache=null,Va(t))}function Sd(){return wd(),jd(),Nd(),Cd()}function Cd(){if(5!==Wc)return!1;var e=$c,t=qc;qc=0;var n=We(Vc),a=H.T,i=z.p;try{z.p=32>n?32:n,H.T=null,n=Gc,Gc=null;var s=$c,o=Vc;if(Wc=0,Uc=$c=null,Vc=0,6&bc)throw Error(r(331));var l=bc;if(bc|=4,pc(s.current),ic(s,s.current,o,n),bc=l,Bd(0),Ne&&"function"==typeof Ne.onPostCommitFiberRoot)try{Ne.onPostCommitFiberRoot(je,s)}catch(c){}return!0}finally{z.p=i,H.T=a,kd(e,t)}}function _d(e,t,n){t=Zr(n,t),null!==(e=ki(e,t=Do(e.stateNode,t,2),2))&&(Re(e,2),zd(e))}function Ad(e,t,n){if(3===e.tag)_d(e,e,n);else for(;null!==t;){if(3===t.tag){_d(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Bc||!Bc.has(r))){e=Zr(n,e),null!==(r=ki(t,n=Lo(2),2))&&(Io(n,r,t,e),Re(r,2),zd(r));break}}t=t.return}}function Td(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new xc;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(Cc=!0,a.add(n),e=Od.bind(null,e,t,n),t.then(e,e))}function Od(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,yc===e&&(wc&n)===n&&(4===Ac||3===Ac&&(62914560&wc)===wc&&300>pe()-Rc?!(2&bc)&&sd(e,0):Ec|=n,Pc===wc&&(Pc=0)),zd(e)}function Ed(e,t){0===t&&(t=Le()),null!==(e=Fr(e,t))&&(Re(e,t),zd(e))}function Md(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ed(e,n)}function Pd(e,t){var n=0;switch(e.tag){case 31:case 13:var a=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(r(314))}null!==a&&a.delete(t),Ed(e,n)}var Dd=null,Ld=null,Id=!1,Rd=!1,Fd=!1,Hd=0;function zd(e){e!==Ld&&null===e.next&&(null===Ld?Dd=Ld=e:Ld=Ld.next=e),Rd=!0,Id||(Id=!0,Tu(function(){6&bc?ce(fe,Wd):$d()}))}function Bd(e,t){if(!Fd&&Rd){Fd=!0;do{for(var n=!1,r=Dd;null!==r;){if(0!==e){var a=r.pendingLanes;if(0===a)var i=0;else{var s=r.suspendedLanes,o=r.pingedLanes;i=(1<<31-Se(42|e)+1)-1,i=201326741&(i&=a&~(s&~o))?201326741&i|1:i?2|i:0}0!==i&&(n=!0,qd(r,i))}else i=wc,!(3&(i=Me(r,r===yc?i:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||Pe(r,i)||(n=!0,qd(r,i));r=r.next}}while(n);Fd=!1}}function Wd(){$d()}function $d(){Rd=Id=!1;var e,t=0;0!==Hd&&((e=window.event)&&"popstate"===e.type?e!==Su&&(Su=e,1):(Su=null,0))&&(t=Hd);for(var n=pe(),r=null,a=Dd;null!==a;){var i=a.next,s=Ud(a,n);0===s?(a.next=null,null===r?Dd=i:r.next=i,null===i&&(Ld=r)):(r=a,(0!==t||3&s)&&(Rd=!0)),a=i}0!==Wc&&5!==Wc||Bd(t),0!==Hd&&(Hd=0)}function Ud(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,i=-62914561&e.pendingLanes;0<i;){var s=31-Se(i),o=1<<s,l=a[s];-1===l?0!==(o&n)&&0===(o&r)||(a[s]=De(o,t)):l<=t&&(e.expiredLanes|=o),i&=~o}if(n=wc,n=Me(e,e===(t=yc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===jc||9===jc)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&de(r),e.callbackNode=null,e.callbackPriority=0;if(!(3&n)||Pe(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&de(r),We(n)){case 2:case 8:n=ge;break;case 32:default:n=xe;break;case 268435456:n=ye}return r=Vd.bind(null,e),n=ce(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&de(r),e.callbackPriority=2,e.callbackNode=null,2}function Vd(e,t){if(0!==Wc&&5!==Wc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Sd()&&e.callbackNode!==n)return null;var r=wc;return 0===(r=Me(e,e===yc?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(ed(e,r,t),Ud(e,pe()),null!=e.callbackNode&&e.callbackNode===n?Vd.bind(null,e):null)}function qd(e,t){if(Sd())return null;ed(e,t,!0)}function Gd(){if(0===Hd){var e=Ya;0===e&&(e=Ae,!(261888&(Ae<<=1))&&(Ae=256)),Hd=e}return Hd}function Yd(e){return null==e||"symbol"==typeof e||"boolean"==typeof e?null:"function"==typeof e?e:It(""+e)}function Kd(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Jd=0;Jd<Tr.length;Jd++){var Xd=Tr[Jd];Or(Xd.toLowerCase(),"on"+(Xd[0].toUpperCase()+Xd.slice(1)))}Or(wr,"onAnimationEnd"),Or(jr,"onAnimationIteration"),Or(Nr,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(kr,"onTransitionRun"),Or(Sr,"onTransitionStart"),Or(Cr,"onTransitionCancel"),Or(_r,"onTransitionEnd"),ct("onMouseEnter",["mouseout","mouseover"]),ct("onMouseLeave",["mouseout","mouseover"]),ct("onPointerEnter",["pointerout","pointerover"]),ct("onPointerLeave",["pointerout","pointerover"]),lt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),lt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),lt("onBeforeInput",["compositionend","keypress","textInput","paste"]),lt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),lt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),lt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Zd=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Qd));function eu(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==i&&a.isPropagationStopped())break e;i=o,a.currentTarget=c;try{i(a)}catch(d){Er(d)}a.currentTarget=null,i=l}else for(s=0;s<r.length;s++){if(l=(o=r[s]).instance,c=o.currentTarget,o=o.listener,l!==i&&a.isPropagationStopped())break e;i=o,a.currentTarget=c;try{i(a)}catch(d){Er(d)}a.currentTarget=null,i=l}}}}function tu(e,t){var n=t[Ke];void 0===n&&(n=t[Ke]=new Set);var r=e+"__bubble";n.has(r)||(iu(t,e,2,!1),n.add(r))}function nu(e,t,n){var r=0;t&&(r|=4),iu(n,e,r,t)}var ru="_reactListening"+Math.random().toString(36).slice(2);function au(e){if(!e[ru]){e[ru]=!0,st.forEach(function(t){"selectionchange"!==t&&(Zd.has(t)||nu(t,!1,e),nu(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[ru]||(t[ru]=!0,nu("selectionchange",!1,t))}}function iu(e,t,n,r){switch(Eh(t)){case 2:var a=Sh;break;case 8:a=Ch;break;default:a=_h}n=a.bind(null,t,n,e),a=void 0,!Gt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function su(e,t,n,r,a){var s=r;if(!(1&t||2&t||null===r))e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var l=r.stateNode.containerInfo;if(l===a)break;if(4===o)for(o=r.return;null!==o;){var c=o.tag;if((3===c||4===c)&&o.stateNode.containerInfo===a)return;o=o.return}for(;null!==l;){if(null===(o=tt(l)))return;if(5===(c=o.tag)||6===c||26===c||27===c){r=s=o;continue e}l=l.parentNode}}r=r.return}Ut(function(){var r=s,a=Ht(n),o=[];e:{var l=Ar.get(e);if(void 0!==l){var c=ln,d=e;switch(e){case"keypress":if(0===Zt(n))break e;case"keydown":case"keyup":c=Nn;break;case"focusin":d="focus",c=mn;break;case"focusout":d="blur",c=mn;break;case"beforeblur":case"afterblur":c=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=pn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=Sn;break;case wr:case jr:case Nr:c=fn;break;case _r:c=Cn;break;case"scroll":case"scrollend":c=dn;break;case"wheel":c=_n;break;case"copy":case"cut":case"paste":c=gn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=kn;break;case"toggle":case"beforetoggle":c=An}var u=!!(4&t),h=!u&&("scroll"===e||"scrollend"===e),p=u?null!==l?l+"Capture":null:l;u=[];for(var m,f=r;null!==f;){var g=f;if(m=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===m||null===p||null!=(g=Vt(f,p))&&u.push(ou(f,g,m)),h)break;f=f.return}0<u.length&&(l=new c(l,d,null,n,a),o.push({event:l,listeners:u}))}}if(!(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(l="mouseover"===e||"pointerover"===e)||n===Ft||!(d=n.relatedTarget||n.fromElement)||!tt(d)&&!d[Ye])&&(c||l)&&(l=a.window===a?a:(l=a.ownerDocument)?l.defaultView||l.parentWindow:window,c?(c=r,null!==(d=(d=n.relatedTarget||n.toElement)?tt(d):null)&&(h=i(d),u=d.tag,d!==h||5!==u&&27!==u&&6!==u)&&(d=null)):(c=null,d=r),c!==d)){if(u=hn,g="onMouseLeave",p="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(u=kn,g="onPointerLeave",p="onPointerEnter",f="pointer"),h=null==c?l:rt(c),m=null==d?l:rt(d),(l=new u(g,f+"leave",c,n,a)).target=h,l.relatedTarget=m,g=null,tt(a)===r&&((u=new u(p,f+"enter",d,n,a)).target=m,u.relatedTarget=h,g=u),h=g,c&&d)e:{for(u=cu,f=d,m=0,g=p=c;g;g=u(g))m++;g=0;for(var x=f;x;x=u(x))g++;for(;0<m-g;)p=u(p),m--;for(;0<g-m;)f=u(f),g--;for(;m--;){if(p===f||null!==f&&p===f.alternate){u=p;break e}p=u(p),f=u(f)}u=null}else u=null;null!==c&&du(o,l,c,u,!1),null!==d&&null!==h&&du(o,h,d,u,!0)}if("select"===(c=(l=r?rt(r):window).nodeName&&l.nodeName.toLowerCase())||"input"===c&&"file"===l.type)var b=qn;else if(zn(l))if(Gn)b=nr;else{b=er;var y=Zn}else!(c=l.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==l.type&&"radio"!==l.type?r&&Pt(r.elementType)&&(b=qn):b=tr;switch(b&&(b=b(e,r))?Bn(o,b,n,a):(y&&y(e,l,r),"focusout"===e&&r&&"number"===l.type&&null!=r.memoizedProps.value&&St(l,"number",l.value)),y=r?rt(r):window,e){case"focusin":(zn(y)||"true"===y.contentEditable)&&(ur=y,hr=r,pr=null);break;case"focusout":pr=hr=ur=null;break;case"mousedown":mr=!0;break;case"contextmenu":case"mouseup":case"dragend":mr=!1,fr(o,n,a);break;case"selectionchange":if(dr)break;case"keydown":case"keyup":fr(o,n,a)}var v;if(On)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Fn?In(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(Pn&&"ko"!==n.locale&&(Fn||"onCompositionStart"!==w?"onCompositionEnd"===w&&Fn&&(v=Qt()):(Jt="value"in(Kt=a)?Kt.value:Kt.textContent,Fn=!0)),0<(y=lu(r,w)).length&&(w=new xn(w,e,null,n,a),o.push({event:w,listeners:y}),(v||null!==(v=Rn(n)))&&(w.data=v))),(v=Mn?function(e,t){switch(e){case"compositionend":return Rn(t);case"keypress":return 32!==t.which?null:(Ln=!0,Dn);case"textInput":return(e=t.data)===Dn&&Ln?null:e;default:return null}}(e,n):function(e,t){if(Fn)return"compositionend"===e||!On&&In(e,t)?(e=Qt(),Xt=Jt=Kt=null,Fn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Pn&&"ko"!==t.locale?null:t.data}}(e,n))&&0<(w=lu(r,"onBeforeInput")).length&&(y=new xn("onBeforeInput","beforeinput",null,n,a),o.push({event:y,listeners:w}),y.data=v),function(e,t,n,r,a){if("submit"===t&&n&&n.stateNode===a){var i=Yd((a[Ge]||null).action),s=r.submitter;s&&null!==(t=(t=s[Ge]||null)?Yd(t.formAction):s.getAttribute("formAction"))&&(i=t,s=null);var o=new ln("action","action",null,r,a);e.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==Hd){var e=s?Kd(a,s):new FormData(a);io(n,{pending:!0,data:e,method:a.method,action:i},null,e)}}else"function"==typeof i&&(o.preventDefault(),e=s?Kd(a,s):new FormData(a),io(n,{pending:!0,data:e,method:a.method,action:i},i,e))},currentTarget:a}]})}}(o,e,r,n,a)}eu(o,t)})}function ou(e,t,n){return{instance:e,listener:t,currentTarget:n}}function lu(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,i=a.stateNode;if(5!==(a=a.tag)&&26!==a&&27!==a||null===i||(null!=(a=Vt(e,n))&&r.unshift(ou(e,a,i)),null!=(a=Vt(e,t))&&r.push(ou(e,a,i))),3===e.tag)return r;e=e.return}return[]}function cu(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function du(e,t,n,r,a){for(var i=t._reactName,s=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(o=o.tag,null!==l&&l===r)break;5!==o&&26!==o&&27!==o||null===c||(l=c,a?null!=(c=Vt(n,i))&&s.unshift(ou(n,c,l)):a||null!=(c=Vt(n,i))&&s.push(ou(n,c,l))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var uu=/\r\n?/g,hu=/\u0000|\uFFFD/g;function pu(e){return("string"==typeof e?e:""+e).replace(uu,"\n").replace(hu,"")}function mu(e,t){return t=pu(t),pu(e)===t}function fu(e,t,n,a,i,s){switch(n){case"children":"string"==typeof a?"body"===t||"textarea"===t&&""===a||Tt(e,a):("number"==typeof a||"bigint"==typeof a)&&"body"!==t&&Tt(e,""+a);break;case"className":mt(e,"class",a);break;case"tabIndex":mt(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":mt(e,n,a);break;case"style":Mt(e,a,s);break;case"data":if("object"!==t){mt(e,"data",a);break}case"src":case"href":if(""===a&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==a||"function"==typeof a||"symbol"==typeof a||"boolean"==typeof a){e.removeAttribute(n);break}a=It(""+a),e.setAttribute(n,a);break;case"action":case"formAction":if("function"==typeof a){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"==typeof s&&("formAction"===n?("input"!==t&&fu(e,t,"name",i.name,i,null),fu(e,t,"formEncType",i.formEncType,i,null),fu(e,t,"formMethod",i.formMethod,i,null),fu(e,t,"formTarget",i.formTarget,i,null)):(fu(e,t,"encType",i.encType,i,null),fu(e,t,"method",i.method,i,null),fu(e,t,"target",i.target,i,null))),null==a||"symbol"==typeof a||"boolean"==typeof a){e.removeAttribute(n);break}a=It(""+a),e.setAttribute(n,a);break;case"onClick":null!=a&&(e.onclick=Rt);break;case"onScroll":null!=a&&tu("scroll",e);break;case"onScrollEnd":null!=a&&tu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=a){if("object"!=typeof a||!("__html"in a))throw Error(r(61));if(null!=(n=a.__html)){if(null!=i.children)throw Error(r(60));e.innerHTML=n}}break;case"multiple":e.multiple=a&&"function"!=typeof a&&"symbol"!=typeof a;break;case"muted":e.muted=a&&"function"!=typeof a&&"symbol"!=typeof a;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==a||"function"==typeof a||"boolean"==typeof a||"symbol"==typeof a){e.removeAttribute("xlink:href");break}n=It(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=a&&"function"!=typeof a&&"symbol"!=typeof a?e.setAttribute(n,""+a):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&"function"!=typeof a&&"symbol"!=typeof a?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===a?e.setAttribute(n,""):!1!==a&&null!=a&&"function"!=typeof a&&"symbol"!=typeof a?e.setAttribute(n,a):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=a&&"function"!=typeof a&&"symbol"!=typeof a&&!isNaN(a)&&1<=a?e.setAttribute(n,a):e.removeAttribute(n);break;case"rowSpan":case"start":null==a||"function"==typeof a||"symbol"==typeof a||isNaN(a)?e.removeAttribute(n):e.setAttribute(n,a);break;case"popover":tu("beforetoggle",e),tu("toggle",e),pt(e,"popover",a);break;case"xlinkActuate":ft(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":ft(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":ft(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":ft(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":ft(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":ft(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":ft(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":ft(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":ft(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":pt(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&pt(e,n=Dt.get(n)||n,a)}}function gu(e,t,n,a,i,s){switch(n){case"style":Mt(e,a,s);break;case"dangerouslySetInnerHTML":if(null!=a){if("object"!=typeof a||!("__html"in a))throw Error(r(61));if(null!=(n=a.__html)){if(null!=i.children)throw Error(r(60));e.innerHTML=n}}break;case"children":"string"==typeof a?Tt(e,a):("number"==typeof a||"bigint"==typeof a)&&Tt(e,""+a);break;case"onScroll":null!=a&&tu("scroll",e);break;case"onScrollEnd":null!=a&&tu("scrollend",e);break;case"onClick":null!=a&&(e.onclick=Rt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:ot.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),"function"==typeof(s=null!=(s=e[Ge]||null)?s[n]:null)&&e.removeEventListener(t,s,i),"function"!=typeof a)?n in e?e[n]=a:!0===a?e.setAttribute(n,""):pt(e,n,a):("function"!=typeof s&&null!==s&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,a,i)))}}function xu(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":tu("error",e),tu("load",e);var a,i=!1,s=!1;for(a in n)if(n.hasOwnProperty(a)){var o=n[a];if(null!=o)switch(a){case"src":i=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:fu(e,t,a,o,n,null)}}return s&&fu(e,t,"srcSet",n.srcSet,n,null),void(i&&fu(e,t,"src",n.src,n,null));case"input":tu("invalid",e);var l=a=o=s=null,c=null,d=null;for(i in n)if(n.hasOwnProperty(i)){var u=n[i];if(null!=u)switch(i){case"name":s=u;break;case"type":o=u;break;case"checked":c=u;break;case"defaultChecked":d=u;break;case"value":a=u;break;case"defaultValue":l=u;break;case"children":case"dangerouslySetInnerHTML":if(null!=u)throw Error(r(137,t));break;default:fu(e,t,i,u,n,null)}}return void kt(e,a,l,c,d,o,s,!1);case"select":for(s in tu("invalid",e),i=o=a=null,n)if(n.hasOwnProperty(s)&&null!=(l=n[s]))switch(s){case"value":a=l;break;case"defaultValue":o=l;break;case"multiple":i=l;default:fu(e,t,s,l,n,null)}return t=a,n=o,e.multiple=!!i,void(null!=t?Ct(e,!!i,t,!1):null!=n&&Ct(e,!!i,n,!0));case"textarea":for(o in tu("invalid",e),a=s=i=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":i=l;break;case"defaultValue":s=l;break;case"children":a=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(r(91));break;default:fu(e,t,o,l,n,null)}return void At(e,i,s,a);case"option":for(c in n)n.hasOwnProperty(c)&&null!=(i=n[c])&&("selected"===c?e.selected=i&&"function"!=typeof i&&"symbol"!=typeof i:fu(e,t,c,i,n,null));return;case"dialog":tu("beforetoggle",e),tu("toggle",e),tu("cancel",e),tu("close",e);break;case"iframe":case"object":tu("load",e);break;case"video":case"audio":for(i=0;i<Qd.length;i++)tu(Qd[i],e);break;case"image":tu("error",e),tu("load",e);break;case"details":tu("toggle",e);break;case"embed":case"source":case"link":tu("error",e),tu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(d in n)if(n.hasOwnProperty(d)&&null!=(i=n[d]))switch(d){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:fu(e,t,d,i,n,null)}return;default:if(Pt(t)){for(u in n)n.hasOwnProperty(u)&&void 0!==(i=n[u])&&gu(e,t,u,i,n,void 0);return}}for(l in n)n.hasOwnProperty(l)&&null!=(i=n[l])&&fu(e,t,l,i,n,null)}function bu(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}var yu=null,vu=null;function wu(e){return 9===e.nodeType?e:e.ownerDocument}function ju(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Nu(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function ku(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"bigint"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Su=null,Cu="function"==typeof setTimeout?setTimeout:void 0,_u="function"==typeof clearTimeout?clearTimeout:void 0,Au="function"==typeof Promise?Promise:void 0,Tu="function"==typeof queueMicrotask?queueMicrotask:void 0!==Au?function(e){return Au.resolve(null).then(e).catch(Ou)}:Cu;function Ou(e){setTimeout(function(){throw e})}function Eu(e){return"head"===e}function Mu(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)||"/&"===n){if(0===r)return e.removeChild(a),void Kh(t);r--}else if("$"===n||"$?"===n||"$~"===n||"$!"===n||"&"===n)r++;else if("html"===n)$u(e.ownerDocument.documentElement);else if("head"===n){$u(n=e.ownerDocument.head);for(var i=n.firstChild;i;){var s=i.nextSibling,o=i.nodeName;i[Ze]||"SCRIPT"===o||"STYLE"===o||"LINK"===o&&"stylesheet"===i.rel.toLowerCase()||n.removeChild(i),i=s}}else"body"===n&&$u(e.ownerDocument.body);n=a}while(n);Kh(t)}function Pu(e,t){var n=e;e=0;do{var r=n.nextSibling;if(1===n.nodeType?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",""===n.getAttribute("style")&&n.removeAttribute("style")):3===n.nodeType&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===e)break;e--}else"$"!==n&&"$?"!==n&&"$~"!==n&&"$!"!==n||e++;n=r}while(n)}function Du(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Du(n),et(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function Lu(e,t){for(;8!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!t)return null;if(null===(e=Fu(e.nextSibling)))return null}return e}function Iu(e){return"$?"===e.data||"$~"===e.data}function Ru(e){return"$!"===e.data||"$?"===e.data&&"loading"!==e.ownerDocument.readyState}function Fu(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"$~"===t||"&"===t||"F!"===t||"F"===t)break;if("/$"===t||"/&"===t)return null}}return e}var Hu=null;function zu(e){e=e.nextSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n||"/&"===n){if(0===t)return Fu(e.nextSibling);t--}else"$"!==n&&"$!"!==n&&"$?"!==n&&"$~"!==n&&"&"!==n||t++}e=e.nextSibling}return null}function Bu(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n||"$~"===n||"&"===n){if(0===t)return e;t--}else"/$"!==n&&"/&"!==n||t++}e=e.previousSibling}return null}function Wu(e,t,n){switch(t=wu(n),e){case"html":if(!(e=t.documentElement))throw Error(r(452));return e;case"head":if(!(e=t.head))throw Error(r(453));return e;case"body":if(!(e=t.body))throw Error(r(454));return e;default:throw Error(r(451))}}function $u(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);et(e)}var Uu=new Map,Vu=new Set;function qu(e){return"function"==typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Gu=z.d;z.d={f:function(){var e=Gu.f(),t=ad();return e||t},r:function(e){var t=nt(e);null!==t&&5===t.tag&&"form"===t.type?oo(t):Gu.r(e)},D:function(e){Gu.D(e),Ku("dns-prefetch",e,null)},C:function(e,t){Gu.C(e,t),Ku("preconnect",e,t)},L:function(e,t,n){Gu.L(e,t,n);var r=Yu;if(r&&e&&t){var a='link[rel="preload"][as="'+jt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(a+='[imagesrcset="'+jt(n.imageSrcSet)+'"]',"string"==typeof n.imageSizes&&(a+='[imagesizes="'+jt(n.imageSizes)+'"]')):a+='[href="'+jt(e)+'"]';var i=a;switch(t){case"style":i=Xu(e);break;case"script":i=eh(e)}Uu.has(i)||(e=d({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),Uu.set(i,e),null!==r.querySelector(a)||"style"===t&&r.querySelector(Qu(i))||"script"===t&&r.querySelector(th(i))||(xu(t=r.createElement("link"),"link",e),it(t),r.head.appendChild(t)))}},m:function(e,t){Gu.m(e,t);var n=Yu;if(n&&e){var r=t&&"string"==typeof t.as?t.as:"script",a='link[rel="modulepreload"][as="'+jt(r)+'"][href="'+jt(e)+'"]',i=a;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=eh(e)}if(!Uu.has(i)&&(e=d({rel:"modulepreload",href:e},t),Uu.set(i,e),null===n.querySelector(a))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(th(i)))return}xu(r=n.createElement("link"),"link",e),it(r),n.head.appendChild(r)}}},X:function(e,t){Gu.X(e,t);var n=Yu;if(n&&e){var r=at(n).hoistableScripts,a=eh(e),i=r.get(a);i||((i=n.querySelector(th(a)))||(e=d({src:e,async:!0},t),(t=Uu.get(a))&&ih(e,t),it(i=n.createElement("script")),xu(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(a,i))}},S:function(e,t,n){Gu.S(e,t,n);var r=Yu;if(r&&e){var a=at(r).hoistableStyles,i=Xu(e);t=t||"default";var s=a.get(i);if(!s){var o={loading:0,preload:null};if(s=r.querySelector(Qu(i)))o.loading=5;else{e=d({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Uu.get(i))&&ah(e,n);var l=s=r.createElement("link");it(l),xu(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,rh(s,t,r)}s={type:"stylesheet",instance:s,count:1,state:o},a.set(i,s)}}},M:function(e,t){Gu.M(e,t);var n=Yu;if(n&&e){var r=at(n).hoistableScripts,a=eh(e),i=r.get(a);i||((i=n.querySelector(th(a)))||(e=d({src:e,async:!0,type:"module"},t),(t=Uu.get(a))&&ih(e,t),it(i=n.createElement("script")),xu(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(a,i))}}};var Yu="undefined"==typeof document?null:document;function Ku(e,t,n){var r=Yu;if(r&&"string"==typeof t&&t){var a=jt(t);a='link[rel="'+e+'"][href="'+a+'"]',"string"==typeof n&&(a+='[crossorigin="'+n+'"]'),Vu.has(a)||(Vu.add(a),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(a)&&(xu(t=r.createElement("link"),"link",e),it(t),r.head.appendChild(t)))}}function Ju(e,t,n,a){var i,s,o,l,c=(c=X.current)?qu(c):null;if(!c)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return"string"==typeof n.precedence&&"string"==typeof n.href?(t=Xu(n.href),(a=(n=at(c).hoistableStyles).get(t))||(a={type:"style",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"==typeof n.href&&"string"==typeof n.precedence){e=Xu(n.href);var d=at(c).hoistableStyles,u=d.get(e);if(u||(c=c.ownerDocument||c,u={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,u),(d=c.querySelector(Qu(e)))&&!d._p&&(u.instance=d,u.state.loading=5),Uu.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Uu.set(e,n),d||(i=c,s=e,o=n,l=u.state,i.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=i.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),xu(s,"link",o),it(s),i.head.appendChild(s))))),t&&null===a)throw Error(r(528,""));return u}if(t&&null!==a)throw Error(r(529,""));return null;case"script":return t=n.async,"string"==typeof(n=n.src)&&t&&"function"!=typeof t&&"symbol"!=typeof t?(t=eh(n),(a=(n=at(c).hoistableScripts).get(t))||(a={type:"script",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Xu(e){return'href="'+jt(e)+'"'}function Qu(e){return'link[rel="stylesheet"]['+e+"]"}function Zu(e){return d({},e,{"data-precedence":e.precedence,precedence:null})}function eh(e){return'[src="'+jt(e)+'"]'}function th(e){return"script[async]"+e}function nh(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+jt(n.href)+'"]');if(a)return t.instance=a,it(a),a;var i=d({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return it(a=(e.ownerDocument||e).createElement("style")),xu(a,"style",i),rh(a,n.precedence,e),t.instance=a;case"stylesheet":i=Xu(n.href);var s=e.querySelector(Qu(i));if(s)return t.state.loading|=4,t.instance=s,it(s),s;a=Zu(n),(i=Uu.get(i))&&ah(a,i),it(s=(e.ownerDocument||e).createElement("link"));var o=s;return o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),xu(s,"link",a),t.state.loading|=4,rh(s,n.precedence,e),t.instance=s;case"script":return s=eh(n.src),(i=e.querySelector(th(s)))?(t.instance=i,it(i),i):(a=n,(i=Uu.get(s))&&ih(a=d({},n),i),it(i=(e=e.ownerDocument||e).createElement("script")),xu(i,"link",a),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(r(443,t.type))}else"stylesheet"===t.type&&!(4&t.state.loading)&&(a=t.instance,t.state.loading|=4,rh(a,n.precedence,e));return t.instance}function rh(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),a=r.length?r[r.length-1]:null,i=a,s=0;s<r.length;s++){var o=r[s];if(o.dataset.precedence===t)i=o;else if(i!==a)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function ah(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function ih(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var sh=null;function oh(e,t,n){if(null===sh){var r=new Map,a=sh=new Map;a.set(n,r)}else(r=(a=sh).get(n))||(r=new Map,a.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),a=0;a<n.length;a++){var i=n[a];if(!(i[Ze]||i[qe]||"link"===e&&"stylesheet"===i.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==i.namespaceURI){var s=i.getAttribute(t)||"";s=e+s;var o=r.get(s);o?o.push(i):r.set(s,[i])}}return r}function lh(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function ch(e){return!!("stylesheet"!==e.type||3&e.state.loading)}var dh=0;function uh(){if(this.count--,0===this.count&&(0===this.imgCount||!this.waitingForImages))if(this.stylesheets)ph(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var hh=null;function ph(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,hh=new Map,t.forEach(mh,e),hh=null,uh.call(e))}function mh(e,t){if(!(4&t.state.loading)){var n=hh.get(e);if(n)var r=n.get(null);else{n=new Map,hh.set(e,n);for(var a=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<a.length;i++){var s=a[i];"LINK"!==s.nodeName&&"not all"===s.getAttribute("media")||(n.set(s.dataset.precedence,s),r=s)}r&&n.set(null,r)}s=(a=t.instance).getAttribute("data-precedence"),(i=n.get(s)||r)===r&&n.set(null,a),n.set(s,a),this.count++,r=uh.bind(this),a.addEventListener("load",r),a.addEventListener("error",r),i?i.parentNode.insertBefore(a,i.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(a,e.firstChild),t.state.loading|=4}}var fh={$$typeof:y,Provider:null,Consumer:null,_currentValue:B,_currentValue2:B,_threadCount:0};function gh(e,t,n,r,a,i,s,o,l){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ie(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ie(0),this.hiddenUpdates=Ie(null),this.identifierPrefix=r,this.onUncaughtError=a,this.onCaughtError=i,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function xh(e,t,n,r,a,i,s,o,l,c,d,u){return e=new gh(e,t,n,s,l,c,d,u,o),t=1,!0===i&&(t|=24),i=$r(3,null,null,t),e.current=i,i.stateNode=e,(t=Ua()).refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:r,isDehydrated:n,cache:t},wi(i),e}function bh(e){return e?e=Br:Br}function yh(e,t,n,r,a,i){a=bh(a),null===r.context?r.context=a:r.pendingContext=a,(r=Ni(t)).payload={element:n},null!==(i=void 0===i?null:i)&&(r.callback=i),null!==(n=ki(e,r,t))&&(Zc(n,0,t),Si(n,e,t))}function vh(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function wh(e,t){vh(e,t),(e=e.alternate)&&vh(e,t)}function jh(e){if(13===e.tag||31===e.tag){var t=Fr(e,67108864);null!==t&&Zc(t,0,67108864),wh(e,67108864)}}function Nh(e){if(13===e.tag||31===e.tag){var t=Xc(),n=Fr(e,t=Be(t));null!==n&&Zc(n,0,t),wh(e,t)}}var kh=!0;function Sh(e,t,n,r){var a=H.T;H.T=null;var i=z.p;try{z.p=2,_h(e,t,n,r)}finally{z.p=i,H.T=a}}function Ch(e,t,n,r){var a=H.T;H.T=null;var i=z.p;try{z.p=8,_h(e,t,n,r)}finally{z.p=i,H.T=a}}function _h(e,t,n,r){if(kh){var a=Ah(r);if(null===a)su(e,t,r,Th,n),zh(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return Ph=Bh(Ph,e,t,n,r,a),!0;case"dragenter":return Dh=Bh(Dh,e,t,n,r,a),!0;case"mouseover":return Lh=Bh(Lh,e,t,n,r,a),!0;case"pointerover":var i=a.pointerId;return Ih.set(i,Bh(Ih.get(i)||null,e,t,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,Rh.set(i,Bh(Rh.get(i)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(zh(e,r),4&t&&-1<Hh.indexOf(e)){for(;null!==a;){var i=nt(a);if(null!==i)switch(i.tag){case 3:if((i=i.stateNode).current.memoizedState.isDehydrated){var s=Ee(i.pendingLanes);if(0!==s){var o=i;for(o.pendingLanes|=2,o.entangledLanes|=2;s;){var l=1<<31-Se(s);o.entanglements[1]|=l,s&=~l}zd(i),!(6&bc)&&(Hc=pe()+500,Bd(0))}}break;case 31:case 13:null!==(o=Fr(i,2))&&Zc(o,0,2),ad(),wh(i,2)}if(null===(i=Ah(r))&&su(e,t,r,Th,n),i===a)break;a=i}null!==a&&r.stopPropagation()}else su(e,t,r,null,n)}}function Ah(e){return Oh(e=Ht(e))}var Th=null;function Oh(e){if(Th=null,null!==(e=tt(e))){var t=i(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=s(t)))return e;e=null}else if(31===n){if(null!==(e=o(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Th=e,null}function Eh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(me()){case fe:return 2;case ge:return 8;case xe:case be:return 32;case ye:return 268435456;default:return 32}default:return 32}}var Mh=!1,Ph=null,Dh=null,Lh=null,Ih=new Map,Rh=new Map,Fh=[],Hh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function zh(e,t){switch(e){case"focusin":case"focusout":Ph=null;break;case"dragenter":case"dragleave":Dh=null;break;case"mouseover":case"mouseout":Lh=null;break;case"pointerover":case"pointerout":Ih.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rh.delete(t.pointerId)}}function Bh(e,t,n,r,a,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[a]},null!==t&&null!==(t=nt(t))&&jh(t),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Wh(e){var t=tt(e.target);if(null!==t){var n=i(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=s(n)))return e.blockedOn=t,void Ue(e.priority,function(){Nh(n)})}else if(31===t){if(null!==(t=o(n)))return e.blockedOn=t,void Ue(e.priority,function(){Nh(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function $h(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ah(e.nativeEvent);if(null!==n)return null!==(t=nt(n))&&jh(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Ft=r,n.target.dispatchEvent(r),Ft=null,t.shift()}return!0}function Uh(e,t,n){$h(e)&&n.delete(t)}function Vh(){Mh=!1,null!==Ph&&$h(Ph)&&(Ph=null),null!==Dh&&$h(Dh)&&(Dh=null),null!==Lh&&$h(Lh)&&(Lh=null),Ih.forEach(Uh),Rh.forEach(Uh)}function qh(t,n){t.blockedOn===n&&(t.blockedOn=null,Mh||(Mh=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Vh)))}var Gh=null;function Yh(t){Gh!==t&&(Gh=t,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Gh===t&&(Gh=null);for(var e=0;e<t.length;e+=3){var n=t[e],r=t[e+1],a=t[e+2];if("function"!=typeof r){if(null===Oh(r||n))continue;break}var i=nt(n);null!==i&&(t.splice(e,3),e-=3,io(i,{pending:!0,data:a,method:n.method,action:r},r,a))}}))}function Kh(e){function t(t){return qh(t,e)}null!==Ph&&qh(Ph,e),null!==Dh&&qh(Dh,e),null!==Lh&&qh(Lh,e),Ih.forEach(t),Rh.forEach(t);for(var n=0;n<Fh.length;n++){var r=Fh[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Fh.length&&null===(n=Fh[0]).blockedOn;)Wh(n),null===n.blockedOn&&Fh.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var a=n[r],i=n[r+1],s=a[Ge]||null;if("function"==typeof i)s||Yh(n);else if(s){var o=null;if(i&&i.hasAttribute("formAction")){if(a=i,s=i[Ge]||null)o=s.formAction;else if(null!==Oh(a))continue}else o=s.action;"function"==typeof o?n[r+1]=o:(n.splice(r,3),r-=3),Yh(n)}}}function Jh(){function e(e){e.canIntercept&&"react-transition"===e.info&&e.intercept({handler:function(){return new Promise(function(e){return a=e})},focusReset:"manual",scroll:"manual"})}function t(){null!==a&&(a(),a=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var e=navigation.currentEntry;e&&null!=e.url&&navigation.navigate(e.url,{state:e.getState(),info:"react-transition",history:"replace"})}}if("object"==typeof navigation){var r=!1,a=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),null!==a&&(a(),a=null)}}}function Xh(e){this._internalRoot=e}function Qh(e){this._internalRoot=e}Qh.prototype.render=Xh.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(r(409));yh(t.current,Xc(),e,t,null,null)},Qh.prototype.unmount=Xh.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;yh(e.current,2,null,e,null,null),ad(),t[Ye]=null}},Qh.prototype.unstable_scheduleHydration=function(e){if(e){var t=$e();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Fh.length&&0!==t&&t<Fh[n].priority;n++);Fh.splice(n,0,e),0===n&&Wh(e)}};var Zh=t.version;if("19.2.0"!==Zh)throw Error(r(527,Zh,"19.2.0"));z.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(r(188));throw e=Object.keys(e).join(","),Error(r(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=i(e)))throw Error(r(188));return t!==e?null:e}for(var n=e,a=t;;){var s=n.return;if(null===s)break;var o=s.alternate;if(null===o){if(null!==(a=s.return)){n=a;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return l(s),e;if(o===a)return l(s),t;o=o.sibling}throw Error(r(188))}if(n.return!==a.return)n=s,a=o;else{for(var c=!1,d=s.child;d;){if(d===n){c=!0,n=s,a=o;break}if(d===a){c=!0,a=s,n=o;break}d=d.sibling}if(!c){for(d=o.child;d;){if(d===n){c=!0,n=o,a=s;break}if(d===a){c=!0,a=o,n=s;break}d=d.sibling}if(!c)throw Error(r(189))}}if(n.alternate!==a)throw Error(r(190))}if(3!==n.tag)throw Error(r(188));return n.stateNode.current===n?e:t}(t),null===(e=null!==e?c(e):null)?null:e.stateNode};var ep={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.0"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var tp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tp.isDisabled&&tp.supportsFiber)try{je=tp.inject(ep),Ne=tp}catch(np){}}return N.createRoot=function(e,t){if(!a(e))throw Error(r(299));var n=!1,i="",s=To,o=Oo,l=Eo;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(i=t.identifierPrefix),void 0!==t.onUncaughtError&&(s=t.onUncaughtError),void 0!==t.onCaughtError&&(o=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError)),t=xh(e,1,!1,null,0,n,i,null,s,o,l,Jh),e[Ye]=t.current,au(e),new Xh(t)},N.hydrateRoot=function(e,t,n){if(!a(e))throw Error(r(299));var i=!1,s="",o=To,l=Oo,c=Eo,d=null;return null!=n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onUncaughtError&&(o=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.formState&&(d=n.formState)),(t=xh(e,1,!0,t,0,i,s,d,o,l,c,Jh)).context=bh(null),n=t.current,(s=Ni(i=Be(i=Xc()))).callback=null,ki(n,s,i),n=i,t.current.lanes=n,Re(t,n),zd(t),e[Ye]=t.current,au(e),new Qh(t)},N.version="19.2.0",N}()),j.exports));var D="popstate";function L(e,t){if(!1===e||null==e)throw new Error(t)}function I(e,t){if(!e)try{throw new Error(t)}catch(Ew){}}function R(e,t){return{usr:e.state,key:e.key,idx:t}}function F(e,t,n=null,r){return{pathname:"string"==typeof e?e:e.pathname,search:"",hash:"",..."string"==typeof t?z(t):t,state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)}}function H({pathname:e="/",search:t="",hash:n=""}){return t&&"?"!==t&&(e+="?"===t.charAt(0)?t:"?"+t),n&&"#"!==n&&(e+="#"===n.charAt(0)?n:"#"+n),e}function z(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function B(e,t,n="/"){return function(e,t,n){let r=te(("string"==typeof t?z(t):t).pathname||"/",n);if(null==r)return null;let a=W(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){return e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n])?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(a);let i=null;for(let s=0;null==i&&s<a.length;++s){let e=ee(r);i=Q(a[s],e,false)}return i}(e,t,n)}function W(e,t=[],n=[],r="",a=!1){let i=(e,i,s=a,o)=>{let l={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};if(l.relativePath.startsWith("/")){if(!l.relativePath.startsWith(r)&&s)return;L(l.relativePath.startsWith(r),`Absolute route path "${l.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(r.length)}let c=ie([r,l.relativePath]),d=n.concat(l);e.children&&e.children.length>0&&(L(!0!==e.index,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),W(e.children,t,d,c,s)),(null!=e.path||e.index)&&t.push({path:c,score:X(c,e.index),routesMeta:d})};return e.forEach((e,t)=>{var n;if(""!==e.path&&(null==(n=e.path)?void 0:n.includes("?")))for(let r of $(e.path))i(e,t,!0,r);else i(e,t)}),t}function $(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,a=n.endsWith("?"),i=n.replace(/\?$/,"");if(0===r.length)return a?[i,""]:[i];let s=$(r.join("/")),o=[];return o.push(...s.map(e=>""===e?i:[i,e].join("/"))),a&&o.push(...s),o.map(t=>e.startsWith("/")&&""===t?"/":t)}var U=/^:[\w-]+$/,V=3,q=2,G=1,Y=10,K=-2,J=e=>"*"===e;function X(e,t){let n=e.split("/"),r=n.length;return n.some(J)&&(r+=K),t&&(r+=q),n.filter(e=>!J(e)).reduce((e,t)=>e+(U.test(t)?V:""===t?G:Y),r)}function Q(e,t,n=!1){let{routesMeta:r}=e,a={},i="/",s=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,c="/"===i?t:t.slice(i.length)||"/",d=Z({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),u=e.route;if(!d&&l&&n&&!r[r.length-1].route.index&&(d=Z({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(a,d.params),s.push({params:a,pathname:ie([i,d.pathname]),pathnameBase:se(ie([i,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(i=ie([i,d.pathnameBase]))}return s}function Z(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t=!1,n=!0){I("*"===e||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let i=a[0],s=i.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:r.reduce((e,{paramName:t,isOptional:n},r)=>{if("*"===t){let e=o[r]||"";s=i.slice(0,i.length-e.length).replace(/(.)\/+$/,"$1")}const a=o[r];return e[t]=n&&!a?void 0:(a||"").replace(/%2F/g,"/"),e},{}),pathname:i,pathnameBase:s,pattern:e}}function ee(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return I(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function te(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function ne(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function re(e){let t=function(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}(e);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function ae(e,t,n,r=!1){let a;"string"==typeof e?a=z(e):(a={...e},L(!a.pathname||!a.pathname.includes("?"),ne("?","pathname","search",a)),L(!a.pathname||!a.pathname.includes("#"),ne("#","pathname","hash",a)),L(!a.search||!a.search.includes("#"),ne("#","search","hash",a)));let i,s=""===e||""===a.pathname,o=s?"/":a.pathname;if(null==o)i=n;else{let e=t.length-1;if(!r&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;a.pathname=t.join("/")}i=e>=0?t[e]:"/"}let l=function(e,t="/"){let{pathname:n,search:r="",hash:a=""}="string"==typeof e?z(e):e,i=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:i,search:oe(r),hash:le(a)}}(a,i),c=o&&"/"!==o&&o.endsWith("/"),d=(s||"."===o)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!d||(l.pathname+="/"),l}var ie=e=>e.join("/").replace(/\/\/+/g,"/"),se=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),oe=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",le=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"",ce=["POST","PUT","PATCH","DELETE"];new Set(ce);var de=["GET",...ce];new Set(de);var ue=x.createContext(null);ue.displayName="DataRouter";var he=x.createContext(null);he.displayName="DataRouterState",x.createContext(!1);var pe=x.createContext({isTransitioning:!1});pe.displayName="ViewTransition",x.createContext(new Map).displayName="Fetchers",x.createContext(null).displayName="Await";var me=x.createContext(null);me.displayName="Navigation";var fe=x.createContext(null);fe.displayName="Location";var ge=x.createContext({outlet:null,matches:[],isDataRoute:!1});ge.displayName="Route";var xe=x.createContext(null);function be(){return null!=x.useContext(fe)}function ye(){return L(be(),"useLocation() may be used only in the context of a <Router> component."),x.useContext(fe).location}xe.displayName="RouteError";var ve="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function we(e){x.useContext(me).static||x.useLayoutEffect(e)}function je(){let{isDataRoute:e}=x.useContext(ge);return e?function(){let{router:e}=function(){let e=x.useContext(ue);return L(e,Ee("useNavigate")),e}(),t=Me("useNavigate"),n=x.useRef(!1);return we(()=>{n.current=!0}),x.useCallback(async(r,a={})=>{I(n.current,ve),n.current&&("number"==typeof r?e.navigate(r):await e.navigate(r,{fromRouteId:t,...a}))},[e,t])}():function(){L(be(),"useNavigate() may be used only in the context of a <Router> component.");let e=x.useContext(ue),{basename:t,navigator:n}=x.useContext(me),{matches:r}=x.useContext(ge),{pathname:a}=ye(),i=JSON.stringify(re(r)),s=x.useRef(!1);return we(()=>{s.current=!0}),x.useCallback((r,o={})=>{if(I(s.current,ve),!s.current)return;if("number"==typeof r)return void n.go(r);let l=ae(r,JSON.parse(i),a,"path"===o.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:ie([t,l.pathname])),(o.replace?n.replace:n.push)(l,o.state,o)},[t,n,i,a,e])}()}var Ne=x.createContext(null);function ke(){let{matches:e}=x.useContext(ge),t=e[e.length-1];return t?t.params:{}}function Se(e,{relative:t}={}){let{matches:n}=x.useContext(ge),{pathname:r}=ye(),a=JSON.stringify(re(n));return x.useMemo(()=>ae(e,JSON.parse(a),r,"path"===t),[e,a,r,t])}function Ce(e,t,n,r,a){var i;L(be(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=x.useContext(me),{matches:o}=x.useContext(ge),l=o[o.length-1],c=l?l.params:{},d=l?l.pathname:"/",u=l?l.pathnameBase:"/",h=l&&l.route;{let e=h&&h.path||"";De(d,!h||e.endsWith("*")||e.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${e}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="${e}"> to <Route path="${"/"===e?"*":`${e}/*`}">.`)}let p,m=ye();if(t){let e="string"==typeof t?z(t):t;L("/"===u||(null==(i=e.pathname)?void 0:i.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${e.pathname}" was given in the \`location\` prop.`),p=e}else p=m;let f=p.pathname||"/",g=f;if("/"!==u){let e=u.replace(/^\//,"").split("/");g="/"+f.replace(/^\//,"").split("/").slice(e.length).join("/")}let b=B(e,{pathname:g});I(h||null!=b,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),I(null==b||void 0!==b[b.length-1].route.element||void 0!==b[b.length-1].route.Component||void 0!==b[b.length-1].route.lazy,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let y=function(e,t=[],n=null,r=null){if(null==e){if(!n)return null;if(n.errors)e=n.matches;else{if(0!==t.length||n.initialized||!(n.matches.length>0))return null;e=n.matches}}let a=e,i=null==n?void 0:n.errors;if(null!=i){let e=a.findIndex(e=>e.route.id&&void 0!==(null==i?void 0:i[e.route.id]));L(e>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),a=a.slice(0,Math.min(a.length,e+1))}let s=!1,o=-1;if(n)for(let l=0;l<a.length;l++){let e=a[l];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(o=l),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){s=!0,a=o>=0?a.slice(0,o+1):[a[0]];break}}}return a.reduceRight((e,l,c)=>{let d,u=!1,h=null,p=null;n&&(d=i&&l.route.id?i[l.route.id]:void 0,h=l.route.errorElement||Ae,s&&(o<0&&0===c?(De("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),u=!0,p=null):o===c&&(u=!0,p=l.route.hydrateFallbackElement||null)));let m=t.concat(a.slice(0,c+1)),f=()=>{let t;return t=d?h:u?p:l.route.Component?x.createElement(l.route.Component,null):l.route.element?l.route.element:e,x.createElement(Oe,{match:l,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(l.route.ErrorBoundary||l.route.errorElement||0===c)?x.createElement(Te,{location:n.location,revalidation:n.revalidation,component:h,error:d,children:f(),routeContext:{outlet:null,matches:m,isDataRoute:!0},unstable_onError:r}):f()},null)}(b&&b.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:ie([u,s.encodeLocation?s.encodeLocation(e.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:ie([u,s.encodeLocation?s.encodeLocation(e.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathnameBase])})),o,n,r);return t&&y?x.createElement(fe.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},y):y}function _e(){let e=function(){var e;let t=x.useContext(xe),n=function(){let e=x.useContext(he);return L(e,Ee("useRouteError")),e}(),r=Me("useRouteError");return void 0!==t?t:null==(e=n.errors)?void 0:e[r]}(),t=function(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"boolean"==typeof e.internal&&"data"in e}(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},s=null;return s=x.createElement(x.Fragment,null,x.createElement("p",null,"💿 Hey developer 👋"),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:i},"ErrorBoundary")," or"," ",x.createElement("code",{style:i},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),n?x.createElement("pre",{style:a},n):null,s)}var Ae=x.createElement(_e,null),Te=class extends x.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError&&this.props.unstable_onError(e,t)}render(){return void 0!==this.state.error?x.createElement(ge.Provider,{value:this.props.routeContext},x.createElement(xe.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Oe({routeContext:e,match:t,children:n}){let r=x.useContext(ue);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),x.createElement(ge.Provider,{value:e},n)}function Ee(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Me(e){let t=function(e){let t=x.useContext(ge);return L(t,Ee(e)),t}(e),n=t.matches[t.matches.length-1];return L(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}var Pe={};function De(e,t,n){t||Pe[e]||(Pe[e]=!0,I(!1,n))}function Le(e){return function(e){let t=x.useContext(ge).outlet;return x.useMemo(()=>t&&x.createElement(Ne.Provider,{value:e},t),[t,e])}(e.context)}function Ie(e){L(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Re({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:a,static:i=!1}){L(!be(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=e.replace(/^\/*/,"/"),o=x.useMemo(()=>({basename:s,navigator:a,static:i,future:{}}),[s,a,i]);"string"==typeof n&&(n=z(n));let{pathname:l="/",search:c="",hash:d="",state:u=null,key:h="default"}=n,p=x.useMemo(()=>{let e=te(l,s);return null==e?null:{location:{pathname:e,search:c,hash:d,state:u,key:h},navigationType:r}},[s,l,c,d,u,h,r]);return I(null!=p,`<Router basename="${s}"> is not able to match the URL "${l}${c}${d}" because it does not start with the basename, so the <Router> won't render anything.`),null==p?null:x.createElement(me.Provider,{value:o},x.createElement(fe.Provider,{children:t,value:p}))}function Fe({children:e,location:t}){return Ce(He(e),t)}function He(e,t=[]){let n=[];return x.Children.forEach(e,(e,r)=>{if(!x.isValidElement(e))return;let a=[...t,r];if(e.type===x.Fragment)return void n.push.apply(n,He(e.props.children,a));L(e.type===Ie,`[${"string"==typeof e.type?e.type:e.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),L(!e.props.index||!e.props.children,"An index route cannot have child routes.");let i={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,middleware:e.props.middleware,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(i.children=He(e.props.children,a)),n.push(i)}),n}x.memo(function({routes:e,future:t,state:n,unstable_onError:r}){return Ce(e,void 0,n,r)});var ze="get",Be="application/x-www-form-urlencoded";function We(e){return null!=e&&"string"==typeof e.tagName}var $e=null,Ue=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ve(e){return null==e||Ue.has(e)?e:(I(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Be}"`),null)}function qe(e,t){if(!1===e||null==e)throw new Error(t)}function Ge(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"==typeof e.imageSrcSet&&"string"==typeof e.imageSizes:"string"==typeof e.rel&&"string"==typeof e.href)}function Ye(e,t,n,r,a,i){let s=(e,t)=>!n[t]||e.route.id!==n[t].route.id,o=(e,t)=>{var r;return n[t].pathname!==e.pathname||(null==(r=n[t].route.path)?void 0:r.endsWith("*"))&&n[t].params["*"]!==e.params["*"]};return"assets"===i?t.filter((e,t)=>s(e,t)||o(e,t)):"data"===i?t.filter((t,i)=>{var l;let c=r.routes[t.route.id];if(!c||!c.hasLoader)return!1;if(s(t,i)||o(t,i))return!0;if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:(null==(l=n[0])?void 0:l.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"==typeof r)return r}return!0}):[]}function Ke(){let e=x.useContext(ue);return qe(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Je=x.createContext(void 0);function Xe(){let e=x.useContext(Je);return qe(e,"You must render this element inside a <HydratedRouter> element"),e}function Qe(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function Ze({page:e,...t}){let{router:n}=Ke(),r=x.useMemo(()=>B(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?x.createElement(et,{page:e,matches:r,...t}):null}function et({page:e,matches:t,...n}){let r=ye(),{manifest:a,routeModules:i}=Xe(),{basename:s}=Ke(),{loaderData:o,matches:l}=function(){let e=x.useContext(he);return qe(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}(),c=x.useMemo(()=>Ye(e,t,l,a,r,"data"),[e,t,l,a,r]),d=x.useMemo(()=>Ye(e,t,l,a,r,"assets"),[e,t,l,a,r]),u=x.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let n=new Set,l=!1;if(t.forEach(e=>{var t;let r=a.routes[e.route.id];r&&r.hasLoader&&(!c.some(t=>t.route.id===e.route.id)&&e.route.id in o&&(null==(t=i[e.route.id])?void 0:t.shouldRevalidate)||r.hasClientLoader?l=!0:n.add(e.route.id))}),0===n.size)return[];let d=function(e,t,n){let r="string"==typeof e?new URL(e,"undefined"==typeof window?"server://singlefetch/":window.location.origin):e;return"/"===r.pathname?r.pathname=`_root.${n}`:t&&"/"===te(r.pathname,t)?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}(e,s,"data");return l&&n.size>0&&d.searchParams.set("_routes",t.filter(e=>n.has(e.route.id)).map(e=>e.route.id).join(",")),[d.pathname+d.search]},[s,o,r,a,c,t,e,i]),h=x.useMemo(()=>function(e,t,{includeHydrateFallback:n}={}){return r=e.map(e=>{let r=t.routes[e.route.id];if(!r)return[];let a=[r.module];return r.clientActionModule&&(a=a.concat(r.clientActionModule)),r.clientLoaderModule&&(a=a.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(a=a.concat(r.hydrateFallbackModule)),r.imports&&(a=a.concat(r.imports)),a}).flat(1),[...new Set(r)];var r}(d,a),[d,a]),p=function(e){let{manifest:t,routeModules:n}=Xe(),[r,a]=x.useState([]);return x.useEffect(()=>{let r=!1;return async function(e,t,n){return function(e){let t=new Set;return new Set(void 0),e.reduce((e,n)=>{let r=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(n));return t.has(r)||(t.add(r),e.push({key:r,link:n})),e},[])}((await Promise.all(e.map(async e=>{let r=t.routes[e.route.id];if(r){let e=await async function(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}(r,n);return e.links?e.links():[]}return[]}))).flat(1).filter(Ge).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?{...e,rel:"prefetch",as:"style"}:{...e,rel:"prefetch"}))}(e,t,n).then(e=>{r||a(e)}),()=>{r=!0}},[e,t,n]),r}(d);return x.createElement(x.Fragment,null,u.map(e=>x.createElement("link",{key:e,rel:"prefetch",as:"fetch",href:e,...n})),h.map(e=>x.createElement("link",{key:e,rel:"modulepreload",href:e,...n})),p.map(({key:e,link:t})=>x.createElement("link",{key:e,nonce:n.nonce,...t})))}function tt(...e){return t=>{e.forEach(e=>{"function"==typeof e?e(t):null!=e&&(e.current=t)})}}Je.displayName="FrameworkContext";var nt="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;try{nt&&(window.__reactRouterVersion="7.9.3")}catch(Ew){}function rt({basename:e,children:t,window:n}){let r=x.useRef();null==r.current&&(r.current=function(e={}){return function(e,t,n,r={}){let{window:a=document.defaultView,v5Compat:i=!1}=r,s=a.history,o="POP",l=null,c=d();function d(){return(s.state||{idx:null}).idx}function u(){o="POP";let e=d(),t=null==e?null:e-c;c=e,l&&l({action:o,location:p.location,delta:t})}function h(e){return function(e,t=!1){let n="http://localhost";"undefined"!=typeof window&&(n="null"!==window.location.origin?window.location.origin:window.location.href),L(n,"No window.location.(origin|href) available to create URL");let r="string"==typeof e?e:H(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}(e)}null==c&&(c=0,s.replaceState({...s.state,idx:c},""));let p={get action(){return o},get location(){return e(a,s)},listen(e){if(l)throw new Error("A history only accepts one active listener");return a.addEventListener(D,u),l=e,()=>{a.removeEventListener(D,u),l=null}},createHref:e=>t(a,e),createURL:h,encodeLocation(e){let t=h(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){o="PUSH";let n=F(p.location,e,t);c=d()+1;let r=R(n,c),u=p.createHref(n);try{s.pushState(r,"",u)}catch(h){if(h instanceof DOMException&&"DataCloneError"===h.name)throw h;a.location.assign(u)}i&&l&&l({action:o,location:p.location,delta:1})},replace:function(e,t){o="REPLACE";let n=F(p.location,e,t);c=d();let r=R(n,c),a=p.createHref(n);s.replaceState(r,"",a),i&&l&&l({action:o,location:p.location,delta:0})},go:e=>s.go(e)};return p}(function(e,t){let{pathname:n,search:r,hash:a}=e.location;return F("",{pathname:n,search:r,hash:a},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"==typeof t?t:H(t)},0,e)}({window:n,v5Compat:!0}));let a=r.current,[i,s]=x.useState({action:a.action,location:a.location}),o=x.useCallback(e=>{x.startTransition(()=>s(e))},[s]);return x.useLayoutEffect(()=>a.listen(o),[a,o]),x.createElement(Re,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:a})}var at=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,it=x.forwardRef(function({onClick:e,discover:t="render",prefetch:n="none",relative:r,reloadDocument:a,replace:i,state:s,target:o,to:l,preventScrollReset:c,viewTransition:d,...u},h){let p,{basename:m}=x.useContext(me),f="string"==typeof l&&at.test(l),g=!1;if("string"==typeof l&&f&&(p=l,nt))try{let e=new URL(window.location.href),t=l.startsWith("//")?new URL(e.protocol+l):new URL(l),n=te(t.pathname,m);t.origin===e.origin&&null!=n?l=n+t.search+t.hash:g=!0}catch(Ew){I(!1,`<Link to="${l}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let b=function(e,{relative:t}={}){L(be(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=x.useContext(me),{hash:a,pathname:i,search:s}=Se(e,{relative:t}),o=i;return"/"!==n&&(o="/"===i?n:ie([n,i])),r.createHref({pathname:o,search:s,hash:a})}(l,{relative:r}),[y,v,w]=function(e,t){let n=x.useContext(Je),[r,a]=x.useState(!1),[i,s]=x.useState(!1),{onFocus:o,onBlur:l,onMouseEnter:c,onMouseLeave:d,onTouchStart:u}=t,h=x.useRef(null);x.useEffect(()=>{if("render"===e&&s(!0),"viewport"===e){let e=new IntersectionObserver(e=>{e.forEach(e=>{s(e.isIntersecting)})},{threshold:.5});return h.current&&e.observe(h.current),()=>{e.disconnect()}}},[e]),x.useEffect(()=>{if(r){let e=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(e)}}},[r]);let p=()=>{a(!0)},m=()=>{a(!1),s(!1)};return n?"intent"!==e?[i,h,{}]:[i,h,{onFocus:Qe(o,p),onBlur:Qe(l,m),onMouseEnter:Qe(c,p),onMouseLeave:Qe(d,m),onTouchStart:Qe(u,p)}]:[!1,h,{}]}(n,u),j=function(e,{target:t,replace:n,state:r,preventScrollReset:a,relative:i,viewTransition:s}={}){let o=je(),l=ye(),c=Se(e,{relative:i});return x.useCallback(d=>{if(function(e,t){return!(0!==e.button||t&&"_self"!==t||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e))}(d,t)){d.preventDefault();let t=void 0!==n?n:H(l)===H(c);o(e,{replace:t,state:r,preventScrollReset:a,relative:i,viewTransition:s})}},[l,o,c,n,r,t,e,a,i,s])}(l,{replace:i,state:s,target:o,preventScrollReset:c,relative:r,viewTransition:d}),N=x.createElement("a",{...u,...w,href:p||b,onClick:g||a?e:function(t){e&&e(t),t.defaultPrevented||j(t)},ref:tt(h,v),target:o,"data-discover":f||"render"!==t?void 0:"true"});return y&&!f?x.createElement(x.Fragment,null,N,x.createElement(Ze,{page:b})):N});function st(e){let t=x.useContext(ue);return L(t,function(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}(e)),t}it.displayName="Link",x.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:n="",end:r=!1,style:a,to:i,viewTransition:s,children:o,...l},c){let d=Se(i,{relative:l.relative}),u=ye(),h=x.useContext(he),{navigator:p,basename:m}=x.useContext(me),f=null!=h&&function(e,{relative:t}={}){let n=x.useContext(pe);L(null!=n,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=st("useViewTransitionState"),a=Se(e,{relative:t});if(!n.isTransitioning)return!1;let i=te(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=te(n.nextLocation.pathname,r)||n.nextLocation.pathname;return null!=Z(a.pathname,s)||null!=Z(a.pathname,i)}(d)&&!0===s,g=p.encodeLocation?p.encodeLocation(d).pathname:d.pathname,b=u.pathname,y=h&&h.navigation&&h.navigation.location?h.navigation.location.pathname:null;t||(b=b.toLowerCase(),y=y?y.toLowerCase():null,g=g.toLowerCase()),y&&m&&(y=te(y,m)||y);const v="/"!==g&&g.endsWith("/")?g.length-1:g.length;let w,j=b===g||!r&&b.startsWith(g)&&"/"===b.charAt(v),N=null!=y&&(y===g||!r&&y.startsWith(g)&&"/"===y.charAt(g.length)),k={isActive:j,isPending:N,isTransitioning:f},S=j?e:void 0;w="function"==typeof n?n(k):[n,j?"active":null,N?"pending":null,f?"transitioning":null].filter(Boolean).join(" ");let C="function"==typeof a?a(k):a;return x.createElement(it,{...l,"aria-current":S,className:w,ref:c,style:C,to:i,viewTransition:s},"function"==typeof o?o(k):o)}).displayName="NavLink",x.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:a,state:i,method:s=ze,action:o,onSubmit:l,relative:c,preventScrollReset:d,viewTransition:u,...h},p)=>{let m=function(){let{router:e}=st("useSubmit"),{basename:t}=x.useContext(me),n=Me("useRouteId");return x.useCallback(async(r,a={})=>{let{action:i,method:s,encType:o,formData:l,body:c}=function(e,t){let n,r,a,i,s;if(We(o=e)&&"form"===o.tagName.toLowerCase()){let s=e.getAttribute("action");r=s?te(s,t):null,n=e.getAttribute("method")||ze,a=Ve(e.getAttribute("enctype"))||Be,i=new FormData(e)}else if(function(e){return We(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return We(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let s=e.form;if(null==s)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let o=e.getAttribute("formaction")||s.getAttribute("action");if(r=o?te(o,t):null,n=e.getAttribute("formmethod")||s.getAttribute("method")||ze,a=Ve(e.getAttribute("formenctype"))||Ve(s.getAttribute("enctype"))||Be,i=new FormData(s,e),!function(){if(null===$e)try{new FormData(document.createElement("form"),0),$e=!1}catch(Ew){$e=!0}return $e}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?`${t}.`:"";i.append(`${e}x`,"0"),i.append(`${e}y`,"0")}else t&&i.append(t,r)}}else{if(We(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ze,r=null,a=Be,s=e}var o;return i&&"text/plain"===a&&(s=i,i=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:i,body:s}}(r,t);if(!1===a.navigate){let t=a.fetcherKey||lt();await e.fetch(t,n,a.action||i,{preventScrollReset:a.preventScrollReset,formData:l,body:c,formMethod:a.method||s,formEncType:a.encType||o,flushSync:a.flushSync})}else await e.navigate(a.action||i,{preventScrollReset:a.preventScrollReset,formData:l,body:c,formMethod:a.method||s,formEncType:a.encType||o,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,t,n])}(),f=function(e,{relative:t}={}){let{basename:n}=x.useContext(me),r=x.useContext(ge);L(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),i={...Se(e||".",{relative:t})},s=ye();if(null==e){i.search=s.search;let e=new URLSearchParams(i.search),t=e.getAll("index");if(t.some(e=>""===e)){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let n=e.toString();i.search=n?`?${n}`:""}}return e&&"."!==e||!a.route.index||(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),"/"!==n&&(i.pathname="/"===i.pathname?n:ie([n,i.pathname])),H(i)}(o,{relative:c}),g="get"===s.toLowerCase()?"get":"post",b="string"==typeof o&&at.test(o);return x.createElement("form",{ref:p,method:g,action:f,onSubmit:r?l:e=>{if(l&&l(e),e.defaultPrevented)return;e.preventDefault();let r=e.nativeEvent.submitter,o=(null==r?void 0:r.getAttribute("formmethod"))||s;m(r||e.currentTarget,{fetcherKey:t,method:o,navigate:n,replace:a,state:i,relative:c,preventScrollReset:d,viewTransition:u})},...h,"data-discover":b||"render"!==e?void 0:"true"})}).displayName="Form";var ot=0,lt=()=>`__${String(++ot)}__`,ct=M();const dt=i(ct),ut=e=>({1:"view_dashboard",2:"edit_dashboard",3:"view_assets",4:"create_assets",5:"edit_assets",6:"delete_assets",7:"view_workorders",8:"create_workorders",9:"assign_workorders",10:"complete_workorders",11:"view_reports",12:"export_reports",13:"view_settings",14:"edit_settings",15:"view_permissions",16:"edit_permissions",17:"manage_users",18:"edit_workorders",19:"delete_workorders",20:"create_reports",21:"edit_reports",22:"delete_reports",23:"view_inventory",24:"create_inventory",25:"edit_inventory",26:"delete_inventory",27:"view_teams",28:"create_teams",29:"edit_teams",30:"delete_teams",31:"view_machinehistory",32:"create_machine_history",33:"edit_machinehistory",34:"delete_machinehistory"}[e]||null),ht=n(),pt=x.createContext(null),mt=e=>{var t,n;const r=e.department?{id:e.department.id,name:e.department.name,head_id:e.department.head_id,head:e.department.head?{id:e.department.head.id,name:e.department.head.name,email:e.department.head.email}:null}:null;return{id:String(e.id),name:e.name,nik:e.nik,email:e.email,roleId:e.role_id?String(e.role_id):null,role:e.role,customPermissions:e.customPermissions||[],permissions:e.permissions||e.allPermissions||[],department:r,department_id:e.department_id||(null==(t=e.department)?void 0:t.id)||null,department_name:(null==(n=e.department)?void 0:n.name)||null}},ft=({children:e})=>{const[t,n]=x.useState(null),[r,a]=x.useState(null),[i,s]=x.useState(!1),[o,l]=x.useState(null),[c,d]=x.useState(!0),[u,p]=x.useState(!0),[m,f]=x.useState(null),g=je(),b=x.useRef(!1),y=x.useCallback(async()=>{s(!0);try{const e=r||localStorage.getItem("token");e&&await fetch(`${ht.envVariables.VITE_REACT_API_URL}/logout`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`}})}finally{localStorage.removeItem("token"),localStorage.removeItem("refreshToken"),localStorage.removeItem("user"),a(null),n(null),l(null),s(!1),g("/login")}},[r,g]),v=x.useCallback(async()=>{if(b.current)return new Promise(e=>{const t=setInterval(()=>{b.current||(clearInterval(t),e(localStorage.getItem("token")))},100)});b.current=!0;const e=localStorage.getItem("refreshToken");if(!e)return await y(),null;try{const t=await fetch(`${ht.envVariables.VITE_REACT_API_URL}/refresh-token`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({refresh_token:e})});if(!t.ok){if(401===t.status)return await y(),null;throw new Error("Token refresh failed")}const r=await t.json(),i=r.access_token,s=r.refresh_token||e;return localStorage.setItem("token",i),localStorage.setItem("refreshToken",s),a(i),n(e=>e?{...e,access_token:i,refresh_token:s}:null),i}catch(t){return await y(),null}finally{b.current=!1}},[y]),w=x.useCallback(async(e,t={})=>{let n=r||localStorage.getItem("token");const a=async n=>{var r;if(!n)throw new Error("No token found");const a=new Headers(t.headers||{});t.body instanceof FormData||!(null==(r=a.get("Content-Type"))?void 0:r.includes("application/json"))&&a.has("Content-Type")||a.set("Content-Type","application/json"),a.set("Authorization",`Bearer ${n}`);const i=await fetch(`${ht.envVariables.VITE_REACT_API_URL}${e}`,{...t,headers:a});if(204===i.status||"No Content"===i.statusText)return null;if(!i.ok){let e;try{e=await i.json()}catch(Ew){e=await i.text()}throw new Error(e.message||`HTTP error! Status: ${i.status}`)}let s;try{return s=await i.text(),s?JSON.parse(s):null}catch(Ew){return s}};try{return await a(n)}catch(i){if(i instanceof Error&&i.message.includes("status: 401")){const e=await v();if(e)return await a(e)}throw i}},[r,v]),j=x.useCallback(async()=>{const e=await w("/user/profile?includes_trashed=true"),t=mt(e);return n(t),localStorage.setItem("user",JSON.stringify(t)),t},[w]),N=x.useCallback(async()=>{const e=localStorage.getItem("token"),t=localStorage.getItem("user"),r=localStorage.getItem("refreshToken");if(e&&r){a(e);try{if(t){const e=JSON.parse(t);n(mt(e))}const e=await j();n(e)}catch(i){await y()}}},[j,y]),k=x.useCallback(async()=>{const[e,t,n,r,a,i,s,o,l]=await Promise.all([w("/mesin?includes_trashed=true"),w("/group?includes_trashed=true"),w("/shift?includes_trashed=true"),w("/unit?includes_trashed=true"),w("/unitsp?includes_trashed=true"),w("/itemtrouble?includes_trashed=true"),w("/jenisaktifitas?includes_trashed=true"),w("/kegiatan?includes_trashed=true"),w("/stoptime?includes_trashed=true")]);return{mesin:e,shifts:n,groups:t,stoptimes:l,units:r,itemtroubles:i,jenisaktivitas:s,kegiatans:o,unitspareparts:a}},[w]),S=x.useCallback(async()=>{try{return await w("/erp?includes_trashed=true",{method:"GET"})}catch(e){throw e}},[w]),C=x.useCallback(async e=>{const t=`<?xml version="1.0" encoding="utf-8"?>\n      <soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" \n                    xmlns:tem="http://tempuri.org/" \n                    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" \n                    xmlns:xsd="http://www.w3.org/2001/XMLSchema">\n          <soap:Body>\n              <AddAsset xmlns="http://tempuri.org/">\n                  <asset>\n                      <Name>${e.name}</Name>\n                      <Category>${e.category}</Category>\n                      <Location>${e.location}</Location>\n                      <PurchaseDate>${e.purchase_date}</PurchaseDate>\n                      <Description>${e.description}</Description>\n                      <Type>${e.type||""}</Type>\n                      <Make>${e.make||""}</Make>\n                      <Model>${e.model||""}</Model>\n                      <Status>${e.status||""}</Status>\n                      <LastMaintenance ${e.last_maintenance?"":'xsi:nil="true"'}>${e.last_maintenance||""}</LastMaintenance>\n                      <NextMaintenance>${e.next_maintenance||""}</NextMaintenance>\n                      <WorkOrders>${e.work_orders||""}</WorkOrders>\n                      <Health>${e.health||""}</Health>\n                  </asset>\n              </AddAsset>\n          </soap:Body>\n      </soap:Envelope>`;try{const e=await w("/erp-endpoint?includes_trashed=true",{method:"POST",headers:{"Content-Type":"text/xml; charset=utf-8",SOAPAction:"http://tempuri.org/AddAsset"},body:t});if("string"==typeof e&&e.includes("<soap:Fault>"))throw new Error("SOAP Fault detected in response.");return e}catch(n){throw n}},[w]),_=x.useCallback(async e=>{const t=`<?xml version="1.0" encoding="utf-8"?>\n      <soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">\n        <soap:Body>\n          <EditAsset xmlns="http://tempuri.org/ERPService/AssetManagement">\n            <assetId>${e.id}</assetId>\n            <assetName>${e.name}</assetName>\n            <assetCategory>${e.category}</assetCategory>\n            <assetLocation>${e.location}</assetLocation>\n            <purchaseDate>${e.purchase_date}</purchaseDate>\n            <description>${e.description}</description>\n            <assetType>${e.type||""}</assetType>\n            <assetMake>${e.make||""}</assetMake>\n            <assetModel>${e.model||""}</assetModel>\n            <assetStatus>${e.status||""}</assetStatus>\n            <lastMaintenance>${e.last_maintenance||""}</lastMaintenance>\n            <nextMaintenance>${e.next_maintenance||""}</nextMaintenance>\n            <workOrders>${e.work_orders||""}</workOrders>\n            <health>${e.health||""}</health>\n          </EditAsset>\n        </soap:Body>\n      </soap:Envelope>`;try{const e=await w("/erp-endpoint?includes_trashed=true",{method:"POST",headers:{"Content-Type":"text/xml; charset=utf-8",SOAPAction:"http://tempuri.org/EditAsset"},body:t});if("string"==typeof e&&e.includes("<soap:Fault>"))throw new Error("SOAP Fault detected in response.");return e}catch(n){throw n}},[w]),A=x.useCallback(async e=>{const t=`<?xml version="1.0" encoding="utf-8"?>\n        <soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" \n               xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" \n               xmlns:xsd="http://www.w3.org/2001/XMLSchema">\n          <soap:Body>\n            <DeleteAsset xmlns="http://tempuri.org/ERPService/AssetManagement">\n             <assetId>${e}</assetId>\n            </DeleteAsset>\n          </soap:Body>\n        </soap:Envelope>`;try{const e=await w("/erp-endpoint?includes_trashed=true",{method:"POST",headers:{"Content-Type":"text/xml; charset=utf-8",SOAPAction:"http://tempuri.org/DeleteAsset"},body:t});if("string"==typeof e&&e.includes("<soap:Fault>"))throw new Error("SOAP Fault detected in response.");return e}catch(n){throw n}},[w]),T=x.useCallback(async()=>{try{const e=await w("/history?includes_trashed=true");return e&&e.history&&Array.isArray(e.history)?e.history:Array.isArray(e)?e:e&&Array.isArray(e.data)?e.data:[]}catch(e){return[]}},[w]),O=x.useCallback(e=>{var n;if(!t)return!1;if("3"===t.roleId)return!0;if(Array.isArray(e))return e.some(e=>{var n;const r=/^\d+$/.test(e)?ut(e):e;return!!r&&(null==(n=t.permissions)?void 0:n.includes(r))});const r=/^\d+$/.test(e)?ut(e):e;return r&&(null==(n=t.permissions)?void 0:n.includes(r))||!1},[t]);x.useEffect(()=>{(async()=>{p(!0);try{if(await N(),r){const e=await k();l(e)}}catch(e){await y()}finally{p(!1),d(!1)}})()},[r,N,k,y]);const E=x.useCallback(async(e,t)=>{p(!0);try{const i=await fetch(`${ht.envVariables.VITE_REACT_API_URL}/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({nik:e,password:t})});if(!i.ok){const e=await i.json();throw new Error(e.message||"Login failed")}const s=await i.json(),o=mt({...s.user,access_token:s.access_token,refresh_token:s.refresh_token,permissions:s.user.permissions||s.user.allPermissions||[]});localStorage.setItem("token",s.access_token),localStorage.setItem("refreshToken",s.refresh_token),localStorage.setItem("user",JSON.stringify(o)),a(s.access_token),n(o);try{const e=await k();l(e)}catch(r){}g("/dashboard")}catch(r){throw r}finally{p(!1)}},[g,k]),M=x.useCallback(async e=>await w("/mhs?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),[w]),P=x.useCallback(async(e="")=>{try{const t=await w(e?`/mhs?search=${encodeURIComponent(e)}?includes_trashed=true`:"/mhs?includes_trashed=true"),n=await k(),r=t.data||t;if(!Array.isArray(r))throw new Error("Invalid response format");return r.map(e=>function(e,t){var n,r,a,i,s,o,l,c,d,u,h,p,m,f,g,x,b,y,v,w,j,N,k,S,C,_,A,T,O,E,M,P,D,L;const I=(null==(n=e.stoptime)?void 0:n.name)||(null==(a=null==(r=null==t?void 0:t.stoptimes)?void 0:r.data.find(t=>String(t.id)===String(e.stoptime_id)))?void 0:a.name)||"-";(null==(i=e.itemtrouble)?void 0:i.name)||null==(o=null==(s=null==t?void 0:t.itemtroubles)?void 0:s.data.find(t=>String(t.id)===String(e.itemtrouble_id)))||o.name,(null==(l=e.jenisaktifitas)?void 0:l.name)||null==(d=null==(c=null==t?void 0:t.jenisaktivitas)?void 0:c.data.find(t=>String(t.id)===String(e.jenisaktifitas_id)))||d.name,(null==(u=e.kegiatan)?void 0:u.name)||null==(p=null==(h=null==t?void 0:t.kegiatans)?void 0:h.data.find(t=>String(t.id)===String(e.kegiatan_id)))||p.name;const R=(null==(m=e.unitsp)?void 0:m.name)||(null==(g=null==(f=null==t?void 0:t.unitspareparts)?void 0:f.data.find(t=>String(t.id)===String(e.unitsp_id)))?void 0:g.name)||"-";return{id:String(e.id),date:e.date,shift:(null==(x=e.shift)?void 0:x.name)||"-",group:(null==(b=e.group)?void 0:b.name)||"-",unit:(null==(y=e.unit)?void 0:y.name)||"-",mesin:(null==(v=e.mesin)?void 0:v.name)||"-",stopJam:null!=(j=null==(w=e.startstop)?void 0:w.stop_time_hh)?j:null,stopMenit:null!=(k=null==(N=e.startstop)?void 0:N.stop_time_mm)?k:null,startJam:null!=(C=null==(S=e.startstop)?void 0:S.start_time_hh)?C:null,startMenit:null!=(A=null==(_=e.startstop)?void 0:_.start_time_mm)?A:null,stopTime:I,runningHour:null!=(T=e.running_hour)?T:0,itemTrouble:(null==(O=e.itemtrouble)?void 0:O.name)||"-",jenisGangguan:e.jenis_gangguan||"",bentukTindakan:e.bentuk_tindakan||"",perbaikanPerawatan:"Perbaikan"===(null==(E=e.jenisaktifitas)?void 0:E.name)?"Perbaikan":"Perawatan",rootCause:e.root_cause||"",jenisAktivitas:(null==(M=e.jenisaktifitas)?void 0:M.name)||"-",kegiatan:(null==(P=e.kegiatan)?void 0:P.name)||"-",kodePart:e.kode_part||"",sparePart:e.spare_part||"",idPart:e.id_part||"",jumlah:null!=(D=e.jumlah)?D:0,unitSparePart:R,startstop:null!=(L=e.startstop)?L:null}}(e,n))}catch(t){return[]}},[w,k]),D=x.useCallback(async e=>await w(`/mhs/${e}?includes_trashed=true`),[w]),L=x.useCallback(async(e,t)=>await w(`/mhs/${e}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),[w]),I=x.useCallback(async e=>await w(`/mhs/${e}?includes_trashed=true`,{method:"DELETE"}),[w]),R=x.useCallback(async(e,t)=>{const n=new FormData;return Object.keys(e).forEach(t=>{const r=e[t];null!=r&&n.append(t,String(r))}),t&&n.append("attachment",t),await w("/ayam?includes_trashed=true",{method:"POST",body:n})},[w]),F=x.useCallback(async()=>{try{const e=await w("/ayam?includes_trashed=true");return e&&!0===e.success&&Array.isArray(e.data)?e.data:Array.isArray(e)?e:e&&Array.isArray(e.data)?e.data:[]}catch(e){return[]}},[w]),H=x.useCallback(async e=>await w(`/ayam/${e}?includes_trashed=true`,{method:"GET"}),[w]),z=x.useCallback(async(e,t)=>{if(!e.id)throw new Error("Work order ID is required for update.");const n=new FormData;return n.append("_method","PUT"),Object.keys(e).forEach(t=>{const r=e[t];null!=r&&n.append(t,String(r))}),t&&n.append("attachment",t),await w(`/ayam/${e.id}?includes_trashed=true`,{method:"POST",body:n})},[w]),B=x.useCallback(async e=>await w(`/ayam/${e}?includes_trashed=true`,{method:"DELETE"}),[w]),W=x.useCallback(async e=>(await F()).filter(t=>!(t.requester_id!==parseInt(e)&&t.assigned_to_id!==parseInt(e)||"New"!==t.handling_status&&"Progress"!==t.handling_status)),[F]),$=x.useCallback(async(e,t)=>{await w("/user/password-update?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({current_password:e,new_password:t,new_password_confirmation:t})})},[w]),U=x.useCallback(async()=>{try{const e=await w("/users?includes_trashed=true");let t;return t=e&&void 0!==e.success?e.data||[]:Array.isArray(e)?e:[],t.map(e=>mt(e))}catch(e){return[]}},[w]);x.useCallback(async e=>{const t=await w(`/users/${e}?includes_trashed=true`);return mt(t)},[w]);const V=x.useCallback(async()=>(await w("/user/profile?includes_trashed=true")).map(e=>mt(e)),[w]),q=x.useCallback(async()=>(await w("/roles?includes_trashed=true")).map(e=>({id:String(e.id),name:e.name,description:e.description||`${e.name} role`,permissions:e.permissions.map(String),isSuperadmin:"superadmin"===e.name})),[w]),G=x.useCallback(async e=>{const t=await w("/roles?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e.name,description:e.description,permissions:e.permissions.map(Number)})});return{id:String(t.id),name:t.name,description:t.description,permissions:t.permissions.map(String)}},[w]),Y=x.useCallback(async(e,t)=>{var n;const r=await w(`/roles/${e}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t.name,description:t.description,permissions:null==(n=t.permissions)?void 0:n.map(Number)})});return{id:String(r.id),name:r.name,description:r.description,permissions:r.permissions.map(String)}},[w]),K=x.useCallback(async e=>{await w(`/roles/${e}?includes_trashed=true`,{method:"DELETE"})},[w]),J=x.useCallback(async(e,t)=>{const n=await w(`/users/${e}?includes_trashed=true`),r=await w(`/users/${e}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:n.name,nik:n.nik,email:n.email,department:n.department,roleId:t.roleId||null,customPermissions:t.customPermissions||[]})});return mt(r)},[w]),X=x.useCallback(async e=>{await w(`/users/${e}?includes_trashed=true`,{method:"DELETE"})},[w]),Q=x.useCallback(async()=>{try{return(await w("/service-groups?includes_trashed=true")).data||[]}catch(e){return[]}},[w]),Z=x.useCallback(async e=>{try{return(await w(`/service-groups/${e}?includes_trashed=true`)).data}catch(t){throw t}},[w]),ee=x.useCallback(async e=>{try{const t=await w("/service-groups?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t)throw new Error("No response from server");if(!1===t.success)throw new Error(t.message||"Failed to create service group");const n=t.data||t;return{id:n.id,group_name:n.group_name,group_description:n.group_description}}catch(t){throw new Error(`Failed to add service group: ${t instanceof Error?t.message:String(t)}`)}},[w]),te=x.useCallback(async(e,t)=>{try{const n=await w(`/service-groups/${e}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),r=n.data||n;return{id:r.id,group_name:r.group_name,group_description:r.group_description}}catch(n){throw new Error(`Failed to update service group: ${n instanceof Error?n.message:String(n)}`)}},[w]),ne=x.useCallback(async e=>{try{await w(`/service-groups/${e}?includes_trashed=true`,{method:"DELETE"})}catch(t){throw new Error(`Failed to delete service group: ${t instanceof Error?t.message:String(t)}`)}},[w]),re=x.useCallback(async e=>{try{const e=await w("/service-catalogues?includes_trashed=true");let t;return t=e&&e.data&&Array.isArray(e.data)?e.data:Array.isArray(e)?e:[],t}catch(t){return[]}},[w]),ae=x.useCallback(async e=>{try{const t=await w(`/service-catalogues?owner=${e}&includes_trashed=true`);return t.data||t}catch(t){return[]}},[w]),ie=x.useCallback(async e=>{try{const t=await w("/service-catalogues",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),n=t.data||t;return{id:n.id,service_name:n.service_name,service_description:n.service_description,service_group:n.service_group,priority:n.priority,service_owner:n.service_owner,sla:n.sla,impact:n.impact,created_at:n.created_at,updated_at:n.updated_at}}catch(t){throw new Error(`Failed to add service catalogue: ${t instanceof Error?t.message:String(t)}`)}},[w]),se=x.useCallback(async(e,t)=>{try{const n=await w(`/service-catalogues/${e}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),r=n.data||n;return{id:r.id,service_name:r.service_name,service_description:r.service_description,service_group:r.service_group,priority:r.priority,service_owner:r.service_owner,sla:r.sla,impact:r.impact,created_at:r.created_at,updated_at:r.updated_at}}catch(n){throw new Error(`Failed to update service catalogue: ${n instanceof Error?n.message:String(n)}`)}},[w]),oe=x.useCallback(async e=>{try{await w(`/service-catalogues/${e}?includes_trashed=true`,{method:"DELETE"})}catch(t){throw new Error(`Failed to delete service catalogue: ${t instanceof Error?t.message:String(t)}`)}},[w]),le=x.useCallback(e=>{f(e)},[]),ce=x.useCallback(async()=>{try{const e=await w("/department?includes_trashed=true");return e.data||e}catch(e){return[]}},[w]),de=x.useCallback(async e=>(await w(`/department/${e}?includes_trashed=true`)).data,[w]),ue=x.useCallback(async e=>await w("/department?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),[w]),he=x.useCallback(async(e,t)=>{try{const n=await w(`/department/${e}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),r=n.data||n;return{id:r.id,name:r.name,head_id:r.head_id}}catch(n){throw new Error(`Failed to update service group: ${n instanceof Error?n.message:String(n)}`)}},[w]),pe=x.useCallback(async e=>{try{await w(`/department/${e}?includes_trashed=true`,{method:"DELETE"})}catch(t){throw new Error(`Failed to delete service catalogue: ${t instanceof Error?t.message:String(t)}`)}},[w]),me=x.useCallback(async()=>{try{const e=await w("/stoptime?includes_trashed=true");return Array.isArray(e)?e:e&&Array.isArray(e.data)?e.data:[]}catch(e){return[]}},[w]),fe=x.useCallback(async e=>{try{const t=await w(`/stoptime/${e}`);if(t&&"object"==typeof t)return t.data?t.data:t;throw new Error("Invalid response format")}catch(t){throw new Error(`Failed to fetch stop time: ${t instanceof Error?t.message:String(t)}`)}},[w]),ge=x.useCallback(async e=>{try{return await w("/stoptime?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}catch(t){throw new Error(`Failed to add stop time: ${t instanceof Error?t.message:String(t)}`)}},[w]),xe=x.useCallback(async(e,t)=>{try{const n=await w(`/stoptime/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(n&&"object"==typeof n)return n.data?n.data:n;throw new Error("Invalid response format")}catch(n){throw new Error(`Failed to update stop time: ${n instanceof Error?n.message:String(n)}`)}},[w]),be=x.useCallback(async e=>{try{await w(`/stoptime/${e}?includes_trashed=true`,{method:"DELETE"})}catch(t){throw new Error(`Failed to delete stop time: ${t instanceof Error?t.message:String(t)}`)}},[w]),ye=x.useCallback(async()=>{try{const e=await w("/jenisaktifitas?includes_trashed=true");return Array.isArray(e)?e:e&&Array.isArray(e.data)?e.data:[]}catch(e){return[]}},[w]),ve=x.useCallback(async e=>{try{const t=await w(`/jenisaktifitas/${e}`);if(t&&"object"==typeof t)return t.data?t.data:t;throw new Error("Invalid response format")}catch(t){throw new Error(`Failed to fetch jenis aktifitas: ${t instanceof Error?t.message:String(t)}`)}},[w]),we=x.useCallback(async e=>{try{return await w("/jenisaktifitas?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}catch(t){throw new Error(`Failed to add jenis aktifitas: ${t instanceof Error?t.message:String(t)}`)}},[w]),Ne=x.useCallback(async(e,t)=>{try{const n=await w(`/jenisaktifitas/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(n&&"object"==typeof n)return n.data?n.data:n;throw new Error("Invalid response format")}catch(n){throw new Error(`Failed to update jenis aktifitas: ${n instanceof Error?n.message:String(n)}`)}},[w]),ke=x.useCallback(async e=>{try{await w(`/jenisaktifitas/${e}?includes_trashed=true`,{method:"DELETE"})}catch(t){throw new Error(`Failed to delete jenis aktifitas: ${t instanceof Error?t.message:String(t)}`)}},[w]),Se=x.useCallback(async()=>{try{const e=await w("/kegiatan?includes_trashed=true");return Array.isArray(e)?e:e&&Array.isArray(e.data)?e.data:[]}catch(e){return[]}},[w]),Ce=x.useCallback(async e=>{try{const t=await w(`/kegiatan/${e}?includes_trashed=true`);if(t&&"object"==typeof t)return t.data?t.data:t;throw new Error("Invalid response format")}catch(t){throw new Error(`Failed to fetch activity: ${t instanceof Error?t.message:String(t)}`)}},[w]),_e=x.useCallback(async e=>{try{return await w("/kegiatan?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}catch(t){throw new Error(`Failed to add activity: ${t instanceof Error?t.message:String(t)}`)}},[w]),Ae=x.useCallback(async(e,t)=>{try{const n=await w(`/kegiatan/${e}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(n&&"object"==typeof n)return n.data?n.data:n;throw new Error("Invalid response format")}catch(n){throw new Error(`Failed to update activity: ${n instanceof Error?n.message:String(n)}`)}},[w]),Te=x.useCallback(async e=>{try{await w(`/kegiatan/${e}?includes_trashed=true`,{method:"DELETE"})}catch(t){throw new Error(`Failed to delete activity: ${t instanceof Error?t.message:String(t)}`)}},[w]),Oe=x.useCallback(async()=>{try{const e=await w("/itemtrouble?includes_trashed=true");return Array.isArray(e)?e:e&&Array.isArray(e.data)?e.data:[]}catch(e){return[]}},[w]),Ee=x.useCallback(async e=>{try{const t=await w(`/itemtrouble/${e}?includes_trashed=true`);if(t&&"object"==typeof t)return t.data?t.data:t;throw new Error("Invalid response format")}catch(t){throw new Error(`Failed to fetch trouble item: ${t instanceof Error?t.message:String(t)}`)}},[w]),Me=x.useCallback(async e=>{try{return await w("/itemtrouble?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}catch(t){throw new Error(`Failed to add trouble item: ${t instanceof Error?t.message:String(t)}`)}},[w]),Pe=x.useCallback(async(e,t)=>{try{const n=await w(`/itemtrouble/${e}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(n&&"object"==typeof n)return n.data?n.data:n;throw new Error("Invalid response format")}catch(n){throw new Error(`Failed to update trouble item: ${n instanceof Error?n.message:String(n)}`)}},[w]),De=x.useCallback(async e=>{try{await w(`/itemtrouble/${e}?includes_trashed=true`,{method:"DELETE"})}catch(t){throw new Error(`Failed to delete trouble item: ${t instanceof Error?t.message:String(t)}`)}},[w]),Le=x.useCallback(async()=>{try{const e=await w("/unit?includes_trashed=true");return Array.isArray(e)?e:e&&Array.isArray(e.data)?e.data:[]}catch(e){return[]}},[w]),Ie=x.useCallback(async e=>{try{const t=await w(`/unit/${e}?includes_trashed=true`);if(t&&"object"==typeof t)return t.data?t.data:t;throw new Error("Invalid response format")}catch(t){throw new Error(`Failed to fetch work unit: ${t instanceof Error?t.message:String(t)}`)}},[w]),Re=x.useCallback(async e=>{try{return await w("/unit?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}catch(t){throw new Error(`Failed to add work unit: ${t instanceof Error?t.message:String(t)}`)}},[w]),Fe=x.useCallback(async(e,t)=>{try{const n=await w(`/unit/${e}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(n&&"object"==typeof n)return n.data?n.data:n;throw new Error("Invalid response format")}catch(n){throw new Error(`Failed to update work unit: ${n instanceof Error?n.message:String(n)}`)}},[w]),He=x.useCallback(async e=>{try{await w(`/unit/${e}?includes_trashed=true`,{method:"DELETE"})}catch(t){throw new Error(`Failed to delete work unit: ${t instanceof Error?t.message:String(t)}`)}},[w]),ze=x.useCallback(async()=>{try{const e=await w("/group?includes_trashed=true");return Array.isArray(e)?e:e&&Array.isArray(e.data)?e.data:[]}catch(e){return[]}},[w]),Be=x.useCallback(async e=>{try{const t=await w(`/group/${e}?includes_trashed=true`);if(t&&"object"==typeof t)return t.data?t.data:t;throw new Error("Invalid response format")}catch(t){throw new Error(`Failed to fetch work group: ${t instanceof Error?t.message:String(t)}`)}},[w]),We=x.useCallback(async e=>{try{return await w("/group?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}catch(t){throw new Error(`Failed to add work group: ${t instanceof Error?t.message:String(t)}`)}},[w]),$e=x.useCallback(async(e,t)=>{try{const n=await w(`/group/${e}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(n&&"object"==typeof n)return n.data?n.data:n;throw new Error("Invalid response format")}catch(n){throw new Error(`Failed to update work group: ${n instanceof Error?n.message:String(n)}`)}},[w]),Ue=x.useCallback(async e=>{try{await w(`/group/${e}?includes_trashed=true`,{method:"DELETE"})}catch(t){throw new Error(`Failed to delete work group: ${t instanceof Error?t.message:String(t)}`)}},[w]),Ve=x.useCallback(async()=>{try{const e=await w("/shift?includes_trashed=true");return Array.isArray(e)?e:e&&Array.isArray(e.data)?e.data:[]}catch(e){return[]}},[w]),qe=x.useCallback(async e=>{try{const t=await w(`/shift/${e}?includes_trashed=true`);if(t&&"object"==typeof t)return t.data?t.data:t;throw new Error("Invalid response format")}catch(t){throw new Error(`Failed to fetch work shift: ${t instanceof Error?t.message:String(t)}`)}},[w]),Ge=x.useCallback(async e=>{try{return await w("/shift?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}catch(t){throw new Error(`Failed to add work shift: ${t instanceof Error?t.message:String(t)}`)}},[w]),Ye=x.useCallback(async(e,t)=>{try{const n=await w(`/shift/${e}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(n&&"object"==typeof n)return n.data?n.data:n;throw new Error("Invalid response format")}catch(n){throw new Error(`Failed to update work shift: ${n instanceof Error?n.message:String(n)}`)}},[w]),Ke=x.useCallback(async e=>{try{await w(`/shift/${e}?includes_trashed=true`,{method:"DELETE"})}catch(t){throw new Error(`Failed to delete work shift: ${t instanceof Error?t.message:String(t)}`)}},[w]),Je=x.useCallback(async e=>{try{const t=await w(`/unit/${e}?includes_trashed=true`);if(t&&"object"==typeof t)return void 0!==t.success&&t.data?t.data:t;throw new Error("Invalid response format")}catch(t){throw new Error(`Failed to fetch unit: ${t instanceof Error?t.message:String(t)}`)}},[w]),Xe=x.useCallback(async e=>{try{const t=await w(`/mesin/${e}?includes_trashed=true`);if(t&&"object"==typeof t)return void 0!==t.success&&t.data?t.data:t;throw new Error("Invalid response format")}catch(t){throw new Error(`Failed to fetch mesin: ${t instanceof Error?t.message:String(t)}`)}},[w]),Qe=x.useCallback(async()=>{try{const e=await w("/unit?includes_trashed=true");let t=[];return Array.isArray(e)?t=e:e&&Array.isArray(e.data)&&(t=e.data),await Promise.all(t.map(async e=>{try{const t=await w(`/unit/${e.id}?includes_trashed=true`);let n=t;return t&&void 0!==t.success&&t.data&&(n=t.data),{id:n.id,name:n.name,created_at:n.created_at,updated_at:n.updated_at,deleted_at:n.deleted_at,mesin:n.mesin||[]}}catch(t){return{id:e.id,name:e.name,created_at:e.created_at,updated_at:e.updated_at,deleted_at:e.deleted_at,mesin:[]}}}))}catch(e){return[]}},[w]),Ze=x.useCallback(async()=>{try{const e=await w("/interval?includes_trashed=true");let t=[];Array.isArray(e)?t=e:e&&Array.isArray(e.data)&&(t=e.data);const n=await Qe(),r=await w("/mesin?includes_trashed=true");let a=[];return Array.isArray(r)?a=r:r&&Array.isArray(r.data)&&(a=r.data),{unit:n,mesin:a,unitsWithMachines:n,intervals:t}}catch(e){return{unit:[],mesin:[],unitsWithMachines:[],intervals:[]}}},[w,Qe]),et=x.useCallback(async()=>{try{const e=await w("/monitoring-schedules?includes_trashed=true");if(Array.isArray(e))return e;if(e&&void 0!==e.success){if(e.success&&Array.isArray(e.data))return e.data;if(e.success&&Array.isArray(e.result))return e.result}return e&&Array.isArray(e.data)?e.data:e&&Array.isArray(e.result)?e.result:[]}catch(e){throw new Error(`Failed to fetch monitoring schedule: ${e instanceof Error?e.message:String(e)}`)}},[w]),tt=x.useCallback(async e=>{try{const t=await w(`/monitoring-schedules/${e}?includes_trashed=true`);if(t&&void 0!==t.success){if(t.success&&t.data)return t.data;if(!t.success)throw new Error(t.message||"Failed to fetch monitoring schedule")}if(t&&t.id_monitoring_schedule)return t;if(Array.isArray(t)&&t.length>0)return t[0];throw new Error("Invalid response format")}catch(t){if(t instanceof Error){if(t.message.includes("404"))throw new Error(`Monitoring schedule with id ${e} not found`);if(t.message.includes("401"))throw new Error("Unauthorized - Please login again")}throw new Error(`Failed to fetch monitoring schedule: ${t instanceof Error?t.message:String(t)}`)}},[w]),nt=x.useCallback(async e=>{try{const t=await w("/monitoring-schedules",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t)throw new Error("No response from server");if(!1===t.success)throw new Error(t.message||"Failed to create monitoring schedule");const n=t.data||t.result||t;if(!n)throw new Error("Invalid response format");return n}catch(t){if(t instanceof Error){if(t.message.includes("401"))throw new Error("Unauthorized - Please login again");if(t.message.includes("404"))throw new Error("Endpoint not found");if(t.message.includes("500"))throw new Error("Server error - Please try again later")}throw new Error(`Failed to add monitoring schedule: ${t instanceof Error?t.message:String(t)}`)}},[w]),rt=x.useCallback(async e=>{try{const t=await w("/monitoring-activities",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return Array.isArray(t)?t:t&&Array.isArray(t.data)?t.data:[]}catch(t){throw new Error(`Failed to add monitoring activities: ${t instanceof Error?t.message:String(t)}`)}},[w]),at=x.useCallback(async e=>{try{const t=e.map(e=>({id_monitoring_activity:e.id,...e.data})),n=await w("/monitoring-activities-batch",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});return Array.isArray(n)?n:n&&Array.isArray(n.data)?n.data:[]}catch(t){throw new Error(`Failed to update monitoring activities: ${t instanceof Error?t.message:String(t)}`)}},[w]),it=x.useCallback(async e=>{try{const t=await w(`/mesin/${e}?includes_trashed=true`);return t&&void 0!==t.success?t.data:t}catch(t){throw new Error(`Failed to fetch mesin detail: ${t instanceof Error?t.message:String(t)}`)}},[w]),st=x.useCallback(async()=>{try{const e=await w("/vendor?includes_trashed=true");return e.data||e}catch(e){return[]}},[w]),ot=x.useCallback(async e=>(await w(`/vendor/${e}?includes_trashed=true`)).data,[w]),lt=x.useCallback(async e=>await w("/vendor?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),[w]),ct=x.useCallback(async(e,t)=>{try{const n=await w(`/vendor/${e}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),r=n.data||n;return{id:r.id,name:r.name,address:r.address,contact_person:r.contact_person,email:r.email,telp:r.telp,HP:r.HP}}catch(n){throw new Error(`Failed to update vendor: ${n instanceof Error?n.message:String(n)}`)}},[w]),dt=x.useCallback(async e=>{try{await w(`/vendor/${e}?includes_trashed=true`,{method:"DELETE"})}catch(t){throw new Error(`Failed to delete vendor: ${t instanceof Error?t.message:String(t)}`)}},[w]),ft=x.useCallback(async()=>{try{const e=await w("/approval-templates?includes_trashed=true");return e.data||e}catch(e){return[]}},[w]),gt=x.useCallback(async e=>await w(`/approval-templates/${e}?includes_trashed=true`),[w]),xt=x.useCallback(async e=>{const t=await w("/approval-templates?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return t.data||t},[w]),bt=x.useCallback(async(e,t)=>{const n=await w(`/approval-templates/${e}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});return n.data||n},[w]),yt=x.useCallback(async e=>{await w(`/approval-templates/${e}?includes_trashed=true`,{method:"DELETE"})},[w]),vt=x.useCallback(async(e,t)=>{const n=await w(`/approval-templates/${e}/approvers?includes_trashed=true`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});return n.data||n},[w]),wt=x.useCallback(async(e,t,n)=>{const r=await w(`/template-approvers/${t}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});return r.data||r},[w]),jt=x.useCallback(async(e,t)=>{await w(`/template-approvers/${t}?includes_trashed=true`,{method:"DELETE"})},[w]),Nt=x.useCallback(async e=>(await w(`/approval-templates/${e}?includes_trashed=true`)).approvers||[],[w]),kt=x.useCallback(async e=>{const t=await w(`/approval-templates/${e}/set-active?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"}});return t.data||t},[w]),St=x.useCallback(async(e,t)=>{const n=await w(`/schedules/${e}/approve`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({comments:t})});return n&&n.message?{success:!0,message:n.message,data:n.data||n}:n},[w]),Ct=x.useCallback(async()=>{try{const e=await w("/workarea?includes_trashed=true");return e.data||e}catch(e){return[]}},[w]),_t=x.useCallback(async e=>(await w(`/workarea/${e}?includes_trashed=true`)).data,[w]),At=x.useCallback(async e=>await w("/workarea?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),[w]),Tt=x.useCallback(async(e,t)=>{try{const n=await w(`/workarea/${e}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),r=n.data||n;return{id:r.id,work_area:r.work_area}}catch(n){throw new Error(`Failed to update work area: ${n instanceof Error?n.message:String(n)}`)}},[w]),Ot=x.useCallback(async e=>{try{await w(`/workarea/${e}?includes_trashed=true`,{method:"DELETE"})}catch(t){throw new Error(`Failed to delete work area: ${t instanceof Error?t.message:String(t)}`)}},[w]),Et=x.useCallback(async()=>{try{const e=await w("/genba-roles?includes_trashed=true");return e.data||e}catch(e){return[]}},[w]),Mt=x.useCallback(async()=>{try{const e=await w("/genba-sos?includes_trashed=true");return e.data||e}catch(e){return[]}},[w]),Pt=x.useCallback(async e=>{const t=await w(`/genba-sos/${e}?includes_trashed=true`);return t.data||t},[w]),Dt=x.useCallback(async e=>{const t=await w("/genba-sos",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return t.data||t},[w]),Lt=x.useCallback(async(e,t)=>{const n=await w(`/genba-sos/${e}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});return n.data||n},[w]),It=x.useCallback(async e=>{await w(`/genba-sos/${e}?includes_trashed=true`,{method:"DELETE"})},[w]),Rt=x.useCallback(async e=>{const t=await w(`/genba-sos/${e}/activate?includes_trashed=true`,{method:"PATCH",headers:{"Content-Type":"application/json"}});return t.data||t},[w]),Ft=x.useCallback(async()=>{try{const e=await w("/genba-work-areas?includes_trashed=true");return e.data||e}catch(e){return[]}},[w]),Ht=x.useCallback(async(e,t)=>{const n=new FormData;n.append("name",e.name),n.append("department_id",e.department_id.toString()),n.append("pic_user_id",e.pic_user_id.toString()),t&&n.append("attachment",t);try{return await w("/genba-work-areas",{method:"POST",body:n})}catch(r){throw r}},[w]),zt=x.useCallback(async(e,t,n)=>{const r=new FormData;r.append("name",t.name),r.append("department_id",t.department_id.toString()),r.append("pic_user_id",t.pic_user_id.toString()),r.append("_method","PUT"),n&&r.append("attachment",n);const a=await w(`/genba-work-areas/${e}`,{method:"POST",body:r});return a.data||a},[w]),Bt=x.useCallback(async e=>{await w(`/genba-work-areas/${e}?includes_trashed=true`,{method:"DELETE"})},[w]);return h.jsx(pt.Provider,{value:{user:t,token:r,isAuthenticated:!!r,login:E,register:async(e,t,n,r,a,i,s)=>{const o=await fetch(`${ht.envVariables.VITE_REACT_API_URL}/register?includes_trashed=true`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e,nik:n,email:t,password:r,department_id:a,role_id:i||null,customPermissions:s?s.map(Number):[]})}),l=await o.json();if(!o.ok)throw new Error(l.message||"User creation failed");return l},logout:y,isLoggingOut:i,fetchWithAuth:w,getAllMasterData:k,submitMachineHistory:M,getMachineHistories:P,getMachineHistoryById:D,updateMachineHistory:L,deleteMachineHistory:I,masterData:o,isMasterDataLoading:c,addWorkOrderIT:R,getWorkOrdersIT:F,updateWorkOrderIT:z,deleteWorkOrder:B,getWorkOrderById:H,departments:[],services:[],serviceGroups:[],getServices:re,getServicesByOwner:ae,addServiceCatalogue:ie,updateServiceCatalogue:se,deleteServiceCatalogue:oe,getServiceGroups:Q,getServiceGroup:Z,addServiceGroup:ee,updateServiceGroup:te,deleteServiceGroup:ne,changePassword:$,fetchUser:j,fetchedUsers:V,getUsers:U,hasPermission:O,setEditingUser:le,getRoles:q,createRole:G,updateRole:Y,deleteRole:K,updateUserPermissions:J,deleteUser:X,isAuthLoading:u,getAssetsData:S,addAsset:C,editAsset:_,deleteAsset:A,getWorkOrdersForUser:W,getAuditTrail:T,getDepartment:ce,getDepartmentById:de,addDepartment:ue,updateDepartment:he,deleteDepartment:pe,getMonitoringSchedules:et,addMonitoringSchedule:nt,addMonitoringActivities:rt,updateMonitoringActivity:at,getStopTimes:me,getStopTimesById:fe,addStopTimes:ge,updateStopTimes:xe,deleteStopTimes:be,getActivityTypes:ye,getActivityTypesById:ve,addActivityTypes:we,updateActivityTypes:Ne,deleteActivityTypes:ke,getActivity:Se,getActivityById:Ce,addActivity:_e,updateActivity:Ae,deleteActivity:Te,getTroubleItem:Oe,getTroubleItemById:Ee,addTroubleItem:Me,updateTroubleItem:Pe,deleteTroubleItem:De,getWorkUnit:Le,getWorkUnitById:Ie,addWorkUnit:Re,updateWorkUnit:Fe,deleteWorkUnit:He,getWorkGroup:ze,getWorkGroupById:Be,addWorkGroup:We,updateWorkGroup:$e,deleteWorkGroup:Ue,getWorkShift:Ve,getWorkShiftById:qe,addWorkShift:Ge,updateWorkShift:Ye,deleteWorkShift:Ke,getUnit:Je,getMesin:Xe,getUnitsWithMachines:Qe,getAllMasterMonitoring:Ze,getMesinDetail:it,getMonitoringScheduleById:tt,getVendor:st,getVendorById:ot,addVendor:lt,updateVendor:ct,deleteVendor:dt,getApprovalTemplates:ft,getApprovalTemplateById:gt,createApprovalTemplate:xt,updateApprovalTemplate:bt,deleteApprovalTemplate:yt,addApproverToTemplate:vt,updateApprover:wt,deleteApprover:jt,getTemplateApprovers:Nt,setApprovalTemplateActive:kt,approveSchedule:St,getWorkArea:Ct,getWorkAreaById:_t,addWorkArea:At,updateWorkArea:Tt,deleteWorkArea:Ot,getGenbaRoles:Et,getGenbaSOs:Mt,getGenbaAreas:Ft,getGenbaSOById:Pt,createGenbaSO:Dt,createGenbaAreas:Ht,updateGenbaSO:Lt,updateGenbaAreas:zt,deleteGenbaAreas:Bt,deleteGenbaSO:It,setGenbaSOActive:Rt},children:e})},gt=()=>{const e=x.useContext(pt);if(!e)throw new Error("useAuth must be used within AuthProvider");return e},xt="/assets/logo-wida-OsCBOu3a.png";var bt={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},yt=b.createContext&&b.createContext(bt),vt=["attr","size","title"];function wt(){return wt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wt.apply(this,arguments)}function jt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jt(Object(n),!0).forEach(function(t){var r,a,i,s;r=e,a=t,i=n[t],(a="symbol"==typeof(s=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(a,"string"))?s:s+"")in r?Object.defineProperty(r,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[a]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jt(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function kt(e){return e&&e.map((e,t)=>b.createElement(e.tag,Nt({key:t},e.attr),kt(e.child)))}function St(e){return t=>b.createElement(Ct,wt({attr:Nt({},e.attr)},t),kt(e.child))}function Ct(e){var t=t=>{var n,{attr:r,size:a,title:i}=e,s=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,vt),o=a||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),b.createElement("svg",wt({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,s,{className:n,style:Nt(Nt({color:e.color||t.color},t.style),e.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),i&&b.createElement("title",null,i),e.children)};return void 0!==yt?b.createElement(yt.Consumer,null,e=>t(e)):t(bt)}function _t(e){return St({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"},child:[]}]})(e)}function At(e){return St({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 19 5 12 12 5"},child:[]}]})(e)}function Tt(e){return St({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"},child:[]}]})(e)}function Ot(e){return St({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(e)}function Et(e){return St({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"18 15 12 9 6 15"},child:[]}]})(e)}function Mt(e){return St({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"},child:[]},{tag:"line",attr:{x1:"1",y1:"1",x2:"23",y2:"23"},child:[]}]})(e)}function Pt(e){return St({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(e)}function Dt(e){return St({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},child:[]},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"},child:[]}]})(e)}function Lt(e){return St({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12.01",y2:"8"},child:[]}]})(e)}function It(e){return St({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 10 0v4"},child:[]}]})(e)}function Rt(e){return St({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(e)}function Ft(e){return St({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"line",attr:{x1:"20",y1:"8",x2:"20",y2:"14"},child:[]},{tag:"line",attr:{x1:"23",y1:"11",x2:"17",y2:"11"},child:[]}]})(e)}const Ht=["Hello","Bonjour","Holla","こんにちは ","Salam","안녕하세요","Hallo","Namaste","早上好"],zt=()=>{const[e,t]=x.useState(""),[n,r]=x.useState(""),[a,i]=x.useState(!1),[s,o]=x.useState(""),[l,c]=x.useState(!1),[d,u]=x.useState(!1),[p,m]=x.useState(Ht[0]),[f,g]=x.useState(!1),{login:b}=gt(),y=je();x.useEffect(()=>{let e;u(!0);const t=setInterval(()=>{g(!0),e=window.setTimeout(()=>{m(e=>{const t=(Ht.indexOf(e)+1)%Ht.length;return Ht[t]}),g(!1)},500)},3e3);return()=>{clearInterval(t),clearTimeout(e)}},[]);const v=f?{opacity:0,transform:"translateY(-20px)"}:{opacity:1,transform:"translateY(0)"};return h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-white to-blue-50 p-4 font-sans",children:h.jsxs("div",{className:"flex flex-col lg:flex-row w-full max-w-6xl mx-auto bg-white rounded-xl shadow-lg overflow-hidden\n                    transform transition-all duration-700 ease-out "+(d?"translate-y-0 opacity-100":"translate-y-10 opacity-0"),children:[h.jsxs("div",{className:"w-full lg:w-1/2 p-6 sm:p-10 md:p-12 flex flex-col justify-center",children:[h.jsxs("div",{className:"flex items-center space-x-2 mb-8 transition-opacity duration-700 ease-out delay-200 "+(d?"opacity-100":"opacity-0"),children:[h.jsx("img",{src:xt,alt:"Logo Wida",className:"h-10 w-auto"}),h.jsx("span",{className:"text-xl font-bold text-blue-800 italic",children:"PT WIDATRA BHAKTI"})]}),h.jsx("h1",{style:{fontSize:"3rem",fontFamily:"sans-serif",transition:"opacity 0.5s ease-in-out, transform 0.5s ease-in-out",...v},className:"text-3xl font-bold transition-opacity duration-700 ease-out delay-300 "+(d?"opacity-100":"opacity-0"),children:p}),h.jsx("h1",{className:"text-5xl font-bold mb-2 transition-opacity duration-700 ease-out delay-300 font-sans",children:"Welcome Back"}),h.jsx("p",{className:"text-gray-600 mb-8 transition-opacity duration-700 ease-out delay-400 "+(d?"opacity-100":"opacity-0"),children:"Hey, welcome back to your special place"}),s&&h.jsxs("div",{role:"alert",className:"mb-6 text-sm text-red-700 bg-red-50 border border-red-100 px-4 py-3 rounded-md flex items-start animate-fade-in",children:[h.jsx("svg",{className:"w-4 h-4 mt-0.5 mr-2 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:h.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),h.jsx("span",{children:s})]}),h.jsxs("form",{onSubmit:async t=>{t.preventDefault(),o(""),c(!0);try{await b(e,n),y("/dashboard")}catch(r){o(r instanceof Error?r.message:"Login failed")}finally{c(!1)}},className:"space-y-6","aria-label":"Login Form",children:[h.jsxs("div",{className:"transition-all duration-500 ease-out delay-500 "+(d?"translate-x-0 opacity-100":"-translate-x-5 opacity-0"),children:[h.jsx("label",{htmlFor:"nik",className:"block text-sm font-medium text-gray-700 mb-1",children:"NIK"}),h.jsx("input",{id:"nik",type:"text",placeholder:"Masukkan NIK Anda (16 digit)",value:e,onChange:e=>t(e.target.value),required:!0,autoComplete:"off",className:"w-full px-4 py-3 text-base rounded-md border border-gray-300\r\n                          focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 focus:shadow-md\r\n                          transition-all duration-300 ease-in-out"})]}),h.jsxs("div",{className:"transition-all duration-500 ease-out delay-600 "+(d?"translate-x-0 opacity-100":"-translate-x-5 opacity-0"),children:[h.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),h.jsxs("div",{className:"relative",children:[h.jsx("input",{id:"password",type:a?"text":"password",placeholder:"••••••••",value:n,onChange:e=>r(e.target.value),required:!0,autoComplete:"current-password",className:"w-full px-4 py-3 text-base rounded-md border border-gray-300\r\n                            focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 focus:shadow-md\r\n                            transition-all duration-300 ease-in-out pr-10"}),h.jsx("button",{type:"button",onClick:()=>{i(!a)},className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-500 hover:text-gray-700 transition-colors duration-200","aria-label":a?"Hide password":"Show password",children:a?h.jsx(Mt,{size:18}):h.jsx(Pt,{size:18})})]}),h.jsx("div",{className:"flex justify-end mt-2",children:h.jsx("a",{href:"/forgot-password",className:"text-sm text-blue-600 hover:text-blue-800 hover:underline transition-all duration-200",children:"Forgot Password?"})})]}),h.jsxs("div",{className:"flex items-center transition-all duration-500 ease-out delay-700 "+(d?"translate-x-0 opacity-100":"-translate-x-5 opacity-0"),children:[h.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded transition-all duration-200"}),h.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-700",children:"Remember me"})]}),h.jsx("button",{type:"submit",disabled:l,className:`w-full py-3 px-4 rounded-md text-base font-medium\n                          transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\n                          ${l?"bg-blue-400 text-white cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700 active:bg-blue-800 transform hover:-translate-y-0.5"}\n                          flex items-center justify-center\n                          ${d?"translate-y-0 opacity-100 delay-800":"translate-y-5 opacity-0"}`,children:l?h.jsxs(h.Fragment,{children:[h.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[h.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),h.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Authenticating..."]}):"Sign In"})]}),h.jsxs("p",{className:"text-sm text-center mt-6 transition-opacity duration-700 ease-out delay-900 "+(d?"opacity-100":"opacity-0"),children:["Don't have an account?"," ",h.jsx(it,{to:"#",className:"text-blue-500 hover:text-blue-700 hover:underline transition-all duration-200",children:"Report to IT Department"})]}),h.jsx("div",{className:"mt-8 pt-5 border-t border-gray-100 text-center",children:h.jsxs("p",{className:"text-xs text-gray-500 transition-opacity duration-700 ease-out delay-1000 "+(d?"opacity-100":"opacity-0"),children:["© ",(new Date).getFullYear()," PT Widatra Bhakti. All rights reserved."]})})]}),h.jsxs("div",{className:"hidden lg:flex lg:w-1/2 bg-gradient-to-br from-blue-500 to-aqua-800 items-center justify-center relative p-8\n                      transform transition-all duration-700 ease-out delay-300 "+(d?"translate-x-0 opacity-100":"translate-x-10 opacity-0"),children:[h.jsx("div",{className:"absolute top-1/4 left-1/4 bg-white opacity-20 w-32 h-16 rounded-full blur-md animate-float"}),h.jsx("div",{className:"absolute bottom-1/3 right-1/4 bg-white opacity-20 w-48 h-24 rounded-full blur-md animate-float-delay"}),h.jsx("div",{className:"absolute top-8 right-8 bg-white opacity-20 w-24 h-12 rounded-full blur-md animate-float-fast"}),h.jsxs("div",{className:"relative w-64 h-96 bg-gray-800 rounded-3xl shadow-xl flex items-center justify-center p-4 transform scale-100 hover:scale-105 transition-transform duration-300 ease-in-out",children:[h.jsx("div",{className:"absolute top-0 w-16 h-2 bg-gray-700 rounded-b-lg"}),h.jsx("div",{className:"text-purple-300 animate-pulse-light",children:h.jsx("svg",{className:"w-24 h-24",fill:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:h.jsx("path",{d:"M12 1C5.925 1 1 5.925 1 12s4.925 11 11 11 11-4.925 11-11S18.075 1 12 1zm0 20c-4.963 0-9-4.037-9-9s4.037-9 9-9 9 4.037 9 9-4.037 9-9 9zM10.5 7h3v3h-3V7zm-2 2h3v3h-3V9zm4 0h3v3h-3V9zm-2 2h3v3h-3v-3zm-2 2h3v3h-3v-3zm4 0h3v3h-3v-3zm-2 2h3v3h-3v-3z"})})}),h.jsxs("div",{className:"absolute bottom-10 left-0 right-0 text-center text-white text-sm",children:[h.jsx("div",{className:"w-3/4 mx-auto bg-gray-700 rounded-full h-1 mb-2",children:h.jsx("div",{className:"bg-purple-300 h-1 rounded-full w-2/3 animate-progress-fill"})}),h.jsx("p",{children:"Please enter your fingerprint to continue"})]})]}),h.jsx("div",{className:"absolute bottom-1/4 right-1 /4 bg-white opacity-80 rounded-2xl p-6 shadow-xl transform scale-95 hover:scale-100 transition-transform duration-300 ease-in-out",children:h.jsx("svg",{className:"w-16 h-16 text-gray-800",fill:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:h.jsx("path",{d:"M12 2C9.243 2 7 4.243 7 7v4H6c-1.103 0-2 .897-2 2v7c0 1.103.897 2 2 2h12c1.103 0 2-.897 2-2v-7c0-1.103-.897-2-2-2h-1V7c0-2.757-2.243-5-5-5zm0 2c1.654 0 3 1.346 3 3v4h-6V7c0-1.654 1.346-3 3-3zM6 13h12v7H6v-7z"})})})]})]})})},Bt=x.createContext({});function Wt(e){const t=x.useRef(null);return null===t.current&&(t.current=e()),t.current}const $t="undefined"!=typeof window,Ut=$t?x.useLayoutEffect:x.useEffect,Vt=x.createContext(null);function qt(e,t){-1===e.indexOf(t)&&e.push(t)}function Gt(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Yt=(e,t,n)=>n>t?t:n<e?e:n,Kt={},Jt=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function Xt(e){return"object"==typeof e&&null!==e}const Qt=e=>/^0[^.\s]+$/u.test(e);function Zt(e){let t;return()=>(void 0===t&&(t=e()),t)}const en=e=>e,tn=(e,t)=>n=>t(e(n)),nn=(...e)=>e.reduce(tn),rn=(e,t,n)=>{const r=t-e;return 0===r?1:(n-e)/r};class an{constructor(){this.subscriptions=[]}add(e){return qt(this.subscriptions,e),()=>Gt(this.subscriptions,e)}notify(e,t,n){const r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(let a=0;a<r;a++){const r=this.subscriptions[a];r&&r(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const sn=e=>1e3*e,on=e=>e/1e3;function ln(e,t){return t?e*(1e3/t):0}const cn=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e;function dn(e,t,n,r){if(e===t&&n===r)return en;return a=>0===a||1===a?a:cn(function(e,t,n,r,a){let i,s,o=0;do{s=t+(n-t)/2,i=cn(s,r,a)-e,i>0?n=s:t=s}while(Math.abs(i)>1e-7&&++o<12);return s}(a,0,1,e,n),t,r)}const un=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,hn=e=>t=>1-e(1-t),pn=dn(.33,1.53,.69,.99),mn=hn(pn),fn=un(mn),gn=e=>(e*=2)<1?.5*mn(e):.5*(2-Math.pow(2,-10*(e-1))),xn=e=>1-Math.sin(Math.acos(e)),bn=hn(xn),yn=un(xn),vn=dn(.42,0,1,1),wn=dn(0,0,.58,1),jn=dn(.42,0,.58,1),Nn=e=>Array.isArray(e)&&"number"==typeof e[0],kn={linear:en,easeIn:vn,easeInOut:jn,easeOut:wn,circIn:xn,circInOut:yn,circOut:bn,backIn:mn,backInOut:fn,backOut:pn,anticipate:gn},Sn=e=>{if(Nn(e)){e.length;const[t,n,r,a]=e;return dn(t,n,r,a)}return"string"==typeof e?kn[e]:e},Cn=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function _n(e,t){let n=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,s=Cn.reduce((e,t)=>(e[t]=function(e){let t=new Set,n=new Set,r=!1,a=!1;const i=new WeakSet;let s={delta:0,timestamp:0,isProcessing:!1};function o(t){i.has(t)&&(l.schedule(t),e()),t(s)}const l={schedule:(e,a=!1,s=!1)=>{const o=s&&r?t:n;return a&&i.add(e),o.has(e)||o.add(e),e},cancel:e=>{n.delete(e),i.delete(e)},process:e=>{s=e,r?a=!0:(r=!0,[t,n]=[n,t],t.forEach(o),t.clear(),r=!1,a&&(a=!1,l.process(e)))}};return l}(i),e),{}),{setup:o,read:l,resolveKeyframes:c,preUpdate:d,update:u,preRender:h,render:p,postRender:m}=s,f=()=>{const i=Kt.useManualTiming?a.timestamp:performance.now();n=!1,Kt.useManualTiming||(a.delta=r?1e3/60:Math.max(Math.min(i-a.timestamp,40),1)),a.timestamp=i,a.isProcessing=!0,o.process(a),l.process(a),c.process(a),d.process(a),u.process(a),h.process(a),p.process(a),m.process(a),a.isProcessing=!1,n&&t&&(r=!1,e(f))};return{schedule:Cn.reduce((t,i)=>{const o=s[i];return t[i]=(t,i=!1,s=!1)=>(n||(n=!0,r=!0,a.isProcessing||e(f)),o.schedule(t,i,s)),t},{}),cancel:e=>{for(let t=0;t<Cn.length;t++)s[Cn[t]].cancel(e)},state:a,steps:s}}const{schedule:An,cancel:Tn,state:On,steps:En}=_n("undefined"!=typeof requestAnimationFrame?requestAnimationFrame:en,!0);let Mn;function Pn(){Mn=void 0}const Dn={now:()=>(void 0===Mn&&Dn.set(On.isProcessing||Kt.useManualTiming?On.timestamp:performance.now()),Mn),set:e=>{Mn=e,queueMicrotask(Pn)}},Ln=e=>t=>"string"==typeof t&&t.startsWith(e),In=Ln("--"),Rn=Ln("var(--"),Fn=e=>!!Rn(e)&&Hn.test(e.split("/*")[0].trim()),Hn=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,zn={test:e=>"number"==typeof e,parse:parseFloat,transform:e=>e},Bn={...zn,transform:e=>Yt(0,1,e)},Wn={...zn,default:1},$n=e=>Math.round(1e5*e)/1e5,Un=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,Vn=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,qn=(e,t)=>n=>Boolean("string"==typeof n&&Vn.test(n)&&n.startsWith(e)||t&&!function(e){return null==e}(n)&&Object.prototype.hasOwnProperty.call(n,t)),Gn=(e,t,n)=>r=>{if("string"!=typeof r)return r;const[a,i,s,o]=r.match(Un);return{[e]:parseFloat(a),[t]:parseFloat(i),[n]:parseFloat(s),alpha:void 0!==o?parseFloat(o):1}},Yn={...zn,transform:e=>Math.round((e=>Yt(0,255,e))(e))},Kn={test:qn("rgb","red"),parse:Gn("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Yn.transform(e)+", "+Yn.transform(t)+", "+Yn.transform(n)+", "+$n(Bn.transform(r))+")"},Jn={test:qn("#"),parse:function(e){let t="",n="",r="",a="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),a=e.substring(4,5),t+=t,n+=n,r+=r,a+=a),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}},transform:Kn.transform},Xn=e=>({test:t=>"string"==typeof t&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>`${t}${e}`}),Qn=Xn("deg"),Zn=Xn("%"),er=Xn("px"),tr=Xn("vh"),nr=Xn("vw"),rr=(()=>({...Zn,parse:e=>Zn.parse(e)/100,transform:e=>Zn.transform(100*e)}))(),ar={test:qn("hsl","hue"),parse:Gn("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Zn.transform($n(t))+", "+Zn.transform($n(n))+", "+$n(Bn.transform(r))+")"},ir={test:e=>Kn.test(e)||Jn.test(e)||ar.test(e),parse:e=>Kn.test(e)?Kn.parse(e):ar.test(e)?ar.parse(e):Jn.parse(e),transform:e=>"string"==typeof e?e:e.hasOwnProperty("red")?Kn.transform(e):ar.transform(e),getAnimatableNone:e=>{const t=ir.parse(e);return t.alpha=0,ir.transform(t)}},sr=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,or="number",lr="color",cr=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function dr(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},a=[];let i=0;const s=t.replace(cr,e=>(ir.test(e)?(r.color.push(i),a.push(lr),n.push(ir.parse(e))):e.startsWith("var(")?(r.var.push(i),a.push("var"),n.push(e)):(r.number.push(i),a.push(or),n.push(parseFloat(e))),++i,"${}")).split("${}");return{values:n,split:s,indexes:r,types:a}}function ur(e){return dr(e).values}function hr(e){const{split:t,types:n}=dr(e),r=t.length;return e=>{let a="";for(let i=0;i<r;i++)if(a+=t[i],void 0!==e[i]){const t=n[i];a+=t===or?$n(e[i]):t===lr?ir.transform(e[i]):e[i]}return a}}const pr=e=>"number"==typeof e?0:ir.test(e)?ir.getAnimatableNone(e):e,mr={test:function(e){var t,n;return isNaN(e)&&"string"==typeof e&&((null==(t=e.match(Un))?void 0:t.length)||0)+((null==(n=e.match(sr))?void 0:n.length)||0)>0},parse:ur,createTransformer:hr,getAnimatableNone:function(e){const t=ur(e);return hr(e)(t.map(pr))}};function fr(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function gr(e,t){return n=>n>0?t:e}const xr=(e,t,n)=>e+(t-e)*n,br=(e,t,n)=>{const r=e*e,a=n*(t*t-r)+r;return a<0?0:Math.sqrt(a)},yr=[Jn,Kn,ar];function vr(e){const t=(n=e,yr.find(e=>e.test(n)));var n;if(!Boolean(t))return!1;let r=t.parse(e);return t===ar&&(r=function({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,n/=100;let a=0,i=0,s=0;if(t/=100){const r=n<.5?n*(1+t):n+t-n*t,o=2*n-r;a=fr(o,r,e+1/3),i=fr(o,r,e),s=fr(o,r,e-1/3)}else a=i=s=n;return{red:Math.round(255*a),green:Math.round(255*i),blue:Math.round(255*s),alpha:r}}(r)),r}const wr=(e,t)=>{const n=vr(e),r=vr(t);if(!n||!r)return gr(e,t);const a={...n};return e=>(a.red=br(n.red,r.red,e),a.green=br(n.green,r.green,e),a.blue=br(n.blue,r.blue,e),a.alpha=xr(n.alpha,r.alpha,e),Kn.transform(a))},jr=new Set(["none","hidden"]);function Nr(e,t){return n=>xr(e,t,n)}function kr(e){return"number"==typeof e?Nr:"string"==typeof e?Fn(e)?gr:ir.test(e)?wr:_r:Array.isArray(e)?Sr:"object"==typeof e?ir.test(e)?wr:Cr:gr}function Sr(e,t){const n=[...e],r=n.length,a=e.map((e,n)=>kr(e)(e,t[n]));return e=>{for(let t=0;t<r;t++)n[t]=a[t](e);return n}}function Cr(e,t){const n={...e,...t},r={};for(const a in n)void 0!==e[a]&&void 0!==t[a]&&(r[a]=kr(e[a])(e[a],t[a]));return e=>{for(const t in r)n[t]=r[t](e);return n}}const _r=(e,t)=>{const n=mr.createTransformer(t),r=dr(e),a=dr(t);return r.indexes.var.length===a.indexes.var.length&&r.indexes.color.length===a.indexes.color.length&&r.indexes.number.length>=a.indexes.number.length?jr.has(e)&&!a.values.length||jr.has(t)&&!r.values.length?function(e,t){return jr.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}(e,t):nn(Sr(function(e,t){var n;const r=[],a={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const s=t.types[i],o=e.indexes[s][a[s]],l=null!=(n=e.values[o])?n:0;r[i]=l,a[s]++}return r}(r,a),a.values),n):gr(e,t)};function Ar(e,t,n){return"number"==typeof e&&"number"==typeof t&&"number"==typeof n?xr(e,t,n):kr(e)(e,t)}const Tr=e=>{const t=({timestamp:t})=>e(t);return{start:(e=!0)=>An.update(t,e),stop:()=>Tn(t),now:()=>On.isProcessing?On.timestamp:Dn.now()}},Or=(e,t,n=10)=>{let r="";const a=Math.max(Math.round(t/n),2);for(let i=0;i<a;i++)r+=Math.round(1e4*e(i/(a-1)))/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Er=2e4;function Mr(e){let t=0,n=e.next(t);for(;!n.done&&t<Er;)t+=50,n=e.next(t);return t>=Er?1/0:t}function Pr(e,t,n){const r=Math.max(t-5,0);return ln(n-e(r),t-r)}const Dr=.01,Lr=2,Ir=.005,Rr=.5;const Fr=12;function Hr(e,t){return e*Math.sqrt(1-t*t)}const zr=["duration","bounce"],Br=["stiffness","damping","mass"];function Wr(e,t){return t.some(t=>void 0!==e[t])}function $r(e=.3,t=.3){const n="object"!=typeof e?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:a}=n;const i=n.keyframes[0],s=n.keyframes[n.keyframes.length-1],o={done:!1,value:i},{stiffness:l,damping:c,mass:d,duration:u,velocity:h,isResolvedFromDuration:p}=function(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!Wr(e,Br)&&Wr(e,zr))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(1.2*n),a=r*r,i=2*Yt(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:1,stiffness:a,damping:i}}else{const n=function({duration:e=800,bounce:t=.3,velocity:n=0,mass:r=1}){let a,i,s=1-t;s=Yt(.05,1,s),e=Yt(.01,10,on(e)),s<1?(a=t=>{const r=t*s,a=r*e;return.001-(r-n)/Hr(t,s)*Math.exp(-a)},i=t=>{const r=t*s*e,i=r*n+n,o=Math.pow(s,2)*Math.pow(t,2)*e,l=Math.exp(-r),c=Hr(Math.pow(t,2),s);return(.001-a(t)>0?-1:1)*((i-o)*l)/c}):(a=t=>Math.exp(-t*e)*((t-n)*e+1)-.001,i=t=>Math.exp(-t*e)*(e*e*(n-t)));const o=function(e,t,n){let r=n;for(let a=1;a<Fr;a++)r-=e(r)/t(r);return r}(a,i,5/e);if(e=sn(e),isNaN(o))return{stiffness:100,damping:10,duration:e};{const t=Math.pow(o,2)*r;return{stiffness:t,damping:2*s*Math.sqrt(r*t),duration:e}}}(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}({...n,velocity:-on(n.velocity||0)}),m=h||0,f=c/(2*Math.sqrt(l*d)),g=s-i,x=on(Math.sqrt(l/d)),b=Math.abs(g)<5;let y;if(r||(r=b?Dr:Lr),a||(a=b?Ir:Rr),f<1){const e=Hr(x,f);y=t=>{const n=Math.exp(-f*x*t);return s-n*((m+f*x*g)/e*Math.sin(e*t)+g*Math.cos(e*t))}}else if(1===f)y=e=>s-Math.exp(-x*e)*(g+(m+x*g)*e);else{const e=x*Math.sqrt(f*f-1);y=t=>{const n=Math.exp(-f*x*t),r=Math.min(e*t,300);return s-n*((m+f*x*g)*Math.sinh(r)+e*g*Math.cosh(r))/e}}const v={calculatedDuration:p&&u||null,next:e=>{const t=y(e);if(p)o.done=e>=u;else{let n=0===e?m:0;f<1&&(n=0===e?sn(m):Pr(y,e,t));const i=Math.abs(n)<=r,l=Math.abs(s-t)<=a;o.done=i&&l}return o.value=o.done?s:t,o},toString:()=>{const e=Math.min(Mr(v),Er),t=Or(t=>v.next(e*t).value,e,30);return e+"ms "+t},toTransition:()=>{}};return v}function Ur({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:s,min:o,max:l,restDelta:c=.5,restSpeed:d}){const u=e[0],h={done:!1,value:u},p=e=>void 0===o?l:void 0===l||Math.abs(o-e)<Math.abs(l-e)?o:l;let m=n*t;const f=u+m,g=void 0===s?f:s(f);g!==f&&(m=g-u);const x=e=>-m*Math.exp(-e/r),b=e=>g+x(e),y=e=>{const t=x(e),n=b(e);h.done=Math.abs(t)<=c,h.value=h.done?g:n};let v,w;const j=e=>{var t;t=h.value,(void 0!==o&&t<o||void 0!==l&&t>l)&&(v=e,w=$r({keyframes:[h.value,p(h.value)],velocity:Pr(b,e,h.value),damping:a,stiffness:i,restDelta:c,restSpeed:d}))};return j(0),{calculatedDuration:null,next:e=>{let t=!1;return w||void 0!==v||(t=!0,y(e),j(e)),void 0!==v&&e>=v?w.next(e-v):(!t&&y(e),h)}}}function Vr({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const a=(e=>Array.isArray(e)&&"number"!=typeof e[0])(r)?r.map(Sn):Sn(r),i={done:!1,value:t[0]},s=function(e,t){return e.map(e=>e*t)}(n&&n.length===t.length?n:function(e){const t=[0];return function(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const a=rn(0,t,r);e.push(xr(n,1,a))}}(t,e.length-1),t}(t),e),o=function(e,t,{clamp:n=!0,ease:r,mixer:a}={}){const i=e.length;if(t.length,1===i)return()=>t[0];if(2===i&&t[0]===t[1])return()=>t[1];const s=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=function(e,t,n){const r=[],a=n||Kt.mix||Ar,i=e.length-1;for(let s=0;s<i;s++){let n=a(e[s],e[s+1]);if(t){const e=Array.isArray(t)?t[s]||en:t;n=nn(e,n)}r.push(n)}return r}(t,r,a),l=o.length,c=n=>{if(s&&n<e[0])return t[0];let r=0;if(l>1)for(;r<e.length-2&&!(n<e[r+1]);r++);const a=rn(e[r],e[r+1],n);return o[r](a)};return n?t=>c(Yt(e[0],e[i-1],t)):c}(s,t,{ease:Array.isArray(a)?a:(l=t,c=a,l.map(()=>c||jn).splice(0,l.length-1))});var l,c;return{calculatedDuration:e,next:t=>(i.value=o(t),i.done=t>=e,i)}}$r.applyToOptions=e=>{const t=function(e,t=100){const n=$r({...e,keyframes:[0,t]}),r=Math.min(Mr(n),Er);return{type:"keyframes",ease:e=>n.next(r*e).value/t,duration:on(r)}}(e,100);return e.ease=t.ease,e.duration=sn(t.duration),e.type="keyframes",e};const qr=e=>null!==e;function Gr(e,{repeat:t,repeatType:n="loop"},r,a=1){const i=e.filter(qr),s=a<0||t&&"loop"!==n&&t%2==1?0:i.length-1;return s&&void 0!==r?r:i[s]}const Yr={decay:Ur,inertia:Ur,tween:Vr,keyframes:Vr,spring:$r};function Kr(e){"string"==typeof e.type&&(e.type=Yr[e.type])}class Jr{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const Xr=e=>e/100;class Qr extends Jr{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var e,t;const{motionValue:n}=this.options;n&&n.updatedAt!==Dn.now()&&this.tick(Dn.now()),this.isStopped=!0,"idle"!==this.state&&(this.teardown(),null==(t=(e=this.options).onStop)||t.call(e))},this.options=e,this.initAnimation(),this.play(),!1===e.autoplay&&this.pause()}initAnimation(){const{options:e}=this;Kr(e);const{type:t=Vr,repeat:n=0,repeatDelay:r=0,repeatType:a,velocity:i=0}=e;let{keyframes:s}=e;const o=t||Vr;o!==Vr&&"number"!=typeof s[0]&&(this.mixKeyframes=nn(Xr,Ar(s[0],s[1])),s=[0,100]);const l=o({...e,keyframes:s});"mirror"===a&&(this.mirroredGenerator=o({...e,keyframes:[...s].reverse(),velocity:-i})),null===l.calculatedDuration&&(l.calculatedDuration=Mr(l));const{calculatedDuration:c}=l;this.calculatedDuration=c,this.resolvedDuration=c+r,this.totalDuration=this.resolvedDuration*(n+1)-r,this.generator=l}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:n,totalDuration:r,mixKeyframes:a,mirroredGenerator:i,resolvedDuration:s,calculatedDuration:o}=this;if(null===this.startTime)return n.next(0);const{delay:l=0,keyframes:c,repeat:d,repeatType:u,repeatDelay:h,type:p,onUpdate:m,finalKeyframe:f}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const g=this.currentTime-l*(this.playbackSpeed>=0?1:-1),x=this.playbackSpeed>=0?g<0:g>r;this.currentTime=Math.max(g,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=r);let b=this.currentTime,y=n;if(d){const e=Math.min(this.currentTime,r)/s;let t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),1===n&&t--,t=Math.min(t,d+1),Boolean(t%2)&&("reverse"===u?(n=1-n,h&&(n-=h/s)):"mirror"===u&&(y=i)),b=Yt(0,1,n)*s}const v=x?{done:!1,value:c[0]}:y.next(b);a&&(v.value=a(v.value));let{done:w}=v;x||null===o||(w=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const j=null===this.holdTime&&("finished"===this.state||"running"===this.state&&w);return j&&p!==Ur&&(v.value=Gr(c,this.options,f,this.speed)),m&&m(v.value),j&&this.finish(),v}then(e,t){return this.finished.then(e,t)}get duration(){return on(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+on(e)}get time(){return on(this.currentTime)}set time(e){var t;e=sn(e),this.currentTime=e,null===this.startTime||null!==this.holdTime||0===this.playbackSpeed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),null==(t=this.driver)||t.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Dn.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=on(this.currentTime))}play(){var e,t;if(this.isStopped)return;const{driver:n=Tr,startTime:r}=this.options;this.driver||(this.driver=n(e=>this.tick(e))),null==(t=(e=this.options).onPlay)||t.call(e);const a=this.driver.now();"finished"===this.state?(this.updateFinished(),this.startTime=a):null!==this.holdTime?this.startTime=a-this.holdTime:this.startTime||(this.startTime=null!=r?r:a),"finished"===this.state&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Dn.now()),this.holdTime=this.currentTime}complete(){"running"!==this.state&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,t;this.notifyFinished(),this.teardown(),this.state="finished",null==(t=(e=this.options).onComplete)||t.call(e)}cancel(){var e,t;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),null==(t=(e=this.options).onCancel)||t.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var t;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),null==(t=this.driver)||t.stop(),e.observe(this)}}const Zr=e=>180*e/Math.PI,ea=e=>{const t=Zr(Math.atan2(e[1],e[0]));return na(t)},ta={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:ea,rotateZ:ea,skewX:e=>Zr(Math.atan(e[1])),skewY:e=>Zr(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},na=e=>((e%=360)<0&&(e+=360),e),ra=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),aa=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),ia={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:ra,scaleY:aa,scale:e=>(ra(e)+aa(e))/2,rotateX:e=>na(Zr(Math.atan2(e[6],e[5]))),rotateY:e=>na(Zr(Math.atan2(-e[2],e[0]))),rotateZ:ea,rotate:ea,skewX:e=>Zr(Math.atan(e[4])),skewY:e=>Zr(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function sa(e){return e.includes("scale")?1:0}function oa(e,t){if(!e||"none"===e)return sa(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,a;if(n)r=ia,a=n;else{const t=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=ta,a=t}if(!a)return sa(t);const i=r[t],s=a[1].split(",").map(la);return"function"==typeof i?i(s):s[i]}function la(e){return parseFloat(e.trim())}const ca=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],da=(()=>new Set(ca))(),ua=e=>e===zn||e===er,ha=new Set(["x","y","z"]),pa=ca.filter(e=>!ha.has(e)),ma={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>oa(t,"x"),y:(e,{transform:t})=>oa(t,"y")};ma.translateX=ma.x,ma.translateY=ma.y;const fa=new Set;let ga=!1,xa=!1,ba=!1;function ya(){if(xa){const e=Array.from(fa).filter(e=>e.needsMeasurement),t=new Set(e.map(e=>e.element)),n=new Map;t.forEach(e=>{const t=function(e){const t=[];return pa.forEach(n=>{const r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}(e);t.length&&(n.set(e,t),e.render())}),e.forEach(e=>e.measureInitialState()),t.forEach(e=>{e.render();const t=n.get(e);t&&t.forEach(([t,n])=>{var r;null==(r=e.getValue(t))||r.set(n)})}),e.forEach(e=>e.measureEndState()),e.forEach(e=>{void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)})}xa=!1,ga=!1,fa.forEach(e=>e.complete(ba)),fa.clear()}function va(){fa.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(xa=!0)})}class wa{constructor(e,t,n,r,a,i=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=r,this.element=a,this.isAsync=i}scheduleResolve(){this.state="scheduled",this.isAsync?(fa.add(this),ga||(ga=!0,An.read(va),An.resolveKeyframes(ya))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:n,motionValue:r}=this;if(null===e[0]){const a=null==r?void 0:r.get(),i=e[e.length-1];if(void 0!==a)e[0]=a;else if(n&&t){const r=n.readValue(t,i);null!=r&&(e[0]=r)}void 0===e[0]&&(e[0]=i),r&&void 0===a&&r.set(e[0])}!function(e){for(let t=1;t<e.length;t++)null!=e[t]||(e[t]=e[t-1])}(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),fa.delete(this)}cancel(){"scheduled"===this.state&&(fa.delete(this),this.state="pending")}resume(){"pending"===this.state&&this.scheduleResolve()}}const ja=Zt(()=>void 0!==window.ScrollTimeline),Na={};function ka(e,t){const n=Zt(e);return()=>{var e;return null!=(e=Na[t])?e:n()}}const Sa=ka(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(Ew){return!1}return!0},"linearEasing"),Ca=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,_a={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ca([0,.65,.55,1]),circOut:Ca([.55,0,1,.45]),backIn:Ca([.31,.01,.66,-.59]),backOut:Ca([.33,1.53,.69,.99])};function Aa(e,t){return e?"function"==typeof e?Sa()?Or(e,t):"ease-out":Nn(e)?Ca(e):Array.isArray(e)?e.map(e=>Aa(e,t)||_a.easeOut):_a[e]:void 0}function Ta(e,t,n,{delay:r=0,duration:a=300,repeat:i=0,repeatType:s="loop",ease:o="easeOut",times:l}={},c=void 0){const d={[t]:n};l&&(d.offset=l);const u=Aa(o,a);Array.isArray(u)&&(d.easing=u);const h={delay:r,duration:a,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:i+1,direction:"reverse"===s?"alternate":"normal"};return c&&(h.pseudoElement=c),e.animate(d,h)}function Oa(e){return"function"==typeof e&&"applyToOptions"in e}class Ea extends Jr{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:n,keyframes:r,pseudoElement:a,allowFlatten:i=!1,finalKeyframe:s,onComplete:o}=e;this.isPseudoElement=Boolean(a),this.allowFlatten=i,this.options=e,e.type;const l=function({type:e,...t}){return Oa(e)&&Sa()?e.applyToOptions(t):(null!=t.duration||(t.duration=300),null!=t.ease||(t.ease="easeOut"),t)}(e);this.animation=Ta(t,n,r,l,a),!1===l.autoplay&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const e=Gr(r,this.options,s,this.speed);this.updateMotionValue?this.updateMotionValue(e):function(e,t,n){(e=>e.startsWith("--"))(t)?e.style.setProperty(t,n):e.style[t]=n}(t,n,e),this.animation.cancel()}null==o||o(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),"finished"===this.state&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,t;null==(t=(e=this.animation).finish)||t.call(e)}cancel(){try{this.animation.cancel()}catch(Ew){}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;"idle"!==e&&"finished"!==e&&(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,t;this.isPseudoElement||null==(t=(e=this.animation).commitStyles)||t.call(e)}get duration(){var e,t;const n=(null==(t=null==(e=this.animation.effect)?void 0:e.getComputedTiming)?void 0:t.call(e).duration)||0;return on(Number(n))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+on(e)}get time(){return on(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=sn(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return null!==this.finishedTime?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){var n;return this.allowFlatten&&(null==(n=this.animation.effect)||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&ja()?(this.animation.timeline=e,en):t(this)}}const Ma={anticipate:gn,backInOut:fn,circInOut:yn};class Pa extends Ea{constructor(e){var t;"string"==typeof(t=e).ease&&t.ease in Ma&&(t.ease=Ma[t.ease]),Kr(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){var t;const{motionValue:n,onUpdate:r,onComplete:a,element:i,...s}=this.options;if(!n)return;if(void 0!==e)return void n.set(e);const o=new Qr({...s,autoplay:!1}),l=sn(null!=(t=this.finishedTime)?t:this.time);n.setWithVelocity(o.sample(l-10).value,o.sample(l).value,10),o.stop()}}const Da=(e,t)=>!("zIndex"===t||"number"!=typeof e&&!Array.isArray(e)&&("string"!=typeof e||!mr.test(e)&&"0"!==e||e.startsWith("url(")));function La(e){e.duration=0,e.type="keyframes"}const Ia=new Set(["opacity","clipPath","filter","transform"]),Ra=Zt(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));class Fa extends Jr{constructor({autoplay:e=!0,delay:t=0,type:n="keyframes",repeat:r=0,repeatDelay:a=0,repeatType:i="loop",keyframes:s,name:o,motionValue:l,element:c,...d}){var u;super(),this.stop=()=>{var e,t;this._animation&&(this._animation.stop(),null==(e=this.stopTimeline)||e.call(this)),null==(t=this.keyframeResolver)||t.cancel()},this.createdAt=Dn.now();const h={autoplay:e,delay:t,type:n,repeat:r,repeatDelay:a,repeatType:i,name:o,motionValue:l,element:c,...d},p=(null==c?void 0:c.KeyframeResolver)||wa;this.keyframeResolver=new p(s,(e,t,n)=>this.onKeyframesResolved(e,t,h,!n),o,l,c),null==(u=this.keyframeResolver)||u.scheduleResolve()}onKeyframesResolved(e,t,n,r){this.keyframeResolver=void 0;const{name:a,type:i,velocity:s,delay:o,isHandoff:l,onUpdate:c}=n;this.resolvedAt=Dn.now(),function(e,t,n,r){const a=e[0];if(null===a)return!1;if("display"===t||"visibility"===t)return!0;const i=e[e.length-1],s=Da(a,t),o=Da(i,t);return!(!s||!o)&&(function(e){const t=e[0];if(1===e.length)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}(e)||("spring"===n||Oa(n))&&r)}(e,a,i,s)||(!Kt.instantAnimations&&o||null==c||c(Gr(e,n,t)),e[0]=e[e.length-1],La(n),n.repeat=0);const d={startTime:r?this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt:void 0,finalKeyframe:t,...n,keyframes:e},u=!l&&function(e){var t;const{motionValue:n,name:r,repeatDelay:a,repeatType:i,damping:s,type:o}=e;if(!((null==(t=null==n?void 0:n.owner)?void 0:t.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=n.owner.getProps();return Ra()&&r&&Ia.has(r)&&("transform"!==r||!c)&&!l&&!a&&"mirror"!==i&&0!==s&&"inertia"!==o}(d)?new Pa({...d,element:d.motionValue.owner.current}):new Qr(d);u.finished.then(()=>this.notifyFinished()).catch(en),this.pendingTimeline&&(this.stopTimeline=u.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=u}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||(null==(e=this.keyframeResolver)||e.resume(),ba=!0,va(),ya(),ba=!1),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),null==(e=this.keyframeResolver)||e.cancel()}}const Ha=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function za(e,t,n=1){const[r,a]=function(e){const t=Ha.exec(e);if(!t)return[,];const[,n,r,a]=t;return[`--${null!=n?n:r}`,a]}(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const e=i.trim();return Jt(e)?parseFloat(e):e}return Fn(a)?za(a,t,n+1):a}function Ba(e,t){var n,r;return null!=(r=null!=(n=null==e?void 0:e[t])?n:null==e?void 0:e.default)?r:e}const Wa=new Set(["width","height","top","left","right","bottom",...ca]),$a=e=>t=>t.test(e),Ua=[zn,er,Zn,Qn,nr,tr,{test:e=>"auto"===e,parse:e=>e}],Va=e=>Ua.find($a(e));function qa(e){return"number"==typeof e?0===e:null===e||"none"===e||"0"===e||Qt(e)}const Ga=new Set(["brightness","contrast","saturate","opacity"]);function Ya(e){const[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[r]=n.match(Un)||[];if(!r)return e;const a=n.replace(r,"");let i=Ga.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+a+")"}const Ka=/\b([a-z-]*)\(.*?\)/gu,Ja={...mr,getAnimatableNone:e=>{const t=e.match(Ka);return t?t.map(Ya).join(" "):e}},Xa={...zn,transform:Math.round},Qa={borderWidth:er,borderTopWidth:er,borderRightWidth:er,borderBottomWidth:er,borderLeftWidth:er,borderRadius:er,radius:er,borderTopLeftRadius:er,borderTopRightRadius:er,borderBottomRightRadius:er,borderBottomLeftRadius:er,width:er,maxWidth:er,height:er,maxHeight:er,top:er,right:er,bottom:er,left:er,padding:er,paddingTop:er,paddingRight:er,paddingBottom:er,paddingLeft:er,margin:er,marginTop:er,marginRight:er,marginBottom:er,marginLeft:er,backgroundPositionX:er,backgroundPositionY:er,rotate:Qn,rotateX:Qn,rotateY:Qn,rotateZ:Qn,scale:Wn,scaleX:Wn,scaleY:Wn,scaleZ:Wn,skew:Qn,skewX:Qn,skewY:Qn,distance:er,translateX:er,translateY:er,translateZ:er,x:er,y:er,z:er,perspective:er,transformPerspective:er,opacity:Bn,originX:rr,originY:rr,originZ:er,zIndex:Xa,fillOpacity:Bn,strokeOpacity:Bn,numOctaves:Xa},Za={...Qa,color:ir,backgroundColor:ir,outlineColor:ir,fill:ir,stroke:ir,borderColor:ir,borderTopColor:ir,borderRightColor:ir,borderBottomColor:ir,borderLeftColor:ir,filter:Ja,WebkitFilter:Ja},ei=e=>Za[e];function ti(e,t){let n=ei(e);return n!==Ja&&(n=mr),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const ni=new Set(["auto","none","0"]);class ri extends wa{constructor(e,t,n,r,a){super(e,t,n,r,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:n}=this;if(!t||!t.current)return;super.readKeyframes();for(let o=0;o<e.length;o++){let n=e[o];if("string"==typeof n&&(n=n.trim(),Fn(n))){const r=za(n,t.current);void 0!==r&&(e[o]=r),o===e.length-1&&(this.finalKeyframe=n)}}if(this.resolveNoneKeyframes(),!Wa.has(n)||2!==e.length)return;const[r,a]=e,i=Va(r),s=Va(a);if(i!==s)if(ua(i)&&ua(s))for(let o=0;o<e.length;o++){const t=e[o];"string"==typeof t&&(e[o]=parseFloat(t))}else ma[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,n=[];for(let r=0;r<e.length;r++)(null===e[r]||qa(e[r]))&&n.push(r);n.length&&function(e,t,n){let r,a=0;for(;a<e.length&&!r;){const t=e[a];"string"==typeof t&&!ni.has(t)&&dr(t).values.length&&(r=e[a]),a++}if(r&&n)for(const i of t)e[i]=ti(n,r)}(e,n,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:n}=this;if(!e||!e.current)return;"height"===n&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ma[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const r=t[t.length-1];void 0!==r&&e.getValue(n,r).jump(r,!1)}measureEndState(){var e;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const a=t.getValue(n);a&&a.jump(this.measuredOrigin,!1);const i=r.length-1,s=r[i];r[i]=ma[n](t.measureViewportBox(),window.getComputedStyle(t.current)),null!==s&&void 0===this.finalKeyframe&&(this.finalKeyframe=s),(null==(e=this.removedTransforms)?void 0:e.length)&&this.removedTransforms.forEach(([e,n])=>{t.getValue(e).set(n)}),this.resolveNoneKeyframes()}}const ai=(e,t)=>t&&"number"==typeof e?t.transform(e):e;function ii(e){return Xt(e)&&"offsetHeight"in e}class si{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=e=>{var t;const n=Dn.now();if(this.updatedAt!==n&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(e),this.current!==this.prev&&(null==(t=this.events.change)||t.notify(this.current),this.dependents))for(const r of this.dependents)r.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){var t;this.current=e,this.updatedAt=Dn.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=(t=this.current,!isNaN(parseFloat(t))))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new an);const n=this.events[e].add(t);return"change"===e?()=>{n(),An.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;null==(e=this.events.change)||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Dn.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||e-this.updatedAt>30)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,30);return ln(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,t;null==(e=this.dependents)||e.clear(),null==(t=this.events.destroy)||t.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function oi(e,t){return new si(e,t)}const{schedule:li}=_n(queueMicrotask,!1),ci={x:!1,y:!1};function di(){return ci.x||ci.y}function ui(e,t){const n=function(e){if(e instanceof EventTarget)return[e];if("string"==typeof e){let t=document;const n=null!=void 0?undefined:t.querySelectorAll(e);return n?Array.from(n):[]}return Array.from(e)}(e),r=new AbortController;return[n,{passive:!0,...t,signal:r.signal},()=>r.abort()]}function hi(e){return!("touch"===e.pointerType||di())}const pi=(e,t)=>!!t&&(e===t||pi(e,t.parentElement)),mi=e=>"mouse"===e.pointerType?"number"!=typeof e.button||e.button<=0:!1!==e.isPrimary,fi=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]),gi=new WeakSet;function xi(e){return t=>{"Enter"===t.key&&e(t)}}function bi(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}function yi(e){return mi(e)&&!di()}function vi(e){return Xt(e)&&"ownerSVGElement"in e}const wi=e=>Boolean(e&&e.getVelocity),ji=[...Ua,ir,mr],Ni=x.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function ki(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}class Si extends x.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=t.offsetParent,n=ii(e)&&e.offsetWidth||0,r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft,r.right=n-r.width-r.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Ci({children:e,isPresent:t,anchorX:n,root:r}){const a=x.useId(),i=x.useRef(null),s=x.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=x.useContext(Ni),l=function(...e){return x.useCallback(function(...e){return t=>{let n=!1;const r=e.map(e=>{const r=ki(e,t);return n||"function"!=typeof r||(n=!0),r});if(n)return()=>{for(let t=0;t<r.length;t++){const n=r[t];"function"==typeof n?n():ki(e[t],null)}}}}(...e),e)}(i,null==e?void 0:e.ref);return x.useInsertionEffect(()=>{const{width:e,height:l,top:c,left:d,right:u}=s.current;if(t||!i.current||!e||!l)return;const h="left"===n?`left: ${d}`:`right: ${u}`;i.current.dataset.motionPopId=a;const p=document.createElement("style");o&&(p.nonce=o);const m=null!=r?r:document.head;return m.appendChild(p),p.sheet&&p.sheet.insertRule(`\n          [data-motion-pop-id="${a}"] {\n            position: absolute !important;\n            width: ${e}px !important;\n            height: ${l}px !important;\n            ${h}px !important;\n            top: ${c}px !important;\n          }\n        `),()=>{m.contains(p)&&m.removeChild(p)}},[t]),h.jsx(Si,{isPresent:t,childRef:i,sizeRef:s,children:x.cloneElement(e,{ref:l})})}const _i=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:a,presenceAffectsLayout:i,mode:s,anchorX:o,root:l})=>{const c=Wt(Ai),d=x.useId();let u=!0,p=x.useMemo(()=>(u=!1,{id:d,initial:t,isPresent:n,custom:a,onExitComplete:e=>{c.set(e,!0);for(const t of c.values())if(!t)return;r&&r()},register:e=>(c.set(e,!1),()=>c.delete(e))}),[n,c,r]);return i&&u&&(p={...p}),x.useMemo(()=>{c.forEach((e,t)=>c.set(t,!1))},[n]),x.useEffect(()=>{!n&&!c.size&&r&&r()},[n]),"popLayout"===s&&(e=h.jsx(Ci,{isPresent:n,anchorX:o,root:l,children:e})),h.jsx(Vt.Provider,{value:p,children:e})};function Ai(){return new Map}function Ti(e=!0){const t=x.useContext(Vt);if(null===t)return[!0,null];const{isPresent:n,onExitComplete:r,register:a}=t,i=x.useId();x.useEffect(()=>{if(e)return a(i)},[e]);const s=x.useCallback(()=>e&&r&&r(i),[i,r,e]);return!n&&r?[!1,s]:[!0]}const Oi=e=>e.key||"";function Ei(e){const t=[];return x.Children.forEach(e,e=>{x.isValidElement(e)&&t.push(e)}),t}const Mi=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:a=!0,mode:i="sync",propagate:s=!1,anchorX:o="left",root:l})=>{const[c,d]=Ti(s),u=x.useMemo(()=>Ei(e),[e]),p=s&&!c?[]:u.map(Oi),m=x.useRef(!0),f=x.useRef(u),g=Wt(()=>new Map),[b,y]=x.useState(u),[v,w]=x.useState(u);Ut(()=>{m.current=!1,f.current=u;for(let e=0;e<v.length;e++){const t=Oi(v[e]);p.includes(t)?g.delete(t):!0!==g.get(t)&&g.set(t,!1)}},[v,p.length,p.join("-")]);const j=[];if(u!==b){let e=[...u];for(let t=0;t<v.length;t++){const n=v[t],r=Oi(n);p.includes(r)||(e.splice(t,0,n),j.push(n))}return"wait"===i&&j.length&&(e=j),w(Ei(e)),y(u),null}const{forceRender:N}=x.useContext(Bt);return h.jsx(h.Fragment,{children:v.map(e=>{const x=Oi(e),b=!(s&&!c)&&(u===v||p.includes(x));return h.jsx(_i,{isPresent:b,initial:!(m.current&&!n)&&void 0,custom:t,presenceAffectsLayout:a,mode:i,root:l,onExitComplete:b?void 0:()=>{if(!g.has(x))return;g.set(x,!0);let e=!0;g.forEach(t=>{t||(e=!1)}),e&&(null==N||N(),w(f.current),s&&(null==d||d()),r&&r())},anchorX:o,children:e},x)})})},Pi=x.createContext({strict:!1}),Di={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Li={};for(const os in Di)Li[os]={isEnabled:e=>Di[os].some(t=>!!e[t])};const Ii=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ri(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Ii.has(e)}let Fi=e=>!Ri(e);try{"function"==typeof(Hi=require("@emotion/is-prop-valid").default)&&(Fi=e=>e.startsWith("on")?!Ri(e):Hi(e))}catch(Ew){}var Hi;const zi=x.createContext({});function Bi(e){return null!==e&&"object"==typeof e&&"function"==typeof e.start}function Wi(e){return"string"==typeof e||Array.isArray(e)}const $i=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Ui=["initial",...$i];function Vi(e){return Bi(e.animate)||Ui.some(t=>Wi(e[t]))}function qi(e){return Boolean(Vi(e)||e.variants)}function Gi(e){return Array.isArray(e)?e.join(" "):e}const Yi={};function Ki(e,{layout:t,layoutId:n}){return da.has(e)||e.startsWith("origin")||(t||void 0!==n)&&(!!Yi[e]||"opacity"===e)}const Ji={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Xi=ca.length;function Qi(e,t,n){const{style:r,vars:a,transformOrigin:i}=e;let s=!1,o=!1;for(const l in t){const e=t[l];if(da.has(l))s=!0;else if(In(l))a[l]=e;else{const t=ai(e,Qa[l]);l.startsWith("origin")?(o=!0,i[l]=t):r[l]=t}}if(t.transform||(s||n?r.transform=function(e,t,n){let r="",a=!0;for(let i=0;i<Xi;i++){const s=ca[i],o=e[s];if(void 0===o)continue;let l=!0;if(l="number"==typeof o?o===(s.startsWith("scale")?1:0):0===parseFloat(o),!l||n){const e=ai(o,Qa[s]);l||(a=!1,r+=`${Ji[s]||s}(${e}) `),n&&(t[s]=e)}}return r=r.trim(),n?r=n(t,a?"":r):a&&(r="none"),r}(t,e.transform,n):r.transform&&(r.transform="none")),o){const{originX:e="50%",originY:t="50%",originZ:n=0}=i;r.transformOrigin=`${e} ${t} ${n}`}}function Zi(e,t,n){for(const r in t)wi(t[r])||Ki(r,n)||(e[r]=t[r])}function es(e,t){const n={},r=function(e,t){const n={};return Zi(n,e.style||{},e),Object.assign(n,function({transformTemplate:e},t){return x.useMemo(()=>{const n={style:{},transform:{},transformOrigin:{},vars:{}};return Qi(n,t,e),Object.assign({},n.vars,n.style)},[t])}(e,t)),n}(e,t);return e.drag&&!1!==e.dragListener&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=!0===e.drag?"none":"pan-"+("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const ts={offset:"stroke-dashoffset",array:"stroke-dasharray"},ns={offset:"strokeDashoffset",array:"strokeDasharray"};function rs(e,{attrX:t,attrY:n,attrScale:r,pathLength:a,pathSpacing:i=1,pathOffset:s=0,...o},l,c,d){var u,h;if(Qi(e,o,c),l)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:p,style:m}=e;p.transform&&(m.transform=p.transform,delete p.transform),(m.transform||p.transformOrigin)&&(m.transformOrigin=null!=(u=p.transformOrigin)?u:"50% 50%",delete p.transformOrigin),m.transform&&(m.transformBox=null!=(h=null==d?void 0:d.transformBox)?h:"fill-box",delete p.transformBox),void 0!==t&&(p.x=t),void 0!==n&&(p.y=n),void 0!==r&&(p.scale=r),void 0!==a&&function(e,t,n=1,r=0,a=!0){e.pathLength=1;const i=a?ts:ns;e[i.offset]=er.transform(-r);const s=er.transform(t),o=er.transform(n);e[i.array]=`${s} ${o}`}(p,a,i,s,!1)}const as=e=>"string"==typeof e&&"svg"===e.toLowerCase();function is(e,t,n,r){const a=x.useMemo(()=>{const n={style:{},transform:{},transformOrigin:{},vars:{},attrs:{}};return rs(n,t,as(r),e.transformTemplate,e.style),{...n.attrs,style:{...n.style}}},[t]);if(e.style){const t={};Zi(t,e.style,e),a.style={...t,...a.style}}return a}const ss=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ls(e){return"string"==typeof e&&!e.includes("-")&&!!(ss.indexOf(e)>-1||/[A-Z]/u.test(e))}function cs(e,t,n,{latestValues:r},a,i=!1){const s=(ls(e)?is:es)(t,r,a,e),o=function(e,t,n){const r={};for(const a in e)"values"===a&&"object"==typeof e.values||(Fi(a)||!0===n&&Ri(a)||!t&&!Ri(a)||e.draggable&&a.startsWith("onDrag"))&&(r[a]=e[a]);return r}(t,"string"==typeof e,i),l=e!==x.Fragment?{...o,...s,ref:n}:{},{children:c}=t,d=x.useMemo(()=>wi(c)?c.get():c,[c]);return x.createElement(e,{...l,children:d})}function ds(e){const t=[{},{}];return null==e||e.values.forEach((e,n)=>{t[0][n]=e.get(),t[1][n]=e.getVelocity()}),t}function us(e,t,n,r){if("function"==typeof t){const[a,i]=ds(r);t=t(void 0!==n?n:e.custom,a,i)}if("string"==typeof t&&(t=e.variants&&e.variants[t]),"function"==typeof t){const[a,i]=ds(r);t=t(void 0!==n?n:e.custom,a,i)}return t}function hs(e){return wi(e)?e.get():e}function ps(e,t,n,r){const a={},i=r(e,{});for(const h in i)a[h]=hs(i[h]);let{initial:s,animate:o}=e;const l=Vi(e),c=qi(e);t&&c&&!l&&!1!==e.inherit&&(void 0===s&&(s=t.initial),void 0===o&&(o=t.animate));let d=!!n&&!1===n.initial;d=d||!1===s;const u=d?o:s;if(u&&"boolean"!=typeof u&&!Bi(u)){const t=Array.isArray(u)?u:[u];for(let n=0;n<t.length;n++){const r=us(e,t[n]);if(r){const{transitionEnd:e,transition:t,...n}=r;for(const r in n){let e=n[r];Array.isArray(e)&&(e=e[d?e.length-1:0]),null!==e&&(a[r]=e)}for(const r in e)a[r]=e[r]}}}return a}const ms=e=>(t,n)=>{const r=x.useContext(zi),a=x.useContext(Vt),i=()=>function({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,a){return{latestValues:ps(n,r,a,e),renderState:t()}}(e,t,r,a);return n?i():Wt(i)};function fs(e,t,n){var r;const{style:a}=e,i={};for(const s in a)(wi(a[s])||t.style&&wi(t.style[s])||Ki(s,e)||void 0!==(null==(r=null==n?void 0:n.getValue(s))?void 0:r.liveStyle))&&(i[s]=a[s]);return i}const gs=ms({scrapeMotionValuesFromProps:fs,createRenderState:()=>({style:{},transform:{},transformOrigin:{},vars:{}})});function xs(e,t,n){const r=fs(e,t,n);for(const a in e)(wi(e[a])||wi(t[a]))&&(r[-1!==ca.indexOf(a)?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a]=e[a]);return r}const bs=ms({scrapeMotionValuesFromProps:xs,createRenderState:()=>({style:{},transform:{},transformOrigin:{},vars:{},attrs:{}})}),ys=Symbol.for("motionComponentSymbol");function vs(e){return e&&"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function ws(e,t,n){return x.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&("function"==typeof n?n(r):vs(n)&&(n.current=r))},[t])}const js=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Ns="data-"+js("framerAppearId"),ks=x.createContext({});function Ss(e,t,n,r,a){var i,s;const{visualElement:o}=x.useContext(zi),l=x.useContext(Pi),c=x.useContext(Vt),d=x.useContext(Ni).reducedMotion,u=x.useRef(null);r=r||l.renderer,!u.current&&r&&(u.current=r(e,{visualState:t,parent:o,props:n,presenceContext:c,blockInitialAnimation:!!c&&!1===c.initial,reducedMotionConfig:d}));const h=u.current,p=x.useContext(ks);!h||h.projection||!a||"html"!==h.type&&"svg"!==h.type||function(e,t,n,r){const{layoutId:a,layout:i,drag:s,dragConstraints:o,layoutScroll:l,layoutRoot:c,layoutCrossfade:d}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:Cs(e.parent)),e.projection.setOptions({layoutId:a,layout:i,alwaysMeasureLayout:Boolean(s)||o&&vs(o),visualElement:e,animationType:"string"==typeof i?i:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:l,layoutRoot:c})}(u.current,n,a,p);const m=x.useRef(!1);x.useInsertionEffect(()=>{h&&m.current&&h.update(n,c)});const f=n[Ns],g=x.useRef(Boolean(f)&&!(null==(i=window.MotionHandoffIsComplete)?void 0:i.call(window,f))&&(null==(s=window.MotionHasOptimisedAnimation)?void 0:s.call(window,f)));return Ut(()=>{h&&(m.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),h.scheduleRenderMicrotask(),g.current&&h.animationState&&h.animationState.animateChanges())}),x.useEffect(()=>{h&&(!g.current&&h.animationState&&h.animationState.animateChanges(),g.current&&(queueMicrotask(()=>{var e;null==(e=window.MotionHandoffMarkAsComplete)||e.call(window,f)}),g.current=!1),h.enteringChildren=void 0)}),h}function Cs(e){if(e)return!1!==e.options.allowProjection?e.projection:Cs(e.parent)}function _s(e,{forwardMotionProps:t=!1}={},n,r){var a,i;n&&function(e){for(const t in e)Li[t]={...Li[t],...e[t]}}(n);const s=ls(e)?bs:gs;function o(n,a){let i;const o={...x.useContext(Ni),...n,layoutId:As(n)},{isStatic:l}=o,c=function(e){const{initial:t,animate:n}=function(e,t){if(Vi(e)){const{initial:t,animate:n}=e;return{initial:!1===t||Wi(t)?t:void 0,animate:Wi(n)?n:void 0}}return!1!==e.inherit?t:{}}(e,x.useContext(zi));return x.useMemo(()=>({initial:t,animate:n}),[Gi(t),Gi(n)])}(n),d=s(n,l);if(!l&&$t){x.useContext(Pi).strict;const t=function(e){const{drag:t,layout:n}=Li;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:(null==t?void 0:t.isEnabled(e))||(null==n?void 0:n.isEnabled(e))?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}(o);i=t.MeasureLayout,c.visualElement=Ss(e,d,o,r,t.ProjectionNode)}return h.jsxs(zi.Provider,{value:c,children:[i&&c.visualElement?h.jsx(i,{visualElement:c.visualElement,...o}):null,cs(e,n,ws(d,c.visualElement,a),d,l,t)]})}o.displayName=`motion.${"string"==typeof e?e:`create(${null!=(i=null!=(a=e.displayName)?a:e.name)?i:""})`}`;const l=x.forwardRef(o);return l[ys]=e,l}function As({layoutId:e}){const t=x.useContext(Bt).id;return t&&void 0!==e?t+"-"+e:e}function Ts(e,t){if("undefined"==typeof Proxy)return _s;const n=new Map,r=(n,r)=>_s(n,r,e,t);return new Proxy((e,t)=>r(e,t),{get:(a,i)=>"create"===i?r:(n.has(i)||n.set(i,_s(i,void 0,e,t)),n.get(i))})}function Os({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function Es(e){return void 0===e||1===e}function Ms({scale:e,scaleX:t,scaleY:n}){return!Es(e)||!Es(t)||!Es(n)}function Ps(e){return Ms(e)||Ds(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Ds(e){return Ls(e.x)||Ls(e.y)}function Ls(e){return e&&"0%"!==e}function Is(e,t,n){return n+t*(e-n)}function Rs(e,t,n,r,a){return void 0!==a&&(e=Is(e,a,r)),Is(e,n,r)+t}function Fs(e,t=0,n=1,r,a){e.min=Rs(e.min,t,n,r,a),e.max=Rs(e.max,t,n,r,a)}function Hs(e,{x:t,y:n}){Fs(e.x,t.translate,t.scale,t.originPoint),Fs(e.y,n.translate,n.scale,n.originPoint)}const zs=.999999999999,Bs=1.0000000000001;function Ws(e,t){e.min=e.min+t,e.max=e.max+t}function $s(e,t,n,r,a=.5){Fs(e,t,n,xr(e.min,e.max,a),r)}function Us(e,t){$s(e.x,t.x,t.scaleX,t.scale,t.originX),$s(e.y,t.y,t.scaleY,t.scale,t.originY)}function Vs(e,t){return Os(function(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}const qs=()=>({x:{min:0,max:0},y:{min:0,max:0}}),Gs={current:null},Ys={current:!1},Ks=new WeakMap,Js=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Xs{scrapeMotionValuesFromProps(e,t,n){return{}}constructor({parent:e,props:t,presenceContext:n,reducedMotionConfig:r,blockInitialAnimation:a,visualState:i},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=wa,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const e=Dn.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,An.render(this.render,!1,!0))};const{latestValues:o,renderState:l}=i;this.latestValues=o,this.baseTarget={...o},this.initialValues=t.initial?{...o}:{},this.renderState=l,this.parent=e,this.props=t,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=s,this.blockInitialAnimation=Boolean(a),this.isControllingVariants=Vi(t),this.isVariantNode=qi(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(e&&e.current);const{willChange:c,...d}=this.scrapeMotionValuesFromProps(t,{},this);for(const u in d){const e=d[u];void 0!==o[u]&&wi(e)&&e.set(o[u])}}mount(e){var t;this.current=e,Ks.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,t)=>this.bindToMotionValue(t,e)),Ys.current||function(){if(Ys.current=!0,$t)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Gs.current=e.matches;e.addEventListener("change",t),t()}else Gs.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||Gs.current),null==(t=this.parent)||t.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Tn(this.notifyUpdate),Tn(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),null==(e=this.parent)||e.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),null!=this.enteringChildren||(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=da.has(e);n&&this.onBindTransform&&this.onBindTransform();const r=t.on("change",t=>{this.latestValues[e]=t,this.props.onUpdate&&An.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{r(),a&&a(),t.owner&&t.stop()})}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}updateFeatures(){let e="animation";for(e in Li){const t=Li[e];if(!t)continue;const{isEnabled:n,Feature:r}=t;if(!this.features[e]&&r&&n(this.props)&&(this.features[e]=new r(this)),this.features[e]){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<Js.length;n++){const t=Js[n];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const r=e["on"+t];r&&(this.propEventSubscriptions[t]=this.on(t,r))}this.prevMotionValues=function(e,t,n){for(const r in t){const a=t[r],i=n[r];if(wi(a))e.addValue(r,a);else if(wi(i))e.addValue(r,oi(a,{owner:e}));else if(i!==a)if(e.hasValue(r)){const t=e.getValue(r);!0===t.liveStyle?t.jump(a):t.hasAnimated||t.set(a)}else{const t=e.getStaticValue(r);e.addValue(r,oi(void 0!==t?t:a,{owner:e}))}}for(const r in n)void 0===t[r]&&e.removeValue(r);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=oi(null===t?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){var n;let r=void 0===this.latestValues[e]&&this.current?null!=(n=this.getBaseTargetFromProps(this.props,e))?n:this.readValueFromInstance(this.current,e,this.options):this.latestValues[e];var a;return null!=r&&("string"==typeof r&&(Jt(r)||Qt(r))?r=parseFloat(r):(a=r,!ji.find($a(a))&&mr.test(t)&&(r=ti(e,t))),this.setBaseTarget(e,wi(r)?r.get():r)),wi(r)?r.get():r}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:n}=this.props;let r;if("string"==typeof n||"object"==typeof n){const a=us(this.props,n,null==(t=this.presenceContext)?void 0:t.custom);a&&(r=a[e])}if(n&&void 0!==r)return r;const a=this.getBaseTargetFromProps(this.props,e);return void 0===a||wi(a)?void 0!==this.initialValues[e]&&void 0===r?void 0:this.baseTarget[e]:a}on(e,t){return this.events[e]||(this.events[e]=new an),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){li.render(this.render)}}class Qs extends Xs{constructor(){super(...arguments),this.KeyframeResolver=ri}sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:n}){delete t[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;wi(e)&&(this.childSubscription=e.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}function Zs(e,{style:t,vars:n},r,a){const i=e.style;let s;for(s in t)i[s]=t[s];for(s in null==a||a.applyProjectionStyles(i,r),n)i.setProperty(s,n[s])}class eo extends Qs{constructor(){super(...arguments),this.type="html",this.renderInstance=Zs}readValueFromInstance(e,t){var n,r;if(da.has(t))return(null==(n=this.projection)?void 0:n.isProjecting)?sa(t):((e,t)=>{const{transform:n="none"}=getComputedStyle(e);return oa(n,t)})(e,t);{const n=(r=e,window.getComputedStyle(r)),a=(In(t)?n.getPropertyValue(t):n[t])||0;return"string"==typeof a?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:t}){return Vs(e,t)}build(e,t,n){Qi(e,t,n.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return fs(e,t,n)}}const to=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);class no extends Qs{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=qs}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(da.has(t)){const e=ei(t);return e&&e.default||0}return t=to.has(t)?t:js(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,n){return xs(e,t,n)}build(e,t,n){rs(e,t,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,t,n,r){!function(e,t,n,r){Zs(e,t,void 0,r);for(const a in t.attrs)e.setAttribute(to.has(a)?a:js(a),t.attrs[a])}(e,t,0,r)}mount(e){this.isSVGTag=as(e.tagName),super.mount(e)}}const ro=(e,t)=>ls(e)?new no(t):new eo(t,{allowProjection:e!==x.Fragment});function ao(e,t,n){const r=e.getProps();return us(r,t,void 0!==n?n:r.custom,e)}const io=e=>Array.isArray(e);function so(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,oi(n))}function oo(e){return io(e)?e[e.length-1]||0:e}function lo(e,t){const n=e.getValue("willChange");if(r=n,Boolean(wi(r)&&r.add))return n.add(t);if(!n&&Kt.WillChange){const n=new Kt.WillChange("auto");e.addValue("willChange",n),n.add(t)}var r}function co(e){return e.props[Ns]}const uo=e=>null!==e,ho={type:"spring",stiffness:500,damping:25,restSpeed:10},po={type:"keyframes",duration:.8},mo={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},fo=(e,t,n,r={},a,i)=>s=>{const o=Ba(r,e)||{},l=o.delay||r.delay||0;let{elapsed:c=0}=r;c-=sn(l);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-c,onUpdate:e=>{t.set(e),o.onUpdate&&o.onUpdate(e)},onComplete:()=>{s(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:i?void 0:a};(function({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:a,repeat:i,repeatType:s,repeatDelay:o,from:l,elapsed:c,...d}){return!!Object.keys(d).length})(o)||Object.assign(d,((e,{keyframes:t})=>t.length>2?po:da.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===t[1]?2*Math.sqrt(550):30,restSpeed:10}:ho:mo)(e,d)),d.duration&&(d.duration=sn(d.duration)),d.repeatDelay&&(d.repeatDelay=sn(d.repeatDelay)),void 0!==d.from&&(d.keyframes[0]=d.from);let u=!1;if((!1===d.type||0===d.duration&&!d.repeatDelay)&&(La(d),0===d.delay&&(u=!0)),(Kt.instantAnimations||Kt.skipAnimations)&&(u=!0,La(d),d.delay=0),d.allowFlatten=!o.type&&!o.ease,u&&!i&&void 0!==t.get()){const e=function(e,{repeat:t,repeatType:n="loop"}){const r=e.filter(uo);return r[t&&"loop"!==n&&t%2==1?0:r.length-1]}(d.keyframes,o);if(void 0!==e)return void An.update(()=>{d.onUpdate(e),d.onComplete()})}return o.isSync?new Qr(d):new Fa(d)};function go({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&!0!==t[n];return t[n]=!1,r}function xo(e,t,{delay:n=0,transitionOverride:r,type:a}={}){var i;let{transition:s=e.getDefaultTransition(),transitionEnd:o,...l}=t;r&&(s=r);const c=[],d=a&&e.animationState&&e.animationState.getState()[a];for(const u in l){const t=e.getValue(u,null!=(i=e.latestValues[u])?i:null),r=l[u];if(void 0===r||d&&go(d,u))continue;const a={delay:n,...Ba(s||{},u)},o=t.get();if(void 0!==o&&!t.isAnimating&&!Array.isArray(r)&&r===o&&!a.velocity)continue;let h=!1;if(window.MotionHandoffAnimation){const t=co(e);if(t){const e=window.MotionHandoffAnimation(t,u,An);null!==e&&(a.startTime=e,h=!0)}}lo(e,u),t.start(fo(u,t,r,e.shouldReduceMotion&&Wa.has(u)?{type:!1}:a,e,h));const p=t.animation;p&&c.push(p)}return o&&Promise.all(c).then(()=>{An.update(()=>{o&&function(e,t){const n=ao(e,t);let{transitionEnd:r={},transition:a={},...i}=n||{};i={...i,...r};for(const s in i)so(e,s,oo(i[s]))}(e,o)})}),c}function bo(e,t,n,r=0,a=1){const i=Array.from(e).sort((e,t)=>e.sortNodePosition(t)).indexOf(t),s=e.size,o=(s-1)*r;return"function"==typeof n?n(i,s):1===a?i*r:o-i*r}function yo(e,t,n={}){var r;const a=ao(e,t,"exit"===n.type?null==(r=e.presenceContext)?void 0:r.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=a||{};n.transitionOverride&&(i=n.transitionOverride);const s=a?()=>Promise.all(xo(e,a,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(r=0)=>{const{delayChildren:a=0,staggerChildren:s,staggerDirection:o}=i;return function(e,t,n=0,r=0,a=0,i=1,s){const o=[];for(const l of e.variantChildren)l.notify("AnimationStart",t),o.push(yo(l,t,{...s,delay:n+("function"==typeof r?0:r)+bo(e.variantChildren,l,r,a,i)}).then(()=>l.notify("AnimationComplete",t)));return Promise.all(o)}(e,t,r,a,s,o,n)}:()=>Promise.resolve(),{when:l}=i;if(l){const[e,t]="beforeChildren"===l?[s,o]:[o,s];return e().then(()=>t())}return Promise.all([s(),o(n.delay)])}function vo(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const wo=Ui.length;function jo(e){if(!e)return;if(!e.isControllingVariants){const t=e.parent&&jo(e.parent)||{};return void 0!==e.props.initial&&(t.initial=e.props.initial),t}const t={};for(let n=0;n<wo;n++){const r=Ui[n],a=e.props[r];(Wi(a)||!1===a)&&(t[r]=a)}return t}const No=[...$i].reverse(),ko=$i.length;function So(e){let t=function(e){return t=>Promise.all(t.map(({animation:t,options:n})=>function(e,t,n={}){let r;if(e.notify("AnimationStart",t),Array.isArray(t)){const a=t.map(t=>yo(e,t,n));r=Promise.all(a)}else if("string"==typeof t)r=yo(e,t,n);else{const a="function"==typeof t?ao(e,t,n.custom):t;r=Promise.all(xo(e,a,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}(e,t,n)))}(e),n=Ao(),r=!0;const a=t=>(n,r)=>{var a;const i=ao(e,r,"exit"===t?null==(a=e.presenceContext)?void 0:a.custom:void 0);if(i){const{transition:e,transitionEnd:t,...r}=i;n={...n,...r,...t}}return n};function i(i){const{props:s}=e,o=jo(e.parent)||{},l=[],c=new Set;let d={},u=1/0;for(let t=0;t<ko;t++){const h=No[t],p=n[h],m=void 0!==s[h]?s[h]:o[h],f=Wi(m),g=h===i?p.isActive:null;!1===g&&(u=t);let x=m===o[h]&&m!==s[h]&&f;if(x&&r&&e.manuallyAnimateOnMount&&(x=!1),p.protectedKeys={...d},!p.isActive&&null===g||!m&&!p.prevProp||Bi(m)||"boolean"==typeof m)continue;const b=Co(p.prevProp,m);let y=b||h===i&&p.isActive&&!x&&f||t>u&&f,v=!1;const w=Array.isArray(m)?m:[m];let j=w.reduce(a(h),{});!1===g&&(j={});const{prevResolvedValues:N={}}=p,k={...N,...j},S=t=>{y=!0,c.has(t)&&(v=!0,c.delete(t)),p.needsAnimating[t]=!0;const n=e.getValue(t);n&&(n.liveStyle=!1)};for(const e in k){const t=j[e],n=N[e];if(d.hasOwnProperty(e))continue;let r=!1;r=io(t)&&io(n)?!vo(t,n):t!==n,r?null!=t?S(e):c.add(e):void 0!==t&&c.has(e)?S(e):p.protectedKeys[e]=!0}p.prevProp=m,p.prevResolvedValues=j,p.isActive&&(d={...d,...j}),r&&e.blockInitialAnimation&&(y=!1);const C=x&&b;y&&(!C||v)&&l.push(...w.map(t=>{const n={type:h};if("string"==typeof t&&r&&!C&&e.manuallyAnimateOnMount&&e.parent){const{parent:r}=e,a=ao(r,t);if(r.enteringChildren&&a){const{delayChildren:t}=a.transition||{};n.delay=bo(r.enteringChildren,e,t)}}return{animation:t,options:n}}))}if(c.size){const t={};if("boolean"!=typeof s.initial){const n=ao(e,Array.isArray(s.initial)?s.initial[0]:s.initial);n&&n.transition&&(t.transition=n.transition)}c.forEach(n=>{const r=e.getBaseTarget(n),a=e.getValue(n);a&&(a.liveStyle=!0),t[n]=null!=r?r:null}),l.push({animation:t})}let h=Boolean(l.length);return!r||!1!==s.initial&&s.initial!==s.animate||e.manuallyAnimateOnMount||(h=!1),r=!1,h?t(l):Promise.resolve()}return{animateChanges:i,setActive:function(t,r){var a;if(n[t].isActive===r)return Promise.resolve();null==(a=e.variantChildren)||a.forEach(e=>{var n;return null==(n=e.animationState)?void 0:n.setActive(t,r)}),n[t].isActive=r;const s=i(t);for(const e in n)n[e].protectedKeys={};return s},setAnimateFunction:function(n){t=n(e)},getState:()=>n,reset:()=>{n=Ao(),r=!0}}}function Co(e,t){return"string"==typeof t?t!==e:!!Array.isArray(t)&&!vo(t,e)}function _o(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Ao(){return{animate:_o(!0),whileInView:_o(),whileHover:_o(),whileTap:_o(),whileDrag:_o(),whileFocus:_o(),exit:_o()}}class To{constructor(e){this.isMounted=!1,this.node=e}update(){}}let Oo=0;const Eo={animation:{Feature:class extends To{constructor(e){super(e),e.animationState||(e.animationState=So(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Bi(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),null==(e=this.unmountControls)||e.call(this)}}},exit:{Feature:class extends To{constructor(){super(...arguments),this.id=Oo++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const r=this.node.animationState.setActive("exit",!e);t&&!e&&r.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}}};function Mo(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function Po(e){return{point:{x:e.pageX,y:e.pageY}}}function Do(e,t,n,r){return Mo(e,t,(e=>t=>mi(t)&&e(t,Po(t)))(n),r)}function Lo(e){return e.max-e.min}function Io(e,t,n,r=.5){e.origin=r,e.originPoint=xr(t.min,t.max,e.origin),e.scale=Lo(n)/Lo(t),e.translate=xr(n.min,n.max,e.origin)-e.originPoint,(e.scale>=.9999&&e.scale<=1.0001||isNaN(e.scale))&&(e.scale=1),(e.translate>=-.01&&e.translate<=.01||isNaN(e.translate))&&(e.translate=0)}function Ro(e,t,n,r){Io(e.x,t.x,n.x,r?r.originX:void 0),Io(e.y,t.y,n.y,r?r.originY:void 0)}function Fo(e,t,n){e.min=n.min+t.min,e.max=e.min+Lo(t)}function Ho(e,t,n){e.min=t.min-n.min,e.max=e.min+Lo(t)}function zo(e,t,n){Ho(e.x,t.x,n.x),Ho(e.y,t.y,n.y)}function Bo(e){return[e("x"),e("y")]}const Wo=({current:e})=>e?e.ownerDocument.defaultView:null,$o=(e,t)=>Math.abs(e-t);class Uo{constructor(e,t,{transformPagePoint:n,contextWindow:r=window,dragSnapToOrigin:a=!1,distanceThreshold:i=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=Go(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,n=function(e,t){const n=$o(e.x,t.x),r=$o(e.y,t.y);return Math.sqrt(n**2+r**2)}(e.offset,{x:0,y:0})>=this.distanceThreshold;if(!t&&!n)return;const{point:r}=e,{timestamp:a}=On;this.history.push({...r,timestamp:a});const{onStart:i,onMove:s}=this.handlers;t||(i&&i(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),s&&s(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=Vo(t,this.transformPagePoint),An.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:n,onSessionEnd:r,resumeAnimation:a}=this.handlers;if(this.dragSnapToOrigin&&a&&a(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const i=Go("pointercancel"===e.type?this.lastMoveEventInfo:Vo(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,i),r&&r(e,i)},!mi(e))return;this.dragSnapToOrigin=a,this.handlers=t,this.transformPagePoint=n,this.distanceThreshold=i,this.contextWindow=r||window;const s=Vo(Po(e),this.transformPagePoint),{point:o}=s,{timestamp:l}=On;this.history=[{...o,timestamp:l}];const{onSessionStart:c}=t;c&&c(e,Go(s,this.history)),this.removeListeners=nn(Do(this.contextWindow,"pointermove",this.handlePointerMove),Do(this.contextWindow,"pointerup",this.handlePointerUp),Do(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Tn(this.updatePoint)}}function Vo(e,t){return t?{point:t(e.point)}:e}function qo(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Go({point:e},t){return{point:e,delta:qo(e,Ko(t)),offset:qo(e,Yo(t)),velocity:Jo(t,.1)}}function Yo(e){return e[0]}function Ko(e){return e[e.length-1]}function Jo(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const a=Ko(e);for(;n>=0&&(r=e[n],!(a.timestamp-r.timestamp>sn(t)));)n--;if(!r)return{x:0,y:0};const i=on(a.timestamp-r.timestamp);if(0===i)return{x:0,y:0};const s={x:(a.x-r.x)/i,y:(a.y-r.y)/i};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function Xo(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function Qo(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}const Zo=.35;function el(e,t,n){return{min:tl(e,t),max:tl(e,n)}}function tl(e,t){return"number"==typeof e?e:e[t]||0}const nl=new WeakMap;class rl{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:n}={}){const{presenceContext:r}=this.visualElement;if(r&&!1===r.isPresent)return;const{dragSnapToOrigin:a}=this.getProps();this.panSession=new Uo(e,{onSessionStart:e=>{const{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Po(e).point)},onStart:(e,t)=>{const{drag:n,dragPropagation:r,onDragStart:a}=this.getProps();if(n&&!r&&(this.openDragLock&&this.openDragLock(),this.openDragLock="x"===(i=n)||"y"===i?ci[i]?null:(ci[i]=!0,()=>{ci[i]=!1}):ci.x||ci.y?null:(ci.x=ci.y=!0,()=>{ci.x=ci.y=!1}),!this.openDragLock))return;var i;this.latestPointerEvent=e,this.latestPanInfo=t,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Bo(e=>{let t=this.getAxisMotionValue(e).get()||0;if(Zn.test(t)){const{projection:n}=this.visualElement;if(n&&n.layout){const r=n.layout.layoutBox[e];r&&(t=Lo(r)*(parseFloat(t)/100))}}this.originPoint[e]=t}),a&&An.postRender(()=>a(e,t)),lo(this.visualElement,"transform");const{animationState:s}=this.visualElement;s&&s.setActive("whileDrag",!0)},onMove:(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t;const{dragPropagation:n,dragDirectionLock:r,onDirectionLock:a,onDrag:i}=this.getProps();if(!n&&!this.openDragLock)return;const{offset:s}=t;if(r&&null===this.currentDirection)return this.currentDirection=function(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}(s),void(null!==this.currentDirection&&a&&a(this.currentDirection));this.updateAxis("x",t.point,s),this.updateAxis("y",t.point,s),this.visualElement.render(),i&&i(e,t)},onSessionEnd:(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t,this.stop(e,t),this.latestPointerEvent=null,this.latestPanInfo=null},resumeAnimation:()=>Bo(e=>{var t;return"paused"===this.getAnimationState(e)&&(null==(t=this.getAxisMotionValue(e).animation)?void 0:t.play())})},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:a,distanceThreshold:n,contextWindow:Wo(this.visualElement)})}stop(e,t){const n=e||this.latestPointerEvent,r=t||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!r||!n)return;const{velocity:i}=r;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&An.postRender(()=>s(n,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:r}=this.getProps();if(!n||!al(e,r,this.currentDirection))return;const a=this.getAxisMotionValue(e);let i=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(i=function(e,{min:t,max:n},r){return void 0!==t&&e<t?e=r?xr(t,e,r.min):Math.max(e,t):void 0!==n&&e>n&&(e=r?xr(n,e,r.max):Math.min(e,n)),e}(i,this.constraints[e],this.elastic[e])),a.set(i)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null==(e=this.visualElement.projection)?void 0:e.layout,a=this.constraints;t&&vs(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!t||!r)&&function(e,{top:t,left:n,bottom:r,right:a}){return{x:Xo(e.x,n,a),y:Xo(e.y,t,r)}}(r.layoutBox,t),this.elastic=function(e=Zo){return!1===e?e=0:!0===e&&(e=Zo),{x:el(e,"left","right"),y:el(e,"top","bottom")}}(n),a!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Bo(e=>{!1!==this.constraints&&this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(r.layoutBox[e],this.constraints[e]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!vs(e))return!1;const n=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const a=function(e,t,n){const r=Vs(e,n),{scroll:a}=t;return a&&(Ws(r.x,a.offset.x),Ws(r.y,a.offset.y)),r}(n,r.root,this.visualElement.getTransformPagePoint());let i=function(e,t){return{x:Qo(e.x,t.x),y:Qo(e.y,t.y)}}(r.layout.layoutBox,a);if(t){const e=t(function({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}(i));this.hasMutatedConstraints=!!e,e&&(i=Os(e))}return i}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:r,dragTransition:a,dragSnapToOrigin:i,onDragTransitionEnd:s}=this.getProps(),o=this.constraints||{},l=Bo(s=>{if(!al(s,t,this.currentDirection))return;let l=o&&o[s]||{};i&&(l={min:0,max:0});const c=r?200:1e6,d=r?40:1e7,u={type:"inertia",velocity:n?e[s]:0,bounceStiffness:c,bounceDamping:d,timeConstant:750,restDelta:1,restSpeed:10,...a,...l};return this.startAxisValueAnimation(s,u)});return Promise.all(l).then(s)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return lo(this.visualElement,e),n.start(fo(e,n,0,t,this.visualElement,!1))}stopAnimation(){Bo(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Bo(e=>{var t;return null==(t=this.getAxisMotionValue(e).animation)?void 0:t.pause()})}getAnimationState(e){var t;return null==(t=this.getAxisMotionValue(e).animation)?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps();return n[t]||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){Bo(t=>{const{drag:n}=this.getProps();if(!al(t,n,this.currentDirection))return;const{projection:r}=this.visualElement,a=this.getAxisMotionValue(t);if(r&&r.layout){const{min:n,max:i}=r.layout.layoutBox[t];a.set(e[t]-xr(n,i,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!vs(t)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Bo(e=>{const t=this.getAxisMotionValue(e);if(t&&!1!==this.constraints){const n=t.get();r[e]=function(e,t){let n=.5;const r=Lo(e),a=Lo(t);return a>r?n=rn(t.min,t.max-r,e.min):r>a&&(n=rn(e.min,e.max-a,t.min)),Yt(0,1,n)}({min:n,max:n},this.constraints[e])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Bo(t=>{if(!al(t,e,null))return;const n=this.getAxisMotionValue(t),{min:a,max:i}=this.constraints[t];n.set(xr(a,i,r[t]))})}addListeners(){if(!this.visualElement.current)return;nl.set(this.visualElement,this);const e=Do(this.visualElement.current,"pointerdown",e=>{const{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)}),t=()=>{const{dragConstraints:e}=this.getProps();vs(e)&&e.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,r=n.addEventListener("measure",t);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),An.read(t);const a=Mo(window,"resize",()=>this.scalePositionWithinConstraints()),i=n.addEventListener("didUpdate",({delta:e,hasLayoutChanged:t})=>{this.isDragging&&t&&(Bo(t=>{const n=this.getAxisMotionValue(t);n&&(this.originPoint[t]+=e[t].translate,n.set(n.get()+e[t].translate))}),this.visualElement.render())});return()=>{a(),e(),r(),i&&i()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:a=!1,dragElastic:i=Zo,dragMomentum:s=!0}=e;return{...e,drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:a,dragElastic:i,dragMomentum:s}}}function al(e,t,n){return!(!0!==t&&t!==e||null!==n&&n!==e)}const il=e=>(t,n)=>{e&&An.postRender(()=>e(t,n))},sl={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function ol(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const ll={correct:(e,t)=>{if(!t.target)return e;if("string"==typeof e){if(!er.test(e))return e;e=parseFloat(e)}return`${ol(e,t.target.x)}% ${ol(e,t.target.y)}%`}},cl={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,a=mr.parse(e);if(a.length>5)return r;const i=mr.createTransformer(e),s="number"!=typeof a[0]?1:0,o=n.x.scale*t.x,l=n.y.scale*t.y;a[0+s]/=o,a[1+s]/=l;const c=xr(o,l,.5);return"number"==typeof a[2+s]&&(a[2+s]/=c),"number"==typeof a[3+s]&&(a[3+s]/=c),i(a)}};let dl=!1;class ul extends x.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:a}=e;!function(e){for(const t in e)Yi[t]=e[t],In(t)&&(Yi[t].isCSSVariable=!0)}(pl),a&&(t.group&&t.group.add(a),n&&n.register&&r&&n.register(a),dl&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),sl.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:r,isPresent:a}=this.props,{projection:i}=n;return i?(i.isPresent=a,dl=!0,r||e.layoutDependency!==t||void 0===t||e.isPresent!==a?i.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?i.promote():i.relegate()||An.postRender(()=>{const e=i.getStack();e&&e.members.length||this.safeToRemove()})),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),li.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;dl=!0,r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function hl(e){const[t,n]=Ti(),r=x.useContext(Bt);return h.jsx(ul,{...e,layoutGroup:r,switchLayoutGroup:x.useContext(ks),isPresent:t,safeToRemove:n})}const pl={borderRadius:{...ll,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ll,borderTopRightRadius:ll,borderBottomLeftRadius:ll,borderBottomRightRadius:ll,boxShadow:cl},ml=(e,t)=>e.depth-t.depth;class fl{constructor(){this.children=[],this.isDirty=!1}add(e){qt(this.children,e),this.isDirty=!0}remove(e){Gt(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(ml),this.isDirty=!1,this.children.forEach(e)}}const gl=["TopLeft","TopRight","BottomLeft","BottomRight"],xl=gl.length,bl=e=>"string"==typeof e?parseFloat(e):e,yl=e=>"number"==typeof e||er.test(e);function vl(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const wl=Nl(0,.5,bn),jl=Nl(.5,.95,en);function Nl(e,t,n){return r=>r<e?0:r>t?1:n(rn(e,t,r))}function kl(e,t){e.min=t.min,e.max=t.max}function Sl(e,t){kl(e.x,t.x),kl(e.y,t.y)}function Cl(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function _l(e,t,n,r,a){return e=Is(e-=t,1/n,r),void 0!==a&&(e=Is(e,1/a,r)),e}function Al(e,t,[n,r,a],i,s){!function(e,t=0,n=1,r=.5,a,i=e,s=e){if(Zn.test(t)&&(t=parseFloat(t),t=xr(s.min,s.max,t/100)-s.min),"number"!=typeof t)return;let o=xr(i.min,i.max,r);e===i&&(o-=t),e.min=_l(e.min,t,n,o,a),e.max=_l(e.max,t,n,o,a)}(e,t[n],t[r],t[a],t.scale,i,s)}const Tl=["x","scaleX","originX"],Ol=["y","scaleY","originY"];function El(e,t,n,r){Al(e.x,t,Tl,n?n.x:void 0,r?r.x:void 0),Al(e.y,t,Ol,n?n.y:void 0,r?r.y:void 0)}function Ml(e){return 0===e.translate&&1===e.scale}function Pl(e){return Ml(e.x)&&Ml(e.y)}function Dl(e,t){return e.min===t.min&&e.max===t.max}function Ll(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Il(e,t){return Ll(e.x,t.x)&&Ll(e.y,t.y)}function Rl(e){return Lo(e.x)/Lo(e.y)}function Fl(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Hl{constructor(){this.members=[]}add(e){qt(this.members,e),e.scheduleRender()}remove(e){if(Gt(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex(t=>e===t);if(0===t)return!1;let n;for(let r=t;r>=0;r--){const e=this.members[r];if(!1!==e.isPresent){n=e;break}}return!!n&&(this.promote(n),!0)}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;!1===r&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const zl=["","X","Y","Z"];let Bl=0;function Wl(e,t,n,r){const{latestValues:a}=t;a[e]&&(n[e]=a[e],t.setStaticValue(e,0),r&&(r[e]=0))}function $l(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=co(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:t,layoutId:r}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",An,!(t||r))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&$l(r)}function Ul({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:a}){return class{constructor(e={},n=(null==t?void 0:t())){this.id=Bl++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Gl),this.nodes.forEach(ec),this.nodes.forEach(tc),this.nodes.forEach(Yl)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=n?n.root||n:this,this.path=n?[...n.path,n]:[],this.parent=n,this.depth=n?n.depth+1:0;for(let t=0;t<this.path.length;t++)this.path[t].shouldResetTransform=!0;this.root===this&&(this.nodes=new fl)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new an),this.eventHandlers.get(e).add(t)}notifyListeners(e,...t){const n=this.eventHandlers.get(e);n&&n.notify(...t)}hasListeners(e){return this.eventHandlers.has(e)}mount(t){if(this.instance)return;var n;this.isSVG=vi(t)&&!(vi(n=t)&&"svg"===n.tagName),this.instance=t;const{layoutId:r,layout:a,visualElement:i}=this.options;if(i&&!i.current&&i.mount(t),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(a||r)&&(this.isLayoutDirty=!0),e){let n,r=0;const a=()=>this.root.updateBlockedByResize=!1;An.read(()=>{r=window.innerWidth}),e(t,()=>{const e=window.innerWidth;e!==r&&(r=e,this.root.updateBlockedByResize=!0,n&&n(),n=function(e){const t=Dn.now(),n=({timestamp:r})=>{const a=r-t;a>=250&&(Tn(n),e(a-250))};return An.setup(n,!0),()=>Tn(n)}(a),sl.hasAnimatedSinceResize&&(sl.hasAnimatedSinceResize=!1,this.nodes.forEach(Zl)))})}r&&this.root.registerSharedNode(r,this),!1!==this.options.animate&&i&&(r||a)&&this.addEventListener("didUpdate",({delta:e,hasLayoutChanged:t,hasRelativeLayoutChanged:n,layout:r})=>{if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const a=this.options.transition||i.getDefaultTransition()||oc,{onLayoutAnimationStart:s,onLayoutAnimationComplete:o}=i.getProps(),l=!this.targetLayout||!Il(this.targetLayout,r),c=!t&&n;if(this.options.layoutRoot||this.resumeFrom||c||t&&(l||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const t={...Ba(a,"layout"),onPlay:s,onComplete:o};(i.shouldReduceMotion||this.options.layoutRoot)&&(t.delay=0,t.type=!1),this.startAnimation(t),this.setAnimationOrigin(e,c)}else t||Zl(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=r})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Tn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(nc),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(e=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&$l(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let a=0;a<this.path.length;a++){const e=this.path[a];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:n}=this.options;if(void 0===t&&!n)return;const r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(Jl);if(this.animationId<=this.animationCommitId)return void this.nodes.forEach(Xl);this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Ql),this.nodes.forEach(Vl),this.nodes.forEach(ql)):this.nodes.forEach(Xl),this.clearAllSnapshots();const e=Dn.now();On.delta=Yt(0,1e3/60,e-On.timestamp),On.timestamp=e,On.isProcessing=!0,En.update.process(On),En.preRender.process(On),En.render.process(On),On.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,li.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Kl),this.sharedNodes.forEach(rc)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,An.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){An.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure(),!this.snapshot||Lo(this.snapshot.measuredBox.x)||Lo(this.snapshot.measuredBox.y)||(this.snapshot=void 0))}updateLayout(){if(!this.instance)return;if(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead()||this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++)this.path[n].updateScroll();const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(e="measure"){let t=Boolean(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&this.instance){const t=r(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!a)return;const e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!Pl(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,i=r!==this.prevTransformTemplateValue;e&&this.instance&&(t||Ps(this.latestValues)||i)&&(a(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(e=!0){const t=this.measurePageBox();let n=this.removeElementScroll(t);var r;return e&&(n=this.removeTransform(n)),dc((r=n).x),dc(r.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){var e;const{visualElement:t}=this.options;if(!t)return{x:{min:0,max:0},y:{min:0,max:0}};const n=t.measureViewportBox();if(!(null==(e=this.scroll)?void 0:e.wasRoot)&&!this.path.some(hc)){const{scroll:e}=this.root;e&&(Ws(n.x,e.offset.x),Ws(n.y,e.offset.y))}return n}removeElementScroll(e){var t;const n={x:{min:0,max:0},y:{min:0,max:0}};if(Sl(n,e),null==(t=this.scroll)?void 0:t.wasRoot)return n;for(let r=0;r<this.path.length;r++){const t=this.path[r],{scroll:a,options:i}=t;t!==this.root&&a&&i.layoutScroll&&(a.wasRoot&&Sl(n,e),Ws(n.x,a.offset.x),Ws(n.y,a.offset.y))}return n}applyTransform(e,t=!1){const n={x:{min:0,max:0},y:{min:0,max:0}};Sl(n,e);for(let r=0;r<this.path.length;r++){const e=this.path[r];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&Us(n,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),Ps(e.latestValues)&&Us(n,e.latestValues)}return Ps(this.latestValues)&&Us(n,this.latestValues),n}removeTransform(e){const t={x:{min:0,max:0},y:{min:0,max:0}};Sl(t,e);for(let n=0;n<this.path.length;n++){const e=this.path[n];if(!e.instance)continue;if(!Ps(e.latestValues))continue;Ms(e.latestValues)&&e.updateSnapshot();const r=qs();Sl(r,e.measurePageBox()),El(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,r)}return Ps(this.latestValues)&&El(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options={...this.options,...e,crossfade:void 0===e.crossfade||e.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==On.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(e=!1){var t;const n=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=n.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=n.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=n.isSharedProjectionDirty);const r=Boolean(this.resumingFrom)||this!==n;if(!(e||r&&this.isSharedProjectionDirty||this.isProjectionDirty||(null==(t=this.parent)?void 0:t.isProjectionDirty)||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:a,layoutId:i}=this.options;if(this.layout&&(a||i)){if(this.resolvedRelativeTargetAt=On.timestamp,!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},zo(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),Sl(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}var s,o,l;if((this.relativeTarget||this.targetDelta)&&(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),s=this.target,o=this.relativeTarget,l=this.relativeParent.target,Fo(s.x,o.x,l.x),Fo(s.y,o.y,l.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):Sl(this.target,this.layout.layoutBox),Hs(this.target,this.targetDelta)):Sl(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},zo(this.relativeTargetOrigin,this.target,e.target),Sl(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(this.parent&&!Ms(this.parent.latestValues)&&!Ds(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var e;const t=this.getLead(),n=Boolean(this.resumingFrom)||this!==t;let r=!0;if((this.isProjectionDirty||(null==(e=this.parent)?void 0:e.isProjectionDirty))&&(r=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===On.timestamp&&(r=!1),r)return;const{layout:a,layoutId:i}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!a&&!i)return;Sl(this.layoutCorrected,this.layout.layoutBox);const s=this.treeScale.x,o=this.treeScale.y;!function(e,t,n,r=!1){const a=n.length;if(!a)return;let i,s;t.x=t.y=1;for(let o=0;o<a;o++){i=n[o],s=i.projectionDelta;const{visualElement:a}=i.options;a&&a.props.style&&"contents"===a.props.style.display||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Us(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,Hs(e,s)),r&&Ps(i.latestValues)&&Us(e,i.latestValues))}t.x<Bs&&t.x>zs&&(t.x=1),t.y<Bs&&t.y>zs&&(t.y=1)}(this.layoutCorrected,this.treeScale,this.path,n),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox,t.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}});const{target:l}=t;l?(this.projectionDelta&&this.prevProjectionDelta?(Cl(this.prevProjectionDelta.x,this.projectionDelta.x),Cl(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),Ro(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.treeScale.x===s&&this.treeScale.y===o&&Fl(this.projectionDelta.x,this.prevProjectionDelta.x)&&Fl(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l))):this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender())}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(e=!0){var t;if(null==(t=this.options.visualElement)||t.scheduleRender(),e){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}}setAnimationOrigin(e,t=!1){const n=this.snapshot,r=n?n.latestValues:{},a={...this.latestValues},i={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const s={x:{min:0,max:0},y:{min:0,max:0}},o=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),c=!l||l.members.length<=1,d=Boolean(o&&!c&&!0===this.options.crossfade&&!this.path.some(sc));let u;this.animationProgress=0,this.mixTargetDelta=t=>{const n=t/1e3;var l,h,p,m,f,g;ac(i.x,e.x,n),ac(i.y,e.y,n),this.setTargetDelta(i),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(zo(s,this.layout.layoutBox,this.relativeParent.layout.layoutBox),p=this.relativeTarget,m=this.relativeTargetOrigin,f=s,g=n,ic(p.x,m.x,f.x,g),ic(p.y,m.y,f.y,g),u&&(l=this.relativeTarget,h=u,Dl(l.x,h.x)&&Dl(l.y,h.y))&&(this.isProjectionDirty=!1),u||(u={x:{min:0,max:0},y:{min:0,max:0}}),Sl(u,this.relativeTarget)),o&&(this.animationValues=a,function(e,t,n,r,a,i){var s,o,l,c;a?(e.opacity=xr(0,null!=(s=n.opacity)?s:1,wl(r)),e.opacityExit=xr(null!=(o=t.opacity)?o:1,0,jl(r))):i&&(e.opacity=xr(null!=(l=t.opacity)?l:1,null!=(c=n.opacity)?c:1,r));for(let d=0;d<xl;d++){const a=`border${gl[d]}Radius`;let i=vl(t,a),s=vl(n,a);void 0===i&&void 0===s||(i||(i=0),s||(s=0),0===i||0===s||yl(i)===yl(s)?(e[a]=Math.max(xr(bl(i),bl(s),r),0),(Zn.test(s)||Zn.test(i))&&(e[a]+="%")):e[a]=s)}(t.rotate||n.rotate)&&(e.rotate=xr(t.rotate||0,n.rotate||0,r))}(a,r,this.latestValues,n,d,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){var t,n,r;this.notifyListeners("animationStart"),null==(t=this.currentAnimation)||t.stop(),null==(r=null==(n=this.resumingFrom)?void 0:n.currentAnimation)||r.stop(),this.pendingAnimation&&(Tn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=An.update(()=>{sl.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=oi(0)),this.currentAnimation=function(e,t,n){const r=wi(e)?e:oi(e);return r.start(fo("",r,[0,1e3],n)),r.animation}(this.motionValue,0,{...e,velocity:0,isSync:!0,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onStop:()=>{},onComplete:()=>{e.onComplete&&e.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:n,layout:r,latestValues:a}=e;if(t&&n&&r){if(this!==e&&this.layout&&r&&uc(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const t=Lo(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;const r=Lo(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+r}Sl(t,n),Us(t,a),Ro(this.projectionDeltaWithTransform,this.layoutCorrected,t,a)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new Hl),this.sharedNodes.get(e).add(t);const n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){var e;const{layoutId:t}=this.options;return t&&(null==(e=this.getStack())?void 0:e.lead)||this}getPrevLead(){var e;const{layoutId:t}=this.options;return t?null==(e=this.getStack())?void 0:e.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote({needsReset:e,transition:t,preserveFollowOpacity:n}={}){const r=this.getStack();r&&r.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetSkewAndRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:n}=e;if((n.z||n.rotate||n.rotateX||n.rotateY||n.rotateZ||n.skewX||n.skewY)&&(t=!0),!t)return;const r={};n.z&&Wl("z",e,r,this.animationValues);for(let a=0;a<zl.length;a++)Wl(`rotate${zl[a]}`,e,r,this.animationValues),Wl(`skew${zl[a]}`,e,r,this.animationValues);e.render();for(const a in r)e.setStaticValue(a,r[a]),this.animationValues&&(this.animationValues[a]=r[a]);e.scheduleRender()}applyProjectionStyles(e,t){var n,r;if(!this.instance||this.isSVG)return;if(!this.isVisible)return void(e.visibility="hidden");const a=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,e.visibility="",e.opacity="",e.pointerEvents=hs(null==t?void 0:t.pointerEvents)||"",void(e.transform=a?a(this.latestValues,""):"none");const i=this.getLead();if(!this.projectionDelta||!this.layout||!i.target)return this.options.layoutId&&(e.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,e.pointerEvents=hs(null==t?void 0:t.pointerEvents)||""),void(this.hasProjected&&!Ps(this.latestValues)&&(e.transform=a?a({},""):"none",this.hasProjected=!1));e.visibility="";const s=i.animationValues||i.latestValues;this.applyTransformsToTarget();let o=function(e,t,n){let r="";const a=e.x.translate/t.x,i=e.y.translate/t.y,s=(null==n?void 0:n.z)||0;if((a||i||s)&&(r=`translate3d(${a}px, ${i}px, ${s}px) `),1===t.x&&1===t.y||(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:e,rotate:t,rotateX:a,rotateY:i,skewX:s,skewY:o}=n;e&&(r=`perspective(${e}px) ${r}`),t&&(r+=`rotate(${t}deg) `),a&&(r+=`rotateX(${a}deg) `),i&&(r+=`rotateY(${i}deg) `),s&&(r+=`skewX(${s}deg) `),o&&(r+=`skewY(${o}deg) `)}const o=e.x.scale*t.x,l=e.y.scale*t.y;return 1===o&&1===l||(r+=`scale(${o}, ${l})`),r||"none"}(this.projectionDeltaWithTransform,this.treeScale,s);a&&(o=a(s,o)),e.transform=o;const{x:l,y:c}=this.projectionDelta;e.transformOrigin=`${100*l.origin}% ${100*c.origin}% 0`,i.animationValues?e.opacity=i===this?null!=(r=null!=(n=s.opacity)?n:this.latestValues.opacity)?r:1:this.preserveOpacity?this.latestValues.opacity:s.opacityExit:e.opacity=i===this?void 0!==s.opacity?s.opacity:"":void 0!==s.opacityExit?s.opacityExit:0;for(const d in Yi){if(void 0===s[d])continue;const{correct:t,applyTo:n,isCSSVariable:r}=Yi[d],a="none"===o?s[d]:t(s[d],i);if(n){const t=n.length;for(let r=0;r<t;r++)e[n[r]]=a}else r?this.options.visualElement.renderState.vars[d]=a:e[d]=a}this.options.layoutId&&(e.pointerEvents=i===this?hs(null==t?void 0:t.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(e=>{var t;return null==(t=e.currentAnimation)?void 0:t.stop()}),this.root.nodes.forEach(Jl),this.root.sharedNodes.clear()}}}function Vl(e){e.updateLayout()}function ql(e){var t;const n=(null==(t=e.resumeFrom)?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:r}=e.layout,{animationType:a}=e.options,i=n.source!==e.layout.source;"size"===a?Bo(e=>{const r=i?n.measuredBox[e]:n.layoutBox[e],a=Lo(r);r.min=t[e].min,r.max=r.min+a}):uc(a,n.layoutBox,t)&&Bo(r=>{const a=i?n.measuredBox[r]:n.layoutBox[r],s=Lo(t[r]);a.max=a.min+s,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[r].max=e.relativeTarget[r].min+s)});const s={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};Ro(s,t,n.layoutBox);const o={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};i?Ro(o,e.applyTransform(r,!0),n.measuredBox):Ro(o,t,n.layoutBox);const l=!Pl(s);let c=!1;if(!e.resumeFrom){const r=e.getClosestProjectingParent();if(r&&!r.resumeFrom){const{snapshot:a,layout:i}=r;if(a&&i){const s={x:{min:0,max:0},y:{min:0,max:0}};zo(s,n.layoutBox,a.layoutBox);const o={x:{min:0,max:0},y:{min:0,max:0}};zo(o,t,i.layoutBox),Il(s,o)||(c=!0),r.options.layoutRoot&&(e.relativeTarget=o,e.relativeTargetOrigin=s,e.relativeParent=r)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:n,delta:o,layoutDelta:s,hasLayoutChanged:l,hasRelativeLayoutChanged:c})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function Gl(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Yl(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Kl(e){e.clearSnapshot()}function Jl(e){e.clearMeasurements()}function Xl(e){e.isLayoutDirty=!1}function Ql(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Zl(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function ec(e){e.resolveTargetDelta()}function tc(e){e.calcProjection()}function nc(e){e.resetSkewAndRotation()}function rc(e){e.removeLeadSnapshot()}function ac(e,t,n){e.translate=xr(t.translate,0,n),e.scale=xr(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function ic(e,t,n,r){e.min=xr(t.min,n.min,r),e.max=xr(t.max,n.max,r)}function sc(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const oc={duration:.45,ease:[.4,0,.1,1]},lc=e=>"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),cc=lc("applewebkit/")&&!lc("chrome/")?Math.round:en;function dc(e){e.min=cc(e.min),e.max=cc(e.max)}function uc(e,t,n){return"position"===e||"preserve-aspect"===e&&(r=Rl(t),a=Rl(n),!(Math.abs(r-a)<=.2));var r,a}function hc(e){var t;return e!==e.root&&(null==(t=e.scroll)?void 0:t.wasRoot)}const pc=Ul({attachResizeListener:(e,t)=>Mo(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),mc={current:void 0},fc=Ul({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!mc.current){const e=new pc({});e.mount(window),e.setOptions({layoutScroll:!0}),mc.current=e}return mc.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),gc={pan:{Feature:class extends To{constructor(){super(...arguments),this.removePointerDownListener=en}onPointerDown(e){this.session=new Uo(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Wo(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:il(e),onStart:il(t),onMove:n,onEnd:(e,t)=>{delete this.session,r&&An.postRender(()=>r(e,t))}}}mount(){this.removePointerDownListener=Do(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends To{constructor(e){super(e),this.removeGroupControls=en,this.removeListeners=en,this.controls=new rl(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||en}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:fc,MeasureLayout:hl}};function xc(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover","Start"===n);const a=r["onHover"+n];a&&An.postRender(()=>a(t,Po(t)))}function bc(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap","Start"===n);const a=r["onTap"+("End"===n?"":n)];a&&An.postRender(()=>a(t,Po(t)))}const yc=new WeakMap,vc=new WeakMap,wc=e=>{const t=yc.get(e.target);t&&t(e)},jc=e=>{e.forEach(wc)};const Nc={some:0,all:1},kc=Ts({...Eo,inView:{Feature:class extends To{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r="some",once:a}=e,i={root:t?t.current:void 0,rootMargin:n,threshold:"number"==typeof r?r:Nc[r]};return function(e,t,n){const r=function({root:e,...t}){const n=e||document;vc.has(n)||vc.set(n,{});const r=vc.get(n),a=JSON.stringify(t);return r[a]||(r[a]=new IntersectionObserver(jc,{root:e,...t})),r[a]}(t);return yc.set(e,n),r.observe(e),()=>{yc.delete(e),r.unobserve(e)}}(this.node.current,i,e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,a&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),i=t?n:r;i&&i(e)})}mount(){this.startObserver()}update(){if("undefined"==typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(function({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}(e,t))&&this.startObserver()}unmount(){}}},tap:{Feature:class extends To{mount(){const{current:e}=this.node;e&&(this.unmount=function(e,t,n={}){const[r,a,i]=ui(e,n),s=e=>{const r=e.currentTarget;if(!yi(e))return;gi.add(r);const i=t(r,e),s=(e,t)=>{window.removeEventListener("pointerup",o),window.removeEventListener("pointercancel",l),gi.has(r)&&gi.delete(r),yi(e)&&"function"==typeof i&&i(e,{success:t})},o=e=>{s(e,r===window||r===document||n.useGlobalTarget||pi(r,e.target))},l=e=>{s(e,!1)};window.addEventListener("pointerup",o,a),window.addEventListener("pointercancel",l,a)};return r.forEach(e=>{var t;(n.useGlobalTarget?window:e).addEventListener("pointerdown",s,a),ii(e)&&(e.addEventListener("focus",e=>((e,t)=>{const n=e.currentTarget;if(!n)return;const r=xi(()=>{if(gi.has(n))return;bi(n,"down");const e=xi(()=>{bi(n,"up")});n.addEventListener("keyup",e,t),n.addEventListener("blur",()=>bi(n,"cancel"),t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)})(e,a)),t=e,fi.has(t.tagName)||-1!==t.tabIndex||e.hasAttribute("tabindex")||(e.tabIndex=0))}),i}(e,(e,t)=>(bc(this.node,t,"Start"),(e,{success:t})=>bc(this.node,e,t?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}},focus:{Feature:class extends To{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(Ew){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=nn(Mo(this.node.current,"focus",()=>this.onFocus()),Mo(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}},hover:{Feature:class extends To{mount(){const{current:e}=this.node;e&&(this.unmount=function(e,t,n={}){const[r,a,i]=ui(e,n),s=e=>{if(!hi(e))return;const{target:n}=e,r=t(n,e);if("function"!=typeof r||!n)return;const i=e=>{hi(e)&&(r(e),n.removeEventListener("pointerleave",i))};n.addEventListener("pointerleave",i,a)};return r.forEach(e=>{e.addEventListener("pointerenter",s,a)}),i}(e,(e,t)=>(xc(this.node,t,"Start"),e=>xc(this.node,e,"End"))))}unmount(){}}},...gc,layout:{ProjectionNode:fc,MeasureLayout:hl}},ro),Sc=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},Cc=(...e)=>e.filter((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim(),_c=e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var Ac={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Tc=x.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:i,iconNode:s,...o},l)=>x.createElement("svg",{ref:l,...Ac,width:t,height:t,stroke:e,strokeWidth:r?24*Number(n)/Number(t):n,className:Cc("lucide",a),...!i&&!_c(o)&&{"aria-hidden":"true"},...o},[...s.map(([e,t])=>x.createElement(e,t)),...Array.isArray(i)?i:[i]])),Oc=(e,t)=>{const n=x.forwardRef(({className:n,...r},a)=>{return x.createElement(Tc,{ref:a,iconNode:t,className:Cc(`lucide-${i=Sc(e),i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,n),...r});var i});return n.displayName=Sc(e),n},Ec=Oc("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]),Mc=Oc("align-center",[["path",{d:"M17 12H7",key:"16if0g"}],["path",{d:"M19 18H5",key:"18s9l3"}],["path",{d:"M21 6H3",key:"1jwq7v"}]]),Pc=Oc("align-justify",[["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 18h18",key:"1h113x"}],["path",{d:"M3 6h18",key:"d0wm0j"}]]),Dc=Oc("align-left",[["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 18H3",key:"1amg6g"}],["path",{d:"M21 6H3",key:"1jwq7v"}]]),Lc=Oc("align-right",[["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M21 18H7",key:"1ygte8"}],["path",{d:"M21 6H3",key:"1jwq7v"}]]),Ic=Oc("archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]),Rc=Oc("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),Fc=Oc("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),Hc=Oc("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]),zc=Oc("bold",[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]]),Bc=Oc("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]),Wc=Oc("box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]),$c=Oc("boxes",[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]]),Uc=Oc("building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),Vc=Oc("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),qc=Oc("camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),Gc=Oc("chart-bar",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M7 16h8",key:"srdodz"}],["path",{d:"M7 11h12",key:"127s9w"}],["path",{d:"M7 6h3",key:"w9rmul"}]]),Yc=Oc("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),Kc=Oc("chart-no-axes-column",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]),Jc=Oc("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),Xc=Oc("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),Qc=Oc("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Zc=Oc("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),ed=Oc("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),td=Oc("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),nd=Oc("circle-play",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]),rd=Oc("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),ad=Oc("clipboard",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]]),id=Oc("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),sd=Oc("code",[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]]),od=Oc("component",[["path",{d:"M15.536 11.293a1 1 0 0 0 0 1.414l2.376 2.377a1 1 0 0 0 1.414 0l2.377-2.377a1 1 0 0 0 0-1.414l-2.377-2.377a1 1 0 0 0-1.414 0z",key:"1uwlt4"}],["path",{d:"M2.297 11.293a1 1 0 0 0 0 1.414l2.377 2.377a1 1 0 0 0 1.414 0l2.377-2.377a1 1 0 0 0 0-1.414L6.088 8.916a1 1 0 0 0-1.414 0z",key:"10291m"}],["path",{d:"M8.916 17.912a1 1 0 0 0 0 1.415l2.377 2.376a1 1 0 0 0 1.414 0l2.377-2.376a1 1 0 0 0 0-1.415l-2.377-2.376a1 1 0 0 0-1.414 0z",key:"1tqoq1"}],["path",{d:"M8.916 4.674a1 1 0 0 0 0 1.414l2.377 2.376a1 1 0 0 0 1.414 0l2.377-2.376a1 1 0 0 0 0-1.414l-2.377-2.377a1 1 0 0 0-1.414 0z",key:"1x6lto"}]]),ld=Oc("computer",[["rect",{width:"14",height:"8",x:"5",y:"2",rx:"2",key:"wc9tft"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",key:"w68u3i"}],["path",{d:"M6 18h2",key:"rwmk9e"}],["path",{d:"M12 18h6",key:"aqd8w3"}]]),cd=Oc("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),dd=Oc("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),ud=Oc("database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),hd=Oc("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]),pd=Oc("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]),md=Oc("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),fd=Oc("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),gd=Oc("file",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]),xd=Oc("folder-plus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]),bd=Oc("folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]),yd=Oc("frown",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 16s-1.5-2-4-2-4 2-4 2",key:"epbg0q"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]),vd=Oc("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]),wd=Oc("git-branch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]),jd=Oc("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),Nd=Oc("hammer",[["path",{d:"m15 12-8.373 8.373a1 1 0 1 1-3-3L12 9",key:"eefl8a"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172V7l-2.26-2.26a6 6 0 0 0-4.202-1.756L9 2.96l.92.82A6.18 6.18 0 0 1 12 8.4V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"b7pghm"}]]),kd=Oc("heading-1",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"m17 12 3-2v8",key:"1hhhft"}]]),Sd=Oc("heading-2",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1",key:"9jr5yi"}]]),Cd=Oc("heading-3",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17.5 10.5c1.7-1 3.5 0 3.5 1.5a2 2 0 0 1-2 2",key:"68ncm8"}],["path",{d:"M17 17.5c2 1.5 4 .3 4-1.5a2 2 0 0 0-2-2",key:"1ejuhz"}]]),_d=Oc("history",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),Ad=Oc("hourglass",[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]]),Td=Oc("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]),Od=Oc("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),Ed=Oc("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),Md=Oc("italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]),Pd=Oc("key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]),Dd=Oc("layers",[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]]),Ld=Oc("life-buoy",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.93 4.93 4.24 4.24",key:"1ymg45"}],["path",{d:"m14.83 9.17 4.24-4.24",key:"1cb5xl"}],["path",{d:"m14.83 14.83 4.24 4.24",key:"q42g0n"}],["path",{d:"m9.17 14.83-4.24 4.24",key:"bqpfvv"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]]),Id=Oc("link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),Rd=Oc("list-check",[["path",{d:"M11 18H3",key:"n3j2dh"}],["path",{d:"m15 18 2 2 4-4",key:"1szwhi"}],["path",{d:"M16 12H3",key:"1a2rj7"}],["path",{d:"M16 6H3",key:"1wxfjs"}]]),Fd=Oc("list-checks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]),Hd=Oc("list-ordered",[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]),zd=Oc("list-plus",[["path",{d:"M11 12H3",key:"51ecnj"}],["path",{d:"M16 6H3",key:"1wxfjs"}],["path",{d:"M16 18H3",key:"12xzn7"}],["path",{d:"M18 9v6",key:"1twb98"}],["path",{d:"M21 12h-6",key:"bt1uis"}]]),Bd=Oc("list",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]),Wd=Oc("loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]),$d=Oc("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),Ud=Oc("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]),Vd=Oc("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]),qd=Oc("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),Gd=Oc("message-square",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),Yd=Oc("monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]),Kd=Oc("moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),Jd=Oc("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]),Xd=Oc("paint-bucket",[["path",{d:"m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z",key:"irua1i"}],["path",{d:"m5 2 5 5",key:"1lls2c"}],["path",{d:"M2 13h15",key:"1hkzvu"}],["path",{d:"M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z",key:"xk76lq"}]]),Qd=Oc("palette",[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]]),Zd=Oc("paperclip",[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]]),eu=Oc("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]),tu=Oc("pilcrow",[["path",{d:"M13 4v16",key:"8vvj80"}],["path",{d:"M17 4v16",key:"7dpous"}],["path",{d:"M19 4H9.5a4.5 4.5 0 0 0 0 9H13",key:"sh4n9v"}]]),nu=Oc("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),ru=Oc("printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]),au=Oc("qr-code",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]),iu=Oc("receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]),su=Oc("redo-2",[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5A5.5 5.5 0 0 0 9.5 20H13",key:"6uklza"}]]),ou=Oc("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),lu=Oc("remove-formatting",[["path",{d:"M4 7V4h16v3",key:"9msm58"}],["path",{d:"M5 20h6",key:"1h6pxn"}],["path",{d:"M13 4 8 20",key:"kqq6aj"}],["path",{d:"m15 15 5 5",key:"me55sn"}],["path",{d:"m20 15-5 5",key:"11p7ol"}]]),cu=Oc("save-all",[["path",{d:"M10 2v3a1 1 0 0 0 1 1h5",key:"1xspal"}],["path",{d:"M18 18v-6a1 1 0 0 0-1-1h-6a1 1 0 0 0-1 1v6",key:"1ra60u"}],["path",{d:"M18 22H4a2 2 0 0 1-2-2V6",key:"pblm9e"}],["path",{d:"M8 18a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9.172a2 2 0 0 1 1.414.586l2.828 2.828A2 2 0 0 1 22 6.828V16a2 2 0 0 1-2.01 2z",key:"1yve0x"}]]),du=Oc("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),uu=Oc("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),hu=Oc("settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),pu=Oc("share-2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),mu=Oc("shopping-cart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),fu=Oc("square-check-big",[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),gu=Oc("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),xu=Oc("strikethrough",[["path",{d:"M16 4H9a3 3 0 0 0-2.83 4",key:"43sutm"}],["path",{d:"M14 12a4 4 0 0 1 0 8H6",key:"nlfj13"}],["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}]]),bu=Oc("sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),yu=Oc("tool-case",[["path",{d:"M10 15h4",key:"192ueg"}],["path",{d:"m14.817 10.995-.971-1.45 1.034-1.232a2 2 0 0 0-2.025-3.238l-1.82.364L9.91 3.885a2 2 0 0 0-3.625.748L6.141 6.55l-1.725.426a2 2 0 0 0-.19 3.756l.657.27",key:"xbnumr"}],["path",{d:"m18.822 10.995 2.26-5.38a1 1 0 0 0-.557-1.318L16.954 2.9a1 1 0 0 0-1.281.533l-.924 2.122",key:"eaw7gc"}],["path",{d:"M4 12.006A1 1 0 0 1 4.994 11H19a1 1 0 0 1 1 1v7a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2z",key:"1vaooh"}]]),vu=Oc("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),wu=Oc("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]),ju=Oc("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Nu=Oc("type",[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]]),ku=Oc("undo-2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]]),Su=Oc("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]),Cu=Oc("user-check",[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),_u=Oc("user-cog",[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),Au=Oc("user-plus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),Tu=Oc("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Ou=Oc("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),Eu=Oc("warehouse",[["path",{d:"M18 21V10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1v11",key:"pb2vm6"}],["path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 1.132-1.803l7.95-3.974a2 2 0 0 1 1.837 0l7.948 3.974A2 2 0 0 1 22 8z",key:"doq5xv"}],["path",{d:"M6 13h12",key:"yf64js"}],["path",{d:"M6 17h12",key:"1jwigz"}]]),Mu=Oc("wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]),Pu=Oc("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Du=b.memo(({icon:e,text:t,to:n,expanded:r,onNavigate:a})=>{const i=je(),s=ye().pathname===n;return h.jsxs(kc.button,{onClick:()=>{i(n),a&&a()},whileHover:{backgroundColor:s?void 0:"rgba(239, 246, 255, 0.6)"},whileTap:{scale:.98},className:`relative w-full text-left flex items-center py-3 px-4 rounded-xl transition-all duration-200 ease-in-out group\n        ${s?"bg-blue-600 text-white shadow-lg":"text-gray-700 hover:text-blue-700"}\n        ${r?"justify-start":"justify-center"}\n      `,children:[h.jsx("span",{className:"text-xl transition-colors duration-200 "+(s?"text-white":"text-blue-500 group-hover:text-blue-700"),children:e}),r&&h.jsx(kc.span,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{duration:.15},className:"ml-4 text-base font-medium whitespace-nowrap",children:t})]})}),Lu=b.memo(()=>{const[e,t]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return!!e&&JSON.parse(e)}),n=je(),[r,a]=x.useState(window.innerWidth<768),[i,s]=x.useState(!1),{user:o,hasPermission:l}=gt(),c=x.useRef(null);x.useEffect(()=>{const n=()=>{const n=window.innerWidth<768;a(n),!n&&e&&t(!0)};return window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[e]),x.useEffect(()=>{const e=c.current;if(e){const t=sessionStorage.getItem("sidebarScrollPos");t&&(e.scrollTop=parseInt(t,10));const n=()=>{sessionStorage.setItem("sidebarScrollPos",e.scrollTop.toString())};return e.addEventListener("scroll",n),()=>{e.removeEventListener("scroll",n)}}},[]);const d=()=>{s(!i)},u=()=>{s(!1)},p=()=>h.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 z-40 md:hidden",children:h.jsxs("div",{className:"flex justify-around items-center py-2",children:[h.jsxs("button",{onClick:d,className:"flex flex-col items-center p-2 rounded-lg transition-colors duration-200 "+(i?"text-blue-600 bg-blue-50":"text-gray-600"),children:[h.jsx(Td,{className:"text-xl"}),h.jsx("span",{className:"text-xs mt-1",children:"Menu"})]}),h.jsxs("button",{onClick:()=>n("/dashboard"),className:"flex flex-col items-center p-2 rounded-lg transition-colors duration-200 "+("/dashboard"===location.pathname?"text-blue-600 bg-blue-50":"text-gray-600"),children:[h.jsx(Kc,{className:"text-xl"}),h.jsx("span",{className:"text-xs mt-1",children:"Dashboard"})]}),h.jsxs("button",{onClick:()=>n("/workorders"),className:"flex flex-col items-center p-2 rounded-lg transition-colors duration-200 "+("/workorders"===location.pathname?"text-blue-600 bg-blue-50":"text-gray-600"),children:[h.jsx(ad,{className:"text-xl"}),h.jsx("span",{className:"text-xs mt-1",children:"Work Orders"})]}),h.jsxs("button",{onClick:()=>n("/monitoringmaintenance"),className:"flex flex-col items-center p-2 rounded-lg transition-colors duration-200 "+("/monitoringmaintenance"===location.pathname?"text-blue-600 bg-blue-50":"text-gray-600"),children:[h.jsx(Yd,{className:"text-xl"}),h.jsx("span",{className:"text-xs mt-1",children:"Monitoring"})]})]})}),m=()=>h.jsx(Mi,{children:i&&h.jsxs(h.Fragment,{children:[h.jsx(kc.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 bg-black bg-opacity-50 z-40 md:hidden",onClick:d}),h.jsxs(kc.div,{initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:{duration:.3,ease:"easeOut"},className:"fixed inset-y-0 left-0 w-80 bg-white z-50 md:hidden shadow-xl",children:[h.jsxs("div",{className:"p-4 flex items-center justify-between border-b border-gray-100 bg-white",children:[h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx("img",{src:xt,alt:"Logo Wida",className:"h-8 w-auto"}),h.jsx("p",{className:"text-blue-600 font-bold text-lg",children:"CMMS"})]}),h.jsx("button",{onClick:d,className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200",children:h.jsx(Pu,{className:"text-xl"})})]}),h.jsxs("nav",{className:"flex-1 p-4 space-y-2 overflow-y-auto h-[calc(100vh-140px)]",children:[l("1")&&h.jsx(Du,{icon:h.jsx(Td,{}),text:"Dashboard",to:"/dashboard",expanded:!0,onNavigate:u}),h.jsxs("div",{className:"pt-4",children:[h.jsx("h3",{className:"text-xs font-semibold uppercase text-gray-400 px-2 pb-2 tracking-wider",children:"5S"}),l("7")&&h.jsx(Du,{icon:h.jsx(ad,{}),text:"Genba",to:"/genba",expanded:!0,onNavigate:u})]}),h.jsxs("div",{className:"pt-4",children:[h.jsx("h3",{className:"text-xs font-semibold uppercase text-gray-400 px-2 pb-2 tracking-wider",children:"System"}),l("23")&&h.jsxs(h.Fragment,{children:[h.jsx(Du,{icon:h.jsx(Rd,{}),text:"Audit Trail",to:"/audittrail",expanded:!0,onNavigate:u}),h.jsx(Du,{icon:h.jsx(_d,{}),text:"Backup & Restore",to:"/backupandrestore",expanded:!0,onNavigate:u})]})]}),h.jsxs("div",{className:"pt-4",children:[h.jsx("h3",{className:"text-xs font-semibold uppercase text-gray-400 px-2 pb-2 tracking-wider",children:"Master"}),l("3")&&h.jsx(Du,{icon:h.jsx(Jd,{}),text:"Assets",to:"/assets",expanded:!0,onNavigate:u}),l("15")&&h.jsx(Du,{icon:h.jsx(Pd,{}),text:"User Management",to:"/permissions",expanded:!0,onNavigate:u})]}),h.jsxs("div",{className:"pt-4",children:[h.jsx("h3",{className:"text-xs font-semibold uppercase text-gray-400 px-2 pb-2 tracking-wider",children:"Maintenance"}),l("31")&&h.jsxs(h.Fragment,{children:[h.jsx(Du,{icon:h.jsx(Gc,{}),text:"Machine History",to:"/machinehistory",expanded:!0,onNavigate:u}),h.jsx(Du,{icon:h.jsx(Yd,{}),text:"Monitoring Maintenance",to:"/monitoringmaintenance",expanded:!0,onNavigate:u})]})]}),h.jsxs("div",{className:"pt-4",children:[h.jsx("h3",{className:"text-xs font-semibold uppercase text-gray-400 px-2 pb-2 tracking-wider",children:"Work Orders"}),l("7")&&h.jsx(Du,{icon:h.jsx(ad,{}),text:"Work Orders",to:"/workorders",expanded:!0,onNavigate:u})]})]}),h.jsx("div",{className:"p-4 border-t border-gray-100 bg-white",children:h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx("img",{src:`https://api.dicebear.com/7.x/initials/svg?seed=${(null==o?void 0:o.name)||"User"}&backgroundColor=0081ff,3d5a80,ffc300,e0b589&backgroundType=gradientLinear&radius=50`,alt:"User Avatar",className:"w-10 h-10 rounded-full border-2 border-blue-400 object-cover"}),h.jsxs("div",{children:[h.jsx("p",{className:"font-semibold text-gray-800 text-sm",children:(null==o?void 0:o.name)||"User"}),h.jsx("p",{className:"text-xs text-gray-500",children:"Version 1.0.0"})]})]})})]})]})});return h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"hidden md:flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:h.jsx(Mi,{children:(!r||e)&&h.jsxs(kc.div,{initial:{width:r?0:e?280:80,opacity:0},animate:{width:e?280:80,opacity:1},exit:{width:0,opacity:0},transition:{duration:.25,ease:"easeInOut"},className:"bg-white border-r border-gray-100 flex flex-col shadow-xl overflow-hidden",children:[h.jsxs("div",{className:"p-4 flex items-center justify-between border-b border-gray-100",children:[e?h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx("img",{src:xt,alt:"Logo Wida",className:"h-9 w-auto"}),h.jsx("p",{className:"text-blue-600 font-bold text-xl tracking-wide",children:"CMMS"})]}):h.jsx("img",{src:xt,alt:"Logo Wida",className:"h-8 w-auto mx-auto"}),h.jsx("button",{onClick:()=>{const n=!e;localStorage.setItem("sidebarOpen",JSON.stringify(n)),t(n)},className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200","aria-label":e?"Collapse sidebar":"Expand sidebar",children:e?h.jsx(Xc,{className:"text-xl"}):h.jsx(Qc,{className:"text-xl"})})]}),h.jsxs("nav",{ref:c,className:"flex-1 p-3 space-y-1.5 overflow-y-auto sidebar-nav",children:[l("1")&&h.jsx(Du,{icon:h.jsx(Td,{}),text:"Dashboard",to:"/dashboard",expanded:e}),e&&h.jsx("h3",{className:"text-xs font-semibold uppercase text-gray-400 px-4 pt-4 pb-1 tracking-wider",children:"5S"}),l("7")&&h.jsx(Du,{icon:h.jsx(ad,{}),text:"Genba",to:"/genba",expanded:e}),e&&h.jsx("h3",{className:"text-xs font-semibold uppercase text-gray-400 px-4 pt-4 pb-1 tracking-wider",children:"System"}),l("23")&&h.jsx(Du,{icon:h.jsx(Rd,{}),text:"Audit Trail",to:"/audittrail",expanded:e}),l("23")&&h.jsx(Du,{icon:h.jsx(_d,{}),text:"Backup & Restore",to:"/backupandrestore",expanded:e}),l("23")&&h.jsx(Du,{icon:h.jsx(_d,{}),text:"Workflow Approval",to:"/workflowapproval",expanded:e}),e&&h.jsx("h3",{className:"text-xs font-semibold uppercase text-gray-400 px-4 pt-4 pb-1 tracking-wider",children:"Master"}),l("23")&&h.jsx(Du,{icon:h.jsx(qd,{}),text:"Work Location",to:"/worklocation",expanded:e}),l("23")&&h.jsx(Du,{icon:h.jsx(Ou,{}),text:"Work Arrangement",to:"/workarrangement",expanded:e}),l("15")&&h.jsx(Du,{icon:h.jsx(Pd,{}),text:"User Management",to:"/permissions",expanded:e}),l("23")&&h.jsx(Du,{icon:h.jsx(Mu,{}),text:"Spare Part",to:"/sparepart",expanded:e}),l("3")&&h.jsx(Du,{icon:h.jsx(Jd,{}),text:"Assets",to:"/assets",expanded:e}),l("3")&&h.jsx(Du,{icon:h.jsx(Jd,{}),text:"Vendors",to:"/vendors",expanded:e}),l("3")&&h.jsx(Du,{icon:h.jsx(Ld,{}),text:"Services",to:"/services",expanded:e}),l("3")&&h.jsx(Du,{icon:h.jsx(yu,{}),text:"Maintenance Activity",to:"/maintenanceactivity",expanded:e}),e&&h.jsx("h3",{className:"text-xs font-semibold uppercase text-gray-400 px-4 pt-4 pb-1 tracking-wider",children:"Maintenance"}),l("31")&&h.jsx(Du,{icon:h.jsx(Gc,{}),text:"Machine History",to:"/machinehistory",expanded:e}),l("31")&&h.jsx(Du,{icon:h.jsx(Yd,{}),text:"Monitoring Maintenance",to:"/monitoringmaintenance",expanded:e}),e&&h.jsx("h3",{className:"text-xs font-semibold uppercase text-gray-400 px-4 pt-4 pb-1 tracking-wider",children:"Work Orders"}),l("7")&&h.jsx(Du,{icon:h.jsx(ad,{}),text:"Work Orders",to:"/workorders",expanded:e}),e&&h.jsx("h3",{className:"text-xs font-semibold uppercase text-gray-400 px-4 pt-4 pb-1 tracking-wider",children:"Spare Parts"}),l("23")&&h.jsx(Du,{icon:h.jsx(od,{}),text:"Sparepart Detail",to:"/sparepartdetail",expanded:e}),l("23")&&h.jsx(Du,{icon:h.jsx(mu,{}),text:"Purchase Order Realization",to:"/purchaseorderrealization",expanded:e}),l("23")&&h.jsx(Du,{icon:h.jsx(iu,{}),text:"Transaction by Item",to:"/transactionbyitem",expanded:e}),l("23")&&h.jsx(Du,{icon:h.jsx(Ic,{}),text:"Spare Part Management",to:"/sparepartmanagement",expanded:e})]}),h.jsx("div",{className:"p-4 border-t border-gray-100",children:h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx("img",{src:`https://api.dicebear.com/7.x/initials/svg?seed=${(null==o?void 0:o.name)||"User"}&backgroundColor=0081ff,3d5a80,ffc300,e0b589&backgroundType=gradientLinear&radius=50`,alt:"User Avatar",className:"w-10 h-10 rounded-full border-2 border-blue-400 object-cover"}),e&&h.jsxs("div",{children:[h.jsx("p",{className:"font-semibold text-gray-800 text-sm",children:"Application Version"}),h.jsx("p",{className:"text-xs text-gray-500",children:"1.0.0"})]})]})})]})})}),h.jsx(p,{}),h.jsx(m,{})]})}),Iu=[{id:1,title:"Machine A Warning",description:"Machine A temperature exceeds normal limits.",date:"Today, 10:00 AM",icon:h.jsx(ju,{className:"text-red-500"})},{id:2,title:"Upcoming Maintenance Schedule",description:"Routine maintenance for Machine B will be performed tomorrow.",date:"Yesterday, 03:00 PM",icon:h.jsx(Vc,{className:"text-blue-500"})}],Ru={"/dashboard":"Dashboard","/assets":"Assets","/assets/assetsdata":"Assets Data","/assets/assetsdata/addasset":"Add Asset","/assets/assetsdata/editasset/:id":"Edit Asset","/machinehistory":"Machine History","/machinehistory/reports":"Machine History Reports","/machinehistory/addmachinehistory":"Add Machine History","/machinehistory/edit/:id":"Edit Machine History","/workorders":"Work Orders","/workorders/it":"IT Work Orders","/workorders/it/addworkorder":"Add Work Order","/workorders/it/editworkorder/:id":"Edit Work Order","/workorders/it/receiver":"Receiver","/workorders/it/assignment":"Assignment","/workorders/it/reports":"Reports","/workorders/it/knowledgebase":"Knowledge Base","/inventory":"Inventory","/reports":"Reports","/team":"Team","/settings":"Settings","/settings/change-password":"Change Password","/permissions":"Permissions","/permissions/adduser":"Add User","/audittrail":"Audit Trail","/workflowapproval":"Workflow Approval","/workflowapproval/monitoringapproval":"Approval Monitoring","/vendors":"Vendors","/vendors/addvendor":"Add Vendor","/vendors/editvendor/:id":"Edit Vendor","/services":"Services","/services/servicegroups":"Service Groups","/services/servicegroups/addservicegroup":"Add Service Group","/services/servicegroups/editservicegroup/:id":"Edit Service Group","/services/servicecatalogues":"Service Catalogues","/services/servicecatalogues/addservicecatalogue":"Add Service Catalogue","/services/servicecatalogues/editservicecatalogue/:id":"Edit Service Catalogue","/maintenanceactivity":"Maintenance Activity","/maintenanceactivity/stoptimes":"Stop Times","/maintenanceactivity/stoptimes/addstoptime":"Add Stop Time","/maintenanceactivity/stoptimes/editstoptime/:id":"Edit Stop Time","/maintenanceactivity/activitytypes":"Activity Types","/maintenanceactivity/activitytypes/addactivitytype":"Add Activity Type","/maintenanceactivity/activitytypes/editactivitytype/:id":"Edit Activity Type","/maintenanceactivity/activity":"Activity","/maintenanceactivity/activity/addactivity":"Add Activity","/maintenanceactivity/activity/editactivity/:id":"Edit Activity","/maintenanceactivity/troubleitem":"Trouble Item","/maintenanceactivity/troubleitem/addtroubleitem":"Add Trouble Item","/maintenanceactivity/troubleitem/edittroubleitem/:id":"Edit Trouble Item","/worklocation":"Work Location","/worklocation/department":"Department","/worklocation/department/adddepartment":"Add Department","/worklocation/department/editdepartment/:id":"Edit Department","/worklocation/workunit":"Work Unit","/worklocation/workunit/addworkunit":"Add Work Unit","/worklocation/workunit/editworkunit/:id":"Edit Work Unit","/worklocation/workarea":"Work Area","/worklocation/workarea/addworkarea":"Add Work Area","/worklocation/workarea/editworkarea/:id":"Edit Work Area","/workarrangement":"Work Arrangement","/workarrangement/workshift":"Work Shift","/workarrangement/workshift/addworkshift":"Add Work Shift","/workarrangement/workshift/editworkshift/:id":"Edit Work Shift","/workarrangement/workgroup":"Work Group","/workarrangement/workgroup/addworkgroup":"Add Work Group","/workarrangement/workgroup/editworkgroup/:id":"Edit Work Group","/sparepart":"Spare Part","/monitoringmaintenance":"Maintenance Monitoring","/monitoringmaintenance/detailmonitoringmaintenance":"Monitoring Details","/monitoringmaintenance/formmonitoringmaintenance":"Monitoring Form"},Fu=({mainTitle:e,mainTitleHighlight:t,description:n,icon:r,isMobile:a,toggleSidebar:i})=>{const{user:s,logout:o}=gt(),l=je(),c=ye(),[d,u]=x.useState(!1),[p,m]=x.useState(!1),[f,g]=x.useState(!1),y=x.useRef(null),v=x.useRef(null);x.useEffect(()=>{const e=e=>{y.current&&!y.current.contains(e.target)&&u(!1),v.current&&!v.current.contains(e.target)&&m(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);const w=(()=>{const e=c.pathname.split("/").filter(e=>""!==e),t=[];t.push({label:"Dashboard",path:"/dashboard",isClickable:!0});let n="";for(let r=0;r<e.length;r++){const a=e[r];if(n+=`/${a}`,/^\d+$/.test(a)||/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(a))continue;const i=Ru[n]||a.charAt(0).toUpperCase()+a.slice(1).replace(/([A-Z])/g," $1");t.push({label:i,path:n,isClickable:r<e.length-1&&void 0!==Ru[n]})}return t})();return h.jsxs(h.Fragment,{children:[h.jsxs("header",{className:"bg-white border-b border-gray-100 p-4 flex items-center justify-between shadow-sm sticky top-0 z-30",children:[h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsx("div",{className:"text-blue-600 text-xl",children:(()=>{const e={className:`text-blue-600 ${r.props.className||""}`};return b.cloneElement(r,e)})()}),h.jsx("div",{className:"flex flex-col",children:h.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900",children:e})})]}),h.jsxs("div",{className:"flex items-center space-x-3 relative",children:[h.jsx(kc.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>g(!f),className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200","aria-label":f?"Switch to light mode":"Switch to dark mode",children:f?h.jsx(bu,{className:"text-yellow-400 text-xl"}):h.jsx(Kd,{className:"text-xl"})}),h.jsxs("div",{className:"relative",ref:y,children:[h.jsxs(kc.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>u(!d),className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200 relative","aria-label":"Notifications",children:[h.jsx(Hc,{className:"text-xl"}),h.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-orange-500 rounded-full animate-pulse border border-white"})]}),h.jsx(Mi,{children:d&&h.jsxs(kc.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.2},className:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-xl overflow-hidden z-50 border border-gray-100",children:[h.jsx("div",{className:"p-4 border-b border-gray-100",children:h.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Notifications"})}),h.jsx("div",{className:"max-h-80 overflow-y-auto custom-scrollbar",children:Iu.length>0?Iu.map(e=>h.jsxs("div",{className:"flex items-start p-4 border-b border-gray-50 last:border-b-0 hover:bg-blue-50 transition-colors cursor-pointer",children:[e.icon&&h.jsx("div",{className:"flex-shrink-0 mr-3",children:e.icon}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-semibold text-gray-800",children:e.title}),h.jsx("p",{className:"text-xs text-gray-600 mt-1",children:e.description}),h.jsx("p",{className:"text-xs text-gray-400 mt-1",children:e.date})]})]},e.id)):h.jsx("p",{className:"p-4 text-center text-gray-500 text-sm",children:"No new notifications."})}),h.jsx("div",{className:"p-4 border-t border-gray-100 text-center",children:h.jsx("button",{onClick:()=>{u(!1)},className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Mark all as read"})})]})})]}),h.jsxs("div",{className:"relative",ref:v,children:[h.jsxs(kc.button,{whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},whileTap:{scale:.98},onClick:()=>m(!p),className:"flex items-center space-x-2 cursor-pointer p-2 rounded-lg transition-colors duration-200",children:[h.jsx("img",{src:`https://api.dicebear.com/7.x/initials/svg?seed=${(null==s?void 0:s.name)||"User"}&backgroundColor=0081ff,3d5a80,ffc300,e0b589&backgroundType=gradientLinear&radius=50`,alt:"User Avatar",className:"w-8 h-8 rounded-full border border-blue-200 object-cover"}),!a&&h.jsx("span",{className:"font-medium text-gray-900 text-sm",children:null==s?void 0:s.name}),h.jsx(Jc,{className:"text-gray-500 text-base"})]}),h.jsx(Mi,{children:p&&h.jsxs(kc.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg py-2 z-40 border border-gray-100",children:[h.jsx("div",{className:"px-4 py-2 text-xs text-gray-500 border-b border-gray-100",children:"Signed in as"}),h.jsx("div",{className:"px-4 py-2 font-semibold text-gray-800 border-b border-gray-100 truncate",children:(null==s?void 0:s.name)||"Guest User"}),h.jsxs("button",{onClick:()=>{l("/settings"),m(!1)},className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-blue-50 w-full text-left",children:[h.jsx(hu,{size:16,className:"mr-2"})," Settings"]}),h.jsx("hr",{className:"my-1 border-gray-100"}),h.jsxs("button",{onClick:()=>{l("/logout"),m(!1)},className:"flex items-center px-4 py-2 text-sm text-red-600 hover:bg-red-50 w-full text-left",children:[h.jsx(Ud,{size:16,className:"mr-2"})," Logout"]})]})})]})]})]}),h.jsx("div",{className:"bg-gray-50 border-b border-gray-100 px-4 py-3",children:h.jsx("div",{className:"flex items-center space-x-2 text-sm",children:w.map((e,t)=>h.jsxs("div",{className:"flex items-center space-x-2",children:[0===t?h.jsx(Td,{size:16,className:"text-gray-400"}):h.jsx(Qc,{size:16,className:"text-gray-400"}),e.isClickable?h.jsx("button",{onClick:()=>l(e.path),className:"text-blue-600 hover:text-blue-800 font-medium transition-colors duration-200",children:e.label}):h.jsx("span",{className:"text-gray-600 font-medium",children:e.label})]},e.path))})})]})},Hu=({title:e,value:t,change:n,icon:r})=>{const a=n.startsWith("+");return h.jsxs(kc.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[h.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:e}),h.jsx("p",{className:"text-3xl font-bold text-gray-900",children:t})]}),h.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:r})]}),h.jsxs("p",{className:"mt-3 text-xs font-semibold "+(a?"text-green-600":"text-red-600"),children:[n," from last month"]})]})},zu=()=>{var e;const[t,n]=x.useState(!1),[r,a]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return!!e&&JSON.parse(e)}),[i,s]=x.useState(1),{user:o,fetchWithAuth:l,hasPermission:c}=gt(),[d,u]=x.useState(null),p=je(),[m,f]=x.useState(!1),[g,b]=x.useState(window.innerWidth<768),[y,v]=x.useState(!1),[w,j]=x.useState(!1),N=x.useRef(null),k=x.useRef(null);x.useEffect(()=>{const e=()=>{b(window.innerWidth<768),window.innerWidth<768&&a(!1)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),x.useEffect(()=>{const e=e=>{N.current&&!N.current.contains(e.target)&&v(!1),k.current&&!k.current.contains(e.target)&&j(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);const S=[{id:1,title:"Maintenance Efficiency Improved",description:"Preventive maintenance completion rate increased by 15% this month",icon:h.jsx(wu,{className:"text-green-500"}),date:"Today, 09:30 AM"},{id:2,title:"3 Assets Requiring Attention",description:"Critical assets showing signs of wear need inspection",icon:h.jsx(ju,{className:"text-yellow-500"}),date:"Yesterday, 02:15 PM"},{id:3,title:"Monthly Maintenance Completed",description:"All scheduled maintenance tasks completed on time",icon:h.jsx(td,{className:"text-blue-500"}),date:"Jul 28, 2023"}],C={total:142,running:118,maintenance:15,breakdown:5,idle:4},_={total:86,overdue:5};return x.useEffect(()=>{s(1),(async()=>{try{const e=await l("/protected-data");u(e)}catch(e){}})(),document.documentElement.classList.toggle("dark",t),localStorage.setItem("sidebarOpen",JSON.stringify(r))},[r,t,l]),h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Lu,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Fu,{mainTitle:"Dashboard",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:h.jsx(Td,{}),isMobile:g,toggleSidebar:()=>{f(!0),localStorage.setItem("sidebarOpen",JSON.stringify(!r)),a(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[h.jsxs(kc.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.4},className:"bg-gradient-to-r from-blue-600 to-blue-800 rounded-2xl p-6 text-white mb-6 shadow-lg hover:shadow-xl transition-all duration-300",children:[h.jsxs("h1",{className:"text-2xl md:text-3xl font-bold mb-2",children:["Welcome back, ",(null==o?void 0:o.name)||(null==(e=null==o?void 0:o.role)?void 0:e.name),"!"]}),h.jsx("p",{className:"opacity-90 text-sm",children:"Here's what's happening with your assets today"})]}),h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[h.jsx(Hu,{title:"Total Assets",value:C.total.toString(),change:"+8%",icon:h.jsx(Jd,{})}),h.jsx(Hu,{title:"Assets Running",value:C.running.toString(),change:"+5%",icon:h.jsx(td,{})}),h.jsx(Hu,{title:"Work Orders",value:_.total.toString(),change:"-3%",icon:h.jsx(ad,{})}),h.jsx(Hu,{title:"Overdue Tasks",value:_.overdue.toString(),change:"+2%",icon:h.jsx(id,{})})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 md:gap-6",children:[h.jsxs("div",{className:"lg:col-span-2",children:[h.jsxs(kc.div,{whileHover:{boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},className:"bg-white rounded-2xl p-4 md:p-6 border border-blue-50 shadow-md mb-6",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Recent Insights"}),h.jsx(kc.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"text-blue-600 text-sm font-medium",children:"View All"})]}),h.jsx("div",{className:"space-y-4",children:S.map(e=>h.jsxs(kc.div,{whileHover:{x:5,backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"flex items-start p-3 hover:bg-blue-50 rounded-xl transition-colors cursor-pointer",children:[h.jsx("div",{className:"p-2 mr-3 mt-0.5 rounded-full bg-blue-50 text-blue-600",children:e.icon}),h.jsxs("div",{className:"flex-1",children:[h.jsx("h4",{className:"font-medium text-gray-800",children:e.title}),h.jsx("p",{className:"text-sm text-gray-600",children:e.description}),h.jsx("p",{className:"text-xs text-gray-500 mt-1",children:e.date})]})]},e.id))})]}),h.jsxs(kc.div,{whileHover:{boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},className:"bg-white rounded-2xl p-4 md:p-6 border border-blue-50 shadow-md",children:[h.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Asset Status Distribution"}),h.jsx("div",{className:"h-64 bg-gray-50 rounded-lg flex items-center justify-center",children:h.jsxs("div",{className:"text-center text-gray-500",children:[h.jsx(Kc,{className:"mx-auto text-4xl mb-2"}),h.jsx("p",{children:"Asset Status Chart"})]})}),h.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 mt-4 text-center",children:[h.jsxs("div",{children:[h.jsx("div",{className:"h-2 w-full bg-green-500 rounded-full"}),h.jsxs("p",{className:"text-sm mt-1 text-gray-700",children:["Running (",Math.round(C.running/C.total*100),"%)"]})]}),h.jsxs("div",{children:[h.jsx("div",{className:"h-2 w-full bg-yellow-500 rounded-full"}),h.jsxs("p",{className:"text-sm mt-1 text-gray-700",children:["Maintenance (",Math.round(C.maintenance/C.total*100),"%)"]})]}),h.jsxs("div",{children:[h.jsx("div",{className:"h-2 w-full bg-red-500 rounded-full"}),h.jsxs("p",{className:"text-sm mt-1 text-gray-700",children:["Breakdown (",Math.round(C.breakdown/C.total*100),"%)"]})]}),h.jsxs("div",{children:[h.jsx("div",{className:"h-2 w-full bg-blue-500 rounded-full"}),h.jsxs("p",{className:"text-sm mt-1 text-gray-700",children:["Idle (",Math.round(C.idle/C.total*100),"%)"]})]})]})]})]}),h.jsxs("div",{children:[h.jsxs(kc.div,{whileHover:{boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},className:"bg-white rounded-2xl p-4 md:p-6 border border-blue-50 shadow-md mb-6",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Team Updates"}),h.jsx(kc.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"text-blue-600 text-sm font-medium",children:"View All"})]}),h.jsx("div",{className:"space-y-4",children:[{id:1,name:"Budi Santoso",role:"Maintenance Technician",avatar:"https://randomuser.me/api/portraits/men/32.jpg",comment:"The HVAC system in Building A needs calibration. Temperature fluctuations observed.",time:"2 hours ago"},{id:2,name:"Ani Wijaya",role:"Facility Manager",avatar:"https://randomuser.me/api/portraits/women/44.jpg",comment:"Completed generator maintenance ahead of schedule. All parameters normal.",time:"5 hours ago"},{id:3,name:"Rudi Hermawan",role:"Operations Supervisor",avatar:"https://randomuser.me/api/portraits/men/67.jpg",comment:"Requesting additional spare parts for conveyor system maintenance next week.",time:"1 day ago"}].map(e=>h.jsx(kc.div,{whileHover:{y:-3,boxShadow:"0 2px 10px rgba(0,0,0,0.05)"},className:"p-3 border border-blue-100 rounded-xl cursor-pointer bg-white",children:h.jsxs("div",{className:"flex items-start",children:[h.jsx(kc.img,{whileHover:{rotate:5},src:e.avatar,alt:e.name,className:"w-10 h-10 rounded-full mr-3 object-cover"}),h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center flex-wrap",children:[h.jsx("h4",{className:"font-medium text-gray-900",children:e.name}),h.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-0.5 rounded-full ml-2",children:e.role})]}),h.jsx("p",{className:"text-sm mt-1 text-gray-700",children:e.comment}),h.jsx("p",{className:"text-xs text-gray-500 mt-1",children:e.time})]})]})},e.id))})]}),h.jsxs(kc.div,{whileHover:{boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},className:"bg-white rounded-2xl p-4 md:p-6 border border-blue-50 shadow-md",children:[h.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Quick Actions"}),h.jsx("div",{className:"space-y-3",children:[{text:"Create Work Order",icon:h.jsx(ad,{className:"text-blue-600 text-lg"}),onClick:()=>p("/workorders")},{text:"Add New Asset",icon:h.jsx(Jd,{className:"text-blue-600 text-lg"}),onClick:()=>p("/assets")},{text:"Send Announcement",icon:h.jsx(Gd,{className:"text-blue-600 text-lg"}),onClick:()=>p("/dashboard")},{text:"Generate Report",icon:h.jsx(Kc,{className:"text-blue-600 text-lg"}),onClick:()=>p("/reports")}].map((e,t)=>h.jsxs(kc.button,{whileHover:{x:5,backgroundColor:"rgba(239, 246, 255, 1)"},whileTap:{scale:.98},className:"w-full flex items-center justify-between p-3 bg-blue-50 hover:bg-blue-100 rounded-lg transition-colors text-gray-800 font-semibold text-sm",onClick:e.onClick,children:[h.jsx("span",{children:e.text}),e.icon]},t))})]})]})]})]})]})]})},Bu=()=>h.jsx("div",{className:"flex justify-center items-center fixed inset-0 w-full h-full bg-white/70 backdrop-blur-sm z-50",children:h.jsx("div",{className:"w-16 h-16 border-4 border-solid border-blue-500 border-t-transparent rounded-full animate-spin"})}),Wu=({requiredPermissions:e=[]})=>{const{token:t,user:n,hasPermission:r,isAuthLoading:a}=gt(),i=je(),s=ye();return x.useEffect(()=>{a||(t?n&&e.length>0&&!e.some(e=>r(e))&&i("/unauthorized",{state:{from:s},replace:!0}):i("/login",{state:{from:s},replace:!0}))},[t,n,e,r,i,s,a]),a?h.jsx(Bu,{}):t&&(0===e.length||n&&e.some(e=>r(e)))?h.jsx(Le,{}):null},$u=()=>{const[e,t]=x.useState(""),[n,r]=x.useState(""),[a,i]=x.useState(""),[s,o]=x.useState(!1);return h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-white to-blue-50 p-4",children:h.jsx("div",{className:"w-full max-w-md",children:h.jsxs("form",{onSubmit:async n=>{n.preventDefault(),r(""),i(""),o(!0);try{await new Promise(e=>setTimeout(e,1e3)),i(`Password reset link sent to ${e}`),t("")}catch(a){r(a instanceof Error?a.message:"Failed to send reset link")}finally{o(!1)}},className:"relative w-full bg-white rounded-lg shadow-sm border border-gray-100 p-8 sm:p-10 md:p-12","aria-label":"Forgot Password Form",children:[h.jsx("div",{className:"flex justify-center mb-8",children:h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("div",{className:"rounded-lg flex items-center justify-center",children:h.jsx("img",{src:xt,alt:"Logo Wida",className:"h-20 w-auto"})}),h.jsx("span",{className:"text-2xl font-bold text-blue-800 italic",children:"PT WIDATRA BHAKTI"})]})}),h.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-2 text-center",children:"Reset Password"}),h.jsx("p",{className:"text-sm text-gray-500 text-center mb-8",children:"Enter your NIK to receive a reset link"}),n&&h.jsxs("div",{className:"mb-6 text-sm text-red-700 bg-red-50 border border-red-100 px-4 py-3 rounded-md flex items-start",children:[h.jsx("svg",{className:"w-4 h-4 mt-0.5 mr-2 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:h.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),h.jsx("span",{children:n})]}),a&&h.jsxs("div",{className:"mb-6 text-sm text-green-700 bg-green-50 border border-green-100 px-4 py-3 rounded-md flex items-start",children:[h.jsx("svg",{className:"w-4 h-4 mt-0.5 mr-2 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:h.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),h.jsx("span",{children:a})]}),h.jsxs("div",{className:"space-y-5",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"nik",className:"block text-sm font-medium text-gray-700 mb-1",children:"NIK"}),h.jsx("input",{id:"nik",type:"nik",placeholder:"12345678910111213141516",value:e,onChange:e=>t(e.target.value),required:!0,className:"w-full px-4 py-2.5 text-sm rounded-md border border-gray-300 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 transition-colors"})]}),h.jsx("button",{type:"submit",disabled:s,className:`w-full py-2.5 px-4 rounded-md text-sm font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 ${s?"bg-blue-400 text-white cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"} flex items-center justify-center`,children:s?h.jsxs(h.Fragment,{children:[h.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[h.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),h.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Sending..."]}):"Send Reset Link"})]}),h.jsxs("div",{className:"mt-8 pt-5 border-t border-gray-100",children:[h.jsxs("p",{className:"text-xs text-gray-500 text-center",children:["Remember your password?"," ",h.jsx(it,{to:"/login",className:"text-blue-600 hover:underline font-medium",children:"Sign in"})]}),h.jsxs("p",{className:"text-xs text-gray-500 text-center mt-2",children:["© ",(new Date).getFullYear()," PT Widatra Bhakti. All rights reserved."]})]})]})})})},Uu=()=>h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-white to-blue-50 p-4",children:h.jsx("div",{className:"w-full max-w-4xl",children:h.jsxs("div",{className:"relative w-full bg-white rounded-lg shadow-sm border border-gray-100 p-8 sm:p-10 md:p-12",children:[h.jsx("div",{className:"flex justify-center mb-8",children:h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("div",{className:"rounded-lg flex items-center justify-center",children:h.jsx("img",{src:xt,alt:"Logo Wida",className:"h-20 w-auto"})}),h.jsx("span",{className:"text-2xl font-bold text-blue-800 italic",children:"PT WIDATRA BHAKTI"})]})}),h.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-6 text-center",children:"Privacy Policy"}),h.jsxs("p",{className:"text-sm text-gray-500 text-center mb-8",children:["Effective: ",(new Date).toLocaleDateString()]}),h.jsxs("div",{className:"prose prose-sm max-w-none text-gray-700 space-y-6",children:[h.jsxs("section",{children:[h.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-3",children:"1. Information We Collect"}),h.jsx("p",{children:"We collect personal information when you register, including:"}),h.jsxs("ul",{className:"list-disc pl-5 mt-2 space-y-1",children:[h.jsx("li",{children:"Full name and contact details"}),h.jsx("li",{children:"Professional credentials (for healthcare providers)"}),h.jsx("li",{children:"Usage data and cookies"})]})]}),h.jsxs("section",{children:[h.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-3",children:"2. How We Use Information"}),h.jsx("p",{children:"Your data helps us:"}),h.jsxs("ul",{className:"list-disc pl-5 mt-2 space-y-1",children:[h.jsx("li",{children:"Provide pharmaceutical services"}),h.jsx("li",{children:"Secure your account with authentication"}),h.jsx("li",{children:"Improve our platform"}),h.jsx("li",{children:"Comply with legal requirements"})]})]}),h.jsxs("section",{children:[h.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-3",children:"3. Data Protection"}),h.jsx("p",{children:"We implement security measures including:"}),h.jsxs("ul",{className:"list-disc pl-5 mt-2 space-y-1",children:[h.jsx("li",{children:"Encryption of sensitive data"}),h.jsx("li",{children:"Regular security audits"}),h.jsx("li",{children:"Access controls to personal information"})]})]}),h.jsxs("section",{children:[h.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-3",children:"4. Third-Party Sharing"}),h.jsx("p",{children:"We only share data with:"}),h.jsxs("ul",{className:"list-disc pl-5 mt-2 space-y-1",children:[h.jsx("li",{children:"Verified healthcare partners (with consent)"}),h.jsx("li",{children:"Legal authorities when required"}),h.jsx("li",{children:"Service providers under confidentiality agreements"})]})]}),h.jsxs("section",{children:[h.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-3",children:"5. Your Rights"}),h.jsx("p",{children:"You may request to:"}),h.jsxs("ul",{className:"list-disc pl-5 mt-2 space-y-1",children:[h.jsx("li",{children:"Access your personal data"}),h.jsx("li",{children:"Correct inaccurate information"}),h.jsx("li",{children:"Delete your account data"}),h.jsx("li",{children:"Opt-out of marketing communications"})]})]}),h.jsx("div",{className:"mt-8 pt-5 border-t border-gray-100",children:h.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center",children:[h.jsx(it,{to:"/register",className:"text-blue-600 hover:underline font-medium mb-3 sm:mb-0",children:"Back to Registration"}),h.jsxs("p",{className:"text-xs text-gray-500",children:["© ",(new Date).getFullYear()," PT Widatra Bhakti. All rights reserved."]})]})})]})]})})}),Vu=["Logout","Sign Out","Sampai Jumpa","Au Revoir","Sayonara"],qu=()=>{const{logout:e,isLoggingOut:t}=gt(),[n,r]=x.useState(null),[a,i]=x.useState(!1),[s]=x.useState(Vu[0]),[o,l]=x.useState(!1);x.useEffect(()=>{let e;return i(!0),l(!0),e=window.setTimeout(()=>{l(!1)},500),()=>{clearTimeout(e)}},[]);const c=o?{opacity:0,transform:"translateY(-20px)"}:{opacity:1,transform:"translateY(0)"};return h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-white to-blue-50 p-4 font-sans",children:h.jsxs("div",{className:"flex flex-col lg:flex-row w-full max-w-6xl mx-auto bg-white rounded-xl shadow-lg overflow-hidden\n                    transform transition-all duration-700 ease-out "+(a?"translate-y-0 opacity-100":"translate-y-10 opacity-0"),children:[h.jsxs("div",{className:"w-full lg:w-1/2 p-6 sm:p-10 md:p-12 flex flex-col justify-center",children:[h.jsxs("div",{className:"flex items-center space-x-2 mb-8 transition-opacity duration-700 ease-out delay-200 "+(a?"opacity-100":"opacity-0"),children:[h.jsx("img",{src:xt,alt:"Logo Wida",className:"h-10 w-auto"}),h.jsx("span",{className:"text-xl font-bold text-blue-800 italic",children:"PT WIDATRA BHAKTI"})]}),h.jsx("h1",{style:{fontSize:"3rem",fontFamily:"sans-serif",transition:"opacity 0.5s ease-in-out, transform 0.5s ease-in-out",...c},className:"text-3xl font-bold transition-opacity duration-700 ease-out delay-300 "+(a?"opacity-100":"opacity-0"),children:s}),h.jsx("h1",{className:"text-5xl font-bold mb-2 transition-opacity duration-700 ease-out delay-300 font-sans",children:"See You Soon!"}),h.jsx("p",{className:"text-gray-600 mb-8 transition-opacity duration-700 ease-out delay-400 "+(a?"opacity-100":"opacity-0"),children:"Thank you for your hard work today. We hope to see you back soon."}),t?h.jsx(h.Fragment,{children:h.jsx("div",{className:"text-center transition-all duration-500 ease-out delay-500 "+(a?"translate-x-0 opacity-100":"-translate-x-5 opacity-0"),children:h.jsxs("button",{type:"button",disabled:!0,className:"w-full py-3 px-4 rounded-md text-base font-medium bg-blue-400 text-white cursor-not-allowed\n                              transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\n                              flex items-center justify-center",children:[h.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[h.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),h.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Securing Session & Logging Out..."]})})}):h.jsxs(h.Fragment,{children:[n&&h.jsxs("div",{role:"alert",className:"mb-6 text-sm text-red-700 bg-red-50 border border-red-100 px-4 py-3 rounded-md flex items-start animate-fade-in",children:[h.jsx("svg",{className:"w-4 h-4 mt-0.5 mr-2 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:h.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),h.jsx("span",{children:n})]}),h.jsxs("div",{className:"space-y-4 transition-all duration-500 ease-out delay-500 "+(a?"translate-x-0 opacity-100":"-translate-x-5 opacity-0"),children:[h.jsxs("button",{onClick:async()=>{try{await e()}catch(t){r("Failed to logout. Please try again.")}},className:"w-full py-3 px-4 rounded-md text-base font-medium\n                            transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500\n                            bg-red-600 text-white hover:bg-red-700 active:bg-red-800 transform hover:-translate-y-0.5\n                            flex items-center justify-center",children:[h.jsx(Rt,{className:"mr-2"}),"Yes, Sign Out Now"]}),h.jsx("div",{className:"flex justify-center transition-all duration-500 ease-out delay-600",children:h.jsxs("button",{onClick:()=>{window.history.back()},className:"inline-flex items-center justify-center px-6 py-3 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 \r\n                              transition-all duration-300 ease-in-out font-medium hover:text-gray-800",children:[h.jsx(At,{className:"mr-2"}),"No, Stay Logged In"]})})]}),h.jsxs("p",{className:"text-sm text-center mt-6 transition-opacity duration-700 ease-out delay-700 "+(a?"opacity-100":"opacity-0"),children:["Not finished yet?"," ",h.jsx(it,{to:"/dashboard",className:"text-blue-500 hover:text-blue-700 hover:underline transition-all duration-200",children:h.jsxs("span",{className:"inline-flex items-center",children:[h.jsx(Dt,{className:"mr-1 h-4 w-4"})," Back to Dashboard"]})})]})]}),h.jsx("div",{className:"mt-8 pt-5 border-t border-gray-100 text-center",children:h.jsxs("p",{className:"text-xs text-gray-500 transition-opacity duration-700 ease-out delay-800 "+(a?"opacity-100":"opacity-0"),children:["© ",(new Date).getFullYear()," PT Widatra Bhakti. All rights reserved."]})})]}),h.jsxs("div",{className:"hidden lg:flex lg:w-1/2 bg-gradient-to-br from-blue-500 to-aqua-800 items-center justify-center relative p-8\n                      transform transition-all duration-700 ease-out delay-300 "+(a?"translate-x-0 opacity-100":"translate-x-10 opacity-0"),children:[h.jsx("div",{className:"absolute top-1/4 left-1/4 bg-white opacity-20 w-32 h-16 rounded-full blur-md animate-float"}),h.jsx("div",{className:"absolute bottom-1/3 right-1/4 bg-white opacity-20 w-48 h-24 rounded-full blur-md animate-float-delay"}),h.jsx("div",{className:"absolute top-8 right-8 bg-white opacity-20 w-24 h-12 rounded-full blur-md animate-float-fast"}),h.jsxs("div",{className:"relative w-64 h-96 bg-gray-800 rounded-3xl shadow-xl flex items-center justify-center p-4 transform scale-100 hover:scale-105 transition-transform duration-300 ease-in-out",children:[h.jsx("div",{className:"absolute top-0 w-16 h-2 bg-gray-700 rounded-b-lg"}),h.jsx("div",{className:"text-purple-300 animate-pulse-light",children:h.jsx("svg",{className:"w-24 h-24",fill:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:h.jsx("path",{d:"M13 12c0-1.104-.896-2-2-2h-1V7c0-2.757 2.243-5 5-5s5 2.243 5 5v3c0 1.104-.896 2-2 2h-1v2h2c1.104 0 2 .896 2 2v7c0 1.104-.896 2-2 2H6c-1.104 0-2-.896-2-2v-7c0-1.104.896-2 2-2h2v-2h-1c-1.104 0-2-.896-2-2V7c0-2.757 2.243-5 5-5s5 2.243 5 5v3h-1c-1.104 0-2 .896-2 2zM6 14v7h12v-7H6z"})})}),h.jsxs("div",{className:"absolute bottom-10 left-0 right-0 text-center text-white text-sm",children:[h.jsx("div",{className:"w-3/4 mx-auto bg-gray-700 rounded-full h-1 mb-2",children:h.jsx("div",{className:"bg-purple-300 h-1 rounded-full w-2/3 animate-progress-fill"})}),h.jsx("p",{children:"Security check on exit completed"})]})]}),h.jsx("div",{className:"absolute bottom-1/4 right-1/4 bg-white opacity-80 rounded-2xl p-6 shadow-xl transform scale-95 hover:scale-100 transition-transform duration-300 ease-in-out",children:h.jsx("svg",{className:"w-16 h-16 text-gray-800",fill:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:h.jsx("path",{d:"M12 2C9.243 2 7 4.243 7 7v4H6c-1.103 0-2 .897-2 2v7c0 1.103.897 2 2 2h12c1.103 0 2-.897 2-2v-7c0-1.103-.897-2-2-2h-1V7c0-2.757-2.243-5-5-5zm0 2c1.654 0 3 1.346 3 3v4h-6V7c0-1.654 1.346-3 3-3zM6 13h12v7H6v-7z"})})})]})]})})},Gu=({title:e,value:t,change:n,icon:r})=>(n.startsWith("+"),h.jsxs(kc.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[h.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:e}),h.jsx("p",{className:"text-3xl font-bold text-gray-900",children:t})]}),h.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:r})]}),h.jsxs("p",{className:"mt-3 text-xs font-semibold text-green-600",children:[n," from last month"]})]})),Yu=({isOpen:e,onClose:t,title:n,children:r})=>e?h.jsx(kc.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:h.jsxs(kc.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[h.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[h.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n}),h.jsx(kc.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:t,className:"text-gray-500 hover:text-gray-700 text-2xl",children:h.jsx(Pu,{size:24})})]}),h.jsx("div",{children:r})]})}):null,Ku=({asset:e,isEditing:t,onSave:n,onCancel:r})=>{const[a,i]=x.useState(e);x.useEffect(()=>{i(e)},[e]);const s=({title:e,children:t,icon:n})=>h.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[h.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-4 border-b border-gray-200",children:h.jsxs("div",{className:"flex items-center",children:[n&&h.jsx("div",{className:"mr-3 text-blue-600",children:n}),h.jsx("h3",{className:"text-lg font-bold text-gray-900",children:e})]})}),h.jsx("div",{className:"p-6",children:t})]}),o=({label:e,value:t,icon:n,fullWidth:r=!1,priority:a="medium"})=>h.jsx("div",{className:r?"col-span-full":"",children:h.jsx("div",{className:`p-4 rounded-lg ${{high:"border-l-4 border-l-blue-500 bg-blue-25",medium:"border-l-2 border-l-gray-200",low:"border-l border-l-gray-100"}[a]} transition-all duration-200 hover:shadow-sm`,children:h.jsxs("div",{className:"flex items-start space-x-3",children:[n&&h.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:n}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1",children:e}),h.jsx("p",{className:"text-sm font-medium text-gray-900 leading-relaxed",children:t})]})]})})});return h.jsxs("div",{className:"space-y-6 max-h-[70vh] overflow-y-auto custom-scrollbar pr-2",children:[h.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6",children:h.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[h.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:a.name}),h.jsx("span",{className:"px-3 py-1 inline-flex text-xs leading-5 font-bold rounded-full "+("running"===a.status?"bg-green-100 text-green-800 border border-green-300":"maintenance"===a.status?"bg-yellow-100 text-yellow-800 border border-yellow-300":"breakdown"===a.status?"bg-red-100 text-red-800 border border-red-300":"bg-blue-100 text-blue-800 border border-blue-300"),children:a.status.charAt(0).toUpperCase()+a.status.slice(1)})]}),h.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[h.jsxs("span",{className:"flex items-center gap-2",children:[h.jsx(Jd,{className:"w-4 h-4"}),"Asset ID: ",a.id]}),h.jsxs("span",{className:"flex items-center gap-2",children:[h.jsx(hu,{className:"w-4 h-4"}),"Type: ",a.type.charAt(0).toUpperCase()+a.type.slice(1)]})]})]})})}),h.jsx(s,{title:"Basic Information",icon:h.jsx(Jd,{className:"w-5 h-5"}),children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[h.jsx(o,{label:"Asset ID",value:a.id,icon:h.jsx(Pd,{className:"w-4 h-4"}),priority:"high"}),h.jsx(o,{label:"Asset Name",value:a.name,icon:h.jsx(Jd,{className:"w-4 h-4"}),priority:"high"}),h.jsx(o,{label:"Asset Type",value:a.type.charAt(0).toUpperCase()+a.type.slice(1),icon:h.jsx(hu,{className:"w-4 h-4"}),priority:"high"}),h.jsx(o,{label:"Make",value:a.make,icon:h.jsx(Mu,{className:"w-4 h-4"})}),h.jsx(o,{label:"Model",value:a.model,icon:h.jsx(hu,{className:"w-4 h-4"})}),h.jsx(o,{label:"Location",value:a.location,icon:h.jsx(Td,{className:"w-4 h-4"})})]})}),h.jsx(s,{title:"Status & Maintenance",icon:h.jsx(ad,{className:"w-5 h-5"}),children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[h.jsx(o,{label:"Current Status",value:a.status.charAt(0).toUpperCase()+a.status.slice(1),icon:h.jsx(td,{className:"w-4 h-4"}),priority:"high"}),h.jsx(o,{label:"Last Maintenance",value:a.lastMaintenance,icon:h.jsx(Vc,{className:"w-4 h-4"})}),h.jsx(o,{label:"Next Maintenance",value:a.nextMaintenance,icon:h.jsx(id,{className:"w-4 h-4"}),priority:"high"}),h.jsx(o,{label:"Work Orders",value:a.workOrders.toString(),icon:h.jsx(ad,{className:"w-4 h-4"})}),h.jsx(o,{label:"Health Status",value:`${a.health}`,icon:h.jsx(Kc,{className:"w-4 h-4"}),priority:"high"})]})}),h.jsx(s,{title:"Technical Details",icon:h.jsx(Mu,{className:"w-5 h-5"}),children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{className:"p-4 bg-blue-25 rounded-lg border-l-4 border-l-blue-400",children:[h.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Asset Specifications"}),h.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[h.jsxs("p",{children:[h.jsx("span",{className:"font-medium",children:"Make:"})," ",a.make]}),h.jsxs("p",{children:[h.jsx("span",{className:"font-medium",children:"Model:"})," ",a.model]}),h.jsxs("p",{children:[h.jsx("span",{className:"font-medium",children:"Type:"})," ",a.type.charAt(0).toUpperCase()+a.type.slice(1)]})]})]}),h.jsxs("div",{className:"p-4 bg-green-25 rounded-lg border-l-4 border-l-green-400",children:[h.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Performance Metrics"}),h.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[h.jsxs("p",{children:[h.jsx("span",{className:"font-medium",children:"Health Status:"})," ",a.health]}),h.jsxs("p",{children:[h.jsx("span",{className:"font-medium",children:"Work Orders:"})," ",a.workOrders]}),h.jsxs("p",{children:[h.jsx("span",{className:"font-medium",children:"Status:"})," ",a.status.charAt(0).toUpperCase()+a.status.slice(1)]})]})]})]})}),h.jsx(s,{title:"Maintenance Timeline",icon:h.jsx(id,{className:"w-5 h-5"}),children:h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-lg border border-green-200",children:[h.jsx("span",{className:"text-sm font-medium text-green-800",children:"Last Maintenance"}),h.jsx("span",{className:"text-sm text-green-600",children:a.lastMaintenance})]}),h.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg border border-blue-200",children:[h.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Next Scheduled Maintenance"}),h.jsx("span",{className:"text-sm text-blue-600",children:a.nextMaintenance})]}),h.jsxs("div",{className:"flex justify-between items-center p-3 bg-yellow-50 rounded-lg border border-yellow-200",children:[h.jsx("span",{className:"text-sm font-medium text-yellow-800",children:"Current Status"}),h.jsx("span",{className:"text-sm text-yellow-600",children:a.status.charAt(0).toUpperCase()+a.status.slice(1)})]})]})}),h.jsxs("div",{className:"flex justify-end pt-6 border-t border-gray-100 mt-8",children:[h.jsx(kc.button,{type:"button",onClick:r,whileHover:{scale:1.03,boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.97},className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold",children:t?"Cancel":"Close Details"}),t&&h.jsx(kc.button,{type:"submit",onClick:e=>{e.preventDefault(),n(a)},whileHover:{scale:1.03,boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.97},className:"ml-4 inline-flex items-center px-6 py-3 bg-green-600 text-white rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-colors duration-200 font-semibold",children:"Save Changes"})]})]})},Ju=()=>{const[e,t]=x.useState(!1),[n,r]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return!!e&&JSON.parse(e)}),[a,i]=x.useState(""),[s,o]=x.useState("all"),[l,c]=x.useState("all"),[d,u]=x.useState(!1),[p,m]=x.useState(!1),[f,g]=x.useState(!1),[b,y]=x.useState(null),[v,w]=x.useState(!1),[j,N]=x.useState(1),[k]=x.useState(5),{user:S,fetchWithAuth:C,hasPermission:_,getAssetsData:A,deleteAsset:T}=gt(),[O,E]=x.useState(null),M=je(),[P,D]=x.useState(!1),[L,I]=x.useState(window.innerWidth<768),[R,F]=x.useState(!1),[H,z]=x.useState(!1),B=x.useRef(null),W=x.useRef(null),[$,U]=x.useState([]),[V,q]=x.useState(!1),[G,Y]=x.useState(null),[K,J]=x.useState(!1),[X,Q]=x.useState(null),Z=()=>{J(!1),Q(null)};x.useEffect(()=>{const e=()=>{I(window.innerWidth<768),window.innerWidth<768&&r(!1)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),x.useEffect(()=>{const e=e=>{B.current&&!B.current.contains(e.target)&&F(!1),W.current&&!W.current.contains(e.target)&&z(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);const ee=$.filter(e=>{const t=String(e.id),n=a.toLowerCase();return e.name.toLowerCase().includes(n)||t.toLowerCase().includes(n)||e.category.toLowerCase().includes(n)||e.location.toLowerCase().includes(n)}),te=j*k,ne=te-k,re=ee.slice(ne,te),ae=Math.ceil(ee.length/k),ie=e=>N(e);x.useEffect(()=>{N(1),(async()=>{try{const e=await C("/protected-data");E(e)}catch(e){}})(),document.documentElement.classList.toggle("dark",e),localStorage.setItem("sidebarOpen",JSON.stringify(n))},[a,s,l,n,e,C]);const se=(()=>{if(0===$.length)return{total:0,active:0,maintenance:0,critical:0,maintenanceDue:0,needsAttention:0};const e=$.length,t=new Date,n=$.filter(e=>"Aktif"===e.status||null!==e.status).length,r=$.filter(e=>!!e.nextMaintenance&&new Date(e.nextMaintenance)<=t).length,a=$.filter(e=>"Buruk"===e.health||"Critical"===e.health).length;return{total:e,active:n,maintenance:r,critical:a,maintenanceDue:r,needsAttention:r+a}})(),oe=se.total>0?Math.round(se.active/se.total*100):0,le=se.total>0?Math.round(se.maintenance/se.total*100):0,ce=se.total>0?Math.round(se.critical/se.total*100):0;return h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Lu,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Fu,{mainTitle:"Assets Data",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:h.jsx(Jd,{}),isMobile:L,toggleSidebar:()=>{D(!0),localStorage.setItem("sidebarOpen",JSON.stringify(!n)),r(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[h.jsxs(kc.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Assets Data Overview"}),h.jsx("p",{className:"text-gray-600 mt-1",children:"Manage and monitor your physical assets efficiently"})]}),h.jsxs("div",{className:"flex flex-wrap gap-3",children:[h.jsxs(kc.button,{onClick:async()=>{q(!0),Y(null);try{const e=await A();U(e)}catch(e){Y("Failed to load data from ERP.")}finally{q(!1)}},disabled:V,whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md "+(V?"bg-gray-400 text-gray-700 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"),children:[h.jsx(ud,{className:"text-lg"}),h.jsx("span",{className:"font-semibold",children:V?"Loading...":"Load Data from ERP"})]}),h.jsxs(kc.button,{onClick:()=>M("/assets/assetsdata/addasset"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[h.jsx(nu,{className:"text-base"}),h.jsx("span",{children:"Add Asset"})]}),h.jsxs(kc.button,{onClick:()=>{},whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[h.jsx(Su,{className:"text-lg"}),h.jsx("span",{className:"font-semibold",children:"Import"})]}),h.jsxs(kc.button,{onClick:()=>u(!d),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[h.jsx(vd,{className:"text-lg"}),h.jsx("span",{className:"font-semibold",children:"Filters"}),d?h.jsx(Zc,{}):h.jsx(Jc,{})]})]})]}),h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[h.jsx(Gu,{title:"Total Assets",value:se.total.toString(),change:`${se.total} units`,icon:h.jsx(Jd,{})}),h.jsx(Gu,{title:"Active Assets",value:se.active.toString(),change:`${oe}% operational`,icon:h.jsx(td,{})}),h.jsx(Gu,{title:"Due Maintenance",value:se.maintenance.toString(),change:`${le}% need service`,icon:h.jsx(Mu,{})}),h.jsx(Gu,{title:"Critical Issues",value:se.critical.toString(),change:`${ce}% critical`,icon:h.jsx(ju,{})})]}),h.jsx(kc.div,{layout:!0,className:"mb-6 bg-white rounded-2xl shadow-md p-4 md:p-6 border border-blue-50",children:h.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0",children:[h.jsxs("div",{className:"flex-1 relative",children:[h.jsx(uu,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),h.jsx("input",{type:"text",placeholder:"Search assets by name or ID...",className:"w-full pl-12 pr-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base transition-all duration-200",value:a,onChange:e=>i(e.target.value)})]}),h.jsx(Mi,{children:d&&h.jsxs(kc.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3 w-full md:w-auto",children:[h.jsxs("select",{className:"border border-gray-200 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base appearance-none bg-no-repeat bg-right-12 bg-center-y transition-all duration-200",style:{backgroundImage:"url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='currentColor'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E\")",backgroundSize:"1.2rem"},value:s,onChange:e=>o(e.target.value),children:[h.jsx("option",{value:"all",children:"All Statuses"}),h.jsx("option",{value:"running",children:"Running"}),h.jsx("option",{value:"maintenance",children:"Maintenance"}),h.jsx("option",{value:"breakdown",children:"Breakdown"}),h.jsx("option",{value:"idle",children:"Idle"})]}),h.jsxs("select",{className:"border border-gray-200 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base appearance-none bg-no-repeat bg-right-12 bg-center-y transition-all duration-200",style:{backgroundImage:"url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='currentColor'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E\")",backgroundSize:"1.2rem"},value:l,onChange:e=>c(e.target.value),children:[h.jsx("option",{value:"all",children:"All Types"}),h.jsx("option",{value:"mechanical",children:"Mechanical"}),h.jsx("option",{value:"electrical",children:"Electrical"}),h.jsx("option",{value:"vehicle",children:"Vehicle"}),h.jsx("option",{value:"building",children:"Building"})]})]})})]})}),h.jsx(kc.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-50",children:h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"min-w-full divide-y divide-gray-100",children:[h.jsx("thead",{className:"bg-blue-50",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),h.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Asset"}),h.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Location"}),h.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Purchase Date"}),h.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Description"}),h.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),h.jsxs("tbody",{className:"bg-white divide-y divide-gray-100",children:[V&&h.jsx("tr",{children:h.jsx("td",{colSpan:5,className:"text-center py-10 text-gray-600 text-lg",children:h.jsxs("div",{className:"flex items-center justify-center",children:[h.jsxs("svg",{className:"animate-spin h-5 w-5 mr-3 text-blue-600",viewBox:"0 0 24 24",children:[h.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),h.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading data..."]})})}),G&&h.jsx("tr",{children:h.jsx("td",{colSpan:5,className:"text-center py-10 text-red-500 text-lg",children:h.jsxs("div",{className:"flex items-center justify-center",children:[h.jsx(ju,{className:"text-red-500 mr-2"}),G]})})}),!V&&0===$.length&&!G&&h.jsx("tr",{children:h.jsx("td",{colSpan:5,className:"px-6 py-10 text-center text-gray-600 text-lg",children:h.jsxs("div",{className:"flex flex-col items-center justify-center",children:[h.jsx(Jd,{className:"text-gray-400 mb-3",size:48}),'No assets found. Please click "Load Data from ERP".']})})}),re.length>0&&re.map((e,t)=>{const n=ne+t;return h.jsxs(kc.tr,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.2},whileHover:{backgroundColor:"rgba(239, 246, 255, 1)"},className:"transition-colors duration-150",children:[h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsx("div",{className:"text-sm font-medium text-gray-900",children:n+1})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsx("div",{className:"flex items-center",children:h.jsxs("div",{className:"ml-0",children:[" ",h.jsx("div",{className:"text-base font-medium text-gray-900",children:e.name}),h.jsx("div",{className:"text-sm text-gray-600",children:e.category})]})})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsx("div",{className:"text-sm text-gray-900",children:e.location})}),h.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[h.jsx("div",{className:"text-sm text-gray-900",children:e.purchaseDate})," "]}),h.jsxs("td",{className:"px-6 py-4",children:[" ",h.jsx("div",{className:"text-sm text-gray-900 max-w-xs truncate",children:e.description})," "]}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx(kc.button,{whileHover:{scale:1.1,color:"#2563eb"},whileTap:{scale:.9},onClick:()=>M(`/assets/assetsdata/editasset/${e.id}`),className:"text-yellow-600 hover:text-blue-600 transition-colors duration-200",title:"Edit Asset",children:h.jsx(gu,{className:"w-5 h-5"})}),h.jsx(kc.button,{whileHover:{scale:1.1,color:"#dc2626"},whileTap:{scale:.9},onClick:()=>{return t=String(e.id),n=e.name,Q({id:t,name:n}),void J(!0);var t,n},className:"text-red-600 hover:text-red-600 transition-colors duration-200",title:"Delete Asset",children:h.jsx(vu,{className:"w-5 h-5"})}),h.jsx(kc.button,{whileHover:{scale:1.1,color:"#2563eb"},whileTap:{scale:.9},onClick:()=>(e=>{y(e),g(!0),w(!1)})(e),className:"text-blue-600 hover:text-blue-600 transition-colors duration-200",title:"View Details",children:h.jsx(md,{className:"w-5 h-5"})})]})})]},e.id)})]})]})})}),ee.length>k&&h.jsxs(kc.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"mt-8 flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[h.jsxs("div",{className:"text-sm text-gray-600 mb-4 sm:mb-0",children:["Showing ",h.jsx("span",{className:"font-semibold",children:ne+1})," to ",h.jsx("span",{className:"font-semibold",children:Math.min(te,ee.length)})," of"," ",h.jsx("span",{className:"font-semibold",children:ee.length})," results"]}),h.jsxs("div",{className:"flex space-x-2",children:[h.jsx(kc.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>ie(j-1),disabled:1===j,className:"px-4 py-2 border border-gray-200 rounded-lg bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm",children:"Previous"}),Array.from({length:ae},(e,t)=>h.jsx(kc.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>ie(t+1),className:`px-4 py-2 rounded-lg transition-colors duration-200 shadow-sm\n                          ${j===t+1?"bg-blue-600 text-white shadow-md":"bg-white text-gray-700 hover:bg-blue-50 border border-gray-200"}\n                        `,children:t+1},t+1)),h.jsx(kc.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>ie(j+1),disabled:j===ae,className:"px-4 py-2 border border-gray-200 rounded-lg bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm",children:"Next"})]})]})]})]}),b&&h.jsx(kc.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:h.jsxs(kc.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl mx-auto border border-blue-100 max-h-[90vh] overflow-hidden flex flex-col",children:[h.jsxs("div",{className:"flex justify-between items-center border-b border-gray-100 px-6 py-4 bg-blue-50",children:[h.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:v?"Edit Asset":"Asset Details"}),h.jsx(kc.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{g(!1),y(null),w(!1)},className:"text-gray-500 hover:text-gray-700 text-2xl p-1 rounded-full hover:bg-blue-100 transition-colors duration-200",children:h.jsx(Pu,{size:24})})]}),h.jsx("div",{className:"overflow-y-auto custom-scrollbar p-6 flex-grow",children:h.jsx(Ku,{asset:b,isEditing:v,onSave:()=>{},onCancel:()=>{g(!1),y(null),w(!1)}})})]})}),h.jsx(Yu,{isOpen:K,onClose:Z,title:"Confirm Delete",children:h.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[h.jsx(ju,{className:"text-yellow-500 text-6xl mb-4"}),h.jsx("p",{className:"text-lg font-medium text-gray-800 text-center mb-2",children:"Are you sure you want to delete this asset?"}),h.jsxs("p",{className:"text-sm text-gray-600 text-center mb-6",children:["Asset: ",h.jsx("strong",{children:null==X?void 0:X.name})]}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx(kc.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:Z,className:"px-6 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors duration-200",children:"Cancel"}),h.jsx(kc.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:async()=>{if(X)if(X.id)try{await T(X.id),U($.filter(e=>String(e.id)!==X.id)),J(!1),Q(null)}catch(e){alert("Failed to delete asset.")}else alert("Cannot delete: Asset ID is missing.")},className:"px-6 py-2 border border-transparent rounded-lg text-sm font-medium text-white bg-red-600 hover:bg-red-700 transition-colors duration-200",children:"Delete"})]})]})})]})},Xu=()=>{const{user:e,hasPermission:t,logout:n}=gt(),r=je();ye();const[a,i]=x.useState(!1),[s,o]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return!!e&&JSON.parse(e)}),[l,c]=x.useState(window.innerWidth<768),[d,u]=x.useState("profile"),[p,m]=x.useState(!1),[f,g]=x.useState(!1),[b,y]=x.useState(!1),v=x.useRef(null);x.useEffect(()=>{const e=()=>{c(window.innerWidth<768),window.innerWidth<768&&o(!1)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),x.useEffect(()=>{const e=e=>{v.current&&!v.current.contains(e.target)&&y(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);const[w,j]=x.useState({name:null==e?void 0:e.name,nik:null==e?void 0:e.nik,email:null==e?void 0:e.email,language:"en",notifications:!0,billingEmail:"haloo@company.com"}),N=e=>{const{name:t,value:n,type:r}=e.target,a="checkbox"===r?e.target.checked:void 0;j(e=>({...e,[t]:"checkbox"===r?a:n}))},k=({title:e,children:t})=>h.jsxs(kc.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[h.jsx("h3",{className:"text-xl font-bold mb-4 text-gray-900",children:e}),t]}),S=({label:e,value:t,children:n,editable:r=!0,onEdit:a})=>h.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between py-4 border-b border-gray-100 last:border-b-0",children:[h.jsxs("div",{className:"mb-2 sm:mb-0",children:[h.jsx("p",{className:"font-medium text-gray-700",children:e}),void 0!==t&&h.jsx("p",{className:"text-sm text-gray-600",children:"boolean"==typeof t?t?"Enabled":"Disabled":t})]}),r&&h.jsx(kc.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:a,className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Edit"}),n]}),C=({isOpen:e,onClose:t,title:n,children:r,actions:a})=>e?h.jsx(kc.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:h.jsxs(kc.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-md mx-auto",children:[h.jsxs("div",{className:"flex justify-between items-center border-b border-gray-100 p-4",children:[h.jsx("h3",{className:"text-xl font-bold text-gray-900",children:n}),h.jsx(kc.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:t,className:"text-gray-500 hover:text-gray-700",children:h.jsx(Pu,{size:20})})]}),h.jsx("div",{className:"p-6",children:r}),a&&h.jsx("div",{className:"flex justify-end space-x-3 p-4 border-t border-gray-100",children:a})]})}):null;return h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Lu,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Fu,{mainTitle:"Settings",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:h.jsx(hu,{}),isMobile:l,toggleSidebar:()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!s)),o(e=>!e)}}),h.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:h.jsxs("div",{className:"max-w-6xl mx-auto",children:[h.jsxs(kc.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.4},className:"bg-gradient-to-r from-blue-600 to-blue-800 rounded-2xl p-6 text-white mb-6 shadow-lg hover:shadow-xl transition-all duration-300",children:[h.jsx("h1",{className:"text-2xl md:text-3xl font-bold mb-2",children:"Account Settings"}),h.jsx("p",{className:"opacity-90 text-sm",children:"Manage your profile, security, and preferences"})]}),h.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 md:gap-6",children:[h.jsx(kc.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},className:"lg:w-64 flex-shrink-0",children:h.jsx("div",{className:"bg-white rounded-2xl shadow-md border border-blue-50 overflow-hidden",children:h.jsx("div",{className:"space-y-1 p-2",children:[{id:"profile",icon:h.jsx(Tu,{}),label:"Profile"},{id:"security",icon:h.jsx($d,{}),label:"Security"},{id:"notifications",icon:h.jsx(Hc,{}),label:"Notifications"},{id:"preferences",icon:h.jsx(bu,{}),label:"Preferences"},{id:"billing",icon:h.jsx(dd,{}),label:"Billing"},{id:"team",icon:h.jsx(Ou,{}),label:"Team Settings"},{id:"integrations",icon:h.jsx(jd,{}),label:"Integrations"},{id:"data",icon:h.jsx(ud,{}),label:"Data Management"}].map(e=>h.jsxs(kc.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>u(e.id),className:"w-full text-left flex items-center p-3 rounded-xl transition-colors duration-200 "+(d===e.id?"bg-blue-50 text-blue-700 font-medium":"text-gray-700 hover:bg-blue-50"),children:[h.jsx("span",{className:"text-xl mr-3 text-blue-500",children:e.icon}),h.jsx("span",{className:"text-base",children:e.label})]},e.id))})})}),h.jsxs(kc.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"flex-1",children:["profile"===d&&h.jsx(k,{title:"Profile Information",children:p?h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),h.jsx("input",{type:"text",name:"name",value:w.name,onChange:N,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"NIK"}),h.jsx("input",{type:"text",name:"nik",value:w.nik,onChange:N,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),h.jsx("input",{type:"text",name:"nik",value:w.email,onChange:N,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white"})]})]}),h.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[h.jsx(kc.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>m(!1),className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),h.jsx(kc.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>{m(!1)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 shadow",children:"Save Changes"})]})]}):h.jsxs(h.Fragment,{children:[h.jsx(S,{label:"Name",value:null==e?void 0:e.name,editable:!1}),h.jsx(S,{label:"NIK",value:null==e?void 0:e.nik,editable:!1}),h.jsx(S,{label:"Role",value:null==e?void 0:e.role.name,editable:!1}),h.jsx(S,{label:"Email",value:null==e?void 0:e.email,editable:!1})]})}),"security"===d&&h.jsxs(k,{title:"Security Settings",children:[h.jsx(S,{label:"Password",value:"••••••••",onEdit:()=>r("/settings/change-password")}),h.jsx(S,{label:"Two-factor authentication",value:!1,onEdit:()=>r("/settings/two-factor")}),h.jsx(S,{label:"Active sessions",value:"3 devices",onEdit:()=>r("/settings/sessions")})]}),"notifications"===d&&h.jsxs(k,{title:"Notification Preferences",children:[h.jsxs("div",{className:"flex items-center justify-between py-4 border-b border-gray-100",children:[h.jsxs("div",{children:[h.jsx("p",{className:"font-medium text-gray-700",children:"Email notifications"}),h.jsx("p",{className:"text-sm text-gray-600",children:"Receive email notifications"})]}),h.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[h.jsx("input",{type:"checkbox",name:"notifications",checked:w.notifications,onChange:N,className:"sr-only peer"}),h.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),h.jsx(S,{label:"Push notifications",value:!1,onEdit:()=>{}})]}),"preferences"===d&&h.jsxs(k,{title:"Preferences",children:[h.jsxs("div",{className:"flex items-center justify-between py-4 border-b border-gray-100",children:[h.jsxs("div",{children:[h.jsx("p",{className:"font-medium text-gray-700",children:"Dark mode"}),h.jsx("p",{className:"text-sm text-gray-600",children:"Toggle dark theme"})]}),h.jsx(Mi,{mode:"wait",children:h.jsx(kc.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>i(!a),className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200",children:a?h.jsx(bu,{className:"text-yellow-400"}):h.jsx(Kd,{})},a?"sun-card":"moon-card")})]}),h.jsx(S,{label:"Language",value:"English",onEdit:()=>{}}),h.jsx(S,{label:"Timezone",value:"UTC+07:00",onEdit:()=>{}})]}),"billing"===d&&h.jsxs(k,{title:"Billing Information",children:[h.jsx(S,{label:"Billing email",value:w.billingEmail,onEdit:()=>{}}),h.jsx(S,{label:"Payment method",value:"Visa ending in 4242",onEdit:()=>{}}),h.jsx(S,{label:"Plan",value:"Premium ($29/month)",onEdit:()=>{}})]}),"team"===d&&h.jsxs(k,{title:"Team Settings",children:[h.jsx(S,{label:"Team members",value:"5 active",onEdit:()=>r("/team")}),h.jsx(S,{label:"Team roles",value:"Custom roles",onEdit:()=>r("/settings/roles")}),h.jsx(S,{label:"Team permissions",value:"Custom permissions",onEdit:()=>r("/settings/permissions")})]}),"integrations"===d&&h.jsxs(k,{title:"Integrations",children:[h.jsx(S,{label:"Google Workspace",value:"Connected",onEdit:()=>{}}),h.jsx(S,{label:"Slack",value:"Not connected",onEdit:()=>{}}),h.jsx(S,{label:"Microsoft 365",value:"Not connected",onEdit:()=>{}})]}),"data"===d&&h.jsxs(k,{title:"Data Management",children:[h.jsx(S,{label:"Export data",value:"JSON, CSV formats",onEdit:()=>{}}),h.jsx(S,{label:"Delete account",value:"Permanently remove all data",onEdit:()=>g(!0)})]})]})]})]})})]}),h.jsxs(C,{isOpen:f,onClose:()=>g(!1),title:"Delete Account",children:[h.jsx("div",{className:"text-gray-700 mb-6",children:h.jsx("p",{children:"Are you sure you want to delete your account? This action cannot be undone."})}),h.jsxs("div",{className:"flex justify-end space-x-3",children:[h.jsx(kc.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>g(!1),className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),h.jsx(kc.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>{},className:"px-4 py-2 rounded-lg text-white bg-red-600 hover:bg-red-700",children:"Delete Account"})]})]})]})};function Qu(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=Qu(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Zu(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=Qu(e))&&(r&&(r+=" "),r+=t);return r}const eh=6048e5,th=6e4,nh=36e5,rh=Symbol.for("constructDateFrom");function ah(e,t){return"function"==typeof e?e(t):e&&"object"==typeof e&&rh in e?e[rh](t):e instanceof Date?new e.constructor(t):new Date(t)}function ih(e,t){return ah(t||e,e)}function sh(e,t,n){const r=ih(e,null==n?void 0:n.in);return isNaN(t)?ah((null==n?void 0:n.in)||e,NaN):t?(r.setDate(r.getDate()+t),r):r}function oh(e,t,n){const r=ih(e,null==n?void 0:n.in);if(isNaN(t))return ah(e,NaN);if(!t)return r;const a=r.getDate(),i=ah(e,r.getTime());return i.setMonth(r.getMonth()+t+1,0),a>=i.getDate()?i:(r.setFullYear(i.getFullYear(),i.getMonth(),a),r)}function lh(e,t,n){return ah(e,+ih(e)+t)}function ch(e,t,n){return lh(e,t*nh)}let dh={};function uh(){return dh}function hh(e,t){var n,r,a,i,s,o,l,c;const d=uh(),u=null!=(c=null!=(l=null!=(i=null!=(a=null==t?void 0:t.weekStartsOn)?a:null==(r=null==(n=null==t?void 0:t.locale)?void 0:n.options)?void 0:r.weekStartsOn)?i:d.weekStartsOn)?l:null==(o=null==(s=d.locale)?void 0:s.options)?void 0:o.weekStartsOn)?c:0,h=ih(e,null==t?void 0:t.in),p=h.getDay(),m=(p<u?7:0)+p-u;return h.setDate(h.getDate()-m),h.setHours(0,0,0,0),h}function ph(e,t){return hh(e,{...t,weekStartsOn:1})}function mh(e,t){const n=ih(e,null==t?void 0:t.in),r=n.getFullYear(),a=ah(n,0);a.setFullYear(r+1,0,4),a.setHours(0,0,0,0);const i=ph(a),s=ah(n,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const o=ph(s);return n.getTime()>=i.getTime()?r+1:n.getTime()>=o.getTime()?r:r-1}function fh(e){const t=ih(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function gh(e,...t){const n=ah.bind(null,t.find(e=>"object"==typeof e));return t.map(n)}function xh(e,t){const n=ih(e,null==t?void 0:t.in);return n.setHours(0,0,0,0),n}function bh(e,t,n){const[r,a]=gh(null==n||n.in,e,t),i=xh(r),s=xh(a),o=+i-fh(i),l=+s-fh(s);return Math.round((o-l)/864e5)}function yh(e,t,n){const r=ih(e,null==n?void 0:n.in);return r.setTime(r.getTime()+t*th),r}function vh(e,t,n){return oh(e,3*t,n)}function wh(e,t,n){return lh(e,1e3*t)}function jh(e,t,n){return sh(e,7*t,n)}function Nh(e,t,n){return oh(e,12*t,n)}function kh(e,t){let n,r=null==t?void 0:t.in;return e.forEach(e=>{r||"object"!=typeof e||(r=ah.bind(null,e));const t=ih(e,r);(!n||n<t||isNaN(+t))&&(n=t)}),ah(r,n||NaN)}function Sh(e,t){let n,r=null==t?void 0:t.in;return e.forEach(e=>{r||"object"!=typeof e||(r=ah.bind(null,e));const t=ih(e,r);(!n||n>t||isNaN(+t))&&(n=t)}),ah(r,n||NaN)}function Ch(e){return e instanceof Date||"object"==typeof e&&"[object Date]"===Object.prototype.toString.call(e)}function _h(e){return!(!Ch(e)&&"number"!=typeof e||isNaN(+ih(e)))}function Ah(e,t,n){const[r,a]=gh(null==n||n.in,e,t);return 12*(r.getFullYear()-a.getFullYear())+(r.getMonth()-a.getMonth())}function Th(e,t){const n=ih(e,null==t?void 0:t.in);return Math.trunc(n.getMonth()/3)+1}function Oh(e,t,n){const[r,a]=gh(null==n||n.in,e,t);return 4*(r.getFullYear()-a.getFullYear())+(Th(r)-Th(a))}function Eh(e,t,n){const[r,a]=gh(null==n||n.in,e,t);return r.getFullYear()-a.getFullYear()}function Mh(e,t){const n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function Ph(e,t){const n=ih(e,null==t?void 0:t.in);return n.setHours(23,59,59,999),n}function Dh(e,t){const n=ih(e,null==t?void 0:t.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function Lh(e,t){const n=ih(e,null==t?void 0:t.in),r=n.getMonth(),a=r-r%3;return n.setMonth(a,1),n.setHours(0,0,0,0),n}function Ih(e,t){const n=ih(e,null==t?void 0:t.in);return n.setDate(1),n.setHours(0,0,0,0),n}function Rh(e,t){const n=ih(e,null==t?void 0:t.in),r=n.getFullYear();return n.setFullYear(r+1,0,0),n.setHours(23,59,59,999),n}function Fh(e,t){const n=ih(e,null==t?void 0:t.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const Hh={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function zh(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const Bh={date:zh({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:zh({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:zh({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},Wh={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function $h(e){return(t,n)=>{let r;if("formatting"===((null==n?void 0:n.context)?String(n.context):"standalone")&&e.formattingValues){const t=e.defaultFormattingWidth||e.defaultWidth,a=(null==n?void 0:n.width)?String(n.width):t;r=e.formattingValues[a]||e.formattingValues[t]}else{const t=e.defaultWidth,a=(null==n?void 0:n.width)?String(n.width):e.defaultWidth;r=e.values[a]||e.values[t]}return r[e.argumentCallback?e.argumentCallback(t):t]}}function Uh(e){return(t,n={})=>{const r=n.width,a=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const s=i[0],o=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(o)?function(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}(o,e=>e.test(s)):function(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}(o,e=>e.test(s));let c;return c=e.valueCallback?e.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c,{value:c,rest:t.slice(s.length)}}}var Vh;const qh={code:"en-US",formatDistance:(e,t,n)=>{let r;const a=Hh[e];return r="string"==typeof a?a:1===t?a.one:a.other.replace("{{count}}",t.toString()),(null==n?void 0:n.addSuffix)?n.comparison&&n.comparison>0?"in "+r:r+" ago":r},formatLong:Bh,formatRelative:(e,t,n,r)=>Wh[e],localize:{ordinalNumber:(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:$h({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:$h({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:$h({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:$h({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:$h({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:(Vh={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)},(e,t={})=>{const n=e.match(Vh.matchPattern);if(!n)return null;const r=n[0],a=e.match(Vh.parsePattern);if(!a)return null;let i=Vh.valueCallback?Vh.valueCallback(a[0]):a[0];return i=t.valueCallback?t.valueCallback(i):i,{value:i,rest:e.slice(r.length)}}),era:Uh({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:Uh({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:Uh({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:Uh({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:Uh({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};function Gh(e,t){const n=ih(e,null==t?void 0:t.in),r=+ph(n)-+function(e){const t=mh(e,void 0),n=ah(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),ph(n)}(n);return Math.round(r/eh)+1}function Yh(e,t){var n,r,a,i,s,o,l,c;const d=ih(e,null==t?void 0:t.in),u=d.getFullYear(),h=uh(),p=null!=(c=null!=(l=null!=(i=null!=(a=null==t?void 0:t.firstWeekContainsDate)?a:null==(r=null==(n=null==t?void 0:t.locale)?void 0:n.options)?void 0:r.firstWeekContainsDate)?i:h.firstWeekContainsDate)?l:null==(o=null==(s=h.locale)?void 0:s.options)?void 0:o.firstWeekContainsDate)?c:1,m=ah((null==t?void 0:t.in)||e,0);m.setFullYear(u+1,0,p),m.setHours(0,0,0,0);const f=hh(m,t),g=ah((null==t?void 0:t.in)||e,0);g.setFullYear(u,0,p),g.setHours(0,0,0,0);const x=hh(g,t);return+d>=+f?u+1:+d>=+x?u:u-1}function Kh(e,t){const n=ih(e,null==t?void 0:t.in),r=+hh(n,t)-+function(e,t){var n,r,a,i,s,o,l,c;const d=uh(),u=null!=(c=null!=(l=null!=(i=null!=(a=null==t?void 0:t.firstWeekContainsDate)?a:null==(r=null==(n=null==t?void 0:t.locale)?void 0:n.options)?void 0:r.firstWeekContainsDate)?i:d.firstWeekContainsDate)?l:null==(o=null==(s=d.locale)?void 0:s.options)?void 0:o.firstWeekContainsDate)?c:1,h=Yh(e,t),p=ah((null==t?void 0:t.in)||e,0);return p.setFullYear(h,0,u),p.setHours(0,0,0,0),hh(p,t)}(n,t);return Math.round(r/eh)+1}function Jh(e,t){return(e<0?"-":"")+Math.abs(e).toString().padStart(t,"0")}const Xh={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return Jh("yy"===t?r%100:r,t.length)},M(e,t){const n=e.getMonth();return"M"===t?String(n+1):Jh(n+1,2)},d:(e,t)=>Jh(e.getDate(),t.length),a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:(e,t)=>Jh(e.getHours()%12||12,t.length),H:(e,t)=>Jh(e.getHours(),t.length),m:(e,t)=>Jh(e.getMinutes(),t.length),s:(e,t)=>Jh(e.getSeconds(),t.length),S(e,t){const n=t.length,r=e.getMilliseconds();return Jh(Math.trunc(r*Math.pow(10,n-3)),t.length)}},Qh={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){const t=e.getFullYear(),r=t>0?t:1-t;return n.ordinalNumber(r,{unit:"year"})}return Xh.y(e,t)},Y:function(e,t,n,r){const a=Yh(e,r),i=a>0?a:1-a;return"YY"===t?Jh(i%100,2):"Yo"===t?n.ordinalNumber(i,{unit:"year"}):Jh(i,t.length)},R:function(e,t){return Jh(mh(e),t.length)},u:function(e,t){return Jh(e.getFullYear(),t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Jh(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Jh(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return Xh.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return Jh(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const a=Kh(e,r);return"wo"===t?n.ordinalNumber(a,{unit:"week"}):Jh(a,t.length)},I:function(e,t,n){const r=Gh(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):Jh(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getDate(),{unit:"date"}):Xh.d(e,t)},D:function(e,t,n){const r=function(e){const t=ih(e,void 0);return bh(t,Fh(t))+1}(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):Jh(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const a=e.getDay(),i=(a-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Jh(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const a=e.getDay(),i=(a-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Jh(i,t.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),a=0===r?7:r;switch(t){case"i":return String(a);case"ii":return Jh(a,t.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let a;switch(a=12===r?"noon":0===r?"midnight":r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let a;switch(a=r>=17?"evening":r>=12?"afternoon":r>=4?"morning":"night",t){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){let t=e.getHours()%12;return 0===t&&(t=12),n.ordinalNumber(t,{unit:"hour"})}return Xh.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getHours(),{unit:"hour"}):Xh.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):Jh(r,t.length)},k:function(e,t,n){let r=e.getHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):Jh(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Xh.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Xh.s(e,t)},S:function(e,t){return Xh.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(0===r)return"Z";switch(t){case"X":return ep(r);case"XXXX":case"XX":return tp(r);default:return tp(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return ep(r);case"xxxx":case"xx":return tp(r);default:return tp(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Zh(r,":");default:return"GMT"+tp(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Zh(r,":");default:return"GMT"+tp(r,":")}},t:function(e,t,n){return Jh(Math.trunc(+e/1e3),t.length)},T:function(e,t,n){return Jh(+e,t.length)}};function Zh(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),a=Math.trunc(r/60),i=r%60;return 0===i?n+String(a):n+String(a)+t+Jh(i,2)}function ep(e,t){return e%60==0?(e>0?"-":"+")+Jh(Math.abs(e)/60,2):tp(e,t)}function tp(e,t=""){const n=e>0?"-":"+",r=Math.abs(e);return n+Jh(Math.trunc(r/60),2)+t+Jh(r%60,2)}const np=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},rp=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},ap={p:rp,P:(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],a=n[2];if(!a)return np(e,t);let i;switch(r){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;default:i=t.dateTime({width:"full"})}return i.replace("{{date}}",np(r,t)).replace("{{time}}",rp(a,t))}},ip=/^D+$/,sp=/^Y+$/,op=["D","DD","YY","YYYY"],lp=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,cp=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,dp=/^'([^]*?)'?$/,up=/''/g,hp=/[a-zA-Z]/;function pp(e,t,n){var r,a,i,s,o,l,c,d,u,h,p,m,f,g,x,b,y,v;const w=uh(),j=null!=(a=null!=(r=null==n?void 0:n.locale)?r:w.locale)?a:qh,N=null!=(h=null!=(u=null!=(l=null!=(o=null==n?void 0:n.firstWeekContainsDate)?o:null==(s=null==(i=null==n?void 0:n.locale)?void 0:i.options)?void 0:s.firstWeekContainsDate)?l:w.firstWeekContainsDate)?u:null==(d=null==(c=w.locale)?void 0:c.options)?void 0:d.firstWeekContainsDate)?h:1,k=null!=(v=null!=(y=null!=(g=null!=(f=null==n?void 0:n.weekStartsOn)?f:null==(m=null==(p=null==n?void 0:n.locale)?void 0:p.options)?void 0:m.weekStartsOn)?g:w.weekStartsOn)?y:null==(b=null==(x=w.locale)?void 0:x.options)?void 0:b.weekStartsOn)?v:0,S=ih(e,null==n?void 0:n.in);if(!_h(S))throw new RangeError("Invalid time value");let C=t.match(cp).map(e=>{const t=e[0];return"p"===t||"P"===t?(0,ap[t])(e,j.formatLong):e}).join("").match(lp).map(e=>{if("''"===e)return{isToken:!1,value:"'"};const t=e[0];if("'"===t)return{isToken:!1,value:mp(e)};if(Qh[t])return{isToken:!0,value:e};if(t.match(hp))throw new RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}});j.localize.preprocessor&&(C=j.localize.preprocessor(S,C));const _={firstWeekContainsDate:N,weekStartsOn:k,locale:j};return C.map(r=>{if(!r.isToken)return r.value;const a=r.value;return(!(null==n?void 0:n.useAdditionalWeekYearTokens)&&function(e){return sp.test(e)}(a)||!(null==n?void 0:n.useAdditionalDayOfYearTokens)&&function(e){return ip.test(e)}(a))&&function(e,t,n){const r=function(e,t,n){const r="Y"===e[0]?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}(e,t,n);if(op.includes(e))throw new RangeError(r)}(a,t,String(e)),(0,Qh[a[0]])(S,a,j.localize,_)}).join("")}function mp(e){const t=e.match(dp);return t?t[1].replace(up,"'"):e}function fp(e,t){return ih(e,null==t?void 0:t.in).getDate()}function gp(e,t){return ih(e,null==t?void 0:t.in).getHours()}function xp(e,t){return ih(e,null==t?void 0:t.in).getMinutes()}function bp(e,t){return ih(e,null==t?void 0:t.in).getMonth()}function yp(e){return ih(e).getSeconds()}function vp(e){return+ih(e)}function wp(e,t){return ih(e,null==t?void 0:t.in).getFullYear()}function jp(e,t){return+ih(e)>+ih(t)}function Np(e,t){return+ih(e)<+ih(t)}class kp{constructor(){t(this,"subPriority",0)}validate(e,t){return!0}}class Sp extends kp{constructor(e,t,n,r,a){super(),this.value=e,this.validateValue=t,this.setValue=n,this.priority=r,a&&(this.subPriority=a)}validate(e,t){return this.validateValue(e,this.value,t)}set(e,t,n){return this.setValue(e,t,this.value,n)}}class Cp extends kp{constructor(e,n){super(),t(this,"priority",10),t(this,"subPriority",-1),this.context=e||(e=>ah(n,e))}set(e,t){return t.timestampIsSet?e:ah(e,function(e,t){const n=function(e){var t;return"function"==typeof e&&(null==(t=e.prototype)?void 0:t.constructor)===e}(t)?new t(0):ah(t,0);return n.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),n.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),n}(e,this.context))}}class _p{run(e,t,n,r){const a=this.parse(e,t,n,r);return a?{setter:new Sp(a.value,this.validate,this.set,this.priority,this.subPriority),rest:a.rest}:null}validate(e,t,n){return!0}}const Ap=/^(1[0-2]|0?\d)/,Tp=/^(3[0-1]|[0-2]?\d)/,Op=/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,Ep=/^(5[0-3]|[0-4]?\d)/,Mp=/^(2[0-3]|[0-1]?\d)/,Pp=/^(2[0-4]|[0-1]?\d)/,Dp=/^(1[0-1]|0?\d)/,Lp=/^(1[0-2]|0?\d)/,Ip=/^[0-5]?\d/,Rp=/^[0-5]?\d/,Fp=/^\d/,Hp=/^\d{1,2}/,zp=/^\d{1,3}/,Bp=/^\d{1,4}/,Wp=/^-?\d+/,$p=/^-?\d/,Up=/^-?\d{1,2}/,Vp=/^-?\d{1,3}/,qp=/^-?\d{1,4}/,Gp=/^([+-])(\d{2})(\d{2})?|Z/,Yp=/^([+-])(\d{2})(\d{2})|Z/,Kp=/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,Jp=/^([+-])(\d{2}):(\d{2})|Z/,Xp=/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/;function Qp(e,t){return e?{value:t(e.value),rest:e.rest}:e}function Zp(e,t){const n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function em(e,t){const n=t.match(e);if(!n)return null;if("Z"===n[0])return{value:0,rest:t.slice(1)};const r="+"===n[1]?1:-1,a=n[2]?parseInt(n[2],10):0,i=n[3]?parseInt(n[3],10):0,s=n[5]?parseInt(n[5],10):0;return{value:r*(a*nh+i*th+1e3*s),rest:t.slice(n[0].length)}}function tm(e){return Zp(Wp,e)}function nm(e,t){switch(e){case 1:return Zp(Fp,t);case 2:return Zp(Hp,t);case 3:return Zp(zp,t);case 4:return Zp(Bp,t);default:return Zp(new RegExp("^\\d{1,"+e+"}"),t)}}function rm(e,t){switch(e){case 1:return Zp($p,t);case 2:return Zp(Up,t);case 3:return Zp(Vp,t);case 4:return Zp(qp,t);default:return Zp(new RegExp("^-?\\d{1,"+e+"}"),t)}}function am(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function im(e,t){const n=t>0,r=n?t:1-t;let a;if(r<=50)a=e||100;else{const t=r+50;a=e+100*Math.trunc(t/100)-(e>=t%100?100:0)}return n?a:1-a}function sm(e){return e%400==0||e%4==0&&e%100!=0}const om=[31,28,31,30,31,30,31,31,30,31,30,31],lm=[31,29,31,30,31,30,31,31,30,31,30,31];function cm(e,t,n){var r,a,i,s,o,l,c,d;const u=uh(),h=null!=(d=null!=(c=null!=(s=null!=(i=null==n?void 0:n.weekStartsOn)?i:null==(a=null==(r=null==n?void 0:n.locale)?void 0:r.options)?void 0:a.weekStartsOn)?s:u.weekStartsOn)?c:null==(l=null==(o=u.locale)?void 0:o.options)?void 0:l.weekStartsOn)?d:0,p=ih(e,null==n?void 0:n.in),m=p.getDay(),f=7-h;return sh(p,t<0||t>6?t-(m+f)%7:((t%7+7)%7+f)%7-(m+f)%7,n)}const dm={G:new class extends _p{constructor(){super(...arguments),t(this,"priority",140),t(this,"incompatibleTokens",["R","u","t","T"])}parse(e,t,n){switch(t){case"G":case"GG":case"GGG":return n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"});case"GGGGG":return n.era(e,{width:"narrow"});default:return n.era(e,{width:"wide"})||n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"})}}set(e,t,n){return t.era=n,e.setFullYear(n,0,1),e.setHours(0,0,0,0),e}},y:new class extends _p{constructor(){super(...arguments),t(this,"priority",130),t(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(e,t,n){const r=e=>({year:e,isTwoDigitYear:"yy"===t});switch(t){case"y":return Qp(nm(4,e),r);case"yo":return Qp(n.ordinalNumber(e,{unit:"year"}),r);default:return Qp(nm(t.length,e),r)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,n){const r=e.getFullYear();if(n.isTwoDigitYear){const t=im(n.year,r);return e.setFullYear(t,0,1),e.setHours(0,0,0,0),e}const a="era"in t&&1!==t.era?1-n.year:n.year;return e.setFullYear(a,0,1),e.setHours(0,0,0,0),e}},Y:new class extends _p{constructor(){super(...arguments),t(this,"priority",130),t(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(e,t,n){const r=e=>({year:e,isTwoDigitYear:"YY"===t});switch(t){case"Y":return Qp(nm(4,e),r);case"Yo":return Qp(n.ordinalNumber(e,{unit:"year"}),r);default:return Qp(nm(t.length,e),r)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,n,r){const a=Yh(e,r);if(n.isTwoDigitYear){const t=im(n.year,a);return e.setFullYear(t,0,r.firstWeekContainsDate),e.setHours(0,0,0,0),hh(e,r)}const i="era"in t&&1!==t.era?1-n.year:n.year;return e.setFullYear(i,0,r.firstWeekContainsDate),e.setHours(0,0,0,0),hh(e,r)}},R:new class extends _p{constructor(){super(...arguments),t(this,"priority",130),t(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(e,t){return rm("R"===t?4:t.length,e)}set(e,t,n){const r=ah(e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),ph(r)}},u:new class extends _p{constructor(){super(...arguments),t(this,"priority",130),t(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(e,t){return rm("u"===t?4:t.length,e)}set(e,t,n){return e.setFullYear(n,0,1),e.setHours(0,0,0,0),e}},Q:new class extends _p{constructor(){super(...arguments),t(this,"priority",120),t(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(e,t,n){switch(t){case"Q":case"QQ":return nm(t.length,e);case"Qo":return n.ordinalNumber(e,{unit:"quarter"});case"QQQ":return n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return n.quarter(e,{width:"narrow",context:"formatting"});default:return n.quarter(e,{width:"wide",context:"formatting"})||n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=1&&t<=4}set(e,t,n){return e.setMonth(3*(n-1),1),e.setHours(0,0,0,0),e}},q:new class extends _p{constructor(){super(...arguments),t(this,"priority",120),t(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(e,t,n){switch(t){case"q":case"qq":return nm(t.length,e);case"qo":return n.ordinalNumber(e,{unit:"quarter"});case"qqq":return n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return n.quarter(e,{width:"narrow",context:"standalone"});default:return n.quarter(e,{width:"wide",context:"standalone"})||n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=1&&t<=4}set(e,t,n){return e.setMonth(3*(n-1),1),e.setHours(0,0,0,0),e}},M:new class extends _p{constructor(){super(...arguments),t(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),t(this,"priority",110)}parse(e,t,n){const r=e=>e-1;switch(t){case"M":return Qp(Zp(Ap,e),r);case"MM":return Qp(nm(2,e),r);case"Mo":return Qp(n.ordinalNumber(e,{unit:"month"}),r);case"MMM":return n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return n.month(e,{width:"narrow",context:"formatting"});default:return n.month(e,{width:"wide",context:"formatting"})||n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.setMonth(n,1),e.setHours(0,0,0,0),e}},L:new class extends _p{constructor(){super(...arguments),t(this,"priority",110),t(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(e,t,n){const r=e=>e-1;switch(t){case"L":return Qp(Zp(Ap,e),r);case"LL":return Qp(nm(2,e),r);case"Lo":return Qp(n.ordinalNumber(e,{unit:"month"}),r);case"LLL":return n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return n.month(e,{width:"narrow",context:"standalone"});default:return n.month(e,{width:"wide",context:"standalone"})||n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.setMonth(n,1),e.setHours(0,0,0,0),e}},w:new class extends _p{constructor(){super(...arguments),t(this,"priority",100),t(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(e,t,n){switch(t){case"w":return Zp(Ep,e);case"wo":return n.ordinalNumber(e,{unit:"week"});default:return nm(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,n,r){return hh(function(e,t,n){const r=ih(e,null==n?void 0:n.in),a=Kh(r,n)-t;return r.setDate(r.getDate()-7*a),ih(r,null==n?void 0:n.in)}(e,n,r),r)}},I:new class extends _p{constructor(){super(...arguments),t(this,"priority",100),t(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(e,t,n){switch(t){case"I":return Zp(Ep,e);case"Io":return n.ordinalNumber(e,{unit:"week"});default:return nm(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,n){return ph(function(e,t,n){const r=ih(e,void 0),a=Gh(r,n)-t;return r.setDate(r.getDate()-7*a),r}(e,n))}},d:new class extends _p{constructor(){super(...arguments),t(this,"priority",90),t(this,"subPriority",1),t(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(e,t,n){switch(t){case"d":return Zp(Tp,e);case"do":return n.ordinalNumber(e,{unit:"date"});default:return nm(t.length,e)}}validate(e,t){const n=sm(e.getFullYear()),r=e.getMonth();return n?t>=1&&t<=lm[r]:t>=1&&t<=om[r]}set(e,t,n){return e.setDate(n),e.setHours(0,0,0,0),e}},D:new class extends _p{constructor(){super(...arguments),t(this,"priority",90),t(this,"subpriority",1),t(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(e,t,n){switch(t){case"D":case"DD":return Zp(Op,e);case"Do":return n.ordinalNumber(e,{unit:"date"});default:return nm(t.length,e)}}validate(e,t){return sm(e.getFullYear())?t>=1&&t<=366:t>=1&&t<=365}set(e,t,n){return e.setMonth(0,n),e.setHours(0,0,0,0),e}},E:new class extends _p{constructor(){super(...arguments),t(this,"priority",90),t(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(e,t,n){switch(t){case"E":case"EE":case"EEE":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return n.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,r){return(e=cm(e,n,r)).setHours(0,0,0,0),e}},e:new class extends _p{constructor(){super(...arguments),t(this,"priority",90),t(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(e,t,n,r){const a=e=>{const t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case"e":case"ee":return Qp(nm(t.length,e),a);case"eo":return Qp(n.ordinalNumber(e,{unit:"day"}),a);case"eee":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"eeeee":return n.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,r){return(e=cm(e,n,r)).setHours(0,0,0,0),e}},c:new class extends _p{constructor(){super(...arguments),t(this,"priority",90),t(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(e,t,n,r){const a=e=>{const t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case"c":case"cc":return Qp(nm(t.length,e),a);case"co":return Qp(n.ordinalNumber(e,{unit:"day"}),a);case"ccc":return n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});case"ccccc":return n.day(e,{width:"narrow",context:"standalone"});case"cccccc":return n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});default:return n.day(e,{width:"wide",context:"standalone"})||n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,r){return(e=cm(e,n,r)).setHours(0,0,0,0),e}},i:new class extends _p{constructor(){super(...arguments),t(this,"priority",90),t(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(e,t,n){const r=e=>0===e?7:e;switch(t){case"i":case"ii":return nm(t.length,e);case"io":return n.ordinalNumber(e,{unit:"day"});case"iii":return Qp(n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r);case"iiiii":return Qp(n.day(e,{width:"narrow",context:"formatting"}),r);case"iiiiii":return Qp(n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r);default:return Qp(n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r)}}validate(e,t){return t>=1&&t<=7}set(e,t,n){return(e=function(e,t,n){const r=ih(e,null==n?void 0:n.in),a=function(e,t){const n=ih(e,null==t?void 0:t.in).getDay();return 0===n?7:n}(r,n);return sh(r,t-a,n)}(e,n)).setHours(0,0,0,0),e}},a:new class extends _p{constructor(){super(...arguments),t(this,"priority",80),t(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(e,t,n){switch(t){case"a":case"aa":case"aaa":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(am(n),0,0,0),e}},b:new class extends _p{constructor(){super(...arguments),t(this,"priority",80),t(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(e,t,n){switch(t){case"b":case"bb":case"bbb":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(am(n),0,0,0),e}},B:new class extends _p{constructor(){super(...arguments),t(this,"priority",80),t(this,"incompatibleTokens",["a","b","t","T"])}parse(e,t,n){switch(t){case"B":case"BB":case"BBB":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(am(n),0,0,0),e}},h:new class extends _p{constructor(){super(...arguments),t(this,"priority",70),t(this,"incompatibleTokens",["H","K","k","t","T"])}parse(e,t,n){switch(t){case"h":return Zp(Lp,e);case"ho":return n.ordinalNumber(e,{unit:"hour"});default:return nm(t.length,e)}}validate(e,t){return t>=1&&t<=12}set(e,t,n){const r=e.getHours()>=12;return r&&n<12?e.setHours(n+12,0,0,0):r||12!==n?e.setHours(n,0,0,0):e.setHours(0,0,0,0),e}},H:new class extends _p{constructor(){super(...arguments),t(this,"priority",70),t(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(e,t,n){switch(t){case"H":return Zp(Mp,e);case"Ho":return n.ordinalNumber(e,{unit:"hour"});default:return nm(t.length,e)}}validate(e,t){return t>=0&&t<=23}set(e,t,n){return e.setHours(n,0,0,0),e}},K:new class extends _p{constructor(){super(...arguments),t(this,"priority",70),t(this,"incompatibleTokens",["h","H","k","t","T"])}parse(e,t,n){switch(t){case"K":return Zp(Dp,e);case"Ko":return n.ordinalNumber(e,{unit:"hour"});default:return nm(t.length,e)}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.getHours()>=12&&n<12?e.setHours(n+12,0,0,0):e.setHours(n,0,0,0),e}},k:new class extends _p{constructor(){super(...arguments),t(this,"priority",70),t(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(e,t,n){switch(t){case"k":return Zp(Pp,e);case"ko":return n.ordinalNumber(e,{unit:"hour"});default:return nm(t.length,e)}}validate(e,t){return t>=1&&t<=24}set(e,t,n){const r=n<=24?n%24:n;return e.setHours(r,0,0,0),e}},m:new class extends _p{constructor(){super(...arguments),t(this,"priority",60),t(this,"incompatibleTokens",["t","T"])}parse(e,t,n){switch(t){case"m":return Zp(Ip,e);case"mo":return n.ordinalNumber(e,{unit:"minute"});default:return nm(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,n){return e.setMinutes(n,0,0),e}},s:new class extends _p{constructor(){super(...arguments),t(this,"priority",50),t(this,"incompatibleTokens",["t","T"])}parse(e,t,n){switch(t){case"s":return Zp(Rp,e);case"so":return n.ordinalNumber(e,{unit:"second"});default:return nm(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,n){return e.setSeconds(n,0),e}},S:new class extends _p{constructor(){super(...arguments),t(this,"priority",30),t(this,"incompatibleTokens",["t","T"])}parse(e,t){return Qp(nm(t.length,e),e=>Math.trunc(e*Math.pow(10,3-t.length)))}set(e,t,n){return e.setMilliseconds(n),e}},X:new class extends _p{constructor(){super(...arguments),t(this,"priority",10),t(this,"incompatibleTokens",["t","T","x"])}parse(e,t){switch(t){case"X":return em(Gp,e);case"XX":return em(Yp,e);case"XXXX":return em(Kp,e);case"XXXXX":return em(Xp,e);default:return em(Jp,e)}}set(e,t,n){return t.timestampIsSet?e:ah(e,e.getTime()-fh(e)-n)}},x:new class extends _p{constructor(){super(...arguments),t(this,"priority",10),t(this,"incompatibleTokens",["t","T","X"])}parse(e,t){switch(t){case"x":return em(Gp,e);case"xx":return em(Yp,e);case"xxxx":return em(Kp,e);case"xxxxx":return em(Xp,e);default:return em(Jp,e)}}set(e,t,n){return t.timestampIsSet?e:ah(e,e.getTime()-fh(e)-n)}},t:new class extends _p{constructor(){super(...arguments),t(this,"priority",40),t(this,"incompatibleTokens","*")}parse(e){return tm(e)}set(e,t,n){return[ah(e,1e3*n),{timestampIsSet:!0}]}},T:new class extends _p{constructor(){super(...arguments),t(this,"priority",20),t(this,"incompatibleTokens","*")}parse(e){return tm(e)}set(e,t,n){return[ah(e,n),{timestampIsSet:!0}]}}},um=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,hm=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,pm=/^'([^]*?)'?$/,mm=/''/g,fm=/\S/,gm=/[a-zA-Z]/;function xm(e,t,n,r){var a,i,s,o,l,c,d,u,h,p,m,f,g,x,b,y,v,w;const j=()=>ah((null==r?void 0:r.in)||n,NaN),N=Object.assign({},uh()),k=null!=(i=null!=(a=null==r?void 0:r.locale)?a:N.locale)?i:qh,S=null!=(p=null!=(h=null!=(c=null!=(l=null==r?void 0:r.firstWeekContainsDate)?l:null==(o=null==(s=null==r?void 0:r.locale)?void 0:s.options)?void 0:o.firstWeekContainsDate)?c:N.firstWeekContainsDate)?h:null==(u=null==(d=N.locale)?void 0:d.options)?void 0:u.firstWeekContainsDate)?p:1,C=null!=(w=null!=(v=null!=(x=null!=(g=null==r?void 0:r.weekStartsOn)?g:null==(f=null==(m=null==r?void 0:r.locale)?void 0:m.options)?void 0:f.weekStartsOn)?x:N.weekStartsOn)?v:null==(y=null==(b=N.locale)?void 0:b.options)?void 0:y.weekStartsOn)?w:0;if(!t)return e?j():ih(n,null==r?void 0:r.in);const _={firstWeekContainsDate:S,weekStartsOn:C,locale:k},A=[new Cp(null==r?void 0:r.in,n)],T=t.match(hm).map(e=>{const t=e[0];return t in ap?(0,ap[t])(e,k.formatLong):e}).join("").match(um),O=[];for(let D of T){const t=D[0],n=dm[t];if(n){const{incompatibleTokens:r}=n;if(Array.isArray(r)){const e=O.find(e=>r.includes(e.token)||e.token===t);if(e)throw new RangeError(`The format string mustn't contain \`${e.fullToken}\` and \`${D}\` at the same time`)}else if("*"===n.incompatibleTokens&&O.length>0)throw new RangeError(`The format string mustn't contain \`${D}\` and any other token at the same time`);O.push({token:t,fullToken:D});const a=n.run(e,D,k.match,_);if(!a)return j();A.push(a.setter),e=a.rest}else{if(t.match(gm))throw new RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");if("''"===D?D="'":"'"===t&&(D=bm(D)),0!==e.indexOf(D))return j();e=e.slice(D.length)}}if(e.length>0&&fm.test(e))return j();const E=A.map(e=>e.priority).sort((e,t)=>t-e).filter((e,t,n)=>n.indexOf(e)===t).map(e=>A.filter(t=>t.priority===e).sort((e,t)=>t.subPriority-e.subPriority)).map(e=>e[0]);let M=ih(n,null==r?void 0:r.in);if(isNaN(+M))return j();const P={};for(const D of E){if(!D.validate(M,_))return j();const e=D.set(M,P,_);Array.isArray(e)?(M=e[0],Object.assign(P,e[1])):M=e}return M}function bm(e){return e.match(pm)[1].replace(mm,"'")}function ym(e,t,n){const r=+ih(e,null==n?void 0:n.in),[a,i]=[+ih(t.start,null==n?void 0:n.in),+ih(t.end,null==n?void 0:n.in)].sort((e,t)=>e-t);return r>=a&&r<=i}const vm={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},wm=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,jm=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Nm=/^([+-])(\d{2})(?::?(\d{2}))?$/;function km(e){return e?parseInt(e):1}function Sm(e){return e&&parseFloat(e.replace(",","."))||0}const Cm=[31,null,31,30,31,30,31,31,30,31,30,31];function _m(e){return e%400==0||e%4==0&&e%100!=0}function Am(e,t,n){const r=ih(e,null==n?void 0:n.in),a=r.getFullYear(),i=r.getDate(),s=ah(e,0);s.setFullYear(a,t,15),s.setHours(0,0,0,0);const o=function(e){const t=ih(e,void 0),n=t.getFullYear(),r=t.getMonth(),a=ah(t,0);return a.setFullYear(n,r+1,0),a.setHours(0,0,0,0),a.getDate()}(s);return r.setMonth(t,Math.min(i,o)),r}function Tm(e,t,n){const r=ih(e,null==n?void 0:n.in);return r.setHours(t),r}function Om(e,t,n){const r=ih(e,null==n?void 0:n.in);return r.setMinutes(t),r}function Em(e,t,n){const r=ih(e,null==n?void 0:n.in),a=t-(Math.trunc(r.getMonth()/3)+1);return Am(r,r.getMonth()+3*a)}function Mm(e,t,n){const r=ih(e,null==n?void 0:n.in);return r.setSeconds(t),r}function Pm(e,t,n){const r=ih(e,null==n?void 0:n.in);return isNaN(+r)?ah(e,NaN):(r.setFullYear(t),r)}function Dm(e,t,n){return oh(e,-t,n)}function Lm(e,t,n){return vh(e,-1,n)}function Im(e,t,n){return jh(e,-1,n)}function Rm(e,t,n){return Nh(e,-t,n)}function Fm(){return"undefined"!=typeof window}function Hm(e){return Wm(e)?(e.nodeName||"").toLowerCase():"#document"}function zm(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function Bm(e){var t;return null==(t=(Wm(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function Wm(e){return!!Fm()&&(e instanceof Node||e instanceof zm(e).Node)}function $m(e){return!!Fm()&&(e instanceof Element||e instanceof zm(e).Element)}function Um(e){return!!Fm()&&(e instanceof HTMLElement||e instanceof zm(e).HTMLElement)}function Vm(e){return!(!Fm()||"undefined"==typeof ShadowRoot)&&(e instanceof ShadowRoot||e instanceof zm(e).ShadowRoot)}const qm=new Set(["inline","contents"]);function Gm(e){const{overflow:t,overflowX:n,overflowY:r,display:a}=sf(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!qm.has(a)}const Ym=new Set(["table","td","th"]);function Km(e){return Ym.has(Hm(e))}const Jm=[":popover-open",":modal"];function Xm(e){return Jm.some(t=>{try{return e.matches(t)}catch(n){return!1}})}const Qm=["transform","translate","scale","rotate","perspective"],Zm=["transform","translate","scale","rotate","perspective","filter"],ef=["paint","layout","strict","content"];function tf(e){const t=nf(),n=$m(e)?sf(e):e;return Qm.some(e=>!!n[e]&&"none"!==n[e])||!!n.containerType&&"normal"!==n.containerType||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||Zm.some(e=>(n.willChange||"").includes(e))||ef.some(e=>(n.contain||"").includes(e))}function nf(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}const rf=new Set(["html","body","#document"]);function af(e){return rf.has(Hm(e))}function sf(e){return zm(e).getComputedStyle(e)}function of(e){return $m(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function lf(e){if("html"===Hm(e))return e;const t=e.assignedSlot||e.parentNode||Vm(e)&&e.host||Bm(e);return Vm(t)?t.host:t}function cf(e){const t=lf(e);return af(t)?e.ownerDocument?e.ownerDocument.body:e.body:Um(t)&&Gm(t)?t:cf(t)}function df(e,t,n){var r;void 0===t&&(t=[]),void 0===n&&(n=!0);const a=cf(e),i=a===(null==(r=e.ownerDocument)?void 0:r.body),s=zm(a);if(i){const e=uf(s);return t.concat(s,s.visualViewport||[],Gm(a)?a:[],e&&n?df(e):[])}return t.concat(a,df(a,[],n))}function uf(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}const hf=Math.min,pf=Math.max,mf=Math.round,ff=Math.floor,gf=e=>({x:e,y:e}),xf={left:"right",right:"left",bottom:"top",top:"bottom"},bf={start:"end",end:"start"};function yf(e,t){return"function"==typeof e?e(t):e}function vf(e){return e.split("-")[0]}function wf(e){return e.split("-")[1]}function jf(e){return"y"===e?"height":"width"}const Nf=new Set(["top","bottom"]);function kf(e){return Nf.has(vf(e))?"y":"x"}function Sf(e){return"x"===kf(e)?"y":"x"}function Cf(e){return e.replace(/start|end/g,e=>bf[e])}const _f=["left","right"],Af=["right","left"],Tf=["top","bottom"],Of=["bottom","top"];function Ef(e){return e.replace(/left|right|bottom|top/g,e=>xf[e])}function Mf(e){return"number"!=typeof e?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(e):{top:e,right:e,bottom:e,left:e}}function Pf(e){const{x:t,y:n,width:r,height:a}=e;return{width:r,height:a,top:n,left:t,right:t+r,bottom:n+a,x:t,y:n}}var Df="undefined"!=typeof document?x.useLayoutEffect:function(){};const Lf={...y}.useInsertionEffect||(e=>e());function If(e,t,n){let{reference:r,floating:a}=e;const i=kf(t),s=Sf(t),o=jf(s),l=vf(t),c="y"===i,d=r.x+r.width/2-a.width/2,u=r.y+r.height/2-a.height/2,h=r[o]/2-a[o]/2;let p;switch(l){case"top":p={x:d,y:r.y-a.height};break;case"bottom":p={x:d,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:u};break;case"left":p={x:r.x-a.width,y:u};break;default:p={x:r.x,y:r.y}}switch(wf(t)){case"start":p[s]-=h*(n&&c?-1:1);break;case"end":p[s]+=h*(n&&c?-1:1)}return p}const Rf=new Set(["left","top"]);function Ff(e){const t=sf(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const a=Um(e),i=a?e.offsetWidth:n,s=a?e.offsetHeight:r,o=mf(n)!==i||mf(r)!==s;return o&&(n=i,r=s),{width:n,height:r,$:o}}function Hf(e){return $m(e)?e:e.contextElement}function zf(e){const t=Hf(e);if(!Um(t))return gf(1);const n=t.getBoundingClientRect(),{width:r,height:a,$:i}=Ff(t);let s=(i?mf(n.width):n.width)/r,o=(i?mf(n.height):n.height)/a;return s&&Number.isFinite(s)||(s=1),o&&Number.isFinite(o)||(o=1),{x:s,y:o}}const Bf=gf(0);function Wf(e){const t=zm(e);return nf()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:Bf}function $f(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=!1);const a=e.getBoundingClientRect(),i=Hf(e);let s=gf(1);t&&(r?$m(r)&&(s=zf(r)):s=zf(e));const o=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==zm(e))&&t}(i,n,r)?Wf(i):gf(0);let l=(a.left+o.x)/s.x,c=(a.top+o.y)/s.y,d=a.width/s.x,u=a.height/s.y;if(i){const e=zm(i),t=r&&$m(r)?zm(r):r;let n=e,a=uf(n);for(;a&&r&&t!==n;){const e=zf(a),t=a.getBoundingClientRect(),r=sf(a),i=t.left+(a.clientLeft+parseFloat(r.paddingLeft))*e.x,s=t.top+(a.clientTop+parseFloat(r.paddingTop))*e.y;l*=e.x,c*=e.y,d*=e.x,u*=e.y,l+=i,c+=s,n=zm(a),a=uf(n)}}return Pf({width:d,height:u,x:l,y:c})}function Uf(e,t){const n=of(e).scrollLeft;return t?t.left+n:$f(Bm(e)).left+n}function Vf(e,t){const n=e.getBoundingClientRect();return{x:n.left+t.scrollLeft-Uf(e,n),y:n.top+t.scrollTop}}const qf=new Set(["absolute","fixed"]);function Gf(e,t,n){let r;if("viewport"===t)r=function(e,t){const n=zm(e),r=Bm(e),a=n.visualViewport;let i=r.clientWidth,s=r.clientHeight,o=0,l=0;if(a){i=a.width,s=a.height;const e=nf();(!e||e&&"fixed"===t)&&(o=a.offsetLeft,l=a.offsetTop)}const c=Uf(r);if(c<=0){const e=r.ownerDocument,t=e.body,n=getComputedStyle(t),a="CSS1Compat"===e.compatMode&&parseFloat(n.marginLeft)+parseFloat(n.marginRight)||0,s=Math.abs(r.clientWidth-t.clientWidth-a);s<=25&&(i-=s)}else c<=25&&(i+=c);return{width:i,height:s,x:o,y:l}}(e,n);else if("document"===t)r=function(e){const t=Bm(e),n=of(e),r=e.ownerDocument.body,a=pf(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=pf(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+Uf(e);const o=-n.scrollTop;return"rtl"===sf(r).direction&&(s+=pf(t.clientWidth,r.clientWidth)-a),{width:a,height:i,x:s,y:o}}(Bm(e));else if($m(t))r=function(e,t){const n=$f(e,!0,"fixed"===t),r=n.top+e.clientTop,a=n.left+e.clientLeft,i=Um(e)?zf(e):gf(1);return{width:e.clientWidth*i.x,height:e.clientHeight*i.y,x:a*i.x,y:r*i.y}}(t,n);else{const n=Wf(e);r={x:t.x-n.x,y:t.y-n.y,width:t.width,height:t.height}}return Pf(r)}function Yf(e,t){const n=lf(e);return!(n===t||!$m(n)||af(n))&&("fixed"===sf(n).position||Yf(n,t))}function Kf(e,t,n){const r=Um(t),a=Bm(t),i="fixed"===n,s=$f(e,!0,i,t);let o={scrollLeft:0,scrollTop:0};const l=gf(0);function c(){l.x=Uf(a)}if(r||!r&&!i)if(("body"!==Hm(t)||Gm(a))&&(o=of(t)),r){const e=$f(t,!0,i,t);l.x=e.x+t.clientLeft,l.y=e.y+t.clientTop}else a&&c();i&&!r&&a&&c();const d=!a||r||i?gf(0):Vf(a,o);return{x:s.left+o.scrollLeft-l.x-d.x,y:s.top+o.scrollTop-l.y-d.y,width:s.width,height:s.height}}function Jf(e){return"static"===sf(e).position}function Xf(e,t){if(!Um(e)||"fixed"===sf(e).position)return null;if(t)return t(e);let n=e.offsetParent;return Bm(e)===n&&(n=n.ownerDocument.body),n}function Qf(e,t){const n=zm(e);if(Xm(e))return n;if(!Um(e)){let t=lf(e);for(;t&&!af(t);){if($m(t)&&!Jf(t))return t;t=lf(t)}return n}let r=Xf(e,t);for(;r&&Km(r)&&Jf(r);)r=Xf(r,t);return r&&af(r)&&Jf(r)&&!tf(r)?n:r||function(e){let t=lf(e);for(;Um(t)&&!af(t);){if(tf(t))return t;if(Xm(t))return null;t=lf(t)}return null}(e)||n}const Zf={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:n,offsetParent:r,strategy:a}=e;const i="fixed"===a,s=Bm(r),o=!!t&&Xm(t.floating);if(r===s||o&&i)return n;let l={scrollLeft:0,scrollTop:0},c=gf(1);const d=gf(0),u=Um(r);if((u||!u&&!i)&&(("body"!==Hm(r)||Gm(s))&&(l=of(r)),Um(r))){const e=$f(r);c=zf(r),d.x=e.x+r.clientLeft,d.y=e.y+r.clientTop}const h=!s||u||i?gf(0):Vf(s,l);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x+h.x,y:n.y*c.y-l.scrollTop*c.y+d.y+h.y}},getDocumentElement:Bm,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:a}=e;const i=[..."clippingAncestors"===n?Xm(t)?[]:function(e,t){const n=t.get(e);if(n)return n;let r=df(e,[],!1).filter(e=>$m(e)&&"body"!==Hm(e)),a=null;const i="fixed"===sf(e).position;let s=i?lf(e):e;for(;$m(s)&&!af(s);){const t=sf(s),n=tf(s);n||"fixed"!==t.position||(a=null),(i?!n&&!a:!n&&"static"===t.position&&a&&qf.has(a.position)||Gm(s)&&!n&&Yf(e,s))?r=r.filter(e=>e!==s):a=t,s=lf(s)}return t.set(e,r),r}(t,this._c):[].concat(n),r],s=i[0],o=i.reduce((e,n)=>{const r=Gf(t,n,a);return e.top=pf(r.top,e.top),e.right=hf(r.right,e.right),e.bottom=hf(r.bottom,e.bottom),e.left=pf(r.left,e.left),e},Gf(t,s,a));return{width:o.right-o.left,height:o.bottom-o.top,x:o.left,y:o.top}},getOffsetParent:Qf,getElementRects:async function(e){const t=this.getOffsetParent||Qf,n=this.getDimensions,r=await n(e.floating);return{reference:Kf(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:n}=Ff(e);return{width:t,height:n}},getScale:zf,isElement:$m,isRTL:function(e){return"rtl"===sf(e).direction}};function eg(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function tg(e,t,n,r){void 0===r&&(r={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:s="function"==typeof ResizeObserver,layoutShift:o="function"==typeof IntersectionObserver,animationFrame:l=!1}=r,c=Hf(e),d=a||i?[...c?df(c):[],...df(t)]:[];d.forEach(e=>{a&&e.addEventListener("scroll",n,{passive:!0}),i&&e.addEventListener("resize",n)});const u=c&&o?function(e,t){let n,r=null;const a=Bm(e);function i(){var e;clearTimeout(n),null==(e=r)||e.disconnect(),r=null}return function s(o,l){void 0===o&&(o=!1),void 0===l&&(l=1),i();const c=e.getBoundingClientRect(),{left:d,top:u,width:h,height:p}=c;if(o||t(),!h||!p)return;const m={rootMargin:-ff(u)+"px "+-ff(a.clientWidth-(d+h))+"px "+-ff(a.clientHeight-(u+p))+"px "+-ff(d)+"px",threshold:pf(0,hf(1,l))||1};let f=!0;function g(t){const r=t[0].intersectionRatio;if(r!==l){if(!f)return s();r?s(!1,r):n=setTimeout(()=>{s(!1,1e-7)},1e3)}1!==r||eg(c,e.getBoundingClientRect())||s(),f=!1}try{r=new IntersectionObserver(g,{...m,root:a.ownerDocument})}catch(x){r=new IntersectionObserver(g,m)}r.observe(e)}(!0),i}(c,n):null;let h,p=-1,m=null;s&&(m=new ResizeObserver(e=>{let[r]=e;r&&r.target===c&&m&&(m.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var e;null==(e=m)||e.observe(t)})),n()}),c&&!l&&m.observe(c),m.observe(t));let f=l?$f(e):null;return l&&function t(){const r=$f(e);f&&!eg(f,r)&&n(),f=r,h=requestAnimationFrame(t)}(),n(),()=>{var e;d.forEach(e=>{a&&e.removeEventListener("scroll",n),i&&e.removeEventListener("resize",n)}),null==u||u(),null==(e=m)||e.disconnect(),m=null,l&&cancelAnimationFrame(h)}}const ng=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:a,y:i,placement:s,middlewareData:o}=t,l=await async function(e,t){const{placement:n,platform:r,elements:a}=e,i=await(null==r.isRTL?void 0:r.isRTL(a.floating)),s=vf(n),o=wf(n),l="y"===kf(n),c=Rf.has(s)?-1:1,d=i&&l?-1:1,u=yf(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:m}="number"==typeof u?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return o&&"number"==typeof m&&(p="end"===o?-1*m:m),l?{x:p*d,y:h*c}:{x:h*c,y:p*d}}(t,e);return s===(null==(n=o.offset)?void 0:n.placement)&&null!=(r=o.arrow)&&r.alignmentOffset?{}:{x:a+l.x,y:i+l.y,data:{...l,placement:s}}}}},rg=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:a,middlewareData:i,rects:s,initialPlacement:o,platform:l,elements:c}=t,{mainAxis:d=!0,crossAxis:u=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:f=!0,...g}=yf(e,t);if(null!=(n=i.arrow)&&n.alignmentOffset)return{};const x=vf(a),b=kf(o),y=vf(o)===o,v=await(null==l.isRTL?void 0:l.isRTL(c.floating)),w=h||(y||!f?[Ef(o)]:function(e){const t=Ef(e);return[Cf(e),t,Cf(t)]}(o)),j="none"!==m;!h&&j&&w.push(...function(e,t,n,r){const a=wf(e);let i=function(e,t,n){switch(e){case"top":case"bottom":return n?t?Af:_f:t?_f:Af;case"left":case"right":return t?Tf:Of;default:return[]}}(vf(e),"start"===n,r);return a&&(i=i.map(e=>e+"-"+a),t&&(i=i.concat(i.map(Cf)))),i}(o,f,m,v));const N=[o,...w],k=await async function(e,t){var n;void 0===t&&(t={});const{x:r,y:a,platform:i,rects:s,elements:o,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:u="floating",altBoundary:h=!1,padding:p=0}=yf(t,e),m=Mf(p),f=o[h?"floating"===u?"reference":"floating":u],g=Pf(await i.getClippingRect({element:null==(n=await(null==i.isElement?void 0:i.isElement(f)))||n?f:f.contextElement||await(null==i.getDocumentElement?void 0:i.getDocumentElement(o.floating)),boundary:c,rootBoundary:d,strategy:l})),x="floating"===u?{x:r,y:a,width:s.floating.width,height:s.floating.height}:s.reference,b=await(null==i.getOffsetParent?void 0:i.getOffsetParent(o.floating)),y=await(null==i.isElement?void 0:i.isElement(b))&&await(null==i.getScale?void 0:i.getScale(b))||{x:1,y:1},v=Pf(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:x,offsetParent:b,strategy:l}):x);return{top:(g.top-v.top+m.top)/y.y,bottom:(v.bottom-g.bottom+m.bottom)/y.y,left:(g.left-v.left+m.left)/y.x,right:(v.right-g.right+m.right)/y.x}}(t,g),S=[];let C=(null==(r=i.flip)?void 0:r.overflows)||[];if(d&&S.push(k[x]),u){const e=function(e,t,n){void 0===n&&(n=!1);const r=wf(e),a=Sf(e),i=jf(a);let s="x"===a?r===(n?"end":"start")?"right":"left":"start"===r?"bottom":"top";return t.reference[i]>t.floating[i]&&(s=Ef(s)),[s,Ef(s)]}(a,s,v);S.push(k[e[0]],k[e[1]])}if(C=[...C,{placement:a,overflows:S}],!S.every(e=>e<=0)){var _,A;const e=((null==(_=i.flip)?void 0:_.index)||0)+1,t=N[e];if(t&&("alignment"!==u||b===kf(t)||C.every(e=>kf(e.placement)!==b||e.overflows[0]>0)))return{data:{index:e,overflows:C},reset:{placement:t}};let n=null==(A=C.filter(e=>e.overflows[0]<=0).sort((e,t)=>e.overflows[1]-t.overflows[1])[0])?void 0:A.placement;if(!n)switch(p){case"bestFit":{var T;const e=null==(T=C.filter(e=>{if(j){const t=kf(e.placement);return t===b||"y"===t}return!0}).map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0)]).sort((e,t)=>e[1]-t[1])[0])?void 0:T[0];e&&(n=e);break}case"initialPlacement":n=o}if(a!==n)return{reset:{placement:n}}}return{}}}},ag=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:a,rects:i,platform:s,elements:o,middlewareData:l}=t,{element:c,padding:d=0}=yf(e,t)||{};if(null==c)return{};const u=Mf(d),h={x:n,y:r},p=Sf(a),m=jf(p),f=await s.getDimensions(c),g="y"===p,x=g?"top":"left",b=g?"bottom":"right",y=g?"clientHeight":"clientWidth",v=i.reference[m]+i.reference[p]-h[p]-i.floating[m],w=h[p]-i.reference[p],j=await(null==s.getOffsetParent?void 0:s.getOffsetParent(c));let N=j?j[y]:0;N&&await(null==s.isElement?void 0:s.isElement(j))||(N=o.floating[y]||i.floating[m]);const k=v/2-w/2,S=N/2-f[m]/2-1,C=hf(u[x],S),_=hf(u[b],S),A=C,T=N-f[m]-_,O=N/2-f[m]/2+k,E=pf(A,hf(O,T)),M=!l.arrow&&null!=wf(a)&&O!==E&&i.reference[m]/2-(O<A?C:_)-f[m]/2<0,P=M?O<A?O-A:O-T:0;return{[p]:h[p]+P,data:{[p]:E,centerOffset:O-E-P,...M&&{alignmentOffset:P}},reset:M}}});var ig="undefined"!=typeof document?x.useLayoutEffect:function(){};function sg(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if("function"==typeof e&&e.toString()===t.toString())return!0;let n,r,a;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;0!==r--;)if(!sg(e[r],t[r]))return!1;return!0}if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(r=n;0!==r--;)if(!{}.hasOwnProperty.call(t,a[r]))return!1;for(r=n;0!==r--;){const n=a[r];if(!("_owner"===n&&e.$$typeof||sg(e[n],t[n])))return!1}return!0}return e!=e&&t!=t}function og(e){return"undefined"==typeof window?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function lg(e,t){const n=og(e);return Math.round(t*n)/n}function cg(e){const t=x.useRef(e);return ig(()=>{t.current=e}),t}const dg=e=>({name:"arrow",options:e,fn(t){const{element:n,padding:r}="function"==typeof e?e(t):e;return n&&(a=n,{}.hasOwnProperty.call(a,"current"))?null!=n.current?ag({element:n.current,padding:r}).fn(t):{}:n?ag({element:n,padding:r}).fn(t):{};var a}}),ug=(e,t)=>({...ng(e),options:[e,t]}),hg=(e,t)=>({...dg(e),options:[e,t]}),pg={...y};let mg=!1,fg=0;const gg=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+fg++,xg=pg.useId||function(){const[e,t]=x.useState(()=>mg?gg():void 0);return Df(()=>{null==e&&t(gg())},[]),x.useEffect(()=>{mg=!0},[]),e},bg=x.forwardRef(function(e,t){const{context:{placement:n,elements:{floating:r},middlewareData:{arrow:a,shift:i}},width:s=14,height:o=7,tipRadius:l=0,strokeWidth:c=0,staticOffset:d,stroke:u,d:p,style:{transform:m,...f}={},...g}=e,b=xg(),[y,v]=x.useState(!1);if(Df(()=>{r&&"rtl"===sf(r).direction&&v(!0)},[r]),!r)return null;const[w,j]=n.split("-"),N="top"===w||"bottom"===w;let k=d;(N&&null!=i&&i.x||!N&&null!=i&&i.y)&&(k=null);const S=2*c,C=S/2,_=s/2*(l/-8+1),A=o/2*l/4,T=!!p,O=k&&"end"===j?"bottom":"top";let E=k&&"end"===j?"right":"left";k&&y&&(E="end"===j?"left":"right");const M=null!=(null==a?void 0:a.x)?k||a.x:"",P=null!=(null==a?void 0:a.y)?k||a.y:"",D=p||"M0,0 H"+s+" L"+(s-_)+","+(o-A)+" Q"+s/2+","+o+" "+_+","+(o-A)+" Z",L={top:T?"rotate(180deg)":"",left:T?"rotate(90deg)":"rotate(-90deg)",bottom:T?"":"rotate(180deg)",right:T?"rotate(-90deg)":"rotate(90deg)"}[w];return h.jsxs("svg",{...g,"aria-hidden":!0,ref:t,width:T?s:s+S,height:s,viewBox:"0 0 "+s+" "+(o>s?o:s),style:{position:"absolute",pointerEvents:"none",[E]:M,[O]:P,[w]:N||T?"100%":"calc(100% - "+S/2+"px)",transform:[L,m].filter(e=>!!e).join(" "),...f},children:[S>0&&h.jsx("path",{clipPath:"url(#"+b+")",fill:"none",stroke:u,strokeWidth:S+(p?0:1),d:D}),h.jsx("path",{stroke:S&&!p?g.fill:"none",d:D}),h.jsx("clipPath",{id:b,children:h.jsx("rect",{x:-C,y:C*(T?-1:1),width:s+S,height:s})})]})}),yg=x.createContext(null),vg=x.createContext(null);function wg(e){void 0===e&&(e={});const{nodeId:t}=e,n=function(e){const{open:t=!1,onOpenChange:n,elements:r}=e,a=xg(),i=x.useRef({}),[s]=x.useState(()=>function(){const e=new Map;return{emit(t,n){var r;null==(r=e.get(t))||r.forEach(e=>e(n))},on(t,n){e.has(t)||e.set(t,new Set),e.get(t).add(n)},off(t,n){var r;null==(r=e.get(t))||r.delete(n)}}}()),o=null!=((null==(l=x.useContext(yg))?void 0:l.id)||null);var l;const[c,d]=x.useState(r.reference),u=function(e){const t=x.useRef(()=>{});return Lf(()=>{t.current=e}),x.useCallback(function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return null==t.current?void 0:t.current(...n)},[])}((e,t,r)=>{i.current.openEvent=e?t:void 0,s.emit("openchange",{open:e,event:t,reason:r,nested:o}),null==n||n(e,t,r)}),h=x.useMemo(()=>({setPositionReference:d}),[]),p=x.useMemo(()=>({reference:c||r.reference||null,floating:r.floating||null,domReference:r.reference}),[c,r.reference,r.floating]);return x.useMemo(()=>({dataRef:i,open:t,onOpenChange:u,elements:p,events:s,floatingId:a,refs:h}),[t,u,p,s,a,h])}({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,a=r.elements,[i,s]=x.useState(null),[o,l]=x.useState(null),c=(null==a?void 0:a.domReference)||i,d=x.useRef(null),u=x.useContext(vg);Df(()=>{c&&(d.current=c)},[c]);const h=function(e){void 0===e&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:a,elements:{reference:i,floating:s}={},transform:o=!0,whileElementsMounted:l,open:c}=e,[d,u]=x.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=x.useState(r);sg(h,r)||p(r);const[m,f]=x.useState(null),[g,b]=x.useState(null),y=x.useCallback(e=>{e!==N.current&&(N.current=e,f(e))},[]),v=x.useCallback(e=>{e!==k.current&&(k.current=e,b(e))},[]),w=i||m,j=s||g,N=x.useRef(null),k=x.useRef(null),S=x.useRef(d),C=null!=l,_=cg(l),A=cg(a),T=cg(c),O=x.useCallback(()=>{if(!N.current||!k.current)return;const e={placement:t,strategy:n,middleware:h};A.current&&(e.platform=A.current),((e,t,n)=>{const r=new Map,a={platform:Zf,...n},i={...a.platform,_c:r};return(async(e,t,n)=>{const{placement:r="bottom",strategy:a="absolute",middleware:i=[],platform:s}=n,o=i.filter(Boolean),l=await(null==s.isRTL?void 0:s.isRTL(t));let c=await s.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:u}=If(c,r,l),h=r,p={},m=0;for(let f=0;f<o.length;f++){const{name:n,fn:i}=o[f],{x:g,y:x,data:b,reset:y}=await i({x:d,y:u,initialPlacement:r,placement:h,strategy:a,middlewareData:p,rects:c,platform:s,elements:{reference:e,floating:t}});d=null!=g?g:d,u=null!=x?x:u,p={...p,[n]:{...p[n],...b}},y&&m<=50&&(m++,"object"==typeof y&&(y.placement&&(h=y.placement),y.rects&&(c=!0===y.rects?await s.getElementRects({reference:e,floating:t,strategy:a}):y.rects),({x:d,y:u}=If(c,h,l))),f=-1)}return{x:d,y:u,placement:h,strategy:a,middlewareData:p}})(e,t,{...a,platform:i})})(N.current,k.current,e).then(e=>{const t={...e,isPositioned:!1!==T.current};E.current&&!sg(S.current,t)&&(S.current=t,ct.flushSync(()=>{u(t)}))})},[h,t,n,A,T]);ig(()=>{!1===c&&S.current.isPositioned&&(S.current.isPositioned=!1,u(e=>({...e,isPositioned:!1})))},[c]);const E=x.useRef(!1);ig(()=>(E.current=!0,()=>{E.current=!1}),[]),ig(()=>{if(w&&(N.current=w),j&&(k.current=j),w&&j){if(_.current)return _.current(w,j,O);O()}},[w,j,O,_,C]);const M=x.useMemo(()=>({reference:N,floating:k,setReference:y,setFloating:v}),[y,v]),P=x.useMemo(()=>({reference:w,floating:j}),[w,j]),D=x.useMemo(()=>{const e={position:n,left:0,top:0};if(!P.floating)return e;const t=lg(P.floating,d.x),r=lg(P.floating,d.y);return o?{...e,transform:"translate("+t+"px, "+r+"px)",...og(P.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:t,top:r}},[n,o,P.floating,d.x,d.y]);return x.useMemo(()=>({...d,update:O,refs:M,elements:P,floatingStyles:D}),[d,O,M,P,D])}({...e,elements:{...a,...o&&{reference:o}}}),p=x.useCallback(e=>{const t=$m(e)?{getBoundingClientRect:()=>e.getBoundingClientRect(),getClientRects:()=>e.getClientRects(),contextElement:e}:e;l(t),h.refs.setReference(t)},[h.refs]),m=x.useCallback(e=>{($m(e)||null===e)&&(d.current=e,s(e)),($m(h.refs.reference.current)||null===h.refs.reference.current||null!==e&&!$m(e))&&h.refs.setReference(e)},[h.refs]),f=x.useMemo(()=>({...h.refs,setReference:m,setPositionReference:p,domReference:d}),[h.refs,m,p]),g=x.useMemo(()=>({...h.elements,domReference:c}),[h.elements,c]),b=x.useMemo(()=>({...h,...r,refs:f,elements:g,nodeId:t}),[h,f,g,t,r]);return Df(()=>{r.dataRef.current.floatingContext=b;const e=null==u?void 0:u.nodesRef.current.find(e=>e.id===t);e&&(e.context=b)}),x.useMemo(()=>({...h,context:b,refs:f,elements:g}),[h,f,g,b])}var jg=function(e,t){return(jg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function Ng(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}jg(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var kg=function(){return kg=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},kg.apply(this,arguments)};function Sg(e,t,n){if(n||2===arguments.length)for(var r,a=0,i=t.length;a<i;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))}"function"==typeof SuppressedError&&SuppressedError;var Cg,_g,Ag=function(e){var t=e.showTimeSelectOnly,n=void 0!==t&&t,r=e.showTime,a=void 0!==r&&r,i=e.className,s=e.children,o=n?"Choose Time":"Choose Date".concat(a?" and Time":"");return b.createElement("div",{className:i,role:"dialog","aria-label":o,"aria-modal":"true"},s)},Tg=function(e){var t=e.children,n=e.onClickOutside,r=e.className,a=e.containerRef,i=e.style,s=function(e,t){var n=x.useRef(null),r=x.useRef(e);r.current=e;var a=x.useCallback(function(e){var a,i=e.composed&&e.composedPath&&e.composedPath().find(function(e){return e instanceof Node})||e.target;n.current&&!n.current.contains(i)&&(t&&i instanceof HTMLElement&&i.classList.contains(t)||null===(a=r.current)||void 0===a||a.call(r,e))},[t]);return x.useEffect(function(){return document.addEventListener("mousedown",a),function(){document.removeEventListener("mousedown",a)}},[a]),n}(n,e.ignoreClass);return b.createElement("div",{className:r,style:i,ref:function(e){s.current=e,a&&(a.current=e)}},t)};function Og(){return"undefined"!=typeof window?window:globalThis}function Eg(e){if(null==e)return new Date;var t="string"==typeof e?function(e,t){const n=()=>ah(null==t?void 0:t.in,NaN),r=function(e){const t={},n=e.split(vm.dateTimeDelimiter);let r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],vm.timeZoneDelimiter.test(t.date)&&(t.date=e.split(vm.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){const e=vm.timezone.exec(r);e?(t.time=r.replace(e[1],""),t.timezone=e[1]):t.time=r}return t}(e);let a;if(r.date){const e=function(e){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{6})|(\\d{2}|[+-]\\d{4})$)"),n=e.match(t);if(!n)return{year:NaN,restDateString:""};const r=n[1]?parseInt(n[1]):null,a=n[2]?parseInt(n[2]):null;return{year:null===a?r:100*a,restDateString:e.slice((n[1]||n[2]).length)}}(r.date);a=function(e,t){if(null===t)return new Date(NaN);const n=e.match(wm);if(!n)return new Date(NaN);const r=!!n[4],a=km(n[1]),i=km(n[2])-1,s=km(n[3]),o=km(n[4]),l=km(n[5])-1;if(r)return function(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}(0,o,l)?function(e,t,n){const r=new Date(0);r.setUTCFullYear(e,0,4);const a=7*(t-1)+n+1-(r.getUTCDay()||7);return r.setUTCDate(r.getUTCDate()+a),r}(t,o,l):new Date(NaN);{const e=new Date(0);return function(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(Cm[t]||(_m(e)?29:28))}(t,i,s)&&function(e,t){return t>=1&&t<=(_m(e)?366:365)}(t,a)?(e.setUTCFullYear(t,i,Math.max(a,s)),e):new Date(NaN)}}(e.restDateString,e.year)}if(!a||isNaN(+a))return n();const i=+a;let s,o=0;if(r.time&&(o=function(e){const t=e.match(jm);if(!t)return NaN;const n=Sm(t[1]),r=Sm(t[2]),a=Sm(t[3]);return function(e,t,n){return 24===e?0===t&&0===n:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}(n,r,a)?n*nh+r*th+1e3*a:NaN}(r.time),isNaN(o)))return n();if(!r.timezone){const e=new Date(i+o),n=ih(0,null==t?void 0:t.in);return n.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),n.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),n}return s=function(e){if("Z"===e)return 0;const t=e.match(Nm);if(!t)return 0;const n="+"===t[1]?-1:1,r=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return function(e,t){return t>=0&&t<=59}(0,a)?n*(r*nh+a*th):NaN}(r.timezone),isNaN(s)?n():ih(i+o+s,null==t?void 0:t.in)}(e):ih(e);return Pg(t)?t:new Date}function Mg(e,t,n,r,a){void 0===a&&(a=Eg());for(var i=Xg(n)||Xg(Jg()),s=0,o=Array.isArray(t)?t:[t];s<o.length;s++){var l=o[s],c=xm(e,l,a,{locale:i});if(Pg(c)&&(!r||e===Dg(c,l,n)))return c}return null}function Pg(e,t){return _h(e)&&!Np(e,new Date("1/1/1800"))}function Dg(e,t,n){if("en"===n)return pp(e,t,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var r=n?Xg(n):void 0;return pp(e,t,{locale:r=r||Xg(Jg()),useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function Lg(e,t){var n=t.dateFormat,r=t.locale,a=Array.isArray(n)&&n.length>0?n[0]:n;return e&&Dg(e,a,r)||""}function Ig(e,t){var n=t.hour,r=void 0===n?0:n,a=t.minute,i=void 0===a?0:a,s=t.second;return Tm(Om(Mm(e,void 0===s?0:s),i),r)}function Rg(e){return xh(e)}function Fg(e,t,n){return hh(e,{locale:Xg(t||Jg()),weekStartsOn:n})}function Hg(e){return Ih(e)}function zg(e){return Fh(e)}function Bg(e){return Lh(e)}function Wg(){return xh(Eg())}function $g(e){return Ph(e)}function Ug(e,t){return e&&t?function(e,t){const[n,r]=gh(0,e,t);return n.getFullYear()===r.getFullYear()}(e,t):!e&&!t}function Vg(e,t){return e&&t?function(e,t){const[n,r]=gh(0,e,t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}(e,t):!e&&!t}function qg(e,t){return e&&t?function(e,t){const[n,r]=gh(0,e,t);return+Lh(n)===+Lh(r)}(e,t):!e&&!t}function Gg(e,t){return e&&t?function(e,t){const[n,r]=gh(0,e,t);return+xh(n)===+xh(r)}(e,t):!e&&!t}function Yg(e,t){return e&&t?(n=t,+ih(e)===+ih(n)):!e&&!t;var n}function Kg(e,t,n){var r,a=xh(t),i=Ph(n);try{r=ym(e,{start:a,end:i})}catch(s){r=!1}return r}function Jg(){return Og().__localeId__}function Xg(e){if("string"==typeof e){var t=Og();return t.__localeData__?t.__localeData__[e]:void 0}return e}function Qg(e,t){return Dg(Am(Eg(),e),"LLLL",t)}function Zg(e,t){return Dg(Am(Eg(),e),"LLL",t)}function ex(e,t){var n=void 0===t?{}:t,r=n.minDate,a=n.maxDate,i=n.excludeDates,s=n.excludeDateIntervals,o=n.includeDates,l=n.includeDateIntervals,c=n.filterDate;return cx(e,{minDate:r,maxDate:a})||i&&i.some(function(t){return t instanceof Date?Gg(e,t):Gg(e,t.date)})||s&&s.some(function(t){var n=t.start,r=t.end;return ym(e,{start:n,end:r})})||o&&!o.some(function(t){return Gg(e,t)})||l&&!l.some(function(t){var n=t.start,r=t.end;return ym(e,{start:n,end:r})})||c&&!c(Eg(e))||!1}function tx(e,t){var n=void 0===t?{}:t,r=n.excludeDates,a=n.excludeDateIntervals;return a&&a.length>0?a.some(function(t){var n=t.start,r=t.end;return ym(e,{start:n,end:r})}):r&&r.some(function(t){var n;return t instanceof Date?Gg(e,t):Gg(e,null!==(n=t.date)&&void 0!==n?n:new Date)})||!1}function nx(e,t){var n=void 0===t?{}:t,r=n.minDate,a=n.maxDate,i=n.excludeDates,s=n.includeDates,o=n.filterDate;return cx(e,{minDate:r?Ih(r):void 0,maxDate:a?Dh(a):void 0})||(null==i?void 0:i.some(function(t){return Vg(e,t instanceof Date?t:t.date)}))||s&&!s.some(function(t){return Vg(e,t)})||o&&!o(Eg(e))||!1}function rx(e,t,n,r){var a=wp(e),i=bp(e),s=wp(t),o=bp(t),l=wp(r);return a===s&&a===l?i<=n&&n<=o:a<s&&(l===a&&i<=n||l===s&&o>=n||l<s&&l>a)}function ax(e,t){var n=void 0===t?{}:t,r=n.minDate,a=n.maxDate,i=n.excludeDates,s=n.includeDates;return cx(e,{minDate:r,maxDate:a})||i&&i.some(function(t){return Vg(t instanceof Date?t:t.date,e)})||s&&!s.some(function(t){return Vg(t,e)})||!1}function ix(e,t){var n=void 0===t?{}:t,r=n.minDate,a=n.maxDate,i=n.excludeDates,s=n.includeDates,o=n.filterDate;return cx(e,{minDate:r,maxDate:a})||(null==i?void 0:i.some(function(t){return qg(e,t instanceof Date?t:t.date)}))||s&&!s.some(function(t){return qg(e,t)})||o&&!o(Eg(e))||!1}function sx(e,t,n){if(!t||!n)return!1;if(!_h(t)||!_h(n))return!1;var r=wp(t),a=wp(n);return r<=e&&a>=e}function ox(e,t){var n=void 0===t?{}:t,r=n.minDate,a=n.maxDate,i=n.excludeDates,s=n.includeDates,o=n.filterDate,l=new Date(e,0,1);return cx(l,{minDate:r?Fh(r):void 0,maxDate:a?Rh(a):void 0})||(null==i?void 0:i.some(function(e){return Ug(l,e instanceof Date?e:e.date)}))||s&&!s.some(function(e){return Ug(l,e)})||o&&!o(Eg(l))||!1}function lx(e,t,n,r){var a=wp(e),i=Th(e),s=wp(t),o=Th(t),l=wp(r);return a===s&&a===l?i<=n&&n<=o:a<s&&(l===a&&i<=n||l===s&&o>=n||l<s&&l>a)}function cx(e,t){var n,r=void 0===t?{}:t,a=r.minDate,i=r.maxDate;return null!==(n=a&&bh(e,a)<0||i&&bh(e,i)>0)&&void 0!==n&&n}function dx(e,t){return t.some(function(t){return gp(t)===gp(e)&&xp(t)===xp(e)&&yp(t)===yp(e)})}function ux(e,t){var n=void 0===t?{}:t,r=n.excludeTimes,a=n.includeTimes,i=n.filterTime;return r&&dx(e,r)||a&&!dx(e,a)||i&&!i(e)||!1}function hx(e,t){var n=t.minTime,r=t.maxTime;if(!n||!r)throw new Error("Both minTime and maxTime props required");var a=Eg();a=Mm(a=Om(a=Tm(a,gp(e)),xp(e)),yp(e));var i=Eg();i=Mm(i=Om(i=Tm(i,gp(n)),xp(n)),yp(n));var s,o=Eg();o=Mm(o=Om(o=Tm(o,gp(r)),xp(r)),yp(r));try{s=!ym(a,{start:i,end:o})}catch(l){s=!1}return s}function px(e,t){var n=void 0===t?{}:t,r=n.minDate,a=n.includeDates,i=Dm(e,1);return r&&Ah(r,i)>0||a&&a.every(function(e){return Ah(e,i)>0})||!1}function mx(e,t){var n=void 0===t?{}:t,r=n.maxDate,a=n.includeDates,i=oh(e,1);return r&&Ah(i,r)>0||a&&a.every(function(e){return Ah(i,e)>0})||!1}function fx(e,t){var n=void 0===t?{}:t,r=n.minDate,a=n.includeDates,i=Rm(e,1);return r&&Eh(r,i)>0||a&&a.every(function(e){return Eh(e,i)>0})||!1}function gx(e,t){var n=void 0===t?{}:t,r=n.maxDate,a=n.includeDates,i=Nh(e,1);return r&&Eh(i,r)>0||a&&a.every(function(e){return Eh(i,e)>0})||!1}function xx(e){var t=e.minDate,n=e.includeDates;return n&&t?Sh(n.filter(function(e){return bh(e,t)>=0})):n?Sh(n):t}function bx(e){var t=e.maxDate,n=e.includeDates;return n&&t?kh(n.filter(function(e){return bh(e,t)<=0})):n?kh(n):t}function yx(e,t){var n;void 0===e&&(e=[]),void 0===t&&(t="react-datepicker__day--highlighted");for(var r=new Map,a=0,i=e.length;a<i;a++){var s=e[a];if(Ch(s)){var o=Dg(s,"MM.dd.yyyy");(h=r.get(o)||[]).includes(t)||(h.push(t),r.set(o,h))}else if("object"==typeof s){var l=null!==(n=Object.keys(s)[0])&&void 0!==n?n:"",c=s[l];if("string"==typeof l&&Array.isArray(c))for(var d=0,u=c.length;d<u;d++){var h,p=c[d];if(p)o=Dg(p,"MM.dd.yyyy"),(h=r.get(o)||[]).includes(l)||(h.push(l),r.set(o,h))}}}return r}function vx(e,t){void 0===e&&(e=[]),void 0===t&&(t="react-datepicker__day--holidays");var n=new Map;return e.forEach(function(e){var r=e.date,a=e.holidayName;if(Ch(r)){var i=Dg(r,"MM.dd.yyyy"),s=n.get(i)||{className:"",holidayNames:[]};if(!("className"in s)||s.className!==t||(o=s.holidayNames,l=[a],o.length!==l.length||!o.every(function(e,t){return e===l[t]}))){var o,l;s.className=t;var c=s.holidayNames;s.holidayNames=c?Sg(Sg([],c,!0),[a],!1):[a],n.set(i,s)}}}),n}function wx(e,t,n,r,a){for(var i=a.length,s=[],o=0;o<i;o++){var l=e,c=a[o];c&&(l=wh(l=yh(l=ch(l,gp(c)),xp(c)),yp(c)));var d=yh(e,(n+1)*r);jp(l,t)&&Np(l,d)&&null!=c&&s.push(c)}return s}function jx(e){return e<10?"0".concat(e):"".concat(e)}function Nx(e,t){void 0===t&&(t=12);var n=Math.ceil(wp(e)/t)*t;return{startPeriod:n-(t-1),endPeriod:n}}function kx(e){var t=e.getSeconds(),n=e.getMilliseconds();return ih(e.getTime()-1e3*t-n)}function Sx(e){if(!Ch(e))throw new Error("Invalid date");var t=new Date(e);return t.setHours(0,0,0,0),t}function Cx(e,t){if(!Ch(e)||!Ch(t))throw new Error("Invalid date received");return Np(Sx(e),Sx(t))}function _x(e){return e.key===Cg.Space}(_g=Cg||(Cg={})).ArrowUp="ArrowUp",_g.ArrowDown="ArrowDown",_g.ArrowLeft="ArrowLeft",_g.ArrowRight="ArrowRight",_g.PageUp="PageUp",_g.PageDown="PageDown",_g.Home="Home",_g.End="End",_g.Enter="Enter",_g.Space=" ",_g.Tab="Tab",_g.Escape="Escape",_g.Backspace="Backspace",_g.X="x";var Ax,Tx=function(e){function t(t){var n=e.call(this,t)||this;return n.inputRef=b.createRef(),n.onTimeChange=function(e){var t,r;n.setState({time:e});var a=n.props.date,i=a instanceof Date&&!isNaN(+a)?a:new Date;if(null==e?void 0:e.includes(":")){var s=e.split(":"),o=s[0],l=s[1];i.setHours(Number(o)),i.setMinutes(Number(l))}null===(r=(t=n.props).onChange)||void 0===r||r.call(t,i)},n.renderTimeInput=function(){var e=n.state.time,t=n.props,r=t.date,a=t.timeString,i=t.customTimeInput;return i?x.cloneElement(i,{date:r,value:e,onChange:n.onTimeChange}):b.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:n.inputRef,onClick:function(){var e;null===(e=n.inputRef.current)||void 0===e||e.focus()},required:!0,value:e,onChange:function(e){n.onTimeChange(e.target.value||a)}})},n.state={time:n.props.timeString},n}return Ng(t,e),t.getDerivedStateFromProps=function(e,t){return e.timeString!==t.time?{time:e.timeString}:null},t.prototype.render=function(){return b.createElement("div",{className:"react-datepicker__input-time-container"},b.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),b.createElement("div",{className:"react-datepicker-time__input-container"},b.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},t}(x.Component),Ox=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.dayEl=x.createRef(),t.handleClick=function(e){!t.isDisabled()&&t.props.onClick&&t.props.onClick(e)},t.handleMouseEnter=function(e){!t.isDisabled()&&t.props.onMouseEnter&&t.props.onMouseEnter(e)},t.handleOnKeyDown=function(e){var n,r;e.key===Cg.Space&&(e.preventDefault(),e.key=Cg.Enter),null===(r=(n=t.props).handleOnKeyDown)||void 0===r||r.call(n,e)},t.isSameDay=function(e){return Gg(t.props.day,e)},t.isKeyboardSelected=function(){var e;if(t.props.disabledKeyboardNavigation)return!1;var n=t.props.selectsMultiple?null===(e=t.props.selectedDates)||void 0===e?void 0:e.some(function(e){return t.isSameDayOrWeek(e)}):t.isSameDayOrWeek(t.props.selected),r=t.props.preSelection&&t.isDisabled(t.props.preSelection);return!n&&t.isSameDayOrWeek(t.props.preSelection)&&!r},t.isDisabled=function(e){return void 0===e&&(e=t.props.day),ex(e,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(){return tx(t.props.day,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.isStartOfWeek=function(){return Gg(t.props.day,Fg(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameWeek=function(e){return t.props.showWeekPicker&&Gg(e,Fg(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameDayOrWeek=function(e){return t.isSameDay(e)||t.isSameWeek(e)},t.getHighLightedClass=function(){var e=t.props,n=e.day,r=e.highlightDates;if(!r)return!1;var a=Dg(n,"MM.dd.yyyy");return r.get(a)},t.getHolidaysClass=function(){var e,n=t.props,r=n.day,a=n.holidays;if(!a)return[void 0];var i=Dg(r,"MM.dd.yyyy");return a.has(i)?[null===(e=a.get(i))||void 0===e?void 0:e.className]:[void 0]},t.isInRange=function(){var e=t.props,n=e.day,r=e.startDate,a=e.endDate;return!(!r||!a)&&Kg(n,r,a)},t.isInSelectingRange=function(){var e,n=t.props,r=n.day,a=n.selectsStart,i=n.selectsEnd,s=n.selectsRange,o=n.selectsDisabledDaysInRange,l=n.startDate,c=n.swapRange,d=n.endDate,u=null!==(e=t.props.selectingDate)&&void 0!==e?e:t.props.preSelection;if(!(a||i||s)||!u||!o&&t.isDisabled())return!1;if(a&&d&&(Np(u,d)||Yg(u,d)))return Kg(r,u,d);if(i&&l&&(jp(u,l)||Yg(u,l)))return Kg(r,l,u);if(s&&l&&!d){if(Yg(u,l))return Kg(r,l,u);if(jp(u,l))return Kg(r,l,u);if(c&&Np(u,l))return Kg(r,u,l)}return!1},t.isSelectingRangeStart=function(){var e;if(!t.isInSelectingRange())return!1;var n=t.props,r=n.day,a=n.startDate,i=n.selectsStart,s=n.swapRange,o=n.selectsRange,l=null!==(e=t.props.selectingDate)&&void 0!==e?e:t.props.preSelection;return Gg(r,i||o&&s&&a&&l&&Np(l,a)?l:a)},t.isSelectingRangeEnd=function(){var e;if(!t.isInSelectingRange())return!1;var n=t.props,r=n.day,a=n.endDate,i=n.selectsEnd,s=n.selectsRange,o=n.swapRange,l=n.startDate,c=null!==(e=t.props.selectingDate)&&void 0!==e?e:t.props.preSelection;return Gg(r,i?c:s&&o&&l&&c?Np(c,l)?l:c:s?c:a)},t.isRangeStart=function(){var e=t.props,n=e.day,r=e.startDate,a=e.endDate;return!(!r||!a)&&Gg(r,n)},t.isRangeEnd=function(){var e=t.props,n=e.day,r=e.startDate,a=e.endDate;return!(!r||!a)&&Gg(a,n)},t.isWeekend=function(){var e=ih(t.props.day,void 0).getDay();return 0===e||6===e},t.isAfterMonth=function(){return void 0!==t.props.month&&(t.props.month+1)%12===bp(t.props.day)},t.isBeforeMonth=function(){return void 0!==t.props.month&&(bp(t.props.day)+1)%12===t.props.month},t.isCurrentDay=function(){return t.isSameDay(Eg())},t.isSelected=function(){var e;return t.props.selectsMultiple?null===(e=t.props.selectedDates)||void 0===e?void 0:e.some(function(e){return t.isSameDayOrWeek(e)}):t.isSameDayOrWeek(t.props.selected)},t.getClassNames=function(e){return Zu("react-datepicker__day",t.props.dayClassName?t.props.dayClassName(e):void 0,"react-datepicker__day--"+Dg(t.props.day,"ddd",undefined),{"react-datepicker__day--disabled":t.isDisabled(),"react-datepicker__day--excluded":t.isExcluded(),"react-datepicker__day--selected":t.isSelected(),"react-datepicker__day--keyboard-selected":t.isKeyboardSelected(),"react-datepicker__day--range-start":t.isRangeStart(),"react-datepicker__day--range-end":t.isRangeEnd(),"react-datepicker__day--in-range":t.isInRange(),"react-datepicker__day--in-selecting-range":t.isInSelectingRange(),"react-datepicker__day--selecting-range-start":t.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":t.isSelectingRangeEnd(),"react-datepicker__day--today":t.isCurrentDay(),"react-datepicker__day--weekend":t.isWeekend(),"react-datepicker__day--outside-month":t.isAfterMonth()||t.isBeforeMonth()},t.getHighLightedClass(),t.getHolidaysClass())},t.getAriaLabel=function(){var e=t.props,n=e.day,r=e.ariaLabelPrefixWhenEnabled,a=void 0===r?"Choose":r,i=e.ariaLabelPrefixWhenDisabled,s=void 0===i?"Not available":i,o=t.isDisabled()||t.isExcluded()?s:a;return"".concat(o," ").concat(Dg(n,"PPPP",t.props.locale))},t.getTitle=function(){var e=t.props,n=e.day,r=e.holidays,a=void 0===r?new Map:r,i=e.excludeDates,s=Dg(n,"MM.dd.yyyy"),o=[];return a.has(s)&&o.push.apply(o,a.get(s).holidayNames),t.isExcluded()&&o.push(null==i?void 0:i.filter(function(e){return e instanceof Date?Gg(e,n):Gg(null==e?void 0:e.date,n)}).map(function(e){if(!(e instanceof Date))return null==e?void 0:e.message})),o.join(", ")},t.getTabIndex=function(){var e=t.props.selected,n=t.props.preSelection;return(!t.props.showWeekPicker||!t.props.showWeekNumber&&t.isStartOfWeek())&&(t.isKeyboardSelected()||t.isSameDay(e)&&Gg(n,e))?0:-1},t.handleFocusDay=function(){var e;t.shouldFocusDay()&&(null===(e=t.dayEl.current)||void 0===e||e.focus({preventScroll:!0}))},t.renderDayContents=function(){return t.props.monthShowsDuplicateDaysEnd&&t.isAfterMonth()||t.props.monthShowsDuplicateDaysStart&&t.isBeforeMonth()?null:t.props.renderDayContents?t.props.renderDayContents(fp(t.props.day),t.props.day):fp(t.props.day)},t.render=function(){return b.createElement("div",{ref:t.dayEl,className:t.getClassNames(t.props.day),onKeyDown:t.handleOnKeyDown,onClick:t.handleClick,onMouseEnter:t.props.usePointerEvent?void 0:t.handleMouseEnter,onPointerEnter:t.props.usePointerEvent?t.handleMouseEnter:void 0,tabIndex:t.getTabIndex(),"aria-label":t.getAriaLabel(),role:"gridcell",title:t.getTitle(),"aria-disabled":t.isDisabled(),"aria-current":t.isCurrentDay()?"date":void 0,"aria-selected":t.isSelected()||t.isInRange()},t.renderDayContents(),""!==t.getTitle()&&b.createElement("span",{className:"overlay"},t.getTitle()))},t}return Ng(t,e),t.prototype.componentDidMount=function(){this.handleFocusDay()},t.prototype.componentDidUpdate=function(){this.handleFocusDay()},t.prototype.shouldFocusDay=function(){var e=!1;return 0===this.getTabIndex()&&this.isSameDay(this.props.preSelection)&&(document.activeElement&&document.activeElement!==document.body||(e=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(e=!1),this.isDayActiveElement()&&(e=!0),this.isDuplicateDay()&&(e=!1)),e},t.prototype.isDayActiveElement=function(){var e,t,n;return(null===(t=null===(e=this.props.containerRef)||void 0===e?void 0:e.current)||void 0===t?void 0:t.contains(document.activeElement))&&(null===(n=document.activeElement)||void 0===n?void 0:n.classList.contains("react-datepicker__day"))},t.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},t}(x.Component),Ex=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.weekNumberEl=x.createRef(),t.handleClick=function(e){t.props.onClick&&t.props.onClick(e)},t.handleOnKeyDown=function(e){var n,r;e.key===Cg.Space&&(e.preventDefault(),e.key=Cg.Enter),null===(r=(n=t.props).handleOnKeyDown)||void 0===r||r.call(n,e)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!Gg(t.props.date,t.props.selected)&&Gg(t.props.date,t.props.preSelection)},t.getTabIndex=function(){return t.props.showWeekPicker&&t.props.showWeekNumber&&(t.isKeyboardSelected()||Gg(t.props.date,t.props.selected)&&Gg(t.props.preSelection,t.props.selected))?0:-1},t.handleFocusWeekNumber=function(e){var n=!1;0===t.getTabIndex()&&!(null==e?void 0:e.isInputFocused)&&Gg(t.props.date,t.props.preSelection)&&(document.activeElement&&document.activeElement!==document.body||(n=!0),t.props.inline&&!t.props.shouldFocusDayInline&&(n=!1),t.props.containerRef&&t.props.containerRef.current&&t.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(n=!0)),n&&t.weekNumberEl.current&&t.weekNumberEl.current.focus({preventScroll:!0})},t}return Ng(t,e),Object.defineProperty(t,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},t.prototype.componentDidUpdate=function(e){this.handleFocusWeekNumber(e)},t.prototype.render=function(){var e=this.props,n=e.weekNumber,r=e.isWeekDisabled,a=e.ariaLabelPrefix,i=void 0===a?t.defaultProps.ariaLabelPrefix:a,s=e.onClick,o={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!s&&!r,"react-datepicker__week-number--selected":!!s&&Gg(this.props.date,this.props.selected)};return b.createElement("div",{ref:this.weekNumberEl,className:Zu(o),"aria-label":"".concat(i," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex(),role:"gridcell"},n)},t}(x.Component),Mx=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.isDisabled=function(e){return ex(e,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.handleDayClick=function(e,t){n.props.onDayClick&&n.props.onDayClick(e,t)},n.handleDayMouseEnter=function(e){n.props.onDayMouseEnter&&n.props.onDayMouseEnter(e)},n.handleWeekClick=function(e,r,a){for(var i,s,o,l=new Date(e),c=0;c<7;c++){var d=new Date(e);if(d.setDate(d.getDate()+c),!n.isDisabled(d)){l=d;break}}"function"==typeof n.props.onWeekSelect&&n.props.onWeekSelect(l,r,a),n.props.showWeekPicker&&n.handleDayClick(l,a),(null!==(i=n.props.shouldCloseOnSelect)&&void 0!==i?i:t.defaultProps.shouldCloseOnSelect)&&(null===(o=(s=n.props).setOpen)||void 0===o||o.call(s,!1))},n.formatWeekNumber=function(e){return n.props.formatWeekNumber?n.props.formatWeekNumber(e):function(e){return Gh(e)}(e)},n.isWeekDisabled=function(){for(var e=n.startOfWeek(),t=sh(e,6),r=new Date(e);r<=t;){if(!n.isDisabled(r))return!1;r=sh(r,1)}return!0},n.renderDays=function(){var e=n.startOfWeek(),r=[],a=n.formatWeekNumber(e);if(n.props.showWeekNumber){var i=n.props.onWeekSelect||n.props.showWeekPicker?n.handleWeekClick.bind(n,e,a):void 0;r.push(b.createElement(Ex,kg({key:"W"},t.defaultProps,n.props,{weekNumber:a,isWeekDisabled:n.isWeekDisabled(),date:e,onClick:i})))}return r.concat([0,1,2,3,4,5,6].map(function(r){var a=sh(e,r);return b.createElement(Ox,kg({},t.defaultProps,n.props,{ariaLabelPrefixWhenEnabled:n.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:n.props.disabledDayAriaLabelPrefix,key:a.valueOf(),day:a,onClick:n.handleDayClick.bind(n,a),onMouseEnter:n.handleDayMouseEnter.bind(n,a)}))}))},n.startOfWeek=function(){return Fg(n.props.day,n.props.locale,n.props.calendarStartDay)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!Gg(n.startOfWeek(),n.props.selected)&&Gg(n.startOfWeek(),n.props.preSelection)},n}return Ng(t,e),Object.defineProperty(t,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),t.prototype.render=function(){var e={"react-datepicker__week":!0,"react-datepicker__week--selected":Gg(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()},t=this.props.weekClassName?this.props.weekClassName(this.startOfWeek()):void 0;return b.createElement("div",{className:Zu(e,t),role:"row"},this.renderDays())},t}(x.Component),Px="two_columns",Dx="three_columns",Lx="four_columns",Ix=((Ax={})[Px]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},Ax[Dx]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},Ax[Lx]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},Ax);function Rx(e,t){return e?Lx:t?Px:Dx}var Fx=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.MONTH_REFS=Sg([],Array(12),!0).map(function(){return x.createRef()}),t.QUARTER_REFS=Sg([],Array(4),!0).map(function(){return x.createRef()}),t.isDisabled=function(e){return ex(e,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(e){return tx(e,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.handleDayClick=function(e,n){var r,a;null===(a=(r=t.props).onDayClick)||void 0===a||a.call(r,e,n,t.props.orderInDisplay)},t.handleDayMouseEnter=function(e){var n,r;null===(r=(n=t.props).onDayMouseEnter)||void 0===r||r.call(n,e)},t.handleMouseLeave=function(){var e,n;null===(n=(e=t.props).onMouseLeave)||void 0===n||n.call(e)},t.isRangeStartMonth=function(e){var n=t.props,r=n.day,a=n.startDate,i=n.endDate;return!(!a||!i)&&Vg(Am(r,e),a)},t.isRangeStartQuarter=function(e){var n=t.props,r=n.day,a=n.startDate,i=n.endDate;return!(!a||!i)&&qg(Em(r,e),a)},t.isRangeEndMonth=function(e){var n=t.props,r=n.day,a=n.startDate,i=n.endDate;return!(!a||!i)&&Vg(Am(r,e),i)},t.isRangeEndQuarter=function(e){var n=t.props,r=n.day,a=n.startDate,i=n.endDate;return!(!a||!i)&&qg(Em(r,e),i)},t.isInSelectingRangeMonth=function(e){var n,r=t.props,a=r.day,i=r.selectsStart,s=r.selectsEnd,o=r.selectsRange,l=r.startDate,c=r.endDate,d=null!==(n=t.props.selectingDate)&&void 0!==n?n:t.props.preSelection;return!(!(i||s||o)||!d)&&(i&&c?rx(d,c,e,a):(s&&l||!(!o||!l||c))&&rx(l,d,e,a))},t.isSelectingMonthRangeStart=function(e){var n;if(!t.isInSelectingRangeMonth(e))return!1;var r=t.props,a=r.day,i=r.startDate,s=r.selectsStart,o=Am(a,e),l=null!==(n=t.props.selectingDate)&&void 0!==n?n:t.props.preSelection;return Vg(o,s?l:i)},t.isSelectingMonthRangeEnd=function(e){var n;if(!t.isInSelectingRangeMonth(e))return!1;var r=t.props,a=r.day,i=r.endDate,s=r.selectsEnd,o=r.selectsRange,l=Am(a,e),c=null!==(n=t.props.selectingDate)&&void 0!==n?n:t.props.preSelection;return Vg(l,s||o?c:i)},t.isInSelectingRangeQuarter=function(e){var n,r=t.props,a=r.day,i=r.selectsStart,s=r.selectsEnd,o=r.selectsRange,l=r.startDate,c=r.endDate,d=null!==(n=t.props.selectingDate)&&void 0!==n?n:t.props.preSelection;return!(!(i||s||o)||!d)&&(i&&c?lx(d,c,e,a):(s&&l||!(!o||!l||c))&&lx(l,d,e,a))},t.isWeekInMonth=function(e){var n=t.props.day,r=sh(e,6);return Vg(e,n)||Vg(r,n)},t.isCurrentMonth=function(e,t){return wp(e)===wp(Eg())&&t===bp(Eg())},t.isCurrentQuarter=function(e,t){return wp(e)===wp(Eg())&&t===Th(Eg())},t.isSelectedMonth=function(e,t,n){return bp(n)===t&&wp(e)===wp(n)},t.isSelectMonthInList=function(e,n,r){return r.some(function(r){return t.isSelectedMonth(e,n,r)})},t.isSelectedQuarter=function(e,t,n){return Th(e)===t&&wp(e)===wp(n)},t.isMonthSelected=function(){var e=t.props,n=e.day,r=e.selected,a=e.selectedDates,i=e.selectsMultiple,s=bp(n);return i?null==a?void 0:a.some(function(e){return t.isSelectedMonth(n,s,e)}):!!r&&t.isSelectedMonth(n,s,r)},t.renderWeeks=function(){for(var e,n,r=[],a=t.props.fixedHeight,i=0,s=!1,o=Fg(Hg(t.props.day),t.props.locale,t.props.calendarStartDay),l=t.props.selected?(e=t.props.selected,t.props.showWeekPicker?Fg(e,t.props.locale,t.props.calendarStartDay):t.props.selected):void 0,c=t.props.preSelection?(n=t.props.preSelection,t.props.showWeekPicker?Fg(n,t.props.locale,t.props.calendarStartDay):t.props.preSelection):void 0;r.push(b.createElement(Mx,kg({},t.props,{ariaLabelPrefix:t.props.weekAriaLabelPrefix,key:i,day:o,month:bp(t.props.day),onDayClick:t.handleDayClick,onDayMouseEnter:t.handleDayMouseEnter,selected:l,preSelection:c,showWeekNumber:t.props.showWeekNumbers}))),!s;){i++,o=jh(o,1);var d=a&&i>=6,u=!a&&!t.isWeekInMonth(o);if(d||u){if(!t.props.peekNextMonth)break;s=!0}}return r},t.onMonthClick=function(e,n){var r=t.isMonthDisabledForLabelDate(n),a=r.isDisabled,i=r.labelDate;a||t.handleDayClick(Hg(i),e)},t.onMonthMouseEnter=function(e){var n=t.isMonthDisabledForLabelDate(e),r=n.isDisabled,a=n.labelDate;r||t.handleDayMouseEnter(Hg(a))},t.handleMonthNavigation=function(e,n){var r,a,i,s;null===(a=(r=t.props).setPreSelection)||void 0===a||a.call(r,n),null===(s=null===(i=t.MONTH_REFS[e])||void 0===i?void 0:i.current)||void 0===s||s.focus()},t.handleKeyboardNavigation=function(e,n,r){var a,i=t.props,s=i.selected,o=i.preSelection,l=i.setPreSelection,c=i.minDate,d=i.maxDate,u=i.showFourColumnMonthYearPicker,h=i.showTwoColumnMonthYearPicker;if(o){var p=Rx(u,h),m=t.getVerticalOffset(p),f=null===(a=Ix[p])||void 0===a?void 0:a.grid,g=function(e,t,n){var r,a,i=t,s=n;switch(e){case Cg.ArrowRight:i=oh(t,1),s=11===n?0:n+1;break;case Cg.ArrowLeft:i=Dm(t,1),s=0===n?11:n-1;break;case Cg.ArrowUp:i=Dm(t,m),s=(null===(r=null==f?void 0:f[0])||void 0===r?void 0:r.includes(n))?n+12-m:n-m;break;case Cg.ArrowDown:i=oh(t,m),s=(null===(a=null==f?void 0:f[f.length-1])||void 0===a?void 0:a.includes(n))?n-12+m:n+m}return{newCalculatedDate:i,newCalculatedMonth:s}};if(n!==Cg.Enter){var x=function(e,n,r){for(var a=e,i=!1,s=0,o=g(a,n,r),l=o.newCalculatedDate,u=o.newCalculatedMonth;!i;){if(s>=40){l=n,u=r;break}var h;c&&l<c&&(a=Cg.ArrowRight,l=(h=g(a,l,u)).newCalculatedDate,u=h.newCalculatedMonth),d&&l>d&&(a=Cg.ArrowLeft,l=(h=g(a,l,u)).newCalculatedDate,u=h.newCalculatedMonth),ax(l,t.props)?(l=(h=g(a,l,u)).newCalculatedDate,u=h.newCalculatedMonth):i=!0,s++}return{newCalculatedDate:l,newCalculatedMonth:u}}(n,o,r),b=x.newCalculatedDate,y=x.newCalculatedMonth;switch(n){case Cg.ArrowRight:case Cg.ArrowLeft:case Cg.ArrowUp:case Cg.ArrowDown:t.handleMonthNavigation(y,b)}}else t.isMonthDisabled(r)||(t.onMonthClick(e,r),null==l||l(s))}},t.getVerticalOffset=function(e){var t,n;return null!==(n=null===(t=Ix[e])||void 0===t?void 0:t.verticalNavigationOffset)&&void 0!==n?n:0},t.onMonthKeyDown=function(e,n){var r=t.props,a=r.disabledKeyboardNavigation,i=r.handleOnMonthKeyDown,s=e.key;s!==Cg.Tab&&e.preventDefault(),a||t.handleKeyboardNavigation(e,s,n),i&&i(e)},t.onQuarterClick=function(e,n){var r=Em(t.props.day,n);ix(r,t.props)||t.handleDayClick(Bg(r),e)},t.onQuarterMouseEnter=function(e){var n=Em(t.props.day,e);ix(n,t.props)||t.handleDayMouseEnter(Bg(n))},t.handleQuarterNavigation=function(e,n){var r,a,i,s;t.isDisabled(n)||t.isExcluded(n)||(null===(a=(r=t.props).setPreSelection)||void 0===a||a.call(r,n),null===(s=null===(i=t.QUARTER_REFS[e-1])||void 0===i?void 0:i.current)||void 0===s||s.focus())},t.onQuarterKeyDown=function(e,n){var r,a,i=e.key;if(!t.props.disabledKeyboardNavigation)switch(i){case Cg.Enter:t.onQuarterClick(e,n),null===(a=(r=t.props).setPreSelection)||void 0===a||a.call(r,t.props.selected);break;case Cg.ArrowRight:if(!t.props.preSelection)break;t.handleQuarterNavigation(4===n?1:n+1,vh(t.props.preSelection,1));break;case Cg.ArrowLeft:if(!t.props.preSelection)break;t.handleQuarterNavigation(1===n?4:n-1,Lm(t.props.preSelection))}},t.isMonthDisabledForLabelDate=function(e){var n,r=t.props,a=r.day,i=r.minDate,s=r.maxDate,o=r.excludeDates,l=r.includeDates,c=Am(a,e);return{isDisabled:null!==(n=(i||s||o||l)&&nx(c,t.props))&&void 0!==n&&n,labelDate:c}},t.isMonthDisabled=function(e){return t.isMonthDisabledForLabelDate(e).isDisabled},t.getMonthClassNames=function(e){var n=t.props,r=n.day,a=n.startDate,i=n.endDate,s=n.preSelection,o=n.monthClassName,l=o?o(Am(r,e)):void 0,c=t.getSelection();return Zu("react-datepicker__month-text","react-datepicker__month-".concat(e),l,{"react-datepicker__month-text--disabled":t.isMonthDisabled(e),"react-datepicker__month-text--selected":c?t.isSelectMonthInList(r,e,c):void 0,"react-datepicker__month-text--keyboard-selected":!t.props.disabledKeyboardNavigation&&s&&t.isSelectedMonth(r,e,s)&&!t.isMonthSelected()&&!t.isMonthDisabled(e),"react-datepicker__month-text--in-selecting-range":t.isInSelectingRangeMonth(e),"react-datepicker__month-text--in-range":a&&i?rx(a,i,e,r):void 0,"react-datepicker__month-text--range-start":t.isRangeStartMonth(e),"react-datepicker__month-text--range-end":t.isRangeEndMonth(e),"react-datepicker__month-text--selecting-range-start":t.isSelectingMonthRangeStart(e),"react-datepicker__month-text--selecting-range-end":t.isSelectingMonthRangeEnd(e),"react-datepicker__month-text--today":t.isCurrentMonth(r,e)})},t.getTabIndex=function(e){if(null==t.props.preSelection)return"-1";var n=bp(t.props.preSelection),r=t.isMonthDisabledForLabelDate(n).isDisabled;return e!==n||r||t.props.disabledKeyboardNavigation?"-1":"0"},t.getQuarterTabIndex=function(e){if(null==t.props.preSelection)return"-1";var n=Th(t.props.preSelection),r=ix(t.props.day,t.props);return e!==n||r||t.props.disabledKeyboardNavigation?"-1":"0"},t.getAriaLabel=function(e){var n=t.props,r=n.chooseDayAriaLabelPrefix,a=void 0===r?"Choose":r,i=n.disabledDayAriaLabelPrefix,s=void 0===i?"Not available":i,o=n.day,l=n.locale,c=Am(o,e),d=t.isDisabled(c)||t.isExcluded(c)?s:a;return"".concat(d," ").concat(Dg(c,"MMMM yyyy",l))},t.getQuarterClassNames=function(e){var n=t.props,r=n.day,a=n.startDate,i=n.endDate,s=n.selected,o=n.minDate,l=n.maxDate,c=n.excludeDates,d=n.includeDates,u=n.filterDate,h=n.preSelection,p=n.disabledKeyboardNavigation,m=(o||l||c||d||u)&&ix(Em(r,e),t.props);return Zu("react-datepicker__quarter-text","react-datepicker__quarter-".concat(e),{"react-datepicker__quarter-text--disabled":m,"react-datepicker__quarter-text--selected":s?t.isSelectedQuarter(r,e,s):void 0,"react-datepicker__quarter-text--keyboard-selected":!p&&h&&t.isSelectedQuarter(r,e,h)&&!m,"react-datepicker__quarter-text--in-selecting-range":t.isInSelectingRangeQuarter(e),"react-datepicker__quarter-text--in-range":a&&i?lx(a,i,e,r):void 0,"react-datepicker__quarter-text--range-start":t.isRangeStartQuarter(e),"react-datepicker__quarter-text--range-end":t.isRangeEndQuarter(e),"react-datepicker__quarter-text--today":t.isCurrentQuarter(r,e)})},t.getMonthContent=function(e){var n=t.props,r=n.showFullMonthYearPicker,a=n.renderMonthContent,i=n.locale,s=n.day,o=Zg(e,i),l=Qg(e,i);return a?a(e,o,l,s):r?l:o},t.getQuarterContent=function(e){var n,r,a,i=t.props,s=i.renderQuarterContent,o=(r=e,a=i.locale,Dg(Em(Eg(),r),"QQQ",a));return null!==(n=null==s?void 0:s(e,o))&&void 0!==n?n:o},t.renderMonths=function(){var e,n=t.props,r=n.showTwoColumnMonthYearPicker,a=n.showFourColumnMonthYearPicker,i=n.day,s=n.selected,o=null===(e=Ix[Rx(a,r)])||void 0===e?void 0:e.grid;return null==o?void 0:o.map(function(e,n){return b.createElement("div",{className:"react-datepicker__month-wrapper",key:n},e.map(function(e,n){return b.createElement("div",{ref:t.MONTH_REFS[e],key:n,onClick:function(n){t.onMonthClick(n,e)},onKeyDown:function(n){_x(n)&&(n.preventDefault(),n.key=Cg.Enter),t.onMonthKeyDown(n,e)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onMonthMouseEnter(e)},onPointerEnter:t.props.usePointerEvent?function(){return t.onMonthMouseEnter(e)}:void 0,tabIndex:Number(t.getTabIndex(e)),className:t.getMonthClassNames(e),"aria-disabled":t.isMonthDisabled(e),role:"option","aria-label":t.getAriaLabel(e),"aria-current":t.isCurrentMonth(i,e)?"date":void 0,"aria-selected":s?t.isSelectedMonth(i,e,s):void 0},t.getMonthContent(e))}))})},t.renderQuarters=function(){var e=t.props,n=e.day,r=e.selected;return b.createElement("div",{className:"react-datepicker__quarter-wrapper"},[1,2,3,4].map(function(e,a){return b.createElement("div",{key:a,ref:t.QUARTER_REFS[a],role:"option",onClick:function(n){t.onQuarterClick(n,e)},onKeyDown:function(n){t.onQuarterKeyDown(n,e)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onQuarterMouseEnter(e)},onPointerEnter:t.props.usePointerEvent?function(){return t.onQuarterMouseEnter(e)}:void 0,className:t.getQuarterClassNames(e),"aria-selected":r?t.isSelectedQuarter(n,e,r):void 0,tabIndex:Number(t.getQuarterTabIndex(e)),"aria-current":t.isCurrentQuarter(n,e)?"date":void 0},t.getQuarterContent(e))}))},t.getClassNames=function(){var e=t.props,n=e.selectingDate,r=e.selectsStart,a=e.selectsEnd;return Zu("react-datepicker__month",{"react-datepicker__month--selecting-range":n&&(r||a)},{"react-datepicker__monthPicker":e.showMonthYearPicker},{"react-datepicker__quarterPicker":e.showQuarterYearPicker},{"react-datepicker__weekPicker":e.showWeekPicker})},t}return Ng(t,e),t.prototype.getSelection=function(){var e=this.props,t=e.selected,n=e.selectedDates;return e.selectsMultiple?n:t?[t]:void 0},t.prototype.render=function(){var e=this.props,t=e.showMonthYearPicker,n=e.showQuarterYearPicker,r=e.day,a=e.ariaLabelPrefix,i=void 0===a?"Month ":a,s=i?i.trim()+" ":"";return t||n?b.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(s).concat(Dg(r,"MMMM, yyyy",this.props.locale)),role:"listbox"},t?this.renderMonths():this.renderQuarters()):b.createElement("div",{role:"table"},this.props.dayNamesHeader&&b.createElement("div",{role:"rowgroup"},this.props.dayNamesHeader),b.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(s).concat(Dg(r,"MMMM, yyyy",this.props.locale)),role:"rowgroup"},this.renderWeeks()))},t}(x.Component),Hx=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.monthOptionButtonsRef={},t.isSelectedMonth=function(e){return t.props.month===e},t.handleOptionKeyDown=function(e,n){var r;switch(n.key){case"Enter":n.preventDefault(),t.onChange(e);break;case"Escape":n.preventDefault(),t.props.onCancel();break;case"ArrowUp":case"ArrowDown":n.preventDefault();var a=(e+("ArrowUp"===n.key?-1:1)+t.props.monthNames.length)%t.props.monthNames.length;null===(r=t.monthOptionButtonsRef[a])||void 0===r||r.focus()}},t.renderOptions=function(){return t.monthOptionButtonsRef={},t.props.monthNames.map(function(e,n){return b.createElement("div",{ref:function(e){t.monthOptionButtonsRef[n]=e,t.isSelectedMonth(n)&&(null==e||e.focus())},role:"button",tabIndex:0,className:t.isSelectedMonth(n)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:e,onClick:t.onChange.bind(t,n),onKeyDown:t.handleOptionKeyDown.bind(t,n),"aria-selected":t.isSelectedMonth(n)?"true":void 0},t.isSelectedMonth(n)?b.createElement("span",{className:"react-datepicker__month-option--selected"},"✓"):"",e)})},t.onChange=function(e){return t.props.onChange(e)},t.handleClickOutside=function(){return t.props.onCancel()},t}return Ng(t,e),t.prototype.render=function(){return b.createElement(Tg,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},t}(x.Component),zx=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(e){return e.map(function(e,t){return b.createElement("option",{key:e,value:t},e)})},t.renderSelectMode=function(e){return b.createElement("select",{value:t.props.month,className:"react-datepicker__month-select",onChange:function(e){return t.onChange(parseInt(e.target.value))}},t.renderSelectOptions(e))},t.renderReadView=function(e,n){return b.createElement("button",{key:"read",type:"button",style:{visibility:e?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:t.toggleDropdown},b.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),b.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},n[t.props.month]))},t.renderDropdown=function(e){return b.createElement(Hx,kg({key:"dropdown"},t.props,{monthNames:e,onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(e){var n=t.state.dropdownVisible,r=[t.renderReadView(!n,e)];return n&&r.unshift(t.renderDropdown(e)),r},t.onChange=function(e){t.toggleDropdown(),e!==t.props.month&&t.props.onChange(e)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return Ng(t,e),t.prototype.render=function(){var e,t=this,n=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(e){return Zg(e,t.props.locale)}:function(e){return Qg(e,t.props.locale)});switch(this.props.dropdownMode){case"scroll":e=this.renderScrollMode(n);break;case"select":e=this.renderSelectMode(n)}return b.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},e)},t}(x.Component);function Bx(e,t){for(var n=[],r=Hg(e),a=Hg(t);!jp(r,a);)n.push(Eg(r)),r=oh(r,1);return n}var Wx=function(e){function t(t){var n=e.call(this,t)||this;return n.renderOptions=function(){return n.state.monthYearsList.map(function(e){var t=vp(e),r=Ug(n.props.date,e)&&Vg(n.props.date,e);return b.createElement("div",{className:r?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:t,onClick:n.onChange.bind(n,t),"aria-selected":r?"true":void 0},r?b.createElement("span",{className:"react-datepicker__month-year-option--selected"},"✓"):"",Dg(e,n.props.dateFormat,n.props.locale))})},n.onChange=function(e){return n.props.onChange(e)},n.handleClickOutside=function(){n.props.onCancel()},n.state={monthYearsList:Bx(n.props.minDate,n.props.maxDate)},n}return Ng(t,e),t.prototype.render=function(){var e=Zu({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return b.createElement(Tg,{className:e,onClickOutside:this.handleClickOutside},this.renderOptions())},t}(x.Component),$x=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var e=Hg(t.props.minDate),n=Hg(t.props.maxDate),r=[];!jp(e,n);){var a=vp(e);r.push(b.createElement("option",{key:a,value:a},Dg(e,t.props.dateFormat,t.props.locale))),e=oh(e,1)}return r},t.onSelectChange=function(e){t.onChange(parseInt(e.target.value))},t.renderSelectMode=function(){return b.createElement("select",{value:vp(Hg(t.props.date)),className:"react-datepicker__month-year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(e){var n=Dg(t.props.date,t.props.dateFormat,t.props.locale);return b.createElement("div",{key:"read",style:{visibility:e?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:t.toggleDropdown},b.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),b.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},n))},t.renderDropdown=function(){return b.createElement(Wx,kg({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var e=t.state.dropdownVisible,n=[t.renderReadView(!e)];return e&&n.unshift(t.renderDropdown()),n},t.onChange=function(e){t.toggleDropdown();var n=Eg(e);Ug(t.props.date,n)&&Vg(t.props.date,n)||t.props.onChange(n)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return Ng(t,e),t.prototype.render=function(){var e;switch(this.props.dropdownMode){case"scroll":e=this.renderScrollMode();break;case"select":e=this.renderSelectMode()}return b.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},e)},t}(x.Component),Ux=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={height:null},n.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var e,r,a;n.list&&(n.list.scrollTop=null!==(a=n.centerLi&&t.calcCenterPosition(n.props.monthRef?n.props.monthRef.clientHeight-(null!==(r=null===(e=n.header)||void 0===e?void 0:e.clientHeight)&&void 0!==r?r:0):n.list.clientHeight,n.centerLi))&&void 0!==a?a:0)})},n.handleClick=function(e){var t,r;(n.props.minTime||n.props.maxTime)&&hx(e,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&ux(e,n.props)||null===(r=(t=n.props).onChange)||void 0===r||r.call(t,e)},n.isSelectedTime=function(e){return n.props.selected&&(t=e,kx(n.props.selected).getTime()===kx(t).getTime());var t},n.isDisabledTime=function(e){return(n.props.minTime||n.props.maxTime)&&hx(e,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&ux(e,n.props)},n.liClasses=function(e){var r,a=["react-datepicker__time-list-item",n.props.timeClassName?n.props.timeClassName(e):void 0];return n.isSelectedTime(e)&&a.push("react-datepicker__time-list-item--selected"),n.isDisabledTime(e)&&a.push("react-datepicker__time-list-item--disabled"),n.props.injectTimes&&(3600*gp(e)+60*xp(e)+yp(e))%(60*(null!==(r=n.props.intervals)&&void 0!==r?r:t.defaultProps.intervals))!=0&&a.push("react-datepicker__time-list-item--injected"),a.join(" ")},n.handleOnKeyDown=function(e,t){var r,a;e.key===Cg.Space&&(e.preventDefault(),e.key=Cg.Enter),(e.key===Cg.ArrowUp||e.key===Cg.ArrowLeft)&&e.target instanceof HTMLElement&&e.target.previousSibling&&(e.preventDefault(),e.target.previousSibling instanceof HTMLElement&&e.target.previousSibling.focus()),(e.key===Cg.ArrowDown||e.key===Cg.ArrowRight)&&e.target instanceof HTMLElement&&e.target.nextSibling&&(e.preventDefault(),e.target.nextSibling instanceof HTMLElement&&e.target.nextSibling.focus()),e.key===Cg.Enter&&n.handleClick(t),null===(a=(r=n.props).handleOnKeyDown)||void 0===a||a.call(r,e)},n.renderTimes=function(){for(var e,r,a,i,s=[],o="string"==typeof n.props.format?n.props.format:"p",l=null!==(e=n.props.intervals)&&void 0!==e?e:t.defaultProps.intervals,c=n.props.selected||n.props.openToDate||Eg(),d=Rg(c),u=n.props.injectTimes&&n.props.injectTimes.sort(function(e,t){return e.getTime()-t.getTime()}),h=60*(r=c,a=new Date(r.getFullYear(),r.getMonth(),r.getDate()),i=new Date(r.getFullYear(),r.getMonth(),r.getDate(),24),Math.round((+i-+a)/36e5))/l,p=0;p<h;p++){var m=yh(d,p*l);if(s.push(m),u){var f=wx(d,m,p,l,u);s=s.concat(f)}}var g=s.reduce(function(e,t){return t.getTime()<=c.getTime()?t:e},s[0]);return s.map(function(e){return b.createElement("li",{key:e.valueOf(),onClick:n.handleClick.bind(n,e),className:n.liClasses(e),ref:function(t){e===g&&(n.centerLi=t)},onKeyDown:function(t){n.handleOnKeyDown(t,e)},tabIndex:e===g?0:-1,role:"option","aria-selected":n.isSelectedTime(e)?"true":void 0,"aria-disabled":n.isDisabledTime(e)?"true":void 0},Dg(e,o,n.props.locale))})},n.renderTimeCaption=function(){return!1===n.props.showTimeCaption?b.createElement(b.Fragment,null):b.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(n.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(e){n.header=e}},b.createElement("div",{className:"react-datepicker-time__header"},n.props.timeCaption))},n}return Ng(t,e),Object.defineProperty(t,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},t.prototype.componentWillUnmount=function(){var e;null===(e=this.resizeObserver)||void 0===e||e.disconnect()},t.prototype.observeDatePickerHeightChanges=function(){var e=this,t=this.props.monthRef;this.updateContainerHeight(),t&&(this.resizeObserver=new ResizeObserver(function(){e.updateContainerHeight()}),this.resizeObserver.observe(t))},t.prototype.updateContainerHeight=function(){this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},t.prototype.render=function(){var e,n=this,r=this.state.height;return b.createElement("div",{className:"react-datepicker__time-container ".concat((null!==(e=this.props.todayButton)&&void 0!==e?e:t.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),b.createElement("div",{className:"react-datepicker__time"},b.createElement("div",{className:"react-datepicker__time-box"},b.createElement("ul",{className:"react-datepicker__time-list",ref:function(e){n.list=e},style:r?{height:r}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},t.calcCenterPosition=function(e,t){return t.offsetTop-(e/2-t.clientHeight/2)},t}(x.Component),Vx=function(e){function t(t){var n=e.call(this,t)||this;return n.YEAR_REFS=Sg([],Array(n.props.yearItemNumber),!0).map(function(){return x.createRef()}),n.isDisabled=function(e){return ex(e,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(e){return tx(e,{excludeDates:n.props.excludeDates})},n.selectingDate=function(){var e;return null!==(e=n.props.selectingDate)&&void 0!==e?e:n.props.preSelection},n.updateFocusOnPaginate=function(e){window.requestAnimationFrame(function(){var t,r;null===(r=null===(t=n.YEAR_REFS[e])||void 0===t?void 0:t.current)||void 0===r||r.focus()})},n.handleYearClick=function(e,t){n.props.onDayClick&&n.props.onDayClick(e,t)},n.handleYearNavigation=function(e,t){var r,a,i,s,o=n.props,l=o.date,c=o.yearItemNumber;if(void 0!==l&&void 0!==c){var d=Nx(l,c).startPeriod;n.isDisabled(t)||n.isExcluded(t)||(null===(a=(r=n.props).setPreSelection)||void 0===a||a.call(r,t),e-d<0?n.updateFocusOnPaginate(c-(d-e)):e-d>=c?n.updateFocusOnPaginate(Math.abs(c-(e-d))):null===(s=null===(i=n.YEAR_REFS[e-d])||void 0===i?void 0:i.current)||void 0===s||s.focus())}},n.isSameDay=function(e,t){return Gg(e,t)},n.isCurrentYear=function(e){return e===wp(Eg())},n.isRangeStart=function(e){return n.props.startDate&&n.props.endDate&&Ug(Pm(Eg(),e),n.props.startDate)},n.isRangeEnd=function(e){return n.props.startDate&&n.props.endDate&&Ug(Pm(Eg(),e),n.props.endDate)},n.isInRange=function(e){return sx(e,n.props.startDate,n.props.endDate)},n.isInSelectingRange=function(e){var t=n.props,r=t.selectsStart,a=t.selectsEnd,i=t.selectsRange,s=t.startDate,o=t.endDate;return!(!(r||a||i)||!n.selectingDate())&&(r&&o?sx(e,n.selectingDate(),o):(a&&s||!(!i||!s||o))&&sx(e,s,n.selectingDate()))},n.isSelectingRangeStart=function(e){var t;if(!n.isInSelectingRange(e))return!1;var r=n.props,a=r.startDate,i=r.selectsStart;return Ug(Pm(Eg(),e),i?null!==(t=n.selectingDate())&&void 0!==t?t:null:null!=a?a:null)},n.isSelectingRangeEnd=function(e){var t;if(!n.isInSelectingRange(e))return!1;var r=n.props,a=r.endDate,i=r.selectsEnd,s=r.selectsRange;return Ug(Pm(Eg(),e),i||s?null!==(t=n.selectingDate())&&void 0!==t?t:null:null!=a?a:null)},n.isKeyboardSelected=function(e){if(!n.props.disabledKeyboardNavigation&&void 0!==n.props.date&&null!=n.props.preSelection){var t=n.props,r=t.minDate,a=t.maxDate,i=t.excludeDates,s=t.includeDates,o=t.filterDate,l=t.selected,c=zg(Pm(n.props.date,e)),d=(r||a||i||s||o)&&ox(e,n.props),u=!!l&&Gg(c,zg(l)),h=Gg(c,zg(n.props.preSelection));return!n.props.inline&&!u&&h&&!d}},n.isSelectedYear=function(e){var t=n.props,r=t.selectsMultiple,a=t.selected,i=t.selectedDates;return r?null==i?void 0:i.some(function(t){return e===wp(t)}):!!a&&e===wp(a)},n.onYearClick=function(e,t){var r=n.props.date;void 0!==r&&n.handleYearClick(zg(Pm(r,t)),e)},n.onYearKeyDown=function(e,t){var r,a,i=e.key,s=n.props,o=s.date,l=s.yearItemNumber,c=s.handleOnKeyDown;if(i!==Cg.Tab&&e.preventDefault(),!n.props.disabledKeyboardNavigation)switch(i){case Cg.Enter:if(null==n.props.selected)break;n.onYearClick(e,t),null===(a=(r=n.props).setPreSelection)||void 0===a||a.call(r,n.props.selected);break;case Cg.ArrowRight:if(null==n.props.preSelection)break;n.handleYearNavigation(t+1,Nh(n.props.preSelection,1));break;case Cg.ArrowLeft:if(null==n.props.preSelection)break;n.handleYearNavigation(t-1,Rm(n.props.preSelection,1));break;case Cg.ArrowUp:if(void 0===o||void 0===l||null==n.props.preSelection)break;var d=Nx(o,l).startPeriod;if((p=t-(h=3))<d){var u=l%h;t>=d&&t<d+u?h=u:h+=u,p=t-h}n.handleYearNavigation(p,Rm(n.props.preSelection,h));break;case Cg.ArrowDown:if(void 0===o||void 0===l||null==n.props.preSelection)break;var h,p,m=Nx(o,l).endPeriod;(p=t+(h=3))>m&&(u=l%h,t<=m&&t>m-u?h=u:h+=u,p=t+h),n.handleYearNavigation(p,Nh(n.props.preSelection,h))}c&&c(e)},n.getYearClassNames=function(e){var t=n.props,r=t.date,a=t.minDate,i=t.maxDate,s=t.excludeDates,o=t.includeDates,l=t.filterDate,c=t.yearClassName;return Zu("react-datepicker__year-text","react-datepicker__year-".concat(e),r?null==c?void 0:c(Pm(r,e)):void 0,{"react-datepicker__year-text--selected":n.isSelectedYear(e),"react-datepicker__year-text--disabled":(a||i||s||o||l)&&ox(e,n.props),"react-datepicker__year-text--keyboard-selected":n.isKeyboardSelected(e),"react-datepicker__year-text--range-start":n.isRangeStart(e),"react-datepicker__year-text--range-end":n.isRangeEnd(e),"react-datepicker__year-text--in-range":n.isInRange(e),"react-datepicker__year-text--in-selecting-range":n.isInSelectingRange(e),"react-datepicker__year-text--selecting-range-start":n.isSelectingRangeStart(e),"react-datepicker__year-text--selecting-range-end":n.isSelectingRangeEnd(e),"react-datepicker__year-text--today":n.isCurrentYear(e)})},n.getYearTabIndex=function(e){if(n.props.disabledKeyboardNavigation||null==n.props.preSelection)return"-1";var t=wp(n.props.preSelection),r=ox(e,n.props);return e!==t||r?"-1":"0"},n.getYearContent=function(e){return n.props.renderYearContent?n.props.renderYearContent(e):e},n}return Ng(t,e),t.prototype.render=function(){var e=this,t=[],n=this.props,r=n.date,a=n.yearItemNumber,i=n.onYearMouseEnter,s=n.onYearMouseLeave;if(void 0===r)return null;for(var o=Nx(r,a),l=o.startPeriod,c=o.endPeriod,d=function(n){t.push(b.createElement("div",{ref:u.YEAR_REFS[n-l],onClick:function(t){e.onYearClick(t,n)},onKeyDown:function(t){_x(t)&&(t.preventDefault(),t.key=Cg.Enter),e.onYearKeyDown(t,n)},tabIndex:Number(u.getYearTabIndex(n)),className:u.getYearClassNames(n),onMouseEnter:u.props.usePointerEvent?void 0:function(e){return i(e,n)},onPointerEnter:u.props.usePointerEvent?function(e){return i(e,n)}:void 0,onMouseLeave:u.props.usePointerEvent?void 0:function(e){return s(e,n)},onPointerLeave:u.props.usePointerEvent?function(e){return s(e,n)}:void 0,key:n,"aria-current":u.isCurrentYear(n)?"date":void 0},u.getYearContent(n)))},u=this,h=l;h<=c;h++)d(h);return b.createElement("div",{className:"react-datepicker__year"},b.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},t))},t}(x.Component);function qx(e,t,n,r){for(var a=[],i=0;i<2*t+1;i++){var s=e+t-i,o=!0;n&&(o=wp(n)<=s),r&&o&&(o=wp(r)>=s),o&&a.push(s)}return a}var Gx=function(e){function t(t){var n=e.call(this,t)||this;n.yearOptionButtonsRef={},n.handleOptionKeyDown=function(e,t){var r;switch(t.key){case"Enter":t.preventDefault(),n.onChange(e);break;case"Escape":t.preventDefault(),n.props.onCancel();break;case"ArrowUp":case"ArrowDown":t.preventDefault();var a=e+("ArrowUp"===t.key?1:-1);n.yearOptionButtonsRef[a]&&(null===(r=n.yearOptionButtonsRef[a])||void 0===r||r.focus())}},n.renderOptions=function(){n.yearOptionButtonsRef={};var e=n.props.year,t=n.state.yearsList.map(function(t){return b.createElement("div",{ref:function(r){n.yearOptionButtonsRef[t]=r,t===e&&(null==r||r.focus())},role:"button",tabIndex:0,className:e===t?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:t,onClick:n.onChange.bind(n,t),onKeyDown:n.handleOptionKeyDown.bind(n,t),"aria-selected":e===t?"true":void 0},e===t?b.createElement("span",{className:"react-datepicker__year-option--selected"},"✓"):"",t)}),r=n.props.minDate?wp(n.props.minDate):null,a=n.props.maxDate?wp(n.props.maxDate):null;return a&&n.state.yearsList.find(function(e){return e===a})||t.unshift(b.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:n.incrementYears},b.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),r&&n.state.yearsList.find(function(e){return e===r})||t.push(b.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:n.decrementYears},b.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),t},n.onChange=function(e){n.props.onChange(e)},n.handleClickOutside=function(){n.props.onCancel()},n.shiftYears=function(e){var t=n.state.yearsList.map(function(t){return t+e});n.setState({yearsList:t})},n.incrementYears=function(){return n.shiftYears(1)},n.decrementYears=function(){return n.shiftYears(-1)};var r=t.yearDropdownItemNumber,a=t.scrollableYearDropdown,i=r||(a?10:5);return n.state={yearsList:qx(n.props.year,i,n.props.minDate,n.props.maxDate)},n.dropdownRef=x.createRef(),n}return Ng(t,e),t.prototype.componentDidMount=function(){var e=this.dropdownRef.current;if(e){var t=e.children?Array.from(e.children):null,n=t?t.find(function(e){return e.ariaSelected}):null;e.scrollTop=n&&n instanceof HTMLElement?n.offsetTop+(n.clientHeight-e.clientHeight)/2:(e.scrollHeight-e.clientHeight)/2}},t.prototype.render=function(){var e=Zu({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return b.createElement(Tg,{className:e,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},t}(x.Component),Yx=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var e=t.props.minDate?wp(t.props.minDate):1900,n=t.props.maxDate?wp(t.props.maxDate):2100,r=[],a=e;a<=n;a++)r.push(b.createElement("option",{key:a,value:a},a));return r},t.onSelectChange=function(e){t.onChange(parseInt(e.target.value))},t.renderSelectMode=function(){return b.createElement("select",{value:t.props.year,className:"react-datepicker__year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(e){return b.createElement("button",{key:"read",type:"button",style:{visibility:e?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:t.toggleDropdown},b.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),b.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},t.props.year))},t.renderDropdown=function(){return b.createElement(Gx,kg({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var e=t.state.dropdownVisible,n=[t.renderReadView(!e)];return e&&n.unshift(t.renderDropdown()),n},t.onChange=function(e){t.toggleDropdown(),e!==t.props.year&&t.props.onChange(e)},t.toggleDropdown=function(e){t.setState({dropdownVisible:!t.state.dropdownVisible},function(){t.props.adjustDateOnChange&&t.handleYearChange(t.props.date,e)})},t.handleYearChange=function(e,n){var r;null===(r=t.onSelect)||void 0===r||r.call(t,e,n),t.setOpen()},t.onSelect=function(e,n){var r,a;null===(a=(r=t.props).onSelect)||void 0===a||a.call(r,e,n)},t.setOpen=function(){var e,n;null===(n=(e=t.props).setOpen)||void 0===n||n.call(e,!0)},t}return Ng(t,e),t.prototype.render=function(){var e;switch(this.props.dropdownMode){case"scroll":e=this.renderScrollMode();break;case"select":e=this.renderSelectMode()}return b.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},e)},t}(x.Component),Kx=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],Jx="react-datepicker-ignore-onclickoutside",Xx=function(e){function t(n){var r=e.call(this,n)||this;return r.monthContainer=void 0,r.handleClickOutside=function(e){r.props.onClickOutside(e)},r.setClickOutsideRef=function(){return r.containerRef.current},r.handleDropdownFocus=function(e){var t,n,a,i;a=e.target,i=(a.className||"").split(/\s+/),Kx.some(function(e){return i.indexOf(e)>=0})&&(null===(n=(t=r.props).onDropdownFocus)||void 0===n||n.call(t,e))},r.getDateInView=function(){var e=r.props,t=e.preSelection,n=e.selected,a=e.openToDate,i=xx(r.props),s=bx(r.props),o=Eg();return a||n||t||(i&&Np(o,i)?i:s&&jp(o,s)?s:o)},r.increaseMonth=function(){r.setState(function(e){return{date:oh(e.date,1)}},function(){return r.handleMonthChange(r.state.date)})},r.decreaseMonth=function(){r.setState(function(e){return{date:Dm(e.date,1)}},function(){return r.handleMonthChange(r.state.date)})},r.handleDayClick=function(e,t,n){r.props.onSelect(e,t,n),r.props.setPreSelection&&r.props.setPreSelection(e)},r.handleDayMouseEnter=function(e){r.setState({selectingDate:e}),r.props.onDayMouseEnter&&r.props.onDayMouseEnter(e)},r.handleMonthMouseLeave=function(){r.setState({selectingDate:void 0}),r.props.onMonthMouseLeave&&r.props.onMonthMouseLeave()},r.handleYearMouseEnter=function(e,t){r.setState({selectingDate:Pm(Eg(),t)}),r.props.onYearMouseEnter&&r.props.onYearMouseEnter(e,t)},r.handleYearMouseLeave=function(e,t){r.props.onYearMouseLeave&&r.props.onYearMouseLeave(e,t)},r.handleYearChange=function(e){var t,n,a,i;null===(n=(t=r.props).onYearChange)||void 0===n||n.call(t,e),r.setState({isRenderAriaLiveMessage:!0}),r.props.adjustDateOnChange&&(r.props.onSelect(e),null===(i=(a=r.props).setOpen)||void 0===i||i.call(a,!0)),r.props.setPreSelection&&r.props.setPreSelection(e)},r.getEnabledPreSelectionDateForMonth=function(e){if(!ex(e,r.props))return e;for(var t=Hg(e),n=function(e){return Dh(e)}(e),a=function(e,t){const[n,r]=gh(0,e,t),a=Mh(n,r),i=Math.abs(bh(n,r));n.setDate(n.getDate()-a*i);const s=a*(i-Number(Mh(n,r)===-a));return 0===s?0:s}(n,t),i=null,s=0;s<=a;s++){var o=sh(t,s);if(!ex(o,r.props)){i=o;break}}return i},r.handleMonthChange=function(e){var t,n,a,i=null!==(t=r.getEnabledPreSelectionDateForMonth(e))&&void 0!==t?t:e;r.handleCustomMonthChange(i),r.props.adjustDateOnChange&&(r.props.onSelect(i),null===(a=(n=r.props).setOpen)||void 0===a||a.call(n,!0)),r.props.setPreSelection&&r.props.setPreSelection(i)},r.handleCustomMonthChange=function(e){var t,n;null===(n=(t=r.props).onMonthChange)||void 0===n||n.call(t,e),r.setState({isRenderAriaLiveMessage:!0})},r.handleMonthYearChange=function(e){r.handleYearChange(e),r.handleMonthChange(e)},r.changeYear=function(e){r.setState(function(t){return{date:Pm(t.date,Number(e))}},function(){return r.handleYearChange(r.state.date)})},r.changeMonth=function(e){r.setState(function(t){return{date:Am(t.date,Number(e))}},function(){return r.handleMonthChange(r.state.date)})},r.changeMonthYear=function(e){r.setState(function(t){return{date:Pm(Am(t.date,bp(e)),wp(e))}},function(){return r.handleMonthYearChange(r.state.date)})},r.header=function(e){void 0===e&&(e=r.state.date);var t=Fg(e,r.props.locale,r.props.calendarStartDay),n=[];return r.props.showWeekNumbers&&n.push(b.createElement("div",{key:"W",className:"react-datepicker__day-name",role:"columnheader"},b.createElement("span",{className:"react-datepicker__sr-only"},"Week number"),b.createElement("span",{"aria-hidden":"true"},r.props.weekLabel||"#"))),n.concat([0,1,2,3,4,5,6].map(function(e){var n=sh(t,e),a=r.formatWeekday(n,r.props.locale),i=r.props.weekDayClassName?r.props.weekDayClassName(n):void 0;return b.createElement("div",{key:e,role:"columnheader",className:Zu("react-datepicker__day-name",i)},b.createElement("span",{className:"react-datepicker__sr-only"},Dg(n,"EEEE",r.props.locale)),b.createElement("span",{"aria-hidden":"true"},a))}))},r.formatWeekday=function(e,t){return r.props.formatWeekDay?function(e,t,n){return t(Dg(e,"EEEE",n))}(e,r.props.formatWeekDay,t):r.props.useWeekdaysShort?function(e,t){return Dg(e,"EEE",t)}(e,t):function(e,t){return Dg(e,"EEEEEE",t)}(e,t)},r.decreaseYear=function(){r.setState(function(e){var n;return{date:Rm(e.date,r.props.showYearPicker?null!==(n=r.props.yearItemNumber)&&void 0!==n?n:t.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.clearSelectingDate=function(){r.setState({selectingDate:void 0})},r.renderPreviousButton=function(){var e,n,a;if(!r.props.renderCustomHeader){var i,s=null!==(e=r.props.monthsShown)&&void 0!==e?e:t.defaultProps.monthsShown,o=r.props.showPreviousMonths?s-1:0,l=null!==(n=r.props.monthSelectedIn)&&void 0!==n?n:o,c=Dm(r.state.date,l);switch(!0){case r.props.showMonthYearPicker:i=fx(r.state.date,r.props);break;case r.props.showYearPicker:i=function(e,t){var n=void 0===t?{}:t,r=n.minDate,a=n.yearItemNumber,i=void 0===a?12:a,s=Nx(zg(Rm(e,i)),i).endPeriod,o=r&&wp(r);return o&&o>s||!1}(r.state.date,r.props);break;case r.props.showQuarterYearPicker:i=function(e,t){var n=void 0===t?{}:t,r=n.minDate,a=n.includeDates,i=Lm(Fh(e));return r&&Oh(r,i)>0||a&&a.every(function(e){return Oh(e,i)>0})||!1}(r.state.date,r.props);break;default:i=px(c,r.props)}if(((null!==(a=r.props.forceShowMonthNavigation)&&void 0!==a?a:t.defaultProps.forceShowMonthNavigation)||r.props.showDisabledMonthNavigation||!i)&&!r.props.showTimeSelectOnly){var d=["react-datepicker__navigation","react-datepicker__navigation--previous"],u=r.decreaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(u=r.decreaseYear),i&&r.props.showDisabledMonthNavigation&&(d.push("react-datepicker__navigation--previous--disabled"),u=void 0);var h=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,p=r.props,m=p.previousMonthButtonLabel,f=void 0===m?t.defaultProps.previousMonthButtonLabel:m,g=p.previousYearButtonLabel,x=void 0===g?t.defaultProps.previousYearButtonLabel:g,y=r.props,v=y.previousMonthAriaLabel,w=void 0===v?"string"==typeof f?f:"Previous Month":v,j=y.previousYearAriaLabel,N=void 0===j?"string"==typeof x?x:"Previous Year":j;return b.createElement("button",{type:"button",className:d.join(" "),onClick:u,onKeyDown:r.props.handleOnKeyDown,"aria-label":h?N:w},b.createElement("span",{className:["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"].join(" ")},h?x:f))}}},r.increaseYear=function(){r.setState(function(e){var n;return{date:Nh(e.date,r.props.showYearPicker?null!==(n=r.props.yearItemNumber)&&void 0!==n?n:t.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.renderNextButton=function(){var e;if(!r.props.renderCustomHeader){var n;switch(!0){case r.props.showMonthYearPicker:n=gx(r.state.date,r.props);break;case r.props.showYearPicker:n=function(e,t){var n=void 0===t?{}:t,r=n.maxDate,a=n.yearItemNumber,i=void 0===a?12:a,s=Nx(Nh(e,i),i).startPeriod,o=r&&wp(r);return o&&o<s||!1}(r.state.date,r.props);break;case r.props.showQuarterYearPicker:n=function(e,t){var n=void 0===t?{}:t,r=n.maxDate,a=n.includeDates,i=vh(Rh(e),1);return r&&Oh(i,r)>0||a&&a.every(function(e){return Oh(i,e)>0})||!1}(r.state.date,r.props);break;default:n=mx(r.state.date,r.props)}if(((null!==(e=r.props.forceShowMonthNavigation)&&void 0!==e?e:t.defaultProps.forceShowMonthNavigation)||r.props.showDisabledMonthNavigation||!n)&&!r.props.showTimeSelectOnly){var a=["react-datepicker__navigation","react-datepicker__navigation--next"];r.props.showTimeSelect&&a.push("react-datepicker__navigation--next--with-time"),r.props.todayButton&&a.push("react-datepicker__navigation--next--with-today-button");var i=r.increaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(i=r.increaseYear),n&&r.props.showDisabledMonthNavigation&&(a.push("react-datepicker__navigation--next--disabled"),i=void 0);var s=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,o=r.props,l=o.nextMonthButtonLabel,c=void 0===l?t.defaultProps.nextMonthButtonLabel:l,d=o.nextYearButtonLabel,u=void 0===d?t.defaultProps.nextYearButtonLabel:d,h=r.props,p=h.nextMonthAriaLabel,m=void 0===p?"string"==typeof c?c:"Next Month":p,f=h.nextYearAriaLabel,g=void 0===f?"string"==typeof u?u:"Next Year":f;return b.createElement("button",{type:"button",className:a.join(" "),onClick:i,onKeyDown:r.props.handleOnKeyDown,"aria-label":s?g:m},b.createElement("span",{className:["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"].join(" ")},s?u:c))}}},r.renderCurrentMonth=function(e){void 0===e&&(e=r.state.date);var t=["react-datepicker__current-month"];return r.props.showYearDropdown&&t.push("react-datepicker__current-month--hasYearDropdown"),r.props.showMonthDropdown&&t.push("react-datepicker__current-month--hasMonthDropdown"),r.props.showMonthYearDropdown&&t.push("react-datepicker__current-month--hasMonthYearDropdown"),b.createElement("h2",{className:t.join(" ")},Dg(e,r.props.dateFormat,r.props.locale))},r.renderYearDropdown=function(e){if(void 0===e&&(e=!1),r.props.showYearDropdown&&!e)return b.createElement(Yx,kg({},t.defaultProps,r.props,{date:r.state.date,onChange:r.changeYear,year:wp(r.state.date)}))},r.renderMonthDropdown=function(e){if(void 0===e&&(e=!1),r.props.showMonthDropdown&&!e)return b.createElement(zx,kg({},t.defaultProps,r.props,{month:bp(r.state.date),onChange:r.changeMonth}))},r.renderMonthYearDropdown=function(e){if(void 0===e&&(e=!1),r.props.showMonthYearDropdown&&!e)return b.createElement($x,kg({},t.defaultProps,r.props,{date:r.state.date,onChange:r.changeMonthYear}))},r.handleTodayButtonClick=function(e){r.props.onSelect(Wg(),e),r.props.setPreSelection&&r.props.setPreSelection(Wg())},r.renderTodayButton=function(){if(r.props.todayButton&&!r.props.showTimeSelectOnly)return b.createElement("div",{className:"react-datepicker__today-button",onClick:r.handleTodayButtonClick},r.props.todayButton)},r.renderDayNamesHeader=function(e){return b.createElement("div",{className:"react-datepicker__day-names",role:"row"},r.header(e))},r.renderDefaultHeader=function(e){var t=e.monthDate,n=e.i;return b.createElement("div",{className:"react-datepicker__header ".concat(r.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},r.renderCurrentMonth(t),b.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(r.props.dropdownMode),onFocus:r.handleDropdownFocus},r.renderMonthDropdown(0!==n),r.renderMonthYearDropdown(0!==n),r.renderYearDropdown(0!==n)))},r.renderCustomHeader=function(e){var t,n,a=e.monthDate,i=e.i;if(r.props.showTimeSelect&&!r.state.monthContainer||r.props.showTimeSelectOnly)return null;var s,o=r.props,l=o.showYearPicker,c=o.yearItemNumber;if(l){var d=Nx(a,c);s={startYear:d.startPeriod,endYear:d.endPeriod}}var u=px(r.state.date,r.props),h=mx(r.state.date,r.props),p=fx(r.state.date,r.props),m=gx(r.state.date,r.props);return b.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:r.props.onDropdownFocus},null===(n=(t=r.props).renderCustomHeader)||void 0===n?void 0:n.call(t,kg(kg(kg({},r.state),l&&{visibleYearsRange:s}),{customHeaderCount:i,monthDate:a,changeMonth:r.changeMonth,changeYear:r.changeYear,decreaseMonth:r.decreaseMonth,increaseMonth:r.increaseMonth,decreaseYear:r.decreaseYear,increaseYear:r.increaseYear,prevMonthButtonDisabled:u,nextMonthButtonDisabled:h,prevYearButtonDisabled:p,nextYearButtonDisabled:m})))},r.renderYearHeader=function(e){var n=e.monthDate,a=r.props,i=a.showYearPicker,s=a.yearItemNumber,o=Nx(n,void 0===s?t.defaultProps.yearItemNumber:s),l=o.startPeriod,c=o.endPeriod;return b.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},i?"".concat(l," - ").concat(c):wp(n))},r.renderHeader=function(e){var t=e.monthDate,n=e.i,a={monthDate:t,i:void 0===n?0:n};switch(!0){case void 0!==r.props.renderCustomHeader:return r.renderCustomHeader(a);case r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker:return r.renderYearHeader(a);default:return r.renderDefaultHeader(a)}},r.renderMonths=function(){var e,n;if(!r.props.showTimeSelectOnly&&!r.props.showYearPicker){for(var a=[],i=null!==(e=r.props.monthsShown)&&void 0!==e?e:t.defaultProps.monthsShown,s=r.props.showPreviousMonths?i-1:0,o=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Nh(r.state.date,s):Dm(r.state.date,s),l=null!==(n=r.props.monthSelectedIn)&&void 0!==n?n:s,c=0;c<i;++c){var d=c-l+s,u=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Nh(o,d):oh(o,d),h="month-".concat(c),p=c<i-1,m=c>0;a.push(b.createElement("div",{key:h,ref:function(e){r.monthContainer=null!=e?e:void 0},className:"react-datepicker__month-container"},r.renderHeader({monthDate:u,i:c}),b.createElement(Fx,kg({},t.defaultProps,r.props,{containerRef:r.containerRef,ariaLabelPrefix:r.props.monthAriaLabelPrefix,day:u,onDayClick:r.handleDayClick,handleOnKeyDown:r.props.handleOnDayKeyDown,handleOnMonthKeyDown:r.props.handleOnKeyDown,onDayMouseEnter:r.handleDayMouseEnter,onMouseLeave:r.handleMonthMouseLeave,orderInDisplay:c,selectingDate:r.state.selectingDate,monthShowsDuplicateDaysEnd:p,monthShowsDuplicateDaysStart:m,dayNamesHeader:r.renderDayNamesHeader(u)}))))}return a}},r.renderYears=function(){if(!r.props.showTimeSelectOnly)return r.props.showYearPicker?b.createElement("div",{className:"react-datepicker__year--container"},r.renderHeader({monthDate:r.state.date}),b.createElement(Vx,kg({},t.defaultProps,r.props,{selectingDate:r.state.selectingDate,date:r.state.date,onDayClick:r.handleDayClick,clearSelectingDate:r.clearSelectingDate,onYearMouseEnter:r.handleYearMouseEnter,onYearMouseLeave:r.handleYearMouseLeave}))):void 0},r.renderTimeSection=function(){if(r.props.showTimeSelect&&(r.state.monthContainer||r.props.showTimeSelectOnly))return b.createElement(Ux,kg({},t.defaultProps,r.props,{onChange:r.props.onTimeChange,format:r.props.timeFormat,intervals:r.props.timeIntervals,monthRef:r.state.monthContainer}))},r.renderInputTimeSection=function(){var e=r.props.selected?new Date(r.props.selected):void 0,n=e&&Pg(e)&&Boolean(r.props.selected)?"".concat(jx(e.getHours()),":").concat(jx(e.getMinutes())):"";if(r.props.showTimeInput)return b.createElement(Tx,kg({},t.defaultProps,r.props,{date:e,timeString:n,onChange:r.props.onTimeChange}))},r.renderAriaLiveRegion=function(){var e,n,a=Nx(r.state.date,null!==(e=r.props.yearItemNumber)&&void 0!==e?e:t.defaultProps.yearItemNumber),i=a.startPeriod,s=a.endPeriod;return n=r.props.showYearPicker?"".concat(i," - ").concat(s):r.props.showMonthYearPicker||r.props.showQuarterYearPicker?wp(r.state.date):"".concat(Qg(bp(r.state.date),r.props.locale)," ").concat(wp(r.state.date)),b.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},r.state.isRenderAriaLiveMessage&&n)},r.renderChildren=function(){if(r.props.children)return b.createElement("div",{className:"react-datepicker__children-container"},r.props.children)},r.containerRef=x.createRef(),r.state={date:r.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},r}return Ng(t,e),Object.defineProperty(t,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,outsideClickIgnoreClass:Jx,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:12}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.props.showTimeSelect&&(this.assignMonthContainer=void this.setState({monthContainer:this.monthContainer}))},t.prototype.componentDidUpdate=function(e){var t=this;if(!this.props.preSelection||Gg(this.props.preSelection,e.preSelection)&&this.props.monthSelectedIn===e.monthSelectedIn)this.props.openToDate&&!Gg(this.props.openToDate,e.openToDate)&&this.setState({date:this.props.openToDate});else{var n=!Vg(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return n&&t.handleCustomMonthChange(t.state.date)})}},t.prototype.render=function(){var e=this.props.container||Ag;return b.createElement(Tg,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},b.createElement("div",{style:{display:"contents"},ref:this.containerRef},b.createElement(e,{className:Zu("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},t}(x.Component),Qx=function(e){var t=e.icon,n=e.className,r=void 0===n?"":n,a=e.onClick,i="react-datepicker__calendar-icon";if("string"==typeof t)return b.createElement("i",{className:"".concat(i," ").concat(t," ").concat(r),"aria-hidden":"true",onClick:a});if(b.isValidElement(t)){var s=t;return b.cloneElement(s,{className:"".concat(s.props.className||""," ").concat(i," ").concat(r),onClick:function(e){"function"==typeof s.props.onClick&&s.props.onClick(e),"function"==typeof a&&a(e)}})}return b.createElement("svg",{className:"".concat(i," ").concat(r),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:a},b.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},Zx=function(e){function t(t){var n=e.call(this,t)||this;return n.portalRoot=null,n.el=document.createElement("div"),n}return Ng(t,e),t.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},t.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},t.prototype.render=function(){return dt.createPortal(this.props.children,this.el)},t}(x.Component),eb=function(e){return(e instanceof HTMLAnchorElement||!e.disabled)&&-1!==e.tabIndex},tb=function(e){function t(t){var n=e.call(this,t)||this;return n.getTabChildren=function(){var e;return Array.prototype.slice.call(null===(e=n.tabLoopRef.current)||void 0===e?void 0:e.querySelectorAll("[tabindex], a, button, input, select, textarea"),1,-1).filter(eb)},n.handleFocusStart=function(){var e=n.getTabChildren();e&&e.length>1&&e[e.length-1].focus()},n.handleFocusEnd=function(){var e=n.getTabChildren();e&&e.length>1&&e[0].focus()},n.tabLoopRef=x.createRef(),n}return Ng(t,e),t.prototype.render=function(){var e;return(null!==(e=this.props.enableTabLoop)&&void 0!==e?e:t.defaultProps.enableTabLoop)?b.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},b.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,b.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},t.defaultProps={enableTabLoop:!0},t}(x.Component),nb=function(e){function t(t){var n,r,a="boolean"!=typeof t.hidePopper||t.hidePopper,i=x.useRef(null),s=wg(kg({open:!a,whileElementsMounted:tg,placement:t.popperPlacement,middleware:Sg([(r={padding:15},{...rg(r),options:[r,undefined]}),ug(10),hg({element:i})],null!==(n=t.popperModifiers)&&void 0!==n?n:[],!0)},t.popperProps)),o=kg(kg({},t),{hidePopper:a,popperProps:kg(kg({},s),{arrowRef:i})});return b.createElement(e,kg({},o))}return t.displayName="withFloating(".concat(e.displayName||e.name||"Component",")"),t}(function(e){var t=e.className,n=e.wrapperClassName,r=e.hidePopper,a=void 0===r||r,i=e.popperComponent,s=e.targetComponent,o=e.enableTabLoop,l=e.popperOnKeyDown,c=e.portalId,d=e.portalHost,u=e.popperProps,h=e.showArrow,p=void 0;if(!a){var m=Zu("react-datepicker-popper",t);p=b.createElement(tb,{enableTabLoop:o},b.createElement("div",{ref:u.refs.setFloating,style:u.floatingStyles,className:m,"data-placement":u.placement,onKeyDown:l},i,h&&b.createElement(bg,{ref:u.arrowRef,context:u.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}e.popperContainer&&(p=x.createElement(e.popperContainer,{},p)),c&&!a&&(p=b.createElement(Zx,{portalId:c,portalHost:d},p));var f=Zu("react-datepicker-wrapper",n);return b.createElement(b.Fragment,null,b.createElement("div",{ref:u.refs.setReference,className:f},s),p)}),rb="Date input not valid.",ab=function(e){function t(n){var r=e.call(this,n)||this;return r.calendar=null,r.input=null,r.getPreSelection=function(){return r.props.openToDate?r.props.openToDate:r.props.selectsEnd&&r.props.startDate?r.props.startDate:r.props.selectsStart&&r.props.endDate?r.props.endDate:Eg()},r.modifyHolidays=function(){var e;return null===(e=r.props.holidays)||void 0===e?void 0:e.reduce(function(e,t){var n=new Date(t.date);return Pg(n)?Sg(Sg([],e,!0),[kg(kg({},t),{date:n})],!1):e},[])},r.calcInitialState=function(){var e,t=r.getPreSelection(),n=xx(r.props),a=bx(r.props),i=n&&Np(t,Rg(n))?n:a&&jp(t,$g(a))?a:t;return{open:r.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:null!==(e=r.props.selectsRange?r.props.startDate:r.props.selected)&&void 0!==e?e:i,highlightDates:yx(r.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},r.getInputValue=function(){var e,n=r.props,a=n.locale,i=n.startDate,s=n.endDate,o=n.rangeSeparator,l=n.selected,c=n.selectedDates,d=n.selectsMultiple,u=n.selectsRange,h=n.value,p=null!==(e=r.props.dateFormat)&&void 0!==e?e:t.defaultProps.dateFormat,m=r.state.inputValue;return"string"==typeof h?h:"string"==typeof m?m:u?function(e,t,n){if(!e&&!t)return"";var r=e?Lg(e,n):"",a=t?Lg(t,n):"",i=n.rangeSeparator||" - ";return"".concat(r).concat(i).concat(a)}(i,s,{dateFormat:p,locale:a,rangeSeparator:o}):d?function(e,t){if(!(null==e?void 0:e.length))return"";var n=e[0]?Lg(e[0],t):"";if(1===e.length)return n;if(2===e.length&&e[1]){var r=Lg(e[1],t);return"".concat(n,", ").concat(r)}var a=e.length-1;return"".concat(n," (+").concat(a,")")}(null!=c?c:[],{dateFormat:p,locale:a}):Lg(l,{dateFormat:p,locale:a})},r.resetHiddenStatus=function(){r.setState(kg(kg({},r.state),{wasHidden:!1}))},r.setHiddenStatus=function(){r.setState(kg(kg({},r.state),{wasHidden:!0}))},r.setHiddenStateOnVisibilityHidden=function(){"hidden"===document.visibilityState&&r.setHiddenStatus()},r.clearPreventFocusTimeout=function(){r.preventFocusTimeout&&clearTimeout(r.preventFocusTimeout)},r.setFocus=function(){var e,t;null===(t=null===(e=r.input)||void 0===e?void 0:e.focus)||void 0===t||t.call(e,{preventScroll:!0})},r.setBlur=function(){var e,t;null===(t=null===(e=r.input)||void 0===e?void 0:e.blur)||void 0===t||t.call(e),r.cancelFocusInput()},r.deferBlur=function(){requestAnimationFrame(function(){r.setBlur()})},r.setOpen=function(e,t){void 0===t&&(t=!1),r.setState({open:e,preSelection:e&&r.state.open?r.state.preSelection:r.calcInitialState().preSelection,lastPreSelectChange:sb},function(){e||r.setState(function(e){return{focused:!!t&&e.focused}},function(){!t&&r.deferBlur(),r.setState({inputValue:null})})})},r.inputOk=function(){return Ch(r.state.preSelection)},r.isCalendarOpen=function(){return void 0===r.props.open?r.state.open&&!r.props.disabled&&!r.props.readOnly:r.props.open},r.handleFocus=function(e){var t,n,a=r.state.wasHidden,i=!a||r.state.open;a&&r.resetHiddenStatus(),r.state.preventFocus||(null===(n=(t=r.props).onFocus)||void 0===n||n.call(t,e),!i||r.props.preventOpenOnFocus||r.props.readOnly||r.setOpen(!0)),r.setState({focused:!0})},r.sendFocusBackToInput=function(){r.preventFocusTimeout&&r.clearPreventFocusTimeout(),r.setState({preventFocus:!0},function(){r.preventFocusTimeout=setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})})},r.cancelFocusInput=function(){clearTimeout(r.inputFocusTimeout),r.inputFocusTimeout=void 0},r.deferFocusInput=function(){r.cancelFocusInput(),r.inputFocusTimeout=setTimeout(function(){return r.setFocus()},1)},r.handleDropdownFocus=function(){r.cancelFocusInput()},r.resetInputValue=function(){r.setState(kg(kg({},r.state),{inputValue:null}))},r.handleBlur=function(e){var t,n;(!r.state.open||r.props.withPortal||r.props.showTimeInput)&&(null===(n=(t=r.props).onBlur)||void 0===n||n.call(t,e)),r.resetInputValue(),r.state.open&&!1===r.props.open&&r.setOpen(!1),r.setState({focused:!1})},r.handleCalendarClickOutside=function(e){var t,n;r.props.inline||r.setOpen(!1),null===(n=(t=r.props).onClickOutside)||void 0===n||n.call(t,e),r.props.withPortal&&e.preventDefault()},r.handleChange=function(){for(var e,n,a,i,s,o=[],l=0;l<arguments.length;l++)o[l]=arguments[l];var c=o[0];if(!r.props.onChangeRaw||(r.props.onChangeRaw.apply(r,o),c&&"function"==typeof c.isDefaultPrevented&&!c.isDefaultPrevented())){r.setState({inputValue:(null==c?void 0:c.target)instanceof HTMLInputElement?c.target.value:null,lastPreSelectChange:ib});var d=r.props,u=d.selectsRange,h=d.startDate,p=d.endDate,m=null!==(e=r.props.dateFormat)&&void 0!==e?e:t.defaultProps.dateFormat,f=null!==(n=r.props.strictParsing)&&void 0!==n?n:t.defaultProps.strictParsing,g=(null==c?void 0:c.target)instanceof HTMLInputElement?c.target.value:"";if(u){var x=r.props.rangeSeparator,b=x.trim(),y=g.split(m.includes(b)?x:b,2).map(function(e){return e.trim()}),v=y[0],w=y[1],j=Mg(null!=v?v:"",m,r.props.locale,f),N=j?Mg(null!=w?w:"",m,r.props.locale,f):null,k=(null==h?void 0:h.getTime())!==(null==j?void 0:j.getTime()),S=(null==p?void 0:p.getTime())!==(null==N?void 0:N.getTime());if(!k&&!S)return;if(j&&ex(j,r.props))return;if(N&&ex(N,r.props))return;null===(i=(a=r.props).onChange)||void 0===i||i.call(a,[j,N],c)}else{var C=Mg(g,m,r.props.locale,f,null!==(s=r.props.selected)&&void 0!==s?s:void 0);!C&&g||r.setSelected(C,c,!0)}}},r.handleSelect=function(e,t,n){if(!r.props.readOnly){var a=r.props,i=a.selectsRange,s=a.startDate,o=a.endDate,l=a.swapRange,c=!i||s&&!o&&(l||!Cx(e,s));r.props.shouldCloseOnSelect&&!r.props.showTimeSelect&&c&&r.sendFocusBackToInput(),r.props.onChangeRaw&&r.props.onChangeRaw(t),r.setSelected(e,t,!1,n),r.props.showDateSelect&&r.setState({isRenderAriaLiveMessage:!0}),!r.props.shouldCloseOnSelect||r.props.showTimeSelect?r.setPreSelection(e):c&&r.setOpen(!1)}},r.setSelected=function(e,t,n,a){var i,s,o=e;if(r.props.showYearPicker){if(null!==o&&ox(wp(o),r.props))return}else if(r.props.showMonthYearPicker){if(null!==o&&nx(o,r.props))return}else if(null!==o&&ex(o,r.props))return;var l=r.props,c=l.onChange,d=l.selectsRange,u=l.startDate,h=l.endDate,p=l.selectsMultiple,m=l.selectedDates,f=l.minTime,g=l.swapRange;if(!Yg(r.props.selected,o)||r.props.allowSameDay||d||p)if(null!==o&&(!r.props.selected||n&&(r.props.showTimeSelect||r.props.showTimeSelectOnly||r.props.showTimeInput)||(o=Ig(o,{hour:gp(r.props.selected),minute:xp(r.props.selected),second:yp(r.props.selected)})),n||!r.props.showTimeSelect&&!r.props.showTimeSelectOnly||f&&(o=Ig(o,{hour:f.getHours(),minute:f.getMinutes(),second:f.getSeconds()})),r.props.inline||r.setState({preSelection:o}),r.props.focusSelectedMonth||r.setState({monthSelectedIn:a})),d){var x=!u&&!!h,b=u&&h;u||h?u&&!h?null===o?null==c||c([null,null],t):Cx(o,u)?g?null==c||c([o,u],t):null==c||c([o,null],t):null==c||c([u,o],t):x&&(o&&Cx(o,h)?null==c||c([o,h],t):null==c||c([o,null],t)):null==c||c([o,null],t),b&&(null==c||c([o,null],t))}else if(p){if(null!==o)if(null==m?void 0:m.length)if(m.some(function(e){return Gg(e,o)})){var y=m.filter(function(e){return!Gg(e,o)});null==c||c(y,t)}else null==c||c(Sg(Sg([],m,!0),[o],!1),t);else null==c||c([o],t)}else null==c||c(o,t);n||(null===(s=(i=r.props).onSelect)||void 0===s||s.call(i,o,t),r.setState({inputValue:null}))},r.setPreSelection=function(e){if(!r.props.readOnly){var t=Ch(r.props.minDate),n=Ch(r.props.maxDate),a=!0;if(e){var i=Rg(e);if(t&&n)a=Kg(e,r.props.minDate,r.props.maxDate);else if(t){var s=Rg(r.props.minDate);a=jp(e,s)||Yg(i,s)}else if(n){var o=$g(r.props.maxDate);a=Np(e,o)||Yg(i,o)}}a&&r.setState({preSelection:e})}},r.toggleCalendar=function(){r.setOpen(!r.state.open)},r.handleTimeChange=function(e){var t,n;if(!r.props.selectsRange&&!r.props.selectsMultiple){var a=r.props.selected?r.props.selected:r.getPreSelection(),i=r.props.selected?e:Ig(a,{hour:gp(e),minute:xp(e)});r.setState({preSelection:i}),null===(n=(t=r.props).onChange)||void 0===n||n.call(t,i),r.props.shouldCloseOnSelect&&!r.props.showTimeInput&&(r.sendFocusBackToInput(),r.setOpen(!1)),r.props.showTimeInput&&r.setOpen(!0),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),r.setState({inputValue:null})}},r.onInputClick=function(){var e,t;r.props.disabled||r.props.readOnly||r.setOpen(!0),null===(t=(e=r.props).onInputClick)||void 0===t||t.call(e)},r.onInputKeyDown=function(e){var t,n,a,i,s,o;null===(n=(t=r.props).onKeyDown)||void 0===n||n.call(t,e);var l=e.key;if(r.state.open||r.props.inline||r.props.preventOpenOnFocus){if(r.state.open){if(l===Cg.ArrowDown||l===Cg.ArrowUp){e.preventDefault();var c=r.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":r.props.showWeekPicker&&r.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':r.props.showFullMonthYearPicker||r.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',d=(null===(i=r.calendar)||void 0===i?void 0:i.containerRef.current)instanceof Element&&r.calendar.containerRef.current.querySelector(c);return void(d instanceof HTMLElement&&d.focus({preventScroll:!0}))}var u=Eg(r.state.preSelection);l===Cg.Enter?(e.preventDefault(),e.target.blur(),r.inputOk()&&r.state.lastPreSelectChange===sb?(r.handleSelect(u,e),!r.props.shouldCloseOnSelect&&r.setPreSelection(u)):r.setOpen(!1)):l===Cg.Escape?(e.preventDefault(),e.target.blur(),r.sendFocusBackToInput(),r.setOpen(!1)):l===Cg.Tab&&r.setOpen(!1),r.inputOk()||null===(o=(s=r.props).onInputError)||void 0===o||o.call(s,{code:1,msg:rb})}}else l!==Cg.ArrowDown&&l!==Cg.ArrowUp&&l!==Cg.Enter||null===(a=r.onInputClick)||void 0===a||a.call(r)},r.onPortalKeyDown=function(e){e.key===Cg.Escape&&(e.preventDefault(),r.setState({preventFocus:!0},function(){r.setOpen(!1),setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})}))},r.onDayKeyDown=function(e){var t,n,a,i,s,o,l=r.props,c=l.minDate,d=l.maxDate,u=l.disabledKeyboardNavigation,h=l.showWeekPicker,p=l.shouldCloseOnSelect,m=l.locale,f=l.calendarStartDay,g=l.adjustDateOnChange,x=l.inline;if(null===(n=(t=r.props).onKeyDown)||void 0===n||n.call(t,e),!u){var b=e.key,y=e.shiftKey,v=Eg(r.state.preSelection),w=function(e,t){var n=t;switch(e){case Cg.ArrowRight:n=h?jh(t,1):sh(t,1);break;case Cg.ArrowLeft:n=h?Im(t):function(e){return sh(e,-1,void 0)}(t);break;case Cg.ArrowUp:n=Im(t);break;case Cg.ArrowDown:n=jh(t,1);break;case Cg.PageUp:n=y?Rm(t,1):Dm(t,1);break;case Cg.PageDown:n=y?Nh(t,1):oh(t,1);break;case Cg.Home:n=Fg(t,m,f);break;case Cg.End:n=function(e){return function(e){var t,n,r,a;const i=uh(),s=null!=(a=null!=(r=i.weekStartsOn)?r:null==(n=null==(t=i.locale)?void 0:t.options)?void 0:n.weekStartsOn)?a:0,o=ih(e,void 0),l=o.getDay(),c=6+(l<s?-7:0)-(l-s);return o.setDate(o.getDate()+c),o.setHours(23,59,59,999),o}(e)}(t)}return n};if(b===Cg.Enter)return e.preventDefault(),r.handleSelect(v,e),void(!p&&r.setPreSelection(v));if(b===Cg.Escape)return e.preventDefault(),r.setOpen(!1),void(r.inputOk()||null===(i=(a=r.props).onInputError)||void 0===i||i.call(a,{code:1,msg:rb}));var j=null;switch(b){case Cg.ArrowLeft:case Cg.ArrowRight:case Cg.ArrowUp:case Cg.ArrowDown:case Cg.PageUp:case Cg.PageDown:case Cg.Home:case Cg.End:j=function(e,t){for(var n=e,a=!1,i=0,s=w(e,t);!a;){if(i>=40){s=t;break}c&&s<c&&(n=Cg.ArrowRight,s=ex(c,r.props)?w(n,s):c),d&&s>d&&(n=Cg.ArrowLeft,s=ex(d,r.props)?w(n,s):d),ex(s,r.props)?(n!==Cg.PageUp&&n!==Cg.Home||(n=Cg.ArrowRight),n!==Cg.PageDown&&n!==Cg.End||(n=Cg.ArrowLeft),s=w(n,s)):a=!0,i++}return s}(b,v)}if(j){if(e.preventDefault(),r.setState({lastPreSelectChange:sb}),g&&r.setSelected(j),r.setPreSelection(j),x){var N=bp(v),k=bp(j),S=wp(v),C=wp(j);N!==k||S!==C?r.setState({shouldFocusDayInline:!0}):r.setState({shouldFocusDayInline:!1})}}else null===(o=(s=r.props).onInputError)||void 0===o||o.call(s,{code:1,msg:rb})}},r.onPopperKeyDown=function(e){e.key===Cg.Escape&&(e.preventDefault(),r.sendFocusBackToInput(),r.setOpen(!1))},r.onClearClick=function(e){e&&e.preventDefault&&e.preventDefault(),r.sendFocusBackToInput();var t=r.props,n=t.selectsRange,a=t.onChange;n?null==a||a([null,null],e):null==a||a(null,e),r.setState({inputValue:null})},r.clear=function(){r.onClearClick()},r.onScroll=function(e){"boolean"==typeof r.props.closeOnScroll&&r.props.closeOnScroll?e.target!==document&&e.target!==document.documentElement&&e.target!==document.body||r.setOpen(!1):"function"==typeof r.props.closeOnScroll&&r.props.closeOnScroll(e)&&r.setOpen(!1)},r.renderCalendar=function(){var e,n;return r.props.inline||r.isCalendarOpen()?b.createElement(Xx,kg({showMonthYearDropdown:void 0,ref:function(e){r.calendar=e}},r.props,r.state,{setOpen:r.setOpen,dateFormat:null!==(e=r.props.dateFormatCalendar)&&void 0!==e?e:t.defaultProps.dateFormatCalendar,onSelect:r.handleSelect,onClickOutside:r.handleCalendarClickOutside,holidays:vx(r.modifyHolidays()),outsideClickIgnoreClass:r.props.outsideClickIgnoreClass,onDropdownFocus:r.handleDropdownFocus,onTimeChange:r.handleTimeChange,className:r.props.calendarClassName,container:r.props.calendarContainer,handleOnKeyDown:r.props.onKeyDown,handleOnDayKeyDown:r.onDayKeyDown,setPreSelection:r.setPreSelection,dropdownMode:null!==(n=r.props.dropdownMode)&&void 0!==n?n:t.defaultProps.dropdownMode}),r.props.children):null},r.renderAriaLiveRegion=function(){var e,n,a=r.props.locale,i=null!==(e=r.props.dateFormat)&&void 0!==e?e:t.defaultProps.dateFormat,s=r.props.showTimeInput||r.props.showTimeSelect?"PPPPp":"PPPP";return n=r.props.selectsRange?"Selected start date: ".concat(Lg(r.props.startDate,{dateFormat:s,locale:a}),". ").concat(r.props.endDate?"End date: "+Lg(r.props.endDate,{dateFormat:s,locale:a}):""):r.props.showTimeSelectOnly?"Selected time: ".concat(Lg(r.props.selected,{dateFormat:i,locale:a})):r.props.showYearPicker?"Selected year: ".concat(Lg(r.props.selected,{dateFormat:"yyyy",locale:a})):r.props.showMonthYearPicker?"Selected month: ".concat(Lg(r.props.selected,{dateFormat:"MMMM yyyy",locale:a})):r.props.showQuarterYearPicker?"Selected quarter: ".concat(Lg(r.props.selected,{dateFormat:"yyyy, QQQ",locale:a})):"Selected date: ".concat(Lg(r.props.selected,{dateFormat:s,locale:a})),b.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},n)},r.renderDateInput=function(){var e,n,a=Zu(r.props.className,((e={})[r.props.outsideClickIgnoreClass||t.defaultProps.outsideClickIgnoreClass]=r.state.open,e)),i=r.props.customInput||b.createElement("input",{type:"text"}),s=r.props.customInputRef||"ref";return x.cloneElement(i,((n={})[s]=function(e){r.input=e},n.value=r.getInputValue(),n.onBlur=r.handleBlur,n.onChange=r.handleChange,n.onClick=r.onInputClick,n.onFocus=r.handleFocus,n.onKeyDown=r.onInputKeyDown,n.id=r.props.id,n.name=r.props.name,n.form=r.props.form,n.autoFocus=r.props.autoFocus,n.placeholder=r.props.placeholderText,n.disabled=r.props.disabled,n.autoComplete=r.props.autoComplete,n.className=Zu(i.props.className,a),n.title=r.props.title,n.readOnly=r.props.readOnly,n.required=r.props.required,n.tabIndex=r.props.tabIndex,n["aria-describedby"]=r.props.ariaDescribedBy,n["aria-invalid"]=r.props.ariaInvalid,n["aria-labelledby"]=r.props.ariaLabelledBy,n["aria-required"]=r.props.ariaRequired,n))},r.renderClearButton=function(){var e=r.props,t=e.isClearable,n=e.disabled,a=e.selected,i=e.startDate,s=e.endDate,o=e.clearButtonTitle,l=e.clearButtonClassName,c=void 0===l?"":l,d=e.ariaLabelClose,u=void 0===d?"Close":d,h=e.selectedDates,p=e.readOnly;return!t||p||null==a&&null==i&&null==s&&!(null==h?void 0:h.length)?null:b.createElement("button",{type:"button",className:Zu("react-datepicker__close-icon",c,{"react-datepicker__close-icon--disabled":n}),disabled:n,"aria-label":u,onClick:r.onClearClick,title:o,tabIndex:-1})},r.state=r.calcInitialState(),r.preventFocusTimeout=void 0,r}return Ng(t,e),Object.defineProperty(t,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,outsideClickIgnoreClass:Jx,readOnly:!1,rangeSeparator:" - ",withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:12,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.componentDidUpdate=function(e,t){var n,r,a,i,s,o;e.inline&&(s=e.selected,o=this.props.selected,s&&o?bp(s)!==bp(o)||wp(s)!==wp(o):s!==o)&&this.setPreSelection(this.props.selected),void 0!==this.state.monthSelectedIn&&e.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),e.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:yx(this.props.highlightDates)}),t.focused||Yg(e.selected,this.props.selected)||this.setState({inputValue:null}),t.open!==this.state.open&&(!1===t.open&&!0===this.state.open&&(null===(r=(n=this.props).onCalendarOpen)||void 0===r||r.call(n)),!0===t.open&&!1===this.state.open&&(null===(i=(a=this.props).onCalendarClose)||void 0===i||i.call(a)))},t.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.renderInputContainer=function(){var e=this.props,t=e.showIcon,n=e.icon,r=e.calendarIconClassname,a=e.calendarIconClassName,i=e.toggleCalendarOnIconClick,s=this.state.open;return b.createElement("div",{className:"react-datepicker__input-container".concat(t?" react-datepicker__view-calendar-icon":"")},t&&b.createElement(Qx,kg({icon:n,className:Zu(a,!a&&r,s&&"react-datepicker-ignore-onclickoutside")},i?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},t.prototype.render=function(){var e=this.renderCalendar();if(this.props.inline)return e;if(this.props.withPortal){var t=this.state.open?b.createElement(tb,{enableTabLoop:this.props.enableTabLoop},b.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},e)):null;return this.state.open&&this.props.portalId&&(t=b.createElement(Zx,kg({portalId:this.props.portalId},this.props),t)),b.createElement("div",null,this.renderInputContainer(),t)}return b.createElement(nb,kg({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:e,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},t}(x.Component),ib="input",sb="navigate";const{entries:ob,setPrototypeOf:lb,isFrozen:cb,getPrototypeOf:db,getOwnPropertyDescriptor:ub}=Object;let{freeze:hb,seal:pb,create:mb}=Object,{apply:fb,construct:gb}="undefined"!=typeof Reflect&&Reflect;hb||(hb=function(e){return e}),pb||(pb=function(e){return e}),fb||(fb=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];return e.apply(t,r)}),gb||(gb=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return new e(...n)});const xb=Mb(Array.prototype.forEach),bb=Mb(Array.prototype.lastIndexOf),yb=Mb(Array.prototype.pop),vb=Mb(Array.prototype.push),wb=Mb(Array.prototype.splice),jb=Mb(String.prototype.toLowerCase),Nb=Mb(String.prototype.toString),kb=Mb(String.prototype.match),Sb=Mb(String.prototype.replace),Cb=Mb(String.prototype.indexOf),_b=Mb(String.prototype.trim),Ab=Mb(Object.prototype.hasOwnProperty),Tb=Mb(RegExp.prototype.test),Ob=(Eb=TypeError,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return gb(Eb,t)});var Eb;function Mb(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return fb(e,t,r)}}function Pb(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:jb;lb&&lb(e,null);let r=t.length;for(;r--;){let a=t[r];if("string"==typeof a){const e=n(a);e!==a&&(cb(t)||(t[r]=e),a=e)}e[a]=!0}return e}function Db(e){for(let t=0;t<e.length;t++)Ab(e,t)||(e[t]=null);return e}function Lb(e){const t=mb(null);for(const[n,r]of ob(e))Ab(e,n)&&(Array.isArray(r)?t[n]=Db(r):r&&"object"==typeof r&&r.constructor===Object?t[n]=Lb(r):t[n]=r);return t}function Ib(e,t){for(;null!==e;){const n=ub(e,t);if(n){if(n.get)return Mb(n.get);if("function"==typeof n.value)return Mb(n.value)}e=db(e)}return function(){return null}}const Rb=hb(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Fb=hb(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","slot","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Hb=hb(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),zb=hb(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Bb=hb(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Wb=hb(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),$b=hb(["#text"]),Ub=hb(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Vb=hb(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),qb=hb(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Gb=hb(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Yb=pb(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Kb=pb(/<%[\w\W]*|[\w\W]*%>/gm),Jb=pb(/\$\{[\w\W]*/gm),Xb=pb(/^data-[\-\w.\u00B7-\uFFFF]+$/),Qb=pb(/^aria-[\-\w]+$/),Zb=pb(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),ey=pb(/^(?:\w+script|data):/i),ty=pb(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),ny=pb(/^html$/i),ry=pb(/^[a-z][.\w]*(-[.\w]+)+$/i);var ay=Object.freeze({__proto__:null,ARIA_ATTR:Qb,ATTR_WHITESPACE:ty,CUSTOM_ELEMENT:ry,DATA_ATTR:Xb,DOCTYPE_NAME:ny,ERB_EXPR:Kb,IS_ALLOWED_URI:Zb,IS_SCRIPT_OR_DATA:ey,MUSTACHE_EXPR:Yb,TMPLIT_EXPR:Jb});var iy=function e(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"undefined"==typeof window?null:window;const n=t=>e(t);if(n.version="3.2.7",n.removed=[],!t||!t.document||9!==t.document.nodeType||!t.Element)return n.isSupported=!1,n;let{document:r}=t;const a=r,i=a.currentScript,{DocumentFragment:s,HTMLTemplateElement:o,Node:l,Element:c,NodeFilter:d,NamedNodeMap:u=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:h,DOMParser:p,trustedTypes:m}=t,f=c.prototype,g=Ib(f,"cloneNode"),x=Ib(f,"remove"),b=Ib(f,"nextSibling"),y=Ib(f,"childNodes"),v=Ib(f,"parentNode");if("function"==typeof o){const e=r.createElement("template");e.content&&e.content.ownerDocument&&(r=e.content.ownerDocument)}let w,j="";const{implementation:N,createNodeIterator:k,createDocumentFragment:S,getElementsByTagName:C}=r,{importNode:_}=a;let A={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]};n.isSupported="function"==typeof ob&&"function"==typeof v&&N&&void 0!==N.createHTMLDocument;const{MUSTACHE_EXPR:T,ERB_EXPR:O,TMPLIT_EXPR:E,DATA_ATTR:M,ARIA_ATTR:P,IS_SCRIPT_OR_DATA:D,ATTR_WHITESPACE:L,CUSTOM_ELEMENT:I}=ay;let{IS_ALLOWED_URI:R}=ay,F=null;const H=Pb({},[...Rb,...Fb,...Hb,...Bb,...$b]);let z=null;const B=Pb({},[...Ub,...Vb,...qb,...Gb]);let W=Object.seal(mb(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),$=null,U=null,V=!0,q=!0,G=!1,Y=!0,K=!1,J=!0,X=!1,Q=!1,Z=!1,ee=!1,te=!1,ne=!1,re=!0,ae=!1,ie=!0,se=!1,oe={},le=null;const ce=Pb({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let de=null;const ue=Pb({},["audio","video","img","source","image","track"]);let he=null;const pe=Pb({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),me="http://www.w3.org/1998/Math/MathML",fe="http://www.w3.org/2000/svg",ge="http://www.w3.org/1999/xhtml";let xe=ge,be=!1,ye=null;const ve=Pb({},[me,fe,ge],Nb);let we=Pb({},["mi","mo","mn","ms","mtext"]),je=Pb({},["annotation-xml"]);const Ne=Pb({},["title","style","font","a","script"]);let ke=null;const Se=["application/xhtml+xml","text/html"];let Ce=null,_e=null;const Ae=r.createElement("form"),Te=function(e){return e instanceof RegExp||e instanceof Function},Oe=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!_e||_e!==e){if(e&&"object"==typeof e||(e={}),e=Lb(e),ke=-1===Se.indexOf(e.PARSER_MEDIA_TYPE)?"text/html":e.PARSER_MEDIA_TYPE,Ce="application/xhtml+xml"===ke?Nb:jb,F=Ab(e,"ALLOWED_TAGS")?Pb({},e.ALLOWED_TAGS,Ce):H,z=Ab(e,"ALLOWED_ATTR")?Pb({},e.ALLOWED_ATTR,Ce):B,ye=Ab(e,"ALLOWED_NAMESPACES")?Pb({},e.ALLOWED_NAMESPACES,Nb):ve,he=Ab(e,"ADD_URI_SAFE_ATTR")?Pb(Lb(pe),e.ADD_URI_SAFE_ATTR,Ce):pe,de=Ab(e,"ADD_DATA_URI_TAGS")?Pb(Lb(ue),e.ADD_DATA_URI_TAGS,Ce):ue,le=Ab(e,"FORBID_CONTENTS")?Pb({},e.FORBID_CONTENTS,Ce):ce,$=Ab(e,"FORBID_TAGS")?Pb({},e.FORBID_TAGS,Ce):Lb({}),U=Ab(e,"FORBID_ATTR")?Pb({},e.FORBID_ATTR,Ce):Lb({}),oe=!!Ab(e,"USE_PROFILES")&&e.USE_PROFILES,V=!1!==e.ALLOW_ARIA_ATTR,q=!1!==e.ALLOW_DATA_ATTR,G=e.ALLOW_UNKNOWN_PROTOCOLS||!1,Y=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,K=e.SAFE_FOR_TEMPLATES||!1,J=!1!==e.SAFE_FOR_XML,X=e.WHOLE_DOCUMENT||!1,ee=e.RETURN_DOM||!1,te=e.RETURN_DOM_FRAGMENT||!1,ne=e.RETURN_TRUSTED_TYPE||!1,Z=e.FORCE_BODY||!1,re=!1!==e.SANITIZE_DOM,ae=e.SANITIZE_NAMED_PROPS||!1,ie=!1!==e.KEEP_CONTENT,se=e.IN_PLACE||!1,R=e.ALLOWED_URI_REGEXP||Zb,xe=e.NAMESPACE||ge,we=e.MATHML_TEXT_INTEGRATION_POINTS||we,je=e.HTML_INTEGRATION_POINTS||je,W=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&Te(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(W.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&Te(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(W.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(W.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),K&&(q=!1),te&&(ee=!0),oe&&(F=Pb({},$b),z=[],!0===oe.html&&(Pb(F,Rb),Pb(z,Ub)),!0===oe.svg&&(Pb(F,Fb),Pb(z,Vb),Pb(z,Gb)),!0===oe.svgFilters&&(Pb(F,Hb),Pb(z,Vb),Pb(z,Gb)),!0===oe.mathMl&&(Pb(F,Bb),Pb(z,qb),Pb(z,Gb))),e.ADD_TAGS&&(F===H&&(F=Lb(F)),Pb(F,e.ADD_TAGS,Ce)),e.ADD_ATTR&&(z===B&&(z=Lb(z)),Pb(z,e.ADD_ATTR,Ce)),e.ADD_URI_SAFE_ATTR&&Pb(he,e.ADD_URI_SAFE_ATTR,Ce),e.FORBID_CONTENTS&&(le===ce&&(le=Lb(le)),Pb(le,e.FORBID_CONTENTS,Ce)),ie&&(F["#text"]=!0),X&&Pb(F,["html","head","body"]),F.table&&(Pb(F,["tbody"]),delete $.tbody),e.TRUSTED_TYPES_POLICY){if("function"!=typeof e.TRUSTED_TYPES_POLICY.createHTML)throw Ob('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof e.TRUSTED_TYPES_POLICY.createScriptURL)throw Ob('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');w=e.TRUSTED_TYPES_POLICY,j=w.createHTML("")}else void 0===w&&(w=function(e,t){if("object"!=typeof e||"function"!=typeof e.createPolicy)return null;let n=null;const r="data-tt-policy-suffix";t&&t.hasAttribute(r)&&(n=t.getAttribute(r));const a="dompurify"+(n?"#"+n:"");try{return e.createPolicy(a,{createHTML:e=>e,createScriptURL:e=>e})}catch(i){return null}}(m,i)),null!==w&&"string"==typeof j&&(j=w.createHTML(""));hb&&hb(e),_e=e}},Ee=Pb({},[...Fb,...Hb,...zb]),Me=Pb({},[...Bb,...Wb]),Pe=function(e){vb(n.removed,{element:e});try{v(e).removeChild(e)}catch(t){x(e)}},De=function(e,t){try{vb(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(r){vb(n.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e)if(ee||te)try{Pe(t)}catch(r){}else try{t.setAttribute(e,"")}catch(r){}},Le=function(e){let t=null,n=null;if(Z)e="<remove></remove>"+e;else{const t=kb(e,/^[\r\n\t ]+/);n=t&&t[0]}"application/xhtml+xml"===ke&&xe===ge&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");const a=w?w.createHTML(e):e;if(xe===ge)try{t=(new p).parseFromString(a,ke)}catch(s){}if(!t||!t.documentElement){t=N.createDocument(xe,"template",null);try{t.documentElement.innerHTML=be?j:a}catch(s){}}const i=t.body||t.documentElement;return e&&n&&i.insertBefore(r.createTextNode(n),i.childNodes[0]||null),xe===ge?C.call(t,X?"html":"body")[0]:X?t.documentElement:i},Ie=function(e){return k.call(e.ownerDocument||e,e,d.SHOW_ELEMENT|d.SHOW_COMMENT|d.SHOW_TEXT|d.SHOW_PROCESSING_INSTRUCTION|d.SHOW_CDATA_SECTION,null)},Re=function(e){return e instanceof h&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof u)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore||"function"!=typeof e.hasChildNodes)},Fe=function(e){return"function"==typeof l&&e instanceof l};function He(e,t,r){xb(e,e=>{e.call(n,t,r,_e)})}const ze=function(e){let t=null;if(He(A.beforeSanitizeElements,e,null),Re(e))return Pe(e),!0;const r=Ce(e.nodeName);if(He(A.uponSanitizeElement,e,{tagName:r,allowedTags:F}),J&&e.hasChildNodes()&&!Fe(e.firstElementChild)&&Tb(/<[/\w!]/g,e.innerHTML)&&Tb(/<[/\w!]/g,e.textContent))return Pe(e),!0;if(7===e.nodeType)return Pe(e),!0;if(J&&8===e.nodeType&&Tb(/<[/\w]/g,e.data))return Pe(e),!0;if(!F[r]||$[r]){if(!$[r]&&We(r)){if(W.tagNameCheck instanceof RegExp&&Tb(W.tagNameCheck,r))return!1;if(W.tagNameCheck instanceof Function&&W.tagNameCheck(r))return!1}if(ie&&!le[r]){const t=v(e)||e.parentNode,n=y(e)||e.childNodes;if(n&&t)for(let r=n.length-1;r>=0;--r){const a=g(n[r],!0);a.__removalCount=(e.__removalCount||0)+1,t.insertBefore(a,b(e))}}return Pe(e),!0}return e instanceof c&&!function(e){let t=v(e);t&&t.tagName||(t={namespaceURI:xe,tagName:"template"});const n=jb(e.tagName),r=jb(t.tagName);return!!ye[e.namespaceURI]&&(e.namespaceURI===fe?t.namespaceURI===ge?"svg"===n:t.namespaceURI===me?"svg"===n&&("annotation-xml"===r||we[r]):Boolean(Ee[n]):e.namespaceURI===me?t.namespaceURI===ge?"math"===n:t.namespaceURI===fe?"math"===n&&je[r]:Boolean(Me[n]):e.namespaceURI===ge?!(t.namespaceURI===fe&&!je[r])&&!(t.namespaceURI===me&&!we[r])&&!Me[n]&&(Ne[n]||!Ee[n]):!("application/xhtml+xml"!==ke||!ye[e.namespaceURI]))}(e)?(Pe(e),!0):"noscript"!==r&&"noembed"!==r&&"noframes"!==r||!Tb(/<\/no(script|embed|frames)/i,e.innerHTML)?(K&&3===e.nodeType&&(t=e.textContent,xb([T,O,E],e=>{t=Sb(t,e," ")}),e.textContent!==t&&(vb(n.removed,{element:e.cloneNode()}),e.textContent=t)),He(A.afterSanitizeElements,e,null),!1):(Pe(e),!0)},Be=function(e,t,n){if(re&&("id"===t||"name"===t)&&(n in r||n in Ae))return!1;if(q&&!U[t]&&Tb(M,t));else if(V&&Tb(P,t));else if(!z[t]||U[t]){if(!(We(e)&&(W.tagNameCheck instanceof RegExp&&Tb(W.tagNameCheck,e)||W.tagNameCheck instanceof Function&&W.tagNameCheck(e))&&(W.attributeNameCheck instanceof RegExp&&Tb(W.attributeNameCheck,t)||W.attributeNameCheck instanceof Function&&W.attributeNameCheck(t,e))||"is"===t&&W.allowCustomizedBuiltInElements&&(W.tagNameCheck instanceof RegExp&&Tb(W.tagNameCheck,n)||W.tagNameCheck instanceof Function&&W.tagNameCheck(n))))return!1}else if(he[t]);else if(Tb(R,Sb(n,L,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==Cb(n,"data:")||!de[e])if(G&&!Tb(D,Sb(n,L,"")));else if(n)return!1;return!0},We=function(e){return"annotation-xml"!==e&&kb(e,I)},$e=function(e){He(A.beforeSanitizeAttributes,e,null);const{attributes:t}=e;if(!t||Re(e))return;const r={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:z,forceKeepAttr:void 0};let a=t.length;for(;a--;){const s=t[a],{name:o,namespaceURI:l,value:c}=s,d=Ce(o),u=c;let h="value"===o?u:_b(u);if(r.attrName=d,r.attrValue=h,r.keepAttr=!0,r.forceKeepAttr=void 0,He(A.uponSanitizeAttribute,e,r),h=r.attrValue,!ae||"id"!==d&&"name"!==d||(De(o,e),h="user-content-"+h),J&&Tb(/((--!?|])>)|<\/(style|title|textarea)/i,h)){De(o,e);continue}if("attributename"===d&&kb(h,"href")){De(o,e);continue}if(r.forceKeepAttr)continue;if(!r.keepAttr){De(o,e);continue}if(!Y&&Tb(/\/>/i,h)){De(o,e);continue}K&&xb([T,O,E],e=>{h=Sb(h,e," ")});const p=Ce(e.nodeName);if(Be(p,d,h)){if(w&&"object"==typeof m&&"function"==typeof m.getAttributeType)if(l);else switch(m.getAttributeType(p,d)){case"TrustedHTML":h=w.createHTML(h);break;case"TrustedScriptURL":h=w.createScriptURL(h)}if(h!==u)try{l?e.setAttributeNS(l,o,h):e.setAttribute(o,h),Re(e)?Pe(e):yb(n.removed)}catch(i){De(o,e)}}else De(o,e)}He(A.afterSanitizeAttributes,e,null)},Ue=function e(t){let n=null;const r=Ie(t);for(He(A.beforeSanitizeShadowDOM,t,null);n=r.nextNode();)He(A.uponSanitizeShadowNode,n,null),ze(n),$e(n),n.content instanceof s&&e(n.content);He(A.afterSanitizeShadowDOM,t,null)};return n.sanitize=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=null,i=null,o=null,c=null;if(be=!e,be&&(e="\x3c!--\x3e"),"string"!=typeof e&&!Fe(e)){if("function"!=typeof e.toString)throw Ob("toString is not a function");if("string"!=typeof(e=e.toString()))throw Ob("dirty is not a string, aborting")}if(!n.isSupported)return e;if(Q||Oe(t),n.removed=[],"string"==typeof e&&(se=!1),se){if(e.nodeName){const t=Ce(e.nodeName);if(!F[t]||$[t])throw Ob("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof l)r=Le("\x3c!----\x3e"),i=r.ownerDocument.importNode(e,!0),1===i.nodeType&&"BODY"===i.nodeName||"HTML"===i.nodeName?r=i:r.appendChild(i);else{if(!ee&&!K&&!X&&-1===e.indexOf("<"))return w&&ne?w.createHTML(e):e;if(r=Le(e),!r)return ee?null:ne?j:""}r&&Z&&Pe(r.firstChild);const d=Ie(se?e:r);for(;o=d.nextNode();)ze(o),$e(o),o.content instanceof s&&Ue(o.content);if(se)return e;if(ee){if(te)for(c=S.call(r.ownerDocument);r.firstChild;)c.appendChild(r.firstChild);else c=r;return(z.shadowroot||z.shadowrootmode)&&(c=_.call(a,c,!0)),c}let u=X?r.outerHTML:r.innerHTML;return X&&F["!doctype"]&&r.ownerDocument&&r.ownerDocument.doctype&&r.ownerDocument.doctype.name&&Tb(ny,r.ownerDocument.doctype.name)&&(u="<!DOCTYPE "+r.ownerDocument.doctype.name+">\n"+u),K&&xb([T,O,E],e=>{u=Sb(u,e," ")}),w&&ne?w.createHTML(u):u},n.setConfig=function(){Oe(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),Q=!0},n.clearConfig=function(){_e=null,Q=!1},n.isValidAttribute=function(e,t,n){_e||Oe({});const r=Ce(e),a=Ce(t);return Be(r,a,n)},n.addHook=function(e,t){"function"==typeof t&&vb(A[e],t)},n.removeHook=function(e,t){if(void 0!==t){const n=bb(A[e],t);return-1===n?void 0:wb(A[e],n,1)[0]}return yb(A[e])},n.removeHooks=function(e){A[e]=[]},n.removeAllHooks=function(){A={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}},n}();const sy=Object.freeze(Object.defineProperty({__proto__:null,default:iy},Symbol.toStringTag,{value:"Module"})),oy=({title:e,value:t,change:n,icon:r})=>{const a=n.startsWith("+");return h.jsxs(kc.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[h.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:e}),h.jsx("p",{className:"text-3xl font-bold text-gray-900",children:t})]}),h.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:r})]}),h.jsxs("p",{className:"mt-3 text-xs font-semibold "+(a?"text-green-600":"text-red-600"),children:[n," from last month"]})]})},ly=({isOpen:e,onClose:t,title:n,children:r,className:a,maxWidth:i="max-w-xl"})=>h.jsx(Mi,{children:e&&h.jsx(kc.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:h.jsxs(kc.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${i} ${a||"w-full"}`,children:[h.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[h.jsx("h2",{className:"text-xl font-bold text-gray-800",children:n}),h.jsx("button",{onClick:t,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:h.jsx(Pu,{className:"text-xl"})})]}),h.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:r})]})})}),cy=(e,t,n,r)=>{if(null==e||null==t||null==n||null==r)return null;const a=60*e+t,i=60*n+r;let s=Math.abs(i-a);return s>720&&(s=1440-s),s},dy=e=>{if(null==e||isNaN(e)||e<0)return"-";const t=Math.floor(e/60),n=e%60;return 0===e?"0min":0===t&&n>0?`${n}min`:t>0&&0===n?`${t}h`:`${t}h ${n}min`},uy=({record:e,onClose:t})=>{const n=(e,t)=>null==e||null==t?"-":`${e.toString().padStart(2,"0")}:${t.toString().padStart(2,"0")}`,r=e=>null==e?"-":"object"==typeof e?e.name||JSON.stringify(e):"string"==typeof e?""!==e.trim()?e.trim():"-":"number"==typeof e?e.toLocaleString("id-ID"):String(e),a=cy(e.stopJam,e.stopMenit,e.startJam,e.startMenit),i=dy(a),s=({status:e})=>h.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold border ${{PM:"bg-blue-100 text-blue-800 border-blue-300",Harmonisasi:"bg-green-100 text-green-800 border-green-300",CIP:"bg-purple-100 text-purple-800 border-purple-300",Unplanned:"bg-red-100 text-red-800 border-red-300",Standby:"bg-yellow-100 text-yellow-800 border-yellow-300"}[e]||"bg-gray-100 text-gray-800 border-gray-300"}`,children:e}),o=({activity:e})=>h.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold border ${{Perbaikan:"bg-orange-100 text-orange-800 border-orange-300",Perawatan:"bg-cyan-100 text-cyan-800 border-cyan-300"}[e]||"bg-gray-100 text-gray-800 border-gray-300"}`,children:e}),l=({title:e,children:t,icon:n})=>h.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[h.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-4 border-b border-gray-200",children:h.jsxs("div",{className:"flex items-center",children:[n&&h.jsx("div",{className:"mr-3 text-blue-600",children:n}),h.jsx("h3",{className:"text-lg font-bold text-gray-900",children:e})]})}),h.jsx("div",{className:"p-6",children:t})]}),c=({label:e,value:t,icon:n,fullWidth:r=!1,priority:a="medium"})=>h.jsx("div",{className:r?"col-span-full":"",children:h.jsx("div",{className:`p-4 rounded-lg ${{high:"border-l-4 border-l-blue-500 bg-blue-25",medium:"border-l-2 border-l-gray-200",low:"border-l border-l-gray-100"}[a]} transition-all duration-200 hover:shadow-sm`,children:h.jsxs("div",{className:"flex items-start space-x-3",children:[n&&h.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:n}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1",children:e}),h.jsx("p",{className:"text-sm font-medium text-gray-900 leading-relaxed",children:t})]})]})})}),d=({label:e,htmlContent:t,icon:n,fullWidth:r=!1})=>{if(!t)return h.jsx(c,{label:e,value:"-",icon:n,fullWidth:r,priority:"low"});const a=iy.sanitize(t,{ALLOWED_TAGS:["h1","h2","h3","h4","h5","h6","p","br","span","div","ol","ul","li","strong","b","em","i","u","s","strike","code","mark","sub","sup","blockquote","pre"],ALLOWED_ATTR:["style","class","data-color","align","type","start"]});return h.jsx("div",{className:r?"col-span-full":"",children:h.jsx("div",{className:"p-4 rounded-lg border-l-2 border-l-blue-200 bg-blue-25 transition-all duration-200 hover:shadow-sm",children:h.jsxs("div",{className:"flex items-start space-x-3",children:[n&&h.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:n}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:e}),h.jsx("div",{className:"rich-text-content text-sm text-gray-900 leading-relaxed prose prose-sm max-w-none\r\n                          prose-headings:font-semibold prose-p:my-2 prose-ul:my-2 prose-ol:my-2\r\n                          prose-li:my-1 prose-strong:font-semibold prose-em:italic",dangerouslySetInnerHTML:{__html:a}})]})]})})})};return h.jsxs("div",{className:"space-y-6 max-h-[70vh] overflow-y-auto custom-scrollbar pr-2",children:[h.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6",children:h.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[h.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Maintenance Record"}),h.jsx(o,{activity:e.perbaikanPerawatan}),h.jsx(s,{status:e.stopTime})]}),h.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[h.jsxs("span",{className:"flex items-center gap-2",children:[h.jsx(Vc,{className:"w-4 h-4"}),"Date: ",r(e.date)]}),h.jsxs("span",{className:"flex items-center gap-2",children:[h.jsx(id,{className:"w-4 h-4"}),"Duration: ",r(i)]}),h.jsxs("span",{className:"flex items-center gap-2",children:[h.jsx(Mu,{className:"w-4 h-4"}),"Machine: ",r(e.mesin)]})]})]})})}),h.jsx(l,{title:"Basic Information",icon:h.jsx(ad,{className:"w-5 h-5"}),children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[h.jsx(c,{label:"Date",value:r(e.date),icon:h.jsx(Vc,{className:"w-4 h-4"}),priority:"high"}),h.jsx(c,{label:"Shift",value:r(e.shift),icon:h.jsx(id,{className:"w-4 h-4"})}),h.jsx(c,{label:"Group",value:r(e.group),icon:h.jsx(Ou,{className:"w-4 h-4"})}),h.jsx(c,{label:"Machine",value:r(e.mesin),icon:h.jsx(hu,{className:"w-4 h-4"}),priority:"high"}),h.jsx(c,{label:"Unit",value:r(e.unit),icon:h.jsx(Jd,{className:"w-4 h-4"})}),h.jsx(c,{label:"Running Hour",value:r(e.runningHour),icon:h.jsx(id,{className:"w-4 h-4"})})]})}),h.jsx(l,{title:"Time Details",icon:h.jsx(id,{className:"w-5 h-5"}),children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[h.jsx(c,{label:"Stop Time",value:n(e.stopJam,e.stopMenit),icon:h.jsx(id,{className:"w-4 h-4"}),priority:"high"}),h.jsx(c,{label:"Start Time",value:n(e.startJam,e.startMenit),icon:h.jsx(id,{className:"w-4 h-4"}),priority:"high"}),h.jsx(c,{label:"Duration",value:r(i),icon:h.jsx(id,{className:"w-4 h-4"}),priority:"high"}),h.jsx(c,{label:"Stop Type",value:r(e.stopTime),icon:h.jsx(ju,{className:"w-4 h-4"})})]})}),h.jsx(l,{title:"Issue & Problem Details",icon:h.jsx(ju,{className:"w-5 h-5"}),children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsx(c,{label:"Item Trouble",value:r(e.itemTrouble),icon:h.jsx(Mu,{className:"w-4 h-4"}),priority:"high"}),h.jsx(c,{label:"Issue Description",value:r(e.jenisGangguan),icon:h.jsx(ju,{className:"w-4 h-4"}),priority:"high"}),h.jsx(d,{label:"Action Taken",htmlContent:e.bentukTindakan||"",icon:h.jsx(td,{className:"w-4 h-4"}),fullWidth:!0}),h.jsx(c,{label:"Root Cause",value:r(e.rootCause),icon:h.jsx(uu,{className:"w-4 h-4"}),fullWidth:!0})]})}),h.jsx(l,{title:"Maintenance Activity",icon:h.jsx(Mu,{className:"w-5 h-5"}),children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsx(c,{label:"Activity Type",value:r(e.perbaikanPerawatan),icon:h.jsx(hu,{className:"w-4 h-4"}),priority:"high"}),h.jsx(c,{label:"Specific Activity",value:r(e.jenisAktivitas),icon:h.jsx(Mu,{className:"w-4 h-4"})}),h.jsx(c,{label:"Kegiatan",value:r(e.kegiatan),icon:h.jsx(ad,{className:"w-4 h-4"}),fullWidth:!0})]})}),h.jsx(l,{title:"Spare Parts Used",icon:h.jsx(Jd,{className:"w-5 h-5"}),children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[h.jsx(c,{label:"Part Code",value:r(e.kodePart),icon:h.jsx(Jd,{className:"w-4 h-4"})}),h.jsx(c,{label:"Part Name",value:r(e.sparePart),icon:h.jsx(Jd,{className:"w-4 h-4"}),priority:"high"}),h.jsx(c,{label:"ID Part",value:r(e.idPart),icon:h.jsx(Pd,{className:"w-4 h-4"})}),h.jsx(c,{label:"Quantity",value:r(e.jumlah),icon:h.jsx(Kc,{className:"w-4 h-4"})}),h.jsx(c,{label:"Unit",value:r(e.unitSparePart),icon:h.jsx(Jd,{className:"w-4 h-4"}),fullWidth:!0})]})}),h.jsx(l,{title:"Event Timeline",icon:h.jsx(id,{className:"w-5 h-5"}),children:h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{className:"flex justify-between items-center p-3 bg-red-50 rounded-lg border border-red-200",children:[h.jsx("span",{className:"text-sm font-medium text-red-800",children:"Machine Stopped"}),h.jsx("span",{className:"text-sm text-red-600",children:n(e.stopJam,e.stopMenit)})]}),h.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg border border-blue-200",children:[h.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Maintenance Started"}),h.jsx("span",{className:"text-sm text-blue-600",children:n(e.startJam,e.startMenit)})]}),h.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-lg border border-green-200",children:[h.jsx("span",{className:"text-sm font-medium text-green-800",children:"Total Downtime"}),h.jsx("span",{className:"text-sm text-green-600",children:r(i)})]})]})}),h.jsx(l,{title:"Technical Summary",icon:h.jsx(Kc,{className:"w-5 h-5"}),children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{className:"p-4 bg-blue-25 rounded-lg border-l-4 border-l-blue-400",children:[h.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Maintenance Type"}),h.jsx("p",{className:"text-lg font-bold text-blue-600",children:r(e.perbaikanPerawatan)})]}),h.jsxs("div",{className:"p-4 bg-green-25 rounded-lg border-l-4 border-l-green-400",children:[h.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Efficiency Impact"}),h.jsxs("p",{className:"text-lg font-bold text-green-600",children:[r(i)," downtime"]})]})]})}),h.jsx("div",{className:"flex justify-end pt-6 border-t border-gray-100 mt-8",children:h.jsx(kc.button,{type:"button",onClick:t,whileHover:{scale:1.03,boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.97},className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold",children:"Close Details"})})]})},hy=()=>{const[e,t]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return!!e&&JSON.parse(e)}),[n,r]=x.useState(""),[a,i]=x.useState(!1),[s,o]=x.useState([]),[l,c]=x.useState([]),[d,u]=x.useState(!1),[p,m]=x.useState(!1),[f,g]=x.useState(null),[y,v]=x.useState(1),[w]=x.useState(10),{user:j,getMachineHistories:N,deleteMachineHistory:k,isAuthenticated:S,isMasterDataLoading:C,hasPermission:_}=gt(),[A,T]=x.useState([]),[O,E]=x.useState([]),[M,P]=x.useState(!0),[D,L]=x.useState(null),[I,R]=x.useState([]),F=je(),[H,z]=x.useState(window.innerWidth<768),[B,W]=x.useState(!1),[$,U]=x.useState(null),[V,q]=x.useState(null),[G,Y]=x.useState(null),[K,J]=x.useState([]),[X,Q]=x.useState(!1),[Z,ee]=x.useState(!1),te=x.useRef(null),ne=x.useRef(null),[re,ae]=x.useState({key:"date",direction:"descending"}),[ie,se]=x.useState(!1),oe=x.useRef(null),le=x.useRef(null),[ce,de]=x.useState(!1),[ue,he]=x.useState(!1),[pe,me]=x.useState(null),[fe,ge]=x.useState(!1),xe=x.useRef(null),[be,ye]=x.useState(!1),ve=x.useRef(null),we="/machinehistory"===location.pathname,Ne="/machinehistory/reports"===location.pathname,ke=function(e){const[t,n]=x.useState(e);return x.useEffect(()=>{const t=setTimeout(()=>{n(e)},300);return()=>{clearTimeout(t)}},[e,300]),t}(n),Se=x.useMemo(()=>[{id:"machine",name:"Machine Name"},{id:"issue",name:"Issue Description"},{id:"recordId",name:"Record ID"},{id:"itemTrouble",name:"Item Trouble"}],[]),Ce=x.useMemo(()=>[{value:"Perbaikan",label:"Repairs"},{value:"Perawatan",label:"Maintenance"}],[]),_e=x.useMemo(()=>[{value:"1",label:"Shift 1"},{value:"2",label:"Shift 2"},{value:"3",label:"Shift 3"}],[]),Ae=x.useCallback(async()=>{try{P(!0);const e=await N();T(e||[]),E(e||[]);const t=Array.from(new Set(e.map(e=>e.mesin))).filter(Boolean).map(e=>({id:e,name:e}));R(t)}catch(e){T([]),R([])}finally{P(!1)}},[N]);x.useEffect(()=>{v(1)},[]),x.useEffect(()=>{Ae()},[Ae]),x.useEffect(()=>{let e=[...A];if(ke.trim()){const t=ke.toLowerCase().trim();e=e.filter(e=>{var n,r,a,i;const s=t.split(":");let o="all",l=t;s.length>1&&Se.some(e=>e.name.toLowerCase()===s[0].trim())&&(o=s[0].trim(),l=s.slice(1).join(":").trim());const c=null==(n=e.mesin)?void 0:n.toLowerCase().includes(l),d=null==(r=e.jenisGangguan)?void 0:r.toLowerCase().includes(l),u=null==(a=e.id)?void 0:a.toLowerCase().includes(l),h=null==(i=e.itemTrouble)?void 0:i.toLowerCase().includes(l);return"machine name"===o?c:"issue description"===o?d:"record id"===o?u:"item trouble"===o?h:c||d||u||h})}if(V){const t=new Date(V);t.setHours(0,0,0,0),e=e.filter(e=>{const n=new Date(e.date);return n.setHours(0,0,0,0),n>=t})}if(G){const t=new Date(G);t.setHours(23,59,59,999),e=e.filter(e=>{const n=new Date(e.date);return n.setHours(0,0,0,0),n<=t})}s.length>0&&(e=e.filter(e=>s.includes(e.perbaikanPerawatan))),l.length>0&&(e=e.filter(e=>l.includes(e.mesin))),K.length>0&&(e=e.filter(e=>K.includes(e.shift))),null!==re&&e.sort((e,t)=>{const n=Oe(e[re.key]),r=Oe(t[re.key]);return n<r?"ascending"===re.direction?-1:1:n>r?"ascending"===re.direction?1:-1:0}),E(e)},[A,ke,V,G,s,l,K,re,Se,Ce,_e]),x.useEffect(()=>{const e=()=>{z(window.innerWidth<768),window.innerWidth<768&&t(!1)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),x.useEffect(()=>{const e=e=>{te.current&&!te.current.contains(e.target)&&Q(!1),ne.current&&!ne.current.contains(e.target)&&ee(!1),!oe.current||oe.current.contains(e.target)||e.target.closest(".search-suggestions")||se(!1),!le.current||le.current.contains(e.target)||e.target.closest(".machine-filter-toggle")||de(!1),!xe.current||xe.current.contains(e.target)||e.target.closest(".status-filter-toggle")||ge(!1),!ve.current||ve.current.contains(e.target)||e.target.closest(".shift-filter-toggle")||ye(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);const Te=b.useMemo(()=>{if(!n)return Se;const e=n.toLowerCase();return Se.filter(t=>t.name.toLowerCase().includes(e))},[n,Se]),Oe=e=>"object"==typeof e&&null!==e?e.name||e.toString():(null==e?void 0:e.toString())||"",Ee=y*w,Me=Ee-w,Pe=O.slice(Me,Ee),De=Math.ceil(O.length/w),Le=e=>v(e),Ie=(e,t)=>null==e||null==t?"-":`${e.toString().padStart(2,"0")}:${t.toString().padStart(2,"0")}`,Re=e=>{const t=cy(e.stopJam,e.stopMenit,e.startJam,e.startMenit);return dy(t)},Fe=e=>{switch((e||"").toLowerCase().trim()){case"pm":return"bg-blue-100 text-blue-800 border border-blue-200";case"harmonisasi":return"bg-green-100 text-green-800 border border-green-200";case"cip":return"bg-purple-100 text-purple-800 border border-purple-200";case"unplanned":return"bg-red-100 text-red-800 border border-red-200";case"standby":return"bg-yellow-100 text-yellow-800 border border-yellow-200";default:return"bg-gray-100 text-gray-800 border border-gray-200"}};return h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[h.jsx(Lu,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Fu,{mainTitle:"Machine History",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:h.jsx(Gc,{}),isMobile:H,toggleSidebar:()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!e)),t(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[h.jsxs(kc.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"isi style mb-6 flex space-x-6 border-b border-gray-200",children:[h.jsx(kc.div,{whileTap:{scale:.98},onClick:()=>F("machinehistory"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${we?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Record"}),h.jsx(kc.div,{whileTap:{scale:.98},onClick:()=>F("/machinehistory/reports"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${Ne?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Reports"})]}),h.jsxs(kc.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[h.jsxs("div",{children:[h.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Machine History ",h.jsx("span",{className:"text-blue-600",children:"Records"})]}),h.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Effortlessly track, analyze, and manage machine downtime and maintenance activities to optimize factory operations."})]}),h.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[_("create_machine_history")&&h.jsxs(kc.button,{onClick:()=>F("/machinehistory/addmachinehistory"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[h.jsx(nu,{className:"text-base"}),h.jsx("span",{children:"Add Record"})]}),h.jsxs(kc.button,{onClick:()=>{alert("Import functionality is not yet implemented.")},whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[h.jsx(Su,{className:"text-base"}),h.jsx("span",{children:"Import"})]}),h.jsxs(kc.button,{onClick:()=>u(!d),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[h.jsx(vd,{className:"text-base"}),h.jsx("span",{children:"Filters"}),h.jsx(kc.span,{animate:{rotate:d?180:0},transition:{duration:.2},children:h.jsx(Jc,{className:"text-base"})})]})]})]}),h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[h.jsx(oy,{title:"Total Records",value:O.length.toLocaleString("id-ID"),change:"+8%",icon:h.jsx(ad,{})}),h.jsx(oy,{title:"Avg Durationtime",value:O.length>0?dy(Math.round(O.reduce((e,t)=>e+(cy(t.stopJam,t.stopMenit,t.startJam,t.startMenit)||0),0)/O.length)):"0min",change:"-5%",icon:h.jsx(id,{})}),h.jsx(oy,{title:"Repairs",value:O.filter(e=>"Perbaikan"===e.perbaikanPerawatan).length.toLocaleString("id-ID"),change:"+3",icon:h.jsx(Mu,{})}),h.jsx(oy,{title:"Maintenance",value:O.filter(e=>"Perawatan"===e.perbaikanPerawatan).length.toLocaleString("id-ID"),change:"+2",icon:h.jsx(td,{})})]}),h.jsxs(kc.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[h.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:h.jsxs("div",{className:"flex-1 relative",children:[h.jsx(uu,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),h.jsx("input",{ref:oe,type:"text",placeholder:"Search by machine, ID, or issue...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:n,onChange:e=>{const t=e.target.value;r(t)},onFocus:()=>se(!0),"aria-label":"Search records"}),h.jsx(Mi,{children:ie&&Te.length>0&&h.jsx(kc.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.15},className:"search-suggestions absolute left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-10 max-h-56 overflow-y-auto custom-scrollbar",children:Te.map(e=>h.jsx(kc.button,{onClick:()=>{return t=e.name,r(`${t}: `),se(!1),void(null==(n=oe.current)||n.focus());var t,n},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},className:"w-full text-left p-3 text-gray-700 hover:text-blue-700 transition-colors duration-150 text-sm",role:"option",children:h.jsx("span",{className:"font-semibold",children:e.name})},e.id))})})]})}),h.jsx(Mi,{children:d&&h.jsxs(kc.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full",children:[h.jsxs("div",{className:"flex items-center space-x-2 bg-white p-2.5 rounded-lg border border-blue-200 shadow-sm",children:[h.jsx(Vc,{className:"text-gray-500 text-base"}),h.jsx(ab,{selected:V,onChange:e=>q(e),selectsStart:!0,startDate:V,endDate:G,placeholderText:"Start Date",className:"w-24 focus:outline-none bg-transparent text-sm text-gray-800 placeholder-gray-400",dateFormat:"dd/MM/yyyy",isClearable:!0,"aria-label":"Start Date"}),h.jsx("span",{className:"text-gray-400",children:"-"}),h.jsx(ab,{selected:G,onChange:e=>Y(e),selectsEnd:!0,startDate:V,endDate:G,minDate:V||void 0,placeholderText:"End Date",className:"w-24 focus:outline-none bg-transparent text-sm text-gray-800 placeholder-gray-400",dateFormat:"dd/MM/yyyy",isClearable:!0,"aria-label":"End Date"}),(V||G)&&h.jsx(kc.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{q(null),Y(null)},className:"p-1 rounded-full text-gray-400 hover:bg-gray-100 transition-colors",title:"Clear Dates","aria-label":"Clear date range",children:h.jsx(Pu,{className:"text-base"})})]}),h.jsxs("div",{ref:xe,className:"relative w-full",children:[h.jsxs("button",{type:"button",className:"status-filter-toggle w-full border border-blue-200 rounded-lg px-4 py-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm text-left flex justify-between items-center transition-all duration-200 shadow-sm cursor-pointer",onClick:e=>{e.stopPropagation(),ge(!fe)},"aria-expanded":fe,"aria-haspopup":"true","aria-label":"Filter by Type",children:[h.jsx("span",{children:s.length>0?s.length===Ce.length?"All Types":`Selected (${s.length})`:"All Types"}),h.jsx(Jc,{className:`transform transition-transform ${fe?"rotate-180":"rotate-0"} text-gray-500 text-base`})]}),h.jsx(Mi,{children:fe&&h.jsxs(kc.div,{initial:{opacity:0,y:5,height:0},animate:{opacity:1,y:0,height:"auto"},exit:{opacity:0,y:5,height:0},transition:{duration:.15},className:"absolute top-full left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-50 max-h-56 overflow-y-auto custom-scrollbar",role:"listbox",children:[h.jsxs("label",{className:"flex items-center p-2.5 hover:bg-blue-50 cursor-pointer border-b border-blue-50",role:"option",children:[h.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 rounded focus:ring-blue-500 transition duration-150 ease-in-out",checked:s.length===Ce.length&&Ce.length>0,onChange:e=>{e.target.checked?o(Ce.map(e=>e.value)):o([])}}),h.jsx("span",{className:"ml-2 text-gray-800 font-semibold text-sm",children:"Select All"})]}),Ce.map(e=>h.jsxs("label",{className:"flex items-center p-2.5 hover:bg-blue-50 cursor-pointer",role:"option",children:[h.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 rounded focus:ring-blue-500 transition duration-150 ease-in-out",checked:s.includes(e.value),onChange:t=>{return n=e.value,r=t.target.checked,void o(r?e=>[...e,n]:e=>e.filter(e=>e!==n));var n,r}}),h.jsx("span",{className:"ml-2 text-gray-800 text-sm",children:e.label})]},e.value))]})})]}),h.jsxs("div",{ref:le,className:"relative w-full",children:[h.jsxs("button",{type:"button",className:"machine-filter-toggle w-full border border-blue-200 rounded-lg px-4 py-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm text-left flex justify-between items-center transition-all duration-200 shadow-sm cursor-pointer",onClick:()=>de(!ce),"aria-expanded":ce,"aria-haspopup":"true","aria-label":"Filter by Machine",children:[h.jsx("span",{children:l.length>0?l.length===I.length&&I.length>0?"All Machines":`Selected (${l.length})`:"All Machines"}),h.jsx(Jc,{className:`transform transition-transform ${ce?"rotate-180":"rotate-0"} text-gray-500 text-base`})]}),h.jsx(Mi,{children:ce&&h.jsxs(kc.div,{initial:{opacity:0,y:5,height:0},animate:{opacity:1,y:0,height:"auto"},exit:{opacity:0,y:5,height:0},transition:{duration:.15},className:"absolute top-full left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-20 max-h-56 overflow-y-auto custom-scrollbar",role:"listbox",children:[h.jsxs("label",{className:"flex items-center p-2.5 hover:bg-blue-50 cursor-pointer border-b border-blue-50",role:"option",children:[h.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 rounded focus:ring-blue-500 transition duration-150 ease-in-out",checked:l.length===I.length&&I.length>0,onChange:e=>{e.target.checked?c(I.map(e=>e.name)):c([])}}),h.jsx("span",{className:"ml-2 text-gray-800 font-semibold text-sm",children:"Select All"})]}),I.map(e=>h.jsxs("label",{className:"flex items-center p-2.5 hover:bg-blue-50 cursor-pointer",role:"option",children:[h.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 rounded focus:ring-blue-500 transition duration-150 ease-in-out",checked:l.includes(e.name),onChange:t=>{return n=e.name,r=t.target.checked,void c(r?e=>[...e,n]:e=>e.filter(e=>e!==n));var n,r}}),h.jsx("span",{className:"ml-2 text-gray-800 text-sm",children:e.name})]},e.id))]})})]}),h.jsxs("div",{ref:ve,className:"relative w-full",children:[h.jsxs("button",{type:"button",className:"shift-filter-toggle w-full border border-blue-200 rounded-lg px-4 py-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm text-left flex justify-between items-center transition-all duration-200 shadow-sm cursor-pointer",onClick:e=>{e.stopPropagation(),ye(!be)},"aria-expanded":be,"aria-haspopup":"true","aria-label":"Filter by Shift",children:[h.jsx("span",{children:K.length>0?K.length===_e.length?"All Shifts":`Selected (${K.length})`:"All Shifts"}),h.jsx(Jc,{className:`transform transition-transform ${be?"rotate-180":"rotate-0"} text-gray-500 text-base`})]}),h.jsx(Mi,{children:be&&h.jsxs(kc.div,{initial:{opacity:0,y:5,height:0},animate:{opacity:1,y:0,height:"auto"},exit:{opacity:0,y:5,height:0},transition:{duration:.15},className:"absolute top-full left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-50 max-h-56 overflow-y-auto custom-scrollbar",role:"listbox",children:[h.jsxs("label",{className:"flex items-center p-2.5 hover:bg-blue-50 cursor-pointer border-b border-blue-50",role:"option",children:[h.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 rounded focus:ring-blue-500 transition duration-150 ease-in-out",checked:K.length===_e.length&&_e.length>0,onChange:e=>{e.target.checked?J(_e.map(e=>e.value)):J([])}}),h.jsx("span",{className:"ml-2 text-gray-800 font-semibold text-sm",children:"Select All"})]}),_e.map(e=>h.jsxs("label",{className:"flex items-center p-2.5 hover:bg-blue-50 cursor-pointer",role:"option",children:[h.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 rounded focus:ring-blue-500 transition duration-150 ease-in-out",checked:K.includes(e.value),onChange:t=>{return n=e.value,r=t.target.checked,void J(r?e=>[...e,n]:e=>e.filter(e=>e!==n));var n,r}}),h.jsx("span",{className:"ml-2 text-gray-800 text-sm",children:e.label})]},e.value))]})})]})]})})]}),M?h.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[h.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),h.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading machine history data..."})]}):0===O.length?h.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[h.jsx(Ed,{className:"text-blue-500 text-4xl mx-auto mb-4"}),h.jsx("p",{className:"text-gray-700 text-base font-medium",children:ke||s.length>0||l.length>0||V||G||K.length>0?"No records found matching your filters.":"No records available."}),(ke||s.length>0||l.length>0||V||G||K.length>0)&&h.jsx("button",{onClick:()=>{r(""),o([]),c([]),q(null),Y(null),J([])},className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear All Filters"})]}):h.jsx(kc.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:h.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:h.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[h.jsx("thead",{className:"bg-blue-50",children:h.jsxs("tr",{children:[h.jsxs("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider cursor-pointer",onClick:()=>(e=>{let t="ascending";re&&re.key===e&&"ascending"===re.direction&&(t="descending"),ae({key:e,direction:t})})("date"),children:["Date","date"===(null==re?void 0:re.key)&&h.jsx("span",{className:"ml-1",children:"ascending"===re.direction?"↑":"↓"})]}),h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Machine"}),h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Shift/Group"}),h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Durationtime"}),h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Issue"}),h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Type"}),h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),h.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:Pe.map(e=>h.jsxs(kc.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[h.jsxs("td",{className:"px-5 py-3 whitespace-nowrap",children:[h.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.date}),h.jsxs("div",{className:"text-xs text-gray-600",children:[Ie(e.stopJam,e.stopMenit)," - ",Ie(e.startJam,e.startMenit)]})]}),h.jsxs("td",{className:"px-5 py-3 whitespace-nowrap",children:[h.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.mesin}),h.jsx("div",{className:"text-xs text-gray-600",children:e.unit})]}),h.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:h.jsxs("div",{className:"text-sm text-gray-900",children:["Shift ",e.shift,", Group ",e.group]})}),h.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:h.jsx("div",{className:"text-sm font-medium text-gray-900",children:Re(e)})}),h.jsxs("td",{className:"px-5 py-3",children:[h.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.itemTrouble}),h.jsx("div",{className:"text-xs text-gray-600 truncate max-w-xs",children:e.jenisGangguan})]}),h.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:h.jsx(kc.span,{whileHover:{scale:1.03},className:`px-2.5 py-0.5 inline-flex text-xs leading-5 font-bold rounded-full shadow-sm ${Fe(e.stopTime)}`,children:e.stopTime})}),h.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[h.jsx(kc.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>F(`/machinehistory/edit/${e.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit","aria-label":`Edit record for machine ${e.mesin} on ${e.date}`,children:h.jsx(gu,{className:"inline text-base"})}),h.jsx(kc.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{U(e.id),W(!0)},className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete","aria-label":`Delete record for machine ${e.mesin} on ${e.date}`,children:h.jsx(vu,{className:"inline text-base"})}),h.jsx(kc.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>(e=>{g(e),m(!0)})(e),className:"text-blue-600 hover:text-blue-800 transition-colors duration-200 p-1 rounded-full hover:bg-blue-50",title:"View Details","aria-label":`View details for record for machine ${e.mesin} on ${e.date}`,children:h.jsx(md,{className:"inline text-base"})})]})]},e.id))})]})})}),O.length>w&&h.jsxs(kc.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"mt-8 flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0",children:[h.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",h.jsx("span",{className:"font-semibold",children:Me+1})," to ",h.jsx("span",{className:"font-semibold",children:Math.min(Ee,O.length)})," of"," ",h.jsx("span",{className:"font-semibold",children:O.length})," results"]}),h.jsxs("div",{className:"flex space-x-2",children:[h.jsx(kc.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>Le(y-1),disabled:1===y,className:"px-4 py-2 border border-blue-200 rounded-md bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm font-medium text-sm","aria-label":"Previous page",children:"Previous"}),Array.from({length:De},(e,t)=>h.jsx(kc.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>Le(t+1),className:`px-3.5 py-2 rounded-md transition-colors duration-200 shadow-sm font-medium text-sm\n                      ${y===t+1?"bg-blue-600 text-white shadow-md":"bg-white text-gray-700 hover:bg-blue-50 border border-blue-200"}\n                    `,"aria-label":`Go to page ${t+1}`,children:t+1},t+1)),h.jsx(kc.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>Le(y+1),disabled:y===De,className:"px-4 py-2 border border-blue-200 rounded-md bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm font-medium text-sm","aria-label":"Next page",children:"Next"})]})]})]})]}),f&&h.jsx(ly,{isOpen:p,onClose:()=>{m(!1),g(null)},title:"Machine History Details",maxWidth:"max-w-4xl",children:h.jsx(uy,{record:f,onClose:()=>m(!1)})}),h.jsx(ly,{isOpen:B,onClose:()=>W(!1),title:"Confirm Deletion",children:h.jsxs("div",{className:"space-y-5 text-center py-3",children:[h.jsx(ju,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),h.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this record? This action cannot be undone."}),h.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[h.jsx(kc.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>W(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),h.jsx(kc.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>$&&(async e=>{try{await k(e),T(A.filter(t=>t.id!==e)),W(!1),U(null)}catch(t){L("Failed to delete record. Please try again.")}})($),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})]})};function py(e){return(py="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function my(e){var t=function(e,t){if("object"!=py(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=py(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==py(t)?t:t+""}function fy(e,t,n){return(t=my(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function xy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gy(Object(n),!0).forEach(function(t){fy(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gy(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function by(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function yy(e,t){if(e){if("string"==typeof e)return by(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?by(e,t):void 0}}function vy(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,s,o=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(d){c=!0,a=d}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}(e,t)||yy(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wy(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var jy=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function Ny(e){var t=e.defaultInputValue,n=void 0===t?"":t,r=e.defaultMenuIsOpen,a=void 0!==r&&r,i=e.defaultValue,s=void 0===i?null:i,o=e.inputValue,l=e.menuIsOpen,c=e.onChange,d=e.onInputChange,u=e.onMenuClose,h=e.onMenuOpen,p=e.value,m=wy(e,jy),f=vy(x.useState(void 0!==o?o:n),2),g=f[0],b=f[1],y=vy(x.useState(void 0!==l?l:a),2),v=y[0],w=y[1],j=vy(x.useState(void 0!==p?p:s),2),N=j[0],k=j[1],S=x.useCallback(function(e,t){"function"==typeof c&&c(e,t),k(e)},[c]),C=x.useCallback(function(e,t){var n;"function"==typeof d&&(n=d(e,t)),b(void 0!==n?n:e)},[d]),_=x.useCallback(function(){"function"==typeof h&&h(),w(!0)},[h]),A=x.useCallback(function(){"function"==typeof u&&u(),w(!1)},[u]),T=void 0!==o?o:g,O=void 0!==l?l:v,E=void 0!==p?p:N;return xy(xy({},m),{},{inputValue:T,menuIsOpen:O,onChange:S,onInputChange:C,onMenuClose:A,onMenuOpen:_,value:E})}function ky(){return ky=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ky.apply(null,arguments)}function Sy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,my(r.key),r)}}function Cy(e,t){return(Cy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function _y(e){return(_y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ay(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Ay=function(){return!!e})()}function Ty(e){return function(e){if(Array.isArray(e))return by(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||yy(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Oy=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(Ew){}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach(function(e){var t;return null==(t=e.parentNode)?void 0:t.removeChild(e)}),this.tags=[],this.ctr=0},e}(),Ey="-ms-",My="-moz-",Py="-webkit-",Dy="comm",Ly="rule",Iy="decl",Ry="@keyframes",Fy=Math.abs,Hy=String.fromCharCode,zy=Object.assign;function By(e){return e.trim()}function Wy(e,t,n){return e.replace(t,n)}function $y(e,t){return e.indexOf(t)}function Uy(e,t){return 0|e.charCodeAt(t)}function Vy(e,t,n){return e.slice(t,n)}function qy(e){return e.length}function Gy(e){return e.length}function Yy(e,t){return t.push(e),e}var Ky=1,Jy=1,Xy=0,Qy=0,Zy=0,ev="";function tv(e,t,n,r,a,i,s){return{value:e,root:t,parent:n,type:r,props:a,children:i,line:Ky,column:Jy,length:s,return:""}}function nv(e,t){return zy(tv("",null,null,"",null,null,0),e,{length:-e.length},t)}function rv(){return Zy=Qy>0?Uy(ev,--Qy):0,Jy--,10===Zy&&(Jy=1,Ky--),Zy}function av(){return Zy=Qy<Xy?Uy(ev,Qy++):0,Jy++,10===Zy&&(Jy=1,Ky++),Zy}function iv(){return Uy(ev,Qy)}function sv(){return Qy}function ov(e,t){return Vy(ev,e,t)}function lv(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function cv(e){return Ky=Jy=1,Xy=qy(ev=e),Qy=0,[]}function dv(e){return ev="",e}function uv(e){return By(ov(Qy-1,mv(91===e?e+2:40===e?e+1:e)))}function hv(e){for(;(Zy=iv())&&Zy<33;)av();return lv(e)>2||lv(Zy)>3?"":" "}function pv(e,t){for(;--t&&av()&&!(Zy<48||Zy>102||Zy>57&&Zy<65||Zy>70&&Zy<97););return ov(e,sv()+(t<6&&32==iv()&&32==av()))}function mv(e){for(;av();)switch(Zy){case e:return Qy;case 34:case 39:34!==e&&39!==e&&mv(Zy);break;case 40:41===e&&mv(e);break;case 92:av()}return Qy}function fv(e,t){for(;av()&&e+Zy!==57&&(e+Zy!==84||47!==iv()););return"/*"+ov(t,Qy-1)+"*"+Hy(47===e?e:av())}function gv(e){for(;!lv(iv());)av();return ov(e,Qy)}function xv(e){return dv(bv("",null,null,null,[""],e=cv(e),0,[0],e))}function bv(e,t,n,r,a,i,s,o,l){for(var c=0,d=0,u=s,h=0,p=0,m=0,f=1,g=1,x=1,b=0,y="",v=a,w=i,j=r,N=y;g;)switch(m=b,b=av()){case 40:if(108!=m&&58==Uy(N,u-1)){-1!=$y(N+=Wy(uv(b),"&","&\f"),"&\f")&&(x=-1);break}case 34:case 39:case 91:N+=uv(b);break;case 9:case 10:case 13:case 32:N+=hv(m);break;case 92:N+=pv(sv()-1,7);continue;case 47:switch(iv()){case 42:case 47:Yy(vv(fv(av(),sv()),t,n),l);break;default:N+="/"}break;case 123*f:o[c++]=qy(N)*x;case 125*f:case 59:case 0:switch(b){case 0:case 125:g=0;case 59+d:-1==x&&(N=Wy(N,/\f/g,"")),p>0&&qy(N)-u&&Yy(p>32?wv(N+";",r,n,u-1):wv(Wy(N," ","")+";",r,n,u-2),l);break;case 59:N+=";";default:if(Yy(j=yv(N,t,n,c,d,a,o,y,v=[],w=[],u),i),123===b)if(0===d)bv(N,t,j,j,v,i,u,o,w);else switch(99===h&&110===Uy(N,3)?100:h){case 100:case 108:case 109:case 115:bv(e,j,j,r&&Yy(yv(e,j,j,0,0,a,o,y,a,v=[],u),w),a,w,u,o,r?v:w);break;default:bv(N,j,j,j,[""],w,0,o,w)}}c=d=p=0,f=x=1,y=N="",u=s;break;case 58:u=1+qy(N),p=m;default:if(f<1)if(123==b)--f;else if(125==b&&0==f++&&125==rv())continue;switch(N+=Hy(b),b*f){case 38:x=d>0?1:(N+="\f",-1);break;case 44:o[c++]=(qy(N)-1)*x,x=1;break;case 64:45===iv()&&(N+=uv(av())),h=iv(),d=u=qy(y=N+=gv(sv())),b++;break;case 45:45===m&&2==qy(N)&&(f=0)}}return i}function yv(e,t,n,r,a,i,s,o,l,c,d){for(var u=a-1,h=0===a?i:[""],p=Gy(h),m=0,f=0,g=0;m<r;++m)for(var x=0,b=Vy(e,u+1,u=Fy(f=s[m])),y=e;x<p;++x)(y=By(f>0?h[x]+" "+b:Wy(b,/&\f/g,h[x])))&&(l[g++]=y);return tv(e,t,n,0===a?Ly:o,l,c,d)}function vv(e,t,n){return tv(e,t,n,Dy,Hy(Zy),Vy(e,2,-2),0)}function wv(e,t,n,r){return tv(e,t,n,Iy,Vy(e,0,r),Vy(e,r+1,-1),r)}function jv(e,t){for(var n="",r=Gy(e),a=0;a<r;a++)n+=t(e[a],a,e,t)||"";return n}function Nv(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case Iy:return e.return=e.return||e.value;case Dy:return"";case Ry:return e.return=e.value+"{"+jv(e.children,r)+"}";case Ly:e.value=e.props.join(",")}return qy(n=jv(e.children,r))?e.return=e.value+"{"+n+"}":""}function kv(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var Sv=function(e,t,n){for(var r=0,a=0;r=a,a=iv(),38===r&&12===a&&(t[n]=1),!lv(a);)av();return ov(e,Qy)},Cv=new WeakMap,_v=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||Cv.get(n))&&!r){Cv.set(e,!0);for(var a=[],i=function(e,t){return dv(function(e,t){var n=-1,r=44;do{switch(lv(r)){case 0:38===r&&12===iv()&&(t[n]=1),e[n]+=Sv(Qy-1,t,n);break;case 2:e[n]+=uv(r);break;case 4:if(44===r){e[++n]=58===iv()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=Hy(r)}}while(r=av());return e}(cv(e),t))}(t,a),s=n.props,o=0,l=0;o<i.length;o++)for(var c=0;c<s.length;c++,l++)e.props[l]=a[o]?i[o].replace(/&\f/g,s[c]):s[c]+" "+i[o]}}},Av=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function Tv(e,t){switch(function(e,t){return 45^Uy(e,0)?(((t<<2^Uy(e,0))<<2^Uy(e,1))<<2^Uy(e,2))<<2^Uy(e,3):0}(e,t)){case 5103:return Py+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Py+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Py+e+My+e+Ey+e+e;case 6828:case 4268:return Py+e+Ey+e+e;case 6165:return Py+e+Ey+"flex-"+e+e;case 5187:return Py+e+Wy(e,/(\w+).+(:[^]+)/,Py+"box-$1$2"+Ey+"flex-$1$2")+e;case 5443:return Py+e+Ey+"flex-item-"+Wy(e,/flex-|-self/,"")+e;case 4675:return Py+e+Ey+"flex-line-pack"+Wy(e,/align-content|flex-|-self/,"")+e;case 5548:return Py+e+Ey+Wy(e,"shrink","negative")+e;case 5292:return Py+e+Ey+Wy(e,"basis","preferred-size")+e;case 6060:return Py+"box-"+Wy(e,"-grow","")+Py+e+Ey+Wy(e,"grow","positive")+e;case 4554:return Py+Wy(e,/([^-])(transform)/g,"$1"+Py+"$2")+e;case 6187:return Wy(Wy(Wy(e,/(zoom-|grab)/,Py+"$1"),/(image-set)/,Py+"$1"),e,"")+e;case 5495:case 3959:return Wy(e,/(image-set\([^]*)/,Py+"$1$`$1");case 4968:return Wy(Wy(e,/(.+:)(flex-)?(.*)/,Py+"box-pack:$3"+Ey+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Py+e+e;case 4095:case 3583:case 4068:case 2532:return Wy(e,/(.+)-inline(.+)/,Py+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(qy(e)-1-t>6)switch(Uy(e,t+1)){case 109:if(45!==Uy(e,t+4))break;case 102:return Wy(e,/(.+:)(.+)-([^]+)/,"$1"+Py+"$2-$3$1"+My+(108==Uy(e,t+3)?"$3":"$2-$3"))+e;case 115:return~$y(e,"stretch")?Tv(Wy(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==Uy(e,t+1))break;case 6444:switch(Uy(e,qy(e)-3-(~$y(e,"!important")&&10))){case 107:return Wy(e,":",":"+Py)+e;case 101:return Wy(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Py+(45===Uy(e,14)?"inline-":"")+"box$3$1"+Py+"$2$3$1"+Ey+"$2box$3")+e}break;case 5936:switch(Uy(e,t+11)){case 114:return Py+e+Ey+Wy(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Py+e+Ey+Wy(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Py+e+Ey+Wy(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Py+e+Ey+e+e}return e}var Ov,Ev,Mv,Pv,Dv=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case Iy:e.return=Tv(e.value,e.length);break;case Ry:return jv([nv(e,{value:Wy(e.value,"@","@"+Py)})],r);case Ly:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,function(t){switch(function(e){return(e=/(::plac\w+|:read-\w+)/.exec(e))?e[0]:e}(t)){case":read-only":case":read-write":return jv([nv(e,{props:[Wy(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return jv([nv(e,{props:[Wy(t,/:(plac\w+)/,":"+Py+"input-$1")]}),nv(e,{props:[Wy(t,/:(plac\w+)/,":-moz-$1")]}),nv(e,{props:[Wy(t,/:(plac\w+)/,Ey+"input-$1")]})],r)}return""})}}],Lv=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))})}var r,a,i=e.stylisPlugins||Dv,s={},o=[];r=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)s[t[n]]=!0;o.push(e)});var l,c,d,u,h=[Nv,(u=function(e){l.insert(e)},function(e){e.root||(e=e.return)&&u(e)})],p=(c=[_v,Av].concat(i,h),d=Gy(c),function(e,t,n,r){for(var a="",i=0;i<d;i++)a+=c[i](e,t,n,r)||"";return a});a=function(e,t,n,r){l=n,jv(xv(e?e+"{"+t.styles+"}":t.styles),p),r&&(m.inserted[t.name]=!0)};var m={key:t,sheet:new Oy({key:t,container:r,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:a};return m.sheet.hydrate(o),m},Iv={exports:{}},Rv={};!function(){if(Pv)return Mv;Pv=1;var e=(Ev||(Ev=1,Iv.exports=function(){if(Ov)return Rv;Ov=1;var e="function"==typeof Symbol&&Symbol.for,t=e?Symbol.for("react.element"):60103,n=e?Symbol.for("react.portal"):60106,r=e?Symbol.for("react.fragment"):60107,a=e?Symbol.for("react.strict_mode"):60108,i=e?Symbol.for("react.profiler"):60114,s=e?Symbol.for("react.provider"):60109,o=e?Symbol.for("react.context"):60110,l=e?Symbol.for("react.async_mode"):60111,c=e?Symbol.for("react.concurrent_mode"):60111,d=e?Symbol.for("react.forward_ref"):60112,u=e?Symbol.for("react.suspense"):60113,h=e?Symbol.for("react.suspense_list"):60120,p=e?Symbol.for("react.memo"):60115,m=e?Symbol.for("react.lazy"):60116,f=e?Symbol.for("react.block"):60121,g=e?Symbol.for("react.fundamental"):60117,x=e?Symbol.for("react.responder"):60118,b=e?Symbol.for("react.scope"):60119;function y(e){if("object"==typeof e&&null!==e){var h=e.$$typeof;switch(h){case t:switch(e=e.type){case l:case c:case r:case i:case a:case u:return e;default:switch(e=e&&e.$$typeof){case o:case d:case m:case p:case s:return e;default:return h}}case n:return h}}}function v(e){return y(e)===c}return Rv.AsyncMode=l,Rv.ConcurrentMode=c,Rv.ContextConsumer=o,Rv.ContextProvider=s,Rv.Element=t,Rv.ForwardRef=d,Rv.Fragment=r,Rv.Lazy=m,Rv.Memo=p,Rv.Portal=n,Rv.Profiler=i,Rv.StrictMode=a,Rv.Suspense=u,Rv.isAsyncMode=function(e){return v(e)||y(e)===l},Rv.isConcurrentMode=v,Rv.isContextConsumer=function(e){return y(e)===o},Rv.isContextProvider=function(e){return y(e)===s},Rv.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===t},Rv.isForwardRef=function(e){return y(e)===d},Rv.isFragment=function(e){return y(e)===r},Rv.isLazy=function(e){return y(e)===m},Rv.isMemo=function(e){return y(e)===p},Rv.isPortal=function(e){return y(e)===n},Rv.isProfiler=function(e){return y(e)===i},Rv.isStrictMode=function(e){return y(e)===a},Rv.isSuspense=function(e){return y(e)===u},Rv.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===r||e===c||e===i||e===a||e===u||e===h||"object"==typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===p||e.$$typeof===s||e.$$typeof===o||e.$$typeof===d||e.$$typeof===g||e.$$typeof===x||e.$$typeof===b||e.$$typeof===f)},Rv.typeOf=y,Rv}()),Iv.exports),t={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function i(n){return e.isMemo(n)?r:a[n.$$typeof]||t}a[e.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[e.Memo]=r;var s=Object.defineProperty,o=Object.getOwnPropertyNames,l=Object.getOwnPropertySymbols,c=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,u=Object.prototype;Mv=function e(t,r,a){if("string"!=typeof r){if(u){var h=d(r);h&&h!==u&&e(t,h,a)}var p=o(r);l&&(p=p.concat(l(r)));for(var m=i(t),f=i(r),g=0;g<p.length;++g){var x=p[g];if(!(n[x]||a&&a[x]||f&&f[x]||m&&m[x])){var b=c(r,x);try{s(t,x,b)}catch(Ew){}}}}return t}}();var Fv=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},Hv={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},zv=/[A-Z]|^ms/g,Bv=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Wv=function(e){return 45===e.charCodeAt(1)},$v=function(e){return null!=e&&"boolean"!=typeof e},Uv=kv(function(e){return Wv(e)?e:e.replace(zv,"-$&").toLowerCase()}),Vv=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(Bv,function(e,t,n){return Gv={name:t,styles:n,next:Gv},t})}return 1===Hv[e]||Wv(e)||"number"!=typeof t||0===t?t:t+"px"};function qv(e,t,n){if(null==n)return"";var r=n;if(void 0!==r.__emotion_styles)return r;switch(typeof n){case"boolean":return"";case"object":var a=n;if(1===a.anim)return Gv={name:a.name,styles:a.styles,next:Gv},a.name;var i=n;if(void 0!==i.styles){var s=i.next;if(void 0!==s)for(;void 0!==s;)Gv={name:s.name,styles:s.styles,next:Gv},s=s.next;return i.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var a=0;a<n.length;a++)r+=qv(e,t,n[a])+";";else for(var i in n){var s=n[i];if("object"!=typeof s){var o=s;$v(o)&&(r+=Uv(i)+":"+Vv(i,o)+";")}else if(Array.isArray(s)&&"string"==typeof s[0]&&null==t)for(var l=0;l<s.length;l++)$v(s[l])&&(r+=Uv(i)+":"+Vv(i,s[l])+";");else{var c=qv(e,t,s);switch(i){case"animation":case"animationName":r+=Uv(i)+":"+c+";";break;default:r+=i+"{"+c+"}"}}}return r}(e,t,n);case"function":if(void 0!==e){var o=Gv,l=n(e);return Gv=o,qv(e,t,l)}}return n}var Gv,Yv=/label:\s*([^\s;{]+)\s*(;|$)/g;function Kv(e,t,n){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,a="";Gv=void 0;var i=e[0];null==i||void 0===i.raw?(r=!1,a+=qv(n,t,i)):a+=i[0];for(var s=1;s<e.length;s++)a+=qv(n,t,e[s]),r&&(a+=i[s]);Yv.lastIndex=0;for(var o,l="";null!==(o=Yv.exec(a));)l+="-"+o[1];var c=function(e){for(var t,n=0,r=0,a=e.length;a>=4;++r,a-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(a){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(a)+l;return{name:c,styles:a,next:Gv}}var Jv=!!y.useInsertionEffect&&y.useInsertionEffect||function(e){return e()},Xv=x.createContext("undefined"!=typeof HTMLElement?Lv({key:"css"}):null);Xv.Provider;var Qv,Zv,ew=function(e){return x.forwardRef(function(t,n){var r=x.useContext(Xv);return e(t,r,n)})},tw=x.createContext({}),nw={}.hasOwnProperty,rw="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",aw=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return Fv(t,n,r),Jv(function(){return function(e,t,n){Fv(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var a=t;do{e.insert(t===a?"."+r:"",a,e.sheet,!0),a=a.next}while(void 0!==a)}}(t,n,r)}),null},iw=ew(function(e,t,n){var r=e.css;"string"==typeof r&&void 0!==t.registered[r]&&(r=t.registered[r]);var a=e[rw],i=[r],s="";"string"==typeof e.className?s=function(e,t,n){var r="";return n.split(" ").forEach(function(n){void 0!==e[n]?t.push(e[n]+";"):n&&(r+=n+" ")}),r}(t.registered,i,e.className):null!=e.className&&(s=e.className+" ");var o=Kv(i,void 0,x.useContext(tw));s+=t.key+"-"+o.name;var l={};for(var c in e)nw.call(e,c)&&"css"!==c&&c!==rw&&(l[c]=e[c]);return l.className=s,n&&(l.ref=n),x.createElement(x.Fragment,null,x.createElement(aw,{cache:t,serialized:o,isStringTag:"string"==typeof a}),x.createElement(a,l))}),sw=function(e,t){var n=arguments;if(null==t||!nw.call(t,"css"))return x.createElement.apply(void 0,n);var r=n.length,a=new Array(r);a[0]=iw,a[1]=function(e,t){var n={};for(var r in t)nw.call(t,r)&&(n[r]=t[r]);return n[rw]=e,n}(e,t);for(var i=2;i<r;i++)a[i]=n[i];return x.createElement.apply(null,a)};function ow(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Kv(t)}Qv=sw||(sw={}),Zv||(Zv=Qv.JSX||(Qv.JSX={}));var lw=x.useLayoutEffect,cw=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],dw=function(){};function uw(e,t){return t?"-"===t[0]?e+t:e+"__"+t:e}function hw(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];var i=[].concat(r);if(t&&e)for(var s in t)t.hasOwnProperty(s)&&t[s]&&i.push("".concat(uw(e,s)));return i.filter(function(e){return e}).map(function(e){return String(e).trim()}).join(" ")}var pw=function(e){return t=e,Array.isArray(t)?e.filter(Boolean):"object"===py(e)&&null!==e?[e]:[];var t},mw=function(e){return e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme,xy({},wy(e,cw))},fw=function(e,t,n){var r=e.cx,a=e.getStyles,i=e.getClassNames,s=e.className;return{css:a(t,e),className:r(null!=n?n:{},i(t,e),s)}};function gw(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function xw(e){return gw(e)?window.pageYOffset:e.scrollTop}function bw(e,t){gw(e)?window.scrollTo(0,t):e.scrollTop=t}function yw(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:dw,a=xw(e),i=t-a,s=0;!function t(){var o,l=i*((o=(o=s+=10)/n-1)*o*o+1)+a;bw(e,l),s<n?window.requestAnimationFrame(t):r(e)}()}function vw(e,t){var n=e.getBoundingClientRect(),r=t.getBoundingClientRect(),a=t.offsetHeight/3;r.bottom+a>n.bottom?bw(e,Math.min(t.offsetTop+t.clientHeight-e.offsetHeight+a,e.scrollHeight)):r.top-a<n.top&&bw(e,Math.max(t.offsetTop-a,0))}function ww(){try{return document.createEvent("TouchEvent"),!0}catch(Ew){return!1}}var jw=!1,Nw={get passive(){return jw=!0}},kw="undefined"!=typeof window?window:{};kw.addEventListener&&kw.removeEventListener&&(kw.addEventListener("p",dw,Nw),kw.removeEventListener("p",dw,!1));var Sw=jw;function Cw(e){return null!=e}function _w(e,t,n){return e?t:n}var Aw=["children","innerProps"],Tw=["children","innerProps"];var Ow,Ew,Mw,Pw=function(e){return"auto"===e?"bottom":e},Dw=x.createContext(null),Lw=function(e){var t=e.children,n=e.minMenuHeight,r=e.maxMenuHeight,a=e.menuPlacement,i=e.menuPosition,s=e.menuShouldScrollIntoView,o=e.theme,l=(x.useContext(Dw)||{}).setPortalPlacement,c=x.useRef(null),d=vy(x.useState(r),2),u=d[0],h=d[1],p=vy(x.useState(null),2),m=p[0],f=p[1],g=o.spacing.controlHeight;return lw(function(){var e=c.current;if(e){var t="fixed"===i,o=function(e){var t=e.maxHeight,n=e.menuEl,r=e.minHeight,a=e.placement,i=e.shouldScroll,s=e.isFixedPosition,o=e.controlHeight,l=function(e){var t=getComputedStyle(e),n="absolute"===t.position,r=/(auto|scroll)/;if("fixed"===t.position)return document.documentElement;for(var a=e;a=a.parentElement;)if(t=getComputedStyle(a),(!n||"static"!==t.position)&&r.test(t.overflow+t.overflowY+t.overflowX))return a;return document.documentElement}(n),c={placement:"bottom",maxHeight:t};if(!n||!n.offsetParent)return c;var d,u=l.getBoundingClientRect().height,h=n.getBoundingClientRect(),p=h.bottom,m=h.height,f=h.top,g=n.offsetParent.getBoundingClientRect().top,x=s||gw(d=l)?window.innerHeight:d.clientHeight,b=xw(l),y=parseInt(getComputedStyle(n).marginBottom,10),v=parseInt(getComputedStyle(n).marginTop,10),w=g-v,j=x-f,N=w+b,k=u-b-f,S=p-x+b+y,C=b+f-v,_=160;switch(a){case"auto":case"bottom":if(j>=m)return{placement:"bottom",maxHeight:t};if(k>=m&&!s)return i&&yw(l,S,_),{placement:"bottom",maxHeight:t};if(!s&&k>=r||s&&j>=r)return i&&yw(l,S,_),{placement:"bottom",maxHeight:s?j-y:k-y};if("auto"===a||s){var A=t,T=s?w:N;return T>=r&&(A=Math.min(T-y-o,t)),{placement:"top",maxHeight:A}}if("bottom"===a)return i&&bw(l,S),{placement:"bottom",maxHeight:t};break;case"top":if(w>=m)return{placement:"top",maxHeight:t};if(N>=m&&!s)return i&&yw(l,C,_),{placement:"top",maxHeight:t};if(!s&&N>=r||s&&w>=r){var O=t;return(!s&&N>=r||s&&w>=r)&&(O=s?w-v:N-v),i&&yw(l,C,_),{placement:"top",maxHeight:O}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(a,'".'))}return c}({maxHeight:r,menuEl:e,minHeight:n,placement:a,shouldScroll:s&&!t,isFixedPosition:t,controlHeight:g});h(o.maxHeight),f(o.placement),null==l||l(o.placement)}},[r,a,i,s,n,l,g]),t({ref:c,placerProps:xy(xy({},e),{},{placement:m||Pw(a),maxHeight:u})})},Iw=function(e,t){var n=e.theme,r=n.spacing.baseUnit,a=n.colors;return xy({textAlign:"center"},t?{}:{color:a.neutral40,padding:"".concat(2*r,"px ").concat(3*r,"px")})},Rw=Iw,Fw=Iw,Hw=["size"],zw=["innerProps","isRtl","size"],Bw={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},Ww=function(e){var t=e.size,n=wy(e,Hw);return sw("svg",ky({height:t,width:t,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:Bw},n))},$w=function(e){return sw(Ww,ky({size:20},e),sw("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},Uw=function(e){return sw(Ww,ky({size:20},e),sw("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},Vw=function(e,t){var n=e.isFocused,r=e.theme,a=r.spacing.baseUnit,i=r.colors;return xy({label:"indicatorContainer",display:"flex",transition:"color 150ms"},t?{}:{color:n?i.neutral60:i.neutral20,padding:2*a,":hover":{color:n?i.neutral80:i.neutral40}})},qw=Vw,Gw=Vw,Yw=function(){var e=ow.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}(Ow||(Ew=["\n  0%, 80%, 100% { opacity: 0; }\n  40% { opacity: 1; }\n"],Mw||(Mw=Ew.slice(0)),Ow=Object.freeze(Object.defineProperties(Ew,{raw:{value:Object.freeze(Mw)}})))),Kw=function(e){var t=e.delay,n=e.offset;return sw("span",{css:ow({animation:"".concat(Yw," 1s ease-in-out ").concat(t,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:n?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},Jw=["data"],Xw=["innerRef","isDisabled","isHidden","inputClassName"],Qw={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},Zw={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":xy({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},Qw)},ej=function(e){return xy({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},Qw)},tj=function(e){var t=e.children,n=e.innerProps;return sw("div",n,t)},nj={ClearIndicator:function(e){var t=e.children,n=e.innerProps;return sw("div",ky({},fw(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),n),t||sw($w,null))},Control:function(e){var t=e.children,n=e.isDisabled,r=e.isFocused,a=e.innerRef,i=e.innerProps,s=e.menuIsOpen;return sw("div",ky({ref:a},fw(e,"control",{control:!0,"control--is-disabled":n,"control--is-focused":r,"control--menu-is-open":s}),i,{"aria-disabled":n||void 0}),t)},DropdownIndicator:function(e){var t=e.children,n=e.innerProps;return sw("div",ky({},fw(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),n),t||sw(Uw,null))},DownChevron:Uw,CrossIcon:$w,Group:function(e){var t=e.children,n=e.cx,r=e.getStyles,a=e.getClassNames,i=e.Heading,s=e.headingProps,o=e.innerProps,l=e.label,c=e.theme,d=e.selectProps;return sw("div",ky({},fw(e,"group",{group:!0}),o),sw(i,ky({},s,{selectProps:d,theme:c,getStyles:r,getClassNames:a,cx:n}),l),sw("div",null,t))},GroupHeading:function(e){var t=mw(e);t.data;var n=wy(t,Jw);return sw("div",ky({},fw(e,"groupHeading",{"group-heading":!0}),n))},IndicatorsContainer:function(e){var t=e.children,n=e.innerProps;return sw("div",ky({},fw(e,"indicatorsContainer",{indicators:!0}),n),t)},IndicatorSeparator:function(e){var t=e.innerProps;return sw("span",ky({},t,fw(e,"indicatorSeparator",{"indicator-separator":!0})))},Input:function(e){var t=e.cx,n=e.value,r=mw(e),a=r.innerRef,i=r.isDisabled,s=r.isHidden,o=r.inputClassName,l=wy(r,Xw);return sw("div",ky({},fw(e,"input",{"input-container":!0}),{"data-value":n||""}),sw("input",ky({className:t({input:!0},o),ref:a,style:ej(s),disabled:i},l)))},LoadingIndicator:function(e){var t=e.innerProps,n=e.isRtl,r=e.size,a=void 0===r?4:r,i=wy(e,zw);return sw("div",ky({},fw(xy(xy({},i),{},{innerProps:t,isRtl:n,size:a}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),t),sw(Kw,{delay:0,offset:n}),sw(Kw,{delay:160,offset:!0}),sw(Kw,{delay:320,offset:!n}))},Menu:function(e){var t=e.children,n=e.innerRef,r=e.innerProps;return sw("div",ky({},fw(e,"menu",{menu:!0}),{ref:n},r),t)},MenuList:function(e){var t=e.children,n=e.innerProps,r=e.innerRef,a=e.isMulti;return sw("div",ky({},fw(e,"menuList",{"menu-list":!0,"menu-list--is-multi":a}),{ref:r},n),t)},MenuPortal:function(e){var t=e.appendTo,n=e.children,r=e.controlElement,a=e.innerProps,i=e.menuPlacement,s=e.menuPosition,o=x.useRef(null),l=x.useRef(null),c=vy(x.useState(Pw(i)),2),d=c[0],u=c[1],h=x.useMemo(function(){return{setPortalPlacement:u}},[]),p=vy(x.useState(null),2),m=p[0],f=p[1],g=x.useCallback(function(){if(r){var e=function(e){var t=e.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}(r),t="fixed"===s?0:window.pageYOffset,n=e[d]+t;n===(null==m?void 0:m.offset)&&e.left===(null==m?void 0:m.rect.left)&&e.width===(null==m?void 0:m.rect.width)||f({offset:n,rect:e})}},[r,s,d,null==m?void 0:m.offset,null==m?void 0:m.rect.left,null==m?void 0:m.rect.width]);lw(function(){g()},[g]);var b=x.useCallback(function(){"function"==typeof l.current&&(l.current(),l.current=null),r&&o.current&&(l.current=tg(r,o.current,g,{elementResize:"ResizeObserver"in window}))},[r,g]);lw(function(){b()},[b]);var y=x.useCallback(function(e){o.current=e,b()},[b]);if(!t&&"fixed"!==s||!m)return null;var v=sw("div",ky({ref:y},fw(xy(xy({},e),{},{offset:m.offset,position:s,rect:m.rect}),"menuPortal",{"menu-portal":!0}),a),n);return sw(Dw.Provider,{value:h},t?ct.createPortal(v,t):v)},LoadingMessage:function(e){var t=e.children,n=void 0===t?"Loading...":t,r=e.innerProps,a=wy(e,Tw);return sw("div",ky({},fw(xy(xy({},a),{},{children:n,innerProps:r}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),r),n)},NoOptionsMessage:function(e){var t=e.children,n=void 0===t?"No options":t,r=e.innerProps,a=wy(e,Aw);return sw("div",ky({},fw(xy(xy({},a),{},{children:n,innerProps:r}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),r),n)},MultiValue:function(e){var t=e.children,n=e.components,r=e.data,a=e.innerProps,i=e.isDisabled,s=e.removeProps,o=e.selectProps,l=n.Container,c=n.Label,d=n.Remove;return sw(l,{data:r,innerProps:xy(xy({},fw(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":i})),a),selectProps:o},sw(c,{data:r,innerProps:xy({},fw(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:o},t),sw(d,{data:r,innerProps:xy(xy({},fw(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(t||"option")},s),selectProps:o}))},MultiValueContainer:tj,MultiValueLabel:tj,MultiValueRemove:function(e){var t=e.children,n=e.innerProps;return sw("div",ky({role:"button"},n),t||sw($w,{size:14}))},Option:function(e){var t=e.children,n=e.isDisabled,r=e.isFocused,a=e.isSelected,i=e.innerRef,s=e.innerProps;return sw("div",ky({},fw(e,"option",{option:!0,"option--is-disabled":n,"option--is-focused":r,"option--is-selected":a}),{ref:i,"aria-disabled":n},s),t)},Placeholder:function(e){var t=e.children,n=e.innerProps;return sw("div",ky({},fw(e,"placeholder",{placeholder:!0}),n),t)},SelectContainer:function(e){var t=e.children,n=e.innerProps,r=e.isDisabled,a=e.isRtl;return sw("div",ky({},fw(e,"container",{"--is-disabled":r,"--is-rtl":a}),n),t)},SingleValue:function(e){var t=e.children,n=e.isDisabled,r=e.innerProps;return sw("div",ky({},fw(e,"singleValue",{"single-value":!0,"single-value--is-disabled":n}),r),t)},ValueContainer:function(e){var t=e.children,n=e.innerProps,r=e.isMulti,a=e.hasValue;return sw("div",ky({},fw(e,"valueContainer",{"value-container":!0,"value-container--is-multi":r,"value-container--has-value":a}),n),t)}},rj=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function aj(e,t){return e===t||!(!rj(e)||!rj(t))}function ij(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!aj(e[n],t[n]))return!1;return!0}for(var sj={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},oj=function(e){return sw("span",ky({css:sj},e))},lj={guidance:function(e){var t=e.isSearchable,n=e.isMulti,r=e.tabSelectsValue,a=e.context,i=e.isInitialFocus;switch(a){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(r?", press Tab to select the option and exit the menu":"",".");case"input":return i?"".concat(e["aria-label"]||"Select"," is focused ").concat(t?",type to refine list":"",", press Down to open the menu, ").concat(n?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var t=e.action,n=e.label,r=void 0===n?"":n,a=e.labels,i=e.isDisabled;switch(t){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(r,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(a.length>1?"s":""," ").concat(a.join(","),", selected.");case"select-option":return"option ".concat(r,i?" is disabled. Select another option.":", selected.");default:return""}},onFocus:function(e){var t=e.context,n=e.focused,r=e.options,a=e.label,i=void 0===a?"":a,s=e.selectValue,o=e.isDisabled,l=e.isSelected,c=e.isAppleDevice,d=function(e,t){return e&&e.length?"".concat(e.indexOf(t)+1," of ").concat(e.length):""};if("value"===t&&s)return"value ".concat(i," focused, ").concat(d(s,n),".");if("menu"===t&&c){var u=o?" disabled":"",h="".concat(l?" selected":"").concat(u);return"".concat(i).concat(h,", ").concat(d(r,n),".")}return""},onFilter:function(e){var t=e.inputValue,n=e.resultsMessage;return"".concat(n).concat(t?" for search term "+t:"",".")}},cj=function(e){var t=e.ariaSelection,n=e.focusedOption,r=e.focusedValue,a=e.focusableOptions,i=e.isFocused,s=e.selectValue,o=e.selectProps,l=e.id,c=e.isAppleDevice,d=o.ariaLiveMessages,u=o.getOptionLabel,h=o.inputValue,p=o.isMulti,m=o.isOptionDisabled,f=o.isSearchable,g=o.menuIsOpen,b=o.options,y=o.screenReaderStatus,v=o.tabSelectsValue,w=o.isLoading,j=o["aria-label"],N=o["aria-live"],k=x.useMemo(function(){return xy(xy({},lj),d||{})},[d]),S=x.useMemo(function(){var e,n="";if(t&&k.onChange){var r=t.option,a=t.options,i=t.removedValue,o=t.removedValues,l=t.value,c=i||r||(e=l,Array.isArray(e)?null:e),d=c?u(c):"",h=a||o||void 0,p=h?h.map(u):[],f=xy({isDisabled:c&&m(c,s),label:d,labels:p},t);n=k.onChange(f)}return n},[t,k,m,s,u]),C=x.useMemo(function(){var e="",t=n||r,i=!!(n&&s&&s.includes(n));if(t&&k.onFocus){var o={focused:t,label:u(t),isDisabled:m(t,s),isSelected:i,options:a,context:t===n?"menu":"value",selectValue:s,isAppleDevice:c};e=k.onFocus(o)}return e},[n,r,u,m,k,a,s,c]),_=x.useMemo(function(){var e="";if(g&&b.length&&!w&&k.onFilter){var t=y({count:a.length});e=k.onFilter({inputValue:h,resultsMessage:t})}return e},[a,h,g,k,b,y,w]),A="initial-input-focus"===(null==t?void 0:t.action),T=x.useMemo(function(){var e="";if(k.guidance){var t=r?"value":g?"menu":"input";e=k.guidance({"aria-label":j,context:t,isDisabled:n&&m(n,s),isMulti:p,isSearchable:f,tabSelectsValue:v,isInitialFocus:A})}return e},[j,n,r,p,m,f,g,k,s,v,A]),O=sw(x.Fragment,null,sw("span",{id:"aria-selection"},S),sw("span",{id:"aria-focused"},C),sw("span",{id:"aria-results"},_),sw("span",{id:"aria-guidance"},T));return sw(x.Fragment,null,sw(oj,{id:l},A&&O),sw(oj,{"aria-live":N,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},i&&!A&&O))},dj=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],uj=new RegExp("["+dj.map(function(e){return e.letters}).join("")+"]","g"),hj={},pj=0;pj<dj.length;pj++)for(var mj=dj[pj],fj=0;fj<mj.letters.length;fj++)hj[mj.letters[fj]]=mj.base;var gj=function(e){return e.replace(uj,function(e){return hj[e]})},xj=function(e,t){void 0===t&&(t=ij);var n=null;function r(){for(var r=[],a=0;a<arguments.length;a++)r[a]=arguments[a];if(n&&n.lastThis===this&&t(r,n.lastArgs))return n.lastResult;var i=e.apply(this,r);return n={lastResult:i,lastArgs:r,lastThis:this},i}return r.clear=function(){n=null},r}(gj),bj=function(e){return e.replace(/^\s+|\s+$/g,"")},yj=function(e){return"".concat(e.label," ").concat(e.value)},vj=["innerRef"];function wj(e){var t=e.innerRef,n=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Object.entries(e).filter(function(e){var t=vy(e,1)[0];return!n.includes(t)}).reduce(function(e,t){var n=vy(t,2),r=n[0],a=n[1];return e[r]=a,e},{})}(wy(e,vj),"onExited","in","enter","exit","appear");return sw("input",ky({ref:t},n,{css:ow({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var jj=["boxSizing","height","overflow","paddingRight","position"],Nj={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function kj(e){e.cancelable&&e.preventDefault()}function Sj(e){e.stopPropagation()}function Cj(){var e=this.scrollTop,t=this.scrollHeight,n=e+this.offsetHeight;0===e?this.scrollTop=1:n===t&&(this.scrollTop=e-1)}function _j(){return"ontouchstart"in window||navigator.maxTouchPoints}var Aj=!("undefined"==typeof window||!window.document||!window.document.createElement),Tj=0,Oj={capture:!1,passive:!1},Ej=function(e){var t=e.target;return t.ownerDocument.activeElement&&t.ownerDocument.activeElement.blur()},Mj={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function Pj(e){var t=e.children,n=e.lockEnabled,r=e.captureEnabled,a=function(e){var t=e.isEnabled,n=e.onBottomArrive,r=e.onBottomLeave,a=e.onTopArrive,i=e.onTopLeave,s=x.useRef(!1),o=x.useRef(!1),l=x.useRef(0),c=x.useRef(null),d=x.useCallback(function(e,t){if(null!==c.current){var l=c.current,d=l.scrollTop,u=l.scrollHeight,h=l.clientHeight,p=c.current,m=t>0,f=u-h-d,g=!1;f>t&&s.current&&(r&&r(e),s.current=!1),m&&o.current&&(i&&i(e),o.current=!1),m&&t>f?(n&&!s.current&&n(e),p.scrollTop=u,g=!0,s.current=!0):!m&&-t>d&&(a&&!o.current&&a(e),p.scrollTop=0,g=!0,o.current=!0),g&&function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()}(e)}},[n,r,a,i]),u=x.useCallback(function(e){d(e,e.deltaY)},[d]),h=x.useCallback(function(e){l.current=e.changedTouches[0].clientY},[]),p=x.useCallback(function(e){var t=l.current-e.changedTouches[0].clientY;d(e,t)},[d]),m=x.useCallback(function(e){if(e){var t=!!Sw&&{passive:!1};e.addEventListener("wheel",u,t),e.addEventListener("touchstart",h,t),e.addEventListener("touchmove",p,t)}},[p,h,u]),f=x.useCallback(function(e){e&&(e.removeEventListener("wheel",u,!1),e.removeEventListener("touchstart",h,!1),e.removeEventListener("touchmove",p,!1))},[p,h,u]);return x.useEffect(function(){if(t){var e=c.current;return m(e),function(){f(e)}}},[t,m,f]),function(e){c.current=e}}({isEnabled:void 0===r||r,onBottomArrive:e.onBottomArrive,onBottomLeave:e.onBottomLeave,onTopArrive:e.onTopArrive,onTopLeave:e.onTopLeave}),i=function(e){var t=e.isEnabled,n=e.accountForScrollbars,r=void 0===n||n,a=x.useRef({}),i=x.useRef(null),s=x.useCallback(function(e){if(Aj){var t=document.body,n=t&&t.style;if(r&&jj.forEach(function(e){var t=n&&n[e];a.current[e]=t}),r&&Tj<1){var i=parseInt(a.current.paddingRight,10)||0,s=document.body?document.body.clientWidth:0,o=window.innerWidth-s+i||0;Object.keys(Nj).forEach(function(e){var t=Nj[e];n&&(n[e]=t)}),n&&(n.paddingRight="".concat(o,"px"))}t&&_j()&&(t.addEventListener("touchmove",kj,Oj),e&&(e.addEventListener("touchstart",Cj,Oj),e.addEventListener("touchmove",Sj,Oj))),Tj+=1}},[r]),o=x.useCallback(function(e){if(Aj){var t=document.body,n=t&&t.style;Tj=Math.max(Tj-1,0),r&&Tj<1&&jj.forEach(function(e){var t=a.current[e];n&&(n[e]=t)}),t&&_j()&&(t.removeEventListener("touchmove",kj,Oj),e&&(e.removeEventListener("touchstart",Cj,Oj),e.removeEventListener("touchmove",Sj,Oj)))}},[r]);return x.useEffect(function(){if(t){var e=i.current;return s(e),function(){o(e)}}},[t,s,o]),function(e){i.current=e}}({isEnabled:n});return sw(x.Fragment,null,n&&sw("div",{onClick:Ej,css:Mj}),t(function(e){a(e),i(e)}))}var Dj={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},Lj=function(e){var t=e.name,n=e.onFocus;return sw("input",{required:!0,name:t,tabIndex:-1,"aria-hidden":"true",onFocus:n,css:Dj,value:"",onChange:function(){}})};function Ij(e){var t;return"undefined"!=typeof window&&null!=window.navigator&&e.test((null===(t=window.navigator.userAgentData)||void 0===t?void 0:t.platform)||window.navigator.platform)}function Rj(){return Ij(/^Mac/i)}var Fj=function(e){return e.label},Hj=function(e){return e.value},zj={clearIndicator:Gw,container:function(e){var t=e.isDisabled;return{label:"container",direction:e.isRtl?"rtl":void 0,pointerEvents:t?"none":void 0,position:"relative"}},control:function(e,t){var n=e.isDisabled,r=e.isFocused,a=e.theme,i=a.colors,s=a.borderRadius;return xy({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:a.spacing.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},t?{}:{backgroundColor:n?i.neutral5:i.neutral0,borderColor:n?i.neutral10:r?i.primary:i.neutral20,borderRadius:s,borderStyle:"solid",borderWidth:1,boxShadow:r?"0 0 0 1px ".concat(i.primary):void 0,"&:hover":{borderColor:r?i.primary:i.neutral30}})},dropdownIndicator:qw,group:function(e,t){var n=e.theme.spacing;return t?{}:{paddingBottom:2*n.baseUnit,paddingTop:2*n.baseUnit}},groupHeading:function(e,t){var n=e.theme,r=n.colors,a=n.spacing;return xy({label:"group",cursor:"default",display:"block"},t?{}:{color:r.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:3*a.baseUnit,paddingRight:3*a.baseUnit,textTransform:"uppercase"})},indicatorsContainer:function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},indicatorSeparator:function(e,t){var n=e.isDisabled,r=e.theme,a=r.spacing.baseUnit,i=r.colors;return xy({label:"indicatorSeparator",alignSelf:"stretch",width:1},t?{}:{backgroundColor:n?i.neutral10:i.neutral20,marginBottom:2*a,marginTop:2*a})},input:function(e,t){var n=e.isDisabled,r=e.value,a=e.theme,i=a.spacing,s=a.colors;return xy(xy({visibility:n?"hidden":"visible",transform:r?"translateZ(0)":""},Zw),t?{}:{margin:i.baseUnit/2,paddingBottom:i.baseUnit/2,paddingTop:i.baseUnit/2,color:s.neutral80})},loadingIndicator:function(e,t){var n=e.isFocused,r=e.size,a=e.theme,i=a.colors,s=a.spacing.baseUnit;return xy({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:r,lineHeight:1,marginRight:r,textAlign:"center",verticalAlign:"middle"},t?{}:{color:n?i.neutral60:i.neutral20,padding:2*s})},loadingMessage:Fw,menu:function(e,t){var n,r=e.placement,a=e.theme,i=a.borderRadius,s=a.spacing,o=a.colors;return xy((fy(n={label:"menu"},function(e){return e?{bottom:"top",top:"bottom"}[e]:"bottom"}(r),"100%"),fy(n,"position","absolute"),fy(n,"width","100%"),fy(n,"zIndex",1),n),t?{}:{backgroundColor:o.neutral0,borderRadius:i,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:s.menuGutter,marginTop:s.menuGutter})},menuList:function(e,t){var n=e.maxHeight,r=e.theme.spacing.baseUnit;return xy({maxHeight:n,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},t?{}:{paddingBottom:r,paddingTop:r})},menuPortal:function(e){var t=e.rect,n=e.offset,r=e.position;return{left:t.left,position:r,top:n,width:t.width,zIndex:1}},multiValue:function(e,t){var n=e.theme,r=n.spacing,a=n.borderRadius,i=n.colors;return xy({label:"multiValue",display:"flex",minWidth:0},t?{}:{backgroundColor:i.neutral10,borderRadius:a/2,margin:r.baseUnit/2})},multiValueLabel:function(e,t){var n=e.theme,r=n.borderRadius,a=n.colors,i=e.cropWithEllipsis;return xy({overflow:"hidden",textOverflow:i||void 0===i?"ellipsis":void 0,whiteSpace:"nowrap"},t?{}:{borderRadius:r/2,color:a.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},multiValueRemove:function(e,t){var n=e.theme,r=n.spacing,a=n.borderRadius,i=n.colors,s=e.isFocused;return xy({alignItems:"center",display:"flex"},t?{}:{borderRadius:a/2,backgroundColor:s?i.dangerLight:void 0,paddingLeft:r.baseUnit,paddingRight:r.baseUnit,":hover":{backgroundColor:i.dangerLight,color:i.danger}})},noOptionsMessage:Rw,option:function(e,t){var n=e.isDisabled,r=e.isFocused,a=e.isSelected,i=e.theme,s=i.spacing,o=i.colors;return xy({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},t?{}:{backgroundColor:a?o.primary:r?o.primary25:"transparent",color:n?o.neutral20:a?o.neutral0:"inherit",padding:"".concat(2*s.baseUnit,"px ").concat(3*s.baseUnit,"px"),":active":{backgroundColor:n?void 0:a?o.primary:o.primary50}})},placeholder:function(e,t){var n=e.theme,r=n.spacing,a=n.colors;return xy({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},t?{}:{color:a.neutral50,marginLeft:r.baseUnit/2,marginRight:r.baseUnit/2})},singleValue:function(e,t){var n=e.isDisabled,r=e.theme,a=r.spacing,i=r.colors;return xy({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t?{}:{color:n?i.neutral40:i.neutral80,marginLeft:a.baseUnit/2,marginRight:a.baseUnit/2})},valueContainer:function(e,t){var n=e.theme.spacing,r=e.isMulti,a=e.hasValue,i=e.selectProps.controlShouldRenderValue;return xy({alignItems:"center",display:r&&a&&i?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},t?{}:{padding:"".concat(n.baseUnit/2,"px ").concat(2*n.baseUnit,"px")})}},Bj={borderRadius:4,colors:{primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},spacing:{baseUnit:4,controlHeight:38,menuGutter:8}},Wj={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:ww(),captureMenuScroll:!ww(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:function(e,t){if(e.data.__isNew__)return!0;var n=xy({ignoreCase:!0,ignoreAccents:!0,stringify:yj,trim:!0,matchFrom:"any"},undefined),r=n.ignoreCase,a=n.ignoreAccents,i=n.stringify,s=n.trim,o=n.matchFrom,l=s?bj(t):t,c=s?bj(i(e)):i(e);return r&&(l=l.toLowerCase(),c=c.toLowerCase()),a&&(l=xj(l),c=gj(c)),"start"===o?c.substr(0,l.length)===l:c.indexOf(l)>-1},formatGroupLabel:function(e){return e.label},getOptionLabel:Fj,getOptionValue:Hj,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:function(e){return!!e.isDisabled},loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!function(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch(Ew){return!1}}(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var t=e.count;return"".concat(t," result").concat(1!==t?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function $j(e,t,n,r){return{type:"option",data:t,isDisabled:Xj(e,t,n),isSelected:Qj(e,t,n),label:Kj(e,t),value:Jj(e,t),index:r}}function Uj(e,t){return e.options.map(function(n,r){if("options"in n){var a=n.options.map(function(n,r){return $j(e,n,t,r)}).filter(function(t){return Gj(e,t)});return a.length>0?{type:"group",data:n,options:a,index:r}:void 0}var i=$j(e,n,t,r);return Gj(e,i)?i:void 0}).filter(Cw)}function Vj(e){return e.reduce(function(e,t){return"group"===t.type?e.push.apply(e,Ty(t.options.map(function(e){return e.data}))):e.push(t.data),e},[])}function qj(e,t){return e.reduce(function(e,n){return"group"===n.type?e.push.apply(e,Ty(n.options.map(function(e){return{data:e.data,id:"".concat(t,"-").concat(n.index,"-").concat(e.index)}}))):e.push({data:n.data,id:"".concat(t,"-").concat(n.index)}),e},[])}function Gj(e,t){var n=e.inputValue,r=void 0===n?"":n,a=t.data,i=t.isSelected,s=t.label,o=t.value;return(!eN(e)||!i)&&Zj(e,{label:s,value:o,data:a},r)}var Yj=function(e,t){var n;return(null===(n=e.find(function(e){return e.data===t}))||void 0===n?void 0:n.id)||null},Kj=function(e,t){return e.getOptionLabel(t)},Jj=function(e,t){return e.getOptionValue(t)};function Xj(e,t,n){return"function"==typeof e.isOptionDisabled&&e.isOptionDisabled(t,n)}function Qj(e,t,n){if(n.indexOf(t)>-1)return!0;if("function"==typeof e.isOptionSelected)return e.isOptionSelected(t,n);var r=Jj(e,t);return n.some(function(t){return Jj(e,t)===r})}function Zj(e,t,n){return!e.filterOption||e.filterOption(t,n)}var eN=function(e){var t=e.hideSelectedOptions,n=e.isMulti;return void 0===t?n:t},tN=1,nN=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Cy(e,t)}(t,x.Component);var e=function(e){var t=Ay();return function(){var n,r=_y(e);if(t){var a=_y(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"==py(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}(t);function t(n){var r;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=e.call(this,n)).state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:"",isAppleDevice:!1},r.blockOptionHover=!1,r.isComposing=!1,r.commonProps=void 0,r.initialTouchX=0,r.initialTouchY=0,r.openAfterFocus=!1,r.scrollToFocusedOptionOnUpdate=!1,r.userIsDragging=void 0,r.controlRef=null,r.getControlRef=function(e){r.controlRef=e},r.focusedOptionRef=null,r.getFocusedOptionRef=function(e){r.focusedOptionRef=e},r.menuListRef=null,r.getMenuListRef=function(e){r.menuListRef=e},r.inputRef=null,r.getInputRef=function(e){r.inputRef=e},r.focus=r.focusInput,r.blur=r.blurInput,r.onChange=function(e,t){var n=r.props,a=n.onChange,i=n.name;t.name=i,r.ariaOnChange(e,t),a(e,t)},r.setValue=function(e,t,n){var a=r.props,i=a.closeMenuOnSelect,s=a.isMulti,o=a.inputValue;r.onInputChange("",{action:"set-value",prevInputValue:o}),i&&(r.setState({inputIsHiddenAfterUpdate:!s}),r.onMenuClose()),r.setState({clearFocusValueOnUpdate:!0}),r.onChange(e,{action:t,option:n})},r.selectOption=function(e){var t=r.props,n=t.blurInputOnSelect,a=t.isMulti,i=t.name,s=r.state.selectValue,o=a&&r.isOptionSelected(e,s),l=r.isOptionDisabled(e,s);if(o){var c=r.getOptionValue(e);r.setValue(s.filter(function(e){return r.getOptionValue(e)!==c}),"deselect-option",e)}else{if(l)return void r.ariaOnChange(e,{action:"select-option",option:e,name:i});a?r.setValue([].concat(Ty(s),[e]),"select-option",e):r.setValue(e,"select-option")}n&&r.blurInput()},r.removeValue=function(e){var t=r.props.isMulti,n=r.state.selectValue,a=r.getOptionValue(e),i=n.filter(function(e){return r.getOptionValue(e)!==a}),s=_w(t,i,i[0]||null);r.onChange(s,{action:"remove-value",removedValue:e}),r.focusInput()},r.clearValue=function(){var e=r.state.selectValue;r.onChange(_w(r.props.isMulti,[],null),{action:"clear",removedValues:e})},r.popValue=function(){var e=r.props.isMulti,t=r.state.selectValue,n=t[t.length-1],a=t.slice(0,t.length-1),i=_w(e,a,a[0]||null);n&&r.onChange(i,{action:"pop-value",removedValue:n})},r.getFocusedOptionId=function(e){return Yj(r.state.focusableOptionsWithIds,e)},r.getFocusableOptionsWithIds=function(){return qj(Uj(r.props,r.state.selectValue),r.getElementId("option"))},r.getValue=function(){return r.state.selectValue},r.cx=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return hw.apply(void 0,[r.props.classNamePrefix].concat(t))},r.getOptionLabel=function(e){return Kj(r.props,e)},r.getOptionValue=function(e){return Jj(r.props,e)},r.getStyles=function(e,t){var n=r.props.unstyled,a=zj[e](t,n);a.boxSizing="border-box";var i=r.props.styles[e];return i?i(a,t):a},r.getClassNames=function(e,t){var n,a;return null===(n=(a=r.props.classNames)[e])||void 0===n?void 0:n.call(a,t)},r.getElementId=function(e){return"".concat(r.state.instancePrefix,"-").concat(e)},r.getComponents=function(){return e=r.props,xy(xy({},nj),e.components);var e},r.buildCategorizedOptions=function(){return Uj(r.props,r.state.selectValue)},r.getCategorizedOptions=function(){return r.props.menuIsOpen?r.buildCategorizedOptions():[]},r.buildFocusableOptions=function(){return Vj(r.buildCategorizedOptions())},r.getFocusableOptions=function(){return r.props.menuIsOpen?r.buildFocusableOptions():[]},r.ariaOnChange=function(e,t){r.setState({ariaSelection:xy({value:e},t)})},r.onMenuMouseDown=function(e){0===e.button&&(e.stopPropagation(),e.preventDefault(),r.focusInput())},r.onMenuMouseMove=function(e){r.blockOptionHover=!1},r.onControlMouseDown=function(e){if(!e.defaultPrevented){var t=r.props.openMenuOnClick;r.state.isFocused?r.props.menuIsOpen?"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&r.onMenuClose():t&&r.openMenu("first"):(t&&(r.openAfterFocus=!0),r.focusInput()),"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&e.preventDefault()}},r.onDropdownIndicatorMouseDown=function(e){if(!(e&&"mousedown"===e.type&&0!==e.button||r.props.isDisabled)){var t=r.props,n=t.isMulti,a=t.menuIsOpen;r.focusInput(),a?(r.setState({inputIsHiddenAfterUpdate:!n}),r.onMenuClose()):r.openMenu("first"),e.preventDefault()}},r.onClearIndicatorMouseDown=function(e){e&&"mousedown"===e.type&&0!==e.button||(r.clearValue(),e.preventDefault(),r.openAfterFocus=!1,"touchend"===e.type?r.focusInput():setTimeout(function(){return r.focusInput()}))},r.onScroll=function(e){"boolean"==typeof r.props.closeMenuOnScroll?e.target instanceof HTMLElement&&gw(e.target)&&r.props.onMenuClose():"function"==typeof r.props.closeMenuOnScroll&&r.props.closeMenuOnScroll(e)&&r.props.onMenuClose()},r.onCompositionStart=function(){r.isComposing=!0},r.onCompositionEnd=function(){r.isComposing=!1},r.onTouchStart=function(e){var t=e.touches,n=t&&t.item(0);n&&(r.initialTouchX=n.clientX,r.initialTouchY=n.clientY,r.userIsDragging=!1)},r.onTouchMove=function(e){var t=e.touches,n=t&&t.item(0);if(n){var a=Math.abs(n.clientX-r.initialTouchX),i=Math.abs(n.clientY-r.initialTouchY);r.userIsDragging=a>5||i>5}},r.onTouchEnd=function(e){r.userIsDragging||(r.controlRef&&!r.controlRef.contains(e.target)&&r.menuListRef&&!r.menuListRef.contains(e.target)&&r.blurInput(),r.initialTouchX=0,r.initialTouchY=0)},r.onControlTouchEnd=function(e){r.userIsDragging||r.onControlMouseDown(e)},r.onClearIndicatorTouchEnd=function(e){r.userIsDragging||r.onClearIndicatorMouseDown(e)},r.onDropdownIndicatorTouchEnd=function(e){r.userIsDragging||r.onDropdownIndicatorMouseDown(e)},r.handleInputChange=function(e){var t=r.props.inputValue,n=e.currentTarget.value;r.setState({inputIsHiddenAfterUpdate:!1}),r.onInputChange(n,{action:"input-change",prevInputValue:t}),r.props.menuIsOpen||r.onMenuOpen()},r.onInputFocus=function(e){r.props.onFocus&&r.props.onFocus(e),r.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(r.openAfterFocus||r.props.openMenuOnFocus)&&r.openMenu("first"),r.openAfterFocus=!1},r.onInputBlur=function(e){var t=r.props.inputValue;r.menuListRef&&r.menuListRef.contains(document.activeElement)?r.inputRef.focus():(r.props.onBlur&&r.props.onBlur(e),r.onInputChange("",{action:"input-blur",prevInputValue:t}),r.onMenuClose(),r.setState({focusedValue:null,isFocused:!1}))},r.onOptionHover=function(e){if(!r.blockOptionHover&&r.state.focusedOption!==e){var t=r.getFocusableOptions().indexOf(e);r.setState({focusedOption:e,focusedOptionId:t>-1?r.getFocusedOptionId(e):null})}},r.shouldHideSelectedOptions=function(){return eN(r.props)},r.onValueInputFocus=function(e){e.preventDefault(),e.stopPropagation(),r.focus()},r.onKeyDown=function(e){var t=r.props,n=t.isMulti,a=t.backspaceRemovesValue,i=t.escapeClearsValue,s=t.inputValue,o=t.isClearable,l=t.isDisabled,c=t.menuIsOpen,d=t.onKeyDown,u=t.tabSelectsValue,h=t.openMenuOnFocus,p=r.state,m=p.focusedOption,f=p.focusedValue,g=p.selectValue;if(!(l||"function"==typeof d&&(d(e),e.defaultPrevented))){switch(r.blockOptionHover=!0,e.key){case"ArrowLeft":if(!n||s)return;r.focusValue("previous");break;case"ArrowRight":if(!n||s)return;r.focusValue("next");break;case"Delete":case"Backspace":if(s)return;if(f)r.removeValue(f);else{if(!a)return;n?r.popValue():o&&r.clearValue()}break;case"Tab":if(r.isComposing)return;if(e.shiftKey||!c||!u||!m||h&&r.isOptionSelected(m,g))return;r.selectOption(m);break;case"Enter":if(229===e.keyCode)break;if(c){if(!m)return;if(r.isComposing)return;r.selectOption(m);break}return;case"Escape":c?(r.setState({inputIsHiddenAfterUpdate:!1}),r.onInputChange("",{action:"menu-close",prevInputValue:s}),r.onMenuClose()):o&&i&&r.clearValue();break;case" ":if(s)return;if(!c){r.openMenu("first");break}if(!m)return;r.selectOption(m);break;case"ArrowUp":c?r.focusOption("up"):r.openMenu("last");break;case"ArrowDown":c?r.focusOption("down"):r.openMenu("first");break;case"PageUp":if(!c)return;r.focusOption("pageup");break;case"PageDown":if(!c)return;r.focusOption("pagedown");break;case"Home":if(!c)return;r.focusOption("first");break;case"End":if(!c)return;r.focusOption("last");break;default:return}e.preventDefault()}},r.state.instancePrefix="react-select-"+(r.props.instanceId||++tN),r.state.selectValue=pw(n.value),n.menuIsOpen&&r.state.selectValue.length){var a=r.getFocusableOptionsWithIds(),i=r.buildFocusableOptions(),s=i.indexOf(r.state.selectValue[0]);r.state.focusableOptionsWithIds=a,r.state.focusedOption=i[s],r.state.focusedOptionId=Yj(a,i[s])}return r}return function(e,t,n){t&&Sy(e.prototype,t),n&&Sy(e,n),Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&vw(this.menuListRef,this.focusedOptionRef),(Rj()||Ij(/^iPhone/i)||Ij(/^iPad/i)||Rj()&&navigator.maxTouchPoints>1)&&this.setState({isAppleDevice:!0})}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isDisabled,r=t.menuIsOpen,a=this.state.isFocused;(a&&!n&&e.isDisabled||a&&r&&!e.menuIsOpen)&&this.focusInput(),a&&n&&!e.isDisabled?this.setState({isFocused:!1},this.onMenuClose):a||n||!e.isDisabled||this.inputRef!==document.activeElement||this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(vw(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(e,t){this.props.onInputChange(e,t)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(e){var t=this,n=this.state,r=n.selectValue,a=n.isFocused,i=this.buildFocusableOptions(),s="first"===e?0:i.length-1;if(!this.props.isMulti){var o=i.indexOf(r[0]);o>-1&&(s=o)}this.scrollToFocusedOptionOnUpdate=!(a&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:i[s],focusedOptionId:this.getFocusedOptionId(i[s])},function(){return t.onMenuOpen()})}},{key:"focusValue",value:function(e){var t=this.state,n=t.selectValue,r=t.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var a=n.indexOf(r);r||(a=-1);var i=n.length-1,s=-1;if(n.length){switch(e){case"previous":s=0===a?0:-1===a?i:a-1;break;case"next":a>-1&&a<i&&(s=a+1)}this.setState({inputIsHidden:-1!==s,focusedValue:n[s]})}}}},{key:"focusOption",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"first",t=this.props.pageSize,n=this.state.focusedOption,r=this.getFocusableOptions();if(r.length){var a=0,i=r.indexOf(n);n||(i=-1),"up"===e?a=i>0?i-1:r.length-1:"down"===e?a=(i+1)%r.length:"pageup"===e?(a=i-t)<0&&(a=0):"pagedown"===e?(a=i+t)>r.length-1&&(a=r.length-1):"last"===e&&(a=r.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:r[a],focusedValue:null,focusedOptionId:this.getFocusedOptionId(r[a])})}}},{key:"getTheme",value:function(){return this.props.theme?"function"==typeof this.props.theme?this.props.theme(Bj):xy(xy({},Bj),this.props.theme):Bj}},{key:"getCommonProps",value:function(){var e=this.clearValue,t=this.cx,n=this.getStyles,r=this.getClassNames,a=this.getValue,i=this.selectOption,s=this.setValue,o=this.props,l=o.isMulti,c=o.isRtl,d=o.options;return{clearValue:e,cx:t,getStyles:n,getClassNames:r,getValue:a,hasValue:this.hasValue(),isMulti:l,isRtl:c,options:d,selectOption:i,selectProps:o,setValue:s,theme:this.getTheme()}}},{key:"hasValue",value:function(){return this.state.selectValue.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var e=this.props,t=e.isClearable,n=e.isMulti;return void 0===t?n:t}},{key:"isOptionDisabled",value:function(e,t){return Xj(this.props,e,t)}},{key:"isOptionSelected",value:function(e,t){return Qj(this.props,e,t)}},{key:"filterOption",value:function(e,t){return Zj(this.props,e,t)}},{key:"formatOptionLabel",value:function(e,t){if("function"==typeof this.props.formatOptionLabel){var n=this.props.inputValue,r=this.state.selectValue;return this.props.formatOptionLabel(e,{context:t,inputValue:n,selectValue:r})}return this.getOptionLabel(e)}},{key:"formatGroupLabel",value:function(e){return this.props.formatGroupLabel(e)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var e=this.props,t=e.isDisabled,n=e.isSearchable,r=e.inputId,a=e.inputValue,i=e.tabIndex,s=e.form,o=e.menuIsOpen,l=e.required,c=this.getComponents().Input,d=this.state,u=d.inputIsHidden,h=d.ariaSelection,p=this.commonProps,m=r||this.getElementId("input"),f=xy(xy(xy({"aria-autocomplete":"list","aria-expanded":o,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":l,role:"combobox","aria-activedescendant":this.state.isAppleDevice?void 0:this.state.focusedOptionId||""},o&&{"aria-controls":this.getElementId("listbox")}),!n&&{"aria-readonly":!0}),this.hasValue()?"initial-input-focus"===(null==h?void 0:h.action)&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return n?x.createElement(c,ky({},p,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:m,innerRef:this.getInputRef,isDisabled:t,isHidden:u,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:i,form:s,type:"text",value:a},f)):x.createElement(wj,ky({id:m,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:dw,onFocus:this.onInputFocus,disabled:t,tabIndex:i,inputMode:"none",form:s,value:""},f))}},{key:"renderPlaceholderOrValue",value:function(){var e=this,t=this.getComponents(),n=t.MultiValue,r=t.MultiValueContainer,a=t.MultiValueLabel,i=t.MultiValueRemove,s=t.SingleValue,o=t.Placeholder,l=this.commonProps,c=this.props,d=c.controlShouldRenderValue,u=c.isDisabled,h=c.isMulti,p=c.inputValue,m=c.placeholder,f=this.state,g=f.selectValue,b=f.focusedValue,y=f.isFocused;if(!this.hasValue()||!d)return p?null:x.createElement(o,ky({},l,{key:"placeholder",isDisabled:u,isFocused:y,innerProps:{id:this.getElementId("placeholder")}}),m);if(h)return g.map(function(t,s){var o=t===b,c="".concat(e.getOptionLabel(t),"-").concat(e.getOptionValue(t));return x.createElement(n,ky({},l,{components:{Container:r,Label:a,Remove:i},isFocused:o,isDisabled:u,key:c,index:s,removeProps:{onClick:function(){return e.removeValue(t)},onTouchEnd:function(){return e.removeValue(t)},onMouseDown:function(e){e.preventDefault()}},data:t}),e.formatOptionLabel(t,"value"))});if(p)return null;var v=g[0];return x.createElement(s,ky({},l,{data:v,isDisabled:u}),this.formatOptionLabel(v,"value"))}},{key:"renderClearIndicator",value:function(){var e=this.getComponents().ClearIndicator,t=this.commonProps,n=this.props,r=n.isDisabled,a=n.isLoading,i=this.state.isFocused;if(!this.isClearable()||!e||r||!this.hasValue()||a)return null;var s={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return x.createElement(e,ky({},t,{innerProps:s,isFocused:i}))}},{key:"renderLoadingIndicator",value:function(){var e=this.getComponents().LoadingIndicator,t=this.commonProps,n=this.props,r=n.isDisabled,a=n.isLoading,i=this.state.isFocused;return e&&a?x.createElement(e,ky({},t,{innerProps:{"aria-hidden":"true"},isDisabled:r,isFocused:i})):null}},{key:"renderIndicatorSeparator",value:function(){var e=this.getComponents(),t=e.DropdownIndicator,n=e.IndicatorSeparator;if(!t||!n)return null;var r=this.commonProps,a=this.props.isDisabled,i=this.state.isFocused;return x.createElement(n,ky({},r,{isDisabled:a,isFocused:i}))}},{key:"renderDropdownIndicator",value:function(){var e=this.getComponents().DropdownIndicator;if(!e)return null;var t=this.commonProps,n=this.props.isDisabled,r=this.state.isFocused,a={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return x.createElement(e,ky({},t,{innerProps:a,isDisabled:n,isFocused:r}))}},{key:"renderMenu",value:function(){var e=this,t=this.getComponents(),n=t.Group,r=t.GroupHeading,a=t.Menu,i=t.MenuList,s=t.MenuPortal,o=t.LoadingMessage,l=t.NoOptionsMessage,c=t.Option,d=this.commonProps,u=this.state.focusedOption,h=this.props,p=h.captureMenuScroll,m=h.inputValue,f=h.isLoading,g=h.loadingMessage,b=h.minMenuHeight,y=h.maxMenuHeight,v=h.menuIsOpen,w=h.menuPlacement,j=h.menuPosition,N=h.menuPortalTarget,k=h.menuShouldBlockScroll,S=h.menuShouldScrollIntoView,C=h.noOptionsMessage,_=h.onMenuScrollToTop,A=h.onMenuScrollToBottom;if(!v)return null;var T,O=function(t,n){var r=t.type,a=t.data,i=t.isDisabled,s=t.isSelected,o=t.label,l=t.value,h=u===a,p=i?void 0:function(){return e.onOptionHover(a)},m=i?void 0:function(){return e.selectOption(a)},f="".concat(e.getElementId("option"),"-").concat(n),g={id:f,onClick:m,onMouseMove:p,onMouseOver:p,tabIndex:-1,role:"option","aria-selected":e.state.isAppleDevice?void 0:s};return x.createElement(c,ky({},d,{innerProps:g,data:a,isDisabled:i,isSelected:s,key:f,label:o,type:r,value:l,isFocused:h,innerRef:h?e.getFocusedOptionRef:void 0}),e.formatOptionLabel(t.data,"menu"))};if(this.hasOptions())T=this.getCategorizedOptions().map(function(t){if("group"===t.type){var a=t.data,i=t.options,s=t.index,o="".concat(e.getElementId("group"),"-").concat(s),l="".concat(o,"-heading");return x.createElement(n,ky({},d,{key:o,data:a,options:i,Heading:r,headingProps:{id:l,data:t.data},label:e.formatGroupLabel(t.data)}),t.options.map(function(e){return O(e,"".concat(s,"-").concat(e.index))}))}if("option"===t.type)return O(t,"".concat(t.index))});else if(f){var E=g({inputValue:m});if(null===E)return null;T=x.createElement(o,d,E)}else{var M=C({inputValue:m});if(null===M)return null;T=x.createElement(l,d,M)}var P={minMenuHeight:b,maxMenuHeight:y,menuPlacement:w,menuPosition:j,menuShouldScrollIntoView:S},D=x.createElement(Lw,ky({},d,P),function(t){var n=t.ref,r=t.placerProps,s=r.placement,o=r.maxHeight;return x.createElement(a,ky({},d,P,{innerRef:n,innerProps:{onMouseDown:e.onMenuMouseDown,onMouseMove:e.onMenuMouseMove},isLoading:f,placement:s}),x.createElement(Pj,{captureEnabled:p,onTopArrive:_,onBottomArrive:A,lockEnabled:k},function(t){return x.createElement(i,ky({},d,{innerRef:function(n){e.getMenuListRef(n),t(n)},innerProps:{role:"listbox","aria-multiselectable":d.isMulti,id:e.getElementId("listbox")},isLoading:f,maxHeight:o,focusedOption:u}),T)}))});return N||"fixed"===j?x.createElement(s,ky({},d,{appendTo:N,controlElement:this.controlRef,menuPlacement:w,menuPosition:j}),D):D}},{key:"renderFormField",value:function(){var e=this,t=this.props,n=t.delimiter,r=t.isDisabled,a=t.isMulti,i=t.name,s=t.required,o=this.state.selectValue;if(s&&!this.hasValue()&&!r)return x.createElement(Lj,{name:i,onFocus:this.onValueInputFocus});if(i&&!r){if(a){if(n){var l=o.map(function(t){return e.getOptionValue(t)}).join(n);return x.createElement("input",{name:i,type:"hidden",value:l})}var c=o.length>0?o.map(function(t,n){return x.createElement("input",{key:"i-".concat(n),name:i,type:"hidden",value:e.getOptionValue(t)})}):x.createElement("input",{name:i,type:"hidden",value:""});return x.createElement("div",null,c)}var d=o[0]?this.getOptionValue(o[0]):"";return x.createElement("input",{name:i,type:"hidden",value:d})}}},{key:"renderLiveRegion",value:function(){var e=this.commonProps,t=this.state,n=t.ariaSelection,r=t.focusedOption,a=t.focusedValue,i=t.isFocused,s=t.selectValue,o=this.getFocusableOptions();return x.createElement(cj,ky({},e,{id:this.getElementId("live-region"),ariaSelection:n,focusedOption:r,focusedValue:a,isFocused:i,selectValue:s,focusableOptions:o,isAppleDevice:this.state.isAppleDevice}))}},{key:"render",value:function(){var e=this.getComponents(),t=e.Control,n=e.IndicatorsContainer,r=e.SelectContainer,a=e.ValueContainer,i=this.props,s=i.className,o=i.id,l=i.isDisabled,c=i.menuIsOpen,d=this.state.isFocused,u=this.commonProps=this.getCommonProps();return x.createElement(r,ky({},u,{className:s,innerProps:{id:o,onKeyDown:this.onKeyDown},isDisabled:l,isFocused:d}),this.renderLiveRegion(),x.createElement(t,ky({},u,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:l,isFocused:d,menuIsOpen:c}),x.createElement(a,ky({},u,{isDisabled:l}),this.renderPlaceholderOrValue(),this.renderInput()),x.createElement(n,ky({},u,{isDisabled:l}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.prevProps,r=t.clearFocusValueOnUpdate,a=t.inputIsHiddenAfterUpdate,i=t.ariaSelection,s=t.isFocused,o=t.prevWasFocused,l=t.instancePrefix,c=e.options,d=e.value,u=e.menuIsOpen,h=e.inputValue,p=e.isMulti,m=pw(d),f={};if(n&&(d!==n.value||c!==n.options||u!==n.menuIsOpen||h!==n.inputValue)){var g=u?function(e,t){return Vj(Uj(e,t))}(e,m):[],x=u?qj(Uj(e,m),"".concat(l,"-option")):[],b=r?function(e,t){var n=e.focusedValue,r=e.selectValue.indexOf(n);if(r>-1){if(t.indexOf(n)>-1)return n;if(r<t.length)return t[r]}return null}(t,m):null,y=function(e,t){var n=e.focusedOption;return n&&t.indexOf(n)>-1?n:t[0]}(t,g);f={selectValue:m,focusedOption:y,focusedOptionId:Yj(x,y),focusableOptionsWithIds:x,focusedValue:b,clearFocusValueOnUpdate:!1}}var v=null!=a&&e!==n?{inputIsHidden:a,inputIsHiddenAfterUpdate:void 0}:{},w=i,j=s&&o;return s&&!j&&(w={value:_w(p,m,m[0]||null),options:m,action:"initial-input-focus"},j=!o),"initial-input-focus"===(null==i?void 0:i.action)&&(w=null),xy(xy(xy({},f),v),{},{prevProps:e,ariaSelection:w,prevWasFocused:j})}}]),t}();nN.defaultProps=Wj;var rN=x.forwardRef(function(e,t){var n=Ny(e);return x.createElement(nN,ky({ref:t},n))});function aN(e){this.content=e}function iN(e,t,n){for(let r=0;;r++){if(r==e.childCount||r==t.childCount)return e.childCount==t.childCount?null:n;let a=e.child(r),i=t.child(r);if(a!=i){if(!a.sameMarkup(i))return n;if(a.isText&&a.text!=i.text){for(let e=0;a.text[e]==i.text[e];e++)n++;return n}if(a.content.size||i.content.size){let e=iN(a.content,i.content,n+1);if(null!=e)return e}n+=a.nodeSize}else n+=a.nodeSize}}function sN(e,t,n,r){for(let a=e.childCount,i=t.childCount;;){if(0==a||0==i)return a==i?null:{a:n,b:r};let s=e.child(--a),o=t.child(--i),l=s.nodeSize;if(s!=o){if(!s.sameMarkup(o))return{a:n,b:r};if(s.isText&&s.text!=o.text){let e=0,t=Math.min(s.text.length,o.text.length);for(;e<t&&s.text[s.text.length-e-1]==o.text[o.text.length-e-1];)e++,n--,r--;return{a:n,b:r}}if(s.content.size||o.content.size){let e=sN(s.content,o.content,n-1,r-1);if(e)return e}n-=l,r-=l}else n-=l,r-=l}}aN.prototype={constructor:aN,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return-1==t?void 0:this.content[t+1]},update:function(e,t,n){var r=n&&n!=e?this.remove(n):this,a=r.find(e),i=r.content.slice();return-1==a?i.push(n||e,t):(i[a+1]=t,n&&(i[a]=n)),new aN(i)},remove:function(e){var t=this.find(e);if(-1==t)return this;var n=this.content.slice();return n.splice(t,2),new aN(n)},addToStart:function(e,t){return new aN([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var n=this.remove(e).content.slice();return n.push(e,t),new aN(n)},addBefore:function(e,t,n){var r=this.remove(t),a=r.content.slice(),i=r.find(e);return a.splice(-1==i?a.length:i,0,t,n),new aN(a)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return(e=aN.from(e)).size?new aN(e.content.concat(this.subtract(e).content)):this},append:function(e){return(e=aN.from(e)).size?new aN(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=aN.from(e);for(var n=0;n<e.content.length;n+=2)t=t.remove(e.content[n]);return t},toObject:function(){var e={};return this.forEach(function(t,n){e[t]=n}),e},get size(){return this.content.length>>1}},aN.from=function(e){if(e instanceof aN)return e;var t=[];if(e)for(var n in e)t.push(n,e[n]);return new aN(t)};class oN{constructor(e,t){if(this.content=e,this.size=t||0,null==t)for(let n=0;n<e.length;n++)this.size+=e[n].nodeSize}nodesBetween(e,t,n,r=0,a){for(let i=0,s=0;s<t;i++){let o=this.content[i],l=s+o.nodeSize;if(l>e&&!1!==n(o,r+s,a||null,i)&&o.content.size){let a=s+1;o.nodesBetween(Math.max(0,e-a),Math.min(o.content.size,t-a),n,r+a)}s=l}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,t,n,r){let a="",i=!0;return this.nodesBetween(e,t,(s,o)=>{let l=s.isText?s.text.slice(Math.max(e,o)-o,t-o):s.isLeaf?r?"function"==typeof r?r(s):r:s.type.spec.leafText?s.type.spec.leafText(s):"":"";s.isBlock&&(s.isLeaf&&l||s.isTextblock)&&n&&(i?i=!1:a+=n),a+=l},0),a}append(e){if(!e.size)return this;if(!this.size)return e;let t=this.lastChild,n=e.firstChild,r=this.content.slice(),a=0;for(t.isText&&t.sameMarkup(n)&&(r[r.length-1]=t.withText(t.text+n.text),a=1);a<e.content.length;a++)r.push(e.content[a]);return new oN(r,this.size+e.size)}cut(e,t=this.size){if(0==e&&t==this.size)return this;let n=[],r=0;if(t>e)for(let a=0,i=0;i<t;a++){let s=this.content[a],o=i+s.nodeSize;o>e&&((i<e||o>t)&&(s=s.isText?s.cut(Math.max(0,e-i),Math.min(s.text.length,t-i)):s.cut(Math.max(0,e-i-1),Math.min(s.content.size,t-i-1))),n.push(s),r+=s.nodeSize),i=o}return new oN(n,r)}cutByIndex(e,t){return e==t?oN.empty:0==e&&t==this.content.length?this:new oN(this.content.slice(e,t))}replaceChild(e,t){let n=this.content[e];if(n==t)return this;let r=this.content.slice(),a=this.size+t.nodeSize-n.nodeSize;return r[e]=t,new oN(r,a)}addToStart(e){return new oN([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new oN(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t}maybeChild(e){return this.content[e]||null}forEach(e){for(let t=0,n=0;t<this.content.length;t++){let r=this.content[t];e(r,n,t),n+=r.nodeSize}}findDiffStart(e,t=0){return iN(this,e,t)}findDiffEnd(e,t=this.size,n=e.size){return sN(this,e,t,n)}findIndex(e){if(0==e)return cN(0,e);if(e==this.size)return cN(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let t=0,n=0;;t++){let r=n+this.child(t).nodeSize;if(r>=e)return r==e?cN(t+1,r):cN(t,n);n=r}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,t){if(!t)return oN.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new oN(t.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return oN.empty;let t,n=0;for(let r=0;r<e.length;r++){let a=e[r];n+=a.nodeSize,r&&a.isText&&e[r-1].sameMarkup(a)?(t||(t=e.slice(0,r)),t[t.length-1]=a.withText(t[t.length-1].text+a.text)):t&&t.push(a)}return new oN(t||e,n)}static from(e){if(!e)return oN.empty;if(e instanceof oN)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new oN([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}oN.empty=new oN([],0);const lN={index:0,offset:0};function cN(e,t){return lN.index=e,lN.offset=t,lN}function dN(e,t){if(e===t)return!0;if(!e||"object"!=typeof e||!t||"object"!=typeof t)return!1;let n=Array.isArray(e);if(Array.isArray(t)!=n)return!1;if(n){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!dN(e[n],t[n]))return!1}else{for(let n in e)if(!(n in t)||!dN(e[n],t[n]))return!1;for(let n in t)if(!(n in e))return!1}return!0}let uN=class e{constructor(e,t){this.type=e,this.attrs=t}addToSet(e){let t,n=!1;for(let r=0;r<e.length;r++){let a=e[r];if(this.eq(a))return e;if(this.type.excludes(a.type))t||(t=e.slice(0,r));else{if(a.type.excludes(this.type))return e;!n&&a.type.rank>this.type.rank&&(t||(t=e.slice(0,r)),t.push(this),n=!0),t&&t.push(a)}}return t||(t=e.slice()),n||t.push(this),t}removeFromSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e}isInSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1}eq(e){return this==e||this.type==e.type&&dN(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");let n=e.marks[t.type];if(!n)throw new RangeError(`There is no mark type ${t.type} in this schema`);let r=n.create(t.attrs);return n.checkAttrs(r.attrs),r}static sameSet(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].eq(t[n]))return!1;return!0}static setFrom(t){if(!t||Array.isArray(t)&&0==t.length)return e.none;if(t instanceof e)return[t];let n=t.slice();return n.sort((e,t)=>e.type.rank-t.type.rank),n}};uN.none=[];class hN extends Error{}class pN{constructor(e,t,n){this.content=e,this.openStart=t,this.openEnd=n}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,t){let n=fN(this.content,e+this.openStart,t);return n&&new pN(n,this.openStart,this.openEnd)}removeBetween(e,t){return new pN(mN(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,t){if(!t)return pN.empty;let n=t.openStart||0,r=t.openEnd||0;if("number"!=typeof n||"number"!=typeof r)throw new RangeError("Invalid input for Slice.fromJSON");return new pN(oN.fromJSON(e,t.content),n,r)}static maxOpen(e,t=!0){let n=0,r=0;for(let a=e.firstChild;a&&!a.isLeaf&&(t||!a.type.spec.isolating);a=a.firstChild)n++;for(let a=e.lastChild;a&&!a.isLeaf&&(t||!a.type.spec.isolating);a=a.lastChild)r++;return new pN(e,n,r)}}function mN(e,t,n){let{index:r,offset:a}=e.findIndex(t),i=e.maybeChild(r),{index:s,offset:o}=e.findIndex(n);if(a==t||i.isText){if(o!=n&&!e.child(s).isText)throw new RangeError("Removing non-flat range");return e.cut(0,t).append(e.cut(n))}if(r!=s)throw new RangeError("Removing non-flat range");return e.replaceChild(r,i.copy(mN(i.content,t-a-1,n-a-1)))}function fN(e,t,n,r){let{index:a,offset:i}=e.findIndex(t),s=e.maybeChild(a);if(i==t||s.isText)return r&&!r.canReplace(a,a,n)?null:e.cut(0,t).append(n).append(e.cut(t));let o=fN(s.content,t-i-1,n,s);return o&&e.replaceChild(a,s.copy(o))}function gN(e,t,n){if(n.openStart>e.depth)throw new hN("Inserted content deeper than insertion position");if(e.depth-n.openStart!=t.depth-n.openEnd)throw new hN("Inconsistent open depths");return xN(e,t,n,0)}function xN(e,t,n,r){let a=e.index(r),i=e.node(r);if(a==t.index(r)&&r<e.depth-n.openStart){let s=xN(e,t,n,r+1);return i.copy(i.content.replaceChild(a,s))}if(n.content.size){if(n.openStart||n.openEnd||e.depth!=r||t.depth!=r){let{start:a,end:s}=function(e,t){let n=t.depth-e.openStart,r=t.node(n).copy(e.content);for(let a=n-1;a>=0;a--)r=t.node(a).copy(oN.from(r));return{start:r.resolveNoCache(e.openStart+n),end:r.resolveNoCache(r.content.size-e.openEnd-n)}}(n,e);return jN(i,NN(e,a,s,t,r))}{let r=e.parent,a=r.content;return jN(r,a.cut(0,e.parentOffset).append(n.content).append(a.cut(t.parentOffset)))}}return jN(i,kN(e,t,r))}function bN(e,t){if(!t.type.compatibleContent(e.type))throw new hN("Cannot join "+t.type.name+" onto "+e.type.name)}function yN(e,t,n){let r=e.node(n);return bN(r,t.node(n)),r}function vN(e,t){let n=t.length-1;n>=0&&e.isText&&e.sameMarkup(t[n])?t[n]=e.withText(t[n].text+e.text):t.push(e)}function wN(e,t,n,r){let a=(t||e).node(n),i=0,s=t?t.index(n):a.childCount;e&&(i=e.index(n),e.depth>n?i++:e.textOffset&&(vN(e.nodeAfter,r),i++));for(let o=i;o<s;o++)vN(a.child(o),r);t&&t.depth==n&&t.textOffset&&vN(t.nodeBefore,r)}function jN(e,t){return e.type.checkContent(t),e.copy(t)}function NN(e,t,n,r,a){let i=e.depth>a&&yN(e,t,a+1),s=r.depth>a&&yN(n,r,a+1),o=[];return wN(null,e,a,o),i&&s&&t.index(a)==n.index(a)?(bN(i,s),vN(jN(i,NN(e,t,n,r,a+1)),o)):(i&&vN(jN(i,kN(e,t,a+1)),o),wN(t,n,a,o),s&&vN(jN(s,kN(n,r,a+1)),o)),wN(r,null,a,o),new oN(o)}function kN(e,t,n){let r=[];return wN(null,e,n,r),e.depth>n&&vN(jN(yN(e,t,n+1),kN(e,t,n+1)),r),wN(t,null,n,r),new oN(r)}pN.empty=new pN(oN.empty,0,0);class SN{constructor(e,t,n){this.pos=e,this.path=t,this.parentOffset=n,this.depth=t.length/3-1}resolveDepth(e){return null==e?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[3*this.resolveDepth(e)]}index(e){return this.path[3*this.resolveDepth(e)+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e!=this.depth||this.textOffset?1:0)}start(e){return 0==(e=this.resolveDepth(e))?0:this.path[3*e-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(!(e=this.resolveDepth(e)))throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[3*e-1]}after(e){if(!(e=this.resolveDepth(e)))throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[3*e-1]+this.path[3*e].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;let n=this.pos-this.path[this.path.length-1],r=e.child(t);return n?e.child(t).cut(n):r}get nodeBefore(){let e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):0==e?null:this.parent.child(e-1)}posAtIndex(e,t){t=this.resolveDepth(t);let n=this.path[3*t],r=0==t?0:this.path[3*t-1]+1;for(let a=0;a<e;a++)r+=n.child(a).nodeSize;return r}marks(){let e=this.parent,t=this.index();if(0==e.content.size)return uN.none;if(this.textOffset)return e.child(t).marks;let n=e.maybeChild(t-1),r=e.maybeChild(t);if(!n){let e=n;n=r,r=e}let a=n.marks;for(var i=0;i<a.length;i++)!1!==a[i].type.spec.inclusive||r&&a[i].isInSet(r.marks)||(a=a[i--].removeFromSet(a));return a}marksAcross(e){let t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;let n=t.marks,r=e.parent.maybeChild(e.index());for(var a=0;a<n.length;a++)!1!==n[a].type.spec.inclusive||r&&n[a].isInSet(r.marks)||(n=n[a--].removeFromSet(n));return n}sharedDepth(e){for(let t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0}blockRange(e=this,t){if(e.pos<this.pos)return e.blockRange(this);for(let n=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);n>=0;n--)if(e.pos<=this.end(n)&&(!t||t(this.node(n))))return new TN(this,e,n);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset}static resolve(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");let n=[],r=0,a=t;for(let i=e;;){let{index:e,offset:t}=i.content.findIndex(a),s=a-t;if(n.push(i,e,r+t),!s)break;if(i=i.child(e),i.isText)break;a=s-1,r+=t+1}return new SN(t,n,a)}static resolveCached(e,t){let n=AN.get(e);if(n)for(let a=0;a<n.elts.length;a++){let e=n.elts[a];if(e.pos==t)return e}else AN.set(e,n=new CN);let r=n.elts[n.i]=SN.resolve(e,t);return n.i=(n.i+1)%_N,r}}class CN{constructor(){this.elts=[],this.i=0}}const _N=12,AN=new WeakMap;class TN{constructor(e,t,n){this.$from=e,this.$to=t,this.depth=n}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const ON=Object.create(null);let EN=class e{constructor(e,t,n,r=uN.none){this.type=e,this.attrs=t,this.marks=r,this.content=n||oN.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,t,n,r=0){this.content.nodesBetween(e,t,n,r,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,t,n,r){return this.content.textBetween(e,t,n,r)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,t,n){return this.type==e&&dN(this.attrs,t||e.defaultAttrs||ON)&&uN.sameSet(this.marks,n||uN.none)}copy(t=null){return t==this.content?this:new e(this.type,this.attrs,t,this.marks)}mark(t){return t==this.marks?this:new e(this.type,this.attrs,this.content,t)}cut(e,t=this.content.size){return 0==e&&t==this.content.size?this:this.copy(this.content.cut(e,t))}slice(e,t=this.content.size,n=!1){if(e==t)return pN.empty;let r=this.resolve(e),a=this.resolve(t),i=n?0:r.sharedDepth(t),s=r.start(i),o=r.node(i).content.cut(r.pos-s,a.pos-s);return new pN(o,r.depth-i,a.depth-i)}replace(e,t,n){return gN(this.resolve(e),this.resolve(t),n)}nodeAt(e){for(let t=this;;){let{index:n,offset:r}=t.content.findIndex(e);if(t=t.maybeChild(n),!t)return null;if(r==e||t.isText)return t;e-=r+1}}childAfter(e){let{index:t,offset:n}=this.content.findIndex(e);return{node:this.content.maybeChild(t),index:t,offset:n}}childBefore(e){if(0==e)return{node:null,index:0,offset:0};let{index:t,offset:n}=this.content.findIndex(e);if(n<e)return{node:this.content.child(t),index:t,offset:n};let r=this.content.child(t-1);return{node:r,index:t-1,offset:n-r.nodeSize}}resolve(e){return SN.resolveCached(this,e)}resolveNoCache(e){return SN.resolve(this,e)}rangeHasMark(e,t,n){let r=!1;return t>e&&this.nodesBetween(e,t,e=>(n.isInSet(e.marks)&&(r=!0),!r)),r}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),PN(this.marks,e)}contentMatchAt(e){let t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t}canReplace(e,t,n=oN.empty,r=0,a=n.childCount){let i=this.contentMatchAt(e).matchFragment(n,r,a),s=i&&i.matchFragment(this.content,t);if(!s||!s.validEnd)return!1;for(let o=r;o<a;o++)if(!this.type.allowsMarks(n.child(o).marks))return!1;return!0}canReplaceWith(e,t,n,r){if(r&&!this.type.allowsMarks(r))return!1;let a=this.contentMatchAt(e).matchType(n),i=a&&a.matchFragment(this.content,t);return!!i&&i.validEnd}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=uN.none;for(let t=0;t<this.marks.length;t++){let n=this.marks[t];n.type.checkAttrs(n.attrs),e=n.addToSet(e)}if(!uN.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(e=>e.type.name)}`);this.content.forEach(e=>e.check())}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(e=>e.toJSON())),e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");let n;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=t.marks.map(e.markFromJSON)}if("text"==t.type){if("string"!=typeof t.text)throw new RangeError("Invalid text node in JSON");return e.text(t.text,n)}let r=oN.fromJSON(e,t.content),a=e.nodeType(t.type).create(t.attrs,r,n);return a.type.checkAttrs(a.attrs),a}};EN.prototype.text=void 0;class MN extends EN{constructor(e,t,n,r){if(super(e,t,null,r),!n)throw new RangeError("Empty text nodes are not allowed");this.text=n}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):PN(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,t){return this.text.slice(e,t)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new MN(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new MN(this.type,this.attrs,e,this.marks)}cut(e=0,t=this.text.length){return 0==e&&t==this.text.length?this:this.withText(this.text.slice(e,t))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function PN(e,t){for(let n=e.length-1;n>=0;n--)t=e[n].type.name+"("+t+")";return t}class DN{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,t){let n=new LN(e,t);if(null==n.next)return DN.empty;let r=IN(n);n.next&&n.err("Unexpected trailing text");let a=function(e){let t=Object.create(null);return function n(r){let a=[];r.forEach(t=>{e[t].forEach(({term:t,to:n})=>{if(!t)return;let r;for(let e=0;e<a.length;e++)a[e][0]==t&&(r=a[e][1]);WN(e,n).forEach(e=>{r||a.push([t,r=[]]),-1==r.indexOf(e)&&r.push(e)})})});let i=t[r.join(",")]=new DN(r.indexOf(e.length-1)>-1);for(let e=0;e<a.length;e++){let r=a[e][1].sort(BN);i.next.push({type:a[e][0],next:t[r.join(",")]||n(r)})}return i}(WN(e,0))}(function(e){let t=[[]];return a(function e(t,i){if("choice"==t.type)return t.exprs.reduce((t,n)=>t.concat(e(n,i)),[]);if("seq"!=t.type){if("star"==t.type){let s=n();return r(i,s),a(e(t.expr,s),s),[r(s)]}if("plus"==t.type){let s=n();return a(e(t.expr,i),s),a(e(t.expr,s),s),[r(s)]}if("opt"==t.type)return[r(i)].concat(e(t.expr,i));if("range"==t.type){let s=i;for(let r=0;r<t.min;r++){let r=n();a(e(t.expr,s),r),s=r}if(-1==t.max)a(e(t.expr,s),s);else for(let i=t.min;i<t.max;i++){let i=n();r(s,i),a(e(t.expr,s),i),s=i}return[r(s)]}if("name"==t.type)return[r(i,void 0,t.value)];throw new Error("Unknown expr type")}for(let r=0;;r++){let s=e(t.exprs[r],i);if(r==t.exprs.length-1)return s;a(s,i=n())}}(e,0),n()),t;function n(){return t.push([])-1}function r(e,n,r){let a={term:r,to:n};return t[e].push(a),a}function a(e,t){e.forEach(e=>e.to=t)}}(r));return function(e,t){for(let n=0,r=[e];n<r.length;n++){let e=r[n],a=!e.validEnd,i=[];for(let t=0;t<e.next.length;t++){let{type:n,next:s}=e.next[t];i.push(n.name),!a||n.isText||n.hasRequiredAttrs()||(a=!1),-1==r.indexOf(s)&&r.push(s)}a&&t.err("Only non-generatable nodes ("+i.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}(a,n),a}matchType(e){for(let t=0;t<this.next.length;t++)if(this.next[t].type==e)return this.next[t].next;return null}matchFragment(e,t=0,n=e.childCount){let r=this;for(let a=t;r&&a<n;a++)r=r.matchType(e.child(a).type);return r}get inlineContent(){return 0!=this.next.length&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:t}=this.next[e];if(!t.isText&&!t.hasRequiredAttrs())return t}return null}compatible(e){for(let t=0;t<this.next.length;t++)for(let n=0;n<e.next.length;n++)if(this.next[t].type==e.next[n].type)return!0;return!1}fillBefore(e,t=!1,n=0){let r=[this];return function a(i,s){let o=i.matchFragment(e,n);if(o&&(!t||o.validEnd))return oN.from(s.map(e=>e.createAndFill()));for(let e=0;e<i.next.length;e++){let{type:t,next:n}=i.next[e];if(!t.isText&&!t.hasRequiredAttrs()&&-1==r.indexOf(n)){r.push(n);let e=a(n,s.concat(t));if(e)return e}}return null}(this,[])}findWrapping(e){for(let n=0;n<this.wrapCache.length;n+=2)if(this.wrapCache[n]==e)return this.wrapCache[n+1];let t=this.computeWrapping(e);return this.wrapCache.push(e,t),t}computeWrapping(e){let t=Object.create(null),n=[{match:this,type:null,via:null}];for(;n.length;){let r=n.shift(),a=r.match;if(a.matchType(e)){let e=[];for(let t=r;t.type;t=t.via)e.push(t.type);return e.reverse()}for(let e=0;e<a.next.length;e++){let{type:i,next:s}=a.next[e];i.isLeaf||i.hasRequiredAttrs()||i.name in t||r.type&&!s.validEnd||(n.push({match:i.contentMatch,type:i,via:r}),t[i.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];return function t(n){e.push(n);for(let r=0;r<n.next.length;r++)-1==e.indexOf(n.next[r].next)&&t(n.next[r].next)}(this),e.map((t,n)=>{let r=n+(t.validEnd?"*":" ")+" ";for(let a=0;a<t.next.length;a++)r+=(a?", ":"")+t.next[a].type.name+"->"+e.indexOf(t.next[a].next);return r}).join("\n")}}DN.empty=new DN(!0);class LN{constructor(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function IN(e){let t=[];do{t.push(RN(e))}while(e.eat("|"));return 1==t.length?t[0]:{type:"choice",exprs:t}}function RN(e){let t=[];do{t.push(FN(e))}while(e.next&&")"!=e.next&&"|"!=e.next);return 1==t.length?t[0]:{type:"seq",exprs:t}}function FN(e){let t=function(e){if(e.eat("(")){let t=IN(e);return e.eat(")")||e.err("Missing closing paren"),t}if(!/\W/.test(e.next)){let t=function(e,t){let n=e.nodeTypes,r=n[t];if(r)return[r];let a=[];for(let i in n){let e=n[i];e.isInGroup(t)&&a.push(e)}return 0==a.length&&e.err("No node type or group '"+t+"' found"),a}(e,e.next).map(t=>(null==e.inline?e.inline=t.isInline:e.inline!=t.isInline&&e.err("Mixing inline and block content"),{type:"name",value:t}));return e.pos++,1==t.length?t[0]:{type:"choice",exprs:t}}e.err("Unexpected token '"+e.next+"'")}(e);for(;;)if(e.eat("+"))t={type:"plus",expr:t};else if(e.eat("*"))t={type:"star",expr:t};else if(e.eat("?"))t={type:"opt",expr:t};else{if(!e.eat("{"))break;t=zN(e,t)}return t}function HN(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");let t=Number(e.next);return e.pos++,t}function zN(e,t){let n=HN(e),r=n;return e.eat(",")&&(r="}"!=e.next?HN(e):-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:t}}function BN(e,t){return t-e}function WN(e,t){let n=[];return function t(r){let a=e[r];if(1==a.length&&!a[0].term)return t(a[0].to);n.push(r);for(let e=0;e<a.length;e++){let{term:r,to:i}=a[e];r||-1!=n.indexOf(i)||t(i)}}(t),n.sort(BN)}function $N(e){let t=Object.create(null);for(let n in e){let r=e[n];if(!r.hasDefault)return null;t[n]=r.default}return t}function UN(e,t){let n=Object.create(null);for(let r in e){let a=t&&t[r];if(void 0===a){let t=e[r];if(!t.hasDefault)throw new RangeError("No value supplied for attribute "+r);a=t.default}n[r]=a}return n}function VN(e,t,n,r){for(let a in t)if(!(a in e))throw new RangeError(`Unsupported attribute ${a} for ${n} of type ${a}`);for(let a in e){let n=e[a];n.validate&&n.validate(t[a])}}function qN(e,t){let n=Object.create(null);if(t)for(let r in t)n[r]=new YN(e,r,t[r]);return n}let GN=class e{constructor(e,t,n){this.name=e,this.schema=t,this.spec=n,this.markSet=null,this.groups=n.group?n.group.split(" "):[],this.attrs=qN(e,n.attrs),this.defaultAttrs=$N(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(n.inline||"text"==e),this.isText="text"==e}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==DN.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:UN(this.attrs,e)}create(e=null,t,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new EN(this,this.computeAttrs(e),oN.from(t),uN.setFrom(n))}createChecked(e=null,t,n){return t=oN.from(t),this.checkContent(t),new EN(this,this.computeAttrs(e),t,uN.setFrom(n))}createAndFill(e=null,t,n){if(e=this.computeAttrs(e),(t=oN.from(t)).size){let e=this.contentMatch.fillBefore(t);if(!e)return null;t=e.append(t)}let r=this.contentMatch.matchFragment(t),a=r&&r.fillBefore(oN.empty,!0);return a?new EN(this,e,t.append(a),uN.setFrom(n)):null}validContent(e){let t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(let n=0;n<e.childCount;n++)if(!this.allowsMarks(e.child(n).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){VN(this.attrs,e,"node",this.name)}allowsMarkType(e){return null==this.markSet||this.markSet.indexOf(e)>-1}allowsMarks(e){if(null==this.markSet)return!0;for(let t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0}allowedMarks(e){if(null==this.markSet)return e;let t;for(let n=0;n<e.length;n++)this.allowsMarkType(e[n].type)?t&&t.push(e[n]):t||(t=e.slice(0,n));return t?t.length?t:uN.none:e}static compile(t,n){let r=Object.create(null);t.forEach((t,a)=>r[t]=new e(t,n,a));let a=n.spec.topNode||"doc";if(!r[a])throw new RangeError("Schema is missing its top node type ('"+a+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let e in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};class YN{constructor(e,t,n){this.hasDefault=Object.prototype.hasOwnProperty.call(n,"default"),this.default=n.default,this.validate="string"==typeof n.validate?function(e,t,n){let r=n.split("|");return n=>{let a=null===n?"null":typeof n;if(r.indexOf(a)<0)throw new RangeError(`Expected value of type ${r} for attribute ${t} on type ${e}, got ${a}`)}}(e,t,n.validate):n.validate}get isRequired(){return!this.hasDefault}}class KN{constructor(e,t,n,r){this.name=e,this.rank=t,this.schema=n,this.spec=r,this.attrs=qN(e,r.attrs),this.excluded=null;let a=$N(this.attrs);this.instance=a?new uN(this,a):null}create(e=null){return!e&&this.instance?this.instance:new uN(this,UN(this.attrs,e))}static compile(e,t){let n=Object.create(null),r=0;return e.forEach((e,a)=>n[e]=new KN(e,r++,t,a)),n}removeFromSet(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e}isInSet(e){for(let t=0;t<e.length;t++)if(e[t].type==this)return e[t]}checkAttrs(e){VN(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class JN{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let t=this.spec={};for(let r in e)t[r]=e[r];t.nodes=aN.from(e.nodes),t.marks=aN.from(e.marks||{}),this.nodes=GN.compile(this.spec.nodes,this),this.marks=KN.compile(this.spec.marks,this);let n=Object.create(null);for(let r in this.nodes){if(r in this.marks)throw new RangeError(r+" can not be both a node and a mark");let e=this.nodes[r],t=e.spec.content||"",a=e.spec.marks;if(e.contentMatch=n[t]||(n[t]=DN.parse(t,this.nodes)),e.inlineContent=e.contentMatch.inlineContent,e.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!e.isInline||!e.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=e}e.markSet="_"==a?null:a?XN(this,a.split(" ")):""!=a&&e.inlineContent?null:[]}for(let r in this.marks){let e=this.marks[r],t=e.spec.excludes;e.excluded=null==t?[e]:""==t?[]:XN(this,t.split(" "))}this.nodeFromJSON=e=>EN.fromJSON(this,e),this.markFromJSON=e=>uN.fromJSON(this,e),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,t=null,n,r){if("string"==typeof e)e=this.nodeType(e);else{if(!(e instanceof GN))throw new RangeError("Invalid node type: "+e);if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}return e.createChecked(t,n,r)}text(e,t){let n=this.nodes.text;return new MN(n,n.defaultAttrs,e,uN.setFrom(t))}mark(e,t){return"string"==typeof e&&(e=this.marks[e]),e.create(t)}nodeType(e){let t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t}}function XN(e,t){let n=[];for(let r=0;r<t.length;r++){let a=t[r],i=e.marks[a],s=i;if(i)n.push(i);else for(let t in e.marks){let r=e.marks[t];("_"==a||r.spec.group&&r.spec.group.split(" ").indexOf(a)>-1)&&n.push(s=r)}if(!s)throw new SyntaxError("Unknown mark type: '"+t[r]+"'")}return n}class QN{constructor(e,t){this.schema=e,this.rules=t,this.tags=[],this.styles=[];let n=this.matchedStyles=[];t.forEach(e=>{if(function(e){return null!=e.tag}(e))this.tags.push(e);else if(function(e){return null!=e.style}(e)){let t=/[^=]*/.exec(e.style)[0];n.indexOf(t)<0&&n.push(t),this.styles.push(e)}}),this.normalizeLists=!this.tags.some(t=>{if(!/^(ul|ol)\b/.test(t.tag)||!t.node)return!1;let n=e.nodes[t.node];return n.contentMatch.matchType(n)})}parse(e,t={}){let n=new ak(this,t,!1);return n.addAll(e,uN.none,t.from,t.to),n.finish()}parseSlice(e,t={}){let n=new ak(this,t,!0);return n.addAll(e,uN.none,t.from,t.to),pN.maxOpen(n.finish())}matchTag(e,t,n){for(let r=n?this.tags.indexOf(n)+1:0;r<this.tags.length;r++){let n=this.tags[r];if(ik(e,n.tag)&&(void 0===n.namespace||e.namespaceURI==n.namespace)&&(!n.context||t.matchesContext(n.context))){if(n.getAttrs){let t=n.getAttrs(e);if(!1===t)continue;n.attrs=t||void 0}return n}}}matchStyle(e,t,n,r){for(let a=r?this.styles.indexOf(r)+1:0;a<this.styles.length;a++){let r=this.styles[a],i=r.style;if(!(0!=i.indexOf(e)||r.context&&!n.matchesContext(r.context)||i.length>e.length&&(61!=i.charCodeAt(e.length)||i.slice(e.length+1)!=t))){if(r.getAttrs){let e=r.getAttrs(t);if(!1===e)continue;r.attrs=e||void 0}return r}}}static schemaRules(e){let t=[];function n(e){let n=null==e.priority?50:e.priority,r=0;for(;r<t.length;r++){let e=t[r];if((null==e.priority?50:e.priority)<n)break}t.splice(r,0,e)}for(let r in e.marks){let t=e.marks[r].spec.parseDOM;t&&t.forEach(e=>{n(e=sk(e)),e.mark||e.ignore||e.clearMark||(e.mark=r)})}for(let r in e.nodes){let t=e.nodes[r].spec.parseDOM;t&&t.forEach(e=>{n(e=sk(e)),e.node||e.ignore||e.mark||(e.node=r)})}return t}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new QN(e,QN.schemaRules(e)))}}const ZN={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},ek={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},tk={ol:!0,ul:!0};function nk(e,t,n){return null!=t?(t?1:0)|("full"===t?2:0):e&&"pre"==e.whitespace?3:-5&n}class rk{constructor(e,t,n,r,a,i){this.type=e,this.attrs=t,this.marks=n,this.solid=r,this.options=i,this.content=[],this.activeMarks=uN.none,this.match=a||(4&i?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let t=this.type.contentMatch.fillBefore(oN.from(e));if(!t){let t,n=this.type.contentMatch;return(t=n.findWrapping(e.type))?(this.match=n,t):null}this.match=this.type.contentMatch.matchFragment(t)}return this.match.findWrapping(e.type)}finish(e){if(!(1&this.options)){let e,t=this.content[this.content.length-1];if(t&&t.isText&&(e=/[ \t\r\n\u000c]+$/.exec(t.text))){let n=t;t.text.length==e[0].length?this.content.pop():this.content[this.content.length-1]=n.withText(n.text.slice(0,n.text.length-e[0].length))}}let t=oN.from(this.content);return!e&&this.match&&(t=t.append(this.match.fillBefore(oN.empty,!0))),this.type?this.type.create(this.attrs,t,this.marks):t}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!ZN.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class ak{constructor(e,t,n){this.parser=e,this.options=t,this.isOpen=n,this.open=0,this.localPreserveWS=!1;let r,a=t.topNode,i=nk(null,t.preserveWhitespace,0)|(n?4:0);r=a?new rk(a.type,a.attrs,uN.none,!0,t.topMatch||a.type.contentMatch,i):new rk(n?null:e.schema.topNodeType,null,uN.none,!0,null,i),this.nodes=[r],this.find=t.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,t){3==e.nodeType?this.addTextNode(e,t):1==e.nodeType&&this.addElement(e,t)}addTextNode(e,t){let n=e.nodeValue,r=this.top,a=2&r.options?"full":this.localPreserveWS||(1&r.options)>0;if("full"===a||r.inlineContext(e)||/[^ \t\r\n\u000c]/.test(n)){if(a)n="full"!==a?n.replace(/\r?\n|\r/g," "):n.replace(/\r\n?/g,"\n");else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let t=r.content[r.content.length-1],a=e.previousSibling;(!t||a&&"BR"==a.nodeName||t.isText&&/[ \t\r\n\u000c]$/.test(t.text))&&(n=n.slice(1))}n&&this.insertNode(this.parser.schema.text(n),t,!/\S/.test(n)),this.findInText(e)}else this.findInside(e)}addElement(e,t,n){let r=this.localPreserveWS,a=this.top;("PRE"==e.tagName||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let i,s=e.nodeName.toLowerCase();tk.hasOwnProperty(s)&&this.parser.normalizeLists&&function(e){for(let t=e.firstChild,n=null;t;t=t.nextSibling){let e=1==t.nodeType?t.nodeName.toLowerCase():null;e&&tk.hasOwnProperty(e)&&n?(n.appendChild(t),t=n):"li"==e?n=t:e&&(n=null)}}(e);let o=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(i=this.parser.matchTag(e,this,n));e:if(o?o.ignore:ek.hasOwnProperty(s))this.findInside(e),this.ignoreFallback(e,t);else if(!o||o.skip||o.closeParent){o&&o.closeParent?this.open=Math.max(0,this.open-1):o&&o.skip.nodeType&&(e=o.skip);let n,r=this.needsBlock;if(ZN.hasOwnProperty(s))a.content.length&&a.content[0].isInline&&this.open&&(this.open--,a=this.top),n=!0,a.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,t);break e}let i=o&&o.skip?t:this.readStyles(e,t);i&&this.addAll(e,i),n&&this.sync(a),this.needsBlock=r}else{let n=this.readStyles(e,t);n&&this.addElementByRule(e,o,n,!1===o.consuming?i:void 0)}this.localPreserveWS=r}leafFallback(e,t){"BR"==e.nodeName&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode("\n"),t)}ignoreFallback(e,t){"BR"!=e.nodeName||this.top.type&&this.top.type.inlineContent||this.findPlace(this.parser.schema.text("-"),t,!0)}readStyles(e,t){let n=e.style;if(n&&n.length)for(let r=0;r<this.parser.matchedStyles.length;r++){let e=this.parser.matchedStyles[r],a=n.getPropertyValue(e);if(a)for(let n;;){let r=this.parser.matchStyle(e,a,this,n);if(!r)break;if(r.ignore)return null;if(t=r.clearMark?t.filter(e=>!r.clearMark(e)):t.concat(this.parser.schema.marks[r.mark].create(r.attrs)),!1!==r.consuming)break;n=r}}return t}addElementByRule(e,t,n,r){let a,i;if(t.node)if(i=this.parser.schema.nodes[t.node],i.isLeaf)this.insertNode(i.create(t.attrs),n,"BR"==e.nodeName)||this.leafFallback(e,n);else{let e=this.enter(i,t.attrs||null,n,t.preserveWhitespace);e&&(a=!0,n=e)}else{let e=this.parser.schema.marks[t.mark];n=n.concat(e.create(t.attrs))}let s=this.top;if(i&&i.isLeaf)this.findInside(e);else if(r)this.addElement(e,n,r);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach(e=>this.insertNode(e,n,!1));else{let r=e;"string"==typeof t.contentElement?r=e.querySelector(t.contentElement):"function"==typeof t.contentElement?r=t.contentElement(e):t.contentElement&&(r=t.contentElement),this.findAround(e,r,!0),this.addAll(r,n),this.findAround(e,r,!1)}a&&this.sync(s)&&this.open--}addAll(e,t,n,r){let a=n||0;for(let i=n?e.childNodes[n]:e.firstChild,s=null==r?null:e.childNodes[r];i!=s;i=i.nextSibling,++a)this.findAtPoint(e,a),this.addDOM(i,t);this.findAtPoint(e,a)}findPlace(e,t,n){let r,a;for(let i=this.open,s=0;i>=0;i--){let t=this.nodes[i],o=t.findWrapping(e);if(o&&(!r||r.length>o.length+s)&&(r=o,a=t,!o.length))break;if(t.solid){if(n)break;s+=2}}if(!r)return null;this.sync(a);for(let i=0;i<r.length;i++)t=this.enterInner(r[i],null,t,!1);return t}insertNode(e,t,n){if(e.isInline&&this.needsBlock&&!this.top.type){let e=this.textblockFromContext();e&&(t=this.enterInner(e,null,t))}let r=this.findPlace(e,t,n);if(r){this.closeExtra();let t=this.top;t.match&&(t.match=t.match.matchType(e.type));let n=uN.none;for(let a of r.concat(e.marks))(t.type?t.type.allowsMarkType(a.type):ok(a.type,e.type))&&(n=a.addToSet(n));return t.content.push(e.mark(n)),!0}return!1}enter(e,t,n,r){let a=this.findPlace(e.create(t),n,!1);return a&&(a=this.enterInner(e,t,n,!0,r)),a}enterInner(e,t,n,r=!1,a){this.closeExtra();let i=this.top;i.match=i.match&&i.match.matchType(e);let s=nk(e,a,i.options);4&i.options&&0==i.content.length&&(s|=4);let o=uN.none;return n=n.filter(t=>!(i.type?i.type.allowsMarkType(t.type):ok(t.type,e))||(o=t.addToSet(o),!1)),this.nodes.push(new rk(e,t,o,r,null,s)),this.open++,n}closeExtra(e=!1){let t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!(!this.isOpen&&!this.options.topOpen))}sync(e){for(let t=this.open;t>=0;t--){if(this.nodes[t]==e)return this.open=t,!0;this.localPreserveWS&&(this.nodes[t].options|=1)}return!1}get currentPos(){this.closeExtra();let e=0;for(let t=this.open;t>=0;t--){let n=this.nodes[t].content;for(let t=n.length-1;t>=0;t--)e+=n[t].nodeSize;t&&e++}return e}findAtPoint(e,t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&this.find[n].offset==t&&(this.find[n].pos=this.currentPos)}findInside(e){if(this.find)for(let t=0;t<this.find.length;t++)null==this.find[t].pos&&1==e.nodeType&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)}findAround(e,t,n){if(e!=t&&this.find)for(let r=0;r<this.find.length;r++)null==this.find[r].pos&&1==e.nodeType&&e.contains(this.find[r].node)&&t.compareDocumentPosition(this.find[r].node)&(n?2:4)&&(this.find[r].pos=this.currentPos)}findInText(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let t=e.split("/"),n=this.options.context,r=!(this.isOpen||n&&n.parent.type!=this.nodes[0].type),a=-(n?n.depth+1:0)+(r?0:1),i=(e,s)=>{for(;e>=0;e--){let o=t[e];if(""==o){if(e==t.length-1||0==e)continue;for(;s>=a;s--)if(i(e-1,s))return!0;return!1}{let e=s>0||0==s&&r?this.nodes[s].type:n&&s>=a?n.node(s-a).type:null;if(!e||e.name!=o&&!e.isInGroup(o))return!1;s--}}return!0};return i(t.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let t=e.depth;t>=0;t--){let n=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(let t in this.parser.schema.nodes){let e=this.parser.schema.nodes[t];if(e.isTextblock&&e.defaultAttrs)return e}}}function ik(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function sk(e){let t={};for(let n in e)t[n]=e[n];return t}function ok(e,t){let n=t.schema.nodes;for(let r in n){let a=n[r];if(!a.allowsMarkType(e))continue;let i=[],s=e=>{i.push(e);for(let n=0;n<e.edgeCount;n++){let{type:r,next:a}=e.edge(n);if(r==t)return!0;if(i.indexOf(a)<0&&s(a))return!0}};if(s(a.contentMatch))return!0}}class lk{constructor(e,t){this.nodes=e,this.marks=t}serializeFragment(e,t={},n){n||(n=dk(t).createDocumentFragment());let r=n,a=[];return e.forEach(e=>{if(a.length||e.marks.length){let n=0,i=0;for(;n<a.length&&i<e.marks.length;){let t=e.marks[i];if(this.marks[t.type.name]){if(!t.eq(a[n][0])||!1===t.type.spec.spanning)break;n++,i++}else i++}for(;n<a.length;)r=a.pop()[1];for(;i<e.marks.length;){let n=e.marks[i++],s=this.serializeMark(n,e.isInline,t);s&&(a.push([n,r]),r.appendChild(s.dom),r=s.contentDOM||s.dom)}}r.appendChild(this.serializeNodeInner(e,t))}),n}serializeNodeInner(e,t){let{dom:n,contentDOM:r}=hk(dk(t),this.nodes[e.type.name](e),null,e.attrs);if(r){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,t,r)}return n}serializeNode(e,t={}){let n=this.serializeNodeInner(e,t);for(let r=e.marks.length-1;r>=0;r--){let a=this.serializeMark(e.marks[r],e.isInline,t);a&&((a.contentDOM||a.dom).appendChild(n),n=a.dom)}return n}serializeMark(e,t,n={}){let r=this.marks[e.type.name];return r&&hk(dk(n),r(e,t),null,e.attrs)}static renderSpec(e,t,n=null,r){return hk(e,t,n,r)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new lk(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let t=ck(e.nodes);return t.text||(t.text=e=>e.text),t}static marksFromSchema(e){return ck(e.marks)}}function ck(e){let t={};for(let n in e){let r=e[n].spec.toDOM;r&&(t[n]=r)}return t}function dk(e){return e.document||window.document}const uk=new WeakMap;function hk(e,t,n,r){if("string"==typeof t)return{dom:e.createTextNode(t)};if(null!=t.nodeType)return{dom:t};if(t.dom&&null!=t.dom.nodeType)return t;let a,i=t[0];if("string"!=typeof i)throw new RangeError("Invalid array passed to renderSpec");if(r&&(a=function(e){let t=uk.get(e);return void 0===t&&uk.set(e,t=function(e){let t=null;return function e(n){if(n&&"object"==typeof n)if(Array.isArray(n))if("string"==typeof n[0])t||(t=[]),t.push(n);else for(let t=0;t<n.length;t++)e(n[t]);else for(let t in n)e(n[t])}(e),t}(e)),t}(r))&&a.indexOf(t)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let s,o=i.indexOf(" ");o>0&&(n=i.slice(0,o),i=i.slice(o+1));let l=n?e.createElementNS(n,i):e.createElement(i),c=t[1],d=1;if(c&&"object"==typeof c&&null==c.nodeType&&!Array.isArray(c)){d=2;for(let e in c)if(null!=c[e]){let t=e.indexOf(" ");t>0?l.setAttributeNS(e.slice(0,t),e.slice(t+1),c[e]):"style"==e&&l.style?l.style.cssText=c[e]:l.setAttribute(e,c[e])}}for(let u=d;u<t.length;u++){let a=t[u];if(0===a){if(u<t.length-1||u>d)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}{let{dom:t,contentDOM:i}=hk(e,a,n,r);if(l.appendChild(t),i){if(s)throw new RangeError("Multiple content holes");s=i}}}return{dom:l,contentDOM:s}}const pk=Math.pow(2,16);function mk(e,t){return e+t*pk}function fk(e){return 65535&e}class gk{constructor(e,t,n){this.pos=e,this.delInfo=t,this.recover=n}get deleted(){return(8&this.delInfo)>0}get deletedBefore(){return(5&this.delInfo)>0}get deletedAfter(){return(6&this.delInfo)>0}get deletedAcross(){return(4&this.delInfo)>0}}class xk{constructor(e,t=!1){if(this.ranges=e,this.inverted=t,!e.length&&xk.empty)return xk.empty}recover(e){let t=0,n=fk(e);if(!this.inverted)for(let r=0;r<n;r++)t+=this.ranges[3*r+2]-this.ranges[3*r+1];return this.ranges[3*n]+t+function(e){return(e-(65535&e))/pk}(e)}mapResult(e,t=1){return this._map(e,t,!1)}map(e,t=1){return this._map(e,t,!0)}_map(e,t,n){let r=0,a=this.inverted?2:1,i=this.inverted?1:2;for(let s=0;s<this.ranges.length;s+=3){let o=this.ranges[s]-(this.inverted?r:0);if(o>e)break;let l=this.ranges[s+a],c=this.ranges[s+i],d=o+l;if(e<=d){let a=o+r+((l?e==o?-1:e==d?1:t:t)<0?0:c);if(n)return a;let i=e==(t<0?o:d)?null:mk(s/3,e-o),u=e==o?2:e==d?1:4;return(t<0?e!=o:e!=d)&&(u|=8),new gk(a,u,i)}r+=c-l}return n?e+r:new gk(e+r,0,null)}touches(e,t){let n=0,r=fk(t),a=this.inverted?2:1,i=this.inverted?1:2;for(let s=0;s<this.ranges.length;s+=3){let t=this.ranges[s]-(this.inverted?n:0);if(t>e)break;let o=this.ranges[s+a];if(e<=t+o&&s==3*r)return!0;n+=this.ranges[s+i]-o}return!1}forEach(e){let t=this.inverted?2:1,n=this.inverted?1:2;for(let r=0,a=0;r<this.ranges.length;r+=3){let i=this.ranges[r],s=i-(this.inverted?a:0),o=i+(this.inverted?0:a),l=this.ranges[r+t],c=this.ranges[r+n];e(s,s+l,o,o+c),a+=c-l}}invert(){return new xk(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return 0==e?xk.empty:new xk(e<0?[0,-e,0]:[0,0,e])}}xk.empty=new xk([]);class bk{constructor(e,t,n=0,r=(e?e.length:0)){this.mirror=t,this.from=n,this.to=r,this._maps=e||[],this.ownData=!(e||t)}get maps(){return this._maps}slice(e=0,t=this.maps.length){return new bk(this._maps,this.mirror,e,t)}appendMap(e,t){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),null!=t&&this.setMirror(this._maps.length-1,t)}appendMapping(e){for(let t=0,n=this._maps.length;t<e._maps.length;t++){let r=e.getMirror(t);this.appendMap(e._maps[t],null!=r&&r<t?n+r:void 0)}}getMirror(e){if(this.mirror)for(let t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}setMirror(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)}appendMappingInverted(e){for(let t=e.maps.length-1,n=this._maps.length+e._maps.length;t>=0;t--){let r=e.getMirror(t);this.appendMap(e._maps[t].invert(),null!=r&&r>t?n-r-1:void 0)}}invert(){let e=new bk;return e.appendMappingInverted(this),e}map(e,t=1){if(this.mirror)return this._map(e,t,!0);for(let n=this.from;n<this.to;n++)e=this._maps[n].map(e,t);return e}mapResult(e,t=1){return this._map(e,t,!1)}_map(e,t,n){let r=0;for(let a=this.from;a<this.to;a++){let n=this._maps[a].mapResult(e,t);if(null!=n.recover){let t=this.getMirror(a);if(null!=t&&t>a&&t<this.to){a=t,e=this._maps[t].recover(n.recover);continue}}r|=n.delInfo,e=n.pos}return n?e:new gk(e,r,null)}}const yk=Object.create(null);let vk=class{getMap(){return xk.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let n=yk[t.stepType];if(!n)throw new RangeError(`No step type ${t.stepType} defined`);return n.fromJSON(e,t)}static jsonID(e,t){if(e in yk)throw new RangeError("Duplicate use of step JSON ID "+e);return yk[e]=t,t.prototype.jsonID=e,t}};class wk{constructor(e,t){this.doc=e,this.failed=t}static ok(e){return new wk(e,null)}static fail(e){return new wk(null,e)}static fromReplace(e,t,n,r){try{return wk.ok(e.replace(t,n,r))}catch(Ew){if(Ew instanceof hN)return wk.fail(Ew.message);throw Ew}}}function jk(e,t,n){let r=[];for(let a=0;a<e.childCount;a++){let i=e.child(a);i.content.size&&(i=i.copy(jk(i.content,t,i))),i.isInline&&(i=t(i,n,a)),r.push(i)}return oN.fromArray(r)}class Nk extends vk{constructor(e,t,n){super(),this.from=e,this.to=t,this.mark=n}apply(e){let t=e.slice(this.from,this.to),n=e.resolve(this.from),r=n.node(n.sharedDepth(this.to)),a=new pN(jk(t.content,(e,t)=>e.isAtom&&t.type.allowsMarkType(this.mark.type)?e.mark(this.mark.addToSet(e.marks)):e,r),t.openStart,t.openEnd);return wk.fromReplace(e,this.from,this.to,a)}invert(){return new kk(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deleted&&n.deleted||t.pos>=n.pos?null:new Nk(t.pos,n.pos,this.mark)}merge(e){return e instanceof Nk&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Nk(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to)throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Nk(t.from,t.to,e.markFromJSON(t.mark))}}vk.jsonID("addMark",Nk);class kk extends vk{constructor(e,t,n){super(),this.from=e,this.to=t,this.mark=n}apply(e){let t=e.slice(this.from,this.to),n=new pN(jk(t.content,e=>e.mark(this.mark.removeFromSet(e.marks)),e),t.openStart,t.openEnd);return wk.fromReplace(e,this.from,this.to,n)}invert(){return new Nk(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deleted&&n.deleted||t.pos>=n.pos?null:new kk(t.pos,n.pos,this.mark)}merge(e){return e instanceof kk&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new kk(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to)throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new kk(t.from,t.to,e.markFromJSON(t.mark))}}vk.jsonID("removeMark",kk);class Sk extends vk{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return wk.fail("No node at mark step's position");let n=t.type.create(t.attrs,null,this.mark.addToSet(t.marks));return wk.fromReplace(e,this.pos,this.pos+1,new pN(oN.from(n),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);if(t){let e=this.mark.addToSet(t.marks);if(e.length==t.marks.length){for(let n=0;n<t.marks.length;n++)if(!t.marks[n].isInSet(e))return new Sk(this.pos,t.marks[n]);return new Sk(this.pos,this.mark)}}return new Ck(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Sk(t.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if("number"!=typeof t.pos)throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Sk(t.pos,e.markFromJSON(t.mark))}}vk.jsonID("addNodeMark",Sk);class Ck extends vk{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return wk.fail("No node at mark step's position");let n=t.type.create(t.attrs,null,this.mark.removeFromSet(t.marks));return wk.fromReplace(e,this.pos,this.pos+1,new pN(oN.from(n),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);return t&&this.mark.isInSet(t.marks)?new Sk(this.pos,this.mark):this}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Ck(t.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if("number"!=typeof t.pos)throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Ck(t.pos,e.markFromJSON(t.mark))}}vk.jsonID("removeNodeMark",Ck);class _k extends vk{constructor(e,t,n,r=!1){super(),this.from=e,this.to=t,this.slice=n,this.structure=r}apply(e){return this.structure&&Tk(e,this.from,this.to)?wk.fail("Structure replace would overwrite content"):wk.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new xk([this.from,this.to-this.from,this.slice.size])}invert(e){return new _k(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deletedAcross&&n.deletedAcross?null:new _k(t.pos,Math.max(t.pos,n.pos),this.slice,this.structure)}merge(e){if(!(e instanceof _k)||e.structure||this.structure)return null;if(this.from+this.slice.size!=e.from||this.slice.openEnd||e.slice.openStart){if(e.to!=this.from||this.slice.openStart||e.slice.openEnd)return null;{let t=this.slice.size+e.slice.size==0?pN.empty:new pN(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new _k(e.from,this.to,t,this.structure)}}{let t=this.slice.size+e.slice.size==0?pN.empty:new pN(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new _k(this.from,this.to+(e.to-e.from),t,this.structure)}}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to)throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new _k(t.from,t.to,pN.fromJSON(e,t.slice),!!t.structure)}}vk.jsonID("replace",_k);class Ak extends vk{constructor(e,t,n,r,a,i,s=!1){super(),this.from=e,this.to=t,this.gapFrom=n,this.gapTo=r,this.slice=a,this.insert=i,this.structure=s}apply(e){if(this.structure&&(Tk(e,this.from,this.gapFrom)||Tk(e,this.gapTo,this.to)))return wk.fail("Structure gap-replace would overwrite content");let t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return wk.fail("Gap is not a flat range");let n=this.slice.insertAt(this.insert,t.content);return n?wk.fromReplace(e,this.from,this.to,n):wk.fail("Content does not fit in gap")}getMap(){return new xk([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let t=this.gapTo-this.gapFrom;return new Ak(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1),r=this.from==this.gapFrom?t.pos:e.map(this.gapFrom,-1),a=this.to==this.gapTo?n.pos:e.map(this.gapTo,1);return t.deletedAcross&&n.deletedAcross||r<t.pos||a>n.pos?null:new Ak(t.pos,n.pos,r,a,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to||"number"!=typeof t.gapFrom||"number"!=typeof t.gapTo||"number"!=typeof t.insert)throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Ak(t.from,t.to,t.gapFrom,t.gapTo,pN.fromJSON(e,t.slice),t.insert,!!t.structure)}}function Tk(e,t,n){let r=e.resolve(t),a=n-t,i=r.depth;for(;a>0&&i>0&&r.indexAfter(i)==r.node(i).childCount;)i--,a--;if(a>0){let e=r.node(i).maybeChild(r.indexAfter(i));for(;a>0;){if(!e||e.isLeaf)return!0;e=e.firstChild,a--}}return!1}function Ok(e,t,n,r=n.contentMatch,a=!0){let i=e.doc.nodeAt(t),s=[],o=t+1;for(let l=0;l<i.childCount;l++){let t=i.child(l),c=o+t.nodeSize,d=r.matchType(t.type);if(d){r=d;for(let r=0;r<t.marks.length;r++)n.allowsMarkType(t.marks[r].type)||e.step(new kk(o,c,t.marks[r]));if(a&&t.isText&&"pre"!=n.whitespace){let e,r,a=/\r?\n|\r/g;for(;e=a.exec(t.text);)r||(r=new pN(oN.from(n.schema.text(" ",n.allowedMarks(t.marks))),0,0)),s.push(new _k(o+e.index,o+e.index+e[0].length,r))}}else s.push(new _k(o,c,pN.empty));o=c}if(!r.validEnd){let t=r.fillBefore(oN.empty,!0);e.replace(o,o,new pN(t,0,0))}for(let l=s.length-1;l>=0;l--)e.step(s[l])}function Ek(e,t,n){return(0==t||e.canReplace(t,e.childCount))&&(n==e.childCount||e.canReplace(0,n))}function Mk(e){let t=e.parent.content.cutByIndex(e.startIndex,e.endIndex);for(let n=e.depth;;--n){let r=e.$from.node(n),a=e.$from.index(n),i=e.$to.indexAfter(n);if(n<e.depth&&r.canReplace(a,i,t))return n;if(0==n||r.type.spec.isolating||!Ek(r,a,i))break}return null}function Pk(e,t,n=null,r=e){let a=function(e,t){let{parent:n,startIndex:r,endIndex:a}=e,i=n.contentMatchAt(r).findWrapping(t);if(!i)return null;let s=i.length?i[0]:t;return n.canReplaceWith(r,a,s)?i:null}(e,t),i=a&&function(e,t){let{parent:n,startIndex:r,endIndex:a}=e,i=n.child(r),s=t.contentMatch.findWrapping(i.type);if(!s)return null;let o=(s.length?s[s.length-1]:t).contentMatch;for(let l=r;o&&l<a;l++)o=o.matchType(n.child(l).type);return o&&o.validEnd?s:null}(r,t);return i?a.map(Dk).concat({type:t,attrs:n}).concat(i.map(Dk)):null}function Dk(e){return{type:e,attrs:null}}function Lk(e,t,n,r){t.forEach((a,i)=>{if(a.isText){let s,o=/\r?\n|\r/g;for(;s=o.exec(a.text);){let a=e.mapping.slice(r).map(n+1+i+s.index);e.replaceWith(a,a+1,t.type.schema.linebreakReplacement.create())}}})}function Ik(e,t,n,r){t.forEach((a,i)=>{if(a.type==a.type.schema.linebreakReplacement){let a=e.mapping.slice(r).map(n+1+i);e.replaceWith(a,a+1,t.type.schema.text("\n"))}})}function Rk(e,t,n=1,r){let a=e.resolve(t),i=a.depth-n,s=r&&r[r.length-1]||a.parent;if(i<0||a.parent.type.spec.isolating||!a.parent.canReplace(a.index(),a.parent.childCount)||!s.type.validContent(a.parent.content.cutByIndex(a.index(),a.parent.childCount)))return!1;for(let c=a.depth-1,d=n-2;c>i;c--,d--){let e=a.node(c),t=a.index(c);if(e.type.spec.isolating)return!1;let n=e.content.cutByIndex(t,e.childCount),i=r&&r[d+1];i&&(n=n.replaceChild(0,i.type.create(i.attrs)));let s=r&&r[d]||e;if(!e.canReplace(t+1,e.childCount)||!s.type.validContent(n))return!1}let o=a.indexAfter(i),l=r&&r[0];return a.node(i).canReplaceWith(o,o,l?l.type:a.node(i+1).type)}function Fk(e,t){let n=e.resolve(t),r=n.index();return Hk(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function Hk(e,t){return!(!e||!t||e.isLeaf||!function(e,t){t.content.size||e.type.compatibleContent(t.type);let n=e.contentMatchAt(e.childCount),{linebreakReplacement:r}=e.type.schema;for(let a=0;a<t.childCount;a++){let i=t.child(a),s=i.type==r?e.type.schema.nodes.text:i.type;if(n=n.matchType(s),!n)return!1;if(!e.type.allowsMarks(i.marks))return!1}return n.validEnd}(e,t))}function zk(e,t,n=-1){let r=e.resolve(t);for(let a=r.depth;;a--){let e,i,s=r.index(a);if(a==r.depth?(e=r.nodeBefore,i=r.nodeAfter):n>0?(e=r.node(a+1),s++,i=r.node(a).maybeChild(s)):(e=r.node(a).maybeChild(s-1),i=r.node(a+1)),e&&!e.isTextblock&&Hk(e,i)&&r.node(a).canReplace(s,s+1))return t;if(0==a)break;t=n<0?r.before(a):r.after(a)}}function Bk(e,t,n){let r=e.resolve(t);if(!n.content.size)return t;let a=n.content;for(let i=0;i<n.openStart;i++)a=a.firstChild.content;for(let i=1;i<=(0==n.openStart&&n.size?2:1);i++)for(let e=r.depth;e>=0;e--){let t=e==r.depth?0:r.pos<=(r.start(e+1)+r.end(e+1))/2?-1:1,n=r.index(e)+(t>0?1:0),s=r.node(e),o=!1;if(1==i)o=s.canReplace(n,n,a);else{let e=s.contentMatchAt(n).findWrapping(a.firstChild.type);o=e&&s.canReplaceWith(n,n,e[0])}if(o)return 0==t?r.pos:t<0?r.before(e+1):r.after(e+1)}return null}function Wk(e,t,n=t,r=pN.empty){if(t==n&&!r.size)return null;let a=e.resolve(t),i=e.resolve(n);return $k(a,i,r)?new _k(t,n,r):new Uk(a,i,r).fit()}function $k(e,t,n){return!n.openStart&&!n.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),n.content)}vk.jsonID("replaceAround",Ak);class Uk{constructor(e,t,n){this.$from=e,this.$to=t,this.unplaced=n,this.frontier=[],this.placed=oN.empty;for(let r=0;r<=e.depth;r++){let t=e.node(r);this.frontier.push({type:t.type,match:t.contentMatchAt(e.indexAfter(r))})}for(let r=e.depth;r>0;r--)this.placed=oN.from(e.node(r).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let e=this.findFittable();e?this.placeNodes(e):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,n=this.$from,r=this.close(e<0?this.$to:n.doc.resolve(e));if(!r)return null;let a=this.placed,i=n.depth,s=r.depth;for(;i&&s&&1==a.childCount;)a=a.firstChild.content,i--,s--;let o=new pN(a,i,s);return e>-1?new Ak(n.pos,e,this.$to.pos,this.$to.end(),o,t):o.size||n.pos!=this.$to.pos?new _k(n.pos,r.pos,o):null}findFittable(){let e=this.unplaced.openStart;for(let t=this.unplaced.content,n=0,r=this.unplaced.openEnd;n<e;n++){let a=t.firstChild;if(t.childCount>1&&(r=0),a.type.spec.isolating&&r<=n){e=n;break}t=a.content}for(let t=1;t<=2;t++)for(let n=1==t?e:this.unplaced.openStart;n>=0;n--){let e,r=null;n?(r=Gk(this.unplaced.content,n-1).firstChild,e=r.content):e=this.unplaced.content;let a=e.firstChild;for(let i=this.depth;i>=0;i--){let e,{type:s,match:o}=this.frontier[i],l=null;if(1==t&&(a?o.matchType(a.type)||(l=o.fillBefore(oN.from(a),!1)):r&&s.compatibleContent(r.type)))return{sliceDepth:n,frontierDepth:i,parent:r,inject:l};if(2==t&&a&&(e=o.findWrapping(a.type)))return{sliceDepth:n,frontierDepth:i,parent:r,wrap:e};if(r&&o.matchType(r.type))break}}}openMore(){let{content:e,openStart:t,openEnd:n}=this.unplaced,r=Gk(e,t);return!(!r.childCount||r.firstChild.isLeaf||(this.unplaced=new pN(e,t+1,Math.max(n,r.size+t>=e.size-n?t+1:0)),0))}dropNode(){let{content:e,openStart:t,openEnd:n}=this.unplaced,r=Gk(e,t);if(r.childCount<=1&&t>0){let a=e.size-t<=t+r.size;this.unplaced=new pN(Vk(e,t-1,1),t-1,a?t-1:n)}else this.unplaced=new pN(Vk(e,t,1),t,n)}placeNodes({sliceDepth:e,frontierDepth:t,parent:n,inject:r,wrap:a}){for(;this.depth>t;)this.closeFrontierNode();if(a)for(let m=0;m<a.length;m++)this.openFrontierNode(a[m]);let i=this.unplaced,s=n?n.content:i.content,o=i.openStart-e,l=0,c=[],{match:d,type:u}=this.frontier[t];if(r){for(let e=0;e<r.childCount;e++)c.push(r.child(e));d=d.matchFragment(r)}let h=s.size+e-(i.content.size-i.openEnd);for(;l<s.childCount;){let e=s.child(l),t=d.matchType(e.type);if(!t)break;l++,(l>1||0==o||e.content.size)&&(d=t,c.push(Yk(e.mark(u.allowedMarks(e.marks)),1==l?o:0,l==s.childCount?h:-1)))}let p=l==s.childCount;p||(h=-1),this.placed=qk(this.placed,t,oN.from(c)),this.frontier[t].match=d,p&&h<0&&n&&n.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let m=0,f=s;m<h;m++){let e=f.lastChild;this.frontier.push({type:e.type,match:e.contentMatchAt(e.childCount)}),f=e.content}this.unplaced=p?0==e?pN.empty:new pN(Vk(i.content,e-1,1),e-1,h<0?i.openEnd:e-1):new pN(Vk(i.content,e,l),i.openStart,i.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e,t=this.frontier[this.depth];if(!t.type.isTextblock||!Kk(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(e=this.findCloseLevel(this.$to))&&e.depth==this.depth)return-1;let{depth:n}=this.$to,r=this.$to.after(n);for(;n>1&&r==this.$to.end(--n);)++r;return r}findCloseLevel(e){e:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:n,type:r}=this.frontier[t],a=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),i=Kk(e,t,r,n,a);if(i){for(let n=t-1;n>=0;n--){let{match:t,type:r}=this.frontier[n],a=Kk(e,n,r,t,!0);if(!a||a.childCount)continue e}return{depth:t,fit:i,move:a?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=qk(this.placed,t.depth,t.fit)),e=t.move;for(let n=t.depth+1;n<=e.depth;n++){let t=e.node(n),r=t.type.contentMatch.fillBefore(t.content,!0,e.index(n));this.openFrontierNode(t.type,t.attrs,r)}return e}openFrontierNode(e,t=null,n){let r=this.frontier[this.depth];r.match=r.match.matchType(e),this.placed=qk(this.placed,this.depth,oN.from(e.create(t,n))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let e=this.frontier.pop().match.fillBefore(oN.empty,!0);e.childCount&&(this.placed=qk(this.placed,this.frontier.length,e))}}function Vk(e,t,n){return 0==t?e.cutByIndex(n,e.childCount):e.replaceChild(0,e.firstChild.copy(Vk(e.firstChild.content,t-1,n)))}function qk(e,t,n){return 0==t?e.append(n):e.replaceChild(e.childCount-1,e.lastChild.copy(qk(e.lastChild.content,t-1,n)))}function Gk(e,t){for(let n=0;n<t;n++)e=e.firstChild.content;return e}function Yk(e,t,n){if(t<=0)return e;let r=e.content;return t>1&&(r=r.replaceChild(0,Yk(r.firstChild,t-1,1==r.childCount?n-1:0))),t>0&&(r=e.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(e.type.contentMatch.matchFragment(r).fillBefore(oN.empty,!0)))),e.copy(r)}function Kk(e,t,n,r,a){let i=e.node(t),s=a?e.indexAfter(t):e.index(t);if(s==i.childCount&&!n.compatibleContent(i.type))return null;let o=r.fillBefore(i.content,!0,s);return o&&!function(e,t,n){for(let r=n;r<t.childCount;r++)if(!e.allowsMarks(t.child(r).marks))return!0;return!1}(n,i.content,s)?o:null}function Jk(e){return e.spec.defining||e.spec.definingForContent}function Xk(e,t,n,r,a){if(t<n){let a=e.firstChild;e=e.replaceChild(0,a.copy(Xk(a.content,t+1,n,r,a)))}if(t>r){let t=a.contentMatchAt(0),n=t.fillBefore(e).append(e);e=n.append(t.matchFragment(n).fillBefore(oN.empty,!0))}return e}function Qk(e,t){let n=[];for(let r=Math.min(e.depth,t.depth);r>=0;r--){let a=e.start(r);if(a<e.pos-(e.depth-r)||t.end(r)>t.pos+(t.depth-r)||e.node(r).type.spec.isolating||t.node(r).type.spec.isolating)break;(a==t.start(r)||r==e.depth&&r==t.depth&&e.parent.inlineContent&&t.parent.inlineContent&&r&&t.start(r-1)==a-1)&&n.push(r)}return n}class Zk extends vk{constructor(e,t,n){super(),this.pos=e,this.attr=t,this.value=n}apply(e){let t=e.nodeAt(this.pos);if(!t)return wk.fail("No node at attribute step's position");let n=Object.create(null);for(let a in t.attrs)n[a]=t.attrs[a];n[this.attr]=this.value;let r=t.type.create(n,null,t.marks);return wk.fromReplace(e,this.pos,this.pos+1,new pN(oN.from(r),0,t.isLeaf?0:1))}getMap(){return xk.empty}invert(e){return new Zk(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Zk(t.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,t){if("number"!=typeof t.pos||"string"!=typeof t.attr)throw new RangeError("Invalid input for AttrStep.fromJSON");return new Zk(t.pos,t.attr,t.value)}}vk.jsonID("attr",Zk);class eS extends vk{constructor(e,t){super(),this.attr=e,this.value=t}apply(e){let t=Object.create(null);for(let r in e.attrs)t[r]=e.attrs[r];t[this.attr]=this.value;let n=e.type.create(t,e.content,e.marks);return wk.ok(n)}getMap(){return xk.empty}invert(e){return new eS(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,t){if("string"!=typeof t.attr)throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new eS(t.attr,t.value)}}vk.jsonID("docAttr",eS);let tS=class extends Error{};tS=function e(t){let n=Error.call(this,t);return n.__proto__=e.prototype,n},(tS.prototype=Object.create(Error.prototype)).constructor=tS,tS.prototype.name="TransformError";class nS{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new bk}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let t=this.maybeStep(e);if(t.failed)throw new tS(t.failed);return this}maybeStep(e){let t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}get docChanged(){return this.steps.length>0}addStep(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}replace(e,t=e,n=pN.empty){let r=Wk(this.doc,e,t,n);return r&&this.step(r),this}replaceWith(e,t,n){return this.replace(e,t,new pN(oN.from(n),0,0))}delete(e,t){return this.replace(e,t,pN.empty)}insert(e,t){return this.replaceWith(e,e,t)}replaceRange(e,t,n){return function(e,t,n,r){if(!r.size)return e.deleteRange(t,n);let a=e.doc.resolve(t),i=e.doc.resolve(n);if($k(a,i,r))return e.step(new _k(t,n,r));let s=Qk(a,e.doc.resolve(n));0==s[s.length-1]&&s.pop();let o=-(a.depth+1);s.unshift(o);for(let h=a.depth,p=a.pos-1;h>0;h--,p--){let e=a.node(h).type.spec;if(e.defining||e.definingAsContext||e.isolating)break;s.indexOf(h)>-1?o=h:a.before(h)==p&&s.splice(1,0,-h)}let l=s.indexOf(o),c=[],d=r.openStart;for(let h=r.content,p=0;;p++){let e=h.firstChild;if(c.push(e),p==r.openStart)break;h=e.content}for(let h=d-1;h>=0;h--){let e=c[h],t=Jk(e.type);if(t&&!e.sameMarkup(a.node(Math.abs(o)-1)))d=h;else if(t||!e.type.isTextblock)break}for(let h=r.openStart;h>=0;h--){let t=(h+d+1)%(r.openStart+1),o=c[t];if(o)for(let c=0;c<s.length;c++){let d=s[(c+l)%s.length],u=!0;d<0&&(u=!1,d=-d);let h=a.node(d-1),p=a.index(d-1);if(h.canReplaceWith(p,p,o.type,o.marks))return e.replace(a.before(d),u?i.after(d):n,new pN(Xk(r.content,0,r.openStart,t),t,r.openEnd))}}let u=e.steps.length;for(let h=s.length-1;h>=0&&(e.replace(t,n,r),!(e.steps.length>u));h--){let e=s[h];e<0||(t=a.before(e),n=i.after(e))}}(this,e,t,n),this}replaceRangeWith(e,t,n){return function(e,t,n,r){if(!r.isInline&&t==n&&e.doc.resolve(t).parent.content.size){let a=function(e,t,n){let r=e.resolve(t);if(r.parent.canReplaceWith(r.index(),r.index(),n))return t;if(0==r.parentOffset)for(let a=r.depth-1;a>=0;a--){let e=r.index(a);if(r.node(a).canReplaceWith(e,e,n))return r.before(a+1);if(e>0)return null}if(r.parentOffset==r.parent.content.size)for(let a=r.depth-1;a>=0;a--){let e=r.indexAfter(a);if(r.node(a).canReplaceWith(e,e,n))return r.after(a+1);if(e<r.node(a).childCount)return null}return null}(e.doc,t,r.type);null!=a&&(t=n=a)}e.replaceRange(t,n,new pN(oN.from(r),0,0))}(this,e,t,n),this}deleteRange(e,t){return function(e,t,n){let r=e.doc.resolve(t),a=e.doc.resolve(n),i=Qk(r,a);for(let s=0;s<i.length;s++){let t=i[s],n=s==i.length-1;if(n&&0==t||r.node(t).type.contentMatch.validEnd)return e.delete(r.start(t),a.end(t));if(t>0&&(n||r.node(t-1).canReplace(r.index(t-1),a.indexAfter(t-1))))return e.delete(r.before(t),a.after(t))}for(let s=1;s<=r.depth&&s<=a.depth;s++)if(t-r.start(s)==r.depth-s&&n>r.end(s)&&a.end(s)-n!=a.depth-s&&r.start(s-1)==a.start(s-1)&&r.node(s-1).canReplace(r.index(s-1),a.index(s-1)))return e.delete(r.before(s),n);e.delete(t,n)}(this,e,t),this}lift(e,t){return function(e,t,n){let{$from:r,$to:a,depth:i}=t,s=r.before(i+1),o=a.after(i+1),l=s,c=o,d=oN.empty,u=0;for(let m=i,f=!1;m>n;m--)f||r.index(m)>0?(f=!0,d=oN.from(r.node(m).copy(d)),u++):l--;let h=oN.empty,p=0;for(let m=i,f=!1;m>n;m--)f||a.after(m+1)<a.end(m)?(f=!0,h=oN.from(a.node(m).copy(h)),p++):c++;e.step(new Ak(l,c,s,o,new pN(d.append(h),u,p),d.size-u,!0))}(this,e,t),this}join(e,t=1){return function(e,t,n){let r=null,{linebreakReplacement:a}=e.doc.type.schema,i=e.doc.resolve(t-n),s=i.node().type;if(a&&s.inlineContent){let e="pre"==s.whitespace,t=!!s.contentMatch.matchType(a);e&&!t?r=!1:!e&&t&&(r=!0)}let o=e.steps.length;if(!1===r){let r=e.doc.resolve(t+n);Ik(e,r.node(),r.before(),o)}s.inlineContent&&Ok(e,t+n-1,s,i.node().contentMatchAt(i.index()),null==r);let l=e.mapping.slice(o),c=l.map(t-n);if(e.step(new _k(c,l.map(t+n,-1),pN.empty,!0)),!0===r){let t=e.doc.resolve(c);Lk(e,t.node(),t.before(),e.steps.length)}}(this,e,t),this}wrap(e,t){return function(e,t,n){let r=oN.empty;for(let s=n.length-1;s>=0;s--){if(r.size){let e=n[s].type.contentMatch.matchFragment(r);if(!e||!e.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=oN.from(n[s].type.create(n[s].attrs,r))}let a=t.start,i=t.end;e.step(new Ak(a,i,a,i,new pN(r,0,0),n.length,!0))}(this,e,t),this}setBlockType(e,t=e,n,r=null){return function(e,t,n,r,a){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let i=e.steps.length;e.doc.nodesBetween(t,n,(t,n)=>{let s="function"==typeof a?a(t):a;if(t.isTextblock&&!t.hasMarkup(r,s)&&function(e,t,n){let r=e.resolve(t),a=r.index();return r.parent.canReplaceWith(a,a+1,n)}(e.doc,e.mapping.slice(i).map(n),r)){let a=null;if(r.schema.linebreakReplacement){let e="pre"==r.whitespace,t=!!r.contentMatch.matchType(r.schema.linebreakReplacement);e&&!t?a=!1:!e&&t&&(a=!0)}!1===a&&Ik(e,t,n,i),Ok(e,e.mapping.slice(i).map(n,1),r,void 0,null===a);let o=e.mapping.slice(i),l=o.map(n,1),c=o.map(n+t.nodeSize,1);return e.step(new Ak(l,c,l+1,c-1,new pN(oN.from(r.create(s,null,t.marks)),0,0),1,!0)),!0===a&&Lk(e,t,n,i),!1}})}(this,e,t,n,r),this}setNodeMarkup(e,t,n=null,r){return function(e,t,n,r,a){let i=e.doc.nodeAt(t);if(!i)throw new RangeError("No node at given position");n||(n=i.type);let s=n.create(r,null,a||i.marks);if(i.isLeaf)return e.replaceWith(t,t+i.nodeSize,s);if(!n.validContent(i.content))throw new RangeError("Invalid content for node type "+n.name);e.step(new Ak(t,t+i.nodeSize,t+1,t+i.nodeSize-1,new pN(oN.from(s),0,0),1,!0))}(this,e,t,n,r),this}setNodeAttribute(e,t,n){return this.step(new Zk(e,t,n)),this}setDocAttribute(e,t){return this.step(new eS(e,t)),this}addNodeMark(e,t){return this.step(new Sk(e,t)),this}removeNodeMark(e,t){let n=this.doc.nodeAt(e);if(!n)throw new RangeError("No node at position "+e);if(t instanceof uN)t.isInSet(n.marks)&&this.step(new Ck(e,t));else{let r,a=n.marks,i=[];for(;r=t.isInSet(a);)i.push(new Ck(e,r)),a=r.removeFromSet(a);for(let e=i.length-1;e>=0;e--)this.step(i[e])}return this}split(e,t=1,n){return function(e,t,n=1,r){let a=e.doc.resolve(t),i=oN.empty,s=oN.empty;for(let o=a.depth,l=a.depth-n,c=n-1;o>l;o--,c--){i=oN.from(a.node(o).copy(i));let e=r&&r[c];s=oN.from(e?e.type.create(e.attrs,s):a.node(o).copy(s))}e.step(new _k(t,t,new pN(i.append(s),n,n),!0))}(this,e,t,n),this}addMark(e,t,n){return function(e,t,n,r){let a,i,s=[],o=[];e.doc.nodesBetween(t,n,(e,l,c)=>{if(!e.isInline)return;let d=e.marks;if(!r.isInSet(d)&&c.type.allowsMarkType(r.type)){let c=Math.max(l,t),u=Math.min(l+e.nodeSize,n),h=r.addToSet(d);for(let e=0;e<d.length;e++)d[e].isInSet(h)||(a&&a.to==c&&a.mark.eq(d[e])?a.to=u:s.push(a=new kk(c,u,d[e])));i&&i.to==c?i.to=u:o.push(i=new Nk(c,u,r))}}),s.forEach(t=>e.step(t)),o.forEach(t=>e.step(t))}(this,e,t,n),this}removeMark(e,t,n){return function(e,t,n,r){let a=[],i=0;e.doc.nodesBetween(t,n,(e,s)=>{if(!e.isInline)return;i++;let o=null;if(r instanceof KN){let t,n=e.marks;for(;t=r.isInSet(n);)(o||(o=[])).push(t),n=t.removeFromSet(n)}else r?r.isInSet(e.marks)&&(o=[r]):o=e.marks;if(o&&o.length){let r=Math.min(s+e.nodeSize,n);for(let e=0;e<o.length;e++){let n,l=o[e];for(let e=0;e<a.length;e++){let t=a[e];t.step==i-1&&l.eq(a[e].style)&&(n=t)}n?(n.to=r,n.step=i):a.push({style:l,from:Math.max(s,t),to:r,step:i})}}}),a.forEach(t=>e.step(new kk(t.from,t.to,t.style)))}(this,e,t,n),this}clearIncompatible(e,t,n){return Ok(this,e,t,n),this}}const rS=Object.create(null);class aS{constructor(e,t,n){this.$anchor=e,this.$head=t,this.ranges=n||[new iS(e.min(t),e.max(t))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,t=pN.empty){let n=t.content.lastChild,r=null;for(let s=0;s<t.openEnd;s++)r=n,n=n.lastChild;let a=e.steps.length,i=this.ranges;for(let s=0;s<i.length;s++){let{$from:o,$to:l}=i[s],c=e.mapping.slice(a);e.replaceRange(c.map(o.pos),c.map(l.pos),s?pN.empty:t),0==s&&fS(e,a,(n?n.isInline:r&&r.isTextblock)?-1:1)}}replaceWith(e,t){let n=e.steps.length,r=this.ranges;for(let a=0;a<r.length;a++){let{$from:i,$to:s}=r[a],o=e.mapping.slice(n),l=o.map(i.pos),c=o.map(s.pos);a?e.deleteRange(l,c):(e.replaceRangeWith(l,c,t),fS(e,n,t.isInline?-1:1))}}static findFrom(e,t,n=!1){let r=e.parent.inlineContent?new lS(e):mS(e.node(0),e.parent,e.pos,e.index(),t,n);if(r)return r;for(let a=e.depth-1;a>=0;a--){let r=t<0?mS(e.node(0),e.node(a),e.before(a+1),e.index(a),t,n):mS(e.node(0),e.node(a),e.after(a+1),e.index(a)+1,t,n);if(r)return r}return null}static near(e,t=1){return this.findFrom(e,t)||this.findFrom(e,-t)||new hS(e.node(0))}static atStart(e){return mS(e,e,0,0,1)||new hS(e)}static atEnd(e){return mS(e,e,e.content.size,e.childCount,-1)||new hS(e)}static fromJSON(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");let n=rS[t.type];if(!n)throw new RangeError(`No selection type ${t.type} defined`);return n.fromJSON(e,t)}static jsonID(e,t){if(e in rS)throw new RangeError("Duplicate use of selection JSON ID "+e);return rS[e]=t,t.prototype.jsonID=e,t}getBookmark(){return lS.between(this.$anchor,this.$head).getBookmark()}}aS.prototype.visible=!0;class iS{constructor(e,t){this.$from=e,this.$to=t}}let sS=!1;function oS(e){sS||e.parent.inlineContent||(sS=!0)}class lS extends aS{constructor(e,t=e){oS(e),oS(t),super(e,t)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,t){let n=e.resolve(t.map(this.head));if(!n.parent.inlineContent)return aS.near(n);let r=e.resolve(t.map(this.anchor));return new lS(r.parent.inlineContent?r:n,n)}replace(e,t=pN.empty){if(super.replace(e,t),t==pN.empty){let t=this.$from.marksAcross(this.$to);t&&e.ensureMarks(t)}}eq(e){return e instanceof lS&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new cS(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,t){if("number"!=typeof t.anchor||"number"!=typeof t.head)throw new RangeError("Invalid input for TextSelection.fromJSON");return new lS(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,n=t){let r=e.resolve(t);return new this(r,n==t?r:e.resolve(n))}static between(e,t,n){let r=e.pos-t.pos;if(n&&!r||(n=r>=0?1:-1),!t.parent.inlineContent){let e=aS.findFrom(t,n,!0)||aS.findFrom(t,-n,!0);if(!e)return aS.near(t,n);t=e.$head}return e.parent.inlineContent||(0==r||(e=(aS.findFrom(e,-n,!0)||aS.findFrom(e,n,!0)).$anchor).pos<t.pos!=r<0)&&(e=t),new lS(e,t)}}aS.jsonID("text",lS);class cS{constructor(e,t){this.anchor=e,this.head=t}map(e){return new cS(e.map(this.anchor),e.map(this.head))}resolve(e){return lS.between(e.resolve(this.anchor),e.resolve(this.head))}}class dS extends aS{constructor(e){let t=e.nodeAfter,n=e.node(0).resolve(e.pos+t.nodeSize);super(e,n),this.node=t}map(e,t){let{deleted:n,pos:r}=t.mapResult(this.anchor),a=e.resolve(r);return n?aS.near(a):new dS(a)}content(){return new pN(oN.from(this.node),0,0)}eq(e){return e instanceof dS&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new uS(this.anchor)}static fromJSON(e,t){if("number"!=typeof t.anchor)throw new RangeError("Invalid input for NodeSelection.fromJSON");return new dS(e.resolve(t.anchor))}static create(e,t){return new dS(e.resolve(t))}static isSelectable(e){return!e.isText&&!1!==e.type.spec.selectable}}dS.prototype.visible=!1,aS.jsonID("node",dS);class uS{constructor(e){this.anchor=e}map(e){let{deleted:t,pos:n}=e.mapResult(this.anchor);return t?new cS(n,n):new uS(n)}resolve(e){let t=e.resolve(this.anchor),n=t.nodeAfter;return n&&dS.isSelectable(n)?new dS(t):aS.near(t)}}class hS extends aS{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,t=pN.empty){if(t==pN.empty){e.delete(0,e.doc.content.size);let t=aS.atStart(e.doc);t.eq(e.selection)||e.setSelection(t)}else super.replace(e,t)}toJSON(){return{type:"all"}}static fromJSON(e){return new hS(e)}map(e){return new hS(e)}eq(e){return e instanceof hS}getBookmark(){return pS}}aS.jsonID("all",hS);const pS={map(){return this},resolve:e=>new hS(e)};function mS(e,t,n,r,a,i=!1){if(t.inlineContent)return lS.create(e,n);for(let s=r-(a>0?0:1);a>0?s<t.childCount:s>=0;s+=a){let r=t.child(s);if(r.isAtom){if(!i&&dS.isSelectable(r))return dS.create(e,n-(a<0?r.nodeSize:0))}else{let t=mS(e,r,n+a,a<0?r.childCount:0,a,i);if(t)return t}n+=r.nodeSize*a}return null}function fS(e,t,n){let r=e.steps.length-1;if(r<t)return;let a,i=e.steps[r];(i instanceof _k||i instanceof Ak)&&(e.mapping.maps[r].forEach((e,t,n,r)=>{null==a&&(a=r)}),e.setSelection(aS.near(e.doc.resolve(a),n)))}class gS extends nS{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=-3&this.updated|1,this.storedMarks=null,this}get selectionSet(){return(1&this.updated)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=2,this}ensureMarks(e){return uN.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(2&this.updated)>0}addStep(e,t){super.addStep(e,t),this.updated=-3&this.updated,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,t=!0){let n=this.selection;return t&&(e=e.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||uN.none))),n.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,t,n){let r=this.doc.type.schema;if(null==t)return e?this.replaceSelectionWith(r.text(e),!0):this.deleteSelection();{if(null==n&&(n=t),n=null==n?t:n,!e)return this.deleteRange(t,n);let a=this.storedMarks;if(!a){let e=this.doc.resolve(t);a=n==t?e.marks():e.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(t,n,r.text(e,a)),this.selection.empty||this.setSelection(aS.near(this.selection.$to)),this}}setMeta(e,t){return this.meta["string"==typeof e?e:e.key]=t,this}getMeta(e){return this.meta["string"==typeof e?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=4,this}get scrolledIntoView(){return(4&this.updated)>0}}function xS(e,t){return t&&e?e.bind(t):e}class bS{constructor(e,t,n){this.name=e,this.init=xS(t.init,n),this.apply=xS(t.apply,n)}}const yS=[new bS("doc",{init:e=>e.doc||e.schema.topNodeType.createAndFill(),apply:e=>e.doc}),new bS("selection",{init:(e,t)=>e.selection||aS.atStart(t.doc),apply:e=>e.selection}),new bS("storedMarks",{init:e=>e.storedMarks||null,apply:(e,t,n,r)=>r.selection.$cursor?e.storedMarks:null}),new bS("scrollToSelection",{init:()=>0,apply:(e,t)=>e.scrolledIntoView?t+1:t})];class vS{constructor(e,t){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=yS.slice(),t&&t.forEach(e=>{if(this.pluginsByKey[e.key])throw new RangeError("Adding different instances of a keyed plugin ("+e.key+")");this.plugins.push(e),this.pluginsByKey[e.key]=e,e.spec.state&&this.fields.push(new bS(e.key,e.spec.state,e))})}}class wS{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,t=-1){for(let n=0;n<this.config.plugins.length;n++)if(n!=t){let t=this.config.plugins[n];if(t.spec.filterTransaction&&!t.spec.filterTransaction.call(t,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let t=[e],n=this.applyInner(e),r=null;for(;;){let a=!1;for(let i=0;i<this.config.plugins.length;i++){let s=this.config.plugins[i];if(s.spec.appendTransaction){let o=r?r[i].n:0,l=r?r[i].state:this,c=o<t.length&&s.spec.appendTransaction.call(s,o?t.slice(o):t,l,n);if(c&&n.filterTransaction(c,i)){if(c.setMeta("appendedTransaction",e),!r){r=[];for(let e=0;e<this.config.plugins.length;e++)r.push(e<i?{state:n,n:t.length}:{state:this,n:0})}t.push(c),n=n.applyInner(c),a=!0}r&&(r[i]={state:n,n:t.length})}}if(!a)return{state:n,transactions:t}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let t=new wS(this.config),n=this.config.fields;for(let r=0;r<n.length;r++){let a=n[r];t[a.name]=a.apply(e,this[a.name],this,t)}return t}get tr(){return new gS(this)}static create(e){let t=new vS(e.doc?e.doc.type.schema:e.schema,e.plugins),n=new wS(t);for(let r=0;r<t.fields.length;r++)n[t.fields[r].name]=t.fields[r].init(e,n);return n}reconfigure(e){let t=new vS(this.schema,e.plugins),n=t.fields,r=new wS(t);for(let a=0;a<n.length;a++){let t=n[a].name;r[t]=this.hasOwnProperty(t)?this[t]:n[a].init(e,r)}return r}toJSON(e){let t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map(e=>e.toJSON())),e&&"object"==typeof e)for(let n in e){if("doc"==n||"selection"==n)throw new RangeError("The JSON fields `doc` and `selection` are reserved");let r=e[n],a=r.spec.state;a&&a.toJSON&&(t[n]=a.toJSON.call(r,this[r.key]))}return t}static fromJSON(e,t,n){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let r=new vS(e.schema,e.plugins),a=new wS(r);return r.fields.forEach(r=>{if("doc"==r.name)a.doc=EN.fromJSON(e.schema,t.doc);else if("selection"==r.name)a.selection=aS.fromJSON(a.doc,t.selection);else if("storedMarks"==r.name)t.storedMarks&&(a.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(n)for(let i in n){let s=n[i],o=s.spec.state;if(s.key==r.name&&o&&o.fromJSON&&Object.prototype.hasOwnProperty.call(t,i))return void(a[r.name]=o.fromJSON.call(s,e,t[i],a))}a[r.name]=r.init(e,a)}}),a}}function jS(e,t,n){for(let r in e){let a=e[r];a instanceof Function?a=a.bind(t):"handleDOMEvents"==r&&(a=jS(a,t,{})),n[r]=a}return n}class NS{constructor(e){this.spec=e,this.props={},e.props&&jS(e.props,this,this.props),this.key=e.key?e.key.key:SS("plugin")}getState(e){return e[this.key]}}const kS=Object.create(null);function SS(e){return e in kS?e+"$"+ ++kS[e]:(kS[e]=0,e+"$")}class CS{constructor(e="key"){this.key=SS(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const _S=function(e){for(var t=0;;t++)if(!(e=e.previousSibling))return t},AS=function(e){let t=e.assignedSlot||e.parentNode;return t&&11==t.nodeType?t.host:t};let TS=null;const OS=function(e,t,n){let r=TS||(TS=document.createRange());return r.setEnd(e,null==n?e.nodeValue.length:n),r.setStart(e,t||0),r},ES=function(e,t,n,r){return n&&(PS(e,t,n,r,-1)||PS(e,t,n,r,1))},MS=/^(img|br|input|textarea|hr)$/i;function PS(e,t,n,r,a){for(var i;;){if(e==n&&t==r)return!0;if(t==(a<0?0:DS(e))){let n=e.parentNode;if(!n||1!=n.nodeType||LS(e)||MS.test(e.nodeName)||"false"==e.contentEditable)return!1;t=_S(e)+(a<0?0:1),e=n}else{if(1!=e.nodeType)return!1;{let n=e.childNodes[t+(a<0?-1:0)];if(1==n.nodeType&&"false"==n.contentEditable){if(!(null===(i=n.pmViewDesc)||void 0===i?void 0:i.ignoreForSelection))return!1;t+=a}else e=n,t=a<0?DS(e):0}}}}function DS(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function LS(e){let t;for(let n=e;n&&!(t=n.pmViewDesc);n=n.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}const IS=function(e){return e.focusNode&&ES(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)};function RS(e,t){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=e,n.key=n.code=t,n}const FS="undefined"!=typeof navigator?navigator:null,HS="undefined"!=typeof document?document:null,zS=FS&&FS.userAgent||"",BS=/Edge\/(\d+)/.exec(zS),WS=/MSIE \d/.exec(zS),$S=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(zS),US=!!(WS||$S||BS),VS=WS?document.documentMode:$S?+$S[1]:BS?+BS[1]:0,qS=!US&&/gecko\/(\d+)/i.test(zS);qS&&(/Firefox\/(\d+)/.exec(zS)||[0,0])[1];const GS=!US&&/Chrome\/(\d+)/.exec(zS),YS=!!GS,KS=GS?+GS[1]:0,JS=!US&&!!FS&&/Apple Computer/.test(FS.vendor),XS=JS&&(/Mobile\/\w+/.test(zS)||!!FS&&FS.maxTouchPoints>2),QS=XS||!!FS&&/Mac/.test(FS.platform),ZS=!!FS&&/Win/.test(FS.platform),eC=/Android \d/.test(zS),tC=!!HS&&"webkitFontSmoothing"in HS.documentElement.style,nC=tC?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function rC(e){let t=e.defaultView&&e.defaultView.visualViewport;return t?{left:0,right:t.width,top:0,bottom:t.height}:{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function aC(e,t){return"number"==typeof e?e:e[t]}function iC(e){let t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,r=t.height/e.offsetHeight||1;return{left:t.left,right:t.left+e.clientWidth*n,top:t.top,bottom:t.top+e.clientHeight*r}}function sC(e,t,n){let r=e.someProp("scrollThreshold")||0,a=e.someProp("scrollMargin")||5,i=e.dom.ownerDocument;for(let s=n||e.dom;s;){if(1!=s.nodeType){s=AS(s);continue}let e=s,n=e==i.body,o=n?rC(i):iC(e),l=0,c=0;if(t.top<o.top+aC(r,"top")?c=-(o.top-t.top+aC(a,"top")):t.bottom>o.bottom-aC(r,"bottom")&&(c=t.bottom-t.top>o.bottom-o.top?t.top+aC(a,"top")-o.top:t.bottom-o.bottom+aC(a,"bottom")),t.left<o.left+aC(r,"left")?l=-(o.left-t.left+aC(a,"left")):t.right>o.right-aC(r,"right")&&(l=t.right-o.right+aC(a,"right")),l||c)if(n)i.defaultView.scrollBy(l,c);else{let n=e.scrollLeft,r=e.scrollTop;c&&(e.scrollTop+=c),l&&(e.scrollLeft+=l);let a=e.scrollLeft-n,i=e.scrollTop-r;t={left:t.left-a,top:t.top-i,right:t.right-a,bottom:t.bottom-i}}let d=n?"fixed":getComputedStyle(s).position;if(/^(fixed|sticky)$/.test(d))break;s="absolute"==d?s.offsetParent:AS(s)}}function oC(e){let t=[],n=e.ownerDocument;for(let r=e;r&&(t.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),e!=n);r=AS(r));return t}function lC(e,t){for(let n=0;n<e.length;n++){let{dom:r,top:a,left:i}=e[n];r.scrollTop!=a+t&&(r.scrollTop=a+t),r.scrollLeft!=i&&(r.scrollLeft=i)}}let cC=null;function dC(e,t){let n,r,a,i,s=2e8,o=0,l=t.top,c=t.top;for(let d=e.firstChild,u=0;d;d=d.nextSibling,u++){let e;if(1==d.nodeType)e=d.getClientRects();else{if(3!=d.nodeType)continue;e=OS(d).getClientRects()}for(let h=0;h<e.length;h++){let p=e[h];if(p.top<=l&&p.bottom>=c){l=Math.max(p.bottom,l),c=Math.min(p.top,c);let e=p.left>t.left?p.left-t.left:p.right<t.left?t.left-p.right:0;if(e<s){n=d,s=e,r=e&&3==n.nodeType?{left:p.right<t.left?p.right:p.left,top:t.top}:t,1==d.nodeType&&e&&(o=u+(t.left>=(p.left+p.right)/2?1:0));continue}}else p.top>t.top&&!a&&p.left<=t.left&&p.right>=t.left&&(a=d,i={left:Math.max(p.left,Math.min(p.right,t.left)),top:p.top});!n&&(t.left>=p.right&&t.top>=p.top||t.left>=p.left&&t.top>=p.bottom)&&(o=u+1)}}return!n&&a&&(n=a,r=i,s=0),n&&3==n.nodeType?function(e,t){let n=e.nodeValue.length,r=document.createRange();for(let a=0;a<n;a++){r.setEnd(e,a+1),r.setStart(e,a);let n=fC(r,1);if(n.top!=n.bottom&&uC(t,n))return{node:e,offset:a+(t.left>=(n.left+n.right)/2?1:0)}}return{node:e,offset:0}}(n,r):!n||s&&1==n.nodeType?{node:e,offset:o}:dC(n,r)}function uC(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function hC(e,t,n){let r=e.childNodes.length;if(r&&n.top<n.bottom)for(let a=Math.max(0,Math.min(r-1,Math.floor(r*(t.top-n.top)/(n.bottom-n.top))-2)),i=a;;){let n=e.childNodes[i];if(1==n.nodeType){let e=n.getClientRects();for(let r=0;r<e.length;r++){let a=e[r];if(uC(t,a))return hC(n,t,a)}}if((i=(i+1)%r)==a)break}return e}function pC(e,t){let n,r=e.dom.ownerDocument,a=0,i=function(e,t,n){if(e.caretPositionFromPoint)try{let r=e.caretPositionFromPoint(t,n);if(r)return{node:r.offsetNode,offset:Math.min(DS(r.offsetNode),r.offset)}}catch(r){}if(e.caretRangeFromPoint){let r=e.caretRangeFromPoint(t,n);if(r)return{node:r.startContainer,offset:Math.min(DS(r.startContainer),r.startOffset)}}}(r,t.left,t.top);i&&({node:n,offset:a}=i);let s,o=(e.root.elementFromPoint?e.root:r).elementFromPoint(t.left,t.top);if(!o||!e.dom.contains(1!=o.nodeType?o.parentNode:o)){let n=e.dom.getBoundingClientRect();if(!uC(t,n))return null;if(o=hC(e.dom,t,n),!o)return null}if(JS)for(let c=o;n&&c;c=AS(c))c.draggable&&(n=void 0);if(o=function(e,t){let n=e.parentNode;return n&&/^li$/i.test(n.nodeName)&&t.left<e.getBoundingClientRect().left?n:e}(o,t),n){if(qS&&1==n.nodeType&&(a=Math.min(a,n.childNodes.length),a<n.childNodes.length)){let e,r=n.childNodes[a];"IMG"==r.nodeName&&(e=r.getBoundingClientRect()).right<=t.left&&e.bottom>t.top&&a++}let r;tC&&a&&1==n.nodeType&&1==(r=n.childNodes[a-1]).nodeType&&"false"==r.contentEditable&&r.getBoundingClientRect().top>=t.top&&a--,n==e.dom&&a==n.childNodes.length-1&&1==n.lastChild.nodeType&&t.top>n.lastChild.getBoundingClientRect().bottom?s=e.state.doc.content.size:0!=a&&1==n.nodeType&&"BR"==n.childNodes[a-1].nodeName||(s=function(e,t,n,r){let a=-1;for(let i=t,s=!1;i!=e.dom;){let t,n=e.docView.nearestDesc(i,!0);if(!n)return null;if(1==n.dom.nodeType&&(n.node.isBlock&&n.parent||!n.contentDOM)&&((t=n.dom.getBoundingClientRect()).width||t.height)&&(n.node.isBlock&&n.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(n.dom.nodeName)&&(!s&&t.left>r.left||t.top>r.top?a=n.posBefore:(!s&&t.right<r.left||t.bottom<r.top)&&(a=n.posAfter),s=!0),!n.contentDOM&&a<0&&!n.node.isText))return(n.node.isBlock?r.top<(t.top+t.bottom)/2:r.left<(t.left+t.right)/2)?n.posBefore:n.posAfter;i=n.dom.parentNode}return a>-1?a:e.docView.posFromDOM(t,n,-1)}(e,n,a,t))}null==s&&(s=function(e,t,n){let{node:r,offset:a}=dC(t,n),i=-1;if(1==r.nodeType&&!r.firstChild){let e=r.getBoundingClientRect();i=e.left!=e.right&&n.left>(e.left+e.right)/2?1:-1}return e.docView.posFromDOM(r,a,i)}(e,o,t));let l=e.docView.nearestDesc(o,!0);return{pos:s,inside:l?l.posAtStart-l.border:-1}}function mC(e){return e.top<e.bottom||e.left<e.right}function fC(e,t){let n=e.getClientRects();if(n.length){let e=n[t<0?0:n.length-1];if(mC(e))return e}return Array.prototype.find.call(n,mC)||e.getBoundingClientRect()}const gC=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function xC(e,t,n){let{node:r,offset:a,atom:i}=e.docView.domFromPos(t,n<0?-1:1),s=tC||qS;if(3==r.nodeType){if(!s||!gC.test(r.nodeValue)&&(n<0?a:a!=r.nodeValue.length)){let e=a,t=a,i=n<0?1:-1;return n<0&&!a?(t++,i=-1):n>=0&&a==r.nodeValue.length?(e--,i=1):n<0?e--:t++,bC(fC(OS(r,e,t),i),i<0)}{let e=fC(OS(r,a,a),n);if(qS&&a&&/\s/.test(r.nodeValue[a-1])&&a<r.nodeValue.length){let t=fC(OS(r,a-1,a-1),-1);if(t.top==e.top){let n=fC(OS(r,a,a+1),-1);if(n.top!=e.top)return bC(n,n.left<t.left)}}return e}}if(!e.state.doc.resolve(t-(i||0)).parent.inlineContent){if(null==i&&a&&(n<0||a==DS(r))){let e=r.childNodes[a-1];if(1==e.nodeType)return yC(e.getBoundingClientRect(),!1)}if(null==i&&a<DS(r)){let e=r.childNodes[a];if(1==e.nodeType)return yC(e.getBoundingClientRect(),!0)}return yC(r.getBoundingClientRect(),n>=0)}if(null==i&&a&&(n<0||a==DS(r))){let e=r.childNodes[a-1],t=3==e.nodeType?OS(e,DS(e)-(s?0:1)):1!=e.nodeType||"BR"==e.nodeName&&e.nextSibling?null:e;if(t)return bC(fC(t,1),!1)}if(null==i&&a<DS(r)){let e=r.childNodes[a];for(;e.pmViewDesc&&e.pmViewDesc.ignoreForCoords;)e=e.nextSibling;let t=e?3==e.nodeType?OS(e,0,s?0:1):1==e.nodeType?e:null:null;if(t)return bC(fC(t,-1),!0)}return bC(fC(3==r.nodeType?OS(r):r,-n),n>=0)}function bC(e,t){if(0==e.width)return e;let n=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:n,right:n}}function yC(e,t){if(0==e.height)return e;let n=t?e.top:e.bottom;return{top:n,bottom:n,left:e.left,right:e.right}}function vC(e,t,n){let r=e.state,a=e.root.activeElement;r!=t&&e.updateState(t),a!=e.dom&&e.focus();try{return n()}finally{r!=t&&e.updateState(r),a!=e.dom&&a&&a.focus()}}const wC=/[\u0590-\u08ac]/;let jC=null,NC=null,kC=!1;class SC{constructor(e,t,n,r){this.parent=e,this.children=t,this.dom=n,this.contentDOM=r,this.dirty=0,n.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,t,n){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let t=0;t<this.children.length;t++)e+=this.children[t].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let t=0,n=this.posAtStart;;t++){let r=this.children[t];if(r==e)return n;n+=r.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,t,n){if(this.contentDOM&&this.contentDOM.contains(1==e.nodeType?e:e.parentNode)){if(n<0){let n,r;if(e==this.contentDOM)n=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;n=e.previousSibling}for(;n&&(!(r=n.pmViewDesc)||r.parent!=this);)n=n.previousSibling;return n?this.posBeforeChild(r)+r.size:this.posAtStart}{let n,r;if(e==this.contentDOM)n=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;n=e.nextSibling}for(;n&&(!(r=n.pmViewDesc)||r.parent!=this);)n=n.nextSibling;return n?this.posBeforeChild(r):this.posAtEnd}}let r;if(e==this.dom&&this.contentDOM)r=t>_S(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))r=2&e.compareDocumentPosition(this.contentDOM);else if(this.dom.firstChild){if(0==t)for(let t=e;;t=t.parentNode){if(t==this.dom){r=!1;break}if(t.previousSibling)break}if(null==r&&t==e.childNodes.length)for(let t=e;;t=t.parentNode){if(t==this.dom){r=!0;break}if(t.nextSibling)break}}return(null==r?n>0:r)?this.posAtEnd:this.posAtStart}nearestDesc(e,t=!1){for(let n=!0,r=e;r;r=r.parentNode){let a,i=this.getDesc(r);if(i&&(!t||i.node)){if(!n||!(a=i.nodeDOM)||(1==a.nodeType?a.contains(1==e.nodeType?e:e.parentNode):a==e))return i;n=!1}}}getDesc(e){let t=e.pmViewDesc;for(let n=t;n;n=n.parent)if(n==this)return t}posFromDOM(e,t,n){for(let r=e;r;r=r.parentNode){let a=this.getDesc(r);if(a)return a.localPosFromDOM(e,t,n)}return-1}descAt(e){for(let t=0,n=0;t<this.children.length;t++){let r=this.children[t],a=n+r.size;if(n==e&&a!=n){for(;!r.border&&r.children.length;)for(let e=0;e<r.children.length;e++){let t=r.children[e];if(t.size){r=t;break}}return r}if(e<a)return r.descAt(e-n-r.border);n=a}}domFromPos(e,t){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let n=0,r=0;for(let a=0;n<this.children.length;n++){let t=this.children[n],i=a+t.size;if(i>e||t instanceof MC){r=e-a;break}a=i}if(r)return this.children[n].domFromPos(r-this.children[n].border,t);for(let a;n&&!(a=this.children[n-1]).size&&a instanceof CC&&a.side>=0;n--);if(t<=0){let e,r=!0;for(;e=n?this.children[n-1]:null,e&&e.dom.parentNode!=this.contentDOM;n--,r=!1);return e&&t&&r&&!e.border&&!e.domAtom?e.domFromPos(e.size,t):{node:this.contentDOM,offset:e?_S(e.dom)+1:0}}{let e,r=!0;for(;e=n<this.children.length?this.children[n]:null,e&&e.dom.parentNode!=this.contentDOM;n++,r=!1);return e&&r&&!e.border&&!e.domAtom?e.domFromPos(0,t):{node:this.contentDOM,offset:e?_S(e.dom):this.contentDOM.childNodes.length}}}parseRange(e,t,n=0){if(0==this.children.length)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let r=-1,a=-1;for(let i=n,s=0;;s++){let n=this.children[s],o=i+n.size;if(-1==r&&e<=o){let a=i+n.border;if(e>=a&&t<=o-n.border&&n.node&&n.contentDOM&&this.contentDOM.contains(n.contentDOM))return n.parseRange(e,t,a);e=i;for(let t=s;t>0;t--){let n=this.children[t-1];if(n.size&&n.dom.parentNode==this.contentDOM&&!n.emptyChildAt(1)){r=_S(n.dom)+1;break}e-=n.size}-1==r&&(r=0)}if(r>-1&&(o>t||s==this.children.length-1)){t=o;for(let e=s+1;e<this.children.length;e++){let n=this.children[e];if(n.size&&n.dom.parentNode==this.contentDOM&&!n.emptyChildAt(-1)){a=_S(n.dom);break}t+=n.size}-1==a&&(a=this.contentDOM.childNodes.length);break}i=o}return{node:this.contentDOM,from:e,to:t,fromOffset:r,toOffset:a}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let t=this.children[e<0?0:this.children.length-1];return 0==t.size||t.emptyChildAt(e)}domAfterPos(e){let{node:t,offset:n}=this.domFromPos(e,0);if(1!=t.nodeType||n==t.childNodes.length)throw new RangeError("No node after pos "+e);return t.childNodes[n]}setSelection(e,t,n,r=!1){let a=Math.min(e,t),i=Math.max(e,t);for(let p=0,m=0;p<this.children.length;p++){let s=this.children[p],o=m+s.size;if(a>m&&i<o)return s.setSelection(e-m-s.border,t-m-s.border,n,r);m=o}let s=this.domFromPos(e,e?-1:1),o=t==e?s:this.domFromPos(t,t?-1:1),l=n.root.getSelection(),c=n.domSelectionRange(),d=!1;if((qS||JS)&&e==t){let{node:e,offset:t}=s;if(3==e.nodeType){if(d=!(!t||"\n"!=e.nodeValue[t-1]),d&&t==e.nodeValue.length)for(let n,r=e;r;r=r.parentNode){if(n=r.nextSibling){"BR"==n.nodeName&&(s=o={node:n.parentNode,offset:_S(n)+1});break}let e=r.pmViewDesc;if(e&&e.node&&e.node.isBlock)break}}else{let n=e.childNodes[t-1];d=n&&("BR"==n.nodeName||"false"==n.contentEditable)}}if(qS&&c.focusNode&&c.focusNode!=o.node&&1==c.focusNode.nodeType){let e=c.focusNode.childNodes[c.focusOffset];e&&"false"==e.contentEditable&&(r=!0)}if(!(r||d&&JS)&&ES(s.node,s.offset,c.anchorNode,c.anchorOffset)&&ES(o.node,o.offset,c.focusNode,c.focusOffset))return;let u=!1;if((l.extend||e==t)&&(!d||!qS)){l.collapse(s.node,s.offset);try{e!=t&&l.extend(o.node,o.offset),u=!0}catch(h){}}if(!u){if(e>t){let e=s;s=o,o=e}let n=document.createRange();n.setEnd(o.node,o.offset),n.setStart(s.node,s.offset),l.removeAllRanges(),l.addRange(n)}}ignoreMutation(e){return!this.contentDOM&&"selection"!=e.type}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,t){for(let n=0,r=0;r<this.children.length;r++){let a=this.children[r],i=n+a.size;if(n==i?e<=i&&t>=n:e<i&&t>n){let r=n+a.border,s=i-a.border;if(e>=r&&t<=s)return this.dirty=e==n||t==i?2:1,void(e!=r||t!=s||!a.contentLost&&a.dom.parentNode==this.contentDOM?a.markDirty(e-r,t-r):a.dirty=3);a.dirty=a.dom!=a.contentDOM||a.dom.parentNode!=this.contentDOM||a.children.length?3:2}n=i}this.dirty=2}markParentsDirty(){let e=1;for(let t=this.parent;t;t=t.parent,e++){let n=1==e?2:1;t.dirty<n&&(t.dirty=n)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class CC extends SC{constructor(e,t,n,r){let a,i=t.type.toDOM;if("function"==typeof i&&(i=i(n,()=>a?a.parent?a.parent.posBeforeChild(a):void 0:r)),!t.type.spec.raw){if(1!=i.nodeType){let e=document.createElement("span");e.appendChild(i),i=e}i.contentEditable="false",i.classList.add("ProseMirror-widget")}super(e,[],i,null),this.widget=t,this.widget=t,a=this}matchesWidget(e){return 0==this.dirty&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let t=this.widget.spec.stopEvent;return!!t&&t(e)}ignoreMutation(e){return"selection"!=e.type||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class _C extends SC{constructor(e,t,n,r){super(e,[],t,null),this.textDOM=n,this.text=r}get size(){return this.text.length}localPosFromDOM(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return"characterData"===e.type&&e.target.nodeValue==e.oldValue}}class AC extends SC{constructor(e,t,n,r,a){super(e,[],n,r),this.mark=t,this.spec=a}static create(e,t,n,r){let a=r.nodeViews[t.type.name],i=a&&a(t,r,n);return i&&i.dom||(i=lk.renderSpec(document,t.type.spec.toDOM(t,n),null,t.attrs)),new AC(e,t,i.dom,i.contentDOM||i.dom,i)}parseRule(){return 3&this.dirty||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return 3!=this.dirty&&this.mark.eq(e)}markDirty(e,t){if(super.markDirty(e,t),0!=this.dirty){let e=this.parent;for(;!e.node;)e=e.parent;e.dirty<this.dirty&&(e.dirty=this.dirty),this.dirty=0}}slice(e,t,n){let r=AC.create(this.parent,this.mark,!0,n),a=this.children,i=this.size;t<i&&(a=VC(a,t,i,n)),e>0&&(a=VC(a,0,e,n));for(let s=0;s<a.length;s++)a[s].parent=r;return r.children=a,r}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class TC extends SC{constructor(e,t,n,r,a,i,s,o,l){super(e,[],a,i),this.node=t,this.outerDeco=n,this.innerDeco=r,this.nodeDOM=s}static create(e,t,n,r,a,i){let s,o=a.nodeViews[t.type.name],l=o&&o(t,a,()=>s?s.parent?s.parent.posBeforeChild(s):void 0:i,n,r),c=l&&l.dom,d=l&&l.contentDOM;if(t.isText)if(c){if(3!=c.nodeType)throw new RangeError("Text must be rendered as a DOM text node")}else c=document.createTextNode(t.text);else if(!c){let e=lk.renderSpec(document,t.type.spec.toDOM(t),null,t.attrs);({dom:c,contentDOM:d}=e)}d||t.isText||"BR"==c.nodeName||(c.hasAttribute("contenteditable")||(c.contentEditable="false"),t.type.spec.draggable&&(c.draggable=!0));let u=c;return c=zC(c,n,t),l?s=new PC(e,t,n,r,c,d||null,u,l,a,i+1):t.isText?new EC(e,t,n,r,c,u,a):new TC(e,t,n,r,c,d||null,u,a,i+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if("pre"==this.node.type.whitespace&&(e.preserveWhitespace="full"),this.contentDOM)if(this.contentLost){for(let t=this.children.length-1;t>=0;t--){let n=this.children[t];if(this.dom.contains(n.dom.parentNode)){e.contentElement=n.dom.parentNode;break}}e.contentElement||(e.getContent=()=>oN.empty)}else e.contentElement=this.contentDOM;else e.getContent=()=>this.node.content;return e}matchesNode(e,t,n){return 0==this.dirty&&e.eq(this.node)&&BC(t,this.outerDeco)&&n.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,t){let n=this.node.inlineContent,r=t,a=e.composing?this.localCompositionInfo(e,t):null,i=a&&a.pos>-1?a:null,s=a&&a.pos<0,o=new $C(this,i&&i.node,e);!function(e,t,n,r){let a=t.locals(e),i=0;if(0==a.length){for(let n=0;n<e.childCount;n++){let s=e.child(n);r(s,a,t.forChild(i,s),n),i+=s.nodeSize}return}let s=0,o=[],l=null;for(let c=0;;){let d,u,h,p;for(;s<a.length&&a[s].to==i;){let e=a[s++];e.widget&&(d?(u||(u=[d])).push(e):d=e)}if(d)if(u){u.sort(UC);for(let e=0;e<u.length;e++)n(u[e],c,!!l)}else n(d,c,!!l);if(l)p=-1,h=l,l=null;else{if(!(c<e.childCount))break;p=c,h=e.child(c++)}for(let e=0;e<o.length;e++)o[e].to<=i&&o.splice(e--,1);for(;s<a.length&&a[s].from<=i&&a[s].to>i;)o.push(a[s++]);let m=i+h.nodeSize;if(h.isText){let e=m;s<a.length&&a[s].from<e&&(e=a[s].from);for(let t=0;t<o.length;t++)o[t].to<e&&(e=o[t].to);e<m&&(l=h.cut(e-i),h=h.cut(0,e-i),m=e,p=-1)}else for(;s<a.length&&a[s].to<m;)s++;r(h,h.isInline&&!h.isLeaf?o.filter(e=>!e.inline):o.slice(),t.forChild(i,h),p),i=m}}(this.node,this.innerDeco,(t,a,i)=>{t.spec.marks?o.syncToMarks(t.spec.marks,n,e):t.type.side>=0&&!i&&o.syncToMarks(a==this.node.childCount?uN.none:this.node.child(a).marks,n,e),o.placeWidget(t,e,r)},(t,i,l,c)=>{let d;o.syncToMarks(t.marks,n,e),o.findNodeMatch(t,i,l,c)||s&&e.state.selection.from>r&&e.state.selection.to<r+t.nodeSize&&(d=o.findIndexWithChild(a.node))>-1&&o.updateNodeAt(t,i,l,d,e)||o.updateNextNode(t,i,l,e,c,r)||o.addNode(t,i,l,e,r),r+=t.nodeSize}),o.syncToMarks([],n,e),this.node.isTextblock&&o.addTextblockHacks(),o.destroyRest(),(o.changed||2==this.dirty)&&(i&&this.protectLocalComposition(e,i),DC(this.contentDOM,this.children,e),XS&&function(e){if("UL"==e.nodeName||"OL"==e.nodeName){let t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}(this.dom))}localCompositionInfo(e,t){let{from:n,to:r}=e.state.selection;if(!(e.state.selection instanceof lS)||n<t||r>t+this.node.content.size)return null;let a=e.input.compositionNode;if(!a||!this.dom.contains(a.parentNode))return null;if(this.node.inlineContent){let e=a.nodeValue,i=function(e,t,n,r){for(let a=0,i=0;a<e.childCount&&i<=r;){let s=e.child(a++),o=i;if(i+=s.nodeSize,!s.isText)continue;let l=s.text;for(;a<e.childCount;){let t=e.child(a++);if(i+=t.nodeSize,!t.isText)break;l+=t.text}if(i>=n){if(i>=r&&l.slice(r-t.length-o,r-o)==t)return r-t.length;let e=o<r?l.lastIndexOf(t,r-o-1):-1;if(e>=0&&e+t.length+o>=n)return o+e;if(n==r&&l.length>=r+t.length-o&&l.slice(r-o,r-o+t.length)==t)return r}}return-1}(this.node.content,e,n-t,r-t);return i<0?null:{node:a,pos:i,text:e}}return{node:a,pos:-1,text:""}}protectLocalComposition(e,{node:t,pos:n,text:r}){if(this.getDesc(t))return;let a=t;for(;a.parentNode!=this.contentDOM;a=a.parentNode){for(;a.previousSibling;)a.parentNode.removeChild(a.previousSibling);for(;a.nextSibling;)a.parentNode.removeChild(a.nextSibling);a.pmViewDesc&&(a.pmViewDesc=void 0)}let i=new _C(this,a,t,r);e.input.compositionNodes.push(i),this.children=VC(this.children,n,n+r.length,e,i)}update(e,t,n,r){return!(3==this.dirty||!e.sameMarkup(this.node)||(this.updateInner(e,t,n,r),0))}updateInner(e,t,n,r){this.updateOuterDeco(t),this.node=e,this.innerDeco=n,this.contentDOM&&this.updateChildren(r,this.posAtStart),this.dirty=0}updateOuterDeco(e){if(BC(e,this.outerDeco))return;let t=1!=this.nodeDOM.nodeType,n=this.dom;this.dom=FC(this.dom,this.nodeDOM,RC(this.outerDeco,this.node,t),RC(e,this.node,t)),this.dom!=n&&(n.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){1==this.nodeDOM.nodeType&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||(this.nodeDOM.draggable=!0))}deselectNode(){1==this.nodeDOM.nodeType&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function OC(e,t,n,r,a){zC(r,t,e);let i=new TC(void 0,e,t,n,r,r,r,a,0);return i.contentDOM&&i.updateChildren(a,0),i}class EC extends TC{constructor(e,t,n,r,a,i,s){super(e,t,n,r,a,null,i,s,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,t,n,r){return!(3==this.dirty||0!=this.dirty&&!this.inParent()||!e.sameMarkup(this.node)||(this.updateOuterDeco(t),0==this.dirty&&e.text==this.node.text||e.text==this.nodeDOM.nodeValue||(this.nodeDOM.nodeValue=e.text,r.trackWrites==this.nodeDOM&&(r.trackWrites=null)),this.node=e,this.dirty=0,0))}inParent(){let e=this.parent.contentDOM;for(let t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,t,n){return e==this.nodeDOM?this.posAtStart+Math.min(t,this.node.text.length):super.localPosFromDOM(e,t,n)}ignoreMutation(e){return"characterData"!=e.type&&"selection"!=e.type}slice(e,t,n){let r=this.node.cut(e,t),a=document.createTextNode(r.text);return new EC(this.parent,r,this.outerDeco,this.innerDeco,a,a,n)}markDirty(e,t){super.markDirty(e,t),this.dom==this.nodeDOM||0!=e&&t!=this.nodeDOM.nodeValue.length||(this.dirty=3)}get domAtom(){return!1}isText(e){return this.node.text==e}}class MC extends SC{parseRule(){return{ignore:!0}}matchesHack(e){return 0==this.dirty&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return"IMG"==this.dom.nodeName}}class PC extends TC{constructor(e,t,n,r,a,i,s,o,l,c){super(e,t,n,r,a,i,s,l,c),this.spec=o}update(e,t,n,r){if(3==this.dirty)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let a=this.spec.update(e,t,n);return a&&this.updateInner(e,t,n,r),a}return!(!this.contentDOM&&!e.isLeaf)&&super.update(e,t,n,r)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,t,n,r){this.spec.setSelection?this.spec.setSelection(e,t,n.root):super.setSelection(e,t,n,r)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return!!this.spec.stopEvent&&this.spec.stopEvent(e)}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function DC(e,t,n){let r=e.firstChild,a=!1;for(let i=0;i<t.length;i++){let s=t[i],o=s.dom;if(o.parentNode==e){for(;o!=r;)r=WC(r),a=!0;r=r.nextSibling}else a=!0,e.insertBefore(o,r);if(s instanceof AC){let t=r?r.previousSibling:e.lastChild;DC(s.contentDOM,s.children,n),r=t?t.nextSibling:e.firstChild}}for(;r;)r=WC(r),a=!0;a&&n.trackWrites==e&&(n.trackWrites=null)}const LC=function(e){e&&(this.nodeName=e)};LC.prototype=Object.create(null);const IC=[new LC];function RC(e,t,n){if(0==e.length)return IC;let r=n?IC[0]:new LC,a=[r];for(let i=0;i<e.length;i++){let s=e[i].type.attrs;if(s){s.nodeName&&a.push(r=new LC(s.nodeName));for(let e in s){let i=s[e];null!=i&&(n&&1==a.length&&a.push(r=new LC(t.isInline?"span":"div")),"class"==e?r.class=(r.class?r.class+" ":"")+i:"style"==e?r.style=(r.style?r.style+";":"")+i:"nodeName"!=e&&(r[e]=i))}}}return a}function FC(e,t,n,r){if(n==IC&&r==IC)return t;let a=t;for(let i=0;i<r.length;i++){let t=r[i],s=n[i];if(i){let n;s&&s.nodeName==t.nodeName&&a!=e&&(n=a.parentNode)&&n.nodeName.toLowerCase()==t.nodeName||(n=document.createElement(t.nodeName),n.pmIsDeco=!0,n.appendChild(a),s=IC[0]),a=n}HC(a,s||IC[0],t)}return a}function HC(e,t,n){for(let r in t)"class"==r||"style"==r||"nodeName"==r||r in n||e.removeAttribute(r);for(let r in n)"class"!=r&&"style"!=r&&"nodeName"!=r&&n[r]!=t[r]&&e.setAttribute(r,n[r]);if(t.class!=n.class){let r=t.class?t.class.split(" ").filter(Boolean):[],a=n.class?n.class.split(" ").filter(Boolean):[];for(let t=0;t<r.length;t++)-1==a.indexOf(r[t])&&e.classList.remove(r[t]);for(let t=0;t<a.length;t++)-1==r.indexOf(a[t])&&e.classList.add(a[t]);0==e.classList.length&&e.removeAttribute("class")}if(t.style!=n.style){if(t.style){let n,r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g;for(;n=r.exec(t.style);)e.style.removeProperty(n[1])}n.style&&(e.style.cssText+=n.style)}}function zC(e,t,n){return FC(e,e,IC,RC(t,n,1!=e.nodeType))}function BC(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].type.eq(t[n].type))return!1;return!0}function WC(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}class $C{constructor(e,t,n){this.lock=t,this.view=n,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=function(e,t){let n=t,r=n.children.length,a=e.childCount,i=new Map,s=[];e:for(;a>0;){let o;for(;;)if(r){let e=n.children[r-1];if(!(e instanceof AC)){o=e,r--;break}n=e,r=e.children.length}else{if(n==t)break e;r=n.parent.children.indexOf(n),n=n.parent}let l=o.node;if(l){if(l!=e.child(a-1))break;--a,i.set(o,a),s.push(o)}}return{index:a,matched:i,matches:s.reverse()}}(e.node.content,e)}destroyBetween(e,t){if(e!=t){for(let n=e;n<t;n++)this.top.children[n].destroy();this.top.children.splice(e,t-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,t,n){let r=0,a=this.stack.length>>1,i=Math.min(a,e.length);for(;r<i&&(r==a-1?this.top:this.stack[r+1<<1]).matchesMark(e[r])&&!1!==e[r].type.spec.spanning;)r++;for(;r<a;)this.destroyRest(),this.top.dirty=0,this.index=this.stack.pop(),this.top=this.stack.pop(),a--;for(;a<e.length;){this.stack.push(this.top,this.index+1);let r=-1;for(let t=this.index;t<Math.min(this.index+3,this.top.children.length);t++){let n=this.top.children[t];if(n.matchesMark(e[a])&&!this.isLocked(n.dom)){r=t;break}}if(r>-1)r>this.index&&(this.changed=!0,this.destroyBetween(this.index,r)),this.top=this.top.children[this.index];else{let r=AC.create(this.top,e[a],t,n);this.top.children.splice(this.index,0,r),this.top=r,this.changed=!0}this.index=0,a++}}findNodeMatch(e,t,n,r){let a,i=-1;if(r>=this.preMatch.index&&(a=this.preMatch.matches[r-this.preMatch.index]).parent==this.top&&a.matchesNode(e,t,n))i=this.top.children.indexOf(a,this.index);else for(let s=this.index,o=Math.min(this.top.children.length,s+5);s<o;s++){let r=this.top.children[s];if(r.matchesNode(e,t,n)&&!this.preMatch.matched.has(r)){i=s;break}}return!(i<0||(this.destroyBetween(this.index,i),this.index++,0))}updateNodeAt(e,t,n,r,a){let i=this.top.children[r];return 3==i.dirty&&i.dom==i.contentDOM&&(i.dirty=2),!!i.update(e,t,n,a)&&(this.destroyBetween(this.index,r),this.index++,!0)}findIndexWithChild(e){for(;;){let t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){let t=e.pmViewDesc;if(t)for(let e=this.index;e<this.top.children.length;e++)if(this.top.children[e]==t)return e;return-1}e=t}}updateNextNode(e,t,n,r,a,i){for(let s=this.index;s<this.top.children.length;s++){let o=this.top.children[s];if(o instanceof TC){let l=this.preMatch.matched.get(o);if(null!=l&&l!=a)return!1;let c,d=o.dom,u=this.isLocked(d)&&!(e.isText&&o.node&&o.node.isText&&o.nodeDOM.nodeValue==e.text&&3!=o.dirty&&BC(t,o.outerDeco));if(!u&&o.update(e,t,n,r))return this.destroyBetween(this.index,s),o.dom!=d&&(this.changed=!0),this.index++,!0;if(!u&&(c=this.recreateWrapper(o,e,t,n,r,i)))return this.destroyBetween(this.index,s),this.top.children[this.index]=c,c.contentDOM&&(c.dirty=2,c.updateChildren(r,i+1),c.dirty=0),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,t,n,r,a,i){if(e.dirty||t.isAtom||!e.children.length||!e.node.content.eq(t.content)||!BC(n,e.outerDeco)||!r.eq(e.innerDeco))return null;let s=TC.create(this.top,t,n,r,a,i);if(s.contentDOM){s.children=e.children,e.children=[];for(let e of s.children)e.parent=s}return e.destroy(),s}addNode(e,t,n,r,a){let i=TC.create(this.top,e,t,n,r,a);i.contentDOM&&i.updateChildren(r,a+1),this.top.children.splice(this.index++,0,i),this.changed=!0}placeWidget(e,t,n){let r=this.index<this.top.children.length?this.top.children[this.index]:null;if(!r||!r.matchesWidget(e)||e!=r.widget&&r.widget.type.toDOM.parentNode){let r=new CC(this.top,e,t,n);this.top.children.splice(this.index++,0,r),this.changed=!0}else this.index++}addTextblockHacks(){let e=this.top.children[this.index-1],t=this.top;for(;e instanceof AC;)t=e,e=t.children[t.children.length-1];(!e||!(e instanceof EC)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((JS||YS)&&e&&"false"==e.dom.contentEditable&&this.addHackNode("IMG",t),this.addHackNode("BR",this.top))}addHackNode(e,t){if(t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e))this.index++;else{let n=document.createElement(e);"IMG"==e&&(n.className="ProseMirror-separator",n.alt=""),"BR"==e&&(n.className="ProseMirror-trailingBreak");let r=new MC(this.top,[],n,null);t!=this.top?t.children.push(r):t.children.splice(this.index++,0,r),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||1==e.nodeType&&e.contains(this.lock.parentNode))}}function UC(e,t){return e.type.side-t.type.side}function VC(e,t,n,r,a){let i=[];for(let s=0,o=0;s<e.length;s++){let l=e[s],c=o,d=o+=l.size;c>=n||d<=t?i.push(l):(c<t&&i.push(l.slice(0,t-c,r)),a&&(i.push(a),a=void 0),d>n&&i.push(l.slice(n-c,l.size,r)))}return i}function qC(e,t=null){let n=e.domSelectionRange(),r=e.state.doc;if(!n.focusNode)return null;let a=e.docView.nearestDesc(n.focusNode),i=a&&0==a.size,s=e.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(s<0)return null;let o,l,c=r.resolve(s);if(IS(n)){for(o=s;a&&!a.node;)a=a.parent;let e=a.node;if(a&&e.isAtom&&dS.isSelectable(e)&&a.parent&&(!e.isInline||!function(e,t,n){for(let r=0==t,a=t==DS(e);r||a;){if(e==n)return!0;let t=_S(e);if(!(e=e.parentNode))return!1;r=r&&0==t,a=a&&t==DS(e)}}(n.focusNode,n.focusOffset,a.dom))){let e=a.posBefore;l=new dS(s==e?c:r.resolve(e))}}else{if(n instanceof e.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let t=s,a=s;for(let r=0;r<n.rangeCount;r++){let i=n.getRangeAt(r);t=Math.min(t,e.docView.posFromDOM(i.startContainer,i.startOffset,1)),a=Math.max(a,e.docView.posFromDOM(i.endContainer,i.endOffset,-1))}if(t<0)return null;[o,s]=a==e.state.selection.anchor?[a,t]:[t,a],c=r.resolve(s)}else o=e.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(o<0)return null}let d=r.resolve(o);return l||(l=t_(e,d,c,"pointer"==t||e.state.selection.head<c.pos&&!i?1:-1)),l}function GC(e){return e.editable?e.hasFocus():r_(e)&&document.activeElement&&document.activeElement.contains(e.dom)}function YC(e,t=!1){let n=e.state.selection;if(ZC(e,n),GC(e)){if(!t&&e.input.mouseDown&&e.input.mouseDown.allowDefault&&YS){let t=e.domSelectionRange(),n=e.domObserver.currentSelection;if(t.anchorNode&&n.anchorNode&&ES(t.anchorNode,t.anchorOffset,n.anchorNode,n.anchorOffset))return e.input.mouseDown.delayedSelectionSync=!0,void e.domObserver.setCurSelection()}if(e.domObserver.disconnectSelection(),e.cursorWrapper)!function(e){let t=e.domSelection();if(!t)return;let n=e.cursorWrapper.dom,r="IMG"==n.nodeName;r?t.collapse(n.parentNode,_S(n)+1):t.collapse(n,0),!r&&!e.state.selection.visible&&US&&VS<=11&&(n.disabled=!0,n.disabled=!1)}(e);else{let r,a,{anchor:i,head:s}=n;!KC||n instanceof lS||(n.$from.parent.inlineContent||(r=JC(e,n.from)),n.empty||n.$from.parent.inlineContent||(a=JC(e,n.to))),e.docView.setSelection(i,s,e,t),KC&&(r&&QC(r),a&&QC(a)),n.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&function(e){let t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.input.hideSelectionGuard);let n=e.domSelectionRange(),r=n.anchorNode,a=n.anchorOffset;t.addEventListener("selectionchange",e.input.hideSelectionGuard=()=>{n.anchorNode==r&&n.anchorOffset==a||(t.removeEventListener("selectionchange",e.input.hideSelectionGuard),setTimeout(()=>{GC(e)&&!e.state.selection.visible||e.dom.classList.remove("ProseMirror-hideselection")},20))})}(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}const KC=JS||YS&&KS<63;function JC(e,t){let{node:n,offset:r}=e.docView.domFromPos(t,0),a=r<n.childNodes.length?n.childNodes[r]:null,i=r?n.childNodes[r-1]:null;if(JS&&a&&"false"==a.contentEditable)return XC(a);if(!(a&&"false"!=a.contentEditable||i&&"false"!=i.contentEditable)){if(a)return XC(a);if(i)return XC(i)}}function XC(e){return e.contentEditable="true",JS&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function QC(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function ZC(e,t){if(t instanceof dS){let n=e.docView.descAt(t.from);n!=e.lastSelectedViewDesc&&(e_(e),n&&n.selectNode(),e.lastSelectedViewDesc=n)}else e_(e)}function e_(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=void 0)}function t_(e,t,n,r){return e.someProp("createSelectionBetween",r=>r(e,t,n))||lS.between(t,n,r)}function n_(e){return!(e.editable&&!e.hasFocus())&&r_(e)}function r_(e){let t=e.domSelectionRange();if(!t.anchorNode)return!1;try{return e.dom.contains(3==t.anchorNode.nodeType?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(3==t.focusNode.nodeType?t.focusNode.parentNode:t.focusNode))}catch(n){return!1}}function a_(e,t){let{$anchor:n,$head:r}=e.selection,a=t>0?n.max(r):n.min(r),i=a.parent.inlineContent?a.depth?e.doc.resolve(t>0?a.after():a.before()):null:a;return i&&aS.findFrom(i,t)}function i_(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function s_(e,t,n){let r=e.state.selection;if(!(r instanceof lS)){if(r instanceof dS&&r.node.isInline)return i_(e,new lS(t>0?r.$to:r.$from));{let n=a_(e.state,t);return!!n&&i_(e,n)}}if(n.indexOf("s")>-1){let{$head:n}=r,a=n.textOffset?null:t<0?n.nodeBefore:n.nodeAfter;if(!a||a.isText||!a.isLeaf)return!1;let i=e.state.doc.resolve(n.pos+a.nodeSize*(t<0?-1:1));return i_(e,new lS(r.$anchor,i))}if(!r.empty)return!1;if(e.endOfTextblock(t>0?"forward":"backward")){let n=a_(e.state,t);return!!(n&&n instanceof dS)&&i_(e,n)}if(!(QS&&n.indexOf("m")>-1)){let n,a=r.$head,i=a.textOffset?null:t<0?a.nodeBefore:a.nodeAfter;if(!i||i.isText)return!1;let s=t<0?a.pos-i.nodeSize:a.pos;return!!(i.isAtom||(n=e.docView.descAt(s))&&!n.contentDOM)&&(dS.isSelectable(i)?i_(e,new dS(t<0?e.state.doc.resolve(a.pos-i.nodeSize):a)):!!tC&&i_(e,new lS(e.state.doc.resolve(t<0?s:s+i.nodeSize))))}}function o_(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function l_(e,t){let n=e.pmViewDesc;return n&&0==n.size&&(t<0||e.nextSibling||"BR"!=e.nodeName)}function c_(e,t){return t<0?function(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let a,i,s=!1;for(qS&&1==n.nodeType&&r<o_(n)&&l_(n.childNodes[r],-1)&&(s=!0);;)if(r>0){if(1!=n.nodeType)break;{let e=n.childNodes[r-1];if(l_(e,-1))a=n,i=--r;else{if(3!=e.nodeType)break;n=e,r=n.nodeValue.length}}}else{if(d_(n))break;{let t=n.previousSibling;for(;t&&l_(t,-1);)a=n.parentNode,i=_S(t),t=t.previousSibling;if(t)n=t,r=o_(n);else{if(n=n.parentNode,n==e.dom)break;r=0}}}s?u_(e,n,r):a&&u_(e,a,i)}(e):function(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let a,i,s=o_(n);for(;;)if(r<s){if(1!=n.nodeType)break;if(!l_(n.childNodes[r],1))break;a=n,i=++r}else{if(d_(n))break;{let t=n.nextSibling;for(;t&&l_(t,1);)a=t.parentNode,i=_S(t)+1,t=t.nextSibling;if(t)n=t,r=0,s=o_(n);else{if(n=n.parentNode,n==e.dom)break;r=s=0}}}a&&u_(e,a,i)}(e)}function d_(e){let t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function u_(e,t,n){if(3!=t.nodeType){let e,r;(r=function(e,t){for(;e&&t==e.childNodes.length&&!LS(e);)t=_S(e)+1,e=e.parentNode;for(;e&&t<e.childNodes.length;){let n=e.childNodes[t];if(3==n.nodeType)return n;if(1==n.nodeType&&"false"==n.contentEditable)break;e=n,t=0}}(t,n))?(t=r,n=0):(e=function(e,t){for(;e&&!t&&!LS(e);)t=_S(e),e=e.parentNode;for(;e&&t;){let n=e.childNodes[t-1];if(3==n.nodeType)return n;if(1==n.nodeType&&"false"==n.contentEditable)break;t=(e=n).childNodes.length}}(t,n))&&(t=e,n=e.nodeValue.length)}let r=e.domSelection();if(!r)return;if(IS(r)){let e=document.createRange();e.setEnd(t,n),e.setStart(t,n),r.removeAllRanges(),r.addRange(e)}else r.extend&&r.extend(t,n);e.domObserver.setCurSelection();let{state:a}=e;setTimeout(()=>{e.state==a&&YC(e)},50)}function h_(e,t){let n=e.state.doc.resolve(t);if(!YS&&!ZS&&n.parent.inlineContent){let r=e.coordsAtPos(t);if(t>n.start()){let n=e.coordsAtPos(t-1),a=(n.top+n.bottom)/2;if(a>r.top&&a<r.bottom&&Math.abs(n.left-r.left)>1)return n.left<r.left?"ltr":"rtl"}if(t<n.end()){let n=e.coordsAtPos(t+1),a=(n.top+n.bottom)/2;if(a>r.top&&a<r.bottom&&Math.abs(n.left-r.left)>1)return n.left>r.left?"ltr":"rtl"}}return"rtl"==getComputedStyle(e.dom).direction?"rtl":"ltr"}function p_(e,t,n){let r=e.state.selection;if(r instanceof lS&&!r.empty||n.indexOf("s")>-1)return!1;if(QS&&n.indexOf("m")>-1)return!1;let{$from:a,$to:i}=r;if(!a.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){let n=a_(e.state,t);if(n&&n instanceof dS)return i_(e,n)}if(!a.parent.inlineContent){let n=t<0?a:i,s=r instanceof hS?aS.near(n,t):aS.findFrom(n,t);return!!s&&i_(e,s)}return!1}function m_(e,t){if(!(e.state.selection instanceof lS))return!0;let{$head:n,$anchor:r,empty:a}=e.state.selection;if(!n.sameParent(r))return!0;if(!a)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;let i=!n.textOffset&&(t<0?n.nodeBefore:n.nodeAfter);if(i&&!i.isText){let r=e.state.tr;return t<0?r.delete(n.pos-i.nodeSize,n.pos):r.delete(n.pos,n.pos+i.nodeSize),e.dispatch(r),!0}return!1}function f_(e,t,n){e.domObserver.stop(),t.contentEditable=n,e.domObserver.start()}function g_(e,t){e.someProp("transformCopied",n=>{t=n(t,e)});let n=[],{content:r,openStart:a,openEnd:i}=t;for(;a>1&&i>1&&1==r.childCount&&1==r.firstChild.childCount;){a--,i--;let e=r.firstChild;n.push(e.type.name,e.attrs!=e.type.defaultAttrs?e.attrs:null),r=e.content}let s=e.someProp("clipboardSerializer")||lk.fromSchema(e.state.schema),o=C_(),l=o.createElement("div");l.appendChild(s.serializeFragment(r,{document:o}));let c,d=l.firstChild,u=0;for(;d&&1==d.nodeType&&(c=k_[d.nodeName.toLowerCase()]);){for(let e=c.length-1;e>=0;e--){let t=o.createElement(c[e]);for(;l.firstChild;)t.appendChild(l.firstChild);l.appendChild(t),u++}d=l.firstChild}return d&&1==d.nodeType&&d.setAttribute("data-pm-slice",`${a} ${i}${u?` -${u}`:""} ${JSON.stringify(n)}`),{dom:l,text:e.someProp("clipboardTextSerializer",n=>n(t,e))||t.content.textBetween(0,t.content.size,"\n\n"),slice:t}}function x_(e,t,n,r,a){let i,s,o=a.parent.type.spec.code;if(!n&&!t)return null;let l=!!t&&(r||o||!n);if(l){if(e.someProp("transformPastedText",n=>{t=n(t,o||r,e)}),o)return s=new pN(oN.from(e.state.schema.text(t.replace(/\r\n?/g,"\n"))),0,0),e.someProp("transformPasted",t=>{s=t(s,e,!0)}),s;let n=e.someProp("clipboardTextParser",n=>n(t,a,r,e));if(n)s=n;else{let n=a.marks(),{schema:r}=e.state,s=lk.fromSchema(r);i=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach(e=>{let t=i.appendChild(document.createElement("p"));e&&t.appendChild(s.serializeNode(r.text(e,n)))})}}else e.someProp("transformPastedHTML",t=>{n=t(n,e)}),i=function(e){let t=/^(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));let n,r=C_().createElement("div"),a=/<([a-z][^>\s]+)/i.exec(e);if((n=a&&k_[a[1].toLowerCase()])&&(e=n.map(e=>"<"+e+">").join("")+e+n.map(e=>"</"+e+">").reverse().join("")),r.innerHTML=function(e){let t=window.trustedTypes;return t?(__||(__=t.defaultPolicy||t.createPolicy("ProseMirrorClipboard",{createHTML:e=>e})),__.createHTML(e)):e}(e),n)for(let i=0;i<n.length;i++)r=r.querySelector(n[i])||r;return r}(n),tC&&function(e){let t=e.querySelectorAll(YS?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<t.length;n++){let r=t[n];1==r.childNodes.length&&" "==r.textContent&&r.parentNode&&r.parentNode.replaceChild(e.ownerDocument.createTextNode(" "),r)}}(i);let c=i&&i.querySelector("[data-pm-slice]"),d=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(d&&d[3])for(let u=+d[3];u>0;u--){let e=i.firstChild;for(;e&&1!=e.nodeType;)e=e.nextSibling;if(!e)break;i=e}if(!s){let t=e.someProp("clipboardParser")||e.someProp("domParser")||QN.fromSchema(e.state.schema);s=t.parseSlice(i,{preserveWhitespace:!(!l&&!d),context:a,ruleFromNode:e=>"BR"!=e.nodeName||e.nextSibling||!e.parentNode||b_.test(e.parentNode.nodeName)?null:{ignore:!0}})}if(d)s=function(e,t){if(!e.size)return e;let n,r=e.content.firstChild.type.schema;try{n=JSON.parse(t)}catch(Ew){return e}let{content:a,openStart:i,openEnd:s}=e;for(let o=n.length-2;o>=0;o-=2){let e=r.nodes[n[o]];if(!e||e.hasRequiredAttrs())break;a=oN.from(e.create(n[o+1],a)),i++,s++}return new pN(a,i,s)}(N_(s,+d[1],+d[2]),d[4]);else if(s=pN.maxOpen(function(e,t){if(e.childCount<2)return e;for(let n=t.depth;n>=0;n--){let r,a=t.node(n).contentMatchAt(t.index(n)),i=[];if(e.forEach(e=>{if(!i)return;let t,n=a.findWrapping(e.type);if(!n)return i=null;if(t=i.length&&r.length&&v_(n,r,e,i[i.length-1],0))i[i.length-1]=t;else{i.length&&(i[i.length-1]=w_(i[i.length-1],r.length));let t=y_(e,n);i.push(t),a=a.matchType(t.type),r=n}}),i)return oN.from(i)}return e}(s.content,a),!0),s.openStart||s.openEnd){let e=0,t=0;for(let n=s.content.firstChild;e<s.openStart&&!n.type.spec.isolating;e++,n=n.firstChild);for(let n=s.content.lastChild;t<s.openEnd&&!n.type.spec.isolating;t++,n=n.lastChild);s=N_(s,e,t)}return e.someProp("transformPasted",t=>{s=t(s,e,l)}),s}const b_=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function y_(e,t,n=0){for(let r=t.length-1;r>=n;r--)e=t[r].create(null,oN.from(e));return e}function v_(e,t,n,r,a){if(a<e.length&&a<t.length&&e[a]==t[a]){let i=v_(e,t,n,r.lastChild,a+1);if(i)return r.copy(r.content.replaceChild(r.childCount-1,i));if(r.contentMatchAt(r.childCount).matchType(a==e.length-1?n.type:e[a+1]))return r.copy(r.content.append(oN.from(y_(n,e,a+1))))}}function w_(e,t){if(0==t)return e;let n=e.content.replaceChild(e.childCount-1,w_(e.lastChild,t-1)),r=e.contentMatchAt(e.childCount).fillBefore(oN.empty,!0);return e.copy(n.append(r))}function j_(e,t,n,r,a,i){let s=t<0?e.firstChild:e.lastChild,o=s.content;return e.childCount>1&&(i=0),a<r-1&&(o=j_(o,t,n,r,a+1,i)),a>=n&&(o=t<0?s.contentMatchAt(0).fillBefore(o,i<=a).append(o):o.append(s.contentMatchAt(s.childCount).fillBefore(oN.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,s.copy(o))}function N_(e,t,n){return t<e.openStart&&(e=new pN(j_(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd)),n<e.openEnd&&(e=new pN(j_(e.content,1,n,e.openEnd,0,0),e.openStart,n)),e}const k_={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let S_=null;function C_(){return S_||(S_=document.implementation.createHTMLDocument("title"))}let __=null;const A_={},T_={},O_={touchstart:!0,touchmove:!0};class E_{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function M_(e,t){e.input.lastSelectionOrigin=t,e.input.lastSelectionTime=Date.now()}function P_(e){e.someProp("handleDOMEvents",t=>{for(let n in t)e.input.eventHandlers[n]||e.dom.addEventListener(n,e.input.eventHandlers[n]=t=>D_(e,t))})}function D_(e,t){return e.someProp("handleDOMEvents",n=>{let r=n[t.type];return!!r&&(r(e,t)||t.defaultPrevented)})}function L_(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let n=t.target;n!=e.dom;n=n.parentNode)if(!n||11==n.nodeType||n.pmViewDesc&&n.pmViewDesc.stopEvent(t))return!1;return!0}function I_(e){return{left:e.clientX,top:e.clientY}}function R_(e,t,n,r,a){if(-1==r)return!1;let i=e.state.doc.resolve(r);for(let s=i.depth+1;s>0;s--)if(e.someProp(t,t=>s>i.depth?t(e,n,i.nodeAfter,i.before(s),a,!0):t(e,n,i.node(s),i.before(s),a,!1)))return!0;return!1}function F_(e,t,n){if(e.focused||e.focus(),e.state.selection.eq(t))return;let r=e.state.tr.setSelection(t);r.setMeta("pointer",!0),e.dispatch(r)}function H_(e,t,n,r){return R_(e,"handleDoubleClickOn",t,n,r)||e.someProp("handleDoubleClick",n=>n(e,t,r))}function z_(e,t,n,r){return R_(e,"handleTripleClickOn",t,n,r)||e.someProp("handleTripleClick",n=>n(e,t,r))||function(e,t,n){if(0!=n.button)return!1;let r=e.state.doc;if(-1==t)return!!r.inlineContent&&(F_(e,lS.create(r,0,r.content.size)),!0);let a=r.resolve(t);for(let i=a.depth+1;i>0;i--){let t=i>a.depth?a.nodeAfter:a.node(i),n=a.before(i);if(t.inlineContent)F_(e,lS.create(r,n+1,n+1+t.content.size));else{if(!dS.isSelectable(t))continue;F_(e,dS.create(r,n))}return!0}}(e,n,r)}function B_(e){return Y_(e)}T_.keydown=(e,t)=>{let n=t;if(e.input.shiftKey=16==n.keyCode||n.shiftKey,!U_(e,n)&&(e.input.lastKeyCode=n.keyCode,e.input.lastKeyCodeTime=Date.now(),!eC||!YS||13!=n.keyCode))if(229!=n.keyCode&&e.domObserver.forceFlush(),!XS||13!=n.keyCode||n.ctrlKey||n.altKey||n.metaKey)e.someProp("handleKeyDown",t=>t(e,n))||function(e,t){let n=t.keyCode,r=function(e){let t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}(t);if(8==n||QS&&72==n&&"c"==r)return m_(e,-1)||c_(e,-1);if(46==n&&!t.shiftKey||QS&&68==n&&"c"==r)return m_(e,1)||c_(e,1);if(13==n||27==n)return!0;if(37==n||QS&&66==n&&"c"==r){let t=37==n?"ltr"==h_(e,e.state.selection.from)?-1:1:-1;return s_(e,t,r)||c_(e,t)}if(39==n||QS&&70==n&&"c"==r){let t=39==n?"ltr"==h_(e,e.state.selection.from)?1:-1:1;return s_(e,t,r)||c_(e,t)}return 38==n||QS&&80==n&&"c"==r?p_(e,-1,r)||c_(e,-1):40==n||QS&&78==n&&"c"==r?function(e){if(!JS||e.state.selection.$head.parentOffset>0)return!1;let{focusNode:t,focusOffset:n}=e.domSelectionRange();if(t&&1==t.nodeType&&0==n&&t.firstChild&&"false"==t.firstChild.contentEditable){let n=t.firstChild;f_(e,n,"true"),setTimeout(()=>f_(e,n,"false"),20)}return!1}(e)||p_(e,1,r)||c_(e,1):r==(QS?"m":"c")&&(66==n||73==n||89==n||90==n)}(e,n)?n.preventDefault():M_(e,"key");else{let t=Date.now();e.input.lastIOSEnter=t,e.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{e.input.lastIOSEnter==t&&(e.someProp("handleKeyDown",t=>t(e,RS(13,"Enter"))),e.input.lastIOSEnter=0)},200)}},T_.keyup=(e,t)=>{16==t.keyCode&&(e.input.shiftKey=!1)},T_.keypress=(e,t)=>{let n=t;if(U_(e,n)||!n.charCode||n.ctrlKey&&!n.altKey||QS&&n.metaKey)return;if(e.someProp("handleKeyPress",t=>t(e,n)))return void n.preventDefault();let r=e.state.selection;if(!(r instanceof lS&&r.$from.sameParent(r.$to))){let t=String.fromCharCode(n.charCode),a=()=>e.state.tr.insertText(t).scrollIntoView();/[\r\n]/.test(t)||e.someProp("handleTextInput",n=>n(e,r.$from.pos,r.$to.pos,t,a))||e.dispatch(a()),n.preventDefault()}};const W_=QS?"metaKey":"ctrlKey";A_.mousedown=(e,t)=>{let n=t;e.input.shiftKey=n.shiftKey;let r=B_(e),a=Date.now(),i="singleClick";a-e.input.lastClick.time<500&&function(e,t){let n=t.x-e.clientX,r=t.y-e.clientY;return n*n+r*r<100}(n,e.input.lastClick)&&!n[W_]&&e.input.lastClick.button==n.button&&("singleClick"==e.input.lastClick.type?i="doubleClick":"doubleClick"==e.input.lastClick.type&&(i="tripleClick")),e.input.lastClick={time:a,x:n.clientX,y:n.clientY,type:i,button:n.button};let s=e.posAtCoords(I_(n));s&&("singleClick"==i?(e.input.mouseDown&&e.input.mouseDown.done(),e.input.mouseDown=new $_(e,s,n,!!r)):("doubleClick"==i?H_:z_)(e,s.pos,s.inside,n)?n.preventDefault():M_(e,"pointer"))};class $_{constructor(e,t,n,r){let a,i;if(this.view=e,this.pos=t,this.event=n,this.flushed=r,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!n[W_],this.allowDefault=n.shiftKey,t.inside>-1)a=e.state.doc.nodeAt(t.inside),i=t.inside;else{let n=e.state.doc.resolve(t.pos);a=n.parent,i=n.depth?n.before():0}const s=r?null:n.target,o=s?e.docView.nearestDesc(s,!0):null;this.target=o&&1==o.nodeDOM.nodeType?o.nodeDOM:null;let{selection:l}=e.state;(0==n.button&&a.type.spec.draggable&&!1!==a.type.spec.selectable||l instanceof dS&&l.from<=i&&l.to>i)&&(this.mightDrag={node:a,pos:i,addAttr:!(!this.target||this.target.draggable),setUneditable:!(!this.target||!qS||this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),M_(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>YC(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(I_(e))),this.updateAllowDefault(e),this.allowDefault||!t?M_(this.view,"pointer"):function(e,t,n,r,a){return R_(e,"handleClickOn",t,n,r)||e.someProp("handleClick",n=>n(e,t,r))||(a?function(e,t){if(-1==t)return!1;let n,r,a=e.state.selection;a instanceof dS&&(n=a.node);let i=e.state.doc.resolve(t);for(let s=i.depth+1;s>0;s--){let e=s>i.depth?i.nodeAfter:i.node(s);if(dS.isSelectable(e)){r=n&&a.$from.depth>0&&s>=a.$from.depth&&i.before(a.$from.depth+1)==a.$from.pos?i.before(a.$from.depth):i.before(s);break}}return null!=r&&(F_(e,dS.create(e.state.doc,r)),!0)}(e,n):function(e,t){if(-1==t)return!1;let n=e.state.doc.resolve(t),r=n.nodeAfter;return!!(r&&r.isAtom&&dS.isSelectable(r))&&(F_(e,new dS(n)),!0)}(e,n))}(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():0==e.button&&(this.flushed||JS&&this.mightDrag&&!this.mightDrag.node.isAtom||YS&&!this.view.state.selection.visible&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(F_(this.view,aS.near(this.view.state.doc.resolve(t.pos))),e.preventDefault()):M_(this.view,"pointer")}move(e){this.updateAllowDefault(e),M_(this.view,"pointer"),0==e.buttons&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}function U_(e,t){return!!e.composing||!!(JS&&Math.abs(t.timeStamp-e.input.compositionEndedAt)<500)&&(e.input.compositionEndedAt=-2e8,!0)}A_.touchstart=e=>{e.input.lastTouch=Date.now(),B_(e),M_(e,"pointer")},A_.touchmove=e=>{e.input.lastTouch=Date.now(),M_(e,"pointer")},A_.contextmenu=e=>B_(e);const V_=eC?5e3:-1;function q_(e,t){clearTimeout(e.input.composingTimeout),t>-1&&(e.input.composingTimeout=setTimeout(()=>Y_(e),t))}function G_(e){for(e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=function(){let e=document.createEvent("Event");return e.initEvent("event",!0,!0),e.timeStamp}());e.input.compositionNodes.length>0;)e.input.compositionNodes.pop().markParentsDirty()}function Y_(e,t=!1){if(!(eC&&e.domObserver.flushingSoon>=0)){if(e.domObserver.forceFlush(),G_(e),t||e.docView&&e.docView.dirty){let n=qC(e),r=e.state.selection;return n&&!n.eq(r)?e.dispatch(e.state.tr.setSelection(n)):!e.markCursor&&!t||r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?e.updateState(e.state):e.dispatch(e.state.tr.deleteSelection()),!0}return!1}}T_.compositionstart=T_.compositionupdate=e=>{if(!e.composing){e.domObserver.flush();let{state:t}=e,n=t.selection.$to;if(t.selection instanceof lS&&(t.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(e=>!1===e.type.spec.inclusive)))e.markCursor=e.state.storedMarks||n.marks(),Y_(e,!0),e.markCursor=null;else if(Y_(e,!t.selection.empty),qS&&t.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let t=e.domSelectionRange();for(let n=t.focusNode,r=t.focusOffset;n&&1==n.nodeType&&0!=r;){let t=r<0?n.lastChild:n.childNodes[r-1];if(!t)break;if(3==t.nodeType){let n=e.domSelection();n&&n.collapse(t,t.nodeValue.length);break}n=t,r=-1}}e.input.composing=!0}q_(e,V_)},T_.compositionend=(e,t)=>{e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=t.timeStamp,e.input.compositionPendingChanges=e.domObserver.pendingRecords().length?e.input.compositionID:0,e.input.compositionNode=null,e.input.compositionPendingChanges&&Promise.resolve().then(()=>e.domObserver.flush()),e.input.compositionID++,q_(e,20))};const K_=US&&VS<15||XS&&nC<604;function J_(e,t,n,r,a){let i=x_(e,t,n,r,e.state.selection.$from);if(e.someProp("handlePaste",t=>t(e,a,i||pN.empty)))return!0;if(!i)return!1;let s=function(e){return 0==e.openStart&&0==e.openEnd&&1==e.content.childCount?e.content.firstChild:null}(i),o=s?e.state.tr.replaceSelectionWith(s,r):e.state.tr.replaceSelection(i);return e.dispatch(o.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function X_(e){let t=e.getData("text/plain")||e.getData("Text");if(t)return t;let n=e.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}A_.copy=T_.cut=(e,t)=>{let n=t,r=e.state.selection,a="cut"==n.type;if(r.empty)return;let i=K_?null:n.clipboardData,s=r.content(),{dom:o,text:l}=g_(e,s);i?(n.preventDefault(),i.clearData(),i.setData("text/html",o.innerHTML),i.setData("text/plain",l)):function(e,t){if(!e.dom.parentNode)return;let n=e.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(t),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),a=document.createRange();a.selectNodeContents(t),e.dom.blur(),r.removeAllRanges(),r.addRange(a),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),e.focus()},50)}(e,o),a&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))},T_.paste=(e,t)=>{let n=t;if(e.composing&&!eC)return;let r=K_?null:n.clipboardData,a=e.input.shiftKey&&45!=e.input.lastKeyCode;r&&J_(e,X_(r),r.getData("text/html"),a,n)?n.preventDefault():function(e,t){if(!e.dom.parentNode)return;let n=e.input.shiftKey||e.state.selection.$from.parent.type.spec.code,r=e.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let a=e.input.shiftKey&&45!=e.input.lastKeyCode;setTimeout(()=>{e.focus(),r.parentNode&&r.parentNode.removeChild(r),n?J_(e,r.value,null,a,t):J_(e,r.textContent,r.innerHTML,a,t)},50)}(e,n)};class Q_{constructor(e,t,n){this.slice=e,this.move=t,this.node=n}}const Z_=QS?"altKey":"ctrlKey";function eA(e,t){let n=e.someProp("dragCopies",e=>!e(t));return null!=n?n:!t[Z_]}A_.dragstart=(e,t)=>{let n=t,r=e.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let a,i=e.state.selection,s=i.empty?null:e.posAtCoords(I_(n));if(s&&s.pos>=i.from&&s.pos<=(i instanceof dS?i.to-1:i.to));else if(r&&r.mightDrag)a=dS.create(e.state.doc,r.mightDrag.pos);else if(n.target&&1==n.target.nodeType){let t=e.docView.nearestDesc(n.target,!0);t&&t.node.type.spec.draggable&&t!=e.docView&&(a=dS.create(e.state.doc,t.posBefore))}let o=(a||e.state.selection).content(),{dom:l,text:c,slice:d}=g_(e,o);(!n.dataTransfer.files.length||!YS||KS>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(K_?"Text":"text/html",l.innerHTML),n.dataTransfer.effectAllowed="copyMove",K_||n.dataTransfer.setData("text/plain",c),e.dragging=new Q_(d,eA(e,n),a)},A_.dragend=e=>{let t=e.dragging;window.setTimeout(()=>{e.dragging==t&&(e.dragging=null)},50)},T_.dragover=T_.dragenter=(e,t)=>t.preventDefault(),T_.drop=(e,t)=>{let n=t,r=e.dragging;if(e.dragging=null,!n.dataTransfer)return;let a=e.posAtCoords(I_(n));if(!a)return;let i=e.state.doc.resolve(a.pos),s=r&&r.slice;s?e.someProp("transformPasted",t=>{s=t(s,e,!1)}):s=x_(e,X_(n.dataTransfer),K_?null:n.dataTransfer.getData("text/html"),!1,i);let o=!(!r||!eA(e,n));if(e.someProp("handleDrop",t=>t(e,n,s||pN.empty,o)))return void n.preventDefault();if(!s)return;n.preventDefault();let l=s?Bk(e.state.doc,i.pos,s):i.pos;null==l&&(l=i.pos);let c=e.state.tr;if(o){let{node:e}=r;e?e.replace(c):c.deleteSelection()}let d=c.mapping.map(l),u=0==s.openStart&&0==s.openEnd&&1==s.content.childCount,h=c.doc;if(u?c.replaceRangeWith(d,d,s.content.firstChild):c.replaceRange(d,d,s),c.doc.eq(h))return;let p=c.doc.resolve(d);if(u&&dS.isSelectable(s.content.firstChild)&&p.nodeAfter&&p.nodeAfter.sameMarkup(s.content.firstChild))c.setSelection(new dS(p));else{let t=c.mapping.map(l);c.mapping.maps[c.mapping.maps.length-1].forEach((e,n,r,a)=>t=a),c.setSelection(t_(e,p,c.doc.resolve(t)))}e.focus(),e.dispatch(c.setMeta("uiEvent","drop"))},A_.focus=e=>{e.input.lastFocus=Date.now(),e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout(()=>{e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.domSelectionRange())&&YC(e)},20))},A_.blur=(e,t)=>{let n=t;e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),n.relatedTarget&&e.dom.contains(n.relatedTarget)&&e.domObserver.currentSelection.clear(),e.focused=!1)},A_.beforeinput=(e,t)=>{if(YS&&eC&&"deleteContentBackward"==t.inputType){e.domObserver.flushSoon();let{domChangeCount:t}=e.input;setTimeout(()=>{if(e.input.domChangeCount!=t)return;if(e.dom.blur(),e.focus(),e.someProp("handleKeyDown",t=>t(e,RS(8,"Backspace"))))return;let{$cursor:n}=e.state.selection;n&&n.pos>0&&e.dispatch(e.state.tr.delete(n.pos-1,n.pos).scrollIntoView())},50)}};for(let os in T_)A_[os]=T_[os];function tA(e,t){if(e==t)return!0;for(let n in e)if(e[n]!==t[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}class nA{constructor(e,t){this.toDOM=e,this.spec=t||oA,this.side=this.spec.side||0}map(e,t,n,r){let{pos:a,deleted:i}=e.mapResult(t.from+r,this.side<0?-1:1);return i?null:new iA(a-n,a-n,this)}valid(){return!0}eq(e){return this==e||e instanceof nA&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&tA(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class rA{constructor(e,t){this.attrs=e,this.spec=t||oA}map(e,t,n,r){let a=e.map(t.from+r,this.spec.inclusiveStart?-1:1)-n,i=e.map(t.to+r,this.spec.inclusiveEnd?1:-1)-n;return a>=i?null:new iA(a,i,this)}valid(e,t){return t.from<t.to}eq(e){return this==e||e instanceof rA&&tA(this.attrs,e.attrs)&&tA(this.spec,e.spec)}static is(e){return e.type instanceof rA}destroy(){}}class aA{constructor(e,t){this.attrs=e,this.spec=t||oA}map(e,t,n,r){let a=e.mapResult(t.from+r,1);if(a.deleted)return null;let i=e.mapResult(t.to+r,-1);return i.deleted||i.pos<=a.pos?null:new iA(a.pos-n,i.pos-n,this)}valid(e,t){let n,{index:r,offset:a}=e.content.findIndex(t.from);return a==t.from&&!(n=e.child(r)).isText&&a+n.nodeSize==t.to}eq(e){return this==e||e instanceof aA&&tA(this.attrs,e.attrs)&&tA(this.spec,e.spec)}destroy(){}}class iA{constructor(e,t,n){this.from=e,this.to=t,this.type=n}copy(e,t){return new iA(e,t,this.type)}eq(e,t=0){return this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to}map(e,t,n){return this.type.map(e,this,t,n)}static widget(e,t,n){return new iA(e,e,new nA(t,n))}static inline(e,t,n,r){return new iA(e,t,new rA(n,r))}static node(e,t,n,r){return new iA(e,t,new aA(n,r))}get spec(){return this.type.spec}get inline(){return this.type instanceof rA}get widget(){return this.type instanceof nA}}const sA=[],oA={};class lA{constructor(e,t){this.local=e.length?e:sA,this.children=t.length?t:sA}static create(e,t){return t.length?mA(t,e,0,oA):cA}find(e,t,n){let r=[];return this.findInner(null==e?0:e,null==t?1e9:t,r,0,n),r}findInner(e,t,n,r,a){for(let i=0;i<this.local.length;i++){let s=this.local[i];s.from<=t&&s.to>=e&&(!a||a(s.spec))&&n.push(s.copy(s.from+r,s.to+r))}for(let i=0;i<this.children.length;i+=3)if(this.children[i]<t&&this.children[i+1]>e){let s=this.children[i]+1;this.children[i+2].findInner(e-s,t-s,n,r+s,a)}}map(e,t,n){return this==cA||0==e.maps.length?this:this.mapInner(e,t,0,0,n||oA)}mapInner(e,t,n,r,a){let i;for(let s=0;s<this.local.length;s++){let o=this.local[s].map(e,n,r);o&&o.type.valid(t,o)?(i||(i=[])).push(o):a.onRemove&&a.onRemove(this.local[s].spec)}return this.children.length?function(e,t,n,r,a,i,s){let o=e.slice();for(let c=0,d=i;c<n.maps.length;c++){let e=0;n.maps[c].forEach((t,n,r,a)=>{let i=a-r-(n-t);for(let s=0;s<o.length;s+=3){let r=o[s+1];if(r<0||t>r+d-e)continue;let a=o[s]+d-e;n>=a?o[s+1]=t<=a?-2:-1:t>=d&&i&&(o[s]+=i,o[s+1]+=i)}e+=i}),d=n.maps[c].map(d,-1)}let l=!1;for(let c=0;c<o.length;c+=3)if(o[c+1]<0){if(-2==o[c+1]){l=!0,o[c+1]=-1;continue}let t=n.map(e[c]+i),d=t-a;if(d<0||d>=r.content.size){l=!0;continue}let u=n.map(e[c+1]+i,-1)-a,{index:h,offset:p}=r.content.findIndex(d),m=r.maybeChild(h);if(m&&p==d&&p+m.nodeSize==u){let r=o[c+2].mapInner(n,m,t+1,e[c]+i+1,s);r!=cA?(o[c]=d,o[c+1]=u,o[c+2]=r):(o[c+1]=-2,l=!0)}else l=!0}if(l){let l=function(e,t,n,r,a,i,s){function o(e,t){for(let i=0;i<e.local.length;i++){let o=e.local[i].map(r,a,t);o?n.push(o):s.onRemove&&s.onRemove(e.local[i].spec)}for(let n=0;n<e.children.length;n+=3)o(e.children[n+2],e.children[n]+t+1)}for(let l=0;l<e.length;l+=3)-1==e[l+1]&&o(e[l+2],t[l]+i+1);return n}(o,e,t,n,a,i,s),c=mA(l,r,0,s);t=c.local;for(let e=0;e<o.length;e+=3)o[e+1]<0&&(o.splice(e,3),e-=3);for(let e=0,t=0;e<c.children.length;e+=3){let n=c.children[e];for(;t<o.length&&o[t]<n;)t+=3;o.splice(t,0,c.children[e],c.children[e+1],c.children[e+2])}}return new lA(t.sort(fA),o)}(this.children,i||[],e,t,n,r,a):i?new lA(i.sort(fA),sA):cA}add(e,t){return t.length?this==cA?lA.create(e,t):this.addInner(e,t,0):this}addInner(e,t,n){let r,a=0;e.forEach((e,i)=>{let s,o=i+n;if(s=hA(t,e,o)){for(r||(r=this.children.slice());a<r.length&&r[a]<i;)a+=3;r[a]==i?r[a+2]=r[a+2].addInner(e,s,o+1):r.splice(a,0,i,i+e.nodeSize,mA(s,e,o+1,oA)),a+=3}});let i=uA(a?pA(t):t,-n);for(let s=0;s<i.length;s++)i[s].type.valid(e,i[s])||i.splice(s--,1);return new lA(i.length?this.local.concat(i).sort(fA):this.local,r||this.children)}remove(e){return 0==e.length||this==cA?this:this.removeInner(e,0)}removeInner(e,t){let n=this.children,r=this.local;for(let a=0;a<n.length;a+=3){let r,i=n[a]+t,s=n[a+1]+t;for(let t,n=0;n<e.length;n++)(t=e[n])&&t.from>i&&t.to<s&&(e[n]=null,(r||(r=[])).push(t));if(!r)continue;n==this.children&&(n=this.children.slice());let o=n[a+2].removeInner(r,i+1);o!=cA?n[a+2]=o:(n.splice(a,3),a-=3)}if(r.length)for(let a,i=0;i<e.length;i++)if(a=e[i])for(let e=0;e<r.length;e++)r[e].eq(a,t)&&(r==this.local&&(r=this.local.slice()),r.splice(e--,1));return n==this.children&&r==this.local?this:r.length||n.length?new lA(r,n):cA}forChild(e,t){if(this==cA)return this;if(t.isLeaf)return lA.empty;let n,r;for(let s=0;s<this.children.length;s+=3)if(this.children[s]>=e){this.children[s]==e&&(n=this.children[s+2]);break}let a=e+1,i=a+t.content.size;for(let s=0;s<this.local.length;s++){let e=this.local[s];if(e.from<i&&e.to>a&&e.type instanceof rA){let t=Math.max(a,e.from)-a,n=Math.min(i,e.to)-a;t<n&&(r||(r=[])).push(e.copy(t,n))}}if(r){let e=new lA(r.sort(fA),sA);return n?new dA([e,n]):e}return n||cA}eq(e){if(this==e)return!0;if(!(e instanceof lA)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(let t=0;t<this.children.length;t+=3)if(this.children[t]!=e.children[t]||this.children[t+1]!=e.children[t+1]||!this.children[t+2].eq(e.children[t+2]))return!1;return!0}locals(e){return gA(this.localsInner(e))}localsInner(e){if(this==cA)return sA;if(e.inlineContent||!this.local.some(rA.is))return this.local;let t=[];for(let n=0;n<this.local.length;n++)this.local[n].type instanceof rA||t.push(this.local[n]);return t}forEachSet(e){e(this)}}lA.empty=new lA([],[]),lA.removeOverlap=gA;const cA=lA.empty;class dA{constructor(e){this.members=e}map(e,t){const n=this.members.map(n=>n.map(e,t,oA));return dA.from(n)}forChild(e,t){if(t.isLeaf)return lA.empty;let n=[];for(let r=0;r<this.members.length;r++){let a=this.members[r].forChild(e,t);a!=cA&&(a instanceof dA?n=n.concat(a.members):n.push(a))}return dA.from(n)}eq(e){if(!(e instanceof dA)||e.members.length!=this.members.length)return!1;for(let t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0}locals(e){let t,n=!0;for(let r=0;r<this.members.length;r++){let a=this.members[r].localsInner(e);if(a.length)if(t){n&&(t=t.slice(),n=!1);for(let e=0;e<a.length;e++)t.push(a[e])}else t=a}return t?gA(n?t:t.sort(fA)):sA}static from(e){switch(e.length){case 0:return cA;case 1:return e[0];default:return new dA(e.every(e=>e instanceof lA)?e:e.reduce((e,t)=>e.concat(t instanceof lA?t:t.members),[]))}}forEachSet(e){for(let t=0;t<this.members.length;t++)this.members[t].forEachSet(e)}}function uA(e,t){if(!t||!e.length)return e;let n=[];for(let r=0;r<e.length;r++){let a=e[r];n.push(new iA(a.from+t,a.to+t,a.type))}return n}function hA(e,t,n){if(t.isLeaf)return null;let r=n+t.nodeSize,a=null;for(let i,s=0;s<e.length;s++)(i=e[s])&&i.from>n&&i.to<r&&((a||(a=[])).push(i),e[s]=null);return a}function pA(e){let t=[];for(let n=0;n<e.length;n++)null!=e[n]&&t.push(e[n]);return t}function mA(e,t,n,r){let a=[],i=!1;t.forEach((t,s)=>{let o=hA(e,t,s+n);if(o){i=!0;let e=mA(o,t,n+s+1,r);e!=cA&&a.push(s,s+t.nodeSize,e)}});let s=uA(i?pA(e):e,-n).sort(fA);for(let o=0;o<s.length;o++)s[o].type.valid(t,s[o])||(r.onRemove&&r.onRemove(s[o].spec),s.splice(o--,1));return s.length||a.length?new lA(s,a):cA}function fA(e,t){return e.from-t.from||e.to-t.to}function gA(e){let t=e;for(let n=0;n<t.length-1;n++){let r=t[n];if(r.from!=r.to)for(let a=n+1;a<t.length;a++){let i=t[a];if(i.from!=r.from){i.from<r.to&&(t==e&&(t=e.slice()),t[n]=r.copy(r.from,i.from),xA(t,a,r.copy(i.from,r.to)));break}i.to!=r.to&&(t==e&&(t=e.slice()),t[a]=i.copy(i.from,r.to),xA(t,a+1,i.copy(r.to,i.to)))}}return t}function xA(e,t,n){for(;t<e.length&&fA(n,e[t])>0;)t++;e.splice(t,0,n)}function bA(e){let t=[];return e.someProp("decorations",n=>{let r=n(e.state);r&&r!=cA&&t.push(r)}),e.cursorWrapper&&t.push(lA.create(e.state.doc,[e.cursorWrapper.deco])),dA.from(t)}const yA={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},vA=US&&VS<=11;class wA{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class jA{constructor(e,t){this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new wA,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(e=>{for(let t=0;t<e.length;t++)this.queue.push(e[t]);US&&VS<=11&&e.some(e=>"childList"==e.type&&e.removedNodes.length||"characterData"==e.type&&e.oldValue.length>e.target.nodeValue.length)?this.flushSoon():this.flush()}),vA&&(this.onCharData=e=>{this.queue.push({target:e.target,type:"characterData",oldValue:e.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,yA)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let t=0;t<e.length;t++)this.queue.push(e[t]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(n_(this.view)){if(this.suppressingSelectionUpdates)return YC(this.view);if(US&&VS<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&ES(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let t,n=new Set;for(let a=e.focusNode;a;a=AS(a))n.add(a);for(let a=e.anchorNode;a;a=AS(a))if(n.has(a)){t=a;break}let r=t&&this.view.docView.nearestDesc(t);return r&&r.ignoreMutation({type:"selection",target:3==t.nodeType?t.parentNode:t})?(this.setCurSelection(),!0):void 0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let t=this.pendingRecords();t.length&&(this.queue=[]);let n=e.domSelectionRange(),r=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(n)&&n_(e)&&!this.ignoreSelectionChange(n),a=-1,i=-1,s=!1,o=[];if(e.editable)for(let c=0;c<t.length;c++){let e=this.registerMutation(t[c],o);e&&(a=a<0?e.from:Math.min(e.from,a),i=i<0?e.to:Math.max(e.to,i),e.typeOver&&(s=!0))}if(qS&&o.length){let t=o.filter(e=>"BR"==e.nodeName);if(2==t.length){let[e,n]=t;e.parentNode&&e.parentNode.parentNode==n.parentNode?n.remove():e.remove()}else{let{focusNode:n}=this.currentSelection;for(let r of t){let t=r.parentNode;!t||"LI"!=t.nodeName||n&&CA(e,n)==t||r.remove()}}}let l=null;a<0&&r&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&IS(n)&&(l=qC(e))&&l.eq(aS.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,YC(e),this.currentSelection.set(n),e.scrollToSelection()):(a>-1||r)&&(a>-1&&(e.docView.markDirty(a,i),function(e){if(!NA.has(e)&&(NA.set(e,null),-1!==["normal","nowrap","pre-line"].indexOf(getComputedStyle(e.dom).whiteSpace))){if(e.requiresGeckoHackNode=qS,kA)return;kA=!0}}(e)),this.handleDOMChange(a,i,s,o),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(n)||YC(e),this.currentSelection.set(n))}registerMutation(e,t){if(t.indexOf(e.target)>-1)return null;let n=this.view.docView.nearestDesc(e.target);if("attributes"==e.type&&(n==this.view.docView||"contenteditable"==e.attributeName||"style"==e.attributeName&&!e.oldValue&&!e.target.getAttribute("style")))return null;if(!n||n.ignoreMutation(e))return null;if("childList"==e.type){for(let n=0;n<e.addedNodes.length;n++){let r=e.addedNodes[n];t.push(r),3==r.nodeType&&(this.lastChangedTextNode=r)}if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(e.target))return{from:n.posBefore,to:n.posAfter};let r=e.previousSibling,a=e.nextSibling;if(US&&VS<=11&&e.addedNodes.length)for(let t=0;t<e.addedNodes.length;t++){let{previousSibling:n,nextSibling:i}=e.addedNodes[t];(!n||Array.prototype.indexOf.call(e.addedNodes,n)<0)&&(r=n),(!i||Array.prototype.indexOf.call(e.addedNodes,i)<0)&&(a=i)}let i=r&&r.parentNode==e.target?_S(r)+1:0,s=n.localPosFromDOM(e.target,i,-1),o=a&&a.parentNode==e.target?_S(a):e.target.childNodes.length;return{from:s,to:n.localPosFromDOM(e.target,o,1)}}return"attributes"==e.type?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:(this.lastChangedTextNode=e.target,{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let NA=new WeakMap,kA=!1;function SA(e,t){let n=t.startContainer,r=t.startOffset,a=t.endContainer,i=t.endOffset,s=e.domAtPos(e.state.selection.anchor);return ES(s.node,s.offset,a,i)&&([n,r,a,i]=[a,i,n,r]),{anchorNode:n,anchorOffset:r,focusNode:a,focusOffset:i}}function CA(e,t){for(let n=t.parentNode;n&&n!=e.dom;n=n.parentNode){let t=e.docView.nearestDesc(n,!0);if(t&&t.node.isBlock)return n}return null}function _A(e){let t=e.pmViewDesc;if(t)return t.parseRule();if("BR"==e.nodeName&&e.parentNode){if(JS&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){let e=document.createElement("div");return e.appendChild(document.createElement("li")),{skip:e}}if(e.parentNode.lastChild==e||JS&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if("IMG"==e.nodeName&&e.getAttribute("mark-placeholder"))return{ignore:!0};return null}const AA=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function TA(e,t,n){return Math.max(n.anchor,n.head)>t.content.size?null:t_(e,t.resolve(n.anchor),t.resolve(n.head))}function OA(e,t,n){let r=e.depth,a=t?e.end():e.pos;for(;r>0&&(t||e.indexAfter(r)==e.node(r).childCount);)r--,a++,t=!1;if(n){let t=e.node(r).maybeChild(e.indexAfter(r));for(;t&&!t.isLeaf;)t=t.firstChild,a++}return a}function EA(e){if(2!=e.length)return!1;let t=e.charCodeAt(0),n=e.charCodeAt(1);return t>=56320&&t<=57343&&n>=55296&&n<=56319}class MA{constructor(e,t){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new E_,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(RA),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):"function"==typeof e?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=LA(this),DA(this),this.nodeViews=IA(this),this.docView=OC(this.state.doc,PA(this),bA(this),this.dom,this),this.domObserver=new jA(this,(e,t,n,r)=>function(e,t,n,r,a){let i=e.input.compositionPendingChanges||(e.composing?e.input.compositionID:0);if(e.input.compositionPendingChanges=0,t<0){let t=e.input.lastSelectionTime>Date.now()-50?e.input.lastSelectionOrigin:null,n=qC(e,t);if(n&&!e.state.selection.eq(n)){if(YS&&eC&&13===e.input.lastKeyCode&&Date.now()-100<e.input.lastKeyCodeTime&&e.someProp("handleKeyDown",t=>t(e,RS(13,"Enter"))))return;let r=e.state.tr.setSelection(n);"pointer"==t?r.setMeta("pointer",!0):"key"==t&&r.scrollIntoView(),i&&r.setMeta("composition",i),e.dispatch(r)}return}let s=e.state.doc.resolve(t),o=s.sharedDepth(n);t=s.before(o+1),n=e.state.doc.resolve(n).after(o+1);let l,c,d=e.state.selection,u=function(e,t,n){let r,{node:a,fromOffset:i,toOffset:s,from:o,to:l}=e.docView.parseRange(t,n),c=e.domSelectionRange(),d=c.anchorNode;if(d&&e.dom.contains(1==d.nodeType?d:d.parentNode)&&(r=[{node:d,offset:c.anchorOffset}],IS(c)||r.push({node:c.focusNode,offset:c.focusOffset})),YS&&8===e.input.lastKeyCode)for(let g=s;g>i;g--){let e=a.childNodes[g-1],t=e.pmViewDesc;if("BR"==e.nodeName&&!t){s=g;break}if(!t||t.size)break}let u=e.state.doc,h=e.someProp("domParser")||QN.fromSchema(e.state.schema),p=u.resolve(o),m=null,f=h.parse(a,{topNode:p.parent,topMatch:p.parent.contentMatchAt(p.index()),topOpen:!0,from:i,to:s,preserveWhitespace:"pre"!=p.parent.type.whitespace||"full",findPositions:r,ruleFromNode:_A,context:p});if(r&&null!=r[0].pos){let e=r[0].pos,t=r[1]&&r[1].pos;null==t&&(t=e),m={anchor:e+o,head:t+o}}return{doc:f,sel:m,from:o,to:l}}(e,t,n),h=e.state.doc,p=h.slice(u.from,u.to);8===e.input.lastKeyCode&&Date.now()-100<e.input.lastKeyCodeTime?(l=e.state.selection.to,c="end"):(l=e.state.selection.from,c="start"),e.input.lastKeyCode=null;let m=function(e,t,n,r,a){let i=e.findDiffStart(t,n);if(null==i)return null;let{a:s,b:o}=e.findDiffEnd(t,n+e.size,n+t.size);if("end"==a&&(r-=s+Math.max(0,i-Math.min(s,o))-i),s<i&&e.size<t.size){let e=r<=i&&r>=s?i-r:0;i-=e,i&&i<t.size&&EA(t.textBetween(i-1,i+1))&&(i+=e?1:-1),o=i+(o-s),s=i}else if(o<i){let t=r<=i&&r>=o?i-r:0;i-=t,i&&i<e.size&&EA(e.textBetween(i-1,i+1))&&(i+=t?1:-1),s=i+(s-o),o=i}return{start:i,endA:s,endB:o}}(p.content,u.doc.content,u.from,l,c);if(m&&e.input.domChangeCount++,(XS&&e.input.lastIOSEnter>Date.now()-225||eC)&&a.some(e=>1==e.nodeType&&!AA.test(e.nodeName))&&(!m||m.endA>=m.endB)&&e.someProp("handleKeyDown",t=>t(e,RS(13,"Enter"))))return void(e.input.lastIOSEnter=0);if(!m){if(!(r&&d instanceof lS&&!d.empty&&d.$head.sameParent(d.$anchor))||e.composing||u.sel&&u.sel.anchor!=u.sel.head){if(u.sel){let t=TA(e,e.state.doc,u.sel);if(t&&!t.eq(e.state.selection)){let n=e.state.tr.setSelection(t);i&&n.setMeta("composition",i),e.dispatch(n)}}return}m={start:d.from,endA:d.to,endB:d.to}}e.state.selection.from<e.state.selection.to&&m.start==m.endB&&e.state.selection instanceof lS&&(m.start>e.state.selection.from&&m.start<=e.state.selection.from+2&&e.state.selection.from>=u.from?m.start=e.state.selection.from:m.endA<e.state.selection.to&&m.endA>=e.state.selection.to-2&&e.state.selection.to<=u.to&&(m.endB+=e.state.selection.to-m.endA,m.endA=e.state.selection.to)),US&&VS<=11&&m.endB==m.start+1&&m.endA==m.start&&m.start>u.from&&"  "==u.doc.textBetween(m.start-u.from-1,m.start-u.from+1)&&(m.start--,m.endA--,m.endB--);let f=u.doc.resolveNoCache(m.start-u.from),g=u.doc.resolveNoCache(m.endB-u.from),x=h.resolve(m.start),b=f.sameParent(g)&&f.parent.inlineContent&&x.end()>=m.endA;if((XS&&e.input.lastIOSEnter>Date.now()-225&&(!b||a.some(e=>"DIV"==e.nodeName||"P"==e.nodeName))||!b&&f.pos<u.doc.content.size&&(!f.sameParent(g)||!f.parent.inlineContent)&&f.pos<g.pos&&!/\S/.test(u.doc.textBetween(f.pos,g.pos,"","")))&&e.someProp("handleKeyDown",t=>t(e,RS(13,"Enter"))))return void(e.input.lastIOSEnter=0);if(e.state.selection.anchor>m.start&&function(e,t,n,r,a){if(n-t<=a.pos-r.pos||OA(r,!0,!1)<a.pos)return!1;let i=e.resolve(t);if(!r.parent.isTextblock){let e=i.nodeAfter;return null!=e&&n==t+e.nodeSize}if(i.parentOffset<i.parent.content.size||!i.parent.isTextblock)return!1;let s=e.resolve(OA(i,!0,!0));return!(!s.parent.isTextblock||s.pos>n||OA(s,!0,!1)<n)&&r.parent.content.cut(r.parentOffset).eq(s.parent.content)}(h,m.start,m.endA,f,g)&&e.someProp("handleKeyDown",t=>t(e,RS(8,"Backspace"))))return void(eC&&YS&&e.domObserver.suppressSelectionUpdates());YS&&m.endB==m.start&&(e.input.lastChromeDelete=Date.now()),eC&&!b&&f.start()!=g.start()&&0==g.parentOffset&&f.depth==g.depth&&u.sel&&u.sel.anchor==u.sel.head&&u.sel.head==m.endA&&(m.endB-=2,g=u.doc.resolveNoCache(m.endB-u.from),setTimeout(()=>{e.someProp("handleKeyDown",function(t){return t(e,RS(13,"Enter"))})},20));let y,v=m.start,w=m.endA,j=t=>{let n=t||e.state.tr.replace(v,w,u.doc.slice(m.start-u.from,m.endB-u.from));if(u.sel){let t=TA(e,n.doc,u.sel);t&&!(YS&&e.composing&&t.empty&&(m.start!=m.endB||e.input.lastChromeDelete<Date.now()-100)&&(t.head==v||t.head==n.mapping.map(w)-1)||US&&t.empty&&t.head==v)&&n.setSelection(t)}return i&&n.setMeta("composition",i),n.scrollIntoView()};if(b){if(f.pos==g.pos){US&&VS<=11&&0==f.parentOffset&&(e.domObserver.suppressSelectionUpdates(),setTimeout(()=>YC(e),20));let t=j(e.state.tr.delete(v,w)),n=h.resolve(m.start).marksAcross(h.resolve(m.endA));n&&t.ensureMarks(n),e.dispatch(t)}else if(m.endA==m.endB&&(y=function(e,t){let n,r,a,i=e.firstChild.marks,s=t.firstChild.marks,o=i,l=s;for(let d=0;d<s.length;d++)o=s[d].removeFromSet(o);for(let d=0;d<i.length;d++)l=i[d].removeFromSet(l);if(1==o.length&&0==l.length)r=o[0],n="add",a=e=>e.mark(r.addToSet(e.marks));else{if(0!=o.length||1!=l.length)return null;r=l[0],n="remove",a=e=>e.mark(r.removeFromSet(e.marks))}let c=[];for(let d=0;d<t.childCount;d++)c.push(a(t.child(d)));if(oN.from(c).eq(e))return{mark:r,type:n}}(f.parent.content.cut(f.parentOffset,g.parentOffset),x.parent.content.cut(x.parentOffset,m.endA-x.start())))){let t=j(e.state.tr);"add"==y.type?t.addMark(v,w,y.mark):t.removeMark(v,w,y.mark),e.dispatch(t)}else if(f.parent.child(f.index()).isText&&f.index()==g.index()-(g.textOffset?0:1)){let t=f.parent.textBetween(f.parentOffset,g.parentOffset),n=()=>j(e.state.tr.insertText(t,v,w));e.someProp("handleTextInput",r=>r(e,v,w,t,n))||e.dispatch(n())}}else e.dispatch(j())}(this,e,t,n,r)),this.domObserver.start(),function(e){for(let t in A_){let n=A_[t];e.dom.addEventListener(t,e.input.eventHandlers[t]=t=>{!L_(e,t)||D_(e,t)||!e.editable&&t.type in T_||n(e,t)},O_[t]?{passive:!0}:void 0)}JS&&e.dom.addEventListener("input",()=>null),P_(e)}(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let t in e)this._props[t]=e[t];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&P_(this);let t=this._props;this._props=e,e.plugins&&(e.plugins.forEach(RA),this.directPlugins=e.plugins),this.updateStateInner(e.state,t)}setProps(e){let t={};for(let n in this._props)t[n]=this._props[n];t.state=this.state;for(let n in e)t[n]=e[n];this.update(t)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,t){var n;let r=this.state,a=!1,i=!1;e.storedMarks&&this.composing&&(G_(this),i=!0),this.state=e;let s=r.plugins!=e.plugins||this._props.plugins!=t.plugins;if(s||this._props.plugins!=t.plugins||this._props.nodeViews!=t.nodeViews){let e=IA(this);(function(e,t){let n=0,r=0;for(let a in e){if(e[a]!=t[a])return!0;n++}for(let a in t)r++;return n!=r})(e,this.nodeViews)&&(this.nodeViews=e,a=!0)}(s||t.handleDOMEvents!=this._props.handleDOMEvents)&&P_(this),this.editable=LA(this),DA(this);let o=bA(this),l=PA(this),c=r.plugins==e.plugins||r.doc.eq(e.doc)?e.scrollToSelection>r.scrollToSelection?"to selection":"preserve":"reset",d=a||!this.docView.matchesNode(e.doc,l,o);!d&&e.selection.eq(r.selection)||(i=!0);let u="preserve"==c&&i&&null==this.dom.style.overflowAnchor&&function(e){let t,n,r=e.dom.getBoundingClientRect(),a=Math.max(0,r.top);for(let i=(r.left+r.right)/2,s=a+1;s<Math.min(innerHeight,r.bottom);s+=5){let r=e.root.elementFromPoint(i,s);if(!r||r==e.dom||!e.dom.contains(r))continue;let o=r.getBoundingClientRect();if(o.top>=a-20){t=r,n=o.top;break}}return{refDOM:t,refTop:n,stack:oC(e.dom)}}(this);if(i){this.domObserver.stop();let t=d&&(US||YS)&&!this.composing&&!r.selection.empty&&!e.selection.empty&&function(e,t){let n=Math.min(e.$anchor.sharedDepth(e.head),t.$anchor.sharedDepth(t.head));return e.$anchor.start(n)!=t.$anchor.start(n)}(r.selection,e.selection);if(d){let n=YS?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=function(e){let t=e.domSelectionRange();if(!t.focusNode)return null;let n=function(e,t){for(;;){if(3==e.nodeType&&t)return e;if(1==e.nodeType&&t>0){if("false"==e.contentEditable)return null;t=DS(e=e.childNodes[t-1])}else{if(!e.parentNode||LS(e))return null;t=_S(e),e=e.parentNode}}}(t.focusNode,t.focusOffset),r=function(e,t){for(;;){if(3==e.nodeType&&t<e.nodeValue.length)return e;if(1==e.nodeType&&t<e.childNodes.length){if("false"==e.contentEditable)return null;e=e.childNodes[t],t=0}else{if(!e.parentNode||LS(e))return null;t=_S(e)+1,e=e.parentNode}}}(t.focusNode,t.focusOffset);if(n&&r&&n!=r){let t=r.pmViewDesc,a=e.domObserver.lastChangedTextNode;if(n==a||r==a)return a;if(!t||!t.isText(r.nodeValue))return r;if(e.input.compositionNode==r){let e=n.pmViewDesc;if(e&&e.isText(n.nodeValue))return r}}return n||r}(this)),!a&&this.docView.update(e.doc,l,o,this)||(this.docView.updateOuterDeco(l),this.docView.destroy(),this.docView=OC(e.doc,l,o,this.dom,this)),n&&!this.trackWrites&&(t=!0)}t||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&function(e){let t=e.docView.domFromPos(e.state.selection.anchor,0),n=e.domSelectionRange();return ES(t.node,t.offset,n.anchorNode,n.anchorOffset)}(this))?YC(this,t):(ZC(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(r),(null===(n=this.dragging)||void 0===n?void 0:n.node)&&!r.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,r),"reset"==c?this.dom.scrollTop=0:"to selection"==c?this.scrollToSelection():u&&function({refDOM:e,refTop:t,stack:n}){let r=e?e.getBoundingClientRect().top:0;lC(n,0==r?0:r-t)}(u)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(e&&this.dom.contains(1==e.nodeType?e:e.parentNode))if(this.someProp("handleScrollToSelection",e=>e(this)));else if(this.state.selection instanceof dS){let t=this.docView.domAfterPos(this.state.selection.from);1==t.nodeType&&sC(this,t.getBoundingClientRect(),e)}else sC(this,this.coordsAtPos(this.state.selection.head,1),e)}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(e&&e.plugins==this.state.plugins&&this.directPlugins==this.prevDirectPlugins)for(let t=0;t<this.pluginViews.length;t++){let n=this.pluginViews[t];n.update&&n.update(this,e)}else{this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let e=0;e<this.directPlugins.length;e++){let t=this.directPlugins[e];t.spec.view&&this.pluginViews.push(t.spec.view(this))}for(let e=0;e<this.state.plugins.length;e++){let t=this.state.plugins[e];t.spec.view&&this.pluginViews.push(t.spec.view(this))}}}updateDraggedNode(e,t){let n=e.node,r=-1;if(this.state.doc.nodeAt(n.from)==n.node)r=n.from;else{let e=n.from+(this.state.doc.content.size-t.doc.content.size);(e>0&&this.state.doc.nodeAt(e))==n.node&&(r=e)}this.dragging=new Q_(e.slice,e.move,r<0?void 0:dS.create(this.state.doc,r))}someProp(e,t){let n,r=this._props&&this._props[e];if(null!=r&&(n=t?t(r):r))return n;for(let i=0;i<this.directPlugins.length;i++){let r=this.directPlugins[i].props[e];if(null!=r&&(n=t?t(r):r))return n}let a=this.state.plugins;if(a)for(let i=0;i<a.length;i++){let r=a[i].props[e];if(null!=r&&(n=t?t(r):r))return n}}hasFocus(){if(US){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if("false"==e.contentEditable)return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&function(e){if(e.setActive)return e.setActive();if(cC)return e.focus(cC);let t=oC(e);e.focus(null==cC?{get preventScroll(){return cC={preventScroll:!0},!0}}:void 0),cC||(cC=!1,lC(t,0))}(this.dom),YC(this),this.domObserver.start()}get root(){let e=this._root;if(null==e)for(let t=this.dom.parentNode;t;t=t.parentNode)if(9==t.nodeType||11==t.nodeType&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=()=>t.ownerDocument.getSelection()),this._root=t;return e||document}updateRoot(){this._root=null}posAtCoords(e){return pC(this,e)}coordsAtPos(e,t=1){return xC(this,e,t)}domAtPos(e,t=0){return this.docView.domFromPos(e,t)}nodeDOM(e){let t=this.docView.descAt(e);return t?t.nodeDOM:null}posAtDOM(e,t,n=-1){let r=this.docView.posFromDOM(e,t,n);if(null==r)throw new RangeError("DOM position not inside the editor");return r}endOfTextblock(e,t){return function(e,t,n){return jC==t&&NC==n?kC:(jC=t,NC=n,kC="up"==n||"down"==n?function(e,t,n){let r=t.selection,a="up"==n?r.$from:r.$to;return vC(e,t,()=>{let{node:t}=e.docView.domFromPos(a.pos,"up"==n?-1:1);for(;;){let n=e.docView.nearestDesc(t,!0);if(!n)break;if(n.node.isBlock){t=n.contentDOM||n.dom;break}t=n.dom.parentNode}let r=xC(e,a.pos,1);for(let e=t.firstChild;e;e=e.nextSibling){let t;if(1==e.nodeType)t=e.getClientRects();else{if(3!=e.nodeType)continue;t=OS(e,0,e.nodeValue.length).getClientRects()}for(let e=0;e<t.length;e++){let a=t[e];if(a.bottom>a.top+1&&("up"==n?r.top-a.top>2*(a.bottom-r.top):a.bottom-r.bottom>2*(r.bottom-a.top)))return!1}}return!0})}(e,t,n):function(e,t,n){let{$head:r}=t.selection;if(!r.parent.isTextblock)return!1;let a=r.parentOffset,i=!a,s=a==r.parent.content.size,o=e.domSelection();return o?wC.test(r.parent.textContent)&&o.modify?vC(e,t,()=>{let{focusNode:t,focusOffset:a,anchorNode:i,anchorOffset:s}=e.domSelectionRange(),l=o.caretBidiLevel;o.modify("move",n,"character");let c=r.depth?e.docView.domAfterPos(r.before()):e.dom,{focusNode:d,focusOffset:u}=e.domSelectionRange(),h=d&&!c.contains(1==d.nodeType?d:d.parentNode)||t==d&&a==u;try{o.collapse(i,s),t&&(t!=i||a!=s)&&o.extend&&o.extend(t,a)}catch(p){}return null!=l&&(o.caretBidiLevel=l),h}):"left"==n||"backward"==n?i:s:r.pos==r.start()||r.pos==r.end()}(e,t,n))}(this,t||this.state,e)}pasteHTML(e,t){return J_(this,"",e,!1,t||new ClipboardEvent("paste"))}pasteText(e,t){return J_(this,e,null,!0,t||new ClipboardEvent("paste"))}serializeForClipboard(e){return g_(this,e)}destroy(){this.docView&&(function(e){e.domObserver.stop();for(let t in e.input.eventHandlers)e.dom.removeEventListener(t,e.input.eventHandlers[t]);clearTimeout(e.input.composingTimeout),clearTimeout(e.input.lastIOSEnterFallbackTimeout)}(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],bA(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,TS=null)}get isDestroyed(){return null==this.docView}dispatchEvent(e){return function(e,t){D_(e,t)||!A_[t.type]||!e.editable&&t.type in T_||A_[t.type](e,t)}(this,e)}domSelectionRange(){let e=this.domSelection();return e?JS&&11===this.root.nodeType&&function(e){let t=e.activeElement;for(;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}(this.dom.ownerDocument)==this.dom&&function(e,t){if(t.getComposedRanges){let n=t.getComposedRanges(e.root)[0];if(n)return SA(e,n)}let n;function r(e){e.preventDefault(),e.stopImmediatePropagation(),n=e.getTargetRanges()[0]}return e.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),e.dom.removeEventListener("beforeinput",r,!0),n?SA(e,n):null}(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}function PA(e){let t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),e.someProp("attributes",n=>{if("function"==typeof n&&(n=n(e.state)),n)for(let e in n)"class"==e?t.class+=" "+n[e]:"style"==e?t.style=(t.style?t.style+";":"")+n[e]:t[e]||"contenteditable"==e||"nodeName"==e||(t[e]=String(n[e]))}),t.translate||(t.translate="no"),[iA.node(0,e.state.doc.content.size,t)]}function DA(e){if(e.markCursor){let t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),e.cursorWrapper={dom:t,deco:iA.widget(e.state.selection.from,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function LA(e){return!e.someProp("editable",t=>!1===t(e.state))}function IA(e){let t=Object.create(null);function n(e){for(let n in e)Object.prototype.hasOwnProperty.call(t,n)||(t[n]=e[n])}return e.someProp("nodeViews",n),e.someProp("markViews",n),t}function RA(e){if(e.spec.state||e.spec.filterTransaction||e.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}MA.prototype.dispatch=function(e){let t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))};for(var FA={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},HA={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},zA="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),BA="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),WA=0;WA<10;WA++)FA[48+WA]=FA[96+WA]=String(WA);for(WA=1;WA<=24;WA++)FA[WA+111]="F"+WA;for(WA=65;WA<=90;WA++)FA[WA]=String.fromCharCode(WA+32),HA[WA]=String.fromCharCode(WA);for(var $A in FA)HA.hasOwnProperty($A)||(HA[$A]=FA[$A]);const UA="undefined"!=typeof navigator&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),VA="undefined"!=typeof navigator&&/Win/.test(navigator.platform);function qA(e){let t,n,r,a,i=e.split(/-(?!$)/),s=i[i.length-1];"Space"==s&&(s=" ");for(let o=0;o<i.length-1;o++){let e=i[o];if(/^(cmd|meta|m)$/i.test(e))a=!0;else if(/^a(lt)?$/i.test(e))t=!0;else if(/^(c|ctrl|control)$/i.test(e))n=!0;else if(/^s(hift)?$/i.test(e))r=!0;else{if(!/^mod$/i.test(e))throw new Error("Unrecognized modifier name: "+e);UA?a=!0:n=!0}}return t&&(s="Alt-"+s),n&&(s="Ctrl-"+s),a&&(s="Meta-"+s),r&&(s="Shift-"+s),s}function GA(e,t,n=!0){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),n&&t.shiftKey&&(e="Shift-"+e),e}function YA(e){let t=function(e){let t=Object.create(null);for(let n in e)t[qA(n)]=e[n];return t}(e);return function(e,n){let r,a=function(e){var t=!(zA&&e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey||BA&&e.shiftKey&&e.key&&1==e.key.length||"Unidentified"==e.key)&&e.key||(e.shiftKey?HA:FA)[e.keyCode]||e.key||"Unidentified";return"Esc"==t&&(t="Escape"),"Del"==t&&(t="Delete"),"Left"==t&&(t="ArrowLeft"),"Up"==t&&(t="ArrowUp"),"Right"==t&&(t="ArrowRight"),"Down"==t&&(t="ArrowDown"),t}(n),i=t[GA(a,n)];if(i&&i(e.state,e.dispatch,e))return!0;if(1==a.length&&" "!=a){if(n.shiftKey){let r=t[GA(a,n,!1)];if(r&&r(e.state,e.dispatch,e))return!0}if((n.altKey||n.metaKey||n.ctrlKey)&&!(VA&&n.ctrlKey&&n.altKey)&&(r=FA[n.keyCode])&&r!=a){let a=t[GA(r,n)];if(a&&a(e.state,e.dispatch,e))return!0}}return!1}}const KA=(e,t)=>!e.selection.empty&&(t&&t(e.tr.deleteSelection().scrollIntoView()),!0);function JA(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("backward",e):n.parentOffset>0)?null:n}const XA=(e,t,n)=>{let r=JA(e,n);if(!r)return!1;let a=tT(r);if(!a){let n=r.blockRange(),a=n&&Mk(n);return null!=a&&(t&&t(e.tr.lift(n,a).scrollIntoView()),!0)}let i=a.nodeBefore;if(dT(e,a,t,-1))return!0;if(0==r.parent.content.size&&(ZA(i,"end")||dS.isSelectable(i)))for(let s=r.depth;;s--){let n=Wk(e.doc,r.before(s),r.after(s),pN.empty);if(n&&n.slice.size<n.to-n.from){if(t){let r=e.tr.step(n);r.setSelection(ZA(i,"end")?aS.findFrom(r.doc.resolve(r.mapping.map(a.pos,-1)),-1):dS.create(r.doc,a.pos-i.nodeSize)),t(r.scrollIntoView())}return!0}if(1==s||r.node(s-1).childCount>1)break}return!(!i.isAtom||a.depth!=r.depth-1||(t&&t(e.tr.delete(a.pos-i.nodeSize,a.pos).scrollIntoView()),0))};function QA(e,t,n){let r=t.nodeBefore,a=t.pos-1;for(;!r.isTextblock;a--){if(r.type.spec.isolating)return!1;let e=r.lastChild;if(!e)return!1;r=e}let i=t.nodeAfter,s=t.pos+1;for(;!i.isTextblock;s++){if(i.type.spec.isolating)return!1;let e=i.firstChild;if(!e)return!1;i=e}let o=Wk(e.doc,a,s,pN.empty);if(!o||o.from!=a||o instanceof _k&&o.slice.size>=s-a)return!1;if(n){let t=e.tr.step(o);t.setSelection(lS.create(t.doc,a)),n(t.scrollIntoView())}return!0}function ZA(e,t,n=!1){for(let r=e;r;r="start"==t?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&1!=r.childCount)return!1}return!1}const eT=(e,t,n)=>{let{$head:r,empty:a}=e.selection,i=r;if(!a)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",e):r.parentOffset>0)return!1;i=tT(r)}let s=i&&i.nodeBefore;return!(!s||!dS.isSelectable(s)||(t&&t(e.tr.setSelection(dS.create(e.doc,i.pos-s.nodeSize)).scrollIntoView()),0))};function tT(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function nT(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("forward",e):n.parentOffset<n.parent.content.size)?null:n}const rT=(e,t,n)=>{let r=nT(e,n);if(!r)return!1;let a=iT(r);if(!a)return!1;let i=a.nodeAfter;if(dT(e,a,t,1))return!0;if(0==r.parent.content.size&&(ZA(i,"start")||dS.isSelectable(i))){let n=Wk(e.doc,r.before(),r.after(),pN.empty);if(n&&n.slice.size<n.to-n.from){if(t){let r=e.tr.step(n);r.setSelection(ZA(i,"start")?aS.findFrom(r.doc.resolve(r.mapping.map(a.pos)),1):dS.create(r.doc,r.mapping.map(a.pos))),t(r.scrollIntoView())}return!0}}return!(!i.isAtom||a.depth!=r.depth-1||(t&&t(e.tr.delete(a.pos,a.pos+i.nodeSize).scrollIntoView()),0))},aT=(e,t,n)=>{let{$head:r,empty:a}=e.selection,i=r;if(!a)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",e):r.parentOffset<r.parent.content.size)return!1;i=iT(r)}let s=i&&i.nodeAfter;return!(!s||!dS.isSelectable(s)||(t&&t(e.tr.setSelection(dS.create(e.doc,i.pos)).scrollIntoView()),0))};function iT(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){let n=e.node(t);if(e.index(t)+1<n.childCount)return e.doc.resolve(e.after(t+1));if(n.type.spec.isolating)break}return null}const sT=(e,t)=>{let{$head:n,$anchor:r}=e.selection;return!(!n.parent.type.spec.code||!n.sameParent(r)||(t&&t(e.tr.insertText("\n").scrollIntoView()),0))};function oT(e){for(let t=0;t<e.edgeCount;t++){let{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const lT=(e,t)=>{let n=e.selection,{$from:r,$to:a}=n;if(n instanceof hS||r.parent.inlineContent||a.parent.inlineContent)return!1;let i=oT(a.parent.contentMatchAt(a.indexAfter()));if(!i||!i.isTextblock)return!1;if(t){let n=(!r.parentOffset&&a.index()<a.parent.childCount?r:a).pos,s=e.tr.insert(n,i.createAndFill());s.setSelection(lS.create(s.doc,n+1)),t(s.scrollIntoView())}return!0},cT=(e,t)=>{let{$cursor:n}=e.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let r=n.before();if(Rk(e.doc,r))return t&&t(e.tr.split(r).scrollIntoView()),!0}let r=n.blockRange(),a=r&&Mk(r);return null!=a&&(t&&t(e.tr.lift(r,a).scrollIntoView()),!0)};function dT(e,t,n,r){let a,i,s=t.nodeBefore,o=t.nodeAfter,l=s.type.spec.isolating||o.type.spec.isolating;if(!l&&function(e,t,n){let r=t.nodeBefore,a=t.nodeAfter,i=t.index();return!(!(r&&a&&r.type.compatibleContent(a.type))||(!r.content.size&&t.parent.canReplace(i-1,i)?(n&&n(e.tr.delete(t.pos-r.nodeSize,t.pos).scrollIntoView()),0):!t.parent.canReplace(i,i+1)||!a.isTextblock&&!Fk(e.doc,t.pos)||(n&&n(e.tr.join(t.pos).scrollIntoView()),0)))}(e,t,n))return!0;let c=!l&&t.parent.canReplace(t.index(),t.index()+1);if(c&&(a=(i=s.contentMatchAt(s.childCount)).findWrapping(o.type))&&i.matchType(a[0]||o.type).validEnd){if(n){let r=t.pos+o.nodeSize,i=oN.empty;for(let e=a.length-1;e>=0;e--)i=oN.from(a[e].create(null,i));i=oN.from(s.copy(i));let l=e.tr.step(new Ak(t.pos-1,r,t.pos,r,new pN(i,1,0),a.length,!0)),c=l.doc.resolve(r+2*a.length);c.nodeAfter&&c.nodeAfter.type==s.type&&Fk(l.doc,c.pos)&&l.join(c.pos),n(l.scrollIntoView())}return!0}let d=o.type.spec.isolating||r>0&&l?null:aS.findFrom(t,1),u=d&&d.$from.blockRange(d.$to),h=u&&Mk(u);if(null!=h&&h>=t.depth)return n&&n(e.tr.lift(u,h).scrollIntoView()),!0;if(c&&ZA(o,"start",!0)&&ZA(s,"end")){let r=s,a=[];for(;a.push(r),!r.isTextblock;)r=r.lastChild;let i=o,l=1;for(;!i.isTextblock;i=i.firstChild)l++;if(r.canReplace(r.childCount,r.childCount,i.content)){if(n){let r=oN.empty;for(let e=a.length-1;e>=0;e--)r=oN.from(a[e].copy(r));n(e.tr.step(new Ak(t.pos-a.length,t.pos+o.nodeSize,t.pos+l,t.pos+o.nodeSize-l,new pN(r,a.length,0),0,!0)).scrollIntoView())}return!0}}return!1}function uT(e){return function(t,n){let r=t.selection,a=e<0?r.$from:r.$to,i=a.depth;for(;a.node(i).isInline;){if(!i)return!1;i--}return!!a.node(i).isTextblock&&(n&&n(t.tr.setSelection(lS.create(t.doc,e<0?a.start(i):a.end(i)))),!0)}}const hT=uT(-1),pT=uT(1);function mT(e,t=null){return function(n,r){let a=!1;for(let i=0;i<n.selection.ranges.length&&!a;i++){let{$from:{pos:r},$to:{pos:s}}=n.selection.ranges[i];n.doc.nodesBetween(r,s,(r,i)=>{if(a)return!1;if(r.isTextblock&&!r.hasMarkup(e,t))if(r.type==e)a=!0;else{let t=n.doc.resolve(i),r=t.index();a=t.parent.canReplaceWith(r,r+1,e)}})}if(!a)return!1;if(r){let a=n.tr;for(let r=0;r<n.selection.ranges.length;r++){let{$from:{pos:i},$to:{pos:s}}=n.selection.ranges[r];a.setBlockType(i,s,e,t)}r(a.scrollIntoView())}return!0}}function fT(...e){return function(t,n,r){for(let a=0;a<e.length;a++)if(e[a](t,n,r))return!0;return!1}}fT(KA,XA,eT),fT(KA,rT,aT),fT(sT,lT,cT,(e,t)=>{let{$from:n,$to:r}=e.selection;if(e.selection instanceof dS&&e.selection.node.isBlock)return!(!n.parentOffset||!Rk(e.doc,n.pos)||(t&&t(e.tr.split(n.pos).scrollIntoView()),0));if(!n.depth)return!1;let a,i,s=[],o=!1,l=!1;for(let h=n.depth;;h--){if(n.node(h).isBlock){o=n.end(h)==n.pos+(n.depth-h),l=n.start(h)==n.pos-(n.depth-h),i=oT(n.node(h-1).contentMatchAt(n.indexAfter(h-1))),s.unshift(o&&i?{type:i}:null),a=h;break}if(1==h)return!1;s.unshift(null)}let c=e.tr;(e.selection instanceof lS||e.selection instanceof hS)&&c.deleteSelection();let d=c.mapping.map(n.pos),u=Rk(c.doc,d,s.length,s);if(u||(s[0]=i?{type:i}:null,u=Rk(c.doc,d,s.length,s)),!u)return!1;if(c.split(d,s.length,s),!o&&l&&n.node(a).type!=i){let e=c.mapping.map(n.before(a)),t=c.doc.resolve(e);i&&n.node(a-1).canReplaceWith(t.index(),t.index()+1,i)&&c.setNodeMarkup(c.mapping.map(n.before(a)),i)}return t&&t(c.scrollIntoView()),!0}),"undefined"!=typeof navigator?/Mac|iP(hone|[oa]d)/.test(navigator.platform):"undefined"!=typeof os&&os.platform&&os.platform();var gT=Object.defineProperty,xT=(e,t)=>{for(var n in t)gT(e,n,{get:t[n],enumerable:!0})};function bT(e){const{state:t,transaction:n}=e;let{selection:r}=n,{doc:a}=n,{storedMarks:i}=n;return{...t,apply:t.apply.bind(t),applyTransaction:t.applyTransaction.bind(t),plugins:t.plugins,schema:t.schema,reconfigure:t.reconfigure.bind(t),toJSON:t.toJSON.bind(t),get storedMarks(){return i},get selection(){return r},get doc(){return a},get tr(){return r=n.selection,a=n.doc,i=n.storedMarks,n}}}var yT=class{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:t,state:n}=this,{view:r}=t,{tr:a}=n,i=this.buildProps(a);return Object.fromEntries(Object.entries(e).map(([e,t])=>[e,(...e)=>{const n=t(...e)(i);return a.getMeta("preventDispatch")||this.hasCustomState||r.dispatch(a),n}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,t=!0){const{rawCommands:n,editor:r,state:a}=this,{view:i}=r,s=[],o=!!e,l=e||a.tr,c={...Object.fromEntries(Object.entries(n).map(([e,n])=>[e,(...e)=>{const r=this.buildProps(l,t),a=n(...e)(r);return s.push(a),c}])),run:()=>(o||!t||l.getMeta("preventDispatch")||this.hasCustomState||i.dispatch(l),s.every(e=>!0===e))};return c}createCan(e){const{rawCommands:t,state:n}=this,r=!1,a=e||n.tr,i=this.buildProps(a,r),s=Object.fromEntries(Object.entries(t).map(([e,t])=>[e,(...e)=>t(...e)({...i,dispatch:void 0})]));return{...s,chain:()=>this.createChain(a,r)}}buildProps(e,t=!0){const{rawCommands:n,editor:r,state:a}=this,{view:i}=r,s={tr:e,editor:r,view:i,state:bT({state:a,transaction:e}),dispatch:t?()=>{}:void 0,chain:()=>this.createChain(e,t),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(n).map(([e,t])=>[e,(...e)=>t(...e)(s)]))}};return s}},vT=class{constructor(){this.callbacks={}}on(e,t){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),this}emit(e,...t){const n=this.callbacks[e];return n&&n.forEach(e=>e.apply(this,t)),this}off(e,t){const n=this.callbacks[e];return n&&(t?this.callbacks[e]=n.filter(e=>e!==t):delete this.callbacks[e]),this}once(e,t){const n=(...r)=>{this.off(e,n),t.apply(this,r)};return this.on(e,n)}removeAllListeners(){this.callbacks={}}};function wT(e,t){const n=new nS(e);return t.forEach(e=>{e.steps.forEach(e=>{n.step(e)})}),n}var jT=e=>{const t=e.childNodes;for(let n=t.length-1;n>=0;n-=1){const r=t[n];3===r.nodeType&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?e.removeChild(r):1===r.nodeType&&jT(r)}return e};function NT(e){if("undefined"==typeof window)throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const t=`<body>${e}</body>`,n=(new window.DOMParser).parseFromString(t,"text/html").body;return jT(n)}function kT(e,t,n){if(e instanceof EN||e instanceof oN)return e;n={slice:!0,parseOptions:{},...n};const r="string"==typeof e;if("object"==typeof e&&null!==e)try{if(Array.isArray(e)&&e.length>0)return oN.fromArray(e.map(e=>t.nodeFromJSON(e)));const r=t.nodeFromJSON(e);return n.errorOnInvalidContent&&r.check(),r}catch(a){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:a});return kT("",t,n)}if(r){if(n.errorOnInvalidContent){let r=!1,a="";const i=new JN({topNode:t.spec.topNode,marks:t.spec.marks,nodes:t.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:e=>(r=!0,a="string"==typeof e?e:e.outerHTML,null)}]}})});if(n.slice?QN.fromSchema(i).parseSlice(NT(e),n.parseOptions):QN.fromSchema(i).parse(NT(e),n.parseOptions),n.errorOnInvalidContent&&r)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${a}`)})}const r=QN.fromSchema(t);return n.slice?r.parseSlice(NT(e),n.parseOptions).content:r.parse(NT(e),n.parseOptions)}return kT("",t,n)}function ST(e,t,n={},r={}){return kT(e,t,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}function CT(e){return t=>function(e,t){for(let n=e.depth;n>0;n-=1){const r=e.node(n);if(t(r))return{pos:n>0?e.before(n):0,start:e.start(n),depth:n,node:r}}}(t.$from,e)}function _T(e,t,n){return void 0===e.config[t]&&e.parent?_T(e.parent,t,n):"function"==typeof e.config[t]?e.config[t].bind({...n,parent:e.parent?_T(e.parent,t,n):null}):e.config[t]}function AT(e){return e.map(e=>{const t=_T(e,"addExtensions",{name:e.name,options:e.options,storage:e.storage});return t?[e,...AT(t())]:e}).flat(10)}function TT(e,t){const n=lk.fromSchema(t).serializeFragment(e),r=document.implementation.createHTMLDocument().createElement("div");return r.appendChild(n),r.innerHTML}function OT(e){return"function"==typeof e}function ET(e,t=void 0,...n){return OT(e)?t?e.bind(t)(...n):e(...n):e}function MT(e){return{baseExtensions:e.filter(e=>"extension"===e.type),nodeExtensions:e.filter(e=>"node"===e.type),markExtensions:e.filter(e=>"mark"===e.type)}}function PT(e){const t=[],{nodeExtensions:n,markExtensions:r}=MT(e),a=[...n,...r],i={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return e.forEach(e=>{const n=_T(e,"addGlobalAttributes",{name:e.name,options:e.options,storage:e.storage,extensions:a});n&&n().forEach(e=>{e.types.forEach(n=>{Object.entries(e.attributes).forEach(([e,r])=>{t.push({type:n,name:e,attribute:{...i,...r}})})})})}),a.forEach(e=>{const n={name:e.name,options:e.options,storage:e.storage},r=_T(e,"addAttributes",n);if(!r)return;const a=r();Object.entries(a).forEach(([n,r])=>{const a={...i,...r};"function"==typeof(null==a?void 0:a.default)&&(a.default=a.default()),(null==a?void 0:a.isRequired)&&void 0===(null==a?void 0:a.default)&&delete a.default,t.push({type:e.name,name:n,attribute:a})})}),t}function DT(...e){return e.filter(e=>!!e).reduce((e,t)=>{const n={...e};return Object.entries(t).forEach(([e,t])=>{if(n[e])if("class"===e){const r=t?String(t).split(" "):[],a=n[e]?n[e].split(" "):[],i=r.filter(e=>!a.includes(e));n[e]=[...a,...i].join(" ")}else if("style"===e){const r=t?t.split(";").map(e=>e.trim()).filter(Boolean):[],a=n[e]?n[e].split(";").map(e=>e.trim()).filter(Boolean):[],i=new Map;a.forEach(e=>{const[t,n]=e.split(":").map(e=>e.trim());i.set(t,n)}),r.forEach(e=>{const[t,n]=e.split(":").map(e=>e.trim());i.set(t,n)}),n[e]=Array.from(i.entries()).map(([e,t])=>`${e}: ${t}`).join("; ")}else n[e]=t;else n[e]=t}),n},{})}function LT(e,t){return t.filter(t=>t.type===e.type.name).filter(e=>e.attribute.rendered).map(t=>t.attribute.renderHTML?t.attribute.renderHTML(e.attrs)||{}:{[t.name]:e.attrs[t.name]}).reduce((e,t)=>DT(e,t),{})}function IT(e,t){return"style"in e?e:{...e,getAttrs:n=>{const r=e.getAttrs?e.getAttrs(n):e.attrs;if(!1===r)return!1;const a=t.reduce((e,t)=>{const r=t.attribute.parseHTML?t.attribute.parseHTML(n):function(e){return"string"!=typeof e?e:e.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(e):"true"===e||"false"!==e&&e}(n.getAttribute(t.name));return null==r?e:{...e,[t.name]:r}},{});return{...r,...a}}}}function RT(e){return Object.fromEntries(Object.entries(e).filter(([e,t])=>("attrs"!==e||!function(e={}){return 0===Object.keys(e).length&&e.constructor===Object}(t))&&null!=t))}function FT(e){return e.sort((e,t)=>{const n=_T(e,"priority")||100,r=_T(t,"priority")||100;return n>r?-1:n<r?1:0})}function HT(e){const t=FT(AT(e));return function(e){const t=e.filter((t,n)=>e.indexOf(t)!==n);return Array.from(new Set(t))}(t.map(e=>e.name)).length,t}function zT(e,t,n){const{from:r,to:a}=t,{blockSeparator:i="\n\n",textSerializers:s={}}=n||{};let o="";return e.nodesBetween(r,a,(e,n,l,c)=>{var d;e.isBlock&&n>r&&(o+=i);const u=null==s?void 0:s[e.type.name];if(u)return l&&(o+=u({node:e,pos:n,parent:l,index:c,range:t})),!1;e.isText&&(o+=null==(d=null==e?void 0:e.text)?void 0:d.slice(Math.max(r,n)-n,a-n))}),o}function BT(e){return Object.fromEntries(Object.entries(e.nodes).filter(([,e])=>e.spec.toText).map(([e,t])=>[e,t.spec.toText]))}function WT(e,t){if("string"==typeof e){if(!t.marks[e])throw Error(`There is no mark type named '${e}'. Maybe you forgot to add the extension?`);return t.marks[e]}return e}function $T(e,t){const n=WT(t,e.schema),{from:r,to:a,empty:i}=e.selection,s=[];i?(e.storedMarks&&s.push(...e.storedMarks),s.push(...e.selection.$head.marks())):e.doc.nodesBetween(r,a,e=>{s.push(...e.marks)});const o=s.find(e=>e.type.name===n.name);return o?{...o.attrs}:{}}function UT(e,t){if("string"==typeof e){if(!t.nodes[e])throw Error(`There is no node type named '${e}'. Maybe you forgot to add the extension?`);return t.nodes[e]}return e}function VT(e,t){return t.nodes[e]?"node":t.marks[e]?"mark":null}function qT(e,t){const n=VT("string"==typeof t?t:t.name,e.schema);return"node"===n?function(e,t){const n=UT(t,e.schema),{from:r,to:a}=e.selection,i=[];e.doc.nodesBetween(r,a,e=>{i.push(e)});const s=i.reverse().find(e=>e.type.name===n.name);return s?{...s.attrs}:{}}(e,t):"mark"===n?$T(e,t):{}}function GT(e){const{mapping:t,steps:n}=e,r=[];return t.maps.forEach((e,a)=>{const i=[];if(e.ranges.length)e.forEach((e,t)=>{i.push({from:e,to:t})});else{const{from:e,to:t}=n[a];if(void 0===e||void 0===t)return;i.push({from:e,to:t})}i.forEach(({from:e,to:n})=>{const i=t.slice(a).map(e,-1),s=t.slice(a).map(n),o=t.invert().map(i,-1),l=t.invert().map(s);r.push({oldRange:{from:o,to:l},newRange:{from:i,to:s}})})}),function(e){const t=function(e,t=JSON.stringify){const n={};return e.filter(e=>{const r=t(e);return!Object.prototype.hasOwnProperty.call(n,r)&&(n[r]=!0)})}(e);return 1===t.length?t:t.filter((e,n)=>!t.filter((e,t)=>t!==n).some(t=>e.oldRange.from>=t.oldRange.from&&e.oldRange.to<=t.oldRange.to&&e.newRange.from>=t.newRange.from&&e.newRange.to<=t.newRange.to))}(r)}function YT(e){return"[object RegExp]"===Object.prototype.toString.call(e)}function KT(e,t,n={strict:!0}){const r=Object.keys(t);return!r.length||r.every(r=>n.strict?t[r]===e[r]:YT(t[r])?t[r].test(e[r]):t[r]===e[r])}function JT(e,t,n={}){return e.find(e=>e.type===t&&KT(Object.fromEntries(Object.keys(n).map(t=>[t,e.attrs[t]])),n))}function XT(e,t,n={}){return!!JT(e,t,n)}function QT(e,t,n){var r;if(!e||!t)return;let a=e.parent.childAfter(e.parentOffset);if(a.node&&a.node.marks.some(e=>e.type===t)||(a=e.parent.childBefore(e.parentOffset)),!a.node||!a.node.marks.some(e=>e.type===t))return;if(n=n||(null==(r=a.node.marks[0])?void 0:r.attrs),!JT([...a.node.marks],t,n))return;let i=a.index,s=e.start()+a.offset,o=i+1,l=s+a.node.nodeSize;for(;i>0&&XT([...e.parent.child(i-1).marks],t,n);)i-=1,s-=e.parent.child(i).nodeSize;for(;o<e.parent.childCount&&XT([...e.parent.child(o).marks],t,n);)l+=e.parent.child(o).nodeSize,o+=1;return{from:s,to:l}}function ZT(e,t,n){const r=[];return e===t?n.resolve(e).marks().forEach(t=>{const a=QT(n.resolve(e),t.type);a&&r.push({mark:t,...a})}):n.nodesBetween(e,t,(e,t)=>{e&&void 0!==(null==e?void 0:e.nodeSize)&&r.push(...e.marks.map(n=>({from:t,to:t+e.nodeSize,mark:n})))}),r}function eO(e,t){return t.nodes[e]||t.marks[e]||null}function tO(e,t,n){return Object.fromEntries(Object.entries(n).filter(([n])=>{const r=e.find(e=>e.type===t&&e.name===n);return!!r&&r.attribute.keepOnSplit}))}function nO(e,t,n={}){const{empty:r,ranges:a}=e.selection,i=t?WT(t,e.schema):null;if(r)return!!(e.storedMarks||e.selection.$from.marks()).filter(e=>!i||i.name===e.type.name).find(e=>KT(e.attrs,n,{strict:!1}));let s=0;const o=[];if(a.forEach(({$from:t,$to:n})=>{const r=t.pos,a=n.pos;e.doc.nodesBetween(r,a,(e,t)=>{if(!e.isText&&!e.marks.length)return;const n=Math.max(r,t),i=Math.min(a,t+e.nodeSize);s+=i-n,o.push(...e.marks.map(e=>({mark:e,from:n,to:i})))})}),0===s)return!1;const l=o.filter(e=>!i||i.name===e.mark.type.name).filter(e=>KT(e.mark.attrs,n,{strict:!1})).reduce((e,t)=>e+t.to-t.from,0),c=o.filter(e=>!i||e.mark.type!==i&&e.mark.type.excludes(i)).reduce((e,t)=>e+t.to-t.from,0);return(l>0?l+c:l)>=s}function rO(e,t,n={}){const{from:r,to:a,empty:i}=e.selection,s=t?UT(t,e.schema):null,o=[];e.doc.nodesBetween(r,a,(e,t)=>{if(e.isText)return;const n=Math.max(r,t),i=Math.min(a,t+e.nodeSize);o.push({node:e,from:n,to:i})});const l=a-r,c=o.filter(e=>!s||s.name===e.node.type.name).filter(e=>KT(e.node.attrs,n,{strict:!1}));return i?!!c.length:c.reduce((e,t)=>e+t.to-t.from,0)>=l}function aO(e,t){return Array.isArray(t)?t.some(t=>("string"==typeof t?t:t.name)===e.name):t}function iO(e,t){const{nodeExtensions:n}=MT(t),r=n.find(t=>t.name===e);if(!r)return!1;const a=ET(_T(r,"group",{name:r.name,options:r.options,storage:r.storage}));return"string"==typeof a&&a.split(" ").includes("list")}function sO(e,{checkChildren:t=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if("hardBreak"===e.type.name)return!0;if(e.isText)return/^\s*$/m.test(null!=(r=e.text)?r:"")}if(e.isText)return!e.text;if(e.isAtom||e.isLeaf)return!1;if(0===e.content.childCount)return!0;if(t){let r=!0;return e.content.forEach(e=>{!1!==r&&(sO(e,{ignoreWhitespace:n,checkChildren:t})||(r=!1))}),r}return!1}function oO(e){return e instanceof dS}function lO(e){return e instanceof lS}function cO(e=0,t=0,n=0){return Math.min(Math.max(e,t),n)}function dO(e,t=null){if(!t)return null;const n=aS.atStart(e),r=aS.atEnd(e);if("start"===t||!0===t)return n;if("end"===t)return r;const a=n.from,i=r.to;return"all"===t?lS.create(e,cO(0,a,i),cO(e.content.size,a,i)):lS.create(e,cO(t,a,i),cO(t,a,i))}var uO=class{constructor(e){var t;this.find=e.find,this.handler=e.handler,this.undoable=null==(t=e.undoable)||t}};function hO(e){var t;const{editor:n,from:r,to:a,text:i,rules:s,plugin:o}=e,{view:l}=n;if(l.composing)return!1;const c=l.state.doc.resolve(r);if(c.parent.type.spec.code||(null==(t=c.nodeBefore||c.nodeAfter)?void 0:t.marks.find(e=>e.type.spec.code)))return!1;let d=!1;const u=((e,t=500)=>{let n="";const r=e.parentOffset;return e.parent.nodesBetween(Math.max(0,r-t),r,(e,t,a,i)=>{var s,o;const l=(null==(o=(s=e.type.spec).toText)?void 0:o.call(s,{node:e,pos:t,parent:a,index:i}))||e.textContent||"%leaf%";n+=e.isAtom&&!e.isText?l:l.slice(0,Math.max(0,r-t))}),n})(c)+i;return s.forEach(e=>{if(d)return;const t=((e,t)=>{if(YT(t))return t.exec(e);const n=t(e);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=e,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith),r.push(n.replaceWith)),r})(u,e.find);if(!t)return;const s=l.state.tr,c=bT({state:l.state,transaction:s}),h={from:r-(t[0].length-i.length),to:a},{commands:p,chain:m,can:f}=new yT({editor:n,state:c});null!==e.handler({state:c,range:h,match:t,commands:p,chain:m,can:f})&&s.steps.length&&(e.undoable&&s.setMeta(o,{transform:s,from:r,to:a,text:i}),l.dispatch(s),d=!0)}),d}function pO(e){return"Object"===function(e){return Object.prototype.toString.call(e).slice(8,-1)}(e)&&e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype}function mO(e,t){const n={...e};return pO(e)&&pO(t)&&Object.keys(t).forEach(r=>{pO(t[r])&&pO(e[r])?n[r]=mO(e[r],t[r]):n[r]=t[r]}),n}var fO=class{constructor(e={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...e},this.name=this.config.name}get options(){return{...ET(_T(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...ET(_T(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(e={}){const t=this.extend({...this.config,addOptions:()=>mO(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new this.constructor({...this.config,...e});return t.parent=this,this.child=t,t.name="name"in e?e.name:t.parent.name,t}},gO=class e extends fO{constructor(){super(...arguments),this.type="mark"}static create(t={}){const n="function"==typeof t?t():t;return new e(n)}static handleExit({editor:e,mark:t}){const{tr:n}=e.state,r=e.state.selection.$from;if(r.pos===r.end()){const a=r.marks();if(!a.find(e=>(null==e?void 0:e.type.name)===t.name))return!1;const i=a.find(e=>(null==e?void 0:e.type.name)===t.name);return i&&n.removeStoredMark(i),n.insertText(" ",r.pos),e.view.dispatch(n),!0}return!1}configure(e){return super.configure(e)}extend(e){const t="function"==typeof e?e():e;return super.extend(t)}},xO=class{constructor(e){this.find=e.find,this.handler=e.handler}};var bO=null;function yO(e){const{editor:t,rules:n}=e;let r,a=null,i=!1,s=!1,o="undefined"!=typeof ClipboardEvent?new ClipboardEvent("paste"):null;try{r="undefined"!=typeof DragEvent?new DragEvent("drop"):null}catch(Ew){r=null}const l=({state:e,from:n,to:a,rule:i,pasteEvt:s})=>{const l=e.tr,c=bT({state:e,transaction:l});if(function(e){const{editor:t,state:n,from:r,to:a,rule:i,pasteEvent:s,dropEvent:o}=e,{commands:l,chain:c,can:d}=new yT({editor:t,state:n}),u=[];return n.doc.nodesBetween(r,a,(e,t)=>{var h,p,m,f,g;if((null==(p=null==(h=e.type)?void 0:h.spec)?void 0:p.code)||!(e.isText||e.isTextblock||e.isInline))return;const x=null!=(g=null!=(f=null==(m=e.content)?void 0:m.size)?f:e.nodeSize)?g:0,b=Math.max(r,t),y=Math.min(a,t+x);b>=y||((e,t,n)=>{if(YT(t))return[...e.matchAll(t)];const r=t(e,n);return r?r.map(t=>{const n=[t.text];return n.index=t.index,n.input=e,n.data=t.data,t.replaceWith&&(t.text.includes(t.replaceWith),n.push(t.replaceWith)),n}):[]})(e.isText?e.text||"":e.textBetween(b-t,y-t,void 0,"￼"),i.find,s).forEach(e=>{if(void 0===e.index)return;const t=b+e.index+1,r=t+e[0].length,a={from:n.tr.mapping.map(t),to:n.tr.mapping.map(r)},h=i.handler({state:n,range:a,match:e,commands:l,chain:c,can:d,pasteEvent:s,dropEvent:o});u.push(h)})}),u.every(e=>null!==e)}({editor:t,state:c,from:Math.max(n-1,0),to:a.b-1,rule:i,pasteEvent:s,dropEvent:r})&&l.steps.length){try{r="undefined"!=typeof DragEvent?new DragEvent("drop"):null}catch(Ew){r=null}return o="undefined"!=typeof ClipboardEvent?new ClipboardEvent("paste"):null,l}};return n.map(e=>new NS({view(e){const n=n=>{var r;a=(null==(r=e.dom.parentElement)?void 0:r.contains(n.target))?e.dom.parentElement:null,a&&(bO=t)},r=()=>{bO&&(bO=null)};return window.addEventListener("dragstart",n),window.addEventListener("dragend",r),{destroy(){window.removeEventListener("dragstart",n),window.removeEventListener("dragend",r)}}},props:{handleDOMEvents:{drop:(e,t)=>{if(s=a===e.dom.parentElement,r=t,!s){const e=bO;(null==e?void 0:e.isEditable)&&setTimeout(()=>{const t=e.state.selection;t&&e.commands.deleteRange({from:t.from,to:t.to})},10)}return!1},paste:(e,t)=>{var n;const r=null==(n=t.clipboardData)?void 0:n.getData("text/html");return o=t,i=!!(null==r?void 0:r.includes("data-pm-slice")),!1}}},appendTransaction:(t,n,r)=>{const a=t[0],c="paste"===a.getMeta("uiEvent")&&!i,d="drop"===a.getMeta("uiEvent")&&!s,u=a.getMeta("applyPasteRules"),h=!!u;if(!c&&!d&&!h)return;if(h){let{text:t}=u;"string"==typeof t||(t=TT(oN.from(t),r.schema));const{from:n}=u,a=n+t.length,i=(e=>{var t;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return null==(t=n.clipboardData)||t.setData("text/html",e),n})(t);return l({rule:e,state:r,from:n,to:{b:a},pasteEvt:i})}const p=n.doc.content.findDiffStart(r.doc.content),m=n.doc.content.findDiffEnd(r.doc.content);return"number"==typeof p&&m&&p!==m.b?l({rule:e,state:r,from:p,to:m,pasteEvt:o}):void 0}}))}var vO=class{constructor(e,t){this.splittableMarks=[],this.editor=t,this.extensions=HT(e),this.schema=function(e,t){var n;const r=PT(e),{nodeExtensions:a,markExtensions:i}=MT(e),s=null==(n=a.find(e=>_T(e,"topNode")))?void 0:n.name,o=Object.fromEntries(a.map(n=>{const a=r.filter(e=>e.type===n.name),i={name:n.name,options:n.options,storage:n.storage,editor:t},s=e.reduce((e,t)=>{const r=_T(t,"extendNodeSchema",i);return{...e,...r?r(n):{}}},{}),o=RT({...s,content:ET(_T(n,"content",i)),marks:ET(_T(n,"marks",i)),group:ET(_T(n,"group",i)),inline:ET(_T(n,"inline",i)),atom:ET(_T(n,"atom",i)),selectable:ET(_T(n,"selectable",i)),draggable:ET(_T(n,"draggable",i)),code:ET(_T(n,"code",i)),whitespace:ET(_T(n,"whitespace",i)),linebreakReplacement:ET(_T(n,"linebreakReplacement",i)),defining:ET(_T(n,"defining",i)),isolating:ET(_T(n,"isolating",i)),attrs:Object.fromEntries(a.map(e=>{var t,n;return[e.name,{default:null==(t=null==e?void 0:e.attribute)?void 0:t.default,validate:null==(n=null==e?void 0:e.attribute)?void 0:n.validate}]}))}),l=ET(_T(n,"parseHTML",i));l&&(o.parseDOM=l.map(e=>IT(e,a)));const c=_T(n,"renderHTML",i);c&&(o.toDOM=e=>c({node:e,HTMLAttributes:LT(e,a)}));const d=_T(n,"renderText",i);return d&&(o.toText=d),[n.name,o]})),l=Object.fromEntries(i.map(n=>{const a=r.filter(e=>e.type===n.name),i={name:n.name,options:n.options,storage:n.storage,editor:t},s=e.reduce((e,t)=>{const r=_T(t,"extendMarkSchema",i);return{...e,...r?r(n):{}}},{}),o=RT({...s,inclusive:ET(_T(n,"inclusive",i)),excludes:ET(_T(n,"excludes",i)),group:ET(_T(n,"group",i)),spanning:ET(_T(n,"spanning",i)),code:ET(_T(n,"code",i)),attrs:Object.fromEntries(a.map(e=>{var t,n;return[e.name,{default:null==(t=null==e?void 0:e.attribute)?void 0:t.default,validate:null==(n=null==e?void 0:e.attribute)?void 0:n.validate}]}))}),l=ET(_T(n,"parseHTML",i));l&&(o.parseDOM=l.map(e=>IT(e,a)));const c=_T(n,"renderHTML",i);return c&&(o.toDOM=e=>c({mark:e,HTMLAttributes:LT(e,a)})),[n.name,o]}));return new JN({topNode:s,nodes:o,marks:l})}(this.extensions,t),this.setupExtensions()}get commands(){return this.extensions.reduce((e,t)=>{const n=_T(t,"addCommands",{name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:this.editor,type:eO(t.name,this.schema)});return n?{...e,...n()}:e},{})}get plugins(){const{editor:e}=this;return FT([...this.extensions].reverse()).flatMap(t=>{const n={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:e,type:eO(t.name,this.schema)},r=[],a=_T(t,"addKeyboardShortcuts",n);let i={};if("mark"===t.type&&_T(t,"exitable",n)&&(i.ArrowRight=()=>gO.handleExit({editor:e,mark:t})),a){const t=Object.fromEntries(Object.entries(a()).map(([t,n])=>[t,()=>n({editor:e})]));i={...i,...t}}const s=new NS({props:{handleKeyDown:YA(i)}});r.push(s);const o=_T(t,"addInputRules",n);if(aO(t,e.options.enableInputRules)&&o){const t=o();if(t&&t.length){const n=function(e){const{editor:t,rules:n}=e,r=new NS({state:{init:()=>null,apply(e,a,i){const s=e.getMeta(r);if(s)return s;const o=e.getMeta("applyInputRules");return!!o&&setTimeout(()=>{let{text:e}=o;"string"==typeof e||(e=TT(oN.from(e),i.schema));const{from:a}=o,s=a+e.length;hO({editor:t,from:a,to:s,text:e,rules:n,plugin:r})}),e.selectionSet||e.docChanged?null:a}},props:{handleTextInput:(e,a,i,s)=>hO({editor:t,from:a,to:i,text:s,rules:n,plugin:r}),handleDOMEvents:{compositionend:e=>(setTimeout(()=>{const{$cursor:a}=e.state.selection;a&&hO({editor:t,from:a.pos,to:a.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(e,a){if("Enter"!==a.key)return!1;const{$cursor:i}=e.state.selection;return!!i&&hO({editor:t,from:i.pos,to:i.pos,text:"\n",rules:n,plugin:r})}},isInputRules:!0});return r}({editor:e,rules:t}),a=Array.isArray(n)?n:[n];r.push(...a)}}const l=_T(t,"addPasteRules",n);if(aO(t,e.options.enablePasteRules)&&l){const t=l();if(t&&t.length){const n=yO({editor:e,rules:t});r.push(...n)}}const c=_T(t,"addProseMirrorPlugins",n);if(c){const e=c();r.push(...e)}return r})}get attributes(){return PT(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:t}=MT(this.extensions);return Object.fromEntries(t.filter(e=>!!_T(e,"addNodeView")).map(t=>{const n=this.attributes.filter(e=>e.type===t.name),r={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:e,type:UT(t.name,this.schema)},a=_T(t,"addNodeView",r);return a?[t.name,(r,i,s,o,l)=>{const c=LT(r,n);return a()({node:r,view:i,getPos:s,decorations:o,innerDecorations:l,editor:e,extension:t,HTMLAttributes:c})}]:[]}))}get markViews(){const{editor:e}=this,{markExtensions:t}=MT(this.extensions);return Object.fromEntries(t.filter(e=>!!_T(e,"addMarkView")).map(t=>{const n=this.attributes.filter(e=>e.type===t.name),r={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:e,type:WT(t.name,this.schema)},a=_T(t,"addMarkView",r);return a?[t.name,(r,i,s)=>{const o=LT(r,n);return a()({mark:r,view:i,inline:s,editor:e,extension:t,HTMLAttributes:o,updateAttributes:t=>{!function(e,t,n={}){const{state:r}=t,{doc:a,tr:i}=r,s=e;a.descendants((t,r)=>{const a=i.mapping.map(r),o=i.mapping.map(r)+t.nodeSize;let l=null;if(t.marks.forEach(e=>{if(e!==s)return!1;l=e}),!l)return;let c=!1;if(Object.keys(n).forEach(e=>{n[e]!==l.attrs[e]&&(c=!0)}),c){const t=e.type.create({...e.attrs,...n});i.removeMark(a,o,e.type),i.addMark(a,o,t)}}),i.docChanged&&t.view.dispatch(i)}(r,e,t)}})}]:[]}))}setupExtensions(){const e=this.extensions;this.editor.extensionStorage=Object.fromEntries(e.map(e=>[e.name,e.storage])),e.forEach(e=>{var t;const n={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:eO(e.name,this.schema)};"mark"===e.type&&(null==(t=ET(_T(e,"keepOnSplit",n)))||t)&&this.splittableMarks.push(e.name);const r=_T(e,"onBeforeCreate",n),a=_T(e,"onCreate",n),i=_T(e,"onUpdate",n),s=_T(e,"onSelectionUpdate",n),o=_T(e,"onTransaction",n),l=_T(e,"onFocus",n),c=_T(e,"onBlur",n),d=_T(e,"onDestroy",n);r&&this.editor.on("beforeCreate",r),a&&this.editor.on("create",a),i&&this.editor.on("update",i),s&&this.editor.on("selectionUpdate",s),o&&this.editor.on("transaction",o),l&&this.editor.on("focus",l),c&&this.editor.on("blur",c),d&&this.editor.on("destroy",d)})}};vO.resolve=HT,vO.sort=FT,vO.flatten=AT,xT({},{ClipboardTextSerializer:()=>jO,Commands:()=>DE,Delete:()=>LE,Drop:()=>IE,Editable:()=>RE,FocusEvents:()=>HE,Keymap:()=>zE,Paste:()=>BE,Tabindex:()=>WE,focusEventsPluginKey:()=>FE});var wO=class e extends fO{constructor(){super(...arguments),this.type="extension"}static create(t={}){const n="function"==typeof t?t():t;return new e(n)}configure(e){return super.configure(e)}extend(e){const t="function"==typeof e?e():e;return super.extend(t)}},jO=wO.create({name:"clipboardTextSerializer",addOptions:()=>({blockSeparator:void 0}),addProseMirrorPlugins(){return[new NS({key:new CS("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:e}=this,{state:t,schema:n}=e,{doc:r,selection:a}=t,{ranges:i}=a,s=Math.min(...i.map(e=>e.$from.pos)),o=Math.max(...i.map(e=>e.$to.pos)),l=BT(n);return zT(r,{from:s,to:o},{...void 0!==this.options.blockSeparator?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}}),NO={};xT(NO,{blur:()=>kO,clearContent:()=>SO,clearNodes:()=>CO,command:()=>_O,createParagraphNear:()=>AO,cut:()=>TO,deleteCurrentNode:()=>OO,deleteNode:()=>EO,deleteRange:()=>MO,deleteSelection:()=>PO,enter:()=>DO,exitCode:()=>LO,extendMarkRange:()=>IO,first:()=>RO,focus:()=>HO,forEach:()=>zO,insertContent:()=>BO,insertContentAt:()=>WO,joinBackward:()=>VO,joinDown:()=>UO,joinForward:()=>qO,joinItemBackward:()=>GO,joinItemForward:()=>YO,joinTextblockBackward:()=>KO,joinTextblockForward:()=>JO,joinUp:()=>$O,keyboardShortcut:()=>QO,lift:()=>ZO,liftEmptyBlock:()=>eE,liftListItem:()=>tE,newlineInCode:()=>nE,resetAttributes:()=>aE,scrollIntoView:()=>iE,selectAll:()=>sE,selectNodeBackward:()=>oE,selectNodeForward:()=>lE,selectParentNode:()=>cE,selectTextblockEnd:()=>dE,selectTextblockStart:()=>uE,setContent:()=>hE,setMark:()=>pE,setMeta:()=>mE,setNode:()=>fE,setNodeSelection:()=>gE,setTextSelection:()=>xE,sinkListItem:()=>bE,splitBlock:()=>vE,splitListItem:()=>wE,toggleList:()=>kE,toggleMark:()=>SE,toggleNode:()=>CE,toggleWrap:()=>_E,undoInputRule:()=>AE,unsetAllMarks:()=>TE,unsetMark:()=>OE,updateAttributes:()=>EE,wrapIn:()=>ME,wrapInList:()=>PE});var kO=()=>({editor:e,view:t})=>(requestAnimationFrame(()=>{var n;e.isDestroyed||(t.dom.blur(),null==(n=null==window?void 0:window.getSelection())||n.removeAllRanges())}),!0),SO=(e=!0)=>({commands:t})=>t.setContent("",{emitUpdate:e}),CO=()=>({state:e,tr:t,dispatch:n})=>{const{selection:r}=t,{ranges:a}=r;return!n||(a.forEach(({$from:n,$to:r})=>{e.doc.nodesBetween(n.pos,r.pos,(e,n)=>{if(e.type.isText)return;const{doc:r,mapping:a}=t,i=r.resolve(a.map(n)),s=r.resolve(a.map(n+e.nodeSize)),o=i.blockRange(s);if(!o)return;const l=Mk(o);if(e.type.isTextblock){const{defaultType:e}=i.parent.contentMatchAt(i.index());t.setNodeMarkup(o.start,e)}(l||0===l)&&t.lift(o,l)})}),!0)},_O=e=>t=>e(t),AO=()=>({state:e,dispatch:t})=>lT(e,t),TO=(e,t)=>({editor:n,tr:r})=>{const{state:a}=n,i=a.doc.slice(e.from,e.to);r.deleteRange(e.from,e.to);const s=r.mapping.map(t);return r.insert(s,i.content),r.setSelection(new lS(r.doc.resolve(Math.max(s-1,0)))),!0},OO=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,r=n.$anchor.node();if(r.content.size>0)return!1;const a=e.selection.$anchor;for(let i=a.depth;i>0;i-=1)if(a.node(i).type===r.type){if(t){const t=a.before(i),n=a.after(i);e.delete(t,n).scrollIntoView()}return!0}return!1},EO=e=>({tr:t,state:n,dispatch:r})=>{const a=UT(e,n.schema),i=t.selection.$anchor;for(let e=i.depth;e>0;e-=1)if(i.node(e).type===a){if(r){const n=i.before(e),r=i.after(e);t.delete(n,r).scrollIntoView()}return!0}return!1},MO=e=>({tr:t,dispatch:n})=>{const{from:r,to:a}=e;return n&&t.delete(r,a),!0},PO=()=>({state:e,dispatch:t})=>KA(e,t),DO=()=>({commands:e})=>e.keyboardShortcut("Enter"),LO=()=>({state:e,dispatch:t})=>((e,t)=>{let{$head:n,$anchor:r}=e.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let a=n.node(-1),i=n.indexAfter(-1),s=oT(a.contentMatchAt(i));if(!s||!a.canReplaceWith(i,i,s))return!1;if(t){let r=n.after(),a=e.tr.replaceWith(r,r,s.createAndFill());a.setSelection(aS.near(a.doc.resolve(r),1)),t(a.scrollIntoView())}return!0})(e,t),IO=(e,t={})=>({tr:n,state:r,dispatch:a})=>{const i=WT(e,r.schema),{doc:s,selection:o}=n,{$from:l,from:c,to:d}=o;if(a){const e=QT(l,i,t);if(e&&e.from<=c&&e.to>=d){const t=lS.create(s,e.from,e.to);n.setSelection(t)}}return!0},RO=e=>t=>{const n="function"==typeof e?e(t):e;for(let e=0;e<n.length;e+=1)if(n[e](t))return!0;return!1};function FO(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var HO=(e=null,t={})=>({editor:n,view:r,tr:a,dispatch:i})=>{t={scrollIntoView:!0,...t};const s=()=>{(FO()||"Android"===navigator.platform||/android/i.test(navigator.userAgent))&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),(null==t?void 0:t.scrollIntoView)&&n.commands.scrollIntoView())})};if(r.hasFocus()&&null===e||!1===e)return!0;if(i&&null===e&&!lO(n.state.selection))return s(),!0;const o=dO(a.doc,e)||n.state.selection,l=n.state.selection.eq(o);return i&&(l||a.setSelection(o),l&&a.storedMarks&&a.setStoredMarks(a.storedMarks),s()),!0},zO=(e,t)=>n=>e.every((e,r)=>t(e,{...n,index:r})),BO=(e,t)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},e,t),WO=(e,t,n)=>({tr:r,dispatch:a,editor:i})=>{var s;if(a){let a;const o=e=>{i.emit("contentError",{editor:i,error:e,disableCollaboration:()=>{"collaboration"in i.storage&&"object"==typeof i.storage.collaboration&&i.storage.collaboration&&(i.storage.collaboration.isDisabled=!0)}})},l={preserveWhitespace:"full",...(n={parseOptions:i.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n}).parseOptions};if(!n.errorOnInvalidContent&&!i.options.enableContentCheck&&i.options.emitContentError)try{kT(t,i.schema,{parseOptions:l,errorOnInvalidContent:!0})}catch(Ew){o(Ew)}try{a=kT(t,i.schema,{parseOptions:l,errorOnInvalidContent:null!=(s=n.errorOnInvalidContent)?s:i.options.enableContentCheck})}catch(Ew){return o(Ew),!1}let c,{from:d,to:u}="number"==typeof e?{from:e,to:e}:{from:e.from,to:e.to},h=!0,p=!0;if(("type"in a?[a]:a).forEach(e=>{e.check(),h=!!h&&e.isText&&0===e.marks.length,p=!!p&&e.isBlock}),d===u&&p){const{parent:e}=r.doc.resolve(d);e.isTextblock&&!e.type.spec.code&&!e.childCount&&(d-=1,u+=1)}if(h){if(Array.isArray(t))c=t.map(e=>e.text||"").join("");else if(t instanceof oN){let e="";t.forEach(t=>{t.text&&(e+=t.text)}),c=e}else c="object"==typeof t&&t&&t.text?t.text:t;r.insertText(c,d,u)}else{c=a;const e=r.doc.resolve(d),t=e.node(),n=0===e.parentOffset,i=t.isText||t.isTextblock,s=t.content.size>0;n&&i&&s&&(d=Math.max(0,d-1)),r.replaceWith(d,u,c)}n.updateSelection&&function(e,t){const n=e.steps.length-1;if(n<t)return;const r=e.steps[n];if(!(r instanceof _k||r instanceof Ak))return;const a=e.mapping.maps[n];let i=0;a.forEach((e,t,n,r)=>{0===i&&(i=r)}),e.setSelection(aS.near(e.doc.resolve(i),-1))}(r,r.steps.length-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:d,text:c}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:d,text:c})}return!0},$O=()=>({state:e,dispatch:t})=>((e,t)=>{let n,r=e.selection,a=r instanceof dS;if(a){if(r.node.isTextblock||!Fk(e.doc,r.from))return!1;n=r.from}else if(n=zk(e.doc,r.from,-1),null==n)return!1;if(t){let r=e.tr.join(n);a&&r.setSelection(dS.create(r.doc,n-e.doc.resolve(n).nodeBefore.nodeSize)),t(r.scrollIntoView())}return!0})(e,t),UO=()=>({state:e,dispatch:t})=>((e,t)=>{let n,r=e.selection;if(r instanceof dS){if(r.node.isTextblock||!Fk(e.doc,r.to))return!1;n=r.to}else if(n=zk(e.doc,r.to,1),null==n)return!1;return t&&t(e.tr.join(n).scrollIntoView()),!0})(e,t),VO=()=>({state:e,dispatch:t})=>XA(e,t),qO=()=>({state:e,dispatch:t})=>rT(e,t),GO=()=>({state:e,dispatch:t,tr:n})=>{try{const r=zk(e.doc,e.selection.$from.pos,-1);return null!=r&&(n.join(r,2),t&&t(n),!0)}catch(Ew){return!1}},YO=()=>({state:e,dispatch:t,tr:n})=>{try{const r=zk(e.doc,e.selection.$from.pos,1);return null!=r&&(n.join(r,2),t&&t(n),!0)}catch(Ew){return!1}},KO=()=>({state:e,dispatch:t})=>((e,t)=>{let n=JA(e,void 0);if(!n)return!1;let r=tT(n);return!!r&&QA(e,r,t)})(e,t),JO=()=>({state:e,dispatch:t})=>((e,t)=>{let n=nT(e,void 0);if(!n)return!1;let r=iT(n);return!!r&&QA(e,r,t)})(e,t);function XO(){return"undefined"!=typeof navigator&&/Mac/.test(navigator.platform)}var QO=e=>({editor:t,view:n,tr:r,dispatch:a})=>{const i=function(e){const t=e.split(/-(?!$)/);let n,r,a,i,s=t[t.length-1];"Space"===s&&(s=" ");for(let o=0;o<t.length-1;o+=1){const e=t[o];if(/^(cmd|meta|m)$/i.test(e))i=!0;else if(/^a(lt)?$/i.test(e))n=!0;else if(/^(c|ctrl|control)$/i.test(e))r=!0;else if(/^s(hift)?$/i.test(e))a=!0;else{if(!/^mod$/i.test(e))throw new Error(`Unrecognized modifier name: ${e}`);FO()||XO()?i=!0:r=!0}}return n&&(s=`Alt-${s}`),r&&(s=`Ctrl-${s}`),i&&(s=`Meta-${s}`),a&&(s=`Shift-${s}`),s}(e).split(/-(?!$)/),s=i.find(e=>!["Alt","Ctrl","Meta","Shift"].includes(e)),o=new KeyboardEvent("keydown",{key:"Space"===s?" ":s,altKey:i.includes("Alt"),ctrlKey:i.includes("Ctrl"),metaKey:i.includes("Meta"),shiftKey:i.includes("Shift"),bubbles:!0,cancelable:!0}),l=t.captureTransaction(()=>{n.someProp("handleKeyDown",e=>e(n,o))});return null==l||l.steps.forEach(e=>{const t=e.map(r.mapping);t&&a&&r.maybeStep(t)}),!0},ZO=(e,t={})=>({state:n,dispatch:r})=>!!rO(n,UT(e,n.schema),t)&&((e,t)=>{let{$from:n,$to:r}=e.selection,a=n.blockRange(r),i=a&&Mk(a);return null!=i&&(t&&t(e.tr.lift(a,i).scrollIntoView()),!0)})(n,r),eE=()=>({state:e,dispatch:t})=>cT(e,t),tE=e=>({state:t,dispatch:n})=>{return(r=UT(e,t.schema),function(e,t){let{$from:n,$to:a}=e.selection,i=n.blockRange(a,e=>e.childCount>0&&e.firstChild.type==r);return!!i&&(!t||(n.node(i.depth-1).type==r?function(e,t,n,r){let a=e.tr,i=r.end,s=r.$to.end(r.depth);i<s&&(a.step(new Ak(i-1,s,i,s,new pN(oN.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new TN(a.doc.resolve(r.$from.pos),a.doc.resolve(s),r.depth));const o=Mk(r);if(null==o)return!1;a.lift(r,o);let l=a.doc.resolve(a.mapping.map(i,-1)-1);return Fk(a.doc,l.pos)&&l.nodeBefore.type==l.nodeAfter.type&&a.join(l.pos),t(a.scrollIntoView()),!0}(e,t,r,i):function(e,t,n){let r=e.tr,a=n.parent;for(let p=n.end,m=n.endIndex-1,f=n.startIndex;m>f;m--)p-=a.child(m).nodeSize,r.delete(p-1,p+1);let i=r.doc.resolve(n.start),s=i.nodeAfter;if(r.mapping.map(n.end)!=n.start+i.nodeAfter.nodeSize)return!1;let o=0==n.startIndex,l=n.endIndex==a.childCount,c=i.node(-1),d=i.index(-1);if(!c.canReplace(d+(o?0:1),d+1,s.content.append(l?oN.empty:oN.from(a))))return!1;let u=i.pos,h=u+s.nodeSize;return r.step(new Ak(u-(o?1:0),h+(l?1:0),u+1,h-1,new pN((o?oN.empty:oN.from(a.copy(oN.empty))).append(l?oN.empty:oN.from(a.copy(oN.empty))),o?0:1,l?0:1),o?0:1)),t(r.scrollIntoView()),!0}(e,t,i)))})(t,n);var r},nE=()=>({state:e,dispatch:t})=>sT(e,t);function rE(e,t){const n="string"==typeof t?[t]:t;return Object.keys(e).reduce((t,r)=>(n.includes(r)||(t[r]=e[r]),t),{})}var aE=(e,t)=>({tr:n,state:r,dispatch:a})=>{let i=null,s=null;const o=VT("string"==typeof e?e:e.name,r.schema);return!!o&&("node"===o&&(i=UT(e,r.schema)),"mark"===o&&(s=WT(e,r.schema)),a&&n.selection.ranges.forEach(e=>{r.doc.nodesBetween(e.$from.pos,e.$to.pos,(e,r)=>{i&&i===e.type&&n.setNodeMarkup(r,void 0,rE(e.attrs,t)),s&&e.marks.length&&e.marks.forEach(a=>{s===a.type&&n.addMark(r,r+e.nodeSize,s.create(rE(a.attrs,t)))})})}),!0)},iE=()=>({tr:e,dispatch:t})=>(t&&e.scrollIntoView(),!0),sE=()=>({tr:e,dispatch:t})=>{if(t){const t=new hS(e.doc);e.setSelection(t)}return!0},oE=()=>({state:e,dispatch:t})=>eT(e,t),lE=()=>({state:e,dispatch:t})=>aT(e,t),cE=()=>({state:e,dispatch:t})=>((e,t)=>{let n,{$from:r,to:a}=e.selection,i=r.sharedDepth(a);return 0!=i&&(n=r.before(i),t&&t(e.tr.setSelection(dS.create(e.doc,n))),!0)})(e,t),dE=()=>({state:e,dispatch:t})=>pT(e,t),uE=()=>({state:e,dispatch:t})=>hT(e,t),hE=(e,{errorOnInvalidContent:t,emitUpdate:n=!0,parseOptions:r={}}={})=>({editor:a,tr:i,dispatch:s,commands:o})=>{const{doc:l}=i;if("full"!==r.preserveWhitespace){const o=ST(e,a.schema,r,{errorOnInvalidContent:null!=t?t:a.options.enableContentCheck});return s&&i.replaceWith(0,l.content.size,o).setMeta("preventUpdate",!n),!0}return s&&i.setMeta("preventUpdate",!n),o.insertContentAt({from:0,to:l.content.size},e,{parseOptions:r,errorOnInvalidContent:null!=t?t:a.options.enableContentCheck})},pE=(e,t={})=>({tr:n,state:r,dispatch:a})=>{const{selection:i}=n,{empty:s,ranges:o}=i,l=WT(e,r.schema);if(a)if(s){const e=$T(r,l);n.addStoredMark(l.create({...e,...t}))}else o.forEach(e=>{const a=e.$from.pos,i=e.$to.pos;r.doc.nodesBetween(a,i,(e,r)=>{const s=Math.max(r,a),o=Math.min(r+e.nodeSize,i);e.marks.find(e=>e.type===l)?e.marks.forEach(e=>{l===e.type&&n.addMark(s,o,l.create({...e.attrs,...t}))}):n.addMark(s,o,l.create(t))})});return function(e,t,n){var r;const{selection:a}=t;let i=null;if(lO(a)&&(i=a.$cursor),i){const t=null!=(r=e.storedMarks)?r:i.marks();return i.parent.type.allowsMarkType(n)&&(!!n.isInSet(t)||!t.some(e=>e.type.excludes(n)))}const{ranges:s}=a;return s.some(({$from:t,$to:r})=>{let a=0===t.depth&&e.doc.inlineContent&&e.doc.type.allowsMarkType(n);return e.doc.nodesBetween(t.pos,r.pos,(e,t,r)=>{if(a)return!1;if(e.isInline){const t=!r||r.type.allowsMarkType(n),i=!!n.isInSet(e.marks)||!e.marks.some(e=>e.type.excludes(n));a=t&&i}return!a}),a})}(r,n,l)},mE=(e,t)=>({tr:n})=>(n.setMeta(e,t),!0),fE=(e,t={})=>({state:n,dispatch:r,chain:a})=>{const i=UT(e,n.schema);let s;return n.selection.$anchor.sameParent(n.selection.$head)&&(s=n.selection.$anchor.parent.attrs),!!i.isTextblock&&a().command(({commands:e})=>!!mT(i,{...s,...t})(n)||e.clearNodes()).command(({state:e})=>mT(i,{...s,...t})(e,r)).run()},gE=e=>({tr:t,dispatch:n})=>{if(n){const{doc:n}=t,r=cO(e,0,n.content.size),a=dS.create(n,r);t.setSelection(a)}return!0},xE=e=>({tr:t,dispatch:n})=>{if(n){const{doc:n}=t,{from:r,to:a}="number"==typeof e?{from:e,to:e}:e,i=lS.atStart(n).from,s=lS.atEnd(n).to,o=cO(r,i,s),l=cO(a,i,s),c=lS.create(n,o,l);t.setSelection(c)}return!0},bE=e=>({state:t,dispatch:n})=>{const r=UT(e,t.schema);return(a=r,function(e,t){let{$from:n,$to:r}=e.selection,i=n.blockRange(r,e=>e.childCount>0&&e.firstChild.type==a);if(!i)return!1;let s=i.startIndex;if(0==s)return!1;let o=i.parent,l=o.child(s-1);if(l.type!=a)return!1;if(t){let n=l.lastChild&&l.lastChild.type==o.type,r=oN.from(n?a.create():null),s=new pN(oN.from(a.create(null,oN.from(o.type.create(null,r)))),n?3:1,0),c=i.start,d=i.end;t(e.tr.step(new Ak(c-(n?3:1),d,c,d,s,1,!0)).scrollIntoView())}return!0})(t,n);var a};function yE(e,t){const n=e.storedMarks||e.selection.$to.parentOffset&&e.selection.$from.marks();if(n){const r=n.filter(e=>null==t?void 0:t.includes(e.type.name));e.tr.ensureMarks(r)}}var vE=({keepMarks:e=!0}={})=>({tr:t,state:n,dispatch:r,editor:a})=>{const{selection:i,doc:s}=t,{$from:o,$to:l}=i,c=tO(a.extensionManager.attributes,o.node().type.name,o.node().attrs);if(i instanceof dS&&i.node.isBlock)return!(!o.parentOffset||!Rk(s,o.pos)||(r&&(e&&yE(n,a.extensionManager.splittableMarks),t.split(o.pos).scrollIntoView()),0));if(!o.parent.isBlock)return!1;const d=l.parentOffset===l.parent.content.size,u=0===o.depth?void 0:function(e){for(let t=0;t<e.edgeCount;t+=1){const{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}(o.node(-1).contentMatchAt(o.indexAfter(-1)));let h=d&&u?[{type:u,attrs:c}]:void 0,p=Rk(t.doc,t.mapping.map(o.pos),1,h);if(h||p||!Rk(t.doc,t.mapping.map(o.pos),1,u?[{type:u}]:void 0)||(p=!0,h=u?[{type:u,attrs:c}]:void 0),r){if(p&&(i instanceof lS&&t.deleteSelection(),t.split(t.mapping.map(o.pos),1,h),u&&!d&&!o.parentOffset&&o.parent.type!==u)){const e=t.mapping.map(o.before()),n=t.doc.resolve(e);o.node(-1).canReplaceWith(n.index(),n.index()+1,u)&&t.setNodeMarkup(t.mapping.map(o.before()),u)}e&&yE(n,a.extensionManager.splittableMarks),t.scrollIntoView()}return p},wE=(e,t={})=>({tr:n,state:r,dispatch:a,editor:i})=>{var s;const o=UT(e,r.schema),{$from:l,$to:c}=r.selection,d=r.selection.node;if(d&&d.isBlock||l.depth<2||!l.sameParent(c))return!1;const u=l.node(-1);if(u.type!==o)return!1;const h=i.extensionManager.attributes;if(0===l.parent.content.size&&l.node(-1).childCount===l.indexAfter(-1)){if(2===l.depth||l.node(-3).type!==o||l.index(-2)!==l.node(-2).childCount-1)return!1;if(a){let e=oN.empty;const r=l.index(-1)?1:l.index(-2)?2:3;for(let t=l.depth-r;t>=l.depth-3;t-=1)e=oN.from(l.node(t).copy(e));const a=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,i={...tO(h,l.node().type.name,l.node().attrs),...t},c=(null==(s=o.contentMatch.defaultType)?void 0:s.createAndFill(i))||void 0;e=e.append(oN.from(o.createAndFill(null,c)||void 0));const d=l.before(l.depth-(r-1));n.replace(d,l.after(-a),new pN(e,4-r,0));let u=-1;n.doc.nodesBetween(d,n.doc.content.size,(e,t)=>{if(u>-1)return!1;e.isTextblock&&0===e.content.size&&(u=t+1)}),u>-1&&n.setSelection(lS.near(n.doc.resolve(u))),n.scrollIntoView()}return!0}const p=c.pos===l.end()?u.contentMatchAt(0).defaultType:null,m={...tO(h,u.type.name,u.attrs),...t},f={...tO(h,l.node().type.name,l.node().attrs),...t};n.delete(l.pos,c.pos);const g=p?[{type:o,attrs:m},{type:p,attrs:f}]:[{type:o,attrs:m}];if(!Rk(n.doc,l.pos,2))return!1;if(a){const{selection:e,storedMarks:t}=r,{splittableMarks:s}=i.extensionManager,o=t||e.$to.parentOffset&&e.$from.marks();if(n.split(l.pos,2,g).scrollIntoView(),!o||!a)return!0;const c=o.filter(e=>s.includes(e.type.name));n.ensureMarks(c)}return!0},jE=(e,t)=>{const n=CT(e=>e.type===t)(e.selection);if(!n)return!0;const r=e.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(void 0===r)return!0;const a=e.doc.nodeAt(r);return n.node.type!==(null==a?void 0:a.type)||!Fk(e.doc,n.pos)||(e.join(n.pos),!0)},NE=(e,t)=>{const n=CT(e=>e.type===t)(e.selection);if(!n)return!0;const r=e.doc.resolve(n.start).after(n.depth);if(void 0===r)return!0;const a=e.doc.nodeAt(r);return n.node.type!==(null==a?void 0:a.type)||!Fk(e.doc,r)||(e.join(r),!0)},kE=(e,t,n,r={})=>({editor:a,tr:i,state:s,dispatch:o,chain:l,commands:c,can:d})=>{const{extensions:u,splittableMarks:h}=a.extensionManager,p=UT(e,s.schema),m=UT(t,s.schema),{selection:f,storedMarks:g}=s,{$from:x,$to:b}=f,y=x.blockRange(b),v=g||f.$to.parentOffset&&f.$from.marks();if(!y)return!1;const w=CT(e=>iO(e.type.name,u))(f);if(y.depth>=1&&w&&y.depth-w.depth<=1){if(w.node.type===p)return c.liftListItem(m);if(iO(w.node.type.name,u)&&p.validContent(w.node.content)&&o)return l().command(()=>(i.setNodeMarkup(w.pos,p),!0)).command(()=>jE(i,p)).command(()=>NE(i,p)).run()}return n&&v&&o?l().command(()=>{const e=d().wrapInList(p,r),t=v.filter(e=>h.includes(e.type.name));return i.ensureMarks(t),!!e||c.clearNodes()}).wrapInList(p,r).command(()=>jE(i,p)).command(()=>NE(i,p)).run():l().command(()=>!!d().wrapInList(p,r)||c.clearNodes()).wrapInList(p,r).command(()=>jE(i,p)).command(()=>NE(i,p)).run()},SE=(e,t={},n={})=>({state:r,commands:a})=>{const{extendEmptyMarkRange:i=!1}=n,s=WT(e,r.schema);return nO(r,s,t)?a.unsetMark(s,{extendEmptyMarkRange:i}):a.setMark(s,t)},CE=(e,t,n={})=>({state:r,commands:a})=>{const i=UT(e,r.schema),s=UT(t,r.schema),o=rO(r,i,n);let l;return r.selection.$anchor.sameParent(r.selection.$head)&&(l=r.selection.$anchor.parent.attrs),o?a.setNode(s,l):a.setNode(i,{...l,...n})},_E=(e,t={})=>({state:n,commands:r})=>{const a=UT(e,n.schema);return rO(n,a,t)?r.lift(a):r.wrapIn(a,t)},AE=()=>({state:e,dispatch:t})=>{const n=e.plugins;for(let r=0;r<n.length;r+=1){const a=n[r];let i;if(a.spec.isInputRules&&(i=a.getState(e))){if(t){const t=e.tr,n=i.transform;for(let e=n.steps.length-1;e>=0;e-=1)t.step(n.steps[e].invert(n.docs[e]));if(i.text){const n=t.doc.resolve(i.from).marks();t.replaceWith(i.from,i.to,e.schema.text(i.text,n))}else t.delete(i.from,i.to)}return!0}}return!1},TE=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,{empty:r,ranges:a}=n;return r||t&&a.forEach(t=>{e.removeMark(t.$from.pos,t.$to.pos)}),!0},OE=(e,t={})=>({tr:n,state:r,dispatch:a})=>{var i;const{extendEmptyMarkRange:s=!1}=t,{selection:o}=n,l=WT(e,r.schema),{$from:c,empty:d,ranges:u}=o;if(!a)return!0;if(d&&s){let{from:e,to:t}=o;const r=null==(i=c.marks().find(e=>e.type===l))?void 0:i.attrs,a=QT(c,l,r);a&&(e=a.from,t=a.to),n.removeMark(e,t,l)}else u.forEach(e=>{n.removeMark(e.$from.pos,e.$to.pos,l)});return n.removeStoredMark(l),!0},EE=(e,t={})=>({tr:n,state:r,dispatch:a})=>{let i=null,s=null;const o=VT("string"==typeof e?e:e.name,r.schema);return!!o&&("node"===o&&(i=UT(e,r.schema)),"mark"===o&&(s=WT(e,r.schema)),a&&n.selection.ranges.forEach(e=>{const a=e.$from.pos,o=e.$to.pos;let l,c,d,u;n.selection.empty?r.doc.nodesBetween(a,o,(e,t)=>{i&&i===e.type&&(d=Math.max(t,a),u=Math.min(t+e.nodeSize,o),l=t,c=e)}):r.doc.nodesBetween(a,o,(e,r)=>{r<a&&i&&i===e.type&&(d=Math.max(r,a),u=Math.min(r+e.nodeSize,o),l=r,c=e),r>=a&&r<=o&&(i&&i===e.type&&n.setNodeMarkup(r,void 0,{...e.attrs,...t}),s&&e.marks.length&&e.marks.forEach(i=>{if(s===i.type){const l=Math.max(r,a),c=Math.min(r+e.nodeSize,o);n.addMark(l,c,s.create({...i.attrs,...t}))}}))}),c&&(void 0!==l&&n.setNodeMarkup(l,void 0,{...c.attrs,...t}),s&&c.marks.length&&c.marks.forEach(e=>{s===e.type&&n.addMark(d,u,s.create({...e.attrs,...t}))}))}),!0)},ME=(e,t={})=>({state:n,dispatch:r})=>function(e,t=null){return function(n,r){let{$from:a,$to:i}=n.selection,s=a.blockRange(i),o=s&&Pk(s,e,t);return!!o&&(r&&r(n.tr.wrap(s,o).scrollIntoView()),!0)}}(UT(e,n.schema),t)(n,r),PE=(e,t={})=>({state:n,dispatch:r})=>function(e,t=null){return function(n,r){let{$from:a,$to:i}=n.selection,s=a.blockRange(i);if(!s)return!1;let o=r?n.tr:null;return!!function(e,t,n,r=null){let a=!1,i=t,s=t.$from.doc;if(t.depth>=2&&t.$from.node(t.depth-1).type.compatibleContent(n)&&0==t.startIndex){if(0==t.$from.index(t.depth-1))return!1;let e=s.resolve(t.start-2);i=new TN(e,e,t.depth),t.endIndex<t.parent.childCount&&(t=new TN(t.$from,s.resolve(t.$to.end(t.depth)),t.depth)),a=!0}let o=Pk(i,n,r,t);return!!o&&(e&&function(e,t,n,r,a){let i=oN.empty;for(let d=n.length-1;d>=0;d--)i=oN.from(n[d].type.create(n[d].attrs,i));e.step(new Ak(t.start-(r?2:0),t.end,t.start,t.end,new pN(i,0,0),n.length,!0));let s=0;for(let d=0;d<n.length;d++)n[d].type==a&&(s=d+1);let o=n.length-s,l=t.start+n.length-(r?2:0),c=t.parent;for(let d=t.startIndex,u=t.endIndex,h=!0;d<u;d++,h=!1)!h&&Rk(e.doc,l,o)&&(e.split(l,o),l+=2*o),l+=c.child(d).nodeSize}(e,t,o,a,n),!0)}(o,s,e,t)&&(r&&r(o.scrollIntoView()),!0)}}(UT(e,n.schema),t)(n,r),DE=wO.create({name:"commands",addCommands:()=>({...NO})}),LE=wO.create({name:"delete",onUpdate({transaction:e,appendedTransactions:t}){var n,r,a;const i=()=>{var n,r,a,i;if(null!=(i=null==(a=null==(r=null==(n=this.editor.options.coreExtensionOptions)?void 0:n.delete)?void 0:r.filterTransaction)?void 0:a.call(r,e))?i:e.getMeta("y-sync$"))return;const s=wT(e.before,[e,...t]);GT(s).forEach(t=>{s.mapping.mapResult(t.oldRange.from).deletedAfter&&s.mapping.mapResult(t.oldRange.to).deletedBefore&&s.before.nodesBetween(t.oldRange.from,t.oldRange.to,(n,r)=>{const a=r+n.nodeSize-2,i=t.oldRange.from<=r&&a<=t.oldRange.to;this.editor.emit("delete",{type:"node",node:n,from:r,to:a,newFrom:s.mapping.map(r),newTo:s.mapping.map(a),deletedRange:t.oldRange,newRange:t.newRange,partial:!i,editor:this.editor,transaction:e,combinedTransform:s})})});const o=s.mapping;s.steps.forEach((t,n)=>{var r,a;if(t instanceof kk){const i=o.slice(n).map(t.from,-1),l=o.slice(n).map(t.to),c=o.invert().map(i,-1),d=o.invert().map(l),u=null==(r=s.doc.nodeAt(i-1))?void 0:r.marks.some(e=>e.eq(t.mark)),h=null==(a=s.doc.nodeAt(l))?void 0:a.marks.some(e=>e.eq(t.mark));this.editor.emit("delete",{type:"mark",mark:t.mark,from:t.from,to:t.to,deletedRange:{from:c,to:d},newRange:{from:i,to:l},partial:Boolean(h||u),editor:this.editor,transaction:e,combinedTransform:s})}})};null==(a=null==(r=null==(n=this.editor.options.coreExtensionOptions)?void 0:n.delete)?void 0:r.async)||a?setTimeout(i,0):i()}}),IE=wO.create({name:"drop",addProseMirrorPlugins(){return[new NS({key:new CS("tiptapDrop"),props:{handleDrop:(e,t,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:t,slice:n,moved:r})}}})]}}),RE=wO.create({name:"editable",addProseMirrorPlugins(){return[new NS({key:new CS("editable"),props:{editable:()=>this.editor.options.editable}})]}}),FE=new CS("focusEvents"),HE=wO.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:e}=this;return[new NS({key:FE,props:{handleDOMEvents:{focus:(t,n)=>{e.isFocused=!0;const r=e.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1},blur:(t,n)=>{e.isFocused=!1;const r=e.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1}}}})]}}),zE=wO.create({name:"keymap",addKeyboardShortcuts(){const e=()=>this.editor.commands.first(({commands:e})=>[()=>e.undoInputRule(),()=>e.command(({tr:t})=>{const{selection:n,doc:r}=t,{empty:a,$anchor:i}=n,{pos:s,parent:o}=i,l=i.parent.isTextblock&&s>0?t.doc.resolve(s-1):i,c=l.parent.type.spec.isolating,d=i.pos-i.parentOffset,u=c&&1===l.parent.childCount?d===i.pos:aS.atStart(r).from===s;return!(!a||!o.type.isTextblock||o.textContent.length||!u||u&&"paragraph"===i.parent.type.name)&&e.clearNodes()}),()=>e.deleteSelection(),()=>e.joinBackward(),()=>e.selectNodeBackward()]),t=()=>this.editor.commands.first(({commands:e})=>[()=>e.deleteSelection(),()=>e.deleteCurrentNode(),()=>e.joinForward(),()=>e.selectNodeForward()]),n={Enter:()=>this.editor.commands.first(({commands:e})=>[()=>e.newlineInCode(),()=>e.createParagraphNear(),()=>e.liftEmptyBlock(),()=>e.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:e,"Mod-Backspace":e,"Shift-Backspace":e,Delete:t,"Mod-Delete":t,"Mod-a":()=>this.editor.commands.selectAll()},r={...n},a={...n,"Ctrl-h":e,"Alt-Backspace":e,"Ctrl-d":t,"Ctrl-Alt-Backspace":t,"Alt-Delete":t,"Alt-d":t,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return FO()||XO()?a:r},addProseMirrorPlugins(){return[new NS({key:new CS("clearDocument"),appendTransaction:(e,t,n)=>{if(e.some(e=>e.getMeta("composition")))return;const r=e.some(e=>e.docChanged)&&!t.doc.eq(n.doc),a=e.some(e=>e.getMeta("preventClearDocument"));if(!r||a)return;const{empty:i,from:s,to:o}=t.selection,l=aS.atStart(t.doc).from,c=aS.atEnd(t.doc).to;if(i||s!==l||o!==c)return;if(!sO(n.doc))return;const d=n.tr,u=bT({state:n,transaction:d}),{commands:h}=new yT({editor:this.editor,state:u});return h.clearNodes(),d.steps.length?d:void 0}})]}}),BE=wO.create({name:"paste",addProseMirrorPlugins(){return[new NS({key:new CS("tiptapPaste"),props:{handlePaste:(e,t,n)=>{this.editor.emit("paste",{editor:this.editor,event:t,slice:n})}}})]}}),WE=wO.create({name:"tabindex",addProseMirrorPlugins(){return[new NS({key:new CS("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),$E=class e{constructor(e,t,n=!1,r=null){this.currentNode=null,this.actualDepth=null,this.isBlock=n,this.resolvedPos=e,this.editor=t,this.currentNode=r}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return null!=(e=this.actualDepth)?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let t=this.from,n=this.to;if(this.isBlock){if(0===this.content.size)return;t=this.from+1,n=this.to-1}this.editor.commands.insertContentAt({from:t,to:n},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(0===this.depth)return null;const t=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(t);return new e(n,this.editor)}get before(){let t=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.from-3)),new e(t,this.editor)}get after(){let t=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.to+3)),new e(t,this.editor)}get children(){const t=[];return this.node.content.forEach((n,r)=>{const a=n.isBlock&&!n.isTextblock,i=n.isAtom&&!n.isText,s=this.pos+r+(i?0:1);if(s<0||s>this.resolvedPos.doc.nodeSize-2)return;const o=this.resolvedPos.doc.resolve(s);if(!a&&o.depth<=this.depth)return;const l=new e(o,this.editor,a,a?n:null);a&&(l.actualDepth=this.depth+1),t.push(new e(o,this.editor,a,a?n:null))}),t}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,t={}){let n=null,r=this.parent;for(;r&&!n;){if(r.node.type.name===e)if(Object.keys(t).length>0){const e=r.node.attrs,n=Object.keys(t);for(let r=0;r<n.length;r+=1){const a=n[r];if(e[a]!==t[a])break}}else n=r;r=r.parent}return n}querySelector(e,t={}){return this.querySelectorAll(e,t,!0)[0]||null}querySelectorAll(e,t={},n=!1){let r=[];if(!this.children||0===this.children.length)return r;const a=Object.keys(t);return this.children.forEach(i=>{n&&r.length>0||(i.node.type.name===e&&a.every(e=>t[e]===i.node.attrs[e])&&r.push(i),n&&r.length>0||(r=r.concat(i.querySelectorAll(e,t,n))))}),r}setAttribute(e){const{tr:t}=this.editor.state;t.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(t)}},UE=class extends vT{constructor(e={}){super(),this.css=null,this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:"undefined"!=typeof document?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:e})=>{throw e},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:e,slice:t,moved:n})=>this.options.onDrop(e,t,n)),this.on("paste",({event:e,slice:t})=>this.options.onPaste(e,t)),this.on("delete",this.options.onDelete);const t=this.createDoc(),n=dO(t,this.options.autofocus);this.editorState=wS.create({doc:t,schema:this.schema,selection:n||void 0}),this.options.element&&this.mount(this.options.element)}mount(e){if("undefined"==typeof document)throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(e),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const e=this.editorView.dom;(null==e?void 0:e.editor)&&delete e.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css)try{"function"==typeof this.css.remove?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(e){}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&"undefined"!=typeof document&&(this.css=function(e,t){const n=document.querySelector("style[data-tiptap-style]");if(null!==n)return n;const r=document.createElement("style");return t&&r.setAttribute("nonce",t),r.setAttribute("data-tiptap-style",""),r.innerHTML='.ProseMirror {\n  position: relative;\n}\n\n.ProseMirror {\n  word-wrap: break-word;\n  white-space: pre-wrap;\n  white-space: break-spaces;\n  -webkit-font-variant-ligatures: none;\n  font-variant-ligatures: none;\n  font-feature-settings: "liga" 0; /* the above doesn\'t seem to work in Edge */\n}\n\n.ProseMirror [contenteditable="false"] {\n  white-space: normal;\n}\n\n.ProseMirror [contenteditable="false"] [contenteditable="true"] {\n  white-space: pre-wrap;\n}\n\n.ProseMirror pre {\n  white-space: pre-wrap;\n}\n\nimg.ProseMirror-separator {\n  display: inline !important;\n  border: none !important;\n  margin: 0 !important;\n  width: 0 !important;\n  height: 0 !important;\n}\n\n.ProseMirror-gapcursor {\n  display: none;\n  pointer-events: none;\n  position: absolute;\n  margin: 0;\n}\n\n.ProseMirror-gapcursor:after {\n  content: "";\n  display: block;\n  position: absolute;\n  top: -2px;\n  width: 20px;\n  border-top: 1px solid black;\n  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;\n}\n\n@keyframes ProseMirror-cursor-blink {\n  to {\n    visibility: hidden;\n  }\n}\n\n.ProseMirror-hideselection *::selection {\n  background: transparent;\n}\n\n.ProseMirror-hideselection *::-moz-selection {\n  background: transparent;\n}\n\n.ProseMirror-hideselection * {\n  caret-color: transparent;\n}\n\n.ProseMirror-focused .ProseMirror-gapcursor {\n  display: block;\n}',document.getElementsByTagName("head")[0].appendChild(r),r}(0,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},this.editorView&&this.state&&!this.isDestroyed&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,t=!0){this.setOptions({editable:e}),t&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:e=>{this.editorState=e},dispatch:e=>{this.dispatchTransaction(e)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(e,t)=>{if(this.editorView)return this.editorView[t];if("state"===t)return this.editorState;if(t in e)return Reflect.get(e,t);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${t}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(e,t){const n=OT(t)?t(e,[...this.state.plugins]):[...this.state.plugins,e],r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}unregisterPlugin(e){if(this.isDestroyed)return;const t=this.state.plugins;let n=t;if([].concat(e).forEach(e=>{const t="string"==typeof e?`${e}$`:e.key;n=n.filter(e=>!e.key.startsWith(t))}),t.length===n.length)return;const r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}createExtensionManager(){var e,t;const n=[...this.options.enableCoreExtensions?[RE,jO.configure({blockSeparator:null==(t=null==(e=this.options.coreExtensionOptions)?void 0:e.clipboardTextSerializer)?void 0:t.blockSeparator}),DE,HE,zE,WE,IE,BE,LE].filter(e=>"object"!=typeof this.options.enableCoreExtensions||!1!==this.options.enableCoreExtensions[e.name]):[],...this.options.extensions].filter(e=>["extension","node","mark"].includes(null==e?void 0:e.type));this.extensionManager=new vO(n,this)}createCommandManager(){this.commandManager=new yT({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let e;try{e=ST(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(Ew){if(!(Ew instanceof Error&&["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(Ew.message)))throw Ew;this.emit("contentError",{editor:this,error:Ew,disableCollaboration:()=>{"collaboration"in this.storage&&"object"==typeof this.storage.collaboration&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(e=>"collaboration"!==e.name),this.createExtensionManager()}}),e=ST(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return e}createView(e){var t;this.editorView=new MA(e,{...this.options.editorProps,attributes:{role:"textbox",...null==(t=this.options.editorProps)?void 0:t.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const n=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(n),this.prependClass(),this.injectCSS(),this.view.dom.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const t=this.capturedTransaction;return this.capturedTransaction=null,t}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction)return this.capturedTransaction?void e.steps.forEach(e=>{var t;return null==(t=this.capturedTransaction)?void 0:t.step(e)}):void(this.capturedTransaction=e);const{state:t,transactions:n}=this.state.applyTransaction(e),r=!this.state.selection.eq(t.selection),a=n.includes(e),i=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:e,nextState:t}),!a)return;this.view.updateState(t),this.emit("transaction",{editor:this,transaction:e,appendedTransactions:n.slice(1)}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});const s=n.findLast(e=>e.getMeta("focus")||e.getMeta("blur")),o=null==s?void 0:s.getMeta("focus"),l=null==s?void 0:s.getMeta("blur");o&&this.emit("focus",{editor:this,event:o.event,transaction:s}),l&&this.emit("blur",{editor:this,event:l.event,transaction:s}),e.getMeta("preventUpdate")||!n.some(e=>e.docChanged)||i.doc.eq(t.doc)||this.emit("update",{editor:this,transaction:e,appendedTransactions:n.slice(1)})}getAttributes(e){return qT(this.state,e)}isActive(e,t){const n="string"==typeof e?e:null,r="string"==typeof e?t:e;return function(e,t,n={}){if(!t)return rO(e,null,n)||nO(e,null,n);const r=VT(t,e.schema);return"node"===r?rO(e,t,n):"mark"===r&&nO(e,t,n)}(this.state,n,r)}getJSON(){return this.state.doc.toJSON()}getHTML(){return TT(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:t="\n\n",textSerializers:n={}}=e||{};return function(e,t){return zT(e,{from:0,to:e.content.size},t)}(this.state.doc,{blockSeparator:t,textSerializers:{...BT(this.schema),...n}})}get isEmpty(){return sO(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var e,t;return null==(t=null==(e=this.editorView)?void 0:e.isDestroyed)||t}$node(e,t){var n;return(null==(n=this.$doc)?void 0:n.querySelector(e,t))||null}$nodes(e,t){var n;return(null==(n=this.$doc)?void 0:n.querySelectorAll(e,t))||null}$pos(e){const t=this.state.doc.resolve(e);return new $E(t,this)}get $doc(){return this.$pos(0)}};function VE(e){return new uO({find:e.find,handler:({state:t,range:n,match:r})=>{const a=ET(e.getAttributes,void 0,r);if(!1===a||null===a)return null;const{tr:i}=t,s=r[r.length-1],o=r[0];if(s){const r=o.search(/\S/),l=n.from+o.indexOf(s),c=l+s.length;if(ZT(n.from,n.to,t.doc).filter(t=>t.mark.type.excluded.find(n=>n===e.type&&n!==t.mark.type)).filter(e=>e.to>l).length)return null;c<n.to&&i.delete(c,n.to),l>n.from&&i.delete(n.from+r,l);const d=n.from+r+s.length;i.addMark(n.from+r,d,e.type.create(a||{})),i.removeStoredMark(e.type)}},undoable:e.undoable})}function qE(e){return new uO({find:e.find,handler:({state:t,range:n,match:r})=>{const a=ET(e.getAttributes,void 0,r)||{},{tr:i}=t,s=n.from;let o=n.to;const l=e.type.create(a);if(r[1]){let e=s+r[0].lastIndexOf(r[1]);e>o?e=o:o=e+r[1].length;const t=r[0][r[0].length-1];i.insertText(t,s+r[0].length-1),i.replaceWith(e,o,l)}else if(r[0]){const t=e.type.isInline?s:s-1;i.insert(t,e.type.create(a)).delete(i.mapping.map(s),i.mapping.map(o))}i.scrollIntoView()},undoable:e.undoable})}function GE(e){return new uO({find:e.find,handler:({state:t,range:n,match:r})=>{const a=t.doc.resolve(n.from),i=ET(e.getAttributes,void 0,r)||{};if(!a.node(-1).canReplaceWith(a.index(-1),a.indexAfter(-1),e.type))return null;t.tr.delete(n.from,n.to).setBlockType(n.from,n.from,e.type,i)},undoable:e.undoable})}function YE(e){return new uO({find:e.find,handler:({state:t,range:n,match:r,chain:a})=>{const i=ET(e.getAttributes,void 0,r)||{},s=t.tr.delete(n.from,n.to),o=s.doc.resolve(n.from).blockRange(),l=o&&Pk(o,e.type,i);if(!l)return null;if(s.wrap(o,l),e.keepMarks&&e.editor){const{selection:n,storedMarks:r}=t,{splittableMarks:a}=e.editor.extensionManager,i=r||n.$to.parentOffset&&n.$from.marks();if(i){const e=i.filter(e=>a.includes(e.type.name));s.ensureMarks(e)}}if(e.keepAttributes){const t="bulletList"===e.type.name||"orderedList"===e.type.name?"listItem":"taskList";a().updateAttributes(t,i).run()}const c=s.doc.resolve(n.from-1).nodeBefore;c&&c.type===e.type&&Fk(s.doc,n.from-1)&&(!e.joinPredicate||e.joinPredicate(r,c))&&s.join(n.from-1)},undoable:e.undoable})}var KE=class e extends fO{constructor(){super(...arguments),this.type="node"}static create(t={}){const n="function"==typeof t?t():t;return new e(n)}configure(e){return super.configure(e)}extend(e){const t="function"==typeof e?e():e;return super.extend(t)}};function JE(e){return new xO({find:e.find,handler:({state:t,range:n,match:r,pasteEvent:a})=>{const i=ET(e.getAttributes,void 0,r,a);if(!1===i||null===i)return null;const{tr:s}=t,o=r[r.length-1],l=r[0];let c=n.to;if(o){const r=l.search(/\S/),a=n.from+l.indexOf(o),d=a+o.length;if(ZT(n.from,n.to,t.doc).filter(t=>t.mark.type.excluded.find(n=>n===e.type&&n!==t.mark.type)).filter(e=>e.to>a).length)return null;d<n.to&&s.delete(d,n.to),a>n.from&&s.delete(n.from+r,a),c=n.from+r+o.length,s.addMark(n.from+r,c,e.type.create(i||{})),s.removeStoredMark(e.type)}}})}var XE=(e,t=0)=>{const n=[];return!e.children.length||t>20||Array.from(e.children).forEach(e=>{"SPAN"===e.tagName?n.push(e):e.children.length&&n.push(...XE(e,t+1))}),n},QE=gO.create({name:"textStyle",priority:101,addOptions:()=>({HTMLAttributes:{},mergeNestedSpanStyles:!0}),parseHTML(){return[{tag:"span",consuming:!1,getAttrs:e=>!!e.hasAttribute("style")&&(this.options.mergeNestedSpanStyles&&(e=>{if(!e.children.length)return;const t=XE(e);t&&t.forEach(e=>{var t,n;const r=e.getAttribute("style"),a=null==(n=null==(t=e.parentElement)?void 0:t.closest("span"))?void 0:n.getAttribute("style");e.setAttribute("style",`${a};${r}`)})})(e),{})}]},renderHTML({HTMLAttributes:e}){return["span",DT(this.options.HTMLAttributes,e),0]},addCommands(){return{toggleTextStyle:e=>({commands:t})=>t.toggleMark(this.name,e),removeEmptyTextStyle:()=>({tr:e})=>{const{selection:t}=e;return e.doc.nodesBetween(t.from,t.to,(t,n)=>{if(t.isTextblock)return!0;t.marks.filter(e=>e.type===this.type).some(e=>Object.values(e.attrs).some(e=>!!e))||e.removeMark(n,n+t.nodeSize,this.type)}),!0}}}}),ZE=wO.create({name:"backgroundColor",addOptions:()=>({types:["textStyle"]}),addGlobalAttributes(){return[{types:this.options.types,attributes:{backgroundColor:{default:null,parseHTML:e=>{var t;const n=e.getAttribute("style");if(n){const e=n.split(";").map(e=>e.trim()).filter(Boolean);for(let t=e.length-1;t>=0;t-=1){const n=e[t].split(":");if(n.length>=2){const e=n[0].trim().toLowerCase(),t=n.slice(1).join(":").trim();if("background-color"===e)return t.replace(/['"]+/g,"")}}}return null==(t=e.style.backgroundColor)?void 0:t.replace(/['"]+/g,"")},renderHTML:e=>e.backgroundColor?{style:`background-color: ${e.backgroundColor}`}:{}}}}]},addCommands:()=>({setBackgroundColor:e=>({chain:t})=>t().setMark("textStyle",{backgroundColor:e}).run(),unsetBackgroundColor:()=>({chain:e})=>e().setMark("textStyle",{backgroundColor:null}).removeEmptyTextStyle().run()})}),eM=wO.create({name:"color",addOptions:()=>({types:["textStyle"]}),addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:e=>{var t;const n=e.getAttribute("style");if(n){const e=n.split(";").map(e=>e.trim()).filter(Boolean);for(let t=e.length-1;t>=0;t-=1){const n=e[t].split(":");if(n.length>=2){const e=n[0].trim().toLowerCase(),t=n.slice(1).join(":").trim();if("color"===e)return t.replace(/['"]+/g,"")}}}return null==(t=e.style.color)?void 0:t.replace(/['"]+/g,"")},renderHTML:e=>e.color?{style:`color: ${e.color}`}:{}}}}]},addCommands:()=>({setColor:e=>({chain:t})=>t().setMark("textStyle",{color:e}).run(),unsetColor:()=>({chain:e})=>e().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()})}),tM=wO.create({name:"fontFamily",addOptions:()=>({types:["textStyle"]}),addGlobalAttributes(){return[{types:this.options.types,attributes:{fontFamily:{default:null,parseHTML:e=>e.style.fontFamily,renderHTML:e=>e.fontFamily?{style:`font-family: ${e.fontFamily}`}:{}}}}]},addCommands:()=>({setFontFamily:e=>({chain:t})=>t().setMark("textStyle",{fontFamily:e}).run(),unsetFontFamily:()=>({chain:e})=>e().setMark("textStyle",{fontFamily:null}).removeEmptyTextStyle().run()})}),nM=wO.create({name:"fontSize",addOptions:()=>({types:["textStyle"]}),addGlobalAttributes(){return[{types:this.options.types,attributes:{fontSize:{default:null,parseHTML:e=>e.style.fontSize,renderHTML:e=>e.fontSize?{style:`font-size: ${e.fontSize}`}:{}}}}]},addCommands:()=>({setFontSize:e=>({chain:t})=>t().setMark("textStyle",{fontSize:e}).run(),unsetFontSize:()=>({chain:e})=>e().setMark("textStyle",{fontSize:null}).removeEmptyTextStyle().run()})}),rM=wO.create({name:"lineHeight",addOptions:()=>({types:["textStyle"]}),addGlobalAttributes(){return[{types:this.options.types,attributes:{lineHeight:{default:null,parseHTML:e=>e.style.lineHeight,renderHTML:e=>e.lineHeight?{style:`line-height: ${e.lineHeight}`}:{}}}}]},addCommands:()=>({setLineHeight:e=>({chain:t})=>t().setMark("textStyle",{lineHeight:e}).run(),unsetLineHeight:()=>({chain:e})=>e().setMark("textStyle",{lineHeight:null}).removeEmptyTextStyle().run()})}),aM=wO.create({name:"textStyleKit",addExtensions(){const e=[];return!1!==this.options.backgroundColor&&e.push(ZE.configure(this.options.backgroundColor)),!1!==this.options.color&&e.push(eM.configure(this.options.color)),!1!==this.options.fontFamily&&e.push(tM.configure(this.options.fontFamily)),!1!==this.options.fontSize&&e.push(nM.configure(this.options.fontSize)),!1!==this.options.lineHeight&&e.push(rM.configure(this.options.lineHeight)),!1!==this.options.textStyle&&e.push(QE.configure(this.options.textStyle)),e}}),iM=wO.create({name:"textAlign",addOptions:()=>({types:[],alignments:["left","center","right","justify"],defaultAlignment:null}),addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:e=>{const t=e.style.textAlign;return this.options.alignments.includes(t)?t:this.options.defaultAlignment},renderHTML:e=>e.textAlign?{style:`text-align: ${e.textAlign}`}:{}}}}]},addCommands(){return{setTextAlign:e=>({commands:t})=>!!this.options.alignments.includes(e)&&this.options.types.map(n=>t.updateAttributes(n,{textAlign:e})).every(e=>e),unsetTextAlign:()=>({commands:e})=>this.options.types.map(t=>e.resetAttributes(t,"textAlign")).every(e=>e),toggleTextAlign:e=>({editor:t,commands:n})=>!!this.options.alignments.includes(e)&&(t.isActive({textAlign:e})?n.unsetTextAlign():n.setTextAlign(e))}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),sM=eM,oM=tM;const lM="numeric",cM="ascii",dM="alpha",uM="asciinumeric",hM="alphanumeric",pM="domain",mM="emoji",fM="scheme",gM="slashscheme",xM="whitespace";function bM(e,t){return e in t||(t[e]=[]),t[e]}function yM(e,t,n){t[lM]&&(t[uM]=!0,t[hM]=!0),t[cM]&&(t[uM]=!0,t[dM]=!0),t[uM]&&(t[hM]=!0),t[dM]&&(t[hM]=!0),t[hM]&&(t[pM]=!0),t[mM]&&(t[pM]=!0);for(const r in t){const t=bM(r,n);t.indexOf(e)<0&&t.push(e)}}function vM(e=null){this.j={},this.jr=[],this.jd=null,this.t=e}vM.groups={},vM.prototype={accepts(){return!!this.t},go(e){const t=this,n=t.j[e];if(n)return n;for(let r=0;r<t.jr.length;r++){const n=t.jr[r][0],a=t.jr[r][1];if(a&&n.test(e))return a}return t.jd},has(e,t=!1){return t?e in this.j:!!this.go(e)},ta(e,t,n,r){for(let a=0;a<e.length;a++)this.tt(e[a],t,n,r)},tr(e,t,n,r){let a;return r=r||vM.groups,t&&t.j?a=t:(a=new vM(t),n&&r&&yM(t,n,r)),this.jr.push([e,a]),a},ts(e,t,n,r){let a=this;const i=e.length;if(!i)return a;for(let s=0;s<i-1;s++)a=a.tt(e[s]);return a.tt(e[i-1],t,n,r)},tt(e,t,n,r){r=r||vM.groups;const a=this;if(t&&t.j)return a.j[e]=t,t;const i=t;let s,o=a.go(e);if(o?(s=new vM,Object.assign(s.j,o.j),s.jr.push.apply(s.jr,o.jr),s.jd=o.jd,s.t=o.t):s=new vM,i){if(r)if(s.t&&"string"==typeof s.t){const e=Object.assign(function(e,t){const n={};for(const r in t)t[r].indexOf(e)>=0&&(n[r]=!0);return n}(s.t,r),n);yM(i,e,r)}else n&&yM(i,n,r);s.t=i}return a.j[e]=s,s}};const wM=(e,t,n,r,a)=>e.ta(t,n,r,a),jM=(e,t,n,r,a)=>e.tr(t,n,r,a),NM=(e,t,n,r,a)=>e.ts(t,n,r,a),kM=(e,t,n,r,a)=>e.tt(t,n,r,a),SM="WORD",CM="UWORD",_M="ASCIINUMERICAL",AM="ALPHANUMERICAL",TM="LOCALHOST",OM="TLD",EM="UTLD",MM="SCHEME",PM="SLASH_SCHEME",DM="NUM",LM="WS",IM="NL",RM="OPENBRACE",FM="CLOSEBRACE",HM="OPENBRACKET",zM="CLOSEBRACKET",BM="OPENPAREN",WM="CLOSEPAREN",$M="OPENANGLEBRACKET",UM="CLOSEANGLEBRACKET",VM="FULLWIDTHLEFTPAREN",qM="FULLWIDTHRIGHTPAREN",GM="LEFTCORNERBRACKET",YM="RIGHTCORNERBRACKET",KM="LEFTWHITECORNERBRACKET",JM="RIGHTWHITECORNERBRACKET",XM="FULLWIDTHLESSTHAN",QM="FULLWIDTHGREATERTHAN",ZM="AMPERSAND",eP="APOSTROPHE",tP="ASTERISK",nP="AT",rP="BACKSLASH",aP="BACKTICK",iP="CARET",sP="COLON",oP="COMMA",lP="DOLLAR",cP="DOT",dP="EQUALS",uP="EXCLAMATION",hP="HYPHEN",pP="PERCENT",mP="PIPE",fP="PLUS",gP="POUND",xP="QUERY",bP="QUOTE",yP="FULLWIDTHMIDDLEDOT",vP="SEMI",wP="SLASH",jP="TILDE",NP="UNDERSCORE",kP="EMOJI",SP="SYM";var CP=Object.freeze({__proto__:null,ALPHANUMERICAL:AM,AMPERSAND:ZM,APOSTROPHE:eP,ASCIINUMERICAL:_M,ASTERISK:tP,AT:nP,BACKSLASH:rP,BACKTICK:aP,CARET:iP,CLOSEANGLEBRACKET:UM,CLOSEBRACE:FM,CLOSEBRACKET:zM,CLOSEPAREN:WM,COLON:sP,COMMA:oP,DOLLAR:lP,DOT:cP,EMOJI:kP,EQUALS:dP,EXCLAMATION:uP,FULLWIDTHGREATERTHAN:QM,FULLWIDTHLEFTPAREN:VM,FULLWIDTHLESSTHAN:XM,FULLWIDTHMIDDLEDOT:yP,FULLWIDTHRIGHTPAREN:qM,HYPHEN:hP,LEFTCORNERBRACKET:GM,LEFTWHITECORNERBRACKET:KM,LOCALHOST:TM,NL:IM,NUM:DM,OPENANGLEBRACKET:$M,OPENBRACE:RM,OPENBRACKET:HM,OPENPAREN:BM,PERCENT:pP,PIPE:mP,PLUS:fP,POUND:gP,QUERY:xP,QUOTE:bP,RIGHTCORNERBRACKET:YM,RIGHTWHITECORNERBRACKET:JM,SCHEME:MM,SEMI:vP,SLASH:wP,SLASH_SCHEME:PM,SYM:SP,TILDE:jP,TLD:OM,UNDERSCORE:NP,UTLD:EM,UWORD:CM,WORD:SM,WS:LM});const _P=/[a-z]/,AP=/\p{L}/u,TP=/\p{Emoji}/u,OP=/\d/,EP=/\s/;let MP=null,PP=null;function DP(e,t){const n=function(e){const t=[],n=e.length;let r=0;for(;r<n;){let a,i=e.charCodeAt(r),s=i<55296||i>56319||r+1===n||(a=e.charCodeAt(r+1))<56320||a>57343?e[r]:e.slice(r,r+2);t.push(s),r+=s.length}return t}(t.replace(/[A-Z]/g,e=>e.toLowerCase())),r=n.length,a=[];let i=0,s=0;for(;s<r;){let o=e,l=null,c=0,d=null,u=-1,h=-1;for(;s<r&&(l=o.go(n[s]));)o=l,o.accepts()?(u=0,h=0,d=o):u>=0&&(u+=n[s].length,h++),c+=n[s].length,i+=n[s].length,s++;i-=u,s-=h,c-=u,a.push({t:d.t,v:t.slice(i-c,i),s:i-c,e:i})}return a}function LP(e,t,n,r,a){let i;const s=t.length;for(let o=0;o<s-1;o++){const n=t[o];e.j[n]?i=e.j[n]:(i=new vM(r),i.jr=a.slice(),e.j[n]=i),e=i}return i=new vM(n),i.jr=a.slice(),e.j[t[s-1]]=i,i}function IP(e){const t=[],n=[];let r=0;for(;r<e.length;){let a=0;for(;"0123456789".indexOf(e[r+a])>=0;)a++;if(a>0){t.push(n.join(""));for(let t=parseInt(e.substring(r,r+a),10);t>0;t--)n.pop();r+=a}else n.push(e[r]),r++}return t}const RP={defaultProtocol:"http",events:null,format:HP,formatHref:HP,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function FP(e,t=null){let n=Object.assign({},RP);e&&(n=Object.assign(n,e instanceof FP?e.o:e));const r=n.ignoreTags,a=[];for(let i=0;i<r.length;i++)a.push(r[i].toUpperCase());this.o=n,t&&(this.defaultRender=t),this.ignoreTags=a}function HP(e){return e}function zP(e,t){this.t="token",this.v=e,this.tk=t}function BP(e,t){class n extends zP{constructor(t,n){super(t,n),this.t=e}}for(const r in t)n.prototype[r]=t[r];return n.t=e,n}FP.prototype={o:RP,ignoreTags:[],defaultRender:e=>e,check(e){return this.get("validate",e.toString(),e)},get(e,t,n){const r=null!=t;let a=this.o[e];return a?("object"==typeof a?(a=n.t in a?a[n.t]:RP[e],"function"==typeof a&&r&&(a=a(t,n))):"function"==typeof a&&r&&(a=a(t,n.t,n)),a):a},getObj(e,t,n){let r=this.o[e];return"function"==typeof r&&null!=t&&(r=r(t,n.t,n)),r},render(e){const t=e.render(this);return(this.get("render",null,e)||this.defaultRender)(t,e.t,e)}},zP.prototype={isLink:!1,toString(){return this.v},toHref(e){return this.toString()},toFormattedString(e){const t=this.toString(),n=e.get("truncate",t,this),r=e.get("format",t,this);return n&&r.length>n?r.substring(0,n)+"…":r},toFormattedHref(e){return e.get("formatHref",this.toHref(e.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(e=RP.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(e),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(e){return{type:this.t,value:this.toFormattedString(e),isLink:this.isLink,href:this.toFormattedHref(e),start:this.startIndex(),end:this.endIndex()}},validate(e){return e.get("validate",this.toString(),this)},render(e){const t=this,n=this.toHref(e.get("defaultProtocol")),r=e.get("formatHref",n,this),a=e.get("tagName",n,t),i=this.toFormattedString(e),s={},o=e.get("className",n,t),l=e.get("target",n,t),c=e.get("rel",n,t),d=e.getObj("attributes",n,t),u=e.getObj("events",n,t);return s.href=r,o&&(s.class=o),l&&(s.target=l),c&&(s.rel=c),d&&Object.assign(s,d),{tagName:a,attributes:s,content:i,eventListeners:u}}};const WP=BP("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),$P=BP("text"),UP=BP("nl"),VP=BP("url",{isLink:!0,toHref(e=RP.defaultProtocol){return this.hasProtocol()?this.v:`${e}://${this.v}`},hasProtocol(){const e=this.tk;return e.length>=2&&e[0].t!==TM&&e[1].t===sP}}),qP=e=>new vM(e);function GP(e,t,n){const r=n[0].s,a=n[n.length-1].e;return new e(t.slice(r,a),n)}const YP="undefined"!=typeof console&&console&&console.warn||(()=>{}),KP={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function JP(e,t=!1){if(KP.initialized&&YP(`linkifyjs: already initialized - will not register custom scheme "${e}" until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(e))throw new Error('linkifyjs: incorrect scheme format.\n1. Must only contain digits, lowercase ASCII letters or "-"\n2. Cannot start or end with "-"\n3. "-" cannot repeat');KP.customSchemes.push([e,t])}function XP(e){return KP.initialized||function(){KP.scanner=function(e=[]){const t={};vM.groups=t;const n=new vM;null==MP&&(MP=IP("aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mögensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2")),null==PP&&(PP=IP("ελ1υ2бг1ел3дети4ею2католик6ом3мкд2он1сква6онлайн5рг3рус2ф2сайт3рб3укр3қаз3հայ3ישראל5קום3ابوظبي5رامكو5لاردن4بحرين5جزائر5سعودية6عليان5مغرب5مارات5یران5بارت2زار4يتك3ھارت5تونس4سودان3رية5شبكة4عراق2ب2مان4فلسطين6قطر3كاثوليك6وم3مصر2ليسيا5وريتانيا7قع4همراه5پاکستان7ڀارت4कॉम3नेट3भारत0म्3ोत5संगठन5বাংলা5ভারত2ৰত4ਭਾਰਤ4ભારત4ଭାରତ4இந்தியா6லங்கை6சிங்கப்பூர்11భారత్5ಭಾರತ4ഭാരതം5ලංකා4คอม3ไทย3ລາວ3გე2みんな3アマゾン4クラウド4グーグル4コム2ストア3セール3ファッション6ポイント4世界2中信1国1國1文网3亚马逊3企业2佛山2信息2健康2八卦2公司1益2台湾1灣2商城1店1标2嘉里0大酒店5在线2大拿2天主教3娱乐2家電2广东2微博2慈善2我爱你3手机2招聘2政务1府2新加坡2闻2时尚2書籍2机构2淡马锡3游戏2澳門2点看2移动2组织机构4网址1店1站1络2联通2谷歌2购物2通販2集团2電訊盈科4飞利浦3食品2餐厅2香格里拉3港2닷넷1컴2삼성2한국2")),kM(n,"'",eP),kM(n,"{",RM),kM(n,"}",FM),kM(n,"[",HM),kM(n,"]",zM),kM(n,"(",BM),kM(n,")",WM),kM(n,"<",$M),kM(n,">",UM),kM(n,"（",VM),kM(n,"）",qM),kM(n,"「",GM),kM(n,"」",YM),kM(n,"『",KM),kM(n,"』",JM),kM(n,"＜",XM),kM(n,"＞",QM),kM(n,"&",ZM),kM(n,"*",tP),kM(n,"@",nP),kM(n,"`",aP),kM(n,"^",iP),kM(n,":",sP),kM(n,",",oP),kM(n,"$",lP),kM(n,".",cP),kM(n,"=",dP),kM(n,"!",uP),kM(n,"-",hP),kM(n,"%",pP),kM(n,"|",mP),kM(n,"+",fP),kM(n,"#",gP),kM(n,"?",xP),kM(n,'"',bP),kM(n,"/",wP),kM(n,";",vP),kM(n,"~",jP),kM(n,"_",NP),kM(n,"\\",rP),kM(n,"・",yP);const r=jM(n,OP,DM,{[lM]:!0});jM(r,OP,r);const a=jM(r,_P,_M,{[uM]:!0}),i=jM(r,AP,AM,{[hM]:!0}),s=jM(n,_P,SM,{[cM]:!0});jM(s,OP,a),jM(s,_P,s),jM(a,OP,a),jM(a,_P,a);const o=jM(n,AP,CM,{[dM]:!0});jM(o,_P),jM(o,OP,i),jM(o,AP,o),jM(i,OP,i),jM(i,_P),jM(i,AP,i);const l=kM(n,"\n",IM,{[xM]:!0}),c=kM(n,"\r",LM,{[xM]:!0}),d=jM(n,EP,LM,{[xM]:!0});kM(n,"￼",d),kM(c,"\n",l),kM(c,"￼",d),jM(c,EP,d),kM(d,"\r"),kM(d,"\n"),jM(d,EP,d),kM(d,"￼",d);const u=jM(n,TP,kP,{[mM]:!0});kM(u,"#"),jM(u,TP,u),kM(u,"️",u);const h=kM(u,"‍");kM(h,"#"),jM(h,TP,u);const p=[[_P,s],[OP,a]],m=[[_P,null],[AP,o],[OP,i]];for(let f=0;f<MP.length;f++)LP(n,MP[f],OM,SM,p);for(let f=0;f<PP.length;f++)LP(n,PP[f],EM,CM,m);yM(OM,{tld:!0,ascii:!0},t),yM(EM,{utld:!0,alpha:!0},t),LP(n,"file",MM,SM,p),LP(n,"mailto",MM,SM,p),LP(n,"http",PM,SM,p),LP(n,"https",PM,SM,p),LP(n,"ftp",PM,SM,p),LP(n,"ftps",PM,SM,p),yM(MM,{scheme:!0,ascii:!0},t),yM(PM,{slashscheme:!0,ascii:!0},t),e=e.sort((e,t)=>e[0]>t[0]?1:-1);for(let f=0;f<e.length;f++){const t=e[f][0],r=e[f][1]?{[fM]:!0}:{[gM]:!0};t.indexOf("-")>=0?r[pM]=!0:_P.test(t)?OP.test(t)?r[uM]=!0:r[cM]=!0:r[lM]=!0,NM(n,t,t,r)}return NM(n,"localhost",TM,{ascii:!0}),n.jd=new vM(SP),{start:n,tokens:Object.assign({groups:t},CP)}}(KP.customSchemes);for(let e=0;e<KP.tokenQueue.length;e++)KP.tokenQueue[e][1]({scanner:KP.scanner});KP.parser=function({groups:e}){const t=e.domain.concat([ZM,tP,nP,rP,aP,iP,lP,dP,hP,DM,pP,mP,fP,gP,wP,SP,jP,NP]),n=[eP,sP,oP,cP,uP,pP,xP,bP,vP,$M,UM,RM,FM,zM,HM,BM,WM,VM,qM,GM,YM,KM,JM,XM,QM],r=[ZM,eP,tP,rP,aP,iP,lP,dP,hP,RM,FM,pP,mP,fP,gP,xP,wP,SP,jP,NP],a=qP(),i=kM(a,jP);wM(i,r,i),wM(i,e.domain,i);const s=qP(),o=qP(),l=qP();wM(a,e.domain,s),wM(a,e.scheme,o),wM(a,e.slashscheme,l),wM(s,r,i),wM(s,e.domain,s);const c=kM(s,nP);kM(i,nP,c),kM(o,nP,c),kM(l,nP,c);const d=kM(i,cP);wM(d,r,i),wM(d,e.domain,i);const u=qP();wM(c,e.domain,u),wM(u,e.domain,u);const h=kM(u,cP);wM(h,e.domain,u);const p=qP(WP);wM(h,e.tld,p),wM(h,e.utld,p),kM(c,TM,p);const m=kM(u,hP);kM(m,hP,m),wM(m,e.domain,u),wM(p,e.domain,u),kM(p,cP,h),kM(p,hP,m);const f=kM(p,sP);wM(f,e.numeric,WP);const g=kM(s,hP),x=kM(s,cP);kM(g,hP,g),wM(g,e.domain,s),wM(x,r,i),wM(x,e.domain,s);const b=qP(VP);wM(x,e.tld,b),wM(x,e.utld,b),wM(b,e.domain,s),wM(b,r,i),kM(b,cP,x),kM(b,hP,g),kM(b,nP,c);const y=kM(b,sP),v=qP(VP);wM(y,e.numeric,v);const w=qP(VP),j=qP();wM(w,t,w),wM(w,n,j),wM(j,t,w),wM(j,n,j),kM(b,wP,w),kM(v,wP,w);const N=kM(o,sP),k=kM(l,sP),S=kM(k,wP),C=kM(S,wP);wM(o,e.domain,s),kM(o,cP,x),kM(o,hP,g),wM(l,e.domain,s),kM(l,cP,x),kM(l,hP,g),wM(N,e.domain,w),kM(N,wP,w),kM(N,xP,w),wM(C,e.domain,w),wM(C,t,w),kM(C,wP,w);const _=[[RM,FM],[HM,zM],[BM,WM],[$M,UM],[VM,qM],[GM,YM],[KM,JM],[XM,QM]];for(let A=0;A<_.length;A++){const[e,r]=_[A],a=kM(w,e);kM(j,e,a),kM(a,r,w);const i=qP(VP);wM(a,t,i);const s=qP();wM(a,n),wM(i,t,i),wM(i,n,s),wM(s,t,i),wM(s,n,s),kM(i,r,w),kM(s,r,w)}return kM(a,TM,b),kM(a,IM,UP),{start:a,tokens:CP}}(KP.scanner.tokens);for(let e=0;e<KP.pluginQueue.length;e++)KP.pluginQueue[e][1]({scanner:KP.scanner,parser:KP.parser});KP.initialized=!0}(),function(e,t,n){let r=n.length,a=0,i=[],s=[];for(;a<r;){let o=e,l=null,c=null,d=0,u=null,h=-1;for(;a<r&&!(l=o.go(n[a].t));)s.push(n[a++]);for(;a<r&&(c=l||o.go(n[a].t));)l=null,o=c,o.accepts()?(h=0,u=o):h>=0&&h++,a++,d++;if(h<0)a-=d,a<r&&(s.push(n[a]),a++);else{s.length>0&&(i.push(GP($P,t,s)),s=[]),a-=h,d-=h;const e=u.t,r=n.slice(a-d,a);i.push(GP(e,t,r))}}return s.length>0&&i.push(GP($P,t,s)),i}(KP.parser.start,e,DP(KP.scanner.start,e))}function QP(e,t=null,n=null){if(t&&"object"==typeof t){if(n)throw Error(`linkifyjs: Invalid link type ${t}; must be a string`);n=t,t=null}const r=new FP(n),a=XP(e),i=[];for(let s=0;s<a.length;s++){const e=a[s];!e.isLink||t&&e.t!==t||!r.check(e)||i.push(e.toFormattedObject(r))}return i}XP.scan=DP;var ZP="[\0-   ᠎ -\u2029 　]",eD=new RegExp(ZP),tD=new RegExp(`${ZP}$`),nD=new RegExp(ZP,"g");function rD(e,t){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return t&&t.forEach(e=>{const t="string"==typeof e?e:e.scheme;t&&n.push(t)}),!e||e.replace(nD,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var aD,iD,sD=gO.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate),this.options.protocols.forEach(e=>{"string"!=typeof e?JP(e.scheme,e.optionalSlashes):JP(e)})},onDestroy(){vM.groups={},KP.scanner=null,KP.parser=null,KP.tokenQueue=[],KP.pluginQueue=[],KP.customSchemes=[],KP.initialized=!1},inclusive(){return this.options.autolink},addOptions:()=>({openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(e,t)=>!!rD(e,t.protocols),validate:e=>!!e,shouldAutoLink:e=>!!e}),addAttributes(){return{href:{default:null,parseHTML:e=>e.getAttribute("href")},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:e=>{const t=e.getAttribute("href");return!(!t||!this.options.isAllowedUri(t,{defaultValidate:e=>!!rD(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol}))&&null}}]},renderHTML({HTMLAttributes:e}){return this.options.isAllowedUri(e.href,{defaultValidate:e=>!!rD(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",DT(this.options.HTMLAttributes,e),0]:["a",DT(this.options.HTMLAttributes,{...e,href:""}),0]},addCommands(){return{setLink:e=>({chain:t})=>{const{href:n}=e;return!!this.options.isAllowedUri(n,{defaultValidate:e=>!!rD(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})&&t().setMark(this.name,e).setMeta("preventAutolink",!0).run()},toggleLink:e=>({chain:t})=>{const{href:n}=e||{};return!(n&&!this.options.isAllowedUri(n,{defaultValidate:e=>!!rD(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol}))&&t().toggleMark(this.name,e,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:e})=>e().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[JE({find:e=>{const t=[];if(e){const{protocols:n,defaultProtocol:r}=this.options,a=QP(e).filter(e=>e.isLink&&this.options.isAllowedUri(e.value,{defaultValidate:e=>!!rD(e,n),protocols:n,defaultProtocol:r}));a.length&&a.forEach(e=>t.push({text:e.value,data:{href:e.href},index:e.start}))}return t},type:this.type,getAttributes:e=>{var t;return{href:null==(t=e.data)?void 0:t.href}}})]},addProseMirrorPlugins(){const e=[],{protocols:t,defaultProtocol:n}=this.options;var r;return this.options.autolink&&e.push((r={type:this.type,defaultProtocol:this.options.defaultProtocol,validate:e=>this.options.isAllowedUri(e,{defaultValidate:e=>!!rD(e,t),protocols:t,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink},new NS({key:new CS("autolink"),appendTransaction:(e,t,n)=>{const a=e.some(e=>e.docChanged)&&!t.doc.eq(n.doc),i=e.some(e=>e.getMeta("preventAutolink"));if(!a||i)return;const{tr:s}=n;return GT(wT(t.doc,[...e])).forEach(({newRange:e})=>{const t=function(e,t){const n=[];return e.nodesBetween(t.from,t.to,(e,t)=>{(e=>e.isTextblock)(e)&&n.push({node:e,pos:t})}),n}(n.doc,e);let a,i;if(t.length>1)a=t[0],i=n.doc.textBetween(a.pos,a.pos+a.node.nodeSize,void 0," ");else if(t.length){const r=n.doc.textBetween(e.from,e.to," "," ");if(!tD.test(r))return;a=t[0],i=n.doc.textBetween(a.pos,e.to,void 0," ")}if(a&&i){const e=i.split(eD).filter(Boolean);if(e.length<=0)return!1;const t=e[e.length-1],l=a.pos+i.lastIndexOf(t);if(!t)return!1;const c=XP(t).map(e=>e.toObject(r.defaultProtocol));if(!(1===(o=c).length?o[0].isLink:3===o.length&&o[1].isLink&&["()","[]"].includes(o[0].value+o[2].value)))return!1;c.filter(e=>e.isLink).map(e=>({...e,from:l+e.start+1,to:l+e.end+1})).filter(e=>!n.schema.marks.code||!n.doc.rangeHasMark(e.from,e.to,n.schema.marks.code)).filter(e=>r.validate(e.value)).filter(e=>r.shouldAutoLink(e.value)).forEach(e=>{ZT(e.from,e.to,n.doc).some(e=>e.mark.type===r.type)||s.addMark(e.from,e.to,r.type.create({href:e.href}))})}var o}),s.steps.length?s:void 0}}))),!0===this.options.openOnClick&&e.push(function(e){return new NS({key:new CS("handleClickLink"),props:{handleClick:(t,n,r)=>{var a,i;if(0!==r.button)return!1;if(!t.editable)return!1;let s=null;if(r.target instanceof HTMLAnchorElement)s=r.target;else{let e=r.target;const t=[];for(;"DIV"!==e.nodeName;)t.push(e),e=e.parentNode;s=t.find(e=>"A"===e.nodeName)}if(!s)return!1;const o=qT(t.state,e.type.name),l=null!=(a=null==s?void 0:s.href)?a:o.href,c=null!=(i=null==s?void 0:s.target)?i:o.target;return e.enableClickSelection&&e.editor.commands.extendMarkRange(e.type.name),!(!s||!l||(window.open(l,c),0))}}})}({type:this.type,editor:this.editor,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&e.push(function(e){return new NS({key:new CS("handlePasteLink"),props:{handlePaste:(t,n,r)=>{const{state:a}=t,{selection:i}=a,{empty:s}=i;if(s)return!1;let o="";r.content.forEach(e=>{o+=e.textContent});const l=QP(o,{defaultProtocol:e.defaultProtocol}).find(e=>e.isLink&&e.value===o);return!(!o||!l)&&e.editor.commands.setMark(e.type,{href:l.href})}}})}({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type})),e}}),oD=sD,lD={exports:{}},cD={};function dD(){return iD||(iD=1,lD.exports=function(){if(aD)return cD;aD=1;var e=g(),t="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},n=e.useState,r=e.useEffect,a=e.useLayoutEffect,i=e.useDebugValue;function s(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!t(e,r)}catch(a){return!0}}var o="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var o=t(),l=n({inst:{value:o,getSnapshot:t}}),c=l[0].inst,d=l[1];return a(function(){c.value=o,c.getSnapshot=t,s(c)&&d({inst:c})},[e,o,t]),r(function(){return s(c)&&d({inst:c}),e(function(){s(c)&&d({inst:c})})},[e]),i(o),o};return cD.useSyncExternalStore=void 0!==e.useSyncExternalStore?e.useSyncExternalStore:o,cD}()),lD.exports}var uD,hD,pD=dD();const mD=i(hD?uD:(hD=1,uD=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,a,i;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(a=r;0!==a--;)if(!e(t[a],n[a]))return!1;return!0}if(t instanceof Map&&n instanceof Map){if(t.size!==n.size)return!1;for(a of t.entries())if(!n.has(a[0]))return!1;for(a of t.entries())if(!e(a[1],n.get(a[0])))return!1;return!0}if(t instanceof Set&&n instanceof Set){if(t.size!==n.size)return!1;for(a of t.entries())if(!n.has(a[0]))return!1;return!0}if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(n)){if((r=t.length)!=n.length)return!1;for(a=r;0!==a--;)if(t[a]!==n[a])return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(i=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(a=r;0!==a--;)if(!Object.prototype.hasOwnProperty.call(n,i[a]))return!1;for(a=r;0!==a--;){var s=i[a];if(!("_owner"===s&&t.$$typeof||e(t[s],n[s])))return!1}return!0}return t!=t&&n!=n}));var fD,gD,xD={exports:{}},bD={},yD=(gD||(gD=1,xD.exports=function(){if(fD)return bD;fD=1;var e=g(),t=dD(),n="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},r=t.useSyncExternalStore,a=e.useRef,i=e.useEffect,s=e.useMemo,o=e.useDebugValue;return bD.useSyncExternalStoreWithSelector=function(e,t,l,c,d){var u=a(null);if(null===u.current){var h={hasValue:!1,value:null};u.current=h}else h=u.current;u=s(function(){function e(e){if(!i){if(i=!0,r=e,e=c(e),void 0!==d&&h.hasValue){var t=h.value;if(d(t,e))return a=t}return a=e}if(t=a,n(r,e))return t;var s=c(e);return void 0!==d&&d(t,s)?(r=e,t):(r=e,a=s)}var r,a,i=!1,s=void 0===l?null:l;return[function(){return e(t())},null===s?void 0:function(){return e(s())}]},[t,l,c,d]);var p=r(e,u[0],u[1]);return i(function(){h.hasValue=!0,h.value=p},[p]),o(p),p},bD}()),xD.exports),vD=(...e)=>t=>{e.forEach(e=>{"function"==typeof e?e(t):e&&(e.current=t)})},wD=({contentComponent:e})=>{const t=pD.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getServerSnapshot);return h.jsx(h.Fragment,{children:Object.values(t)})},jD=class extends b.Component{constructor(e){var t;super(e),this.editorContentRef=b.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:Boolean(null==(t=e.editor)?void 0:t.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const e=this.props.editor;if(e&&!e.isDestroyed&&e.options.element){if(e.contentComponent)return;const t=this.editorContentRef.current;t.append(e.view.dom),e.setOptions({element:t}),e.contentComponent=function(){const e=new Set;let t={};return{subscribe:t=>(e.add(t),()=>{e.delete(t)}),getSnapshot:()=>t,getServerSnapshot:()=>t,setRenderer(n,r){t={...t,[n]:dt.createPortal(r.reactElement,r.element,n)},e.forEach(e=>e())},removeRenderer(n){const r={...t};delete r[n],t=r,e.forEach(e=>e())}}}(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(e=>e.hasContentComponentInitialized?e:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var e;const t=this.props.editor;if(t){this.initialized=!1,t.isDestroyed||t.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),t.contentComponent=null;try{if(!(null==(e=t.view.dom)?void 0:e.firstChild))return;const n=document.createElement("div");n.append(t.view.dom),t.setOptions({element:n})}catch(Ew){}}}render(){const{editor:e,innerRef:t,...n}=this.props;return h.jsxs(h.Fragment,{children:[h.jsx("div",{ref:vD(t,this.editorContentRef),...n}),(null==e?void 0:e.contentComponent)&&h.jsx(wD,{contentComponent:e.contentComponent})]})}},ND=x.forwardRef((e,t)=>{const n=b.useMemo(()=>Math.floor(4294967295*Math.random()).toString(),[e.editor]);return b.createElement(jD,{key:n,innerRef:t,...e})}),kD=b.memo(ND),SD="undefined"!=typeof window?x.useLayoutEffect:x.useEffect,CD=class{constructor(e){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=e,this.lastSnapshot={editor:e,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber||(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber}),this.lastSnapshot}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(e){return this.subscribers.add(e),()=>{this.subscribers.delete(e)}}watch(e){if(this.editor=e,this.editor){const e=()=>{this.transactionNumber+=1,this.subscribers.forEach(e=>e())},t=this.editor;return t.on("transaction",e),()=>{t.off("transaction",e)}}}};function _D(e){var t;const[n]=x.useState(()=>new CD(e.editor)),r=yD.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,e.selector,null!=(t=e.equalityFn)?t:mD);return SD(()=>n.watch(e.editor),[e.editor,n]),x.useDebugValue(r),r}var AD="undefined"==typeof window,TD=AD||Boolean("undefined"!=typeof window&&window.next),OD=class e{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(e=>e())}getInitialEditor(){return void 0===this.options.current.immediatelyRender?AD||TD?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...e)=>{var t,n;return null==(n=(t=this.options.current).onBeforeCreate)?void 0:n.call(t,...e)},onBlur:(...e)=>{var t,n;return null==(n=(t=this.options.current).onBlur)?void 0:n.call(t,...e)},onCreate:(...e)=>{var t,n;return null==(n=(t=this.options.current).onCreate)?void 0:n.call(t,...e)},onDestroy:(...e)=>{var t,n;return null==(n=(t=this.options.current).onDestroy)?void 0:n.call(t,...e)},onFocus:(...e)=>{var t,n;return null==(n=(t=this.options.current).onFocus)?void 0:n.call(t,...e)},onSelectionUpdate:(...e)=>{var t,n;return null==(n=(t=this.options.current).onSelectionUpdate)?void 0:n.call(t,...e)},onTransaction:(...e)=>{var t,n;return null==(n=(t=this.options.current).onTransaction)?void 0:n.call(t,...e)},onUpdate:(...e)=>{var t,n;return null==(n=(t=this.options.current).onUpdate)?void 0:n.call(t,...e)},onContentError:(...e)=>{var t,n;return null==(n=(t=this.options.current).onContentError)?void 0:n.call(t,...e)},onDrop:(...e)=>{var t,n;return null==(n=(t=this.options.current).onDrop)?void 0:n.call(t,...e)},onPaste:(...e)=>{var t,n;return null==(n=(t=this.options.current).onPaste)?void 0:n.call(t,...e)},onDelete:(...e)=>{var t,n;return null==(n=(t=this.options.current).onDelete)?void 0:n.call(t,...e)}};return new UE(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,t){return Object.keys(e).every(n=>!!["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(n)||("extensions"===n&&e.extensions&&t.extensions?e.extensions.length===t.extensions.length&&e.extensions.every((e,n)=>{var r;return e===(null==(r=t.extensions)?void 0:r[n])}):e[n]===t[n]))}onRender(t){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&0===t.length?e.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(t),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(null===this.previousDeps)return void(this.previousDeps=e);if(this.previousDeps.length===e.length&&this.previousDeps.every((t,n)=>t===e[n]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,t=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{this.isComponentMounted&&this.instanceId===e?t&&t.setOptions(this.options.current):t&&!t.isDestroyed&&(t.destroy(),this.instanceId===e&&this.setEditor(null))},1)}};x.createContext({editor:null}).Consumer;var ED=x.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}});b.forwardRef((e,t)=>{const{onDragStart:n}=x.useContext(ED),r=e.as||"div";return h.jsx(r,{...e,ref:t,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...e.style}})}),b.createContext({markViewContentRef:()=>{}});var MD=(e,t)=>{if("slot"===e)return 0;if(e instanceof Function)return e(t);const{children:n,...r}=null!=t?t:{};if("svg"===e)throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[e,r,n]},PD=/^\s*>\s$/,DD=KE.create({name:"blockquote",addOptions:()=>({HTMLAttributes:{}}),content:"block+",group:"block",defining:!0,parseHTML:()=>[{tag:"blockquote"}],renderHTML({HTMLAttributes:e}){return MD("blockquote",{...DT(this.options.HTMLAttributes,e),children:MD("slot",{})})},addCommands(){return{setBlockquote:()=>({commands:e})=>e.wrapIn(this.name),toggleBlockquote:()=>({commands:e})=>e.toggleWrap(this.name),unsetBlockquote:()=>({commands:e})=>e.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[YE({find:PD,type:this.type})]}}),LD=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,ID=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,RD=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,FD=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,HD=gO.create({name:"bold",addOptions:()=>({HTMLAttributes:{}}),parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:e=>"normal"!==e.style.fontWeight&&null},{style:"font-weight=400",clearMark:e=>e.type.name===this.name},{style:"font-weight",getAttrs:e=>/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}]},renderHTML({HTMLAttributes:e}){return MD("strong",{...DT(this.options.HTMLAttributes,e),children:MD("slot",{})})},addCommands(){return{setBold:()=>({commands:e})=>e.setMark(this.name),toggleBold:()=>({commands:e})=>e.toggleMark(this.name),unsetBold:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[VE({find:LD,type:this.type}),VE({find:RD,type:this.type})]},addPasteRules(){return[JE({find:ID,type:this.type}),JE({find:FD,type:this.type})]}}),zD=/(^|[^`])`([^`]+)`(?!`)$/,BD=/(^|[^`])`([^`]+)`(?!`)/g,WD=gO.create({name:"code",addOptions:()=>({HTMLAttributes:{}}),excludes:"_",code:!0,exitable:!0,parseHTML:()=>[{tag:"code"}],renderHTML({HTMLAttributes:e}){return["code",DT(this.options.HTMLAttributes,e),0]},addCommands(){return{setCode:()=>({commands:e})=>e.setMark(this.name),toggleCode:()=>({commands:e})=>e.toggleMark(this.name),unsetCode:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[VE({find:zD,type:this.type})]},addPasteRules(){return[JE({find:BD,type:this.type})]}}),$D=/^```([a-z]+)?[\s\n]$/,UD=/^~~~([a-z]+)?[\s\n]$/,VD=KE.create({name:"codeBlock",addOptions:()=>({languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:4,HTMLAttributes:{}}),content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:e=>{var t;const{languageClassPrefix:n}=this.options;if(!n)return null;return[...(null==(t=e.firstElementChild)?void 0:t.classList)||[]].filter(e=>e.startsWith(n)).map(e=>e.replace(n,""))[0]||null},rendered:!1}}},parseHTML:()=>[{tag:"pre",preserveWhitespace:"full"}],renderHTML({node:e,HTMLAttributes:t}){return["pre",DT(this.options.HTMLAttributes,t),["code",{class:e.attrs.language?this.options.languageClassPrefix+e.attrs.language:null},0]]},addCommands(){return{setCodeBlock:e=>({commands:t})=>t.setNode(this.name,e),toggleCodeBlock:e=>({commands:t})=>t.toggleNode(this.name,"paragraph",e)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:e,$anchor:t}=this.editor.state.selection,n=1===t.pos;return!(!e||t.parent.type.name!==this.name)&&!(!n&&t.parent.textContent.length)&&this.editor.commands.clearNodes()},Tab:({editor:e})=>{var t;if(!this.options.enableTabIndentation)return!1;const n=null!=(t=this.options.tabSize)?t:4,{state:r}=e,{selection:a}=r,{$from:i,empty:s}=a;if(i.parent.type!==this.type)return!1;const o=" ".repeat(n);return s?e.commands.insertContent(o):e.commands.command(({tr:e})=>{const{from:t,to:n}=a,i=r.doc.textBetween(t,n,"\n","\n").split("\n").map(e=>o+e).join("\n");return e.replaceWith(t,n,r.schema.text(i)),!0})},"Shift-Tab":({editor:e})=>{var t;if(!this.options.enableTabIndentation)return!1;const n=null!=(t=this.options.tabSize)?t:4,{state:r}=e,{selection:a}=r,{$from:i,empty:s}=a;return i.parent.type===this.type&&(s?e.commands.command(({tr:e})=>{var t;const{pos:a}=i,s=i.start(),o=i.end(),l=r.doc.textBetween(s,o,"\n","\n").split("\n");let c=0,d=0;const u=a-s;for(let n=0;n<l.length;n+=1){if(d+l[n].length>=u){c=n;break}d+=l[n].length+1}const h=(null==(t=l[c].match(/^ */))?void 0:t[0])||"",p=Math.min(h.length,n);if(0===p)return!0;let m=s;for(let n=0;n<c;n+=1)m+=l[n].length+1;return e.delete(m,m+p),a-m<=p&&e.setSelection(lS.create(e.doc,m)),!0}):e.commands.command(({tr:e})=>{const{from:t,to:i}=a,s=r.doc.textBetween(t,i,"\n","\n").split("\n").map(e=>{var t;const r=(null==(t=e.match(/^ */))?void 0:t[0])||"",a=Math.min(r.length,n);return e.slice(a)}).join("\n");return e.replaceWith(t,i,r.schema.text(s)),!0}))},Enter:({editor:e})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:t}=e,{selection:n}=t,{$from:r,empty:a}=n;if(!a||r.parent.type!==this.type)return!1;const i=r.parentOffset===r.parent.nodeSize-2,s=r.parent.textContent.endsWith("\n\n");return!(!i||!s)&&e.chain().command(({tr:e})=>(e.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:e})=>{if(!this.options.exitOnArrowDown)return!1;const{state:t}=e,{selection:n,doc:r}=t,{$from:a,empty:i}=n;if(!i||a.parent.type!==this.type)return!1;if(a.parentOffset!==a.parent.nodeSize-2)return!1;const s=a.after();return void 0!==s&&(r.nodeAt(s)?e.commands.command(({tr:e})=>(e.setSelection(aS.near(r.resolve(s))),!0)):e.commands.exitCode())}}},addInputRules(){return[GE({find:$D,type:this.type,getAttributes:e=>({language:e[1]})}),GE({find:UD,type:this.type,getAttributes:e=>({language:e[1]})})]},addProseMirrorPlugins(){return[new NS({key:new CS("codeBlockVSCodeHandler"),props:{handlePaste:(e,t)=>{if(!t.clipboardData)return!1;if(this.editor.isActive(this.type.name))return!1;const n=t.clipboardData.getData("text/plain"),r=t.clipboardData.getData("vscode-editor-data"),a=r?JSON.parse(r):void 0,i=null==a?void 0:a.mode;if(!n||!i)return!1;const{tr:s,schema:o}=e.state,l=o.text(n.replace(/\r\n?/g,"\n"));return s.replaceSelectionWith(this.type.create({language:i},l)),s.selection.$from.parent.type!==this.type&&s.setSelection(lS.near(s.doc.resolve(Math.max(0,s.selection.from-2)))),s.setMeta("paste",!0),e.dispatch(s),!0}}})]}}),qD=KE.create({name:"doc",topNode:!0,content:"block+"}),GD=KE.create({name:"hardBreak",addOptions:()=>({keepMarks:!0,HTMLAttributes:{}}),inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML:()=>[{tag:"br"}],renderHTML({HTMLAttributes:e}){return["br",DT(this.options.HTMLAttributes,e)]},renderText:()=>"\n",addCommands(){return{setHardBreak:()=>({commands:e,chain:t,state:n,editor:r})=>e.first([()=>e.exitCode(),()=>e.command(()=>{const{selection:e,storedMarks:a}=n;if(e.$from.parent.type.spec.isolating)return!1;const{keepMarks:i}=this.options,{splittableMarks:s}=r.extensionManager,o=a||e.$to.parentOffset&&e.$from.marks();return t().insertContent({type:this.name}).command(({tr:e,dispatch:t})=>{if(t&&o&&i){const t=o.filter(e=>s.includes(e.type.name));e.ensureMarks(t)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),YD=KE.create({name:"heading",addOptions:()=>({levels:[1,2,3,4,5,6],HTMLAttributes:{}}),content:"inline*",group:"block",defining:!0,addAttributes:()=>({level:{default:1,rendered:!1}}),parseHTML(){return this.options.levels.map(e=>({tag:`h${e}`,attrs:{level:e}}))},renderHTML({node:e,HTMLAttributes:t}){return[`h${this.options.levels.includes(e.attrs.level)?e.attrs.level:this.options.levels[0]}`,DT(this.options.HTMLAttributes,t),0]},addCommands(){return{setHeading:e=>({commands:t})=>!!this.options.levels.includes(e.level)&&t.setNode(this.name,e),toggleHeading:e=>({commands:t})=>!!this.options.levels.includes(e.level)&&t.toggleNode(this.name,"paragraph",e)}},addKeyboardShortcuts(){return this.options.levels.reduce((e,t)=>({...e,[`Mod-Alt-${t}`]:()=>this.editor.commands.toggleHeading({level:t})}),{})},addInputRules(){return this.options.levels.map(e=>GE({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${e}})\\s$`),type:this.type,getAttributes:{level:e}}))}}),KD=KE.create({name:"horizontalRule",addOptions:()=>({HTMLAttributes:{},nextNodeType:"paragraph"}),group:"block",parseHTML:()=>[{tag:"hr"}],renderHTML({HTMLAttributes:e}){return["hr",DT(this.options.HTMLAttributes,e)]},addCommands(){return{setHorizontalRule:()=>({chain:e,state:t})=>{if(!function(e,t){const{selection:n}=e,{$from:r}=n;if(n instanceof dS){const e=r.index();return r.parent.canReplaceWith(e,e+1,t)}let a=r.depth;for(;a>=0;){const e=r.index(a);if(r.node(a).contentMatchAt(e).matchType(t))return!0;a-=1}return!1}(t,t.schema.nodes[this.name]))return!1;const{selection:n}=t,{$to:r}=n,a=e();return oO(n)?a.insertContentAt(r.pos,{type:this.name}):a.insertContent({type:this.name}),a.command(({state:e,tr:t,dispatch:n})=>{if(n){const{$to:n}=t.selection,r=n.end();if(n.nodeAfter)n.nodeAfter.isTextblock?t.setSelection(lS.create(t.doc,n.pos+1)):n.nodeAfter.isBlock?t.setSelection(dS.create(t.doc,n.pos)):t.setSelection(lS.create(t.doc,n.pos));else{const a=e.schema.nodes[this.options.nextNodeType]||n.parent.type.contentMatch.defaultType,i=null==a?void 0:a.create();i&&(t.insert(r,i),t.setSelection(lS.create(t.doc,r+1)))}t.scrollIntoView()}return!0}).run()}}},addInputRules(){return[qE({find:/^(?:---|—-|___\s|\*\*\*\s)$/,type:this.type})]}}),JD=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,XD=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,QD=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,ZD=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,eL=gO.create({name:"italic",addOptions:()=>({HTMLAttributes:{}}),parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:e=>"normal"!==e.style.fontStyle&&null},{style:"font-style=normal",clearMark:e=>e.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:e}){return["em",DT(this.options.HTMLAttributes,e),0]},addCommands(){return{setItalic:()=>({commands:e})=>e.setMark(this.name),toggleItalic:()=>({commands:e})=>e.toggleMark(this.name),unsetItalic:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[VE({find:JD,type:this.type}),VE({find:QD,type:this.type})]},addPasteRules(){return[JE({find:XD,type:this.type}),JE({find:ZD,type:this.type})]}}),tL=Object.defineProperty,nL="textStyle",rL=/^\s*([-+*])\s$/,aL=KE.create({name:"bulletList",addOptions:()=>({itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}),group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML:()=>[{tag:"ul"}],renderHTML({HTMLAttributes:e}){return["ul",DT(this.options.HTMLAttributes,e),0]},addCommands(){return{toggleBulletList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes("listItem",this.editor.getAttributes(nL)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let e=YE({find:rL,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(e=YE({find:rL,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(nL),editor:this.editor})),[e]}}),iL=KE.create({name:"listItem",addOptions:()=>({HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}),content:"paragraph block*",defining:!0,parseHTML:()=>[{tag:"li"}],renderHTML({HTMLAttributes:e}){return["li",DT(this.options.HTMLAttributes,e),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}});((e,t)=>{for(var n in t)tL(e,n,{get:t[n],enumerable:!0})})({},{findListItemPos:()=>sL,getNextListDepth:()=>oL,handleBackspace:()=>uL,handleDelete:()=>mL,hasListBefore:()=>lL,hasListItemAfter:()=>fL,hasListItemBefore:()=>cL,listItemHasSubList:()=>dL,nextListIsDeeper:()=>hL,nextListIsHigher:()=>pL});var sL=(e,t)=>{const{$from:n}=t.selection,r=UT(e,t.schema);let a=null,i=n.depth,s=n.pos,o=null;for(;i>0&&null===o;)a=n.node(i),a.type===r?o=i:(i-=1,s-=1);return null===o?null:{$pos:t.doc.resolve(s),depth:o}},oL=(e,t)=>{const n=sL(e,t);if(!n)return!1;const[,r]=((e,t,n,r=20)=>{const a=e.doc.resolve(n);let i=r,s=null;for(;i>0&&null===s;){const e=a.node(i);(null==e?void 0:e.type.name)===t?s=e:i-=1}return[s,i]})(t,e,n.$pos.pos+4);return r},lL=(e,t,n)=>{const{$anchor:r}=e.selection,a=Math.max(0,r.pos-2),i=e.doc.resolve(a).node();return!(!i||!n.includes(i.type.name))},cL=(e,t)=>{var n;const{$anchor:r}=t.selection,a=t.doc.resolve(r.pos-2);return 0!==a.index()&&(null==(n=a.nodeBefore)?void 0:n.type.name)===e},dL=(e,t,n)=>{if(!n)return!1;const r=UT(e,t.schema);let a=!1;return n.descendants(e=>{e.type===r&&(a=!0)}),a},uL=(e,t,n)=>{if(e.commands.undoInputRule())return!0;if(e.state.selection.from!==e.state.selection.to)return!1;if(!rO(e.state,t)&&lL(e.state,t,n)){const{$anchor:n}=e.state.selection,r=e.state.doc.resolve(n.before()-1),a=[];r.node().descendants((e,n)=>{e.type.name===t&&a.push({node:e,pos:n})});const i=a.at(-1);if(!i)return!1;const s=e.state.doc.resolve(r.start()+i.pos+1);return e.chain().cut({from:n.start()-1,to:n.end()+1},s.end()).joinForward().run()}if(!rO(e.state,t))return!1;if(!(e=>{const{$from:t,$to:n}=e.selection;return!(t.parentOffset>0||t.pos!==n.pos)})(e.state))return!1;const r=sL(t,e.state);if(!r)return!1;const a=e.state.doc.resolve(r.$pos.pos-2).node(r.depth),i=dL(t,e.state,a);return cL(t,e.state)&&!i?e.commands.joinItemBackward():e.chain().liftListItem(t).run()},hL=(e,t)=>{const n=oL(e,t),r=sL(e,t);return!(!r||!n)&&n>r.depth},pL=(e,t)=>{const n=oL(e,t),r=sL(e,t);return!(!r||!n)&&n<r.depth},mL=(e,t)=>{if(!rO(e.state,t))return!1;if(!((e,t)=>{const{$from:n,$to:r,$anchor:a}=e.selection;if(t){const n=CT(e=>e.type.name===t)(e.selection);if(!n)return!1;const r=e.doc.resolve(n.pos+1);return a.pos+1===r.end()}return!(r.parentOffset<r.parent.nodeSize-2||n.pos!==r.pos)})(e.state,t))return!1;const{selection:n}=e.state,{$from:r,$to:a}=n;return!(!n.empty&&r.sameParent(a))&&(hL(t,e.state)?e.chain().focus(e.state.selection.from+4).lift(t).joinBackward().run():pL(t,e.state)?e.chain().joinForward().joinBackward().run():e.commands.joinItemForward())},fL=(e,t)=>{var n;const{$anchor:r}=t.selection,a=t.doc.resolve(r.pos-r.parentOffset-2);return a.index()!==a.parent.childCount-1&&(null==(n=a.nodeAfter)?void 0:n.type.name)===e},gL=wO.create({name:"listKeymap",addOptions:()=>({listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}),addKeyboardShortcuts(){return{Delete:({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:n})=>{void 0!==e.state.schema.nodes[n]&&mL(e,n)&&(t=!0)}),t},"Mod-Delete":({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:n})=>{void 0!==e.state.schema.nodes[n]&&mL(e,n)&&(t=!0)}),t},Backspace:({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{void 0!==e.state.schema.nodes[n]&&uL(e,n,r)&&(t=!0)}),t},"Mod-Backspace":({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{void 0!==e.state.schema.nodes[n]&&uL(e,n,r)&&(t=!0)}),t}}}}),xL="textStyle",bL=/^(\d+)\.\s$/,yL=KE.create({name:"orderedList",addOptions:()=>({itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}),group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes:()=>({start:{default:1,parseHTML:e=>e.hasAttribute("start")?parseInt(e.getAttribute("start")||"",10):1},type:{default:null,parseHTML:e=>e.getAttribute("type")}}),parseHTML:()=>[{tag:"ol"}],renderHTML({HTMLAttributes:e}){const{start:t,...n}=e;return 1===t?["ol",DT(this.options.HTMLAttributes,n),0]:["ol",DT(this.options.HTMLAttributes,e),0]},addCommands(){return{toggleOrderedList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes("listItem",this.editor.getAttributes(xL)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let e=YE({find:bL,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(e=YE({find:bL,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(xL)}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1],editor:this.editor})),[e]}}),vL=/^\s*(\[([( |x])?\])\s$/,wL=KE.create({name:"taskItem",addOptions:()=>({nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}),content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes:()=>({checked:{default:!1,keepOnSplit:!1,parseHTML:e=>{const t=e.getAttribute("data-checked");return""===t||"true"===t},renderHTML:e=>({"data-checked":e.checked})}}),parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:e,HTMLAttributes:t}){return["li",DT(this.options.HTMLAttributes,t,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:e.attrs.checked?"checked":null}],["span"]],["div",0]]},addKeyboardShortcuts(){const e={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...e,Tab:()=>this.editor.commands.sinkListItem(this.name)}:e},addNodeView(){return({node:e,HTMLAttributes:t,getPos:n,editor:r})=>{const a=document.createElement("li"),i=document.createElement("label"),s=document.createElement("span"),o=document.createElement("input"),l=document.createElement("div"),c=e=>{var t,n;o.ariaLabel=(null==(n=null==(t=this.options.a11y)?void 0:t.checkboxLabel)?void 0:n.call(t,e,o.checked))||`Task item checkbox for ${e.textContent||"empty task item"}`};return c(e),i.contentEditable="false",o.type="checkbox",o.addEventListener("mousedown",e=>e.preventDefault()),o.addEventListener("change",t=>{if(!r.isEditable&&!this.options.onReadOnlyChecked)return void(o.checked=!o.checked);const{checked:a}=t.target;r.isEditable&&"function"==typeof n&&r.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:e})=>{const t=n();if("number"!=typeof t)return!1;const r=e.doc.nodeAt(t);return e.setNodeMarkup(t,void 0,{...null==r?void 0:r.attrs,checked:a}),!0}).run(),!r.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(e,a)||(o.checked=!o.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([e,t])=>{a.setAttribute(e,t)}),a.dataset.checked=e.attrs.checked,o.checked=e.attrs.checked,i.append(o,s),a.append(i,l),Object.entries(t).forEach(([e,t])=>{a.setAttribute(e,t)}),{dom:a,contentDOM:l,update:e=>e.type===this.type&&(a.dataset.checked=e.attrs.checked,o.checked=e.attrs.checked,c(e),!0)}}},addInputRules(){return[YE({find:vL,type:this.type,getAttributes:e=>({checked:"x"===e[e.length-1]})})]}}),jL=KE.create({name:"taskList",addOptions:()=>({itemTypeName:"taskItem",HTMLAttributes:{}}),group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:e}){return["ul",DT(this.options.HTMLAttributes,e,{"data-type":this.name}),0]},addCommands(){return{toggleTaskList:()=>({commands:e})=>e.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});wO.create({name:"listKit",addExtensions(){const e=[];return!1!==this.options.bulletList&&e.push(aL.configure(this.options.bulletList)),!1!==this.options.listItem&&e.push(iL.configure(this.options.listItem)),!1!==this.options.listKeymap&&e.push(gL.configure(this.options.listKeymap)),!1!==this.options.orderedList&&e.push(yL.configure(this.options.orderedList)),!1!==this.options.taskItem&&e.push(wL.configure(this.options.taskItem)),!1!==this.options.taskList&&e.push(jL.configure(this.options.taskList)),e}});var NL=KE.create({name:"paragraph",priority:1e3,addOptions:()=>({HTMLAttributes:{}}),group:"block",content:"inline*",parseHTML:()=>[{tag:"p"}],renderHTML({HTMLAttributes:e}){return["p",DT(this.options.HTMLAttributes,e),0]},addCommands(){return{setParagraph:()=>({commands:e})=>e.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),kL=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,SL=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,CL=gO.create({name:"strike",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:e=>!!e.includes("line-through")&&{}}],renderHTML({HTMLAttributes:e}){return["s",DT(this.options.HTMLAttributes,e),0]},addCommands(){return{setStrike:()=>({commands:e})=>e.setMark(this.name),toggleStrike:()=>({commands:e})=>e.toggleMark(this.name),unsetStrike:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[VE({find:kL,type:this.type})]},addPasteRules(){return[JE({find:SL,type:this.type})]}}),_L=KE.create({name:"text",group:"inline"}),AL=gO.create({name:"underline",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:e=>!!e.includes("underline")&&{}}],renderHTML({HTMLAttributes:e}){return["u",DT(this.options.HTMLAttributes,e),0]},addCommands(){return{setUnderline:()=>({commands:e})=>e.setMark(this.name),toggleUnderline:()=>({commands:e})=>e.toggleMark(this.name),unsetUnderline:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}});function TL(e={}){return new NS({view:t=>new OL(t,e)})}class OL{constructor(e,t){var n;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=null!==(n=t.width)&&void 0!==n?n:1,this.color=!1===t.color?void 0:t.color||"black",this.class=t.class,this.handlers=["dragover","dragend","drop","dragleave"].map(t=>{let n=e=>{this[t](e)};return e.dom.addEventListener(t,n),{name:t,handler:n}})}destroy(){this.handlers.forEach(({name:e,handler:t})=>this.editorView.dom.removeEventListener(e,t))}update(e,t){null!=this.cursorPos&&t.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,null==e?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e,t=this.editorView.state.doc.resolve(this.cursorPos),n=!t.parent.inlineContent,r=this.editorView.dom,a=r.getBoundingClientRect(),i=a.width/r.offsetWidth,s=a.height/r.offsetHeight;if(n){let n=t.nodeBefore,r=t.nodeAfter;if(n||r){let t=this.editorView.nodeDOM(this.cursorPos-(n?n.nodeSize:0));if(t){let a=t.getBoundingClientRect(),i=n?a.bottom:a.top;n&&r&&(i=(i+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let o=this.width/2*s;e={left:a.left,right:a.right,top:i-o,bottom:i+o}}}}if(!e){let t=this.editorView.coordsAtPos(this.cursorPos),n=this.width/2*i;e={left:t.left-n,right:t.left+n,top:t.top,bottom:t.bottom}}let o,l,c=this.editorView.dom.offsetParent;if(this.element||(this.element=c.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n),!c||c==document.body&&"static"==getComputedStyle(c).position)o=-pageXOffset,l=-pageYOffset;else{let e=c.getBoundingClientRect(),t=e.width/c.offsetWidth,n=e.height/c.offsetHeight;o=e.left-c.scrollLeft*t,l=e.top-c.scrollTop*n}this.element.style.left=(e.left-o)/i+"px",this.element.style.top=(e.top-l)/s+"px",this.element.style.width=(e.right-e.left)/i+"px",this.element.style.height=(e.bottom-e.top)/s+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let t=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),n=t&&t.inside>=0&&this.editorView.state.doc.nodeAt(t.inside),r=n&&n.type.spec.disableDropCursor,a="function"==typeof r?r(this.editorView,t,e):r;if(t&&!a){let e=t.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let t=Bk(this.editorView.state.doc,e,this.editorView.dragging.slice);null!=t&&(e=t)}this.setCursor(e),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}class EL extends aS{constructor(e){super(e,e)}map(e,t){let n=e.resolve(t.map(this.head));return EL.valid(n)?new EL(n):aS.near(n)}content(){return pN.empty}eq(e){return e instanceof EL&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,t){if("number"!=typeof t.pos)throw new RangeError("Invalid input for GapCursor.fromJSON");return new EL(e.resolve(t.pos))}getBookmark(){return new ML(this.anchor)}static valid(e){let t=e.parent;if(t.isTextblock||!function(e){for(let t=e.depth;t>=0;t--){let n=e.index(t),r=e.node(t);if(0!=n)for(let e=r.child(n-1);;e=e.lastChild){if(0==e.childCount&&!e.inlineContent||e.isAtom||e.type.spec.isolating)return!0;if(e.inlineContent)return!1}else if(r.type.spec.isolating)return!0}return!0}(e)||!function(e){for(let t=e.depth;t>=0;t--){let n=e.indexAfter(t),r=e.node(t);if(n!=r.childCount)for(let e=r.child(n);;e=e.firstChild){if(0==e.childCount&&!e.inlineContent||e.isAtom||e.type.spec.isolating)return!0;if(e.inlineContent)return!1}else if(r.type.spec.isolating)return!0}return!0}(e))return!1;let n=t.type.spec.allowGapCursor;if(null!=n)return n;let r=t.contentMatchAt(e.index()).defaultType;return r&&r.isTextblock}static findGapCursorFrom(e,t,n=!1){e:for(;;){if(!n&&EL.valid(e))return e;let r=e.pos,a=null;for(let n=e.depth;;n--){let i=e.node(n);if(t>0?e.indexAfter(n)<i.childCount:e.index(n)>0){a=i.child(t>0?e.indexAfter(n):e.index(n)-1);break}if(0==n)return null;r+=t;let s=e.doc.resolve(r);if(EL.valid(s))return s}for(;;){let i=t>0?a.firstChild:a.lastChild;if(!i){if(a.isAtom&&!a.isText&&!dS.isSelectable(a)){e=e.doc.resolve(r+a.nodeSize*t),n=!1;continue e}break}a=i,r+=t;let s=e.doc.resolve(r);if(EL.valid(s))return s}return null}}}EL.prototype.visible=!1,EL.findFrom=EL.findGapCursorFrom,aS.jsonID("gapcursor",EL);class ML{constructor(e){this.pos=e}map(e){return new ML(e.map(this.pos))}resolve(e){let t=e.resolve(this.pos);return EL.valid(t)?new EL(t):aS.near(t)}}const PL=YA({ArrowLeft:DL("horiz",-1),ArrowRight:DL("horiz",1),ArrowUp:DL("vert",-1),ArrowDown:DL("vert",1)});function DL(e,t){const n="vert"==e?t>0?"down":"up":t>0?"right":"left";return function(e,r,a){let i=e.selection,s=t>0?i.$to:i.$from,o=i.empty;if(i instanceof lS){if(!a.endOfTextblock(n)||0==s.depth)return!1;o=!1,s=e.doc.resolve(t>0?s.after():s.before())}let l=EL.findGapCursorFrom(s,t,o);return!!l&&(r&&r(e.tr.setSelection(new EL(l))),!0)}}function LL(e,t,n){if(!e||!e.editable)return!1;let r=e.state.doc.resolve(t);if(!EL.valid(r))return!1;let a=e.posAtCoords({left:n.clientX,top:n.clientY});return!(a&&a.inside>-1&&dS.isSelectable(e.state.doc.nodeAt(a.inside))||(e.dispatch(e.state.tr.setSelection(new EL(r))),0))}function IL(e,t){if("insertCompositionText"!=t.inputType||!(e.state.selection instanceof EL))return!1;let{$from:n}=e.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(e.state.schema.nodes.text);if(!r)return!1;let a=oN.empty;for(let s=r.length-1;s>=0;s--)a=oN.from(r[s].createAndFill(null,a));let i=e.state.tr.replace(n.pos,n.pos,new pN(a,0,0));return i.setSelection(lS.near(i.doc.resolve(n.pos+1))),e.dispatch(i),!1}function RL(e){if(!(e.selection instanceof EL))return null;let t=document.createElement("div");return t.className="ProseMirror-gapcursor",lA.create(e.doc,[iA.widget(e.selection.head,t,{key:"gapcursor"})])}var FL=200,HL=function(){};HL.prototype.append=function(e){return e.length?(e=HL.from(e),!this.length&&e||e.length<FL&&this.leafAppend(e)||this.length<FL&&e.leafPrepend(this)||this.appendInner(e)):this},HL.prototype.prepend=function(e){return e.length?HL.from(e).append(this):this},HL.prototype.appendInner=function(e){return new BL(this,e)},HL.prototype.slice=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.length),e>=t?HL.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))},HL.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)},HL.prototype.forEach=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=this.length),t<=n?this.forEachInner(e,t,n,0):this.forEachInvertedInner(e,t,n,0)},HL.prototype.map=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=this.length);var r=[];return this.forEach(function(t,n){return r.push(e(t,n))},t,n),r},HL.from=function(e){return e instanceof HL?e:e&&e.length?new zL(e):HL.empty};var zL=function(e){function t(t){e.call(this),this.values=t}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(e,n){return 0==e&&n==this.length?this:new t(this.values.slice(e,n))},t.prototype.getInner=function(e){return this.values[e]},t.prototype.forEachInner=function(e,t,n,r){for(var a=t;a<n;a++)if(!1===e(this.values[a],r+a))return!1},t.prototype.forEachInvertedInner=function(e,t,n,r){for(var a=t-1;a>=n;a--)if(!1===e(this.values[a],r+a))return!1},t.prototype.leafAppend=function(e){if(this.length+e.length<=FL)return new t(this.values.concat(e.flatten()))},t.prototype.leafPrepend=function(e){if(this.length+e.length<=FL)return new t(e.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(t.prototype,n),t}(HL);HL.empty=new zL([]);var BL=function(e){function t(t,n){e.call(this),this.left=t,this.right=n,this.length=t.length+n.length,this.depth=Math.max(t.depth,n.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(e){return e<this.left.length?this.left.get(e):this.right.get(e-this.left.length)},t.prototype.forEachInner=function(e,t,n,r){var a=this.left.length;return!(t<a&&!1===this.left.forEachInner(e,t,Math.min(n,a),r))&&!(n>a&&!1===this.right.forEachInner(e,Math.max(t-a,0),Math.min(this.length,n)-a,r+a))&&void 0},t.prototype.forEachInvertedInner=function(e,t,n,r){var a=this.left.length;return!(t>a&&!1===this.right.forEachInvertedInner(e,t-a,Math.max(n,a)-a,r+a))&&!(n<a&&!1===this.left.forEachInvertedInner(e,Math.min(t,a),n,r))&&void 0},t.prototype.sliceInner=function(e,t){if(0==e&&t==this.length)return this;var n=this.left.length;return t<=n?this.left.slice(e,t):e>=n?this.right.slice(e-n,t-n):this.left.slice(e,n).append(this.right.slice(0,t-n))},t.prototype.leafAppend=function(e){var n=this.right.leafAppend(e);if(n)return new t(this.left,n)},t.prototype.leafPrepend=function(e){var n=this.left.leafPrepend(e);if(n)return new t(n,this.right)},t.prototype.appendInner=function(e){return this.left.depth>=Math.max(this.right.depth,e.depth)+1?new t(this.left,new t(this.right,e)):new t(this,e)},t}(HL);class WL{constructor(e,t){this.items=e,this.eventCount=t}popEvent(e,t){if(0==this.eventCount)return null;let n,r,a=this.items.length;for(;;a--)if(this.items.get(a-1).selection){--a;break}t&&(n=this.remapping(a,this.items.length),r=n.maps.length);let i,s,o=e.tr,l=[],c=[];return this.items.forEach((e,t)=>{if(!e.step)return n||(n=this.remapping(a,t+1),r=n.maps.length),r--,void c.push(e);if(n){c.push(new $L(e.map));let t,a=e.step.map(n.slice(r));a&&o.maybeStep(a).doc&&(t=o.mapping.maps[o.mapping.maps.length-1],l.push(new $L(t,void 0,void 0,l.length+c.length))),r--,t&&n.appendMap(t,r)}else o.maybeStep(e.step);return e.selection?(i=n?e.selection.map(n.slice(r)):e.selection,s=new WL(this.items.slice(0,a).append(c.reverse().concat(l)),this.eventCount-1),!1):void 0},this.items.length,0),{remaining:s,transform:o,selection:i}}addTransform(e,t,n,r){let a=[],i=this.eventCount,s=this.items,o=!r&&s.length?s.get(s.length-1):null;for(let c=0;c<e.steps.length;c++){let n,l=e.steps[c].invert(e.docs[c]),d=new $L(e.mapping.maps[c],l,t);(n=o&&o.merge(d))&&(d=n,c?a.pop():s=s.slice(0,s.length-1)),a.push(d),t&&(i++,t=void 0),r||(o=d)}let l=i-n.depth;return l>VL&&(s=function(e,t){let n;return e.forEach((e,r)=>{if(e.selection&&0==t--)return n=r,!1}),e.slice(n)}(s,l),i-=l),new WL(s.append(a),i)}remapping(e,t){let n=new bk;return this.items.forEach((t,r)=>{let a=null!=t.mirrorOffset&&r-t.mirrorOffset>=e?n.maps.length-t.mirrorOffset:void 0;n.appendMap(t.map,a)},e,t),n}addMaps(e){return 0==this.eventCount?this:new WL(this.items.append(e.map(e=>new $L(e))),this.eventCount)}rebased(e,t){if(!this.eventCount)return this;let n=[],r=Math.max(0,this.items.length-t),a=e.mapping,i=e.steps.length,s=this.eventCount;this.items.forEach(e=>{e.selection&&s--},r);let o=t;this.items.forEach(t=>{let r=a.getMirror(--o);if(null==r)return;i=Math.min(i,r);let l=a.maps[r];if(t.step){let i=e.steps[r].invert(e.docs[r]),c=t.selection&&t.selection.map(a.slice(o+1,r));c&&s++,n.push(new $L(l,i,c))}else n.push(new $L(l))},r);let l=[];for(let u=t;u<i;u++)l.push(new $L(a.maps[u]));let c=this.items.slice(0,r).append(l).append(n),d=new WL(c,s);return d.emptyItemCount()>500&&(d=d.compress(this.items.length-n.length)),d}emptyItemCount(){let e=0;return this.items.forEach(t=>{t.step||e++}),e}compress(e=this.items.length){let t=this.remapping(0,e),n=t.maps.length,r=[],a=0;return this.items.forEach((i,s)=>{if(s>=e)r.push(i),i.selection&&a++;else if(i.step){let e=i.step.map(t.slice(n)),s=e&&e.getMap();if(n--,s&&t.appendMap(s,n),e){let o=i.selection&&i.selection.map(t.slice(n));o&&a++;let l,c=new $L(s.invert(),e,o),d=r.length-1;(l=r.length&&r[d].merge(c))?r[d]=l:r.push(c)}}else i.map&&n--},this.items.length,0),new WL(HL.from(r.reverse()),a)}}WL.empty=new WL(HL.empty,0);class $L{constructor(e,t,n,r){this.map=e,this.step=t,this.selection=n,this.mirrorOffset=r}merge(e){if(this.step&&e.step&&!e.selection){let t=e.step.merge(this.step);if(t)return new $L(t.getMap().invert(),t,this.selection)}}}class UL{constructor(e,t,n,r,a){this.done=e,this.undone=t,this.prevRanges=n,this.prevTime=r,this.prevComposition=a}}const VL=20;function qL(e){let t=[];for(let n=e.length-1;n>=0&&0==t.length;n--)e[n].forEach((e,n,r,a)=>t.push(r,a));return t}function GL(e,t){if(!e)return null;let n=[];for(let r=0;r<e.length;r+=2){let a=t.map(e[r],1),i=t.map(e[r+1],-1);a<=i&&n.push(a,i)}return n}let YL=!1,KL=null;function JL(e){let t=e.plugins;if(KL!=t){YL=!1,KL=t;for(let e=0;e<t.length;e++)if(t[e].spec.historyPreserveItems){YL=!0;break}}return YL}const XL=new CS("history"),QL=new CS("closeHistory");function ZL(e={}){return e={depth:e.depth||100,newGroupDelay:e.newGroupDelay||500},new NS({key:XL,state:{init:()=>new UL(WL.empty,WL.empty,null,0,-1),apply:(t,n,r)=>function(e,t,n,r){let a,i=n.getMeta(XL);if(i)return i.historyState;n.getMeta(QL)&&(e=new UL(e.done,e.undone,null,0,-1));let s=n.getMeta("appendedTransaction");if(0==n.steps.length)return e;if(s&&s.getMeta(XL))return s.getMeta(XL).redo?new UL(e.done.addTransform(n,void 0,r,JL(t)),e.undone,qL(n.mapping.maps),e.prevTime,e.prevComposition):new UL(e.done,e.undone.addTransform(n,void 0,r,JL(t)),null,e.prevTime,e.prevComposition);if(!1===n.getMeta("addToHistory")||s&&!1===s.getMeta("addToHistory"))return(a=n.getMeta("rebased"))?new UL(e.done.rebased(n,a),e.undone.rebased(n,a),GL(e.prevRanges,n.mapping),e.prevTime,e.prevComposition):new UL(e.done.addMaps(n.mapping.maps),e.undone.addMaps(n.mapping.maps),GL(e.prevRanges,n.mapping),e.prevTime,e.prevComposition);{let a=n.getMeta("composition"),i=0==e.prevTime||!s&&e.prevComposition!=a&&(e.prevTime<(n.time||0)-r.newGroupDelay||!function(e,t){if(!t)return!1;if(!e.docChanged)return!0;let n=!1;return e.mapping.maps[0].forEach((e,r)=>{for(let a=0;a<t.length;a+=2)e<=t[a+1]&&r>=t[a]&&(n=!0)}),n}(n,e.prevRanges)),o=s?GL(e.prevRanges,n.mapping):qL(n.mapping.maps);return new UL(e.done.addTransform(n,i?t.selection.getBookmark():void 0,r,JL(t)),WL.empty,o,n.time,null==a?e.prevComposition:a)}}(n,r,t,e)},config:e,props:{handleDOMEvents:{beforeinput(e,t){let n=t.inputType,r="historyUndo"==n?tI:"historyRedo"==n?nI:null;return!!r&&(t.preventDefault(),r(e.state,e.dispatch))}}}})}function eI(e,t){return(n,r)=>{let a=XL.getState(n);if(!a||0==(e?a.undone:a.done).eventCount)return!1;if(r){let i=function(e,t,n){let r=JL(t),a=XL.get(t).spec.config,i=(n?e.undone:e.done).popEvent(t,r);if(!i)return null;let s=i.selection.resolve(i.transform.doc),o=(n?e.done:e.undone).addTransform(i.transform,t.selection.getBookmark(),a,r),l=new UL(n?o:i.remaining,n?i.remaining:o,null,0,-1);return i.transform.setSelection(s).setMeta(XL,{redo:n,historyState:l})}(a,n,e);i&&r(t?i.scrollIntoView():i)}return!0}}const tI=eI(!1,!0),nI=eI(!0,!0);wO.create({name:"characterCount",addOptions:()=>({limit:null,mode:"textSize",textCounter:e=>e.length,wordCounter:e=>e.split(" ").filter(e=>""!==e).length}),addStorage:()=>({characters:()=>0,words:()=>0}),onBeforeCreate(){this.storage.characters=e=>{const t=(null==e?void 0:e.node)||this.editor.state.doc;if("textSize"===((null==e?void 0:e.mode)||this.options.mode)){const e=t.textBetween(0,t.content.size,void 0," ");return this.options.textCounter(e)}return t.nodeSize},this.storage.words=e=>{const t=(null==e?void 0:e.node)||this.editor.state.doc,n=t.textBetween(0,t.content.size," "," ");return this.options.wordCounter(n)}},addProseMirrorPlugins(){let e=!1;return[new NS({key:new CS("characterCount"),appendTransaction:(t,n,r)=>{if(e)return;const a=this.options.limit;if(null==a||0===a)return void(e=!0);const i=this.storage.characters({node:r.doc});if(i>a){const t=0,n=i-a,s=r.tr.deleteRange(t,n);return e=!0,s}e=!0},filterTransaction:(e,t)=>{const n=this.options.limit;if(!e.docChanged||0===n||null==n)return!0;const r=this.storage.characters({node:t.doc}),a=this.storage.characters({node:e.doc});if(a<=n)return!0;if(r>n&&a>n&&a<=r)return!0;if(r>n&&a>n&&a>r)return!1;if(!e.getMeta("paste"))return!1;const i=e.selection.$head.pos,s=i-(a-n),o=i;return e.deleteRange(s,o),!(this.storage.characters({node:e.doc})>n)}})]}});var rI=wO.create({name:"dropCursor",addOptions:()=>({color:"currentColor",width:1,class:void 0}),addProseMirrorPlugins(){return[TL(this.options)]}});wO.create({name:"focus",addOptions:()=>({className:"has-focus",mode:"all"}),addProseMirrorPlugins(){return[new NS({key:new CS("focus"),props:{decorations:({doc:e,selection:t})=>{const{isEditable:n,isFocused:r}=this.editor,{anchor:a}=t,i=[];if(!n||!r)return lA.create(e,[]);let s=0;"deepest"===this.options.mode&&e.descendants((e,t)=>{if(!e.isText)return a>=t&&a<=t+e.nodeSize-1&&void(s+=1)});let o=0;return e.descendants((e,t)=>!e.isText&&(a>=t&&a<=t+e.nodeSize-1&&(o+=1,"deepest"===this.options.mode&&s-o>0||"shallowest"===this.options.mode&&o>1?"deepest"===this.options.mode:void i.push(iA.node(t,t+e.nodeSize,{class:this.options.className}))))),lA.create(e,i)}}})]}});var aI=wO.create({name:"gapCursor",addProseMirrorPlugins:()=>[new NS({props:{decorations:RL,createSelectionBetween:(e,t,n)=>t.pos==n.pos&&EL.valid(n)?new EL(n):null,handleClick:LL,handleKeyDown:PL,handleDOMEvents:{beforeinput:IL}}})],extendNodeSchema(e){var t;return{allowGapCursor:null!=(t=ET(_T(e,"allowGapCursor",{name:e.name,options:e.options,storage:e.storage})))?t:null}}});function iI({types:e,node:t}){return t&&Array.isArray(e)&&e.includes(t.type)||(null==t?void 0:t.type)===e}wO.create({name:"placeholder",addOptions:()=>({emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something …",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}),addProseMirrorPlugins(){return[new NS({key:new CS("placeholder"),props:{decorations:({doc:e,selection:t})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:r}=t,a=[];if(!n)return null;const i=this.editor.isEmpty;return e.descendants((e,t)=>{const n=r>=t&&r<=t+e.nodeSize,s=!e.isLeaf&&sO(e);if((n||!this.options.showOnlyCurrent)&&s){const r=[this.options.emptyNodeClass];i&&r.push(this.options.emptyEditorClass);const s=iA.node(t,t+e.nodeSize,{class:r.join(" "),"data-placeholder":"function"==typeof this.options.placeholder?this.options.placeholder({editor:this.editor,node:e,pos:t,hasAnchor:n}):this.options.placeholder});a.push(s)}return this.options.includeChildren}),lA.create(e,a)}}})]}}),wO.create({name:"selection",addOptions:()=>({className:"selection"}),addProseMirrorPlugins(){const{editor:e,options:t}=this;return[new NS({key:new CS("selection"),props:{decorations:n=>n.selection.empty||e.isFocused||!e.isEditable||oO(n.selection)||e.view.dragging?null:lA.create(n.doc,[iA.inline(n.selection.from,n.selection.to,{class:t.className})])}})]}});var sI=wO.create({name:"trailingNode",addOptions:()=>({node:"paragraph",notAfter:[]}),addProseMirrorPlugins(){const e=new CS(this.name),t=Object.entries(this.editor.schema.nodes).map(([,e])=>e).filter(e=>(this.options.notAfter||[]).concat(this.options.node).includes(e.name));return[new NS({key:e,appendTransaction:(t,n,r)=>{const{doc:a,tr:i,schema:s}=r,o=e.getState(r),l=a.content.size,c=s.nodes[this.options.node];if(o)return i.insert(l,c.create())},state:{init:(e,n)=>!iI({node:n.tr.doc.lastChild,types:t}),apply:(e,n)=>e.docChanged?!iI({node:e.doc.lastChild,types:t}):n}})]}}),oI=wO.create({name:"undoRedo",addOptions:()=>({depth:100,newGroupDelay:500}),addCommands:()=>({undo:()=>({state:e,dispatch:t})=>tI(e,t),redo:()=>({state:e,dispatch:t})=>nI(e,t)}),addProseMirrorPlugins(){return[ZL(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-я":()=>this.editor.commands.undo(),"Shift-Mod-я":()=>this.editor.commands.redo()}}}),lI=wO.create({name:"starterKit",addExtensions(){var e,t,n,r;const a=[];return!1!==this.options.bold&&a.push(HD.configure(this.options.bold)),!1!==this.options.blockquote&&a.push(DD.configure(this.options.blockquote)),!1!==this.options.bulletList&&a.push(aL.configure(this.options.bulletList)),!1!==this.options.code&&a.push(WD.configure(this.options.code)),!1!==this.options.codeBlock&&a.push(VD.configure(this.options.codeBlock)),!1!==this.options.document&&a.push(qD.configure(this.options.document)),!1!==this.options.dropcursor&&a.push(rI.configure(this.options.dropcursor)),!1!==this.options.gapcursor&&a.push(aI.configure(this.options.gapcursor)),!1!==this.options.hardBreak&&a.push(GD.configure(this.options.hardBreak)),!1!==this.options.heading&&a.push(YD.configure(this.options.heading)),!1!==this.options.undoRedo&&a.push(oI.configure(this.options.undoRedo)),!1!==this.options.horizontalRule&&a.push(KD.configure(this.options.horizontalRule)),!1!==this.options.italic&&a.push(eL.configure(this.options.italic)),!1!==this.options.listItem&&a.push(iL.configure(this.options.listItem)),!1!==this.options.listKeymap&&a.push(gL.configure(null==(e=this.options)?void 0:e.listKeymap)),!1!==this.options.link&&a.push(sD.configure(null==(t=this.options)?void 0:t.link)),!1!==this.options.orderedList&&a.push(yL.configure(this.options.orderedList)),!1!==this.options.paragraph&&a.push(NL.configure(this.options.paragraph)),!1!==this.options.strike&&a.push(CL.configure(this.options.strike)),!1!==this.options.text&&a.push(_L.configure(this.options.text)),!1!==this.options.underline&&a.push(AL.configure(null==(n=this.options)?void 0:n.underline)),!1!==this.options.trailingNode&&a.push(sI.configure(null==(r=this.options)?void 0:r.trailingNode)),a}}),cI=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))$/,dI=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))/g,uI=gO.create({name:"highlight",addOptions:()=>({multicolor:!1,HTMLAttributes:{}}),addAttributes(){return this.options.multicolor?{color:{default:null,parseHTML:e=>e.getAttribute("data-color")||e.style.backgroundColor,renderHTML:e=>e.color?{"data-color":e.color,style:`background-color: ${e.color}; color: inherit`}:{}}}:{}},parseHTML:()=>[{tag:"mark"}],renderHTML({HTMLAttributes:e}){return["mark",DT(this.options.HTMLAttributes,e),0]},addCommands(){return{setHighlight:e=>({commands:t})=>t.setMark(this.name,e),toggleHighlight:e=>({commands:t})=>t.toggleMark(this.name,e),unsetHighlight:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-h":()=>this.editor.commands.toggleHighlight()}},addInputRules(){return[VE({find:cI,type:this.type})]},addPasteRules(){return[JE({find:dI,type:this.type})]}});const hI=[aM,lI.configure({bold:{HTMLAttributes:{class:"font-bold"}},italic:{HTMLAttributes:{class:"italic"}},strike:{HTMLAttributes:{class:"line-through"}},underline:{HTMLAttributes:{class:"underline"}}}),sM.configure({types:["textStyle"]}),uI.configure({multicolor:!0}),oM.configure({types:["textStyle"]}),oD.configure({openOnClick:!1,HTMLAttributes:{class:"text-blue-500 underline hover:text-blue-700 cursor-pointer"}}),iM.configure({types:["heading","paragraph"],alignments:["left","center","right","justify"]})],pI=({editor:e,onClose:t})=>{const[n,r]=x.useState(()=>e.getAttributes("link").href||""),[a,i]=x.useState(()=>({from:e.state.selection.from,to:e.state.selection.to})),[s,o]=x.useState(()=>{try{const{from:t,to:n}=e.state.selection;return t===n?"":e.state.doc.textBetween(t,n)||""}catch(Ew){return""}});return h.jsx("div",{className:"fixed inset-0 backdrop-brightness-50 bg-opacity-50 flex items-center justify-center z-50",children:h.jsxs("div",{className:"bg-white rounded-lg p-6 w-96",children:[h.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Add/Edit Link"}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"URL"}),h.jsx("input",{type:"url",value:n,onChange:e=>r(e.target.value),placeholder:"https://example.com",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",autoFocus:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Text ",!s&&h.jsx("span",{className:"text-orange-500",children:"(required if no text selected)"})]}),h.jsx("input",{type:"text",value:s,onChange:e=>o(e.target.value),placeholder:s||"Enter link text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),!s&&h.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"No text selected. Enter text above or select text first."})]})]}),h.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[h.jsx("button",{onClick:t,className:"px-4 py-2 text-sm text-gray-600 hover:text-gray-800 transition-colors",children:"Cancel"}),e.getAttributes("link").href&&h.jsx("button",{onClick:()=>{e.chain().focus().setTextSelection(a).run(),e.chain().focus().unsetLink().run(),t()},className:"px-4 py-2 text-sm text-red-600 hover:text-red-800 transition-colors",children:"Remove Link"}),h.jsx("button",{onClick:()=>{e.chain().focus().setTextSelection(a).run(),n?s?e.chain().focus().extendMarkRange("link").setLink({href:n}).run():e.chain().focus().insertContent({type:"text",text:s||n,marks:[{type:"link",attrs:{href:n}}]}).run():e.chain().focus().unsetLink().run(),t()},disabled:!n,className:"px-4 py-2 text-sm bg-blue-500 text-white rounded-md hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Save Link"})]})]})})},mI=({editor:e,type:t,onClose:n})=>{const r="color"===t?e.getAttributes("textStyle").color:e.getAttributes("highlight").color;return h.jsx("div",{className:"fixed inset-0 backdrop-brightness-50 bg-opacity-50 flex items-center justify-center z-50",children:h.jsxs("div",{className:"bg-white rounded-lg p-6 w-80",children:[h.jsx("h3",{className:"text-lg font-semibold mb-4",children:"color"===t?"Text Color":"Background Color"}),h.jsx("div",{className:"grid grid-cols-5 gap-2 mb-4",children:["#000000","#FFFFFF","#FF0000","#00FF00","#0000FF","#FFFF00","#FF00FF","#00FFFF","#FFA500","#800080","#008000","#800000","#008080","#000080","#808080","#FFE4E1","#F0FFF0","#F0F8FF","#FFF8DC","#F5F5F5"].map(a=>h.jsx("button",{onClick:()=>(r=>{"color"===t?e.chain().focus().setColor(r).run():e.chain().focus().setHighlight({color:r}).run(),n()})(a),className:"w-8 h-8 rounded border border-gray-300 "+(r===a?"ring-2 ring-blue-500":""),style:{backgroundColor:a},title:a},a))}),h.jsxs("div",{className:"flex justify-between",children:[h.jsx("button",{onClick:()=>{"color"===t?e.chain().focus().unsetColor().run():e.chain().focus().unsetHighlight().run(),n()},className:"px-4 py-2 text-sm text-red-600 hover:text-red-800 transition-colors",children:"Remove Color"}),h.jsx("button",{onClick:n,className:"px-4 py-2 text-sm text-gray-600 hover:text-gray-800 transition-colors",children:"Close"})]})]})})};function fI({editor:e}){const[t,n]=x.useState(!1),[r,a]=x.useState(null),[i,s]=x.useState(!1);if(!e)return null;const o=_D({editor:e,selector:e=>{var t,n,r,a,i,s,o,l,c,d,u,h,p,m,f,g,x,b,y,v,w,j;return{isBold:null!=(t=e.editor.isActive("bold"))&&t,canBold:null!=(n=e.editor.can().chain().toggleBold().run())&&n,isItalic:null!=(r=e.editor.isActive("italic"))&&r,canItalic:null!=(a=e.editor.can().chain().toggleItalic().run())&&a,isStrike:null!=(i=e.editor.isActive("strike"))&&i,canStrike:null!=(s=e.editor.can().chain().toggleStrike().run())&&s,isCode:null!=(o=e.editor.isActive("code"))&&o,canCode:null!=(l=e.editor.can().chain().toggleCode().run())&&l,isLink:null!=(c=e.editor.isActive("link"))&&c,currentColor:e.editor.getAttributes("textStyle").color,currentBackgroundColor:e.editor.getAttributes("highlight").color,currentFontFamily:e.editor.getAttributes("textStyle").fontFamily,isAlignLeft:null!=(d=e.editor.isActive({textAlign:"left"}))&&d,isAlignCenter:null!=(u=e.editor.isActive({textAlign:"center"}))&&u,isAlignRight:null!=(h=e.editor.isActive({textAlign:"right"}))&&h,isAlignJustify:null!=(p=e.editor.isActive({textAlign:"justify"}))&&p,canClearMarks:null!=(m=e.editor.can().chain().unsetAllMarks().run())&&m,isParagraph:null!=(f=e.editor.isActive("paragraph"))&&f,isHeading1:null!=(g=e.editor.isActive("heading",{level:1}))&&g,isHeading2:null!=(x=e.editor.isActive("heading",{level:2}))&&x,isHeading3:null!=(b=e.editor.isActive("heading",{level:3}))&&b,isBulletList:null!=(y=e.editor.isActive("bulletList"))&&y,isOrderedList:null!=(v=e.editor.isActive("orderedList"))&&v,canUndo:null!=(w=e.editor.can().chain().undo().run())&&w,canRedo:null!=(j=e.editor.can().chain().redo().run())&&j}}});return h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"border-b border-gray-200 bg-gray-50 p-2 sm:p-3",children:h.jsxs("div",{className:"flex flex-wrap gap-1 sm:gap-2",children:[h.jsxs("div",{className:"flex items-center gap-1 sm:gap-1",children:[h.jsx("button",{type:"button",onClick:()=>e.chain().focus().toggleBold().run(),disabled:!o.canBold,className:"p-2 text-sm rounded border transition-colors flex items-center justify-center "+(o.isBold?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"),title:"Bold",children:h.jsx(zc,{size:18})}),h.jsx("button",{type:"button",onClick:()=>e.chain().focus().toggleItalic().run(),disabled:!o.canItalic,className:"p-2 text-sm rounded border transition-colors flex items-center justify-center "+(o.isItalic?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"),title:"Italic",children:h.jsx(Md,{size:18})}),h.jsx("button",{type:"button",onClick:()=>e.chain().focus().toggleStrike().run(),disabled:!o.canStrike,className:"p-2 text-sm rounded border transition-colors flex items-center justify-center "+(o.isStrike?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"),title:"Strikethrough",children:h.jsx(xu,{size:18})}),h.jsx("button",{type:"button",onClick:()=>e.chain().focus().toggleCode().run(),disabled:!o.canCode,className:"p-2 text-sm rounded border transition-colors flex items-center justify-center "+(o.isCode?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"),title:"Code",children:h.jsx(sd,{size:18})})]}),h.jsx("div",{className:"w-px bg-gray-300 mx-1"}),h.jsxs("div",{className:"flex items-center gap-1 sm:gap-1",children:[h.jsx("button",{type:"button",onClick:()=>e.chain().focus().setTextAlign("left").run(),className:"p-2 text-sm rounded border transition-colors flex items-center justify-center "+(o.isAlignLeft?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"),title:"Align Left",children:h.jsx(Dc,{size:18})}),h.jsx("button",{type:"button",onClick:()=>e.chain().focus().setTextAlign("center").run(),className:"p-2 text-sm rounded border transition-colors flex items-center justify-center "+(o.isAlignCenter?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"),title:"Align Center",children:h.jsx(Mc,{size:18})}),h.jsx("button",{type:"button",onClick:()=>e.chain().focus().setTextAlign("right").run(),className:"p-2 text-sm rounded border transition-colors flex items-center justify-center "+(o.isAlignRight?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"),title:"Align Right",children:h.jsx(Lc,{size:18})}),h.jsx("button",{type:"button",onClick:()=>e.chain().focus().setTextAlign("justify").run(),className:"p-2 text-sm rounded border transition-colors flex items-center justify-center "+(o.isAlignJustify?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"),title:"Justify",children:h.jsx(Pc,{size:18})})]}),h.jsx("div",{className:"w-px bg-gray-300 mx-1"}),h.jsxs("div",{className:"flex items-center gap-1 sm:gap-1",children:[h.jsxs("button",{type:"button",onClick:()=>a("color"),className:"p-2 text-sm rounded border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 transition-colors flex items-center justify-center relative",title:"Text Color",children:[h.jsx(Qd,{size:18}),o.currentColor&&h.jsx("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 rounded-full border border-white",style:{backgroundColor:o.currentColor}})]}),h.jsxs("button",{type:"button",onClick:()=>a("backgroundColor"),className:"p-2 text-sm rounded border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 transition-colors flex items-center justify-center relative",title:"Background Color",children:[h.jsx(Xd,{size:18}),o.currentBackgroundColor&&h.jsx("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 rounded-full border border-white",style:{backgroundColor:o.currentBackgroundColor}})]})]}),h.jsx("div",{className:"w-px bg-gray-300 mx-1"}),h.jsxs("div",{className:"flex items-center gap-1 sm:gap-1 relative",children:[h.jsx("button",{type:"button",onClick:()=>s(!i),className:"p-2 text-sm rounded border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 transition-colors flex items-center justify-center",title:"Font Family",children:h.jsx(Nu,{size:18})}),i&&h.jsxs("div",{className:"absolute top-full left-0 mt-1 bg-white border border-gray-300 rounded-md shadow-lg z-10 w-48",children:[["Arial, sans-serif","Georgia, serif","Times New Roman, serif","Helvetica, sans-serif","Courier New, monospace","Verdana, sans-serif","Trebuchet MS, sans-serif","Comic Sans MS, cursive"].map(t=>h.jsx("button",{onClick:()=>{e.chain().focus().setFontFamily(t).run(),s(!1)},className:"w-full px-3 py-2 text-left hover:bg-gray-50 transition-colors",style:{fontFamily:t},children:t.split(",")[0]},t)),h.jsx("button",{type:"button",onClick:()=>{e.chain().focus().unsetFontFamily().run(),s(!1)},className:"w-full px-3 py-2 text-left hover:bg-gray-50 transition-colors text-red-600",children:"Reset Font"})]})]}),h.jsx("div",{className:"w-px bg-gray-300 mx-1"}),h.jsx("button",{type:"button",onClick:e=>{e.preventDefault(),e.stopPropagation(),n(!0)},className:"p-2 text-sm rounded border transition-colors flex items-center justify-center "+(o.isLink?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"),title:"Insert Link",children:h.jsx(Id,{size:18})}),h.jsx("div",{className:"w-px bg-gray-300 mx-1"}),h.jsxs("div",{className:"flex items-center gap-1 sm:gap-1",children:[h.jsx("button",{type:"button",onClick:()=>e.chain().focus().unsetAllMarks().run(),className:"p-2 text-sm rounded border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 transition-colors flex items-center justify-center",title:"Clear formatting",children:h.jsx(lu,{size:18})}),h.jsx("button",{type:"button",onClick:()=>e.chain().focus().clearNodes().run(),className:"p-2 text-sm rounded border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 transition-colors flex items-center justify-center",title:"Clear nodes",children:h.jsx(vu,{size:18})})]}),h.jsx("div",{className:"w-px bg-gray-300 mx-1"}),h.jsxs("div",{className:"flex items-center gap-1 sm:gap-1",children:[h.jsx("button",{type:"button",onClick:()=>e.chain().focus().setParagraph().run(),className:"p-2 text-sm rounded border transition-colors flex items-center justify-center "+(o.isParagraph?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"),title:"Paragraph",children:h.jsx(tu,{size:18})}),h.jsx("button",{type:"button",onClick:()=>e.chain().focus().toggleHeading({level:1}).run(),className:"p-2 text-sm rounded border transition-colors flex items-center justify-center "+(o.isHeading1?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"),title:"Heading 1",children:h.jsx(kd,{size:18})}),h.jsx("button",{type:"button",onClick:()=>e.chain().focus().toggleHeading({level:2}).run(),className:"p-2 text-sm rounded border transition-colors flex items-center justify-center "+(o.isHeading2?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"),title:"Heading 2",children:h.jsx(Sd,{size:18})}),h.jsx("button",{type:"button",onClick:()=>e.chain().focus().toggleHeading({level:3}).run(),className:"p-2 text-sm rounded border transition-colors flex items-center justify-center "+(o.isHeading3?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"),title:"Heading 3",children:h.jsx(Cd,{size:18})})]}),h.jsx("div",{className:"w-px bg-gray-300 mx-1"}),h.jsxs("div",{className:"flex items-center gap-1 sm:gap-1",children:[h.jsx("button",{type:"button",onClick:()=>e.chain().focus().toggleBulletList().run(),className:"p-2 text-sm rounded border transition-colors flex items-center justify-center "+(o.isBulletList?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"),title:"Bullet List",children:h.jsx(Bd,{size:18})}),h.jsx("button",{type:"button",onClick:()=>e.chain().focus().toggleOrderedList().run(),className:"p-2 text-sm rounded border transition-colors flex items-center justify-center "+(o.isOrderedList?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"),title:"Ordered List",children:h.jsx(Hd,{size:18})})]}),h.jsx("div",{className:"w-px bg-gray-300 mx-1"}),h.jsxs("div",{className:"flex items-center gap-1 sm:gap-1",children:[h.jsx("button",{type:"button",onClick:()=>e.chain().focus().undo().run(),disabled:!o.canUndo,className:"p-2 text-sm rounded border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center",title:"Undo",children:h.jsx(ku,{size:18})}),h.jsx("button",{type:"button",onClick:()=>e.chain().focus().redo().run(),disabled:!o.canRedo,className:"p-2 text-sm rounded border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center",title:"Redo",children:h.jsx(su,{size:18})})]})]})}),t&&h.jsx(pI,{editor:e,onClose:()=>n(!1)}),r&&h.jsx(mI,{editor:e,type:r,onClose:()=>a(null)})]})}const gI=({value:e,onChange:t})=>{const n=function(e={},t=[]){const n=x.useRef(e);n.current=e;const[r]=x.useState(()=>new OD(n)),a=pD.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return x.useDebugValue(a),x.useEffect(r.onRender(t)),_D({editor:a,selector:({transactionNumber:t})=>!1===e.shouldRerenderOnTransaction||void 0===e.shouldRerenderOnTransaction?null:e.immediatelyRender&&0===t?0:t+1}),a}({extensions:hI,content:e,onUpdate:({editor:e})=>{const n=e.getHTML();t(n)},editorProps:{attributes:{class:"tiptap-editor min-h-[120px] p-4 prose max-w-none focus:outline-none"},transformPastedHTML:e=>e},parseOptions:{preserveWhitespace:"full"}});return n?h.jsxs("div",{className:"border border-gray-300 rounded-lg focus-within:ring-2 focus-within:ring-blue-500 focus-within:border-blue-500 bg-white transition-all duration-200",children:[h.jsx(fI,{editor:n}),h.jsx(kD,{editor:n,className:"min-h-[120px]"})]}):h.jsx("div",{className:"border border-gray-300 rounded-lg p-4 min-h-[120px] bg-gray-50 flex items-center justify-center",children:h.jsx("div",{className:"text-gray-500",children:"Loading editor..."})})},xI=({isOpen:e,onClose:t,title:n,children:r})=>e?h.jsx(kc.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:h.jsxs(kc.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[h.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[h.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n}),h.jsx(kc.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:t,className:"text-gray-500 hover:text-gray-700 text-2xl",children:h.jsx(Pu,{size:24})})]}),h.jsx("div",{children:r})]})}):null,bI=()=>{var e,t,n,r,a,i,s;const{getAllMasterData:o,submitMachineHistory:l}=gt(),c=je(),[d,u]=x.useState(!1),[p,m]=x.useState(null),[f,g]=x.useState(null),[b,y]=x.useState(!1),[v,w]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return!!e&&JSON.parse(e)}),[j,N]=x.useState(window.innerWidth<768),[k,S]=x.useState([]),[C,_]=x.useState([]),[A,T]=x.useState([]),[O,E]=x.useState([]),[M,P]=x.useState([]),[D,L]=x.useState([]),[I,R]=x.useState([]),[F,H]=x.useState([]),[z,B]=x.useState([]),W={date:(new Date).toISOString().split("T")[0],shift:"",group:"",stopJam:0,stopMenit:0,startJam:0,startMenit:0,stopTime:"",unit:"",mesin:"",runningHour:0,itemTrouble:"",jenisGangguan:"",bentukTindakan:"",perbaikanPerawatan:"",rootCause:"",jenisAktivitas:"",kegiatan:"",kodePart:"",sparePart:"",idPart:"",jumlah:0,unitSparePart:""},[$,U]=x.useState(W),V=x.useCallback((e,t)=>{if(e&&"object"==typeof e&&"value"in e&&t)U(n=>({...n,[t]:e.value}));else if(e&&"target"in e){const{name:t,value:n}=e.target;U(e=>{if(["stopJam","startJam"].includes(t)){const r=n.replace(/[^\d]/g,""),a=parseInt(r,10);return{...e,[t]:""===r?0:Math.max(0,Math.min(23,isNaN(a)?0:a))}}if(["stopMenit","startMenit"].includes(t)){const r=n.replace(/[^\d]/g,""),a=parseInt(r,10);return{...e,[t]:""===r?0:Math.max(0,Math.min(59,isNaN(a)?0:a))}}return"runningHour"===t||"jumlah"===t?{...e,[t]:n.replace(/[^\d.]/g,"")}:{...e,[t]:n}})}},[]),q=x.useCallback(e=>{if("string"==typeof e){const t=e.replace(/[^\d]/g,""),n=parseInt(t,10);return isNaN(n)?"":n.toLocaleString("id-ID").replace(/,/g,".")}return isNaN(e)||null==e?"":e.toLocaleString("id-ID").replace(/,/g,".")},[]),G=x.useCallback(()=>{U(W),m(null),g(null)},[]),Y=x.useCallback(()=>{y(!1),c("/machinehistory")},[c]);x.useEffect(()=>{(async()=>{var e,t,n,r,a,i,s,l,c;try{const d=await o();S((null==(e=d.mesin)?void 0:e.data)||[]),_((null==(t=d.shifts)?void 0:t.data)||[]),T((null==(n=d.groups)?void 0:n.data)||[]),E((null==(r=d.stoptimes)?void 0:r.data)||[]),P((null==(a=d.units)?void 0:a.data)||[]),L((null==(i=d.itemtroubles)?void 0:i.data)||[]),R((null==(s=d.jenisaktivitas)?void 0:s.data)||[]),H((null==(l=d.kegiatans)?void 0:l.data)||[]),B((null==(c=d.unitspareparts)?void 0:c.data)||[])}catch(d){m(d.message||"Gagal memuat daftar data master.")}})()},[o]);const K={control:(e,t)=>({...e,minHeight:"42px",borderColor:t.isFocused?"#3B82F6":"#D1D5DB",boxShadow:t.isFocused?"0 0 0 1px #3B82F6":"none","&:hover":{borderColor:"#9CA3AF"},borderRadius:"0.5rem",backgroundColor:"#FFFFFF",padding:"0 0.5rem",transition:"all 0.15s ease-in-out"}),valueContainer:e=>({...e,padding:"0"}),singleValue:e=>({...e,color:"#374151"}),placeholder:e=>({...e,color:"#6B7280"}),dropdownIndicator:e=>({...e,color:"#9CA3AF","&:hover":{color:"#6B7280"}}),indicatorSeparator:e=>({...e,display:"none"}),menu:e=>({...e,zIndex:9999,borderRadius:"0.5rem",border:"1px solid #E5E7EB",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"}),option:(e,t)=>({...e,backgroundColor:t.isFocused?"#EFF6FF":"#FFFFFF",color:"#1F2937","&:active":{backgroundColor:"#DBEAFE"},padding:"0.625rem 1rem"})};return h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Lu,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Fu,{mainTitle:"Add Machine History",mainTitleHighlight:"Machine History",description:"Manage activities and their configurations within the system.",icon:h.jsx(Gc,{}),isMobile:j,toggleSidebar:()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!v)),w(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[h.jsxs(kc.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Record New Machine History"}),h.jsx("p",{className:"text-gray-600 mt-1",children:"Fill in the details for machine maintenance and issues"})]}),h.jsxs(kc.button,{onClick:()=>c("/machinehistory"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[h.jsx(Rc,{className:"text-lg"})," Back to History"]})]}),h.jsxs(kc.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[p&&h.jsxs(kc.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[h.jsx("strong",{className:"font-bold",children:"Error!"}),h.jsx("span",{className:"block sm:inline ml-2",children:p}),h.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:h.jsx(Pu,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>m(null)})})]}),h.jsxs("form",{onSubmit:async e=>{e.preventDefault(),u(!0),m(null),g(null);const t={...$,perbaikanPerawatan:"Perbaikan"===$.jenisAktivitas?"Perbaikan":"Perawatan",runningHour:$.runningHour?parseInt(String($.runningHour).replace(/\./g,""),10):0,jumlah:$.jumlah?parseInt(String($.jumlah).replace(/\./g,""),10):0,stopJam:0===$.stopJam&&""===String($.stopJam)?null:$.stopJam,stopMenit:0===$.stopMenit&&""===String($.stopMenit)?null:$.stopMenit,startJam:0===$.startJam&&""===String($.startJam)?null:$.startJam,startMenit:0===$.startMenit&&""===String($.startMenit)?null:$.startMenit};try{await l(t),g("Data history mesin berhasil disimpan!"),y(!0),G()}catch(n){m(n.message||"Gagal menyimpan data history mesin. Silakan coba lagi.")}finally{u(!1)}},className:"space-y-6",children:[h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[h.jsx(id,{className:"mr-2 text-blue-500"})," General Information"]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"date",className:"block text-sm font-medium text-gray-700 mb-1",children:["Date ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"date",name:"date",id:"date",value:$.date,onChange:V,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"shift",className:"block text-sm font-medium text-gray-700 mb-1",children:["Shift ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx(rN,{name:"shift",id:"shift",options:(C||[]).map(e=>({value:e.id,label:e.name})),value:C.map(e=>({value:e.id,label:e.name})).find(e=>e.value===$.shift),onChange:e=>V(e,"shift"),placeholder:"Select Shift",styles:K,required:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"group",className:"block text-sm font-medium text-gray-700 mb-1",children:["Group ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx(rN,{name:"group",id:"group",options:(A||[]).map(e=>({value:e.id,label:e.name})),value:A.map(e=>({value:e.id,label:e.name})).find(e=>e.value===$.group),onChange:e=>V(e,"group"),placeholder:"Select Group",styles:K,required:!0})]})]})]}),h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[h.jsx(id,{className:"mr-2 text-indigo-500"})," Time Details"]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Start Time ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("input",{type:"number",name:"startJam",id:"startJam",value:null===$.startJam?"":$.startJam,onChange:V,min:"0",max:"23",placeholder:"HH",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0}),h.jsx("span",{className:"text-gray-500 text-lg",children:":"}),h.jsx("input",{type:"number",name:"startMenit",id:"startMenit",value:null===$.startMenit?"":$.startMenit,onChange:V,min:"0",max:"59",placeholder:"MM",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Stop Time ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("input",{type:"number",name:"stopJam",id:"stopJam",value:null===$.stopJam?"":$.stopJam,onChange:V,min:"0",max:"23",placeholder:"HH",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0}),h.jsx("span",{className:"text-gray-500 text-lg",children:":"}),h.jsx("input",{type:"number",name:"stopMenit",id:"stopMenit",value:null===$.stopMenit?"":$.stopMenit,onChange:V,min:"0",max:"59",placeholder:"MM",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"stopTime",className:"block text-sm font-medium text-gray-700 mb-1",children:["Stop Type ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx(rN,{name:"stopTime",id:"stopTime",options:(O||[]).map(e=>({value:e.id,label:e.name})),value:O.find(e=>e.id===$.stopTime)?{value:$.stopTime,label:(null==(e=O.find(e=>e.id===$.stopTime))?void 0:e.name)||""}:null,onChange:e=>V(e,"stopTime"),placeholder:"Select Stop Type",styles:K,required:!0})]})]})]}),h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[h.jsx(yu,{className:"mr-2 text-green-500"})," Machine Details"]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"mesin",className:"block text-sm font-medium text-gray-700 mb-1",children:["Machine ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx(rN,{name:"mesin",id:"mesin",options:(k||[]).map(e=>({value:e.id,label:e.name})),value:k.find(e=>e.id===$.mesin)?{value:$.mesin,label:(null==(t=k.find(e=>e.id===$.mesin))?void 0:t.name)||""}:null,onChange:e=>V(e,"mesin"),placeholder:"Select Machine",styles:K,required:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"runningHour",className:"block text-sm font-medium text-gray-700 mb-1",children:["Running Hour ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",name:"runningHour",id:"runningHour",value:q($.runningHour),onChange:V,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., 12.500",required:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"unit",className:"block text-sm font-medium text-gray-700 mb-1",children:["Unit ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx(rN,{name:"unit",id:"unit",options:(M||[]).map(e=>({value:e.id,label:e.name})),value:M.find(e=>e.id===$.unit)?{value:$.unit,label:(null==(n=M.find(e=>e.id===$.unit))?void 0:n.name)||""}:null,onChange:e=>V(e,"unit"),placeholder:"Select Unit",styles:K,required:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"itemTrouble",className:"block text-sm font-medium text-gray-700 mb-1",children:["Item Trouble ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx(rN,{name:"itemTrouble",id:"itemTrouble",options:(D||[]).map(e=>({value:e.id,label:e.name})),value:D.find(e=>e.id===$.itemTrouble)?{value:$.itemTrouble,label:(null==(r=D.find(e=>e.id===$.itemTrouble))?void 0:r.name)||""}:null,onChange:e=>V(e,"itemTrouble"),placeholder:"Select Item Trouble",styles:K,required:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"jenisGangguan",className:"block text-sm font-medium text-gray-700 mb-1",children:["Type of Disturbance / Damage ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",name:"jenisGangguan",id:"jenisGangguan",value:$.jenisGangguan,onChange:V,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., Electrical Issue",required:!0})]}),h.jsxs("div",{className:"md:col-span-2",children:[h.jsxs("label",{htmlFor:"bentukTindakan",className:"block text-sm font-medium text-gray-700 mb-1",children:["Action Taken ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx(gI,{value:$.bentukTindakan,onChange:e=>{U(t=>({...t,bentukTindakan:e}))}})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"rootCause",className:"block text-sm font-medium text-gray-700 mb-1",children:["Root Cause ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("textarea",{name:"rootCause",id:"rootCause",value:$.rootCause,onChange:V,rows:3,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"Identify the root cause...",required:!0})]})]})]}),h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[h.jsx(zd,{className:"mr-2 text-purple-500"})," Activity Details"]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"jenisAktivitas",className:"block text-sm font-medium text-gray-700 mb-1",children:["Type of Activity ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx(rN,{name:"jenisAktivitas",id:"jenisAktivitas",options:(I||[]).map(e=>({value:e.id,label:e.name})),value:I.find(e=>e.id===$.jenisAktivitas)?{value:$.jenisAktivitas,label:(null==(a=I.find(e=>e.id===$.jenisAktivitas))?void 0:a.name)||""}:null,onChange:e=>V(e,"jenisAktivitas"),placeholder:"Select Type of Activity",styles:K,required:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"kegiatan",className:"block text-sm font-medium text-gray-700 mb-1",children:["Activity ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx(rN,{name:"kegiatan",id:"kegiatan",options:(F||[]).map(e=>({value:e.id,label:e.name})),value:F.find(e=>e.id===$.kegiatan)?{value:$.kegiatan,label:(null==(i=F.find(e=>e.id===$.kegiatan))?void 0:i.name)||""}:null,onChange:e=>V(e,"kegiatan"),placeholder:"Select Activity",styles:K,required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"kodePart",className:"block text-sm font-medium text-gray-700 mb-1",children:"Part Code"}),h.jsx("input",{type:"text",name:"kodePart",id:"kodePart",value:$.kodePart,onChange:V,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., P001"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"sparePart",className:"block text-sm font-medium text-gray-700 mb-1",children:"Spare Part"}),h.jsx("input",{type:"text",name:"sparePart",id:"sparePart",value:$.sparePart,onChange:V,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., Oil Filter"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"idPart",className:"block text-sm font-medium text-gray-700 mb-1",children:"Part ID"}),h.jsx("input",{type:"text",name:"idPart",id:"idPart",value:$.idPart,onChange:V,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., SPU-005"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"jumlah",className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantity"}),h.jsx("input",{type:"text",name:"jumlah",id:"jumlah",value:q($.jumlah),onChange:V,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., 5"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"unitSparePart",className:"block text-sm font-medium text-gray-700 mb-1",children:"Spare Part Unit"}),h.jsx(rN,{name:"unitSparePart",id:"unitSparePart",options:(z||[]).map(e=>({value:e.id,label:e.name})),value:z.find(e=>e.id===$.unitSparePart)?{value:$.unitSparePart,label:(null==(s=z.find(e=>e.id===$.unitSparePart))?void 0:s.name)||""}:null,onChange:e=>V(e,"unitSparePart"),placeholder:"Select Unit",styles:K})]})]})]}),h.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[h.jsxs(kc.button,{type:"button",onClick:G,whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",children:[h.jsx(vu,{className:"mr-2 h-5 w-5"})," Clear Form"]}),h.jsx(kc.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:d,children:d?h.jsxs(h.Fragment,{children:[h.jsx(Ad,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):h.jsxs(h.Fragment,{children:[h.jsx(du,{className:"mr-2 h-5 w-5"})," Save Record"]})})]})]})]})]})]}),h.jsx(xI,{isOpen:b,onClose:Y,title:"Success!",children:h.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[h.jsx(td,{className:"text-green-500 text-6xl mb-4"}),h.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:"Your machine history record has been added successfully!"}),h.jsx(kc.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:Y,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Go to Machine History"})]})})]})},yI=({isOpen:e,onClose:t,title:n,children:r})=>e?h.jsx(kc.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:h.jsxs(kc.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[h.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[h.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n}),h.jsx(kc.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:t,className:"text-gray-500 hover:text-gray-700 text-2xl",children:h.jsx(Pu,{size:24})})]}),h.jsx("div",{children:r})]})}):null,vI=()=>{var e,t,n,r,a,i,s,o,l,c,d,u,p,m,f,g,b,y,v,w,j,N,k,S,C,_,A,T,O,E,M,P,D,L,I,R;const{id:F}=ke(),H=je(),[z,B]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return!!e&&JSON.parse(e)}),[W,$]=x.useState(window.innerWidth<768),{getMachineHistoryById:U,updateMachineHistory:V,masterData:q,isMasterDataLoading:G}=gt(),[Y,K]=x.useState({date:"",shift:"",group:"",stopJam:null,stopMenit:null,startJam:null,startMenit:null,stopTime:"",unit:"",mesin:"",runningHour:0,itemTrouble:"",jenisGangguan:"",bentukTindakan:"",perbaikanPerawatan:"",rootCause:"",jenisAktivitas:"",kegiatan:"",kodePart:"",sparePart:"",idPart:"",jumlah:0,unitSparePart:""}),[J,X]=x.useState(!0),[Q,Z]=x.useState(!1),[ee,te]=x.useState(null),[ne,re]=x.useState(null),[ae,ie]=x.useState(!1);x.useEffect(()=>{(async()=>{var e,t,n,r,a,i,s,o,l,c,d;try{if(X(!0),G||!q)return;if(F){const u=(await U(F)).data;u?K({date:u.date||"",shift:String(u.shift_id)||"",group:String(u.group_id)||"",stopJam:null!=(t=null==(e=u.startstop)?void 0:e.stop_time_hh)?t:null,stopMenit:null!=(r=null==(n=u.startstop)?void 0:n.stop_time_mm)?r:null,startJam:null!=(i=null==(a=u.startstop)?void 0:a.start_time_hh)?i:null,startMenit:null!=(o=null==(s=u.startstop)?void 0:s.start_time_mm)?o:null,stopTime:String(u.stoptime_id)||"",unit:String(u.unit_id)||"",mesin:String(u.mesin_id)||"",runningHour:null!=(l=u.running_hour)?l:0,itemTrouble:String(u.itemtrouble_id)||"",jenisGangguan:u.jenis_gangguan||"",bentukTindakan:u.bentuk_tindakan||"",perbaikanPerawatan:"Perbaikan"===(null==(c=u.jenisaktifitas)?void 0:c.name)?"Perbaikan":"Perawatan",rootCause:u.root_cause||"",jenisAktivitas:String(u.jenisaktifitas_id)||"",kegiatan:String(u.kegiatan_id)||"",kodePart:u.kode_part||"",sparePart:u.spare_part||"",idPart:u.id_part||"",jumlah:null!=(d=u.jumlah)?d:0,unitSparePart:String(u.unitsp_id)||""}):te("Data history mesin tidak ditemukan.")}else te("ID history mesin tidak diberikan untuk pengeditan.")}catch(u){te(u.message||"Terjadi kesalahan saat memuat data.")}finally{X(!1)}})()},[F,q,G,U]);const se=x.useCallback((e,t)=>{if(e&&"object"==typeof e&&"value"in e&&t)K(n=>({...n,[t]:e.value}));else if(e&&"target"in e){const{name:t,value:n,type:r}=e.target;K(e=>{if(["stopJam","startJam"].includes(t)){const r=n.replace(/[^\d]/g,""),a=parseInt(r,10);return{...e,[t]:""===r?null:Math.max(0,Math.min(23,isNaN(a)?0:a))}}if(["stopMenit","startMenit"].includes(t)){const r=n.replace(/[^\d]/g,""),a=parseInt(r,10);return{...e,[t]:""===r?null:Math.max(0,Math.min(59,isNaN(a)?0:a))}}return"runningHour"===t||"jumlah"===t?{...e,[t]:n.replace(/[^\d.]/g,"")}:{...e,[t]:n}})}},[]),oe=x.useCallback(e=>{if(null===e||isNaN(Number(e)))return"";if("string"==typeof e){const t=e.replace(/[^\d]/g,""),n=parseInt(t,10);return isNaN(n)?"":n.toLocaleString("id-ID").replace(/,/g,".")}return e.toLocaleString("id-ID").replace(/,/g,".")},[]),le=x.useCallback(()=>{K({date:"",shift:"",group:"",stopJam:null,stopMenit:null,startJam:null,startMenit:null,stopTime:"",unit:"",mesin:"",runningHour:0,itemTrouble:"",jenisGangguan:"",bentukTindakan:"",perbaikanPerawatan:"",rootCause:"",jenisAktivitas:"",kegiatan:"",kodePart:"",sparePart:"",idPart:"",jumlah:0,unitSparePart:""}),te(null),re(null)},[]),ce=x.useCallback(()=>{ie(!1),H("/machinehistory")},[H]),de={control:(e,t)=>({...e,minHeight:"42px",borderColor:t.isFocused?"#3B82F6":"#D1D5DB",boxShadow:t.isFocused?"0 0 0 1px #3B82F6":"none","&:hover":{borderColor:"#9CA3AF"},borderRadius:"0.5rem",backgroundColor:"#FFFFFF",padding:"0 0.5rem",transition:"all 0.15s ease-in-out"}),valueContainer:e=>({...e,padding:"0"}),singleValue:e=>({...e,color:"#374151"}),placeholder:e=>({...e,color:"#6B7280"}),dropdownIndicator:e=>({...e,color:"#9CA3AF","&:hover":{color:"#6B7280"}}),indicatorSeparator:e=>({...e,display:"none"}),menu:e=>({...e,zIndex:9999,borderRadius:"0.5rem",border:"1px solid #E5E7EB",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"}),option:(e,t)=>({...e,backgroundColor:t.isFocused?"#EFF6FF":"#FFFFFF",color:"#1F2937","&:active":{backgroundColor:"#DBEAFE"},padding:"0.625rem 1rem"})};return G||J?h.jsx("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900 justify-center items-center",children:h.jsxs("div",{className:"bg-blue-100 border border-blue-400 text-blue-700 px-6 py-4 rounded-lg flex items-center shadow-lg animate-pulse",role:"alert",children:[h.jsx(Ad,{className:"animate-spin mr-3 text-2xl"}),h.jsx("span",{className:"font-semibold text-lg",children:"Loading Data... Please wait."})]})}):q||G?ee&&!Y.date?h.jsx("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900 justify-center items-center",children:h.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-6 py-4 rounded-lg flex items-center shadow-lg",role:"alert",children:[h.jsx(Pu,{className:"mr-3 text-2xl"}),h.jsxs("span",{className:"font-semibold text-lg",children:["Error: ",ee]})]})}):h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Lu,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Fu,{mainTitle:"Edit Machine History",mainTitleHighlight:"Machine History",description:"Manage activities and their configurations within the system.",icon:h.jsx(Gc,{}),isMobile:W,toggleSidebar:()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!z)),B(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[h.jsxs(kc.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[h.jsxs("div",{children:[h.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Edit Machine History Record ",F&&`(ID: ${F})`]}),h.jsx("p",{className:"text-gray-600 mt-1",children:"Update maintenance activities and machine issues"})]}),h.jsxs(kc.button,{onClick:()=>H("/machinehistory"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[h.jsx(Rc,{className:"text-lg"})," Back to History"]})]}),h.jsxs(kc.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[ee&&h.jsxs(kc.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[h.jsx("strong",{className:"font-bold",children:"Error!"}),h.jsx("span",{className:"block sm:inline ml-2",children:ee}),h.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:h.jsx(Pu,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>te(null)})})]}),h.jsxs("form",{onSubmit:async e=>{e.preventDefault(),Z(!0),te(null),re(null);const t={...Y,perbaikanPerawatan:"Perbaikan"===Y.jenisAktivitas?"Perbaikan":"Perawatan",runningHour:Y.runningHour?parseInt(String(Y.runningHour).replace(/\./g,""),10):0,jumlah:Y.jumlah?parseInt(String(Y.jumlah).replace(/\./g,""),10):0};try{const e=await V(F,t);re(e.message||"Machine history updated successfully!"),ie(!0)}catch(n){te(n.message||"Failed to update machine history.")}finally{Z(!1)}},className:"space-y-6",children:[h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[h.jsx(id,{className:"mr-2 text-blue-500"})," General Information"]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"date",className:"block text-sm font-medium text-gray-700 mb-1",children:["Date ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"date",name:"date",id:"date",value:Y.date,onChange:se,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"shift",className:"block text-sm font-medium text-gray-700 mb-1",children:["Shift ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx(rN,{name:"shift",id:"shift",options:(null==(t=null==(e=null==q?void 0:q.shifts)?void 0:e.data)?void 0:t.map(e=>({value:e.id,label:e.name})))||[],value:(null==(r=null==(n=null==q?void 0:q.shifts)?void 0:n.data)?void 0:r.map(e=>({value:e.id,label:e.name})).find(e=>String(e.value)===String(Y.shift)))||null,onChange:e=>se(e,"shift"),placeholder:"Select Shift",styles:de,required:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"group",className:"block text-sm font-medium text-gray-700 mb-1",children:["Group ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx(rN,{name:"group",id:"group",options:(null==(i=null==(a=null==q?void 0:q.groups)?void 0:a.data)?void 0:i.map(e=>({value:e.id,label:e.name})))||[],value:(null==(o=null==(s=null==q?void 0:q.groups)?void 0:s.data)?void 0:o.map(e=>({value:e.id,label:e.name})).find(e=>String(e.value)===String(Y.group)))||null,onChange:e=>se(e,"group"),placeholder:"Select Group",styles:de,required:!0})]})]})]}),h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[h.jsx(id,{className:"mr-2 text-indigo-500"})," Time Details"]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Start Time ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("input",{type:"number",name:"startJam",id:"startJam",value:null===Y.startJam?"":Y.startJam,onChange:se,min:"0",max:"23",placeholder:"HH",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0}),h.jsx("span",{className:"text-gray-500 text-lg",children:":"}),h.jsx("input",{type:"number",name:"startMenit",id:"startMenit",value:null===Y.startMenit?"":Y.startMenit,onChange:se,min:"0",max:"59",placeholder:"MM",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Stop Time ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("input",{type:"number",name:"stopJam",id:"stopJam",value:null===Y.stopJam?"":Y.stopJam,onChange:se,min:"0",max:"23",placeholder:"HH",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0}),h.jsx("span",{className:"text-gray-500 text-lg",children:":"}),h.jsx("input",{type:"number",name:"stopMenit",id:"stopMenit",value:null===Y.stopMenit?"":Y.stopMenit,onChange:se,min:"0",max:"59",placeholder:"MM",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"stopTime",className:"block text-sm font-medium text-gray-700 mb-1",children:["Stop Type ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx(rN,{name:"stopTime",id:"stopTime",options:(null==(c=null==(l=null==q?void 0:q.stoptimes)?void 0:l.data)?void 0:c.map(e=>({value:e.id,label:e.name})))||[],value:(null==(u=null==(d=null==q?void 0:q.stoptimes)?void 0:d.data)?void 0:u.map(e=>({value:e.id,label:e.name})).find(e=>String(e.value)===String(Y.stopTime)))||null,onChange:e=>se(e,"stopTime"),placeholder:"Select Stop Type",styles:de,required:!0})]})]})]}),h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[h.jsx(yu,{className:"mr-2 text-green-500"})," Machine Details"]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"mesin",className:"block text-sm font-medium text-gray-700 mb-1",children:["Machine ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx(rN,{name:"mesin",id:"mesin",options:(null==(m=null==(p=null==q?void 0:q.mesin)?void 0:p.data)?void 0:m.map(e=>({value:e.id,label:e.name})))||[],value:(null==(g=null==(f=null==q?void 0:q.mesin)?void 0:f.data)?void 0:g.map(e=>({value:e.id,label:e.name})).find(e=>String(e.value)===String(Y.mesin)))||null,onChange:e=>se(e,"mesin"),placeholder:"Select Machine",styles:de,required:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"runningHour",className:"block text-sm font-medium text-gray-700 mb-1",children:["Running Hour ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",name:"runningHour",id:"runningHour",value:oe(Y.runningHour),onChange:se,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., 12.500",required:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"unit",className:"block text-sm font-medium text-gray-700 mb-1",children:["Unit ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx(rN,{name:"unit",id:"unit",options:(null==(y=null==(b=null==q?void 0:q.units)?void 0:b.data)?void 0:y.map(e=>({value:e.id,label:e.name})))||[],value:(null==(w=null==(v=null==q?void 0:q.units)?void 0:v.data)?void 0:w.map(e=>({value:e.id,label:e.name})).find(e=>String(e.value)===String(Y.unit)))||null,onChange:e=>se(e,"unit"),placeholder:"Select Unit",styles:de,required:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"itemTrouble",className:"block text-sm font-medium text-gray-700 mb-1",children:["Item Trouble ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx(rN,{name:"itemTrouble",id:"itemTrouble",options:(null==(N=null==(j=null==q?void 0:q.itemtroubles)?void 0:j.data)?void 0:N.map(e=>({value:e.id,label:e.name})))||[],value:(null==(S=null==(k=null==q?void 0:q.itemtroubles)?void 0:k.data)?void 0:S.map(e=>({value:e.id,label:e.name})).find(e=>String(e.value)===String(Y.itemTrouble)))||null,onChange:e=>se(e,"itemTrouble"),placeholder:"Select Item Trouble",styles:de,required:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"jenisGangguan",className:"block text-sm font-medium text-gray-700 mb-1",children:["Type of Disturbance ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",name:"jenisGangguan",id:"jenisGangguan",value:Y.jenisGangguan,onChange:se,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., Electrical Issue",required:!0})]}),h.jsxs("div",{className:"md:col-span-2",children:[h.jsxs("label",{htmlFor:"bentukTindakan",className:"block text-sm font-medium text-gray-700 mb-1",children:["Action Taken ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx(gI,{value:Y.bentukTindakan,onChange:e=>{K(t=>({...t,bentukTindakan:e}))}})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"rootCause",className:"block text-sm font-medium text-gray-700 mb-1",children:["Root Cause ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("textarea",{name:"rootCause",id:"rootCause",value:Y.rootCause,onChange:se,rows:3,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"Identify the root cause...",required:!0})]})]})]}),h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[h.jsx(zd,{className:"mr-2 text-purple-500"})," Activity Details"]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"jenisAktivitas",className:"block text-sm font-medium text-gray-700 mb-1",children:["Type of Activity ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx(rN,{name:"jenisAktivitas",id:"jenisAktivitas",options:(null==(_=null==(C=null==q?void 0:q.jenisaktivitas)?void 0:C.data)?void 0:_.map(e=>({value:e.id,label:e.name})))||[],value:(null==(T=null==(A=null==q?void 0:q.jenisaktivitas)?void 0:A.data)?void 0:T.map(e=>({value:e.id,label:e.name})).find(e=>String(e.value)===String(Y.jenisAktivitas)))||null,onChange:e=>se(e,"jenisAktivitas"),placeholder:"Select Type of Activity",styles:de,required:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"kegiatan",className:"block text-sm font-medium text-gray-700 mb-1",children:["Activity ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx(rN,{name:"kegiatan",id:"kegiatan",options:(null==(E=null==(O=null==q?void 0:q.kegiatans)?void 0:O.data)?void 0:E.map(e=>({value:e.id,label:e.name})))||[],value:(null==(P=null==(M=null==q?void 0:q.kegiatans)?void 0:M.data)?void 0:P.map(e=>({value:e.id,label:e.name})).find(e=>String(e.value)===String(Y.kegiatan)))||null,onChange:e=>se(e,"kegiatan"),placeholder:"Select Activity",styles:de,required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"kodePart",className:"block text-sm font-medium text-gray-700 mb-1",children:"Part Code"}),h.jsx("input",{type:"text",name:"kodePart",id:"kodePart",value:Y.kodePart,onChange:se,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., P001"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"sparePart",className:"block text-sm font-medium text-gray-700 mb-1",children:"Spare Part"}),h.jsx("input",{type:"text",name:"sparePart",id:"sparePart",value:Y.sparePart,onChange:se,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., Oil Filter"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"idPart",className:"block text-sm font-medium text-gray-700 mb-1",children:"Part ID"}),h.jsx("input",{type:"text",name:"idPart",id:"idPart",value:Y.idPart,onChange:se,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., SPU-005"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"jumlah",className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantity"}),h.jsx("input",{type:"text",name:"jumlah",id:"jumlah",value:oe(Y.jumlah),onChange:se,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., 5"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"unitSparePart",className:"block text-sm font-medium text-gray-700 mb-1",children:"Spare Part Unit"}),h.jsx(rN,{name:"unitSparePart",id:"unitSparePart",options:(null==(L=null==(D=null==q?void 0:q.unitspareparts)?void 0:D.data)?void 0:L.map(e=>({value:e.id,label:e.name})))||[],value:(null==(R=null==(I=null==q?void 0:q.unitspareparts)?void 0:I.data)?void 0:R.map(e=>({value:e.id,label:e.name})).find(e=>String(e.value)===String(Y.unitSparePart)))||null,onChange:e=>se(e,"unitSparePart"),placeholder:"Select Unit",styles:de})]})]})]}),h.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[h.jsxs(kc.button,{type:"button",onClick:le,whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",children:[h.jsx(vu,{className:"mr-2 h-5 w-5"})," Clear Form"]}),h.jsx(kc.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:Q,children:Q?h.jsxs(h.Fragment,{children:[h.jsx(Ad,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):h.jsxs(h.Fragment,{children:[h.jsx(du,{className:"mr-2 h-5 w-5"})," Save Changes"]})})]})]})]})]})]}),h.jsx(yI,{isOpen:ae,onClose:ce,title:"Success!",children:h.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[h.jsx(td,{className:"text-green-500 text-6xl mb-4"}),h.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:"Your machine history record has been updated successfully!"}),h.jsx(kc.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:ce,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Go to Machine History"})]})})]}):h.jsx("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900 justify-center items-center",children:h.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-6 py-4 rounded-lg flex items-center shadow-lg",role:"alert",children:[h.jsx(Pu,{className:"mr-3 text-2xl"}),h.jsx("span",{className:"font-semibold text-lg",children:"Error: Master data failed to load. Please refresh the page."})]})})},wI={dashboard:{view:"1",edit:"2"},assets:{view:"3",create:"4",edit:"5",delete:"6"},workorders:{view:"7",create:"8",assign:"9",complete:"10",edit:"18",delete:"19"},machinehistory:{view:"31",create:"32",edit:"33",delete:"34"},inventory:{view:"23",create:"24",edit:"25",delete:"26"},reports:{view:"11",create:"20",edit:"21",export:"12",delete:"22"},teams:{view:"27",create:"28",edit:"29",delete:"30"},settings:{view:"13",edit:"14"},permissions:{view:"15",edit:"16"},users:{manage:"17"}},jI=()=>{var e;const{user:t,logout:n,fetchWithAuth:r,getUsers:a,hasPermission:i,updateUserPermissions:s,deleteUser:o,createRole:l,updateRole:c}=gt(),d=je();ye();const[u,p]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return!!e&&JSON.parse(e)}),[m,f]=x.useState(window.innerWidth<768),[g,b]=x.useState("roles"),[y,v]=x.useState(null),[w,j]=x.useState(null),[N,k]=x.useState(!1),[S,C]=x.useState({}),[_,A]=x.useState("all"),[T,O]=x.useState(""),[E,M]=x.useState([]),[P,D]=x.useState([]),[L,I]=x.useState(!1);x.useRef(null),x.useEffect(()=>{const e=()=>{f(window.innerWidth<768),window.innerWidth<768&&p(!1)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),x.useEffect(()=>{localStorage.setItem("sidebarOpen",JSON.stringify(u))},[u]),x.useEffect(()=>{i("view_permissions")&&(async()=>{try{const[e,t]=await Promise.all([a(),r("/roles")]),n=(e||e).map(e=>({id:String(e.id),name:e.name,nik:e.nik,email:e.email,roleId:e.role_id?String(e.role_id):null,role:e.role?{id:e.role.id,name:e.role.name}:void 0,customPermissions:e.customPermissions||[],department:e.department||null,department_id:e.department_id||null,permissions:e.permissions||e.allPermissions||[]})),i=t.map(e=>({id:String(e.id),name:e.name,description:e.description||`${e.name} role`,permissions:e.permissions.map(String),isSuperadmin:"superadmin"===e.name}));M(n),D(i)}catch(e){}})()},[a,r,i]);const R=e=>{C(t=>({...t,[e]:!t[e]}))},F=x.useCallback(async()=>{if(y&&i("edit_permissions"))if(y.name.trim())try{const e={name:y.name,description:y.description,permissions:y.permissions};y.id?await c(y.id,e):await l(e);const t=(await r("/roles")).map(e=>({id:String(e.id),name:e.name,description:e.description,permissions:e.permissions.map(String),isSuperadmin:"superadmin"===e.name}));D(t),k(!1),v(null)}catch(e){}else alert("Role name cannot be empty!");else alert("You don't have permission or role data is incomplete.")},[y,i,c,l,r]),H=x.useCallback(async e=>{if(window.confirm("Are you sure you want to delete this user?")){I(!0);try{await o(e);const t=await a();M(t)}catch(t){}finally{I(!1)}}},[o,a]),z=e=>{if(!e)return"No Role";const t=P.find(t=>String(t.id)===String(e));return t?t.name:"No Role"},B=["all",...new Set(E.map(e=>{var t;return(null==(t=e.department)?void 0:t.name)||""}).filter(Boolean))],W=E.filter(e=>{var t;return"all"===_||(null==(t=e.department)?void 0:t.name)===_}).filter(e=>e.name.toLowerCase().includes(T.toLowerCase())||e.nik.toLowerCase().includes(T.toLowerCase()));return i("15")?h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[h.jsx(Lu,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Fu,{mainTitle:"Permission",mainTitleHighlight:"Management",description:"Manage user roles and permissions to control access and functionality within the system.",icon:h.jsx(Pd,{}),isMobile:m,toggleSidebar:()=>{p(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[h.jsx(kc.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:h.jsxs("div",{children:[h.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Permission ",h.jsx("span",{className:"text-blue-600",children:"Management"})]}),h.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Manage user roles and permissions to control access and functionality within the system."})]})}),h.jsx("div",{className:"bg-white rounded-2xl shadow-md p-5 border border-blue-100 mb-6",children:h.jsxs("div",{className:"flex border-b border-gray-100",children:[h.jsxs("button",{onClick:()=>b("roles"),className:"px-6 py-3 font-medium text-sm flex items-center "+("roles"===g?"text-blue-700 border-b-2 border-blue-700":"text-gray-600 hover:text-gray-900"),children:[h.jsx(Pd,{className:"mr-2 text-base"}),"Roles & Permissions"]}),h.jsxs("button",{onClick:()=>b("users"),className:"px-6 py-3 font-medium text-sm flex items-center "+("users"===g?"text-blue-700 border-b-2 border-blue-700":"text-gray-600 hover:text-gray-900"),children:[h.jsx(Ou,{className:"mr-2 text-base"}),"User Permissions"]})]})}),"roles"===g&&h.jsxs("div",{children:[h.jsxs("div",{className:"flex justify-between items-center mb-6",children:[h.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Roles"}),i("16")&&h.jsxs(kc.button,{onClick:()=>{k(!0),v({id:null,name:"",description:"",permissions:[],isSuperadmin:!1})},whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[h.jsx(nu,{className:"text-base"}),h.jsx("span",{children:"Add Role"})]})]}),N&&h.jsxs(kc.div,{whileHover:{y:-2,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.05)"},transition:{type:"spring",stiffness:300},className:"bg-white rounded-2xl shadow-md p-6 mb-6 border border-blue-100",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:(null==y?void 0:y.id)?"Edit Role":"Add New Role"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role Name"}),h.jsx("input",{type:"text",value:(null==y?void 0:y.name)||"",onChange:e=>v(t=>({...t,name:e.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., Maintenance Manager"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),h.jsx("input",{type:"text",value:(null==y?void 0:y.description)||"",onChange:e=>v(t=>({...t,description:e.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Brief description of the role"})]})]}),h.jsx("h4",{className:"font-medium text-gray-700 mb-3",children:"Permissions"}),h.jsx("div",{className:"space-y-4",children:Object.entries(wI).map(([e,t])=>h.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[h.jsxs("button",{onClick:()=>R(e),className:"w-full flex justify-between items-center p-3 bg-gray-50 hover:bg-gray-100 transition-colors duration-200",children:[h.jsx("span",{className:"font-medium text-gray-700 capitalize",children:e.replace(/([A-Z])/g," $1").trim()}),S[e]?h.jsx(Zc,{}):h.jsx(Jc,{})]}),h.jsx(Mi,{children:S[e]&&h.jsx(kc.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"p-3 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 bg-white",children:Object.entries(t).map(([t,n])=>h.jsxs("div",{className:"flex items-center",children:[h.jsx("input",{type:"checkbox",id:`perm-${n}`,checked:(null==y?void 0:y.isSuperadmin)||(null==y?void 0:y.permissions.includes(n))||!1,onChange:()=>(e=>{y&&!y.isSuperadmin&&v(t=>({...t,permissions:t.permissions.includes(e)?t.permissions.filter(t=>t!==e):[...t.permissions,e]}))})(n),disabled:null==y?void 0:y.isSuperadmin,className:"h-4 w-4 text-blue-600 rounded focus:ring-blue-500 border-gray-300"}),h.jsx("label",{htmlFor:`perm-${n}`,className:"ml-2 text-sm text-gray-700",children:h.jsxs("div",{className:"font-medium",children:[t," ",e.replace(/([A-Z])/g," $1").trim(),(null==y?void 0:y.isSuperadmin)&&h.jsx("span",{className:"ml-2 text-xs bg-blue-100 text-blue-800 px-2 py-0.5 rounded",children:"Superadmin"})]})})]},n))})})]},e))}),h.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[h.jsx(kc.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>{k(!1),v(null)},className:"px-4 py-2 border border-gray-300 text-gray-700 hover:bg-gray-50 rounded-lg transition-colors duration-200 font-medium text-sm",children:"Cancel"}),h.jsx(kc.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:F,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors duration-200 font-medium text-sm",children:"Save Role"})]})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:P.map(e=>h.jsxs(kc.div,{whileHover:{y:-2,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.05)"},transition:{type:"spring",stiffness:300},className:"bg-white rounded-2xl shadow-sm p-6 border border-blue-100 h-full",children:[h.jsxs("div",{className:"flex justify-between items-start mb-2",children:[h.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:[e.name,e.isSuperadmin&&h.jsx("span",{className:"ml-2 text-xs bg-blue-100 text-blue-800 px-2 py-0.5 rounded",children:"Superadmin"})]}),h.jsxs("div",{className:"flex space-x-2",children:[!e.isSuperadmin&&i("16")&&h.jsx(kc.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>(e=>{v(e),k(!0)})(e),className:"text-blue-600 hover:text-blue-800 transition-colors duration-200 p-1 rounded-full hover:bg-blue-50",title:"Edit",children:h.jsx(gu,{className:"text-base"})}),!e.isSuperadmin&&i("17")&&h.jsx(kc.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>(async e=>{if(i("manage_users")&&window.confirm("Are you sure you want to delete this role?"))try{await r(`/roles/${e}`,{method:"DELETE"});const t=(await r("/roles")).map(e=>({id:String(e.id),name:e.name,description:e.description,permissions:e.permissions.map(String),isSuperadmin:"superadmin"===e.name}));D(t)}catch(t){}})(e.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:h.jsx(vu,{className:"text-base"})})]})]}),h.jsx("p",{className:"text-gray-600 text-sm mb-4",children:e.description}),h.jsxs("div",{className:"space-y-2",children:[h.jsxs("div",{className:"flex items-center justify-between text-sm",children:[h.jsx("span",{className:"text-gray-500",children:"Permissions:"}),h.jsx("span",{className:"font-medium text-gray-900",children:e.permissions.length})]}),h.jsxs("div",{className:"flex items-center justify-between text-sm",children:[h.jsx("span",{className:"text-gray-500",children:"Users with this role:"}),h.jsx("span",{className:"font-medium text-gray-900",children:E.filter(t=>t.roleId===e.id).length})]})]})]},e.id))})]}),"users"===g&&h.jsxs("div",{children:[h.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0 mb-6",children:[h.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Users"}),h.jsxs("div",{className:"flex flex-col md:flex-row space-y-3 md:space-y-0 md:space-x-3",children:[h.jsxs("div",{className:"relative",children:[h.jsx(uu,{className:"absolute left-3 top-3 text-gray-400"}),h.jsx("input",{type:"text",placeholder:"Search users...",value:T,onChange:e=>O(e.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 pl-10 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent w-full"})]}),h.jsx("select",{value:_,onChange:e=>A(e.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:B.map(e=>h.jsx("option",{value:e,children:"all"===e?"All Departments":e},e))}),i("17")&&h.jsxs(kc.button,{whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},onClick:()=>d("/permissions/adduser"),className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[h.jsx(Au,{className:"text-base"}),h.jsx("span",{children:"Add User"})]})]})]}),h.jsx("div",{className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:h.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:h.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[h.jsx("thead",{className:"bg-blue-50",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Name"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"NIK"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Email"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Department"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Role"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Permissions"}),h.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),h.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:W.map(e=>{var n,r,a;return h.jsxs("tr",{className:"hover:bg-blue-50 transition-colors duration-150",children:[h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.name}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:e.nik}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:e.email}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:(null==(n=e.department)?void 0:n.name)||"-"}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:(null==(r=e.role)?void 0:r.name)||z(e.roleId)}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:"3"===e.roleId?h.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-blue-100 text-blue-800",children:"All permissions"}):(null==(a=e.customPermissions)?void 0:a.length)?h.jsxs("span",{className:"cursor-help border-b border-dashed border-gray-400",title:e.customPermissions.join(", "),children:[e.customPermissions.length," custom"]}):h.jsx("span",{className:"italic text-gray-400",children:"None"})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-2",children:i("edit_permissions")&&h.jsxs(h.Fragment,{children:[h.jsx(kc.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>(e=>{const t=P.find(t=>String(t.id)===String(e.roleId));j({...e,rolePermissions:(null==t?void 0:t.permissions)||[],customPermissions:e.customPermissions||[],permissions:e.permissions||[]})})(e),className:"text-blue-600 hover:text-blue-800 transition-colors duration-200 p-1 rounded-full hover:bg-blue-50",title:"Edit",children:h.jsx(gu,{className:"text-base"})}),e.id!==(null==t?void 0:t.id)&&i("manage_users")&&h.jsx(kc.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>H(e.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:h.jsx(vu,{className:"text-base"})})]})})]},e.id)})})]})})})]})]})]}),h.jsx(Mi,{children:w&&h.jsx(kc.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:h.jsxs(kc.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[h.jsxs("div",{className:"flex justify-between items-center border-b border-gray-100 p-4 sticky top-0 bg-white z-10",children:[h.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Edit User Permissions"}),h.jsx("button",{onClick:()=>j(null),className:"text-gray-500 hover:text-gray-700",children:h.jsx(Pu,{className:"text-xl"})})]}),h.jsxs("div",{className:"p-6",children:[!w.roleId&&h.jsx("div",{className:"p-3 bg-yellow-50 rounded-md mb-4",children:h.jsx("p",{className:"text-yellow-700",children:"⚠️ This user has no role assigned. Permissions will come only from custom permissions."})}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),h.jsx("div",{className:"font-medium text-gray-900",children:w.name})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"NIK"}),h.jsx("div",{className:"text-gray-600",children:w.nik})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),h.jsx("div",{className:"text-gray-600",children:w.email})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department"}),h.jsx("div",{className:"text-gray-600",children:(null==(e=w.department)?void 0:e.name)||"-"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),h.jsxs("select",{value:w.roleId||"",onChange:e=>{const t=e.target.value||null,n=P.find(e=>String(e.id)===String(t));j({...w,roleId:t,rolePermissions:(null==n?void 0:n.permissions)||[]})},className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[h.jsx("option",{value:"",children:"No Role"}),P.map(e=>h.jsx("option",{value:String(e.id),children:e.name},e.id))]})]})]}),h.jsx("h4",{className:"font-medium text-gray-700 mb-3",children:"Custom Permissions"}),h.jsx("div",{className:"space-y-4",children:Object.entries(wI).map(([e,t])=>h.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[h.jsxs("button",{onClick:()=>R(e),className:"w-full flex justify-between items-center p-3 bg-gray-50 hover:bg-gray-100 transition-colors duration-200",children:[h.jsx("span",{className:"font-medium text-gray-700 capitalize",children:e.replace(/([A-Z])/g," $1").trim()}),S[e]?h.jsx(Zc,{}):h.jsx(Jc,{})]}),h.jsx(Mi,{children:S[e]&&h.jsx(kc.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"p-3 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 bg-white",children:Object.entries(t).map(([t,n])=>{var r,a;const i=(null==(r=w.rolePermissions)?void 0:r.includes(n))||!1,s="3"===w.roleId,o=s||i||(null==(a=w.customPermissions)?void 0:a.includes(n)),l=s||i;return h.jsxs("div",{className:"flex items-center "+(l?"opacity-50":""),children:[h.jsx("input",{type:"checkbox",id:`user-perm-${n}`,checked:o,onChange:()=>!l&&(e=>{w&&"3"!==w.roleId&&j(t=>{if(!t)return null;const n=t.customPermissions.includes(e)?t.customPermissions.filter(t=>t!==e):[...t.customPermissions,e];return{...t,customPermissions:n,permissions:[...new Set([...t.rolePermissions||[],...n])]}})})(n),disabled:l,className:"h-4 w-4 rounded focus:ring-blue-500 "+(s?"text-blue-600":i?"text-purple-600":"text-blue-600")}),h.jsx("label",{htmlFor:`user-perm-${n}`,className:"ml-2 text-sm text-gray-700",children:h.jsxs("div",{className:"font-medium flex items-center",children:[t," ",e.replace(/([A-Z])/g," $1").trim(),s&&h.jsx("span",{className:"ml-2 text-xs bg-blue-100 text-blue-800 px-2 py-0.5 rounded",children:"Superadmin"}),i&&!s&&h.jsx("span",{className:"ml-2 text-xs bg-purple-100 text-purple-800 px-2 py-0.5 rounded",children:"from role"})]})})]},n)})})})]},e))})]}),h.jsxs("div",{className:"flex justify-end space-x-3 p-4 border-t border-gray-100 sticky bottom-0 bg-white",children:[h.jsx(kc.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>j(null),className:"px-4 py-2 border border-gray-300 text-gray-700 hover:bg-gray-50 rounded-lg transition-colors duration-200 font-medium text-sm",children:"Cancel"}),h.jsx(kc.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:async()=>{if(w)try{const e=await s(w.id,{roleId:w.roleId||null,customPermissions:w.customPermissions||[]});M(E.map(t=>{if(t.id===e.id){const t=e.roleId||null,n=P.find(e=>String(e.id)===String(t)),r=(null==n?void 0:n.permissions)||[],a=e.customPermissions||[],i=[...new Set([...r,...a])];return{...e,roleId:t,customPermissions:a,rolePermissions:r,permissions:i}}return t})),j(null)}catch(e){}},className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors duration-200 font-medium text-sm",children:"Save Changes"})]})]})})})]}):h.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50 font-sans",children:h.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 text-center border border-red-200",children:[h.jsx(ju,{className:"text-red-500 text-4xl mx-auto mb-4"}),h.jsx("p",{className:"text-xl text-red-600 font-semibold",children:"You don't have permission to access this page"})]})})},NI=()=>{const{changePassword:e}=gt(),t=je(),[n,r]=x.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[a,i]=x.useState({currentPassword:"",newPassword:"",confirmPassword:"",general:""}),[s,o]=x.useState(!1),[l,c]=x.useState({current:!1,new:!1,confirm:!1}),[d,u]=x.useState(""),p=e=>{const{name:t,value:n}=e.target;r(e=>({...e,[t]:n})),a[t]&&i(e=>({...e,[t]:"",general:""}))},m=e=>{c(t=>({...t,[e]:!t[e]}))};return h.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[h.jsxs("header",{className:"bg-white shadow-sm py-4 px-6 flex items-center",children:[h.jsx(kc.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(-1),className:"p-2 rounded-full hover:bg-gray-100 mr-4",children:h.jsx(At,{className:"text-xl text-gray-700"})}),h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Change Password"}),h.jsx("p",{className:"text-sm text-gray-500",children:"Update your account password"})]})]}),h.jsxs("main",{className:"flex-1 p-4 md:p-6 max-w-3xl mx-auto w-full",children:[h.jsxs(kc.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"bg-white rounded-xl shadow-sm p-6 border border-blue-100",children:[h.jsxs("div",{className:"mb-6",children:[h.jsxs("div",{className:"flex items-center mb-2",children:[h.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center mr-3",children:h.jsx(It,{className:"text-blue-600 text-lg"})}),h.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Password Update"})]}),h.jsx("p",{className:"text-gray-600 text-sm",children:"Please enter your current password and set a new one."})]}),h.jsxs("form",{onSubmit:async t=>{if(t.preventDefault(),(()=>{let e=!0;const t={currentPassword:"",newPassword:"",confirmPassword:"",general:""};return n.currentPassword||(t.currentPassword="Current password is required",e=!1),n.newPassword?n.newPassword.length<8&&(t.newPassword="Password must be at least 8 characters",e=!1):(t.newPassword="New password is required",e=!1),n.newPassword!==n.confirmPassword&&(t.confirmPassword="Passwords do not match",e=!1),i(t),e})()){o(!0),u("");try{await e(n.currentPassword,n.newPassword),u("Your password has been changed successfully!"),r({currentPassword:"",newPassword:"",confirmPassword:""}),i({currentPassword:"",newPassword:"",confirmPassword:"",general:""})}catch(a){i(e=>({...e,general:a.message||"Failed to change password. Please try again."}))}finally{o(!1)}}},className:"space-y-6",children:[h.jsxs(Mi,{children:[a.general&&h.jsxs(kc.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0},className:"bg-red-50 border-l-4 border-red-500 p-4 rounded flex items-start",children:[h.jsx(_t,{className:"text-red-500 mr-3 mt-0.5 flex-shrink-0"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-red-700 font-medium",children:"Error"}),h.jsx("p",{className:"text-red-600 text-sm",children:a.general})]})]}),d&&h.jsxs(kc.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0},className:"bg-green-50 border-l-4 border-green-500 p-4 rounded flex items-start",children:[h.jsx(Tt,{className:"text-green-500 mr-3 mt-0.5 flex-shrink-0"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-green-700 font-medium",children:"Success"}),h.jsx("p",{className:"text-green-600 text-sm",children:d})]})]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"currentPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Current Password"}),h.jsxs("div",{className:"relative",children:[h.jsx("input",{type:l.current?"text":"password",id:"currentPassword",name:"currentPassword",value:n.currentPassword,onChange:p,className:`w-full border ${a.currentPassword?"border-red-300":"border-gray-300"} rounded-md px-3 py-2 pr-10 focus:outline-none focus:ring-2 focus:ring-blue-500`,disabled:s,autoComplete:"current-password"}),h.jsx("button",{type:"button",onClick:()=>m("current"),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-500 hover:text-gray-700","aria-label":l.current?"Hide password":"Show password",children:l.current?h.jsx(Mt,{}):h.jsx(Pt,{})})]}),a.currentPassword&&h.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[h.jsx(_t,{className:"mr-1"})," ",a.currentPassword]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"New Password"}),h.jsxs("div",{className:"relative",children:[h.jsx("input",{type:l.new?"text":"password",id:"newPassword",name:"newPassword",value:n.newPassword,onChange:p,className:`w-full border ${a.newPassword?"border-red-300":"border-gray-300"} rounded-md px-3 py-2 pr-10 focus:outline-none focus:ring-2 focus:ring-blue-500`,disabled:s,autoComplete:"new-password"}),h.jsx("button",{type:"button",onClick:()=>m("new"),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-500 hover:text-gray-700","aria-label":l.new?"Hide password":"Show password",children:l.new?h.jsx(Mt,{}):h.jsx(Pt,{})})]}),h.jsxs("div",{className:"mt-3 bg-blue-50 p-3 rounded-md",children:[h.jsxs("p",{className:"text-xs font-medium text-gray-700 mb-1 flex items-center",children:[h.jsx(Lt,{className:"mr-1 text-blue-500"})," Password requirement:"]}),h.jsx("p",{className:"text-xs text-gray-600",children:"Must be at least 8 characters long"})]}),a.newPassword&&h.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[h.jsx(_t,{className:"mr-1"})," ",a.newPassword]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm New Password"}),h.jsxs("div",{className:"relative",children:[h.jsx("input",{type:l.confirm?"text":"password",id:"confirmPassword",name:"confirmPassword",value:n.confirmPassword,onChange:p,className:`w-full border ${a.confirmPassword?"border-red-300":"border-gray-300"} rounded-md px-3 py-2 pr-10 focus:outline-none focus:ring-2 focus:ring-blue-500`,disabled:s,autoComplete:"new-password"}),h.jsx("button",{type:"button",onClick:()=>m("confirm"),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-500 hover:text-gray-700","aria-label":l.confirm?"Hide password":"Show password",children:l.confirm?h.jsx(Mt,{}):h.jsx(Pt,{})})]}),a.confirmPassword&&h.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[h.jsx(_t,{className:"mr-1"})," ",a.confirmPassword]})]}),h.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-100",children:[h.jsx(kc.button,{type:"button",whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>t(-1),disabled:s,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 disabled:opacity-50",children:"Cancel"}),h.jsx(kc.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},disabled:s||n.newPassword.length<8||n.newPassword!==n.confirmPassword,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:hover:bg-blue-600 flex items-center "+(s?"opacity-75":""),children:s?h.jsxs(h.Fragment,{children:[h.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[h.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),h.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Updating..."]}):h.jsxs(h.Fragment,{children:[h.jsx(It,{className:"mr-2"}),"Update Password"]})})]})]})]}),h.jsxs("div",{className:"mt-6 bg-white rounded-xl shadow-sm p-6 border border-blue-100",children:[h.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-3 flex items-center",children:[h.jsx(Lt,{className:"text-blue-500 mr-2"})," Security Tip"]}),h.jsx("p",{className:"text-sm text-gray-600",children:"Choose a password that's easy for you to remember but hard for others to guess. Avoid using common words or personal information."})]})]})]})},kI=["Dashboard","Assets","Work Orders","Machine History","Inventory","Reports","Team","Settings","Permissions","Users"],SI=[{id:"1",name:"View Dashboard",description:"Can view dashboard",category:"Dashboard"},{id:"2",name:"Edit Dashboard",description:"Can edit dashboard",category:"Dashboard"},{id:"3",name:"View Assets",description:"Can view assets",category:"Assets"},{id:"4",name:"Create Assets",description:"Can create assets",category:"Assets"},{id:"5",name:"Edit Assets",description:"Can edit assets",category:"Assets"},{id:"6",name:"Delete Assets",description:"Can delete assets",category:"Assets"},{id:"7",name:"View Work Orders",description:"Can view work orders",category:"Work Orders"},{id:"8",name:"Create Work Orders",description:"Can create work orders",category:"Work Orders"},{id:"9",name:"Assign Work Orders",description:"Can assign work orders",category:"Work Orders"},{id:"10",name:"Complete Work Orders",description:"Can complete work orders",category:"Work Orders"},{id:"18",name:"Edit Work Orders",description:"Can edit work orders",category:"Work Orders"},{id:"19",name:"Delete Work Orders",description:"Can delete work orders",category:"Work Orders"},{id:"31",name:"View Machine History",description:"Can view machine history",category:"Machine History"},{id:"32",name:"Create Machine History",description:"Can create machine history",category:"Machine History"},{id:"33",name:"Edit Machine History",description:"Can edit machine history",category:"Machine History"},{id:"34",name:"Delete Machine History",description:"Can delete machine history",category:"Machine History"},{id:"23",name:"View Inventory",description:"Can view inventory",category:"Inventory"},{id:"24",name:"Create Inventory",description:"Can create inventory",category:"Inventory"},{id:"25",name:"Edit Inventory",description:"Can edit inventory",category:"Inventory"},{id:"26",name:"Delete Inventory",description:"Can delete inventory",category:"Inventory"},{id:"11",name:"View Reports",description:"Can view reports",category:"Reports"},{id:"12",name:"Export Reports",description:"Can export reports",category:"Reports"},{id:"20",name:"Create Reports",description:"Can create reports",category:"Reports"},{id:"21",name:"Edit Reports",description:"Can edit reports",category:"Reports"},{id:"22",name:"Delete Reports",description:"Can delete reports",category:"Reports"},{id:"27",name:"View Team",description:"Can view team",category:"Team"},{id:"28",name:"Create Team",description:"Can create team",category:"Team"},{id:"29",name:"Edit Team",description:"Can edit team",category:"Team"},{id:"30",name:"Delete Team",description:"Can delete team",category:"Team"},{id:"13",name:"View Settings",description:"Can view settings",category:"Settings"},{id:"14",name:"Edit Settings",description:"Can edit settings",category:"Settings"},{id:"15",name:"View Permissions",description:"Can view permissions",category:"Permissions"},{id:"16",name:"Edit Permissions",description:"Can edit permissions",category:"Permissions"},{id:"17",name:"Manage Users",description:"Can manage users",category:"Users"}],CI=()=>{const e=je(),{user:t,register:n,getRoles:r,hasPermission:a,getDepartment:i}=gt(),[s,o]=x.useState(!1),[l,c]=x.useState({}),[d,u]=x.useState(!1),[p,m]=x.useState({}),[f,g]=x.useState([]),[b,y]=x.useState([]),[v,w]=x.useState(window.innerWidth<768),[j,N]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return JSON.parse(e||"false")}),[k,S]=x.useState({name:"",nik:"",email:"",roleId:"",customPermissions:[],department_id:"",password:"",confirmPassword:""});x.useEffect(()=>{(async()=>{try{const e=await r();g(e);const t=await i();y(t)}catch(e){}})()},[r,i,e]);const C=kI.reduce((e,t)=>(e[t]=SI.filter(e=>e.category===t),e),{}),_=e=>{const{name:t,value:n}=e.target;S(e=>({...e,[t]:n})),p[t]&&m(e=>({...e,[t]:""}))};return a("manage_users")?h.jsxs("div",{className:`flex h-screen font-sans antialiased ${s?"dark bg-gray-900":"bg-blue-50"} text-gray-900`,children:[h.jsx(Lu,{})," ",h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Fu,{mainTitle:"Add User",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:h.jsx(Tu,{}),isMobile:v,toggleSidebar:()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!j)),N(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar "+(s?"bg-gray-900":"bg-gray-50"),children:[h.jsxs(kc.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[h.jsxs("div",{children:[h.jsx("h1",{className:(s?"text-gray-100":"text-gray-900")+" text-2xl md:text-3xl font-bold",children:"Add New User"}),h.jsx("p",{className:(s?"text-gray-400":"text-gray-600")+" mt-1",children:"Fill out the form below to add a new user to the system."})]}),h.jsxs(kc.button,{onClick:()=>e("/permissions"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:(s?"bg-gray-800 border-gray-700 text-gray-200 hover:bg-gray-700":"bg-white border-gray-200 text-gray-800 hover:bg-blue-50")+" flex items-center space-x-2 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md border",children:[h.jsx(At,{className:"text-lg"}),h.jsx("span",{className:"font-semibold",children:"Back to Permissions"})]})]}),p.form&&h.jsxs(kc.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:(s?"bg-red-900 border-red-700 text-red-200":"bg-red-100 border-red-400 text-red-700")+" px-4 py-3 rounded relative border mb-6",role:"alert",children:[h.jsx("strong",{className:"font-bold",children:"Error!"}),h.jsxs("span",{className:"block sm:inline",children:[" ",p.form]})]}),h.jsxs("form",{onSubmit:async t=>{if(t.preventDefault(),(()=>{const e={};return k.name.trim()||(e.name="Name is required"),k.nik.trim()?/^\d+$/.test(k.nik)||(e.nik="NIK must be numeric"):e.nik="NIK is required",k.password?k.password.length<6&&(e.password="Password must be at least 6 characters"):e.password="Password is required",k.password!==k.confirmPassword&&(e.confirmPassword="Passwords do not match"),k.department_id||(e.department="Department is required"),k.roleId||(e.roleId="Role is required"),m(e),0===Object.keys(e).length})()){k.name,k.nik,k.email,k.password,k.confirmPassword,k.department_id,k.roleId,k.customPermissions,k.customPermissions.length,u(!0);try{await n(k.name,k.email,k.nik,k.password,k.department_id,k.roleId,k.customPermissions),e("/permissions",{state:{success:"User created successfully"}})}catch(r){m({form:r.message||"Failed to create user. Please try again."})}finally{u(!1)}}},children:[h.jsxs(kc.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:(s?"bg-gray-800 border-gray-700":"bg-white border-blue-50")+" rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border mb-6",children:[h.jsx("h3",{className:"text-lg font-semibold mb-4 "+(s?"text-gray-100":"text-gray-900"),children:"User Information"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium "+(s?"text-gray-300":"text-gray-700"),children:"Full Name*"}),h.jsx("input",{type:"text",name:"name",value:k.name,onChange:_,className:`mt-1 block w-full border ${s?"bg-gray-700 border-gray-600 text-gray-100":"border-gray-200 bg-white text-gray-900"} rounded-lg shadow-sm p-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200`,placeholder:"Enter full name"}),p.name&&h.jsx("p",{className:"mt-1 text-sm text-red-600",children:p.name})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium "+(s?"text-gray-300":"text-gray-700"),children:"NIK (Employee ID)*"}),h.jsx("input",{type:"text",name:"nik",value:k.nik,onChange:_,className:`mt-1 block w-full border ${s?"bg-gray-700 border-gray-600 text-gray-100":"border-gray-200 bg-white text-gray-900"} rounded-lg shadow-sm p-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200`,placeholder:"Enter NIK (numeric only)"}),p.nik&&h.jsx("p",{className:"mt-1 text-sm text-red-600",children:p.nik})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium "+(s?"text-gray-300":"text-gray-700"),children:"Email*"}),h.jsx("input",{type:"text",name:"email",value:k.email,onChange:_,className:`mt-1 block w-full border ${s?"bg-gray-700 border-gray-600 text-gray-100":"border-gray-200 bg-white text-gray-900"} rounded-lg shadow-sm p-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200`,placeholder:"Enter Email"}),p.email&&h.jsx("p",{className:"mt-1 text-sm text-red-600",children:p.email})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium "+(s?"text-gray-300":"text-gray-700"),children:"Department*"}),h.jsxs("select",{name:"department_id",value:k.department_id,onChange:_,className:`mt-1 block w-full border ${s?"bg-gray-700 border-gray-600 text-gray-100":"border-gray-200 bg-white text-gray-900"} rounded-lg shadow-sm p-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200`,children:[h.jsx("option",{value:"",children:"Select Department"}),b.map(e=>h.jsx("option",{value:e.id,children:e.name},e.id))]}),p.department_id&&h.jsx("p",{className:"mt-1 text-sm text-red-600",children:p.department_id})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium "+(s?"text-gray-300":"text-gray-700"),children:"Password*"}),h.jsx("input",{type:"password",name:"password",value:k.password,onChange:_,className:`mt-1 block w-full border ${s?"bg-gray-700 border-gray-600 text-gray-100":"border-gray-200 bg-white text-gray-900"} rounded-lg shadow-sm p-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200`,placeholder:"Enter password (min 6 chars)"}),p.password&&h.jsx("p",{className:"mt-1 text-sm text-red-600",children:p.password})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium "+(s?"text-gray-300":"text-gray-700"),children:"Confirm Password*"}),h.jsx("input",{type:"password",name:"confirmPassword",value:k.confirmPassword,onChange:_,className:`mt-1 block w-full border ${s?"bg-gray-700 border-gray-600 text-gray-100":"border-gray-200 bg-white text-gray-900"} rounded-lg shadow-sm p-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200`,placeholder:"Confirm password"}),p.confirmPassword&&h.jsx("p",{className:"mt-1 text-sm text-red-600",children:p.confirmPassword})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium "+(s?"text-gray-300":"text-gray-700"),children:"Role*"}),h.jsxs("select",{name:"roleId",value:k.roleId,onChange:_,className:`mt-1 block w-full border ${s?"bg-gray-700 border-gray-600 text-gray-100":"border-gray-200 bg-white text-gray-900"} rounded-lg shadow-sm p-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200`,children:[h.jsx("option",{value:"",children:"Select Role"}),f.map(e=>h.jsx("option",{value:e.id,children:e.name},e.id))]}),p.roleId&&h.jsx("p",{className:"mt-1 text-sm text-red-600",children:p.roleId})]})]})]}),h.jsxs(kc.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:(s?"bg-gray-800 border-gray-700":"bg-white border-blue-50")+" rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border mb-6",children:[h.jsx("h3",{className:"text-lg font-semibold mb-4 "+(s?"text-gray-100":"text-gray-900"),children:"Custom Permissions"}),h.jsx("p",{className:"text-sm mb-4 "+(s?"text-gray-400":"text-gray-600"),children:"Select additional permissions beyond the user's role. Permissions already included in the role are disabled."}),h.jsx("div",{className:"space-y-4",children:Object.entries(C).map(([e,t])=>h.jsxs("div",{className:(s?"border-gray-700":"border-gray-200")+" border rounded-lg overflow-hidden",children:[h.jsxs("button",{type:"button",onClick:()=>(e=>{c(t=>({...t,[e]:!t[e]}))})(e),className:`w-full flex justify-between items-center p-3 ${s?"bg-gray-700 hover:bg-gray-600":"bg-gray-50 hover:bg-gray-100"} transition-colors duration-200`,children:[h.jsx("span",{className:"font-medium "+(s?"text-gray-200":"text-gray-700"),children:e}),l[e]?h.jsx(Et,{className:s?"text-gray-400":"text-gray-500"}):h.jsx(Ot,{className:s?"text-gray-400":"text-gray-500"})]}),h.jsx(Mi,{children:l[e]&&h.jsx(kc.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"p-3 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 "+(s?"bg-gray-800":"bg-white"),children:t.map(e=>{const t=!!k.roleId&&(e=>{const t=f.find(t=>t.id===e);return t?t.permissions:[]})(k.roleId).includes(e.id),n=k.customPermissions.includes(e.id),r=t;return h.jsxs("div",{className:"flex items-center "+(r?"opacity-50":""),children:[h.jsx("input",{type:"checkbox",id:`perm-${e.id}`,checked:n||t,onChange:()=>{return!r&&(t=e.id,void S(e=>({...e,customPermissions:e.customPermissions.includes(t)?e.customPermissions.filter(e=>e!==t):[...e.customPermissions,t]})));var t},disabled:r,className:`h-4 w-4 rounded focus:ring-blue-500\n                                  ${t?s?"text-purple-400 bg-gray-700 border-gray-600":"text-purple-600":s?"text-blue-400 bg-gray-700 border-gray-600":"text-blue-600"} border-gray-300`}),h.jsxs("label",{htmlFor:`perm-${e.id}`,className:"ml-2 text-sm "+(s?"text-gray-300":"text-gray-700"),children:[h.jsxs("div",{className:"font-medium flex items-center",children:[e.name,t&&h.jsx("span",{className:`ml-2 text-xs ${s?"bg-purple-900 text-purple-300":"bg-purple-100 text-purple-800"} px-2 py-0.5 rounded`,children:"from role"})]}),h.jsx("div",{className:"text-gray-500 text-xs",children:e.description})]})]},e.id)})})})]},e))})]}),h.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[h.jsx(kc.button,{type:"button",onClick:()=>e("/permissions"),whileHover:{scale:1.03},whileTap:{scale:.97},className:(s?"border-gray-600 text-gray-200 hover:bg-gray-700":"border-gray-200 text-gray-700 hover:bg-blue-50")+" inline-flex items-center px-5 py-2.5 border text-base font-medium rounded-md shadow-sm bg-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),h.jsx(kc.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},disabled:d,className:`inline-flex items-center px-5 py-2.5 border border-transparent text-base font-medium rounded-md shadow-sm text-white ${s?"bg-blue-700 hover:bg-blue-800":"bg-blue-600 hover:bg-blue-700"} focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed`,children:d?h.jsxs(h.Fragment,{children:[h.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[h.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),h.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating..."]}):h.jsxs(h.Fragment,{children:[h.jsx(Ft,{className:"mr-2 h-5 w-5"}),"Create User"]})})]})]})]})]})]}):h.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100",children:h.jsx("div",{className:"text-xl",children:"You don't have permission to access this page"})})},_I=({title:e,value:t,change:n,icon:r})=>{const a=n.startsWith("+");return h.jsxs(kc.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[h.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:e}),h.jsx("p",{className:"text-3xl font-bold text-gray-900",children:t})]}),h.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:r})]}),h.jsxs("p",{className:"mt-3 text-xs font-semibold "+(a?"text-green-600":"text-red-600"),children:[n," from last month"]})]})},AI=({isOpen:e,onClose:t,title:n,children:r})=>e?h.jsx(kc.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:h.jsxs(kc.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl mx-auto p-6 border border-blue-100 max-h-[90vh] overflow-y-auto",children:[h.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[h.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n}),h.jsx(kc.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:t,className:"text-gray-500 hover:text-gray-700 text-2xl",children:h.jsx(Pu,{size:24})})]}),h.jsx("div",{children:r})]})}):null,TI=({isOpen:e,onClose:t,onAssign:n,workOrder:r,users:a})=>{const[i,s]=x.useState("");return e&&r?h.jsx(AI,{isOpen:e,onClose:t,title:`Assign Work Order #${r.work_order_no||r.id}`,children:h.jsxs("div",{className:"space-y-4",children:[h.jsxs("p",{className:"text-gray-700",children:["Work Order ",h.jsxs("strong",{children:["#",r.work_order_no||r.id]})," from ",h.jsx("strong",{children:r.requester.name})," needs to be assigned."]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"user-select",className:"block text-sm font-medium text-gray-700 mb-1",children:"Select User"}),h.jsxs("select",{id:"user-select",value:i,onChange:e=>s(e.target.value),className:"mt-1 block w-full pl-3 pr-10 py-2.5 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md",children:[h.jsx("option",{value:"",children:"Select User"}),a.map(e=>{var t;return h.jsxs("option",{value:e.id,children:[e.name," - ",(null==(t=e.department)?void 0:t.name)||e.department_name," (",e.position||"No Position",")"]},e.id)})]})]}),h.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[h.jsx(kc.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:t,className:"px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),h.jsx(kc.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>{r&&i&&(n(r.id,i),t())},disabled:!i,className:"px-4 py-2 rounded-md text-sm font-semibold transition-colors duration-200 "+(i?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-300 text-gray-600 cursor-not-allowed"),children:"Assign"})]})]})}):null},OI=()=>{const[e,t]=x.useState(!1),[r,a]=x.useState(!1),[i,s]=x.useState(""),[o,l]=x.useState("all"),[c,d]=x.useState(!1),[u,p]=x.useState(!1),[m,f]=x.useState(!1),[g,b]=x.useState(null),[y,v]=x.useState(1),[w]=x.useState(5),j=n(),[N,k]=x.useState(window.innerWidth<768),[S,C]=x.useState(!1),[_,A]=x.useState(!1),[T,O]=x.useState([]),[E,M]=x.useState(!0),[P,D]=x.useState(null),[L,I]=x.useState(!1),[R,F]=x.useState(null),[H,z]=x.useState(!1),[B,W]=x.useState([]),[$,U]=x.useState(!1),V=je(),q=ye(),G=x.useRef(null),Y=x.useRef(null),{user:K,getWorkOrdersIT:J,updateWorkOrderIT:X,getUsers:Q,hasPermission:Z,getVendor:ee}=gt(),te="/workorders/it/assignment"===q.pathname,ne="/workorders/it/reports"===q.pathname,re="/workorders/it/knowledgebase"===q.pathname,ae="/workorders/it"===q.pathname,ie="/workorders/it/receiver"===q.pathname;q.pathname;const se=x.useCallback(async()=>{M(!0),D(null);try{const e=(await J()).filter(e=>{var t,n,r;return((null==(n=null==(t=e.service)?void 0:t.owner)?void 0:n.id)||(null==(r=e.service)?void 0:r.service_owner))===Number(null==K?void 0:K.id)});O(e)}catch(e){D(e.message||"Failed to load work orders.")}finally{M(!1)}},[J,null==K?void 0:K.id]),oe=x.useCallback(async()=>{try{const e=await Q();W(e)}catch(e){}},[Q]),le=x.useCallback(async(e,t)=>{I(!0),F(null),z(!1);try{const n=await X({...t,id:e});return O(t=>t.map(t=>t.id===e?n:t)),z(!0),setTimeout(()=>z(!1),3e3),n}catch(n){throw F(n.message||"Failed to update work order."),n}finally{I(!1)}},[X]),ce=()=>{k(window.innerWidth<768),window.innerWidth<768&&a(!1)},de=e=>{G.current&&!G.current.contains(e.target)&&C(!1),Y.current&&!Y.current.contains(e.target)&&A(!1)};x.useEffect(()=>(window.addEventListener("resize",ce),document.addEventListener("mousedown",de),se(),oe(),()=>{window.removeEventListener("resize",ce),document.removeEventListener("mousedown",de)}),[se,oe]);const ue=e=>{switch(e){case"New":default:return"bg-gray-500 text-white";case"Assigned":return"bg-blue-600 text-white";case"In Progress":return"bg-cyan-500 text-white";case"Escalated":return"bg-purple-500 text-white";case"Vendor Handled":case"Cancel":return"bg-red-500 text-white";case"Resolved":return"bg-orange-500 text-white";case"Closed":return"bg-gray-900 text-white"}},he=e=>{switch(null==e?void 0:e.toLowerCase()){case"high":return"bg-red-500 text-white";case"medium":return"bg-yellow-500 text-white";case"low":return"bg-green-500 text-white";case"critical":return"bg-purple-500 text-white";default:return"bg-gray-500 text-white"}},pe=e=>{switch(e){case"New":return 1;case"Assigned":return 2;case"In Progress":return 3;case"Escalated":return 4;case"Vendor Handled":return 5;case"Resolved":return 6;case"Cancel":return 7;case"Closed":return 8;default:return 9}},me=e=>{switch(null==e?void 0:e.toLowerCase()){case"critical":return 1;case"high":return 2;case"medium":return 3;case"low":return 4;default:return 5}},fe=x.useCallback(e=>{const t=T.find(t=>t.id===e);t&&(b(t),p(!0))},[T]);x.useCallback(e=>{const t=T.find(t=>t.id===e);t&&(b(t),f(!0))},[T]),x.useCallback(async e=>{try{await le(e.id,e),f(!1),b(null)}catch(t){}},[le]);const ge=T.filter(e=>{var t,n,r,a;const s=(null==(n=null==(t=e.requester)?void 0:t.name)?void 0:n.toLowerCase().includes(i.toLowerCase()))||(null==(r=e.work_order_no)?void 0:r.toLowerCase().includes(i.toLowerCase()))||(null==(a=e.complaint)?void 0:a.toLowerCase().includes(i.toLowerCase()))||String(e.id).includes(i),l="all"===o||e.handling_status===o;return s&&l}).sort((e,t)=>{var n,r;const a=pe(e.handling_status),i=pe(t.handling_status);if(a!==i)return a-i;const s=me((null==(n=e.service)?void 0:n.priority)||"Medium"),o=me((null==(r=t.service)?void 0:r.priority)||"Medium");return s!==o?s-o:new Date(t.created_at).getTime()-new Date(e.created_at).getTime()}),xe=y*w,be=xe-w,ve=ge.slice(be,xe),we=Math.ceil(ge.length/w),Ne=e=>v(e),ke=x.useCallback(e=>{b(e),U(!0)},[]),Se=x.useCallback(async(e,t)=>{try{await le(e,{assigned_to_id:parseInt(t),handling_status:"Assigned",handling_date:(new Date).toISOString()}),U(!1),b(null)}catch(n){}},[le]),Ce=({order:e,onClose:t})=>{var n,r,a,i,s,o,l,c,d,u,p,m;const f=e=>null==e?"-":"object"==typeof e&&null!==e?e.name||e.title||e.id||"-":"string"==typeof e?""!==e.trim()?e.trim():"-":"number"==typeof e?e.toString():String(e),g=e=>e?new Date(e).toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-",x=({status:e})=>{const t={New:"bg-gray-100 text-gray-800 border-gray-300",Assigned:"bg-blue-100 text-blue-800 border-blue-300","In Progress":"bg-cyan-100 text-cyan-800 border-cyan-300",Escalated:"bg-purple-100 text-purple-800 border-purple-300","Vendor Handled":"bg-red-100 text-red-800 border-red-300",Resolved:"bg-orange-100 text-orange-800 border-orange-300",Cancel:"bg-gray-100 text-gray-800 border-gray-300",Closed:"bg-green-100 text-green-800 border-green-300"};return h.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold border ${t[e]||t.New}`,children:e})},b=({priority:e})=>{const t={Critical:"bg-purple-100 text-purple-800 border-purple-300",High:"bg-red-100 text-red-800 border-red-300",Medium:"bg-yellow-100 text-yellow-800 border-yellow-300",Low:"bg-green-100 text-green-800 border-green-300"};return h.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold border ${t[e]||t.Medium}`,children:e||"Medium"})},y=({title:e,children:t,icon:n})=>h.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[h.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-4 border-b border-gray-200",children:h.jsxs("div",{className:"flex items-center",children:[n&&h.jsx("div",{className:"mr-3 text-blue-600",children:n}),h.jsx("h3",{className:"text-lg font-bold text-gray-900",children:e})]})}),h.jsx("div",{className:"p-6",children:t})]}),v=({label:e,value:t,icon:n,fullWidth:r=!1,priority:a="medium"})=>h.jsx("div",{className:r?"col-span-full":"",children:h.jsx("div",{className:`p-4 rounded-lg ${{high:"border-l-4 border-l-blue-500 bg-blue-25",medium:"border-l-2 border-l-gray-200",low:"border-l border-l-gray-100"}[a]} transition-all duration-200 hover:shadow-sm`,children:h.jsxs("div",{className:"flex items-start space-x-3",children:[n&&h.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:n}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1",children:e}),h.jsx("p",{className:"text-sm font-medium text-gray-900 leading-relaxed",children:t})]})]})})}),w=({label:e,htmlContent:t,icon:n,fullWidth:r=!1})=>{if(!t)return h.jsx(v,{label:e,value:"-",icon:n,fullWidth:r,priority:"low"});const a=iy.sanitize(t,{ALLOWED_TAGS:["h1","h2","h3","h4","h5","h6","p","br","span","div","ol","ul","li","strong","b","em","i","u","s","strike","code","mark","sub","sup","blockquote","pre"],ALLOWED_ATTR:["style","class","data-color","align","type","start"]});return h.jsx("div",{className:r?"col-span-full":"",children:h.jsx("div",{className:"p-4 rounded-lg border-l-2 border-l-blue-200 bg-blue-25 transition-all duration-200 hover:shadow-sm",children:h.jsxs("div",{className:"flex items-start space-x-3",children:[n&&h.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:n}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:e}),h.jsx("div",{className:"rich-text-content text-sm text-gray-900 leading-relaxed prose prose-sm max-w-none\r\n                          prose-headings:font-semibold prose-p:my-2 prose-ul:my-2 prose-ol:my-2\r\n                          prose-li:my-1 prose-strong:font-semibold prose-em:italic",dangerouslySetInnerHTML:{__html:a}})]})]})})})},N=({order:e})=>{const n="New"===e.handling_status,r="Assigned"===e.handling_status,a=n&&Z("assign_workorders");return h.jsxs("div",{className:"flex flex-wrap gap-3 mt-6 pt-6 border-t border-gray-200",children:[a&&h.jsxs(kc.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{U(!0)},className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors duration-200 font-semibold text-sm",children:[h.jsx(Tu,{className:"w-4 h-4 mr-2"}),"Assign Technician"]}),r&&h.jsxs(kc.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>V(`/workorders/it/receiver/editreceiver/${e.id}`),className:"inline-flex items-center px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500 transition-colors duration-200 font-semibold text-sm",children:[h.jsx(gu,{className:"w-4 h-4 mr-2"}),"Edit Assignment"]}),h.jsxs(kc.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:t,className:"inline-flex items-center px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500 transition-colors duration-200 font-semibold text-sm",children:[h.jsx(Pu,{className:"w-4 h-4 mr-2"}),"Close"]})]})};return h.jsxs("div",{className:"space-y-6 max-h-[70vh] overflow-y-auto custom-scrollbar pr-2",children:[h.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6",children:h.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[h.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:["#",e.work_order_no||e.id]}),h.jsx(x,{status:e.handling_status}),h.jsx(b,{priority:null==(n=e.service)?void 0:n.priority})]}),h.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[h.jsxs("span",{className:"flex items-center gap-2",children:[h.jsx(Vc,{className:"w-4 h-4"}),"Created: ",g(e.date)]}),h.jsxs("span",{className:"flex items-center gap-2",children:[h.jsx(id,{className:"w-4 h-4"}),e.handling_date?`Handling: ${g(e.handling_date)}`:"Not yet handled"]})]})]})})}),h.jsx(y,{title:"Service Owner Information",icon:h.jsx(Tu,{className:"w-5 h-5"}),children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsx(v,{label:"Service Owner",value:f((null==(a=null==(r=e.service)?void 0:r.owner)?void 0:a.name)||(null==K?void 0:K.name)),icon:h.jsx(Tu,{className:"w-4 h-4"}),priority:"high"}),h.jsx(v,{label:"Service Department",value:f(null==(i=null==K?void 0:K.department)?void 0:i.name),icon:h.jsx(hu,{className:"w-4 h-4"})}),h.jsx(v,{label:"Service Type",value:f(null==(s=e.service_type)?void 0:s.group_name),icon:h.jsx(Mu,{className:"w-4 h-4"}),priority:"high"}),h.jsx(v,{label:"Service Name",value:f(null==(o=e.service)?void 0:o.service_name),icon:h.jsx(ad,{className:"w-4 h-4"}),priority:"high"})]})}),h.jsx(y,{title:"Request Information",icon:h.jsx(ad,{className:"w-5 h-5"}),children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[h.jsx(v,{label:"Requester",value:f(null==(l=e.requester)?void 0:l.name),icon:h.jsx(Tu,{className:"w-4 h-4"}),priority:"high"}),h.jsx(v,{label:"Requester Department",value:f(e.department_name||(null==(c=e.department)?void 0:c.name)),icon:h.jsx(hu,{className:"w-4 h-4"})}),h.jsx(v,{label:"Reception Method",value:f(e.reception_method),icon:h.jsx(Su,{className:"w-4 h-4"})}),h.jsx(v,{label:"Known By",value:f(null==(d=e.known_by)?void 0:d.name),icon:h.jsx(md,{className:"w-4 h-4"})}),h.jsx(v,{label:"Asset Number",value:f(e.asset_no),icon:h.jsx(ad,{className:"w-4 h-4"})})]})}),h.jsx(y,{title:"Technical Details",icon:h.jsx(Mu,{className:"w-5 h-5"}),children:h.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[h.jsx(v,{label:"Device Information",value:f(e.device_info),icon:h.jsx(hu,{className:"w-4 h-4"}),fullWidth:!0}),h.jsx(w,{label:"Complaint Details",htmlContent:e.complaint||"",icon:h.jsx(ju,{className:"w-4 h-4"}),fullWidth:!0})]})}),h.jsx(y,{title:"Assignment & Handling",icon:h.jsx(id,{className:"w-5 h-5"}),children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:col-span-2",children:[h.jsx(v,{label:"Current Status",value:f(e.handling_status),icon:h.jsx(id,{className:"w-4 h-4"}),priority:"high"}),h.jsx(v,{label:"Priority Level",value:f((null==(u=e.service)?void 0:u.priority)||"Medium"),icon:h.jsx(ju,{className:"w-4 h-4"}),priority:"high"})]}),h.jsx(v,{label:"Assigned To",value:f((null==(p=e.assigned_to)?void 0:p.name)||"Unassigned"),icon:h.jsx(Tu,{className:"w-4 h-4"})}),h.jsx(v,{label:"Assignment Type",value:e.vendor?"Vendor":e.assigned_to?"Internal Technician":"Not Assigned",icon:h.jsx(hu,{className:"w-4 h-4"})}),h.jsx(v,{label:"Handling Start Date",value:g(e.handling_date||"-"),icon:h.jsx(Vc,{className:"w-4 h-4"})}),h.jsx(v,{label:"Received By",value:f((null==(m=e.received_by)?void 0:m.name)||"-"),icon:h.jsx(td,{className:"w-4 h-4"})}),h.jsx(w,{label:"Action Taken",htmlContent:e.action_taken||"",icon:h.jsx(Mu,{className:"w-4 h-4"}),fullWidth:!0}),h.jsx(w,{label:"Technical Remarks",htmlContent:e.remarks||"",icon:h.jsx(ad,{className:"w-4 h-4"}),fullWidth:!0})]})}),e.vendor&&h.jsx(y,{title:"Vendor Assignment",icon:h.jsx(Tu,{className:"w-5 h-5"}),children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[h.jsx(v,{label:"Vendor Name",value:f(e.vendor.name),icon:h.jsx(Tu,{className:"w-4 h-4"}),priority:"high"}),h.jsx(v,{label:"Contact Person",value:f(e.vendor.contact_person),icon:h.jsx(Tu,{className:"w-4 h-4"})}),h.jsx(v,{label:"Email",value:f(e.vendor.email),icon:h.jsx(Vd,{className:"w-4 h-4"})}),h.jsx(v,{label:"Phone",value:f(e.vendor.telp),icon:h.jsx(eu,{className:"w-4 h-4"})}),h.jsx(v,{label:"Mobile",value:f(e.vendor.HP),icon:h.jsx(eu,{className:"w-4 h-4"})}),h.jsx(v,{label:"Address",value:f(e.vendor.address),icon:h.jsx(qd,{className:"w-4 h-4"}),fullWidth:!0})]})}),h.jsx(y,{title:"Timeline",icon:h.jsx(id,{className:"w-5 h-5"}),children:h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-lg border border-green-200",children:[h.jsx("span",{className:"text-sm font-medium text-green-800",children:"Request Created"}),h.jsx("span",{className:"text-sm text-green-600",children:g(e.date)})]}),e.handling_date&&h.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg border border-blue-200",children:[h.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Handling Started"}),h.jsx("span",{className:"text-sm text-blue-600",children:g(e.handling_date)})]}),e.assigned_to&&h.jsxs("div",{className:"flex justify-between items-center p-3 bg-purple-50 rounded-lg border border-purple-200",children:[h.jsx("span",{className:"text-sm font-medium text-purple-800",children:"Assigned to Technician"}),h.jsx("span",{className:"text-sm text-purple-600",children:f(e.assigned_to.name)})]})]})}),e.attachment&&h.jsx(y,{title:"Attachment",icon:h.jsx(Zd,{className:"w-5 h-5"}),children:h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[h.jsx("p",{className:"text-sm font-medium text-gray-700 mb-3",children:"Preview Attachment:"}),h.jsx("div",{className:"flex justify-center",children:h.jsx("img",{src:`${j.envVariables.VITE_BACKEND_API_URL}$ {order.attachment}`,alt:"Work order attachment",className:"max-w-full max-h-64 rounded-lg shadow-md object-contain",onError:e=>{e.currentTarget.style.display="none"}})})]}),h.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-25 rounded-lg border-l-4 border-l-blue-400",children:[h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx(Zd,{className:"w-5 h-5 text-blue-600 flex-shrink-0"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Attachment File"}),h.jsx("p",{className:"text-xs text-gray-500",children:"Click to download or view full size"})]})]}),h.jsxs("a",{href:`${j.envVariables.VITE_BACKEND_API_URL}${e.attachment}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200 text-sm font-medium",children:[h.jsx(pd,{className:"w-4 h-4 mr-1"}),"Open Full Size"]})]})]})}),h.jsx(N,{order:e})]})};return x.useEffect(()=>{v(1),document.documentElement.classList.toggle("dark",e)},[i,o,e]),E?h.jsxs("div",{className:"flex h-screen items-center justify-center bg-blue-50",children:[h.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-blue-600"}),h.jsx("p",{className:"ml-4 text-lg text-gray-700",children:"Loading work orders..."})]}):P?h.jsxs("div",{className:"flex h-screen items-center justify-center bg-red-50",children:[h.jsx(ju,{className:"text-red-600 text-5xl"}),h.jsxs("div",{className:"ml-4",children:[h.jsx("p",{className:"text-lg text-red-800",children:P}),h.jsx("button",{onClick:se,className:"mt-4 px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Try Again"})]})]}):h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[h.jsx(Lu,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Fu,{mainTitle:"IT Work Orders - Receiver",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:h.jsx(ad,{}),isMobile:N,toggleSidebar:()=>{a(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[h.jsxs(kc.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"isi style mb-6 flex space-x-6 border-b border-gray-200",children:[h.jsx(kc.div,{whileTap:{scale:.98},onClick:()=>V("/workorders/it"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${ae?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Request"}),h.jsx(kc.div,{whileTap:{scale:.98},onClick:()=>V("/workorders/it/receiver"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${ie?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Receiver"}),h.jsx(kc.div,{whileTap:{scale:.98},onClick:()=>V("/workorders/it/assignment"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${te?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Assignment"}),h.jsx(kc.div,{whileTap:{scale:.98},onClick:()=>V("/workorders/it/reports"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${ne?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Reports"}),h.jsx(kc.div,{whileTap:{scale:.98},onClick:()=>V("/workorders/it/knowledgebase"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${re?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Knowledge Base"})]}),R&&h.jsxs(kc.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",children:[h.jsx("span",{className:"block sm:inline",children:R}),h.jsx("button",{onClick:()=>F(null),className:"absolute top-0 right-0 p-3",children:h.jsx(Pu,{size:16})})]}),H&&h.jsxs(kc.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-4 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative",children:[h.jsx("span",{className:"block sm:inline",children:"Work order updated successfully!"}),h.jsx("button",{onClick:()=>z(!1),className:"absolute top-0 right-0 p-3",children:h.jsx(Pu,{size:16})})]}),h.jsx(kc.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"IT Receiver"}),h.jsx("p",{className:"text-gray-600 mt-1",children:"Manage IT-related work orders as a service owner"})]})}),h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[h.jsx(_I,{title:"Total IT Assignments",value:ge.length.toString(),change:"+8%",icon:h.jsx(ad,{})}),h.jsx(_I,{title:"In Progress",value:ge.filter(e=>["In Progress","Escalated","Vendor Handled"].includes(e.handling_status)).length.toString(),change:"-1",icon:h.jsx(Mu,{})}),h.jsx(_I,{title:"Resolved",value:ge.filter(e=>["Resolved","Done"].includes(e.handling_status)).length.toString(),change:"+1",icon:h.jsx(td,{})}),h.jsx(_I,{title:"Assigned",value:ge.filter(e=>"Assigned"===e.handling_status).length.toString(),change:"+3",icon:h.jsx(id,{})})]}),h.jsx(kc.div,{layout:!0,className:"mb-6 bg-white rounded-2xl shadow-md p-4 md:p-6 border border-blue-50",children:h.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0",children:[h.jsxs("div",{className:"flex-1 relative",children:[h.jsx(uu,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),h.jsx("input",{type:"text",placeholder:"Search IT assignments...",className:"w-full pl-12 pr-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base transition-all duration-200",value:i,onChange:e=>s(e.target.value)})]}),h.jsx(Mi,{children:c&&h.jsx(kc.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3 w-full md:w-auto",children:h.jsxs("select",{className:"border border-gray-200 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base appearance-none bg-no-repeat bg-right-12 bg-center-y transition-all duration-200",style:{backgroundImage:"url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='currentColor'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/svg%3E\")",backgroundSize:"1.2rem"},value:o,onChange:e=>l(e.target.value),children:[h.jsx("option",{value:"all",children:"All Statuses"}),h.jsx("option",{value:"New",children:"New"}),h.jsx("option",{value:"Assigned",children:"Assigned"}),h.jsx("option",{value:"In Progress",children:"In Progress"}),h.jsx("option",{value:"Escalated",children:"Escalated"}),h.jsx("option",{value:"Vendor Handled",children:"Vendor Handled"}),h.jsx("option",{value:"Resolved",children:"Resolved"}),h.jsx("option",{value:"Done",children:"Done"}),h.jsx("option",{value:"Cancel",children:"Cancel"})]})})})]})}),h.jsx(kc.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-50",children:h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"min-w-full divide-y divide-gray-100",children:[h.jsx("thead",{className:"bg-blue-50",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),h.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Requester"}),h.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Date"}),h.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Handling Date"}),h.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Priority"}),h.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Ticket Status"}),h.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Assigned To"}),h.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),h.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:ve.length>0?ve.map(e=>{var t,n,r,a;const i=!("Resolved"===e.handling_status||"Done"===e.handling_status||"Cancel"===e.handling_status||"Closed"===e.handling_status)&&Z("edit_workorders"),s="New"===e.handling_status;["In Progress","Escalated","Vendor Handled"].includes(e.handling_status);const o=(e=>{var t;return e.vendor?`${e.vendor.name}`:(null==(t=e.assigned_to)?void 0:t.name)||"Unassigned"})(e),l=(e=>e.vendor?"vendor":e.assigned_to?"user":"unassigned")(e);return h.jsxs(kc.tr,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.2},whileHover:{backgroundColor:"rgba(239, 246, 255, 1)"},className:"transition-colors duration-150",children:[h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 cursor-pointer hover:text-blue-600 hover:underline transition-colors duration-200",onClick:()=>fe(e.id),title:"Click to view details",children:e.work_order_no||"-"}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.requester.name}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:new Date(e.date).toLocaleDateString()}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:e.handling_date?new Date(e.handling_date).toLocaleDateString():"-"}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-bold rounded-full ${he(null==(t=e.service)?void 0:t.priority)} shadow-sm`,children:(null==(n=e.service)?void 0:n.priority)||"Medium"})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-bold rounded-full ${ue(e.handling_status)} shadow-sm`,children:e.handling_status})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:s?h.jsx(kc.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>ke(e),className:"px-3 py-1.5 text-xs font-semibold rounded-full text-white bg-blue-600 hover:bg-blue-700 transition-colors duration-200",children:"Click to Assign"}):h.jsxs("div",{className:"flex items-center",children:[h.jsx("span",{className:"text-sm font-medium "+("vendor"===l?"text-purple-600":"user"===l?"text-blue-600":"text-gray-500"),children:o}),"vendor"===l&&h.jsx("span",{className:"ml-2 px-1.5 py-0.5 text-xs bg-purple-100 text-purple-800 rounded-full",children:"Vendor"})]})}),h.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium flex items-center space-x-2",children:[h.jsx(kc.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>fe(e.id),className:"text-blue-600 hover:text-blue-800 transition-colors duration-200 flex items-center space-x-1",title:"View Details",children:h.jsx(md,{className:"text-lg"})}),i&&("In Progress"!==e.handling_status||!(null==(r=e.assigned_to)?void 0:r.name)||"N/A"===(null==(a=e.assigned_to)?void 0:a.name))&&h.jsx(kc.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>V(`/workorders/it/receiver/editreceiver/${e.id}`),className:"text-gray-600 hover:text-gray-800 transition-colors duration-200 flex items-center space-x-1",title:"Edit Assignment",children:h.jsx(gu,{className:"text-lg"})})]})]},e.id)}):h.jsx("tr",{children:h.jsx("td",{colSpan:6,className:"px-6 py-10 text-center text-gray-600 text-lg",children:"No IT work orders for assignment found matching your criteria."})})})]})})}),ge.length>w&&h.jsxs(kc.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"mt-8 flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[h.jsxs("div",{className:"text-sm text-gray-600 mb-4 sm:mb-0",children:["Showing ",h.jsx("span",{className:"font-semibold",children:be+1})," to ",h.jsx("span",{className:"font-semibold",children:Math.min(xe,ge.length)})," of"," ",h.jsx("span",{className:"font-semibold",children:ge.length})," results"]}),h.jsxs("div",{className:"flex space-x-2",children:[h.jsx(kc.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Ne(y-1),disabled:1===y,className:"px-4 py-2 border border-gray-200 rounded-lg bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm",children:"Previous"}),Array.from({length:we},(e,t)=>h.jsx(kc.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Ne(t+1),className:`px-4 py-2 rounded-lg transition-colors duration-200 shadow-sm\n                          ${y===t+1?"bg-blue-600 text-white shadow-md":"bg-white text-gray-700 hover:bg-blue-50 border border-gray-200"}\n                        `,children:t+1},t+1)),h.jsx(kc.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Ne(y+1),disabled:y===we,className:"px-4 py-2 border border-gray-200 rounded-lg bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm",children:"Next"})]})]})]})]}),g&&h.jsx(kc.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:h.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 p-4 overflow-y-auto",children:h.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl mx-auto p-6 border border-blue-100",children:[h.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[h.jsxs("h3",{className:"text-2xl font-bold text-gray-900",children:["Work Order Details #",g.work_order_no||g.id]}),h.jsx(kc.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{p(!1),b(null)},className:"text-gray-500 hover:text-gray-700 text-2xl",children:h.jsx(Pu,{size:24})})]}),h.jsx("div",{className:"overflow-y-auto max-h-[70vh]",children:h.jsx(Ce,{order:g,onClose:()=>{p(!1),b(null)}})})]})})}),g&&h.jsx(TI,{isOpen:$,onClose:()=>{U(!1),b(null)},onAssign:Se,workOrder:g,users:B})]})},EI=({content:e,className:t=""})=>{if(!e)return h.jsx("div",{className:`w-full bg-blue-50 border border-blue-100 rounded-lg p-3 text-gray-800 text-base font-medium min-h-[44px] flex items-center ${t}`,children:"-"});const n=iy.sanitize(e,{ALLOWED_TAGS:["h1","h2","h3","h4","h5","h6","p","br","span","div","ol","ul","li","strong","b","em","i","u","s","strike","code","mark","sub","sup"],ALLOWED_ATTR:["style","class","data-color","align","type","start"]});return h.jsx("div",{className:`rich-text-content w-full bg-blue-50 border border-blue-100 rounded-lg p-4 text-gray-800 min-h-[44px] ${t}`,dangerouslySetInnerHTML:{__html:n}})},MI=({isOpen:e,onClose:t,title:n,children:r})=>e?h.jsx(kc.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:h.jsxs(kc.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl mx-auto p-6 border border-blue-100 max-h-[90vh] overflow-y-auto",children:[h.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100 sticky top-0 bg-white",children:[h.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n}),h.jsx(kc.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:t,className:"text-gray-500 hover:text-gray-700 text-2xl",children:h.jsx(Pu,{size:24})})]}),h.jsx("div",{children:r})]})}):null,PI=()=>{const[e,t]=x.useState(!1),[n,r]=x.useState(!1),[a,i]=x.useState(""),[s,o]=x.useState("all"),[l,c]=x.useState(!1),[d,u]=x.useState(null),[p,m]=x.useState(null),[f,g]=x.useState(1),[b]=x.useState(5),[y,v]=x.useState(window.innerWidth<768),[w,j]=x.useState(!1),[N,k]=x.useState(!1),[S,C]=x.useState(!0),[_,A]=x.useState(null),{user:T,hasPermission:O,getWorkOrdersIT:E}=gt(),M=je(),P=ye(),D=x.useRef(null),L=x.useRef(null);P.pathname,P.pathname;const I="/workorders/it"===P.pathname;P.pathname;const R="/workorders/it/assignment"===P.pathname,F="/workorders/it/receiver"===P.pathname,H="/workorders/it/reports"===P.pathname,z="/workorders/it/knowledgebase"===P.pathname,[B,W]=x.useState([]),$=x.useCallback(async()=>{try{C(!0),A(null);const e=(await E()).filter(e=>e.action_taken&&"Closed"===e.handling_status).map(e=>{var t,n,r;const a=e.complaint.split(" ").slice(0,5).join(" "),i=`Solution for: ${a}${a.length<e.complaint.length?"...":""}`;return{id:e.id,title:i,content:e.action_taken||"No action taken details available.",category:(null==(t=e.service)?void 0:t.service_name)||"General",tags:[(null==(n=e.service_type)?void 0:n.group_name)||"General",e.handling_status||"Completed",...e.asset_no?[`Asset: ${e.asset_no}`]:[]],lastUpdated:e.handling_date||e.updated_at||e.created_at,workOrderNo:e.work_order_no,technician:(null==(r=e.assigned_to)?void 0:r.name)||"Unknown Technician",completionDate:e.handling_date||e.updated_at}});W(e)}catch(e){A("Failed to load knowledge base articles")}finally{C(!1)}},[E]);x.useEffect(()=>{const e=()=>{v(window.innerWidth<768),window.innerWidth<768&&r(!1)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),x.useEffect(()=>{const e=e=>{D.current&&!D.current.contains(e.target)&&j(!1),L.current&&!L.current.contains(e.target)&&k(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),x.useEffect(()=>{$()},[$]),x.useEffect(()=>{g(1),document.documentElement.classList.toggle("dark",e)},[a,s,n,e]);const U=x.useCallback(e=>{m(e),c(!0)},[]),V=B.filter(e=>{const t=e.title.toLowerCase().includes(a.toLowerCase())||e.content.toLowerCase().includes(a.toLowerCase())||e.tags.some(e=>e.toLowerCase().includes(a.toLowerCase())),n="all"===s||e.category===s;return t&&n}),q=Array.from(new Set(B.map(e=>e.category))),G=f*b,Y=G-b,K=V.slice(Y,G),J=Math.ceil(V.length/b),X=e=>g(e);return T?h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Lu,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Fu,{mainTitle:"IT Work Orders - Knowladge Base",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:h.jsx(Bc,{}),isMobile:y,toggleSidebar:()=>{r(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[h.jsxs(kc.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"isi style mb-6 flex space-x-6 border-b border-gray-200",children:[h.jsx(kc.div,{whileTap:{scale:.98},onClick:()=>M("/workorders/it"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${I?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Request"}),h.jsx(kc.div,{whileTap:{scale:.98},onClick:()=>M("/workorders/it/receiver"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${F?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Receiver"}),h.jsx(kc.div,{whileTap:{scale:.98},onClick:()=>M("/workorders/it/assignment"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${R?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Assignment"}),h.jsx(kc.div,{whileTap:{scale:.98},onClick:()=>M("/workorders/it/reports"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${H?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Reports"}),h.jsx(kc.div,{whileTap:{scale:.98},onClick:()=>M("/workorders/it/knowledgebase"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${z?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Knowledge Base"})]}),h.jsx(kc.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"IT Knowledge Base"}),h.jsx("p",{className:"text-gray-600 mt-1",children:"Find solutions and information from completed work orders."})]})}),h.jsx("div",{className:"bg-white rounded-2xl shadow-md p-6 mb-6 border border-blue-100",children:h.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[h.jsxs("div",{className:"relative w-full md:w-2/3",children:[h.jsx(uu,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),h.jsx("input",{type:"text",placeholder:"Search articles by title, content, or tags...",value:a,onChange:e=>i(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),h.jsxs("div",{className:"relative w-full md:w-1/3",children:[h.jsxs("select",{value:s,onChange:e=>o(e.target.value),className:"w-full p-2.5 border border-gray-300 rounded-lg appearance-none focus:ring-blue-500 focus:border-blue-500 pr-8 bg-white",children:[h.jsx("option",{value:"all",children:"All Categories"}),q.map(e=>h.jsx("option",{value:e,children:e},e))]}),h.jsx(Jc,{className:"absolute right-3 top-3.5 text-gray-400",size:18})]})]})}),h.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:"Knowledge Articles"}),h.jsxs("div",{className:"text-sm text-gray-500",children:[V.length," articles found"]})]}),S?h.jsxs("div",{className:"text-center py-10",children:[h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),h.jsx("p",{className:"mt-2 text-gray-600",children:"Loading knowledge base..."})]}):_?h.jsxs("div",{className:"text-center py-10 text-red-500",children:[h.jsx(Ed,{className:"mx-auto h-12 w-12 text-red-400 mb-2"}),h.jsx("p",{className:"text-lg font-medium",children:_}),h.jsx("button",{onClick:$,className:"mt-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Retry"})]}):0===K.length?h.jsxs("div",{className:"text-center py-10 text-gray-500",children:[h.jsx(Ed,{className:"mx-auto h-12 w-12 text-gray-400"}),h.jsx("p",{className:"mt-2 text-lg",children:"No articles found matching your criteria."}),h.jsx("p",{className:"text-sm",children:"Try adjusting your filters or search query."})]}):h.jsx("div",{className:"grid grid-cols-1 gap-4",children:h.jsx(Mi,{children:K.map(e=>h.jsxs(kc.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,x:-20},transition:{duration:.3},className:"bg-gray-50 p-5 rounded-xl border border-gray-200 shadow-sm cursor-pointer hover:bg-blue-50 hover:border-blue-200 transition-all duration-200",onClick:()=>U(e),children:[h.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:e.title}),h.jsx("div",{className:"text-gray-700 text-sm line-clamp-2 mb-3",children:h.jsx(EI,{content:e.content,className:"line-clamp-2 bg-transparent border-none p-0"})}),h.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[h.jsx("span",{className:"px-2 py-0.5 bg-blue-100 text-blue-800 text-xs font-medium rounded-full",children:e.category}),e.tags.map(e=>h.jsx("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-700 text-xs font-medium rounded-full",children:e},e))]}),h.jsxs("div",{className:"flex justify-between items-center text-xs text-gray-500",children:[h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsxs("span",{className:"flex items-center",children:[h.jsx(fd,{size:12,className:"mr-1"}),e.workOrderNo]}),h.jsxs("span",{className:"flex items-center",children:[h.jsx(Cu,{size:12,className:"mr-1"}),e.technician]})]}),h.jsxs("span",{className:"flex items-center",children:[h.jsx(Vc,{size:12,className:"mr-1"}),new Date(e.lastUpdated).toLocaleDateString()]})]})]},e.id))})}),V.length>b&&h.jsxs("nav",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6 mt-6",children:[h.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[h.jsx(kc.button,{onClick:()=>X(f-1),disabled:1===f,whileHover:{scale:1.05},whileTap:{scale:.95},className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),h.jsx(kc.button,{onClick:()=>X(f+1),disabled:f===J,whileHover:{scale:1.05},whileTap:{scale:.95},className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]}),h.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[h.jsx("div",{children:h.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",h.jsx("span",{className:"font-medium",children:Y+1})," to ",h.jsx("span",{className:"font-medium",children:Math.min(G,V.length)})," of"," ",h.jsx("span",{className:"font-medium",children:V.length})," results"]})}),h.jsx("div",{children:h.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[h.jsxs(kc.button,{onClick:()=>X(f-1),disabled:1===f,whileHover:{scale:1.05},whileTap:{scale:.95},className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[h.jsx("span",{className:"sr-only",children:"Previous"}),h.jsx(Xc,{className:"h-5 w-5","aria-hidden":"true"})]}),[...Array(J)].map((e,t)=>h.jsx(kc.button,{onClick:()=>X(t+1),whileHover:{scale:1.05},whileTap:{scale:.95},className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium "+(f===t+1?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"),children:t+1},t)),h.jsxs(kc.button,{onClick:()=>X(f+1),disabled:f===J,whileHover:{scale:1.05},whileTap:{scale:.95},className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[h.jsx("span",{className:"sr-only",children:"Next"}),h.jsx(Qc,{className:"h-5 w-5","aria-hidden":"true"})]})]})})]})]})]})]})]}),p&&h.jsx(MI,{isOpen:l,onClose:()=>c(!1),title:p.title,children:h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-600",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx(fd,{size:16,className:"mr-2 text-blue-600"}),h.jsx("span",{className:"font-medium",children:"Work Order:"}),h.jsx("span",{className:"ml-2",children:p.workOrderNo})]}),h.jsxs("div",{className:"flex items-center",children:[h.jsx(Cu,{size:16,className:"mr-2 text-green-600"}),h.jsx("span",{className:"font-medium",children:"Technician:"}),h.jsx("span",{className:"ml-2",children:p.technician})]}),h.jsxs("div",{className:"flex items-center",children:[h.jsx(Vc,{size:16,className:"mr-2 text-purple-600"}),h.jsx("span",{className:"font-medium",children:"Completed:"}),h.jsx("span",{className:"ml-2",children:new Date(p.completionDate).toLocaleDateString()})]}),h.jsxs("div",{className:"flex items-center",children:[h.jsx(Bc,{size:16,className:"mr-2 text-orange-600"}),h.jsx("span",{className:"font-medium",children:"Category:"}),h.jsx("span",{className:"ml-2",children:p.category})]})]}),h.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[h.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Solution Details"}),h.jsx(EI,{content:p.content})]}),h.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[h.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Tags"}),h.jsx("div",{className:"flex flex-wrap gap-2",children:p.tags.map(e=>h.jsx("span",{className:"px-3 py-1 bg-gray-100 text-gray-700 text-sm rounded-full",children:e},e))})]}),h.jsxs("div",{className:"border-t border-gray-200 pt-4 text-xs text-gray-500",children:["Last updated: ",new Date(p.lastUpdated).toLocaleDateString()," at ",new Date(p.lastUpdated).toLocaleTimeString()]})]})})]}):h.jsx("div",{className:"flex items-center justify-center h-screen",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600 mx-auto"}),h.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})})};var DI=["allowCreateWhileLoading","createOptionPosition","formatCreateLabel","isValidNewOption","getNewOptionData","onCreateOption","options","onChange"],LI=function(){var e=arguments.length>1?arguments[1]:void 0,t=arguments.length>2?arguments[2]:void 0,n=String(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").toLowerCase(),r=String(t.getOptionValue(e)).toLowerCase(),a=String(t.getOptionLabel(e)).toLowerCase();return r===n||a===n},II={formatCreateLabel:function(e){return'Create "'.concat(e,'"')},isValidNewOption:function(e,t,n,r){return!(!e||t.some(function(t){return LI(e,t,r)})||n.some(function(t){return LI(e,t,r)}))},getNewOptionData:function(e,t){return{label:t,value:e,__isNew__:!0}}},RI=x.forwardRef(function(e,t){var n,r,a,i,s,o,l,c,d,u,h,p,m,f,g,b,y,v,w,j,N,k,S,C,_,A,T,O,E=(r=(n=Ny(e)).allowCreateWhileLoading,a=void 0!==r&&r,i=n.createOptionPosition,s=void 0===i?"last":i,o=n.formatCreateLabel,l=void 0===o?II.formatCreateLabel:o,c=n.isValidNewOption,d=void 0===c?II.isValidNewOption:c,u=n.getNewOptionData,h=void 0===u?II.getNewOptionData:u,p=n.onCreateOption,m=n.options,f=void 0===m?[]:m,g=n.onChange,y=(b=wy(n,DI)).getOptionValue,v=void 0===y?Hj:y,w=b.getOptionLabel,j=void 0===w?Fj:w,N=b.inputValue,k=b.isLoading,S=b.isMulti,C=b.value,_=b.name,A=x.useMemo(function(){return d(N,pw(C),f,{getOptionValue:v,getOptionLabel:j})?h(N,l(N)):void 0},[l,h,j,v,N,d,f,C]),T=x.useMemo(function(){return!a&&k||!A?f:"first"===s?[A].concat(Ty(f)):[].concat(Ty(f),[A])},[a,s,k,A,f]),O=x.useCallback(function(e,t){if("select-option"!==t.action)return g(e,t);var n=Array.isArray(e)?e:[e];if(n[n.length-1]!==A)g(e,t);else if(p)p(N);else{var r=h(N,N),a={action:"create-option",name:_,option:r};g(_w(S,[].concat(Ty(pw(C)),[r]),r),a)}},[h,N,S,_,A,p,g,C]),xy(xy({},b),{},{options:T,onChange:O}));return x.createElement(nN,ky({ref:t},E))});const FI=({isOpen:e,onClose:t,title:n,children:r})=>e?h.jsx(kc.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:h.jsxs(kc.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[h.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[h.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n}),h.jsx(kc.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:t,className:"text-gray-500 hover:text-gray-700 text-2xl",children:h.jsx(Pu,{size:24})})]}),h.jsx("div",{children:r})]})}):null,HI=()=>{var e,t,n,r,a;const{addWorkOrderIT:i,user:s,getUsers:o,getServices:l,getDepartment:c,getServiceGroups:d}=gt(),u=je(),[p,m]=x.useState([]),[f,g]=x.useState([]),[b,y]=x.useState([]),[v,w]=x.useState([]),[j,N]=x.useState(window.innerWidth<768),[k,S]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return!!e&&JSON.parse(e)}),[C,_]=x.useState(!1),[A,T]=x.useState(null),[O,E]=x.useState(null),[M,P]=x.useState(!1),[D,L]=x.useState(null),[I,R]=x.useState([]),[F,H]=x.useState([]),[z,B]=x.useState(!1),[W,$]=x.useState(null),U=x.useRef(null),V=x.useRef(null),q={date:(new Date).toISOString().split("T")[0],reception_method:"Electronic Work Order System",requester_id:(null==s?void 0:s.id)?parseInt(s.id):0,known_by_id:(null==(e=null==s?void 0:s.department)?void 0:e.head_id)||null,department_id:(null==s?void 0:s.department_id)||0,service_group_id:null,service_catalogue_id:null,asset_no:"",device_info:"",complaint:"",attachment:null,received_by_id:null,handling_date:null,action_taken:null,handling_status:"New",remarks:null,assigned_to_id:null},[G,Y]=x.useState(q),K="Electronic Work Order System"===G.reception_method;x.useEffect(()=>{s&&(async()=>{try{const e=(await d((null==s?void 0:s.id)?parseInt(s.id):0)).map(e=>({id:Number(e.id),name:e.group_name||e.name||"",description:e.group_description||e.description||void 0}));H(e);const t=await c();g(t);const n=await o();if(m(n),s&&s.id){const e=await l(parseInt(s.id));y(e)}}catch(e){}})()},[s,o,l,c,d]),x.useEffect(()=>{if("Electronic Work Order System"===G.reception_method&&s&&f.length>0){const e=f.find(e=>e.id===s.department_id),t=(null==e?void 0:e.head_id)||null;Y(e=>({...e,requester_id:parseInt(s.id),department_id:s.department_id||0,known_by_id:t}))}},[G.reception_method,s,f]),x.useEffect(()=>{const e=()=>{N(window.innerWidth<768),window.innerWidth<768&&S(!1)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),x.useEffect(()=>{if(null!==G.service_group_id&&b.length>0){const e=b.filter(e=>e.service_group&&e.service_group.id===G.service_group_id);R(e)}else R([])},[G.service_group_id,b]),x.useEffect(()=>{localStorage.setItem("sidebarOpen",JSON.stringify(k))},[k]);const J=x.useCallback((e,t)=>{let n,r;if(e&&"target"in e)n=e.target.name,r=e.target.value;else if(e&&"object"==typeof e&&"value"in e&&t)n=t,r=e.value;else{if(null!==e||!t)return;n=t,r=null}Y(e=>({...e,[n]:r}))},[]),X=e=>{Y(t=>({...t,asset_no:e?e.value:""}))},Q=x.useCallback(()=>{L(null),Y(e=>({...e,attachment:null}))},[]),Z=x.useCallback(()=>{P(!1),u("/workorders/it")},[u]);x.useEffect(()=>{const e=e=>{z&&B(!1)};return z&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[z]);const ee={control:(e,t)=>({...e,minHeight:"42px",borderColor:t.isFocused?"#3B82F6":"#D1D5DB",boxShadow:t.isFocused?"0 0 0 1px #3B82F6":"none","&:hover":{borderColor:"#9CA3AF"},borderRadius:"0.5rem",backgroundColor:"#FFFFFF",padding:"0 0.5rem",transition:"all 0.15s ease-in-out"}),valueContainer:e=>({...e,padding:"0"}),singleValue:e=>({...e,color:"#374151"}),placeholder:e=>({...e,color:"#6B7280"}),dropdownIndicator:e=>({...e,color:"#9CA3AF","&:hover":{color:"#6B7280"}}),indicatorSeparator:e=>({...e,display:"none"}),menu:e=>({...e,zIndex:9999,borderRadius:"0.5rem",border:"1px solid #E5E7EB",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"}),option:(e,t)=>({...e,backgroundColor:t.isFocused?"#EFF6FF":"#FFFFFF",color:"#1F2937","&:active":{backgroundColor:"#DBEAFE"},padding:"0.625rem 1rem"})},te=x.useCallback(e=>{if(!e)return;const t=parseInt(e.value),n=p.find(e=>parseInt(e.id)===t);if(n){const e=f.find(e=>e.id===n.department_id);Y(r=>({...r,requester_id:t,department_id:n.department_id||0,known_by_id:(null==e?void 0:e.head_id)||null}))}},[p,f]),ne=({selectedFile:e,attachment:t,onRemove:n})=>{if(!e&&!t)return null;const r=e&&e.type.startsWith("image/")?URL.createObjectURL(e):t&&t.startsWith("data:image")||t&&t.startsWith("blob:")?t:null,a=null!==r,i=e?e.name:t||"Attachment";return h.jsxs("div",{className:"mt-4 p-4 border border-gray-200 rounded-xl bg-white shadow-sm",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsx("div",{className:"p-3 rounded-lg "+(e?"bg-blue-50":"bg-purple-50"),children:a?h.jsx(qc,{className:"h-6 w-6 text-green-600"}):h.jsx(gd,{className:"h-6 w-6 text-blue-600"})}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("p",{className:"text-sm font-semibold text-gray-900 truncate",children:i}),h.jsxs("div",{className:"flex items-center space-x-4 mt-1",children:[h.jsx("p",{className:"text-xs text-gray-500",children:e?`${(e.size/1024/1024).toFixed(2)} MB`:"Existing file"}),h.jsx("span",{className:"text-xs px-2 py-1 bg-green-100 text-green-700 rounded-full",children:e?"Ready to upload":"Attached"})]})]})]}),h.jsx(kc.button,{type:"button",onClick:n,whileHover:{scale:1.05},whileTap:{scale:.95},className:"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition-colors duration-200",title:"Remove attachment",children:h.jsx(Pu,{size:18})})]}),a&&r&&h.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-100",children:[h.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Preview:"}),h.jsx("div",{className:"flex justify-center",children:h.jsx("img",{src:r,alt:"Preview",className:"h-32 w-32 object-cover rounded-lg border shadow-sm"})})]})]})};return h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Lu,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Fu,{mainTitle:"Add Work Order",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:h.jsx(ad,{}),isMobile:j,toggleSidebar:()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!k)),S(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[h.jsxs(kc.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Work Order"}),h.jsx("p",{className:"text-gray-600 mt-1",children:"Fill in the details to create a new maintenance or service request"})]}),h.jsxs(kc.button,{onClick:()=>u("/workorders/it"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[h.jsx(Xc,{className:"text-lg"})," Back to Work Orders"]})]}),h.jsxs(kc.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[A&&h.jsxs(kc.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[h.jsx("strong",{className:"font-bold",children:"Error!"}),h.jsx("span",{className:"block sm:inline ml-2",children:A}),h.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:h.jsx(Pu,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>T(null)})})]}),h.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),_(!0),T(null),!G.service_group_id)return T("Service Type is required"),void _(!1);if(!G.service_catalogue_id)return T("Service is required"),void _(!1);if(!I.find(e=>e.id===G.service_catalogue_id))return T("Selected service is not available for the chosen service type"),void _(!1);const t={...G,service_group_id:G.service_group_id,service_catalogue_id:G.service_catalogue_id};try{const e=await i(t,D);E({message:"Work Order created successfully!",work_order:e.work_order||e}),P(!0)}catch(n){T(n.message||"Gagal menyimpan work order. Silakan coba lagi.")}finally{_(!1)}},className:"space-y-6",children:[h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[h.jsx(id,{className:"mr-2 text-blue-500"})," General Information"]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"date",className:"block text-sm font-medium text-gray-700 mb-1",children:["Date ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"date",id:"date",name:"date",value:G.date,onChange:J,required:!0,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700"})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"reception_method",className:"block text-sm font-medium text-gray-700 mb-1",children:["Reception Method ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx(rN,{id:"reception_method",name:"reception_method",options:[{value:"Electronic Work Order System",label:"Electronic Work Order System"},{value:"Direct Information",label:"Direct Information"},{value:"Phone",label:"Phone"},{value:"Whatsapp",label:"Whatsapp"},{value:"Email",label:"Email"}],value:{value:G.reception_method,label:G.reception_method},onChange:e=>{const t=(null==e?void 0:e.value)||"";Y(e=>{var n,r;const a={...e,reception_method:t};return"Electronic Work Order System"===t&&s?{...a,requester_id:parseInt(s.id),department_id:(null==(n=s.department)?void 0:n.id)||0,known_by_id:(null==(r=s.department)?void 0:r.head_id)||null}:a})},placeholder:"Select Reception Method",styles:ee,required:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"requester_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Requester ",h.jsx("span",{className:"text-red-500",children:"*"})]}),K?h.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-blue-50 text-gray-700",children:h.jsx("span",{children:(null==s?void 0:s.name)||"Current User"})}):h.jsx(rN,{id:"requester_id",name:"requester_id",options:p.map(e=>({value:String(e.id),label:e.name})),value:p.find(e=>parseInt(e.id)===G.requester_id)?{value:String(G.requester_id),label:(null==(t=p.find(e=>parseInt(e.id)===G.requester_id))?void 0:t.name)||""}:null,onChange:te,placeholder:"Select Requester",styles:ee,required:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"department_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Department ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-blue-50 text-gray-700",children:h.jsx("span",{children:(()=>{if(K){const e=f.find(e=>e.id===(null==s?void 0:s.department_id));return(null==e?void 0:e.name)||"No department assigned"}const e=f.find(e=>e.id===G.department_id);return(null==e?void 0:e.name)||"No department assigned"})()})})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"known_by_id",className:"block text-sm font-medium text-gray-700 mb-1",children:"Known By (Head)"}),h.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-blue-50 text-gray-700",children:h.jsx("span",{children:(()=>{if(K){const e=f.find(e=>e.id===(null==s?void 0:s.department_id));if(e&&e.head_id){const t=p.find(t=>parseInt(t.id)===e.head_id);return(null==t?void 0:t.name)||"No department head assigned"}return"No department head assigned"}const e=f.find(e=>e.id===G.department_id);if(e&&e.head_id){const t=p.find(t=>parseInt(t.id)===e.head_id);return(null==t?void 0:t.name)||"No department head assigned"}return"No department head assigned"})()})})]})]})]}),h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[h.jsx(yu,{className:"mr-2 text-green-500"})," Service Details"]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"service_group_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Service Type ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx(rN,{id:"service_group_id",name:"service_group_id",options:F.map(e=>({value:String(e.id),label:e.name})),value:null!==G.service_group_id?{value:String(G.service_group_id),label:(null==(n=F.find(e=>e.id===G.service_group_id))?void 0:n.name)||""}:null,onChange:e=>{const t=e?parseInt(e.value):null;Y(e=>({...e,service_group_id:t,service_catalogue_id:null}))},placeholder:"Select Service Type",styles:ee,required:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"service_catalogue_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Service ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx(rN,{id:"service_catalogue_id",name:"service_catalogue_id",options:I.map(e=>({value:String(e.id),label:e.service_name})),value:null!==G.service_catalogue_id?{value:String(G.service_catalogue_id),label:(null==(r=I.find(e=>e.id===G.service_catalogue_id))?void 0:r.service_name)||""}:null,onChange:e=>{const t=e?parseInt(e.value):null;Y(e=>({...e,service_catalogue_id:t}))},placeholder:null!==G.service_group_id?0===I.length?"No services available for selected type":"Select Service":"Please select Service Type first",styles:ee,isDisabled:null===G.service_group_id||0===I.length,required:!0}),0===I.length&&G.service_group_id&&h.jsx("p",{className:"text-sm text-yellow-500 mt-1",children:"No services available for selected type"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"asset_no",className:"block text-sm font-medium text-gray-700 mb-1",children:"No. Asset "}),h.jsx(RI,{name:"asset_no",id:"asset_no",options:v,value:G.asset_no?{value:G.asset_no,label:G.asset_no}:null,onChange:X,onCreateOption:e=>{const t={value:e,label:e};w(e=>[...e,t]),X(t)},placeholder:"Type or select Asset No.",styles:ee,isClearable:!0,required:!1})]})]})]}),h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[h.jsx(zd,{className:"mr-2 text-purple-500"})," Device & Complaint Details"]}),h.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"device_info",className:"block text-sm font-medium text-gray-700 mb-1",children:["Device Information ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("textarea",{id:"device_info",name:"device_info",value:G.device_info,onChange:J,required:!0,rows:3,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"Provide details about the device (e.g., model, serial number)."})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"complaint",className:"block text-sm font-medium text-gray-700 mb-1",children:["Complaint ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx(gI,{value:G.complaint,onChange:e=>{Y(t=>({...t,complaint:e}))}})]})]})]}),h.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[h.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:["Attachment ",h.jsx("span",{className:"text-gray-400 font-normal",children:"(Optional)"})]}),D||G.attachment?h.jsx("div",{className:"w-full p-6 border-2 border-blue-200 border-dashed rounded-xl bg-blue-50/30",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"mx-auto w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center mb-3",children:h.jsx(Zd,{className:"h-5 w-5 text-blue-600"})}),h.jsx("p",{className:"text-sm font-medium text-blue-900",children:D?`File selected: ${D.name}`:"Photo captured from camera"}),h.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"File ready for upload. Click to change."})]})}):h.jsx(kc.button,{type:"button",whileHover:{scale:1.01},whileTap:{scale:.99},className:"w-full p-8 border-2 border-dashed border-gray-300 rounded-xl bg-white hover:border-blue-400 hover:bg-blue-50/50 transition-all duration-300 group",onClick:e=>{e.preventDefault(),e.stopPropagation(),B(!0)},children:h.jsxs("div",{className:"space-y-3 text-center",children:[h.jsx("div",{className:"mx-auto w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center group-hover:bg-blue-100 transition-colors",children:h.jsx(Zd,{className:"h-6 w-6 text-gray-400 group-hover:text-blue-500"})}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Click to select attachment"}),h.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PNG, JPG, GIF, PDF up to 10MB"})]})]})}),h.jsx(ne,{selectedFile:D,attachment:G.attachment,onRemove:Q}),h.jsx(Mi,{children:z&&h.jsx(kc.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 p-4",onClick:()=>B(!1),children:h.jsxs(kc.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-xl w-full max-w-md mx-auto overflow-hidden",onClick:e=>e.stopPropagation(),children:[h.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-100",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Select Attachment"}),h.jsx("button",{type:"button",onClick:()=>B(!1),className:"text-gray-400 hover:text-gray-600 transition-colors p-1 rounded-lg hover:bg-gray-100",children:h.jsx(Pu,{size:20})})]}),W?h.jsxs("div",{className:"p-6 space-y-4",children:[h.jsxs("div",{className:"relative bg-black rounded-lg overflow-hidden",children:[h.jsx("video",{ref:U,autoPlay:!0,playsInline:!0,className:"w-full h-64 object-cover"}),h.jsx("canvas",{ref:V,className:"hidden"})]}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx(kc.button,{type:"button",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{if(U.current&&V.current){const e=V.current,t=e.getContext("2d");if(t){e.width=U.current.videoWidth,e.height=U.current.videoHeight,t.drawImage(U.current,0,0);const n=e.toDataURL("image/jpeg",.8);Y(e=>({...e,attachment:n}));const r={name:`photo-${Date.now()}.jpg`,type:"image/jpeg",size:n.length,lastModified:Date.now(),data:n};L(r),W&&(W.getTracks().forEach(e=>e.stop()),$(null))}}B(!1)},className:"flex-1 bg-blue-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Take Photo"}),h.jsx(kc.button,{type:"button",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{W&&(W.getTracks().forEach(e=>e.stop()),$(null)),B(!1)},className:"flex-1 bg-gray-200 text-gray-700 py-3 px-4 rounded-lg font-medium hover:bg-gray-300 transition-colors",children:"Cancel"})]})]}):h.jsxs("div",{className:"p-6 space-y-4",children:[h.jsxs(kc.button,{type:"button",whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{const e=document.createElement("input");e.type="file",e.accept="image/*, .pdf, .doc, .docx, .xls, .xlsx",e.onchange=e=>{const t=e.target;if(t.files&&t.files.length>0){const e=t.files[0];L(e),Y(e=>({...e,attachment:null}))}B(!1)},e.click()},className:"w-full p-4 border-2 border-dashed border-gray-200 rounded-xl hover:border-blue-300 hover:bg-blue-50/50 transition-all duration-200 flex items-center space-x-4",children:[h.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:h.jsx(gd,{className:"h-6 w-6 text-blue-600"})}),h.jsxs("div",{className:"text-left",children:[h.jsx("div",{className:"font-medium text-gray-900",children:"Select File"}),h.jsx("div",{className:"text-sm text-gray-500",children:"From your device"})]})]}),h.jsxs(kc.button,{type:"button",whileHover:{scale:1.02},whileTap:{scale:.98},onClick:async()=>{try{const e=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});$(e),U.current&&(U.current.srcObject=e)}catch(e){alert("Tidak dapat mengakses kamera. Pastikan izin kamera telah diberikan.")}},className:"w-full p-4 border-2 border-dashed border-gray-200 rounded-xl hover:border-purple-300 hover:bg-purple-50/50 transition-all duration-200 flex items-center space-x-4",children:[h.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:h.jsx(qc,{className:"h-6 w-6 text-purple-600"})}),h.jsxs("div",{className:"text-left",children:[h.jsx("div",{className:"font-medium text-gray-900",children:"Take Photo"}),h.jsx("div",{className:"text-sm text-gray-500",children:"Use camera"})]})]})]})]})})})]}),h.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[h.jsxs(kc.button,{type:"button",onClick:()=>{Y(q),L(null),T(null),E(null)},whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",children:[h.jsx(vu,{className:"mr-2 h-5 w-5"})," Clear Form"]}),h.jsx(kc.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},disabled:C,className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed",children:C?h.jsxs(h.Fragment,{children:[h.jsx(Ad,{className:"animate-spin mr-2 h-5 w-5"}),"Adding..."]}):h.jsxs(h.Fragment,{children:[h.jsx(du,{className:"mr-2 h-5 w-5"})," Add Work Order"]})})]})]})]})]})]}),h.jsx(FI,{isOpen:M,onClose:Z,title:"Success!",children:h.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[h.jsx(td,{className:"text-green-500 text-6xl mb-4"}),h.jsx("p",{className:"text-lg font-medium text-gray-800 text-center mb-2",children:null==O?void 0:O.message}),h.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Work Order Number: ",null==(a=null==O?void 0:O.work_order)?void 0:a.work_order_no]}),h.jsx(kc.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:Z,className:"mt-6 px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold",children:"Go to Work Orders"})]})})]})},zI=()=>{const e=je(),{user:t}=gt(),[n,r]=x.useState(!1),[a,i]=x.useState(window.innerWidth>=768),[s,o]=x.useState(window.innerWidth<768),[l,c]=x.useState(!1),[d,u]=x.useState(!1),p=x.useRef(null),m=x.useRef(null);x.useEffect(()=>{const e=()=>{o(window.innerWidth<768),window.innerWidth<768?i(!1):i(!0)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),x.useEffect(()=>{const e=e=>{p.current&&!p.current.contains(e.target)&&c(!1),m.current&&!m.current.contains(e.target)&&u(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),x.useEffect(()=>{document.documentElement.classList.toggle("dark",n)},[n]);const f=t=>{e(t)};return h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Lu,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Fu,{mainTitle:"Select Work Order",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:h.jsx(ad,{}),isMobile:s,toggleSidebar:()=>{i(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[h.jsxs(kc.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 text-center",children:[h.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Select Work Order Department"}),h.jsx("p",{className:"text-gray-600 mt-2",children:"Choose the department you wish to manage work orders for."})]}),h.jsxs("div",{className:"flex flex-col md:flex-row justify-center items-center gap-6 max-w-4xl mx-auto py-8",children:[h.jsxs(kc.div,{className:"w-full md:w-1/2 bg-white rounded-2xl shadow-xl p-8 border border-blue-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>f("/workorders/it"),children:[h.jsx(ld,{size:64,className:"text-blue-600 mb-4"}),h.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"IT Work Orders"}),h.jsx("p",{className:"text-gray-700 mb-4",children:"Manage and track IT-related maintenance and service requests."}),h.jsxs("span",{className:"text-blue-600 font-semibold flex items-center",children:["Go to IT Work Orders ",h.jsx(Qc,{size:18,className:"ml-1"})]})]}),h.jsxs(kc.div,{className:"w-full md:w-1/2 bg-white rounded-2xl shadow-xl p-8 border border-green-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>f("/workorders/td"),children:[h.jsx(Nd,{size:64,className:"text-green-600 mb-4"}),h.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"TD Work Orders"}),h.jsx("p",{className:"text-gray-700 mb-4",children:"Handle technical department maintenance, repairs, and tasks."}),h.jsxs("span",{className:"text-green-600 font-semibold flex items-center",children:["Go to TD Work Orders ",h.jsx(Qc,{size:18,className:"ml-1"})]})]})]})]})]})]})},BI=()=>{const e=je(),{user:t}=gt(),[n,r]=x.useState(!1),[a,i]=x.useState(window.innerWidth>=768),[s,o]=x.useState(window.innerWidth<768),[l,c]=x.useState(!1),[d,u]=x.useState(!1),p=x.useRef(null),m=x.useRef(null);x.useEffect(()=>{const e=()=>{o(window.innerWidth<768),window.innerWidth<768?i(!1):i(!0)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),x.useEffect(()=>{const e=e=>{p.current&&!p.current.contains(e.target)&&c(!1),m.current&&!m.current.contains(e.target)&&u(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),x.useEffect(()=>{document.documentElement.classList.toggle("dark",n)},[n]);const f=t=>{e(t)};return h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Lu,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Fu,{mainTitle:"Work Location",mainTitleHighlight:"Page",description:"Manage work shifts and their configurations within the system.",icon:h.jsx(qd,{}),isMobile:s,toggleSidebar:()=>{i(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[h.jsxs(kc.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 text-center",children:[h.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Select Work Location Type"}),h.jsx("p",{className:"text-gray-600 mt-2",children:"Choose the type of work location you wish to manage."})]}),h.jsxs("div",{className:"flex flex-col md:flex-row justify-center items-center gap-6 max-w-5xl mx-auto py-8",children:[h.jsxs(kc.div,{className:"w-full md:w-1/3 bg-white rounded-2xl shadow-xl p-8 border border-blue-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>f("/worklocation/workarea"),children:[h.jsx(qd,{size:64,className:"text-blue-600 mb-4"}),h.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Work Area"}),h.jsx("p",{className:"text-gray-700 mb-4",children:"Manage and define specific work areas within your facilities."}),h.jsxs("span",{className:"text-blue-600 font-semibold flex items-center",children:["Go to Work Area ",h.jsx(Qc,{size:18,className:"ml-1"})]})]}),h.jsxs(kc.div,{className:"w-full md:w-1/3 bg-white rounded-2xl shadow-xl p-8 border border-green-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>f("/worklocation/department"),children:[h.jsx(Uc,{size:64,className:"text-green-600 mb-4"}),h.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Departments"}),h.jsx("p",{className:"text-gray-700 mb-4",children:"Organize and manage work orders by specific company departments."}),h.jsxs("span",{className:"text-green-600 font-semibold flex items-center",children:["Go to Department ",h.jsx(Qc,{size:18,className:"ml-1"})]})]}),h.jsxs(kc.div,{className:"w-full md:w-1/3 bg-white rounded-2xl shadow-xl p-8 border border-purple-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>f("/worklocation/workunit"),children:[h.jsx(Eu,{size:64,className:"text-purple-600 mb-4"}),h.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Work Unit"}),h.jsx("p",{className:"text-gray-700 mb-4",children:"Define and track the precise physical locations of individual units."}),h.jsxs("span",{className:"text-purple-600 font-semibold flex items-center",children:["Go to Work Unit ",h.jsx(Qc,{size:18,className:"ml-1"})]})]})]})]})]})]})},WI=()=>{const e=je(),{user:t}=gt(),[n,r]=x.useState(!1),[a,i]=x.useState(window.innerWidth>=768),[s,o]=x.useState(window.innerWidth<768),[l,c]=x.useState(!1),[d,u]=x.useState(!1),p=x.useRef(null),m=x.useRef(null);x.useEffect(()=>{const e=()=>{o(window.innerWidth<768),window.innerWidth<768?i(!1):i(!0)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),x.useEffect(()=>{const e=e=>{p.current&&!p.current.contains(e.target)&&c(!1),m.current&&!m.current.contains(e.target)&&u(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),x.useEffect(()=>{document.documentElement.classList.toggle("dark",n)},[n]);const f=t=>{e(t)};return h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Lu,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Fu,{mainTitle:"Work Arrangement",mainTitleHighlight:"Page",description:"Manage work shifts and their configurations within the system.",icon:h.jsx(Ou,{}),isMobile:s,toggleSidebar:()=>{i(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[h.jsxs(kc.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 text-center",children:[h.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Select Work Arrangement Type"}),h.jsx("p",{className:"text-gray-600 mt-2",children:"Choose how you want to manage work groups and shifts."})]}),h.jsxs("div",{className:"flex flex-col md:flex-row justify-center items-center gap-6 max-w-4xl mx-auto py-8",children:[h.jsxs(kc.div,{className:"w-full md:w-1/2 bg-white rounded-2xl shadow-xl p-8 border border-blue-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>f("/workarrangement/workgroup"),children:[h.jsx(Ou,{size:64,className:"text-blue-600 mb-4"}),h.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:" Work Group Management"}),h.jsx("p",{className:"text-gray-700 mb-4",children:"Organize and manage teams or groups for various work arrangements."}),h.jsxs("span",{className:"text-blue-600 font-semibold flex items-center",children:["Go to Group Management ",h.jsx(Qc,{size:18,className:"ml-1"})]})]}),h.jsxs(kc.div,{className:"w-full md:w-1/2 bg-white rounded-2xl shadow-xl p-8 border border-green-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>f("/workarrangement/workshift"),children:[h.jsx(id,{size:64,className:"text-green-600 mb-4"}),h.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Work Shift Management"}),h.jsx("p",{className:"text-gray-700 mb-4",children:"Plan and manage work shifts and schedules for your workforce."}),h.jsxs("span",{className:"text-green-600 font-semibold flex items-center",children:["Go to Shift Management ",h.jsx(Qc,{size:18,className:"ml-1"})]})]})]})]})]})]})},$I=()=>{const e=je(),{user:t}=gt(),[n,r]=x.useState(!1),[a,i]=x.useState(window.innerWidth>=768),[s,o]=x.useState(window.innerWidth<768),[l,c]=x.useState(!1),[d,u]=x.useState(!1),p=x.useRef(null),m=x.useRef(null);x.useEffect(()=>{const e=()=>{o(window.innerWidth<768),window.innerWidth<768?i(!1):i(!0)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),x.useEffect(()=>{const e=e=>{p.current&&!p.current.contains(e.target)&&c(!1),m.current&&!m.current.contains(e.target)&&u(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),x.useEffect(()=>{document.documentElement.classList.toggle("dark",n)},[n]);const f=t=>{e(t)};return h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Lu,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Fu,{mainTitle:"Spare Paarts",mainTitleHighlight:"Groups",description:"Manage service groups used across the service management system.",icon:h.jsx(Mu,{}),isMobile:s,toggleSidebar:()=>{i(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[h.jsxs(kc.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 text-center",children:[h.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Spare Part Management"}),h.jsx("p",{className:"text-gray-600 mt-2",children:"Select a category to manage your spare parts inventory and settings."})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 max-w-6xl mx-auto py-8",children:[h.jsxs(kc.div,{className:"w-full bg-white rounded-2xl shadow-xl p-8 border border-blue-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>f("/sparepart/generalsettings"),children:[h.jsx(hu,{size:64,className:"text-blue-600 mb-4"}),h.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"General Settings"}),h.jsx("p",{className:"text-gray-700 mb-4",children:"Configure overall settings for spare part management."}),h.jsxs("span",{className:"text-blue-600 font-semibold flex items-center",children:["Go to Settings ",h.jsx(Qc,{size:18,className:"ml-1"})]})]}),h.jsxs(kc.div,{className:"w-full bg-white rounded-2xl shadow-xl p-8 border border-green-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>f("/sparepart/spareparttype"),children:[h.jsx(Nu,{size:64,className:"text-green-600 mb-4"}),h.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Spare Part Type"}),h.jsx("p",{className:"text-gray-700 mb-4",children:"Define and manage different types of spare parts."}),h.jsxs("span",{className:"text-green-600 font-semibold flex items-center",children:["Go to Types ",h.jsx(Qc,{size:18,className:"ml-1"})]})]}),h.jsxs(kc.div,{className:"w-full bg-white rounded-2xl shadow-xl p-8 border border-purple-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>f("/sparepart/sparepartgroup"),children:[h.jsx($c,{size:64,className:"text-purple-600 mb-4"}),h.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Spare Part Group"}),h.jsx("p",{className:"text-gray-700 mb-4",children:"Categorize spare parts into logical groups."}),h.jsxs("span",{className:"text-purple-600 font-semibold flex items-center",children:["Go to Groups ",h.jsx(Qc,{size:18,className:"ml-1"})]})]}),h.jsxs(kc.div,{className:"w-full bg-white rounded-2xl shadow-xl p-8 border border-orange-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>f("/sparepart/sparepartmaintenance"),children:[h.jsx(yu,{size:64,className:"text-orange-600 mb-4"}),h.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Spare Part Maintenance"}),h.jsx("p",{className:"text-gray-700 mb-4",children:"Manage maintenance records related to spare parts."}),h.jsxs("span",{className:"text-orange-600 font-semibold flex items-center",children:["Go to Maintenance ",h.jsx(Qc,{size:18,className:"ml-1"})]})]})]})]})]})]})},UI=()=>{const e=je(),{user:t}=gt(),[n,r]=x.useState(!1),[a,i]=x.useState(window.innerWidth>=768),[s,o]=x.useState(window.innerWidth<768),[l,c]=x.useState(!1),[d,u]=x.useState(!1),p=x.useRef(null),m=x.useRef(null);x.useEffect(()=>{const e=()=>{o(window.innerWidth<768),window.innerWidth<768?i(!1):i(!0)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),x.useEffect(()=>{const e=e=>{p.current&&!p.current.contains(e.target)&&c(!1),m.current&&!m.current.contains(e.target)&&u(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),x.useEffect(()=>{document.documentElement.classList.toggle("dark",n)},[n]);const f=t=>{e(t)};return h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Lu,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Fu,{mainTitle:"Assets",mainTitleHighlight:"Trail",description:"Manage activities and their configurations within the system.",icon:h.jsx(Jd,{}),isMobile:s,toggleSidebar:()=>{i(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[h.jsxs(kc.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 text-center",children:[h.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Asset Management"}),h.jsx("p",{className:"text-gray-600 mt-2",children:"Select a category to manage your assets."})]}),h.jsxs("div",{className:"flex flex-col md:flex-row justify-center items-center gap-6 max-w-4xl mx-auto py-8",children:[h.jsxs(kc.div,{className:"w-full md:w-1/2 bg-white rounded-2xl shadow-xl p-8 border border-blue-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>f("/assets/assetsgroup"),children:[h.jsx($c,{size:64,className:"text-blue-600 mb-4"}),h.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Assets Group"}),h.jsx("p",{className:"text-gray-700 mb-4",children:"Organize your assets into logical groups for better management."}),h.jsxs("span",{className:"text-blue-600 font-semibold flex items-center",children:["Go to Assets Group ",h.jsx(Qc,{size:18,className:"ml-1"})]})]}),h.jsxs(kc.div,{className:"w-full md:w-1/2 bg-white rounded-2xl shadow-xl p-8 border border-green-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>f("/assets/assetsdata"),children:[h.jsx(ud,{size:64,className:"text-green-600 mb-4"}),h.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Assets Data"}),h.jsx("p",{className:"text-gray-700 mb-4",children:"View and manage detailed information about your individual assets."}),h.jsxs("span",{className:"text-green-600 font-semibold flex items-center",children:["Go to Assets Data ",h.jsx(Qc,{size:18,className:"ml-1"})]})]})]})]})]})]})},VI=()=>{const e=je(),{user:t}=gt(),[n,r]=x.useState(!1),[a,i]=x.useState(window.innerWidth>=768),[s,o]=x.useState(window.innerWidth<768),[l,c]=x.useState(!1),[d,u]=x.useState(!1),p=x.useRef(null),m=x.useRef(null);x.useEffect(()=>{const e=()=>{o(window.innerWidth<768),window.innerWidth<768?i(!1):i(!0)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),x.useEffect(()=>{const e=e=>{p.current&&!p.current.contains(e.target)&&c(!1),m.current&&!m.current.contains(e.target)&&u(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),x.useEffect(()=>{document.documentElement.classList.toggle("dark",n)},[n]);const f=t=>{e(t)};return h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Lu,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Fu,{mainTitle:"Services",mainTitleHighlight:"Groups",description:"Manage service groups used across the service management system.",icon:h.jsx(Ld,{}),isMobile:s,toggleSidebar:()=>{i(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[h.jsxs(kc.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 text-center",children:[h.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Service Management"}),h.jsx("p",{className:"text-gray-600 mt-2",children:"Select a category to manage your services."})]}),h.jsxs("div",{className:"flex flex-col md:flex-row justify-center items-center gap-6 max-w-4xl mx-auto py-8",children:[h.jsxs(kc.div,{className:"w-full md:w-1/2 bg-white rounded-2xl shadow-xl p-8 border border-blue-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>f("/services/servicegroups"),children:[h.jsx(Ou,{size:64,className:"text-blue-600 mb-4"}),h.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Service Group"}),h.jsx("p",{className:"text-gray-700 mb-4",children:"Organize and manage groups of services or service teams."}),h.jsxs("span",{className:"text-blue-600 font-semibold flex items-center",children:["Go to Service Group ",h.jsx(Qc,{size:18,className:"ml-1"})]})]}),h.jsxs(kc.div,{className:"w-full md:w-1/2 bg-white rounded-2xl shadow-xl p-8 border border-green-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>f("/services/servicecatalogues"),children:[h.jsx(Bc,{size:64,className:"text-green-600 mb-4"}),h.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Service Catalogue"}),h.jsx("p",{className:"text-gray-700 mb-4",children:"Browse and manage the list of available services."}),h.jsxs("span",{className:"text-green-600 font-semibold flex items-center",children:["Go to Service Catalogue ",h.jsx(Qc,{size:18,className:"ml-1"})]})]})]})]})]})]})},qI=()=>{const e=je(),{user:t}=gt(),[n,r]=x.useState(!1),[a,i]=x.useState(window.innerWidth>=768),[s,o]=x.useState(window.innerWidth<768),[l,c]=x.useState(!1),[d,u]=x.useState(!1),p=x.useRef(null),m=x.useRef(null);x.useEffect(()=>{const e=()=>{o(window.innerWidth<768),window.innerWidth<768?i(!1):i(!0)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),x.useEffect(()=>{const e=e=>{p.current&&!p.current.contains(e.target)&&c(!1),m.current&&!m.current.contains(e.target)&&u(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),x.useEffect(()=>{document.documentElement.classList.toggle("dark",n)},[n]);const f=t=>{e(t)};return h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Lu,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Fu,{mainTitle:"Maintenance Activity",mainTitleHighlight:"Management",description:"blablablabl",icon:h.jsx(yu,{}),isMobile:s,toggleSidebar:()=>{i(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[h.jsxs(kc.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 text-center",children:[h.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Maintenance Activity Management"}),h.jsx("p",{className:"text-gray-600 mt-2",children:"Select a category to manage maintenance activities."})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 max-w-6xl mx-auto py-8",children:[h.jsxs(kc.div,{className:"w-full bg-white rounded-2xl shadow-xl p-8 border border-blue-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>f("/maintenanceactivity/activitytypes"),children:[h.jsx(Fd,{size:64,className:"text-blue-600 mb-4"}),h.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Activity Type"}),h.jsx("p",{className:"text-gray-700 mb-4",children:"Define and manage different types of maintenance activities."}),h.jsxs("span",{className:"text-blue-600 font-semibold flex items-center",children:["Go to Activity Types ",h.jsx(Qc,{size:18,className:"ml-1"})]})]}),h.jsxs(kc.div,{className:"w-full bg-white rounded-2xl shadow-xl p-8 border border-green-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>f("/maintenanceactivity/activity"),children:[h.jsx(Ec,{size:64,className:"text-green-600 mb-4"}),h.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Activity"}),h.jsx("p",{className:"text-gray-700 mb-4",children:"Manage the details of individual maintenance activities."}),h.jsxs("span",{className:"text-green-600 font-semibold flex items-center",children:["Go to Activities ",h.jsx(Qc,{size:18,className:"ml-1"})]})]}),h.jsxs(kc.div,{className:"w-full bg-white rounded-2xl shadow-xl p-8 border border-purple-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>f("/maintenanceactivity/stoptimes"),children:[h.jsx(id,{size:64,className:"text-purple-600 mb-4"}),h.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Stop Time"}),h.jsx("p",{className:"text-gray-700 mb-4",children:"Record and analyze machine downtime and stop times."}),h.jsxs("span",{className:"text-purple-600 font-semibold flex items-center",children:["Go to Stop Time ",h.jsx(Qc,{size:18,className:"ml-1"})]})]}),h.jsxs(kc.div,{className:"w-full bg-white rounded-2xl shadow-xl p-8 border border-orange-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>f("/maintenanceactivity/troubleitem"),children:[h.jsx(ju,{size:64,className:"text-orange-600 mb-4"}),h.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Trouble Item"}),h.jsx("p",{className:"text-gray-700 mb-4",children:"Manage and categorize common trouble items or issues."}),h.jsxs("span",{className:"text-orange-600 font-semibold flex items-center",children:["Go to Trouble Items ",h.jsx(Qc,{size:18,className:"ml-1"})]})]})]})]})]})]})};var GI,YI,KI,JI,XI,QI,ZI,eR,tR,nR,rR,aR,iR,sR,oR,lR,cR,dR,uR,hR,pR,mR,fR,gR,xR,bR,yR,vR,wR,jR,NR,kR,SR,CR,_R,AR,TR,OR,ER,MR,PR,DR,LR,IR,RR,FR,HR,zR,BR,WR,$R,UR,VR,qR,GR,YR,KR,JR,XR,QR,ZR,eF,tF,nF,rF,aF,iF,sF,oF,lF,cF,dF,uF,hF,pF,mF,fF,gF,xF,bF,yF,vF,wF,jF,NF,kF,SF,CF,_F,AF,TF,OF,EF,MF,PF,DF,LF,IF,RF,FF,HF,zF,BF,WF;function $F(){if(YI)return GI;YI=1;var e=Array.isArray;return GI=e}function UF(){if(JI)return KI;JI=1;var e="object"==typeof a&&a&&a.Object===Object&&a;return KI=e}function VF(){if(QI)return XI;QI=1;var e=UF(),t="object"==typeof self&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return XI=n}function qF(){if(eR)return ZI;eR=1;var e=VF().Symbol;return ZI=e}function GF(){if(sR)return iR;sR=1;var e=qF(),t=function(){if(nR)return tR;nR=1;var e=qF(),t=Object.prototype,n=t.hasOwnProperty,r=t.toString,a=e?e.toStringTag:void 0;return tR=function(e){var t=n.call(e,a),i=e[a];try{e[a]=void 0;var s=!0}catch(Ew){}var o=r.call(e);return s&&(t?e[a]=i:delete e[a]),o}}(),n=function(){if(aR)return rR;aR=1;var e=Object.prototype.toString;return rR=function(t){return e.call(t)}}(),r=e?e.toStringTag:void 0;return iR=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":r&&r in Object(e)?t(e):n(e)}}function YF(){return lR?oR:(lR=1,oR=function(e){return null!=e&&"object"==typeof e})}function KF(){if(dR)return cR;dR=1;var e=GF(),t=YF();return cR=function(n){return"symbol"==typeof n||t(n)&&"[object Symbol]"==e(n)}}function JF(){if(hR)return uR;hR=1;var e=$F(),t=KF(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;return uR=function(a,i){if(e(a))return!1;var s=typeof a;return!("number"!=s&&"symbol"!=s&&"boolean"!=s&&null!=a&&!t(a))||r.test(a)||!n.test(a)||null!=i&&a in Object(i)}}function XF(){return mR?pR:(mR=1,pR=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)})}function QF(){if(gR)return fR;gR=1;var e=GF(),t=XF();return fR=function(n){if(!t(n))return!1;var r=e(n);return"[object Function]"==r||"[object GeneratorFunction]"==r||"[object AsyncFunction]"==r||"[object Proxy]"==r}}function ZF(){if(jR)return wR;jR=1;var e=Function.prototype.toString;return wR=function(t){if(null!=t){try{return e.call(t)}catch(Ew){}try{return t+""}catch(Ew){}}return""}}function eH(){if(AR)return _R;AR=1;var e=function(){if(kR)return NR;kR=1;var e=QF(),t=function(){if(vR)return yR;vR=1;var e,t=function(){if(bR)return xR;bR=1;var e=VF()["__core-js_shared__"];return xR=e}(),n=(e=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||""))?"Symbol(src)_1."+e:"";return yR=function(e){return!!n&&n in e}}(),n=XF(),r=ZF(),a=/^\[object .+?Constructor\]$/,i=Function.prototype,s=Object.prototype,o=i.toString,l=s.hasOwnProperty,c=RegExp("^"+o.call(l).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");return NR=function(i){return!(!n(i)||t(i))&&(e(i)?c:a).test(r(i))}}(),t=CR?SR:(CR=1,SR=function(e,t){return null==e?void 0:e[t]});return _R=function(n,r){var a=t(n,r);return e(a)?a:void 0}}function tH(){if(OR)return TR;OR=1;var e=eH()(Object,"create");return TR=e}function nH(){return qR?VR:(qR=1,VR=function(e,t){return e===t||e!=e&&t!=t})}function rH(){if(YR)return GR;YR=1;var e=nH();return GR=function(t,n){for(var r=t.length;r--;)if(e(t[r][0],n))return r;return-1}}function aH(){if(aF)return rF;aF=1;var e=UR?$R:(UR=1,$R=function(){this.__data__=[],this.size=0}),t=function(){if(JR)return KR;JR=1;var e=rH(),t=Array.prototype.splice;return KR=function(n){var r=this.__data__,a=e(r,n);return!(a<0||(a==r.length-1?r.pop():t.call(r,a,1),--this.size,0))}}(),n=function(){if(QR)return XR;QR=1;var e=rH();return XR=function(t){var n=this.__data__,r=e(n,t);return r<0?void 0:n[r][1]}}(),r=function(){if(eF)return ZR;eF=1;var e=rH();return ZR=function(t){return e(this.__data__,t)>-1}}(),a=function(){if(nF)return tF;nF=1;var e=rH();return tF=function(t,n){var r=this.__data__,a=e(r,t);return a<0?(++this.size,r.push([t,n])):r[a][1]=n,this}}();function i(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=n,i.prototype.has=r,i.prototype.set=a,rF=i}function iH(){if(sF)return iF;sF=1;var e=eH()(VF(),"Map");return iF=e}function sH(){if(hF)return uF;hF=1;var e=dF?cF:(dF=1,cF=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e});return uF=function(t,n){var r=t.__data__;return e(n)?r["string"==typeof n?"string":"hash"]:r.map}}function oH(){if(jF)return wF;jF=1;var e=function(){if(lF)return oF;lF=1;var e=function(){if(WR)return BR;WR=1;var e=function(){if(MR)return ER;MR=1;var e=tH();return ER=function(){this.__data__=e?e(null):{},this.size=0}}(),t=DR?PR:(DR=1,PR=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}),n=function(){if(IR)return LR;IR=1;var e=tH(),t=Object.prototype.hasOwnProperty;return LR=function(n){var r=this.__data__;if(e){var a=r[n];return"__lodash_hash_undefined__"===a?void 0:a}return t.call(r,n)?r[n]:void 0}}(),r=function(){if(FR)return RR;FR=1;var e=tH(),t=Object.prototype.hasOwnProperty;return RR=function(n){var r=this.__data__;return e?void 0!==r[n]:t.call(r,n)}}(),a=function(){if(zR)return HR;zR=1;var e=tH();return HR=function(t,n){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=e&&void 0===n?"__lodash_hash_undefined__":n,this}}();function i(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=n,i.prototype.has=r,i.prototype.set=a,BR=i}(),t=aH(),n=iH();return oF=function(){this.size=0,this.__data__={hash:new e,map:new(n||t),string:new e}}}(),t=function(){if(mF)return pF;mF=1;var e=sH();return pF=function(t){var n=e(this,t).delete(t);return this.size-=n?1:0,n}}(),n=function(){if(gF)return fF;gF=1;var e=sH();return fF=function(t){return e(this,t).get(t)}}(),r=function(){if(bF)return xF;bF=1;var e=sH();return xF=function(t){return e(this,t).has(t)}}(),a=function(){if(vF)return yF;vF=1;var e=sH();return yF=function(t,n){var r=e(this,t),a=r.size;return r.set(t,n),this.size+=r.size==a?0:1,this}}();function i(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=n,i.prototype.has=r,i.prototype.set=a,wF=i}function lH(){if(kF)return NF;kF=1;var e=oH();function t(n,r){if("function"!=typeof n||null!=r&&"function"!=typeof r)throw new TypeError("Expected a function");var a=function(){var e=arguments,t=r?r.apply(this,e):e[0],i=a.cache;if(i.has(t))return i.get(t);var s=n.apply(this,e);return a.cache=i.set(t,s)||i,s};return a.cache=new(t.Cache||e),a}return t.Cache=e,NF=t}function cH(){return OF?TF:(OF=1,TF=function(e,t){for(var n=-1,r=null==e?0:e.length,a=Array(r);++n<r;)a[n]=t(e[n],n,e);return a})}function dH(){if(DF)return PF;DF=1;var e=function(){if(MF)return EF;MF=1;var e=qF(),t=cH(),n=$F(),r=KF(),a=e?e.prototype:void 0,i=a?a.toString:void 0;return EF=function e(a){if("string"==typeof a)return a;if(n(a))return t(a,e)+"";if(r(a))return i?i.call(a):"";var s=a+"";return"0"==s&&1/a==-1/0?"-0":s},EF}();return PF=function(t){return null==t?"":e(t)}}function uH(){if(IF)return LF;IF=1;var e=$F(),t=JF(),n=function(){if(AF)return _F;AF=1;var e=function(){if(CF)return SF;CF=1;var e=lH();return SF=function(t){var n=e(t,function(e){return 500===r.size&&r.clear(),e}),r=n.cache;return n}}(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=e(function(e){var r=[];return 46===e.charCodeAt(0)&&r.push(""),e.replace(t,function(e,t,a,i){r.push(a?i.replace(n,"$1"):t||e)}),r});return _F=r}(),r=dH();return LF=function(a,i){return e(a)?a:t(a,i)?[a]:n(r(a))}}function hH(){if(FF)return RF;FF=1;var e=KF();return RF=function(t){if("string"==typeof t||e(t))return t;var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}}function pH(){if(zF)return HF;zF=1;var e=uH(),t=hH();return HF=function(n,r){for(var a=0,i=(r=e(r,n)).length;null!=n&&a<i;)n=n[t(r[a++])];return a&&a==i?n:void 0}}function mH(){if(WF)return BF;WF=1;var e=pH();return BF=function(t,n,r){var a=null==t?void 0:e(t,n);return void 0===a?r:a}}const fH=i(mH());var gH,xH;const bH=i(xH?gH:(xH=1,gH=function(e){return null==e}));var yH,vH;const wH=i(function(){if(vH)return yH;vH=1;var e=GF(),t=$F(),n=YF();return yH=function(r){return"string"==typeof r||!t(r)&&n(r)&&"[object String]"==e(r)}}()),jH=i(QF()),NH=i(XF());var kH,SH,CH,_H,AH,TH,OH={exports:{}},EH={},MH=(SH||(SH=1,OH.exports=function(){if(kH)return EH;kH=1;var e,t=Symbol.for("react.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen");function f(e){if("object"==typeof e&&null!==e){var m=e.$$typeof;switch(m){case t:switch(e=e.type){case r:case i:case a:case d:case u:return e;default:switch(e=e&&e.$$typeof){case l:case o:case c:case p:case h:case s:return e;default:return m}}case n:return m}}}return e=Symbol.for("react.module.reference"),EH.ContextConsumer=o,EH.ContextProvider=s,EH.Element=t,EH.ForwardRef=c,EH.Fragment=r,EH.Lazy=p,EH.Memo=h,EH.Portal=n,EH.Profiler=i,EH.StrictMode=a,EH.Suspense=d,EH.SuspenseList=u,EH.isAsyncMode=function(){return!1},EH.isConcurrentMode=function(){return!1},EH.isContextConsumer=function(e){return f(e)===o},EH.isContextProvider=function(e){return f(e)===s},EH.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===t},EH.isForwardRef=function(e){return f(e)===c},EH.isFragment=function(e){return f(e)===r},EH.isLazy=function(e){return f(e)===p},EH.isMemo=function(e){return f(e)===h},EH.isPortal=function(e){return f(e)===n},EH.isProfiler=function(e){return f(e)===i},EH.isStrictMode=function(e){return f(e)===a},EH.isSuspense=function(e){return f(e)===d},EH.isSuspenseList=function(e){return f(e)===u},EH.isValidElementType=function(t){return"string"==typeof t||"function"==typeof t||t===r||t===i||t===a||t===d||t===u||t===m||"object"==typeof t&&null!==t&&(t.$$typeof===p||t.$$typeof===h||t.$$typeof===s||t.$$typeof===o||t.$$typeof===c||t.$$typeof===e||void 0!==t.getModuleId)},EH.typeOf=f,EH}()),OH.exports);function PH(){if(_H)return CH;_H=1;var e=GF(),t=YF();return CH=function(n){return"number"==typeof n||t(n)&&"[object Number]"==e(n)}}const DH=i(function(){if(TH)return AH;TH=1;var e=PH();return AH=function(t){return e(t)&&t!=+t}}()),LH=i(PH());var IH=function(e){return 0===e?0:e>0?1:-1},RH=function(e){return wH(e)&&e.indexOf("%")===e.length-1},FH=function(e){return LH(e)&&!DH(e)},HH=function(e){return FH(e)||wH(e)},zH=0,BH=function(e){var t=++zH;return"".concat(e||"").concat(t)},WH=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!FH(e)&&!wH(e))return r;if(RH(e)){var i=e.indexOf("%");n=t*parseFloat(e.slice(0,i))/100}else n=+e;return DH(n)&&(n=r),a&&n>t&&(n=t),n},$H=function(e){if(!e)return null;var t=Object.keys(e);return t&&t.length?e[t[0]]:null},UH=function(e,t){return FH(e)&&FH(t)?function(n){return e+n*(t-e)}:function(){return t}};function VH(e,t,n){return e&&e.length?e.find(function(e){return e&&("function"==typeof t?t(e):fH(e,t))===n}):null}var qH=function(e,t){return FH(e)&&FH(t)?e-t:wH(e)&&wH(t)?e.localeCompare(t):e instanceof Date&&t instanceof Date?e.getTime()-t.getTime():String(e).localeCompare(String(t))};function GH(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function YH(e){return(YH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var KH=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],JH=["points","pathLength"],XH={svg:["viewBox","children"],polygon:JH,polyline:JH},QH=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],ZH=function(e,t){if(!e||"function"==typeof e||"boolean"==typeof e)return null;var n=e;if(x.isValidElement(e)&&(n=e.props),!NH(n))return null;var r={};return Object.keys(n).forEach(function(e){QH.includes(e)&&(r[e]=t||function(t){return n[e](n,t)})}),r},ez=function(e,t,n){if(!NH(e)||"object"!==YH(e))return null;var r=null;return Object.keys(e).forEach(function(a){var i=e[a];QH.includes(a)&&"function"==typeof i&&(r||(r={}),r[a]=function(e,t,n){return function(r){return e(t,n,r),null}}(i,t,n))}),r},tz=["children"],nz=["children"];function rz(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function az(e){return(az="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var iz={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},sz=function(e){return"string"==typeof e?e:e?e.displayName||e.name||"Component":""},oz=null,lz=null,cz=function e(t){if(t===oz&&Array.isArray(lz))return lz;var n=[];return x.Children.forEach(t,function(t){bH(t)||(MH.isFragment(t)?n=n.concat(e(t.props.children)):n.push(t))}),lz=n,oz=t,n};function dz(e,t){var n=[],r=[];return r=Array.isArray(t)?t.map(function(e){return sz(e)}):[sz(t)],cz(e).forEach(function(e){var t=fH(e,"type.displayName")||fH(e,"type.name");-1!==r.indexOf(t)&&n.push(e)}),n}function uz(e,t){var n=dz(e,t);return n&&n[0]}var hz=function(e){if(!e||!e.props)return!1;var t=e.props,n=t.width,r=t.height;return!(!FH(n)||n<=0||!FH(r)||r<=0)},pz=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],mz=function(e){return e&&"object"===az(e)&&"clipDot"in e},fz=function(e,t,n){if(!e||"function"==typeof e||"boolean"==typeof e)return null;var r=e;if(x.isValidElement(e)&&(r=e.props),!NH(r))return null;var a={};return Object.keys(r).forEach(function(e){var i;(function(e,t,n,r){var a,i=null!==(a=null==XH?void 0:XH[r])&&void 0!==a?a:[];return t.startsWith("data-")||!jH(e)&&(r&&i.includes(t)||KH.includes(t))||n&&QH.includes(t)})(null===(i=r)||void 0===i?void 0:i[e],e,t,n)&&(a[e]=r[e])}),a},gz=function e(t,n){if(t===n)return!0;var r=x.Children.count(t);if(r!==x.Children.count(n))return!1;if(0===r)return!0;if(1===r)return xz(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var a=0;a<r;a++){var i=t[a],s=n[a];if(Array.isArray(i)||Array.isArray(s)){if(!e(i,s))return!1}else if(!xz(i,s))return!1}return!0},xz=function(e,t){if(bH(e)&&bH(t))return!0;if(!bH(e)&&!bH(t)){var n=e.props||{},r=n.children,a=rz(n,tz),i=t.props||{},s=i.children,o=rz(i,nz);return r&&s?GH(a,o)&&gz(r,s):!r&&!s&&GH(a,o)}return!1},bz=function(e,t){var n=[],r={};return cz(e).forEach(function(e,a){if(function(e){return e&&e.type&&wH(e.type)&&pz.indexOf(e.type)>=0}(e))n.push(e);else if(e){var i=sz(e.type),s=t[i]||{},o=s.handler,l=s.once;if(o&&(!l||!r[i])){var c=o(e,i,a);n.push(c),r[i]=!0}}}),n},yz=["children","width","height","viewBox","className","style","title","desc"];function vz(){return vz=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vz.apply(this,arguments)}function wz(e){var t=e.children,n=e.width,r=e.height,a=e.viewBox,i=e.className,s=e.style,o=e.title,l=e.desc,c=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,yz),d=a||{width:n,height:r,x:0,y:0},u=Zu("recharts-surface",i);return b.createElement("svg",vz({},fz(c,!0,"svg"),{className:u,width:n,height:r,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),b.createElement("title",null,o),b.createElement("desc",null,l),t)}var jz=["children","className"];function Nz(){return Nz=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nz.apply(this,arguments)}var kz,Sz,Cz,_z,Az,Tz,Oz,Ez,Mz,Pz,Dz,Lz,Iz,Rz,Fz,Hz,zz=b.forwardRef(function(e,t){var n=e.children,r=e.className,a=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,jz),i=Zu("recharts-layer",r);return b.createElement("g",Nz({className:i},fz(a,!0),{ref:t}),n)}),Bz=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a]};function Wz(){if(Tz)return Az;Tz=1;var e=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");return Az=function(t){return e.test(t)}}const $z=i(function(){if(Hz)return Fz;Hz=1;var e=function(){if(Rz)return Iz;Rz=1;var e=function(){if(_z)return Cz;_z=1;var e=Sz?kz:(Sz=1,kz=function(e,t,n){var r=-1,a=e.length;t<0&&(t=-t>a?0:a+t),(n=n>a?a:n)<0&&(n+=a),a=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(a);++r<a;)i[r]=e[r+t];return i});return Cz=function(t,n,r){var a=t.length;return r=void 0===r?a:r,!n&&r>=a?t:e(t,n,r)}}(),t=Wz(),n=function(){if(Lz)return Dz;Lz=1;var e=Ez?Oz:(Ez=1,Oz=function(e){return e.split("")}),t=Wz(),n=function(){if(Pz)return Mz;Pz=1;var e="\\ud800-\\udfff",t="["+e+"]",n="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",r="\\ud83c[\\udffb-\\udfff]",a="[^"+e+"]",i="(?:\\ud83c[\\udde6-\\uddff]){2}",s="[\\ud800-\\udbff][\\udc00-\\udfff]",o="(?:"+n+"|"+r+")?",l="[\\ufe0e\\ufe0f]?",c=l+o+"(?:\\u200d(?:"+[a,i,s].join("|")+")"+l+o+")*",d="(?:"+[a+n+"?",n,i,s,t].join("|")+")",u=RegExp(r+"(?="+r+")|"+d+c,"g");return Mz=function(e){return e.match(u)||[]}}();return Dz=function(r){return t(r)?n(r):e(r)}}(),r=dH();return Iz=function(a){return function(i){i=r(i);var s=t(i)?n(i):void 0,o=s?s[0]:i.charAt(0),l=s?e(s,1).join(""):i.slice(1);return o[a]()+l}}}()("toUpperCase");return Fz=e}());function Uz(e){return function(){return e}}const Vz=Math.cos,qz=Math.sin,Gz=Math.sqrt,Yz=Math.PI,Kz=2*Yz,Jz=Math.PI,Xz=2*Jz,Qz=1e-6,Zz=Xz-Qz;function eB(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}class tB{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?eB:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return eB;const n=10**t;return function(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=Math.round(arguments[t]*n)/n+e[t]}}(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,n,r){this._append`Q${+e},${+t},${this._x1=+n},${this._y1=+r}`}bezierCurveTo(e,t,n,r,a,i){this._append`C${+e},${+t},${+n},${+r},${this._x1=+a},${this._y1=+i}`}arcTo(e,t,n,r,a){if(e=+e,t=+t,n=+n,r=+r,(a=+a)<0)throw new Error(`negative radius: ${a}`);let i=this._x1,s=this._y1,o=n-e,l=r-t,c=i-e,d=s-t,u=c*c+d*d;if(null===this._x1)this._append`M${this._x1=e},${this._y1=t}`;else if(u>Qz)if(Math.abs(d*o-l*c)>Qz&&a){let h=n-i,p=r-s,m=o*o+l*l,f=h*h+p*p,g=Math.sqrt(m),x=Math.sqrt(u),b=a*Math.tan((Jz-Math.acos((m+u-f)/(2*g*x)))/2),y=b/x,v=b/g;Math.abs(y-1)>Qz&&this._append`L${e+y*c},${t+y*d}`,this._append`A${a},${a},0,0,${+(d*h>c*p)},${this._x1=e+v*o},${this._y1=t+v*l}`}else this._append`L${this._x1=e},${this._y1=t}`}arc(e,t,n,r,a,i){if(e=+e,t=+t,i=!!i,(n=+n)<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(r),o=n*Math.sin(r),l=e+s,c=t+o,d=1^i,u=i?r-a:a-r;null===this._x1?this._append`M${l},${c}`:(Math.abs(this._x1-l)>Qz||Math.abs(this._y1-c)>Qz)&&this._append`L${l},${c}`,n&&(u<0&&(u=u%Xz+Xz),u>Zz?this._append`A${n},${n},0,1,${d},${e-s},${t-o}A${n},${n},0,1,${d},${this._x1=l},${this._y1=c}`:u>Qz&&this._append`A${n},${n},0,${+(u>=Jz)},${d},${this._x1=e+n*Math.cos(a)},${this._y1=t+n*Math.sin(a)}`)}rect(e,t,n,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${n=+n}v${+r}h${-n}Z`}toString(){return this._}}function nB(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(null==n)t=null;else{const e=Math.floor(n);if(!(e>=0))throw new RangeError(`invalid digits: ${n}`);t=e}return e},()=>new tB(t)}function rB(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function aB(e){this._context=e}function iB(e){return new aB(e)}function sB(e){return e[0]}function oB(e){return e[1]}function lB(e,t){var n=Uz(!0),r=null,a=iB,i=null,s=nB(o);function o(o){var l,c,d,u=(o=rB(o)).length,h=!1;for(null==r&&(i=a(d=s())),l=0;l<=u;++l)!(l<u&&n(c=o[l],l,o))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(c,l,o),+t(c,l,o));if(d)return i=null,d+""||null}return e="function"==typeof e?e:void 0===e?sB:Uz(e),t="function"==typeof t?t:void 0===t?oB:Uz(t),o.x=function(t){return arguments.length?(e="function"==typeof t?t:Uz(+t),o):e},o.y=function(e){return arguments.length?(t="function"==typeof e?e:Uz(+e),o):t},o.defined=function(e){return arguments.length?(n="function"==typeof e?e:Uz(!!e),o):n},o.curve=function(e){return arguments.length?(a=e,null!=r&&(i=a(r)),o):a},o.context=function(e){return arguments.length?(null==e?r=i=null:i=a(r=e),o):r},o}function cB(e,t,n){var r=null,a=Uz(!0),i=null,s=iB,o=null,l=nB(c);function c(c){var d,u,h,p,m,f=(c=rB(c)).length,g=!1,x=new Array(f),b=new Array(f);for(null==i&&(o=s(m=l())),d=0;d<=f;++d){if(!(d<f&&a(p=c[d],d,c))===g)if(g=!g)u=d,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),h=d-1;h>=u;--h)o.point(x[h],b[h]);o.lineEnd(),o.areaEnd()}g&&(x[d]=+e(p,d,c),b[d]=+t(p,d,c),o.point(r?+r(p,d,c):x[d],n?+n(p,d,c):b[d]))}if(m)return o=null,m+""||null}function d(){return lB().defined(a).curve(s).context(i)}return e="function"==typeof e?e:void 0===e?sB:Uz(+e),t="function"==typeof t?t:Uz(void 0===t?0:+t),n="function"==typeof n?n:void 0===n?oB:Uz(+n),c.x=function(t){return arguments.length?(e="function"==typeof t?t:Uz(+t),r=null,c):e},c.x0=function(t){return arguments.length?(e="function"==typeof t?t:Uz(+t),c):e},c.x1=function(e){return arguments.length?(r=null==e?null:"function"==typeof e?e:Uz(+e),c):r},c.y=function(e){return arguments.length?(t="function"==typeof e?e:Uz(+e),n=null,c):t},c.y0=function(e){return arguments.length?(t="function"==typeof e?e:Uz(+e),c):t},c.y1=function(e){return arguments.length?(n=null==e?null:"function"==typeof e?e:Uz(+e),c):n},c.lineX0=c.lineY0=function(){return d().x(e).y(t)},c.lineY1=function(){return d().x(e).y(n)},c.lineX1=function(){return d().x(r).y(t)},c.defined=function(e){return arguments.length?(a="function"==typeof e?e:Uz(!!e),c):a},c.curve=function(e){return arguments.length?(s=e,null!=i&&(o=s(i)),c):s},c.context=function(e){return arguments.length?(null==e?i=o=null:o=s(i=e),c):i},c}aB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}};class dB{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}const uB={draw(e,t){const n=Gz(t/Yz);e.moveTo(n,0),e.arc(0,0,n,0,Kz)}},hB={draw(e,t){const n=Gz(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},pB=Gz(1/3),mB=2*pB,fB={draw(e,t){const n=Gz(t/mB),r=n*pB;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},gB={draw(e,t){const n=Gz(t),r=-n/2;e.rect(r,r,n,n)}},xB=qz(Yz/10)/qz(7*Yz/10),bB=qz(Kz/10)*xB,yB=-Vz(Kz/10)*xB,vB={draw(e,t){const n=Gz(.8908130915292852*t),r=bB*n,a=yB*n;e.moveTo(0,-n),e.lineTo(r,a);for(let i=1;i<5;++i){const t=Kz*i/5,s=Vz(t),o=qz(t);e.lineTo(o*n,-s*n),e.lineTo(s*r-o*a,o*r+s*a)}e.closePath()}},wB=Gz(3),jB={draw(e,t){const n=-Gz(t/(3*wB));e.moveTo(0,2*n),e.lineTo(-wB*n,-n),e.lineTo(wB*n,-n),e.closePath()}},NB=-.5,kB=Gz(3)/2,SB=1/Gz(12),CB=3*(SB/2+1),_B={draw(e,t){const n=Gz(t/CB),r=n/2,a=n*SB,i=r,s=n*SB+n,o=-i,l=s;e.moveTo(r,a),e.lineTo(i,s),e.lineTo(o,l),e.lineTo(NB*r-kB*a,kB*r+NB*a),e.lineTo(NB*i-kB*s,kB*i+NB*s),e.lineTo(NB*o-kB*l,kB*o+NB*l),e.lineTo(NB*r+kB*a,NB*a-kB*r),e.lineTo(NB*i+kB*s,NB*s-kB*i),e.lineTo(NB*o+kB*l,NB*l-kB*o),e.closePath()}};function AB(){}function TB(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function OB(e){this._context=e}function EB(e){this._context=e}function MB(e){this._context=e}function PB(e){this._context=e}function DB(e){return e<0?-1:1}function LB(e,t,n){var r=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(r||a<0&&-0),s=(n-e._y1)/(a||r<0&&-0),o=(i*a+s*r)/(r+a);return(DB(i)+DB(s))*Math.min(Math.abs(i),Math.abs(s),.5*Math.abs(o))||0}function IB(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function RB(e,t,n){var r=e._x0,a=e._y0,i=e._x1,s=e._y1,o=(i-r)/3;e._context.bezierCurveTo(r+o,a+o*t,i-o,s-o*n,i,s)}function FB(e){this._context=e}function HB(e){this._context=new zB(e)}function zB(e){this._context=e}function BB(e){this._context=e}function WB(e){var t,n,r=e.length-1,a=new Array(r),i=new Array(r),s=new Array(r);for(a[0]=0,i[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,s[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,s[t]-=n*s[t-1];for(a[r-1]=s[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(s[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function $B(e,t){this._context=e,this._t=t}function UB(e,t){if((a=e.length)>1)for(var n,r,a,i=1,s=e[t[0]],o=s.length;i<a;++i)for(r=s,s=e[t[i]],n=0;n<o;++n)s[n][1]+=s[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}function VB(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function qB(e,t){return e[t]}function GB(e){const t=[];return t.key=e,t}function YB(e){return(YB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}OB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:TB(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:TB(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},EB.prototype={areaStart:AB,areaEnd:AB,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:TB(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},MB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:TB(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},PB.prototype={areaStart:AB,areaEnd:AB,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},FB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:RB(this,this._t0,IB(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,RB(this,IB(this,n=LB(this,e,t)),n);break;default:RB(this,this._t0,n=LB(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(HB.prototype=Object.create(FB.prototype)).point=function(e,t){FB.prototype.point.call(this,t,e)},zB.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,a,i){this._context.bezierCurveTo(t,e,r,n,i,a)}},BB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=WB(e),a=WB(t),i=0,s=1;s<n;++i,++s)this._context.bezierCurveTo(r[0][i],a[0][i],r[1][i],a[1][i],e[s],t[s]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},$B.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};var KB=["type","size","sizeType"];function JB(){return JB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},JB.apply(this,arguments)}function XB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function QB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?XB(Object(n),!0).forEach(function(t){var r,a,i;r=e,a=t,i=n[t],a=function(e){var t=function(e,t){if("object"!=YB(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=YB(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==YB(t)?t:t+""}(a),a in r?Object.defineProperty(r,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[a]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XB(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var ZB={symbolCircle:uB,symbolCross:hB,symbolDiamond:fB,symbolSquare:gB,symbolStar:vB,symbolTriangle:jB,symbolWye:_B},eW=Math.PI/180,tW=function(e){var t,n,r=e.type,a=void 0===r?"circle":r,i=e.size,s=void 0===i?64:i,o=e.sizeType,l=void 0===o?"area":o,c=QB(QB({},function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,KB)),{},{type:a,size:s,sizeType:l}),d=c.className,u=c.cx,h=c.cy,p=fz(c,!0);return u===+u&&h===+h&&s===+s?b.createElement("path",JB({},p,{className:Zu("recharts-symbols",d),transform:"translate(".concat(u,", ").concat(h,")"),d:(t=function(e){var t="symbol".concat($z(e));return ZB[t]||uB}(a),n=function(e,t){let n=null,r=nB(a);function a(){let a;if(n||(n=a=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return e="function"==typeof e?e:Uz(e||uB),t="function"==typeof t?t:Uz(void 0===t?64:+t),a.type=function(t){return arguments.length?(e="function"==typeof t?t:Uz(t),a):e},a.size=function(e){return arguments.length?(t="function"==typeof e?e:Uz(+e),a):t},a.context=function(e){return arguments.length?(n=null==e?null:e,a):n},a}().type(t).size(function(e,t,n){if("area"===t)return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return.5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var r=18*eW;return 1.25*e*e*(Math.tan(r)-Math.tan(2*r)*Math.pow(Math.tan(r),2));case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}}(s,l,a)),n())})):null};function nW(e){return(nW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rW(){return rW=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rW.apply(this,arguments)}function aW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function iW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(iW=function(){return!!e})()}function sW(e){return(sW=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function oW(e,t){return(oW=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function lW(e,t,n){return(t=cW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cW(e){var t=function(e){if("object"!=nW(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=nW(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==nW(t)?t:t+""}tW.registerSymbol=function(e,t){ZB["symbol".concat($z(e))]=t};var dW,uW,hW,pW,mW,fW,gW,xW,bW,yW,vW,wW,jW,NW,kW,SW,CW,_W,AW,TW,OW,EW,MW,PW,DW,LW,IW,RW,FW,HW,zW,BW,WW,$W,UW,VW,qW,GW,YW,KW,JW,XW,QW,ZW,e$,t$,n$,r$,a$=32,i$=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),function(e,t,n){return t=sW(t),function(e,t){if(t&&("object"===nW(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,iW()?Reflect.construct(t,n||[],sW(e).constructor):t.apply(e,n))}(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oW(e,t)}(e,x.PureComponent),t=e,n=[{key:"renderIcon",value:function(e){var t=this.props.inactiveColor,n=16,r=a$/6,a=a$/3,i=e.inactive?t:e.color;if("plainline"===e.type)return b.createElement("line",{strokeWidth:4,fill:"none",stroke:i,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:n,x2:a$,y2:n,className:"recharts-legend-icon"});if("line"===e.type)return b.createElement("path",{strokeWidth:4,fill:"none",stroke:i,d:"M0,".concat(n,"h").concat(a,"\n            A").concat(r,",").concat(r,",0,1,1,").concat(2*a,",").concat(n,"\n            H").concat(a$,"M").concat(2*a,",").concat(n,"\n            A").concat(r,",").concat(r,",0,1,1,").concat(a,",").concat(n),className:"recharts-legend-icon"});if("rect"===e.type)return b.createElement("path",{stroke:"none",fill:i,d:"M0,".concat(4,"h").concat(a$,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(b.isValidElement(e.legendIcon)){var s=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?aW(Object(n),!0).forEach(function(t){lW(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aW(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e);return delete s.legendIcon,b.cloneElement(e.legendIcon,s)}return b.createElement(tW,{fill:i,cx:n,cy:n,size:a$,sizeType:"diameter",type:e.type})}},{key:"renderItems",value:function(){var e=this,t=this.props,n=t.payload,r=t.iconSize,a=t.layout,i=t.formatter,s=t.inactiveColor,o={x:0,y:0,width:a$,height:a$},l={display:"horizontal"===a?"inline-block":"block",marginRight:10},c={display:"inline-block",verticalAlign:"middle",marginRight:4};return n.map(function(t,n){var a=t.formatter||i,d=Zu(lW(lW({"recharts-legend-item":!0},"legend-item-".concat(n),!0),"inactive",t.inactive));if("none"===t.type)return null;var u=jH(t.value)?null:t.value;Bz(!jH(t.value),'The name property is also required when using a function for the dataKey of a chart\'s cartesian components. Ex: <Bar name="Name of my Data"/>');var h=t.inactive?s:t.color;return b.createElement("li",rW({className:d,style:l,key:"legend-item-".concat(n)},ez(e.props,t,n)),b.createElement(wz,{width:r,height:r,viewBox:o,style:c},e.renderIcon(t)),b.createElement("span",{className:"recharts-legend-item-text",style:{color:h}},a?a(u,t,n):u))})}},{key:"render",value:function(){var e=this.props,t=e.payload,n=e.layout,r=e.align;if(!t||!t.length)return null;var a={padding:0,margin:0,textAlign:"horizontal"===n?r:"left"};return b.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}],n&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,cW(r.key),r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}();function s$(){if(wW)return vW;wW=1;var e=aH(),t=function(){if(uW)return dW;uW=1;var e=aH();return dW=function(){this.__data__=new e,this.size=0}}(),n=pW?hW:(pW=1,hW=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}),r=fW?mW:(fW=1,mW=function(e){return this.__data__.get(e)}),a=xW?gW:(xW=1,gW=function(e){return this.__data__.has(e)}),i=function(){if(yW)return bW;yW=1;var e=aH(),t=iH(),n=oH();return bW=function(r,a){var i=this.__data__;if(i instanceof e){var s=i.__data__;if(!t||s.length<199)return s.push([r,a]),this.size=++i.size,this;i=this.__data__=new n(s)}return i.set(r,a),this.size=i.size,this}}();function s(t){var n=this.__data__=new e(t);this.size=n.size}return s.prototype.clear=t,s.prototype.delete=n,s.prototype.get=r,s.prototype.has=a,s.prototype.set=i,vW=s}function o$(){if(_W)return CW;_W=1;var e=oH(),t=NW?jW:(NW=1,jW=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}),n=SW?kW:(SW=1,kW=function(e){return this.__data__.has(e)});function r(t){var n=-1,r=null==t?0:t.length;for(this.__data__=new e;++n<r;)this.add(t[n])}return r.prototype.add=r.prototype.push=t,r.prototype.has=n,CW=r}function l$(){return TW?AW:(TW=1,AW=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1})}function c$(){return EW?OW:(EW=1,OW=function(e,t){return e.has(t)})}function d$(){if(PW)return MW;PW=1;var e=o$(),t=l$(),n=c$();return MW=function(r,a,i,s,o,l){var c=1&i,d=r.length,u=a.length;if(d!=u&&!(c&&u>d))return!1;var h=l.get(r),p=l.get(a);if(h&&p)return h==a&&p==r;var m=-1,f=!0,g=2&i?new e:void 0;for(l.set(r,a),l.set(a,r);++m<d;){var x=r[m],b=a[m];if(s)var y=c?s(b,x,m,a,r,l):s(x,b,m,r,a,l);if(void 0!==y){if(y)continue;f=!1;break}if(g){if(!t(a,function(e,t){if(!n(g,t)&&(x===e||o(x,e,i,s,l)))return g.push(t)})){f=!1;break}}else if(x!==b&&!o(x,b,i,s,l)){f=!1;break}}return l.delete(r),l.delete(a),f}}function u$(){return HW?FW:(HW=1,FW=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n})}function h$(){return $W?WW:($W=1,WW=function(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e})}function p$(){if(r$)return n$;r$=1;var e=function(){if(t$)return e$;t$=1;var e=GF(),t=YF();return e$=function(n){return t(n)&&"[object Arguments]"==e(n)}}(),t=YF(),n=Object.prototype,r=n.hasOwnProperty,a=n.propertyIsEnumerable,i=e(function(){return arguments}())?e:function(e){return t(e)&&r.call(e,"callee")&&!a.call(e,"callee")};return n$=i}lW(i$,"displayName","Legend"),lW(i$,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var m$,f$,g$,x$,b$,y$,v$,w$,j$,N$,k$,S$={exports:{}};function C$(){return g$||(g$=1,e=S$,t=S$.exports,n=VF(),r=f$?m$:(f$=1,m$=function(){return!1}),o=((s=(i=(a=t&&!t.nodeType&&t)&&e&&!e.nodeType&&e)&&i.exports===a?n.Buffer:void 0)?s.isBuffer:void 0)||r,e.exports=o),S$.exports;var e,t,n,r,a,i,s,o}function _$(){if(b$)return x$;b$=1;var e=/^(?:0|[1-9]\d*)$/;return x$=function(t,n){var r=typeof t;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&e.test(t))&&t>-1&&t%1==0&&t<n}}function A$(){return v$?y$:(v$=1,y$=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991})}function T$(){return k$?N$:(k$=1,N$=function(e){return function(t){return e(t)}})}var O$,E$,M$,P$,D$,L$,I$,R$,F$,H$,z$,B$,W$,$$,U$,V$,q$,G$,Y$,K$,J$,X$,Q$,Z$,eU,tU,nU,rU,aU,iU,sU,oU,lU,cU,dU,uU,hU,pU,mU,fU,gU,xU,bU,yU,vU,wU,jU,NU,kU,SU,CU,_U,AU,TU,OU,EU,MU,PU,DU,LU,IU,RU,FU,HU,zU,BU,WU,$U,UU,VU,qU,GU,YU,KU,JU,XU,QU,ZU,eV,tV,nV,rV,aV,iV={exports:{}};function sV(){if(M$)return E$;M$=1;var e=function(){if(j$)return w$;j$=1;var e=GF(),t=A$(),n=YF(),r={};return r["[object Float32Array]"]=r["[object Float64Array]"]=r["[object Int8Array]"]=r["[object Int16Array]"]=r["[object Int32Array]"]=r["[object Uint8Array]"]=r["[object Uint8ClampedArray]"]=r["[object Uint16Array]"]=r["[object Uint32Array]"]=!0,r["[object Arguments]"]=r["[object Array]"]=r["[object ArrayBuffer]"]=r["[object Boolean]"]=r["[object DataView]"]=r["[object Date]"]=r["[object Error]"]=r["[object Function]"]=r["[object Map]"]=r["[object Number]"]=r["[object Object]"]=r["[object RegExp]"]=r["[object Set]"]=r["[object String]"]=r["[object WeakMap]"]=!1,w$=function(a){return n(a)&&t(a.length)&&!!r[e(a)]}}(),t=T$(),n=function(){return O$||(O$=1,e=iV,t=iV.exports,n=UF(),r=t&&!t.nodeType&&t,a=r&&e&&!e.nodeType&&e,i=a&&a.exports===r&&n.process,s=function(){try{return a&&a.require&&a.require("util").types||i&&i.binding&&i.binding("util")}catch(Ew){}}(),e.exports=s),iV.exports;var e,t,n,r,a,i,s}(),r=n&&n.isTypedArray,a=r?t(r):e;return E$=a}function oV(){return F$?R$:(F$=1,R$=function(e,t){return function(n){return e(t(n))}})}function lV(){if(U$)return $$;U$=1;var e=QF(),t=A$();return $$=function(n){return null!=n&&t(n.length)&&!e(n)}}function cV(){if(q$)return V$;q$=1;var e=function(){if(D$)return P$;D$=1;var e=ZW?QW:(ZW=1,QW=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}),t=p$(),n=$F(),r=C$(),a=_$(),i=sV(),s=Object.prototype.hasOwnProperty;return P$=function(o,l){var c=n(o),d=!c&&t(o),u=!c&&!d&&r(o),h=!c&&!d&&!u&&i(o),p=c||d||u||h,m=p?e(o.length,String):[],f=m.length;for(var g in o)!l&&!s.call(o,g)||p&&("length"==g||u&&("offset"==g||"parent"==g)||h&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||a(g,f))||m.push(g);return m}}(),t=function(){if(W$)return B$;W$=1;var e=function(){if(I$)return L$;I$=1;var e=Object.prototype;return L$=function(t){var n=t&&t.constructor;return t===("function"==typeof n&&n.prototype||e)}}(),t=function(){if(z$)return H$;z$=1;var e=oV()(Object.keys,Object);return H$=e}(),n=Object.prototype.hasOwnProperty;return B$=function(r){if(!e(r))return t(r);var a=[];for(var i in Object(r))n.call(r,i)&&"constructor"!=i&&a.push(i);return a}}(),n=lV();return V$=function(r){return n(r)?e(r):t(r)}}function dV(){if(Y$)return G$;Y$=1;var e=function(){if(VW)return UW;VW=1;var e=h$(),t=$F();return UW=function(n,r,a){var i=r(n);return t(n)?i:e(i,a(n))}}(),t=function(){if(XW)return JW;XW=1;var e=GW?qW:(GW=1,qW=function(e,t){for(var n=-1,r=null==e?0:e.length,a=0,i=[];++n<r;){var s=e[n];t(s,n,e)&&(i[a++]=s)}return i}),t=KW?YW:(KW=1,YW=function(){return[]}),n=Object.prototype.propertyIsEnumerable,r=Object.getOwnPropertySymbols;return JW=r?function(t){return null==t?[]:(t=Object(t),e(r(t),function(e){return n.call(t,e)}))}:t}(),n=cV();return G$=function(r){return e(r,n,t)}}function uV(){if(nU)return tU;nU=1;var e=eH()(VF(),"Set");return tU=e}function hV(){if(lU)return oU;lU=1;var e=s$(),t=d$(),n=function(){if(BW)return zW;BW=1;var e=qF(),t=function(){if(LW)return DW;LW=1;var e=VF().Uint8Array;return DW=e}(),n=nH(),r=d$(),a=RW?IW:(RW=1,IW=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}),i=u$(),s=e?e.prototype:void 0,o=s?s.valueOf:void 0;return zW=function(e,s,l,c,d,u,h){switch(l){case"[object DataView]":if(e.byteLength!=s.byteLength||e.byteOffset!=s.byteOffset)return!1;e=e.buffer,s=s.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=s.byteLength||!u(new t(e),new t(s)));case"[object Boolean]":case"[object Date]":case"[object Number]":return n(+e,+s);case"[object Error]":return e.name==s.name&&e.message==s.message;case"[object RegExp]":case"[object String]":return e==s+"";case"[object Map]":var p=a;case"[object Set]":var m=1&c;if(p||(p=i),e.size!=s.size&&!m)return!1;var f=h.get(e);if(f)return f==s;c|=2,h.set(e,s);var g=r(p(e),p(s),c,d,u,h);return h.delete(e),g;case"[object Symbol]":if(o)return o.call(e)==o.call(s)}return!1}}(),r=function(){if(J$)return K$;J$=1;var e=dV(),t=Object.prototype.hasOwnProperty;return K$=function(n,r,a,i,s,o){var l=1&a,c=e(n),d=c.length;if(d!=e(r).length&&!l)return!1;for(var u=d;u--;){var h=c[u];if(!(l?h in r:t.call(r,h)))return!1}var p=o.get(n),m=o.get(r);if(p&&m)return p==r&&m==n;var f=!0;o.set(n,r),o.set(r,n);for(var g=l;++u<d;){var x=n[h=c[u]],b=r[h];if(i)var y=l?i(b,x,h,r,n,o):i(x,b,h,n,r,o);if(!(void 0===y?x===b||s(x,b,a,i,o):y)){f=!1;break}g||(g="constructor"==h)}if(f&&!g){var v=n.constructor,w=r.constructor;v==w||!("constructor"in n)||!("constructor"in r)||"function"==typeof v&&v instanceof v&&"function"==typeof w&&w instanceof w||(f=!1)}return o.delete(n),o.delete(r),f}}(),a=function(){if(sU)return iU;sU=1;var e=function(){if(Q$)return X$;Q$=1;var e=eH()(VF(),"DataView");return X$=e}(),t=iH(),n=function(){if(eU)return Z$;eU=1;var e=eH()(VF(),"Promise");return Z$=e}(),r=uV(),a=function(){if(aU)return rU;aU=1;var e=eH()(VF(),"WeakMap");return rU=e}(),i=GF(),s=ZF(),o="[object Map]",l="[object Promise]",c="[object Set]",d="[object WeakMap]",u="[object DataView]",h=s(e),p=s(t),m=s(n),f=s(r),g=s(a),x=i;return(e&&x(new e(new ArrayBuffer(1)))!=u||t&&x(new t)!=o||n&&x(n.resolve())!=l||r&&x(new r)!=c||a&&x(new a)!=d)&&(x=function(e){var t=i(e),n="[object Object]"==t?e.constructor:void 0,r=n?s(n):"";if(r)switch(r){case h:return u;case p:return o;case m:return l;case f:return c;case g:return d}return t}),iU=x}(),i=$F(),s=C$(),o=sV(),l="[object Arguments]",c="[object Array]",d="[object Object]",u=Object.prototype.hasOwnProperty;return oU=function(h,p,m,f,g,x){var b=i(h),y=i(p),v=b?c:a(h),w=y?c:a(p),j=(v=v==l?d:v)==d,N=(w=w==l?d:w)==d,k=v==w;if(k&&s(h)){if(!s(p))return!1;b=!0,j=!1}if(k&&!j)return x||(x=new e),b||o(h)?t(h,p,m,f,g,x):n(h,p,v,m,f,g,x);if(!(1&m)){var S=j&&u.call(h,"__wrapped__"),C=N&&u.call(p,"__wrapped__");if(S||C){var _=S?h.value():h,A=C?p.value():p;return x||(x=new e),g(_,A,m,f,x)}}return!!k&&(x||(x=new e),r(h,p,m,f,g,x))}}function pV(){if(dU)return cU;dU=1;var e=hV(),t=YF();return cU=function n(r,a,i,s,o){return r===a||(null==r||null==a||!t(r)&&!t(a)?r!=r&&a!=a:e(r,a,i,s,n,o))}}function mV(){if(mU)return pU;mU=1;var e=XF();return pU=function(t){return t==t&&!e(t)}}function fV(){return bU?xU:(bU=1,xU=function(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}})}function gV(){return OU?TU:(OU=1,TU=function(e){return e})}function xV(){if(FU)return RU;FU=1;var e=function(){if(vU)return yU;vU=1;var e=function(){if(hU)return uU;hU=1;var e=s$(),t=pV();return uU=function(n,r,a,i){var s=a.length,o=s,l=!i;if(null==n)return!o;for(n=Object(n);s--;){var c=a[s];if(l&&c[2]?c[1]!==n[c[0]]:!(c[0]in n))return!1}for(;++s<o;){var d=(c=a[s])[0],u=n[d],h=c[1];if(l&&c[2]){if(void 0===u&&!(d in n))return!1}else{var p=new e;if(i)var m=i(u,h,d,n,r,p);if(!(void 0===m?t(h,u,3,i,p):m))return!1}}return!0}}(),t=function(){if(gU)return fU;gU=1;var e=mV(),t=cV();return fU=function(n){for(var r=t(n),a=r.length;a--;){var i=r[a],s=n[i];r[a]=[i,s,e(s)]}return r}}(),n=fV();return yU=function(r){var a=t(r);return 1==a.length&&a[0][2]?n(a[0][0],a[0][1]):function(t){return t===r||e(t,r,a)}}}(),t=function(){if(AU)return _U;AU=1;var e=pV(),t=mH(),n=function(){if(CU)return SU;CU=1;var e=jU?wU:(jU=1,wU=function(e,t){return null!=e&&t in Object(e)}),t=function(){if(kU)return NU;kU=1;var e=uH(),t=p$(),n=$F(),r=_$(),a=A$(),i=hH();return NU=function(s,o,l){for(var c=-1,d=(o=e(o,s)).length,u=!1;++c<d;){var h=i(o[c]);if(!(u=null!=s&&l(s,h)))break;s=s[h]}return u||++c!=d?u:!!(d=null==s?0:s.length)&&a(d)&&r(h,d)&&(n(s)||t(s))}}();return SU=function(n,r){return null!=n&&t(n,r,e)}}(),r=JF(),a=mV(),i=fV(),s=hH();return _U=function(o,l){return r(o)&&a(l)?i(s(o),l):function(r){var a=t(r,o);return void 0===a&&a===l?n(r,o):e(l,a,3)}}}(),n=gV(),r=$F(),a=function(){if(IU)return LU;IU=1;var e=MU?EU:(MU=1,EU=function(e){return function(t){return null==t?void 0:t[e]}}),t=function(){if(DU)return PU;DU=1;var e=pH();return PU=function(t){return function(n){return e(n,t)}}}(),n=JF(),r=hH();return LU=function(a){return n(a)?e(r(a)):t(a)}}();return RU=function(i){return"function"==typeof i?i:null==i?n:"object"==typeof i?r(i)?t(i[0],i[1]):e(i):a(i)}}function bV(){return zU?HU:(zU=1,HU=function(e,t,n,r){for(var a=e.length,i=n+(r?1:-1);r?i--:++i<a;)if(t(e[i],i,e))return i;return-1})}function yV(){if(nV)return tV;nV=1;var e=o$(),t=function(){if(YU)return GU;YU=1;var e=function(){if(qU)return VU;qU=1;var e=bV(),t=WU?BU:(WU=1,BU=function(e){return e!=e}),n=UU?$U:(UU=1,$U=function(e,t,n){for(var r=n-1,a=e.length;++r<a;)if(e[r]===t)return r;return-1});return VU=function(r,a,i){return a==a?n(r,a,i):e(r,t,i)}}();return GU=function(t,n){return!(null==t||!t.length)&&e(t,n,0)>-1}}(),n=JU?KU:(JU=1,KU=function(e,t,n){for(var r=-1,a=null==e?0:e.length;++r<a;)if(n(t,e[r]))return!0;return!1}),r=c$(),a=function(){if(eV)return ZU;eV=1;var e=uV(),t=QU?XU:(QU=1,XU=function(){}),n=u$(),r=e&&1/n(new e([,-0]))[1]==1/0?function(t){return new e(t)}:t;return ZU=r}(),i=u$();return tV=function(s,o,l){var c=-1,d=t,u=s.length,h=!0,p=[],m=p;if(l)h=!1,d=n;else if(u>=200){var f=o?null:a(s);if(f)return i(f);h=!1,d=r,m=new e}else m=o?[]:p;e:for(;++c<u;){var g=s[c],x=o?o(g):g;if(g=l||0!==g?g:0,h&&x==x){for(var b=m.length;b--;)if(m[b]===x)continue e;o&&m.push(x),p.push(g)}else d(m,x,l)||(m!==p&&m.push(x),p.push(g))}return p}}const vV=i(function(){if(aV)return rV;aV=1;var e=xV(),t=yV();return rV=function(n,r){return n&&n.length?t(n,e(r,2)):[]}}());function wV(e,t,n){return!0===t?vV(e,n):jH(t)?vV(e,t):e}function jV(e){return(jV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var NV=["ref"];function kV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function SV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kV(Object(n),!0).forEach(function(t){OV(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kV(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function CV(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,EV(r.key),r)}}function _V(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(_V=function(){return!!e})()}function AV(e){return(AV=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function TV(e,t){return(TV=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function OV(e,t,n){return(t=EV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EV(e){var t=function(e){if("object"!=jV(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=jV(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==jV(t)?t:t+""}function MV(e){return e.value}var PV,DV,LV,IV,RV,FV,HV,zV,BV,WV,$V,UV,VV,qV,GV,YV,KV,JV,XV,QV,ZV,eq,tq,nq,rq,aq,iq,sq,oq,lq,cq,dq,uq,hq,pq,mq,fq,gq,xq,bq,yq,vq,wq,jq,Nq=function(){function e(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return OV(t=function(e,t,n){return t=AV(t),function(e,t){if(t&&("object"===jV(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,_V()?Reflect.construct(t,n||[],AV(e).constructor):t.apply(e,n))}(this,e,[].concat(r)),"lastBoundingBox",{width:-1,height:-1}),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&TV(e,t)}(e,x.PureComponent),t=e,r=[{key:"getWithHeight",value:function(e,t){var n=SV(SV({},this.defaultProps),e.props).layout;return"vertical"===n&&FH(e.props.height)?{height:e.props.height}:"horizontal"===n?{width:e.props.width||t}:null}}],(n=[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();return e.height=this.wrapperNode.offsetHeight,e.width=this.wrapperNode.offsetWidth,e}return null}},{key:"updateBBox",value:function(){var e=this.props.onBBoxUpdate,t=this.getBBox();t?(Math.abs(t.width-this.lastBoundingBox.width)>1||Math.abs(t.height-this.lastBoundingBox.height)>1)&&(this.lastBoundingBox.width=t.width,this.lastBoundingBox.height=t.height,e&&e(t)):-1===this.lastBoundingBox.width&&-1===this.lastBoundingBox.height||(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,e&&e(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?SV({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(e){var t,n,r=this.props,a=r.layout,i=r.align,s=r.verticalAlign,o=r.margin,l=r.chartWidth,c=r.chartHeight;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(t="center"===i&&"vertical"===a?{left:((l||0)-this.getBBoxSnapshot().width)/2}:"right"===i?{right:o&&o.right||0}:{left:o&&o.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(n="middle"===s?{top:((c||0)-this.getBBoxSnapshot().height)/2}:"bottom"===s?{bottom:o&&o.bottom||0}:{top:o&&o.top||0}),SV(SV({},t),n)}},{key:"render",value:function(){var e=this,t=this.props,n=t.content,r=t.width,a=t.height,i=t.wrapperStyle,s=t.payloadUniqBy,o=t.payload,l=SV(SV({position:"absolute",width:r||"auto",height:a||"auto"},this.getDefaultPosition(i)),i);return b.createElement("div",{className:"recharts-legend-wrapper",style:l,ref:function(t){e.wrapperNode=t}},function(e,t){if(b.isValidElement(e))return b.cloneElement(e,t);if("function"==typeof e)return b.createElement(e,t);t.ref;var n=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(t,NV);return b.createElement(i$,n)}(n,SV(SV({},this.props),{},{payload:wV(o,s,MV)})))}}])&&CV(t.prototype,n),r&&CV(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();function kq(){if(IV)return LV;IV=1;var e=h$(),t=function(){if(DV)return PV;DV=1;var e=qF(),t=p$(),n=$F(),r=e?e.isConcatSpreadable:void 0;return PV=function(e){return n(e)||t(e)||!!(r&&e&&e[r])}}();return LV=function n(r,a,i,s,o){var l=-1,c=r.length;for(i||(i=t),o||(o=[]);++l<c;){var d=r[l];a>0&&i(d)?a>1?n(d,a-1,i,s,o):e(o,d):s||(o[o.length]=d)}return o}}function Sq(){if(WV)return BV;WV=1;var e=function(){if(zV)return HV;zV=1;var e=(FV?RV:(FV=1,RV=function(e){return function(t,n,r){for(var a=-1,i=Object(t),s=r(t),o=s.length;o--;){var l=s[e?o:++a];if(!1===n(i[l],l,i))break}return t}}))();return HV=e}(),t=cV();return BV=function(n,r){return n&&e(n,r,t)}}function Cq(){if(qV)return VV;qV=1;var e=Sq(),t=function(){if(UV)return $V;UV=1;var e=lV();return $V=function(t,n){return function(r,a){if(null==r)return r;if(!e(r))return t(r,a);for(var i=r.length,s=n?i:-1,o=Object(r);(n?s--:++s<i)&&!1!==a(o[s],s,o););return r}}}()(e);return VV=t}function _q(){if(YV)return GV;YV=1;var e=Cq(),t=lV();return GV=function(n,r){var a=-1,i=t(n)?Array(n.length):[];return e(n,function(e,t,n){i[++a]=r(e,t,n)}),i}}function Aq(){if(nq)return tq;nq=1;var e=cH(),t=pH(),n=xV(),r=_q(),a=JV?KV:(JV=1,KV=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}),i=T$(),s=function(){if(eq)return ZV;eq=1;var e=function(){if(QV)return XV;QV=1;var e=KF();return XV=function(t,n){if(t!==n){var r=void 0!==t,a=null===t,i=t==t,s=e(t),o=void 0!==n,l=null===n,c=n==n,d=e(n);if(!l&&!d&&!s&&t>n||s&&o&&c&&!l&&!d||a&&o&&c||!r&&c||!i)return 1;if(!a&&!s&&!d&&t<n||d&&r&&i&&!a&&!s||l&&r&&i||!o&&i||!c)return-1}return 0}}();return ZV=function(t,n,r){for(var a=-1,i=t.criteria,s=n.criteria,o=i.length,l=r.length;++a<o;){var c=e(i[a],s[a]);if(c)return a>=l?c:c*("desc"==r[a]?-1:1)}return t.index-n.index}}(),o=gV(),l=$F();return tq=function(c,d,u){d=d.length?e(d,function(e){return l(e)?function(n){return t(n,1===e.length?e[0]:e)}:e}):[o];var h=-1;d=e(d,i(n));var p=r(c,function(t,n,r){return{criteria:e(d,function(e){return e(t)}),index:++h,value:t}});return a(p,function(e,t){return s(e,t,u)})}}function Tq(){if(dq)return cq;dq=1;var e=eH(),t=function(){try{var t=e(Object,"defineProperty");return t({},"",{}),t}catch(Ew){}}();return cq=t}function Oq(){if(gq)return fq;gq=1;var e=function(){if(hq)return uq;hq=1;var e=lq?oq:(lq=1,oq=function(e){return function(){return e}}),t=Tq(),n=gV();return uq=t?function(n,r){return t(n,"toString",{configurable:!0,enumerable:!1,value:e(r),writable:!0})}:n}(),t=function(){if(mq)return pq;mq=1;var e=Date.now;return pq=function(t){var n=0,r=0;return function(){var a=e(),i=16-(a-r);if(r=a,i>0){if(++n>=800)return arguments[0]}else n=0;return t.apply(void 0,arguments)}},pq}(),n=t(e);return fq=n}function Eq(){if(vq)return yq;vq=1;var e=nH(),t=lV(),n=_$(),r=XF();return yq=function(a,i,s){if(!r(s))return!1;var o=typeof i;return!!("number"==o?t(s)&&n(i,s.length):"string"==o&&i in s)&&e(s[i],a)}}OV(Nq,"displayName","Legend"),OV(Nq,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});const Mq=i(function(){if(jq)return wq;jq=1;var e=kq(),t=Aq(),n=function(){if(bq)return xq;bq=1;var e=gV(),t=function(){if(sq)return iq;sq=1;var e=(aq||(aq=1,rq=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}),rq),t=Math.max;return iq=function(n,r,a){return r=t(void 0===r?n.length-1:r,0),function(){for(var i=arguments,s=-1,o=t(i.length-r,0),l=Array(o);++s<o;)l[s]=i[r+s];s=-1;for(var c=Array(r+1);++s<r;)c[s]=i[s];return c[r]=a(l),e(n,this,c)}},iq}(),n=Oq();return xq=function(r,a){return n(t(r,a,e),r+"")}}(),r=Eq(),a=n(function(n,a){if(null==n)return[];var i=a.length;return i>1&&r(n,a[0],a[1])?a=[]:i>2&&r(a[0],a[1],a[2])&&(a=[a[0]]),t(n,e(a,1),[])});return wq=a}());function Pq(e){return(Pq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Dq(){return Dq=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dq.apply(this,arguments)}function Lq(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Iq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Rq(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Iq(Object(n),!0).forEach(function(t){var r,a,i;r=e,a=t,i=n[t],a=function(e){var t=function(e,t){if("object"!=Pq(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=Pq(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==Pq(t)?t:t+""}(a),a in r?Object.defineProperty(r,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[a]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Iq(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Fq(e){return Array.isArray(e)&&HH(e[0])&&HH(e[1])?e.join(" ~ "):e}var Hq=function(e){var t=e.separator,n=void 0===t?" : ":t,r=e.contentStyle,a=void 0===r?{}:r,i=e.itemStyle,s=void 0===i?{}:i,o=e.labelStyle,l=void 0===o?{}:o,c=e.payload,d=e.formatter,u=e.itemSorter,h=e.wrapperClassName,p=e.labelClassName,m=e.label,f=e.labelFormatter,g=e.accessibilityLayer,x=void 0!==g&&g,y=Rq({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),v=Rq({margin:0},l),w=!bH(m),j=w?m:"",N=Zu("recharts-default-tooltip",h),k=Zu("recharts-tooltip-label",p);w&&f&&null!=c&&(j=f(m,c));var S=x?{role:"status","aria-live":"assertive"}:{};return b.createElement("div",Dq({className:N,style:y},S),b.createElement("p",{className:k,style:v},b.isValidElement(j)?j:"".concat(j)),function(){if(c&&c.length){var e=(u?Mq(c,u):c).map(function(e,t){if("none"===e.type)return null;var r=Rq({display:"block",paddingTop:4,paddingBottom:4,color:e.color||"#000"},s),a=e.formatter||d||Fq,i=e.value,o=e.name,l=i,u=o;if(a&&null!=l&&null!=u){var h=a(i,o,e,t,c);if(Array.isArray(h)){var p=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,s,o=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t);else for(;!(l=(r=i.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(d){c=!0,a=d}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Lq(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Lq(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(h,2);l=p[0],u=p[1]}else l=h}return b.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(t),style:r},HH(u)?b.createElement("span",{className:"recharts-tooltip-item-name"},u):null,HH(u)?b.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,b.createElement("span",{className:"recharts-tooltip-item-value"},l),b.createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))});return b.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},e)}return null}())};function zq(e){return(zq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Bq(e,t,n){return t=function(e){var t=function(e,t){if("object"!=zq(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=zq(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==zq(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Wq="recharts-tooltip-wrapper",$q={visibility:"hidden"};function Uq(e){var t=e.coordinate,n=e.translateX,r=e.translateY;return Zu(Wq,Bq(Bq(Bq(Bq({},"".concat(Wq,"-right"),FH(n)&&t&&FH(t.x)&&n>=t.x),"".concat(Wq,"-left"),FH(n)&&t&&FH(t.x)&&n<t.x),"".concat(Wq,"-bottom"),FH(r)&&t&&FH(t.y)&&r>=t.y),"".concat(Wq,"-top"),FH(r)&&t&&FH(t.y)&&r<t.y))}function Vq(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.key,a=e.offsetTopLeft,i=e.position,s=e.reverseDirection,o=e.tooltipDimension,l=e.viewBox,c=e.viewBoxDimension;if(i&&FH(i[r]))return i[r];var d=n[r]-o-a,u=n[r]+a;return t[r]?s[r]?d:u:s[r]?d<l[r]?Math.max(u,l[r]):Math.max(d,l[r]):u+o>l[r]+c?Math.max(d,l[r]):Math.max(u,l[r])}function qq(e){return(qq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Yq(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gq(Object(n),!0).forEach(function(t){Qq(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gq(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Kq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Kq=function(){return!!e})()}function Jq(e){return(Jq=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Xq(e,t){return(Xq=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Qq(e,t,n){return(t=Zq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zq(e){var t=function(e){if("object"!=qq(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=qq(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==qq(t)?t:t+""}var eG=function(){function e(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return Qq(t=function(e,t,n){return t=Jq(t),function(e,t){if(t&&("object"===qq(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Kq()?Reflect.construct(t,n||[],Jq(e).constructor):t.apply(e,n))}(this,e,[].concat(r)),"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Qq(t,"handleKeyDown",function(e){var n,r,a,i;"Escape"===e.key&&t.setState({dismissed:!0,dismissedAtCoordinate:{x:null!==(n=null===(r=t.props.coordinate)||void 0===r?void 0:r.x)&&void 0!==n?n:0,y:null!==(a=null===(i=t.props.coordinate)||void 0===i?void 0:i.y)&&void 0!==a?a:0}})}),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xq(e,t)}(e,x.PureComponent),t=e,(n=[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();(Math.abs(e.width-this.state.lastBoundingBox.width)>1||Math.abs(e.height-this.state.lastBoundingBox.height)>1)&&this.setState({lastBoundingBox:{width:e.width,height:e.height}})}else-1===this.state.lastBoundingBox.width&&-1===this.state.lastBoundingBox.height||this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var e,t;this.props.active&&this.updateBBox(),this.state.dismissed&&((null===(e=this.props.coordinate)||void 0===e?void 0:e.x)===this.state.dismissedAtCoordinate.x&&(null===(t=this.props.coordinate)||void 0===t?void 0:t.y)===this.state.dismissedAtCoordinate.y||(this.state.dismissed=!1))}},{key:"render",value:function(){var e=this,t=this.props,n=t.active,r=t.allowEscapeViewBox,a=t.animationDuration,i=t.animationEasing,s=t.children,o=t.coordinate,l=t.hasPayload,c=t.isAnimationActive,d=t.offset,u=t.position,h=t.reverseDirection,p=t.useTranslate3d,m=t.viewBox,f=t.wrapperStyle,g=function(e){var t,n,r=e.allowEscapeViewBox,a=e.coordinate,i=e.offsetTopLeft,s=e.position,o=e.reverseDirection,l=e.tooltipBox,c=e.useTranslate3d,d=e.viewBox;return{cssProperties:l.height>0&&l.width>0&&a?function(e){var t=e.translateX,n=e.translateY;return{transform:e.useTranslate3d?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}({translateX:t=Vq({allowEscapeViewBox:r,coordinate:a,key:"x",offsetTopLeft:i,position:s,reverseDirection:o,tooltipDimension:l.width,viewBox:d,viewBoxDimension:d.width}),translateY:n=Vq({allowEscapeViewBox:r,coordinate:a,key:"y",offsetTopLeft:i,position:s,reverseDirection:o,tooltipDimension:l.height,viewBox:d,viewBoxDimension:d.height}),useTranslate3d:c}):$q,cssClasses:Uq({translateX:t,translateY:n,coordinate:a})}}({allowEscapeViewBox:r,coordinate:o,offsetTopLeft:d,position:u,reverseDirection:h,tooltipBox:this.state.lastBoundingBox,useTranslate3d:p,viewBox:m}),x=g.cssClasses,y=g.cssProperties,v=Yq(Yq({transition:c&&n?"transform ".concat(a,"ms ").concat(i):void 0},y),{},{pointerEvents:"none",visibility:!this.state.dismissed&&n&&l?"visible":"hidden",position:"absolute",top:0,left:0},f);return b.createElement("div",{tabIndex:-1,className:x,style:v,ref:function(t){e.wrapperNode=t}},s)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Zq(r.key),r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}(),tG=!("undefined"!=typeof window&&window.document&&window.document.createElement&&window.setTimeout);function nG(e){return(nG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rG(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function aG(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rG(Object(n),!0).forEach(function(t){lG(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rG(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function iG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(iG=function(){return!!e})()}function sG(e){return(sG=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function oG(e,t){return(oG=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function lG(e,t,n){return(t=cG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cG(e){var t=function(e){if("object"!=nG(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=nG(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==nG(t)?t:t+""}function dG(e){return e.dataKey}var uG,hG,pG,mG,fG,gG,xG,bG,yG,vG,wG,jG,NG=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),function(e,t,n){return t=sG(t),function(e,t){if(t&&("object"===nG(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,iG()?Reflect.construct(t,n||[],sG(e).constructor):t.apply(e,n))}(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oG(e,t)}(e,x.PureComponent),t=e,(n=[{key:"render",value:function(){var e=this,t=this.props,n=t.active,r=t.allowEscapeViewBox,a=t.animationDuration,i=t.animationEasing,s=t.content,o=t.coordinate,l=t.filterNull,c=t.isAnimationActive,d=t.offset,u=t.payload,h=t.payloadUniqBy,p=t.position,m=t.reverseDirection,f=t.useTranslate3d,g=t.viewBox,x=t.wrapperStyle,y=null!=u?u:[];l&&y.length&&(y=wV(u.filter(function(t){return null!=t.value&&(!0!==t.hide||e.props.includeHidden)}),h,dG));var v=y.length>0;return b.createElement(eG,{allowEscapeViewBox:r,animationDuration:a,animationEasing:i,isAnimationActive:c,active:n,coordinate:o,hasPayload:v,offset:d,position:p,reverseDirection:m,useTranslate3d:f,viewBox:g,wrapperStyle:x},function(e,t){return b.isValidElement(e)?b.cloneElement(e,t):"function"==typeof e?b.createElement(e,t):b.createElement(Hq,t)}(s,aG(aG({},this.props),{},{payload:y})))}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,cG(r.key),r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}();function kG(){if(bG)return xG;bG=1;var e=function(){if(gG)return fG;gG=1;var e=function(){if(mG)return pG;mG=1;var e=/\s/;return pG=function(t){for(var n=t.length;n--&&e.test(t.charAt(n)););return n}}(),t=/^\s+/;return fG=function(n){return n?n.slice(0,e(n)+1).replace(t,""):n}}(),t=XF(),n=KF(),r=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,i=/^0o[0-7]+$/i,s=parseInt;return xG=function(o){if("number"==typeof o)return o;if(n(o))return NaN;if(t(o)){var l="function"==typeof o.valueOf?o.valueOf():o;o=t(l)?l+"":l}if("string"!=typeof o)return 0===o?o:+o;o=e(o);var c=a.test(o);return c||i.test(o)?s(o.slice(2),c?2:8):r.test(o)?NaN:+o}}lG(NG,"displayName","Tooltip"),lG(NG,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!tG,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});const SG=i(function(){if(jG)return wG;jG=1;var e=function(){if(vG)return yG;vG=1;var e=XF(),t=function(){if(hG)return uG;hG=1;var e=VF();return uG=function(){return e.Date.now()}}(),n=kG(),r=Math.max,a=Math.min;return yG=function(i,s,o){var l,c,d,u,h,p,m=0,f=!1,g=!1,x=!0;if("function"!=typeof i)throw new TypeError("Expected a function");function b(e){var t=l,n=c;return l=c=void 0,m=e,u=i.apply(n,t)}function y(e){var t=e-p;return void 0===p||t>=s||t<0||g&&e-m>=d}function v(){var e=t();if(y(e))return w(e);h=setTimeout(v,function(e){var t=s-(e-p);return g?a(t,d-(e-m)):t}(e))}function w(e){return h=void 0,x&&l?b(e):(l=c=void 0,u)}function j(){var e=t(),n=y(e);if(l=arguments,c=this,p=e,n){if(void 0===h)return function(e){return m=e,h=setTimeout(v,s),f?b(e):u}(p);if(g)return clearTimeout(h),h=setTimeout(v,s),b(p)}return void 0===h&&(h=setTimeout(v,s)),u}return s=n(s)||0,e(o)&&(f=!!o.leading,d=(g="maxWait"in o)?r(n(o.maxWait)||0,s):d,x="trailing"in o?!!o.trailing:x),j.cancel=function(){void 0!==h&&clearTimeout(h),m=0,l=p=c=h=void 0},j.flush=function(){return void 0===h?u:w(t())},j},yG}(),t=XF();return wG=function(n,r,a){var i=!0,s=!0;if("function"!=typeof n)throw new TypeError("Expected a function");return t(a)&&(i="leading"in a?!!a.leading:i,s="trailing"in a?!!a.trailing:s),e(n,r,{leading:i,maxWait:r,trailing:s})}}());function CG(e){return(CG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function AG(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_G(Object(n),!0).forEach(function(t){var r,a,i;r=e,a=t,i=n[t],a=function(e){var t=function(e,t){if("object"!=CG(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=CG(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==CG(t)?t:t+""}(a),a in r?Object.defineProperty(r,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[a]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_G(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function TG(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var OG=x.forwardRef(function(e,t){var n=e.aspect,r=e.initialDimension,a=void 0===r?{width:-1,height:-1}:r,i=e.width,s=void 0===i?"100%":i,o=e.height,l=void 0===o?"100%":o,c=e.minWidth,d=void 0===c?0:c,u=e.minHeight,h=e.maxHeight,p=e.children,m=e.debounce,f=void 0===m?0:m,g=e.id,y=e.className,v=e.onResize,w=e.style,j=void 0===w?{}:w,N=x.useRef(null),k=x.useRef();k.current=v,x.useImperativeHandle(t,function(){return Object.defineProperty(N.current,"current",{get:function(){return N.current},configurable:!0})});var S,C,_=(S=x.useState({containerWidth:a.width,containerHeight:a.height}),C=2,function(e){if(Array.isArray(e))return e}(S)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,s,o=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t);else for(;!(l=(r=i.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(d){c=!0,a=d}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}(S,C)||function(e,t){if(e){if("string"==typeof e)return TG(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?TG(e,t):void 0}}(S,C)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),A=_[0],T=_[1],O=x.useCallback(function(e,t){T(function(n){var r=Math.round(e),a=Math.round(t);return n.containerWidth===r&&n.containerHeight===a?n:{containerWidth:r,containerHeight:a}})},[]);x.useEffect(function(){var e=function(e){var t,n=e[0].contentRect,r=n.width,a=n.height;O(r,a),null===(t=k.current)||void 0===t||t.call(k,r,a)};f>0&&(e=SG(e,f,{trailing:!0,leading:!1}));var t=new ResizeObserver(e),n=N.current.getBoundingClientRect(),r=n.width,a=n.height;return O(r,a),t.observe(N.current),function(){t.disconnect()}},[O,f]);var E=x.useMemo(function(){var e=A.containerWidth,t=A.containerHeight;if(e<0||t<0)return null;Bz(RH(s)||RH(l),"The width(%s) and height(%s) are both fixed numbers,\n       maybe you don't need to use a ResponsiveContainer.",s,l),Bz(!n||n>0,"The aspect(%s) must be greater than zero.",n);var r=RH(s)?e:s,a=RH(l)?t:l;n&&n>0&&(r?a=r/n:a&&(r=a*n),h&&a>h&&(a=h)),Bz(r>0||a>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",r,a,s,l,d,u,n);var i=!Array.isArray(p)&&sz(p.type).endsWith("Chart");return b.Children.map(p,function(e){return b.isValidElement(e)?x.cloneElement(e,AG({width:r,height:a},i?{style:AG({height:"100%",width:"100%",maxHeight:a,maxWidth:r},e.props.style)}:{})):e})},[n,p,l,h,u,d,A,s]);return b.createElement("div",{id:g?"".concat(g):void 0,className:Zu("recharts-responsive-container",y),style:AG(AG({},j),{},{width:s,height:l,minWidth:d,minHeight:u,maxHeight:h}),ref:N},E)}),EG=function(e){return null};function MG(e){return(MG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function PG(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function DG(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?PG(Object(n),!0).forEach(function(t){var r,a,i;r=e,a=t,i=n[t],a=function(e){var t=function(e,t){if("object"!=MG(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=MG(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==MG(t)?t:t+""}(a),a in r?Object.defineProperty(r,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[a]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PG(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}EG.displayName="Cell";var LG={widthCache:{},cacheCount:0},IG={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},RG="recharts_measurement_span",FG=function(e){if(null==e||tG)return{width:0,height:0};var t,n=(t=DG({},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),Object.keys(t).forEach(function(e){t[e]||delete t[e]}),t),r=JSON.stringify({text:e,copyStyle:n});if(LG.widthCache[r])return LG.widthCache[r];try{var a=document.getElementById(RG);a||((a=document.createElement("span")).setAttribute("id",RG),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var i=DG(DG({},IG),n);Object.assign(a.style,i),a.textContent="".concat(e);var s=a.getBoundingClientRect(),o={width:s.width,height:s.height};return LG.widthCache[r]=o,++LG.cacheCount>2e3&&(LG.cacheCount=0,LG.widthCache={}),o}catch(Ew){return{width:0,height:0}}};function HG(e){return(HG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zG(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,s,o=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(d){c=!0,a=d}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return BG(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?BG(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function BG(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function WG(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,$G(r.key),r)}}function $G(e){var t=function(e){if("object"!=HG(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=HG(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==HG(t)?t:t+""}var UG=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,VG=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,qG=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,GG=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,YG={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},KG=Object.keys(YG),JG="NaN",XG=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),""===n||qG.test(n)||(this.num=NaN,this.unit=""),KG.includes(n)&&(this.num=function(e,t){return e*YG[t]}(t,n),this.unit="px")}return t=e,r=[{key:"parse",value:function(t){var n,r=zG(null!==(n=GG.exec(t))&&void 0!==n?n:[],3),a=r[1],i=r[2];return new e(parseFloat(a),null!=i?i:"")}}],(n=[{key:"add",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num+t.num,this.unit)}},{key:"subtract",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num-t.num,this.unit)}},{key:"multiply",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num*t.num,this.unit||t.unit)}},{key:"divide",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num/t.num,this.unit||t.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}])&&WG(t.prototype,n),r&&WG(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();function QG(e){if(e.includes(JG))return JG;for(var t=e;t.includes("*")||t.includes("/");){var n,r=zG(null!==(n=UG.exec(t))&&void 0!==n?n:[],4),a=r[1],i=r[2],s=r[3],o=XG.parse(null!=a?a:""),l=XG.parse(null!=s?s:""),c="*"===i?o.multiply(l):o.divide(l);if(c.isNaN())return JG;t=t.replace(UG,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,u=zG(null!==(d=VG.exec(t))&&void 0!==d?d:[],4),h=u[1],p=u[2],m=u[3],f=XG.parse(null!=h?h:""),g=XG.parse(null!=m?m:""),x="+"===p?f.add(g):f.subtract(g);if(x.isNaN())return JG;t=t.replace(VG,x.toString())}return t}var ZG=/\(([^()]*)\)/;function eY(e){var t=function(e){try{return function(e){var t=e.replace(/\s+/g,"");return t=function(e){for(var t=e;t.includes("(");){var n=zG(ZG.exec(t),2)[1];t=t.replace(ZG,QG(n))}return t}(t),QG(t)}(e)}catch(Ew){return JG}}(e.slice(5,-1));return t===JG?"":t}var tY=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],nY=["dx","dy","angle","className","breakAll"];function rY(){return rY=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rY.apply(this,arguments)}function aY(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function iY(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,s,o=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(d){c=!0,a=d}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return sY(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?sY(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sY(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var oY=/[ \f\n\r\t\v\u2028\u2029]+/,lY=function(e){var t=e.children,n=e.breakAll,r=e.style;try{var a=[];return bH(t)||(a=n?t.toString().split(""):t.toString().split(oY)),{wordsWithComputedWidth:a.map(function(e){return{word:e,width:FG(e,r).width}}),spaceWidth:n?0:FG(" ",r).width}}catch(Ew){return null}},cY=function(e){return[{words:bH(e)?[]:e.toString().split(oY)}]},dY="#808080",uY=function(e){var t=e.x,n=void 0===t?0:t,r=e.y,a=void 0===r?0:r,i=e.lineHeight,s=void 0===i?"1em":i,o=e.capHeight,l=void 0===o?"0.71em":o,c=e.scaleToFit,d=void 0!==c&&c,u=e.textAnchor,h=void 0===u?"start":u,p=e.verticalAnchor,m=void 0===p?"end":p,f=e.fill,g=void 0===f?dY:f,y=aY(e,tY),v=x.useMemo(function(){return function(e){var t=e.width,n=e.scaleToFit,r=e.children,a=e.style,i=e.breakAll,s=e.maxLines;if((t||n)&&!tG){var o=lY({breakAll:i,children:r,style:a});return o?function(e,t,n,r,a){var i=e.maxLines,s=e.children,o=e.style,l=e.breakAll,c=FH(i),d=s,u=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce(function(e,t){var i=t.word,s=t.width,o=e[e.length-1];if(o&&(null==r||a||o.width+s+n<Number(r)))o.words.push(i),o.width+=s+n;else{var l={words:[i],width:s};e.push(l)}return e},[])},h=u(t);if(!c)return h;for(var p,m=function(e){var t=d.slice(0,e),n=lY({breakAll:l,style:o,children:t+"…"}).wordsWithComputedWidth,a=u(n),s=a.length>i||function(e){return e.reduce(function(e,t){return e.width>t.width?e:t})}(a).width>Number(r);return[s,a]},f=0,g=d.length-1,x=0;f<=g&&x<=d.length-1;){var b=Math.floor((f+g)/2),y=iY(m(b-1),2),v=y[0],w=y[1],j=iY(m(b),1)[0];if(v||j||(f=b+1),v&&j&&(g=b-1),!v&&j){p=w;break}x++}return p||h}({breakAll:i,children:r,maxLines:s,style:a},o.wordsWithComputedWidth,o.spaceWidth,t,n):cY(r)}return cY(r)}({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:d,style:y.style,width:y.width})},[y.breakAll,y.children,y.maxLines,d,y.style,y.width]),w=y.dx,j=y.dy,N=y.angle,k=y.className,S=y.breakAll,C=aY(y,nY);if(!HH(n)||!HH(a))return null;var _,A=n+(FH(w)?w:0),T=a+(FH(j)?j:0);switch(m){case"start":_=eY("calc(".concat(l,")"));break;case"middle":_=eY("calc(".concat((v.length-1)/2," * -").concat(s," + (").concat(l," / 2))"));break;default:_=eY("calc(".concat(v.length-1," * -").concat(s,")"))}var O=[];if(d){var E=v[0].width,M=y.width;O.push("scale(".concat((FH(M)?M/E:1)/E,")"))}return N&&O.push("rotate(".concat(N,", ").concat(A,", ").concat(T,")")),O.length&&(C.transform=O.join(" ")),b.createElement("text",rY({},fz(C,!0),{x:A,y:T,className:Zu("recharts-text",k),textAnchor:h,fill:g.includes("url")?dY:g}),v.map(function(e,t){var n=e.words.join(S?"":" ");return b.createElement("tspan",{x:A,dy:0===t?_:s,key:"".concat(n,"-").concat(t)},n)}))};function hY(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function pY(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function mY(e){let t,n,r;function a(e,r,a=0,i=e.length){if(a<i){if(0!==t(r,r))return i;do{const t=a+i>>>1;n(e[t],r)<0?a=t+1:i=t}while(a<i)}return a}return 2!==e.length?(t=hY,n=(t,n)=>hY(e(t),n),r=(t,n)=>e(t)-n):(t=e===hY||e===pY?e:fY,n=e,r=e),{left:a,center:function(e,t,n=0,i=e.length){const s=a(e,t,n,i-1);return s>n&&r(e[s-1],t)>-r(e[s],t)?s-1:s},right:function(e,r,a=0,i=e.length){if(a<i){if(0!==t(r,r))return i;do{const t=a+i>>>1;n(e[t],r)<=0?a=t+1:i=t}while(a<i)}return a}}}function fY(){return 0}function gY(e){return null===e?NaN:+e}const xY=mY(hY).right;mY(gY).center;class bY extends Map{constructor(e,t=vY){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[n,r]of e)this.set(n,r)}get(e){return super.get(yY(this,e))}has(e){return super.has(yY(this,e))}set(e,t){return super.set(function({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}(this,e),t)}delete(e){return super.delete(function({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}(this,e))}}function yY({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function vY(e){return null!==e&&"object"==typeof e?e.valueOf():e}function wY(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}const jY=Math.sqrt(50),NY=Math.sqrt(10),kY=Math.sqrt(2);function SY(e,t,n){const r=(t-e)/Math.max(0,n),a=Math.floor(Math.log10(r)),i=r/Math.pow(10,a),s=i>=jY?10:i>=NY?5:i>=kY?2:1;let o,l,c;return a<0?(c=Math.pow(10,-a)/s,o=Math.round(e*c),l=Math.round(t*c),o/c<e&&++o,l/c>t&&--l,c=-c):(c=Math.pow(10,a)*s,o=Math.round(e/c),l=Math.round(t/c),o*c<e&&++o,l*c>t&&--l),l<o&&.5<=n&&n<2?SY(e,t,2*n):[o,l,c]}function CY(e,t,n){if(!((n=+n)>0))return[];if((e=+e)===(t=+t))return[e];const r=t<e,[a,i,s]=r?SY(t,e,n):SY(e,t,n);if(!(i>=a))return[];const o=i-a+1,l=new Array(o);if(r)if(s<0)for(let c=0;c<o;++c)l[c]=(i-c)/-s;else for(let c=0;c<o;++c)l[c]=(i-c)*s;else if(s<0)for(let c=0;c<o;++c)l[c]=(a+c)/-s;else for(let c=0;c<o;++c)l[c]=(a+c)*s;return l}function _Y(e,t,n){return SY(e=+e,t=+t,n=+n)[2]}function AY(e,t,n){n=+n;const r=(t=+t)<(e=+e),a=r?_Y(t,e,n):_Y(e,t,n);return(r?-1:1)*(a<0?1/-a:a)}function TY(e,t){let n;for(const r of e)null!=r&&(n<r||void 0===n&&r>=r)&&(n=r);return n}function OY(e,t){let n;for(const r of e)null!=r&&(n>r||void 0===n&&r>=r)&&(n=r);return n}function EY(e,t,n=0,r=1/0,a){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(a=void 0===a?wY:function(e=hY){if(e===hY)return wY;if("function"!=typeof e)throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||0===r?r:(0===e(n,n))-(0===e(t,t))}}(a);r>n;){if(r-n>600){const i=r-n+1,s=t-n+1,o=Math.log(i),l=.5*Math.exp(2*o/3),c=.5*Math.sqrt(o*l*(i-l)/i)*(s-i/2<0?-1:1);EY(e,t,Math.max(n,Math.floor(t-s*l/i+c)),Math.min(r,Math.floor(t+(i-s)*l/i+c)),a)}const i=e[t];let s=n,o=r;for(MY(e,n,t),a(e[r],i)>0&&MY(e,n,r);s<o;){for(MY(e,s,o),++s,--o;a(e[s],i)<0;)++s;for(;a(e[o],i)>0;)--o}0===a(e[n],i)?MY(e,n,o):(++o,MY(e,o,r)),o<=t&&(n=o+1),t<=o&&(r=o-1)}return e}function MY(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function PY(e,t,n=gY){if((r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,a=(r-1)*t,i=Math.floor(a),s=+n(e[i],i,e);return s+(+n(e[i+1],i+1,e)-s)*(a-i)}}function DY(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function LY(e,t){switch(arguments.length){case 0:break;case 1:"function"==typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"==typeof t?this.interpolator(t):this.range(t)}return this}const IY=Symbol("implicit");function RY(){var e=new bY,t=[],n=[],r=IY;function a(a){let i=e.get(a);if(void 0===i){if(r!==IY)return r;e.set(a,i=t.push(a)-1)}return n[i%n.length]}return a.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new bY;for(const r of n)e.has(r)||e.set(r,t.push(r)-1);return a},a.range=function(e){return arguments.length?(n=Array.from(e),a):n.slice()},a.unknown=function(e){return arguments.length?(r=e,a):r},a.copy=function(){return RY(t,n).unknown(r)},DY.apply(a,arguments),a}function FY(){var e,t,n=RY().unknown(void 0),r=n.domain,a=n.range,i=0,s=1,o=!1,l=0,c=0,d=.5;function u(){var n=r().length,u=s<i,h=u?s:i,p=u?i:s;e=(p-h)/Math.max(1,n-l+2*c),o&&(e=Math.floor(e)),h+=(p-h-e*(n-l))*d,t=e*(1-l),o&&(h=Math.round(h),t=Math.round(t));var m=function(e,t,n){e=+e,t=+t,n=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+n;for(var r=-1,a=0|Math.max(0,Math.ceil((t-e)/n)),i=new Array(a);++r<a;)i[r]=e+r*n;return i}(n).map(function(t){return h+e*t});return a(u?m.reverse():m)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),u()):r()},n.range=function(e){return arguments.length?([i,s]=e,i=+i,s=+s,u()):[i,s]},n.rangeRound=function(e){return[i,s]=e,i=+i,s=+s,o=!0,u()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(o=!!e,u()):o},n.padding=function(e){return arguments.length?(l=Math.min(1,c=+e),u()):l},n.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),u()):l},n.paddingOuter=function(e){return arguments.length?(c=+e,u()):c},n.align=function(e){return arguments.length?(d=Math.max(0,Math.min(1,e)),u()):d},n.copy=function(){return FY(r(),[i,s]).round(o).paddingInner(l).paddingOuter(c).align(d)},DY.apply(u(),arguments)}function HY(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return HY(t())},e}function zY(){return HY(FY.apply(null,arguments).paddingInner(1))}function BY(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function WY(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function $Y(){}var UY=.7,VY=1/UY,qY="\\s*([+-]?\\d+)\\s*",GY="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",YY="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",KY=/^#([0-9a-f]{3,8})$/,JY=new RegExp(`^rgb\\(${qY},${qY},${qY}\\)$`),XY=new RegExp(`^rgb\\(${YY},${YY},${YY}\\)$`),QY=new RegExp(`^rgba\\(${qY},${qY},${qY},${GY}\\)$`),ZY=new RegExp(`^rgba\\(${YY},${YY},${YY},${GY}\\)$`),eK=new RegExp(`^hsl\\(${GY},${YY},${YY}\\)$`),tK=new RegExp(`^hsla\\(${GY},${YY},${YY},${GY}\\)$`),nK={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function rK(){return this.rgb().formatHex()}function aK(){return this.rgb().formatRgb()}function iK(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=KY.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?sK(t):3===n?new cK(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?oK(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?oK(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=JY.exec(e))?new cK(t[1],t[2],t[3],1):(t=XY.exec(e))?new cK(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=QY.exec(e))?oK(t[1],t[2],t[3],t[4]):(t=ZY.exec(e))?oK(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=eK.exec(e))?fK(t[1],t[2]/100,t[3]/100,1):(t=tK.exec(e))?fK(t[1],t[2]/100,t[3]/100,t[4]):nK.hasOwnProperty(e)?sK(nK[e]):"transparent"===e?new cK(NaN,NaN,NaN,0):null}function sK(e){return new cK(e>>16&255,e>>8&255,255&e,1)}function oK(e,t,n,r){return r<=0&&(e=t=n=NaN),new cK(e,t,n,r)}function lK(e,t,n,r){return 1===arguments.length?((a=e)instanceof $Y||(a=iK(a)),a?new cK((a=a.rgb()).r,a.g,a.b,a.opacity):new cK):new cK(e,t,n,null==r?1:r);var a}function cK(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function dK(){return`#${mK(this.r)}${mK(this.g)}${mK(this.b)}`}function uK(){const e=hK(this.opacity);return`${1===e?"rgb(":"rgba("}${pK(this.r)}, ${pK(this.g)}, ${pK(this.b)}${1===e?")":`, ${e})`}`}function hK(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function pK(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function mK(e){return((e=pK(e))<16?"0":"")+e.toString(16)}function fK(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new xK(e,t,n,r)}function gK(e){if(e instanceof xK)return new xK(e.h,e.s,e.l,e.opacity);if(e instanceof $Y||(e=iK(e)),!e)return new xK;if(e instanceof xK)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),i=Math.max(t,n,r),s=NaN,o=i-a,l=(i+a)/2;return o?(s=t===i?(n-r)/o+6*(n<r):n===i?(r-t)/o+2:(t-n)/o+4,o/=l<.5?i+a:2-i-a,s*=60):o=l>0&&l<1?0:s,new xK(s,o,l,e.opacity)}function xK(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function bK(e){return(e=(e||0)%360)<0?e+360:e}function yK(e){return Math.max(0,Math.min(1,e||0))}function vK(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}BY($Y,iK,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:rK,formatHex:rK,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return gK(this).formatHsl()},formatRgb:aK,toString:aK}),BY(cK,lK,WY($Y,{brighter(e){return e=null==e?VY:Math.pow(VY,e),new cK(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?UY:Math.pow(UY,e),new cK(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new cK(pK(this.r),pK(this.g),pK(this.b),hK(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:dK,formatHex:dK,formatHex8:function(){return`#${mK(this.r)}${mK(this.g)}${mK(this.b)}${mK(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:uK,toString:uK})),BY(xK,function(e,t,n,r){return 1===arguments.length?gK(e):new xK(e,t,n,null==r?1:r)},WY($Y,{brighter(e){return e=null==e?VY:Math.pow(VY,e),new xK(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?UY:Math.pow(UY,e),new xK(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new cK(vK(e>=240?e-240:e+120,a,r),vK(e,a,r),vK(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new xK(bK(this.h),yK(this.s),yK(this.l),hK(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=hK(this.opacity);return`${1===e?"hsl(":"hsla("}${bK(this.h)}, ${100*yK(this.s)}%, ${100*yK(this.l)}%${1===e?")":`, ${e})`}`}}));const wK=e=>()=>e;function jK(e,t){var n=t-e;return n?function(e,t){return function(n){return e+n*t}}(e,n):wK(isNaN(e)?t:e)}const NK=function e(t){var n=function(e){return 1===(e=+e)?jK:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):wK(isNaN(t)?n:t)}}(t);function r(e,t){var r=n((e=lK(e)).r,(t=lK(t)).r),a=n(e.g,t.g),i=n(e.b,t.b),s=jK(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=a(t),e.b=i(t),e.opacity=s(t),e+""}}return r.gamma=e,r}(1);function kK(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,a=t.slice();return function(i){for(n=0;n<r;++n)a[n]=e[n]*(1-i)+t[n]*i;return a}}function SK(e,t){var n,r=t?t.length:0,a=e?Math.min(r,e.length):0,i=new Array(a),s=new Array(r);for(n=0;n<a;++n)i[n]=MK(e[n],t[n]);for(;n<r;++n)s[n]=t[n];return function(e){for(n=0;n<a;++n)s[n]=i[n](e);return s}}function CK(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function _K(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function AK(e,t){var n,r={},a={};for(n in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)n in e?r[n]=MK(e[n],t[n]):a[n]=t[n];return function(e){for(n in r)a[n]=r[n](e);return a}}var TK=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,OK=new RegExp(TK.source,"g");function EK(e,t){var n,r,a,i=TK.lastIndex=OK.lastIndex=0,s=-1,o=[],l=[];for(e+="",t+="";(n=TK.exec(e))&&(r=OK.exec(t));)(a=r.index)>i&&(a=t.slice(i,a),o[s]?o[s]+=a:o[++s]=a),(n=n[0])===(r=r[0])?o[s]?o[s]+=r:o[++s]=r:(o[++s]=null,l.push({i:s,x:_K(n,r)})),i=OK.lastIndex;return i<t.length&&(a=t.slice(i),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)o[(n=l[r]).i]=n.x(e);return o.join("")})}function MK(e,t){var n,r,a=typeof t;return null==t||"boolean"===a?wK(t):("number"===a?_K:"string"===a?(n=iK(t))?(t=n,NK):EK:t instanceof iK?NK:t instanceof Date?CK:(r=t,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(t)?SK:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?AK:_K:kK))(e,t)}function PK(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function DK(e){return+e}var LK=[0,1];function IK(e){return e}function RK(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:(n=isNaN(t)?NaN:.5,function(){return n});var n}function FK(e,t,n){var r=e[0],a=e[1],i=t[0],s=t[1];return a<r?(r=RK(a,r),i=n(s,i)):(r=RK(r,a),i=n(i,s)),function(e){return i(r(e))}}function HK(e,t,n){var r=Math.min(e.length,t.length)-1,a=new Array(r),i=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)a[s]=RK(e[s],e[s+1]),i[s]=n(t[s],t[s+1]);return function(t){var n=xY(e,t,1,r)-1;return i[n](a[n](t))}}function zK(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function BK(){var e,t,n,r,a,i,s=LK,o=LK,l=MK,c=IK;function d(){var e=Math.min(s.length,o.length);return c!==IK&&(c=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}(s[0],s[e-1])),r=e>2?HK:FK,a=i=null,u}function u(t){return null==t||isNaN(t=+t)?n:(a||(a=r(s.map(e),o,l)))(e(c(t)))}return u.invert=function(n){return c(t((i||(i=r(o,s.map(e),_K)))(n)))},u.domain=function(e){return arguments.length?(s=Array.from(e,DK),d()):s.slice()},u.range=function(e){return arguments.length?(o=Array.from(e),d()):o.slice()},u.rangeRound=function(e){return o=Array.from(e),l=PK,d()},u.clamp=function(e){return arguments.length?(c=!!e||IK,d()):c!==IK},u.interpolate=function(e){return arguments.length?(l=e,d()):l},u.unknown=function(e){return arguments.length?(n=e,u):n},function(n,r){return e=n,t=r,d()}}function WK(){return BK()(IK,IK)}function $K(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function UK(e){return(e=$K(Math.abs(e)))?e[1]:NaN}var VK,qK=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function GK(e){if(!(t=qK.exec(e)))throw new Error("invalid format: "+e);var t;return new YK({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function YK(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function KK(e,t){var n=$K(e,t);if(!n)return e+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}GK.prototype=YK.prototype,YK.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const JK={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>KK(100*e,t),r:KK,s:function(e,t){var n=$K(e,t);if(!n)return e+"";var r=n[0],a=n[1],i=a-(VK=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,s=r.length;return i===s?r:i>s?r+new Array(i-s+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+$K(e,Math.max(0,t+i-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function XK(e){return e}var QK,ZK,eJ,tJ=Array.prototype.map,nJ=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function rJ(e,t,n,r){var a,i=AY(e,t,n);switch((r=GK(null==r?",f":r)).type){case"s":var s=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(a=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(UK(t)/3)))-UK(Math.abs(e)))}(i,s))||(r.precision=a),eJ(r,s);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(a=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,UK(t)-UK(e))+1}(i,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=a-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(a=function(e){return Math.max(0,-UK(Math.abs(e)))}(i))||(r.precision=a-2*("%"===r.type))}return ZK(r)}function aJ(e){var t=e.domain;return e.ticks=function(e){var n=t();return CY(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return rJ(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,a,i=t(),s=0,o=i.length-1,l=i[s],c=i[o],d=10;for(c<l&&(a=l,l=c,c=a,a=s,s=o,o=a);d-- >0;){if((a=_Y(l,c,n))===r)return i[s]=l,i[o]=c,t(i);if(a>0)l=Math.floor(l/a)*a,c=Math.ceil(c/a)*a;else{if(!(a<0))break;l=Math.ceil(l*a)/a,c=Math.floor(c*a)/a}r=a}return e},e}function iJ(){var e=WK();return e.copy=function(){return zK(e,iJ())},DY.apply(e,arguments),aJ(e)}function sJ(e,t){var n,r=0,a=(e=e.slice()).length-1,i=e[r],s=e[a];return s<i&&(n=r,r=a,a=n,n=i,i=s,s=n),e[r]=t.floor(i),e[a]=t.ceil(s),e}function oJ(e){return Math.log(e)}function lJ(e){return Math.exp(e)}function cJ(e){return-Math.log(-e)}function dJ(e){return-Math.exp(-e)}function uJ(e){return isFinite(e)?+("1e"+e):e<0?0:e}function hJ(e){return(t,n)=>-e(-t,n)}function pJ(e){const t=e(oJ,lJ),n=t.domain;let r,a,i=10;function s(){return r=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(i),a=function(e){return 10===e?uJ:e===Math.E?Math.exp:t=>Math.pow(e,t)}(i),n()[0]<0?(r=hJ(r),a=hJ(a),e(cJ,dJ)):e(oJ,lJ),t}return t.base=function(e){return arguments.length?(i=+e,s()):i},t.domain=function(e){return arguments.length?(n(e),s()):n()},t.ticks=e=>{const t=n();let s=t[0],o=t[t.length-1];const l=o<s;l&&([s,o]=[o,s]);let c,d,u=r(s),h=r(o);const p=null==e?10:+e;let m=[];if(!(i%1)&&h-u<p){if(u=Math.floor(u),h=Math.ceil(h),s>0){for(;u<=h;++u)for(c=1;c<i;++c)if(d=u<0?c/a(-u):c*a(u),!(d<s)){if(d>o)break;m.push(d)}}else for(;u<=h;++u)for(c=i-1;c>=1;--c)if(d=u>0?c/a(-u):c*a(u),!(d<s)){if(d>o)break;m.push(d)}2*m.length<p&&(m=CY(s,o,p))}else m=CY(u,h,Math.min(h-u,p)).map(a);return l?m.reverse():m},t.tickFormat=(e,n)=>{if(null==e&&(e=10),null==n&&(n=10===i?"s":","),"function"!=typeof n&&(i%1||null!=(n=GK(n)).precision||(n.trim=!0),n=ZK(n)),e===1/0)return n;const s=Math.max(1,i*e/t.ticks().length);return e=>{let t=e/a(Math.round(r(e)));return t*i<i-.5&&(t*=i),t<=s?n(e):""}},t.nice=()=>n(sJ(n(),{floor:e=>a(Math.floor(r(e))),ceil:e=>a(Math.ceil(r(e)))})),t}function mJ(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function fJ(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function gJ(e){var t=1,n=e(mJ(t),fJ(t));return n.constant=function(n){return arguments.length?e(mJ(t=+n),fJ(t)):t},aJ(n)}function xJ(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function bJ(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function yJ(e){return e<0?-e*e:e*e}function vJ(e){var t=e(IK,IK),n=1;return t.exponent=function(t){return arguments.length?1===(n=+t)?e(IK,IK):.5===n?e(bJ,yJ):e(xJ(n),xJ(1/n)):n},aJ(t)}function wJ(){var e=vJ(BK());return e.copy=function(){return zK(e,wJ()).exponent(e.exponent())},DY.apply(e,arguments),e}function jJ(e){return Math.sign(e)*e*e}QK=function(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?XK:(t=tJ.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var a=e.length,i=[],s=0,o=t[0],l=0;a>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),i.push(e.substring(a-=o,a+o)),!((l+=o+1)>r));)o=t[s=(s+1)%t.length];return i.reverse().join(n)}),a=void 0===e.currency?"":e.currency[0]+"",i=void 0===e.currency?"":e.currency[1]+"",s=void 0===e.decimal?".":e.decimal+"",o=void 0===e.numerals?XK:function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}(tJ.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"−":e.minus+"",d=void 0===e.nan?"NaN":e.nan+"";function u(e){var t=(e=GK(e)).fill,n=e.align,u=e.sign,h=e.symbol,p=e.zero,m=e.width,f=e.comma,g=e.precision,x=e.trim,b=e.type;"n"===b?(f=!0,b="g"):JK[b]||(void 0===g&&(g=12),x=!0,b="g"),(p||"0"===t&&"="===n)&&(p=!0,t="0",n="=");var y="$"===h?a:"#"===h&&/[boxX]/.test(b)?"0"+b.toLowerCase():"",v="$"===h?i:/[%p]/.test(b)?l:"",w=JK[b],j=/[defgprs%]/.test(b);function N(e){var a,i,l,h=y,N=v;if("c"===b)N=w(e)+N,e="";else{var k=(e=+e)<0||1/e<0;if(e=isNaN(e)?d:w(Math.abs(e),g),x&&(e=function(e){e:for(var t,n=e.length,r=1,a=-1;r<n;++r)switch(e[r]){case".":a=t=r;break;case"0":0===a&&(a=r),t=r;break;default:if(!+e[r])break e;a>0&&(a=0)}return a>0?e.slice(0,a)+e.slice(t+1):e}(e)),k&&0===+e&&"+"!==u&&(k=!1),h=(k?"("===u?u:c:"-"===u||"("===u?"":u)+h,N=("s"===b?nJ[8+VK/3]:"")+N+(k&&"("===u?")":""),j)for(a=-1,i=e.length;++a<i;)if(48>(l=e.charCodeAt(a))||l>57){N=(46===l?s+e.slice(a+1):e.slice(a))+N,e=e.slice(0,a);break}}f&&!p&&(e=r(e,1/0));var S=h.length+e.length+N.length,C=S<m?new Array(m-S+1).join(t):"";switch(f&&p&&(e=r(C+e,C.length?m-N.length:1/0),C=""),n){case"<":e=h+e+N+C;break;case"=":e=h+C+e+N;break;case"^":e=C.slice(0,S=C.length>>1)+h+e+N+C.slice(S);break;default:e=C+h+e+N}return o(e)}return g=void 0===g?6:/[gprs]/.test(b)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),N.toString=function(){return e+""},N}return{format:u,formatPrefix:function(e,t){var n=u(((e=GK(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(UK(t)/3))),a=Math.pow(10,-r),i=nJ[8+r/3];return function(e){return n(a*e)+i}}}}({thousands:",",grouping:[3],currency:["$",""]}),ZK=QK.format,eJ=QK.formatPrefix;const NJ=new Date,kJ=new Date;function SJ(e,t,n,r){function a(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return a.floor=t=>(e(t=new Date(+t)),t),a.ceil=n=>(e(n=new Date(n-1)),t(n,1),e(n),n),a.round=e=>{const t=a(e),n=a.ceil(e);return e-t<n-e?t:n},a.offset=(e,n)=>(t(e=new Date(+e),null==n?1:Math.floor(n)),e),a.range=(n,r,i)=>{const s=[];if(n=a.ceil(n),i=null==i?1:Math.floor(i),!(n<r&&i>0))return s;let o;do{s.push(o=new Date(+n)),t(n,i),e(n)}while(o<n&&n<r);return s},a.filter=n=>SJ(t=>{if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)},(e,r)=>{if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););}),n&&(a.count=(t,r)=>(NJ.setTime(+t),kJ.setTime(+r),e(NJ),e(kJ),Math.floor(n(NJ,kJ))),a.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?a.filter(r?t=>r(t)%e===0:t=>a.count(0,t)%e===0):a:null)),a}const CJ=SJ(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);CJ.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?SJ(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):CJ:null),CJ.range;const _J=1e3,AJ=6e4,TJ=36e5,OJ=864e5,EJ=6048e5,MJ=31536e6,PJ=SJ(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*_J)},(e,t)=>(t-e)/_J,e=>e.getUTCSeconds());PJ.range;const DJ=SJ(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*_J)},(e,t)=>{e.setTime(+e+t*AJ)},(e,t)=>(t-e)/AJ,e=>e.getMinutes());DJ.range;const LJ=SJ(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*AJ)},(e,t)=>(t-e)/AJ,e=>e.getUTCMinutes());LJ.range;const IJ=SJ(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*_J-e.getMinutes()*AJ)},(e,t)=>{e.setTime(+e+t*TJ)},(e,t)=>(t-e)/TJ,e=>e.getHours());IJ.range;const RJ=SJ(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*TJ)},(e,t)=>(t-e)/TJ,e=>e.getUTCHours());RJ.range;const FJ=SJ(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*AJ)/OJ,e=>e.getDate()-1);FJ.range;const HJ=SJ(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/OJ,e=>e.getUTCDate()-1);HJ.range;const zJ=SJ(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/OJ,e=>Math.floor(e/OJ));function BJ(e){return SJ(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+7*t)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*AJ)/EJ)}zJ.range;const WJ=BJ(0),$J=BJ(1),UJ=BJ(2),VJ=BJ(3),qJ=BJ(4),GJ=BJ(5),YJ=BJ(6);function KJ(e){return SJ(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)},(e,t)=>(t-e)/EJ)}WJ.range,$J.range,UJ.range,VJ.range,qJ.range,GJ.range,YJ.range;const JJ=KJ(0),XJ=KJ(1),QJ=KJ(2),ZJ=KJ(3),eX=KJ(4),tX=KJ(5),nX=KJ(6);JJ.range,XJ.range,QJ.range,ZJ.range,eX.range,tX.range,nX.range;const rX=SJ(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear()),e=>e.getMonth());rX.range;const aX=SJ(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear()),e=>e.getUTCMonth());aX.range;const iX=SJ(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());iX.every=e=>isFinite(e=Math.floor(e))&&e>0?SJ(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)}):null,iX.range;const sX=SJ(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());function oX(e,t,n,r,a,i){const s=[[PJ,1,_J],[PJ,5,5e3],[PJ,15,15e3],[PJ,30,3e4],[i,1,AJ],[i,5,3e5],[i,15,9e5],[i,30,18e5],[a,1,TJ],[a,3,108e5],[a,6,216e5],[a,12,432e5],[r,1,OJ],[r,2,1728e5],[n,1,EJ],[t,1,2592e6],[t,3,7776e6],[e,1,MJ]];function o(t,n,r){const a=Math.abs(n-t)/r,i=mY(([,,e])=>e).right(s,a);if(i===s.length)return e.every(AY(t/MJ,n/MJ,r));if(0===i)return CJ.every(Math.max(AY(t,n,r),1));const[o,l]=s[a/s[i-1][2]<s[i][2]/a?i-1:i];return o.every(l)}return[function(e,t,n){const r=t<e;r&&([e,t]=[t,e]);const a=n&&"function"==typeof n.range?n:o(e,t,n),i=a?a.range(e,+t+1):[];return r?i.reverse():i},o]}sX.every=e=>isFinite(e=Math.floor(e))&&e>0?SJ(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)}):null,sX.range;const[lX,cX]=oX(sX,aX,JJ,zJ,RJ,LJ),[dX,uX]=oX(iX,rX,WJ,FJ,IJ,DJ);function hX(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function pX(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function mX(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}var fX,gX,xX,bX={"-":"",_:" ",0:"0"},yX=/^\s*\d+/,vX=/^%/,wX=/[\\^$*+?|[\]().{}]/g;function jX(e,t,n){var r=e<0?"-":"",a=(r?-e:e)+"",i=a.length;return r+(i<n?new Array(n-i+1).join(t)+a:a)}function NX(e){return e.replace(wX,"\\$&")}function kX(e){return new RegExp("^(?:"+e.map(NX).join("|")+")","i")}function SX(e){return new Map(e.map((e,t)=>[e.toLowerCase(),t]))}function CX(e,t,n){var r=yX.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function _X(e,t,n){var r=yX.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function AX(e,t,n){var r=yX.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function TX(e,t,n){var r=yX.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function OX(e,t,n){var r=yX.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function EX(e,t,n){var r=yX.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function MX(e,t,n){var r=yX.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function PX(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function DX(e,t,n){var r=yX.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function LX(e,t,n){var r=yX.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function IX(e,t,n){var r=yX.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function RX(e,t,n){var r=yX.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function FX(e,t,n){var r=yX.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function HX(e,t,n){var r=yX.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function zX(e,t,n){var r=yX.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function BX(e,t,n){var r=yX.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function WX(e,t,n){var r=yX.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function $X(e,t,n){var r=vX.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function UX(e,t,n){var r=yX.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function VX(e,t,n){var r=yX.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function qX(e,t){return jX(e.getDate(),t,2)}function GX(e,t){return jX(e.getHours(),t,2)}function YX(e,t){return jX(e.getHours()%12||12,t,2)}function KX(e,t){return jX(1+FJ.count(iX(e),e),t,3)}function JX(e,t){return jX(e.getMilliseconds(),t,3)}function XX(e,t){return JX(e,t)+"000"}function QX(e,t){return jX(e.getMonth()+1,t,2)}function ZX(e,t){return jX(e.getMinutes(),t,2)}function eQ(e,t){return jX(e.getSeconds(),t,2)}function tQ(e){var t=e.getDay();return 0===t?7:t}function nQ(e,t){return jX(WJ.count(iX(e)-1,e),t,2)}function rQ(e){var t=e.getDay();return t>=4||0===t?qJ(e):qJ.ceil(e)}function aQ(e,t){return e=rQ(e),jX(qJ.count(iX(e),e)+(4===iX(e).getDay()),t,2)}function iQ(e){return e.getDay()}function sQ(e,t){return jX($J.count(iX(e)-1,e),t,2)}function oQ(e,t){return jX(e.getFullYear()%100,t,2)}function lQ(e,t){return jX((e=rQ(e)).getFullYear()%100,t,2)}function cQ(e,t){return jX(e.getFullYear()%1e4,t,4)}function dQ(e,t){var n=e.getDay();return jX((e=n>=4||0===n?qJ(e):qJ.ceil(e)).getFullYear()%1e4,t,4)}function uQ(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+jX(t/60|0,"0",2)+jX(t%60,"0",2)}function hQ(e,t){return jX(e.getUTCDate(),t,2)}function pQ(e,t){return jX(e.getUTCHours(),t,2)}function mQ(e,t){return jX(e.getUTCHours()%12||12,t,2)}function fQ(e,t){return jX(1+HJ.count(sX(e),e),t,3)}function gQ(e,t){return jX(e.getUTCMilliseconds(),t,3)}function xQ(e,t){return gQ(e,t)+"000"}function bQ(e,t){return jX(e.getUTCMonth()+1,t,2)}function yQ(e,t){return jX(e.getUTCMinutes(),t,2)}function vQ(e,t){return jX(e.getUTCSeconds(),t,2)}function wQ(e){var t=e.getUTCDay();return 0===t?7:t}function jQ(e,t){return jX(JJ.count(sX(e)-1,e),t,2)}function NQ(e){var t=e.getUTCDay();return t>=4||0===t?eX(e):eX.ceil(e)}function kQ(e,t){return e=NQ(e),jX(eX.count(sX(e),e)+(4===sX(e).getUTCDay()),t,2)}function SQ(e){return e.getUTCDay()}function CQ(e,t){return jX(XJ.count(sX(e)-1,e),t,2)}function _Q(e,t){return jX(e.getUTCFullYear()%100,t,2)}function AQ(e,t){return jX((e=NQ(e)).getUTCFullYear()%100,t,2)}function TQ(e,t){return jX(e.getUTCFullYear()%1e4,t,4)}function OQ(e,t){var n=e.getUTCDay();return jX((e=n>=4||0===n?eX(e):eX.ceil(e)).getUTCFullYear()%1e4,t,4)}function EQ(){return"+0000"}function MQ(){return"%"}function PQ(e){return+e}function DQ(e){return Math.floor(+e/1e3)}function LQ(e){return new Date(e)}function IQ(e){return e instanceof Date?+e:+new Date(+e)}function RQ(e,t,n,r,a,i,s,o,l,c){var d=WK(),u=d.invert,h=d.domain,p=c(".%L"),m=c(":%S"),f=c("%I:%M"),g=c("%I %p"),x=c("%a %d"),b=c("%b %d"),y=c("%B"),v=c("%Y");function w(e){return(l(e)<e?p:o(e)<e?m:s(e)<e?f:i(e)<e?g:r(e)<e?a(e)<e?x:b:n(e)<e?y:v)(e)}return d.invert=function(e){return new Date(u(e))},d.domain=function(e){return arguments.length?h(Array.from(e,IQ)):h().map(LQ)},d.ticks=function(t){var n=h();return e(n[0],n[n.length-1],null==t?10:t)},d.tickFormat=function(e,t){return null==t?w:c(t)},d.nice=function(e){var n=h();return e&&"function"==typeof e.range||(e=t(n[0],n[n.length-1],null==e?10:e)),e?h(sJ(n,e)):d},d.copy=function(){return zK(d,RQ(e,t,n,r,a,i,s,o,l,c))},d}function FQ(){var e,t,n,r,a,i=0,s=1,o=IK,l=!1;function c(t){return null==t||isNaN(t=+t)?a:o(0===n?.5:(t=(r(t)-e)*n,l?Math.max(0,Math.min(1,t)):t))}function d(e){return function(t){var n,r;return arguments.length?([n,r]=t,o=e(n,r),c):[o(0),o(1)]}}return c.domain=function(a){return arguments.length?([i,s]=a,e=r(i=+i),t=r(s=+s),n=e===t?0:1/(t-e),c):[i,s]},c.clamp=function(e){return arguments.length?(l=!!e,c):l},c.interpolator=function(e){return arguments.length?(o=e,c):o},c.range=d(MK),c.rangeRound=d(PK),c.unknown=function(e){return arguments.length?(a=e,c):a},function(a){return r=a,e=a(i),t=a(s),n=e===t?0:1/(t-e),c}}function HQ(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function zQ(){var e=vJ(FQ());return e.copy=function(){return HQ(e,zQ()).exponent(e.exponent())},LY.apply(e,arguments)}function BQ(){var e,t,n,r,a,i,s,o=0,l=.5,c=1,d=1,u=IK,h=!1;function p(e){return isNaN(e=+e)?s:(e=.5+((e=+i(e))-t)*(d*e<d*t?r:a),u(h?Math.max(0,Math.min(1,e)):e))}function m(e){return function(t){var n,r,a;return arguments.length?([n,r,a]=t,u=function(e,t){void 0===t&&(t=e,e=MK);for(var n=0,r=t.length-1,a=t[0],i=new Array(r<0?0:r);n<r;)i[n]=e(a,a=t[++n]);return function(e){var t=Math.max(0,Math.min(r-1,Math.floor(e*=r)));return i[t](e-t)}}(e,[n,r,a]),p):[u(0),u(.5),u(1)]}}return p.domain=function(s){return arguments.length?([o,l,c]=s,e=i(o=+o),t=i(l=+l),n=i(c=+c),r=e===t?0:.5/(t-e),a=t===n?0:.5/(n-t),d=t<e?-1:1,p):[o,l,c]},p.clamp=function(e){return arguments.length?(h=!!e,p):h},p.interpolator=function(e){return arguments.length?(u=e,p):u},p.range=m(MK),p.rangeRound=m(PK),p.unknown=function(e){return arguments.length?(s=e,p):s},function(s){return i=s,e=s(o),t=s(l),n=s(c),r=e===t?0:.5/(t-e),a=t===n?0:.5/(n-t),d=t<e?-1:1,p}}function WQ(){var e=vJ(BQ());return e.copy=function(){return HQ(e,WQ()).exponent(e.exponent())},LY.apply(e,arguments)}fX=function(e){var t=e.dateTime,n=e.date,r=e.time,a=e.periods,i=e.days,s=e.shortDays,o=e.months,l=e.shortMonths,c=kX(a),d=SX(a),u=kX(i),h=SX(i),p=kX(s),m=SX(s),f=kX(o),g=SX(o),x=kX(l),b=SX(l),y={a:function(e){return s[e.getDay()]},A:function(e){return i[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return o[e.getMonth()]},c:null,d:qX,e:qX,f:XX,g:lQ,G:dQ,H:GX,I:YX,j:KX,L:JX,m:QX,M:ZX,p:function(e){return a[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:PQ,s:DQ,S:eQ,u:tQ,U:nQ,V:aQ,w:iQ,W:sQ,x:null,X:null,y:oQ,Y:cQ,Z:uQ,"%":MQ},v={a:function(e){return s[e.getUTCDay()]},A:function(e){return i[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return o[e.getUTCMonth()]},c:null,d:hQ,e:hQ,f:xQ,g:AQ,G:OQ,H:pQ,I:mQ,j:fQ,L:gQ,m:bQ,M:yQ,p:function(e){return a[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:PQ,s:DQ,S:vQ,u:wQ,U:jQ,V:kQ,w:SQ,W:CQ,x:null,X:null,y:_Q,Y:TQ,Z:EQ,"%":MQ},w={a:function(e,t,n){var r=p.exec(t.slice(n));return r?(e.w=m.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){var r=u.exec(t.slice(n));return r?(e.w=h.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){var r=x.exec(t.slice(n));return r?(e.m=b.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){var r=f.exec(t.slice(n));return r?(e.m=g.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,n,r){return k(e,t,n,r)},d:IX,e:IX,f:WX,g:MX,G:EX,H:FX,I:FX,j:RX,L:BX,m:LX,M:HX,p:function(e,t,n){var r=c.exec(t.slice(n));return r?(e.p=d.get(r[0].toLowerCase()),n+r[0].length):-1},q:DX,Q:UX,s:VX,S:zX,u:_X,U:AX,V:TX,w:CX,W:OX,x:function(e,t,r){return k(e,n,t,r)},X:function(e,t,n){return k(e,r,t,n)},y:MX,Y:EX,Z:PX,"%":$X};function j(e,t){return function(n){var r,a,i,s=[],o=-1,l=0,c=e.length;for(n instanceof Date||(n=new Date(+n));++o<c;)37===e.charCodeAt(o)&&(s.push(e.slice(l,o)),null!=(a=bX[r=e.charAt(++o)])?r=e.charAt(++o):a="e"===r?" ":"0",(i=t[r])&&(r=i(n,a)),s.push(r),l=o+1);return s.push(e.slice(l,o)),s.join("")}}function N(e,t){return function(n){var r,a,i=mX(1900,void 0,1);if(k(i,e,n+="",0)!=n.length)return null;if("Q"in i)return new Date(i.Q);if("s"in i)return new Date(1e3*i.s+("L"in i?i.L:0));if(t&&!("Z"in i)&&(i.Z=0),"p"in i&&(i.H=i.H%12+12*i.p),void 0===i.m&&(i.m="q"in i?i.q:0),"V"in i){if(i.V<1||i.V>53)return null;"w"in i||(i.w=1),"Z"in i?(a=(r=pX(mX(i.y,0,1))).getUTCDay(),r=a>4||0===a?XJ.ceil(r):XJ(r),r=HJ.offset(r,7*(i.V-1)),i.y=r.getUTCFullYear(),i.m=r.getUTCMonth(),i.d=r.getUTCDate()+(i.w+6)%7):(a=(r=hX(mX(i.y,0,1))).getDay(),r=a>4||0===a?$J.ceil(r):$J(r),r=FJ.offset(r,7*(i.V-1)),i.y=r.getFullYear(),i.m=r.getMonth(),i.d=r.getDate()+(i.w+6)%7)}else("W"in i||"U"in i)&&("w"in i||(i.w="u"in i?i.u%7:"W"in i?1:0),a="Z"in i?pX(mX(i.y,0,1)).getUTCDay():hX(mX(i.y,0,1)).getDay(),i.m=0,i.d="W"in i?(i.w+6)%7+7*i.W-(a+5)%7:i.w+7*i.U-(a+6)%7);return"Z"in i?(i.H+=i.Z/100|0,i.M+=i.Z%100,pX(i)):hX(i)}}function k(e,t,n,r){for(var a,i,s=0,o=t.length,l=n.length;s<o;){if(r>=l)return-1;if(37===(a=t.charCodeAt(s++))){if(a=t.charAt(s++),!(i=w[a in bX?t.charAt(s++):a])||(r=i(e,n,r))<0)return-1}else if(a!=n.charCodeAt(r++))return-1}return r}return y.x=j(n,y),y.X=j(r,y),y.c=j(t,y),v.x=j(n,v),v.X=j(r,v),v.c=j(t,v),{format:function(e){var t=j(e+="",y);return t.toString=function(){return e},t},parse:function(e){var t=N(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=j(e+="",v);return t.toString=function(){return e},t},utcParse:function(e){var t=N(e+="",!0);return t.toString=function(){return e},t}}}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),gX=fX.format,fX.parse,xX=fX.utcFormat,fX.utcParse;const $Q=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:FY,scaleDiverging:function e(){var t=aJ(BQ()(IK));return t.copy=function(){return HQ(t,e())},LY.apply(t,arguments)},scaleDivergingLog:function e(){var t=pJ(BQ()).domain([.1,1,10]);return t.copy=function(){return HQ(t,e()).base(t.base())},LY.apply(t,arguments)},scaleDivergingPow:WQ,scaleDivergingSqrt:function(){return WQ.apply(null,arguments).exponent(.5)},scaleDivergingSymlog:function e(){var t=gJ(BQ());return t.copy=function(){return HQ(t,e()).constant(t.constant())},LY.apply(t,arguments)},scaleIdentity:function e(t){var n;function r(e){return null==e||isNaN(e=+e)?n:e}return r.invert=r,r.domain=r.range=function(e){return arguments.length?(t=Array.from(e,DK),r):t.slice()},r.unknown=function(e){return arguments.length?(n=e,r):n},r.copy=function(){return e(t).unknown(n)},t=arguments.length?Array.from(t,DK):[0,1],aJ(r)},scaleImplicit:IY,scaleLinear:iJ,scaleLog:function e(){const t=pJ(BK()).domain([1,10]);return t.copy=()=>zK(t,e()).base(t.base()),DY.apply(t,arguments),t},scaleOrdinal:RY,scalePoint:zY,scalePow:wJ,scaleQuantile:function e(){var t,n=[],r=[],a=[];function i(){var e=0,t=Math.max(1,r.length);for(a=new Array(t-1);++e<t;)a[e-1]=PY(n,e/t);return s}function s(e){return null==e||isNaN(e=+e)?t:r[xY(a,e)]}return s.invertExtent=function(e){var t=r.indexOf(e);return t<0?[NaN,NaN]:[t>0?a[t-1]:n[0],t<a.length?a[t]:n[n.length-1]]},s.domain=function(e){if(!arguments.length)return n.slice();n=[];for(let t of e)null==t||isNaN(t=+t)||n.push(t);return n.sort(hY),i()},s.range=function(e){return arguments.length?(r=Array.from(e),i()):r.slice()},s.unknown=function(e){return arguments.length?(t=e,s):t},s.quantiles=function(){return a.slice()},s.copy=function(){return e().domain(n).range(r).unknown(t)},DY.apply(s,arguments)},scaleQuantize:function e(){var t,n=0,r=1,a=1,i=[.5],s=[0,1];function o(e){return null!=e&&e<=e?s[xY(i,e,0,a)]:t}function l(){var e=-1;for(i=new Array(a);++e<a;)i[e]=((e+1)*r-(e-a)*n)/(a+1);return o}return o.domain=function(e){return arguments.length?([n,r]=e,n=+n,r=+r,l()):[n,r]},o.range=function(e){return arguments.length?(a=(s=Array.from(e)).length-1,l()):s.slice()},o.invertExtent=function(e){var t=s.indexOf(e);return t<0?[NaN,NaN]:t<1?[n,i[0]]:t>=a?[i[a-1],r]:[i[t-1],i[t]]},o.unknown=function(e){return arguments.length?(t=e,o):o},o.thresholds=function(){return i.slice()},o.copy=function(){return e().domain([n,r]).range(s).unknown(t)},DY.apply(aJ(o),arguments)},scaleRadial:function e(){var t,n=WK(),r=[0,1],a=!1;function i(e){var r=function(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(n(e));return isNaN(r)?t:a?Math.round(r):r}return i.invert=function(e){return n.invert(jJ(e))},i.domain=function(e){return arguments.length?(n.domain(e),i):n.domain()},i.range=function(e){return arguments.length?(n.range((r=Array.from(e,DK)).map(jJ)),i):r.slice()},i.rangeRound=function(e){return i.range(e).round(!0)},i.round=function(e){return arguments.length?(a=!!e,i):a},i.clamp=function(e){return arguments.length?(n.clamp(e),i):n.clamp()},i.unknown=function(e){return arguments.length?(t=e,i):t},i.copy=function(){return e(n.domain(),r).round(a).clamp(n.clamp()).unknown(t)},DY.apply(i,arguments),aJ(i)},scaleSequential:function e(){var t=aJ(FQ()(IK));return t.copy=function(){return HQ(t,e())},LY.apply(t,arguments)},scaleSequentialLog:function e(){var t=pJ(FQ()).domain([1,10]);return t.copy=function(){return HQ(t,e()).base(t.base())},LY.apply(t,arguments)},scaleSequentialPow:zQ,scaleSequentialQuantile:function e(){var t=[],n=IK;function r(e){if(null!=e&&!isNaN(e=+e))return n((xY(t,e,1)-1)/(t.length-1))}return r.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let n of e)null==n||isNaN(n=+n)||t.push(n);return t.sort(hY),r},r.interpolator=function(e){return arguments.length?(n=e,r):n},r.range=function(){return t.map((e,r)=>n(r/(t.length-1)))},r.quantiles=function(e){return Array.from({length:e+1},(n,r)=>function(e,t){if((n=(e=Float64Array.from(function*(e){for(let t of e)null!=t&&(t=+t)>=t&&(yield t)}(e))).length)&&!isNaN(t=+t)){if(t<=0||n<2)return OY(e);if(t>=1)return TY(e);var n,r=(n-1)*t,a=Math.floor(r),i=TY(EY(e,a).subarray(0,a+1));return i+(OY(e.subarray(a+1))-i)*(r-a)}}(t,r/e))},r.copy=function(){return e(n).domain(t)},LY.apply(r,arguments)},scaleSequentialSqrt:function(){return zQ.apply(null,arguments).exponent(.5)},scaleSequentialSymlog:function e(){var t=gJ(FQ());return t.copy=function(){return HQ(t,e()).constant(t.constant())},LY.apply(t,arguments)},scaleSqrt:function(){return wJ.apply(null,arguments).exponent(.5)},scaleSymlog:function e(){var t=gJ(BK());return t.copy=function(){return zK(t,e()).constant(t.constant())},DY.apply(t,arguments)},scaleThreshold:function e(){var t,n=[.5],r=[0,1],a=1;function i(e){return null!=e&&e<=e?r[xY(n,e,0,a)]:t}return i.domain=function(e){return arguments.length?(n=Array.from(e),a=Math.min(n.length,r.length-1),i):n.slice()},i.range=function(e){return arguments.length?(r=Array.from(e),a=Math.min(n.length,r.length-1),i):r.slice()},i.invertExtent=function(e){var t=r.indexOf(e);return[n[t-1],n[t]]},i.unknown=function(e){return arguments.length?(t=e,i):t},i.copy=function(){return e().domain(n).range(r).unknown(t)},DY.apply(i,arguments)},scaleTime:function(){return DY.apply(RQ(dX,uX,iX,rX,WJ,FJ,IJ,DJ,PJ,gX).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)},scaleUtc:function(){return DY.apply(RQ(lX,cX,sX,aX,JJ,HJ,RJ,LJ,PJ,xX).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)},tickFormat:rJ},Symbol.toStringTag,{value:"Module"}));var UQ,VQ,qQ,GQ,YQ,KQ;function JQ(){if(VQ)return UQ;VQ=1;var e=KF();return UQ=function(t,n,r){for(var a=-1,i=t.length;++a<i;){var s=t[a],o=n(s);if(null!=o&&(void 0===l?o==o&&!e(o):r(o,l)))var l=o,c=s}return c}}function XQ(){return GQ?qQ:(GQ=1,qQ=function(e,t){return e>t})}const QQ=i(function(){if(KQ)return YQ;KQ=1;var e=JQ(),t=XQ(),n=gV();return YQ=function(r){return r&&r.length?e(r,n,t):void 0}}());var ZQ,eZ,tZ,nZ;function rZ(){return eZ?ZQ:(eZ=1,ZQ=function(e,t){return e<t})}const aZ=i(function(){if(nZ)return tZ;nZ=1;var e=JQ(),t=rZ(),n=gV();return tZ=function(r){return r&&r.length?e(r,n,t):void 0}}());var iZ,sZ,oZ,lZ;const cZ=i(function(){if(lZ)return oZ;lZ=1;var e=kq(),t=function(){if(sZ)return iZ;sZ=1;var e=cH(),t=xV(),n=_q(),r=$F();return iZ=function(a,i){return(r(a)?e:n)(a,t(i,3))}}();return oZ=function(n,r){return e(t(n,r),1)}}());var dZ,uZ;const hZ=i(function(){if(uZ)return dZ;uZ=1;var e=pV();return dZ=function(t,n){return e(t,n)}}());var pZ,mZ=1e9,fZ=!0,gZ="[DecimalError] ",xZ=gZ+"Invalid argument: ",bZ=gZ+"Exponent out of range: ",yZ=Math.floor,vZ=Math.pow,wZ=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,jZ=1e7,NZ=yZ(1286742750677284.5),kZ={};function SZ(e,t){var n,r,a,i,s,o,l,c,d=e.constructor,u=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),fZ?LZ(t,u):t;if(l=e.d,c=t.d,s=e.e,a=t.e,l=l.slice(),i=s-a){for(i<0?(r=l,i=-i,o=c.length):(r=c,a=s,o=l.length),i>(o=(s=Math.ceil(u/7))>o?s+1:o+1)&&(i=o,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for((o=l.length)-(i=c.length)<0&&(i=o,r=c,c=l,l=r),n=0;i;)n=(l[--i]=l[i]+c[i]+n)/jZ|0,l[i]%=jZ;for(n&&(l.unshift(n),++a),o=l.length;0==l[--o];)l.pop();return t.d=l,t.e=a,fZ?LZ(t,u):t}function CZ(e,t,n){if(e!==~~e||e<t||e>n)throw Error(xZ+e)}function _Z(e){var t,n,r,a=e.length-1,i="",s=e[0];if(a>0){for(i+=s,t=1;t<a;t++)(n=7-(r=e[t]+"").length)&&(i+=MZ(n)),i+=r;(n=7-(r=(s=e[t])+"").length)&&(i+=MZ(n))}else if(0===s)return"0";for(;s%10==0;)s/=10;return i+s}kZ.absoluteValue=kZ.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},kZ.comparedTo=kZ.cmp=function(e){var t,n,r,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(t=0,n=(r=i.d.length)<(a=e.d.length)?r:a;t<n;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return r===a?0:r>a^i.s<0?1:-1},kZ.decimalPlaces=kZ.dp=function(){var e=this,t=e.d.length-1,n=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)n--;return n<0?0:n},kZ.dividedBy=kZ.div=function(e){return AZ(this,new this.constructor(e))},kZ.dividedToIntegerBy=kZ.idiv=function(e){var t=this.constructor;return LZ(AZ(this,new t(e),0,1),t.precision)},kZ.equals=kZ.eq=function(e){return!this.cmp(e)},kZ.exponent=function(){return OZ(this)},kZ.greaterThan=kZ.gt=function(e){return this.cmp(e)>0},kZ.greaterThanOrEqualTo=kZ.gte=function(e){return this.cmp(e)>=0},kZ.isInteger=kZ.isint=function(){return this.e>this.d.length-2},kZ.isNegative=kZ.isneg=function(){return this.s<0},kZ.isPositive=kZ.ispos=function(){return this.s>0},kZ.isZero=function(){return 0===this.s},kZ.lessThan=kZ.lt=function(e){return this.cmp(e)<0},kZ.lessThanOrEqualTo=kZ.lte=function(e){return this.cmp(e)<1},kZ.logarithm=kZ.log=function(e){var t,n=this,r=n.constructor,a=r.precision,i=a+5;if(void 0===e)e=new r(10);else if((e=new r(e)).s<1||e.eq(pZ))throw Error(gZ+"NaN");if(n.s<1)throw Error(gZ+(n.s?"NaN":"-Infinity"));return n.eq(pZ)?new r(0):(fZ=!1,t=AZ(PZ(n,i),PZ(e,i),i),fZ=!0,LZ(t,a))},kZ.minus=kZ.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?IZ(t,e):SZ(t,(e.s=-e.s,e))},kZ.modulo=kZ.mod=function(e){var t,n=this,r=n.constructor,a=r.precision;if(!(e=new r(e)).s)throw Error(gZ+"NaN");return n.s?(fZ=!1,t=AZ(n,e,0,1).times(e),fZ=!0,n.minus(t)):LZ(new r(n),a)},kZ.naturalExponential=kZ.exp=function(){return TZ(this)},kZ.naturalLogarithm=kZ.ln=function(){return PZ(this)},kZ.negated=kZ.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},kZ.plus=kZ.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?SZ(t,e):IZ(t,(e.s=-e.s,e))},kZ.precision=kZ.sd=function(e){var t,n,r,a=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(xZ+e);if(t=OZ(a)+1,n=7*(r=a.d.length-1)+1,r=a.d[r]){for(;r%10==0;r/=10)n--;for(r=a.d[0];r>=10;r/=10)n++}return e&&t>n?t:n},kZ.squareRoot=kZ.sqrt=function(){var e,t,n,r,a,i,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(gZ+"NaN")}for(e=OZ(o),fZ=!1,0==(a=Math.sqrt(+o))||a==1/0?(((t=_Z(o.d)).length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=yZ((e+1)/2)-(e<0||e%2),r=new l(t=a==1/0?"5e"+e:(t=a.toExponential()).slice(0,t.indexOf("e")+1)+e)):r=new l(a.toString()),a=s=(n=l.precision)+3;;)if(r=(i=r).plus(AZ(o,i,s+2)).times(.5),_Z(i.d).slice(0,s)===(t=_Z(r.d)).slice(0,s)){if(t=t.slice(s-3,s+1),a==s&&"4999"==t){if(LZ(i,n+1,0),i.times(i).eq(o)){r=i;break}}else if("9999"!=t)break;s+=4}return fZ=!0,LZ(r,n)},kZ.times=kZ.mul=function(e){var t,n,r,a,i,s,o,l,c,d=this,u=d.constructor,h=d.d,p=(e=new u(e)).d;if(!d.s||!e.s)return new u(0);for(e.s*=d.s,n=d.e+e.e,(l=h.length)<(c=p.length)&&(i=h,h=p,p=i,s=l,l=c,c=s),i=[],r=s=l+c;r--;)i.push(0);for(r=c;--r>=0;){for(t=0,a=l+r;a>r;)o=i[a]+p[r]*h[a-r-1]+t,i[a--]=o%jZ|0,t=o/jZ|0;i[a]=(i[a]+t)%jZ|0}for(;!i[--s];)i.pop();return t?++n:i.shift(),e.d=i,e.e=n,fZ?LZ(e,u.precision):e},kZ.toDecimalPlaces=kZ.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),void 0===e?n:(CZ(e,0,mZ),void 0===t?t=r.rounding:CZ(t,0,8),LZ(n,e+OZ(n)+1,t))},kZ.toExponential=function(e,t){var n,r=this,a=r.constructor;return void 0===e?n=RZ(r,!0):(CZ(e,0,mZ),void 0===t?t=a.rounding:CZ(t,0,8),n=RZ(r=LZ(new a(r),e+1,t),!0,e+1)),n},kZ.toFixed=function(e,t){var n,r,a=this,i=a.constructor;return void 0===e?RZ(a):(CZ(e,0,mZ),void 0===t?t=i.rounding:CZ(t,0,8),n=RZ((r=LZ(new i(a),e+OZ(a)+1,t)).abs(),!1,e+OZ(r)+1),a.isneg()&&!a.isZero()?"-"+n:n)},kZ.toInteger=kZ.toint=function(){var e=this,t=e.constructor;return LZ(new t(e),OZ(e)+1,t.rounding)},kZ.toNumber=function(){return+this},kZ.toPower=kZ.pow=function(e){var t,n,r,a,i,s,o=this,l=o.constructor,c=+(e=new l(e));if(!e.s)return new l(pZ);if(!(o=new l(o)).s){if(e.s<1)throw Error(gZ+"Infinity");return o}if(o.eq(pZ))return o;if(r=l.precision,e.eq(pZ))return LZ(o,r);if(s=(t=e.e)>=(n=e.d.length-1),i=o.s,s){if((n=c<0?-c:c)<=9007199254740991){for(a=new l(pZ),t=Math.ceil(r/7+4),fZ=!1;n%2&&FZ((a=a.times(o)).d,t),0!==(n=yZ(n/2));)FZ((o=o.times(o)).d,t);return fZ=!0,e.s<0?new l(pZ).div(a):LZ(a,r)}}else if(i<0)throw Error(gZ+"NaN");return i=i<0&&1&e.d[Math.max(t,n)]?-1:1,o.s=1,fZ=!1,a=e.times(PZ(o,r+12)),fZ=!0,(a=TZ(a)).s=i,a},kZ.toPrecision=function(e,t){var n,r,a=this,i=a.constructor;return void 0===e?r=RZ(a,(n=OZ(a))<=i.toExpNeg||n>=i.toExpPos):(CZ(e,1,mZ),void 0===t?t=i.rounding:CZ(t,0,8),r=RZ(a=LZ(new i(a),e,t),e<=(n=OZ(a))||n<=i.toExpNeg,e)),r},kZ.toSignificantDigits=kZ.tosd=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(CZ(e,1,mZ),void 0===t?t=n.rounding:CZ(t,0,8)),LZ(new n(this),e,t)},kZ.toString=kZ.valueOf=kZ.val=kZ.toJSON=kZ[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=OZ(e),n=e.constructor;return RZ(e,t<=n.toExpNeg||t>=n.toExpPos)};var AZ=function(){function e(e,t){var n,r=0,a=e.length;for(e=e.slice();a--;)n=e[a]*t+r,e[a]=n%jZ|0,r=n/jZ|0;return r&&e.unshift(r),e}function t(e,t,n,r){var a,i;if(n!=r)i=n>r?1:-1;else for(a=i=0;a<n;a++)if(e[a]!=t[a]){i=e[a]>t[a]?1:-1;break}return i}function n(e,t,n){for(var r=0;n--;)e[n]-=r,r=e[n]<t[n]?1:0,e[n]=r*jZ+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(r,a,i,s){var o,l,c,d,u,h,p,m,f,g,x,b,y,v,w,j,N,k,S=r.constructor,C=r.s==a.s?1:-1,_=r.d,A=a.d;if(!r.s)return new S(r);if(!a.s)throw Error(gZ+"Division by zero");for(l=r.e-a.e,N=A.length,w=_.length,m=(p=new S(C)).d=[],c=0;A[c]==(_[c]||0);)++c;if(A[c]>(_[c]||0)&&--l,(b=null==i?i=S.precision:s?i+(OZ(r)-OZ(a))+1:i)<0)return new S(0);if(b=b/7+2|0,c=0,1==N)for(d=0,A=A[0],b++;(c<w||d)&&b--;c++)y=d*jZ+(_[c]||0),m[c]=y/A|0,d=y%A|0;else{for((d=jZ/(A[0]+1)|0)>1&&(A=e(A,d),_=e(_,d),N=A.length,w=_.length),v=N,g=(f=_.slice(0,N)).length;g<N;)f[g++]=0;(k=A.slice()).unshift(0),j=A[0],A[1]>=jZ/2&&++j;do{d=0,(o=t(A,f,N,g))<0?(x=f[0],N!=g&&(x=x*jZ+(f[1]||0)),(d=x/j|0)>1?(d>=jZ&&(d=jZ-1),1==(o=t(u=e(A,d),f,h=u.length,g=f.length))&&(d--,n(u,N<h?k:A,h))):(0==d&&(o=d=1),u=A.slice()),(h=u.length)<g&&u.unshift(0),n(f,u,g),-1==o&&(o=t(A,f,N,g=f.length))<1&&(d++,n(f,N<g?k:A,g)),g=f.length):0===o&&(d++,f=[0]),m[c++]=d,o&&f[0]?f[g++]=_[v]||0:(f=[_[v]],g=1)}while((v++<w||void 0!==f[0])&&b--)}return m[0]||m.shift(),p.e=l,LZ(p,s?i+OZ(p)+1:i)}}();function TZ(e,t){var n,r,a,i,s,o=0,l=0,c=e.constructor,d=c.precision;if(OZ(e)>16)throw Error(bZ+OZ(e));if(!e.s)return new c(pZ);for(fZ=!1,s=d,i=new c(.03125);e.abs().gte(.1);)e=e.times(i),l+=5;for(s+=Math.log(vZ(2,l))/Math.LN10*2+5|0,n=r=a=new c(pZ),c.precision=s;;){if(r=LZ(r.times(e),s),n=n.times(++o),_Z((i=a.plus(AZ(r,n,s))).d).slice(0,s)===_Z(a.d).slice(0,s)){for(;l--;)a=LZ(a.times(a),s);return c.precision=d,null==t?(fZ=!0,LZ(a,d)):a}a=i}}function OZ(e){for(var t=7*e.e,n=e.d[0];n>=10;n/=10)t++;return t}function EZ(e,t,n){if(t>e.LN10.sd())throw fZ=!0,n&&(e.precision=n),Error(gZ+"LN10 precision limit exceeded");return LZ(new e(e.LN10),t)}function MZ(e){for(var t="";e--;)t+="0";return t}function PZ(e,t){var n,r,a,i,s,o,l,c,d,u=1,h=e,p=h.d,m=h.constructor,f=m.precision;if(h.s<1)throw Error(gZ+(h.s?"NaN":"-Infinity"));if(h.eq(pZ))return new m(0);if(null==t?(fZ=!1,c=f):c=t,h.eq(10))return null==t&&(fZ=!0),EZ(m,c);if(c+=10,m.precision=c,r=(n=_Z(p)).charAt(0),i=OZ(h),!(Math.abs(i)<15e14))return l=EZ(m,c+2,f).times(i+""),h=PZ(new m(r+"."+n.slice(1)),c-10).plus(l),m.precision=f,null==t?(fZ=!0,LZ(h,f)):h;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=_Z((h=h.times(e)).d)).charAt(0),u++;for(i=OZ(h),r>1?(h=new m("0."+n),i++):h=new m(r+"."+n.slice(1)),o=s=h=AZ(h.minus(pZ),h.plus(pZ),c),d=LZ(h.times(h),c),a=3;;){if(s=LZ(s.times(d),c),_Z((l=o.plus(AZ(s,new m(a),c))).d).slice(0,c)===_Z(o.d).slice(0,c))return o=o.times(2),0!==i&&(o=o.plus(EZ(m,c+2,f).times(i+""))),o=AZ(o,new m(u),c),m.precision=f,null==t?(fZ=!0,LZ(o,f)):o;o=l,a+=2}}function DZ(e,t){var n,r,a;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;48===t.charCodeAt(r);)++r;for(a=t.length;48===t.charCodeAt(a-1);)--a;if(t=t.slice(r,a)){if(a-=r,n=n-r-1,e.e=yZ(n/7),e.d=[],r=(n+1)%7,n<0&&(r+=7),r<a){for(r&&e.d.push(+t.slice(0,r)),a-=7;r<a;)e.d.push(+t.slice(r,r+=7));r=7-(t=t.slice(r)).length}else r-=a;for(;r--;)t+="0";if(e.d.push(+t),fZ&&(e.e>NZ||e.e<-NZ))throw Error(bZ+n)}else e.s=0,e.e=0,e.d=[0];return e}function LZ(e,t,n){var r,a,i,s,o,l,c,d,u=e.d;for(s=1,i=u[0];i>=10;i/=10)s++;if((r=t-s)<0)r+=7,a=t,c=u[d=0];else{if((d=Math.ceil((r+1)/7))>=(i=u.length))return e;for(c=i=u[d],s=1;i>=10;i/=10)s++;a=(r%=7)-7+s}if(void 0!==n&&(o=c/(i=vZ(10,s-a-1))%10|0,l=t<0||void 0!==u[d+1]||c%i,l=n<4?(o||l)&&(0==n||n==(e.s<0?3:2)):o>5||5==o&&(4==n||l||6==n&&(r>0?a>0?c/vZ(10,s-a):0:u[d-1])%10&1||n==(e.s<0?8:7))),t<1||!u[0])return l?(i=OZ(e),u.length=1,t=t-i-1,u[0]=vZ(10,(7-t%7)%7),e.e=yZ(-t/7)||0):(u.length=1,u[0]=e.e=e.s=0),e;if(0==r?(u.length=d,i=1,d--):(u.length=d+1,i=vZ(10,7-r),u[d]=a>0?(c/vZ(10,s-a)%vZ(10,a)|0)*i:0),l)for(;;){if(0==d){(u[0]+=i)==jZ&&(u[0]=1,++e.e);break}if(u[d]+=i,u[d]!=jZ)break;u[d--]=0,i=1}for(r=u.length;0===u[--r];)u.pop();if(fZ&&(e.e>NZ||e.e<-NZ))throw Error(bZ+OZ(e));return e}function IZ(e,t){var n,r,a,i,s,o,l,c,d,u,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),fZ?LZ(t,p):t;if(l=e.d,u=t.d,r=t.e,c=e.e,l=l.slice(),s=c-r){for((d=s<0)?(n=l,s=-s,o=u.length):(n=u,r=c,o=l.length),s>(a=Math.max(Math.ceil(p/7),o)+2)&&(s=a,n.length=1),n.reverse(),a=s;a--;)n.push(0);n.reverse()}else{for((d=(a=l.length)<(o=u.length))&&(o=a),a=0;a<o;a++)if(l[a]!=u[a]){d=l[a]<u[a];break}s=0}for(d&&(n=l,l=u,u=n,t.s=-t.s),o=l.length,a=u.length-o;a>0;--a)l[o++]=0;for(a=u.length;a>s;){if(l[--a]<u[a]){for(i=a;i&&0===l[--i];)l[i]=jZ-1;--l[i],l[a]+=jZ}l[a]-=u[a]}for(;0===l[--o];)l.pop();for(;0===l[0];l.shift())--r;return l[0]?(t.d=l,t.e=r,fZ?LZ(t,p):t):new h(0)}function RZ(e,t,n){var r,a=OZ(e),i=_Z(e.d),s=i.length;return t?(n&&(r=n-s)>0?i=i.charAt(0)+"."+i.slice(1)+MZ(r):s>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+MZ(-a-1)+i,n&&(r=n-s)>0&&(i+=MZ(r))):a>=s?(i+=MZ(a+1-s),n&&(r=n-a-1)>0&&(i=i+"."+MZ(r))):((r=a+1)<s&&(i=i.slice(0,r)+"."+i.slice(r)),n&&(r=n-s)>0&&(a+1===s&&(i+="."),i+=MZ(r))),e.s<0?"-"+i:i}function FZ(e,t){if(e.length>t)return e.length=t,!0}function HZ(e){if(!e||"object"!=typeof e)throw Error(gZ+"Object expected");var t,n,r,a=["precision",1,mZ,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if(void 0!==(r=e[n=a[t]])){if(!(yZ(r)===r&&r>=a[t+1]&&r<=a[t+2]))throw Error(xZ+n+": "+r);this[n]=r}if(void 0!==(r=e[n="LN10"])){if(r!=Math.LN10)throw Error(xZ+n+": "+r);this[n]=new this(r)}return this}var zZ=function e(t){var n,r,a;function i(e){var t=this;if(!(t instanceof i))return new i(e);if(t.constructor=i,e instanceof i)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"==typeof e){if(0*e!=0)throw Error(xZ+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):DZ(t,e.toString())}if("string"!=typeof e)throw Error(xZ+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!wZ.test(e))throw Error(xZ+e);DZ(t,e)}if(i.prototype=kZ,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=e,i.config=i.set=HZ,void 0===t&&(t={}),t)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],n=0;n<a.length;)t.hasOwnProperty(r=a[n++])||(t[r]=this[r]);return i.config(t),i}({precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"});pZ=new zZ(1);const BZ=zZ;function WZ(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var $Z=function(e){return e},UZ={},VZ=function(e){return e===UZ},qZ=function(e){return function t(){return 0===arguments.length||1===arguments.length&&VZ(arguments.length<=0?void 0:arguments[0])?t:e.apply(void 0,arguments)}},GZ=function e(t,n){return 1===t?n:qZ(function(){for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];var s=a.filter(function(e){return e!==UZ}).length;return s>=t?n.apply(void 0,a):e(t-s,qZ(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i,s=a.map(function(e){return VZ(e)?t.shift():e});return n.apply(void 0,(i=s,function(e){if(Array.isArray(e))return WZ(e)}(i)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(i)||function(e,t){if(e){if("string"==typeof e)return WZ(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?WZ(e,t):void 0}}(i)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).concat(t))}))})},YZ=function(e){return GZ(e.length,e)},KZ=function(e,t){for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},JZ=YZ(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(e){return t[e]}).map(e)}),XZ=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},QZ=function(e){var t=null,n=null;return function(){for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return t&&a.every(function(e,n){return e===t[n]})?n:(t=a,n=e.apply(void 0,a))}};YZ(function(e,t,n){var r=+e;return r+n*(+t-r)});const ZZ=function(e,t,n){for(var r=new BZ(e),a=0,i=[];r.lt(t)&&a<1e5;)i.push(r.toNumber()),r=r.add(n),a++;return i},e0=function(e){return 0===e?1:Math.floor(new BZ(e).abs().log(10).toNumber())+1};YZ(function(e,t,n){var r=t-+e;return(n-e)/(r||1/0)}),YZ(function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});function t0(e){return function(e){if(Array.isArray(e))return a0(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||r0(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n0(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,i=void 0;try{for(var s,o=e[Symbol.iterator]();!(r=(s=o.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(l){a=!0,i=l}finally{try{r||null==o.return||o.return()}finally{if(a)throw i}}return n}}(e,t)||r0(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r0(e,t){if(e){if("string"==typeof e)return a0(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a0(e,t):void 0}}function a0(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i0(e){var t=n0(e,2),n=t[0],r=t[1],a=n,i=r;return n>r&&(a=r,i=n),[a,i]}function s0(e,t,n){if(e.lte(0))return new BZ(0);var r=e0(e.toNumber()),a=new BZ(10).pow(r),i=e.div(a),s=1!==r?.05:.1,o=new BZ(Math.ceil(i.div(s).toNumber())).add(n).mul(s).mul(a);return t?o:new BZ(Math.ceil(o))}function o0(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new BZ(0),tickMin:new BZ(0),tickMax:new BZ(0)};var i,s=s0(new BZ(t).sub(e).div(n-1),r,a);i=e<=0&&t>=0?new BZ(0):(i=new BZ(e).add(t).div(2)).sub(new BZ(i).mod(s));var o=Math.ceil(i.sub(e).div(s).toNumber()),l=Math.ceil(new BZ(t).sub(i).div(s).toNumber()),c=o+l+1;return c>n?o0(e,t,n,r,a+1):(c<n&&(l=t>0?l+(n-c):l,o=t>0?o:o+(n-c)),{step:s,tickMin:i.sub(new BZ(o).mul(s)),tickMax:i.add(new BZ(l).mul(s))})}var l0=QZ(function(e){var t=n0(e,2),n=t[0],r=t[1],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=Math.max(a,2),o=n0(i0([n,r]),2),l=o[0],c=o[1];if(l===-1/0||c===1/0){var d=c===1/0?[l].concat(t0(KZ(0,a-1).map(function(){return 1/0}))):[].concat(t0(KZ(0,a-1).map(function(){return-1/0})),[c]);return n>r?XZ(d):d}if(l===c)return function(e,t,n){var r=1,a=new BZ(e);if(!a.isint()&&n){var i=Math.abs(e);i<1?(r=new BZ(10).pow(e0(e)-1),a=new BZ(Math.floor(a.div(r).toNumber())).mul(r)):i>1&&(a=new BZ(Math.floor(e)))}else 0===e?a=new BZ(Math.floor((t-1)/2)):n||(a=new BZ(Math.floor(e)));var s=Math.floor((t-1)/2),o=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)return $Z;var r=t.reverse(),a=r[0],i=r.slice(1);return function(){return i.reduce(function(e,t){return t(e)},a.apply(void 0,arguments))}}(JZ(function(e){return a.add(new BZ(e-s).mul(r)).toNumber()}),KZ);return o(0,t)}(l,a,i);var u=o0(l,c,s,i),h=u.step,p=u.tickMin,m=u.tickMax,f=ZZ(p,m.add(new BZ(.1).mul(h)),h);return n>r?XZ(f):f}),c0=QZ(function(e,t){var n=n0(e,2),r=n[0],a=n[1],i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=n0(i0([r,a]),2),o=s[0],l=s[1];if(o===-1/0||l===1/0)return[r,a];if(o===l)return[o];var c=Math.max(t,2),d=s0(new BZ(l).sub(o).div(c-1),i,0),u=[].concat(t0(ZZ(new BZ(o),new BZ(l).sub(new BZ(.99).mul(d)),d)),[l]);return r>a?XZ(u):u});function d0(e,t){throw new Error("Invariant failed")}var u0=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function h0(e){return(h0="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p0(){return p0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p0.apply(this,arguments)}function m0(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f0(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(f0=function(){return!!e})()}function g0(e){return(g0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x0(e,t){return(x0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function b0(e,t,n){return(t=y0(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y0(e){var t=function(e){if("object"!=h0(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=h0(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==h0(t)?t:t+""}var v0=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),function(e,t,n){return t=g0(t),function(e,t){if(t&&("object"===h0(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,f0()?Reflect.construct(t,n||[],g0(e).constructor):t.apply(e,n))}(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&x0(e,t)}(e,b.Component),t=e,n=[{key:"render",value:function(){var e=this.props,t=e.offset,n=e.layout,r=e.width,a=e.dataKey,i=e.data,s=e.dataPointFormatter,o=e.xAxis,l=e.yAxis,c=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,u0),d=fz(c,!1);"x"===this.props.direction&&"number"!==o.type&&d0();var u=i.map(function(e){var i=s(e,a),c=i.x,u=i.y,h=i.value,p=i.errorVal;if(!p)return null;var m,f,g,x,y=[];if(Array.isArray(p)){var v=(x=2,function(e){if(Array.isArray(e))return e}(g=p)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,s,o=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t);else for(;!(l=(r=i.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(d){c=!0,a=d}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}(g,x)||function(e,t){if(e){if("string"==typeof e)return m0(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m0(e,t):void 0}}(g,x)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());m=v[0],f=v[1]}else m=f=p;if("vertical"===n){var w=o.scale,j=u+t,N=j+r,k=j-r,S=w(h-m),C=w(h+f);y.push({x1:C,y1:N,x2:C,y2:k}),y.push({x1:S,y1:j,x2:C,y2:j}),y.push({x1:S,y1:N,x2:S,y2:k})}else if("horizontal"===n){var _=l.scale,A=c+t,T=A-r,O=A+r,E=_(h-m),M=_(h+f);y.push({x1:T,y1:M,x2:O,y2:M}),y.push({x1:A,y1:E,x2:A,y2:M}),y.push({x1:T,y1:E,x2:O,y2:E})}return b.createElement(zz,p0({className:"recharts-errorBar",key:"bar-".concat(y.map(function(e){return"".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)}))},d),y.map(function(e){return b.createElement("line",p0({},e,{key:"line-".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)}))}))});return b.createElement(zz,{className:"recharts-errorBars"},u)}}],n&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,y0(r.key),r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}();function w0(e){return(w0="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function N0(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j0(Object(n),!0).forEach(function(t){var r,a,i;r=e,a=t,i=n[t],a=function(e){var t=function(e,t){if("object"!=w0(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=w0(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==w0(t)?t:t+""}(a),a in r?Object.defineProperty(r,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[a]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j0(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}b0(v0,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"}),b0(v0,"displayName","ErrorBar");var k0=function(e){var t=e.children,n=e.formattedGraphicalItems,r=e.legendWidth,a=e.legendContent,i=uz(t,Nq);if(!i)return null;var s,o=Nq.defaultProps,l=void 0!==o?N0(N0({},o),i.props):{};return s=i.props&&i.props.payload?i.props&&i.props.payload:"children"===a?(n||[]).reduce(function(e,t){var n=t.item,r=t.props,a=r.sectors||r.data||[];return e.concat(a.map(function(e){return{type:i.props.iconType||n.props.legendType,value:e.name,color:e.fill,payload:e}}))},[]):(n||[]).map(function(e){var t=e.item,n=t.type.defaultProps,r=void 0!==n?N0(N0({},n),t.props):{},a=r.dataKey,i=r.name,s=r.legendType;return{inactive:r.hide,dataKey:a,type:l.iconType||s||"square",color:P0(t),value:i||a,payload:r}}),N0(N0(N0({},l),Nq.getWithHeight(i,r)),{},{payload:s,item:i})};function S0(e){return(S0="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C0(e){return function(e){if(Array.isArray(e))return _0(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return _0(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_0(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _0(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function A0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function T0(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A0(Object(n),!0).forEach(function(t){O0(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A0(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function O0(e,t,n){return t=function(e){var t=function(e,t){if("object"!=S0(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=S0(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==S0(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E0(e,t,n){return bH(e)||bH(t)?n:HH(t)?fH(e,t,n):jH(t)?t(e):n}function M0(e,t,n,r){var a=cZ(e,function(e){return E0(e,t)});if("number"===n){var i=a.filter(function(e){return FH(e)||parseFloat(e)});return i.length?[aZ(i),QQ(i)]:[1/0,-1/0]}return(r?a.filter(function(e){return!bH(e)}):a).map(function(e){return HH(e)||e instanceof Date?e:""})}var P0=function(e){var t,n,r=e.type.displayName,a=null!==(t=e.type)&&void 0!==t&&t.defaultProps?T0(T0({},e.type.defaultProps),e.props):e.props,i=a.stroke,s=a.fill;switch(r){case"Line":n=i;break;case"Area":case"Radar":n=i&&"none"!==i?i:s;break;default:n=s}return n},D0=function(e,t,n,r,a){var i=dz(t.props.children,v0).filter(function(e){return function(e,t,n){return!!bH(t)||("horizontal"===e?"yAxis"===t:"vertical"===e||"x"===n?"xAxis"===t:"y"!==n||"yAxis"===t)}(r,a,e.props.direction)});if(i&&i.length){var s=i.map(function(e){return e.props.dataKey});return e.reduce(function(e,t){var r=E0(t,n);if(bH(r))return e;var a=Array.isArray(r)?[aZ(r),QQ(r)]:[r,r],i=s.reduce(function(e,n){var r=E0(t,n,0),i=a[0]-Math.abs(Array.isArray(r)?r[0]:r),s=a[1]+Math.abs(Array.isArray(r)?r[1]:r);return[Math.min(i,e[0]),Math.max(s,e[1])]},[1/0,-1/0]);return[Math.min(i[0],e[0]),Math.max(i[1],e[1])]},[1/0,-1/0])}return null},L0=function(e,t,n,r,a){var i=t.map(function(t){var i=t.props.dataKey;return"number"===n&&i&&D0(e,t,i,r)||M0(e,i,n,a)});if("number"===n)return i.reduce(function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]},[1/0,-1/0]);var s={};return i.reduce(function(e,t){for(var n=0,r=t.length;n<r;n++)s[t[n]]||(s[t[n]]=!0,e.push(t[n]));return e},[])},I0=function(e,t){return"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t||"centric"===e&&"angleAxis"===t||"radial"===e&&"radiusAxis"===t},R0=function(e,t,n,r){if(r)return e.map(function(e){return e.coordinate});var a,i,s=e.map(function(e){return e.coordinate===t&&(a=!0),e.coordinate===n&&(i=!0),e.coordinate});return a||s.push(t),i||s.push(n),s},F0=function(e,t,n){if(!e)return null;var r=e.scale,a=e.duplicateDomain,i=e.type,s=e.range,o="scaleBand"===e.realScaleType?r.bandwidth()/2:2,l=(t||n)&&"category"===i&&r.bandwidth?r.bandwidth()/o:0;return l="angleAxis"===e.axisType&&(null==s?void 0:s.length)>=2?2*IH(s[0]-s[1])*l:l,t&&(e.ticks||e.niceTicks)?(e.ticks||e.niceTicks).map(function(e){var t=a?a.indexOf(e):e;return{coordinate:r(t)+l,value:e,offset:l}}).filter(function(e){return!DH(e.coordinate)}):e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(e,t){return{coordinate:r(e)+l,value:e,index:t,offset:l}}):r.ticks&&!n?r.ticks(e.tickCount).map(function(e){return{coordinate:r(e)+l,value:e,offset:l}}):r.domain().map(function(e,t){return{coordinate:r(e)+l,value:a?a[e]:e,index:t,offset:l}})},H0=new WeakMap,z0=function(e,t){if("function"!=typeof t)return e;H0.has(e)||H0.set(e,new WeakMap);var n=H0.get(e);if(n.has(t))return n.get(t);var r=function(){e.apply(void 0,arguments),t.apply(void 0,arguments)};return n.set(t,r),r},B0=function(e,t,n){var r=e.scale,a=e.type,i=e.layout,s=e.axisType;if("auto"===r)return"radial"===i&&"radiusAxis"===s?{scale:FY(),realScaleType:"band"}:"radial"===i&&"angleAxis"===s?{scale:iJ(),realScaleType:"linear"}:"category"===a&&t&&(t.indexOf("LineChart")>=0||t.indexOf("AreaChart")>=0||t.indexOf("ComposedChart")>=0&&!n)?{scale:zY(),realScaleType:"point"}:"category"===a?{scale:FY(),realScaleType:"band"}:{scale:iJ(),realScaleType:"linear"};if(wH(r)){var o="scale".concat($z(r));return{scale:($Q[o]||zY)(),realScaleType:$Q[o]?o:"point"}}return jH(r)?{scale:r}:{scale:zY(),realScaleType:"point"}},W0=1e-4,$0=function(e){var t=e.domain();if(t&&!(t.length<=2)){var n=t.length,r=e.range(),a=Math.min(r[0],r[1])-W0,i=Math.max(r[0],r[1])+W0,s=e(t[0]),o=e(t[n-1]);(s<a||s>i||o<a||o>i)&&e.domain([t[0],t[n-1]])}},U0={sign:function(e){var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var a=0,i=0,s=0;s<t;++s){var o=DH(e[s][n][1])?e[s][n][0]:e[s][n][1];o>=0?(e[s][n][0]=a,e[s][n][1]=a+o,a=e[s][n][1]):(e[s][n][0]=i,e[s][n][1]=i+o,i=e[s][n][1])}},expand:function(e,t){if((r=e.length)>0){for(var n,r,a,i=0,s=e[0].length;i<s;++i){for(a=n=0;n<r;++n)a+=e[n][i][1]||0;if(a)for(n=0;n<r;++n)e[n][i][1]/=a}UB(e,t)}},none:UB,silhouette:function(e,t){if((n=e.length)>0){for(var n,r=0,a=e[t[0]],i=a.length;r<i;++r){for(var s=0,o=0;s<n;++s)o+=e[s][r][1]||0;a[r][1]+=a[r][0]=-o/2}UB(e,t)}},wiggle:function(e,t){if((a=e.length)>0&&(r=(n=e[t[0]]).length)>0){for(var n,r,a,i=0,s=1;s<r;++s){for(var o=0,l=0,c=0;o<a;++o){for(var d=e[t[o]],u=d[s][1]||0,h=(u-(d[s-1][1]||0))/2,p=0;p<o;++p){var m=e[t[p]];h+=(m[s][1]||0)-(m[s-1][1]||0)}l+=u,c+=h*u}n[s-1][1]+=n[s-1][0]=i,l&&(i-=c/l)}n[s-1][1]+=n[s-1][0]=i,UB(e,t)}},positive:function(e){var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var a=0,i=0;i<t;++i){var s=DH(e[i][n][1])?e[i][n][0]:e[i][n][1];s>=0?(e[i][n][0]=a,e[i][n][1]=a+s,a=e[i][n][1]):(e[i][n][0]=0,e[i][n][1]=0)}}},V0=function(e,t,n){var r=t.map(function(e){return e.props.dataKey}),a=U0[n],i=function(){var e=Uz([]),t=VB,n=UB,r=qB;function a(a){var i,s,o=Array.from(e.apply(this,arguments),GB),l=o.length,c=-1;for(const e of a)for(i=0,++c;i<l;++i)(o[i][c]=[0,+r(e,o[i].key,c,a)]).data=e;for(i=0,s=rB(t(o));i<l;++i)o[s[i]].index=i;return n(o,s),o}return a.keys=function(t){return arguments.length?(e="function"==typeof t?t:Uz(Array.from(t)),a):e},a.value=function(e){return arguments.length?(r="function"==typeof e?e:Uz(+e),a):r},a.order=function(e){return arguments.length?(t=null==e?VB:"function"==typeof e?e:Uz(Array.from(e)),a):t},a.offset=function(e){return arguments.length?(n=null==e?UB:e,a):n},a}().keys(r).value(function(e,t){return+E0(e,t,0)}).order(VB).offset(a);return i(e)},q0=function(e,t){var n=t.realScaleType,r=t.type,a=t.tickCount,i=t.originalDomain,s=t.allowDecimals,o=n||t.scale;if("auto"!==o&&"linear"!==o)return null;if(a&&"number"===r&&i&&("auto"===i[0]||"auto"===i[1])){var l=e.domain();if(!l.length)return null;var c=l0(l,a,s);return e.domain([aZ(c),QQ(c)]),{niceTicks:c}}if(a&&"number"===r){var d=e.domain();return{niceTicks:c0(d,a,s)}}return null};function G0(e){var t=e.axis,n=e.ticks,r=e.bandSize,a=e.entry,i=e.index,s=e.dataKey;if("category"===t.type){if(!t.allowDuplicatedCategory&&t.dataKey&&!bH(a[t.dataKey])){var o=VH(n,"value",a[t.dataKey]);if(o)return o.coordinate+r/2}return n[i]?n[i].coordinate+r/2:null}var l=E0(a,bH(s)?t.dataKey:s);return bH(l)?null:t.scale(l)}var Y0=function(e){var t=e.axis,n=e.ticks,r=e.offset,a=e.bandSize,i=e.entry,s=e.index;if("category"===t.type)return n[s]?n[s].coordinate+r:null;var o=E0(i,t.dataKey,t.domain[s]);return bH(o)?null:t.scale(o)-a/2+r},K0=function(e,t,n){return Object.keys(e).reduce(function(r,a){var i=e[a].stackedData.reduce(function(e,r){var a=r.slice(t,n+1).reduce(function(e,t){return[aZ(t.concat([e[0]]).filter(FH)),QQ(t.concat([e[1]]).filter(FH))]},[1/0,-1/0]);return[Math.min(e[0],a[0]),Math.max(e[1],a[1])]},[1/0,-1/0]);return[Math.min(i[0],r[0]),Math.max(i[1],r[1])]},[1/0,-1/0]).map(function(e){return e===1/0||e===-1/0?0:e})},J0=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,X0=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Q0=function(e,t,n){if(jH(e))return e(t,n);if(!Array.isArray(e))return t;var r=[];if(FH(e[0]))r[0]=n?e[0]:Math.min(e[0],t[0]);else if(J0.test(e[0])){var a=+J0.exec(e[0])[1];r[0]=t[0]-a}else jH(e[0])?r[0]=e[0](t[0]):r[0]=t[0];if(FH(e[1]))r[1]=n?e[1]:Math.max(e[1],t[1]);else if(X0.test(e[1])){var i=+X0.exec(e[1])[1];r[1]=t[1]+i}else jH(e[1])?r[1]=e[1](t[1]):r[1]=t[1];return r},Z0=function(e,t,n){if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var a=Mq(t,function(e){return e.coordinate}),i=1/0,s=1,o=a.length;s<o;s++){var l=a[s],c=a[s-1];i=Math.min((l.coordinate||0)-(c.coordinate||0),i)}return i===1/0?0:i}return n?void 0:0},e1=function(e,t,n){return e&&e.length?hZ(e,fH(n,"type.defaultProps.domain"))?t:e:t},t1=function(e,t){var n=e.type.defaultProps?T0(T0({},e.type.defaultProps),e.props):e.props,r=n.dataKey,a=n.name,i=n.unit,s=n.formatter,o=n.tooltipType,l=n.chartType,c=n.hide;return T0(T0({},fz(e,!1)),{},{dataKey:r,unit:i,formatter:s,name:a||r,color:P0(e),value:E0(t,r),type:o,payload:t,chartType:l,hide:c})};function n1(e){return(n1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a1(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r1(Object(n),!0).forEach(function(t){i1(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r1(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function i1(e,t,n){return t=function(e){var t=function(e,t){if("object"!=n1(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=n1(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==n1(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s1(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var o1=Math.PI/180,l1=function(e){return 180*e/Math.PI},c1=function(e,t,n,r){return{x:e+Math.cos(-o1*r)*n,y:t+Math.sin(-o1*r)*n}},d1=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(t-(n.top||0)-(n.bottom||0)))/2},u1=function(e,t){var n=t.startAngle,r=t.endAngle,a=Math.floor(n/360),i=Math.floor(r/360);return e+360*Math.min(a,i)},h1=function(e,t){var n=function(e,t){var n=e.x,r=e.y,a=t.cx,i=t.cy,s=function(e,t){var n=e.x,r=e.y,a=t.x,i=t.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(r-i,2))}({x:n,y:r},{x:a,y:i});if(s<=0)return{radius:s};var o=(n-a)/s,l=Math.acos(o);return r>i&&(l=2*Math.PI-l),{radius:s,angle:l1(l),angleInRadian:l}}({x:e.x,y:e.y},t),r=n.radius,a=n.angle,i=t.innerRadius,s=t.outerRadius;if(r<i||r>s)return!1;if(0===r)return!0;var o,l=function(e){var t=e.startAngle,n=e.endAngle,r=Math.floor(t/360),a=Math.floor(n/360),i=Math.min(r,a);return{startAngle:t-360*i,endAngle:n-360*i}}(t),c=l.startAngle,d=l.endAngle,u=a;if(c<=d){for(;u>d;)u-=360;for(;u<c;)u+=360;o=u>=c&&u<=d}else{for(;u>c;)u-=360;for(;u<d;)u+=360;o=u>=d&&u<=c}return o?a1(a1({},t),{},{radius:r,angle:u1(u,t)}):null},p1=function(e){return x.isValidElement(e)||jH(e)||"boolean"==typeof e?"":e.className};function m1(e){return(m1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var f1=["offset"];function g1(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function x1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function b1(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x1(Object(n),!0).forEach(function(t){var r,a,i;r=e,a=t,i=n[t],a=function(e){var t=function(e,t){if("object"!=m1(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=m1(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==m1(t)?t:t+""}(a),a in r?Object.defineProperty(r,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[a]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x1(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function y1(){return y1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},y1.apply(this,arguments)}function v1(e){var t,n=e.offset,r=b1({offset:void 0===n?5:n},function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,f1)),a=r.viewBox,i=r.position,s=r.value,o=r.children,l=r.content,c=r.className,d=void 0===c?"":c,u=r.textBreakAll;if(!a||bH(s)&&bH(o)&&!x.isValidElement(l)&&!jH(l))return null;if(x.isValidElement(l))return x.cloneElement(l,r);if(jH(l)){if(t=x.createElement(l,r),x.isValidElement(t))return t}else t=function(e){var t=e.value,n=e.formatter,r=bH(e.children)?t:e.children;return jH(n)?n(r):r}(r);var h=function(e){return"cx"in e&&FH(e.cx)}(a),p=fz(r,!0);if(h&&("insideStart"===i||"insideEnd"===i||"end"===i))return function(e,t,n){var r,a,i=e.position,s=e.viewBox,o=e.offset,l=e.className,c=s,d=c.cx,u=c.cy,h=c.innerRadius,p=c.outerRadius,m=c.startAngle,f=c.endAngle,g=c.clockWise,x=(h+p)/2,y=function(e,t){return IH(t-e)*Math.min(Math.abs(t-e),360)}(m,f),v=y>=0?1:-1;"insideStart"===i?(r=m+v*o,a=g):"insideEnd"===i?(r=f-v*o,a=!g):"end"===i&&(r=f+v*o,a=g),a=y<=0?a:!a;var w=c1(d,u,x,r),j=c1(d,u,x,r+359*(a?1:-1)),N="M".concat(w.x,",").concat(w.y,"\n    A").concat(x,",").concat(x,",0,1,").concat(a?0:1,",\n    ").concat(j.x,",").concat(j.y),k=bH(e.id)?BH("recharts-radial-line-"):e.id;return b.createElement("text",y1({},n,{dominantBaseline:"central",className:Zu("recharts-radial-bar-label",l)}),b.createElement("defs",null,b.createElement("path",{id:k,d:N})),b.createElement("textPath",{xlinkHref:"#".concat(k)},t))}(r,t,p);var m=h?function(e){var t=e.viewBox,n=e.offset,r=e.position,a=t,i=a.cx,s=a.cy,o=a.innerRadius,l=a.outerRadius,c=(a.startAngle+a.endAngle)/2;if("outside"===r){var d=c1(i,s,l+n,c),u=d.x;return{x:u,y:d.y,textAnchor:u>=i?"start":"end",verticalAnchor:"middle"}}if("center"===r)return{x:i,y:s,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===r)return{x:i,y:s,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===r)return{x:i,y:s,textAnchor:"middle",verticalAnchor:"end"};var h=c1(i,s,(o+l)/2,c);return{x:h.x,y:h.y,textAnchor:"middle",verticalAnchor:"middle"}}(r):function(e){var t=e.viewBox,n=e.parentViewBox,r=e.offset,a=e.position,i=t,s=i.x,o=i.y,l=i.width,c=i.height,d=c>=0?1:-1,u=d*r,h=d>0?"end":"start",p=d>0?"start":"end",m=l>=0?1:-1,f=m*r,g=m>0?"end":"start",x=m>0?"start":"end";if("top"===a)return b1(b1({},{x:s+l/2,y:o-d*r,textAnchor:"middle",verticalAnchor:h}),n?{height:Math.max(o-n.y,0),width:l}:{});if("bottom"===a)return b1(b1({},{x:s+l/2,y:o+c+u,textAnchor:"middle",verticalAnchor:p}),n?{height:Math.max(n.y+n.height-(o+c),0),width:l}:{});if("left"===a){var b={x:s-f,y:o+c/2,textAnchor:g,verticalAnchor:"middle"};return b1(b1({},b),n?{width:Math.max(b.x-n.x,0),height:c}:{})}if("right"===a){var y={x:s+l+f,y:o+c/2,textAnchor:x,verticalAnchor:"middle"};return b1(b1({},y),n?{width:Math.max(n.x+n.width-y.x,0),height:c}:{})}var v=n?{width:l,height:c}:{};return"insideLeft"===a?b1({x:s+f,y:o+c/2,textAnchor:x,verticalAnchor:"middle"},v):"insideRight"===a?b1({x:s+l-f,y:o+c/2,textAnchor:g,verticalAnchor:"middle"},v):"insideTop"===a?b1({x:s+l/2,y:o+u,textAnchor:"middle",verticalAnchor:p},v):"insideBottom"===a?b1({x:s+l/2,y:o+c-u,textAnchor:"middle",verticalAnchor:h},v):"insideTopLeft"===a?b1({x:s+f,y:o+u,textAnchor:x,verticalAnchor:p},v):"insideTopRight"===a?b1({x:s+l-f,y:o+u,textAnchor:g,verticalAnchor:p},v):"insideBottomLeft"===a?b1({x:s+f,y:o+c-u,textAnchor:x,verticalAnchor:h},v):"insideBottomRight"===a?b1({x:s+l-f,y:o+c-u,textAnchor:g,verticalAnchor:h},v):NH(a)&&(FH(a.x)||RH(a.x))&&(FH(a.y)||RH(a.y))?b1({x:s+WH(a.x,l),y:o+WH(a.y,c),textAnchor:"end",verticalAnchor:"end"},v):b1({x:s+l/2,y:o+c/2,textAnchor:"middle",verticalAnchor:"middle"},v)}(r);return b.createElement(uY,y1({className:Zu("recharts-label",d)},p,m,{breakAll:u}),t)}v1.displayName="Label";var w1,j1,N1=function(e){var t=e.cx,n=e.cy,r=e.angle,a=e.startAngle,i=e.endAngle,s=e.r,o=e.radius,l=e.innerRadius,c=e.outerRadius,d=e.x,u=e.y,h=e.top,p=e.left,m=e.width,f=e.height,g=e.clockWise,x=e.labelViewBox;if(x)return x;if(FH(m)&&FH(f)){if(FH(d)&&FH(u))return{x:d,y:u,width:m,height:f};if(FH(h)&&FH(p))return{x:h,y:p,width:m,height:f}}return FH(d)&&FH(u)?{x:d,y:u,width:0,height:0}:FH(t)&&FH(n)?{cx:t,cy:n,startAngle:a||r||0,endAngle:i||r||0,innerRadius:l||0,outerRadius:c||o||s||0,clockWise:g}:e.viewBox?e.viewBox:{}};v1.parseViewBox=N1,v1.renderCallByParent=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&n&&!e.label)return null;var r=e.children,a=N1(e),i=dz(r,v1).map(function(e,n){return x.cloneElement(e,{viewBox:t||a,key:"label-".concat(n)})});if(!n)return i;var s,o=function(e,t){return e?!0===e?b.createElement(v1,{key:"label-implicit",viewBox:t}):HH(e)?b.createElement(v1,{key:"label-implicit",viewBox:t,value:e}):x.isValidElement(e)?e.type===v1?x.cloneElement(e,{key:"label-implicit",viewBox:t}):b.createElement(v1,{key:"label-implicit",content:e,viewBox:t}):jH(e)?b.createElement(v1,{key:"label-implicit",content:e,viewBox:t}):NH(e)?b.createElement(v1,y1({viewBox:t},e,{key:"label-implicit"})):null:null}(e.label,t||a);return[o].concat(function(e){if(Array.isArray(e))return g1(e)}(s=i)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(s)||function(e,t){if(e){if("string"==typeof e)return g1(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g1(e,t):void 0}}(s)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())};const k1=i(j1?w1:(j1=1,w1=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}));function S1(e){return(S1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var C1=["valueAccessor"],_1=["data","dataKey","clockWise","id","textBreakAll"];function A1(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function T1(){return T1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},T1.apply(this,arguments)}function O1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function E1(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O1(Object(n),!0).forEach(function(t){var r,a,i;r=e,a=t,i=n[t],a=function(e){var t=function(e,t){if("object"!=S1(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=S1(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==S1(t)?t:t+""}(a),a in r?Object.defineProperty(r,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[a]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O1(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function M1(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var P1=function(e){return Array.isArray(e.value)?k1(e.value):e.value};function D1(e){var t=e.valueAccessor,n=void 0===t?P1:t,r=M1(e,C1),a=r.data,i=r.dataKey,s=r.clockWise,o=r.id,l=r.textBreakAll,c=M1(r,_1);return a&&a.length?b.createElement(zz,{className:"recharts-label-list"},a.map(function(e,t){var r=bH(i)?n(e,t):E0(e&&e.payload,i),a=bH(o)?{}:{id:"".concat(o,"-").concat(t)};return b.createElement(v1,T1({},fz(e,!0),c,a,{parentViewBox:e.parentViewBox,value:r,textBreakAll:l,viewBox:v1.parseViewBox(bH(s)?e:E1(E1({},e),{},{clockWise:s})),key:"label-".concat(t),index:t}))})):null}function L1(e){return(L1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I1(){return I1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},I1.apply(this,arguments)}function R1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function F1(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R1(Object(n),!0).forEach(function(t){var r,a,i;r=e,a=t,i=n[t],a=function(e){var t=function(e,t){if("object"!=L1(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=L1(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==L1(t)?t:t+""}(a),a in r?Object.defineProperty(r,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[a]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R1(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}D1.displayName="LabelList",D1.renderCallByParent=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&n&&!e.label)return null;var r,a=dz(e.children,D1).map(function(e,n){return x.cloneElement(e,{data:t,key:"labelList-".concat(n)})});return n?[function(e,t){return e?!0===e?b.createElement(D1,{key:"labelList-implicit",data:t}):b.isValidElement(e)||jH(e)?b.createElement(D1,{key:"labelList-implicit",data:t,content:e}):NH(e)?b.createElement(D1,T1({data:t},e,{key:"labelList-implicit"})):null:null}(e.label,t)].concat(function(e){if(Array.isArray(e))return A1(e)}(r=a)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||function(e,t){if(e){if("string"==typeof e)return A1(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?A1(e,t):void 0}}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()):a};var H1=function(e){var t=e.cx,n=e.cy,r=e.radius,a=e.angle,i=e.sign,s=e.isExternal,o=e.cornerRadius,l=e.cornerIsExternal,c=o*(s?1:-1)+r,d=Math.asin(o/c)/o1,u=l?a:a+i*d,h=l?a-i*d:a;return{center:c1(t,n,c,u),circleTangency:c1(t,n,r,u),lineTangency:c1(t,n,c*Math.cos(d*o1),h),theta:d}},z1=function(e){var t=e.cx,n=e.cy,r=e.innerRadius,a=e.outerRadius,i=e.startAngle,s=function(e,t){return IH(t-e)*Math.min(Math.abs(t-e),359.999)}(i,e.endAngle),o=i+s,l=c1(t,n,a,i),c=c1(t,n,a,o),d="M ".concat(l.x,",").concat(l.y,"\n    A ").concat(a,",").concat(a,",0,\n    ").concat(+(Math.abs(s)>180),",").concat(+(i>o),",\n    ").concat(c.x,",").concat(c.y,"\n  ");if(r>0){var u=c1(t,n,r,i),h=c1(t,n,r,o);d+="L ".concat(h.x,",").concat(h.y,"\n            A ").concat(r,",").concat(r,",0,\n            ").concat(+(Math.abs(s)>180),",").concat(+(i<=o),",\n            ").concat(u.x,",").concat(u.y," Z")}else d+="L ".concat(t,",").concat(n," Z");return d},B1={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},W1=function(e){var t=F1(F1({},B1),e),n=t.cx,r=t.cy,a=t.innerRadius,i=t.outerRadius,s=t.cornerRadius,o=t.forceCornerRadius,l=t.cornerIsExternal,c=t.startAngle,d=t.endAngle,u=t.className;if(i<a||c===d)return null;var h,p=Zu("recharts-sector",u),m=i-a,f=WH(s,m,0,!0);return h=f>0&&Math.abs(c-d)<360?function(e){var t=e.cx,n=e.cy,r=e.innerRadius,a=e.outerRadius,i=e.cornerRadius,s=e.forceCornerRadius,o=e.cornerIsExternal,l=e.startAngle,c=e.endAngle,d=IH(c-l),u=H1({cx:t,cy:n,radius:a,angle:l,sign:d,cornerRadius:i,cornerIsExternal:o}),h=u.circleTangency,p=u.lineTangency,m=u.theta,f=H1({cx:t,cy:n,radius:a,angle:c,sign:-d,cornerRadius:i,cornerIsExternal:o}),g=f.circleTangency,x=f.lineTangency,b=f.theta,y=o?Math.abs(l-c):Math.abs(l-c)-m-b;if(y<0)return s?"M ".concat(p.x,",").concat(p.y,"\n        a").concat(i,",").concat(i,",0,0,1,").concat(2*i,",0\n        a").concat(i,",").concat(i,",0,0,1,").concat(2*-i,",0\n      "):z1({cx:t,cy:n,innerRadius:r,outerRadius:a,startAngle:l,endAngle:c});var v="M ".concat(p.x,",").concat(p.y,"\n    A").concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(h.x,",").concat(h.y,"\n    A").concat(a,",").concat(a,",0,").concat(+(y>180),",").concat(+(d<0),",").concat(g.x,",").concat(g.y,"\n    A").concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(x.x,",").concat(x.y,"\n  ");if(r>0){var w=H1({cx:t,cy:n,radius:r,angle:l,sign:d,isExternal:!0,cornerRadius:i,cornerIsExternal:o}),j=w.circleTangency,N=w.lineTangency,k=w.theta,S=H1({cx:t,cy:n,radius:r,angle:c,sign:-d,isExternal:!0,cornerRadius:i,cornerIsExternal:o}),C=S.circleTangency,_=S.lineTangency,A=S.theta,T=o?Math.abs(l-c):Math.abs(l-c)-k-A;if(T<0&&0===i)return"".concat(v,"L").concat(t,",").concat(n,"Z");v+="L".concat(_.x,",").concat(_.y,"\n      A").concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(C.x,",").concat(C.y,"\n      A").concat(r,",").concat(r,",0,").concat(+(T>180),",").concat(+(d>0),",").concat(j.x,",").concat(j.y,"\n      A").concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(N.x,",").concat(N.y,"Z")}else v+="L".concat(t,",").concat(n,"Z");return v}({cx:n,cy:r,innerRadius:a,outerRadius:i,cornerRadius:Math.min(f,m/2),forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:d}):z1({cx:n,cy:r,innerRadius:a,outerRadius:i,startAngle:c,endAngle:d}),b.createElement("path",I1({},fz(t,!0),{className:p,d:h,role:"img"}))};function $1(e){return($1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function U1(){return U1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},U1.apply(this,arguments)}function V1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function q1(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V1(Object(n),!0).forEach(function(t){var r,a,i;r=e,a=t,i=n[t],a=function(e){var t=function(e,t){if("object"!=$1(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=$1(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==$1(t)?t:t+""}(a),a in r?Object.defineProperty(r,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[a]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V1(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var G1,Y1,K1,J1,X1,Q1={curveBasisClosed:function(e){return new EB(e)},curveBasisOpen:function(e){return new MB(e)},curveBasis:function(e){return new OB(e)},curveBumpX:function(e){return new dB(e,!0)},curveBumpY:function(e){return new dB(e,!1)},curveLinearClosed:function(e){return new PB(e)},curveLinear:iB,curveMonotoneX:function(e){return new FB(e)},curveMonotoneY:function(e){return new HB(e)},curveNatural:function(e){return new BB(e)},curveStep:function(e){return new $B(e,.5)},curveStepAfter:function(e){return new $B(e,1)},curveStepBefore:function(e){return new $B(e,0)}},Z1=function(e){return e.x===+e.x&&e.y===+e.y},e2=function(e){return e.x},t2=function(e){return e.y},n2=function(e){var t=e.className,n=e.points,r=e.path,a=e.pathRef;if(!(n&&n.length||r))return null;var i=n&&n.length?function(e){var t,n=e.type,r=void 0===n?"linear":n,a=e.points,i=void 0===a?[]:a,s=e.baseLine,o=e.layout,l=e.connectNulls,c=void 0!==l&&l,d=function(e,t){if(jH(e))return e;var n="curve".concat($z(e));return"curveMonotone"!==n&&"curveBump"!==n||!t?Q1[n]||iB:Q1["".concat(n).concat("vertical"===t?"Y":"X")]}(r,o),u=c?i.filter(function(e){return Z1(e)}):i;if(Array.isArray(s)){var h=c?s.filter(function(e){return Z1(e)}):s,p=u.map(function(e,t){return q1(q1({},e),{},{base:h[t]})});return(t="vertical"===o?cB().y(t2).x1(e2).x0(function(e){return e.base.x}):cB().x(e2).y1(t2).y0(function(e){return e.base.y})).defined(Z1).curve(d),t(p)}return(t="vertical"===o&&FH(s)?cB().y(t2).x1(e2).x0(s):FH(s)?cB().x(e2).y1(t2).y0(s):lB().x(e2).y(t2)).defined(Z1).curve(d),t(u)}(e):r;return x.createElement("path",U1({},fz(e,!1),ZH(e),{className:Zu("recharts-curve",t),d:i,ref:a}))},r2={exports:{}};function a2(){return Y1?G1:(Y1=1,G1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}function i2(){if(J1)return K1;J1=1;var e=a2();function t(){}function n(){}return n.resetWarningCache=t,K1=function(){function r(t,n,r,a,i,s){if(s!==e){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function a(){return r}r.isRequired=r;var i={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:a,element:r,elementType:r,instanceOf:a,node:r,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:n,resetWarningCache:t};return i.PropTypes=i,i}}function s2(){return X1||(X1=1,r2.exports=i2()()),r2.exports}const o2=i(s2());var l2=Object.getOwnPropertyNames,c2=Object.getOwnPropertySymbols,d2=Object.prototype.hasOwnProperty;function u2(e,t){return function(n,r,a){return e(n,r,a)&&t(n,r,a)}}function h2(e){return function(t,n,r){if(!t||!n||"object"!=typeof t||"object"!=typeof n)return e(t,n,r);var a=r.cache,i=a.get(t),s=a.get(n);if(i&&s)return i===n&&s===t;a.set(t,n),a.set(n,t);var o=e(t,n,r);return a.delete(t),a.delete(n),o}}function p2(e){return l2(e).concat(c2(e))}var m2=Object.hasOwn||function(e,t){return d2.call(e,t)};function f2(e,t){return e===t||!e&&!t&&e!=e&&t!=t}var g2=Object.getOwnPropertyDescriptor,x2=Object.keys;function b2(e,t,n){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function y2(e,t){return f2(e.getTime(),t.getTime())}function v2(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function w2(e,t){return e===t}function j2(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var a,i,s=new Array(r),o=e.entries(),l=0;(a=o.next())&&!a.done;){for(var c=t.entries(),d=!1,u=0;(i=c.next())&&!i.done;)if(s[u])u++;else{var h=a.value,p=i.value;if(n.equals(h[0],p[0],l,u,e,t,n)&&n.equals(h[1],p[1],h[0],p[0],e,t,n)){d=s[u]=!0;break}u++}if(!d)return!1;l++}return!0}var N2=f2;function k2(e,t,n){var r=x2(e),a=r.length;if(x2(t).length!==a)return!1;for(;a-- >0;)if(!E2(e,t,n,r[a]))return!1;return!0}function S2(e,t,n){var r,a,i,s=p2(e),o=s.length;if(p2(t).length!==o)return!1;for(;o-- >0;){if(!E2(e,t,n,r=s[o]))return!1;if(a=g2(e,r),i=g2(t,r),(a||i)&&(!a||!i||a.configurable!==i.configurable||a.enumerable!==i.enumerable||a.writable!==i.writable))return!1}return!0}function C2(e,t){return f2(e.valueOf(),t.valueOf())}function _2(e,t){return e.source===t.source&&e.flags===t.flags}function A2(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var a,i,s=new Array(r),o=e.values();(a=o.next())&&!a.done;){for(var l=t.values(),c=!1,d=0;(i=l.next())&&!i.done;){if(!s[d]&&n.equals(a.value,i.value,a.value,i.value,e,t,n)){c=s[d]=!0;break}d++}if(!c)return!1}return!0}function T2(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function O2(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function E2(e,t,n,r){return!("_owner"!==r&&"__o"!==r&&"__v"!==r||!e.$$typeof&&!t.$$typeof)||m2(t,r)&&n.equals(e[r],t[r],r,r,e,t,n)}var M2=Array.isArray,P2="function"==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView:null,D2=Object.assign,L2=Object.prototype.toString.call.bind(Object.prototype.toString);var I2=R2();function R2(e){void 0===e&&(e={});var t,n=e.circular,r=void 0!==n&&n,a=e.createInternalComparator,i=e.createState,s=e.strict,o=void 0!==s&&s,l=function(e){var t=e.circular,n=e.createCustomConfig,r=e.strict,a={areArraysEqual:r?S2:b2,areDatesEqual:y2,areErrorsEqual:v2,areFunctionsEqual:w2,areMapsEqual:r?u2(j2,S2):j2,areNumbersEqual:N2,areObjectsEqual:r?S2:k2,arePrimitiveWrappersEqual:C2,areRegExpsEqual:_2,areSetsEqual:r?u2(A2,S2):A2,areTypedArraysEqual:r?S2:T2,areUrlsEqual:O2,unknownTagComparators:void 0};if(n&&(a=D2({},a,n(a))),t){var i=h2(a.areArraysEqual),s=h2(a.areMapsEqual),o=h2(a.areObjectsEqual),l=h2(a.areSetsEqual);a=D2({},a,{areArraysEqual:i,areMapsEqual:s,areObjectsEqual:o,areSetsEqual:l})}return a}(e),c=function(e){var t=e.areArraysEqual,n=e.areDatesEqual,r=e.areErrorsEqual,a=e.areFunctionsEqual,i=e.areMapsEqual,s=e.areNumbersEqual,o=e.areObjectsEqual,l=e.arePrimitiveWrappersEqual,c=e.areRegExpsEqual,d=e.areSetsEqual,u=e.areTypedArraysEqual,h=e.areUrlsEqual,p=e.unknownTagComparators;return function(e,m,f){if(e===m)return!0;if(null==e||null==m)return!1;var g=typeof e;if(g!==typeof m)return!1;if("object"!==g)return"number"===g?s(e,m,f):"function"===g&&a(e,m,f);var x=e.constructor;if(x!==m.constructor)return!1;if(x===Object)return o(e,m,f);if(M2(e))return t(e,m,f);if(null!=P2&&P2(e))return u(e,m,f);if(x===Date)return n(e,m,f);if(x===RegExp)return c(e,m,f);if(x===Map)return i(e,m,f);if(x===Set)return d(e,m,f);var b,y=L2(e);if("[object Date]"===y)return n(e,m,f);if("[object RegExp]"===y)return c(e,m,f);if("[object Map]"===y)return i(e,m,f);if("[object Set]"===y)return d(e,m,f);if("[object Object]"===y)return"function"!=typeof e.then&&"function"!=typeof m.then&&o(e,m,f);if("[object URL]"===y)return h(e,m,f);if("[object Error]"===y)return r(e,m,f);if("[object Arguments]"===y)return o(e,m,f);if("[object Boolean]"===y||"[object Number]"===y||"[object String]"===y)return l(e,m,f);if(p){var v=p[y];if(!v){var w=null!=(b=e)?b[Symbol.toStringTag]:void 0;w&&(v=p[w])}if(v)return v(e,m,f)}return!1}}(l);return function(e){var t=e.circular,n=e.comparator,r=e.createState,a=e.equals,i=e.strict;if(r)return function(e,s){var o=r(),l=o.cache,c=void 0===l?t?new WeakMap:void 0:l,d=o.meta;return n(e,s,{cache:c,equals:a,meta:d,strict:i})};if(t)return function(e,t){return n(e,t,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var s={cache:void 0,equals:a,meta:void 0,strict:i};return function(e,t){return n(e,t,s)}}({circular:r,comparator:c,createState:i,equals:a?a(c):(t=c,function(e,n,r,a,i,s,o){return t(e,n,o)}),strict:o})}function F2(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=-1;requestAnimationFrame(function r(a){n<0&&(n=a),a-n>t?(e(a),n=-1):function(e){"undefined"!=typeof requestAnimationFrame&&requestAnimationFrame(e)}(r)})}function H2(e){return(H2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function z2(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function B2(){var e=function(){return null},t=!1,n=function n(r){if(!t){if(Array.isArray(r)){if(!r.length)return;var a=function(e){if(Array.isArray(e))return e}(o=r)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(o)||function(e,t){if(e){if("string"==typeof e)return z2(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?z2(e,t):void 0}}(o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),i=a[0],s=a.slice(1);return"number"==typeof i?void F2(n.bind(null,s),i):(n(i),void F2(n.bind(null,s)))}"object"===H2(r)&&e(r),"function"==typeof r&&r()}var o};return{stop:function(){t=!0},start:function(e){t=!1,n(e)},subscribe:function(t){return e=t,function(){e=function(){return null}}}}}function W2(e){return(W2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function U2(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$2(Object(n),!0).forEach(function(t){V2(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$2(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function V2(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==W2(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!==W2(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===W2(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}R2({strict:!0}),R2({circular:!0}),R2({circular:!0,strict:!0}),R2({createInternalComparator:function(){return f2}}),R2({strict:!0,createInternalComparator:function(){return f2}}),R2({circular:!0,createInternalComparator:function(){return f2}}),R2({circular:!0,createInternalComparator:function(){return f2},strict:!0});var q2=function(e){return e},G2=function(e,t){return Object.keys(t).reduce(function(n,r){return U2(U2({},n),{},V2({},r,e(r,t[r])))},{})},Y2=function(e,t,n){return e.map(function(e){return"".concat((r=e,r.replace(/([A-Z])/g,function(e){return"-".concat(e.toLowerCase())}))," ").concat(t,"ms ").concat(n);var r}).join(",")};function K2(e,t){if(e){if("string"==typeof e)return J2(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?J2(e,t):void 0}}function J2(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var X2=1e-4,Q2=function(e,t){return[0,3*e,3*t-6*e,3*e-3*t+1]},Z2=function(e,t){return e.map(function(e,n){return e*Math.pow(t,n)}).reduce(function(e,t){return e+t})},e5=function(e,t){return function(n){var r=Q2(e,t);return Z2(r,n)}},t5=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,a,i=t[0],s=t[1],o=t[2],l=t[3];if(1===t.length)switch(t[0]){case"linear":i=0,s=0,o=1,l=1;break;case"ease":i=.25,s=.1,o=.25,l=1;break;case"ease-in":i=.42,s=0,o=1,l=1;break;case"ease-out":i=.42,s=0,o=.58,l=1;break;case"ease-in-out":i=0,s=0,o=.58,l=1;break;default:var c=t[0].split("(");if("cubic-bezier"===c[0]&&4===c[1].split(")")[0].split(",").length){var d=(r=c[1].split(")")[0].split(",").map(function(e){return parseFloat(e)}),a=4,function(e){if(Array.isArray(e))return e}(r)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,s,o=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t);else for(;!(l=(r=i.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(d){c=!0,a=d}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}(r,a)||K2(r,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());i=d[0],s=d[1],o=d[2],l=d[3]}}var u,h,p=e5(i,o),m=e5(s,l),f=(u=i,h=o,function(e){var t=Q2(u,h),n=[].concat(function(e){return function(e){if(Array.isArray(e))return J2(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||K2(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t.map(function(e,t){return e*t}).slice(1)),[0]);return Z2(n,e)}),g=function(e){return e>1?1:e<0?0:e},x=function(e){for(var t=e>1?1:e,n=t,r=0;r<8;++r){var a=p(n)-t,i=f(n);if(Math.abs(a-t)<X2||i<X2)return m(n);n=g(n-a/i)}return m(n)};return x.isStepper=!1,x};function n5(e){return(n5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r5(e){return function(e){if(Array.isArray(e))return l5(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||o5(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function i5(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a5(Object(n),!0).forEach(function(t){s5(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a5(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function s5(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==n5(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!==n5(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===n5(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o5(e,t){if(e){if("string"==typeof e)return l5(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l5(e,t):void 0}}function l5(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var c5=function(e,t,n){return e+(t-e)*n},d5=function(e){return e.from!==e.to},u5=function e(t,n,r){var a=G2(function(e,n){if(d5(n)){var r=(s=t(n.from,n.to,n.velocity),o=2,function(e){if(Array.isArray(e))return e}(s)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,s,o=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t);else for(;!(l=(r=i.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(d){c=!0,a=d}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}(s,o)||o5(s,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=r[0],i=r[1];return i5(i5({},n),{},{from:a,velocity:i})}var s,o;return n},n);return r<1?G2(function(e,t){return d5(t)?i5(i5({},t),{},{velocity:c5(t.velocity,a[e].velocity,r),from:c5(t.from,a[e].from,r)}):t},n):e(t,a,r-1)};function h5(e){return(h5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var p5=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function m5(e){return function(e){if(Array.isArray(e))return f5(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return f5(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f5(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f5(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function x5(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g5(Object(n),!0).forEach(function(t){b5(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g5(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function b5(e,t,n){return(t=y5(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y5(e){var t=function(e,t){if("object"!==h5(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!==h5(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===h5(t)?t:String(t)}function v5(e,t){return(v5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function w5(e,t){if(t&&("object"===h5(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return j5(e)}function j5(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function N5(e){return(N5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var k5=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v5(e,t)}(i,x.PureComponent);var e,t,n,r,a=(e=i,t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Ew){return!1}}(),function(){var n,r=N5(e);if(t){var a=N5(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return w5(this,n)});function i(e,t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);var r=(n=a.call(this,e,t)).props,s=r.isActive,o=r.attributeName,l=r.from,c=r.to,d=r.steps,u=r.children,h=r.duration;if(n.handleStyleChange=n.handleStyleChange.bind(j5(n)),n.changeStyle=n.changeStyle.bind(j5(n)),!s||h<=0)return n.state={style:{}},"function"==typeof u&&(n.state={style:c}),w5(n);if(d&&d.length)n.state={style:d[0].style};else if(l){if("function"==typeof u)return n.state={style:l},w5(n);n.state={style:o?b5({},o,l):l}}else n.state={style:{}};return n}return n=i,r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.isActive,n=e.canBegin;this.mounted=!0,t&&n&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isActive,r=t.canBegin,a=t.attributeName,i=t.shouldReAnimate,s=t.to,o=t.from,l=this.state.style;if(r)if(n){if(!(I2(e.to,s)&&e.canBegin&&e.isActive)){var c=!e.canBegin||!e.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var d=c||i?o:e.to;if(this.state&&l){var u={style:a?b5({},a,d):d};(a&&l[a]!==d||!a&&l!==d)&&this.setState(u)}this.runAnimation(x5(x5({},this.props),{},{from:d,begin:0}))}}else{var h={style:a?b5({},a,s):s};this.state&&l&&(a&&l[a]!==s||!a&&l!==s)&&this.setState(h)}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var e=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}},{key:"handleStyleChange",value:function(e){this.changeStyle(e)}},{key:"changeStyle",value:function(e){this.mounted&&this.setState({style:e})}},{key:"runJSAnimation",value:function(e){var t=this,n=e.from,r=e.to,a=e.duration,i=e.easing,s=e.begin,o=e.onAnimationEnd,l=e.onAnimationStart,c=function(e,t,n,r,a){var i,s,o,l,c=(i=e,s=t,[Object.keys(i),Object.keys(s)].reduce(function(e,t){return e.filter(function(e){return t.includes(e)})})),d=c.reduce(function(n,r){return i5(i5({},n),{},s5({},r,[e[r],t[r]]))},{}),u=c.reduce(function(n,r){return i5(i5({},n),{},s5({},r,{from:e[r],velocity:0,to:t[r]}))},{}),h=-1,p=function(){return null};return p=n.isStepper?function(r){o||(o=r);var i=(r-o)/n.dt;u=u5(n,u,i),a(i5(i5(i5({},e),t),G2(function(e,t){return t.from},u))),o=r,Object.values(u).filter(d5).length&&(h=requestAnimationFrame(p))}:function(i){l||(l=i);var s=(i-l)/r,o=G2(function(e,t){return c5.apply(void 0,r5(t).concat([n(s)]))},d);if(a(i5(i5(i5({},e),t),o)),s<1)h=requestAnimationFrame(p);else{var c=G2(function(e,t){return c5.apply(void 0,r5(t).concat([n(1)]))},d);a(i5(i5(i5({},e),t),c))}},function(){return requestAnimationFrame(p),function(){cancelAnimationFrame(h)}}}(n,r,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0];if("string"==typeof r)switch(r){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return t5(r);case"spring":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.stiff,n=void 0===t?100:t,r=e.damping,a=void 0===r?8:r,i=e.dt,s=void 0===i?17:i,o=function(e,t,r){var i=r+(-(e-t)*n-r*a)*s/1e3,o=r*s/1e3+e;return Math.abs(o-t)<X2&&Math.abs(i)<X2?[t,0]:[o,i]};return o.isStepper=!0,o.dt=s,o}();default:if("cubic-bezier"===r.split("(")[0])return t5(r)}return"function"==typeof r?r:null}(i),a,this.changeStyle);this.manager.start([l,s,function(){t.stopJSAnimation=c()},a,o])}},{key:"runStepAnimation",value:function(e){var t=this,n=e.steps,r=e.begin,a=e.onAnimationStart,i=n[0],s=i.style,o=i.duration,l=void 0===o?0:o;return this.manager.start([a].concat(m5(n.reduce(function(e,r,a){if(0===a)return e;var i=r.duration,s=r.easing,o=void 0===s?"ease":s,l=r.style,c=r.properties,d=r.onAnimationEnd,u=a>0?n[a-1]:r,h=c||Object.keys(l);if("function"==typeof o||"spring"===o)return[].concat(m5(e),[t.runJSAnimation.bind(t,{from:u.style,to:l,duration:i,easing:o}),i]);var p=Y2(h,i,o),m=x5(x5(x5({},u.style),l),{},{transition:p});return[].concat(m5(e),[m,i,d]).filter(q2)},[s,Math.max(l,r)])),[e.onAnimationEnd]))}},{key:"runAnimation",value:function(e){this.manager||(this.manager=B2());var t=e.begin,n=e.duration,r=e.attributeName,a=e.to,i=e.easing,s=e.onAnimationStart,o=e.onAnimationEnd,l=e.steps,c=e.children,d=this.manager;if(this.unSubscribe=d.subscribe(this.handleStyleChange),"function"!=typeof i&&"function"!=typeof c&&"spring"!==i)if(l.length>1)this.runStepAnimation(e);else{var u=r?b5({},r,a):a,h=Y2(Object.keys(u),n,i);d.start([s,t,x5(x5({},u),{},{transition:h}),n,o])}else this.runJSAnimation(e)}},{key:"render",value:function(){var e=this.props,t=e.children;e.begin;var n=e.duration;e.attributeName,e.easing;var r=e.isActive;e.steps,e.from,e.to,e.canBegin,e.onAnimationEnd,e.shouldReAnimate,e.onAnimationReStart;var a=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,p5),i=x.Children.count(t),s=this.state.style;if("function"==typeof t)return t(s);if(!r||0===i||n<=0)return t;var o=function(e){var t=e.props,n=t.style,r=void 0===n?{}:n,i=t.className;return x.cloneElement(e,x5(x5({},a),{},{style:x5(x5({},r),s),className:i}))};return 1===i?o(x.Children.only(t)):b.createElement("div",null,x.Children.map(t,function(e){return o(e)}))}}],r&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,y5(r.key),r)}}(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),i}();function S5(e){return(S5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C5(){return C5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},C5.apply(this,arguments)}function _5(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function A5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function T5(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A5(Object(n),!0).forEach(function(t){var r,a,i;r=e,a=t,i=n[t],a=function(e){var t=function(e,t){if("object"!=S5(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=S5(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==S5(t)?t:t+""}(a),a in r?Object.defineProperty(r,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[a]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A5(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}k5.displayName="Animate",k5.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}},k5.propTypes={from:o2.oneOfType([o2.object,o2.string]),to:o2.oneOfType([o2.object,o2.string]),attributeName:o2.string,duration:o2.number,begin:o2.number,easing:o2.oneOfType([o2.string,o2.func]),steps:o2.arrayOf(o2.shape({duration:o2.number.isRequired,style:o2.object.isRequired,easing:o2.oneOfType([o2.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),o2.func]),properties:o2.arrayOf("string"),onAnimationEnd:o2.func})),children:o2.oneOfType([o2.node,o2.func]),isActive:o2.bool,canBegin:o2.bool,onAnimationEnd:o2.func,shouldReAnimate:o2.bool,onAnimationStart:o2.func,onAnimationReStart:o2.func};var O5=function(e,t,n,r,a){var i,s=Math.min(Math.abs(n)/2,Math.abs(r)/2),o=r>=0?1:-1,l=n>=0?1:-1,c=r>=0&&n>=0||r<0&&n<0?1:0;if(s>0&&a instanceof Array){for(var d=[0,0,0,0],u=0;u<4;u++)d[u]=a[u]>s?s:a[u];i="M".concat(e,",").concat(t+o*d[0]),d[0]>0&&(i+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(e+l*d[0],",").concat(t)),i+="L ".concat(e+n-l*d[1],",").concat(t),d[1]>0&&(i+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,",\n        ").concat(e+n,",").concat(t+o*d[1])),i+="L ".concat(e+n,",").concat(t+r-o*d[2]),d[2]>0&&(i+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,",\n        ").concat(e+n-l*d[2],",").concat(t+r)),i+="L ".concat(e+l*d[3],",").concat(t+r),d[3]>0&&(i+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,",\n        ").concat(e,",").concat(t+r-o*d[3])),i+="Z"}else if(s>0&&a===+a&&a>0){var h=Math.min(s,a);i="M ".concat(e,",").concat(t+o*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+l*h,",").concat(t,"\n            L ").concat(e+n-l*h,",").concat(t,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+n,",").concat(t+o*h,"\n            L ").concat(e+n,",").concat(t+r-o*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+n-l*h,",").concat(t+r,"\n            L ").concat(e+l*h,",").concat(t+r,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e,",").concat(t+r-o*h," Z")}else i="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return i},E5=function(e,t){if(!e||!t)return!1;var n=e.x,r=e.y,a=t.x,i=t.y,s=t.width,o=t.height;if(Math.abs(s)>0&&Math.abs(o)>0){var l=Math.min(a,a+s),c=Math.max(a,a+s),d=Math.min(i,i+o),u=Math.max(i,i+o);return n>=l&&n<=c&&r>=d&&r<=u}return!1},M5={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},P5=function(e){var t,n,r=T5(T5({},M5),e),a=x.useRef(),i=(t=x.useState(-1),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,s,o=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t);else for(;!(l=(r=i.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(d){c=!0,a=d}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}(t,n)||function(e,t){if(e){if("string"==typeof e)return _5(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_5(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=i[0],o=i[1];x.useEffect(function(){if(a.current&&a.current.getTotalLength)try{var e=a.current.getTotalLength();e&&o(e)}catch(t){}},[]);var l=r.x,c=r.y,d=r.width,u=r.height,h=r.radius,p=r.className,m=r.animationEasing,f=r.animationDuration,g=r.animationBegin,y=r.isAnimationActive,v=r.isUpdateAnimationActive;if(l!==+l||c!==+c||d!==+d||u!==+u||0===d||0===u)return null;var w=Zu("recharts-rectangle",p);return v?b.createElement(k5,{canBegin:s>0,from:{width:d,height:u,x:l,y:c},to:{width:d,height:u,x:l,y:c},duration:f,animationEasing:m,isActive:v},function(e){var t=e.width,n=e.height,i=e.x,o=e.y;return b.createElement(k5,{canBegin:s>0,from:"0px ".concat(-1===s?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:f,isActive:y,easing:m},b.createElement("path",C5({},fz(r,!0),{className:w,d:O5(i,o,t,n,h),ref:a})))}):b.createElement("path",C5({},fz(r,!0),{className:w,d:O5(l,c,d,u,h)}))},D5=["points","className","baseLinePoints","connectNulls"];function L5(){return L5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},L5.apply(this,arguments)}function I5(e){return function(e){if(Array.isArray(e))return R5(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return R5(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?R5(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R5(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var F5=function(e){return e&&e.x===+e.x&&e.y===+e.y},H5=function(e,t){var n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[[]];return e.forEach(function(e){F5(e)?t[t.length-1].push(e):t[t.length-1].length>0&&t.push([])}),F5(e[0])&&t[t.length-1].push(e[0]),t[t.length-1].length<=0&&(t=t.slice(0,-1)),t}(e);t&&(n=[n.reduce(function(e,t){return[].concat(I5(e),I5(t))},[])]);var r=n.map(function(e){return e.reduce(function(e,t,n){return"".concat(e).concat(0===n?"M":"L").concat(t.x,",").concat(t.y)},"")}).join("");return 1===n.length?"".concat(r,"Z"):r},z5=function(e){var t=e.points,n=e.className,r=e.baseLinePoints,a=e.connectNulls,i=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,D5);if(!t||!t.length)return null;var s=Zu("recharts-polygon",n);if(r&&r.length){var o=i.stroke&&"none"!==i.stroke,l=function(e,t,n){var r=H5(e,n);return"".concat("Z"===r.slice(-1)?r.slice(0,-1):r,"L").concat(H5(t.reverse(),n).slice(1))}(t,r,a);return b.createElement("g",{className:s},b.createElement("path",L5({},fz(i,!0),{fill:"Z"===l.slice(-1)?i.fill:"none",stroke:"none",d:l})),o?b.createElement("path",L5({},fz(i,!0),{fill:"none",d:H5(t,a)})):null,o?b.createElement("path",L5({},fz(i,!0),{fill:"none",d:H5(r,a)})):null)}var c=H5(t,a);return b.createElement("path",L5({},fz(i,!0),{fill:"Z"===c.slice(-1)?i.fill:"none",className:s,d:c}))};function B5(){return B5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},B5.apply(this,arguments)}var W5=function(e){var t=e.cx,n=e.cy,r=e.r,a=Zu("recharts-dot",e.className);return t===+t&&n===+n&&r===+r?x.createElement("circle",B5({},fz(e,!1),ZH(e),{className:a,cx:t,cy:n,r:r})):null};function $5(e){return($5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var U5=["x","y","top","left","width","height","className"];function V5(){return V5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},V5.apply(this,arguments)}function q5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var G5,Y5,K5=function(e,t,n,r,a,i){return"M".concat(e,",").concat(a,"v").concat(r,"M").concat(i,",").concat(t,"h").concat(n)},J5=function(e){var t=e.x,n=void 0===t?0:t,r=e.y,a=void 0===r?0:r,i=e.top,s=void 0===i?0:i,o=e.left,l=void 0===o?0:o,c=e.width,d=void 0===c?0:c,u=e.height,h=void 0===u?0:u,p=e.className,m=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q5(Object(n),!0).forEach(function(t){var r,a,i;r=e,a=t,i=n[t],a=function(e){var t=function(e,t){if("object"!=$5(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=$5(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==$5(t)?t:t+""}(a),a in r?Object.defineProperty(r,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[a]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q5(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({x:n,y:a,top:s,left:l,width:d,height:h},function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,U5));return FH(n)&&FH(a)&&FH(d)&&FH(h)&&FH(s)&&FH(l)?b.createElement("path",V5({},fz(m,!0),{className:Zu("recharts-cross",p),d:K5(n,a,d,h,s,l)})):null};const X5=i(function(){if(Y5)return G5;Y5=1;var e=JQ(),t=XQ(),n=xV();return G5=function(r,a){return r&&r.length?e(r,n(a,2),t):void 0}}());var Q5,Z5;const e3=i(function(){if(Z5)return Q5;Z5=1;var e=JQ(),t=xV(),n=rZ();return Q5=function(r,a){return r&&r.length?e(r,t(a,2),n):void 0}}());var t3=["cx","cy","angle","ticks","axisLine"],n3=["ticks","tick","angle","tickFormatter","stroke"];function r3(e){return(r3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a3(){return a3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a3.apply(this,arguments)}function i3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function s3(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i3(Object(n),!0).forEach(function(t){h3(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i3(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function o3(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function l3(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,p3(r.key),r)}}function c3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(c3=function(){return!!e})()}function d3(e){return(d3=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u3(e,t){return(u3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function h3(e,t,n){return(t=p3(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p3(e){var t=function(e){if("object"!=r3(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=r3(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==r3(t)?t:t+""}var m3=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),function(e,t,n){return t=d3(t),function(e,t){if(t&&("object"===r3(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,c3()?Reflect.construct(t,n||[],d3(e).constructor):t.apply(e,n))}(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u3(e,t)}(e,x.PureComponent),t=e,r=[{key:"renderTickItem",value:function(e,t,n){return b.isValidElement(e)?b.cloneElement(e,t):jH(e)?e(t):b.createElement(uY,a3({},t,{className:"recharts-polar-radius-axis-tick-value"}),n)}}],(n=[{key:"getTickValueCoord",value:function(e){var t=e.coordinate,n=this.props,r=n.angle,a=n.cx,i=n.cy;return c1(a,i,t,r)}},{key:"getTickTextAnchor",value:function(){var e;switch(this.props.orientation){case"left":e="end";break;case"right":e="start";break;default:e="middle"}return e}},{key:"getViewBox",value:function(){var e=this.props,t=e.cx,n=e.cy,r=e.angle,a=e.ticks,i=X5(a,function(e){return e.coordinate||0});return{cx:t,cy:n,startAngle:r,endAngle:r,innerRadius:e3(a,function(e){return e.coordinate||0}).coordinate||0,outerRadius:i.coordinate||0}}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.cx,n=e.cy,r=e.angle,a=e.ticks,i=e.axisLine,s=o3(e,t3),o=a.reduce(function(e,t){return[Math.min(e[0],t.coordinate),Math.max(e[1],t.coordinate)]},[1/0,-1/0]),l=c1(t,n,o[0],r),c=c1(t,n,o[1],r),d=s3(s3(s3({},fz(s,!1)),{},{fill:"none"},fz(i,!1)),{},{x1:l.x,y1:l.y,x2:c.x,y2:c.y});return b.createElement("line",a3({className:"recharts-polar-radius-axis-line"},d))}},{key:"renderTicks",value:function(){var t=this,n=this.props,r=n.ticks,a=n.tick,i=n.angle,s=n.tickFormatter,o=n.stroke,l=o3(n,n3),c=this.getTickTextAnchor(),d=fz(l,!1),u=fz(a,!1),h=r.map(function(n,r){var l=t.getTickValueCoord(n),h=s3(s3(s3(s3({textAnchor:c,transform:"rotate(".concat(90-i,", ").concat(l.x,", ").concat(l.y,")")},d),{},{stroke:"none",fill:o},u),{},{index:r},l),{},{payload:n});return b.createElement(zz,a3({className:Zu("recharts-polar-radius-axis-tick",p1(a)),key:"tick-".concat(n.coordinate)},ez(t.props,n,r)),e.renderTickItem(a,h,s?s(n.value,r):n.value))});return b.createElement(zz,{className:"recharts-polar-radius-axis-ticks"},h)}},{key:"render",value:function(){var e=this.props,t=e.ticks,n=e.axisLine,r=e.tick;return t&&t.length?b.createElement(zz,{className:Zu("recharts-polar-radius-axis",this.props.className)},n&&this.renderAxisLine(),r&&this.renderTicks(),v1.renderCallByParent(this.props,this.getViewBox())):null}}])&&l3(t.prototype,n),r&&l3(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();function f3(e){return(f3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g3(){return g3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},g3.apply(this,arguments)}function x3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function b3(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x3(Object(n),!0).forEach(function(t){N3(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x3(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function y3(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,k3(r.key),r)}}function v3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(v3=function(){return!!e})()}function w3(e){return(w3=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j3(e,t){return(j3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function N3(e,t,n){return(t=k3(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k3(e){var t=function(e){if("object"!=f3(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=f3(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==f3(t)?t:t+""}h3(m3,"displayName","PolarRadiusAxis"),h3(m3,"axisType","radiusAxis"),h3(m3,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});var S3,C3,_3,A3,T3=Math.PI/180,O3=1e-5,E3=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),function(e,t,n){return t=w3(t),function(e,t){if(t&&("object"===f3(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,v3()?Reflect.construct(t,n||[],w3(e).constructor):t.apply(e,n))}(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&j3(e,t)}(e,x.PureComponent),t=e,r=[{key:"renderTickItem",value:function(e,t,n){return b.isValidElement(e)?b.cloneElement(e,t):jH(e)?e(t):b.createElement(uY,g3({},t,{className:"recharts-polar-angle-axis-tick-value"}),n)}}],(n=[{key:"getTickLineCoord",value:function(e){var t=this.props,n=t.cx,r=t.cy,a=t.radius,i=t.orientation,s=t.tickSize||8,o=c1(n,r,a,e.coordinate),l=c1(n,r,a+("inner"===i?-1:1)*s,e.coordinate);return{x1:o.x,y1:o.y,x2:l.x,y2:l.y}}},{key:"getTickTextAnchor",value:function(e){var t=this.props.orientation,n=Math.cos(-e.coordinate*T3);return n>O3?"outer"===t?"start":"end":n<-O3?"outer"===t?"end":"start":"middle"}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.cx,n=e.cy,r=e.radius,a=e.axisLine,i=e.axisLineType,s=b3(b3({},fz(this.props,!1)),{},{fill:"none"},fz(a,!1));if("circle"===i)return b.createElement(W5,g3({className:"recharts-polar-angle-axis-line"},s,{cx:t,cy:n,r:r}));var o=this.props.ticks.map(function(e){return c1(t,n,r,e.coordinate)});return b.createElement(z5,g3({className:"recharts-polar-angle-axis-line"},s,{points:o}))}},{key:"renderTicks",value:function(){var t=this,n=this.props,r=n.ticks,a=n.tick,i=n.tickLine,s=n.tickFormatter,o=n.stroke,l=fz(this.props,!1),c=fz(a,!1),d=b3(b3({},l),{},{fill:"none"},fz(i,!1)),u=r.map(function(n,r){var u=t.getTickLineCoord(n),h=b3(b3(b3({textAnchor:t.getTickTextAnchor(n)},l),{},{stroke:"none",fill:o},c),{},{index:r,payload:n,x:u.x2,y:u.y2});return b.createElement(zz,g3({className:Zu("recharts-polar-angle-axis-tick",p1(a)),key:"tick-".concat(n.coordinate)},ez(t.props,n,r)),i&&b.createElement("line",g3({className:"recharts-polar-angle-axis-tick-line"},d,u)),a&&e.renderTickItem(a,h,s?s(n.value,r):n.value))});return b.createElement(zz,{className:"recharts-polar-angle-axis-ticks"},u)}},{key:"render",value:function(){var e=this.props,t=e.ticks,n=e.radius,r=e.axisLine;return n<=0||!t||!t.length?null:b.createElement(zz,{className:Zu("recharts-polar-angle-axis",this.props.className)},r&&this.renderAxisLine(),this.renderTicks())}}])&&y3(t.prototype,n),r&&y3(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();N3(E3,"displayName","PolarAngleAxis"),N3(E3,"axisType","angleAxis"),N3(E3,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});const M3=i(function(){if(A3)return _3;A3=1;var e=GF(),t=function(){if(C3)return S3;C3=1;var e=oV()(Object.getPrototypeOf,Object);return S3=e}(),n=YF(),r=Function.prototype,a=Object.prototype,i=r.toString,s=a.hasOwnProperty,o=i.call(Object);return _3=function(r){if(!n(r)||"[object Object]"!=e(r))return!1;var a=t(r);if(null===a)return!0;var l=s.call(a,"constructor")&&a.constructor;return"function"==typeof l&&l instanceof l&&i.call(l)==o}}());var P3,D3;const L3=i(function(){if(D3)return P3;D3=1;var e=GF(),t=YF();return P3=function(n){return!0===n||!1===n||t(n)&&"[object Boolean]"==e(n)}}());function I3(e){return(I3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R3(){return R3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},R3.apply(this,arguments)}function F3(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function H3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function z3(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H3(Object(n),!0).forEach(function(t){var r,a,i;r=e,a=t,i=n[t],a=function(e){var t=function(e,t){if("object"!=I3(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=I3(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==I3(t)?t:t+""}(a),a in r?Object.defineProperty(r,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[a]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H3(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var B3,W3=function(e,t,n,r,a){var i,s=n-r;return i="M ".concat(e,",").concat(t),i+="L ".concat(e+n,",").concat(t),i+="L ".concat(e+n-s/2,",").concat(t+a),(i+="L ".concat(e+n-s/2-r,",").concat(t+a))+"L ".concat(e,",").concat(t," Z")},$3={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},U3=function(e){var t,n,r=z3(z3({},$3),e),a=x.useRef(),i=(t=x.useState(-1),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,s,o=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t);else for(;!(l=(r=i.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(d){c=!0,a=d}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}(t,n)||function(e,t){if(e){if("string"==typeof e)return F3(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?F3(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=i[0],o=i[1];x.useEffect(function(){if(a.current&&a.current.getTotalLength)try{var e=a.current.getTotalLength();e&&o(e)}catch(t){}},[]);var l=r.x,c=r.y,d=r.upperWidth,u=r.lowerWidth,h=r.height,p=r.className,m=r.animationEasing,f=r.animationDuration,g=r.animationBegin,y=r.isUpdateAnimationActive;if(l!==+l||c!==+c||d!==+d||u!==+u||h!==+h||0===d&&0===u||0===h)return null;var v=Zu("recharts-trapezoid",p);return y?b.createElement(k5,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:c},to:{upperWidth:d,lowerWidth:u,height:h,x:l,y:c},duration:f,animationEasing:m,isActive:y},function(e){var t=e.upperWidth,n=e.lowerWidth,i=e.height,o=e.x,l=e.y;return b.createElement(k5,{canBegin:s>0,from:"0px ".concat(-1===s?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:f,easing:m},b.createElement("path",R3({},fz(r,!0),{className:v,d:W3(o,l,t,n,i),ref:a})))}):b.createElement("g",null,b.createElement("path",R3({},fz(r,!0),{className:v,d:W3(l,c,d,u,h)})))},V3=["option","shapeType","propTransformer","activeClassName","isActive"];function q3(e){return(q3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function G3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Y3(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G3(Object(n),!0).forEach(function(t){var r,a,i;r=e,a=t,i=n[t],a=function(e){var t=function(e,t){if("object"!=q3(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=q3(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==q3(t)?t:t+""}(a),a in r?Object.defineProperty(r,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[a]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G3(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function K3(e,t){return Y3(Y3({},t),e)}function J3(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return b.createElement(P5,n);case"trapezoid":return b.createElement(U3,n);case"sector":return b.createElement(W1,n);case"symbols":if(function(e){return"symbols"===e}(t))return b.createElement(tW,n);break;default:return null}}function X3(e){var t,n=e.option,r=e.shapeType,a=e.propTransformer,i=void 0===a?K3:a,s=e.activeClassName,o=void 0===s?"recharts-active-shape":s,l=e.isActive,c=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,V3);if(x.isValidElement(n))t=x.cloneElement(n,Y3(Y3({},c),function(e){return x.isValidElement(e)?e.props:e}(n)));else if(jH(n))t=n(c);else if(M3(n)&&!L3(n)){var d=i(n,c);t=b.createElement(J3,{shapeType:r,elementProps:d})}else{var u=c;t=b.createElement(J3,{shapeType:r,elementProps:u})}return l?b.createElement(zz,{className:o},t):t}function Q3(e,t){return null!=t&&"trapezoids"in e.props}function Z3(e,t){return null!=t&&"sectors"in e.props}function e4(e,t){return null!=t&&"points"in e.props}function t4(e,t){var n,r,a=e.x===(null==t||null===(n=t.labelViewBox)||void 0===n?void 0:n.x)||e.x===t.x,i=e.y===(null==t||null===(r=t.labelViewBox)||void 0===r?void 0:r.y)||e.y===t.y;return a&&i}function n4(e,t){var n=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return n&&r}function r4(e,t){var n=e.x===t.x,r=e.y===t.y,a=e.z===t.z;return n&&r&&a}function a4(e){var t=e.activeTooltipItem,n=e.graphicalItem,r=e.itemData,a=function(e,t){var n;return Q3(e,t)?n="trapezoids":Z3(e,t)?n="sectors":e4(e,t)&&(n="points"),n}(n,t),i=function(e,t){var n,r;return Q3(e,t)?null===(n=t.tooltipPayload)||void 0===n||null===(n=n[0])||void 0===n||null===(n=n.payload)||void 0===n?void 0:n.payload:Z3(e,t)?null===(r=t.tooltipPayload)||void 0===r||null===(r=r[0])||void 0===r||null===(r=r.payload)||void 0===r?void 0:r.payload:e4(e,t)?t.payload:{}}(n,t),s=r.filter(function(e,r){var s=hZ(i,e),o=n.props[a].filter(function(e){var r=function(e,t){var n;return Q3(e,t)?n=t4:Z3(e,t)?n=n4:e4(e,t)&&(n=r4),n}(n,t);return r(e,t)}),l=n.props[a].indexOf(o[o.length-1]);return s&&r===l});return r.indexOf(s[s.length-1])}function i4(e){return(i4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s4(){return s4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s4.apply(this,arguments)}function o4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l4(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o4(Object(n),!0).forEach(function(t){p4(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o4(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function c4(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,m4(r.key),r)}}function d4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(d4=function(){return!!e})()}function u4(e){return(u4=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h4(e,t){return(h4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function p4(e,t,n){return(t=m4(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m4(e){var t=function(e){if("object"!=i4(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=i4(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==i4(t)?t:t+""}var f4,g4,x4,b4,y4,v4,w4,j4,N4=function(){function e(t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),p4(n=function(e,t,n){return t=u4(t),function(e,t){if(t&&("object"===i4(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,d4()?Reflect.construct(t,n||[],u4(e).constructor):t.apply(e,n))}(this,e,[t]),"pieRef",null),p4(n,"sectorRefs",[]),p4(n,"id",BH("recharts-pie-")),p4(n,"handleAnimationEnd",function(){var e=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),jH(e)&&e()}),p4(n,"handleAnimationStart",function(){var e=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),jH(e)&&e()}),n.state={isAnimationFinished:!t.isAnimationActive,prevIsAnimationActive:t.isAnimationActive,prevAnimationId:t.animationId,sectorToFocus:0},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h4(e,t)}(e,x.PureComponent),t=e,n=[{key:"isActiveIndex",value:function(e){var t=this.props.activeIndex;return Array.isArray(t)?-1!==t.indexOf(e):e===t}},{key:"hasActiveIndex",value:function(){var e=this.props.activeIndex;return Array.isArray(e)?0!==e.length:e||0===e}},{key:"renderLabels",value:function(t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var n=this.props,r=n.label,a=n.labelLine,i=n.dataKey,s=n.valueKey,o=fz(this.props,!1),l=fz(r,!1),c=fz(a,!1),d=r&&r.offsetRadius||20,u=t.map(function(t,n){var u=(t.startAngle+t.endAngle)/2,h=c1(t.cx,t.cy,t.outerRadius+d,u),p=l4(l4(l4(l4({},o),t),{},{stroke:"none"},l),{},{index:n,textAnchor:e.getTextAnchor(h.x,t.cx)},h),m=l4(l4(l4(l4({},o),t),{},{fill:"none",stroke:t.fill},c),{},{index:n,points:[c1(t.cx,t.cy,t.outerRadius,u),h]}),f=i;return bH(i)&&bH(s)?f="value":bH(i)&&(f=s),b.createElement(zz,{key:"label-".concat(t.startAngle,"-").concat(t.endAngle,"-").concat(t.midAngle,"-").concat(n)},a&&e.renderLabelLineItem(a,m,"line"),e.renderLabelItem(r,p,E0(t,f)))});return b.createElement(zz,{className:"recharts-pie-labels"},u)}},{key:"renderSectorsStatically",value:function(e){var t=this,n=this.props,r=n.activeShape,a=n.blendStroke,i=n.inactiveShape;return e.map(function(n,s){if(0===(null==n?void 0:n.startAngle)&&0===(null==n?void 0:n.endAngle)&&1!==e.length)return null;var o=t.isActiveIndex(s),l=i&&t.hasActiveIndex()?i:null,c=o?r:l,d=l4(l4({},n),{},{stroke:a?n.fill:n.stroke,tabIndex:-1});return b.createElement(zz,s4({ref:function(e){e&&!t.sectorRefs.includes(e)&&t.sectorRefs.push(e)},tabIndex:-1,className:"recharts-pie-sector"},ez(t.props,n,s),{key:"sector-".concat(null==n?void 0:n.startAngle,"-").concat(null==n?void 0:n.endAngle,"-").concat(n.midAngle,"-").concat(s)}),b.createElement(X3,s4({option:c,isActive:o,shapeType:"sector"},d)))})}},{key:"renderSectorsWithAnimation",value:function(){var e=this,t=this.props,n=t.sectors,r=t.isAnimationActive,a=t.animationBegin,i=t.animationDuration,s=t.animationEasing,o=t.animationId,l=this.state,c=l.prevSectors,d=l.prevIsAnimationActive;return b.createElement(k5,{begin:a,duration:i,isActive:r,easing:s,from:{t:0},to:{t:1},key:"pie-".concat(o,"-").concat(d),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(t){var r=t.t,a=[],i=(n&&n[0]).startAngle;return n.forEach(function(e,t){var n=c&&c[t],s=t>0?fH(e,"paddingAngle",0):0;if(n){var o=UH(n.endAngle-n.startAngle,e.endAngle-e.startAngle),l=l4(l4({},e),{},{startAngle:i+s,endAngle:i+o(r)+s});a.push(l),i=l.endAngle}else{var d=e.endAngle,u=e.startAngle,h=UH(0,d-u)(r),p=l4(l4({},e),{},{startAngle:i+s,endAngle:i+h+s});a.push(p),i=p.endAngle}}),b.createElement(zz,null,e.renderSectorsStatically(a))})}},{key:"attachKeyboardHandlers",value:function(e){var t=this;e.onkeydown=function(e){if(!e.altKey)switch(e.key){case"ArrowLeft":var n=++t.state.sectorToFocus%t.sectorRefs.length;t.sectorRefs[n].focus(),t.setState({sectorToFocus:n});break;case"ArrowRight":var r=--t.state.sectorToFocus<0?t.sectorRefs.length-1:t.state.sectorToFocus%t.sectorRefs.length;t.sectorRefs[r].focus(),t.setState({sectorToFocus:r});break;case"Escape":t.sectorRefs[t.state.sectorToFocus].blur(),t.setState({sectorToFocus:0})}}}},{key:"renderSectors",value:function(){var e=this.props,t=e.sectors,n=e.isAnimationActive,r=this.state.prevSectors;return!(n&&t&&t.length)||r&&hZ(r,t)?this.renderSectorsStatically(t):this.renderSectorsWithAnimation()}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var e=this,t=this.props,n=t.hide,r=t.sectors,a=t.className,i=t.label,s=t.cx,o=t.cy,l=t.innerRadius,c=t.outerRadius,d=t.isAnimationActive,u=this.state.isAnimationFinished;if(n||!r||!r.length||!FH(s)||!FH(o)||!FH(l)||!FH(c))return null;var h=Zu("recharts-pie",a);return b.createElement(zz,{tabIndex:this.props.rootTabIndex,className:h,ref:function(t){e.pieRef=t}},this.renderSectors(),i&&this.renderLabels(r),v1.renderCallByParent(this.props,null,!1),(!d||u)&&D1.renderCallByParent(this.props,r,!1))}}],r=[{key:"getDerivedStateFromProps",value:function(e,t){return t.prevIsAnimationActive!==e.isAnimationActive?{prevIsAnimationActive:e.isAnimationActive,prevAnimationId:e.animationId,curSectors:e.sectors,prevSectors:[],isAnimationFinished:!0}:e.isAnimationActive&&e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curSectors:e.sectors,prevSectors:t.curSectors,isAnimationFinished:!0}:e.sectors!==t.curSectors?{curSectors:e.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(e,t){return e>t?"start":e<t?"end":"middle"}},{key:"renderLabelLineItem",value:function(e,t,n){if(b.isValidElement(e))return b.cloneElement(e,t);if(jH(e))return e(t);var r=Zu("recharts-pie-label-line","boolean"!=typeof e?e.className:"");return b.createElement(n2,s4({},t,{key:n,type:"linear",className:r}))}},{key:"renderLabelItem",value:function(e,t,n){if(b.isValidElement(e))return b.cloneElement(e,t);var r=n;if(jH(e)&&(r=e(t),b.isValidElement(r)))return r;var a=Zu("recharts-pie-label-text","boolean"==typeof e||jH(e)?"":e.className);return b.createElement(uY,s4({},t,{alignmentBaseline:"middle",className:a}),r)}}],n&&c4(t.prototype,n),r&&c4(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();function k4(){if(b4)return x4;b4=1;var e=kG(),t=1/0;return x4=function(n){return n?(n=e(n))===t||n===-1/0?17976931348623157e292*(n<0?-1:1):n==n?n:0:0===n?n:0}}B3=N4,p4(N4,"displayName","Pie"),p4(N4,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!tG,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0}),p4(N4,"parseDeltaAngle",function(e,t){return IH(t-e)*Math.min(Math.abs(t-e),360)}),p4(N4,"getRealPieData",function(e){var t=e.data,n=e.children,r=fz(e,!1),a=dz(n,EG);return t&&t.length?t.map(function(e,t){return l4(l4(l4({payload:e},r),e),a&&a[t]&&a[t].props)}):a&&a.length?a.map(function(e){return l4(l4({},r),e.props)}):[]}),p4(N4,"parseCoordinateOfPie",function(e,t){var n=t.top,r=t.left,a=t.width,i=t.height,s=d1(a,i);return{cx:r+WH(e.cx,a,a/2),cy:n+WH(e.cy,i,i/2),innerRadius:WH(e.innerRadius,s,0),outerRadius:WH(e.outerRadius,s,.8*s),maxRadius:e.maxRadius||Math.sqrt(a*a+i*i)/2}}),p4(N4,"getComposedData",function(e){var t=e.item,n=e.offset,r=void 0!==t.type.defaultProps?l4(l4({},t.type.defaultProps),t.props):t.props,a=B3.getRealPieData(r);if(!a||!a.length)return null;var i=r.cornerRadius,s=r.startAngle,o=r.endAngle,l=r.paddingAngle,c=r.dataKey,d=r.nameKey,u=r.valueKey,h=r.tooltipType,p=Math.abs(r.minAngle),m=B3.parseCoordinateOfPie(r,n),f=B3.parseDeltaAngle(s,o),g=Math.abs(f),x=c;bH(c)&&bH(u)?(Bz(!1,'Use "dataKey" to specify the value of pie,\n      the props "valueKey" will be deprecated in 1.1.0'),x="value"):bH(c)&&(Bz(!1,'Use "dataKey" to specify the value of pie,\n      the props "valueKey" will be deprecated in 1.1.0'),x=u);var b,y,v=a.filter(function(e){return 0!==E0(e,x,0)}).length,w=g-v*p-(g>=360?v:v-1)*l,j=a.reduce(function(e,t){var n=E0(t,x,0);return e+(FH(n)?n:0)},0);return j>0&&(b=a.map(function(e,t){var n,r=E0(e,x,0),a=E0(e,d,t),o=(FH(r)?r:0)/j,c=(n=t?y.endAngle+IH(f)*l*(0!==r?1:0):s)+IH(f)*((0!==r?p:0)+o*w),u=(n+c)/2,g=(m.innerRadius+m.outerRadius)/2,b=[{name:a,value:r,payload:e,dataKey:x,type:h}],v=c1(m.cx,m.cy,g,u);return y=l4(l4(l4({percent:o,cornerRadius:i,name:a,tooltipPayload:b,midAngle:u,middleRadius:g,tooltipPosition:v},e),m),{},{value:E0(e,x),startAngle:n,endAngle:c,payload:e,paddingAngle:IH(f)*l})})),l4(l4({},m),{},{sectors:b,data:a})});const S4=i(function(){if(j4)return w4;j4=1;var e=function(){if(v4)return y4;v4=1;var e=function(){if(g4)return f4;g4=1;var e=Math.ceil,t=Math.max;return f4=function(n,r,a,i){for(var s=-1,o=t(e((r-n)/(a||1)),0),l=Array(o);o--;)l[i?o:++s]=n,n+=a;return l}}(),t=Eq(),n=k4();return y4=function(r){return function(a,i,s){return s&&"number"!=typeof s&&t(a,i,s)&&(i=s=void 0),a=n(a),void 0===i?(i=a,a=0):i=n(i),s=void 0===s?a<i?1:-1:n(s),e(a,i,s,r)}}}()();return w4=e}());function C4(e){return(C4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function A4(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_4(Object(n),!0).forEach(function(t){T4(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_4(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function T4(e,t,n){return t=function(e){var t=function(e,t){if("object"!=C4(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=C4(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==C4(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O4=["Webkit","Moz","O","ms"];function E4(e){return(E4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function M4(){return M4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},M4.apply(this,arguments)}function P4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function D4(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P4(Object(n),!0).forEach(function(t){H4(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P4(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function L4(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,z4(r.key),r)}}function I4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(I4=function(){return!!e})()}function R4(e){return(R4=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function F4(e,t){return(F4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function H4(e,t,n){return(t=z4(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function z4(e){var t=function(e){if("object"!=E4(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=E4(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==E4(t)?t:t+""}var B4,W4,$4,U4,V4=function(e){return e.changedTouches&&!!e.changedTouches.length},q4=function(){function e(t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),H4(n=function(e,t,n){return t=R4(t),function(e,t){if(t&&("object"===E4(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,I4()?Reflect.construct(t,n||[],R4(e).constructor):t.apply(e,n))}(this,e,[t]),"handleDrag",function(e){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(e):n.state.isSlideMoving&&n.handleSlideDrag(e)}),H4(n,"handleTouchMove",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&n.handleDrag(e.changedTouches[0])}),H4(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var e=n.props,t=e.endIndex,r=e.onDragEnd,a=e.startIndex;null==r||r({endIndex:t,startIndex:a})}),n.detachDragEndListener()}),H4(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),H4(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),H4(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),H4(n,"handleSlideDragStart",function(e){var t=V4(e)?e.changedTouches[0]:e;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:t.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&F4(e,t)}(e,x.PureComponent),t=e,n=[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(t){var n=t.startX,r=t.endX,a=this.state.scaleValues,i=this.props,s=i.gap,o=i.data.length-1,l=Math.min(n,r),c=Math.max(n,r),d=e.getIndexInRange(a,l),u=e.getIndexInRange(a,c);return{startIndex:d-d%s,endIndex:u===o?o:u-u%s}}},{key:"getTextOfTick",value:function(e){var t=this.props,n=t.data,r=t.tickFormatter,a=t.dataKey,i=E0(n[e],a,e);return jH(r)?r(i,e):i}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(e){var t=this.state,n=t.slideMoveStartX,r=t.startX,a=t.endX,i=this.props,s=i.x,o=i.width,l=i.travellerWidth,c=i.startIndex,d=i.endIndex,u=i.onChange,h=e.pageX-n;h>0?h=Math.min(h,s+o-l-a,s+o-l-r):h<0&&(h=Math.max(h,s-r,s-a));var p=this.getIndex({startX:r+h,endX:a+h});p.startIndex===c&&p.endIndex===d||!u||u(p),this.setState({startX:r+h,endX:a+h,slideMoveStartX:e.pageX})}},{key:"handleTravellerDragStart",value:function(e,t){var n=V4(t)?t.changedTouches[0]:t;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:e,brushMoveStartX:n.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(e){var t=this.state,n=t.brushMoveStartX,r=t.movingTravellerId,a=t.endX,i=t.startX,s=this.state[r],o=this.props,l=o.x,c=o.width,d=o.travellerWidth,u=o.onChange,h=o.gap,p=o.data,m={startX:this.state.startX,endX:this.state.endX},f=e.pageX-n;f>0?f=Math.min(f,l+c-d-s):f<0&&(f=Math.max(f,l-s)),m[r]=s+f;var g=this.getIndex(m),x=g.startIndex,b=g.endIndex;this.setState(H4(H4({},r,s+f),"brushMoveStartX",e.pageX),function(){var e;u&&(e=p.length-1,("startX"===r&&(a>i?x%h===0:b%h===0)||a<i&&b===e||"endX"===r&&(a>i?b%h===0:x%h===0)||a>i&&b===e)&&u(g))})}},{key:"handleTravellerMoveKeyboard",value:function(e,t){var n=this,r=this.state,a=r.scaleValues,i=r.startX,s=r.endX,o=this.state[t],l=a.indexOf(o);if(-1!==l){var c=l+e;if(!(-1===c||c>=a.length)){var d=a[c];"startX"===t&&d>=s||"endX"===t&&d<=i||this.setState(H4({},t,d),function(){n.props.onChange(n.getIndex({startX:n.state.startX,endX:n.state.endX}))})}}}},{key:"renderBackground",value:function(){var e=this.props,t=e.x,n=e.y,r=e.width,a=e.height,i=e.fill,s=e.stroke;return b.createElement("rect",{stroke:s,fill:i,x:t,y:n,width:r,height:a})}},{key:"renderPanorama",value:function(){var e=this.props,t=e.x,n=e.y,r=e.width,a=e.height,i=e.data,s=e.children,o=e.padding,l=x.Children.only(s);return l?b.cloneElement(l,{x:t,y:n,width:r,height:a,margin:o,compact:!0,data:i}):null}},{key:"renderTravellerLayer",value:function(t,n){var r,a,i=this,s=this.props,o=s.y,l=s.travellerWidth,c=s.height,d=s.traveller,u=s.ariaLabel,h=s.data,p=s.startIndex,m=s.endIndex,f=Math.max(t,this.props.x),g=D4(D4({},fz(this.props,!1)),{},{x:f,y:o,width:l,height:c}),x=u||"Min value: ".concat(null===(r=h[p])||void 0===r?void 0:r.name,", Max value: ").concat(null===(a=h[m])||void 0===a?void 0:a.name);return b.createElement(zz,{tabIndex:0,role:"slider","aria-label":x,"aria-valuenow":t,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[n],onTouchStart:this.travellerDragStartHandlers[n],onKeyDown:function(e){["ArrowLeft","ArrowRight"].includes(e.key)&&(e.preventDefault(),e.stopPropagation(),i.handleTravellerMoveKeyboard("ArrowRight"===e.key?1:-1,n))},onFocus:function(){i.setState({isTravellerFocused:!0})},onBlur:function(){i.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(d,g))}},{key:"renderSlide",value:function(e,t){var n=this.props,r=n.y,a=n.height,i=n.stroke,s=n.travellerWidth,o=Math.min(e,t)+s,l=Math.max(Math.abs(t-e)-s,0);return b.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:i,fillOpacity:.2,x:o,y:r,width:l,height:a})}},{key:"renderText",value:function(){var e=this.props,t=e.startIndex,n=e.endIndex,r=e.y,a=e.height,i=e.travellerWidth,s=e.stroke,o=this.state,l=o.startX,c=o.endX,d={pointerEvents:"none",fill:s};return b.createElement(zz,{className:"recharts-brush-texts"},b.createElement(uY,M4({textAnchor:"end",verticalAnchor:"middle",x:Math.min(l,c)-5,y:r+a/2},d),this.getTextOfTick(t)),b.createElement(uY,M4({textAnchor:"start",verticalAnchor:"middle",x:Math.max(l,c)+i+5,y:r+a/2},d),this.getTextOfTick(n)))}},{key:"render",value:function(){var e=this.props,t=e.data,n=e.className,r=e.children,a=e.x,i=e.y,s=e.width,o=e.height,l=e.alwaysShowText,c=this.state,d=c.startX,u=c.endX,h=c.isTextActive,p=c.isSlideMoving,m=c.isTravellerMoving,f=c.isTravellerFocused;if(!t||!t.length||!FH(a)||!FH(i)||!FH(s)||!FH(o)||s<=0||o<=0)return null;var g,x,y,v,w=Zu("recharts-brush",n),j=1===b.Children.count(r),N=(x="none",y=(g="userSelect").replace(/(\w)/,function(e){return e.toUpperCase()}),(v=O4.reduce(function(e,t){return A4(A4({},e),{},T4({},t+y,x))},{}))[g]=x,v);return b.createElement(zz,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:N},this.renderBackground(),j&&this.renderPanorama(),this.renderSlide(d,u),this.renderTravellerLayer(d,"startX"),this.renderTravellerLayer(u,"endX"),(h||p||m||f||l)&&this.renderText())}}],r=[{key:"renderDefaultTraveller",value:function(e){var t=e.x,n=e.y,r=e.width,a=e.height,i=e.stroke,s=Math.floor(n+a/2)-1;return b.createElement(b.Fragment,null,b.createElement("rect",{x:t,y:n,width:r,height:a,fill:i,stroke:"none"}),b.createElement("line",{x1:t+1,y1:s,x2:t+r-1,y2:s,fill:"none",stroke:"#fff"}),b.createElement("line",{x1:t+1,y1:s+2,x2:t+r-1,y2:s+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(t,n){return b.isValidElement(t)?b.cloneElement(t,n):jH(t)?t(n):e.renderDefaultTraveller(n)}},{key:"getDerivedStateFromProps",value:function(e,t){var n=e.data,r=e.width,a=e.x,i=e.travellerWidth,s=e.updateId,o=e.startIndex,l=e.endIndex;if(n!==t.prevData||s!==t.prevUpdateId)return D4({prevData:n,prevTravellerWidth:i,prevUpdateId:s,prevX:a,prevWidth:r},n&&n.length?function(e){var t=e.data,n=e.startIndex,r=e.endIndex,a=e.x,i=e.width,s=e.travellerWidth;if(!t||!t.length)return{};var o=t.length,l=zY().domain(S4(0,o)).range([a,a+i-s]),c=l.domain().map(function(e){return l(e)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:l(n),endX:l(r),scale:l,scaleValues:c}}({data:n,width:r,x:a,travellerWidth:i,startIndex:o,endIndex:l}):{scale:null,scaleValues:null});if(t.scale&&(r!==t.prevWidth||a!==t.prevX||i!==t.prevTravellerWidth)){t.scale.range([a,a+r-i]);var c=t.scale.domain().map(function(e){return t.scale(e)});return{prevData:n,prevTravellerWidth:i,prevUpdateId:s,prevX:a,prevWidth:r,startX:t.scale(e.startIndex),endX:t.scale(e.endIndex),scaleValues:c}}return null}},{key:"getIndexInRange",value:function(e,t){for(var n=0,r=e.length-1;r-n>1;){var a=Math.floor((n+r)/2);e[a]>t?r=a:n=a}return t>=e[r]?r:n}}],n&&L4(t.prototype,n),r&&L4(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();H4(q4,"displayName","Brush"),H4(q4,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});const G4=i(function(){if(U4)return $4;U4=1;var e=l$(),t=xV(),n=function(){if(W4)return B4;W4=1;var e=Cq();return B4=function(t,n){var r;return e(t,function(e,t,a){return!(r=n(e,t,a))}),!!r}}(),r=$F(),a=Eq();return $4=function(i,s,o){var l=r(i)?e:n;return o&&a(i,s,o)&&(s=void 0),l(i,t(s,3))}}());var Y4,K4,J4,X4,Q4=function(e,t){var n=e.alwaysShow,r=e.ifOverflow;return n&&(r="extendDomain"),r===t};const Z4=i(function(){if(X4)return J4;X4=1;var e=function(){if(K4)return Y4;K4=1;var e=Tq();return Y4=function(t,n,r){"__proto__"==n&&e?e(t,n,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[n]=r}}(),t=Sq(),n=xV();return J4=function(r,a){var i={};return a=n(a,3),t(r,function(t,n,r){e(i,n,a(t,n,r))}),i}}());var e6,t6,n6,r6,a6,i6;const s6=i(function(){if(i6)return a6;i6=1;var e=t6?e6:(t6=1,e6=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}),t=function(){if(r6)return n6;r6=1;var e=Cq();return n6=function(t,n){var r=!0;return e(t,function(e,t,a){return r=!!n(e,t,a)}),r}}(),n=xV(),r=$F(),a=Eq();return a6=function(i,s,o){var l=r(i)?e:t;return o&&a(i,s,o)&&(s=void 0),l(i,n(s,3))}}());var o6=["x","y"];function l6(e){return(l6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c6(){return c6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c6.apply(this,arguments)}function d6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u6(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d6(Object(n),!0).forEach(function(t){var r,a,i;r=e,a=t,i=n[t],a=function(e){var t=function(e,t){if("object"!=l6(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=l6(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==l6(t)?t:t+""}(a),a in r?Object.defineProperty(r,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[a]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d6(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function h6(e,t){var n=e.x,r=e.y,a=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,o6),i="".concat(n),s=parseInt(i,10),o="".concat(r),l=parseInt(o,10),c="".concat(t.height||a.height),d=parseInt(c,10),u="".concat(t.width||a.width),h=parseInt(u,10);return u6(u6(u6(u6(u6({},t),a),s?{x:s}:{}),l?{y:l}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function p6(e){return b.createElement(X3,c6({shapeType:"rectangle",propTransformer:h6,activeClassName:"recharts-active-bar"},e))}var m6,f6=["value","background"];function g6(e){return(g6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x6(){return x6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},x6.apply(this,arguments)}function b6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function y6(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b6(Object(n),!0).forEach(function(t){k6(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b6(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function v6(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,S6(r.key),r)}}function w6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(w6=function(){return!!e})()}function j6(e){return(j6=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function N6(e,t){return(N6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function k6(e,t,n){return(t=S6(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S6(e){var t=function(e){if("object"!=g6(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=g6(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==g6(t)?t:t+""}var C6=function(){function e(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return k6(t=function(e,t,n){return t=j6(t),function(e,t){if(t&&("object"===g6(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,w6()?Reflect.construct(t,n||[],j6(e).constructor):t.apply(e,n))}(this,e,[].concat(r)),"state",{isAnimationFinished:!1}),k6(t,"id",BH("recharts-bar-")),k6(t,"handleAnimationEnd",function(){var e=t.props.onAnimationEnd;t.setState({isAnimationFinished:!0}),e&&e()}),k6(t,"handleAnimationStart",function(){var e=t.props.onAnimationStart;t.setState({isAnimationFinished:!1}),e&&e()}),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&N6(e,t)}(e,x.PureComponent),t=e,n=[{key:"renderRectanglesStatically",value:function(e){var t=this,n=this.props,r=n.shape,a=n.dataKey,i=n.activeIndex,s=n.activeBar,o=fz(this.props,!1);return e&&e.map(function(e,n){var l=n===i,c=l?s:r,d=y6(y6(y6({},o),e),{},{isActive:l,option:c,index:n,dataKey:a,onAnimationStart:t.handleAnimationStart,onAnimationEnd:t.handleAnimationEnd});return b.createElement(zz,x6({className:"recharts-bar-rectangle"},ez(t.props,e,n),{key:"rectangle-".concat(null==e?void 0:e.x,"-").concat(null==e?void 0:e.y,"-").concat(null==e?void 0:e.value,"-").concat(n)}),b.createElement(p6,d))})}},{key:"renderRectanglesWithAnimation",value:function(){var e=this,t=this.props,n=t.data,r=t.layout,a=t.isAnimationActive,i=t.animationBegin,s=t.animationDuration,o=t.animationEasing,l=t.animationId,c=this.state.prevData;return b.createElement(k5,{begin:i,duration:s,isActive:a,easing:o,from:{t:0},to:{t:1},key:"bar-".concat(l),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(t){var a=t.t,i=n.map(function(e,t){var n=c&&c[t];if(n){var i=UH(n.x,e.x),s=UH(n.y,e.y),o=UH(n.width,e.width),l=UH(n.height,e.height);return y6(y6({},e),{},{x:i(a),y:s(a),width:o(a),height:l(a)})}if("horizontal"===r){var d=UH(0,e.height)(a);return y6(y6({},e),{},{y:e.y+e.height-d,height:d})}var u=UH(0,e.width)(a);return y6(y6({},e),{},{width:u})});return b.createElement(zz,null,e.renderRectanglesStatically(i))})}},{key:"renderRectangles",value:function(){var e=this.props,t=e.data,n=e.isAnimationActive,r=this.state.prevData;return!(n&&t&&t.length)||r&&hZ(r,t)?this.renderRectanglesStatically(t):this.renderRectanglesWithAnimation()}},{key:"renderBackground",value:function(){var e=this,t=this.props,n=t.data,r=t.dataKey,a=t.activeIndex,i=fz(this.props.background,!1);return n.map(function(t,n){t.value;var s=t.background,o=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(t,f6);if(!s)return null;var l=y6(y6(y6(y6(y6({},o),{},{fill:"#eee"},s),i),ez(e.props,t,n)),{},{onAnimationStart:e.handleAnimationStart,onAnimationEnd:e.handleAnimationEnd,dataKey:r,index:n,className:"recharts-bar-background-rectangle"});return b.createElement(p6,x6({key:"background-bar-".concat(n),option:e.props.background,isActive:n===a},l))})}},{key:"renderErrorBar",value:function(e,t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var n=this.props,r=n.data,a=n.xAxis,i=n.yAxis,s=n.layout,o=dz(n.children,v0);if(!o)return null;var l="vertical"===s?r[0].height/2:r[0].width/2,c=function(e,t){var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:E0(e,t)}},d={clipPath:e?"url(#clipPath-".concat(t,")"):null};return b.createElement(zz,d,o.map(function(e){return b.cloneElement(e,{key:"error-bar-".concat(t,"-").concat(e.props.dataKey),data:r,xAxis:a,yAxis:i,layout:s,offset:l,dataPointFormatter:c})}))}},{key:"render",value:function(){var e=this.props,t=e.hide,n=e.data,r=e.className,a=e.xAxis,i=e.yAxis,s=e.left,o=e.top,l=e.width,c=e.height,d=e.isAnimationActive,u=e.background,h=e.id;if(t||!n||!n.length)return null;var p=this.state.isAnimationFinished,m=Zu("recharts-bar",r),f=a&&a.allowDataOverflow,g=i&&i.allowDataOverflow,x=f||g,y=bH(h)?this.id:h;return b.createElement(zz,{className:m},f||g?b.createElement("defs",null,b.createElement("clipPath",{id:"clipPath-".concat(y)},b.createElement("rect",{x:f?s:s-l/2,y:g?o:o-c/2,width:f?l:2*l,height:g?c:2*c}))):null,b.createElement(zz,{className:"recharts-bar-rectangles",clipPath:x?"url(#clipPath-".concat(y,")"):null},u?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(x,y),(!d||p)&&D1.renderCallByParent(this.props,n))}}],r=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curData:e.data,prevData:t.curData}:e.data!==t.curData?{curData:e.data}:null}}],n&&v6(t.prototype,n),r&&v6(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();function _6(e){return(_6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A6(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,M6(r.key),r)}}function T6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function O6(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T6(Object(n),!0).forEach(function(t){E6(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T6(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function E6(e,t,n){return(t=M6(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function M6(e){var t=function(e,t){if("object"!=_6(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=_6(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==_6(t)?t:t+""}m6=C6,k6(C6,"displayName","Bar"),k6(C6,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!tG,animationBegin:0,animationDuration:400,animationEasing:"ease"}),k6(C6,"getComposedData",function(e){var t=e.props,n=e.item,r=e.barPosition,a=e.bandSize,i=e.xAxis,s=e.yAxis,o=e.xAxisTicks,l=e.yAxisTicks,c=e.stackedData,d=e.dataStartIndex,u=e.displayedData,h=e.offset,p=function(e,t){if(!e)return null;for(var n=0,r=e.length;n<r;n++)if(e[n].item===t)return e[n].position;return null}(r,n);if(!p)return null;var m=t.layout,f=n.type.defaultProps,g=void 0!==f?y6(y6({},f),n.props):n.props,x=g.dataKey,b=g.children,y=g.minPointSize,v="horizontal"===m?s:i,w=c?v.scale.domain():null,j=function(e){var t=e.numericAxis,n=t.scale.domain();if("number"===t.type){var r=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return r<=0&&a>=0?0:a<0?a:r}return n[0]}({numericAxis:v}),N=dz(b,EG),k=u.map(function(e,t){var r,u,h,f,g,b;c?r=function(e,t){if(!t||2!==t.length||!FH(t[0])||!FH(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!FH(e[0])||e[0]<n)&&(a[0]=n),(!FH(e[1])||e[1]>r)&&(a[1]=r),a[0]>r&&(a[0]=r),a[1]<n&&(a[1]=n),a}(c[d+t],w):(r=E0(e,x),Array.isArray(r)||(r=[j,r]));var v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n,r){if("number"==typeof e)return e;var a=FH(n)||function(e){return bH(e)}(n);return a?e(n,r):(a||d0(),t)}}(y,m6.defaultProps.minPointSize)(r[1],t);if("horizontal"===m){var k,S=[s.scale(r[0]),s.scale(r[1])],C=S[0],_=S[1];u=Y0({axis:i,ticks:o,bandSize:a,offset:p.offset,entry:e,index:t}),h=null!==(k=null!=_?_:C)&&void 0!==k?k:void 0,f=p.size;var A=C-_;if(g=Number.isNaN(A)?0:A,b={x:u,y:s.y,width:f,height:s.height},Math.abs(v)>0&&Math.abs(g)<Math.abs(v)){var T=IH(g||v)*(Math.abs(v)-Math.abs(g));h-=T,g+=T}}else{var O=[i.scale(r[0]),i.scale(r[1])],E=O[0],M=O[1];u=E,h=Y0({axis:s,ticks:l,bandSize:a,offset:p.offset,entry:e,index:t}),f=M-E,g=p.size,b={x:i.x,y:h,width:i.width,height:g},Math.abs(v)>0&&Math.abs(f)<Math.abs(v)&&(f+=IH(f||v)*(Math.abs(v)-Math.abs(f)))}return y6(y6(y6({},e),{},{x:u,y:h,width:f,height:g,value:c?r:r[1],payload:e,background:b},N&&N[t]&&N[t].props),{},{tooltipPayload:[t1(n,e)],tooltipPosition:{x:u+f/2,y:h+g/2}})});return y6({data:k,layout:m},h)});var P6=function(e,t,n,r,a){var i=e.width,s=e.height,o=e.layout,l=e.children,c=Object.keys(t),d={left:n.left,leftMirror:n.left,right:i-n.right,rightMirror:i-n.right,top:n.top,topMirror:n.top,bottom:s-n.bottom,bottomMirror:s-n.bottom},u=!!uz(l,C6);return c.reduce(function(i,s){var l,c,h,p,m,f=t[s],g=f.orientation,x=f.domain,b=f.padding,y=void 0===b?{}:b,v=f.mirror,w=f.reversed,j="".concat(g).concat(v?"Mirror":"");if("number"===f.type&&("gap"===f.padding||"no-gap"===f.padding)){var N=x[1]-x[0],k=1/0,S=f.categoricalDomain.sort(qH);if(S.forEach(function(e,t){t>0&&(k=Math.min((e||0)-(S[t-1]||0),k))}),Number.isFinite(k)){var C=k/N,_="vertical"===f.layout?n.height:n.width;if("gap"===f.padding&&(l=C*_/2),"no-gap"===f.padding){var A=WH(e.barCategoryGap,C*_),T=C*_/2;l=T-A-(T-A)/_*A}}}c="xAxis"===r?[n.left+(y.left||0)+(l||0),n.left+n.width-(y.right||0)-(l||0)]:"yAxis"===r?"horizontal"===o?[n.top+n.height-(y.bottom||0),n.top+(y.top||0)]:[n.top+(y.top||0)+(l||0),n.top+n.height-(y.bottom||0)-(l||0)]:f.range,w&&(c=[c[1],c[0]]);var O=B0(f,a,u),E=O.scale,M=O.realScaleType;E.domain(x).range(c),$0(E);var P=q0(E,O6(O6({},f),{},{realScaleType:M}));"xAxis"===r?(m="top"===g&&!v||"bottom"===g&&v,h=n.left,p=d[j]-m*f.height):"yAxis"===r&&(m="left"===g&&!v||"right"===g&&v,h=d[j]-m*f.width,p=n.top);var D=O6(O6(O6({},f),P),{},{realScaleType:M,x:h,y:p,scale:E,width:"xAxis"===r?n.width:f.width,height:"yAxis"===r?n.height:f.height});return D.bandSize=Z0(D,P),f.hide||"xAxis"!==r?f.hide||(d[j]+=(m?-1:1)*D.width):d[j]+=(m?-1:1)*D.height,O6(O6({},i),{},E6({},s,D))},{})},D6=function(e,t){var n=e.x,r=e.y,a=t.x,i=t.y;return{x:Math.min(n,a),y:Math.min(r,i),width:Math.abs(a-n),height:Math.abs(i-r)}},L6=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scale=t}return t=e,n=[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.bandAware,r=t.position;if(void 0!==e){if(r)switch(r){case"start":default:return this.scale(e);case"middle":var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a;case"end":var i=this.bandwidth?this.bandwidth():0;return this.scale(e)+i}if(n){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+s}return this.scale(e)}}},{key:"isInRange",value:function(e){var t=this.range(),n=t[0],r=t[t.length-1];return n<=r?e>=n&&e<=r:e>=r&&e<=n}}],r=[{key:"create",value:function(t){return new e(t)}}],n&&A6(t.prototype,n),r&&A6(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();E6(L6,"EPS",1e-4);var I6,R6,F6,H6,z6,B6,W6,$6,U6=function(e){var t=Object.keys(e).reduce(function(t,n){return O6(O6({},t),{},E6({},n,L6.create(e[n])))},{});return O6(O6({},t),{},{apply:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.bandAware,a=n.position;return Z4(e,function(e,n){return t[n].apply(e,{bandAware:r,position:a})})},isInRange:function(e){return s6(e,function(e,n){return t[n].isInRange(e)})}})};const V6=i(function(){if($6)return W6;$6=1;var e=function(){if(R6)return I6;R6=1;var e=xV(),t=lV(),n=cV();return I6=function(r){return function(a,i,s){var o=Object(a);if(!t(a)){var l=e(i,3);a=n(a),i=function(e){return l(o[e],e,o)}}var c=r(a,i,s);return c>-1?o[l?a[c]:c]:void 0}}}()(function(){if(B6)return z6;B6=1;var e=bV(),t=xV(),n=function(){if(H6)return F6;H6=1;var e=k4();return F6=function(t){var n=e(t),r=n%1;return n==n?r?n-r:n:0}}(),r=Math.max;return z6=function(a,i,s){var o=null==a?0:a.length;if(!o)return-1;var l=null==s?0:n(s);return l<0&&(l=r(o+l,0)),e(a,t(i,3),l)}}());return W6=e}());var q6=i(lH())(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),G6=x.createContext(void 0),Y6=x.createContext(void 0),K6=x.createContext(void 0),J6=x.createContext({}),X6=x.createContext(void 0),Q6=x.createContext(0),Z6=x.createContext(0),e7=function(e){var t=e.state,n=t.xAxisMap,r=t.yAxisMap,a=t.offset,i=e.clipPathId,s=e.children,o=e.width,l=e.height,c=q6(a);return b.createElement(G6.Provider,{value:n},b.createElement(Y6.Provider,{value:r},b.createElement(J6.Provider,{value:a},b.createElement(K6.Provider,{value:c},b.createElement(X6.Provider,{value:i},b.createElement(Q6.Provider,{value:l},b.createElement(Z6.Provider,{value:o},s)))))))},t7=function(e){var t=x.useContext(G6);null==t&&d0();var n=t[e];return null==n&&d0(),n},n7=function(e){var t=x.useContext(Y6);null==t&&d0();var n=t[e];return null==n&&d0(),n},r7=function(){return x.useContext(Z6)},a7=function(){return x.useContext(Q6)};function i7(e){return(i7="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(s7=function(){return!!e})()}function o7(e){return(o7=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l7(e,t){return(l7=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function c7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function d7(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c7(Object(n),!0).forEach(function(t){u7(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c7(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function u7(e,t,n){return(t=h7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h7(e){var t=function(e){if("object"!=i7(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=i7(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==i7(t)?t:t+""}function p7(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m7(){return m7=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m7.apply(this,arguments)}function f7(e){var t=e.x,n=e.y,r=e.segment,a=e.xAxisId,i=e.yAxisId,s=e.shape,o=e.className,l=e.alwaysShow,c=x.useContext(X6),d=t7(a),u=n7(i),h=x.useContext(K6);if(!c||!h)return null;Bz(void 0===l,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=function(e,t,n,r,a,i,s,o,l){var c=a.x,d=a.y,u=a.width,h=a.height;if(n){var p=l.y,m=e.y.apply(p,{position:i});if(Q4(l,"discard")&&!e.y.isInRange(m))return null;var f=[{x:c+u,y:m},{x:c,y:m}];return"left"===o?f.reverse():f}if(t){var g=l.x,x=e.x.apply(g,{position:i});if(Q4(l,"discard")&&!e.x.isInRange(x))return null;var b=[{x:x,y:d+h},{x:x,y:d}];return"top"===s?b.reverse():b}if(r){var y=l.segment.map(function(t){return e.apply(t,{position:i})});return Q4(l,"discard")&&G4(y,function(t){return!e.isInRange(t)})?null:y}return null}(U6({x:d.scale,y:u.scale}),HH(t),HH(n),r&&2===r.length,h,e.position,d.orientation,u.orientation,e);if(!p)return null;var m,f,g,y=(f=2,function(e){if(Array.isArray(e))return e}(m=p)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,s,o=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t);else for(;!(l=(r=i.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(d){c=!0,a=d}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}(m,f)||function(e,t){if(e){if("string"==typeof e)return p7(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p7(e,t):void 0}}(m,f)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),v=y[0],w=v.x,j=v.y,N=y[1],k=N.x,S=N.y,C=d7(d7({clipPath:Q4(e,"hidden")?"url(#".concat(c,")"):void 0},fz(e,!0)),{},{x1:w,y1:j,x2:k,y2:S});return b.createElement(zz,{className:Zu("recharts-reference-line",o)},function(e,t){return b.isValidElement(e)?b.cloneElement(e,t):jH(e)?e(t):b.createElement("line",m7({},t,{className:"recharts-reference-line-line"}))}(s,C),v1.renderCallByParent(e,D6({x:(g={x1:w,y1:j,x2:k,y2:S}).x1,y:g.y1},{x:g.x2,y:g.y2})))}var g7=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),function(e,t,n){return t=o7(t),function(e,t){if(t&&("object"===i7(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,s7()?Reflect.construct(t,n||[],o7(e).constructor):t.apply(e,n))}(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l7(e,t)}(e,b.Component),t=e,(n=[{key:"render",value:function(){return b.createElement(f7,this.props)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,h7(r.key),r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}();function x7(){return x7=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},x7.apply(this,arguments)}function b7(e){return(b7="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function v7(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y7(Object(n),!0).forEach(function(t){k7(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y7(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function w7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(w7=function(){return!!e})()}function j7(e){return(j7=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function N7(e,t){return(N7=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function k7(e,t,n){return(t=S7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S7(e){var t=function(e){if("object"!=b7(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=b7(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==b7(t)?t:t+""}u7(g7,"displayName","ReferenceLine"),u7(g7,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});var C7=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),function(e,t,n){return t=j7(t),function(e,t){if(t&&("object"===b7(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,w7()?Reflect.construct(t,n||[],j7(e).constructor):t.apply(e,n))}(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&N7(e,t)}(e,b.Component),t=e,(n=[{key:"render",value:function(){var t=this.props,n=t.x,r=t.y,a=t.r,i=t.alwaysShow,s=t.clipPathId,o=HH(n),l=HH(r);if(Bz(void 0===i,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!o||!l)return null;var c=function(e){var t=e.x,n=e.y,r=e.xAxis,a=e.yAxis,i=U6({x:r.scale,y:a.scale}),s=i.apply({x:t,y:n},{bandAware:!0});return Q4(e,"discard")&&!i.isInRange(s)?null:s}(this.props);if(!c)return null;var d=c.x,u=c.y,h=this.props,p=h.shape,m=h.className,f=v7(v7({clipPath:Q4(this.props,"hidden")?"url(#".concat(s,")"):void 0},fz(this.props,!0)),{},{cx:d,cy:u});return b.createElement(zz,{className:Zu("recharts-reference-dot",m)},e.renderDot(p,f),v1.renderCallByParent(this.props,{x:d-a,y:u-a,width:2*a,height:2*a}))}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,S7(r.key),r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}();function _7(){return _7=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_7.apply(this,arguments)}function A7(e){return(A7="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function O7(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T7(Object(n),!0).forEach(function(t){D7(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T7(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function E7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(E7=function(){return!!e})()}function M7(e){return(M7=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P7(e,t){return(P7=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function D7(e,t,n){return(t=L7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L7(e){var t=function(e){if("object"!=A7(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=A7(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==A7(t)?t:t+""}k7(C7,"displayName","ReferenceDot"),k7(C7,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1}),k7(C7,"renderDot",function(e,t){return b.isValidElement(e)?b.cloneElement(e,t):jH(e)?e(t):b.createElement(W5,x7({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"}))});var I7=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),function(e,t,n){return t=M7(t),function(e,t){if(t&&("object"===A7(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,E7()?Reflect.construct(t,n||[],M7(e).constructor):t.apply(e,n))}(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&P7(e,t)}(e,b.Component),t=e,(n=[{key:"render",value:function(){var t=this.props,n=t.x1,r=t.x2,a=t.y1,i=t.y2,s=t.className,o=t.alwaysShow,l=t.clipPathId;Bz(void 0===o,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var c=HH(n),d=HH(r),u=HH(a),h=HH(i),p=this.props.shape;if(!(c||d||u||h||p))return null;var m=function(e,t,n,r,a){var i=a.x1,s=a.x2,o=a.y1,l=a.y2,c=a.xAxis,d=a.yAxis;if(!c||!d)return null;var u=U6({x:c.scale,y:d.scale}),h={x:e?u.x.apply(i,{position:"start"}):u.x.rangeMin,y:n?u.y.apply(o,{position:"start"}):u.y.rangeMin},p={x:t?u.x.apply(s,{position:"end"}):u.x.rangeMax,y:r?u.y.apply(l,{position:"end"}):u.y.rangeMax};return!Q4(a,"discard")||u.isInRange(h)&&u.isInRange(p)?D6(h,p):null}(c,d,u,h,this.props);if(!m&&!p)return null;var f=Q4(this.props,"hidden")?"url(#".concat(l,")"):void 0;return b.createElement(zz,{className:Zu("recharts-reference-area",s)},e.renderRect(p,O7(O7({clipPath:f},fz(this.props,!0)),m)),v1.renderCallByParent(this.props,m))}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,L7(r.key),r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}();function R7(e,t,n){if(t<1)return[];if(1===t&&void 0===n)return e;for(var r=[],a=0;a<e.length;a+=t)r.push(e[a]);return r}function F7(e,t,n,r,a){if(e*t<e*r||e*t>e*a)return!1;var i=n();return e*(t-e*i/2-r)>=0&&e*(t+e*i/2-a)<=0}function H7(e){return(H7="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function z7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function B7(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z7(Object(n),!0).forEach(function(t){var r,a,i;r=e,a=t,i=n[t],a=function(e){var t=function(e,t){if("object"!=H7(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=H7(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==H7(t)?t:t+""}(a),a in r?Object.defineProperty(r,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[a]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z7(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function W7(e,t,n){var r=e.tick,a=e.ticks,i=e.viewBox,s=e.minTickGap,o=e.orientation,l=e.interval,c=e.tickFormatter,d=e.unit,u=e.angle;if(!a||!a.length||!r)return[];if(FH(l)||tG)return function(e,t){return R7(e,t+1)}(a,"number"==typeof l&&FH(l)?l:0);var h=[],p="top"===o||"bottom"===o?"width":"height",m=d&&"width"===p?FG(d,{fontSize:t,letterSpacing:n}):{width:0,height:0},f=function(e,r){var a=jH(c)?c(e.value,r):e.value;return"width"===p?function(e,t,n){return function(e){var t=e.width,n=e.height,r=function(e){return(e%180+180)%180}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),a=r*Math.PI/180,i=Math.atan(n/t),s=a>i&&a<Math.PI-i?n/Math.sin(a):t/Math.cos(a);return Math.abs(s)}({width:e.width+t.width,height:e.height+t.height},n)}(FG(a,{fontSize:t,letterSpacing:n}),m,u):FG(a,{fontSize:t,letterSpacing:n})[p]},g=a.length>=2?IH(a[1].coordinate-a[0].coordinate):1,x=function(e,t,n){var r="width"===n,a=e.x,i=e.y,s=e.width,o=e.height;return 1===t?{start:r?a:i,end:r?a+s:i+o}:{start:r?a+s:i+o,end:r?a:i}}(i,g,p);return"equidistantPreserveStart"===l?function(e,t,n,r,a){for(var i,s=(r||[]).slice(),o=t.start,l=t.end,c=0,d=1,u=o,h=function(){var t=null==r?void 0:r[c];if(void 0===t)return{v:R7(r,d)};var i,s=c,h=function(){return void 0===i&&(i=n(t,s)),i},p=t.coordinate,m=0===c||F7(e,p,h,u,l);m||(c=0,u=o,d+=1),m&&(u=p+e*(h()/2+a),c+=d)};d<=s.length;)if(i=h())return i.v;return[]}(g,x,f,a,s):(h="preserveStart"===l||"preserveStartEnd"===l?function(e,t,n,r,a,i){var s=(r||[]).slice(),o=s.length,l=t.start,c=t.end;if(i){var d=r[o-1],u=n(d,o-1),h=e*(d.coordinate+e*u/2-c);s[o-1]=d=B7(B7({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate}),F7(e,d.tickCoord,function(){return u},l,c)&&(c=d.tickCoord-e*(u/2+a),s[o-1]=B7(B7({},d),{},{isShow:!0}))}for(var p=i?o-1:o,m=function(t){var r,i=s[t],o=function(){return void 0===r&&(r=n(i,t)),r};if(0===t){var d=e*(i.coordinate-e*o()/2-l);s[t]=i=B7(B7({},i),{},{tickCoord:d<0?i.coordinate-d*e:i.coordinate})}else s[t]=i=B7(B7({},i),{},{tickCoord:i.coordinate});F7(e,i.tickCoord,o,l,c)&&(l=i.tickCoord+e*(o()/2+a),s[t]=B7(B7({},i),{},{isShow:!0}))},f=0;f<p;f++)m(f);return s}(g,x,f,a,s,"preserveStartEnd"===l):function(e,t,n,r,a){for(var i=(r||[]).slice(),s=i.length,o=t.start,l=t.end,c=function(t){var r,c=i[t],d=function(){return void 0===r&&(r=n(c,t)),r};if(t===s-1){var u=e*(c.coordinate+e*d()/2-l);i[t]=c=B7(B7({},c),{},{tickCoord:u>0?c.coordinate-u*e:c.coordinate})}else i[t]=c=B7(B7({},c),{},{tickCoord:c.coordinate});F7(e,c.tickCoord,d,o,l)&&(l=c.tickCoord-e*(d()/2+a),i[t]=B7(B7({},c),{},{isShow:!0}))},d=s-1;d>=0;d--)c(d);return i}(g,x,f,a,s),h.filter(function(e){return e.isShow}))}D7(I7,"displayName","ReferenceArea"),D7(I7,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1}),D7(I7,"renderRect",function(e,t){return b.isValidElement(e)?b.cloneElement(e,t):jH(e)?e(t):b.createElement(P5,_7({},t,{className:"recharts-reference-area-rect"}))});var $7=["viewBox"],U7=["viewBox"],V7=["ticks"];function q7(e){return(q7="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function G7(){return G7=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},G7.apply(this,arguments)}function Y7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function K7(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y7(Object(n),!0).forEach(function(t){t8(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y7(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function J7(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function X7(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,n8(r.key),r)}}function Q7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Q7=function(){return!!e})()}function Z7(e){return(Z7=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function e8(e,t){return(e8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function t8(e,t,n){return(t=n8(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function n8(e){var t=function(e){if("object"!=q7(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=q7(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==q7(t)?t:t+""}var r8=function(){function e(t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),(n=function(e,t,n){return t=Z7(t),function(e,t){if(t&&("object"===q7(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Q7()?Reflect.construct(t,n||[],Z7(e).constructor):t.apply(e,n))}(this,e,[t])).state={fontSize:"",letterSpacing:""},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&e8(e,t)}(e,x.Component),t=e,r=[{key:"renderTickItem",value:function(e,t,n){var r=Zu(t.className,"recharts-cartesian-axis-tick-value");return b.isValidElement(e)?b.cloneElement(e,K7(K7({},t),{},{className:r})):jH(e)?e(K7(K7({},t),{},{className:r})):b.createElement(uY,G7({},t,{className:"recharts-cartesian-axis-tick-value"}),n)}}],(n=[{key:"shouldComponentUpdate",value:function(e,t){var n=e.viewBox,r=J7(e,$7),a=this.props,i=a.viewBox,s=J7(a,U7);return!GH(n,i)||!GH(r,s)||!GH(t,this.state)}},{key:"componentDidMount",value:function(){var e=this.layerReference;if(e){var t=e.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];t&&this.setState({fontSize:window.getComputedStyle(t).fontSize,letterSpacing:window.getComputedStyle(t).letterSpacing})}}},{key:"getTickLineCoord",value:function(e){var t,n,r,a,i,s,o=this.props,l=o.x,c=o.y,d=o.width,u=o.height,h=o.orientation,p=o.tickSize,m=o.mirror,f=o.tickMargin,g=m?-1:1,x=e.tickSize||p,b=FH(e.tickCoord)?e.tickCoord:e.coordinate;switch(h){case"top":t=n=e.coordinate,s=(r=(a=c+ +!m*u)-g*x)-g*f,i=b;break;case"left":r=a=e.coordinate,i=(t=(n=l+ +!m*d)-g*x)-g*f,s=b;break;case"right":r=a=e.coordinate,i=(t=(n=l+ +m*d)+g*x)+g*f,s=b;break;default:t=n=e.coordinate,s=(r=(a=c+ +m*u)+g*x)+g*f,i=b}return{line:{x1:t,y1:r,x2:n,y2:a},tick:{x:i,y:s}}}},{key:"getTickTextAnchor",value:function(){var e,t=this.props,n=t.orientation,r=t.mirror;switch(n){case"left":e=r?"start":"end";break;case"right":e=r?"end":"start";break;default:e="middle"}return e}},{key:"getTickVerticalAnchor",value:function(){var e=this.props,t=e.orientation,n=e.mirror,r="end";switch(t){case"left":case"right":r="middle";break;case"top":r=n?"start":"end";break;default:r=n?"end":"start"}return r}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.x,n=e.y,r=e.width,a=e.height,i=e.orientation,s=e.mirror,o=e.axisLine,l=K7(K7(K7({},fz(this.props,!1)),fz(o,!1)),{},{fill:"none"});if("top"===i||"bottom"===i){var c=+("top"===i&&!s||"bottom"===i&&s);l=K7(K7({},l),{},{x1:t,y1:n+c*a,x2:t+r,y2:n+c*a})}else{var d=+("left"===i&&!s||"right"===i&&s);l=K7(K7({},l),{},{x1:t+d*r,y1:n,x2:t+d*r,y2:n+a})}return b.createElement("line",G7({},l,{className:Zu("recharts-cartesian-axis-line",fH(o,"className"))}))}},{key:"renderTicks",value:function(t,n,r){var a=this,i=this.props,s=i.tickLine,o=i.stroke,l=i.tick,c=i.tickFormatter,d=i.unit,u=W7(K7(K7({},this.props),{},{ticks:t}),n,r),h=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),m=fz(this.props,!1),f=fz(l,!1),g=K7(K7({},m),{},{fill:"none"},fz(s,!1)),x=u.map(function(t,n){var r=a.getTickLineCoord(t),i=r.line,x=r.tick,y=K7(K7(K7(K7({textAnchor:h,verticalAnchor:p},m),{},{stroke:"none",fill:o},f),x),{},{index:n,payload:t,visibleTicksCount:u.length,tickFormatter:c});return b.createElement(zz,G7({className:"recharts-cartesian-axis-tick",key:"tick-".concat(t.value,"-").concat(t.coordinate,"-").concat(t.tickCoord)},ez(a.props,t,n)),s&&b.createElement("line",G7({},g,i,{className:Zu("recharts-cartesian-axis-tick-line",fH(s,"className"))})),l&&e.renderTickItem(l,y,"".concat(jH(c)?c(t.value,n):t.value).concat(d||"")))});return b.createElement("g",{className:"recharts-cartesian-axis-ticks"},x)}},{key:"render",value:function(){var e=this,t=this.props,n=t.axisLine,r=t.width,a=t.height,i=t.ticksGenerator,s=t.className;if(t.hide)return null;var o=this.props,l=o.ticks,c=J7(o,V7),d=l;return jH(i)&&(d=l&&l.length>0?i(this.props):i(c)),r<=0||a<=0||!d||!d.length?null:b.createElement(zz,{className:Zu("recharts-cartesian-axis",s),ref:function(t){e.layerReference=t}},n&&this.renderAxisLine(),this.renderTicks(d,this.state.fontSize,this.state.letterSpacing),v1.renderCallByParent(this.props))}}])&&X7(t.prototype,n),r&&X7(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();t8(r8,"displayName","CartesianAxis"),t8(r8,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var a8=["x1","y1","x2","y2","key"],i8=["offset"];function s8(e){return(s8="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l8(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o8(Object(n),!0).forEach(function(t){var r,a,i;r=e,a=t,i=n[t],a=function(e){var t=function(e,t){if("object"!=s8(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=s8(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==s8(t)?t:t+""}(a),a in r?Object.defineProperty(r,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[a]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o8(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function c8(){return c8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c8.apply(this,arguments)}function d8(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var u8=function(e){var t=e.fill;if(!t||"none"===t)return null;var n=e.fillOpacity,r=e.x,a=e.y,i=e.width,s=e.height,o=e.ry;return b.createElement("rect",{x:r,y:a,ry:o,width:i,height:s,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function h8(e,t){var n;if(b.isValidElement(e))n=b.cloneElement(e,t);else if(jH(e))n=e(t);else{var r=t.x1,a=t.y1,i=t.x2,s=t.y2,o=t.key,l=d8(t,a8),c=fz(l,!1);c.offset;var d=d8(c,i8);n=b.createElement("line",c8({},d,{x1:r,y1:a,x2:i,y2:s,fill:"none",key:o}))}return n}function p8(e){var t=e.x,n=e.width,r=e.horizontal,a=void 0===r||r,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(r,i){var s=l8(l8({},e),{},{x1:t,y1:r,x2:t+n,y2:r,key:"line-".concat(i),index:i});return h8(a,s)});return b.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function m8(e){var t=e.y,n=e.height,r=e.vertical,a=void 0===r||r,i=e.verticalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(r,i){var s=l8(l8({},e),{},{x1:r,y1:t,x2:r,y2:t+n,key:"line-".concat(i),index:i});return h8(a,s)});return b.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function f8(e){var t=e.horizontalFill,n=e.fillOpacity,r=e.x,a=e.y,i=e.width,s=e.height,o=e.horizontalPoints,l=e.horizontal;if(void 0!==l&&!l||!t||!t.length)return null;var c=o.map(function(e){return Math.round(e+a-a)}).sort(function(e,t){return e-t});a!==c[0]&&c.unshift(0);var d=c.map(function(e,o){var l=c[o+1]?c[o+1]-e:a+s-e;if(l<=0)return null;var d=o%t.length;return b.createElement("rect",{key:"react-".concat(o),y:e,x:r,height:l,width:i,stroke:"none",fill:t[d],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return b.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function g8(e){var t=e.vertical,n=void 0===t||t,r=e.verticalFill,a=e.fillOpacity,i=e.x,s=e.y,o=e.width,l=e.height,c=e.verticalPoints;if(!n||!r||!r.length)return null;var d=c.map(function(e){return Math.round(e+i-i)}).sort(function(e,t){return e-t});i!==d[0]&&d.unshift(0);var u=d.map(function(e,t){var n=d[t+1]?d[t+1]-e:i+o-e;if(n<=0)return null;var c=t%r.length;return b.createElement("rect",{key:"react-".concat(t),x:e,y:s,width:n,height:l,stroke:"none",fill:r[c],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return b.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},u)}var x8=function(e,t){var n=e.xAxis,r=e.width,a=e.height,i=e.offset;return R0(W7(l8(l8(l8({},r8.defaultProps),n),{},{ticks:F0(n,!0),viewBox:{x:0,y:0,width:r,height:a}})),i.left,i.left+i.width,t)},b8=function(e,t){var n=e.yAxis,r=e.width,a=e.height,i=e.offset;return R0(W7(l8(l8(l8({},r8.defaultProps),n),{},{ticks:F0(n,!0),viewBox:{x:0,y:0,width:r,height:a}})),i.top,i.top+i.height,t)},y8={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function v8(e){var t,n,r,a,i,s,o,l,c=r7(),d=a7(),u=x.useContext(J6),h=l8(l8({},e),{},{stroke:null!==(t=e.stroke)&&void 0!==t?t:y8.stroke,fill:null!==(n=e.fill)&&void 0!==n?n:y8.fill,horizontal:null!==(r=e.horizontal)&&void 0!==r?r:y8.horizontal,horizontalFill:null!==(a=e.horizontalFill)&&void 0!==a?a:y8.horizontalFill,vertical:null!==(i=e.vertical)&&void 0!==i?i:y8.vertical,verticalFill:null!==(s=e.verticalFill)&&void 0!==s?s:y8.verticalFill,x:FH(e.x)?e.x:u.left,y:FH(e.y)?e.y:u.top,width:FH(e.width)?e.width:u.width,height:FH(e.height)?e.height:u.height}),p=h.x,m=h.y,f=h.width,g=h.height,y=h.syncWithTicks,v=h.horizontalValues,w=h.verticalValues,j=(o=x.useContext(G6),$H(o)),N=(l=x.useContext(Y6),V6(l,function(e){return s6(e.domain,Number.isFinite)})||$H(l));if(!FH(f)||f<=0||!FH(g)||g<=0||!FH(p)||p!==+p||!FH(m)||m!==+m)return null;var k=h.verticalCoordinatesGenerator||x8,S=h.horizontalCoordinatesGenerator||b8,C=h.horizontalPoints,_=h.verticalPoints;if((!C||!C.length)&&jH(S)){var A=v&&v.length,T=S({yAxis:N?l8(l8({},N),{},{ticks:A?v:N.ticks}):void 0,width:c,height:d,offset:u},!!A||y);Bz(Array.isArray(T),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(s8(T),"]")),Array.isArray(T)&&(C=T)}if((!_||!_.length)&&jH(k)){var O=w&&w.length,E=k({xAxis:j?l8(l8({},j),{},{ticks:O?w:j.ticks}):void 0,width:c,height:d,offset:u},!!O||y);Bz(Array.isArray(E),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(s8(E),"]")),Array.isArray(E)&&(_=E)}return b.createElement("g",{className:"recharts-cartesian-grid"},b.createElement(u8,{fill:h.fill,fillOpacity:h.fillOpacity,x:h.x,y:h.y,width:h.width,height:h.height,ry:h.ry}),b.createElement(p8,c8({},h,{offset:u,horizontalPoints:C,xAxis:j,yAxis:N})),b.createElement(m8,c8({},h,{offset:u,verticalPoints:_,xAxis:j,yAxis:N})),b.createElement(f8,c8({},h,{horizontalPoints:C})),b.createElement(g8,c8({},h,{verticalPoints:_})))}v8.displayName="CartesianGrid";var w8=["type","layout","connectNulls","ref"],j8=["key"];function N8(e){return(N8="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k8(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function S8(){return S8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},S8.apply(this,arguments)}function C8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _8(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C8(Object(n),!0).forEach(function(t){D8(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C8(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function A8(e){return function(e){if(Array.isArray(e))return T8(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return T8(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?T8(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T8(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O8(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,L8(r.key),r)}}function E8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(E8=function(){return!!e})()}function M8(e){return(M8=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P8(e,t){return(P8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function D8(e,t,n){return(t=L8(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L8(e){var t=function(e){if("object"!=N8(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=N8(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==N8(t)?t:t+""}var I8=function(){function e(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return D8(t=function(e,t,n){return t=M8(t),function(e,t){if(t&&("object"===N8(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,E8()?Reflect.construct(t,n||[],M8(e).constructor):t.apply(e,n))}(this,e,[].concat(r)),"state",{isAnimationFinished:!0,totalLength:0}),D8(t,"generateSimpleStrokeDasharray",function(e,t){return"".concat(t,"px ").concat(e-t,"px")}),D8(t,"getStrokeDasharray",function(n,r,a){var i=a.reduce(function(e,t){return e+t});if(!i)return t.generateSimpleStrokeDasharray(r,n);for(var s=Math.floor(n/i),o=n%i,l=r-n,c=[],d=0,u=0;d<a.length;u+=a[d],++d)if(u+a[d]>o){c=[].concat(A8(a.slice(0,d)),[o-u]);break}var h=c.length%2==0?[0,l]:[l];return[].concat(A8(e.repeat(a,s)),A8(c),h).map(function(e){return"".concat(e,"px")}).join(", ")}),D8(t,"id",BH("recharts-line-")),D8(t,"pathRef",function(e){t.mainCurve=e}),D8(t,"handleAnimationEnd",function(){t.setState({isAnimationFinished:!0}),t.props.onAnimationEnd&&t.props.onAnimationEnd()}),D8(t,"handleAnimationStart",function(){t.setState({isAnimationFinished:!1}),t.props.onAnimationStart&&t.props.onAnimationStart()}),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&P8(e,t)}(e,x.PureComponent),t=e,n=[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();this.setState({totalLength:e})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();e!==this.state.totalLength&&this.setState({totalLength:e})}}},{key:"getTotalLength",value:function(){var e=this.mainCurve;try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch(t){return 0}}},{key:"renderErrorBar",value:function(e,t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var n=this.props,r=n.points,a=n.xAxis,i=n.yAxis,s=n.layout,o=dz(n.children,v0);if(!o)return null;var l=function(e,t){return{x:e.x,y:e.y,value:e.value,errorVal:E0(e.payload,t)}},c={clipPath:e?"url(#clipPath-".concat(t,")"):null};return b.createElement(zz,c,o.map(function(e){return b.cloneElement(e,{key:"bar-".concat(e.props.dataKey),data:r,xAxis:a,yAxis:i,layout:s,dataPointFormatter:l})}))}},{key:"renderDots",value:function(t,n,r){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,i=a.dot,s=a.points,o=a.dataKey,l=fz(this.props,!1),c=fz(i,!0),d=s.map(function(t,n){var r=_8(_8(_8({key:"dot-".concat(n),r:3},l),c),{},{index:n,cx:t.x,cy:t.y,value:t.value,dataKey:o,payload:t.payload,points:s});return e.renderDotItem(i,r)}),u={clipPath:t?"url(#clipPath-".concat(n?"":"dots-").concat(r,")"):null};return b.createElement(zz,S8({className:"recharts-line-dots",key:"dots"},u),d)}},{key:"renderCurveStatically",value:function(e,t,n,r){var a=this.props,i=a.type,s=a.layout,o=a.connectNulls;a.ref;var l=k8(a,w8),c=_8(_8(_8({},fz(l,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:t?"url(#clipPath-".concat(n,")"):null,points:e},r),{},{type:i,layout:s,connectNulls:o});return b.createElement(n2,S8({},c,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(e,t){var n=this,r=this.props,a=r.points,i=r.strokeDasharray,s=r.isAnimationActive,o=r.animationBegin,l=r.animationDuration,c=r.animationEasing,d=r.animationId,u=r.animateNewValues,h=r.width,p=r.height,m=this.state,f=m.prevPoints,g=m.totalLength;return b.createElement(k5,{begin:o,duration:l,isActive:s,easing:c,from:{t:0},to:{t:1},key:"line-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(r){var s=r.t;if(f){var o=f.length/a.length,l=a.map(function(e,t){var n=Math.floor(t*o);if(f[n]){var r=f[n],a=UH(r.x,e.x),i=UH(r.y,e.y);return _8(_8({},e),{},{x:a(s),y:i(s)})}if(u){var l=UH(2*h,e.x),c=UH(p/2,e.y);return _8(_8({},e),{},{x:l(s),y:c(s)})}return _8(_8({},e),{},{x:e.x,y:e.y})});return n.renderCurveStatically(l,e,t)}var c,d=UH(0,g)(s);if(i){var m="".concat(i).split(/[,\s]+/gim).map(function(e){return parseFloat(e)});c=n.getStrokeDasharray(d,g,m)}else c=n.generateSimpleStrokeDasharray(g,d);return n.renderCurveStatically(a,e,t,{strokeDasharray:c})})}},{key:"renderCurve",value:function(e,t){var n=this.props,r=n.points,a=n.isAnimationActive,i=this.state,s=i.prevPoints,o=i.totalLength;return a&&r&&r.length&&(!s&&o>0||!hZ(s,r))?this.renderCurveWithAnimation(e,t):this.renderCurveStatically(r,e,t)}},{key:"render",value:function(){var e,t=this.props,n=t.hide,r=t.dot,a=t.points,i=t.className,s=t.xAxis,o=t.yAxis,l=t.top,c=t.left,d=t.width,u=t.height,h=t.isAnimationActive,p=t.id;if(n||!a||!a.length)return null;var m=this.state.isAnimationFinished,f=1===a.length,g=Zu("recharts-line",i),x=s&&s.allowDataOverflow,y=o&&o.allowDataOverflow,v=x||y,w=bH(p)?this.id:p,j=null!==(e=fz(r,!1))&&void 0!==e?e:{r:3,strokeWidth:2},N=j.r,k=void 0===N?3:N,S=j.strokeWidth,C=void 0===S?2:S,_=(mz(r)?r:{}).clipDot,A=void 0===_||_,T=2*k+C;return b.createElement(zz,{className:g},x||y?b.createElement("defs",null,b.createElement("clipPath",{id:"clipPath-".concat(w)},b.createElement("rect",{x:x?c:c-d/2,y:y?l:l-u/2,width:x?d:2*d,height:y?u:2*u})),!A&&b.createElement("clipPath",{id:"clipPath-dots-".concat(w)},b.createElement("rect",{x:c-T/2,y:l-T/2,width:d+T,height:u+T}))):null,!f&&this.renderCurve(v,w),this.renderErrorBar(v,w),(f||r)&&this.renderDots(v,A,w),(!h||m)&&D1.renderCallByParent(this.props,a))}}],r=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,prevPoints:t.curPoints}:e.points!==t.curPoints?{curPoints:e.points}:null}},{key:"repeat",value:function(e,t){for(var n=e.length%2!=0?[].concat(A8(e),[0]):e,r=[],a=0;a<t;++a)r=[].concat(A8(r),A8(n));return r}},{key:"renderDotItem",value:function(e,t){var n;if(b.isValidElement(e))n=b.cloneElement(e,t);else if(jH(e))n=e(t);else{var r=t.key,a=k8(t,j8),i=Zu("recharts-line-dot","boolean"!=typeof e?e.className:"");n=b.createElement(W5,S8({key:r},a,{className:i}))}return n}}],n&&O8(t.prototype,n),r&&O8(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();D8(I8,"displayName","Line"),D8(I8,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!tG,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1}),D8(I8,"getComposedData",function(e){var t=e.props,n=e.xAxis,r=e.yAxis,a=e.xAxisTicks,i=e.yAxisTicks,s=e.dataKey,o=e.bandSize,l=e.displayedData,c=e.offset,d=t.layout;return _8({points:l.map(function(e,t){var l=E0(e,s);return"horizontal"===d?{x:G0({axis:n,ticks:a,bandSize:o,entry:e,index:t}),y:bH(l)?null:r.scale(l),value:l,payload:e}:{x:bH(l)?null:n.scale(l),y:G0({axis:r,ticks:i,bandSize:o,entry:e,index:t}),value:l,payload:e}}),layout:d},c)});var R8,F8=["layout","type","stroke","connectNulls","isRange","ref"],H8=["key"];function z8(e){return(z8="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function B8(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function W8(){return W8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},W8.apply(this,arguments)}function $8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function U8(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$8(Object(n),!0).forEach(function(t){K8(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$8(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function V8(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,J8(r.key),r)}}function q8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(q8=function(){return!!e})()}function G8(e){return(G8=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Y8(e,t){return(Y8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function K8(e,t,n){return(t=J8(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function J8(e){var t=function(e){if("object"!=z8(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=z8(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==z8(t)?t:t+""}var X8=function(){function e(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return K8(t=function(e,t,n){return t=G8(t),function(e,t){if(t&&("object"===z8(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,q8()?Reflect.construct(t,n||[],G8(e).constructor):t.apply(e,n))}(this,e,[].concat(r)),"state",{isAnimationFinished:!0}),K8(t,"id",BH("recharts-area-")),K8(t,"handleAnimationEnd",function(){var e=t.props.onAnimationEnd;t.setState({isAnimationFinished:!0}),jH(e)&&e()}),K8(t,"handleAnimationStart",function(){var e=t.props.onAnimationStart;t.setState({isAnimationFinished:!1}),jH(e)&&e()}),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Y8(e,t)}(e,x.PureComponent),t=e,n=[{key:"renderDots",value:function(t,n,r){var a=this.props.isAnimationActive,i=this.state.isAnimationFinished;if(a&&!i)return null;var s=this.props,o=s.dot,l=s.points,c=s.dataKey,d=fz(this.props,!1),u=fz(o,!0),h=l.map(function(t,n){var r=U8(U8(U8({key:"dot-".concat(n),r:3},d),u),{},{index:n,cx:t.x,cy:t.y,dataKey:c,value:t.value,payload:t.payload,points:l});return e.renderDotItem(o,r)}),p={clipPath:t?"url(#clipPath-".concat(n?"":"dots-").concat(r,")"):null};return b.createElement(zz,W8({className:"recharts-area-dots"},p),h)}},{key:"renderHorizontalRect",value:function(e){var t=this.props,n=t.baseLine,r=t.points,a=t.strokeWidth,i=r[0].x,s=r[r.length-1].x,o=e*Math.abs(i-s),l=QQ(r.map(function(e){return e.y||0}));return FH(n)&&"number"==typeof n?l=Math.max(n,l):n&&Array.isArray(n)&&n.length&&(l=Math.max(QQ(n.map(function(e){return e.y||0})),l)),FH(l)?b.createElement("rect",{x:i<s?i:i-o,y:0,width:o,height:Math.floor(l+(a?parseInt("".concat(a),10):1))}):null}},{key:"renderVerticalRect",value:function(e){var t=this.props,n=t.baseLine,r=t.points,a=t.strokeWidth,i=r[0].y,s=r[r.length-1].y,o=e*Math.abs(i-s),l=QQ(r.map(function(e){return e.x||0}));return FH(n)&&"number"==typeof n?l=Math.max(n,l):n&&Array.isArray(n)&&n.length&&(l=Math.max(QQ(n.map(function(e){return e.x||0})),l)),FH(l)?b.createElement("rect",{x:0,y:i<s?i:i-o,width:l+(a?parseInt("".concat(a),10):1),height:Math.floor(o)}):null}},{key:"renderClipRect",value:function(e){return"vertical"===this.props.layout?this.renderVerticalRect(e):this.renderHorizontalRect(e)}},{key:"renderAreaStatically",value:function(e,t,n,r){var a=this.props,i=a.layout,s=a.type,o=a.stroke,l=a.connectNulls,c=a.isRange;a.ref;var d=B8(a,F8);return b.createElement(zz,{clipPath:n?"url(#clipPath-".concat(r,")"):null},b.createElement(n2,W8({},fz(d,!0),{points:e,connectNulls:l,type:s,baseLine:t,layout:i,stroke:"none",className:"recharts-area-area"})),"none"!==o&&b.createElement(n2,W8({},fz(this.props,!1),{className:"recharts-area-curve",layout:i,type:s,connectNulls:l,fill:"none",points:e})),"none"!==o&&c&&b.createElement(n2,W8({},fz(this.props,!1),{className:"recharts-area-curve",layout:i,type:s,connectNulls:l,fill:"none",points:t})))}},{key:"renderAreaWithAnimation",value:function(e,t){var n=this,r=this.props,a=r.points,i=r.baseLine,s=r.isAnimationActive,o=r.animationBegin,l=r.animationDuration,c=r.animationEasing,d=r.animationId,u=this.state,h=u.prevPoints,p=u.prevBaseLine;return b.createElement(k5,{begin:o,duration:l,isActive:s,easing:c,from:{t:0},to:{t:1},key:"area-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(r){var s=r.t;if(h){var o,l=h.length/a.length,c=a.map(function(e,t){var n=Math.floor(t*l);if(h[n]){var r=h[n],a=UH(r.x,e.x),i=UH(r.y,e.y);return U8(U8({},e),{},{x:a(s),y:i(s)})}return e});return o=FH(i)&&"number"==typeof i?UH(p,i)(s):bH(i)||DH(i)?UH(p,0)(s):i.map(function(e,t){var n=Math.floor(t*l);if(p[n]){var r=p[n],a=UH(r.x,e.x),i=UH(r.y,e.y);return U8(U8({},e),{},{x:a(s),y:i(s)})}return e}),n.renderAreaStatically(c,o,e,t)}return b.createElement(zz,null,b.createElement("defs",null,b.createElement("clipPath",{id:"animationClipPath-".concat(t)},n.renderClipRect(s))),b.createElement(zz,{clipPath:"url(#animationClipPath-".concat(t,")")},n.renderAreaStatically(a,i,e,t)))})}},{key:"renderArea",value:function(e,t){var n=this.props,r=n.points,a=n.baseLine,i=n.isAnimationActive,s=this.state,o=s.prevPoints,l=s.prevBaseLine,c=s.totalLength;return i&&r&&r.length&&(!o&&c>0||!hZ(o,r)||!hZ(l,a))?this.renderAreaWithAnimation(e,t):this.renderAreaStatically(r,a,e,t)}},{key:"render",value:function(){var e,t=this.props,n=t.hide,r=t.dot,a=t.points,i=t.className,s=t.top,o=t.left,l=t.xAxis,c=t.yAxis,d=t.width,u=t.height,h=t.isAnimationActive,p=t.id;if(n||!a||!a.length)return null;var m=this.state.isAnimationFinished,f=1===a.length,g=Zu("recharts-area",i),x=l&&l.allowDataOverflow,y=c&&c.allowDataOverflow,v=x||y,w=bH(p)?this.id:p,j=null!==(e=fz(r,!1))&&void 0!==e?e:{r:3,strokeWidth:2},N=j.r,k=void 0===N?3:N,S=j.strokeWidth,C=void 0===S?2:S,_=(mz(r)?r:{}).clipDot,A=void 0===_||_,T=2*k+C;return b.createElement(zz,{className:g},x||y?b.createElement("defs",null,b.createElement("clipPath",{id:"clipPath-".concat(w)},b.createElement("rect",{x:x?o:o-d/2,y:y?s:s-u/2,width:x?d:2*d,height:y?u:2*u})),!A&&b.createElement("clipPath",{id:"clipPath-dots-".concat(w)},b.createElement("rect",{x:o-T/2,y:s-T/2,width:d+T,height:u+T}))):null,f?null:this.renderArea(v,w),(r||f)&&this.renderDots(v,A,w),(!h||m)&&D1.renderCallByParent(this.props,a))}}],r=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,curBaseLine:e.baseLine,prevPoints:t.curPoints,prevBaseLine:t.curBaseLine}:e.points!==t.curPoints||e.baseLine!==t.curBaseLine?{curPoints:e.points,curBaseLine:e.baseLine}:null}}],n&&V8(t.prototype,n),r&&V8(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();function Q8(e){return(Q8="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Z8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Z8=function(){return!!e})()}function e9(e){return(e9=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function t9(e,t){return(t9=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function n9(e,t,n){return(t=r9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r9(e){var t=function(e){if("object"!=Q8(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Q8(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Q8(t)?t:t+""}function a9(){return a9=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a9.apply(this,arguments)}function i9(e){var t=e.xAxisId,n=r7(),r=a7(),a=t7(t);return null==a?null:x.createElement(r8,a9({},a,{className:Zu("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(e){return F0(e,!0)}}))}R8=X8,K8(X8,"displayName","Area"),K8(X8,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!tG,animationBegin:0,animationDuration:1500,animationEasing:"ease"}),K8(X8,"getBaseValue",function(e,t,n,r){var a=e.layout,i=e.baseValue,s=t.props.baseValue,o=null!=s?s:i;if(FH(o)&&"number"==typeof o)return o;var l="horizontal"===a?r:n,c=l.scale.domain();if("number"===l.type){var d=Math.max(c[0],c[1]),u=Math.min(c[0],c[1]);return"dataMin"===o?u:"dataMax"===o||d<0?d:Math.max(Math.min(c[0],c[1]),0)}return"dataMin"===o?c[0]:"dataMax"===o?c[1]:c[0]}),K8(X8,"getComposedData",function(e){var t,n=e.props,r=e.item,a=e.xAxis,i=e.yAxis,s=e.xAxisTicks,o=e.yAxisTicks,l=e.bandSize,c=e.dataKey,d=e.stackedData,u=e.dataStartIndex,h=e.displayedData,p=e.offset,m=n.layout,f=d&&d.length,g=R8.getBaseValue(n,r,a,i),x="horizontal"===m,b=!1,y=h.map(function(e,t){var n;f?n=d[u+t]:(n=E0(e,c),Array.isArray(n)?b=!0:n=[g,n]);var r=null==n[1]||f&&null==E0(e,c);return x?{x:G0({axis:a,ticks:s,bandSize:l,entry:e,index:t}),y:r?null:i.scale(n[1]),value:n,payload:e}:{x:r?null:a.scale(n[1]),y:G0({axis:i,ticks:o,bandSize:l,entry:e,index:t}),value:n,payload:e}});return t=f||b?y.map(function(e){var t=Array.isArray(e.value)?e.value[0]:null;return x?{x:e.x,y:null!=t&&null!=e.y?i.scale(t):null}:{x:null!=t?a.scale(t):null,y:e.y}}):x?i.scale(g):a.scale(g),U8({points:y,baseLine:t,layout:m,isRange:b},p)}),K8(X8,"renderDotItem",function(e,t){var n;if(b.isValidElement(e))n=b.cloneElement(e,t);else if(jH(e))n=e(t);else{var r=Zu("recharts-area-dot","boolean"!=typeof e?e.className:""),a=t.key,i=B8(t,H8);n=b.createElement(W5,W8({},i,{key:a,className:r}))}return n});var s9=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),function(e,t,n){return t=e9(t),function(e,t){if(t&&("object"===Q8(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Z8()?Reflect.construct(t,n||[],e9(e).constructor):t.apply(e,n))}(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&t9(e,t)}(e,x.Component),t=e,(n=[{key:"render",value:function(){return x.createElement(i9,this.props)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r9(r.key),r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}();function o9(e){return(o9="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(l9=function(){return!!e})()}function c9(e){return(c9=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d9(e,t){return(d9=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function u9(e,t,n){return(t=h9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h9(e){var t=function(e){if("object"!=o9(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=o9(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==o9(t)?t:t+""}function p9(){return p9=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p9.apply(this,arguments)}n9(s9,"displayName","XAxis"),n9(s9,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});var m9=function(e){var t=e.yAxisId,n=r7(),r=a7(),a=n7(t);return null==a?null:x.createElement(r8,p9({},a,{className:Zu("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(e){return F0(e,!0)}}))},f9=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),function(e,t,n){return t=c9(t),function(e,t){if(t&&("object"===o9(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,l9()?Reflect.construct(t,n||[],c9(e).constructor):t.apply(e,n))}(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d9(e,t)}(e,x.Component),t=e,(n=[{key:"render",value:function(){return x.createElement(m9,this.props)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,h9(r.key),r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}();function g9(e){return function(e){if(Array.isArray(e))return x9(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return x9(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?x9(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x9(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}u9(f9,"displayName","YAxis"),u9(f9,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});var b9,y9=function(e,t,n,r,a){var i=dz(e,g7),s=dz(e,C7),o=[].concat(g9(i),g9(s)),l=dz(e,I7),c="".concat(r,"Id"),d=r[0],u=t;if(o.length&&(u=o.reduce(function(e,t){if(t.props[c]===n&&Q4(t.props,"extendDomain")&&FH(t.props[d])){var r=t.props[d];return[Math.min(e[0],r),Math.max(e[1],r)]}return e},u)),l.length){var h="".concat(d,"1"),p="".concat(d,"2");u=l.reduce(function(e,t){if(t.props[c]===n&&Q4(t.props,"extendDomain")&&FH(t.props[h])&&FH(t.props[p])){var r=t.props[h],a=t.props[p];return[Math.min(e[0],r,a),Math.max(e[1],r,a)]}return e},u)}return a&&a.length&&(u=a.reduce(function(e,t){return FH(t)?[Math.min(e[0],t),Math.max(e[1],t)]:e},u)),u},v9={exports:{}},w9=(b9||(b9=1,function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}function a(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function i(e,t,r,i,s){if("function"!=typeof r)throw new TypeError("The listener must be a function");var o=new a(r,i||e,s),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],o]:e._events[l].push(o):(e._events[l]=o,e._eventsCount++),e}function s(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function o(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),o.prototype.eventNames=function(){var e,r,a=[];if(0===this._eventsCount)return a;for(r in e=this._events)t.call(e,r)&&a.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?a.concat(Object.getOwnPropertySymbols(e)):a},o.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var a=0,i=r.length,s=new Array(i);a<i;a++)s[a]=r[a].fn;return s},o.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},o.prototype.emit=function(e,t,r,a,i,s){var o=n?n+e:e;if(!this._events[o])return!1;var l,c,d=this._events[o],u=arguments.length;if(d.fn){switch(d.once&&this.removeListener(e,d.fn,void 0,!0),u){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,t),!0;case 3:return d.fn.call(d.context,t,r),!0;case 4:return d.fn.call(d.context,t,r,a),!0;case 5:return d.fn.call(d.context,t,r,a,i),!0;case 6:return d.fn.call(d.context,t,r,a,i,s),!0}for(c=1,l=new Array(u-1);c<u;c++)l[c-1]=arguments[c];d.fn.apply(d.context,l)}else{var h,p=d.length;for(c=0;c<p;c++)switch(d[c].once&&this.removeListener(e,d[c].fn,void 0,!0),u){case 1:d[c].fn.call(d[c].context);break;case 2:d[c].fn.call(d[c].context,t);break;case 3:d[c].fn.call(d[c].context,t,r);break;case 4:d[c].fn.call(d[c].context,t,r,a);break;default:if(!l)for(h=1,l=new Array(u-1);h<u;h++)l[h-1]=arguments[h];d[c].fn.apply(d[c].context,l)}}return!0},o.prototype.on=function(e,t,n){return i(this,e,t,n,!1)},o.prototype.once=function(e,t,n){return i(this,e,t,n,!0)},o.prototype.removeListener=function(e,t,r,a){var i=n?n+e:e;if(!this._events[i])return this;if(!t)return s(this,i),this;var o=this._events[i];if(o.fn)o.fn!==t||a&&!o.once||r&&o.context!==r||s(this,i);else{for(var l=0,c=[],d=o.length;l<d;l++)(o[l].fn!==t||a&&!o[l].once||r&&o[l].context!==r)&&c.push(o[l]);c.length?this._events[i]=1===c.length?c[0]:c:s(this,i)}return this},o.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&s(this,t)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,e.exports=o}(v9)),v9.exports),j9=new(i(w9)),N9="recharts.syncMouseEvents";function k9(e){return(k9="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S9(e,t,n){return(t=C9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C9(e){var t=function(e){if("object"!=k9(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=k9(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==k9(t)?t:t+""}var _9=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),S9(this,"activeIndex",0),S9(this,"coordinateList",[]),S9(this,"layout","horizontal")},t=[{key:"setDetails",value:function(e){var t,n=e.coordinateList,r=void 0===n?null:n,a=e.container,i=void 0===a?null:a,s=e.layout,o=void 0===s?null:s,l=e.offset,c=void 0===l?null:l,d=e.mouseHandlerCallback,u=void 0===d?null:d;this.coordinateList=null!==(t=null!=r?r:this.coordinateList)&&void 0!==t?t:[],this.container=null!=i?i:this.container,this.layout=null!=o?o:this.layout,this.offset=null!=c?c:this.offset,this.mouseHandlerCallback=null!=u?u:this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(e){if(0!==this.coordinateList.length)switch(e.key){case"ArrowRight":if("horizontal"!==this.layout)return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break;case"ArrowLeft":if("horizontal"!==this.layout)return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse()}}},{key:"setIndex",value:function(e){this.activeIndex=e}},{key:"spoofMouse",value:function(){var e,t;if("horizontal"===this.layout&&0!==this.coordinateList.length){var n=this.container.getBoundingClientRect(),r=n.x,a=n.y,i=n.height,s=this.coordinateList[this.activeIndex].coordinate,o=(null===(e=window)||void 0===e?void 0:e.scrollX)||0,l=(null===(t=window)||void 0===t?void 0:t.scrollY)||0,c=r+s+o,d=a+this.offset.top+i/2+l;this.mouseHandlerCallback({pageX:c,pageY:d})}}}],t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,C9(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function A9(e){var t=e.cx,n=e.cy,r=e.radius,a=e.startAngle,i=e.endAngle;return{points:[c1(t,n,r,a),c1(t,n,r,i)],cx:t,cy:n,radius:r,startAngle:a,endAngle:i}}function T9(e,t,n){var r,a,i,s;if("horizontal"===e)i=r=t.x,a=n.top,s=n.top+n.height;else if("vertical"===e)s=a=t.y,r=n.left,i=n.left+n.width;else if(null!=t.cx&&null!=t.cy){if("centric"!==e)return A9(t);var o=t.cx,l=t.cy,c=t.innerRadius,d=t.outerRadius,u=t.angle,h=c1(o,l,c,u),p=c1(o,l,d,u);r=h.x,a=h.y,i=p.x,s=p.y}return[{x:r,y:a},{x:i,y:s}]}function O9(e){return(O9="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function M9(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E9(Object(n),!0).forEach(function(t){var r,a,i;r=e,a=t,i=n[t],a=function(e){var t=function(e,t){if("object"!=O9(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=O9(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==O9(t)?t:t+""}(a),a in r?Object.defineProperty(r,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[a]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E9(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function P9(e){var t,n,r,a=e.element,i=e.tooltipEventType,s=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,d=e.activeTooltipIndex,u=e.tooltipAxisBandSize,h=e.layout,p=e.chartName,m=null!==(t=a.props.cursor)&&void 0!==t?t:null===(n=a.type.defaultProps)||void 0===n?void 0:n.cursor;if(!a||!m||!s||!o||"ScatterChart"!==p&&"axis"!==i)return null;var f=n2;if("ScatterChart"===p)r=o,f=J5;else if("BarChart"===p)r=function(e,t,n,r){var a=r/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===e?t.x-a:n.left+.5,y:"horizontal"===e?n.top+.5:t.y-a,width:"horizontal"===e?r:n.width-1,height:"horizontal"===e?n.height-1:r}}(h,o,c,u),f=P5;else if("radial"===h){var g=A9(o),b=g.cx,y=g.cy,v=g.radius;r={cx:b,cy:y,startAngle:g.startAngle,endAngle:g.endAngle,innerRadius:v,outerRadius:v},f=W1}else r={points:T9(h,o,c)},f=n2;var w=M9(M9(M9(M9({stroke:"#ccc",pointerEvents:"none"},c),r),fz(m,!1)),{},{payload:l,payloadIndex:d,className:Zu("recharts-tooltip-cursor",m.className)});return x.isValidElement(m)?x.cloneElement(m,w):x.createElement(f,w)}var D9=["item"],L9=["children","className","width","height","style","compact","title","desc"];function I9(e){return(I9="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R9(){return R9=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},R9.apply(this,arguments)}function F9(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,s,o=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t);else for(;!(l=(r=i.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(d){c=!0,a=d}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}(e,t)||U9(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H9(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function z9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(z9=function(){return!!e})()}function B9(e){return(B9=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function W9(e,t){return(W9=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function $9(e){return function(e){if(Array.isArray(e))return V9(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||U9(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U9(e,t){if(e){if("string"==typeof e)return V9(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?V9(e,t):void 0}}function V9(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function q9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function G9(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q9(Object(n),!0).forEach(function(t){Y9(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q9(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Y9(e,t,n){return(t=K9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function K9(e){var t=function(e,t){if("object"!=I9(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=I9(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==I9(t)?t:t+""}var J9={xAxis:["bottom","top"],yAxis:["left","right"]},X9={width:"100%",height:"100%"},Q9={x:0,y:0};function Z9(e){return e}var eee=function(e,t){var n=t.graphicalItems,r=t.dataStartIndex,a=t.dataEndIndex,i=(null!=n?n:[]).reduce(function(e,t){var n=t.props.data;return n&&n.length?[].concat($9(e),$9(n)):e},[]);return i.length>0?i:e&&e.length&&FH(r)&&FH(a)?e.slice(r,a+1):[]};function tee(e){return"number"===e?[0,"auto"]:void 0}var nee=function(e,t,n,r){var a=e.graphicalItems,i=e.tooltipAxis,s=eee(t,e);return n<0||!a||!a.length||n>=s.length?null:a.reduce(function(a,o){var l,c,d=null!==(l=o.props.data)&&void 0!==l?l:t;return d&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(d=d.slice(e.dataStartIndex,e.dataEndIndex+1)),(c=i.dataKey&&!i.allowDuplicatedCategory?VH(void 0===d?s:d,i.dataKey,r):d&&d[n]||s[n])?[].concat($9(a),[t1(o,c)]):a},[])},ree=function(e,t,n,r){var a=r||{x:e.chartX,y:e.chartY},i=function(e,t){return"horizontal"===t?e.x:"vertical"===t?e.y:"centric"===t?e.angle:e.radius}(a,n),s=e.orderedTooltipTicks,o=e.tooltipAxis,l=e.tooltipTicks,c=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,i=-1,s=null!==(t=null==n?void 0:n.length)&&void 0!==t?t:0;if(s<=1)return 0;if(a&&"angleAxis"===a.axisType&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var o=a.range,l=0;l<s;l++){var c=l>0?r[l-1].coordinate:r[s-1].coordinate,d=r[l].coordinate,u=l>=s-1?r[0].coordinate:r[l+1].coordinate,h=void 0;if(IH(d-c)!==IH(u-d)){var p=[];if(IH(u-d)===IH(o[1]-o[0])){h=u;var m=d+o[1]-o[0];p[0]=Math.min(m,(m+c)/2),p[1]=Math.max(m,(m+c)/2)}else{h=c;var f=u+o[1]-o[0];p[0]=Math.min(d,(f+d)/2),p[1]=Math.max(d,(f+d)/2)}var g=[Math.min(d,(h+d)/2),Math.max(d,(h+d)/2)];if(e>g[0]&&e<=g[1]||e>=p[0]&&e<=p[1]){i=r[l].index;break}}else{var x=Math.min(c,u),b=Math.max(c,u);if(e>(x+d)/2&&e<=(b+d)/2){i=r[l].index;break}}}else for(var y=0;y<s;y++)if(0===y&&e<=(n[y].coordinate+n[y+1].coordinate)/2||y>0&&y<s-1&&e>(n[y].coordinate+n[y-1].coordinate)/2&&e<=(n[y].coordinate+n[y+1].coordinate)/2||y===s-1&&e>(n[y].coordinate+n[y-1].coordinate)/2){i=n[y].index;break}return i}(i,s,l,o);if(c>=0&&l){var d=l[c]&&l[c].value,u=nee(e,t,c,d),h=function(e,t,n,r){var a=t.find(function(e){return e&&e.index===n});if(a){if("horizontal"===e)return{x:a.coordinate,y:r.y};if("vertical"===e)return{x:r.x,y:a.coordinate};if("centric"===e){var i=a.coordinate,s=r.radius;return G9(G9(G9({},r),c1(r.cx,r.cy,s,i)),{},{angle:i,radius:s})}var o=a.coordinate,l=r.angle;return G9(G9(G9({},r),c1(r.cx,r.cy,o,l)),{},{angle:l,radius:o})}return Q9}(n,s,c,a);return{activeTooltipIndex:c,activeLabel:d,activePayload:u,activeCoordinate:h}}return null},aee=function(e,t){var n=t.axisType,r=void 0===n?"xAxis":n,a=t.AxisComp,i=t.graphicalItems,s=t.stackGroups,o=t.dataStartIndex,l=t.dataEndIndex,c=e.children,d="".concat(r,"Id"),u=dz(c,a),h={};return u&&u.length?h=function(e,t){var n=t.axes,r=t.graphicalItems,a=t.axisType,i=t.axisIdKey,s=t.stackGroups,o=t.dataStartIndex,l=t.dataEndIndex,c=e.layout,d=e.children,u=e.stackOffset,h=I0(c,a);return n.reduce(function(t,n){var p,m=void 0!==n.type.defaultProps?G9(G9({},n.type.defaultProps),n.props):n.props,f=m.type,g=m.dataKey,x=m.allowDataOverflow,b=m.allowDuplicatedCategory,y=m.scale,v=m.ticks,w=m.includeHidden,j=m[i];if(t[j])return t;var N,k,S,C=eee(e.data,{graphicalItems:r.filter(function(e){var t;return(i in e.props?e.props[i]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[i])===j}),dataStartIndex:o,dataEndIndex:l}),_=C.length;(function(e,t,n){if("number"===n&&!0===t&&Array.isArray(e)){var r=null==e?void 0:e[0],a=null==e?void 0:e[1];if(r&&a&&FH(r)&&FH(a))return!0}return!1})(m.domain,x,f)&&(N=Q0(m.domain,null,x),!h||"number"!==f&&"auto"===y||(S=M0(C,g,"category")));var A=tee(f);if(!N||0===N.length){var T,O=null!==(T=m.domain)&&void 0!==T?T:A;if(g){if(N=M0(C,g,f),"category"===f&&h){var E=function(e){if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++){if(n[e[r]])return!0;n[e[r]]=!0}return!1}(N);b&&E?(k=N,N=S4(0,_)):b||(N=e1(O,N,n).reduce(function(e,t){return e.indexOf(t)>=0?e:[].concat($9(e),[t])},[]))}else if("category"===f)N=b?N.filter(function(e){return""!==e&&!bH(e)}):e1(O,N,n).reduce(function(e,t){return e.indexOf(t)>=0||""===t||bH(t)?e:[].concat($9(e),[t])},[]);else if("number"===f){var M=function(e,t,n,r,a){var i=t.map(function(t){return D0(e,t,n,a,r)}).filter(function(e){return!bH(e)});return i&&i.length?i.reduce(function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]},[1/0,-1/0]):null}(C,r.filter(function(e){var t,n,r=i in e.props?e.props[i]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[i],a="hide"in e.props?e.props.hide:null===(n=e.type.defaultProps)||void 0===n?void 0:n.hide;return r===j&&(w||!a)}),g,a,c);M&&(N=M)}!h||"number"!==f&&"auto"===y||(S=M0(C,g,"category"))}else N=h?S4(0,_):s&&s[j]&&s[j].hasStack&&"number"===f?"expand"===u?[0,1]:K0(s[j].stackGroups,o,l):L0(C,r.filter(function(e){var t=i in e.props?e.props[i]:e.type.defaultProps[i],n="hide"in e.props?e.props.hide:e.type.defaultProps.hide;return t===j&&(w||!n)}),f,c,!0);if("number"===f)N=y9(d,N,j,a,v),O&&(N=Q0(O,N,x));else if("category"===f&&O){var P=O;N.every(function(e){return P.indexOf(e)>=0})&&(N=P)}}return G9(G9({},t),{},Y9({},j,G9(G9({},m),{},{axisType:a,domain:N,categoricalDomain:S,duplicateDomain:k,originalDomain:null!==(p=m.domain)&&void 0!==p?p:A,isCategorical:h,layout:c})))},{})}(e,{axes:u,graphicalItems:i,axisType:r,axisIdKey:d,stackGroups:s,dataStartIndex:o,dataEndIndex:l}):i&&i.length&&(h=function(e,t){var n=t.graphicalItems,r=t.Axis,a=t.axisType,i=t.axisIdKey,s=t.stackGroups,o=t.dataStartIndex,l=t.dataEndIndex,c=e.layout,d=e.children,u=eee(e.data,{graphicalItems:n,dataStartIndex:o,dataEndIndex:l}),h=u.length,p=I0(c,a),m=-1;return n.reduce(function(e,t){var f,g=(void 0!==t.type.defaultProps?G9(G9({},t.type.defaultProps),t.props):t.props)[i],x=tee("number");return e[g]?e:(m++,p?f=S4(0,h):s&&s[g]&&s[g].hasStack?(f=K0(s[g].stackGroups,o,l),f=y9(d,f,g,a)):(f=Q0(x,L0(u,n.filter(function(e){var t,n,r=i in e.props?e.props[i]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[i],a="hide"in e.props?e.props.hide:null===(n=e.type.defaultProps)||void 0===n?void 0:n.hide;return r===g&&!a}),"number",c),r.defaultProps.allowDataOverflow),f=y9(d,f,g,a)),G9(G9({},e),{},Y9({},g,G9(G9({axisType:a},r.defaultProps),{},{hide:!0,orientation:fH(J9,"".concat(a,".").concat(m%2),null),domain:f,originalDomain:x,isCategorical:p,layout:c}))))},{})}(e,{Axis:a,graphicalItems:i,axisType:r,axisIdKey:d,stackGroups:s,dataStartIndex:o,dataEndIndex:l})),h},iee=function(e){var t=e.children,n=e.defaultShowTooltip,r=uz(t,q4),a=0,i=0;return e.data&&0!==e.data.length&&(i=e.data.length-1),r&&r.props&&(r.props.startIndex>=0&&(a=r.props.startIndex),r.props.endIndex>=0&&(i=r.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:i,activeTooltipIndex:-1,isTooltipActive:Boolean(n)}},see=function(e){return"horizontal"===e?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:"vertical"===e?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:"centric"===e?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},oee=function(e,t){return"xAxis"===t?e[t].width:"yAxis"===t?e[t].height:void 0},lee=function(e){var t=e.chartName,n=e.GraphicalChild,r=e.defaultTooltipEventType,a=void 0===r?"axis":r,i=e.validateTooltipEventTypes,s=void 0===i?["axis"]:i,o=e.axisComponents,l=e.legendContent,c=e.formatAxisMap,d=e.defaultProps,u=function(e,r){var a=e.props,i=e.dataStartIndex,s=e.dataEndIndex,l=e.updateId;if(!hz({props:a}))return null;var d=a.children,u=a.layout,h=a.stackOffset,p=a.data,m=a.reverseStackOrder,f=see(u),g=f.numericAxisName,x=f.cateAxisName,b=dz(d,n),y=function(e,t,n,r,a,i){if(!e)return null;var s=(i?t.reverse():t).reduce(function(e,t){var a,i=null!==(a=t.type)&&void 0!==a&&a.defaultProps?T0(T0({},t.type.defaultProps),t.props):t.props,s=i.stackId;if(i.hide)return e;var o=i[n],l=e[o]||{hasStack:!1,stackGroups:{}};if(HH(s)){var c=l.stackGroups[s]||{numericAxisId:n,cateAxisId:r,items:[]};c.items.push(t),l.hasStack=!0,l.stackGroups[s]=c}else l.stackGroups[BH("_stackId_")]={numericAxisId:n,cateAxisId:r,items:[t]};return T0(T0({},e),{},O0({},o,l))},{});return Object.keys(s).reduce(function(t,i){var o=s[i];return o.hasStack&&(o.stackGroups=Object.keys(o.stackGroups).reduce(function(t,i){var s=o.stackGroups[i];return T0(T0({},t),{},O0({},i,{numericAxisId:n,cateAxisId:r,items:s.items,stackedData:V0(e,s.items,a)}))},{})),T0(T0({},t),{},O0({},i,o))},{})}(p,b,"".concat(g,"Id"),"".concat(x,"Id"),h,m),v=o.reduce(function(e,t){var n="".concat(t.axisType,"Map");return G9(G9({},e),{},Y9({},n,aee(a,G9(G9({},t),{},{graphicalItems:b,stackGroups:t.axisType===g&&y,dataStartIndex:i,dataEndIndex:s}))))},{}),w=function(e,t){var n=e.props,r=(e.graphicalItems,e.xAxisMap),a=void 0===r?{}:r,i=e.yAxisMap,s=void 0===i?{}:i,o=n.width,l=n.height,c=n.children,d=n.margin||{},u=uz(c,q4),h=uz(c,Nq),p=Object.keys(s).reduce(function(e,t){var n=s[t],r=n.orientation;return n.mirror||n.hide?e:G9(G9({},e),{},Y9({},r,e[r]+n.width))},{left:d.left||0,right:d.right||0}),m=Object.keys(a).reduce(function(e,t){var n=a[t],r=n.orientation;return n.mirror||n.hide?e:G9(G9({},e),{},Y9({},r,fH(e,"".concat(r))+n.height))},{top:d.top||0,bottom:d.bottom||0}),f=G9(G9({},m),p),g=f.bottom;u&&(f.bottom+=u.props.height||q4.defaultProps.height),h&&t&&(f=function(e,t,n,r){var a=n.children,i=n.width,s=n.margin,o=i-(s.left||0)-(s.right||0),l=k0({children:a,legendWidth:o});if(l){var c=r||{},d=c.width,u=c.height,h=l.align,p=l.verticalAlign,m=l.layout;if(("vertical"===m||"horizontal"===m&&"middle"===p)&&"center"!==h&&FH(e[h]))return T0(T0({},e),{},O0({},h,e[h]+(d||0)));if(("horizontal"===m||"vertical"===m&&"center"===h)&&"middle"!==p&&FH(e[p]))return T0(T0({},e),{},O0({},p,e[p]+(u||0)))}return e}(f,0,n,t));var x=o-f.left-f.right,b=l-f.top-f.bottom;return G9(G9({brushBottom:g},f),{},{width:Math.max(x,0),height:Math.max(b,0)})}(G9(G9({},v),{},{props:a,graphicalItems:b}),null==r?void 0:r.legendBBox);Object.keys(v).forEach(function(e){v[e]=c(a,v[e],w,e.replace("Map",""),t)});var j,N,k=v["".concat(x,"Map")],S=(j=$H(k),{tooltipTicks:N=F0(j,!1,!0),orderedTooltipTicks:Mq(N,function(e){return e.coordinate}),tooltipAxis:j,tooltipAxisBandSize:Z0(j,N)}),C=function(e,t){var n=t.graphicalItems,r=t.stackGroups,a=t.offset,i=t.updateId,s=t.dataStartIndex,l=t.dataEndIndex,c=e.barSize,d=e.layout,u=e.barGap,h=e.barCategoryGap,p=e.maxBarSize,m=see(d),f=m.numericAxisName,g=m.cateAxisName,x=function(e){return!(!e||!e.length)&&e.some(function(e){var t=sz(e&&e.type);return t&&t.indexOf("Bar")>=0})}(n),b=[];return n.forEach(function(n,m){var y=eee(e.data,{graphicalItems:[n],dataStartIndex:s,dataEndIndex:l}),v=void 0!==n.type.defaultProps?G9(G9({},n.type.defaultProps),n.props):n.props,w=v.dataKey,j=v.maxBarSize,N=v["".concat(f,"Id")],k=v["".concat(g,"Id")],S=o.reduce(function(e,n){var r=t["".concat(n.axisType,"Map")],a=v["".concat(n.axisType,"Id")];r&&r[a]||"zAxis"===n.axisType||d0();var i=r[a];return G9(G9({},e),{},Y9(Y9({},n.axisType,i),"".concat(n.axisType,"Ticks"),F0(i)))},{}),C=S[g],_=S["".concat(g,"Ticks")],A=r&&r[N]&&r[N].hasStack&&function(e,t){var n,r=(null!==(n=e.type)&&void 0!==n&&n.defaultProps?T0(T0({},e.type.defaultProps),e.props):e.props).stackId;if(HH(r)){var a=t[r];if(a){var i=a.items.indexOf(e);return i>=0?a.stackedData[i]:null}}return null}(n,r[N].stackGroups),T=sz(n.type).indexOf("Bar")>=0,O=Z0(C,_),E=[],M=x&&function(e){var t=e.barSize,n=e.totalSize,r=e.stackGroups,a=void 0===r?{}:r;if(!a)return{};for(var i={},s=Object.keys(a),o=0,l=s.length;o<l;o++)for(var c=a[s[o]].stackGroups,d=Object.keys(c),u=0,h=d.length;u<h;u++){var p=c[d[u]],m=p.items,f=p.cateAxisId,g=m.filter(function(e){return sz(e.type).indexOf("Bar")>=0});if(g&&g.length){var x=g[0].type.defaultProps,b=void 0!==x?T0(T0({},x),g[0].props):g[0].props,y=b.barSize,v=b[f];i[v]||(i[v]=[]);var w=bH(y)?t:y;i[v].push({item:g[0],stackList:g.slice(1),barSize:bH(w)?void 0:WH(w,n,0)})}}return i}({barSize:c,stackGroups:r,totalSize:oee(S,g)});if(T){var P,D,L=bH(j)?p:j,I=null!==(P=null!==(D=Z0(C,_,!0))&&void 0!==D?D:L)&&void 0!==P?P:0;E=function(e){var t=e.barGap,n=e.barCategoryGap,r=e.bandSize,a=e.sizeList,i=void 0===a?[]:a,s=e.maxBarSize,o=i.length;if(o<1)return null;var l,c=WH(t,r,0,!0),d=[];if(i[0].barSize===+i[0].barSize){var u=!1,h=r/o,p=i.reduce(function(e,t){return e+t.barSize||0},0);(p+=(o-1)*c)>=r&&(p-=(o-1)*c,c=0),p>=r&&h>0&&(u=!0,p=o*(h*=.9));var m={offset:((r-p)/2|0)-c,size:0};l=i.reduce(function(e,t){var n={item:t.item,position:{offset:m.offset+m.size+c,size:u?h:t.barSize}},r=[].concat(C0(e),[n]);return m=r[r.length-1].position,t.stackList&&t.stackList.length&&t.stackList.forEach(function(e){r.push({item:e,position:m})}),r},d)}else{var f=WH(n,r,0,!0);r-2*f-(o-1)*c<=0&&(c=0);var g=(r-2*f-(o-1)*c)/o;g>1&&(g>>=0);var x=s===+s?Math.min(g,s):g;l=i.reduce(function(e,t,n){var r=[].concat(C0(e),[{item:t.item,position:{offset:f+(g+c)*n+(g-x)/2,size:x}}]);return t.stackList&&t.stackList.length&&t.stackList.forEach(function(e){r.push({item:e,position:r[r.length-1].position})}),r},d)}return l}({barGap:u,barCategoryGap:h,bandSize:I!==O?I:O,sizeList:M[k],maxBarSize:L}),I!==O&&(E=E.map(function(e){return G9(G9({},e),{},{position:G9(G9({},e.position),{},{offset:e.position.offset-I/2})})}))}var R,F,H=n&&n.type&&n.type.getComposedData;H&&b.push({props:G9(G9({},H(G9(G9({},S),{},{displayedData:y,props:e,dataKey:w,item:n,bandSize:O,barPosition:E,offset:a,stackedData:A,layout:d,dataStartIndex:s,dataEndIndex:l}))),{},Y9(Y9(Y9({key:n.key||"item-".concat(m)},f,S[f]),g,S[g]),"animationId",i)),childIndex:(R=n,F=e.children,cz(F).indexOf(R)),item:n})}),b}(a,G9(G9({},v),{},{dataStartIndex:i,dataEndIndex:s,updateId:l,graphicalItems:b,stackGroups:y,offset:w}));return G9(G9({formattedGraphicalItems:C,graphicalItems:b,offset:w,stackGroups:y},S),v)},h=function(){function e(n){var r,a,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Y9(i=function(e,t,n){return t=B9(t),function(e,t){if(t&&("object"===I9(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,z9()?Reflect.construct(t,n||[],B9(e).constructor):t.apply(e,n))}(this,e,[n]),"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Y9(i,"accessibilityManager",new _9),Y9(i,"handleLegendBBoxUpdate",function(e){if(e){var t=i.state,n=t.dataStartIndex,r=t.dataEndIndex,a=t.updateId;i.setState(G9({legendBBox:e},u({props:i.props,dataStartIndex:n,dataEndIndex:r,updateId:a},G9(G9({},i.state),{},{legendBBox:e}))))}}),Y9(i,"handleReceiveSyncEvent",function(e,t,n){if(i.props.syncId===e){if(n===i.eventEmitterSymbol&&"function"!=typeof i.props.syncMethod)return;i.applySyncEvent(t)}}),Y9(i,"handleBrushChange",function(e){var t=e.startIndex,n=e.endIndex;if(t!==i.state.dataStartIndex||n!==i.state.dataEndIndex){var r=i.state.updateId;i.setState(function(){return G9({dataStartIndex:t,dataEndIndex:n},u({props:i.props,dataStartIndex:t,dataEndIndex:n,updateId:r},i.state))}),i.triggerSyncEvent({dataStartIndex:t,dataEndIndex:n})}}),Y9(i,"handleMouseEnter",function(e){var t=i.getMouseInfo(e);if(t){var n=G9(G9({},t),{},{isTooltipActive:!0});i.setState(n),i.triggerSyncEvent(n);var r=i.props.onMouseEnter;jH(r)&&r(n,e)}}),Y9(i,"triggeredAfterMouseMove",function(e){var t=i.getMouseInfo(e),n=t?G9(G9({},t),{},{isTooltipActive:!0}):{isTooltipActive:!1};i.setState(n),i.triggerSyncEvent(n);var r=i.props.onMouseMove;jH(r)&&r(n,e)}),Y9(i,"handleItemMouseEnter",function(e){i.setState(function(){return{isTooltipActive:!0,activeItem:e,activePayload:e.tooltipPayload,activeCoordinate:e.tooltipPosition||{x:e.cx,y:e.cy}}})}),Y9(i,"handleItemMouseLeave",function(){i.setState(function(){return{isTooltipActive:!1}})}),Y9(i,"handleMouseMove",function(e){e.persist(),i.throttleTriggeredAfterMouseMove(e)}),Y9(i,"handleMouseLeave",function(e){i.throttleTriggeredAfterMouseMove.cancel();var t={isTooltipActive:!1};i.setState(t),i.triggerSyncEvent(t);var n=i.props.onMouseLeave;jH(n)&&n(t,e)}),Y9(i,"handleOuterEvent",function(e){var t,n=function(e){var t=e&&e.type;return t&&iz[t]?iz[t]:null}(e),r=fH(i.props,"".concat(n));n&&jH(r)&&r(null!==(t=/.*touch.*/i.test(n)?i.getMouseInfo(e.changedTouches[0]):i.getMouseInfo(e))&&void 0!==t?t:{},e)}),Y9(i,"handleClick",function(e){var t=i.getMouseInfo(e);if(t){var n=G9(G9({},t),{},{isTooltipActive:!0});i.setState(n),i.triggerSyncEvent(n);var r=i.props.onClick;jH(r)&&r(n,e)}}),Y9(i,"handleMouseDown",function(e){var t=i.props.onMouseDown;jH(t)&&t(i.getMouseInfo(e),e)}),Y9(i,"handleMouseUp",function(e){var t=i.props.onMouseUp;jH(t)&&t(i.getMouseInfo(e),e)}),Y9(i,"handleTouchMove",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&i.throttleTriggeredAfterMouseMove(e.changedTouches[0])}),Y9(i,"handleTouchStart",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&i.handleMouseDown(e.changedTouches[0])}),Y9(i,"handleTouchEnd",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&i.handleMouseUp(e.changedTouches[0])}),Y9(i,"handleDoubleClick",function(e){var t=i.props.onDoubleClick;jH(t)&&t(i.getMouseInfo(e),e)}),Y9(i,"handleContextMenu",function(e){var t=i.props.onContextMenu;jH(t)&&t(i.getMouseInfo(e),e)}),Y9(i,"triggerSyncEvent",function(e){void 0!==i.props.syncId&&j9.emit(N9,i.props.syncId,e,i.eventEmitterSymbol)}),Y9(i,"applySyncEvent",function(e){var t=i.props,n=t.layout,r=t.syncMethod,a=i.state.updateId,s=e.dataStartIndex,o=e.dataEndIndex;if(void 0!==e.dataStartIndex||void 0!==e.dataEndIndex)i.setState(G9({dataStartIndex:s,dataEndIndex:o},u({props:i.props,dataStartIndex:s,dataEndIndex:o,updateId:a},i.state)));else if(void 0!==e.activeTooltipIndex){var l=e.chartX,c=e.chartY,d=e.activeTooltipIndex,h=i.state,p=h.offset,m=h.tooltipTicks;if(!p)return;if("function"==typeof r)d=r(m,e);else if("value"===r){d=-1;for(var f=0;f<m.length;f++)if(m[f].value===e.activeLabel){d=f;break}}var g=G9(G9({},p),{},{x:p.left,y:p.top}),x=Math.min(l,g.x+g.width),b=Math.min(c,g.y+g.height),y=m[d]&&m[d].value,v=nee(i.state,i.props.data,d),w=m[d]?{x:"horizontal"===n?m[d].coordinate:x,y:"horizontal"===n?b:m[d].coordinate}:Q9;i.setState(G9(G9({},e),{},{activeLabel:y,activeCoordinate:w,activePayload:v,activeTooltipIndex:d}))}else i.setState(e)}),Y9(i,"renderCursor",function(e){var n,r=i.state,a=r.isTooltipActive,s=r.activeCoordinate,o=r.activePayload,l=r.offset,c=r.activeTooltipIndex,d=r.tooltipAxisBandSize,u=i.getTooltipEventType(),h=null!==(n=e.props.active)&&void 0!==n?n:a,p=i.props.layout,m=e.key||"_recharts-cursor";return b.createElement(P9,{key:m,activeCoordinate:s,activePayload:o,activeTooltipIndex:c,chartName:t,element:e,isActive:h,layout:p,offset:l,tooltipAxisBandSize:d,tooltipEventType:u})}),Y9(i,"renderPolarAxis",function(e,t,n){var r=fH(e,"type.axisType"),a=fH(i.state,"".concat(r,"Map")),s=e.type.defaultProps,o=void 0!==s?G9(G9({},s),e.props):e.props,l=a&&a[o["".concat(r,"Id")]];return x.cloneElement(e,G9(G9({},l),{},{className:Zu(r,l.className),key:e.key||"".concat(t,"-").concat(n),ticks:F0(l,!0)}))}),Y9(i,"renderPolarGrid",function(e){var t=e.props,n=t.radialLines,r=t.polarAngles,a=t.polarRadius,s=i.state,o=s.radiusAxisMap,l=s.angleAxisMap,c=$H(o),d=$H(l),u=d.cx,h=d.cy,p=d.innerRadius,m=d.outerRadius;return x.cloneElement(e,{polarAngles:Array.isArray(r)?r:F0(d,!0).map(function(e){return e.coordinate}),polarRadius:Array.isArray(a)?a:F0(c,!0).map(function(e){return e.coordinate}),cx:u,cy:h,innerRadius:p,outerRadius:m,key:e.key||"polar-grid",radialLines:n})}),Y9(i,"renderLegend",function(){var e=i.state.formattedGraphicalItems,t=i.props,n=t.children,r=t.width,a=t.height,s=i.props.margin||{},o=r-(s.left||0)-(s.right||0),c=k0({children:n,formattedGraphicalItems:e,legendWidth:o,legendContent:l});if(!c)return null;var d=c.item,u=H9(c,D9);return x.cloneElement(d,G9(G9({},u),{},{chartWidth:r,chartHeight:a,margin:s,onBBoxUpdate:i.handleLegendBBoxUpdate}))}),Y9(i,"renderTooltip",function(){var e,t=i.props,n=t.children,r=t.accessibilityLayer,a=uz(n,NG);if(!a)return null;var s=i.state,o=s.isTooltipActive,l=s.activeCoordinate,c=s.activePayload,d=s.activeLabel,u=s.offset,h=null!==(e=a.props.active)&&void 0!==e?e:o;return x.cloneElement(a,{viewBox:G9(G9({},u),{},{x:u.left,y:u.top}),active:h,label:d,payload:h?c:[],coordinate:l,accessibilityLayer:r})}),Y9(i,"renderBrush",function(e){var t=i.props,n=t.margin,r=t.data,a=i.state,s=a.offset,o=a.dataStartIndex,l=a.dataEndIndex,c=a.updateId;return x.cloneElement(e,{key:e.key||"_recharts-brush",onChange:z0(i.handleBrushChange,e.props.onChange),data:r,x:FH(e.props.x)?e.props.x:s.left,y:FH(e.props.y)?e.props.y:s.top+s.height+s.brushBottom-(n.bottom||0),width:FH(e.props.width)?e.props.width:s.width,startIndex:o,endIndex:l,updateId:"brush-".concat(c)})}),Y9(i,"renderReferenceElement",function(e,t,n){if(!e)return null;var r=i.clipPathId,a=i.state,s=a.xAxisMap,o=a.yAxisMap,l=a.offset,c=e.type.defaultProps||{},d=e.props,u=d.xAxisId,h=void 0===u?c.xAxisId:u,p=d.yAxisId,m=void 0===p?c.yAxisId:p;return x.cloneElement(e,{key:e.key||"".concat(t,"-").concat(n),xAxis:s[h],yAxis:o[m],viewBox:{x:l.left,y:l.top,width:l.width,height:l.height},clipPathId:r})}),Y9(i,"renderActivePoints",function(t){var n=t.item,r=t.activePoint,a=t.basePoint,i=t.childIndex,s=t.isRange,o=[],l=n.props.key,c=void 0!==n.item.type.defaultProps?G9(G9({},n.item.type.defaultProps),n.item.props):n.item.props,d=c.activeDot,u=G9(G9({index:i,dataKey:c.dataKey,cx:r.x,cy:r.y,r:4,fill:P0(n.item),strokeWidth:2,stroke:"#fff",payload:r.payload,value:r.value},fz(d,!1)),ZH(d));return o.push(e.renderActiveDot(d,u,"".concat(l,"-activePoint-").concat(i))),a?o.push(e.renderActiveDot(d,G9(G9({},u),{},{cx:a.x,cy:a.y}),"".concat(l,"-basePoint-").concat(i))):s&&o.push(null),o}),Y9(i,"renderGraphicChild",function(e,t,n){var r=i.filterFormatItem(e,t,n);if(!r)return null;var a=i.getTooltipEventType(),s=i.state,o=s.isTooltipActive,l=s.tooltipAxis,c=s.activeTooltipIndex,d=s.activeLabel,u=uz(i.props.children,NG),h=r.props,p=h.points,m=h.isRange,f=h.baseLine,g=void 0!==r.item.type.defaultProps?G9(G9({},r.item.type.defaultProps),r.item.props):r.item.props,b=g.activeDot,y=g.hide,v=g.activeBar,w=g.activeShape,j=Boolean(!y&&o&&u&&(b||v||w)),N={};"axis"!==a&&u&&"click"===u.props.trigger?N={onClick:z0(i.handleItemMouseEnter,e.props.onClick)}:"axis"!==a&&(N={onMouseLeave:z0(i.handleItemMouseLeave,e.props.onMouseLeave),onMouseEnter:z0(i.handleItemMouseEnter,e.props.onMouseEnter)});var k=x.cloneElement(e,G9(G9({},r.props),N));if(j){if(!(c>=0)){var S,C=(null!==(S=i.getItemByXY(i.state.activeCoordinate))&&void 0!==S?S:{graphicalItem:k}).graphicalItem,_=C.item,A=void 0===_?e:_,T=C.childIndex,O=G9(G9(G9({},r.props),N),{},{activeIndex:T});return[x.cloneElement(A,O),null,null]}var E,M;if(l.dataKey&&!l.allowDuplicatedCategory){var P="function"==typeof l.dataKey?function(e){return"function"==typeof l.dataKey?l.dataKey(e.payload):null}:"payload.".concat(l.dataKey.toString());E=VH(p,P,d),M=m&&f&&VH(f,P,d)}else E=null==p?void 0:p[c],M=m&&f&&f[c];if(w||v){var D=void 0!==e.props.activeIndex?e.props.activeIndex:c;return[x.cloneElement(e,G9(G9(G9({},r.props),N),{},{activeIndex:D})),null,null]}if(!bH(E))return[k].concat($9(i.renderActivePoints({item:r,activePoint:E,basePoint:M,childIndex:c,isRange:m})))}return m?[k,null,null]:[k,null]}),Y9(i,"renderCustomized",function(e,t,n){return x.cloneElement(e,G9(G9({key:"recharts-customized-".concat(n)},i.props),i.state))}),Y9(i,"renderMap",{CartesianGrid:{handler:Z9,once:!0},ReferenceArea:{handler:i.renderReferenceElement},ReferenceLine:{handler:Z9},ReferenceDot:{handler:i.renderReferenceElement},XAxis:{handler:Z9},YAxis:{handler:Z9},Brush:{handler:i.renderBrush,once:!0},Bar:{handler:i.renderGraphicChild},Line:{handler:i.renderGraphicChild},Area:{handler:i.renderGraphicChild},Radar:{handler:i.renderGraphicChild},RadialBar:{handler:i.renderGraphicChild},Scatter:{handler:i.renderGraphicChild},Pie:{handler:i.renderGraphicChild},Funnel:{handler:i.renderGraphicChild},Tooltip:{handler:i.renderCursor,once:!0},PolarGrid:{handler:i.renderPolarGrid,once:!0},PolarAngleAxis:{handler:i.renderPolarAxis},PolarRadiusAxis:{handler:i.renderPolarAxis},Customized:{handler:i.renderCustomized}}),i.clipPathId="".concat(null!==(r=n.id)&&void 0!==r?r:BH("recharts"),"-clip"),i.throttleTriggeredAfterMouseMove=SG(i.triggeredAfterMouseMove,null!==(a=n.throttleDelay)&&void 0!==a?a:1e3/60),i.state={},i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&W9(e,t)}(e,x.Component),n=e,r=[{key:"componentDidMount",value:function(){var e,t;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:null!==(e=this.props.margin.left)&&void 0!==e?e:0,top:null!==(t=this.props.margin.top)&&void 0!==t?t:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var e=this.props,t=e.children,n=e.data,r=e.height,a=e.layout,i=uz(t,NG);if(i){var s=i.props.defaultIndex;if(!("number"!=typeof s||s<0||s>this.state.tooltipTicks.length-1)){var o=this.state.tooltipTicks[s]&&this.state.tooltipTicks[s].value,l=nee(this.state,n,s,o),c=this.state.tooltipTicks[s].coordinate,d=(this.state.offset.top+r)/2,u="horizontal"===a?{x:c,y:d}:{y:c,x:d},h=this.state.formattedGraphicalItems.find(function(e){return"Scatter"===e.item.type.name});h&&(u=G9(G9({},u),h.props.points[s].tooltipPosition),l=h.props.points[s].tooltipPayload);var p={activeTooltipIndex:s,isTooltipActive:!0,activeLabel:o,activePayload:l,activeCoordinate:u};this.setState(p),this.renderCursor(i),this.accessibilityManager.setIndex(s)}}}},{key:"getSnapshotBeforeUpdate",value:function(e,t){return this.props.accessibilityLayer?(this.state.tooltipTicks!==t.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==e.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==e.margin&&this.accessibilityManager.setDetails({offset:{left:null!==(n=this.props.margin.left)&&void 0!==n?n:0,top:null!==(r=this.props.margin.top)&&void 0!==r?r:0}}),null):null;var n,r}},{key:"componentDidUpdate",value:function(e){gz([uz(e.children,NG)],[uz(this.props.children,NG)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var e=uz(this.props.children,NG);if(e&&"boolean"==typeof e.props.shared){var t=e.props.shared?"axis":"item";return s.indexOf(t)>=0?t:a}return a}},{key:"getMouseInfo",value:function(e){if(!this.container)return null;var t,n=this.container,r=n.getBoundingClientRect(),a=(t=r).top+window.scrollY-document.documentElement.clientTop,i=t.left+window.scrollX-document.documentElement.clientLeft,s={chartX:Math.round(e.pageX-i),chartY:Math.round(e.pageY-a)},o=r.width/n.offsetWidth||1,l=this.inRange(s.chartX,s.chartY,o);if(!l)return null;var c=this.state,d=c.xAxisMap,u=c.yAxisMap,h=this.getTooltipEventType(),p=ree(this.state,this.props.data,this.props.layout,l);if("axis"!==h&&d&&u){var m=$H(d).scale,f=$H(u).scale,g=m&&m.invert?m.invert(s.chartX):null,x=f&&f.invert?f.invert(s.chartY):null;return G9(G9({},s),{},{xValue:g,yValue:x},p)}return p?G9(G9({},s),p):null}},{key:"inRange",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=this.props.layout,a=e/n,i=t/n;if("horizontal"===r||"vertical"===r){var s=this.state.offset;return a>=s.left&&a<=s.left+s.width&&i>=s.top&&i<=s.top+s.height?{x:a,y:i}:null}var o=this.state,l=o.angleAxisMap,c=o.radiusAxisMap;if(l&&c){var d=$H(l);return h1({x:a,y:i},d)}return null}},{key:"parseEventsOfWrapper",value:function(){var e=this.props.children,t=this.getTooltipEventType(),n=uz(e,NG),r={};return n&&"axis"===t&&(r="click"===n.props.trigger?{onClick:this.handleClick}:{onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu}),G9(G9({},ZH(this.props,this.handleOuterEvent)),r)}},{key:"addListener",value:function(){j9.on(N9,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){j9.removeListener(N9,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(e,t,n){for(var r=this.state.formattedGraphicalItems,a=0,i=r.length;a<i;a++){var s=r[a];if(s.item===e||s.props.key===e.key||t===sz(s.item.type)&&n===s.childIndex)return s}return null}},{key:"renderClipPath",value:function(){var e=this.clipPathId,t=this.state.offset,n=t.left,r=t.top,a=t.height,i=t.width;return b.createElement("defs",null,b.createElement("clipPath",{id:e},b.createElement("rect",{x:n,y:r,height:a,width:i})))}},{key:"getXScales",value:function(){var e=this.state.xAxisMap;return e?Object.entries(e).reduce(function(e,t){var n=F9(t,2),r=n[0],a=n[1];return G9(G9({},e),{},Y9({},r,a.scale))},{}):null}},{key:"getYScales",value:function(){var e=this.state.yAxisMap;return e?Object.entries(e).reduce(function(e,t){var n=F9(t,2),r=n[0],a=n[1];return G9(G9({},e),{},Y9({},r,a.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(e){var t;return null===(t=this.state.xAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getYScaleByAxisId",value:function(e){var t;return null===(t=this.state.yAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getItemByXY",value:function(e){var t=this.state,n=t.formattedGraphicalItems,r=t.activeItem;if(n&&n.length)for(var a=0,i=n.length;a<i;a++){var s=n[a],o=s.props,l=s.item,c=void 0!==l.type.defaultProps?G9(G9({},l.type.defaultProps),l.props):l.props,d=sz(l.type);if("Bar"===d){var u=(o.data||[]).find(function(t){return E5(e,t)});if(u)return{graphicalItem:s,payload:u}}else if("RadialBar"===d){var h=(o.data||[]).find(function(t){return h1(e,t)});if(h)return{graphicalItem:s,payload:h}}else if(Q3(s,r)||Z3(s,r)||e4(s,r)){var p=a4({graphicalItem:s,activeTooltipItem:r,itemData:c.data}),m=void 0===c.activeIndex?p:c.activeIndex;return{graphicalItem:G9(G9({},s),{},{childIndex:m}),payload:e4(s,r)?c.data[p]:s.props.data[p]}}}return null}},{key:"render",value:function(){var e=this;if(!hz(this))return null;var t,n,r=this.props,a=r.children,i=r.className,s=r.width,o=r.height,l=r.style,c=r.compact,d=r.title,u=r.desc,h=H9(r,L9),p=fz(h,!1);if(c)return b.createElement(e7,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},b.createElement(wz,R9({},p,{width:s,height:o,title:d,desc:u}),this.renderClipPath(),bz(a,this.renderMap)));this.props.accessibilityLayer&&(p.tabIndex=null!==(t=this.props.tabIndex)&&void 0!==t?t:0,p.role=null!==(n=this.props.role)&&void 0!==n?n:"application",p.onKeyDown=function(t){e.accessibilityManager.keyboardEvent(t)},p.onFocus=function(){e.accessibilityManager.focus()});var m=this.parseEventsOfWrapper();return b.createElement(e7,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},b.createElement("div",R9({className:Zu("recharts-wrapper",i),style:G9({position:"relative",cursor:"default",width:s,height:o},l)},m,{ref:function(t){e.container=t}}),b.createElement(wz,R9({},p,{width:s,height:o,title:d,desc:u,style:X9}),this.renderClipPath(),bz(a,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}],r&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,K9(r.key),r)}}(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}();Y9(h,"displayName",t),Y9(h,"defaultProps",G9({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),Y9(h,"getDerivedStateFromProps",function(e,t){var n=e.dataKey,r=e.data,a=e.children,i=e.width,s=e.height,o=e.layout,l=e.stackOffset,c=e.margin,d=t.dataStartIndex,h=t.dataEndIndex;if(void 0===t.updateId){var p=iee(e);return G9(G9(G9({},p),{},{updateId:0},u(G9(G9({props:e},p),{},{updateId:0}),t)),{},{prevDataKey:n,prevData:r,prevWidth:i,prevHeight:s,prevLayout:o,prevStackOffset:l,prevMargin:c,prevChildren:a})}if(n!==t.prevDataKey||r!==t.prevData||i!==t.prevWidth||s!==t.prevHeight||o!==t.prevLayout||l!==t.prevStackOffset||!GH(c,t.prevMargin)){var m=iee(e),f={chartX:t.chartX,chartY:t.chartY,isTooltipActive:t.isTooltipActive},g=G9(G9({},ree(t,r,o)),{},{updateId:t.updateId+1}),x=G9(G9(G9({},m),f),g);return G9(G9(G9({},x),u(G9({props:e},x),t)),{},{prevDataKey:n,prevData:r,prevWidth:i,prevHeight:s,prevLayout:o,prevStackOffset:l,prevMargin:c,prevChildren:a})}if(!gz(a,t.prevChildren)){var b,y,v,w,j=uz(a,q4),N=j&&null!==(b=null===(y=j.props)||void 0===y?void 0:y.startIndex)&&void 0!==b?b:d,k=j&&null!==(v=null===(w=j.props)||void 0===w?void 0:w.endIndex)&&void 0!==v?v:h,S=N!==d||k!==h,C=bH(r)||S?t.updateId+1:t.updateId;return G9(G9({updateId:C},u(G9(G9({props:e},t),{},{updateId:C,dataStartIndex:N,dataEndIndex:k}),t)),{},{prevChildren:a,dataStartIndex:N,dataEndIndex:k})}return null}),Y9(h,"renderActiveDot",function(e,t,n){var r;return r=x.isValidElement(e)?x.cloneElement(e,t):jH(e)?e(t):b.createElement(W5,t),b.createElement(zz,{className:"recharts-active-dot",key:n},r)});var p=x.forwardRef(function(e,t){return b.createElement(h,R9({},e,{ref:t}))});return p.displayName=h.displayName,p},cee=lee({chartName:"LineChart",GraphicalChild:I8,axisComponents:[{axisType:"xAxis",AxisComp:s9},{axisType:"yAxis",AxisComp:f9}],formatAxisMap:P6}),dee=lee({chartName:"BarChart",GraphicalChild:C6,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:s9},{axisType:"yAxis",AxisComp:f9}],formatAxisMap:P6}),uee=lee({chartName:"PieChart",GraphicalChild:N4,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:E3},{axisType:"radiusAxis",AxisComp:m3}],formatAxisMap:function(e,t,n,r,a){var i=e.width,s=e.height,o=e.startAngle,l=e.endAngle,c=WH(e.cx,i,i/2),d=WH(e.cy,s,s/2),u=d1(i,s,n),h=WH(e.innerRadius,u,0),p=WH(e.outerRadius,u,.8*u);return Object.keys(t).reduce(function(e,n){var i,s,u,m=t[n],f=m.domain,g=m.reversed;if(bH(m.range))"angleAxis"===r?i=[o,l]:"radiusAxis"===r&&(i=[h,p]),g&&(i=[i[1],i[0]]);else{var x=(s=i=m.range,u=2,function(e){if(Array.isArray(e))return e}(s)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,s,o=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t);else for(;!(l=(r=i.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(d){c=!0,a=d}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}(s,u)||function(e,t){if(e){if("string"==typeof e)return s1(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s1(e,t):void 0}}(s,u)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());o=x[0],l=x[1]}var b=B0(m,a),y=b.realScaleType,v=b.scale;v.domain(f).range(i),$0(v);var w=q0(v,a1(a1({},m),{},{realScaleType:y})),j=a1(a1(a1({},m),w),{},{range:i,radius:p,realScaleType:y,scale:v,cx:c,cy:d,innerRadius:h,outerRadius:p,startAngle:o,endAngle:l});return a1(a1({},e),{},i1({},n,j))},{})},defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),hee=lee({chartName:"AreaChart",GraphicalChild:X8,axisComponents:[{axisType:"xAxis",AxisComp:s9},{axisType:"yAxis",AxisComp:f9}],formatAxisMap:P6});const pee=(e,t,n,r)=>{if(null==e||null==t||null==n||null==r)return null;const a=60*e+t,i=60*n+r;let s=Math.abs(i-a);return s>720&&(s=1440-s),s},mee=e=>{if(null==e||isNaN(e)||e<0)return"-";const t=Math.round(100*e)/100,n=Math.floor(t/60),r=t%60;return 0===t?"0min":0===n&&r>0?`${r.toFixed(2)}min`:n>0&&0===r?`${n}h`:`${n}h ${r.toFixed(2)}min`},fee=({title:e,value:t,change:n,icon:r})=>{const a=null==n?void 0:n.startsWith("+");return h.jsxs(kc.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[h.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:e}),h.jsx("p",{className:"text-3xl font-bold text-gray-900",children:t})]}),h.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:r})]}),n&&h.jsxs("p",{className:"mt-3 text-xs font-semibold "+(a?"text-green-600":"text-red-600"),children:[n," from last month"]})]})},gee=()=>{const[e,t]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return!!e&&JSON.parse(e)}),[n,r]=x.useState(!1),[a,i]=x.useState([]),[s,o]=x.useState(!0),[l,c]=x.useState(null),{user:d,getMachineHistories:u}=gt(),p=je(),m=ye(),[f,g]=x.useState(window.innerWidth<768),[y,v]=x.useState(!1),[w,j]=x.useState(!1),N=b.useRef(null),k=b.useRef(null),S="/machinehistory"===m.pathname,C="/machinehistory/reports"===m.pathname;x.useEffect(()=>{(async()=>{o(!0);try{const e=await u();i(e||[])}catch(e){c("Failed to load machine history data for reports."),i([])}finally{o(!1)}})()},[u]),x.useEffect(()=>{const e=()=>{g(window.innerWidth<768),window.innerWidth<768&&t(!1)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),x.useEffect(()=>{const e=e=>{N.current&&!N.current.contains(e.target)&&v(!1),k.current&&!k.current.contains(e.target)&&j(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);const _=x.useMemo(()=>a.length,[a]),A=x.useMemo(()=>{const e={};return a.forEach(t=>{t.mesin&&(e[t.mesin]=(e[t.mesin]||0)+1)}),Object.entries(e).sort(([,e],[,t])=>t-e).slice(0,3).map(([e,t])=>({name:e,count:t}))},[a]),T=x.useMemo(()=>{const e={};return a.forEach(t=>{if(t.mesin){const n=pee(t.stopJam,t.stopMenit,t.startJam,t.startMenit);null!==n&&(e[t.mesin]||(e[t.mesin]={totalMinutes:0,count:0}),e[t.mesin].totalMinutes+=n,e[t.mesin].count+=1)}}),Object.entries(e).map(([e,t])=>{const n=t.count>0?t.totalMinutes/t.count:0,r=Math.round(100*n)/100;return{name:e,averageDowntimeMinutes:r,displayDowntime:mee(r)}})},[a]),O=x.useMemo(()=>{const e={};return a.forEach(t=>{if(t.date){const n=new Date(t.date),r=`${n.getFullYear()}-${(n.getMonth()+1).toString().padStart(2,"0")}`;e[r]=(e[r]||0)+1}}),Object.entries(e).sort(([e],[t])=>e.localeCompare(t)).map(([e,t])=>{const[n,r]=e.split("-");return{name:`${new Date(Number(n),Number(r)-1,1).toLocaleString("en-US",{month:"short"})} ${n}`,"Maintenance Events":t}})},[a]),E=x.useMemo(()=>{const e={Perbaikan:0,Perawatan:0};return a.forEach(t=>{"Perbaikan"===t.perbaikanPerawatan?e.Perbaikan+=1:"Perawatan"===t.perbaikanPerawatan&&(e.Perawatan+=1)}),[{name:"Repairs",value:e.Perbaikan},{name:"Maintenance",value:e.Perawatan}].filter(e=>e.value>0)},[a]),M=["#8884d8","#82ca9d","#ffc658","#ff7300"];return h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[h.jsx(Lu,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Fu,{mainTitle:"Machine History",mainTitleHighlight:"Machine History",description:"Manage activities and their configurations within the system.",icon:h.jsx(Gc,{}),isMobile:f,toggleSidebar:()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!e)),t(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[h.jsxs(kc.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"isi style mb-6 flex space-x-6 border-b border-gray-200",children:[h.jsx(kc.div,{whileTap:{scale:.98},onClick:()=>p("/machinehistory"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${S?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Record"}),h.jsx(kc.div,{whileTap:{scale:.98},onClick:()=>p("/machinehistory/reports"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${C?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Reports"})]}),h.jsxs(kc.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8",children:[h.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Machine History ",h.jsx("span",{className:"text-blue-600",children:"Reports & Analytics"})]}),h.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Gain insights into machine maintenance trends, downtime, and performance."})]}),s?h.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[h.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),h.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading analytics data..."})]}):0===a.length?h.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[h.jsx(Ed,{className:"text-blue-500 text-4xl mx-auto mb-4"}),h.jsx("p",{className:"text-gray-700 text-base font-medium",children:"No machine history records available to generate reports."})]}):h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[h.jsx(fee,{title:"Total Maintenance Events",value:_.toLocaleString("id-ID"),icon:h.jsx(ad,{})}),h.jsx(fee,{title:"Avg. Downtime (All Machines)",value:mee(Math.round(a.reduce((e,t)=>e+(pee(t.stopJam,t.stopMenit,t.startJam,t.startMenit)||0),0)/a.length*100)/100),icon:h.jsx(id,{})}),h.jsx(fee,{title:"Machines Maintained",value:new Set(a.map(e=>e.mesin)).size.toLocaleString("id-ID"),icon:h.jsx(Mu,{})}),h.jsxs(kc.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1,ease:"easeOut"},className:"lg:col-span-2 bg-white rounded-2xl shadow-md p-6 border border-blue-50",children:[h.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[h.jsx(Kc,{className:"mr-2 text-blue-600"})," Most Frequently Maintained Machines"]}),h.jsx(OG,{width:"100%",height:300,children:h.jsxs(dee,{data:A,margin:{top:20,right:30,left:20,bottom:5},children:[h.jsx(v8,{strokeDasharray:"3 3",stroke:"#e0e7ff"}),h.jsx(s9,{dataKey:"name",tickLine:!1,axisLine:!1,style:{fontSize:"12px",fill:"#6B7280"}}),h.jsx(f9,{allowDecimals:!1,tickLine:!1,axisLine:!1,style:{fontSize:"12px",fill:"#6B7280"}}),h.jsx(NG,{cursor:{fill:"rgba(239, 246, 255, 0.7)"},contentStyle:{backgroundColor:"#fff",border:"1px solid #e0e7ff",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",padding:"10px"},labelStyle:{fontWeight:"bold",color:"#374151"},itemStyle:{color:"#4B5563"}}),h.jsx(C6,{dataKey:"count",fill:"#3B82F6",barSize:30,radius:[10,10,0,0]})]})}),0===A.length&&h.jsx("p",{className:"text-center text-gray-500 mt-4 text-sm",children:"No data for most frequently maintained machines."})]}),h.jsxs(kc.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2,ease:"easeOut"},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 flex flex-col items-center justify-center",children:[h.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[h.jsx(td,{className:"mr-2 text-blue-600"})," Maintenance Type Distribution"]}),E.length>0?h.jsx(OG,{width:"100%",height:300,children:h.jsxs(uee,{children:[h.jsx(N4,{data:E,cx:"50%",cy:"50%",labelLine:!1,outerRadius:100,fill:"#8884d8",dataKey:"value",nameKey:"name",children:E.map((e,t)=>h.jsx(EG,{fill:M[t%M.length]},`cell-${t}`))}),h.jsx(NG,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e0e7ff",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",padding:"10px"},labelStyle:{fontWeight:"bold",color:"#374151"},itemStyle:{color:"#4B5563"},formatter:(e,t)=>[`${e} events`,t]}),h.jsx(Nq,{layout:"vertical",align:"right",verticalAlign:"middle",wrapperStyle:{fontSize:"12px",color:"#6B7280"}})]})}):h.jsx("p",{className:"text-center text-gray-500 mt-4 text-sm",children:"No data for maintenance types."})]}),h.jsxs(kc.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3,ease:"easeOut"},className:"lg:col-span-3 bg-white rounded-2xl shadow-md p-6 border border-blue-50",children:[h.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[h.jsx(id,{className:"mr-2 text-blue-600"})," Average Downtime per Machine"]}),h.jsx(OG,{width:"100%",height:350,children:h.jsxs(dee,{data:T,margin:{top:20,right:30,left:20,bottom:5},children:[h.jsx(v8,{strokeDasharray:"3 3",stroke:"#e0e7ff"}),h.jsx(s9,{dataKey:"name",tickLine:!1,axisLine:!1,style:{fontSize:"12px",fill:"#6B7280"}}),h.jsx(f9,{tickFormatter:e=>mee(e),tickLine:!1,axisLine:!1,style:{fontSize:"12px",fill:"#6B7280"}}),h.jsx(NG,{cursor:{fill:"rgba(239, 246, 255, 0.7)"},contentStyle:{backgroundColor:"#fff",border:"1px solid #e0e7ff",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",padding:"10px"},labelStyle:{fontWeight:"bold",color:"#374151"},itemStyle:{color:"#4B5563"},formatter:e=>mee(e)}),h.jsx(C6,{dataKey:"averageDowntimeMinutes",fill:"#82ca9d",barSize:30,radius:[10,10,0,0]})]})}),0===T.length&&h.jsx("p",{className:"text-center text-gray-500 mt-4 text-sm",children:"No data for average downtime per machine."})]}),h.jsxs(kc.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4,ease:"easeOut"},className:"lg:col-span-3 bg-white rounded-2xl shadow-md p-6 border border-blue-50",children:[h.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[h.jsx(wu,{className:"mr-2 text-blue-600"})," Maintenance Trend Over Time"]}),h.jsx(OG,{width:"100%",height:350,children:h.jsxs(cee,{data:O,margin:{top:20,right:30,left:20,bottom:5},children:[h.jsx(v8,{strokeDasharray:"3 3",stroke:"#e0e7ff"}),h.jsx(s9,{dataKey:"name",tickLine:!1,axisLine:!1,style:{fontSize:"12px",fill:"#6B7280"}}),h.jsx(f9,{allowDecimals:!1,tickLine:!1,axisLine:!1,style:{fontSize:"12px",fill:"#6B7280"}}),h.jsx(NG,{cursor:{fill:"rgba(239, 246, 255, 0.7)"},contentStyle:{backgroundColor:"#fff",border:"1px solid #e0e7ff",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",padding:"10px"},labelStyle:{fontWeight:"bold",color:"#374151"},itemStyle:{color:"#4B5563"}}),h.jsx(Nq,{wrapperStyle:{fontSize:"12px",color:"#6B7280"}}),h.jsx(I8,{type:"monotone",dataKey:"Maintenance Events",stroke:"#3B82F6",strokeWidth:2,dot:{r:4},activeDot:{r:6}})]})}),0===O.length&&h.jsx("p",{className:"text-center text-gray-500 mt-4 text-sm",children:"No data for maintenance trend over time."})]})]})]})]})]})},xee=()=>{const[e,t]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return!!e&&JSON.parse(e)}),[n,r]=x.useState(!1),[a,i]=x.useState([]),[s,o]=x.useState(!0),[l,c]=x.useState(null),[d,u]=x.useState(1),[p]=x.useState(10),{user:m,getAuditTrail:f,isAuthenticated:g}=gt();je();const[y,v]=x.useState(window.innerWidth<768),[w,j]=x.useState(!1),[N,k]=x.useState(!1),S=x.useRef(null),C=x.useRef(null),[_,A]=x.useState({key:"changed_at",direction:"descending"}),[T,O]=x.useState(""),E=function(e){const[t,n]=x.useState(e);return x.useEffect(()=>{const t=setTimeout(()=>{n(e)},300);return()=>{clearTimeout(t)}},[e,300]),t}(T),[M,P]=x.useState(!1),[D,L]=x.useState(null),I=x.useCallback(async()=>{try{o(!0),c(null);const e=await f();i(e)}catch(e){c("Failed to load audit trail data. Please try again."),i([])}finally{o(!1)}},[f]);x.useEffect(()=>{I()},[I]),x.useEffect(()=>{const e=()=>{v(window.innerWidth<768),window.innerWidth<768&&t(!1)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),x.useEffect(()=>{const e=e=>{S.current&&!S.current.contains(e.target)&&j(!1),C.current&&!C.current.contains(e.target)&&k(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);const R=e=>{let t="ascending";_&&_.key===e&&"ascending"===_.direction&&(t="descending"),A({key:e,direction:t})},F=e=>"object"==typeof e&&null!==e?e.name||e.toString():(null==e?void 0:e.toString())||"",H=x.useCallback(e=>{L(e),P(!0)},[]),z=e=>{switch(e){case"created":return"bg-green-500 text-white";case"updated":return"bg-blue-600 text-white";case"deleted":return"bg-red-500 text-white";default:return"bg-gray-500 text-white"}},B=b.useMemo(()=>{let e=[...a||[]];if(E.trim()){const t=E.toLowerCase().trim();e=e.filter(e=>{var n,r,a;return[(null==(n=e.changed_by)?void 0:n.toLowerCase())||"",(null==(r=e.action)?void 0:r.toLowerCase())||"",(null==(a=e.recordable_type)?void 0:a.toLowerCase())||"",JSON.stringify(e.old_data_snapshot||{}).toLowerCase(),JSON.stringify(e.new_data_snapshot||{}).toLowerCase()].some(e=>e.includes(t))})}return null!==_?e.sort((e,t)=>{if("changed_at"===_.key){const n=new Date(e.changed_at).getTime(),r=new Date(t.changed_at).getTime();return"ascending"===_.direction?n-r:r-n}const n=F(e[_.key]),r=F(t[_.key]);return n<r?"ascending"===_.direction?-1:1:n>r?"ascending"===_.direction?1:-1:0}):e.sort((e,t)=>{const n=new Date(e.changed_at).getTime();return new Date(t.changed_at).getTime()-n}),e},[a,E,_]),W=d*p,$=W-p,U=B.slice($,W),V=Math.ceil(B.length/p),q=e=>u(e),G=e=>{try{return new Date(e).toLocaleString()}catch(Ew){return e}},Y=({log:e,onClose:t})=>{const n=e=>null==e?"-":"object"==typeof e&&null!==e?JSON.stringify(e):"string"==typeof e?""!==e.trim()?e.trim():"-":"number"==typeof e?e.toString():"boolean"==typeof e?e?"Yes":"No":String(e),r=e=>e&&""!==e.trim()?iy.sanitize(e,{ALLOWED_TAGS:["h1","h2","h3","h4","h5","h6","p","br","span","div","ol","ul","li","strong","b","em","i","u","s","strike","code","mark","sub","sup","blockquote","pre"],ALLOWED_ATTR:["style","class","data-color","align","type","start"]}):"-",a=e=>{try{return new Date(e).toLocaleString()}catch(Ew){return e}},i=e=>e?e.replace("App\\Models\\",""):"Unknown",s=({title:e,children:t,icon:n})=>h.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[h.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-4 border-b border-gray-200",children:h.jsxs("div",{className:"flex items-center",children:[n&&h.jsx("div",{className:"mr-3 text-blue-600",children:n}),h.jsx("h3",{className:"text-lg font-bold text-gray-900",children:e})]})}),h.jsx("div",{className:"p-6",children:t})]}),o=({label:e,value:t,icon:n,fullWidth:r=!1,priority:a="medium"})=>h.jsx("div",{className:r?"col-span-full":"",children:h.jsx("div",{className:`p-4 rounded-lg ${{high:"border-l-4 border-l-blue-500 bg-blue-25",medium:"border-l-2 border-l-gray-200",low:"border-l border-l-gray-100"}[a]} transition-all duration-200 hover:shadow-sm`,children:h.jsxs("div",{className:"flex items-start space-x-3",children:[n&&h.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:n}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1",children:e}),h.jsx("p",{className:"text-sm font-medium text-gray-900 leading-relaxed",children:t})]})]})})}),l=(e,t)=>{if(!e||0===Object.keys(e).length)return h.jsxs("div",{className:"text-center py-8 text-gray-500 bg-white rounded-lg border border-gray-200",children:["No ",t," data available"]});const a=Object.entries(e).filter(([e])=>!["id","created_at","updated_at","deleted_at"].includes(e));return 0===a.length?h.jsxs("div",{className:"text-center py-8 text-gray-500 bg-white rounded-lg border border-gray-200",children:["No ",t," data available"]}):h.jsx("div",{className:"space-y-4",children:a.map(([e,t])=>{const a=e.split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "),i=e.toLowerCase().includes("complaint")||e.toLowerCase().includes("action_taken")||e.toLowerCase().includes("remarks");return h.jsxs("div",{className:"flex flex-col md:flex-row md:items-start gap-3 p-4 bg-white rounded-lg border border-gray-200 hover:bg-gray-50 transition-colors",children:[h.jsx("div",{className:"md:w-1/3 lg:w-1/4",children:h.jsx("h4",{className:"text-sm font-semibold text-gray-700 break-words",children:a})}),h.jsx("div",{className:"md:w-2/3 lg:w-3/4",children:i?h.jsx("div",{className:"rich-text-content bg-blue-50 border border-blue-100 rounded-lg p-3 text-gray-800 text-sm break-words prose prose-sm max-w-none\r\n                          prose-headings:font-semibold prose-p:my-2 prose-ul:my-2 prose-ol:my-2\r\n                          prose-li:my-1 prose-strong:font-semibold prose-em:italic",dangerouslySetInnerHTML:{__html:r(String(t||""))}}):h.jsx("div",{className:"bg-blue-50 border border-blue-100 rounded-lg p-3 text-gray-800 text-sm break-words",children:n(t)})})]},e)})})};return h.jsxs("div",{className:"space-y-6 max-h-[70vh] overflow-y-auto custom-scrollbar pr-2",children:[h.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6",children:h.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[h.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:["Audit Log #",e.id]}),h.jsx("span",{className:"px-3 py-1 inline-flex text-xs leading-5 font-bold rounded-full "+("created"===e.action?"bg-green-100 text-green-800 border border-green-300":"updated"===e.action?"bg-blue-100 text-blue-800 border border-blue-300":"deleted"===e.action?"bg-red-100 text-red-800 border border-red-300":"bg-gray-100 text-gray-800 border border-gray-300"),children:e.action.charAt(0).toUpperCase()+e.action.slice(1)})]}),h.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[h.jsxs("span",{className:"flex items-center gap-2",children:[h.jsx(id,{className:"w-4 h-4"}),"Timestamp: ",a(e.changed_at)]}),h.jsxs("span",{className:"flex items-center gap-2",children:[h.jsx(Tu,{className:"w-4 h-4"}),"User: ",e.changed_by||"N/A"]})]})]})})}),h.jsx(s,{title:"General Information",icon:h.jsx(ad,{className:"w-5 h-5"}),children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[h.jsx(o,{label:"Audit ID",value:n(e.id),icon:h.jsx(Pd,{className:"w-4 h-4"}),priority:"high"}),h.jsx(o,{label:"Timestamp",value:a(e.changed_at),icon:h.jsx(id,{className:"w-4 h-4"}),priority:"high"}),h.jsx(o,{label:"User",value:n(e.changed_by),icon:h.jsx(Tu,{className:"w-4 h-4"}),priority:"high"}),h.jsx(o,{label:"Action",value:n(e.action),icon:h.jsx(Ec,{className:"w-4 h-4"}),priority:"high"}),h.jsx(o,{label:"Record Type",value:i(e.recordable_type),icon:h.jsx(fd,{className:"w-4 h-4"})}),h.jsx(o,{label:"Record ID",value:n(e.recordable_id),icon:h.jsx(Rd,{className:"w-4 h-4"})})]})}),e.recordable_details&&Object.keys(e.recordable_details).length>0&&h.jsx(s,{title:"Record Details",icon:h.jsx(fd,{className:"w-5 h-5"}),children:((e,t)=>{if(!e||0===Object.keys(e).length)return h.jsxs("div",{className:"text-center py-4 text-gray-500",children:["No ",t.toLowerCase()," available"]});const r=Object.entries(e).filter(([e,t])=>!["id","created_at","updated_at","deleted_at"].includes(e)&&null!=t&&""!==t);return 0===r.length?h.jsxs("div",{className:"text-center py-4 text-gray-500",children:["No ",t.toLowerCase()," available"]}):h.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:r.map(([e,t])=>{const r=e.split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ");return h.jsx(o,{label:r,value:n(t)},e)})})})(e.recordable_details,"Record Details")}),h.jsx(s,{title:"Data Changes Comparison",icon:h.jsx(Ec,{className:"w-5 h-5"}),children:(()=>{const t=(()=>{const t=e.old_data_snapshot?Object.keys(e.old_data_snapshot):[],n=e.new_data_snapshot?Object.keys(e.new_data_snapshot):[];return[...new Set([...t,...n])].filter(e=>!["id","created_at","updated_at","deleted_at"].includes(e))})();if(0===t.length)return h.jsx("div",{className:"text-center py-8 text-gray-500",children:"No data changes recorded"});const a=t.map(t=>{var n,r;const a=null!=(n=e.old_data_snapshot)?n:{},i=null!=(r=e.new_data_snapshot)?r:{},s=Object.prototype.hasOwnProperty.call(a,t),o=Object.prototype.hasOwnProperty.call(i,t),l=s?a[t]:void 0;let c,d=o?i[t]:void 0;return"updated"===e.action&&s&&!o&&(d=l),c=!s&&o?"added":s&&!o?"deleted"===e.action?"removed":"unchanged":((e,t)=>{if(void 0===e&&void 0===t)return!0;if(null===e&&null===t)return!0;if(void 0===e&&null===t)return!1;if(null===e&&void 0===t)return!1;if(e===t)return!0;if(!isNaN(Number(e))&&!isNaN(Number(t)))return Number(e)===Number(t);if("boolean"==typeof e&&"boolean"==typeof t)return e===t;if("string"==typeof e&&"string"==typeof t)return e.trim().toLowerCase()===t.trim().toLowerCase();if("object"==typeof e&&"object"==typeof t&&null!==e&&null!==t)try{return JSON.stringify(e)===JSON.stringify(t)}catch(Ew){return String(e)===String(t)}const n=String(e||"").trim(),r=String(t||"").trim();return!(""!==n&&"null"!==n&&"undefined"!==n||""!==r&&"null"!==r&&"undefined"!==r)||n===r})(l,d)?"unchanged":"updated",{key:t,oldValue:l,newValue:d,status:c}}),i=a.filter(e=>"unchanged"!==e.status).length,s=a.length-i;return h.jsxs("div",{className:"overflow-x-auto",children:[h.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[h.jsx("thead",{className:"bg-gray-50",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Field"}),h.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Old Value"}),h.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"New Value"}),h.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),h.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a.map(({key:e,oldValue:t,newValue:a,status:i})=>{const s=e.split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "),o=e.toLowerCase().includes("complaint")||e.toLowerCase().includes("action_taken")||e.toLowerCase().includes("remarks"),l=o?r(String(t||"")):n(t),c=o?r(String(a||"")):n(a),d="updated"===i?"bg-yellow-50":"added"===i?"bg-green-50":"removed"===i?"bg-red-50":"";return h.jsxs("tr",{className:d,children:[h.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900",children:s}),h.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:o?h.jsx("div",{className:"p-2 rounded rich-text-content prose prose-sm max-w-none "+("removed"===i?"bg-red-100 text-red-800 border border-red-200":"updated"===i?"bg-yellow-100 text-yellow-800 border border-yellow-200":"bg-gray-100 text-gray-800 border border-gray-200"),dangerouslySetInnerHTML:{__html:l}}):h.jsx("div",{className:"p-2 rounded "+("removed"===i?"bg-red-100 text-red-800 border border-red-200":"updated"===i?"bg-yellow-100 text-yellow-800 border border-yellow-200":"bg-gray-100 text-gray-800 border border-gray-200"),children:l})}),h.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:o?h.jsx("div",{className:"p-2 rounded rich-text-content prose prose-sm max-w-none "+("added"===i?"bg-green-100 text-green-800 border border-green-200":"updated"===i?"bg-yellow-100 text-yellow-800 border border-yellow-200":"bg-gray-100 text-gray-800 border border-gray-200"),dangerouslySetInnerHTML:{__html:c}}):h.jsx("div",{className:"p-2 rounded "+("added"===i?"bg-green-100 text-green-800 border border-green-200":"updated"===i?"bg-yellow-100 text-yellow-800 border border-yellow-200":"bg-gray-100 text-gray-800 border border-gray-200"),children:c})}),h.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm",children:"added"===i?h.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[h.jsx(nu,{className:"w-3 h-3 mr-1"}),"Added"]}):"removed"===i?h.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[h.jsx(vu,{className:"w-3 h-3 mr-1"}),"Removed"]}):"updated"===i?h.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[h.jsx(Ec,{className:"w-3 h-3 mr-1"}),"Updated"]}):h.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-700",children:[h.jsx(td,{className:"w-3 h-3 mr-1"}),"Unchanged"]})})]},e)})})]}),h.jsxs("div",{className:"mt-4 text-sm text-gray-600",children:[h.jsx("span",{className:"font-medium",children:i})," field(s) changed • ",h.jsx("span",{className:"font-medium",children:s})," field(s) unchanged"]})]})})()}),h.jsx(s,{title:"Complete Data Snapshots",icon:h.jsx(ud,{className:"w-5 h-5"}),children:h.jsxs("div",{className:"space-y-8",children:[e.old_data_snapshot&&Object.keys(e.old_data_snapshot).length>0&&h.jsxs("div",{className:"w-full",children:[h.jsx("h4",{className:"text-md font-semibold text-gray-700 mb-4 pb-2 border-b border-gray-200",children:"Old Data Snapshot"}),h.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:l(e.old_data_snapshot,"old")})]}),e.new_data_snapshot&&Object.keys(e.new_data_snapshot).length>0&&h.jsxs("div",{className:"w-full",children:[h.jsx("h4",{className:"text-md font-semibold text-gray-700 mb-4 pb-2 border-b border-gray-200",children:"New Data Snapshot"}),h.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:l(e.new_data_snapshot,"new")})]})]})}),h.jsx(s,{title:"Audit Summary",icon:h.jsx(Kc,{className:"w-5 h-5"}),children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{className:"p-4 bg-blue-25 rounded-lg border-l-4 border-l-blue-400",children:[h.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Action Type"}),h.jsx("p",{className:"text-lg font-bold text-blue-600",children:e.action.charAt(0).toUpperCase()+e.action.slice(1)})]}),h.jsxs("div",{className:"p-4 bg-green-25 rounded-lg border-l-4 border-l-green-400",children:[h.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Record Information"}),h.jsxs("p",{className:"text-sm text-green-600",children:[i(e.recordable_type)," • ID: ",e.recordable_id]})]})]})}),h.jsx("div",{className:"flex justify-end pt-6 border-t border-gray-100 mt-8",children:h.jsx(kc.button,{type:"button",onClick:t,whileHover:{scale:1.03,boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.97},className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold",children:"Close Details"})})]})};return h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[h.jsx(Lu,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Fu,{mainTitle:"Audit Trail",mainTitleHighlight:"Trail",description:"Manage activities and their configurations within the system.",icon:h.jsx(Rd,{}),isMobile:y,toggleSidebar:()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!e)),t(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[h.jsxs(kc.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-8",children:[h.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Audit ",h.jsx("span",{className:"text-blue-600",children:"Trail"})]}),h.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Track all user activities and system changes for enhanced security and accountability."})]}),h.jsx(kc.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:h.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:h.jsxs("div",{className:"flex-1 relative",children:[h.jsx(uu,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),h.jsx("input",{type:"text",placeholder:"Search by user, action, or details...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:T,onChange:e=>{O(e.target.value)},"aria-label":"Search audit logs"})]})})}),s?h.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[h.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),h.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading audit trail data..."})]}):l?h.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[h.jsx(ju,{className:"text-red-500 text-4xl mx-auto mb-4"}),h.jsx("p",{className:"text-red-700 text-base font-medium",children:l}),h.jsx("button",{onClick:I,className:"mt-5 px-5 py-2 bg-red-100 text-red-700 rounded-md hover:bg-red-200 transition-colors duration-200 text-sm",children:"Retry"})]}):0===B.length?h.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[h.jsx(Ed,{className:"text-blue-500 text-4xl mx-auto mb-4"}),h.jsx("p",{className:"text-gray-700 text-base font-medium",children:E?"No audit entries found matching your search.":"No audit entries available."}),E&&h.jsx("button",{onClick:()=>O(""),className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear Search"})]}):h.jsx(kc.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:h.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:h.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[h.jsx("thead",{className:"bg-blue-50",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider cursor-pointer",onClick:()=>R("changed_at"),children:h.jsxs("div",{className:"flex items-center",children:[h.jsx(id,{className:"mr-2 text-sm"})," Timestamp","changed_at"===(null==_?void 0:_.key)?h.jsx("span",{className:"ml-1",children:"ascending"===_.direction?"↑":"↓"}):h.jsx("span",{className:"ml-1 text-gray-400",children:"↓"})]})}),h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider cursor-pointer",onClick:()=>R("changed_by"),children:h.jsxs("div",{className:"flex items-center",children:[h.jsx(Tu,{className:"mr-2 text-sm"})," User","changed_by"===(null==_?void 0:_.key)&&h.jsx("span",{className:"ml-1",children:"ascending"===_.direction?"↑":"↓"})]})}),h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider cursor-pointer",onClick:()=>R("action"),children:h.jsxs("div",{className:"flex items-center",children:[h.jsx(Ec,{className:"mr-2 text-sm"})," Action","action"===(null==_?void 0:_.key)&&h.jsx("span",{className:"ml-1",children:"ascending"===_.direction?"↑":"↓"})]})}),h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider cursor-pointer",onClick:()=>R("recordable_type"),children:h.jsxs("div",{className:"flex items-center",children:[h.jsx(fd,{className:"mr-2 text-sm"})," Record Type","recordable_type"===(null==_?void 0:_.key)&&h.jsx("span",{className:"ml-1",children:"ascending"===_.direction?"↑":"↓"})]})}),h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),h.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:U.map(e=>{return h.jsxs(kc.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[h.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:h.jsx("div",{className:"text-sm font-medium text-gray-900",children:G(e.changed_at)})}),h.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:h.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.changed_by||"N/A"})}),h.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:h.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-bold rounded-full ${z(e.action)} shadow-sm`,children:e.action.charAt(0).toUpperCase()+e.action.slice(1)})}),h.jsxs("td",{className:"px-5 py-3",children:[h.jsx("div",{className:"text-sm font-medium text-gray-900",children:(t=e.recordable_type,t?t.replace("App\\Models\\",""):"Unknown")}),e.recordable_id&&h.jsxs("div",{className:"text-xs text-gray-500",children:["ID: ",e.recordable_id]})]}),h.jsx("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium",children:h.jsxs(kc.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>H(e),className:"text-blue-600 hover:text-blue-800 transition-colors duration-200 flex items-center space-x-1",title:"View Details",children:[h.jsx(md,{className:"text-lg"}),h.jsx("span",{children:"View"})]})})]},e.id);var t})})]})})}),B.length>p&&h.jsxs(kc.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"mt-8 flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0",children:[h.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",h.jsx("span",{className:"font-semibold",children:$+1})," to ",h.jsx("span",{className:"font-semibold",children:Math.min(W,B.length)})," of"," ",h.jsx("span",{className:"font-semibold",children:B.length})," results"]}),h.jsxs("div",{className:"flex space-x-2",children:[h.jsx(kc.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>q(d-1),disabled:1===d,className:"px-4 py-2 border border-blue-200 rounded-md bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm font-medium text-sm","aria-label":"Previous page",children:"Previous"}),Array.from({length:V},(e,t)=>h.jsx(kc.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>q(t+1),className:`px-3.5 py-2 rounded-md transition-colors duration-200 shadow-sm font-medium text-sm\n                      ${d===t+1?"bg-blue-600 text-white shadow-md":"bg-white text-gray-700 hover:bg-blue-50 border border-blue-200"}\n                    `,"aria-label":`Go to page ${t+1}`,children:t+1},t+1)),h.jsx(kc.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>q(d+1),disabled:d===V,className:"px-4 py-2 border border-blue-200 rounded-md bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm font-medium text-sm","aria-label":"Next page",children:"Next"})]})]})]})]}),D&&h.jsx(kc.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:h.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 p-4 overflow-y-auto",children:h.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl mx-auto p-6 border border-blue-100",children:[h.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[h.jsxs("h3",{className:"text-2xl font-bold text-gray-900",children:["Audit Details #",D.id]}),h.jsx(kc.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{P(!1),L(null)},className:"text-gray-500 hover:text-gray-700 text-2xl",children:h.jsx(Pu,{size:24})})]}),h.jsx("div",{className:"overflow-y-auto max-h-[70vh]",children:h.jsx(Y,{log:D,onClose:()=>{P(!1),L(null)}})})]})})})]})},bee=()=>{const e=je(),{user:t}=gt(),[n,r]=x.useState(!1),[a,i]=x.useState(window.innerWidth>=768),[s,o]=x.useState(window.innerWidth<768),[l,c]=x.useState(!1),[d,u]=x.useState(!1),p=x.useRef(null),m=x.useRef(null);return x.useEffect(()=>{const e=()=>{o(window.innerWidth<768),window.innerWidth<768?i(!1):i(!0)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),x.useEffect(()=>{const e=e=>{p.current&&!p.current.contains(e.target)&&c(!1),m.current&&!m.current.contains(e.target)&&u(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),x.useEffect(()=>{document.documentElement.classList.toggle("dark",n)},[n]),h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Lu,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Fu,{mainTitle:"Workflow Approval",mainTitleHighlight:"Page",description:"Manage work shifts and their configurations within the system.",icon:h.jsx(_u,{}),isMobile:s,toggleSidebar:()=>{i(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[h.jsxs(kc.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 text-center",children:[h.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Select Workflow Approval Menu"}),h.jsx("p",{className:"text-gray-600 mt-2",children:"Choose the type of workflow approval you wish to manage."})]}),h.jsx("div",{className:"flex flex-col md:flex-row justify-center items-center gap-6 max-w-5xl mx-auto py-8",children:h.jsxs(kc.div,{className:"w-full md:w-1/3 bg-white rounded-2xl shadow-xl p-8 border border-green-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>{e("/workflowapproval/monitoringapproval")},children:[h.jsx(Yd,{size:64,className:"text-green-600 mb-4"}),h.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Monitoring Approval"}),h.jsx("p",{className:"text-gray-700 mb-4",children:"Organize and manage work orders by specific company departments."}),h.jsxs("span",{className:"text-green-600 font-semibold flex items-center",children:["Go to Monitoring Approval ",h.jsx(Qc,{size:18,className:"ml-1"})]})]})})]})]})]})},yee=({isOpen:e,onClose:t,title:n,children:r})=>e?h.jsx(kc.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:h.jsxs(kc.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[h.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[h.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n}),h.jsx(kc.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:t,className:"text-gray-500 hover:text-gray-700 text-2xl",children:h.jsx(Pu,{size:24})})]}),h.jsx("div",{children:r})]})}):null,vee=()=>{const e=je(),{getApprovalTemplates:t,createApprovalTemplate:n,deleteApprovalTemplate:r,setApprovalTemplateActive:a}=gt(),[i,s]=x.useState(window.innerWidth<768),[o,l]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return JSON.parse(e||"false")}),[c,d]=x.useState(!1),[u,p]=x.useState(""),[m,f]=x.useState([]),[g,b]=x.useState(!1),[y,v]=x.useState(""),[w,j]=x.useState(!1),[N,k]=x.useState(null),S=(e,t,n)=>{k({type:e,templateId:t,templateName:n}),j(!0)};x.useEffect(()=>{C()},[]);const C=async()=>{try{b(!0);const e=await t();f(e||[])}catch(e){v("Failed to load approval templates")}finally{b(!1)}};return h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Lu,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Fu,{mainTitle:"Monitoring Approval",mainTitleHighlight:"Page",description:"Manage work shifts and their configurations within the system.",icon:h.jsx(_u,{}),isMobile:i,toggleSidebar:()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!o)),l(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[h.jsxs("div",{className:"flex justify-between items-center mb-6",children:[h.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[h.jsx(Bd,{className:"mr-2 text-gray-700",size:24})," Select or Create Template"]}),h.jsxs(kc.button,{onClick:()=>d(!0),whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-5 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-semibold flex items-center text-sm shadow-md disabled:opacity-50",disabled:g,children:[h.jsx(xd,{size:18,className:"mr-2"})," Create New Template"]})]}),y&&h.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:y}),g?h.jsx("div",{className:"flex justify-center items-center py-8",children:h.jsx(Wd,{className:"animate-spin text-blue-600",size:32})}):h.jsx("div",{className:"space-y-4",children:m.length>0?m.map(t=>h.jsx(kc.div,{whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(0,0,0,0.08)"},whileTap:{scale:.98},className:"p-6 bg-white rounded-lg border border-gray-200 cursor-pointer transition-all duration-200",children:h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsxs("div",{className:"flex-1",children:[h.jsxs("h3",{className:"text-lg font-bold text-gray-800 flex items-center",children:[h.jsx(fd,{size:20,className:"mr-2 text-blue-500"}),t.name]}),h.jsxs("div",{className:"mt-2 flex items-center space-x-2",children:[h.jsx("span",{className:"text-xs font-medium px-2.5 py-1 rounded-full "+(t.is_active?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:t.is_active?"Active":"Inactive"}),t.approvers&&h.jsxs("span",{className:"text-xs text-gray-500",children:[t.approvers.length," approver(s)"]})]})]}),h.jsxs("div",{className:"flex space-x-2",children:[h.jsx(kc.button,{onClick:()=>(t=>{e(`/workflowapproval/monitoringapproval/configureapproval/${t.id}`)})(t),whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 text-sm font-semibold rounded-lg text-blue-600 hover:bg-blue-100 transition-colors",disabled:g,children:"Configure"}),!t.is_active&&h.jsx(kc.button,{onClick:e=>{e.stopPropagation(),S("activate",t.id,t.name)},whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 text-sm font-semibold rounded-lg bg-green-500 text-white hover:bg-green-600 transition-colors",disabled:g,children:"Activate"}),h.jsx(kc.button,{onClick:e=>{e.stopPropagation(),S("delete",t.id,t.name)},whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 text-sm font-semibold rounded-lg bg-red-500 text-white hover:bg-red-600 transition-colors",disabled:g,children:"Delete"})]})]})},t.id)):h.jsx("div",{className:"p-6 text-center text-gray-500 border border-dashed border-gray-300 rounded-lg",children:"No templates found. Create the first template to get started."})}),h.jsx(yee,{isOpen:w,onClose:()=>{j(!1),k(null)},title:"Confirm Action",children:h.jsxs("div",{className:"space-y-5 text-center py-3",children:[h.jsx(ju,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),h.jsxs("p",{className:"text-base text-gray-700 font-medium",children:["Are you sure you want to ",null==N?void 0:N.type,' template "',null==N?void 0:N.templateName,'"?',"delete"===(null==N?void 0:N.type)&&" This action cannot be undone."]}),h.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[h.jsx(kc.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>{j(!1),k(null)},className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),h.jsx(kc.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:async()=>{if(N)try{b(!0),"activate"===N.type?(await a(N.templateId),f(e=>e.map(e=>({...e,is_active:e.id===N.templateId})))):"delete"===N.type&&(await r(N.templateId),await C()),j(!1),k(null),v("")}catch(e){v(`Failed to ${N.type} template`)}finally{b(!1)}},className:"px-5 py-2.5 text-white rounded-md hover:opacity-90 focus:outline-none focus:ring-2 focus:ring-offset-2 transition-colors duration-200 font-semibold text-sm "+("delete"===(null==N?void 0:N.type)?"bg-red-600 hover:bg-red-700 focus:ring-red-500":"bg-green-600 hover:bg-green-700 focus:ring-green-500"),children:"delete"===(null==N?void 0:N.type)?"Delete":"Activate"})]})]})}),h.jsx(yee,{isOpen:c,onClose:()=>d(!1),title:"Create New Template",children:h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"templateName",className:"block text-sm font-medium text-gray-700",children:"Template Name"}),h.jsx("input",{type:"text",id:"templateName",value:u,onChange:e=>p(e.target.value),placeholder:"e.g., Production Approval Flow",className:"mt-1 block w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150"})]}),y&&h.jsx("div",{className:"p-2 bg-red-100 border border-red-400 text-red-700 rounded text-sm",children:y}),h.jsxs("div",{className:"flex justify-end pt-2 space-x-3",children:[h.jsx(kc.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>{d(!1),p(""),v("")},className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 font-semibold text-sm",children:"Cancel"}),h.jsxs(kc.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:async()=>{if(u.trim())try{b(!0);const e=await n({name:u,is_active:!1});f(t=>[...t,e]),d(!1),p(""),v("")}catch(e){v("Failed to create template")}finally{b(!1)}else v("Template name must be filled out.")},className:"px-5 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-semibold text-sm disabled:opacity-50 disabled:cursor-not-allowed flex items-center",disabled:g||!u.trim(),children:[g?h.jsx(Wd,{className:"animate-spin mr-2",size:16}):null,"Create Template"]})]})]})})]})]})]})},wee=({isOpen:e,onClose:t,title:n,children:r,className:a})=>h.jsx(Mi,{children:e&&h.jsx(kc.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:h.jsxs(kc.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${a||"max-w-xl w-full"}`,children:[h.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[h.jsx("h2",{className:"text-xl font-bold text-gray-800",children:n}),h.jsx("button",{onClick:t,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:h.jsx(Pu,{className:"text-xl"})})]}),h.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:r})]})})}),jee=()=>{const[e,t]=x.useState([]),[n,r]=x.useState(!0),[a,i]=x.useState(!1),[s,o]=x.useState(null),[l,c]=x.useState(""),[d,u]=x.useState(""),[p,m]=x.useState(!1),[f,g]=x.useState(null),[b,y]=x.useState(!1),[v,w]=x.useState(null),j=x.useRef(!0),[N,k]=x.useState(null),[S]=x.useState(window.innerWidth<768),[C,_]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return!!e&&JSON.parse(e)}),A=je(),{getServiceGroups:T,getServiceGroup:O,hasPermission:E,deleteServiceGroup:M}=gt(),P=x.useCallback(async()=>{try{r(!0);const e=(await T(0)).map(e=>{var t,n;return{id:Number(e.id),name:null!=(t=e.group_name)?t:"",description:null!=(n=e.group_description)?n:void 0}});t(e)}catch(e){w("Failed to load service groups")}finally{j.current&&r(!1)}},[T]);return x.useEffect(()=>(j.current=!0,P(),()=>{j.current=!1}),[P]),h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[h.jsx(Lu,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Fu,{mainTitle:"Service Groups",mainTitleHighlight:"Groups",description:"Manage service groups used across the service management system.",icon:h.jsx(Ou,{}),isMobile:S,toggleSidebar:()=>{const e=!C;_(e),localStorage.setItem("sidebarOpen",JSON.stringify(e))}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[h.jsxs(kc.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-8 flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Service ",h.jsx("span",{className:"text-blue-600",children:"Groups"})]}),h.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Manage service groups used across the service management system."})]}),E("manage_users")&&h.jsxs(kc.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>A("/services/servicegroups/addservicegroup"),className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[h.jsx(nu,{className:"text-base"}),h.jsx("span",{children:"Add Group"})]})]}),n?h.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[h.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),h.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading service groups..."})]}):0===e.length?h.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[h.jsx("div",{className:"text-blue-500 text-4xl mx-auto mb-4",children:h.jsx(bd,{})}),h.jsx("p",{className:"text-gray-700 text-base font-medium",children:"No service groups available."}),E("manage_users")&&h.jsx("button",{onClick:()=>A("/service/servicegroups/"),className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Create first group"})]}):h.jsx(kc.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:h.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:h.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[h.jsx("thead",{className:"bg-blue-50",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Group Name"}),h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Group Description"}),h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),h.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:e.map((e,t)=>h.jsxs(kc.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[h.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:h.jsx("div",{className:"text-sm font-medium text-gray-900",children:t+1})}),h.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:h.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.name})}),h.jsx("td",{className:"px-5 py-3",children:h.jsx("div",{className:"text-sm text-gray-600 truncate max-w-xs",children:e.description||"-"})}),E("manage_users")&&h.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[h.jsx(kc.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>A(`/services/servicegroups/editservicegroup/${e.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit",children:h.jsx(gu,{className:"inline text-base"})}),h.jsx(kc.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{return t=e.id,g(t),y(!0),void w(null);var t},className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:h.jsx(vu,{className:"inline text-base"})})]})]},e.id))})]})})}),v&&h.jsx("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:h.jsx("p",{className:"text-sm text-red-600 font-medium",children:v})})]})]}),h.jsx(wee,{isOpen:a,onClose:()=>i(!1),title:s?"Edit Service Group":"Add Service Group",className:"max-w-lg",children:h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Group Name"}),h.jsx("input",{value:l,onChange:e=>c(e.target.value),type:"text",className:"mt-2 w-full px-4 py-2 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Group Description"}),h.jsx("textarea",{value:d,onChange:e=>u(e.target.value),className:"mt-2 w-full px-4 py-2 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm",rows:4})]}),h.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-100",children:[h.jsx(kc.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>{i(!1),o(null),c(""),u(""),w(null)},className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),h.jsx(kc.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:async()=>{if(l.trim()){m(!0),w(null);try{if(await new Promise(e=>setTimeout(e,500)),s)t(e=>e.map(e=>e.id===s.id?{...e,name:l.trim(),description:d.trim()||void 0}:e));else{const n={id:e.length>0?Math.max(...e.map(e=>e.id))+1:1,name:l.trim(),description:d.trim()||void 0};t(e=>[...e,n])}i(!1),o(null),c(""),u("")}catch(n){w("Failed to save service group")}finally{m(!1)}}else w("Group Name is required")},disabled:p,className:"px-5 py-2.5 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold text-sm",children:p?"Saving...":"Save"})]}),v&&h.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:h.jsx("p",{className:"text-sm text-red-600 font-medium",children:v})})]})}),h.jsx(wee,{isOpen:b,onClose:()=>y(!1),title:"Confirm Deletion",children:h.jsxs("div",{className:"space-y-5 text-center py-3",children:[h.jsx("div",{className:"text-red-500 text-5xl mx-auto animate-pulse",children:h.jsx(vu,{})}),h.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this service group? This action cannot be undone."}),h.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[h.jsx(kc.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>y(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),h.jsx(kc.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>f&&(async n=>{try{await M(n),t(e.filter(e=>e.id!==n)),y(!1),g(null)}catch(r){w("Failed to delete service group. Please try again.")}})(f),disabled:p,className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:p?"Deleting...":"Delete"})]})]})})]})},Nee=({isOpen:e,onClose:t,title:n,children:r,className:a})=>h.jsx(Mi,{children:e&&h.jsx(kc.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.18},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:h.jsxs(kc.div,{initial:{y:50,opacity:0,scale:.98},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.98},transition:{duration:.28,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${a||"max-w-xl w-full"}`,children:[h.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[h.jsx("h2",{className:"text-xl font-bold text-gray-800",children:n}),h.jsx("button",{onClick:t,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150",children:h.jsx(Pu,{className:"text-xl"})})]}),h.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:r})]})})}),kee=({title:e,currentCount:t,lastMonthCount:n,icon:r,usePercentage:a=!0})=>{const i=t>=n,s=`${a?((e,t)=>{if(0===t)return e>0?"+100%":"0%";const n=(e-t)/t*100;return`${n>=0?"+":""}${Math.round(n)}%`})(t,n):((e,t)=>{const n=e-t;return`${n>0?"+":n<0?"":"+"}${n}`})(t,n)} from last month`;return h.jsxs(kc.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[h.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:e}),h.jsx("p",{className:"text-3xl font-bold text-gray-900",children:t})]}),h.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:r})]}),h.jsx("p",{className:"mt-3 text-xs font-semibold "+(i?"text-green-600":"text-red-600"),children:s})]})},See=()=>{const e=gt(),[t,n]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return JSON.parse(e||"false")}),r=je(),[a,i]=x.useState(null),[s,o]=x.useState(!1),[l,c]=x.useState(!1),[d,u]=x.useState(!1),[p,m]=x.useState(!1),[f,g]=x.useState(""),[b,y]=x.useState(!1),[v,w]=x.useState(""),[j,N]=x.useState(""),[k,S]=x.useState(!0),[C,_]=x.useState([]),[A,T]=x.useState([]),[O,E]=x.useState([]),[M,P]=x.useState(!1),[D,L]=x.useState(null),[I,R]=x.useState(!1),[F,H]=x.useState(null),[z,B]=x.useState(null),[W,$]=x.useState(!1),U=function(e){const[t,n]=x.useState(e);return x.useEffect(()=>{const t=setTimeout(()=>{n(e)},300);return()=>{clearTimeout(t)}},[e,300]),t}(f),V=x.useRef(null),[q,G]=x.useState(1),[Y,K]=x.useState({key:"created_at",direction:"descending"}),[J,X]=x.useState(null),[Q,Z]=x.useState(!1),[ee,te]=x.useState(window.innerWidth<768),ne=x.useRef(null),re=x.useRef(null),ae=x.useCallback(async()=>{try{const t=(await e.getServiceGroups(0)||[]).map(e=>e.group_name||e.group_description?{id:e.id,group_name:e.group_name,group_description:e.group_description,name:e.group_name||e.name}:{id:e.id,name:e.name||null});T(t)}catch(Ew){T([])}},[e]),ie=x.useCallback(async()=>{try{const t=(await e.getUsers()||[]).map(e=>({id:Number(e.id),name:e.name}));E(t)}catch(Ew){E([])}},[e]),se=x.useCallback(e=>{var t,n,r,a,i,s,o,l,c,d,u,h,p,m,f,g,x,b;return{id:null!=(t=e.id)?t:0,service_name:null!=(r=null!=(n=e.service_name)?n:e.name)?r:"",service_description:null!=(i=null!=(a=e.service_description)?a:e.description)?i:"",service_group:null!=(o=null!=(s=e.service_group)?s:e.service_group)?o:0,priority:null!=(l=e.priority)?l:"Low",service_owner:Number(null!=(u=null!=(d=null!=(c=e.service_owner)?c:e.service_owner)?d:e.owner)?u:0),sla:Number(null!=(p=null!=(h=e.sla)?h:e.sla)?p:0),impact:null!=(m=e.impact)?m:"",created_at:null!=(g=null!=(f=e.created_at)?f:e.createdAt)?g:(new Date).toISOString(),updated_at:null!=(b=null!=(x=e.updated_at)?x:e.updatedAt)?b:(new Date).toISOString()}},[]),oe=x.useCallback(async()=>{S(!0),X(null);try{const t=(await e.getServices(0)||[]).map(se);t.sort((e,t)=>e.created_at<t.created_at?1:-1),_(t)}catch(Ew){X("Failed to load service catalogue."),_([])}finally{S(!1)}},[e,se]);x.useEffect(()=>{let e=!0;return e&&(oe(),ae(),ie()),()=>{e=!1}},[oe,ae,ie]),x.useEffect(()=>{const e=()=>{te(window.innerWidth<768)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),x.useEffect(()=>{const e=e=>{ne.current&&!ne.current.contains(e.target)&&m(!1),re.current&&!re.current.contains(e.target)&&u(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);const le=(e,t)=>{B({type:e,message:t}),setTimeout(()=>B(null),3e3)},ce=C.length,de=x.useMemo(()=>{const e={Critical:0,High:0,Medium:0,Low:0};return C.forEach(t=>{const n=t.priority||"Low";e[n]=(e[n]||0)+1}),e},[C]),ue=x.useMemo(()=>{if(0===C.length)return 0;const e=C.reduce((e,t)=>e+(t.sla||0),0);return Math.round(e/C.length*100)/100},[C]),he=x.useMemo(()=>{const e=new Set;return C.forEach(t=>e.add(t.service_owner)),e.size},[C]),pe=x.useMemo(()=>{const e=new Date;return e.setMonth(e.getMonth()-1),C.filter(t=>new Date(t.created_at)<e)},[C]),me=x.useMemo(()=>{let e=[...C];if(U.trim()){const t=U.toLowerCase().trim();e=e.filter(e=>e.service_name.toLowerCase().includes(t)||(e.service_description||"").toLowerCase().includes(t))}return v&&(e=e.filter(e=>String(e.service_group.id)===String(v))),j&&(e=e.filter(e=>e.priority===j)),Y&&e.sort((e,t)=>{const n=e[Y.key],r=t[Y.key];return n<r?"ascending"===Y.direction?-1:1:n>r?"ascending"===Y.direction?1:-1:0}),e},[C,U,v,j,Y]),fe=e=>{switch(e){case"Critical":return"bg-red-500 text-white";case"High":return"bg-orange-500 text-white";case"Medium":return"bg-yellow-500 text-white";default:return"bg-gray-500 text-white"}},ge=10*q,xe=ge-10,be=me.slice(xe,ge),ye=Math.max(1,Math.ceil(me.length/10)),ve=()=>{const[t,n]=x.useState((null==D?void 0:D.service_name)||""),[r,a]=x.useState((null==D?void 0:D.service_description)||""),[i,s]=x.useState((null==D?void 0:D.service_group.id)||""),[o,l]=x.useState((null==D?void 0:D.priority)||"Low"),[c,d]=x.useState((null==D?void 0:D.service_owner)||(O[0]?O[0].id:"")),[u,p]=x.useState((null==D?void 0:D.sla)||24),[m,f]=x.useState((null==D?void 0:D.impact)||""),[g,b]=x.useState({});return h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Service Name *"}),h.jsx("input",{value:t,onChange:e=>n(e.target.value),className:"w-full mt-2 px-4 py-2 border border-blue-200 rounded-lg bg-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/30"}),g.service_name&&h.jsx("p",{className:"text-xs text-red-600 mt-1",children:g.service_name})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Service Description"}),h.jsx("textarea",{value:r,onChange:e=>a(e.target.value),rows:3,className:"w-full mt-2 px-4 py-2 border border-blue-200 rounded-lg bg-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/30"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Service Type *"}),h.jsxs("select",{value:i,onChange:e=>s(e.target.value?Number(e.target.value):""),className:"w-full mt-2 px-4 py-2 border border-blue-200 rounded-lg bg-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/30",children:[h.jsx("option",{value:"",children:"-- Select Group --"}),A.map(e=>{var t,n;return h.jsx("option",{value:String(e.id),children:null!=(n=null!=(t=e.group_name)?t:e.name)?n:String(e.id)},String(e.id))})]}),g.service_type&&h.jsx("p",{className:"text-xs text-red-600 mt-1",children:g.service_type})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Priority *"}),h.jsxs("select",{value:o,onChange:e=>l(e.target.value),className:"w-full mt-2 px-4 py-2 border border-blue-200 rounded-lg bg-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/30",children:[h.jsx("option",{value:"Low",children:"Low"}),h.jsx("option",{value:"Medium",children:"Medium"}),h.jsx("option",{value:"High",children:"High"}),h.jsx("option",{value:"Critical",children:"Critical"})]}),g.priority&&h.jsx("p",{className:"text-xs text-red-600 mt-1",children:g.priority})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-medium text-gray-700",children:"SLA (hours) *"}),h.jsx("input",{type:"number",value:u,onChange:e=>p(Number(e.target.value)),className:"w-full mt-2 px-4 py-2 border border-blue-200 rounded-lg bg-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/30"}),g.sla&&h.jsx("p",{className:"text-xs text-red-600 mt-1",children:g.sla})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Service Owner"}),h.jsxs("select",{value:c,onChange:e=>d(e.target.value?Number(e.target.value):""),className:"w-full mt-2 px-4 py-2 border border-blue-200 rounded-lg bg-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/30",children:[h.jsx("option",{value:"",children:"-- Select Owner --"}),O.map(e=>h.jsx("option",{value:e.id,children:e.name},e.id))]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Impact"}),h.jsx("textarea",{value:m,onChange:e=>f(e.target.value),rows:2,className:"w-full mt-2 px-4 py-2 border border-blue-200 rounded-lg bg-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/30"})]})]}),h.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-100 mt-3",children:[h.jsx(kc.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>P(!1),className:"px-5 py-2 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),h.jsx(kc.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:async()=>{if(b({}),t.trim())if(i)if(o)if(isNaN(Number(u)))b(e=>({...e,sla:"SLA must be a number"}));else{Z(!0);try{const n={service_name:t.trim(),service_description:r.trim(),service_type:Number(i),priority:o,service_owner:Number(c)||0,sla:Number(u)||0,impact:m.trim()};D?(await e.fetchWithAuth(`/service-catalogues/${D.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}),le("success","Service updated")):(await e.fetchWithAuth("/service-catalogues",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}),le("success","Service created")),await oe(),P(!1)}catch(Ew){le("error","Save failed")}finally{Z(!1)}}else b(e=>({...e,priority:"Priority is required"}));else b(e=>({...e,service_type:"Service Type is required"}));else b({service_name:"Service Name is required"})},disabled:Q,className:"px-5 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold text-sm disabled:opacity-60",children:Q?"Saving...":"Save"})]})]})},we=({service:e,onClose:t})=>{var n,r,a,i,s,o;const l=e=>null==e?"-":"string"==typeof e?""!==e.trim()?e.trim():"-":"number"==typeof e?e.toString():String(e),c=e=>e?new Date(e).toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-",d=({priority:e})=>{const t={Critical:"bg-red-100 text-red-800 border-red-300",High:"bg-orange-100 text-orange-800 border-orange-300",Medium:"bg-yellow-100 text-yellow-800 border-yellow-300",Low:"bg-gray-100 text-gray-800 border-gray-300"};return h.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold border ${t[e]||t.Low}`,children:e})},u=({title:e,children:t,icon:n})=>h.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[h.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-4 border-b border-gray-200",children:h.jsxs("div",{className:"flex items-center",children:[n&&h.jsx("div",{className:"mr-3 text-blue-600",children:n}),h.jsx("h3",{className:"text-lg font-bold text-gray-900",children:e})]})}),h.jsx("div",{className:"p-6",children:t})]}),p=({label:e,value:t,icon:n,fullWidth:r=!1,priority:a="medium"})=>h.jsx("div",{className:r?"col-span-full":"",children:h.jsx("div",{className:`p-4 rounded-lg ${{high:"border-l-4 border-l-blue-500 bg-blue-25",medium:"border-l-2 border-l-gray-200",low:"border-l border-l-gray-100"}[a]} transition-all duration-200 hover:shadow-sm`,children:h.jsxs("div",{className:"flex items-start space-x-3",children:[n&&h.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:n}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1",children:e}),h.jsx("p",{className:"text-sm font-medium text-gray-900 leading-relaxed",children:t})]})]})})}),m=null!=(r=null==(n=O.find(t=>t.id===Number(e.service_owner)))?void 0:n.name)?r:String(e.service_owner),f=null!=(o=null!=(s=null==(a=A.find(t=>String(t.id)===String(e.service_group.id)))?void 0:a.group_name)?s:null==(i=A.find(t=>String(t.id)===String(e.service_group.id)))?void 0:i.name)?o:String(e.service_group.id);return h.jsxs("div",{className:"space-y-6 max-h-[70vh] overflow-y-auto custom-scrollbar pr-2",children:[h.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6",children:h.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[h.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:e.service_name}),h.jsx(d,{priority:e.priority})]}),h.jsxs("p",{className:"text-gray-600 flex items-center gap-2",children:[h.jsx(Vc,{className:"w-4 h-4"}),"Created: ",c(e.created_at)]})]}),h.jsx("div",{className:"flex items-center gap-2",children:h.jsxs(kc.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:t,className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-lg text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:[h.jsx(Pu,{className:"w-4 h-4 mr-2"}),"Close"]})})]})}),h.jsx(u,{title:"Service Information",icon:h.jsx(Ed,{className:"w-5 h-5"}),children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[h.jsx(p,{label:"Service Name",value:l(e.service_name),icon:h.jsx(Bc,{className:"w-4 h-4"}),priority:"high"}),h.jsx(p,{label:"Service Type",value:l(f),icon:h.jsx(bd,{className:"w-4 h-4"}),priority:"high"}),h.jsx(p,{label:"Priority",value:l(e.priority),icon:h.jsx(ju,{className:"w-4 h-4"}),priority:"high"})]})}),h.jsx(u,{title:"Service Details",icon:h.jsx(Bc,{className:"w-5 h-5"}),children:h.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[h.jsx(p,{label:"Service Description",value:l(e.service_description),icon:h.jsx(Bc,{className:"w-4 h-4"}),fullWidth:!0}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsx(p,{label:"Service Owner",value:l(m),icon:h.jsx(Tu,{className:"w-4 h-4"})}),h.jsx(p,{label:"SLA (hours)",value:l(e.sla),icon:h.jsx(id,{className:"w-4 h-4"})})]})]})}),h.jsx(u,{title:"Additional Information",icon:h.jsx(Ed,{className:"w-5 h-5"}),children:h.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[h.jsx(p,{label:"Impact",value:l(e.impact),icon:h.jsx(ju,{className:"w-4 h-4"}),fullWidth:!0}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsx(p,{label:"Created At",value:c(e.created_at),icon:h.jsx(Vc,{className:"w-4 h-4"})}),h.jsx(p,{label:"Updated At",value:c(e.updated_at),icon:h.jsx(Vc,{className:"w-4 h-4"})})]})]})})]})};return h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[h.jsx(Lu,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Fu,{mainTitle:"Service Catalogue",mainTitleHighlight:"Management",description:"Manage user roles and permissions to control access and functionality within the system.",icon:h.jsx(Bc,{}),isMobile:ee,toggleSidebar:()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!t)),n(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[h.jsxs(kc.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[h.jsxs("div",{children:[h.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Service ",h.jsx("span",{className:"text-blue-600",children:"Catalogue"})]}),h.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Browse and manage the list of available services."})]}),h.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[h.jsxs(kc.button,{onClick:()=>r("/services/servicecatalogues/addservicecatalogue"),whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[h.jsx(nu,{className:"text-base"}),h.jsx("span",{children:"Add Service"})]}),h.jsxs("label",{className:"flex items-center cursor-pointer",children:[h.jsx("input",{type:"file",accept:".csv",onChange:t=>{var n;const r=(null==(n=t.target.files)?void 0:n[0])||null;r&&(async n=>{if(n){$(!0);try{const t=(await n.text()).split("\n").map(e=>e.trim()).filter(Boolean),r=[];for(let e=0;e<t.length;e++){const n=t[e].split(",").map(e=>e.trim()),a={service_name:n[1]||`Imported Service ${e+1}`,service_description:n[2]||"",service_type:A[0]?Number(A[0].id):0,priority:n[4]||"Low",service_owner:O[0]?O[0].id:0,sla:Number(n[6])||24,impact:n[7]||""};r.push(a)}for(const n of r)await e.fetchWithAuth("/service-catalogues",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});await oe(),le("success",`Imported ${r.length} services`)}catch(t){le("error","Import failed")}finally{$(!1)}}})(r),t.target.value=""},className:"hidden"}),h.jsxs(kc.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[h.jsx(Su,{className:"text-base"}),h.jsx("span",{children:W?"Importing...":"Import"})]})]}),h.jsxs(kc.button,{onClick:()=>y(e=>!e),whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[h.jsx(vd,{className:"text-base"}),h.jsx("span",{children:"Filters"}),h.jsx(kc.span,{animate:{rotate:b?180:0},transition:{duration:.2},children:h.jsx(Jc,{className:"text-base"})})]})]})]}),h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[h.jsx(kee,{title:"Total Services",currentCount:ce,lastMonthCount:pe.length,icon:h.jsx(Ed,{})}),h.jsx(kee,{title:"Critical",currentCount:de.Critical,lastMonthCount:pe.filter(e=>"Critical"===e.priority).length,icon:h.jsx(Ed,{}),usePercentage:!1}),h.jsx(kee,{title:"Average SLA (hrs)",currentCount:ue,lastMonthCount:pe.length>0?Math.round(pe.reduce((e,t)=>e+(t.sla||0),0)/pe.length*100)/100:0,icon:h.jsx(Ed,{}),usePercentage:!1}),h.jsx(kee,{title:"Total Owners",currentCount:he,lastMonthCount:new Set(pe.map(e=>e.service_owner)).size,icon:h.jsx(Tu,{}),usePercentage:!1})]}),h.jsxs(kc.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.05},children:[h.jsx("div",{className:"mb-4 bg-white rounded-2xl shadow-md p-4 md:p-6 border border-blue-50",children:h.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0",children:[h.jsxs("div",{className:"flex-1 relative",children:[h.jsx(uu,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),h.jsx("input",{ref:V,value:f,onChange:e=>g(e.target.value),placeholder:"Search services by name or description...",className:"w-full pl-12 pr-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base transition-all duration-200"})]}),h.jsx(Mi,{children:b&&h.jsxs(kc.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3 w-full md:w-auto",children:[h.jsxs("select",{value:v,onChange:e=>w(e.target.value),className:"border border-gray-200 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base appearance-none bg-no-repeat bg-right-12 bg-center-y transition-all duration-200",style:{backgroundImage:"url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='currentColor'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/svg%3E\")",backgroundSize:"1.2rem"},children:[h.jsx("option",{value:"",children:"All Groups"}),A.map(e=>{var t,n;return h.jsx("option",{value:String(e.id),children:null!=(n=null!=(t=e.group_name)?t:e.name)?n:String(e.id)},String(e.id))})]}),h.jsxs("select",{value:j,onChange:e=>N(e.target.value),className:"border border-gray-200 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base appearance-none bg-no-repeat bg-right-12 bg-center-y transition-all duration-200",style:{backgroundImage:"url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='currentColor'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/svg%3E\")",backgroundSize:"1.2rem"},children:[h.jsx("option",{value:"",children:"All Priorities"}),h.jsx("option",{value:"Critical",children:"Critical"}),h.jsx("option",{value:"High",children:"High"}),h.jsx("option",{value:"Medium",children:"Medium"}),h.jsx("option",{value:"Low",children:"Low"})]})]})})]})}),k?h.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[h.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),h.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading service catalogue..."})]}):J?h.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 text-center border border-yellow-100",children:[h.jsx(Ed,{className:"text-yellow-500 text-4xl mx-auto mb-4"}),h.jsx("p",{className:"text-gray-700 text-base font-medium",children:J}),h.jsx("div",{className:"mt-4",children:h.jsx("button",{onClick:oe,className:"px-4 py-2 bg-blue-600 text-white rounded-md",children:"Retry"})})]}):0===me.length?h.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[h.jsx(Ed,{className:"text-blue-500 text-4xl mx-auto mb-4"}),h.jsx("p",{className:"text-gray-700 text-base font-medium",children:U||v||j?"No services found matching your filters.":"No services available."}),(U||v||j)&&h.jsx("button",{onClick:()=>{w(""),N(""),g("")},className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear All Filters"})]}):h.jsx(kc.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"min-w-full divide-y divide-gray-100",children:[h.jsx("thead",{className:"bg-blue-50",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),h.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",onClick:()=>(e=>{let t="ascending";Y&&Y.key===e&&"ascending"===Y.direction&&(t="descending"),K({key:e,direction:t})})("service_name"),children:"Service Name"}),h.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Group"}),h.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Priority"}),h.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Service Owner"}),h.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"SLA (hrs)"}),h.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Impact"}),h.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),h.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:be.map((e,t)=>{var n,a,s,l,c,d;const u=null!=(a=null==(n=O.find(t=>t.id===Number(e.service_owner)))?void 0:n.name)?a:String(e.service_owner),p=null!=(d=null!=(c=null==(s=A.find(t=>String(t.id)===String(e.service_group.id)))?void 0:s.group_name)?c:null==(l=A.find(t=>String(t.id)===String(e.service_group.id)))?void 0:l.name)?d:String(e.service_group.id);return h.jsxs(kc.tr,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.2},whileHover:{backgroundColor:"rgba(239, 246, 255, 1)"},className:"transition-colors duration-150",children:[h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:xe+t+1}),h.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:e.service_name}),h.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:p}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-bold rounded-full ${fe(e.priority)} shadow-sm`,children:e.priority})}),h.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:u}),h.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:e.sla}),h.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:e.impact||"-"}),h.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium flex items-center space-x-2",children:[h.jsx(kc.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>(e=>{i(e),o(!0)})(e),className:"text-blue-600 hover:text-blue-800 transition-colors duration-200 flex items-center space-x-1",title:"View Details",children:h.jsx(md,{className:"text-lg"})}),h.jsx(kc.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>r(`/services/servicecatalogues/editservicecatalogue/${e.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 flex items-center space-x-1",title:"Edit",children:h.jsx(gu,{className:"text-lg"})}),h.jsx(kc.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{return t=e.id,H(t),void R(!0);var t},className:"text-red-600 hover:text-red-800 transition-colors duration-200 flex items-center space-x-1",title:"Delete",children:h.jsx(vu,{className:"text-lg"})})]})]},e.id)})})]})})}),me.length>10&&h.jsxs(kc.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"mt-8 flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[h.jsxs("div",{className:"text-sm text-gray-600 mb-4 sm:mb-0",children:["Showing ",h.jsx("span",{className:"font-semibold",children:xe+1})," to ",h.jsx("span",{className:"font-semibold",children:Math.min(ge,me.length)})," of"," ",h.jsx("span",{className:"font-semibold",children:me.length})," results"]}),h.jsxs("div",{className:"flex space-x-2",children:[h.jsx(kc.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>G(e=>Math.max(1,e-1)),disabled:1===q,className:"px-4 py-2 border border-gray-200 rounded-lg bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm",children:"Previous"}),Array.from({length:ye},(e,t)=>h.jsx(kc.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>G(t+1),className:`px-4 py-2 rounded-lg transition-colors duration-200 shadow-sm\n                          ${q===t+1?"bg-blue-600 text-white shadow-md":"bg-white text-gray-700 hover:bg-blue-50 border border-gray-200"}\n                        `,children:t+1},t+1)),h.jsx(kc.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>G(e=>Math.min(ye,e+1)),disabled:q===ye,className:"px-4 py-2 border border-gray-200 rounded-lg bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm",children:"Next"})]})]})]})]})]}),h.jsx(Nee,{isOpen:M,onClose:()=>P(!1),title:D?"Edit Service":"Add Service",className:"max-w-3xl",children:h.jsx(ve,{})}),h.jsx(Nee,{isOpen:I,onClose:()=>R(!1),title:"Confirm Deletion",children:h.jsxs("div",{className:"space-y-5 text-center py-3",children:[h.jsx(Ed,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),h.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this service? This action cannot be undone."}),h.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[h.jsx(kc.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>R(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),h.jsx(kc.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:async()=>{if(F){Z(!0);try{await e.fetchWithAuth(`/service-catalogues/${F}`,{method:"DELETE"}),await oe(),R(!1),H(null),le("success","Service deleted")}catch(Ew){le("error","Failed to delete service")}finally{Z(!1)}}},disabled:Q,className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm disabled:opacity-60",children:"Delete"})]})]})}),h.jsx(Nee,{isOpen:s,onClose:()=>o(!1),title:"Service Details",className:"max-w-5xl",children:a&&h.jsx(we,{service:a,onClose:()=>o(!1)})}),z&&h.jsx("div",{className:"fixed bottom-6 right-6 z-50",children:h.jsx(kc.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"px-5 py-3 rounded-lg shadow-md "+("success"===z.type?"bg-green-600 text-white":"bg-red-600 text-white"),children:z.message})})]})},Cee=({isOpen:e,onClose:t,title:n,children:r})=>e?h.jsx(kc.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:h.jsxs(kc.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[h.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[h.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n}),h.jsx(kc.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:t,className:"text-gray-500 hover:text-gray-700 text-2xl",children:h.jsx(Pu,{size:24})})]}),h.jsx("div",{children:r})]})}):null,_ee=()=>{const e=gt(),{addServiceGroup:t}=e,[n,r]=x.useState(window.innerWidth<768),[a,i]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return JSON.parse(e||"false")}),s=je(),[o,l]=x.useState(""),[c,d]=x.useState(""),[u,p]=x.useState(!1),[m,f]=x.useState(null),[g,b]=x.useState(!1),y=()=>{b(!1),s("/services/servicegroups")};return h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Lu,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Fu,{mainTitle:"Edit Group",mainTitleHighlight:"Management",description:"Manage user roles and permissions to control access and functionality within the system.",icon:h.jsx(Ou,{}),isMobile:n,toggleSidebar:()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!a)),i(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[h.jsxs(kc.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.25},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create Service Group"}),h.jsx("p",{className:"text-gray-600 mt-1",children:"Add a new service group to categorize services."})]}),h.jsxs(kc.button,{onClick:()=>s("/services/servicegroups"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[h.jsx(Rc,{className:"text-lg"})," Back"]})]}),h.jsxs(kc.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.08},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[m&&h.jsxs("div",{className:"bg-red-100 border border-red-300 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[h.jsx("strong",{className:"font-semibold",children:"Error: "}),h.jsx("span",{className:"ml-2",children:m})]}),h.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),f(null),o.trim()){p(!0);try{await t({group_name:o.trim(),group_description:c.trim()||null}),b(!0)}catch(n){const e=n instanceof Error?n.message:"Failed to save service group";f(e)}finally{p(!1)}}else f("Group Name is required")},className:"space-y-6",children:[h.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Group Name ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{name:"group_name",value:o,onChange:e=>l(e.target.value),type:"text",className:"mt-2 w-full px-4 py-2 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Group Description"}),h.jsx("textarea",{name:"group_description",value:c,onChange:e=>d(e.target.value),rows:4,className:"mt-2 w-full px-4 py-2 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm"})]})]}),h.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-100",children:[h.jsx(kc.button,{type:"button",whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>s("/services/servicegroups"),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),h.jsx(kc.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},disabled:u,className:"px-5 py-2.5 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold text-sm flex items-center",children:u?h.jsxs(h.Fragment,{children:[h.jsx(Ad,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):h.jsxs(h.Fragment,{children:[h.jsx(du,{className:"mr-2 h-5 w-5"}),"Save"]})})]})]})]})]})]}),h.jsx(Cee,{isOpen:g,onClose:y,title:"Success!",children:h.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[h.jsx(td,{className:"text-green-500 text-6xl mb-4"}),h.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:"Service group has been created successfully."}),h.jsx(kc.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:y,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Go to Service Groups"})]})})]})},Aee=({isOpen:e,onClose:t,title:n,children:r})=>e?h.jsx(kc.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:h.jsxs(kc.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[h.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[h.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n}),h.jsx(kc.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:t,className:"text-gray-500 hover:text-gray-700 text-2xl",children:h.jsx(Pu,{size:24})})]}),h.jsx("div",{children:r})]})}):null,Tee=()=>{const e=ke().id,t=je(),n=gt(),{getServiceGroup:r,updateServiceGroup:a}=n,[i,s]=x.useState(window.innerWidth<768),[o,l]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return JSON.parse(e||"false")}),[c,d]=x.useState(""),[u,p]=x.useState(""),[m,f]=x.useState(!1),[g,b]=x.useState(!0),[y,v]=x.useState(null),[w,j]=x.useState(!1);x.useEffect(()=>{let t=!0;return(async()=>{var n,a;b(!0),v(null);try{if(!e)return void v("Missing service group id");const i=await r(e);if(!t)return;d(String(null!=(n=i.group_name)?n:"")),p(String(null!=(a=i.group_description)?a:"")||"")}catch(i){const e=i instanceof Error?i.message:"Failed to load service group";v(e)}finally{t&&b(!1)}})(),()=>{t=!1}},[r,e]);const N=()=>{j(!1),t("/services/servicegroups")};return h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Lu,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Fu,{mainTitle:"Edit Group",mainTitleHighlight:"Management",description:"Manage user roles and permissions to control access and functionality within the system.",icon:h.jsx(Ou,{}),isMobile:i,toggleSidebar:()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!o)),l(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[h.jsx(kc.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.25},className:"mb-6",children:h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Service Group"}),h.jsx("p",{className:"text-gray-600 mt-1",children:"Update the service group details below."})]})}),h.jsx(kc.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.08},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:g?h.jsxs("div",{className:"text-center p-8",children:[h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-4 border-b-4 border-blue-500 mx-auto mb-4"}),h.jsx("p",{className:"text-gray-600",children:"Loading service group..."})]}):h.jsxs(h.Fragment,{children:[y&&h.jsxs("div",{className:"bg-red-100 border border-red-300 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[h.jsx("strong",{className:"font-semibold",children:"Error: "}),h.jsx("span",{className:"ml-2",children:y})]}),h.jsxs("form",{onSubmit:async t=>{if(t.preventDefault(),v(null),c.trim()){f(!0);try{const t=Number(e);await a(t,{group_name:c.trim(),group_description:u.trim()||null}),j(!0)}catch(n){const e=n instanceof Error?n.message:"Failed to update service group";v(e)}finally{f(!1)}}else v("Group Name is required")},className:"space-y-6",children:[h.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Group Name ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{name:"group_name",value:c,onChange:e=>d(e.target.value),type:"text",className:"mt-2 w-full px-4 py-2 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Group Description"}),h.jsx("textarea",{name:"group_description",value:u,onChange:e=>p(e.target.value),rows:4,className:"mt-2 w-full px-4 py-2 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm"})]})]}),h.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-100",children:[h.jsx(kc.button,{type:"button",whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>t("/services/servicegroups"),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),h.jsx(kc.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},disabled:m,className:"px-5 py-2.5 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold text-sm flex items-center",children:m?h.jsxs(h.Fragment,{children:[h.jsx(Ad,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):h.jsxs(h.Fragment,{children:[h.jsx(du,{className:"mr-2 h-5 w-5"}),"Save Changes"]})})]})]})]})})]})]}),h.jsx(Aee,{isOpen:w,onClose:N,title:"Success!",children:h.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[h.jsx(td,{className:"text-green-500 text-6xl mb-4"}),h.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:"Service group has been updated successfully."}),h.jsx(kc.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:N,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Go to Service Groups"})]})})]})},Oee=({isOpen:e,onClose:t,title:n,children:r})=>e?h.jsx(kc.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:h.jsxs(kc.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[h.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[h.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n}),h.jsx(kc.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:t,className:"text-gray-500 hover:text-gray-700 text-2xl",children:h.jsx(Pu,{size:24})})]}),h.jsx("div",{children:r})]})}):null,Eee=()=>{const{id:e}=ke(),{updateServiceCatalogue:t,getServiceGroups:n,getUsers:r,fetchWithAuth:a}=gt(),i=je(),[s,o]=x.useState(window.innerWidth<768),[l,c]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return JSON.parse(e||"false")}),[d,u]=x.useState(!1),[p,m]=x.useState(!0),[f,g]=x.useState(null),[b,y]=x.useState(null),[v,w]=x.useState(!1),[j,N]=x.useState([]),[k,S]=x.useState([]),[C,_]=x.useState({service_name:"",service_description:"",service_group:null,priority:"Low",service_owner:"",sla:24,impact:""}),A=x.useCallback(async()=>{var t;try{const[i,s,o]=await Promise.all([a(`/service-catalogues/${e}`),n(0),r()]),l=i.data||i;N(s),S(o),l&&_({service_name:l.service_name||"",service_description:l.service_description||"",service_group:(null==(t=l.service_group)?void 0:t.id)||null,priority:l.priority||"Low",service_owner:String(l.service_owner||""),sla:l.sla?parseFloat(l.sla):24,impact:l.impact||""})}catch(i){g(i.message||"Failed to load service data")}finally{m(!1)}},[e,a,n,r]);x.useEffect(()=>{e&&A()},[e,A]);const T=e=>{const{name:t,value:n}=e.target;_(e=>({...e,[t]:"sla"===t?Number(n):"service_group"===t?""===n?null:Number(n):n}))},O=()=>{w(!1),i("/services/servicecatalogues")};return p?h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Lu,{}),h.jsx("div",{className:"flex-1 flex items-center justify-center",children:h.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500"})})]}):h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Lu,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Fu,{mainTitle:"Edit Catalogue",mainTitleHighlight:"Management",description:"Manage user roles and permissions to control access and functionality within the system.",icon:h.jsx(Bc,{}),isMobile:s,toggleSidebar:()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!l)),c(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[h.jsxs(kc.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Service Catalogue"}),h.jsx("p",{className:"text-gray-600 mt-1",children:"Update service details"})]}),h.jsxs(kc.button,{onClick:()=>i("/services/servicecatalogues"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[h.jsx(Rc,{className:"text-lg"})," Back to Catalogue"]})]}),h.jsxs(kc.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[f&&h.jsxs(kc.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[h.jsx("strong",{className:"font-bold",children:"Error!"}),h.jsx("span",{className:"block sm:inline ml-2",children:f}),h.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:h.jsx(Pu,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>g(null)})})]}),h.jsxs("form",{onSubmit:async n=>{if(n.preventDefault(),u(!0),g(null),!(C.service_name&&null!==C.service_group&&C.priority&&C.service_owner&&C.sla))return g("Please fill all required fields"),void u(!1);try{const n={service_name:C.service_name,service_description:C.service_description,service_group:C.service_group,priority:C.priority,service_owner:Number(C.service_owner),sla:C.sla,impact:C.impact};await t(e,n),y("Service Catalogue updated successfully!"),w(!0)}catch(r){g(r.message||"Failed to update Service Catalogue")}finally{u(!1)}},className:"space-y-6",children:[h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Service Information"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"service_name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Service Name ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",name:"service_name",id:"service_name",value:C.service_name,onChange:T,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"service_group",className:"block text-sm font-medium text-gray-700 mb-1",children:["Service Type ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsxs("select",{name:"service_group",id:"service_group",value:C.service_group||"",onChange:T,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0,children:[h.jsx("option",{value:"",children:"Select Service Type"}),j.map(e=>h.jsx("option",{value:e.id,children:e.group_name||e.name},e.id))]})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"priority",className:"block text-sm font-medium text-gray-700 mb-1",children:["Priority ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsxs("select",{name:"priority",id:"priority",value:C.priority,onChange:T,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0,children:[h.jsx("option",{value:"Low",children:"Low"}),h.jsx("option",{value:"Medium",children:"Medium"}),h.jsx("option",{value:"High",children:"High"}),h.jsx("option",{value:"Critical",children:"Critical"})]})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"service_owner",className:"block text-sm font-medium text-gray-700 mb-1",children:["Service Owner ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsxs("select",{name:"service_owner",id:"service_owner",value:C.service_owner,onChange:T,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0,children:[h.jsx("option",{value:"",children:"Select Service Owner"}),k.map(e=>h.jsx("option",{value:e.id,children:e.name},e.id))]})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"sla",className:"block text-sm font-medium text-gray-700 mb-1",children:["SLA (hours) ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"number",name:"sla",id:"sla",value:C.sla,onChange:T,min:"1",step:"0.01",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"impact",className:"block text-sm font-medium text-gray-700 mb-1",children:"Impact"}),h.jsx("input",{type:"text",name:"impact",id:"impact",value:C.impact,onChange:T,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700"})]}),h.jsxs("div",{className:"md:col-span-2",children:[h.jsx("label",{htmlFor:"service_description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Service Description"}),h.jsx("textarea",{name:"service_description",id:"service_description",value:C.service_description,onChange:T,rows:4,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700"})]})]})]}),h.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[h.jsx(kc.button,{type:"button",onClick:()=>i("/services/servicecatalogues"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),h.jsx(kc.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:d,children:d?h.jsxs(h.Fragment,{children:[h.jsx(Ad,{className:"animate-spin mr-2 h-5 w-5"}),"Updating..."]}):h.jsxs(h.Fragment,{children:[h.jsx(du,{className:"mr-2 h-5 w-5"})," Update Service"]})})]})]})]})]})]}),h.jsx(Oee,{isOpen:v,onClose:O,title:"Success!",children:h.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[h.jsx(td,{className:"text-green-500 text-6xl mb-4"}),h.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:b}),h.jsx(kc.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:O,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Service Catalogue"})]})})]})},Mee=({isOpen:e,onClose:t,title:n,children:r})=>e?h.jsx(kc.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:h.jsxs(kc.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[h.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[h.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n}),h.jsx(kc.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:t,className:"text-gray-500 hover:text-gray-700 text-2xl",children:h.jsx(Pu,{size:24})})]}),h.jsx("div",{children:r})]})}):null,Pee=()=>{const{addServiceCatalogue:e,getServiceGroups:t,getUsers:n}=gt(),r=je(),[a,i]=x.useState(window.innerWidth<768),[s,o]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return JSON.parse(e||"false")}),[l,c]=x.useState(!1),[d,u]=x.useState(null),[p,m]=x.useState(null),[f,g]=x.useState(!1),[b,y]=x.useState([]),[v,w]=x.useState([]),[j,N]=x.useState({service_name:"",service_description:"",service_group:"",priority:"Low",service_owner:"",sla:24,impact:""}),k=x.useCallback(async()=>{try{const[e,r]=await Promise.all([t(0),n()]),a=r.filter(e=>{var t,n,r,a;const i=(null==(n=null==(t=e.department)?void 0:t.name)?void 0:n.toLowerCase())||(null==(a=null==(r=e.department)?void 0:r.name)?void 0:a.toLowerCase())||"";return i.includes("information and technology")&&i.includes("technology")||"it"===i});y(e),w(a)}catch(e){u(e.message||"Failed to load form data")}},[t,n]);x.useEffect(()=>{k()},[k]);const S=e=>{const{name:t,value:n}=e.target;N(e=>({...e,[t]:"sla"===t?Number(n):n}))},C=()=>{g(!1),r("/services/servicecatalogues")};return h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Lu,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Fu,{mainTitle:"Add Catalogue",mainTitleHighlight:"Management",description:"Manage user roles and permissions to control access and functionality within the system.",icon:h.jsx(Bc,{}),isMobile:a,toggleSidebar:()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!s)),o(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[h.jsxs(kc.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Service Catalogue"}),h.jsx("p",{className:"text-gray-600 mt-1",children:"Add a new service to the catalogue"})]}),h.jsxs(kc.button,{onClick:()=>r("/services/servicecatalogues"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[h.jsx(Rc,{className:"text-lg"})," Back to Catalogue"]})]}),h.jsxs(kc.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[d&&h.jsxs(kc.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[h.jsx("strong",{className:"font-bold",children:"Error!"}),h.jsx("span",{className:"block sm:inline ml-2",children:d}),h.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:h.jsx(Pu,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>u(null)})})]}),h.jsxs("form",{onSubmit:async t=>{if(t.preventDefault(),c(!0),u(null),!(j.service_name&&j.service_group&&j.priority&&j.service_owner&&j.sla))return u("Please fill all required fields"),void c(!1);try{const t={service_name:j.service_name,service_description:j.service_description,service_group:Number(j.service_group),priority:j.priority,service_owner:Number(j.service_owner),sla:j.sla,impact:j.impact};await e(t),m("Service Catalogue created successfully!"),g(!0)}catch(n){u(n.message||"Failed to create Service Catalogue")}finally{c(!1)}},className:"space-y-6",children:[h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Service Information"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"service_name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Service Name ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",name:"service_name",id:"service_name",value:j.service_name,onChange:S,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"service_group",className:"block text-sm font-medium text-gray-700 mb-1",children:["Service Type ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsxs("select",{name:"service_group",id:"service_group",value:j.service_group,onChange:S,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0,children:[h.jsx("option",{value:"",children:"Select Service Type"}),b.map(e=>h.jsx("option",{value:e.id,children:e.group_name||e.name},e.id))]})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"priority",className:"block text-sm font-medium text-gray-700 mb-1",children:["Priority ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsxs("select",{name:"priority",id:"priority",value:j.priority,onChange:S,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0,children:[h.jsx("option",{value:"Low",children:"Low"}),h.jsx("option",{value:"Medium",children:"Medium"}),h.jsx("option",{value:"High",children:"High"}),h.jsx("option",{value:"Critical",children:"Critical"})]})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"service_owner",className:"block text-sm font-medium text-gray-700 mb-1",children:["Service Owner ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsxs("select",{name:"service_owner",id:"service_owner",value:j.service_owner,onChange:S,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0,children:[h.jsx("option",{value:"",children:"Select Service Owner"}),v.map(e=>h.jsx("option",{value:e.id,children:e.name},e.id))]})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"sla",className:"block text-sm font-medium text-gray-700 mb-1",children:["SLA (hours) ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"number",name:"sla",id:"sla",value:j.sla,onChange:S,min:"1",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"impact",className:"block text-sm font-medium text-gray-700 mb-1",children:"Impact"}),h.jsx("input",{type:"text",name:"impact",id:"impact",value:j.impact,onChange:S,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700"})]}),h.jsxs("div",{className:"md:col-span-2",children:[h.jsx("label",{htmlFor:"service_description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Service Description"}),h.jsx("textarea",{name:"service_description",id:"service_description",value:j.service_description,onChange:S,rows:4,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700"})]})]})]}),h.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[h.jsx(kc.button,{type:"button",onClick:()=>r("/services/servicecatalogues"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),h.jsx(kc.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:l,children:l?h.jsxs(h.Fragment,{children:[h.jsx(Ad,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):h.jsxs(h.Fragment,{children:[h.jsx(du,{className:"mr-2 h-5 w-5"})," Save Service"]})})]})]})]})]})]}),h.jsx(Mee,{isOpen:f,onClose:C,title:"Success!",children:h.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[h.jsx(td,{className:"text-green-500 text-6xl mb-4"}),h.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:p}),h.jsx(kc.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:C,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Service Catalogue"})]})})]})},Dee=({isOpen:e,onClose:t,title:n,children:r,className:a})=>h.jsx(Mi,{children:e&&h.jsx(kc.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:h.jsxs(kc.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${a||"max-w-xl w-full"}`,children:[h.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[h.jsx("h2",{className:"text-xl font-bold text-gray-800",children:n}),h.jsx("button",{onClick:t,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:h.jsx(Pu,{className:"text-xl"})})]}),h.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:r})]})})}),Lee=({title:e,value:t,change:n,icon:r})=>{const a=n.startsWith("+");return h.jsxs(kc.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[h.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:e}),h.jsx("p",{className:"text-3xl font-bold text-gray-900",children:t})]}),h.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:r})]}),h.jsxs("p",{className:"mt-3 text-xs font-semibold "+(a?"text-green-600":"text-red-600"),children:[n," from last month"]})]})},Iee=()=>{const[e,t]=x.useState([]),[n,r]=x.useState([]),{getDepartment:a,getUsers:i,deleteDepartment:s}=gt(),[o,l]=x.useState(!0),[c,d]=x.useState(null),[u,p]=x.useState(""),[m,f]=x.useState(!1),[g,b]=x.useState(null),[y,v]=x.useState(!1),[w]=x.useState(window.innerWidth<768),[j,N]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return!!e&&JSON.parse(e)}),k=je(),S=x.useRef(null),[C,_]=x.useState(!1),A=x.useMemo(()=>[{id:"department",name:"Department"},{id:"head",name:"Head"}],[]),T=x.useCallback(async()=>{try{l(!0);const e=await a(),n=await i(),s=[...e].sort((e,t)=>e.id-t.id);t(s),r(n)}catch(e){d("Failed to load departments")}finally{l(!1)}},[a,i]);x.useEffect(()=>{T()},[T]);const O=x.useMemo(()=>{if(!u)return A;const e=u.toLowerCase();return A.filter(t=>t.name.toLowerCase().includes(e))},[u,A]),E=x.useMemo(()=>{if(!u.trim())return e;const t=u.toLowerCase().trim(),n=t.split(":");let r="all",a=t;return n.length>1&&A.some(e=>e.name.toLowerCase()===n[0].trim())&&(r=n[0].trim(),a=n.slice(1).join(":").trim()),e.filter(e=>{var t,n,i;const s=null==(t=e.name)?void 0:t.toLowerCase().includes(a),o=null==(i=null==(n=e.head)?void 0:n.name)?void 0:i.toLowerCase().includes(a);return"department"===r?s:"head"===r?o:s||o})},[e,u,A]),M=x.useCallback(e=>{b(e),f(!0)},[]);return h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[h.jsx(Lu,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Fu,{mainTitle:"Departments",mainTitleHighlight:"Page",description:"Manage departments and their configurations within the system.",icon:h.jsx(Uc,{}),isMobile:w,toggleSidebar:()=>{const e=!j;N(e),localStorage.setItem("sidebarOpen",JSON.stringify(e))}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[h.jsxs(kc.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[h.jsxs("div",{children:[h.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Departments ",h.jsx("span",{className:"text-blue-600",children:"Management"})]}),h.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Organize and manage departments by specific company requirements."})]}),h.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[h.jsxs(kc.button,{onClick:()=>k("/worklocation/department/adddepartment"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[h.jsx(nu,{className:"text-base"}),h.jsx("span",{children:"Add Department"})]}),h.jsxs(kc.button,{onClick:()=>{alert("Import functionality is not yet implemented.")},whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[h.jsx(Su,{className:"text-base"}),h.jsx("span",{children:"Import"})]}),h.jsxs(kc.button,{onClick:()=>v(!y),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[h.jsx(vd,{className:"text-base"}),h.jsx("span",{children:"Filters"}),h.jsx(kc.span,{animate:{rotate:y?180:0},transition:{duration:.2},children:h.jsx(Jc,{className:"text-base"})})]})]})]}),h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[h.jsx(Lee,{title:"Total Departments",value:e.length.toString(),change:`+${Math.floor(e.length/10*100)}%`,icon:h.jsx(Uc,{className:"w-6 h-6"})}),h.jsx(Lee,{title:"Head Departments",value:e.filter(e=>null!==e.head_id).length.toString(),change:`+${Math.floor(e.filter(e=>null!==e.head_id).length/e.length*100)}%`,icon:h.jsx(Tu,{className:"w-6 h-6"})}),h.jsx(Lee,{title:"Departments with Email",value:e.filter(e=>{var t;return null==(t=e.head)?void 0:t.email}).length.toString(),change:`+${Math.floor(e.filter(e=>{var t;return null==(t=e.head)?void 0:t.email}).length/e.length*100)}%`,icon:h.jsx(Vd,{className:"w-6 h-6"})}),h.jsx(Lee,{title:"Total Employees",value:n.length.toString(),change:`+${Math.floor(n.length/50*100)}%`,icon:h.jsx(Ou,{className:"w-6 h-6"})})]}),h.jsxs(kc.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[h.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:h.jsxs("div",{className:"flex-1 relative",children:[h.jsx(uu,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),h.jsx("input",{ref:S,type:"text",placeholder:"Search by department or head...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:u,onChange:e=>{const t=e.target.value;p(t)},onFocus:()=>_(!0),"aria-label":"Search departments"}),h.jsx(Mi,{children:C&&O.length>0&&h.jsx(kc.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.15},className:"search-suggestions absolute left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-10 max-h-56 overflow-y-auto custom-scrollbar",children:O.map(e=>h.jsx(kc.button,{onClick:()=>{return t=e.name,p(`${t}: `),_(!1),void(null==(n=S.current)||n.focus());var t,n},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},className:"w-full text-left p-3 text-gray-700 hover:text-blue-700 transition-colors duration-150 text-sm",role:"option",children:h.jsx("span",{className:"font-semibold",children:e.name})},e.id))})})]})}),h.jsx(Mi,{children:y&&h.jsx(kc.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full"})})]}),o?h.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[h.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),h.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading department data..."})]}):0===E.length?h.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[h.jsx("p",{className:"text-gray-700 text-base font-medium",children:u?"No departments found matching your search.":"No departments available."}),u&&h.jsx("button",{onClick:()=>p(""),className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear Search"})]}):h.jsx(kc.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:h.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:h.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[h.jsx("thead",{className:"bg-blue-50",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Department"}),h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Head Department"}),h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Email Head Department"}),h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),h.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:E.map((e,t)=>{var n,r;return h.jsxs(kc.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[h.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:h.jsx("div",{className:"text-sm font-medium text-gray-900",children:t+1})}),h.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:h.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.name})}),h.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:h.jsx("div",{className:"text-sm font-medium text-gray-900",children:(null==(n=e.head)?void 0:n.name)||"-"})}),h.jsx("td",{className:"px-5 py-3",children:h.jsx("div",{className:"text-sm text-gray-600 truncate max-w-xs",children:(null==(r=e.head)?void 0:r.email)||"-"})}),h.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[h.jsx(kc.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>k(`/worklocation/department/editdepartment/${e.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit",children:h.jsx(gu,{className:"inline text-base"})}),h.jsx(kc.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>M(e.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:h.jsx(vu,{className:"inline text-base"})})]})]},e.id)})})]})})})]})]}),h.jsx(Dee,{isOpen:m,onClose:()=>f(!1),title:"Confirm Deletion",children:h.jsxs("div",{className:"space-y-5 text-center py-3",children:[h.jsx(ju,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),h.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this department? This action cannot be undone."}),h.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[h.jsx(kc.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>f(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),h.jsx(kc.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>g&&(async n=>{try{await s(n),t(e.filter(e=>e.id!==n)),f(!1),b(null)}catch(r){d("Failed to delete department. Please try again.")}})(g),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})]})},Ree=({isOpen:e,onClose:t,title:n,children:r})=>e?h.jsx(kc.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:h.jsxs(kc.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[h.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[h.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n}),h.jsx(kc.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:t,className:"text-gray-500 hover:text-gray-700 text-2xl",children:h.jsx(Pu,{size:24})})]}),h.jsx("div",{children:r})]})}):null,Fee=()=>{const[e,t]=x.useState(window.innerWidth<768),[n,r]=x.useState([]),[a,i]=x.useState([]),{addDepartment:s,getUsers:o}=gt(),[l,c]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return!!e&&JSON.parse(e)}),[d,u]=x.useState(null),[p,m]=x.useState(null),[f,g]=x.useState(!1),[b,y]=x.useState(!1),v=je(),[w,j]=x.useState({name:"",head_id:0}),N=e=>{const{name:t,value:n}=e.target;j(e=>({...e,[t]:"sla"===t?Number(n):n}))},k=x.useCallback(async()=>{try{const[e]=await Promise.all([o()]);r(e)}catch(e){u(e.message||"Failed to load form data")}},[o]);x.useEffect(()=>{k()},[k]),x.useCallback(e=>{if(!e)return;const t=parseInt(e.value),r=n.find(e=>parseInt(e.id)===t);if(r){const e=a.find(e=>e.id===r.department_id);j(n=>({...n,id:t,department_id:r.department_id||0,known_by_id:(null==e?void 0:e.head_id)||null}))}},[n,a]);const S=()=>{g(!1),v("/worklocation/department")};return h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Lu,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Fu,{mainTitle:"Add Department",mainTitleHighlight:"Management",description:"blablablabl",icon:h.jsx(Uc,{}),isMobile:e,toggleSidebar:()=>{c(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[h.jsxs(kc.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Department and Head"}),h.jsx("p",{className:"text-gray-600 mt-1",children:"Add a new Department and Head information"})]}),h.jsxs(kc.button,{onClick:()=>v("/worklocation/department"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[h.jsx(Rc,{className:"text-lg"})," Back to Department Management"]})]}),h.jsxs(kc.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[d&&h.jsxs(kc.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[h.jsx("strong",{className:"font-bold",children:"Error!"}),h.jsx("span",{className:"block sm:inline ml-2",children:d}),h.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:h.jsx(Pu,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>u(null)})})]}),h.jsxs("form",{onSubmit:async e=>{e.preventDefault(),y(!0),u(null);try{const e={name:w.name,head_id:w.head_id};await s(e),m("Department created successfully!"),g(!0)}catch(t){u(t.message||"Failed to create Department")}finally{y(!1)}},className:"space-y-6",children:[h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Department Information"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Name Department ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",name:"name",id:"name",value:w.name,onChange:N,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"head_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Head Department ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsxs("select",{name:"head_id",id:"head_id",value:w.head_id,onChange:N,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0,children:[h.jsx("option",{value:"",children:"Select Head Department"}),n.map(e=>h.jsx("option",{value:e.id,children:e.name||e.name},e.id))]})]})]})]}),h.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[h.jsx(kc.button,{type:"button",onClick:()=>v("/worklocations"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),h.jsx(kc.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:b,children:b?h.jsxs(h.Fragment,{children:[h.jsx(Ad,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):h.jsxs(h.Fragment,{children:[h.jsx(du,{className:"mr-2 h-5 w-5"})," Save Department"]})})]})]})]})]})]}),h.jsx(Ree,{isOpen:f,onClose:S,title:"Success!",children:h.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[h.jsx(td,{className:"text-green-500 text-6xl mb-4"}),h.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:p}),h.jsx(kc.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:S,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Department"})]})})]})},Hee=({isOpen:e,onClose:t,title:n,children:r})=>e?h.jsx(kc.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:h.jsxs(kc.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[h.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[h.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n}),h.jsx(kc.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:t,className:"text-gray-500 hover:text-gray-700 text-2xl",children:h.jsx(Pu,{size:24})})]}),h.jsx("div",{children:r})]})}):null,zee=()=>{const{id:e}=ke(),[t,n]=x.useState(window.innerWidth<768),[r,a]=x.useState([]),[i,s]=x.useState(),{addDepartment:o,getUsers:l,updateDepartment:c,getDepartmentById:d}=gt(),[u,p]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return!!e&&JSON.parse(e)}),[m,f]=x.useState(null),[g,b]=x.useState(null),[y,v]=x.useState(!1),[w,j]=x.useState(!1),N=je(),[k,S]=x.useState({name:"",head_id:0});x.useEffect(()=>{i&&S({name:i.name||"",head_id:i.head_id||0})},[i]);const C=e=>{const{name:t,value:n}=e.target;S(e=>({...e,[t]:"sla"===t?Number(n):n}))},_=x.useCallback(async()=>{try{if(e){const[t,n]=await Promise.all([d(e),l()]);s(t),a(n)}}catch(t){f(t.message||"Failed to load form data")}},[e,d,l]);x.useEffect(()=>{e&&_()},[e,_]);const A=()=>{v(!1),N("/worklocation/department")};return h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Lu,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Fu,{mainTitle:"Edit Department",mainTitleHighlight:"Management",description:"blablablabl",icon:h.jsx(Uc,{}),isMobile:t,toggleSidebar:()=>{p(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[h.jsxs(kc.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Department and Head"}),h.jsx("p",{className:"text-gray-600 mt-1",children:"Update Department and Head information"})]}),h.jsxs(kc.button,{onClick:()=>N("/worklocation/department"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[h.jsx(Rc,{className:"text-lg"})," Back to Department Management"]})]}),h.jsxs(kc.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[m&&h.jsxs(kc.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[h.jsx("strong",{className:"font-bold",children:"Error!"}),h.jsx("span",{className:"block sm:inline ml-2",children:m}),h.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:h.jsx(Pu,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>f(null)})})]}),h.jsxs("form",{onSubmit:async t=>{t.preventDefault(),j(!0),f(null);try{const t={name:k.name,head_id:k.head_id};await c(e,t),b("Department update successfully!"),v(!0)}catch(n){f(n.message||"Failed to create Department")}finally{j(!1)}},className:"space-y-6",children:[h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Department Information"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Name Department ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",name:"name",id:"name",value:k.name,onChange:C,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"head_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Head Department ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsxs("select",{name:"head_id",id:"head_id",value:k.head_id,onChange:C,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0,children:[h.jsx("option",{value:"",children:"Select Head Department"}),r.map(e=>h.jsx("option",{value:e.id,children:e.name||e.name},e.id))]})]})]})]}),h.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[h.jsx(kc.button,{type:"button",onClick:()=>N("/worklocations"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),h.jsx(kc.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:w,children:w?h.jsxs(h.Fragment,{children:[h.jsx(Ad,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):h.jsxs(h.Fragment,{children:[h.jsx(du,{className:"mr-2 h-5 w-5"})," Save Department"]})})]})]})]})]})]}),h.jsx(Hee,{isOpen:y,onClose:A,title:"Success!",children:h.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[h.jsx(td,{className:"text-green-500 text-6xl mb-4"}),h.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:g}),h.jsx(kc.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:A,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Department Management"})]})})]})},Bee=({isOpen:e,onClose:t,title:n,children:r,className:a})=>h.jsx(Mi,{children:e&&h.jsx(kc.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4 backdrop-blur-sm",children:h.jsxs(kc.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${a||"max-w-xl w-full"}`,children:[h.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[h.jsx("h2",{className:"text-xl font-bold text-gray-800",children:n}),h.jsx("button",{onClick:t,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:h.jsx(Pu,{className:"text-xl"})})]}),h.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:r})]})})}),Wee=({title:e,value:t,change:n,icon:r})=>{const a=n.startsWith("+");return h.jsxs(kc.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[h.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:e}),h.jsx("p",{className:"text-3xl font-bold text-gray-900",children:t})]}),h.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:r})]}),h.jsxs("p",{className:"mt-3 text-xs font-semibold "+(a?"text-green-600":"text-red-600"),children:[n," from last month"]})]})},$ee=()=>{const[e,t]=x.useState([]),{getStopTimes:n,deleteStopTimes:r}=gt(),[a,i]=x.useState(!0),[s,o]=x.useState(null),[l,c]=x.useState(""),[d,u]=x.useState(!1),[p,m]=x.useState(null),[f,g]=x.useState(!1),[b]=x.useState(window.innerWidth<768),[y,v]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return!!e&&JSON.parse(e)}),w=je(),j=x.useRef(null),[N,k]=x.useState(!1),S=x.useMemo(()=>[{id:"stoptime",name:"Stop Time"},{id:"description",name:"Description"}],[]),C=x.useCallback(async()=>{try{i(!0);const e=[...await n()].sort((e,t)=>e.id-t.id);t(e)}catch(e){o("Failed to load stop times")}finally{i(!1)}},[n]);x.useEffect(()=>{C()},[C]);const _=x.useMemo(()=>{if(!l)return S;const e=l.toLowerCase();return S.filter(t=>t.name.toLowerCase().includes(e))},[l,S]),A=x.useMemo(()=>{if(!l.trim())return e;const t=l.toLowerCase().trim(),n=t.split(":");let r="all",a=t;return n.length>1&&S.some(e=>e.name.toLowerCase()===n[0].trim())&&(r=n[0].trim(),a=n.slice(1).join(":").trim()),e.filter(e=>{var t,n;const i=null==(t=e.name)?void 0:t.toLowerCase().includes(a),s=null==(n=e.description)?void 0:n.toLowerCase().includes(a);return"stop time"===r?i:"description"===r?s:i||s})},[e,l,S]),T=x.useCallback(e=>{m(e),u(!0)},[]);return h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[h.jsx(Lu,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Fu,{mainTitle:"Stop Times",mainTitleHighlight:"Page",description:"Manage stop times and their configurations within the system.",icon:h.jsx(id,{}),isMobile:b,toggleSidebar:()=>{const e=!y;v(e),localStorage.setItem("sidebarOpen",JSON.stringify(e))}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[h.jsxs(kc.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[h.jsxs("div",{children:[h.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Stop Times ",h.jsx("span",{className:"text-blue-600",children:"Management"})]}),h.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Organize and manage stop times by specific company requirements."})]}),h.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[h.jsxs(kc.button,{onClick:()=>w("/maintenanceactivity/stoptimes/addstoptime"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[h.jsx(nu,{className:"text-base"}),h.jsx("span",{children:"Add Stop Time"})]}),h.jsxs(kc.button,{onClick:()=>{alert("Import functionality is not yet implemented.")},whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[h.jsx(Su,{className:"text-base"}),h.jsx("span",{children:"Import"})]}),h.jsxs(kc.button,{onClick:()=>g(!f),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[h.jsx(vd,{className:"text-base"}),h.jsx("span",{children:"Filters"}),h.jsx(kc.span,{animate:{rotate:f?180:0},transition:{duration:.2},children:h.jsx(Jc,{className:"text-base"})})]})]})]}),h.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:h.jsx(Wee,{title:"Total Stop Times",value:e.length.toString(),change:`+${Math.floor(e.length/10*100)}%`,icon:h.jsx(id,{className:"w-6 h-6"})})}),h.jsxs(kc.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[h.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:h.jsxs("div",{className:"flex-1 relative",children:[h.jsx(uu,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),h.jsx("input",{ref:j,type:"text",placeholder:"Search by stop time or description...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:l,onChange:e=>{const t=e.target.value;c(t)},onFocus:()=>k(!0),"aria-label":"Search stop times"}),h.jsx(Mi,{children:N&&_.length>0&&h.jsx(kc.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.15},className:"search-suggestions absolute left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-10 max-h-56 overflow-y-auto custom-scrollbar",children:_.map(e=>h.jsx(kc.button,{onClick:()=>{return t=e.name,c(`${t}: `),k(!1),void(null==(n=j.current)||n.focus());var t,n},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},className:"w-full text-left p-3 text-gray-700 hover:text-blue-700 transition-colors duration-150 text-sm",role:"option",children:h.jsx("span",{className:"font-semibold",children:e.name})},e.id))})})]})}),h.jsx(Mi,{children:f&&h.jsx(kc.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full"})})]}),a?h.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[h.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),h.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading stop time data..."})]}):0===A.length?h.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[h.jsx("p",{className:"text-gray-700 text-base font-medium",children:l?"No stop times found matching your search.":"No stop times available."}),l&&h.jsx("button",{onClick:()=>c(""),className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear Search"})]}):h.jsx(kc.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:h.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:h.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[h.jsx("thead",{className:"bg-blue-50",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Stop Time"}),h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Description"}),h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),h.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:A.map((e,t)=>h.jsxs(kc.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[h.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:h.jsx("div",{className:"text-sm font-medium text-gray-900",children:t+1})}),h.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:h.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.name})}),h.jsx("td",{className:"px-5 py-3",children:h.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.description||"-"})}),h.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[h.jsx(kc.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>w(`/maintenanceactivity/stoptimes/editstoptime/${e.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit",children:h.jsx(gu,{className:"inline text-base"})}),h.jsx(kc.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>T(e.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:h.jsx(vu,{className:"inline text-base"})})]})]},e.id))})]})})})]})]}),h.jsx(Bee,{isOpen:d,onClose:()=>u(!1),title:"Confirm Deletion",children:h.jsxs("div",{className:"space-y-5 text-center py-3",children:[h.jsx(ju,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),h.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this stop time? This action cannot be undone."}),h.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[h.jsx(kc.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>u(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),h.jsx(kc.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>p&&(async n=>{try{await r(n),t(e.filter(e=>e.id!==n)),u(!1),m(null)}catch(a){o("Failed to delete stop time. Please try again.")}})(p),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})]})},Uee=({isOpen:e,onClose:t,title:n,children:r})=>e?h.jsx(kc.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:h.jsxs(kc.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[h.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[h.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n}),h.jsx(kc.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:t,className:"text-gray-500 hover:text-gray-700 text-2xl",children:h.jsx(Pu,{size:24})})]}),h.jsx("div",{children:r})]})}):null,Vee=()=>{const[e,t]=x.useState(window.innerWidth<768),[n,r]=x.useState([]),[a,i]=x.useState([]),{addStopTimes:s,getStopTimes:o}=gt(),[l,c]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return!!e&&JSON.parse(e)}),[d,u]=x.useState(null),[p,m]=x.useState(null),[f,g]=x.useState(!1),[b,y]=x.useState(!1),v=je(),[w,j]=x.useState({name:"",description:""}),N=e=>{const{name:t,value:n}=e.target;j(e=>({...e,[t]:"sla"===t?Number(n):n}))},k=x.useCallback(async()=>{try{const[e]=await Promise.all([o()]);r(e)}catch(e){u(e.message||"Failed to load form data")}},[o]);x.useEffect(()=>{k()},[k]);const S=()=>{g(!1),v("/maintenanceactivity/stoptimes")};return h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Lu,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Fu,{mainTitle:"Create Stop Times",mainTitleHighlight:"Management",description:"blablablabl",icon:h.jsx(id,{}),isMobile:e,toggleSidebar:()=>{c(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[h.jsxs(kc.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Stop Times"}),h.jsx("p",{className:"text-gray-600 mt-1",children:"Add a new Stop Times information"})]}),h.jsxs(kc.button,{onClick:()=>v("/maintenanceactivity/stoptimes"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[h.jsx(Rc,{className:"text-lg"})," Back to Stop Times Management"]})]}),h.jsxs(kc.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[d&&h.jsxs(kc.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[h.jsx("strong",{className:"font-bold",children:"Error!"}),h.jsx("span",{className:"block sm:inline ml-2",children:d}),h.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:h.jsx(Pu,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>u(null)})})]}),h.jsxs("form",{onSubmit:async e=>{e.preventDefault(),y(!0),u(null);try{const e={name:w.name,description:w.description};await s(e),m("Stop Time created successfully!"),g(!0)}catch(t){u(t.message||"Failed to create Stop Time")}finally{y(!1)}},className:"space-y-6",children:[h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Stop Times Information"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Stop Times Name ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",name:"name",id:"name",value:w.name,onChange:N,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",name:"description",id:"description",value:w.description,onChange:N,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),h.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[h.jsx(kc.button,{type:"button",onClick:()=>v("/maintenanceactivity/stoptimes"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),h.jsx(kc.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:b,children:b?h.jsxs(h.Fragment,{children:[h.jsx(Ad,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):h.jsxs(h.Fragment,{children:[h.jsx(du,{className:"mr-2 h-5 w-5"})," Save Service"]})})]})]})]})]})]}),h.jsx(Uee,{isOpen:f,onClose:S,title:"Success!",children:h.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[h.jsx(td,{className:"text-green-500 text-6xl mb-4"}),h.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:p}),h.jsx(kc.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:S,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Stop Times Management"})]})})]})},qee=({isOpen:e,onClose:t,title:n,children:r})=>e?h.jsx(kc.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:h.jsxs(kc.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[h.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[h.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n}),h.jsx(kc.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:t,className:"text-gray-500 hover:text-gray-700 text-2xl",children:h.jsx(Pu,{size:24})})]}),h.jsx("div",{children:r})]})}):null,Gee=()=>{const{id:e}=ke(),[t,n]=x.useState(window.innerWidth<768),[r,a]=x.useState([]),[i,s]=x.useState(),{getStopTimes:o,updateStopTimes:l,getStopTimesById:c}=gt(),[d,u]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return!!e&&JSON.parse(e)}),[p,m]=x.useState(null),[f,g]=x.useState(null),[b,y]=x.useState(!1),[v,w]=x.useState(!1),j=je(),[N,k]=x.useState({name:"",description:""});x.useEffect(()=>{i&&k({name:i.name||"",description:i.description||""})},[i]);const S=e=>{const{name:t,value:n}=e.target;k(e=>({...e,[t]:"sla"===t?Number(n):n}))},C=x.useCallback(async()=>{try{if(e){const[t]=await Promise.all([c(e)]);s(t)}}catch(t){m(t.message||"Failed to load form data")}},[e,c]);x.useEffect(()=>{e&&C()},[e,C]);const _=()=>{y(!1),j("/maintenanceactivity/stoptimes")};return h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Lu,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Fu,{mainTitle:"Edit Stop Times",mainTitleHighlight:"Management",description:"blablablabl",icon:h.jsx(id,{}),isMobile:t,toggleSidebar:()=>{u(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[h.jsxs(kc.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Stop Times"}),h.jsx("p",{className:"text-gray-600 mt-1",children:"Update Stop Timesinformation"})]}),h.jsxs(kc.button,{onClick:()=>j("/maintenanceactivity/stoptimes"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[h.jsx(Rc,{className:"text-lg"})," Back to Stop Times Management"]})]}),h.jsxs(kc.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[p&&h.jsxs(kc.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[h.jsx("strong",{className:"font-bold",children:"Error!"}),h.jsx("span",{className:"block sm:inline ml-2",children:p}),h.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:h.jsx(Pu,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>m(null)})})]}),h.jsxs("form",{onSubmit:async t=>{t.preventDefault(),w(!0),m(null);try{const t={name:N.name,description:N.description};await l(e,t),g("Stop Time update successfully!"),y(!0)}catch(n){m(n.message||"Failed to update Stop Time")}finally{w(!1)}},className:"space-y-6",children:[h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Stop Times Information"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Stop Times Name ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",name:"name",id:"name",value:N.name,onChange:S,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",name:"description",id:"description",value:N.description,onChange:S,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),h.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[h.jsx(kc.button,{type:"button",onClick:()=>j("/maintenanceactivity/stoptimes"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),h.jsx(kc.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:v,children:v?h.jsxs(h.Fragment,{children:[h.jsx(Ad,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):h.jsxs(h.Fragment,{children:[h.jsx(du,{className:"mr-2 h-5 w-5"})," Save Service"]})})]})]})]})]})]}),h.jsx(qee,{isOpen:b,onClose:_,title:"Success!",children:h.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[h.jsx(td,{className:"text-green-500 text-6xl mb-4"}),h.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:f}),h.jsx(kc.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:_,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Stop Times Management"})]})})]})},Yee=({isOpen:e,onClose:t,title:n,children:r,className:a})=>h.jsx(Mi,{children:e&&h.jsx(kc.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:h.jsxs(kc.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${a||"max-w-xl w-full"}`,children:[h.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[h.jsx("h2",{className:"text-xl font-bold text-gray-800",children:n}),h.jsx("button",{onClick:t,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:h.jsx(Pu,{className:"text-xl"})})]}),h.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:r})]})})}),Kee=({title:e,value:t,change:n,icon:r})=>{const a=n.startsWith("+");return h.jsxs(kc.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[h.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:e}),h.jsx("p",{className:"text-3xl font-bold text-gray-900",children:t})]}),h.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:r})]}),h.jsxs("p",{className:"mt-3 text-xs font-semibold "+(a?"text-green-600":"text-red-600"),children:[n," from last month"]})]})},Jee=()=>{const[e,t]=x.useState([]),{getActivityTypes:n,deleteActivityTypes:r}=gt(),[a,i]=x.useState(!0),[s,o]=x.useState(null),[l,c]=x.useState(""),[d,u]=x.useState(!1),[p,m]=x.useState(null),[f,g]=x.useState(!1),[b]=x.useState(window.innerWidth<768),[y,v]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return!!e&&JSON.parse(e)}),w=je(),j=x.useRef(null),[N,k]=x.useState(!1),S=x.useMemo(()=>[{id:"activitytype",name:"Activity Type"}],[]),C=x.useCallback(async()=>{try{i(!0);const e=[...await n()].sort((e,t)=>e.id-t.id);t(e)}catch(e){o("Failed to load activity types")}finally{i(!1)}},[n]);x.useEffect(()=>{C()},[C]);const _=x.useMemo(()=>{if(!l)return S;const e=l.toLowerCase();return S.filter(t=>t.name.toLowerCase().includes(e))},[l,S]),A=x.useMemo(()=>{if(!l.trim())return e;const t=l.toLowerCase().trim(),n=t.split(":");let r="all",a=t;return n.length>1&&S.some(e=>e.name.toLowerCase()===n[0].trim())&&(n[0].trim(),a=n.slice(1).join(":").trim()),e.filter(e=>{var t;return null==(t=e.name)?void 0:t.toLowerCase().includes(a)})},[e,l,S]),T=x.useCallback(e=>{m(e),u(!0)},[]);return h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[h.jsx(Lu,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Fu,{mainTitle:"Activity Types",mainTitleHighlight:"Page",description:"Manage activity types and their configurations within the system.",icon:h.jsx(Fd,{}),isMobile:b,toggleSidebar:()=>{const e=!y;v(e),localStorage.setItem("sidebarOpen",JSON.stringify(e))}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[h.jsxs(kc.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[h.jsxs("div",{children:[h.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Activity Types ",h.jsx("span",{className:"text-blue-600",children:"Management"})]}),h.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Organize and manage activity types by specific company requirements."})]}),h.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[h.jsxs(kc.button,{onClick:()=>w("/maintenanceactivity/activitytypes/addactivitytype"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[h.jsx(nu,{className:"text-base"}),h.jsx("span",{children:"Add Activity Type"})]}),h.jsxs(kc.button,{onClick:()=>{alert("Import functionality is not yet implemented.")},whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[h.jsx(Su,{className:"text-base"}),h.jsx("span",{children:"Import"})]}),h.jsxs(kc.button,{onClick:()=>g(!f),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[h.jsx(vd,{className:"text-base"}),h.jsx("span",{children:"Filters"}),h.jsx(kc.span,{animate:{rotate:f?180:0},transition:{duration:.2},children:h.jsx(Jc,{className:"text-base"})})]})]})]}),h.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:h.jsx(Kee,{title:"Total Activity Types",value:e.length.toString(),change:`+${Math.floor(e.length/10*100)}%`,icon:h.jsx(Fd,{className:"w-6 h-6"})})}),h.jsxs(kc.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[h.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:h.jsxs("div",{className:"flex-1 relative",children:[h.jsx(uu,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),h.jsx("input",{ref:j,type:"text",placeholder:"Search by activity type...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:l,onChange:e=>{const t=e.target.value;c(t)},onFocus:()=>k(!0),"aria-label":"Search activity types"}),h.jsx(Mi,{children:N&&_.length>0&&h.jsx(kc.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.15},className:"search-suggestions absolute left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-10 max-h-56 overflow-y-auto custom-scrollbar",children:_.map(e=>h.jsx(kc.button,{onClick:()=>{return t=e.name,c(`${t}: `),k(!1),void(null==(n=j.current)||n.focus());var t,n},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},className:"w-full text-left p-3 text-gray-700 hover:text-blue-700 transition-colors duration-150 text-sm",role:"option",children:h.jsx("span",{className:"font-semibold",children:e.name})},e.id))})})]})}),h.jsx(Mi,{children:f&&h.jsx(kc.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full"})})]}),a?h.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[h.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),h.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading activity type data..."})]}):0===A.length?h.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[h.jsx("p",{className:"text-gray-700 text-base font-medium",children:l?"No activity types found matching your search.":"No activity types available."}),l&&h.jsx("button",{onClick:()=>c(""),className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear Search"})]}):h.jsx(kc.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:h.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:h.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[h.jsx("thead",{className:"bg-blue-50",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Activity Type"}),h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),h.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:A.map((e,t)=>h.jsxs(kc.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[h.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:h.jsx("div",{className:"text-sm font-medium text-gray-900",children:t+1})}),h.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:h.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.name})}),h.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[h.jsx(kc.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>w(`/maintenanceactivity/activitytypes/editactivitytype/${e.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit",children:h.jsx(gu,{className:"inline text-base"})}),h.jsx(kc.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>T(e.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:h.jsx(vu,{className:"inline text-base"})})]})]},e.id))})]})})})]})]}),h.jsx(Yee,{isOpen:d,onClose:()=>u(!1),title:"Confirm Deletion",children:h.jsxs("div",{className:"space-y-5 text-center py-3",children:[h.jsx(ju,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),h.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this activity type? This action cannot be undone."}),h.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[h.jsx(kc.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>u(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),h.jsx(kc.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>p&&(async n=>{try{await r(n),t(e.filter(e=>e.id!==n)),u(!1),m(null)}catch(a){o("Failed to delete activity type. Please try again.")}})(p),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})]})},Xee=({isOpen:e,onClose:t,title:n,children:r})=>e?h.jsx(kc.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:h.jsxs(kc.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[h.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[h.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n}),h.jsx(kc.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:t,className:"text-gray-500 hover:text-gray-700 text-2xl",children:h.jsx(Pu,{size:24})})]}),h.jsx("div",{children:r})]})}):null,Qee=()=>{const[e,t]=x.useState(window.innerWidth<768),[n,r]=x.useState([]),[a,i]=x.useState([]),{addActivityTypes:s,getActivityTypes:o}=gt(),[l,c]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return!!e&&JSON.parse(e)}),[d,u]=x.useState(null),[p,m]=x.useState(null),[f,g]=x.useState(!1),[b,y]=x.useState(!1),v=je(),[w,j]=x.useState({name:""}),N=x.useCallback(async()=>{try{const[e]=await Promise.all([o()]);r(e)}catch(e){u(e.message||"Failed to load form data")}},[o]);x.useEffect(()=>{N()},[N]);const k=()=>{g(!1),v("/maintenanceactivity/activitytypes")};return h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Lu,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Fu,{mainTitle:"Create Activity Type",mainTitleHighlight:"Management",description:"blablablabl",icon:h.jsx(Rd,{}),isMobile:e,toggleSidebar:()=>{c(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[h.jsxs(kc.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Activity Type"}),h.jsx("p",{className:"text-gray-600 mt-1",children:"Add a new Activity Type information"})]}),h.jsxs(kc.button,{onClick:()=>v("/maintenanceactivity/activitytypes"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[h.jsx(Rc,{className:"text-lg"})," Back to Activity Types Management"]})]}),h.jsxs(kc.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[d&&h.jsxs(kc.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[h.jsx("strong",{className:"font-bold",children:"Error!"}),h.jsx("span",{className:"block sm:inline ml-2",children:d}),h.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:h.jsx(Pu,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>u(null)})})]}),h.jsxs("form",{onSubmit:async e=>{e.preventDefault(),y(!0),u(null);try{const e={name:w.name};await s(e),m("Activity Type created successfully!"),g(!0)}catch(t){u(t.message||"Failed to create Activity Type")}finally{y(!1)}},className:"space-y-6",children:[h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Activity Types Information"}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-6",children:h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Name Activity Type ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",name:"name",id:"name",value:w.name,onChange:e=>{const{name:t,value:n}=e.target;j(e=>({...e,[t]:"sla"===t?Number(n):n}))},className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})})]}),h.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[h.jsx(kc.button,{type:"button",onClick:()=>v("/maintenanceactivity/activitytypes"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),h.jsx(kc.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:b,children:b?h.jsxs(h.Fragment,{children:[h.jsx(Ad,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):h.jsxs(h.Fragment,{children:[h.jsx(du,{className:"mr-2 h-5 w-5"})," Save Service"]})})]})]})]})]})]}),h.jsx(Xee,{isOpen:f,onClose:k,title:"Success!",children:h.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[h.jsx(td,{className:"text-green-500 text-6xl mb-4"}),h.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:p}),h.jsx(kc.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:k,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Activity Types Management"})]})})]})},Zee=({isOpen:e,onClose:t,title:n,children:r})=>e?h.jsx(kc.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:h.jsxs(kc.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[h.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[h.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n}),h.jsx(kc.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:t,className:"text-gray-500 hover:text-gray-700 text-2xl",children:h.jsx(Pu,{size:24})})]}),h.jsx("div",{children:r})]})}):null,ete=()=>{const{id:e}=ke(),[t,n]=x.useState(window.innerWidth<768),[r,a]=x.useState([]),[i,s]=x.useState(),{getActivityTypes:o,updateActivityTypes:l,getActivityTypesById:c}=gt(),[d,u]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return!!e&&JSON.parse(e)}),[p,m]=x.useState(null),[f,g]=x.useState(null),[b,y]=x.useState(!1),[v,w]=x.useState(!1),j=je(),[N,k]=x.useState({name:""});x.useEffect(()=>{i&&k({name:i.name||""})},[i]);const S=x.useCallback(async()=>{try{if(e){const[t]=await Promise.all([c(e)]);s(t)}}catch(t){m(t.message||"Failed to load form data")}},[e,c]);x.useEffect(()=>{e&&S()},[e,S]);const C=()=>{y(!1),j("/maintenanceactivity/activitytypes")};return h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Lu,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Fu,{mainTitle:"Edit Activity Type",mainTitleHighlight:"Management",description:"blablablabl",icon:h.jsx(Rd,{}),isMobile:t,toggleSidebar:()=>{u(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[h.jsxs(kc.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Activity Type"}),h.jsx("p",{className:"text-gray-600 mt-1",children:"Update Activity Type information"})]}),h.jsxs(kc.button,{onClick:()=>j("/maintenanceactivity/activitytypes"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[h.jsx(Rc,{className:"text-lg"})," Back to Activity Type Management"]})]}),h.jsxs(kc.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[p&&h.jsxs(kc.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[h.jsx("strong",{className:"font-bold",children:"Error!"}),h.jsx("span",{className:"block sm:inline ml-2",children:p}),h.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:h.jsx(Pu,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>m(null)})})]}),h.jsxs("form",{onSubmit:async t=>{t.preventDefault(),w(!0),m(null);try{const t={name:N.name};await l(e,t),g("Activity Type update successfully!"),y(!0)}catch(n){m(n.message||"Failed to update Activity Type")}finally{w(!1)}},className:"space-y-6",children:[h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Activity Type Information"}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Name Activity Type ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",name:"name",id:"name",value:N.name,onChange:e=>{const{name:t,value:n}=e.target;k(e=>({...e,[t]:"sla"===t?Number(n):n}))},className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})})]}),h.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[h.jsx(kc.button,{type:"button",onClick:()=>j("/maintenanceactivity/activitytypes"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),h.jsx(kc.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:v,children:v?h.jsxs(h.Fragment,{children:[h.jsx(Ad,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):h.jsxs(h.Fragment,{children:[h.jsx(du,{className:"mr-2 h-5 w-5"})," Save Service"]})})]})]})]})]})]}),h.jsx(Zee,{isOpen:b,onClose:C,title:"Success!",children:h.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[h.jsx(td,{className:"text-green-500 text-6xl mb-4"}),h.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:f}),h.jsx(kc.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:C,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Activity Types Management"})]})})]})},tte=({title:e,currentCount:t,lastMonthCount:n,icon:r,usePercentage:a=!0})=>{const i=t>=n,s=`${a?nte(t,n):rte(t,n)} from last month`;return h.jsxs(kc.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[h.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:e}),h.jsx("p",{className:"text-3xl font-bold text-gray-900",children:t})]}),h.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:r})]}),h.jsx("p",{className:"mt-3 text-xs font-semibold "+(i?"text-green-600":"text-red-600"),children:s})]})},nte=(e,t)=>{if(0===t)return e>0?"+100%":"0%";const n=(e-t)/t*100;return`${n>=0?"+":""}${Math.round(n)}%`},rte=(e,t)=>{const n=e-t;return`${n>0?"+":n<0?"":"+"}${n}`},ate=()=>{const[e,t]=x.useState(!1),[r,a]=x.useState(!1),[i,s]=x.useState(""),[o,l]=x.useState("all"),[c,d]=x.useState(!1),[u,p]=x.useState(!1),[m,f]=x.useState(null),[g,b]=x.useState(null),[y,v]=x.useState(!1),[w,j]=x.useState(null),[N,k]=x.useState(1),[S]=x.useState(5),[C,_]=x.useState(window.innerWidth<768),[A,T]=x.useState(!1),[O,E]=x.useState(!1),[M,P]=x.useState([]),[D,L]=x.useState([]),[I,R]=x.useState(!0),[F,H]=x.useState(null),[z,B]=x.useState(null),W=n(),[$,U]=x.useState([]),[V,q]=x.useState(!1),[G,Y]=x.useState(!1),[K,J]=x.useState(null),[X,Q]=x.useState(null),{user:Z,getWorkOrdersIT:ee,deleteWorkOrder:te,hasPermission:ne,fetchWithAuth:re,getVendor:ae}=gt(),ie=je(),se=ye(),oe=x.useRef(null),le=x.useRef(null);se.pathname,se.pathname;const ce="/workorders/it"===se.pathname;se.pathname;const de="/workorders/it/assignment"===se.pathname,ue="/workorders/it/receiver"===se.pathname,he="/workorders/it/reports"===se.pathname,pe="/workorders/it/knowledgebase"===se.pathname;x.useEffect(()=>{const e=()=>{_(window.innerWidth<768),window.innerWidth<768&&a(!1)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),x.useEffect(()=>{const e=e=>{oe.current&&!oe.current.contains(e.target)&&T(!1),le.current&&!le.current.contains(e.target)&&E(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),x.useEffect(()=>{let e=!0;return(async()=>{try{R(!0),H(null);const t=await ee();if(!e)return;const n=t.filter(e=>e.requester_id===Number(null==Z?void 0:Z.id));P(n);const r=new Date;r.setMonth(r.getMonth()-1);const a=n.filter(e=>new Date(e.date)<r);U(a)}catch(t){if(!e)return;H("Failed to load work orders. Please try again.")}finally{e&&R(!1)}})(),()=>{e=!1}},[ee,null==Z?void 0:Z.id]),x.useEffect(()=>{k(1),document.documentElement.classList.toggle("dark",e)},[i,o,e]);const me=e=>{switch(e){case"New":case"Cancel":default:return"bg-gray-500 text-white";case"Assigned":return"bg-blue-600 text-white";case"In Progress":return"bg-cyan-500 text-white";case"Escalated":return"bg-purple-500 text-white";case"Vendor Handled":case"Closed":return"bg-red-500 text-white";case"Resolved":return"bg-orange-500 text-white"}},fe=x.useCallback(e=>{const t=M.find(t=>t.id===e);t&&(f(t),p(!0))},[M]);x.useCallback(e=>{j(e),v(!0)},[]);const ge=x.useCallback(async e=>{try{R(!0),H(null),await te(e);const t=(await ee()).filter(e=>e.requester_id===Number(null==Z?void 0:Z.id));P(t),v(!1),j(null),B("Work order deleted successfully."),setTimeout(()=>B(null),2500)}catch(t){H("Failed to delete work order.")}finally{R(!1)}},[te,ee,null==Z?void 0:Z.id]),xe=x.useCallback(e=>{Q(e),Y(!0)},[]),be=x.useCallback(e=>{J(e),q(!0)},[]),ve=x.useCallback(async e=>{try{R(!0),H(null),await re(`/ayam/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({handling_status:"Cancel"})});const t=(await ee()).filter(e=>e.requester_id===Number(null==Z?void 0:Z.id));P(t);const n=new Date;n.setMonth(n.getMonth()-1);const r=t.filter(e=>new Date(e.date)<n);U(r),p(!1),f(null),Y(!1),Q(null),B("Work order cancelled successfully."),setTimeout(()=>B(null),2500)}catch(t){H("Failed to cancel work order.")}finally{R(!1)}},[re,ee,null==Z?void 0:Z.id]),we=x.useCallback(async e=>{try{R(!0),H(null),await re(`/ayam/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({handling_status:"Closed"})});const t=(await ee()).filter(e=>e.requester_id===Number(null==Z?void 0:Z.id));P(t);const n=new Date;n.setMonth(n.getMonth()-1);const r=t.filter(e=>new Date(e.date)<n);U(r),p(!1),f(null),q(!1),J(null),B("Work order completed successfully."),setTimeout(()=>B(null),2500)}catch(t){H("Failed to complete work order.")}finally{R(!1)}},[re,ee,null==Z?void 0:Z.id]),Ne=e=>e.filter(e=>["Assigned","In Progress","Escalated","Vendor Handled","Resolved"].includes(e.handling_status)),ke=e=>e.filter(e=>["Closed","Cancel"].includes(e.handling_status)),Se=e=>e.filter(e=>"New"===e.handling_status),Ce=M.filter(e=>{var t,n,r,a;const s=(null==(n=null==(t=e.requester)?void 0:t.name)?void 0:n.toLowerCase().includes(i.toLowerCase()))||(null==(r=e.work_order_no)?void 0:r.toLowerCase().includes(i.toLowerCase()))||(null==(a=e.complaint)?void 0:a.toLowerCase().includes(i.toLowerCase()))||String(e.id).includes(i),l="all"===o||e.handling_status===o;return s&&l}).sort((e,t)=>new Date(t.created_at).getTime()-new Date(e.created_at).getTime()),_e=N*S,Ae=_e-S,Te=Ce.slice(Ae,_e),Oe=Math.ceil(Ce.length/S),Ee=e=>k(e),Me=({order:e,onClose:t})=>{var n,r,a,i,s;const o=e=>null==e?"-":"object"==typeof e&&null!==e?e.name||e.title||e.id||"-":"string"==typeof e?""!==e.trim()?e.trim():"-":"number"==typeof e?e.toString():String(e),l=e=>e?new Date(e).toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-",c=({status:e})=>{const t={New:"bg-gray-100 text-gray-800 border-gray-300",Assigned:"bg-blue-100 text-blue-800 border-blue-300","In Progress":"bg-cyan-100 text-cyan-800 border-cyan-300",Escalated:"bg-purple-100 text-purple-800 border-purple-300","Vendor Handled":"bg-red-100 text-red-800 border-red-300",Resolved:"bg-orange-100 text-orange-800 border-orange-300",Cancel:"bg-gray-100 text-gray-800 border-gray-300",Closed:"bg-green-100 text-green-800 border-green-300"};return h.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold border ${t[e]||t.New}`,children:e})},d=({title:e,children:t,icon:n})=>h.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[h.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-4 border-b border-gray-200",children:h.jsxs("div",{className:"flex items-center",children:[n&&h.jsx("div",{className:"mr-3 text-blue-600",children:n}),h.jsx("h3",{className:"text-lg font-bold text-gray-900",children:e})]})}),h.jsx("div",{className:"p-6",children:t})]}),u=({label:e,value:t,icon:n,fullWidth:r=!1,priority:a="medium"})=>h.jsx("div",{className:r?"col-span-full":"",children:h.jsx("div",{className:`p-4 rounded-lg ${{high:"border-l-4 border-l-blue-500 bg-blue-25",medium:"border-l-2 border-l-gray-200",low:"border-l border-l-gray-100"}[a]} transition-all duration-200 hover:shadow-sm`,children:h.jsxs("div",{className:"flex items-start space-x-3",children:[n&&h.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:n}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1",children:e}),h.jsx("p",{className:"text-sm font-medium text-gray-900 leading-relaxed",children:t})]})]})})}),p=({label:e,htmlContent:t,icon:n,fullWidth:r=!1})=>{if(!t)return h.jsx(u,{label:e,value:"-",icon:n,fullWidth:r,priority:"low"});const a=iy.sanitize(t,{ALLOWED_TAGS:["h1","h2","h3","h4","h5","h6","p","br","span","div","ol","ul","li","strong","b","em","i","u","s","strike","code","mark","sub","sup","blockquote","pre"],ALLOWED_ATTR:["style","class","data-color","align","type","start"]});return h.jsx("div",{className:r?"col-span-full":"",children:h.jsx("div",{className:"p-4 rounded-lg border-l-2 border-l-blue-200 bg-blue-25 transition-all duration-200 hover:shadow-sm",children:h.jsxs("div",{className:"flex items-start space-x-3",children:[n&&h.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:n}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:e}),h.jsx("div",{className:"rich-text-content text-sm text-gray-900 leading-relaxed prose prose-sm max-w-none\r\n                          prose-headings:font-semibold prose-p:my-2 prose-ul:my-2 prose-ol:my-2\r\n                          prose-li:my-1 prose-strong:font-semibold prose-em:italic",dangerouslySetInnerHTML:{__html:a}})]})]})})})},m=({order:e})=>{const t=e=>{switch(null==e?void 0:e.toLowerCase()){case"new":return h.jsx(nd,{className:"w-4 h-4"});case"assigned":return h.jsx(Tu,{className:"w-4 h-4"});case"in progress":return h.jsx(id,{className:"w-4 h-4"});case"resolved":return h.jsx(fu,{className:"w-4 h-4"});case"closed":return h.jsx(td,{className:"w-4 h-4"});case"cancel":return h.jsx(rd,{className:"w-4 h-4"});case"escalated":return h.jsx(ju,{className:"w-4 h-4"});case"vendor handled":return h.jsx(Mu,{className:"w-4 h-4"});default:return h.jsx(Ec,{className:"w-4 h-4"})}},n=e=>{switch(null==e?void 0:e.toLowerCase()){case"new":return"bg-blue-500";case"assigned":return"bg-purple-500";case"in progress":return"bg-yellow-500";case"resolved":return"bg-green-500";case"closed":return"bg-green-600";case"cancel":return"bg-red-500";case"escalated":return"bg-orange-500";case"vendor handled":return"bg-indigo-500";default:return"bg-gray-500"}},r=(e,t)=>({new:"Work order telah dibuat dan menunggu penanganan",assigned:`Telah ditugaskan kepada ${(null==t?void 0:t.assigned_to)||"teknisi"}`,"in progress":"Sedang dalam proses pengerjaan",resolved:"Masalah telah diselesaikan",closed:"Work order telah ditutup",cancel:"Work order dibatalkan",escalated:"Telah di-escalate ke level yang lebih tinggi","vendor handled":"Ditangani oleh vendor eksternal",updated:"Work order diperbarui"}[e.toLowerCase()]||`Status: ${e}`),a=(e,t)=>{const n=new Date(e),r=new Date(t),a=Math.abs(r.getTime()-n.getTime()),i=Math.ceil(a/864e5);if(0===i){const e=Math.ceil(a/36e5),t=Math.ceil(a/6e4);return t<60?`${t} minutes`:`${e} hours`}return`${i} day${i>1?"s":""}`},i=e=>{const t=new Date(e);return{date:t.toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric"}),time:t.toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"})}},s=(()=>{var t,n;const i=[];if(i.push({id:"created",status:"new",date:e.date,changed_by:(null==(t=e.requester)?void 0:t.name)||"System",description:"Work order dibuat",duration:"0 days",isSystemEvent:!0}),e.status_history&&e.status_history.length>0&&[...e.status_history].sort((e,t)=>new Date(e.changed_at).getTime()-new Date(t.changed_at).getTime()).forEach((t,n)=>{var s,o;const l=i[i.length-1],c=a(l.date,t.changed_at);let d=t.action,u=r(t.action);"updated"===t.action&&(null==(s=t.new_data)?void 0:s.handling_status)&&(d=t.new_data.handling_status,u=r(t.new_data.handling_status,{assigned_to:null==(o=e.assigned_to)?void 0:o.name}));let h="System";h=55===t.user_id?"DevTest User 1":41===t.user_id?"Regular User QC":57===t.user_id?"DevTest User 2":36===t.user_id?"Super Admin User":37===t.user_id?"Admin User One":40===t.user_id?"Regular User IT":42===t.user_id||56===t.user_id?"Monitor":t.changed_by?t.changed_by:`User ${t.user_id}`,i.push({id:t.id.toString(),status:d,date:t.changed_at,changed_by:h,description:u,duration:c,comments:t.comments,old_data:t.old_data,new_data:t.new_data,isStatusChange:!0})}),(null==(n=e.received_by)?void 0:n.name)&&e.handling_date&&!i.some(e=>{var t,n;return"received"===e.status||(null==(t=e.new_data)?void 0:t.received_by_id)&&"Resolved"===(null==(n=e.new_data)?void 0:n.handling_status)})){const t=i[i.length-1],n=a(t.date,e.handling_date),r={id:"received",status:"received",date:e.handling_date,changed_by:e.received_by.name,description:"Diterima oleh teknisi",duration:n,isManualEvent:!0};i.push(r)}return i.sort((e,t)=>new Date(e.date).getTime()-new Date(t.date).getTime())})();return h.jsxs("div",{className:"space-y-6",children:[s.map((r,o)=>{const l=i(r.date),c=o===s.length-1,d=(e=>{var t,n,r;return(null==(t=e.new_data)?void 0:t.handling_status)?`Diubah menjadi: ${e.new_data.handling_status}`:(null==(n=e.new_data)?void 0:n.assigned_to_id)?"Ditugaskan ke teknisi":(null==(r=e.new_data)?void 0:r.action_taken)?`Tindakan diambil: ${e.new_data.action_taken.substring(0,50)}...`:null})(r);return h.jsxs("div",{className:"flex items-start space-x-4",children:[h.jsxs("div",{className:"flex flex-col items-center",children:[h.jsx("div",{className:`w-3 h-3 rounded-full ${n(r.status)}`}),!c&&h.jsx("div",{className:"w-0.5 h-16 bg-gray-300 mt-1"})]}),h.jsxs("div",{className:"flex-1 pb-4",children:[h.jsxs("div",{className:"flex items-start justify-between mb-2",children:[h.jsxs("div",{className:"flex items-center space-x-2",children:[t(r.status),h.jsxs("div",{children:[h.jsx("span",{className:"font-semibold text-sm capitalize text-gray-900",children:r.status}),h.jsx("p",{className:"text-xs text-gray-600 mt-1",children:r.description})]})]}),h.jsxs("div",{className:"text-right",children:[h.jsx("div",{className:"text-sm font-medium text-gray-900",children:l.date}),h.jsx("div",{className:"text-xs text-gray-500",children:l.time})]})]}),h.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 space-y-2",children:[h.jsxs("div",{className:"flex justify-between items-center text-xs",children:[h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsxs("span",{className:"text-gray-600",children:[h.jsx("strong",{children:"Changed by:"})," ",r.changed_by]}),r.duration&&"0 days"!==r.duration&&h.jsxs("span",{className:"text-blue-600 font-semibold",children:["⏱️ ",r.duration]})]}),r.duration&&"0 days"!==r.duration&&o>0&&h.jsx("div",{className:"text-right",children:h.jsx("span",{className:"text-gray-500 text-xs",children:"Duration from previous"})})]}),d&&h.jsx("div",{className:"text-xs text-gray-700 bg-white p-2 rounded border",children:d}),r.comments&&h.jsxs("div",{className:"text-xs text-gray-700 bg-white p-2 rounded border",children:[h.jsx("strong",{children:"Comments:"})," ",r.comments]}),"assigned"===r.status&&e.assigned_to&&h.jsxs("div",{className:"text-xs text-gray-700",children:[h.jsx("strong",{children:"Assigned to:"})," ",e.assigned_to.name,e.assigned_to.email&&` (${e.assigned_to.email})`]}),("resolved"===r.status||"closed"===r.status)&&e.action_taken&&h.jsxs("div",{className:"text-xs text-gray-700",children:[h.jsx("strong",{children:"Action taken:"})," ",e.action_taken.substring(0,100),"..."]})]}),c&&h.jsxs("div",{className:"mt-3 p-3 bg-blue-50 rounded-lg border border-blue-200",children:[h.jsxs("div",{className:"flex items-center justify-between text-sm",children:[h.jsx("span",{className:"font-semibold text-blue-800",children:"Total duration from creation"}),h.jsx("span",{className:"font-bold text-blue-600 text-lg",children:a(e.date,r.date)})]}),h.jsxs("div",{className:"text-xs text-blue-600 mt-1",children:["Created: ",i(e.date).date," • Current: ",l.date]})]})]})]},r.id)}),"Closed"===e.handling_status&&e.handling_date&&h.jsxs("div",{className:"mt-6 p-4 bg-green-50 rounded-lg border border-green-200",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("h4",{className:"font-semibold text-green-800",children:"Work Order Completed"}),h.jsxs("p",{className:"text-sm text-green-600",children:["Total resolution time: ",a(e.date,e.handling_date)]})]}),h.jsx(td,{className:"w-8 h-8 text-green-500"})]}),h.jsxs("div",{className:"text-xs text-green-600 mt-2 grid grid-cols-2 gap-2",children:[h.jsxs("div",{children:["Created: ",i(e.date).date]}),h.jsxs("div",{children:["Completed: ",i(e.handling_date).date]}),h.jsxs("div",{className:"col-span-2",children:[h.jsx("strong",{children:"Timeline:"})," ",s.length," status changes"]})]})]})]})};return h.jsxs("div",{className:"space-y-6 max-h-[70vh] overflow-y-auto custom-scrollbar pr-2",children:[h.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6",children:h.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[h.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:["#",e.work_order_no||e.id]}),h.jsx(c,{status:e.handling_status})]}),h.jsxs("p",{className:"text-gray-600 flex items-center gap-2",children:[h.jsx(Vc,{className:"w-4 h-4"}),"Created: ",l(e.date)]})]}),h.jsx("div",{className:"flex items-center gap-2",children:h.jsxs(kc.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:t,className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-lg text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:[h.jsx(Pu,{className:"w-4 h-4 mr-2"}),"Close"]})})]})}),h.jsx(d,{title:"General Information",icon:h.jsx(Tu,{className:"w-5 h-5"}),children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[h.jsx(u,{label:"Work Order No",value:o(e.work_order_no),icon:h.jsx(ad,{className:"w-4 h-4"}),priority:"high"}),h.jsx(u,{label:"Reception Method",value:o(e.reception_method),icon:h.jsx(Su,{className:"w-4 h-4"})}),h.jsx(u,{label:"Requester",value:o(null==(n=e.requester)?void 0:n.name),icon:h.jsx(Tu,{className:"w-4 h-4"}),priority:"high"}),h.jsx(u,{label:"Department",value:o(null==(r=e.department)?void 0:r.name),icon:h.jsx(hu,{className:"w-4 h-4"})}),h.jsx(u,{label:"Known By",value:o(null==(a=e.known_by)?void 0:a.name),icon:h.jsx(md,{className:"w-4 h-4"})})]})}),h.jsx(d,{title:"Service Details",icon:h.jsx(Mu,{className:"w-5 h-5"}),children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[h.jsx(u,{label:"Service Type",value:o(e.service_type.group_name),icon:h.jsx(hu,{className:"w-4 h-4"}),priority:"high"}),h.jsx(u,{label:"Service",value:o(e.service.service_name),icon:h.jsx(Mu,{className:"w-4 h-4"}),priority:"high"}),h.jsx(u,{label:"No Asset",value:o(e.asset_no),icon:h.jsx(ad,{className:"w-4 h-4"})})]})}),h.jsx(d,{title:"Device & Complaint",icon:h.jsx(ju,{className:"w-5 h-5"}),children:h.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[h.jsx(u,{label:"Device Information",value:o(e.device_info),icon:h.jsx(hu,{className:"w-4 h-4"}),fullWidth:!0}),h.jsx(p,{label:"Complaint Details",htmlContent:e.complaint||"",icon:h.jsx(ju,{className:"w-4 h-4"}),fullWidth:!0})]})}),h.jsx(d,{title:"Handling Information",icon:h.jsx(id,{className:"w-5 h-5"}),children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:col-span-2",children:[h.jsx(u,{label:"Ticket Status",value:o(e.handling_status),icon:h.jsx(id,{className:"w-4 h-4"}),priority:"high"}),h.jsx(u,{label:"Handling Date",value:l(e.handling_date||"-"),icon:h.jsx(Vc,{className:"w-4 h-4"})})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:col-span-2",children:[h.jsx(u,{label:"Assigned To",value:o(null==(i=e.assigned_to)?void 0:i.name),icon:h.jsx(Tu,{className:"w-4 h-4"})}),h.jsx(u,{label:"Received By",value:o(null==(s=e.received_by)?void 0:s.name),icon:h.jsx(td,{className:"w-4 h-4"})})]}),h.jsx(p,{label:"Action Taken",htmlContent:e.action_taken||"",icon:h.jsx(Mu,{className:"w-4 h-4"}),fullWidth:!0}),h.jsx(p,{label:"Remarks",htmlContent:e.remarks||"",icon:h.jsx(ad,{className:"w-4 h-4"}),fullWidth:!0})]})}),e.status_history&&e.status_history.length>0&&h.jsx(d,{title:"Work Order Timeline",icon:h.jsx(wd,{className:"w-5 h-5"}),children:h.jsx(m,{order:e})}),e.vendor&&h.jsx(d,{title:"Vendor Details",icon:h.jsx(Tu,{className:"w-5 h-5"}),children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[h.jsx(u,{label:"Vendor Name",value:o(e.vendor.name),icon:h.jsx(Tu,{className:"w-4 h-4"}),priority:"high"}),h.jsx(u,{label:"Contact Person",value:o(e.vendor.contact_person),icon:h.jsx(Tu,{className:"w-4 h-4"})}),h.jsx(u,{label:"Email",value:o(e.vendor.email),icon:h.jsx(Vd,{className:"w-4 h-4"})}),h.jsx(u,{label:"Phone",value:o(e.vendor.telp),icon:h.jsx(eu,{className:"w-4 h-4"})}),h.jsx(u,{label:"Mobile",value:o(e.vendor.HP),icon:h.jsx(eu,{className:"w-4 h-4"})}),h.jsx(u,{label:"Address",value:o(e.vendor.address),icon:h.jsx(qd,{className:"w-4 h-4"}),fullWidth:!0})]})}),e.attachment&&h.jsx(d,{title:"Attachment",icon:h.jsx(Zd,{className:"w-5 h-5"}),children:h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[h.jsx("p",{className:"text-sm font-medium text-gray-700 mb-3",children:"Preview Attachment:"}),h.jsx("div",{className:"flex justify-center",children:h.jsx("img",{src:`${W.envVariables.VITE_BACKEND_API_URL}$ {order.attachment}`,alt:"Work order attachment",className:"max-w-full max-h-64 rounded-lg shadow-md object-contain",onError:e=>{e.currentTarget.style.display="none"}})})]}),h.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-25 rounded-lg border-l-4 border-l-blue-400",children:[h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx(Zd,{className:"w-5 h-5 text-blue-600 flex-shrink-0"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Attachment File"}),h.jsx("p",{className:"text-xs text-gray-500",children:"Click to download or view full size"})]})]}),h.jsxs("a",{href:`${W.envVariables.VITE_BACKEND_API_URL}${e.attachment}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200 text-sm font-medium",children:[h.jsx(pd,{className:"w-4 h-4 mr-1"}),"Open Full Size"]})]})]})})]})};return I?h.jsxs("div",{className:"flex h-screen items-center justify-center bg-blue-50",children:[h.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-blue-600"}),h.jsx("p",{className:"ml-4 text-lg text-gray-700",children:"Loading work orders..."})]}):F?h.jsxs("div",{className:"flex h-screen items-center justify-center bg-red-50",children:[h.jsx(ju,{className:"text-red-600 text-5xl"}),h.jsxs("div",{className:"ml-4",children:[h.jsx("p",{className:"text-lg text-red-800",children:F}),h.jsx("button",{onClick:()=>{(async()=>{try{R(!0),H(null);const e=(await ee()).filter(e=>e.requester_id===Number(null==Z?void 0:Z.id));P(e);const t=new Date;t.setMonth(t.getMonth()-1);const n=e.filter(e=>new Date(e.date)<t);U(n)}catch(e){H("Failed to load work orders. Please try again.")}finally{R(!1)}})()},className:"mt-4 px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Try Again"})]})]}):h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[h.jsx(Lu,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Fu,{mainTitle:"IT Work Orders - Request",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:h.jsx(ad,{}),isMobile:C,toggleSidebar:()=>{a(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[h.jsxs(kc.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"isi style mb-6 flex space-x-6 border-b border-gray-200",children:[h.jsx(kc.div,{whileTap:{scale:.98},onClick:()=>ie("/workorders/it"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${ce?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Request"}),h.jsx(kc.div,{whileTap:{scale:.98},onClick:()=>ie("/workorders/it/receiver"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${ue?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Receiver"}),h.jsx(kc.div,{whileTap:{scale:.98},onClick:()=>ie("/workorders/it/assignment"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${de?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Assignment"}),h.jsx(kc.div,{whileTap:{scale:.98},onClick:()=>ie("/workorders/it/reports"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${he?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Reports"}),h.jsx(kc.div,{whileTap:{scale:.98},onClick:()=>ie("/workorders/it/knowledgebase"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${pe?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Knowledge Base"})]}),h.jsxs(kc.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"IT Request"}),h.jsx("p",{className:"text-gray-600 mt-1",children:"Submit and track your IT-related maintenance and service requests"})]}),h.jsxs("div",{className:"flex flex-wrap gap-3",children:[h.jsxs(kc.button,{onClick:()=>ie("/workorders/it/addworkorder"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[h.jsx(nu,{className:"text-lg"}),h.jsx("span",{className:"font-semibold",children:"Create New Work Order"})]}),h.jsxs(kc.button,{onClick:()=>d(!c),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[h.jsx(vd,{className:"text-lg"}),h.jsx("span",{className:"font-semibold",children:"Filters"}),c?h.jsx(Zc,{}):h.jsx(Jc,{})]})]})]}),h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[h.jsx(tte,{title:"Total IT Requests",currentCount:Ce.length,lastMonthCount:$.length,icon:h.jsx(ad,{})}),h.jsx(tte,{title:"IT New WO",currentCount:Se(Ce).length,lastMonthCount:Se($).length,icon:h.jsx(id,{}),usePercentage:!1}),h.jsx(tte,{title:"IT Progress",currentCount:Ne(Ce).length,lastMonthCount:Ne($).length,icon:h.jsx(Mu,{}),usePercentage:!1}),h.jsx(tte,{title:"IT Closed",currentCount:ke(Ce).length,lastMonthCount:ke($).length,icon:h.jsx(td,{}),usePercentage:!1})]}),h.jsx(kc.div,{layout:!0,className:"mb-6 bg-white rounded-2xl shadow-md p-4 md:p-6 border border-blue-50",children:h.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0",children:[h.jsxs("div",{className:"flex-1 relative",children:[h.jsx(uu,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),h.jsx("input",{type:"text",placeholder:"Search IT requests by device, ID, or assignee...",className:"w-full pl-12 pr-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base transition-all duration-200",value:i,onChange:e=>s(e.target.value)})]}),h.jsx(Mi,{children:c&&h.jsx(kc.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3 w-full md:w-auto",children:h.jsxs("select",{className:"border border-gray-200 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base appearance-none bg-no-repeat bg-right-12 bg-center-y transition-all duration-200",style:{backgroundImage:"url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='currentColor'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/svg%3E\")",backgroundSize:"1.2rem"},value:o,onChange:e=>l(e.target.value),children:[h.jsx("option",{value:"all",children:"All Statuses"}),h.jsx("option",{value:"New",children:"New"}),h.jsx("option",{value:"Assigned",children:"Assigned"}),h.jsx("option",{value:"In Progress",children:"In Progress"}),h.jsx("option",{value:"Escalated",children:"Escalated"}),h.jsx("option",{value:"Vendor Handled",children:"Vendor Handled"}),h.jsx("option",{value:"Resolved",children:"Resolved"}),h.jsx("option",{value:"Cancel",children:"Cancel"}),h.jsx("option",{value:"Closed",children:"Closed"})]})})})]})}),h.jsx(kc.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:h.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:h.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[h.jsx("thead",{className:"bg-blue-50",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Date"}),h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Device Information"}),h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No Asset"}),h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Service Name"}),h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Ticket Status"}),h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Assigned To"}),h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),h.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:Te.length>0?Te.map(e=>{const t=(e=>{var t;return e.vendor?`${e.vendor.name}`:(null==(t=e.assigned_to)?void 0:t.name)||"Unassigned"})(e),n=(e=>e.vendor?"vendor":e.assigned_to?"user":"unassigned")(e);return h.jsxs(kc.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[h.jsx("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium text-gray-900 cursor-pointer hover:text-blue-600 hover:underline transition-colors duration-200",onClick:()=>fe(e.id),title:"Click to view details",children:e.work_order_no||"-"}),h.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:h.jsx("div",{className:"text-sm font-medium text-gray-900",children:new Date(e.date).toLocaleDateString()})}),h.jsx("td",{className:"px-5 py-3",children:h.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.device_info})}),h.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:h.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.asset_no||"-"})}),h.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:h.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.service_type.group_name||"N/A"})}),h.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:h.jsx("span",{className:`px-2.5 py-0.5 inline-flex text-xs leading-5 font-bold rounded-full shadow-sm ${me(e.handling_status)}`,children:e.handling_status})}),h.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx("span",{className:"text-sm font-medium "+("vendor"===n?"text-purple-600":"user"===n?"text-blue-600":"text-gray-500"),children:t}),"vendor"===n&&h.jsx("span",{className:"ml-2 px-1.5 py-0.5 text-xs bg-purple-100 text-purple-800 rounded-full",children:"Vendor"})]})}),h.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[h.jsx(kc.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>fe(e.id),className:"text-blue-600 hover:text-blue-800 transition-colors duration-200 p-1 rounded-full hover:bg-blue-50",title:"View Details",children:h.jsx(md,{className:"text-base"})}),"New"===e.handling_status&&h.jsxs(h.Fragment,{children:[h.jsx(kc.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>ie(`/workorders/it/editworkorder/${e.id}`),className:"text-gray-600 hover:text-gray-800 transition-colors duration-200 p-1 rounded-full hover:bg-gray-50",title:"Edit Work Order",children:h.jsx(gu,{className:"text-base"})}),h.jsx(kc.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>xe(e.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Cancel Work Order",children:h.jsx(Pu,{className:"text-base"})})]}),"Resolved"===e.handling_status&&h.jsx(kc.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:t=>{be(e.id)},className:"text-green-600 hover:text-green-800 transition-colors duration-200 p-1 rounded-full hover:bg-green-50",title:"Mark as Closed",children:h.jsx(td,{className:"text-base"})})]})]},e.id)}):h.jsx("tr",{children:h.jsx("td",{colSpan:8,className:"px-5 py-8 text-center text-gray-600 text-base",children:"No IT work order requests found matching your criteria."})})})]})})}),Ce.length>S&&h.jsxs(kc.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"mt-8 flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0",children:[h.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",h.jsx("span",{className:"font-semibold",children:Ae+1})," to ",h.jsx("span",{className:"font-semibold",children:Math.min(_e,Ce.length)})," of"," ",h.jsx("span",{className:"font-semibold",children:Ce.length})," results"]}),h.jsxs("div",{className:"flex space-x-2",children:[h.jsx(kc.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>Ee(N-1),disabled:1===N,className:"px-4 py-2 border border-blue-200 rounded-md bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm font-medium text-sm","aria-label":"Previous page",children:"Previous"}),Array.from({length:Oe},(e,t)=>h.jsx(kc.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>Ee(t+1),className:`px-3.5 py-2 rounded-md transition-colors duration-200 shadow-sm font-medium text-sm\n            ${N===t+1?"bg-blue-600 text-white shadow-md":"bg-white text-gray-700 hover:bg-blue-50 border border-blue-200"}\n          `,"aria-label":`Go to page ${t+1}`,children:t+1},t+1)),h.jsx(kc.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>Ee(N+1),disabled:N===Oe,className:"px-4 py-2 border border-blue-200 rounded-md bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm font-medium text-sm","aria-label":"Next page",children:"Next"})]})]})]})]}),m&&h.jsx(kc.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:h.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 p-4 overflow-y-auto",children:h.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl mx-auto p-6 border border-blue-100",children:[h.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[h.jsxs("h3",{className:"text-2xl font-bold text-gray-900",children:["Work Order Details #",m.id]}),h.jsx(kc.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{p(!1),f(null)},className:"text-gray-500 hover:text-gray-700 text-2xl",children:h.jsx(Pu,{size:24})})]}),h.jsx("div",{className:"overflow-y-auto max-h-[80vh]",children:h.jsx(Me,{order:m,onClose:()=>{p(!1),f(null)}})})]})})}),h.jsx(Mi,{children:y&&h.jsx(kc.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 p-4",children:h.jsx("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md mx-auto p-6 border border-blue-100",children:h.jsxs("div",{className:"space-y-5 text-center py-3",children:[h.jsx(ju,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),h.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this record? This action cannot be undone."}),h.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[h.jsx(kc.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>v(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),h.jsx(kc.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>null!==w&&ge(w),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})})}),z&&h.jsx(kc.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:"fixed bottom-6 right-6 bg-green-600 text-white px-4 py-2 rounded-lg shadow-lg",children:z}),h.jsx(Mi,{children:V&&h.jsx(kc.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 p-4",children:h.jsx("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md mx-auto p-6 border border-blue-100",children:h.jsxs("div",{className:"space-y-5 text-center py-3",children:[h.jsx(td,{className:"text-green-500 text-5xl mx-auto"}),h.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to mark this work order as completed? This action will close the ticket."}),h.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[h.jsx(kc.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>q(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),h.jsx(kc.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>null!==K&&we(K),className:"px-5 py-2.5 bg-green-600 text-white rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-colors duration-200 font-semibold text-sm",children:"Yes, Complete"})]})]})})})}),h.jsx(Mi,{children:G&&h.jsx(kc.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:h.jsx("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md mx-auto p-6 border border-blue-100",children:h.jsxs("div",{className:"space-y-5 text-center py-3",children:[h.jsx(ju,{className:"text-orange-500 text-5xl mx-auto"}),h.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to cancel this work order? This action cannot be undone."}),h.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[h.jsx(kc.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>Y(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"No, Keep It"}),h.jsx(kc.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>null!==X&&ve(X),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Yes, Cancel"})]})]})})})}),F&&h.jsxs(kc.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:"fixed bottom-6 right-6 bg-red-600 text-white px-4 py-2 rounded-lg shadow-lg",children:[F,h.jsx("button",{onClick:()=>H(null),className:"ml-2 underline",children:"Dismiss"})]})]})},ite=({isOpen:e,onClose:t,title:n,children:r})=>e?h.jsx(kc.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:h.jsxs(kc.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[h.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[h.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n}),h.jsx(kc.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:t,className:"text-gray-500 hover:text-gray-700 text-2xl",children:h.jsx(Pu,{size:24})})]}),h.jsx("div",{children:r})]})}):null,ste=()=>{var e,t,n,r,a;const{updateWorkOrderIT:i,user:s,getUsers:o,getServices:l,getDepartment:c,getServiceGroups:d,getWorkOrderById:u}=gt(),p=je(),{id:m}=ke(),[f,g]=x.useState([]),[b,y]=x.useState([]),[v,w]=x.useState([]),[j,N]=x.useState([]),[k,S]=x.useState(window.innerWidth<768),[C,_]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return!!e&&JSON.parse(e)}),[A,T]=x.useState(!1),[O,E]=x.useState(!1),[M,P]=x.useState(!1),[D,L]=x.useState(!1),[I,R]=x.useState(!0),[F,H]=x.useState(null),[z,B]=x.useState(null),[W,$]=x.useState(!1),[U,V]=x.useState(null),q=x.useRef(null),G=x.useRef(null),[Y,K]=x.useState(!1),[J,X]=x.useState(null),Q=x.useRef(null),Z=x.useRef(null),[ee,te]=x.useState([]),[ne,re]=x.useState([]),[ae,ie]=x.useState([]),[se,oe]=x.useState(!1),le={date:(new Date).toISOString().split("T")[0],reception_method:"Electronic Work Order System",requester_id:(null==s?void 0:s.id)?parseInt(s.id):0,known_by_id:(null==(e=null==s?void 0:s.department)?void 0:e.head_id)||null,department_id:(null==s?void 0:s.department_id)||0,service_group_id:null,service_catalogue_id:null,asset_no:"",device_info:"",complaint:"",attachment:null,received_by_id:null,handling_date:null,action_taken:null,handling_status:"New",remarks:null},[ce,de]=x.useState(le),ue="Electronic Work Order System"===ce.reception_method;x.useEffect(()=>{(async()=>{if(m)try{R(!0);const e=await u(parseInt(m));de({id:e.id,date:e.date.split("T")[0],reception_method:e.reception_method,requester_id:e.requester_id,known_by_id:e.known_by_id,department_id:e.department_id,service_group_id:e.service_group_id,service_catalogue_id:e.service_catalogue_id,asset_no:e.asset_no,device_info:e.device_info,complaint:e.complaint,attachment:e.attachment,received_by_id:e.received_by_id,handling_date:e.handling_date?e.handling_date.split("T")[0]:null,action_taken:e.action_taken,handling_status:e.handling_status,remarks:e.remarks})}catch(e){H(e.message||"Gagal memuat data work order. Silakan coba lagi.")}finally{R(!1)}})()},[m,u]),x.useEffect(()=>{s&&(async()=>{try{const e=(await d(0)).map(e=>{var t,n;return{id:Number(e.id),name:null!=(t=e.group_name)?t:"",description:null!=(n=e.group_description)?n:void 0}});re(e),ie(e);const t=await c();y(t);const n=await o();if(g(n),s&&s.id){const e=await l(parseInt(s.id));w(e)}}catch(e){}})()},[s,o,l,c,d]),x.useEffect(()=>{var e;if("Electronic Work Order System"===ce.reception_method&&s){const t=(null==(e=s.department)?void 0:e.head_id)||null;de(e=>({...e,requester_id:parseInt(s.id),department_id:s.department_id||0,known_by_id:t}))}},[ce.reception_method,s]),x.useEffect(()=>{const e=()=>{S(window.innerWidth<768),window.innerWidth<768&&_(!1)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),x.useEffect(()=>{const e=e=>{q.current&&!q.current.contains(e.target)&&E(!1),G.current&&!G.current.contains(e.target)&&P(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),x.useEffect(()=>{if(ce.service_group_id&&v.length>0){const e=v.filter(e=>e.service_group.id===ce.service_group_id);te(e)}else te([])},[ce.service_group_id,v]),x.useEffect(()=>{document.documentElement.classList.toggle("dark",A),localStorage.setItem("sidebarOpen",JSON.stringify(C))},[C,A]);const he=x.useCallback((e,t)=>{let n,r;if(e&&"target"in e)n=e.target.name,r=e.target.value;else if(e&&"object"==typeof e&&"value"in e&&t)n=t,r=e.value;else{if(null!==e||!t)return;n=t,r=null}de(e=>({...e,[n]:r}))},[]),pe=e=>{de(t=>({...t,asset_no:e?e.value:""}))};x.useCallback(e=>{if(e.target.files&&e.target.files.length>0){const t=e.target.files[0];V(t),de(e=>({...e,attachment:null}))}else V(null),de(e=>({...e,attachment:null}))},[]);const me=x.useCallback(()=>{V(null),de(e=>({...e,attachment:null}))},[]),fe=x.useCallback(()=>{$(!1),p("/workorders/it")},[p]),ge={control:(e,t)=>({...e,minHeight:"42px",borderColor:t.isFocused?"#3B82F6":"#D1D5DB",boxShadow:t.isFocused?"0 0 0 1px #3B82F6":"none","&:hover":{borderColor:"#9CA3AF"},borderRadius:"0.5rem",backgroundColor:"#FFFFFF",padding:"0 0.5rem",transition:"all 0.15s ease-in-out"}),valueContainer:e=>({...e,padding:"0"}),singleValue:e=>({...e,color:"#374151"}),placeholder:e=>({...e,color:"#6B7280"}),dropdownIndicator:e=>({...e,color:"#9CA3AF","&:hover":{color:"#6B7280"}}),indicatorSeparator:e=>({...e,display:"none"}),menu:e=>({...e,zIndex:9999,borderRadius:"0.5rem",border:"1px solid #E5E7EB",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"}),option:(e,t)=>({...e,backgroundColor:t.isFocused?"#EFF6FF":"#FFFFFF",color:"#1F2937","&:active":{backgroundColor:"#DBEAFE"},padding:"0.625rem 1rem"})},xe=({selectedFile:e,attachment:t,onRemove:n})=>{if(!e&&!t)return null;const r=e&&e.type.startsWith("image/")?URL.createObjectURL(e):t&&t.startsWith("data:image")||t&&t.startsWith("blob:")?t:null,a=null!==r,i=e?e.name:"Existing attachment";return h.jsxs("div",{className:"mt-4 p-4 border border-gray-200 rounded-xl bg-white shadow-sm",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsx("div",{className:"p-3 rounded-lg "+(e?"bg-blue-50":"bg-purple-50"),children:a?h.jsx(qc,{className:"h-6 w-6 text-green-600"}):h.jsx(gd,{className:"h-6 w-6 text-blue-600"})}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("p",{className:"text-sm font-semibold text-gray-900 truncate",children:i}),h.jsxs("div",{className:"flex items-center space-x-4 mt-1",children:[h.jsx("p",{className:"text-xs text-gray-500",children:e?`${(e.size/1024/1024).toFixed(2)} MB`:"Existing file"}),h.jsx("span",{className:"text-xs px-2 py-1 bg-green-100 text-green-700 rounded-full",children:e?"Ready to upload":"Attached"})]})]})]}),h.jsx(kc.button,{type:"button",onClick:n,whileHover:{scale:1.05},whileTap:{scale:.95},className:"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition-colors duration-200",title:"Remove attachment",children:h.jsx(Pu,{size:18})})]}),a&&r&&h.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-100",children:[h.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Preview:"}),h.jsx("div",{className:"flex justify-center",children:h.jsx("img",{src:r,alt:"Preview",className:"h-32 w-32 object-cover rounded-lg border shadow-sm"})})]})]})},be=x.useCallback(e=>{if(!e)return;const t=parseInt(e.value),n=f.find(e=>parseInt(e.id)===t);if(n){const e=b.find(e=>e.id===n.department_id);de(r=>({...r,requester_id:t,department_id:n.department_id||0,known_by_id:(null==e?void 0:e.head_id)||null}))}},[f,b]);return I?h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Lu,{}),h.jsx("div",{className:"flex-1 flex flex-col overflow-hidden",children:h.jsx("div",{className:"flex items-center justify-center h-full",children:h.jsxs("div",{className:"text-center",children:[h.jsx(Ad,{className:"animate-spin h-12 w-12 text-blue-600 mx-auto mb-4"}),h.jsx("p",{className:"text-gray-600",children:"Memuat data work order..."})]})})})]}):h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Lu,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Fu,{mainTitle:"Edit Work Order",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:h.jsx(ad,{}),isMobile:k,toggleSidebar:()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!C)),_(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[h.jsxs(kc.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Work Order"}),h.jsx("p",{className:"text-gray-600 mt-1",children:"Perbarui detail work order yang sudah ada"})]}),h.jsxs(kc.button,{onClick:()=>p("/workorders/it"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[h.jsx(Xc,{className:"text-lg"})," Back to Work Orders"]})]}),h.jsxs(kc.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[F&&h.jsxs(kc.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[h.jsx("strong",{className:"font-bold",children:"Error!"}),h.jsx("span",{className:"block sm:inline ml-2",children:F}),h.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:h.jsx(Pu,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>H(null)})})]}),h.jsxs("form",{onSubmit:async e=>{e.preventDefault(),L(!0),H(null);const t={id:ce.id,date:ce.date,reception_method:ce.reception_method,requester_id:ce.requester_id,known_by_id:ce.known_by_id,department_id:ce.department_id,service_group_id:ce.service_group_id,service_catalogue_id:ce.service_catalogue_id,asset_no:ce.asset_no,device_info:ce.device_info,complaint:ce.complaint,attachment:ce.attachment};try{await i(t,U),B({message:"Work Order berhasil diperbarui!",work_order:{work_order_no:`WO-IT-${ce.id}`}}),$(!0)}catch(n){H(n.message||"Gagal memperbarui work order. Silakan coba lagi.")}finally{L(!1)}},className:"space-y-6",children:[h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[h.jsx(id,{className:"mr-2 text-blue-500"})," General Information"]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"date",className:"block text-sm font-medium text-gray-700 mb-1",children:["Date ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"date",id:"date",name:"date",value:ce.date,onChange:he,required:!0,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700"})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"reception_method",className:"block text-sm font-medium text-gray-700 mb-1",children:["Reception Method ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx(rN,{id:"reception_method",name:"reception_method",options:[{value:"Electronic Work Order System",label:"Electronic Work Order System"},{value:"Direct Information",label:"Direct Information"},{value:"Phone",label:"Phone"},{value:"Whatsapp",label:"Whatsapp"},{value:"Email",label:"Email"}],value:{value:ce.reception_method,label:ce.reception_method},onChange:e=>{const t=(null==e?void 0:e.value)||"";de(e=>{var n,r;const a={...e,reception_method:t};return"Electronic Work Order System"===t&&s?{...a,requester_id:parseInt(s.id),department_id:(null==(n=s.department)?void 0:n.id)||0,known_by_id:(null==(r=s.department)?void 0:r.head_id)||null}:a})},placeholder:"Select Reception Method",styles:ge,required:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"requester_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Requester ",h.jsx("span",{className:"text-red-500",children:"*"})]}),ue?h.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-blue-50 text-gray-700",children:h.jsx("span",{children:(null==s?void 0:s.name)||"Current User"})}):h.jsx(rN,{id:"requester_id",name:"requester_id",options:f.map(e=>({value:String(e.id),label:e.name})),value:f.find(e=>parseInt(e.id)===ce.requester_id)?{value:String(ce.requester_id),label:(null==(t=f.find(e=>parseInt(e.id)===ce.requester_id))?void 0:t.name)||""}:null,onChange:be,placeholder:"Select Requester",styles:ge,required:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"department_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Department ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-blue-50 text-gray-700",children:h.jsx("span",{children:(()=>{if(ue){const e=b.find(e=>e.id===(null==s?void 0:s.department_id));return(null==e?void 0:e.name)||"No department assigned"}const e=b.find(e=>e.id===ce.department_id);return(null==e?void 0:e.name)||"No department assigned"})()})})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"known_by_id",className:"block text-sm font-medium text-gray-700 mb-1",children:"Known By (Head)"}),h.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-blue-50 text-gray-700",children:h.jsx("span",{children:(()=>{if(ue){const e=b.find(e=>e.id===(null==s?void 0:s.department_id));if(e&&e.head_id){const t=f.find(t=>parseInt(t.id)===e.head_id);return(null==t?void 0:t.name)||"No department head assigned"}return"No department head assigned"}const e=b.find(e=>e.id===ce.department_id);if(e&&e.head_id){const t=f.find(t=>parseInt(t.id)===e.head_id);return(null==t?void 0:t.name)||"No department head assigned"}return"No department head assigned"})()})})]})]})]}),h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[h.jsx(yu,{className:"mr-2 text-green-500"})," Service Details"]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"service_group_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Service Type ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx(rN,{id:"service_group_id",name:"service_group_id",options:ne.map(e=>({value:String(e.id),label:e.name})),value:null!==ce.service_group_id?{value:String(ce.service_group_id),label:(null==(n=ne.find(e=>e.id===ce.service_group_id))?void 0:n.name)||""}:null,onChange:e=>{const t=e?parseInt(e.value):null;de(e=>({...e,service_group_id:t,service_catalogue_id:null}))},placeholder:"Select Service Type",styles:ge,required:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"service_catalogue_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Service ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx(rN,{id:"service_catalogue_id",name:"service_catalogue_id",options:ee.map(e=>({value:String(e.id),label:e.service_name})),value:null!==ce.service_catalogue_id?{value:String(ce.service_catalogue_id),label:(null==(r=ee.find(e=>e.id===ce.service_catalogue_id))?void 0:r.service_name)||""}:null,onChange:e=>{const t=e?parseInt(e.value):null;de(e=>({...e,service_catalogue_id:t}))},placeholder:null!==ce.service_group_id?0===ee.length?"No services available for selected type":"Select Service":"Please select Service Type first",styles:ge,isDisabled:null===ce.service_group_id||0===ee.length,required:!0}),0===ee.length&&ce.service_group_id&&h.jsx("p",{className:"text-sm text-yellow-500 mt-1",children:"No services available for selected type"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"asset_no",className:"block text-sm font-medium text-gray-700 mb-1",children:"No. Asset "}),h.jsx(RI,{name:"asset_no",id:"asset_no",options:j,value:ce.asset_no?{value:ce.asset_no,label:ce.asset_no}:null,onChange:pe,onCreateOption:e=>{const t={value:e,label:e};N(e=>[...e,t]),pe(t)},placeholder:"Type or select Asset No.",styles:ge,isClearable:!0,required:!1})]})]})]}),h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[h.jsx(zd,{className:"mr-2 text-purple-500"})," Device & Complaint Details"]}),h.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"device_info",className:"block text-sm font-medium text-gray-700 mb-1",children:["Device Information ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("textarea",{id:"device_info",name:"device_info",value:ce.device_info,onChange:he,required:!0,rows:3,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"Provide details about the device (e.g., model, serial number)."})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"complaint",className:"block text-sm font-medium text-gray-700 mb-1",children:["Complaint ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx(gI,{value:ce.complaint,onChange:e=>{de(t=>({...t,complaint:e}))}})]})]})]}),h.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[h.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:["Attachment ",h.jsx("span",{className:"text-gray-400 font-normal",children:"(Optional)"})]}),U||ce.attachment?h.jsx("div",{className:"w-full p-6 border-2 border-blue-200 border-dashed rounded-xl bg-blue-50/30",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"mx-auto w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center mb-3",children:h.jsx(Zd,{className:"h-5 w-5 text-blue-600"})}),h.jsx("p",{className:"text-sm font-medium text-blue-900",children:U?`File selected: ${U.name}`:"Existing attachment"}),h.jsx("p",{className:"text-xs text-blue-600 mt-1",children:U?"File ready for upload. Click to change.":"Existing file attached. Click to change."})]})}):h.jsx(kc.button,{type:"button",whileHover:{scale:1.01},whileTap:{scale:.99},className:"w-full p-8 border-2 border-dashed border-gray-300 rounded-xl bg-white hover:border-blue-400 hover:bg-blue-50/50 transition-all duration-300 group",onClick:e=>{e.preventDefault(),e.stopPropagation(),K(!0)},children:h.jsxs("div",{className:"space-y-3 text-center",children:[h.jsx("div",{className:"mx-auto w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center group-hover:bg-blue-100 transition-colors",children:h.jsx(Zd,{className:"h-6 w-6 text-gray-400 group-hover:text-blue-500"})}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Click to select attachment"}),h.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PNG, JPG, GIF, PDF up to 10MB"})]})]})}),h.jsx(xe,{selectedFile:U,attachment:ce.attachment,onRemove:me}),h.jsx(Mi,{children:Y&&h.jsx(kc.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 p-4",onClick:()=>K(!1),children:h.jsxs(kc.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-xl w-full max-w-md mx-auto overflow-hidden",onClick:e=>e.stopPropagation(),children:[h.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-100",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Select Attachment"}),h.jsx("button",{type:"button",onClick:()=>K(!1),className:"text-gray-400 hover:text-gray-600 transition-colors p-1 rounded-lg hover:bg-gray-100",children:h.jsx(Pu,{size:20})})]}),J?h.jsxs("div",{className:"p-6 space-y-4",children:[h.jsxs("div",{className:"relative bg-black rounded-lg overflow-hidden",children:[h.jsx("video",{ref:Q,autoPlay:!0,playsInline:!0,className:"w-full h-64 object-cover"}),h.jsx("canvas",{ref:Z,className:"hidden"})]}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx(kc.button,{type:"button",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{if(Q.current&&Z.current){const e=Z.current,t=e.getContext("2d");if(t){e.width=Q.current.videoWidth,e.height=Q.current.videoHeight,t.drawImage(Q.current,0,0);const n=e.toDataURL("image/jpeg",.8);de(e=>({...e,attachment:n}));const r={name:`photo-${Date.now()}.jpg`,type:"image/jpeg",size:n.length,lastModified:Date.now(),data:n};V(r),J&&(J.getTracks().forEach(e=>e.stop()),X(null))}K(!1)}},className:"flex-1 bg-blue-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Take Photo"}),h.jsx(kc.button,{type:"button",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{J&&(J.getTracks().forEach(e=>e.stop()),X(null)),K(!1)},className:"flex-1 bg-gray-200 text-gray-700 py-3 px-4 rounded-lg font-medium hover:bg-gray-300 transition-colors",children:"Cancel"})]})]}):h.jsxs("div",{className:"p-6 space-y-4",children:[h.jsxs(kc.button,{type:"button",whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{const e=document.createElement("input");e.type="file",e.accept="image/*, .pdf, .doc, .docx, .xls, .xlsx",e.onchange=e=>{const t=e.target;if(t.files&&t.files.length>0){const e=t.files[0];V(e),de(e=>({...e,attachment:null}))}K(!1)},e.click()},className:"w-full p-4 border-2 border-dashed border-gray-200 rounded-xl hover:border-blue-300 hover:bg-blue-50/50 transition-all duration-200 flex items-center space-x-4",children:[h.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:h.jsx(gd,{className:"h-6 w-6 text-blue-600"})}),h.jsxs("div",{className:"text-left",children:[h.jsx("div",{className:"font-medium text-gray-900",children:"Select File"}),h.jsx("div",{className:"text-sm text-gray-500",children:"From your device"})]})]}),h.jsxs(kc.button,{type:"button",whileHover:{scale:1.02},whileTap:{scale:.98},onClick:async()=>{try{const e=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});X(e),Q.current&&(Q.current.srcObject=e)}catch(e){alert("Tidak dapat mengakses kamera. Pastikan izin kamera telah diberikan.")}},className:"w-full p-4 border-2 border-dashed border-gray-200 rounded-xl hover:border-purple-300 hover:bg-purple-50/50 transition-all duration-200 flex items-center space-x-4",children:[h.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:h.jsx(qc,{className:"h-6 w-6 text-purple-600"})}),h.jsxs("div",{className:"text-left",children:[h.jsx("div",{className:"font-medium text-gray-900",children:"Take Photo"}),h.jsx("div",{className:"text-sm text-gray-500",children:"Use camera"})]})]})]})]})})})]}),h.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[h.jsxs(kc.button,{type:"button",onClick:()=>p("/workorders/it"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",children:[h.jsx(Rc,{className:"mr-2 h-5 w-5"})," Cancel"]}),h.jsx(kc.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},disabled:D,className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed",children:D?h.jsxs(h.Fragment,{children:[h.jsx(Ad,{className:"animate-spin mr-2 h-5 w-5"}),"Updating..."]}):h.jsxs(h.Fragment,{children:[h.jsx(du,{className:"mr-2 h-5 w-5"})," Update Work Order"]})})]})]})]})]})]}),h.jsx(ite,{isOpen:W,onClose:fe,title:"Success!",children:h.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[h.jsx(td,{className:"text-green-500 text-6xl mb-4"}),h.jsx("p",{className:"text-lg font-medium text-gray-800 text-center mb-2",children:null==z?void 0:z.message}),h.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Work Order Number: ",null==(a=null==z?void 0:z.work_order)?void 0:a.work_order_no]}),h.jsx(kc.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:fe,className:"mt-6 px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold",children:"Go to Work Orders"})]})})]})},ote=({isOpen:e,onClose:t,title:n,children:r})=>e?h.jsx(kc.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:h.jsxs(kc.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[h.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[h.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n}),h.jsx(kc.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:t,className:"text-gray-500 hover:text-gray-700 text-2xl",children:h.jsx(Pu,{size:24})})]}),h.jsx("div",{children:r})]})}):null,lte=()=>{var e,t,n;const{updateWorkOrderIT:r,user:a,getUsers:i,getServices:s,getDepartment:o,getServiceGroups:l,getWorkOrderById:c,getVendor:d}=gt(),u=je(),{id:p}=ke(),[m,f]=x.useState([]),[g,b]=x.useState([]),[y,v]=x.useState([]),[w,j]=x.useState(window.innerWidth<768),[N,k]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return!!e&&JSON.parse(e)}),[S,C]=x.useState(!1),[_,A]=x.useState(!1),[T,O]=x.useState(!1),[E,M]=x.useState(!1),[P,D]=x.useState(!0),[L,I]=x.useState(null),[R,F]=x.useState(null),[H,z]=x.useState(!1),B=x.useRef(null),W=x.useRef(null),[$,U]=x.useState([]),[V,q]=x.useState([]),[G,Y]=x.useState(!1),[K,J]=x.useState([]),[X,Q]=x.useState(!1),[Z,ee]=x.useState(null),[te,ne]=x.useState(!1),re=({content:e,className:t=""})=>{if(!e)return h.jsx("div",{className:`p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700 ${t}`,children:h.jsx("span",{children:"-"})});const n=iy.sanitize(e,{ALLOWED_TAGS:["h1","h2","h3","h4","h5","h6","p","br","span","div","ol","ul","li","strong","b","em","i","u","s","strike","code","mark","sub","sup","blockquote","table","thead","tbody","tr","th","td"],ALLOWED_ATTR:["style","class","align","type","start","colspan","rowspan"]});return h.jsx("div",{className:`rich-text-content p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700 ${t}`,dangerouslySetInnerHTML:{__html:n}})},ae={date:(new Date).toISOString().split("T")[0],reception_method:"Electronic Work Order System",requester_id:(null==a?void 0:a.id)?parseInt(a.id):0,known_by_id:(null==(e=null==a?void 0:a.department)?void 0:e.head_id)||null,department_id:(null==a?void 0:a.department_id)||0,service_group_id:null,service_catalogue_id:null,asset_no:"",device_info:"",complaint:"",attachment:null,received_by_id:null,handling_date:null,action_taken:null,handling_status:"New",remarks:null,assigned_to_id:null,vendor_id:null},[ie,se]=x.useState(ae);x.useEffect(()=>{const e="Escalated"===ie.handling_status,t="Vendor Handled"===ie.handling_status;Y(e),Q(t),!e&&ie.assigned_to_id&&se(e=>({...e,assigned_to_id:null})),t||(se(e=>({...e,vendor_id:null})),ee(null),ne(!1))},[ie.handling_status]),x.useEffect(()=>{K.length>0&&(async()=>{if(p)try{D(!0);const e=await c(parseInt(p));if(se({id:e.id,date:e.date.split("T")[0],reception_method:e.reception_method,requester_id:e.requester_id,known_by_id:e.known_by_id,department_id:e.department_id,service_group_id:e.service_group_id,service_catalogue_id:e.service_catalogue_id,asset_no:e.asset_no,device_info:e.device_info,complaint:e.complaint,attachment:e.attachment,received_by_id:e.received_by_id,handling_date:e.handling_date?e.handling_date.split("T")[0]:null,action_taken:e.action_taken,handling_status:e.handling_status,remarks:e.remarks,vendor_id:e.vendor_id||null}),e.vendor_id&&K.length>0){const t=K.find(t=>t.id===e.vendor_id);t&&ee(t)}}catch(e){I(e.message||"Gagal memuat data work order. Silakan coba lagi.")}finally{D(!1)}})()},[p,c,K]),x.useEffect(()=>{a&&(async()=>{try{const e=await d();J(e);const t=(await l(0)).map(e=>{var t,n;return{id:Number(e.id),name:null!=(t=e.group_name)?t:"",description:null!=(n=e.group_description)?n:void 0}});q(t);const n=await o();b(n);const r=await i();if(f(r),a&&a.id){const e=await s(parseInt(a.id));v(e)}}catch(e){}})()},[a,i,s,o,l,d]),x.useEffect(()=>{const e=()=>{j(window.innerWidth<768),window.innerWidth<768&&k(!1)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),x.useEffect(()=>{const e=e=>{B.current&&!B.current.contains(e.target)&&A(!1),W.current&&!W.current.contains(e.target)&&O(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),x.useEffect(()=>{if(ie.service_group_id&&y.length>0){const e=y.filter(e=>e.service_group.id===ie.service_group_id);U(e)}else U([])},[ie.service_group_id,y]),x.useEffect(()=>{document.documentElement.classList.toggle("dark",S),localStorage.setItem("sidebarOpen",JSON.stringify(N))},[N,S]);const oe=x.useCallback((e,t)=>{let n,r;if(e&&"target"in e)n=e.target.name,r=e.target.value;else if(e&&"object"==typeof e&&"value"in e&&t)n=t,r="assigned_to_id"===t||"requester_id"===t||"known_by_id"===t?e.value?parseInt(e.value):null:e.value;else{if(null!==e||!t)return;n=t,r=null}se(e=>({...e,[n]:r}))},[]),le=x.useCallback(()=>{z(!1),u("/workorders/it/receiver")},[u]),ce={control:(e,t)=>({...e,minHeight:"42px",borderColor:t.isFocused?"#3B82F6":"#D1D5DB",boxShadow:t.isFocused?"0 0 0 1px #3B82F6":"none","&:hover":{borderColor:"#9CA3AF"},borderRadius:"0.5rem",backgroundColor:"#FFFFFF",padding:"0 0.5rem",transition:"all 0.15s ease-in-out"}),valueContainer:e=>({...e,padding:"0"}),singleValue:e=>({...e,color:"#374151"}),placeholder:e=>({...e,color:"#6B7280"}),dropdownIndicator:e=>({...e,color:"#9CA3AF","&:hover":{color:"#6B7280"}}),indicatorSeparator:e=>({...e,display:"none"}),menu:e=>({...e,zIndex:9999,borderRadius:"0.5rem",border:"1px solid #E5E7EB",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"}),option:(e,t)=>({...e,backgroundColor:t.isFocused?"#EFF6FF":"#FFFFFF",color:"#1F2937","&:active":{backgroundColor:"#DBEAFE"},padding:"0.625rem 1rem"})};return P?h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Lu,{}),h.jsx("div",{className:"flex-1 flex flex-col overflow-hidden",children:h.jsx("div",{className:"flex items-center justify-center h-full",children:h.jsxs("div",{className:"text-center",children:[h.jsx(Ad,{className:"animate-spin h-12 w-12 text-blue-600 mx-auto mb-4"}),h.jsx("p",{className:"text-gray-600",children:"Memuat data work order..."})]})})})]}):h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Lu,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Fu,{mainTitle:"Edit Receiver",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:h.jsx(ad,{}),isMobile:w,toggleSidebar:()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!N)),k(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[h.jsxs(kc.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Update Work Order"}),h.jsx("p",{className:"text-gray-600 mt-1",children:"Perbarui status dan penanganan work order"})]}),h.jsxs(kc.button,{onClick:()=>u("/workorders/it/receiver"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[h.jsx(Xc,{className:"text-lg"})," Back to Receiver"]})]}),h.jsxs(kc.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[L&&h.jsxs(kc.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[h.jsx("strong",{className:"font-bold",children:"Error!"}),h.jsx("span",{className:"block sm:inline ml-2",children:L}),h.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:h.jsx(Pu,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>I(null)})})]}),h.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),M(!0),I(null),"Escalated"===ie.handling_status&&!ie.assigned_to_id)return I("Assigned To is required for Escalated status"),void M(!1);if("Vendor Handled"===ie.handling_status&&!ie.vendor_id)return I("Vendor selection is required for Vendor Handled status"),void M(!1);if(!ie.handling_status)return I("Handling status is required"),void M(!1);if(!ie.handling_date)return I("Handling date is required"),void M(!1);if(!ie.action_taken||ie.action_taken.length<5)return I("Action taken must be at least 5 characters"),void M(!1);const t={...ie,id:ie.id,received_by_id:(null==a?void 0:a.id)?parseInt(a.id):null,handling_date:ie.handling_date,action_taken:ie.action_taken,handling_status:ie.handling_status,remarks:ie.remarks,assigned_to_id:ie.assigned_to_id?parseInt(ie.assigned_to_id):null,vendor_id:ie.vendor_id};try{await r(t),F({message:"Work Order berhasil diperbarui!",work_order:{work_order_no:`WO-IT-${ie.id}`}}),z(!0)}catch(n){I(n.message||"Gagal memperbarui work order. Silakan coba lagi.")}finally{M(!1)}},className:"space-y-6",children:[h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[h.jsx(id,{className:"mr-2 text-blue-500"})," General Information"]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),h.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:h.jsx("span",{children:ie.date})})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reception Method"}),h.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:h.jsx("span",{children:ie.reception_method})})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Requester"}),h.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:h.jsx("span",{children:(()=>{const e=m.find(e=>parseInt(e.id)===ie.requester_id);return(null==e?void 0:e.name)||"Unknown"})()})})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department"}),h.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:h.jsx("span",{children:(()=>{const e=g.find(e=>e.id===ie.department_id);return(null==e?void 0:e.name)||"No department assigned"})()})})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Known By (Head)"}),h.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:h.jsx("span",{children:(()=>{const e=g.find(e=>e.id===ie.department_id);if(e&&e.head_id){const t=m.find(t=>parseInt(t.id)===e.head_id);return(null==t?void 0:t.name)||"No department head assigned"}return"No department head assigned"})()})})]})]})]}),h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[h.jsx(yu,{className:"mr-2 text-green-500"})," Service Details"]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Service Type"}),h.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:h.jsx("span",{children:(()=>{const e=V.find(e=>e.id===ie.service_group_id);return(null==e?void 0:e.name)||"Unknown"})()})})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Service"}),h.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:h.jsx("span",{children:(()=>{const e=y.find(e=>e.id===ie.service_catalogue_id);return(null==e?void 0:e.service_name)||"Unknown"})()})})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"No. Asset"}),h.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:h.jsx("span",{children:ie.asset_no})})]})]})]}),h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[h.jsx(zd,{className:"mr-2 text-purple-500"})," Device & Complaint Details"]}),h.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Device Information"}),h.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:h.jsx("span",{children:ie.device_info})})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Complaint"}),h.jsx(re,{content:ie.complaint,className:"min-h-[100px]"})]})]})]}),ie.attachment&&h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[h.jsx(Zd,{className:"mr-2 text-gray-500"})," Attachment"]}),h.jsxs("div",{className:"flex items-center justify-between p-2.5 border border-gray-300 rounded-lg bg-gray-50",children:[h.jsx("span",{className:"text-gray-700",children:(()=>{if(!ie.attachment)return null;try{const e=new URL(ie.attachment).pathname;return e.substring(e.lastIndexOf("/")+1)}catch(Ew){return ie.attachment}})()}),h.jsx(kc.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ie.attachment&&window.open(ie.attachment,"_blank")},className:"ml-4 px-3 py-1 bg-blue-600 text-white text-sm rounded-md hover:bg-blue-700 transition-colors",children:"View"})]})]}),h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[h.jsx(td,{className:"mr-2 text-blue-500"})," Handling Information"]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"received_by_id",className:"block text-sm font-medium text-gray-700 mb-1",children:"Received By"}),h.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-blue-50 text-gray-700",children:h.jsx("span",{children:(null==a?void 0:a.name)||"Current User"})})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"handling_date",className:"block text-sm font-medium text-gray-700 mb-1",children:["Handling Date ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"date",id:"handling_date",name:"handling_date",value:ie.handling_date||"",onChange:oe,required:!0,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700"})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"handling_status",className:"block text-sm font-medium text-gray-700 mb-1",children:["Ticket Status ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx(rN,{id:"handling_status",name:"handling_status",options:[{value:"New",label:"New"},{value:"In Progress",label:"In Progress"},{value:"Escalated",label:"Escalated"},{value:"Vendor Handled",label:"Vendor Handled"},{value:"Resolved",label:"Resolved"}],value:ie.handling_status?{value:ie.handling_status,label:ie.handling_status}:null,onChange:e=>oe(e,"handling_status"),placeholder:"Select Handling Status",styles:ce,required:!0})]}),G&&h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"assigned_to_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Assigned To ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx(rN,{id:"assigned_to_id",name:"assigned_to_id",options:m.map(e=>({value:String(e.id),label:e.name})),value:ie.assigned_to_id?{value:String(ie.assigned_to_id),label:(null==(t=m.find(e=>parseInt(e.id)===ie.assigned_to_id))?void 0:t.name)||"Unknown"}:null,onChange:e=>oe(e,"assigned_to_id"),placeholder:"Select Assignee",styles:ce,required:G})]}),X&&h.jsxs("div",{className:"md:col-span-2 bg-gray-50 p-4 rounded-lg border border-gray-200",children:[h.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[h.jsx(yu,{className:"mr-2 text-gray-600"})," Vendor Information"]}),Z?h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("h4",{className:"font-semibold text-gray-800",children:"Selected Vendor"}),h.jsx(kc.button,{type:"button",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ee(null),se(e=>({...e,vendor_id:null})),ne(!1)},className:"px-2 py-1 bg-red-100 text-red-700 text-sm rounded-md hover:bg-red-200 transition-colors",children:"Change Vendor"})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Vendor Name"}),h.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:Z.name})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Person"}),h.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:Z.contact_person})]}),h.jsxs("div",{className:"md:col-span-2",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),h.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:Z.address||"-"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),h.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:Z.email})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),h.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:Z.telp||"-"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mobile"}),h.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:Z.HP||"-"})]})]})]}):h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Select Vendor ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx(kc.button,{type:"button",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>ne(!te),className:"px-3 py-1 bg-gray-600 text-white text-sm rounded-md hover:bg-gray-700 transition-colors",children:te?"Hide Vendors":"Select Vendor"})]}),te&&h.jsx("div",{className:"border border-gray-200 rounded-lg bg-white max-h-60 overflow-y-auto",children:K.length>0?K.map(e=>h.jsxs(kc.div,{whileHover:{backgroundColor:"rgba(0, 0, 0, 0.05)"},className:"p-3 border-b border-gray-100 cursor-pointer transition-colors",onClick:()=>(e=>{ee(e),se(t=>({...t,vendor_id:e.id})),ne(!1)})(e),children:[h.jsx("div",{className:"font-medium text-gray-900",children:e.name}),h.jsxs("div",{className:"text-sm text-gray-600",children:[e.contact_person," • ",e.email]}),h.jsx("div",{className:"text-xs text-gray-500",children:e.address})]},e.id)):h.jsxs("div",{className:"p-4 text-center text-gray-600",children:[h.jsx(ju,{className:"mx-auto h-6 w-6 mb-2"}),"No vendors available"]})})]})]}),h.jsxs("div",{className:"md:col-span-2",children:[h.jsxs("label",{htmlFor:"action_taken",className:"block text-sm font-medium text-gray-700 mb-1",children:["Action Taken ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx(gI,{value:ie.action_taken||"",onChange:e=>{se(t=>({...t,action_taken:e}))}})]}),h.jsxs("div",{className:"md:col-span-2",children:[h.jsxs("label",{htmlFor:"remarks",className:"block text-sm font-medium text-gray-700 mb-1",children:["Remarks ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx(gI,{value:ie.remarks||"",onChange:e=>{se(t=>({...t,remarks:e}))}})]})]})]}),h.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[h.jsxs(kc.button,{type:"button",onClick:()=>u("/workorders/it/receiver"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",children:[h.jsx(Rc,{className:"mr-2 h-5 w-5"})," Cancel"]}),h.jsx(kc.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},disabled:E,className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed",children:E?h.jsxs(h.Fragment,{children:[h.jsx(Ad,{className:"animate-spin mr-2 h-5 w-5"}),"Updating..."]}):h.jsxs(h.Fragment,{children:[h.jsx(du,{className:"mr-2 h-5 w-5"})," Update Work Order"]})})]})]})]})]})]}),h.jsx(ote,{isOpen:H,onClose:le,title:"Success!",children:h.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[h.jsx(td,{className:"text-green-500 text-6xl mb-4"}),h.jsx("p",{className:"text-lg font-medium text-gray-800 text-center mb-2",children:null==R?void 0:R.message}),h.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Work Order Number: ",null==(n=null==R?void 0:R.work_order)?void 0:n.work_order_no]}),h.jsx(kc.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:le,className:"mt-6 px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold",children:"Go to Work Orders"})]})})]})},cte=({title:e,value:t,change:n,icon:r})=>{const a=n.startsWith("+");return h.jsxs(kc.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[h.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:e}),h.jsx("p",{className:"text-3xl font-bold text-gray-900",children:t})]}),h.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:r})]}),h.jsxs("p",{className:"mt-3 text-xs font-semibold "+(a?"text-green-600":"text-red-600"),children:[n," from last month"]})]})},dte=()=>{const[e,t]=x.useState(!1),[r,a]=x.useState(!1),[i,s]=x.useState(""),[o,l]=x.useState("all"),[c,d]=x.useState(!1),[u,p]=x.useState(!1),[m,f]=x.useState(null),[g,b]=x.useState(1),[y]=x.useState(5),[v,w]=x.useState(window.innerWidth<768),[j,N]=x.useState(!1),[k,S]=x.useState(!1),[C,_]=x.useState([]),[A,T]=x.useState(!0),[O,E]=x.useState(null),[M,P]=x.useState(!1),[D,L]=x.useState(null),[I,R]=x.useState(!1),[F,H]=x.useState(""),z=n(),B=je(),W=ye(),$=x.useRef(null),U=x.useRef(null),{user:V,getWorkOrdersIT:q,updateWorkOrderIT:G,hasPermission:Y}=gt(),K="/workorders/it/assignment"===W.pathname,J="/workorders/it/reports"===W.pathname,X="/workorders/it/knowledgebase"===W.pathname,Q="/workorders/it"===W.pathname,Z="/workorders/it/receiver"===W.pathname;W.pathname;const ee=({order:e,onClose:t})=>{var n,r,a,i,s,o,l,c,d,u;const p=e=>null==e?"-":"object"==typeof e&&null!==e?e.name||e.title||e.id||"-":"string"==typeof e?""!==e.trim()?e.trim():"-":"number"==typeof e?e.toString():String(e),m=e=>e?new Date(e).toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-",f=({status:e})=>{const t={New:"bg-gray-100 text-gray-800 border-gray-300",Assigned:"bg-blue-100 text-blue-800 border-blue-300","In Progress":"bg-cyan-100 text-cyan-800 border-cyan-300",Escalated:"bg-purple-100 text-purple-800 border-purple-300","Vendor Handled":"bg-red-100 text-red-800 border-red-300",Resolved:"bg-orange-100 text-orange-800 border-orange-300",Cancel:"bg-gray-100 text-gray-800 border-gray-300",Closed:"bg-green-100 text-green-800 border-green-300"};return h.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold border ${t[e]||t.New}`,children:e})},g=({priority:e})=>{const t={Critical:"bg-purple-100 text-purple-800 border-purple-300",High:"bg-red-100 text-red-800 border-red-300",Medium:"bg-yellow-100 text-yellow-800 border-yellow-300",Low:"bg-green-100 text-green-800 border-green-300"};return h.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold border ${t[e]||t.Medium}`,children:e||"Medium"})},x=({title:e,children:t,icon:n})=>h.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[h.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-4 border-b border-gray-200",children:h.jsxs("div",{className:"flex items-center",children:[n&&h.jsx("div",{className:"mr-3 text-blue-600",children:n}),h.jsx("h3",{className:"text-lg font-bold text-gray-900",children:e})]})}),h.jsx("div",{className:"p-6",children:t})]}),b=({label:e,value:t,icon:n,fullWidth:r=!1,priority:a="medium"})=>h.jsx("div",{className:r?"col-span-full":"",children:h.jsx("div",{className:`p-4 rounded-lg ${{high:"border-l-4 border-l-blue-500 bg-blue-25",medium:"border-l-2 border-l-gray-200",low:"border-l border-l-gray-100"}[a]} transition-all duration-200 hover:shadow-sm`,children:h.jsxs("div",{className:"flex items-start space-x-3",children:[n&&h.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:n}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1",children:e}),h.jsx("p",{className:"text-sm font-medium text-gray-900 leading-relaxed",children:t})]})]})})}),y=({label:e,htmlContent:t,icon:n,fullWidth:r=!1})=>{if(!t)return h.jsx(b,{label:e,value:"-",icon:n,fullWidth:r,priority:"low"});const a=iy.sanitize(t,{ALLOWED_TAGS:["h1","h2","h3","h4","h5","h6","p","br","span","div","ol","ul","li","strong","b","em","i","u","s","strike","code","mark","sub","sup","blockquote","pre"],ALLOWED_ATTR:["style","class","data-color","align","type","start"]});return h.jsx("div",{className:r?"col-span-full":"",children:h.jsx("div",{className:"p-4 rounded-lg border-l-2 border-l-blue-200 bg-blue-25 transition-all duration-200 hover:shadow-sm",children:h.jsxs("div",{className:"flex items-start space-x-3",children:[n&&h.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:n}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:e}),h.jsx("div",{className:"rich-text-content text-sm text-gray-900 leading-relaxed prose prose-sm max-w-none\r\n                          prose-headings:font-semibold prose-p:my-2 prose-ul:my-2 prose-ol:my-2\r\n                          prose-li:my-1 prose-strong:font-semibold prose-em:italic",dangerouslySetInnerHTML:{__html:a}})]})]})})})},v=({order:e})=>{const n=!["Resolved","Cancel","Closed"].includes(e.handling_status)&&e.assigned_to_id===Number(null==V?void 0:V.id);return h.jsxs("div",{className:"flex flex-wrap gap-3 mt-6 pt-6 border-t border-gray-200",children:[n&&h.jsxs(kc.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>B(`/workorders/it/assignment/editassignment/${e.id}`),className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors duration-200 font-semibold text-sm",children:[h.jsx(gu,{className:"w-4 h-4 mr-2"}),"Update Progress"]}),h.jsxs(kc.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:t,className:"inline-flex items-center px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500 transition-colors duration-200 font-semibold text-sm",children:[h.jsx(Pu,{className:"w-4 h-4 mr-2"}),"Close"]})]})};return h.jsxs("div",{className:"space-y-6 max-h-[70vh] overflow-y-auto custom-scrollbar pr-2",children:[h.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6",children:h.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[h.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:["#",e.work_order_no||e.id]}),h.jsx(f,{status:e.handling_status}),h.jsx(g,{priority:null==(n=e.service)?void 0:n.priority})]}),h.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[h.jsxs("span",{className:"flex items-center gap-2",children:[h.jsx(Vc,{className:"w-4 h-4"}),"Created: ",m(e.date)]}),h.jsxs("span",{className:"flex items-center gap-2",children:[h.jsx(id,{className:"w-4 h-4"}),e.handling_date?`Assigned: ${m(e.handling_date)}`:"Not yet assigned"]})]})]})})}),h.jsx(x,{title:"My Assignment Details",icon:h.jsx(Tu,{className:"w-5 h-5"}),children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsx(b,{label:"Assigned To",value:p((null==(r=e.assigned_to)?void 0:r.name)||(null==V?void 0:V.name)),icon:h.jsx(Tu,{className:"w-4 h-4"}),priority:"high"}),h.jsx(b,{label:"Assignment Type",value:e.vendor?"Vendor":"Internal Technician",icon:h.jsx(hu,{className:"w-4 h-4"})}),h.jsx(b,{label:"Current Status",value:p(e.handling_status),icon:h.jsx(id,{className:"w-4 h-4"}),priority:"high"}),h.jsx(b,{label:"Priority Level",value:p((null==(a=e.service)?void 0:a.priority)||"Medium"),icon:h.jsx(ju,{className:"w-4 h-4"}),priority:"high"})]})}),h.jsx(x,{title:"Service & Technical Information",icon:h.jsx(Mu,{className:"w-5 h-5"}),children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsx(b,{label:"Service Type",value:p(null==(i=e.service_type)?void 0:i.group_name),icon:h.jsx(hu,{className:"w-4 h-4"})}),h.jsx(b,{label:"Service Name",value:p(null==(s=e.service)?void 0:s.service_name),icon:h.jsx(ad,{className:"w-4 h-4"})}),h.jsx(b,{label:"Service Owner",value:p(null==(l=null==(o=e.service)?void 0:o.owner)?void 0:l.name),icon:h.jsx(Tu,{className:"w-4 h-4"})}),h.jsx(b,{label:"Asset Number",value:p(e.asset_no),icon:h.jsx(ad,{className:"w-4 h-4"})})]})}),h.jsx(x,{title:"Request Information",icon:h.jsx(ad,{className:"w-5 h-5"}),children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[h.jsx(b,{label:"Requester",value:p(null==(c=e.requester)?void 0:c.name),icon:h.jsx(Tu,{className:"w-4 h-4"})}),h.jsx(b,{label:"Requester Department",value:p(e.department_name||(null==(d=e.department)?void 0:d.name)),icon:h.jsx(hu,{className:"w-4 h-4"})}),h.jsx(b,{label:"Reception Method",value:p(e.reception_method),icon:h.jsx(Su,{className:"w-4 h-4"})}),h.jsx(b,{label:"Known By",value:p(null==(u=e.known_by)?void 0:u.name),icon:h.jsx(md,{className:"w-4 h-4"})})]})}),h.jsx(x,{title:"Problem Details",icon:h.jsx(ju,{className:"w-5 h-5"}),children:h.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[h.jsx(b,{label:"Device Information",value:p(e.device_info),icon:h.jsx(hu,{className:"w-4 h-4"}),fullWidth:!0}),h.jsx(y,{label:"Complaint Description",htmlContent:e.complaint||"",icon:h.jsx(ju,{className:"w-4 h-4"}),fullWidth:!0})]})}),h.jsx(x,{title:"Progress & Actions",icon:h.jsx(id,{className:"w-5 h-5"}),children:h.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[h.jsx(y,{label:"Action Taken",htmlContent:e.action_taken||"No actions recorded yet",icon:h.jsx(Mu,{className:"w-4 h-4"}),fullWidth:!0}),h.jsx(y,{label:"Technical Notes & Remarks",htmlContent:e.remarks||"No remarks yet",icon:h.jsx(ad,{className:"w-4 h-4"}),fullWidth:!0})]})}),e.vendor&&h.jsx(x,{title:"Vendor Information",icon:h.jsx(Tu,{className:"w-5 h-5"}),children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[h.jsx(b,{label:"Vendor Name",value:p(e.vendor.name),icon:h.jsx(Tu,{className:"w-4 h-4"}),priority:"high"}),h.jsx(b,{label:"Contact Person",value:p(e.vendor.contact_person),icon:h.jsx(Tu,{className:"w-4 h-4"})}),h.jsx(b,{label:"Email",value:p(e.vendor.email),icon:h.jsx(Vd,{className:"w-4 h-4"})}),h.jsx(b,{label:"Phone",value:p(e.vendor.telp),icon:h.jsx(eu,{className:"w-4 h-4"})}),h.jsx(b,{label:"Mobile",value:p(e.vendor.HP),icon:h.jsx(eu,{className:"w-4 h-4"})}),h.jsx(b,{label:"Address",value:p(e.vendor.address),icon:h.jsx(qd,{className:"w-4 h-4"}),fullWidth:!0})]})}),h.jsx(x,{title:"Timeline & Status History",icon:h.jsx(id,{className:"w-5 h-5"}),children:h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-lg border border-green-200",children:[h.jsx("span",{className:"text-sm font-medium text-green-800",children:"Request Created"}),h.jsx("span",{className:"text-sm text-green-600",children:m(e.date)})]}),e.handling_date&&h.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg border border-blue-200",children:[h.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Assigned to You"}),h.jsx("span",{className:"text-sm text-blue-600",children:m(e.handling_date)})]}),e.action_taken&&h.jsxs("div",{className:"flex justify-between items-center p-3 bg-purple-50 rounded-lg border border-purple-200",children:[h.jsx("span",{className:"text-sm font-medium text-purple-800",children:"Work Started"}),h.jsx("span",{className:"text-sm text-purple-600",children:"In Progress"})]}),["Resolved","Closed"].includes(e.handling_status)&&h.jsxs("div",{className:"flex justify-between items-center p-3 bg-orange-50 rounded-lg border border-orange-200",children:[h.jsx("span",{className:"text-sm font-medium text-orange-800",children:"Work Completed"}),h.jsx("span",{className:"text-sm text-orange-600",children:e.handling_status})]})]})}),!["Resolved","Closed","Cancel"].includes(e.handling_status)&&h.jsx(x,{title:"Next Steps",icon:h.jsx(td,{className:"w-5 h-5"}),children:h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-blue-25 rounded-lg border border-blue-200",children:[h.jsx(td,{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"Update Progress"}),h.jsx("p",{className:"text-sm text-gray-600",children:"Click 'Update Progress' to record your work and update the status"})]})]}),"Assigned"===e.handling_status&&h.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-yellow-25 rounded-lg border border-yellow-200",children:[h.jsx(id,{className:"w-5 h-5 text-yellow-600 mt-0.5 flex-shrink-0"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"Start Working"}),h.jsx("p",{className:"text-sm text-gray-600",children:"Change status to 'In Progress' when you begin working on this task"})]})]}),"In Progress"===e.handling_status&&h.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-green-25 rounded-lg border border-green-200",children:[h.jsx(Mu,{className:"w-5 h-5 text-green-600 mt-0.5 flex-shrink-0"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"Complete Work"}),h.jsx("p",{className:"text-sm text-gray-600",children:"Change status to 'Resolved' when the work is completed"})]})]})]})}),e.attachment&&h.jsx(x,{title:"Attachment",icon:h.jsx(Zd,{className:"w-5 h-5"}),children:h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[h.jsx("p",{className:"text-sm font-medium text-gray-700 mb-3",children:"Preview Attachment:"}),h.jsx("div",{className:"flex justify-center",children:h.jsx("img",{src:`${z.envVariables.VITE_BACKEND_API_URL}$ {order.attachment}`,alt:"Work order attachment",className:"max-w-full max-h-64 rounded-lg shadow-md object-contain",onError:e=>{e.currentTarget.style.display="none"}})})]}),h.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-25 rounded-lg border-l-4 border-l-blue-400",children:[h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx(Zd,{className:"w-5 h-5 text-blue-600 flex-shrink-0"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Attachment File"}),h.jsx("p",{className:"text-xs text-gray-500",children:"Click to download or view full size"})]})]}),h.jsxs("a",{href:`${z.envVariables.VITE_BACKEND_API_URL}${e.attachment}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200 text-sm font-medium",children:[h.jsx(pd,{className:"w-4 h-4 mr-1"}),"Open Full Size"]})]})]})}),h.jsx(v,{order:e})]})},te=x.useCallback(async()=>{T(!0),E(null);try{const e=(await q()).filter(e=>e.assigned_to_id===Number(null==V?void 0:V.id));_(e)}catch(e){E(e.message||"Failed to load work orders.")}finally{T(!1)}},[q,null==V?void 0:V.id]),ne=x.useCallback(async(e,t)=>{P(!0),L(null),R(!1);try{const n=await G({...t,id:e});return _(t=>t.map(t=>t.id===e?n:t)),R(!0),setTimeout(()=>R(!1),3e3),n}catch(n){throw L(n.message||"Failed to update work order."),n}finally{P(!1)}},[G]),re=()=>{w(window.innerWidth<768),window.innerWidth<768&&a(!1)},ae=e=>{$.current&&!$.current.contains(e.target)&&N(!1),U.current&&!U.current.contains(e.target)&&S(!1)};x.useEffect(()=>(window.addEventListener("resize",re),document.addEventListener("mousedown",ae),te(),()=>{window.removeEventListener("resize",re),document.removeEventListener("mousedown",ae)}),[te]);const ie=e=>{switch(e){case"New":default:return"bg-gray-500 text-white";case"Assigned":return"bg-blue-600 text-white";case"In Progress":return"bg-cyan-500 text-white";case"Escalated":return"bg-purple-500 text-white";case"Vendor Handled":case"Cancel":return"bg-red-500 text-white";case"Resolved":return"bg-orange-500 text-white";case"Closed":return"bg-gray-900 text-white"}},se=e=>{switch(null==e?void 0:e.toLowerCase()){case"high":return"bg-red-500 text-white";case"medium":return"bg-yellow-500 text-white";case"low":return"bg-green-500 text-white";case"critical":return"bg-purple-500 text-white";default:return"bg-gray-500 text-white"}},oe=e=>{switch(e){case"Assigned":return 1;case"In Progress":return 2;case"Escalated":return 3;case"Vendor Handled":return 4;case"Resolved":return 5;case"Cancel":return 6;case"Closed":return 7;default:return 8}},le=e=>{switch(null==e?void 0:e.toLowerCase()){case"critical":return 1;case"high":return 2;case"medium":return 3;case"low":return 4;default:return 5}},ce=x.useCallback(e=>{const t=C.find(t=>t.id===e);t&&(f(t),p(!0))},[C]);x.useCallback(async e=>{if(F.trim())try{await ne(e,{assigned_to_name:F.trim(),handling_status:"Vendor Handled",handling_date:(new Date).toISOString()}),H(""),R(!0)}catch(t){}else L("Vendor name is required")},[ne,F]),x.useCallback(async(e,t)=>{try{await ne(e,{handling_status:t,handling_date:(new Date).toISOString()})}catch(n){}},[ne]);const de=C.filter(e=>{var t,n,r,a;const s=(null==(n=null==(t=e.requester)?void 0:t.name)?void 0:n.toLowerCase().includes(i.toLowerCase()))||(null==(r=e.work_order_no)?void 0:r.toLowerCase().includes(i.toLowerCase()))||(null==(a=e.complaint)?void 0:a.toLowerCase().includes(i.toLowerCase()))||String(e.id).includes(i),l="all"===o||e.handling_status===o;return s&&l}).sort((e,t)=>{var n,r;const a=oe(e.handling_status),i=oe(t.handling_status);if(a!==i)return a-i;const s=le(null==(n=e.service)?void 0:n.priority),o=le(null==(r=t.service)?void 0:r.priority);return s!==o?s-o:new Date(t.created_at).getTime()-new Date(e.created_at).getTime()}),ue=g*y,he=ue-y,pe=de.slice(he,ue),me=Math.ceil(de.length/y),fe=e=>b(e);return x.useEffect(()=>{b(1),document.documentElement.classList.toggle("dark",e)},[i,o,e]),A?h.jsxs("div",{className:"flex h-screen items-center justify-center bg-blue-50",children:[h.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-blue-600"}),h.jsx("p",{className:"ml-4 text-lg text-gray-700",children:"Loading work orders..."})]}):O?h.jsxs("div",{className:"flex h-screen items-center justify-center bg-red-50",children:[h.jsx(ju,{className:"text-red-600 text-5xl"}),h.jsxs("div",{className:"ml-4",children:[h.jsx("p",{className:"text-lg text-red-800",children:O}),h.jsx("button",{onClick:te,className:"mt-4 px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Try Again"})]})]}):h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[h.jsx(Lu,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Fu,{mainTitle:"IT Work Orders - Assigments",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:h.jsx(ad,{}),isMobile:v,toggleSidebar:()=>{a(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[h.jsxs(kc.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"isi style mb-6 flex space-x-6 border-b border-gray-200",children:[h.jsx(kc.div,{whileTap:{scale:.98},onClick:()=>B("/workorders/it"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${Q?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Request"}),h.jsx(kc.div,{whileTap:{scale:.98},onClick:()=>B("/workorders/it/receiver"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${Z?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Receiver"}),h.jsx(kc.div,{whileTap:{scale:.98},onClick:()=>B("/workorders/it/assignment"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${K?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Assignment"}),h.jsx(kc.div,{whileTap:{scale:.98},onClick:()=>B("/workorders/it/reports"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${J?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Reports"}),h.jsx(kc.div,{whileTap:{scale:.98},onClick:()=>B("/workorders/it/knowledgebase"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${X?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Knowledge Base"})]}),D&&h.jsxs(kc.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",children:[h.jsx("span",{className:"block sm:inline",children:D}),h.jsx("button",{onClick:()=>L(null),className:"absolute top-0 right-0 p-3",children:h.jsx(Pu,{size:16})})]}),I&&h.jsxs(kc.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-4 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative",children:[h.jsx("span",{className:"block sm:inline",children:"Work order updated successfully!"}),h.jsx("button",{onClick:()=>R(!1),className:"absolute top-0 right-0 p-3",children:h.jsx(Pu,{size:16})})]}),h.jsx(kc.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"IT Assignment"}),h.jsx("p",{className:"text-gray-600 mt-1",children:"Manage assigned IT work orders as a technician/vendor"})]})}),h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[h.jsx(cte,{title:"Total Assignments",value:de.length.toString(),change:"+8%",icon:h.jsx(ad,{})}),h.jsx(cte,{title:"In Progress",value:de.filter(e=>"In Progress"===e.handling_status).length.toString(),change:"-1",icon:h.jsx(Mu,{})}),h.jsx(cte,{title:"Resolved",value:de.filter(e=>"Resolved"===e.handling_status).length.toString(),change:"+1",icon:h.jsx(td,{})}),h.jsx(cte,{title:"Vendor Handled",value:de.filter(e=>"Vendor Handled"===e.handling_status).length.toString(),change:"+3",icon:h.jsx(id,{})})]}),h.jsx(kc.div,{layout:!0,className:"mb-6 bg-white rounded-2xl shadow-md p-4 md:p-6 border border-blue-50",children:h.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0",children:[h.jsxs("div",{className:"flex-1 relative",children:[h.jsx(uu,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),h.jsx("input",{type:"text",placeholder:"Search assignments...",className:"w-full pl-12 pr-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base transition-all duration-200",value:i,onChange:e=>s(e.target.value)})]}),h.jsx(Mi,{children:c&&h.jsx(kc.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3 w-full md:w-auto",children:h.jsxs("select",{className:"border border-gray-200 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base appearance-none bg-no-repeat bg-right-12 bg-center-y transition-all duration-200",style:{backgroundImage:"url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='currentColor'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/svg%3E\")",backgroundSize:"1.2rem"},value:o,onChange:e=>l(e.target.value),children:[h.jsx("option",{value:"all",children:"All Statuses"}),h.jsx("option",{value:"Assigned",children:"Assigned"}),h.jsx("option",{value:"In Progress",children:"In Progress"}),h.jsx("option",{value:"Escalated",children:"Escalated"}),h.jsx("option",{value:"Vendor Handled",children:"Vendor Handled"}),h.jsx("option",{value:"Resolved",children:"Resolved"}),h.jsx("option",{value:"Cancel",children:"Cancel"}),h.jsx("option",{value:"Closed",children:"Closed"})]})})})]})}),h.jsx(kc.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-50",children:h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"min-w-full divide-y divide-gray-100",children:[h.jsx("thead",{className:"bg-blue-50",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),h.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Requester"}),h.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Date"}),h.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Handling Date"}),h.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Priority"}),h.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Ticket Status"}),h.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Assigned To"}),h.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),h.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:pe.length>0?pe.map(e=>{var t,n;e.handling_status,["Resolved","Cancel","Closed"].includes(e.handling_status),e.handling_status;const r=(e=>{var t;return e.vendor?`${e.vendor.name}`:(null==(t=e.assigned_to)?void 0:t.name)||"Unassigned"})(e),a=(e=>e.vendor?"vendor":e.assigned_to?"user":"unassigned")(e);return h.jsxs(kc.tr,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.2},whileHover:{backgroundColor:"rgba(239, 246, 255, 1)"},className:"transition-colors duration-150",children:[h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 cursor-pointer hover:text-blue-600 hover:underline transition-colors duration-200",onClick:()=>ce(e.id),title:"Click to view details",children:e.work_order_no||"-"}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.requester.name}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:new Date(e.date).toLocaleDateString()}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:e.handling_date?new Date(e.handling_date).toLocaleDateString():"-"}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-bold rounded-full ${se(null==(t=e.service)?void 0:t.priority)} shadow-sm`,children:(null==(n=e.service)?void 0:n.priority)||"Medium"})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-bold rounded-full ${ie(e.handling_status)} shadow-sm`,children:e.handling_status})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx("span",{className:"text-sm font-medium "+("vendor"===a?"text-purple-600":"user"===a?"text-blue-600":"text-gray-500"),children:r}),"vendor"===a&&h.jsx("span",{className:"ml-2 px-1.5 py-0.5 text-xs bg-purple-100 text-purple-800 rounded-full",children:"Vendor"})]})}),h.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium flex items-center space-x-2",children:[h.jsx(kc.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>ce(e.id),className:"text-blue-600 hover:text-blue-800 transition-colors duration-200 flex items-center space-x-1",title:"View Details",children:h.jsx(md,{className:"text-lg"})}),h.jsx(kc.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>B(`/workorders/it/assignment/editassignment/${e.id}`),className:"text-gray-600 hover:text-gray-800 transition-colors duration-200 flex items-center space-x-1",title:"Edit Assignment",children:h.jsx(gu,{className:"text-lg"})})]})]},e.id)}):h.jsx("tr",{children:h.jsx("td",{colSpan:6,className:"px-6 py-10 text-center text-gray-600 text-lg",children:"No IT assignments found matching your criteria."})})})]})})}),de.length>y&&h.jsxs(kc.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"mt-8 flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[h.jsxs("div",{className:"text-sm text-gray-600 mb-4 sm:mb-0",children:["Showing ",h.jsx("span",{className:"font-semibold",children:he+1})," to ",h.jsx("span",{className:"font-semibold",children:Math.min(ue,de.length)})," of"," ",h.jsx("span",{className:"font-semibold",children:de.length})," results"]}),h.jsxs("div",{className:"flex space-x-2",children:[h.jsx(kc.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>fe(g-1),disabled:1===g,className:"px-4 py-2 border border-gray-200 rounded-lg bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm",children:"Previous"}),Array.from({length:me},(e,t)=>h.jsx(kc.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>fe(t+1),className:`px-4 py-2 rounded-lg transition-colors duration-200 shadow-sm\n                          ${g===t+1?"bg-blue-600 text-white shadow-md":"bg-white text-gray-700 hover:bg-blue-50 border border-gray-200"}\n                        `,children:t+1},t+1)),h.jsx(kc.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>fe(g+1),disabled:g===me,className:"px-4 py-2 border border-gray-200 rounded-lg bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm",children:"Next"})]})]})]})]}),m&&h.jsx(kc.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:h.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 p-4 overflow-y-auto",children:h.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl mx-auto p-6 border border-blue-100",children:[h.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[h.jsxs("h3",{className:"text-2xl font-bold text-gray-900",children:["Work Order Details #",m.work_order_no||m.id]}),h.jsx(kc.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{p(!1),f(null)},className:"text-gray-500 hover:text-gray-700 text-2xl",children:h.jsx(Pu,{size:24})})]}),h.jsx("div",{className:"overflow-y-auto max-h-[70vh]",children:h.jsx(ee,{order:m,onClose:()=>{p(!1),f(null)}})})]})})})]})},ute=({isOpen:e,onClose:t,title:n,children:r})=>e?h.jsx(kc.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:h.jsxs(kc.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[h.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[h.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n}),h.jsx(kc.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:t,className:"text-gray-500 hover:text-gray-700 text-2xl",children:h.jsx(Pu,{size:24})})]}),h.jsx("div",{children:r})]})}):null,hte=()=>{var e,t,n;const{updateWorkOrderIT:r,user:a,getUsers:i,getServices:s,getDepartment:o,getServiceGroups:l,getWorkOrderById:c,getVendor:d}=gt(),u=je(),{id:p}=ke(),[m,f]=x.useState([]),[g,b]=x.useState([]),[y,v]=x.useState([]),[w,j]=x.useState(window.innerWidth<768),[N,k]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return!!e&&JSON.parse(e)}),[S,C]=x.useState(!1),[_,A]=x.useState(!1),[T,O]=x.useState(!1),[E,M]=x.useState(!1),[P,D]=x.useState(!0),[L,I]=x.useState(null),[R,F]=x.useState(null),[H,z]=x.useState(!1),B=x.useRef(null),W=x.useRef(null),[$,U]=x.useState([]),[V,q]=x.useState([]),[G,Y]=x.useState(!1),[K,J]=x.useState([]),[X,Q]=x.useState(!1),[Z,ee]=x.useState(null),[te,ne]=x.useState(!1),re=({content:e,className:t=""})=>{if(!e)return h.jsx("div",{className:`p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700 ${t}`,children:h.jsx("span",{children:"-"})});const n=iy.sanitize(e,{ALLOWED_TAGS:["h1","h2","h3","h4","h5","h6","p","br","span","div","ol","ul","li","strong","b","em","i","u","s","strike","code","mark","sub","sup","blockquote","table","thead","tbody","tr","th","td"],ALLOWED_ATTR:["style","class","align","type","start","colspan","rowspan"]});return h.jsx("div",{className:`rich-text-content p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700 ${t}`,dangerouslySetInnerHTML:{__html:n}})},ae={date:(new Date).toISOString().split("T")[0],reception_method:"Electronic Work Order System",requester_id:(null==a?void 0:a.id)?parseInt(a.id):0,known_by_id:(null==(e=null==a?void 0:a.department)?void 0:e.head_id)||null,department_id:(null==a?void 0:a.department_id)||0,service_group_id:null,service_catalogue_id:null,asset_no:"",device_info:"",complaint:"",attachment:null,received_by_id:null,handling_date:null,action_taken:null,handling_status:"New",remarks:null,assigned_to_id:null,vendor_id:null},[ie,se]=x.useState(ae);x.useEffect(()=>{const e="New"!==ie.handling_status,t="Vendor Handled"===ie.handling_status;Y(e),Q(t),!t&&ie.vendor_id&&(se(e=>({...e,vendor_id:null})),ee(null),ne(!1))},[ie.handling_status]),x.useEffect(()=>{K.length>0&&(async()=>{if(p)try{D(!0);const e=await c(parseInt(p));if(se({id:e.id,date:e.date.split("T")[0],reception_method:e.reception_method,requester_id:e.requester_id,known_by_id:e.known_by_id,department_id:e.department_id,service_group_id:e.service_group_id,service_catalogue_id:e.service_catalogue_id,asset_no:e.asset_no,device_info:e.device_info,complaint:e.complaint,attachment:e.attachment,received_by_id:e.received_by_id,handling_date:e.handling_date?e.handling_date.split("T")[0]:null,action_taken:e.action_taken,handling_status:e.handling_status,remarks:e.remarks,assigned_to_id:e.assigned_to_id,vendor_id:e.vendor_id||null}),e.vendor_id&&K.length>0){const t=K.find(t=>t.id===e.vendor_id);t&&ee(t)}}catch(e){I(e.message||"Gagal memuat data work order. Silakan coba lagi.")}finally{D(!1)}})()},[p,c,K]),x.useEffect(()=>{a&&(async()=>{try{const e=await d();J(e);const t=(await l(0)).map(e=>{var t,n;return{id:Number(e.id),name:null!=(t=e.group_name)?t:"",description:null!=(n=e.group_description)?n:void 0}});q(t);const n=await o();b(n);const r=await i();if(f(r),a&&a.id){const e=await s(parseInt(a.id));v(e)}}catch(e){}})()},[a,i,s,o,l,d]),x.useEffect(()=>{const e=()=>{j(window.innerWidth<768),window.innerWidth<768&&k(!1)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),x.useEffect(()=>{const e=e=>{B.current&&!B.current.contains(e.target)&&A(!1),W.current&&!W.current.contains(e.target)&&O(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),x.useEffect(()=>{if(ie.service_group_id&&y.length>0){const e=y.filter(e=>e.service_group.id===ie.service_group_id);U(e)}else U([])},[ie.service_group_id,y]),x.useEffect(()=>{document.documentElement.classList.toggle("dark",S),localStorage.setItem("sidebarOpen",JSON.stringify(N))},[N,S]);const oe=x.useCallback((e,t)=>{let n,r;if(e&&"target"in e)n=e.target.name,r=e.target.value;else if(e&&"object"==typeof e&&"value"in e&&t)n=t,r="assigned_to_id"===t||"requester_id"===t||"known_by_id"===t?e.value?parseInt(e.value):null:e.value;else{if(null!==e||!t)return;n=t,r=null}se(e=>({...e,[n]:r}))},[]),le=x.useCallback(()=>{z(!1),u("/workorders/it/assignment")},[u]),ce={control:(e,t)=>({...e,minHeight:"42px",borderColor:t.isFocused?"#3B82F6":"#D1D5DB",boxShadow:t.isFocused?"0 0 0 1px #3B82F6":"none","&:hover":{borderColor:"#9CA3AF"},borderRadius:"0.5rem",backgroundColor:"#FFFFFF",padding:"0 0.5rem",transition:"all 0.15s ease-in-out"}),valueContainer:e=>({...e,padding:"0"}),singleValue:e=>({...e,color:"#374151"}),placeholder:e=>({...e,color:"#6B7280"}),dropdownIndicator:e=>({...e,color:"#9CA3AF","&:hover":{color:"#6B7280"}}),indicatorSeparator:e=>({...e,display:"none"}),menu:e=>({...e,zIndex:9999,borderRadius:"0.5rem",border:"1px solid #E5E7EB",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"}),option:(e,t)=>({...e,backgroundColor:t.isFocused?"#EFF6FF":"#FFFFFF",color:"#1F2937","&:active":{backgroundColor:"#DBEAFE"},padding:"0.625rem 1rem"})};return P?h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Lu,{}),h.jsx("div",{className:"flex-1 flex flex-col overflow-hidden",children:h.jsx("div",{className:"flex items-center justify-center h-full",children:h.jsxs("div",{className:"text-center",children:[h.jsx(Ad,{className:"animate-spin h-12 w-12 text-blue-600 mx-auto mb-4"}),h.jsx("p",{className:"text-gray-600",children:"Memuat data work order..."})]})})})]}):h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Lu,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Fu,{mainTitle:"Edit Assignment",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:h.jsx(ad,{}),isMobile:w,toggleSidebar:()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!N)),k(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[h.jsxs(kc.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Update Work Order"}),h.jsx("p",{className:"text-gray-600 mt-1",children:"Perbarui status dan penanganan work order"})]}),h.jsxs(kc.button,{onClick:()=>u("/workorders/it/assignment"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[h.jsx(Xc,{className:"text-lg"})," Back to Assignment"]})]}),h.jsxs(kc.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[L&&h.jsxs(kc.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[h.jsx("strong",{className:"font-bold",children:"Error!"}),h.jsx("span",{className:"block sm:inline ml-2",children:L}),h.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:h.jsx(Pu,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>I(null)})})]}),h.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),M(!0),I(null),ie.handling_status&&["In Progress","Escalated","Vendor Handled","Resolved"].includes(ie.handling_status)&&!ie.assigned_to_id)return I("Assigned To is required for this status"),void M(!1);if("Vendor Handled"===ie.handling_status&&!ie.vendor_id)return I("Vendor selection is required for Vendor Handled status"),void M(!1);if(!ie.handling_status)return I("Handling status is required"),void M(!1);if(!ie.handling_date)return I("Handling date is required"),void M(!1);if(!ie.action_taken||ie.action_taken.length<5)return I("Action taken must be at least 5 characters"),void M(!1);const t={...ie,id:ie.id,received_by_id:(null==a?void 0:a.id)?parseInt(a.id):null,handling_date:ie.handling_date,action_taken:ie.action_taken,handling_status:ie.handling_status,remarks:ie.remarks,assigned_to_id:ie.assigned_to_id?parseInt(ie.assigned_to_id):null,vendor_id:ie.vendor_id};try{await r(t),F({message:"Work Order berhasil diperbarui!",work_order:{work_order_no:`WO-IT-${ie.id}`}}),z(!0)}catch(n){I(n.message||"Gagal memperbarui work order. Silakan coba lagi.")}finally{M(!1)}},className:"space-y-6",children:[h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[h.jsx(id,{className:"mr-2 text-blue-500"})," General Information"]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),h.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:h.jsx("span",{children:ie.date})})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reception Method"}),h.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:h.jsx("span",{children:ie.reception_method})})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Requester"}),h.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:h.jsx("span",{children:(()=>{const e=m.find(e=>parseInt(e.id)===ie.requester_id);return(null==e?void 0:e.name)||"Unknown"})()})})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department"}),h.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:h.jsx("span",{children:(()=>{const e=g.find(e=>e.id===ie.department_id);return(null==e?void 0:e.name)||"No department assigned"})()})})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Known By (Head)"}),h.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:h.jsx("span",{children:(()=>{const e=g.find(e=>e.id===ie.department_id);if(e&&e.head_id){const t=m.find(t=>parseInt(t.id)===e.head_id);return(null==t?void 0:t.name)||"No department head assigned"}return"No department head assigned"})()})})]})]})]}),h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[h.jsx(yu,{className:"mr-2 text-green-500"})," Service Details"]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Service Type"}),h.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:h.jsx("span",{children:(()=>{const e=V.find(e=>e.id===ie.service_group_id);return(null==e?void 0:e.name)||"Unknown"})()})})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Service"}),h.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:h.jsx("span",{children:(()=>{const e=y.find(e=>e.id===ie.service_catalogue_id);return(null==e?void 0:e.service_name)||"Unknown"})()})})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"No. Asset"}),h.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:h.jsx("span",{children:ie.asset_no})})]})]})]}),h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[h.jsx(zd,{className:"mr-2 text-purple-500"})," Device & Complaint Details"]}),h.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Device Information"}),h.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:h.jsx("span",{children:ie.device_info})})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Complaint"}),h.jsx(re,{content:ie.complaint,className:"min-h-[100px]"})]})]})]}),ie.attachment&&h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[h.jsx(Zd,{className:"mr-2 text-gray-500"})," Attachment"]}),h.jsxs("div",{className:"flex items-center justify-between p-2.5 border border-gray-300 rounded-lg bg-gray-50",children:[h.jsx("span",{className:"text-gray-700",children:(()=>{if(!ie.attachment)return null;try{const e=new URL(ie.attachment).pathname;return e.substring(e.lastIndexOf("/")+1)}catch(Ew){return ie.attachment}})()}),h.jsx(kc.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ie.attachment&&window.open(ie.attachment,"_blank")},className:"ml-4 px-3 py-1 bg-blue-600 text-white text-sm rounded-md hover:bg-blue-700 transition-colors",children:"View"})]})]}),h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[h.jsx(td,{className:"mr-2 text-blue-500"})," Handling Information"]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"received_by_id",className:"block text-sm font-medium text-gray-700 mb-1",children:"Received By"}),h.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-blue-50 text-gray-700",children:h.jsx("span",{children:(null==a?void 0:a.name)||"Current User"})})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"handling_date",className:"block text-sm font-medium text-gray-700 mb-1",children:["Handling Date ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"date",id:"handling_date",name:"handling_date",value:ie.handling_date||"",onChange:oe,required:!0,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700"})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"handling_status",className:"block text-sm font-medium text-gray-700 mb-1",children:["Ticket Status ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx(rN,{id:"handling_status",name:"handling_status",options:[{value:"New",label:"New"},{value:"In Progress",label:"In Progress"},{value:"Escalated",label:"Escalated"},{value:"Vendor Handled",label:"Vendor Handled"},{value:"Resolved",label:"Resolved"}],value:ie.handling_status?{value:ie.handling_status,label:ie.handling_status}:null,onChange:e=>oe(e,"handling_status"),placeholder:"Select Handling Status",styles:ce,required:!0})]}),G&&h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"assigned_to_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Assigned To ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx(rN,{id:"assigned_to_id",name:"assigned_to_id",options:m.map(e=>({value:String(e.id),label:e.name})),value:ie.assigned_to_id?{value:String(ie.assigned_to_id),label:(null==(t=m.find(e=>parseInt(e.id)===ie.assigned_to_id))?void 0:t.name)||"Unknown"}:null,onChange:e=>oe(e,"assigned_to_id"),placeholder:"Select Assignee",styles:ce,required:G})]}),X&&h.jsxs("div",{className:"md:col-span-2 bg-gray-50 p-4 rounded-lg border border-gray-200",children:[h.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[h.jsx(yu,{className:"mr-2 text-gray-600"})," Vendor Information"]}),Z?h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("h4",{className:"font-semibold text-gray-800",children:"Selected Vendor"}),h.jsx(kc.button,{type:"button",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ee(null),se(e=>({...e,vendor_id:null})),ne(!1)},className:"px-2 py-1 bg-red-100 text-red-700 text-sm rounded-md hover:bg-red-200 transition-colors",children:"Change Vendor"})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Vendor Name"}),h.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:Z.name})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Person"}),h.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:Z.contact_person})]}),h.jsxs("div",{className:"md:col-span-2",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),h.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:Z.address||"-"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),h.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:Z.email})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),h.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:Z.telp||"-"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mobile"}),h.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:Z.HP||"-"})]})]})]}):h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Select Vendor ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx(kc.button,{type:"button",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>ne(!te),className:"px-3 py-1 bg-gray-600 text-white text-sm rounded-md hover:bg-gray-700 transition-colors",children:te?"Hide Vendors":"Select Vendor"})]}),te&&h.jsx("div",{className:"border border-gray-200 rounded-lg bg-white max-h-60 overflow-y-auto",children:K.length>0?K.map(e=>h.jsxs(kc.div,{whileHover:{backgroundColor:"rgba(0, 0, 0, 0.05)"},className:"p-3 border-b border-gray-100 cursor-pointer transition-colors",onClick:()=>(e=>{ee(e),se(t=>({...t,vendor_id:e.id})),ne(!1)})(e),children:[h.jsx("div",{className:"font-medium text-gray-900",children:e.name}),h.jsxs("div",{className:"text-sm text-gray-600",children:[e.contact_person," • ",e.email]}),h.jsx("div",{className:"text-xs text-gray-500",children:e.address})]},e.id)):h.jsxs("div",{className:"p-4 text-center text-gray-600",children:[h.jsx(ju,{className:"mx-auto h-6 w-6 mb-2"}),"No vendors available"]})})]})]}),h.jsxs("div",{className:"md:col-span-2",children:[h.jsxs("label",{htmlFor:"action_taken",className:"block text-sm font-medium text-gray-700 mb-1",children:["Action Taken ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx(gI,{value:ie.action_taken||"",onChange:e=>{se(t=>({...t,action_taken:e}))}})]}),h.jsxs("div",{className:"md:col-span-2",children:[h.jsxs("label",{htmlFor:"remarks",className:"block text-sm font-medium text-gray-700 mb-1",children:["Remarks ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx(gI,{value:ie.remarks||"",onChange:e=>{se(t=>({...t,remarks:e}))}})]})]})]}),h.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[h.jsxs(kc.button,{type:"button",onClick:()=>u("/workorders/it/assignment"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",children:[h.jsx(Rc,{className:"mr-2 h-5 w-5"})," Cancel"]}),h.jsx(kc.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},disabled:E,className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed",children:E?h.jsxs(h.Fragment,{children:[h.jsx(Ad,{className:"animate-spin mr-2 h-5 w-5"}),"Updating..."]}):h.jsxs(h.Fragment,{children:[h.jsx(du,{className:"mr-2 h-5 w-5"})," Update Work Order"]})})]})]})]})]})]}),h.jsx(ute,{isOpen:H,onClose:le,title:"Success!",children:h.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[h.jsx(td,{className:"text-green-500 text-6xl mb-4"}),h.jsx("p",{className:"text-lg font-medium text-gray-800 text-center mb-2",children:null==R?void 0:R.message}),h.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Work Order Number: ",null==(n=null==R?void 0:R.work_order)?void 0:n.work_order_no]}),h.jsx(kc.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:le,className:"mt-6 px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold",children:"Go to Work Orders"})]})})]})},pte=({isOpen:e,onClose:t,title:n,children:r})=>e?h.jsx(kc.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:h.jsxs(kc.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[h.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[h.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n}),h.jsx(kc.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:t,className:"text-gray-500 hover:text-gray-700 text-2xl",children:h.jsx(Pu,{size:24})})]}),h.jsx("div",{children:r})]})}):null,mte=()=>{const{id:e}=ke(),[t,n]=x.useState(window.innerWidth<768),[r,a]=x.useState([]),[i,s]=x.useState(),{getActivity:o,updateActivity:l,getActivityById:c}=gt(),[d,u]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return!!e&&JSON.parse(e)}),[p,m]=x.useState(null),[f,g]=x.useState(null),[b,y]=x.useState(!1),[v,w]=x.useState(!1),j=je(),[N,k]=x.useState({name:"",description:""});x.useEffect(()=>{i&&k({name:i.name||"",description:i.description||""})},[i]);const S=e=>{const{name:t,value:n}=e.target;k(e=>({...e,[t]:"sla"===t?Number(n):n}))},C=x.useCallback(async()=>{try{if(e){const[t]=await Promise.all([c(e)]);s(t)}}catch(t){m(t.message||"Failed to load form data")}},[e,c]);x.useEffect(()=>{e&&C()},[e,C]);const _=()=>{y(!1),j("/maintenanceactivity/activity")};return h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Lu,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Fu,{mainTitle:"Edit Activity",mainTitleHighlight:"Management",description:"blablablabl",icon:h.jsx(Ec,{}),isMobile:t,toggleSidebar:()=>{u(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[h.jsxs(kc.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Activity"}),h.jsx("p",{className:"text-gray-600 mt-1",children:"Update Activity information"})]}),h.jsxs(kc.button,{onClick:()=>j("/maintenanceactivity/activity"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[h.jsx(Rc,{className:"text-lg"})," Back to Activity Management"]})]}),h.jsxs(kc.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[p&&h.jsxs(kc.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[h.jsx("strong",{className:"font-bold",children:"Error!"}),h.jsx("span",{className:"block sm:inline ml-2",children:p}),h.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:h.jsx(Pu,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>m(null)})})]}),h.jsxs("form",{onSubmit:async t=>{t.preventDefault(),w(!0),m(null);try{const t={name:N.name,description:N.description};await l(e,t),g("Activity update successfully!"),y(!0)}catch(n){m(n.message||"Failed to update Activity")}finally{w(!1)}},className:"space-y-6",children:[h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Activity Information"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Activity Name ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",name:"name",id:"name",value:N.name,onChange:S,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",name:"description",id:"description",value:N.description,onChange:S,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),h.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[h.jsx(kc.button,{type:"button",onClick:()=>j("/maintenanceactivity/activity"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),h.jsx(kc.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:v,children:v?h.jsxs(h.Fragment,{children:[h.jsx(Ad,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):h.jsxs(h.Fragment,{children:[h.jsx(du,{className:"mr-2 h-5 w-5"})," Save Activity"]})})]})]})]})]})]}),h.jsx(pte,{isOpen:b,onClose:_,title:"Success!",children:h.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[h.jsx(td,{className:"text-green-500 text-6xl mb-4"}),h.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:f}),h.jsx(kc.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:_,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Activity Management"})]})})]})},fte=({isOpen:e,onClose:t,title:n,children:r})=>e?h.jsx(kc.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:h.jsxs(kc.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[h.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[h.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n}),h.jsx(kc.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:t,className:"text-gray-500 hover:text-gray-700 text-2xl",children:h.jsx(Pu,{size:24})})]}),h.jsx("div",{children:r})]})}):null,gte=()=>{const[e,t]=x.useState(window.innerWidth<768),[n,r]=x.useState([]),[a,i]=x.useState([]),{addActivity:s,getActivity:o}=gt(),[l,c]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return!!e&&JSON.parse(e)}),[d,u]=x.useState(null),[p,m]=x.useState(null),[f,g]=x.useState(!1),[b,y]=x.useState(!1),v=je(),[w,j]=x.useState({name:"",description:""}),N=e=>{const{name:t,value:n}=e.target;j(e=>({...e,[t]:"sla"===t?Number(n):n}))},k=x.useCallback(async()=>{try{const[e]=await Promise.all([o()]);r(e)}catch(e){u(e.message||"Failed to load form data")}},[o]);x.useEffect(()=>{k()},[k]);const S=()=>{g(!1),v("/maintenanceactivity/activity")};return h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Lu,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Fu,{mainTitle:"Create Activity",mainTitleHighlight:"Management",description:"blablablabl",icon:h.jsx(Ec,{}),isMobile:e,toggleSidebar:()=>{c(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[h.jsxs(kc.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Activity"}),h.jsx("p",{className:"text-gray-600 mt-1",children:"Add a new Activity information"})]}),h.jsxs(kc.button,{onClick:()=>v("/maintenanceactivity/activity"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[h.jsx(Rc,{className:"text-lg"})," Back to Activity Management"]})]}),h.jsxs(kc.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[d&&h.jsxs(kc.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[h.jsx("strong",{className:"font-bold",children:"Error!"}),h.jsx("span",{className:"block sm:inline ml-2",children:d}),h.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:h.jsx(Pu,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>u(null)})})]}),h.jsxs("form",{onSubmit:async e=>{e.preventDefault(),y(!0),u(null);try{const e={name:w.name,description:w.description};await s(e),m("Activity created successfully!"),g(!0)}catch(t){u(t.message||"Failed to create Activity")}finally{y(!1)}},className:"space-y-6",children:[h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Activity Information"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Activity Name ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",name:"name",id:"name",value:w.name,onChange:N,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",name:"description",id:"description",value:w.description,onChange:N,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),h.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[h.jsx(kc.button,{type:"button",onClick:()=>v("/maintenanceactivity/activity"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),h.jsx(kc.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:b,children:b?h.jsxs(h.Fragment,{children:[h.jsx(Ad,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):h.jsxs(h.Fragment,{children:[h.jsx(du,{className:"mr-2 h-5 w-5"})," Save Activity"]})})]})]})]})]})]}),h.jsx(fte,{isOpen:f,onClose:S,title:"Success!",children:h.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[h.jsx(td,{className:"text-green-500 text-6xl mb-4"}),h.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:p}),h.jsx(kc.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:S,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Activity Management"})]})})]})},xte=({isOpen:e,onClose:t,title:n,children:r,className:a})=>h.jsx(Mi,{children:e&&h.jsx(kc.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:h.jsxs(kc.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${a||"max-w-xl w-full"}`,children:[h.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[h.jsx("h2",{className:"text-xl font-bold text-gray-800",children:n}),h.jsx("button",{onClick:t,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:h.jsx(Pu,{className:"text-xl"})})]}),h.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:r})]})})}),bte=({title:e,value:t,change:n,icon:r})=>{const a=n.startsWith("+");return h.jsxs(kc.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[h.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:e}),h.jsx("p",{className:"text-3xl font-bold text-gray-900",children:t})]}),h.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:r})]}),h.jsxs("p",{className:"mt-3 text-xs font-semibold "+(a?"text-green-600":"text-red-600"),children:[n," from last month"]})]})},yte=()=>{const[e,t]=x.useState([]),{getActivity:n,deleteActivity:r}=gt(),[a,i]=x.useState(!0),[s,o]=x.useState(null),[l,c]=x.useState(""),[d,u]=x.useState(!1),[p,m]=x.useState(null),[f,g]=x.useState(!1),[b]=x.useState(window.innerWidth<768),[y,v]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return!!e&&JSON.parse(e)}),w=je(),j=x.useRef(null),[N,k]=x.useState(!1),S=x.useMemo(()=>[{id:"activity",name:"Activity"},{id:"description",name:"Description"}],[]),C=x.useCallback(async()=>{try{i(!0);const e=[...await n()].sort((e,t)=>e.id-t.id);t(e)}catch(e){o("Failed to load activities")}finally{i(!1)}},[n]);x.useEffect(()=>{C()},[C]);const _=x.useMemo(()=>{if(!l)return S;const e=l.toLowerCase();return S.filter(t=>t.name.toLowerCase().includes(e))},[l,S]),A=x.useMemo(()=>{if(!l.trim())return e;const t=l.toLowerCase().trim(),n=t.split(":");let r="all",a=t;return n.length>1&&S.some(e=>e.name.toLowerCase()===n[0].trim())&&(r=n[0].trim(),a=n.slice(1).join(":").trim()),e.filter(e=>{var t,n;const i=null==(t=e.name)?void 0:t.toLowerCase().includes(a),s=null==(n=e.description)?void 0:n.toLowerCase().includes(a);return"activity"===r?i:"description"===r?s:i||s})},[e,l,S]),T=x.useCallback(e=>{m(e),u(!0)},[]);return h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[h.jsx(Lu,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Fu,{mainTitle:"Activity",mainTitleHighlight:"Page",description:"Manage activities and their configurations within the system.",icon:h.jsx(Ec,{}),isMobile:b,toggleSidebar:()=>{const e=!y;v(e),localStorage.setItem("sidebarOpen",JSON.stringify(e))}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[h.jsxs(kc.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[h.jsxs("div",{children:[h.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Activity ",h.jsx("span",{className:"text-blue-600",children:"Management"})]}),h.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Organize and manage activities by specific company requirements."})]}),h.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[h.jsxs(kc.button,{onClick:()=>w("/maintenanceactivity/activity/addactivity"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[h.jsx(nu,{className:"text-base"}),h.jsx("span",{children:"Add Activity"})]}),h.jsxs(kc.button,{onClick:()=>{alert("Import functionality is not yet implemented.")},whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[h.jsx(Su,{className:"text-base"}),h.jsx("span",{children:"Import"})]}),h.jsxs(kc.button,{onClick:()=>g(!f),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[h.jsx(vd,{className:"text-base"}),h.jsx("span",{children:"Filters"}),h.jsx(kc.span,{animate:{rotate:f?180:0},transition:{duration:.2},children:h.jsx(Jc,{className:"text-base"})})]})]})]}),h.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:h.jsx(bte,{title:"Total Activities",value:e.length.toString(),change:`+${Math.floor(e.length/10*100)}%`,icon:h.jsx(Ec,{className:"w-6 h-6"})})}),h.jsxs(kc.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[h.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:h.jsxs("div",{className:"flex-1 relative",children:[h.jsx(uu,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),h.jsx("input",{ref:j,type:"text",placeholder:"Search by activity or description...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:l,onChange:e=>{const t=e.target.value;c(t)},onFocus:()=>k(!0),"aria-label":"Search activities"}),h.jsx(Mi,{children:N&&_.length>0&&h.jsx(kc.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.15},className:"search-suggestions absolute left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-10 max-h-56 overflow-y-auto custom-scrollbar",children:_.map(e=>h.jsx(kc.button,{onClick:()=>{return t=e.name,c(`${t}: `),k(!1),void(null==(n=j.current)||n.focus());var t,n},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},className:"w-full text-left p-3 text-gray-700 hover:text-blue-700 transition-colors duration-150 text-sm",role:"option",children:h.jsx("span",{className:"font-semibold",children:e.name})},e.id))})})]})}),h.jsx(Mi,{children:f&&h.jsx(kc.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full"})})]}),a?h.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[h.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),h.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading activity data..."})]}):0===A.length?h.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[h.jsx("p",{className:"text-gray-700 text-base font-medium",children:l?"No activities found matching your search.":"No activities available."}),l&&h.jsx("button",{onClick:()=>c(""),className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear Search"})]}):h.jsx(kc.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:h.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:h.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[h.jsx("thead",{className:"bg-blue-50",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Activity"}),h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Description"}),h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),h.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:A.map((e,t)=>h.jsxs(kc.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[h.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:h.jsx("div",{className:"text-sm font-medium text-gray-900",children:t+1})}),h.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:h.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.name})}),h.jsx("td",{className:"px-5 py-3",children:h.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.description||"-"})}),h.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[h.jsx(kc.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>w(`/maintenanceactivity/activity/editactivity/${e.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit",children:h.jsx(gu,{className:"inline text-base"})}),h.jsx(kc.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>T(e.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:h.jsx(vu,{className:"inline text-base"})})]})]},e.id))})]})})})]})]}),h.jsx(xte,{isOpen:d,onClose:()=>u(!1),title:"Confirm Deletion",children:h.jsxs("div",{className:"space-y-5 text-center py-3",children:[h.jsx(ju,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),h.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this activity? This action cannot be undone."}),h.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[h.jsx(kc.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>u(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),h.jsx(kc.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>p&&(async n=>{try{await r(n),t(e.filter(e=>e.id!==n)),u(!1),m(null)}catch(a){o("Failed to delete activity. Please try again.")}})(p),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})]})},vte=({isOpen:e,onClose:t,title:n,children:r,className:a})=>h.jsx(Mi,{children:e&&h.jsx(kc.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4 backdrop-blur-sm",children:h.jsxs(kc.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${a||"max-w-xl w-full"}`,children:[h.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[h.jsx("h2",{className:"text-xl font-bold text-gray-800",children:n}),h.jsx("button",{onClick:t,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:h.jsx(Pu,{className:"text-xl"})})]}),h.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:r})]})})}),wte=({title:e,value:t,change:n,icon:r})=>{const a=n.startsWith("+");return h.jsxs(kc.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[h.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:e}),h.jsx("p",{className:"text-3xl font-bold text-gray-900",children:t})]}),h.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:r})]}),h.jsxs("p",{className:"mt-3 text-xs font-semibold "+(a?"text-green-600":"text-red-600"),children:[n," from last month"]})]})},jte=()=>{const[e,t]=x.useState([]),{getTroubleItem:n,deleteTroubleItem:r}=gt(),[a,i]=x.useState(!0),[s,o]=x.useState(null),[l,c]=x.useState(""),[d,u]=x.useState(!1),[p,m]=x.useState(null),[f,g]=x.useState(!1),[b]=x.useState(window.innerWidth<768),[y,v]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return!!e&&JSON.parse(e)}),w=je(),j=x.useRef(null),[N,k]=x.useState(!1),S=x.useMemo(()=>[{id:"troubleitem",name:"Trouble Item"},{id:"description",name:"Description"}],[]),C=x.useCallback(async()=>{try{i(!0);const e=[...await n()].sort((e,t)=>e.id-t.id);t(e)}catch(e){o("Failed to load trouble items")}finally{i(!1)}},[n]);x.useEffect(()=>{C()},[C]);const _=x.useMemo(()=>{if(!l)return S;const e=l.toLowerCase();return S.filter(t=>t.name.toLowerCase().includes(e))},[l,S]),A=x.useMemo(()=>{if(!l.trim())return e;const t=l.toLowerCase().trim(),n=t.split(":");let r="all",a=t;return n.length>1&&S.some(e=>e.name.toLowerCase()===n[0].trim())&&(r=n[0].trim(),a=n.slice(1).join(":").trim()),e.filter(e=>{var t,n;const i=null==(t=e.name)?void 0:t.toLowerCase().includes(a),s=null==(n=e.description)?void 0:n.toLowerCase().includes(a);return"trouble item"===r?i:"description"===r?s:i||s})},[e,l,S]),T=x.useCallback(e=>{m(e),u(!0)},[]);return h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[h.jsx(Lu,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Fu,{mainTitle:"Trouble Item",mainTitleHighlight:"Page",description:"Manage trouble items and their configurations within the system.",icon:h.jsx(ju,{}),isMobile:b,toggleSidebar:()=>{const e=!y;v(e),localStorage.setItem("sidebarOpen",JSON.stringify(e))}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[h.jsxs(kc.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[h.jsxs("div",{children:[h.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Trouble Item ",h.jsx("span",{className:"text-blue-600",children:"Management"})]}),h.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Organize and manage trouble items by specific company requirements."})]}),h.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[h.jsxs(kc.button,{onClick:()=>w("/maintenanceactivity/troubleitem/addtroubleitem"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[h.jsx(nu,{className:"text-base"}),h.jsx("span",{children:"Add Trouble Item"})]}),h.jsxs(kc.button,{onClick:()=>{alert("Import functionality is not yet implemented.")},whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[h.jsx(Su,{className:"text-base"}),h.jsx("span",{children:"Import"})]}),h.jsxs(kc.button,{onClick:()=>g(!f),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[h.jsx(vd,{className:"text-base"}),h.jsx("span",{children:"Filters"}),h.jsx(kc.span,{animate:{rotate:f?180:0},transition:{duration:.2},children:h.jsx(Jc,{className:"text-base"})})]})]})]}),h.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:h.jsx(wte,{title:"Total Trouble Items",value:e.length.toString(),change:`+${Math.floor(e.length/10*100)}%`,icon:h.jsx(ju,{className:"w-6 h-6"})})}),h.jsxs(kc.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[h.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:h.jsxs("div",{className:"flex-1 relative",children:[h.jsx(uu,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),h.jsx("input",{ref:j,type:"text",placeholder:"Search by trouble item or description...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:l,onChange:e=>{const t=e.target.value;c(t)},onFocus:()=>k(!0),"aria-label":"Search trouble items"}),h.jsx(Mi,{children:N&&_.length>0&&h.jsx(kc.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.15},className:"search-suggestions absolute left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-10 max-h-56 overflow-y-auto custom-scrollbar",children:_.map(e=>h.jsx(kc.button,{onClick:()=>{return t=e.name,c(`${t}: `),k(!1),void(null==(n=j.current)||n.focus());var t,n},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},className:"w-full text-left p-3 text-gray-700 hover:text-blue-700 transition-colors duration-150 text-sm",role:"option",children:h.jsx("span",{className:"font-semibold",children:e.name})},e.id))})})]})}),h.jsx(Mi,{children:f&&h.jsx(kc.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full"})})]}),a?h.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[h.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),h.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading trouble item data..."})]}):0===A.length?h.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[h.jsx("p",{className:"text-gray-700 text-base font-medium",children:l?"No trouble items found matching your search.":"No trouble items available."}),l&&h.jsx("button",{onClick:()=>c(""),className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear Search"})]}):h.jsx(kc.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:h.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:h.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[h.jsx("thead",{className:"bg-blue-50",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Trouble Item"}),h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Description"}),h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),h.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:A.map((e,t)=>h.jsxs(kc.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[h.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:h.jsx("div",{className:"text-sm font-medium text-gray-900",children:t+1})}),h.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:h.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.name})}),h.jsx("td",{className:"px-5 py-3",children:h.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.description||"-"})}),h.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[h.jsx(kc.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>w(`/maintenanceactivity/troubleitem/edittroubleitem/${e.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit",children:h.jsx(gu,{className:"inline text-base"})}),h.jsx(kc.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>T(e.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:h.jsx(vu,{className:"inline text-base"})})]})]},e.id))})]})})})]})]}),h.jsx(vte,{isOpen:d,onClose:()=>u(!1),title:"Confirm Deletion",children:h.jsxs("div",{className:"space-y-5 text-center py-3",children:[h.jsx(ju,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),h.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this trouble item? This action cannot be undone."}),h.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[h.jsx(kc.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>u(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),h.jsx(kc.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>p&&(async n=>{try{await r(n),t(e.filter(e=>e.id!==n)),u(!1),m(null)}catch(a){o("Failed to delete trouble item. Please try again.")}})(p),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})]})},Nte=({isOpen:e,onClose:t,title:n,children:r})=>e?h.jsx(kc.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:h.jsxs(kc.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[h.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[h.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n}),h.jsx(kc.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:t,className:"text-gray-500 hover:text-gray-700 text-2xl",children:h.jsx(Pu,{size:24})})]}),h.jsx("div",{children:r})]})}):null,kte=()=>{const[e,t]=x.useState(window.innerWidth<768),[n,r]=x.useState([]),[a,i]=x.useState([]),{addTroubleItem:s,getTroubleItem:o}=gt(),[l,c]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return!!e&&JSON.parse(e)}),[d,u]=x.useState(null),[p,m]=x.useState(null),[f,g]=x.useState(!1),[b,y]=x.useState(!1),v=je(),[w,j]=x.useState({name:"",description:""}),N=e=>{const{name:t,value:n}=e.target;j(e=>({...e,[t]:"sla"===t?Number(n):n}))},k=x.useCallback(async()=>{try{const[e]=await Promise.all([o()]);r(e)}catch(e){u(e.message||"Failed to load form data")}},[o]);x.useEffect(()=>{k()},[k]);const S=()=>{g(!1),v("/maintenanceactivity/troubleitem")};return h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Lu,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Fu,{mainTitle:"Create Trouble Item",mainTitleHighlight:"Management",description:"blablablabl",icon:h.jsx(ju,{}),isMobile:e,toggleSidebar:()=>{c(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[h.jsxs(kc.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Trouble Item"}),h.jsx("p",{className:"text-gray-600 mt-1",children:"Add a new Trouble Item information"})]}),h.jsxs(kc.button,{onClick:()=>v("/maintenanceactivity/troubleitem"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[h.jsx(Rc,{className:"text-lg"})," Back to Trouble Item Management"]})]}),h.jsxs(kc.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[d&&h.jsxs(kc.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[h.jsx("strong",{className:"font-bold",children:"Error!"}),h.jsx("span",{className:"block sm:inline ml-2",children:d}),h.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:h.jsx(Pu,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>u(null)})})]}),h.jsxs("form",{onSubmit:async e=>{e.preventDefault(),y(!0),u(null);try{const e={name:w.name,description:w.description};await s(e),m("Trouble Item created successfully!"),g(!0)}catch(t){u(t.message||"Failed to create Trouble Item")}finally{y(!1)}},className:"space-y-6",children:[h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Trouble Item Information"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Trouble Item Name ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",name:"name",id:"name",value:w.name,onChange:N,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",name:"description",id:"description",value:w.description,onChange:N,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),h.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[h.jsx(kc.button,{type:"button",onClick:()=>v("/maintenanceactivity/troubleitem"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),h.jsx(kc.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:b,children:b?h.jsxs(h.Fragment,{children:[h.jsx(Ad,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):h.jsxs(h.Fragment,{children:[h.jsx(du,{className:"mr-2 h-5 w-5"})," Save Trouble Item"]})})]})]})]})]})]}),h.jsx(Nte,{isOpen:f,onClose:S,title:"Success!",children:h.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[h.jsx(td,{className:"text-green-500 text-6xl mb-4"}),h.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:p}),h.jsx(kc.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:S,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Trouble Item Management"})]})})]})},Ste=({isOpen:e,onClose:t,title:n,children:r})=>e?h.jsx(kc.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:h.jsxs(kc.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[h.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[h.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n}),h.jsx(kc.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:t,className:"text-gray-500 hover:text-gray-700 text-2xl",children:h.jsx(Pu,{size:24})})]}),h.jsx("div",{children:r})]})}):null,Cte=()=>{const[e,t]=x.useState(window.innerWidth<768),[n,r]=x.useState([]),[a,i]=x.useState([]),{addWorkUnit:s,getWorkUnit:o}=gt(),[l,c]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return!!e&&JSON.parse(e)}),[d,u]=x.useState(null),[p,m]=x.useState(null),[f,g]=x.useState(!1),[b,y]=x.useState(!1),v=je(),[w,j]=x.useState({name:"",is_production:"",description:""}),N=e=>{const{name:t,value:n}=e.target;j(e=>({...e,[t]:"sla"===t?Number(n):n}))},k=x.useCallback(async()=>{try{const[e]=await Promise.all([o()]);r(e)}catch(e){u(e.message||"Failed to load form data")}},[o]);x.useEffect(()=>{k()},[k]);const S=()=>{g(!1),v("/worklocation/workunit")};return h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Lu,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Fu,{mainTitle:"Create Work Unit",mainTitleHighlight:"Management",description:"blablablabl",icon:h.jsx(Eu,{}),isMobile:e,toggleSidebar:()=>{c(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[h.jsxs(kc.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Work Unit"}),h.jsx("p",{className:"text-gray-600 mt-1",children:"Add a new Work Unit information"})]}),h.jsxs(kc.button,{onClick:()=>v("/worklocation/workunit"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[h.jsx(Rc,{className:"text-lg"})," Back to Work Unit Management"]})]}),h.jsxs(kc.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[d&&h.jsxs(kc.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[h.jsx("strong",{className:"font-bold",children:"Error!"}),h.jsx("span",{className:"block sm:inline ml-2",children:d}),h.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:h.jsx(Pu,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>u(null)})})]}),h.jsxs("form",{onSubmit:async e=>{e.preventDefault(),y(!0),u(null);try{const e={name:w.name,is_production:w.is_production,description:w.description};await s(e),m("Work Unit created successfully!"),g(!0)}catch(t){u(t.message||"Failed to create Work Unit")}finally{y(!1)}},className:"space-y-6",children:[h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Work Unit Information"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Work Unit Name ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",name:"name",id:"name",value:w.name,onChange:N,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"is_production",className:"block text-sm font-medium text-gray-700 mb-1",children:["Zone ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsxs("select",{name:"is_production",id:"is_production",value:w.is_production,onChange:N,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0,children:[h.jsx("option",{value:"Production",children:"Production"}),h.jsx("option",{value:"Not Production",children:"Not Production"})]})]}),h.jsxs("div",{className:"md:col-span-2",children:[h.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx(gI,{value:w.description,onChange:e=>{j(t=>({...t,description:e}))}})]})]})]}),h.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[h.jsx(kc.button,{type:"button",onClick:()=>v("/worklocation/workunit"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),h.jsx(kc.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:b,children:b?h.jsxs(h.Fragment,{children:[h.jsx(Ad,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):h.jsxs(h.Fragment,{children:[h.jsx(du,{className:"mr-2 h-5 w-5"})," Save Work Unit"]})})]})]})]})]})]}),h.jsx(Ste,{isOpen:f,onClose:S,title:"Success!",children:h.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[h.jsx(td,{className:"text-green-500 text-6xl mb-4"}),h.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:p}),h.jsx(kc.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:S,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Work Unit Management"})]})})]})},_te=({isOpen:e,onClose:t,title:n,children:r})=>e?h.jsx(kc.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:h.jsxs(kc.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[h.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[h.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n}),h.jsx(kc.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:t,className:"text-gray-500 hover:text-gray-700 text-2xl",children:h.jsx(Pu,{size:24})})]}),h.jsx("div",{children:r})]})}):null,Ate=()=>{const{id:e}=ke(),[t,n]=x.useState(window.innerWidth<768),[r,a]=x.useState([]),[i,s]=x.useState(),{getWorkUnit:o,updateWorkUnit:l,getWorkUnitById:c}=gt(),[d,u]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return!!e&&JSON.parse(e)}),[p,m]=x.useState(null),[f,g]=x.useState(null),[b,y]=x.useState(!1),[v,w]=x.useState(!1),j=je(),[N,k]=x.useState({name:"",is_production:"",description:""});x.useEffect(()=>{i&&k({name:i.name||"",is_production:i.is_production||"",description:i.description||""})},[i]);const S=e=>{const{name:t,value:n}=e.target;k(e=>({...e,[t]:"sla"===t?Number(n):n}))},C=x.useCallback(async()=>{try{if(e){const[t]=await Promise.all([c(e)]);s(t)}}catch(t){m(t.message||"Failed to load form data")}},[e,c]);x.useEffect(()=>{e&&C()},[e,C]);const _=()=>{y(!1),j("/worklocation/workunit")};return h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Lu,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Fu,{mainTitle:"Edit Work Unit",mainTitleHighlight:"Management",description:"blablablabl",icon:h.jsx(Eu,{}),isMobile:t,toggleSidebar:()=>{u(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[h.jsxs(kc.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Work Unit"}),h.jsx("p",{className:"text-gray-600 mt-1",children:"Update Work Unit information"})]}),h.jsxs(kc.button,{onClick:()=>j("/worklocation/workunit"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[h.jsx(Rc,{className:"text-lg"})," Back to Work Unit Management"]})]}),h.jsxs(kc.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[p&&h.jsxs(kc.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[h.jsx("strong",{className:"font-bold",children:"Error!"}),h.jsx("span",{className:"block sm:inline ml-2",children:p}),h.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:h.jsx(Pu,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>m(null)})})]}),h.jsxs("form",{onSubmit:async t=>{t.preventDefault(),w(!0),m(null);try{const t={name:N.name,is_production:N.is_production,description:N.description};await l(e,t),g("Work Unit update successfully!"),y(!0)}catch(n){m(n.message||"Failed to update Work Unit")}finally{w(!1)}},className:"space-y-6",children:[h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Work Unit Information"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Work Unit Name ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",name:"name",id:"name",value:N.name,onChange:S,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"is_production",className:"block text-sm font-medium text-gray-700 mb-1",children:["Zone ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsxs("select",{name:"is_production",id:"is_production",value:N.is_production,onChange:S,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0,children:[h.jsx("option",{value:"Production",children:"Production"}),h.jsx("option",{value:"Not Production",children:"Not Production"})]})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",name:"description",id:"description",value:N.description,onChange:S,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),h.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[h.jsx(kc.button,{type:"button",onClick:()=>j("/worklocation/workunit"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),h.jsx(kc.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:v,children:v?h.jsxs(h.Fragment,{children:[h.jsx(Ad,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):h.jsxs(h.Fragment,{children:[h.jsx(du,{className:"mr-2 h-5 w-5"})," Save Work Unit"]})})]})]})]})]})]}),h.jsx(_te,{isOpen:b,onClose:_,title:"Success!",children:h.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[h.jsx(td,{className:"text-green-500 text-6xl mb-4"}),h.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:f}),h.jsx(kc.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:_,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Work Unit Management"})]})})]})},Tte=({isOpen:e,onClose:t,title:n,children:r,className:a})=>h.jsx(Mi,{children:e&&h.jsx(kc.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:h.jsxs(kc.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${a||"max-w-xl w-full"}`,children:[h.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[h.jsx("h2",{className:"text-xl font-bold text-gray-800",children:n}),h.jsx("button",{onClick:t,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:h.jsx(Pu,{className:"text-xl"})})]}),h.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:r})]})})}),Ote=({title:e,value:t,change:n,icon:r})=>{const a=n.startsWith("+");return h.jsxs(kc.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[h.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:e}),h.jsx("p",{className:"text-3xl font-bold text-gray-900",children:t})]}),h.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:r})]}),h.jsxs("p",{className:"mt-3 text-xs font-semibold "+(a?"text-green-600":"text-red-600"),children:[n," from last month"]})]})},Ete=()=>{const[e,t]=x.useState([]),{getWorkUnit:n,deleteWorkUnit:r}=gt(),[a,i]=x.useState(!0),[s,o]=x.useState(null),[l,c]=x.useState(""),[d,u]=x.useState(!1),[p,m]=x.useState(null),[f,g]=x.useState(!1),[b]=x.useState(window.innerWidth<768),[y,v]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return!!e&&JSON.parse(e)}),w=je(),j=x.useRef(null),[N,k]=x.useState(!1),S=x.useMemo(()=>[{id:"workunit",name:"Work Unit"},{id:"description",name:"Description"}],[]),C=x.useCallback(async()=>{try{i(!0);const e=[...await n()].sort((e,t)=>e.id-t.id);t(e)}catch(e){o("Failed to load work units")}finally{i(!1)}},[n]);x.useEffect(()=>{C()},[C]);const _=x.useMemo(()=>{if(!l)return S;const e=l.toLowerCase();return S.filter(t=>t.name.toLowerCase().includes(e))},[l,S]),A=x.useMemo(()=>{if(!l.trim())return e;const t=l.toLowerCase().trim(),n=t.split(":");let r="all",a=t;return n.length>1&&S.some(e=>e.name.toLowerCase()===n[0].trim())&&(r=n[0].trim(),a=n.slice(1).join(":").trim()),e.filter(e=>{var t,n;const i=null==(t=e.name)?void 0:t.toLowerCase().includes(a),s=null==(n=e.description)?void 0:n.toLowerCase().includes(a);return"work unit"===r?i:"description"===r?s:i||s})},[e,l,S]),T=x.useCallback(e=>{m(e),u(!0)},[]);return h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[h.jsx(Lu,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Fu,{mainTitle:"Work Unit",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:h.jsx(Eu,{}),isMobile:b,toggleSidebar:()=>{const e=!y;v(e),localStorage.setItem("sidebarOpen",JSON.stringify(e))}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[h.jsxs(kc.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[h.jsxs("div",{children:[h.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Work Unit ",h.jsx("span",{className:"text-blue-600",children:"Management"})]}),h.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Organize and manage work units by specific company requirements."})]}),h.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[h.jsxs(kc.button,{onClick:()=>w("/worklocation/workunit/addworkunit"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[h.jsx(nu,{className:"text-base"}),h.jsx("span",{children:"Add Work Unit"})]}),h.jsxs(kc.button,{onClick:()=>{alert("Import functionality is not yet implemented.")},whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[h.jsx(Su,{className:"text-base"}),h.jsx("span",{children:"Import"})]}),h.jsxs(kc.button,{onClick:()=>g(!f),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[h.jsx(vd,{className:"text-base"}),h.jsx("span",{children:"Filters"}),h.jsx(kc.span,{animate:{rotate:f?180:0},transition:{duration:.2},children:h.jsx(Jc,{className:"text-base"})})]})]})]}),h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[h.jsx(Ote,{title:"Total Work Units",value:e.length.toString(),change:`+${Math.floor(e.length/10*100)}%`,icon:h.jsx(Eu,{className:"w-6 h-6"})}),h.jsx(Ote,{title:"Production Units",value:e.filter(e=>"1"===String(e.is_production)).length.toString(),change:`+${Math.floor(e.filter(e=>"1"===String(e.is_production)).length/e.length*100)}%`,icon:h.jsx(Eu,{className:"w-6 h-6"})})]}),h.jsxs(kc.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[h.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:h.jsxs("div",{className:"flex-1 relative",children:[h.jsx(uu,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),h.jsx("input",{ref:j,type:"text",placeholder:"Search by work unit or description...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:l,onChange:e=>{const t=e.target.value;c(t)},onFocus:()=>k(!0),"aria-label":"Search work units"}),h.jsx(Mi,{children:N&&_.length>0&&h.jsx(kc.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.15},className:"search-suggestions absolute left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-10 max-h-56 overflow-y-auto custom-scrollbar",children:_.map(e=>h.jsx(kc.button,{onClick:()=>{return t=e.name,c(`${t}: `),k(!1),void(null==(n=j.current)||n.focus());var t,n},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},className:"w-full text-left p-3 text-gray-700 hover:text-blue-700 transition-colors duration-150 text-sm",role:"option",children:h.jsx("span",{className:"font-semibold",children:e.name})},e.id))})})]})}),h.jsx(Mi,{children:f&&h.jsx(kc.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full"})})]}),a?h.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[h.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),h.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading work unit data..."})]}):0===A.length?h.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[h.jsx("p",{className:"text-gray-700 text-base font-medium",children:l?"No work units found matching your search.":"No work units available."}),l&&h.jsx("button",{onClick:()=>c(""),className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear Search"})]}):h.jsx(kc.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:h.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:h.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[h.jsx("thead",{className:"bg-blue-50",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Work Unit"}),h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Production?"}),h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Description"}),h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),h.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:A.map((e,t)=>h.jsxs(kc.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[h.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:h.jsx("div",{className:"text-sm font-medium text-gray-900",children:t+1})}),h.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:h.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.name})}),h.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:h.jsx("div",{className:"text-sm font-medium text-gray-900",children:"1"===String(e.is_production)?"Yes":"No"})}),h.jsx("td",{className:"px-5 py-3",children:h.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.description||"-"})}),h.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[h.jsx(kc.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>w(`/worklocation/workunit/editworkunit/${e.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit",children:h.jsx(gu,{className:"inline text-base"})}),h.jsx(kc.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>T(e.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:h.jsx(vu,{className:"inline text-base"})})]})]},e.id))})]})})})]})]}),h.jsx(Tte,{isOpen:d,onClose:()=>u(!1),title:"Confirm Deletion",children:h.jsxs("div",{className:"space-y-5 text-center py-3",children:[h.jsx(ju,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),h.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this work unit? This action cannot be undone."}),h.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[h.jsx(kc.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>u(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),h.jsx(kc.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>p&&(async n=>{try{await r(n),t(e.filter(e=>e.id!==n)),u(!1),m(null)}catch(a){o("Failed to delete work unit. Please try again.")}})(p),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})]})},Mte=({isOpen:e,onClose:t,title:n,children:r})=>e?h.jsx(kc.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:h.jsxs(kc.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[h.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[h.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n}),h.jsx(kc.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:t,className:"text-gray-500 hover:text-gray-700 text-2xl",children:h.jsx(Pu,{size:24})})]}),h.jsx("div",{children:r})]})}):null,Pte=()=>{const{id:e}=ke(),[t,n]=x.useState(window.innerWidth<768),[r,a]=x.useState([]),[i,s]=x.useState(),{getWorkGroup:o,updateWorkGroup:l,getWorkGroupById:c}=gt(),[d,u]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return!!e&&JSON.parse(e)}),[p,m]=x.useState(null),[f,g]=x.useState(null),[b,y]=x.useState(!1),[v,w]=x.useState(!1),j=je(),[N,k]=x.useState({name:"",description:""});x.useEffect(()=>{i&&k({name:i.name||"",description:i.description||""})},[i]);const S=e=>{const{name:t,value:n}=e.target;k(e=>({...e,[t]:"sla"===t?Number(n):n}))},C=x.useCallback(async()=>{try{if(e){const[t]=await Promise.all([c(e)]);s(t)}}catch(t){m(t.message||"Failed to load form data")}},[e,c]);x.useEffect(()=>{e&&C()},[e,C]);const _=()=>{y(!1),j("/workarrangement/workgroup")};return h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Lu,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Fu,{mainTitle:"Edit Work Group",mainTitleHighlight:"Management",description:"blablablabl",icon:h.jsx(Ou,{}),isMobile:t,toggleSidebar:()=>{u(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[h.jsxs(kc.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Work Group"}),h.jsx("p",{className:"text-gray-600 mt-1",children:"Update Work Group information"})]}),h.jsxs(kc.button,{onClick:()=>j("/workarrangement/workgroup"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[h.jsx(Rc,{className:"text-lg"})," Back to Work Group Management"]})]}),h.jsxs(kc.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[p&&h.jsxs(kc.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[h.jsx("strong",{className:"font-bold",children:"Error!"}),h.jsx("span",{className:"block sm:inline ml-2",children:p}),h.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:h.jsx(Pu,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>m(null)})})]}),h.jsxs("form",{onSubmit:async t=>{t.preventDefault(),w(!0),m(null);try{const t={name:N.name,description:N.description};await l(e,t),g("Work Group update successfully!"),y(!0)}catch(n){m(n.message||"Failed to update Work Group")}finally{w(!1)}},className:"space-y-6",children:[h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Work Group Information"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Work Group Name ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",name:"name",id:"name",value:N.name,onChange:S,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",name:"description",id:"description",value:N.description,onChange:S,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),h.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[h.jsx(kc.button,{type:"button",onClick:()=>j("/workarrangement/workgroup"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),h.jsx(kc.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:v,children:v?h.jsxs(h.Fragment,{children:[h.jsx(Ad,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):h.jsxs(h.Fragment,{children:[h.jsx(du,{className:"mr-2 h-5 w-5"})," Save Work Group"]})})]})]})]})]})]}),h.jsx(Mte,{isOpen:b,onClose:_,title:"Success!",children:h.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[h.jsx(td,{className:"text-green-500 text-6xl mb-4"}),h.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:f}),h.jsx(kc.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:_,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Work Group Management"})]})})]})},Dte=({isOpen:e,onClose:t,title:n,children:r})=>e?h.jsx(kc.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:h.jsxs(kc.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[h.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[h.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n}),h.jsx(kc.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:t,className:"text-gray-500 hover:text-gray-700 text-2xl",children:h.jsx(Pu,{size:24})})]}),h.jsx("div",{children:r})]})}):null,Lte=()=>{const[e,t]=x.useState(window.innerWidth<768),[n,r]=x.useState([]),[a,i]=x.useState([]),{addWorkGroup:s,getWorkGroup:o}=gt(),[l,c]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return!!e&&JSON.parse(e)}),[d,u]=x.useState(null),[p,m]=x.useState(null),[f,g]=x.useState(!1),[b,y]=x.useState(!1),v=je(),[w,j]=x.useState({name:"",description:""}),N=e=>{const{name:t,value:n}=e.target;j(e=>({...e,[t]:"sla"===t?Number(n):n}))},k=x.useCallback(async()=>{try{const[e]=await Promise.all([o()]);r(e)}catch(e){u(e.message||"Failed to load form data")}},[o]);x.useEffect(()=>{k()},[k]);const S=()=>{g(!1),v("/maintenanceactivity/activity")};return h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Lu,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Fu,{mainTitle:"Create Work Group",mainTitleHighlight:"Management",description:"blablablabl",icon:h.jsx(Ou,{}),isMobile:e,toggleSidebar:()=>{c(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[h.jsxs(kc.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Work Group"}),h.jsx("p",{className:"text-gray-600 mt-1",children:"Add a new Work Group information"})]}),h.jsxs(kc.button,{onClick:()=>v("/workarrangement/workgroup"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[h.jsx(Rc,{className:"text-lg"})," Back to Work Group Management"]})]}),h.jsxs(kc.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[d&&h.jsxs(kc.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[h.jsx("strong",{className:"font-bold",children:"Error!"}),h.jsx("span",{className:"block sm:inline ml-2",children:d}),h.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:h.jsx(Pu,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>u(null)})})]}),h.jsxs("form",{onSubmit:async e=>{e.preventDefault(),y(!0),u(null);try{const e={name:w.name,description:w.description};await s(e),m("Work Group created successfully!"),g(!0)}catch(t){u(t.message||"Failed to create Work Group")}finally{y(!1)}},className:"space-y-6",children:[h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Work Group Information"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Work Group Name ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",name:"name",id:"name",value:w.name,onChange:N,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",name:"description",id:"description",value:w.description,onChange:N,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),h.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[h.jsx(kc.button,{type:"button",onClick:()=>v("/workarrangement/workgroup"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),h.jsx(kc.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:b,children:b?h.jsxs(h.Fragment,{children:[h.jsx(Ad,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):h.jsxs(h.Fragment,{children:[h.jsx(du,{className:"mr-2 h-5 w-5"})," Save Work Group"]})})]})]})]})]})]}),h.jsx(Dte,{isOpen:f,onClose:S,title:"Success!",children:h.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[h.jsx(td,{className:"text-green-500 text-6xl mb-4"}),h.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:p}),h.jsx(kc.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:S,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Work Group Management"})]})})]})},Ite=({isOpen:e,onClose:t,title:n,children:r,className:a})=>h.jsx(Mi,{children:e&&h.jsx(kc.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:h.jsxs(kc.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${a||"max-w-xl w-full"}`,children:[h.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[h.jsx("h2",{className:"text-xl font-bold text-gray-800",children:n}),h.jsx("button",{onClick:t,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:h.jsx(Pu,{className:"text-xl"})})]}),h.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:r})]})})}),Rte=({title:e,value:t,change:n,icon:r})=>{const a=n.startsWith("+");return h.jsxs(kc.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[h.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:e}),h.jsx("p",{className:"text-3xl font-bold text-gray-900",children:t})]}),h.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:r})]}),h.jsxs("p",{className:"mt-3 text-xs font-semibold "+(a?"text-green-600":"text-red-600"),children:[n," from last month"]})]})},Fte=()=>{const[e,t]=x.useState([]),{getWorkGroup:n,deleteWorkGroup:r}=gt(),[a,i]=x.useState(!0),[s,o]=x.useState(null),[l,c]=x.useState(""),[d,u]=x.useState(!1),[p,m]=x.useState(null),[f,g]=x.useState(!1),[b]=x.useState(window.innerWidth<768),[y,v]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return!!e&&JSON.parse(e)}),w=je(),j=x.useRef(null),[N,k]=x.useState(!1),S=x.useMemo(()=>[{id:"workgroup",name:"Work Group"},{id:"description",name:"Description"}],[]),C=x.useCallback(async()=>{try{i(!0);const e=[...await n()].sort((e,t)=>e.id-t.id);t(e)}catch(e){o("Failed to load work groups")}finally{i(!1)}},[n]);x.useEffect(()=>{C()},[C]);const _=x.useMemo(()=>{if(!l)return S;const e=l.toLowerCase();return S.filter(t=>t.name.toLowerCase().includes(e))},[l,S]),A=x.useMemo(()=>{if(!l.trim())return e;const t=l.toLowerCase().trim(),n=t.split(":");let r="all",a=t;return n.length>1&&S.some(e=>e.name.toLowerCase()===n[0].trim())&&(r=n[0].trim(),a=n.slice(1).join(":").trim()),e.filter(e=>{var t,n;const i=null==(t=e.name)?void 0:t.toLowerCase().includes(a),s=null==(n=e.description)?void 0:n.toLowerCase().includes(a);return"work group"===r?i:"description"===r?s:i||s})},[e,l,S]),T=x.useCallback(e=>{m(e),u(!0)},[]);return h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[h.jsx(Lu,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Fu,{mainTitle:"Work Group",mainTitleHighlight:"Page",description:"Manage work groups and their configurations within the system.",icon:h.jsx(Ou,{}),isMobile:b,toggleSidebar:()=>{const e=!y;v(e),localStorage.setItem("sidebarOpen",JSON.stringify(e))}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[h.jsxs(kc.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[h.jsxs("div",{children:[h.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Work Group ",h.jsx("span",{className:"text-blue-600",children:"Management"})]}),h.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Organize and manage work groups by specific company requirements."})]}),h.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[h.jsxs(kc.button,{onClick:()=>w("/workarrangement/workgroup/addworkgroup"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[h.jsx(nu,{className:"text-base"}),h.jsx("span",{children:"Add Work Group"})]}),h.jsxs(kc.button,{onClick:()=>{alert("Import functionality is not yet implemented.")},whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[h.jsx(Su,{className:"text-base"}),h.jsx("span",{children:"Import"})]}),h.jsxs(kc.button,{onClick:()=>g(!f),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[h.jsx(vd,{className:"text-base"}),h.jsx("span",{children:"Filters"}),h.jsx(kc.span,{animate:{rotate:f?180:0},transition:{duration:.2},children:h.jsx(Jc,{className:"text-base"})})]})]})]}),h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[h.jsx(Rte,{title:"Total Work Groups",value:e.length.toString(),change:`+${Math.floor(e.length/10*100)}%`,icon:h.jsx(Ou,{className:"w-6 h-6"})}),h.jsx(Rte,{title:"Active Groups",value:e.filter(e=>e.description&&e.description.length>0).length.toString(),change:`+${Math.floor(e.filter(e=>e.description&&e.description.length>0).length/e.length*100)}%`,icon:h.jsx(Ou,{className:"w-6 h-6"})})]}),h.jsxs(kc.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[h.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:h.jsxs("div",{className:"flex-1 relative",children:[h.jsx(uu,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),h.jsx("input",{ref:j,type:"text",placeholder:"Search by work group or description...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:l,onChange:e=>{const t=e.target.value;c(t)},onFocus:()=>k(!0),"aria-label":"Search work groups"}),h.jsx(Mi,{children:N&&_.length>0&&h.jsx(kc.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.15},className:"search-suggestions absolute left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-10 max-h-56 overflow-y-auto custom-scrollbar",children:_.map(e=>h.jsx(kc.button,{onClick:()=>{return t=e.name,c(`${t}: `),k(!1),void(null==(n=j.current)||n.focus());var t,n},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},className:"w-full text-left p-3 text-gray-700 hover:text-blue-700 transition-colors duration-150 text-sm",role:"option",children:h.jsx("span",{className:"font-semibold",children:e.name})},e.id))})})]})}),h.jsx(Mi,{children:f&&h.jsx(kc.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full"})})]}),a?h.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[h.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),h.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading work group data..."})]}):0===A.length?h.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[h.jsx("p",{className:"text-gray-700 text-base font-medium",children:l?"No work groups found matching your search.":"No work groups available."}),l&&h.jsx("button",{onClick:()=>c(""),className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear Search"})]}):h.jsx(kc.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:h.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:h.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[h.jsx("thead",{className:"bg-blue-50",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Work Group"}),h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Description"}),h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),h.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:A.map((e,t)=>h.jsxs(kc.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[h.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:h.jsx("div",{className:"text-sm font-medium text-gray-900",children:t+1})}),h.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:h.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.name})}),h.jsx("td",{className:"px-5 py-3",children:h.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.description||"-"})}),h.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[h.jsx(kc.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>w(`/workarrangement/workgroup/editworkgroup/${e.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit",children:h.jsx(gu,{className:"inline text-base"})}),h.jsx(kc.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>T(e.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:h.jsx(vu,{className:"inline text-base"})})]})]},e.id))})]})})})]})]}),h.jsx(Ite,{isOpen:d,onClose:()=>u(!1),title:"Confirm Deletion",children:h.jsxs("div",{className:"space-y-5 text-center py-3",children:[h.jsx(ju,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),h.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this work group? This action cannot be undone."}),h.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[h.jsx(kc.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>u(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),h.jsx(kc.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>p&&(async n=>{try{await r(n),t(e.filter(e=>e.id!==n)),u(!1),m(null)}catch(a){o("Failed to delete work group. Please try again.")}})(p),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})]})},Hte=({isOpen:e,onClose:t,title:n,children:r})=>e?h.jsx(kc.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:h.jsxs(kc.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[h.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[h.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n}),h.jsx(kc.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:t,className:"text-gray-500 hover:text-gray-700 text-2xl",children:h.jsx(Pu,{size:24})})]}),h.jsx("div",{children:r})]})}):null,zte=()=>{const{id:e}=ke(),[t,n]=x.useState(window.innerWidth<768),[r,a]=x.useState([]),[i,s]=x.useState(),{getWorkShift:o,updateWorkShift:l,getWorkShiftById:c}=gt(),[d,u]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return!!e&&JSON.parse(e)}),[p,m]=x.useState(null),[f,g]=x.useState(null),[b,y]=x.useState(!1),[v,w]=x.useState(!1),j=je(),[N,k]=x.useState({name:"",description:""});x.useEffect(()=>{i&&k({name:i.name||"",description:i.description||""})},[i]);const S=e=>{const{name:t,value:n}=e.target;k(e=>({...e,[t]:"sla"===t?Number(n):n}))},C=x.useCallback(async()=>{try{if(e){const[t]=await Promise.all([c(e)]);s(t)}}catch(t){m(t.message||"Failed to load form data")}},[e,c]);x.useEffect(()=>{e&&C()},[e,C]);const _=()=>{y(!1),j("/workarrangement/workshift")};return h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Lu,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Fu,{mainTitle:"Edit Work Shift",mainTitleHighlight:"Management",description:"blablablabl",icon:h.jsx(id,{}),isMobile:t,toggleSidebar:()=>{u(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[h.jsxs(kc.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Work Shift"}),h.jsx("p",{className:"text-gray-600 mt-1",children:"Update Work Shift information"})]}),h.jsxs(kc.button,{onClick:()=>j("/workarrangement/workshift"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[h.jsx(Rc,{className:"text-lg"})," Back to Work Shift Management"]})]}),h.jsxs(kc.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[p&&h.jsxs(kc.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[h.jsx("strong",{className:"font-bold",children:"Error!"}),h.jsx("span",{className:"block sm:inline ml-2",children:p}),h.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:h.jsx(Pu,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>m(null)})})]}),h.jsxs("form",{onSubmit:async t=>{t.preventDefault(),w(!0),m(null);try{const t={name:N.name,description:N.description};await l(e,t),g("Work Shift update successfully!"),y(!0)}catch(n){m(n.message||"Failed to update Work Shift")}finally{w(!1)}},className:"space-y-6",children:[h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Work Shift Information"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Work Shift Name ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",name:"name",id:"name",value:N.name,onChange:S,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",name:"description",id:"description",value:N.description,onChange:S,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),h.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[h.jsx(kc.button,{type:"button",onClick:()=>j("/workarrangement/workshift"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),h.jsx(kc.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:v,children:v?h.jsxs(h.Fragment,{children:[h.jsx(Ad,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):h.jsxs(h.Fragment,{children:[h.jsx(du,{className:"mr-2 h-5 w-5"})," Save Work Shift"]})})]})]})]})]})]}),h.jsx(Hte,{isOpen:b,onClose:_,title:"Success!",children:h.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[h.jsx(td,{className:"text-green-500 text-6xl mb-4"}),h.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:f}),h.jsx(kc.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:_,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Work Shift Management"})]})})]})},Bte=({isOpen:e,onClose:t,title:n,children:r})=>e?h.jsx(kc.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:h.jsxs(kc.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[h.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[h.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n}),h.jsx(kc.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:t,className:"text-gray-500 hover:text-gray-700 text-2xl",children:h.jsx(Pu,{size:24})})]}),h.jsx("div",{children:r})]})}):null,Wte=()=>{const[e,t]=x.useState(window.innerWidth<768),[n,r]=x.useState([]),[a,i]=x.useState([]),{addWorkShift:s,getWorkShift:o}=gt(),[l,c]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return!!e&&JSON.parse(e)}),[d,u]=x.useState(null),[p,m]=x.useState(null),[f,g]=x.useState(!1),[b,y]=x.useState(!1),v=je(),[w,j]=x.useState({name:"",description:""}),N=e=>{const{name:t,value:n}=e.target;j(e=>({...e,[t]:"sla"===t?Number(n):n}))},k=x.useCallback(async()=>{try{const[e]=await Promise.all([o()]);r(e)}catch(e){u(e.message||"Failed to load form data")}},[o]);x.useEffect(()=>{k()},[k]);const S=()=>{g(!1),v("/workarrangement/workshift")};return h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Lu,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Fu,{mainTitle:"Create Work Shift",mainTitleHighlight:"Management",description:"blablablabl",icon:h.jsx(id,{}),isMobile:e,toggleSidebar:()=>{c(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[h.jsxs(kc.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Work Shift"}),h.jsx("p",{className:"text-gray-600 mt-1",children:"Add a new Work Shift information"})]}),h.jsxs(kc.button,{onClick:()=>v("/workarrangement/workshift"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[h.jsx(Rc,{className:"text-lg"})," Back to Work Shift Management"]})]}),h.jsxs(kc.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[d&&h.jsxs(kc.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[h.jsx("strong",{className:"font-bold",children:"Error!"}),h.jsx("span",{className:"block sm:inline ml-2",children:d}),h.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:h.jsx(Pu,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>u(null)})})]}),h.jsxs("form",{onSubmit:async e=>{e.preventDefault(),y(!0),u(null);try{const e={name:w.name,description:w.description};await s(e),m("Work Shift created successfully!"),g(!0)}catch(t){u(t.message||"Failed to create Work Shift")}finally{y(!1)}},className:"space-y-6",children:[h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Work Shift Information"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Work Shift Name ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",name:"name",id:"name",value:w.name,onChange:N,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",name:"description",id:"description",value:w.description,onChange:N,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),h.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[h.jsx(kc.button,{type:"button",onClick:()=>v("/workarrangement/workshift"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),h.jsx(kc.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:b,children:b?h.jsxs(h.Fragment,{children:[h.jsx(Ad,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):h.jsxs(h.Fragment,{children:[h.jsx(du,{className:"mr-2 h-5 w-5"})," Save Work Shift"]})})]})]})]})]})]}),h.jsx(Bte,{isOpen:f,onClose:S,title:"Success!",children:h.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[h.jsx(td,{className:"text-green-500 text-6xl mb-4"}),h.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:p}),h.jsx(kc.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:S,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Work Shift Management"})]})})]})},$te=({isOpen:e,onClose:t,title:n,children:r,className:a})=>h.jsx(Mi,{children:e&&h.jsx(kc.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:h.jsxs(kc.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${a||"max-w-xl w-full"}`,children:[h.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[h.jsx("h2",{className:"text-xl font-bold text-gray-800",children:n}),h.jsx("button",{onClick:t,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:h.jsx(Pu,{className:"text-xl"})})]}),h.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:r})]})})}),Ute=({title:e,value:t,change:n,icon:r})=>{const a=n.startsWith("+");return h.jsxs(kc.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[h.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:e}),h.jsx("p",{className:"text-3xl font-bold text-gray-900",children:t})]}),h.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:r})]}),h.jsxs("p",{className:"mt-3 text-xs font-semibold "+(a?"text-green-600":"text-red-600"),children:[n," from last month"]})]})},Vte=()=>{const[e,t]=x.useState([]),{getWorkShift:n,deleteWorkShift:r}=gt(),[a,i]=x.useState(!0),[s,o]=x.useState(null),[l,c]=x.useState(""),[d,u]=x.useState(!1),[p,m]=x.useState(null),[f,g]=x.useState(!1),[b]=x.useState(window.innerWidth<768),[y,v]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return!!e&&JSON.parse(e)}),w=je(),j=x.useRef(null),[N,k]=x.useState(!1),S=x.useMemo(()=>[{id:"workshift",name:"Work Shift"},{id:"description",name:"Description"}],[]),C=x.useCallback(async()=>{try{i(!0);const e=[...await n()].sort((e,t)=>e.id-t.id);t(e)}catch(e){o("Failed to load work shifts")}finally{i(!1)}},[n]);x.useEffect(()=>{C()},[C]);const _=x.useMemo(()=>{if(!l)return S;const e=l.toLowerCase();return S.filter(t=>t.name.toLowerCase().includes(e))},[l,S]),A=x.useMemo(()=>{if(!l.trim())return e;const t=l.toLowerCase().trim(),n=t.split(":");let r="all",a=t;return n.length>1&&S.some(e=>e.name.toLowerCase()===n[0].trim())&&(r=n[0].trim(),a=n.slice(1).join(":").trim()),e.filter(e=>{var t,n;const i=null==(t=e.name)?void 0:t.toLowerCase().includes(a),s=null==(n=e.description)?void 0:n.toLowerCase().includes(a);return"work shift"===r?i:"description"===r?s:i||s})},[e,l,S]),T=x.useCallback(e=>{m(e),u(!0)},[]);return h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[h.jsx(Lu,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Fu,{mainTitle:"Work Shift",mainTitleHighlight:"Page",description:"Manage work shifts and their configurations within the system.",icon:h.jsx(id,{}),isMobile:b,toggleSidebar:()=>{const e=!y;v(e),localStorage.setItem("sidebarOpen",JSON.stringify(e))}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[h.jsxs(kc.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[h.jsxs("div",{children:[h.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Work Shift ",h.jsx("span",{className:"text-blue-600",children:"Management"})]}),h.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Organize and manage work shifts by specific company requirements."})]}),h.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[h.jsxs(kc.button,{onClick:()=>w("/workarrangement/workshift/addworkshift"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[h.jsx(nu,{className:"text-base"}),h.jsx("span",{children:"Add Work Shift"})]}),h.jsxs(kc.button,{onClick:()=>{alert("Import functionality is not yet implemented.")},whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[h.jsx(Su,{className:"text-base"}),h.jsx("span",{children:"Import"})]}),h.jsxs(kc.button,{onClick:()=>g(!f),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[h.jsx(vd,{className:"text-base"}),h.jsx("span",{children:"Filters"}),h.jsx(kc.span,{animate:{rotate:f?180:0},transition:{duration:.2},children:h.jsx(Jc,{className:"text-base"})})]})]})]}),h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[h.jsx(Ute,{title:"Total Work Shifts",value:e.length.toString(),change:`+${Math.floor(e.length/10*100)}%`,icon:h.jsx(id,{className:"w-6 h-6"})}),h.jsx(Ute,{title:"Active Shifts",value:e.filter(e=>e.description&&e.description.length>0).length.toString(),change:`+${Math.floor(e.filter(e=>e.description&&e.description.length>0).length/e.length*100)}%`,icon:h.jsx(id,{className:"w-6 h-6"})})]}),h.jsxs(kc.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[h.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:h.jsxs("div",{className:"flex-1 relative",children:[h.jsx(uu,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),h.jsx("input",{ref:j,type:"text",placeholder:"Search by work shift or description...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:l,onChange:e=>{const t=e.target.value;c(t)},onFocus:()=>k(!0),"aria-label":"Search work shifts"}),h.jsx(Mi,{children:N&&_.length>0&&h.jsx(kc.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.15},className:"search-suggestions absolute left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-10 max-h-56 overflow-y-auto custom-scrollbar",children:_.map(e=>h.jsx(kc.button,{onClick:()=>{return t=e.name,c(`${t}: `),k(!1),void(null==(n=j.current)||n.focus());var t,n},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},className:"w-full text-left p-3 text-gray-700 hover:text-blue-700 transition-colors duration-150 text-sm",role:"option",children:h.jsx("span",{className:"font-semibold",children:e.name})},e.id))})})]})}),h.jsx(Mi,{children:f&&h.jsx(kc.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full"})})]}),a?h.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[h.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),h.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading work shift data..."})]}):0===A.length?h.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[h.jsx("p",{className:"text-gray-700 text-base font-medium",children:l?"No work shifts found matching your search.":"No work shifts available."}),l&&h.jsx("button",{onClick:()=>c(""),className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear Search"})]}):h.jsx(kc.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:h.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:h.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[h.jsx("thead",{className:"bg-blue-50",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Work Shift"}),h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Description"}),h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),h.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:A.map((e,t)=>h.jsxs(kc.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[h.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:h.jsx("div",{className:"text-sm font-medium text-gray-900",children:t+1})}),h.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:h.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.name})}),h.jsx("td",{className:"px-5 py-3",children:h.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.description||"-"})}),h.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[h.jsx(kc.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>w(`/workarrangement/workshift/editworkshift/${e.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit",children:h.jsx(gu,{className:"inline text-base"})}),h.jsx(kc.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>T(e.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:h.jsx(vu,{className:"inline text-base"})})]})]},e.id))})]})})})]})]}),h.jsx($te,{isOpen:d,onClose:()=>u(!1),title:"Confirm Deletion",children:h.jsxs("div",{className:"space-y-5 text-center py-3",children:[h.jsx(ju,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),h.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this work shift? This action cannot be undone."}),h.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[h.jsx(kc.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>u(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),h.jsx(kc.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>p&&(async n=>{try{await r(n),t(e.filter(e=>e.id!==n)),u(!1),m(null)}catch(a){o("Failed to delete work shift. Please try again.")}})(p),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})]})},qte=({isOpen:e,onClose:t,title:n,children:r})=>e?h.jsx(kc.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:h.jsxs(kc.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[h.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[h.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n}),h.jsx(kc.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:t,className:"text-gray-500 hover:text-gray-700 text-2xl",children:h.jsx(Pu,{size:24})})]}),h.jsx("div",{children:r})]})}):null,Gte=()=>{const e=je(),{getAllMasterMonitoring:t,addMonitoringSchedule:n,addMonitoringActivities:r,getMesinDetail:a}=gt(),[i,s]=x.useState(window.innerWidth<768),[o,l]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return JSON.parse(e||"false")}),[c,d]=x.useState(!1),[u,p]=x.useState(null),[m,f]=x.useState(null),[g,b]=x.useState(!1),[y,v]=x.useState(null),[w,j]=x.useState(!0),[N,k]=x.useState(1),[S,C]=x.useState({startDate:null,endDate:null,units:[]}),_={control:(e,t)=>({...e,minHeight:"42px",borderColor:t.isFocused?"#3B82F6":"#D1D5DB",boxShadow:t.isFocused?"0 0 0 1px #3B82F6":"none","&:hover":{borderColor:"#9CA3AF"},borderRadius:"0.5rem",backgroundColor:"#FFFFFF",padding:"0 0.5rem",transition:"all 0.15s ease-in-out"}),valueContainer:e=>({...e,padding:"0"}),singleValue:e=>({...e,color:"#374151"}),placeholder:e=>({...e,color:"#6B7280"}),dropdownIndicator:e=>({...e,color:"#9CA3AF"}),clearIndicator:e=>({...e,color:"#9CA3AF"}),menu:e=>({...e,zIndex:9999,borderRadius:"0.5rem",border:"1px solid #E5E7EB",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"}),option:(e,t)=>({...e,backgroundColor:t.isFocused?"#EFF6FF":"#FFFFFF",color:"#1F2937","&:active":{backgroundColor:"#DBEAFE"},padding:"0.625rem 1rem"})};x.useEffect(()=>{(async()=>{try{j(!0);const e=await t();v(e)}catch(e){p("Gagal memuat data master")}finally{j(!1)}})()},[t]);const A=x.useCallback(()=>{C(e=>({...e,units:[...e.units,{id:0,name:"",machines:[]}]}))},[]),T=x.useCallback(e=>{C(t=>({...t,units:t.units.filter((t,n)=>n!==e)}))},[]),O=x.useCallback((e,t)=>{var n;if(t){const r=null==(n=null==y?void 0:y.unitsWithMachines)?void 0:n.find(e=>e.id===t.value);r&&C(t=>{const n=[...t.units];return n[e]={id:r.id,name:r.name,machines:[]},{...t,units:n}})}else C(t=>{const n=[...t.units];return n[e]={id:0,name:"",machines:[]},{...t,units:n}})},[y]),E=x.useCallback(e=>{C(t=>{const n=[...t.units];return n[e].machines=[...n[e].machines,{id:0,name:"",intervalId:null,items:[]}],{...t,units:n}})},[]),M=x.useCallback((e,t)=>{C(n=>{const r=[...n.units];return r[e].machines=r[e].machines.filter((e,n)=>n!==t),{...n,units:r}})},[]),P=x.useCallback(async(e,t,n)=>{if(n)try{const r=await a(n.value);r&&C(n=>{const a=[...n.units];return a[e].machines[t]={id:r.id,name:r.name,intervalId:null,items:r.item_mesin.map(e=>({...e,hasil_monitoring:"",hasil_keterangan:"",interval_type:""}))},{...n,units:a}})}catch(r){p("Gagal memuat detail mesin")}else C(n=>{const r=[...n.units];return r[e].machines[t]={id:0,name:"",intervalId:null,items:[]},{...n,units:r}})},[a]),D=x.useCallback((e,t,n)=>{var r,a,i;if(n&&(null==(a=null==(r=S.units[e])?void 0:r.machines[t])?void 0:a.id)){const r=null==(i=null==y?void 0:y.intervals)?void 0:i.find(e=>e.id_interval===n.value);r&&C(n=>{const a=[...n.units],i=a[e].machines[t],s=i.items.filter(e=>e.interval_id===r.id_interval);return a[e].machines[t]={...i,intervalId:r.id_interval,intervalType:r.type_interval,items:s.map(e=>({...e,interval_type:r.type_interval}))},{...n,units:a}})}else C(n=>{const r=[...n.units],a=r[e].machines[t];return r[e].machines[t]={...a,intervalId:null,intervalType:void 0,items:a.items.map(e=>({...e,interval_type:""}))},{...n,units:r}})},[y,S.units]);x.useCallback((e,t,n,r,a)=>{C(i=>{const s=[...i.units];return s[e].machines[t].items[n]={...s[e].machines[t].items[n],[r]:a},{...i,units:s}})},[]);const L=["January","February","March","April","May","June","July","August","September","October","November","December"],I=x.useCallback(()=>{b(!1),e("/monitoringmaintenance")},[e]),R=x.useMemo(()=>{switch(N){case 1:return!S.startDate||!S.endDate;case 2:return 0===S.units.length||S.units.every(e=>!e.id);case 3:return S.units.every(e=>0===e.machines.length||e.machines.every(e=>!e.id||!e.intervalId||0===e.items.length));case 4:return!S.units.some(e=>e.machines.some(e=>e.id&&e.intervalId&&e.items.length>0));default:return!0}},[N,S]);return h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Lu,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Fu,{mainTitle:"Create Monitoring Schedule",mainTitleHighlight:"Create Monitoring Schedule",description:"Manage user roles and permissions to control access and functionality within the system.",icon:h.jsx(Yd,{}),isMobile:i,toggleSidebar:()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!o)),l(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[h.jsxs(kc.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create Monitoring Schedule"}),h.jsx("p",{className:"text-gray-600 mt-1",children:"All create detail for monitoring schedule"})]}),h.jsxs(kc.button,{onClick:()=>e("/monitoringmaintenance"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg shadow-md",children:[h.jsx(Rc,{className:"text-lg"})," Back To Monitoring Maintenance"]})]}),h.jsxs(kc.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[u&&h.jsxs(kc.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",children:[h.jsx("strong",{className:"font-bold",children:"Error!"}),h.jsx("span",{className:"block sm:inline ml-2",children:u}),h.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:h.jsx(Pu,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>p(null)})})]}),h.jsx("div",{className:"flex justify-around items-center mb-8 border-b-2 border-gray-100",children:[1,2,3,4].map(e=>h.jsxs("button",{type:"button",onClick:()=>k(e),disabled:2===e&&(!S.startDate||!S.endDate)||3===e&&(0===S.units.length||S.units.every(e=>!e.id))||4===e&&S.units.every(e=>e.machines.every(e=>!e.id||!e.intervalId)),className:`px-4 py-2 font-medium ${N===e?"border-b-2 border-blue-500 text-blue-600":"text-gray-500"} ${2===e&&(!S.startDate||!S.endDate)||3===e&&(0===S.units.length||S.units.every(e=>!e.id))||4===e&&S.units.every(e=>e.machines.every(e=>!e.id||!e.intervalId))?"opacity-50 cursor-not-allowed":""}`,children:[e,". ",["Date","Unit","Machine & Interval","Item"][e-1]]},e))}),h.jsx(Mi,{mode:"wait",children:(()=>{if(w)return h.jsx("div",{className:"flex justify-center items-center py-8",children:h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})});switch(N){case 1:return h.jsxs(kc.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},children:[h.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Monitoring Schedule"}),h.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-6 md:gap-8",children:[h.jsxs("div",{className:"flex-1",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),h.jsx(ab,{selected:S.startDate,onChange:e=>C(t=>({...t,startDate:e})),dateFormat:"dd/MM/yyyy",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholderText:"Pilih Tanggal Mulai",isClearable:!0})]}),h.jsx("div",{className:"text-gray-400 hidden md:block mt-6",children:h.jsx(Fc,{size:24})}),h.jsxs("div",{className:"flex-1",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),h.jsx(ab,{selected:S.endDate,onChange:e=>C(t=>({...t,endDate:e})),dateFormat:"dd/MM/yyyy",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholderText:"Pilih Tanggal Selesai",isClearable:!0})]})]})]},"step1");case 2:return h.jsxs(kc.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},children:[h.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Unit"}),h.jsxs("div",{className:"space-y-4",children:[S.units.map((e,t)=>{var n;return h.jsxs(kc.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 border border-gray-200 rounded-lg bg-gray-50 flex items-center space-x-2",children:[h.jsx("div",{className:"flex-1",children:h.jsx(rN,{options:(null==(n=null==y?void 0:y.unitsWithMachines)?void 0:n.map(e=>({value:e.id,label:e.name})))||[],value:e.id?{value:e.id,label:e.name}:null,onChange:e=>O(t,e),isClearable:!0,placeholder:"Pilih Unit",styles:_,noOptionsMessage:()=>"Tidak ada unit tersedia"})}),S.units.length>1&&h.jsx(kc.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>T(t),className:"text-red-500 hover:text-red-700 p-1",type:"button",children:h.jsx(vu,{size:20})})]},t)}),h.jsxs(kc.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:A,className:"flex items-center justify-center w-full px-4 py-2 border-2 border-dashed border-gray-300 rounded-lg text-gray-600 hover:bg-gray-100",type:"button",children:[h.jsx(nu,{size:20,className:"mr-2"})," Add Unit"]})]})]},"step2");case 3:return h.jsxs(kc.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},children:[h.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Machine & Interval"}),h.jsx("div",{className:"space-y-6",children:S.units.map((e,t)=>e.id&&h.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg bg-gray-50",children:[h.jsx("h3",{className:"font-semibold text-gray-700 mb-3",children:e.name}),h.jsx("div",{className:"space-y-4",children:e.machines.map((n,r)=>{var a,i,s,o;return h.jsxs(kc.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 border border-gray-300 rounded-lg bg-white space-y-4",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Machine"}),h.jsx(rN,{options:(null==(s=null==(i=null==(a=null==y?void 0:y.unitsWithMachines)?void 0:a.find(t=>t.id===e.id))?void 0:i.mesin)?void 0:s.map(e=>({value:e.id,label:e.name})))||[],value:n.id?{value:n.id,label:n.name}:null,onChange:e=>P(t,r,e),isClearable:!0,placeholder:"Select Machine",styles:_})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Interval"}),h.jsx(rN,{options:(null==(o=null==y?void 0:y.intervals)?void 0:o.map(e=>({value:e.id_interval,label:e.type_interval})))||[],value:n.intervalId?{value:n.intervalId,label:n.intervalType}:null,onChange:e=>D(t,r,e),isClearable:!0,placeholder:n.id?"Select Interval":"Please Select Machine",isDisabled:!n.id||0===n.items.length,styles:_})]})]}),n.id&&h.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("span",{className:"text-sm font-medium text-blue-800",children:["Total ",n.items.length," item monitoring tersedia"]}),n.intervalId&&h.jsxs("span",{className:"text-sm text-green-600",children:[n.items.filter(e=>e.interval_id===n.intervalId).length," item untuk interval ",n.intervalType]})]}),0===n.items.length&&h.jsx("span",{className:"text-xs text-orange-600 bg-orange-100 px-2 py-1 rounded mt-2 inline-block",children:"Mesin ini belum memiliki item monitoring"})]}),h.jsx("div",{className:"flex justify-end",children:h.jsx(kc.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>M(t,r),className:"text-red-500 hover:text-red-700",children:h.jsx(vu,{size:20})})})]},r)})}),h.jsxs(kc.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>E(t),className:"mt-4 flex items-center justify-center w-full px-4 py-2 border-2 border-dashed border-gray-300 rounded-lg text-gray-600 hover:bg-gray-100",children:[h.jsx(nu,{size:20,className:"mr-2"})," Add Machine"]})]},t))})]},"step3");case 4:return h.jsxs(kc.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},children:[h.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Item Monitoring"}),h.jsx("div",{className:"space-y-6",children:S.units.map((e,t)=>e.id&&e.machines.map((n,r)=>n.id&&h.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg bg-gray-50",children:[h.jsxs("h3",{className:"font-semibold text-gray-700 mb-3",children:[e.name," - ",n.name]}),n.items.length>0?h.jsx("div",{className:"space-y-4",children:n.items.map((e,t)=>h.jsxs(kc.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-3 border border-gray-300 rounded-lg bg-white",children:[h.jsxs("h4",{className:"font-bold text-gray-800 mb-2",children:[e.item_mesin," (",e.satuan,")"]}),e.interval_type&&h.jsx("span",{className:"bg-green-100 text-green-800 text-xs font-medium px-2.5 py-0.5 rounded",children:e.interval_type}),e.standard_min&&e.standard_max&&h.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Standar: ",e.standard_min," - ",e.standard_max]}),e.standard_visual&&h.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Standar Visual: ",e.standard_visual]})]},t))}):h.jsx("p",{className:"text-gray-500 italic mt-2",children:"Tidak ada item monitoring untuk mesin ini."})]},`${t}-${r}`)))})]},"step4");default:return null}})()}),h.jsxs("div",{className:"flex justify-between items-center mt-8 pt-6 border-t border-gray-100",children:[N>1&&h.jsxs(kc.button,{type:"button",onClick:()=>k(e=>e-1),whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-6 py-3 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:ring-2 focus:ring-blue-500 flex items-center",children:[h.jsx(Xc,{className:"mr-2 h-5 w-5"})," Back"]}),N<4?h.jsxs(kc.button,{type:"button",onClick:()=>k(e=>e+1),disabled:R,whileHover:{scale:R?1:1.03},whileTap:{scale:R?1:.97},className:"ml-auto px-6 py-3 border border-transparent rounded-lg text-sm font-medium text-white bg-blue-600 focus:ring-2 focus:ring-blue-500 flex items-center "+(R?"opacity-50 cursor-not-allowed":"hover:bg-blue-700"),children:["Lanjut ",h.jsx(Qc,{className:"ml-2 h-5 w-5"})]}):h.jsx(kc.button,{type:"button",onClick:async e=>{e.preventDefault(),d(!0),p(null);try{if(!S.startDate||!S.endDate)throw new Error("Tanggal mulai dan selesai harus diisi");if(0===S.units.length||S.units.some(e=>!e.id))throw new Error("Pilih setidaknya satu unit");const e=e=>`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`,t=[];for(const r of S.units)for(const a of r.machines)if(a.id&&a.items.length>0){const i=a.items.map(e=>e.id),s={tahun:S.startDate.getFullYear(),bulan:L[S.startDate.getMonth()],tgl_start:e(S.startDate),tgl_end:e(S.endDate),unit:r.name,id_mesins:a.id,id_interval:a.intervalId||1,item_mesin_ids:i},o=await n(s);t.push(o)}if(0===t.length)throw new Error("Tidak ada data monitoring yang valid untuk disimpan");f("Data monitoring berhasil disimpan!"),b(!0)}catch(t){p(t.message||"Gagal menyimpan data monitoring")}finally{d(!1)}},disabled:R||c,whileHover:{scale:R?1:1.03},whileTap:{scale:R?1:.97},className:"ml-auto px-6 py-3 border border-transparent rounded-lg text-sm font-medium text-white bg-blue-600 focus:ring-2 focus:ring-blue-500 flex items-center "+(R||c?"opacity-50 cursor-not-allowed":"hover:bg-blue-700"),children:c?h.jsxs(h.Fragment,{children:[h.jsx(Ad,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):h.jsxs(h.Fragment,{children:[h.jsx(du,{className:"mr-2 h-5 w-5"})," Save Monitoring"]})})]})]})]})]}),h.jsx(qte,{isOpen:g,onClose:I,title:"Success!",children:h.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[h.jsx(td,{className:"text-green-500 text-6xl mb-4"}),h.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:"Data monitoring schedule berhasil disimpan!"}),h.jsx(kc.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:I,className:"mt-6 px-6 py-3 border border-transparent rounded-lg text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:ring-2 focus:ring-blue-500",children:"Go to Monitoring Mainteannce"})]})})]})},Yte={},Kte=function(e,t,n){let r=Promise.resolve();if(t&&t.length>0){let e=function(e){return Promise.all(e.map(e=>Promise.resolve(e).then(e=>({status:"fulfilled",value:e}),e=>({status:"rejected",reason:e}))))};document.getElementsByTagName("link");const n=document.querySelector("meta[property=csp-nonce]"),a=(null==n?void 0:n.nonce)||(null==n?void 0:n.getAttribute("nonce"));r=e(t.map(e=>{if((e=function(e){return"/"+e}(e))in Yte)return;Yte[e]=!0;const t=e.endsWith(".css"),n=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${n}`))return;const r=document.createElement("link");return r.rel=t?"stylesheet":"modulepreload",t||(r.as="script"),r.crossOrigin="",r.href=e,a&&r.setAttribute("nonce",a),document.head.appendChild(r),t?new Promise((t,n)=>{r.addEventListener("load",t),r.addEventListener("error",()=>n(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function a(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return r.then(t=>{for(const e of t||[])"rejected"===e.status&&a(e.reason);return e().catch(a)})};var Jte=Uint8Array,Xte=Uint16Array,Qte=Int32Array,Zte=new Jte([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),ene=new Jte([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),tne=new Jte([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),nne=function(e,t){for(var n=new Xte(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];var a=new Qte(n[30]);for(r=1;r<30;++r)for(var i=n[r];i<n[r+1];++i)a[i]=i-n[r]<<5|r;return{b:n,r:a}},rne=nne(Zte,2),ane=rne.b,ine=rne.r;ane[28]=258,ine[258]=28;for(var sne=nne(ene,0).r,one=new Xte(32768),lne=0;lne<32768;++lne){var cne=(43690&lne)>>1|(21845&lne)<<1;cne=(61680&(cne=(52428&cne)>>2|(13107&cne)<<2))>>4|(3855&cne)<<4,one[lne]=((65280&cne)>>8|(255&cne)<<8)>>1}var dne=function(e,t,n){for(var r=e.length,a=0,i=new Xte(t);a<r;++a)e[a]&&++i[e[a]-1];var s,o=new Xte(t);for(a=1;a<t;++a)o[a]=o[a-1]+i[a-1]<<1;if(n){s=new Xte(1<<t);var l=15-t;for(a=0;a<r;++a)if(e[a])for(var c=a<<4|e[a],d=t-e[a],u=o[e[a]-1]++<<d,h=u|(1<<d)-1;u<=h;++u)s[one[u]>>l]=c}else for(s=new Xte(r),a=0;a<r;++a)e[a]&&(s[a]=one[o[e[a]-1]++]>>15-e[a]);return s},une=new Jte(288);for(lne=0;lne<144;++lne)une[lne]=8;for(lne=144;lne<256;++lne)une[lne]=9;for(lne=256;lne<280;++lne)une[lne]=7;for(lne=280;lne<288;++lne)une[lne]=8;var hne=new Jte(32);for(lne=0;lne<32;++lne)hne[lne]=5;var pne=dne(une,9,0),mne=dne(hne,5,0),fne=function(e){return(e+7)/8|0},gne=function(e,t,n){n<<=7&t;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8},xne=function(e,t,n){n<<=7&t;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8,e[r+2]|=n>>16},bne=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var a=n.length,i=n.slice();if(!a)return{t:Sne,l:0};if(1==a){var s=new Jte(n[0].s+1);return s[n[0].s]=1,{t:s,l:1}}n.sort(function(e,t){return e.f-t.f}),n.push({s:-1,f:25001});var o=n[0],l=n[1],c=0,d=1,u=2;for(n[0]={s:-1,f:o.f+l.f,l:o,r:l};d!=a-1;)o=n[n[c].f<n[u].f?c++:u++],l=n[c!=d&&n[c].f<n[u].f?c++:u++],n[d++]={s:-1,f:o.f+l.f,l:o,r:l};var h=i[0].s;for(r=1;r<a;++r)i[r].s>h&&(h=i[r].s);var p=new Xte(h+1),m=yne(n[d-1],p,0);if(m>t){r=0;var f=0,g=m-t,x=1<<g;for(i.sort(function(e,t){return p[t.s]-p[e.s]||e.f-t.f});r<a;++r){var b=i[r].s;if(!(p[b]>t))break;f+=x-(1<<m-p[b]),p[b]=t}for(f>>=g;f>0;){var y=i[r].s;p[y]<t?f-=1<<t-p[y]++-1:++r}for(;r>=0&&f;--r){var v=i[r].s;p[v]==t&&(--p[v],++f)}m=t}return{t:new Jte(p),l:m}},yne=function(e,t,n){return-1==e.s?Math.max(yne(e.l,t,n+1),yne(e.r,t,n+1)):t[e.s]=n},vne=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new Xte(++t),r=0,a=e[0],i=1,s=function(e){n[r++]=e},o=1;o<=t;++o)if(e[o]==a&&o!=t)++i;else{if(!a&&i>2){for(;i>138;i-=138)s(32754);i>2&&(s(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(s(a),--i;i>6;i-=6)s(8304);i>2&&(s(i-3<<5|8208),i=0)}for(;i--;)s(a);i=1,a=e[o]}return{c:n.subarray(0,r),n:t}},wne=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},jne=function(e,t,n){var r=n.length,a=fne(t+2);e[a]=255&r,e[a+1]=r>>8,e[a+2]=255^e[a],e[a+3]=255^e[a+1];for(var i=0;i<r;++i)e[a+i+4]=n[i];return 8*(a+4+r)},Nne=function(e,t,n,r,a,i,s,o,l,c,d){gne(t,d++,n),++a[256];for(var u=bne(a,15),h=u.t,p=u.l,m=bne(i,15),f=m.t,g=m.l,x=vne(h),b=x.c,y=x.n,v=vne(f),w=v.c,j=v.n,N=new Xte(19),k=0;k<b.length;++k)++N[31&b[k]];for(k=0;k<w.length;++k)++N[31&w[k]];for(var S=bne(N,7),C=S.t,_=S.l,A=19;A>4&&!C[tne[A-1]];--A);var T,O,E,M,P=c+5<<3,D=wne(a,une)+wne(i,hne)+s,L=wne(a,h)+wne(i,f)+s+14+3*A+wne(N,C)+2*N[16]+3*N[17]+7*N[18];if(l>=0&&P<=D&&P<=L)return jne(t,d,e.subarray(l,l+c));if(gne(t,d,1+(L<D)),d+=2,L<D){T=dne(h,p,0),O=h,E=dne(f,g,0),M=f;var I=dne(C,_,0);for(gne(t,d,y-257),gne(t,d+5,j-1),gne(t,d+10,A-4),d+=14,k=0;k<A;++k)gne(t,d+3*k,C[tne[k]]);d+=3*A;for(var R=[b,w],F=0;F<2;++F){var H=R[F];for(k=0;k<H.length;++k){var z=31&H[k];gne(t,d,I[z]),d+=C[z],z>15&&(gne(t,d,H[k]>>5&127),d+=H[k]>>12)}}}else T=pne,O=une,E=mne,M=hne;for(k=0;k<o;++k){var B=r[k];if(B>255){xne(t,d,T[257+(z=B>>18&31)]),d+=O[z+257],z>7&&(gne(t,d,B>>23&31),d+=Zte[z]);var W=31&B;xne(t,d,E[W]),d+=M[W],W>3&&(xne(t,d,B>>5&8191),d+=ene[W])}else xne(t,d,T[B]),d+=O[B]}return xne(t,d,T[256]),d+O[256]},kne=new Qte([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Sne=new Jte(0),Cne=function(){var e=1,t=0;return{p:function(n){for(var r=e,a=t,i=0|n.length,s=0;s!=i;){for(var o=Math.min(s+2655,i);s<o;++s)a+=r+=n[s];r=(65535&r)+15*(r>>16),a=(65535&a)+15*(a>>16)}e=r,t=a},d:function(){return(255&(e%=65521))<<24|(65280&e)<<8|(255&(t%=65521))<<8|t>>8}}},_ne=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8};function Ane(e,t){t||(t={});var n=Cne();n.p(e);var r=function(e,t,n,r,a){if(!a&&(a={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),s=new Jte(i.length+e.length);s.set(i),s.set(e,i.length),e=s,a.w=i.length}return function(e,t,n,r,a,i){var s=i.z||e.length,o=new Jte(r+s+5*(1+Math.ceil(s/7e3))+a),l=o.subarray(r,o.length-a),c=i.l,d=7&(i.r||0);if(t){d&&(l[0]=i.r>>3);for(var u=kne[t-1],h=u>>13,p=8191&u,m=(1<<n)-1,f=i.p||new Xte(32768),g=i.h||new Xte(m+1),x=Math.ceil(n/3),b=2*x,y=function(t){return(e[t]^e[t+1]<<x^e[t+2]<<b)&m},v=new Qte(25e3),w=new Xte(288),j=new Xte(32),N=0,k=0,S=i.i||0,C=0,_=i.w||0,A=0;S+2<s;++S){var T=y(S),O=32767&S,E=g[T];if(f[O]=E,g[T]=O,_<=S){var M=s-S;if((N>7e3||C>24576)&&(M>423||!c)){d=Nne(e,l,0,v,w,j,k,C,A,S-A,d),C=N=k=0,A=S;for(var P=0;P<286;++P)w[P]=0;for(P=0;P<30;++P)j[P]=0}var D=2,L=0,I=p,R=O-E&32767;if(M>2&&T==y(S-R))for(var F=Math.min(h,M)-1,H=Math.min(32767,S),z=Math.min(258,M);R<=H&&--I&&O!=E;){if(e[S+D]==e[S+D-R]){for(var B=0;B<z&&e[S+B]==e[S+B-R];++B);if(B>D){if(D=B,L=R,B>F)break;var W=Math.min(R,B-2),$=0;for(P=0;P<W;++P){var U=S-R+P&32767,V=U-f[U]&32767;V>$&&($=V,E=U)}}}R+=(O=E)-(E=f[O])&32767}if(L){v[C++]=268435456|ine[D]<<18|sne[L];var q=31&ine[D],G=31&sne[L];k+=Zte[q]+ene[G],++w[257+q],++j[G],_=S+D,++N}else v[C++]=e[S],++w[e[S]]}}for(S=Math.max(S,_);S<s;++S)v[C++]=e[S],++w[e[S]];d=Nne(e,l,c,v,w,j,k,C,A,S-A,d),c||(i.r=7&d|l[d/8|0]<<3,d-=7,i.h=g,i.p=f,i.i=S,i.w=_)}else{for(S=i.w||0;S<s+c;S+=65535){var Y=S+65535;Y>=s&&(l[d/8|0]=c,Y=s),d=jne(l,d+1,e.subarray(S,Y))}i.i=s}return function(e,t,n){return(null==n||n>e.length)&&(n=e.length),new Jte(e.subarray(0,n))}(o,0,r+fne(d)+a)}(e,null==t.level?6:t.level,null==t.mem?a.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):20:12+t.mem,n,4,a)}(e,t,t.dictionary?6:2);return function(e,t){var n=t.level,r=0==n?0:n<6?1:9==n?3:2;if(e[0]=120,e[1]=r<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var a=Cne();a.p(t.dictionary),_ne(e,2,a.d())}}(r,t),_ne(r,r.length-4,n.d()),r}var Tne="undefined"!=typeof TextDecoder&&new TextDecoder;try{Tne.decode(Sne,{stream:!0})}catch(Ew){}function One(e,t="utf8"){return new TextDecoder(t).decode(e)}const Ene=new TextEncoder,Mne=(()=>{const e=new Uint8Array(4);return!((new Uint32Array(e.buffer)[0]=1)&e[0])})(),Pne={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Dne{constructor(e=8192,n={}){t(this,"buffer"),t(this,"byteLength"),t(this,"byteOffset"),t(this,"length"),t(this,"offset"),t(this,"lastWrittenByte"),t(this,"littleEndian"),t(this,"_data"),t(this,"_mark"),t(this,"_marks");let r=!1;"number"==typeof e?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const a=n.offset?n.offset>>>0:0,i=e.byteLength-a;let s=a;(ArrayBuffer.isView(e)||e instanceof Dne)&&(e.byteLength!==e.buffer.byteLength&&(s=e.byteOffset+a),e=e.buffer),this.lastWrittenByte=r?i:0,this.buffer=e,this.length=i,this.byteLength=i,this.byteOffset=s,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,s,i),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(void 0===e)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const t=2*(this.offset+e),n=new Uint8Array(t);n.set(new Uint8Array(this.buffer)),this.buffer=n.buffer,this.length=t,this.byteLength=t,this._data=new DataView(this.buffer)}return this}readBoolean(){return 0!==this.readUint8()}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const n=Pne[t].BYTES_PER_ELEMENT*e,r=this.byteOffset+this.offset,a=this.buffer.slice(r,r+n);if(this.littleEndian===Mne&&"uint8"!==t&&"int8"!==t){const e=new Uint8Array(this.buffer.slice(r,r+n));e.reverse();const a=new Pne[t](e.buffer);return this.offset+=n,a.reverse(),a}const i=new Pne[t](a);return this.offset+=n,i}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let n=0;n<e;n++)t+=this.readChar();return t}readUtf8(e=1){return One(this.readBytes(e))}decodeText(e=1,t="utf8"){return One(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(function(e){return Ene.encode(e)}(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Lne(e){let t=e.length;for(;--t>=0;)e[t]=0}Lne(new Array(576)),Lne(new Array(60)),Lne(new Array(512)),Lne(new Array(256)),Lne(new Array(29)),Lne(new Array(30));var Ine=(e,t,n,r)=>{let a=65535&e,i=e>>>16&65535,s=0;for(;0!==n;){s=n>2e3?2e3:n,n-=s;do{a=a+t[r++]|0,i=i+a|0}while(--s);a%=65521,i%=65521}return a|i<<16};const Rne=new Uint32Array((()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t})());var Fne=(e,t,n,r)=>{const a=Rne,i=r+n;e^=-1;for(let s=r;s<i;s++)e=e>>>8^a[255&(e^t[s])];return-1^e},Hne={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},zne={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const Bne=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);let Wne=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(Xle){Wne=!1}const $ne=new Uint8Array(256);for(let os=0;os<256;os++)$ne[os]=os>=252?6:os>=248?5:os>=240?4:os>=224?3:os>=192?2:1;$ne[254]=$ne[254]=1;var Une=(e,t)=>{const n=t||e.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(e.subarray(0,t));let r,a;const i=new Array(2*n);for(a=0,r=0;r<n;){let t=e[r++];if(t<128){i[a++]=t;continue}let s=$ne[t];if(s>4)i[a++]=65533,r+=s-1;else{for(t&=2===s?31:3===s?15:7;s>1&&r<n;)t=t<<6|63&e[r++],s--;s>1?i[a++]=65533:t<65536?i[a++]=t:(t-=65536,i[a++]=55296|t>>10&1023,i[a++]=56320|1023&t)}}return((e,t)=>{if(t<65534&&e.subarray&&Wne)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let n="";for(let r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n})(i,a)},Vne=(e,t)=>{(t=t||e.length)>e.length&&(t=e.length);let n=t-1;for(;n>=0&&128==(192&e[n]);)n--;return n<0||0===n?t:n+$ne[e[n]]>t?n:t},qne=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const Gne=16209;var Yne=function(e,t){let n,r,a,i,s,o,l,c,d,u,h,p,m,f,g,x,b,y,v,w,j,N,k,S;const C=e.state;n=e.next_in,k=e.input,r=n+(e.avail_in-5),a=e.next_out,S=e.output,i=a-(t-e.avail_out),s=a+(e.avail_out-257),o=C.dmax,l=C.wsize,c=C.whave,d=C.wnext,u=C.window,h=C.hold,p=C.bits,m=C.lencode,f=C.distcode,g=(1<<C.lenbits)-1,x=(1<<C.distbits)-1;e:do{p<15&&(h+=k[n++]<<p,p+=8,h+=k[n++]<<p,p+=8),b=m[h&g];t:for(;;){if(y=b>>>24,h>>>=y,p-=y,y=b>>>16&255,0===y)S[a++]=65535&b;else{if(!(16&y)){if(64&y){if(32&y){C.mode=16191;break e}e.msg="invalid literal/length code",C.mode=Gne;break e}b=m[(65535&b)+(h&(1<<y)-1)];continue t}for(v=65535&b,y&=15,y&&(p<y&&(h+=k[n++]<<p,p+=8),v+=h&(1<<y)-1,h>>>=y,p-=y),p<15&&(h+=k[n++]<<p,p+=8,h+=k[n++]<<p,p+=8),b=f[h&x];;){if(y=b>>>24,h>>>=y,p-=y,y=b>>>16&255,16&y){if(w=65535&b,y&=15,p<y&&(h+=k[n++]<<p,p+=8,p<y&&(h+=k[n++]<<p,p+=8)),w+=h&(1<<y)-1,w>o){e.msg="invalid distance too far back",C.mode=Gne;break e}if(h>>>=y,p-=y,y=a-i,w>y){if(y=w-y,y>c&&C.sane){e.msg="invalid distance too far back",C.mode=Gne;break e}if(j=0,N=u,0===d){if(j+=l-y,y<v){v-=y;do{S[a++]=u[j++]}while(--y);j=a-w,N=S}}else if(d<y){if(j+=l+d-y,y-=d,y<v){v-=y;do{S[a++]=u[j++]}while(--y);if(j=0,d<v){y=d,v-=y;do{S[a++]=u[j++]}while(--y);j=a-w,N=S}}}else if(j+=d-y,y<v){v-=y;do{S[a++]=u[j++]}while(--y);j=a-w,N=S}for(;v>2;)S[a++]=N[j++],S[a++]=N[j++],S[a++]=N[j++],v-=3;v&&(S[a++]=N[j++],v>1&&(S[a++]=N[j++]))}else{j=a-w;do{S[a++]=S[j++],S[a++]=S[j++],S[a++]=S[j++],v-=3}while(v>2);v&&(S[a++]=S[j++],v>1&&(S[a++]=S[j++]))}break}if(64&y){e.msg="invalid distance code",C.mode=Gne;break e}b=f[(65535&b)+(h&(1<<y)-1)]}}break}}while(n<r&&a<s);v=p>>3,n-=v,p-=v<<3,h&=(1<<p)-1,e.next_in=n,e.next_out=a,e.avail_in=n<r?r-n+5:5-(n-r),e.avail_out=a<s?s-a+257:257-(a-s),C.hold=h,C.bits=p};const Kne=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Jne=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Xne=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Qne=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var Zne=(e,t,n,r,a,i,s,o)=>{const l=o.bits;let c,d,u,h,p,m,f=0,g=0,x=0,b=0,y=0,v=0,w=0,j=0,N=0,k=0,S=null;const C=new Uint16Array(16),_=new Uint16Array(16);let A,T,O,E=null;for(f=0;f<=15;f++)C[f]=0;for(g=0;g<r;g++)C[t[n+g]]++;for(y=l,b=15;b>=1&&0===C[b];b--);if(y>b&&(y=b),0===b)return a[i++]=20971520,a[i++]=20971520,o.bits=1,0;for(x=1;x<b&&0===C[x];x++);for(y<x&&(y=x),j=1,f=1;f<=15;f++)if(j<<=1,j-=C[f],j<0)return-1;if(j>0&&(0===e||1!==b))return-1;for(_[1]=0,f=1;f<15;f++)_[f+1]=_[f]+C[f];for(g=0;g<r;g++)0!==t[n+g]&&(s[_[t[n+g]]++]=g);if(0===e?(S=E=s,m=20):1===e?(S=Kne,E=Jne,m=257):(S=Xne,E=Qne,m=0),k=0,g=0,f=x,p=i,v=y,w=0,u=-1,N=1<<y,h=N-1,1===e&&N>852||2===e&&N>592)return 1;for(;;){A=f-w,s[g]+1<m?(T=0,O=s[g]):s[g]>=m?(T=E[s[g]-m],O=S[s[g]-m]):(T=96,O=0),c=1<<f-w,d=1<<v,x=d;do{d-=c,a[p+(k>>w)+d]=A<<24|T<<16|O}while(0!==d);for(c=1<<f-1;k&c;)c>>=1;if(0!==c?(k&=c-1,k+=c):k=0,g++,0===--C[f]){if(f===b)break;f=t[n+s[g]]}if(f>y&&(k&h)!==u){for(0===w&&(w=y),p+=x,v=f-w,j=1<<v;v+w<b&&(j-=C[v+w],!(j<=0));)v++,j<<=1;if(N+=1<<v,1===e&&N>852||2===e&&N>592)return 1;u=k&h,a[u]=y<<24|v<<16|p-i}}return 0!==k&&(a[p+k]=f-w<<24|64<<16),o.bits=y,0};const{Z_FINISH:ere,Z_BLOCK:tre,Z_TREES:nre,Z_OK:rre,Z_STREAM_END:are,Z_NEED_DICT:ire,Z_STREAM_ERROR:sre,Z_DATA_ERROR:ore,Z_MEM_ERROR:lre,Z_BUF_ERROR:cre,Z_DEFLATED:dre}=zne,ure=16180,hre=16190,pre=16191,mre=16192,fre=16194,gre=16199,xre=16200,bre=16206,yre=16209,vre=e=>(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24);function wre(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const jre=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<ure||t.mode>16211?1:0},Nre=e=>{if(jre(e))return sre;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=ure,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,rre},kre=e=>{if(jre(e))return sre;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,Nre(e)},Sre=(e,t)=>{let n;if(jre(e))return sre;const r=e.state;return t<0?(n=0,t=-t):(n=5+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?sre:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,kre(e))},Cre=(e,t)=>{if(!e)return sre;const n=new wre;e.state=n,n.strm=e,n.window=null,n.mode=ure;const r=Sre(e,t);return r!==rre&&(e.state=null),r};let _re,Are,Tre=!0;const Ore=e=>{if(Tre){_re=new Int32Array(512),Are=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Zne(1,e.lens,0,288,_re,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Zne(2,e.lens,0,32,Are,0,e.work,{bits:5}),Tre=!1}e.lencode=_re,e.lenbits=9,e.distcode=Are,e.distbits=5},Ere=(e,t,n,r)=>{let a;const i=e.state;return null===i.window&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),r>=i.wsize?(i.window.set(t.subarray(n-i.wsize,n),0),i.wnext=0,i.whave=i.wsize):(a=i.wsize-i.wnext,a>r&&(a=r),i.window.set(t.subarray(n-r,n-r+a),i.wnext),(r-=a)?(i.window.set(t.subarray(n-r,n),0),i.wnext=r,i.whave=i.wsize):(i.wnext+=a,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=a))),0};var Mre=kre,Pre=Cre,Dre=(e,t)=>{let n,r,a,i,s,o,l,c,d,u,h,p,m,f,g,x,b,y,v,w,j,N,k=0;const S=new Uint8Array(4);let C,_;const A=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(jre(e)||!e.output||!e.input&&0!==e.avail_in)return sre;n=e.state,n.mode===pre&&(n.mode=mre),s=e.next_out,a=e.output,l=e.avail_out,i=e.next_in,r=e.input,o=e.avail_in,c=n.hold,d=n.bits,u=o,h=l,N=rre;e:for(;;)switch(n.mode){case ure:if(0===n.wrap){n.mode=mre;break}for(;d<16;){if(0===o)break e;o--,c+=r[i++]<<d,d+=8}if(2&n.wrap&&35615===c){0===n.wbits&&(n.wbits=15),n.check=0,S[0]=255&c,S[1]=c>>>8&255,n.check=Fne(n.check,S,2,0),c=0,d=0,n.mode=16181;break}if(n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&c)<<8)+(c>>8))%31){e.msg="incorrect header check",n.mode=yre;break}if((15&c)!==dre){e.msg="unknown compression method",n.mode=yre;break}if(c>>>=4,d-=4,j=8+(15&c),0===n.wbits&&(n.wbits=j),j>15||j>n.wbits){e.msg="invalid window size",n.mode=yre;break}n.dmax=1<<n.wbits,n.flags=0,e.adler=n.check=1,n.mode=512&c?16189:pre,c=0,d=0;break;case 16181:for(;d<16;){if(0===o)break e;o--,c+=r[i++]<<d,d+=8}if(n.flags=c,(255&n.flags)!==dre){e.msg="unknown compression method",n.mode=yre;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=yre;break}n.head&&(n.head.text=c>>8&1),512&n.flags&&4&n.wrap&&(S[0]=255&c,S[1]=c>>>8&255,n.check=Fne(n.check,S,2,0)),c=0,d=0,n.mode=16182;case 16182:for(;d<32;){if(0===o)break e;o--,c+=r[i++]<<d,d+=8}n.head&&(n.head.time=c),512&n.flags&&4&n.wrap&&(S[0]=255&c,S[1]=c>>>8&255,S[2]=c>>>16&255,S[3]=c>>>24&255,n.check=Fne(n.check,S,4,0)),c=0,d=0,n.mode=16183;case 16183:for(;d<16;){if(0===o)break e;o--,c+=r[i++]<<d,d+=8}n.head&&(n.head.xflags=255&c,n.head.os=c>>8),512&n.flags&&4&n.wrap&&(S[0]=255&c,S[1]=c>>>8&255,n.check=Fne(n.check,S,2,0)),c=0,d=0,n.mode=16184;case 16184:if(1024&n.flags){for(;d<16;){if(0===o)break e;o--,c+=r[i++]<<d,d+=8}n.length=c,n.head&&(n.head.extra_len=c),512&n.flags&&4&n.wrap&&(S[0]=255&c,S[1]=c>>>8&255,n.check=Fne(n.check,S,2,0)),c=0,d=0}else n.head&&(n.head.extra=null);n.mode=16185;case 16185:if(1024&n.flags&&(p=n.length,p>o&&(p=o),p&&(n.head&&(j=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(i,i+p),j)),512&n.flags&&4&n.wrap&&(n.check=Fne(n.check,r,p,i)),o-=p,i+=p,n.length-=p),n.length))break e;n.length=0,n.mode=16186;case 16186:if(2048&n.flags){if(0===o)break e;p=0;do{j=r[i+p++],n.head&&j&&n.length<65536&&(n.head.name+=String.fromCharCode(j))}while(j&&p<o);if(512&n.flags&&4&n.wrap&&(n.check=Fne(n.check,r,p,i)),o-=p,i+=p,j)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=16187;case 16187:if(4096&n.flags){if(0===o)break e;p=0;do{j=r[i+p++],n.head&&j&&n.length<65536&&(n.head.comment+=String.fromCharCode(j))}while(j&&p<o);if(512&n.flags&&4&n.wrap&&(n.check=Fne(n.check,r,p,i)),o-=p,i+=p,j)break e}else n.head&&(n.head.comment=null);n.mode=16188;case 16188:if(512&n.flags){for(;d<16;){if(0===o)break e;o--,c+=r[i++]<<d,d+=8}if(4&n.wrap&&c!==(65535&n.check)){e.msg="header crc mismatch",n.mode=yre;break}c=0,d=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=pre;break;case 16189:for(;d<32;){if(0===o)break e;o--,c+=r[i++]<<d,d+=8}e.adler=n.check=vre(c),c=0,d=0,n.mode=hre;case hre:if(0===n.havedict)return e.next_out=s,e.avail_out=l,e.next_in=i,e.avail_in=o,n.hold=c,n.bits=d,ire;e.adler=n.check=1,n.mode=pre;case pre:if(t===tre||t===nre)break e;case mre:if(n.last){c>>>=7&d,d-=7&d,n.mode=bre;break}for(;d<3;){if(0===o)break e;o--,c+=r[i++]<<d,d+=8}switch(n.last=1&c,c>>>=1,d-=1,3&c){case 0:n.mode=16193;break;case 1:if(Ore(n),n.mode=gre,t===nre){c>>>=2,d-=2;break e}break;case 2:n.mode=16196;break;case 3:e.msg="invalid block type",n.mode=yre}c>>>=2,d-=2;break;case 16193:for(c>>>=7&d,d-=7&d;d<32;){if(0===o)break e;o--,c+=r[i++]<<d,d+=8}if((65535&c)!=(c>>>16^65535)){e.msg="invalid stored block lengths",n.mode=yre;break}if(n.length=65535&c,c=0,d=0,n.mode=fre,t===nre)break e;case fre:n.mode=16195;case 16195:if(p=n.length,p){if(p>o&&(p=o),p>l&&(p=l),0===p)break e;a.set(r.subarray(i,i+p),s),o-=p,i+=p,l-=p,s+=p,n.length-=p;break}n.mode=pre;break;case 16196:for(;d<14;){if(0===o)break e;o--,c+=r[i++]<<d,d+=8}if(n.nlen=257+(31&c),c>>>=5,d-=5,n.ndist=1+(31&c),c>>>=5,d-=5,n.ncode=4+(15&c),c>>>=4,d-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=yre;break}n.have=0,n.mode=16197;case 16197:for(;n.have<n.ncode;){for(;d<3;){if(0===o)break e;o--,c+=r[i++]<<d,d+=8}n.lens[A[n.have++]]=7&c,c>>>=3,d-=3}for(;n.have<19;)n.lens[A[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,C={bits:n.lenbits},N=Zne(0,n.lens,0,19,n.lencode,0,n.work,C),n.lenbits=C.bits,N){e.msg="invalid code lengths set",n.mode=yre;break}n.have=0,n.mode=16198;case 16198:for(;n.have<n.nlen+n.ndist;){for(;k=n.lencode[c&(1<<n.lenbits)-1],g=k>>>24,x=k>>>16&255,b=65535&k,!(g<=d);){if(0===o)break e;o--,c+=r[i++]<<d,d+=8}if(b<16)c>>>=g,d-=g,n.lens[n.have++]=b;else{if(16===b){for(_=g+2;d<_;){if(0===o)break e;o--,c+=r[i++]<<d,d+=8}if(c>>>=g,d-=g,0===n.have){e.msg="invalid bit length repeat",n.mode=yre;break}j=n.lens[n.have-1],p=3+(3&c),c>>>=2,d-=2}else if(17===b){for(_=g+3;d<_;){if(0===o)break e;o--,c+=r[i++]<<d,d+=8}c>>>=g,d-=g,j=0,p=3+(7&c),c>>>=3,d-=3}else{for(_=g+7;d<_;){if(0===o)break e;o--,c+=r[i++]<<d,d+=8}c>>>=g,d-=g,j=0,p=11+(127&c),c>>>=7,d-=7}if(n.have+p>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=yre;break}for(;p--;)n.lens[n.have++]=j}}if(n.mode===yre)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=yre;break}if(n.lenbits=9,C={bits:n.lenbits},N=Zne(1,n.lens,0,n.nlen,n.lencode,0,n.work,C),n.lenbits=C.bits,N){e.msg="invalid literal/lengths set",n.mode=yre;break}if(n.distbits=6,n.distcode=n.distdyn,C={bits:n.distbits},N=Zne(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,C),n.distbits=C.bits,N){e.msg="invalid distances set",n.mode=yre;break}if(n.mode=gre,t===nre)break e;case gre:n.mode=xre;case xre:if(o>=6&&l>=258){e.next_out=s,e.avail_out=l,e.next_in=i,e.avail_in=o,n.hold=c,n.bits=d,Yne(e,h),s=e.next_out,a=e.output,l=e.avail_out,i=e.next_in,r=e.input,o=e.avail_in,c=n.hold,d=n.bits,n.mode===pre&&(n.back=-1);break}for(n.back=0;k=n.lencode[c&(1<<n.lenbits)-1],g=k>>>24,x=k>>>16&255,b=65535&k,!(g<=d);){if(0===o)break e;o--,c+=r[i++]<<d,d+=8}if(x&&!(240&x)){for(y=g,v=x,w=b;k=n.lencode[w+((c&(1<<y+v)-1)>>y)],g=k>>>24,x=k>>>16&255,b=65535&k,!(y+g<=d);){if(0===o)break e;o--,c+=r[i++]<<d,d+=8}c>>>=y,d-=y,n.back+=y}if(c>>>=g,d-=g,n.back+=g,n.length=b,0===x){n.mode=16205;break}if(32&x){n.back=-1,n.mode=pre;break}if(64&x){e.msg="invalid literal/length code",n.mode=yre;break}n.extra=15&x,n.mode=16201;case 16201:if(n.extra){for(_=n.extra;d<_;){if(0===o)break e;o--,c+=r[i++]<<d,d+=8}n.length+=c&(1<<n.extra)-1,c>>>=n.extra,d-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=16202;case 16202:for(;k=n.distcode[c&(1<<n.distbits)-1],g=k>>>24,x=k>>>16&255,b=65535&k,!(g<=d);){if(0===o)break e;o--,c+=r[i++]<<d,d+=8}if(!(240&x)){for(y=g,v=x,w=b;k=n.distcode[w+((c&(1<<y+v)-1)>>y)],g=k>>>24,x=k>>>16&255,b=65535&k,!(y+g<=d);){if(0===o)break e;o--,c+=r[i++]<<d,d+=8}c>>>=y,d-=y,n.back+=y}if(c>>>=g,d-=g,n.back+=g,64&x){e.msg="invalid distance code",n.mode=yre;break}n.offset=b,n.extra=15&x,n.mode=16203;case 16203:if(n.extra){for(_=n.extra;d<_;){if(0===o)break e;o--,c+=r[i++]<<d,d+=8}n.offset+=c&(1<<n.extra)-1,c>>>=n.extra,d-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=yre;break}n.mode=16204;case 16204:if(0===l)break e;if(p=h-l,n.offset>p){if(p=n.offset-p,p>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=yre;break}p>n.wnext?(p-=n.wnext,m=n.wsize-p):m=n.wnext-p,p>n.length&&(p=n.length),f=n.window}else f=a,m=s-n.offset,p=n.length;p>l&&(p=l),l-=p,n.length-=p;do{a[s++]=f[m++]}while(--p);0===n.length&&(n.mode=xre);break;case 16205:if(0===l)break e;a[s++]=n.length,l--,n.mode=xre;break;case bre:if(n.wrap){for(;d<32;){if(0===o)break e;o--,c|=r[i++]<<d,d+=8}if(h-=l,e.total_out+=h,n.total+=h,4&n.wrap&&h&&(e.adler=n.check=n.flags?Fne(n.check,a,h,s-h):Ine(n.check,a,h,s-h)),h=l,4&n.wrap&&(n.flags?c:vre(c))!==n.check){e.msg="incorrect data check",n.mode=yre;break}c=0,d=0}n.mode=16207;case 16207:if(n.wrap&&n.flags){for(;d<32;){if(0===o)break e;o--,c+=r[i++]<<d,d+=8}if(4&n.wrap&&c!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=yre;break}c=0,d=0}n.mode=16208;case 16208:N=are;break e;case yre:N=ore;break e;case 16210:return lre;default:return sre}return e.next_out=s,e.avail_out=l,e.next_in=i,e.avail_in=o,n.hold=c,n.bits=d,(n.wsize||h!==e.avail_out&&n.mode<yre&&(n.mode<bre||t!==ere))&&Ere(e,e.output,e.next_out,h-e.avail_out),u-=e.avail_in,h-=e.avail_out,e.total_in+=u,e.total_out+=h,n.total+=h,4&n.wrap&&h&&(e.adler=n.check=n.flags?Fne(n.check,a,h,e.next_out-h):Ine(n.check,a,h,e.next_out-h)),e.data_type=n.bits+(n.last?64:0)+(n.mode===pre?128:0)+(n.mode===gre||n.mode===fre?256:0),(0===u&&0===h||t===ere)&&N===rre&&(N=cre),N},Lre=e=>{if(jre(e))return sre;let t=e.state;return t.window&&(t.window=null),e.state=null,rre},Ire=(e,t)=>{if(jre(e))return sre;const n=e.state;return 2&n.wrap?(n.head=t,t.done=!1,rre):sre},Rre=(e,t)=>{const n=t.length;let r,a,i;return jre(e)?sre:(r=e.state,0!==r.wrap&&r.mode!==hre?sre:r.mode===hre&&(a=1,a=Ine(a,t,n,0),a!==r.check)?ore:(i=Ere(e,t,n,n),i?(r.mode=16210,lre):(r.havedict=1,rre)))},Fre=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const Hre=Object.prototype.toString,{Z_NO_FLUSH:zre,Z_FINISH:Bre,Z_OK:Wre,Z_STREAM_END:$re,Z_NEED_DICT:Ure,Z_STREAM_ERROR:Vre,Z_DATA_ERROR:qre,Z_MEM_ERROR:Gre}=zne;function Yre(e){this.options=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(const t in n)Bne(n,t)&&(e[t]=n[t])}}return e}({chunkSize:65536,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(15&t.windowBits||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new qne,this.strm.avail_out=0;let n=Pre(this.strm,t.windowBits);if(n!==Wre)throw new Error(Hne[n]);if(this.header=new Fre,Ire(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=(e=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(e);let t,n,r,a,i,s=e.length,o=0;for(a=0;a<s;a++)n=e.charCodeAt(a),55296==(64512&n)&&a+1<s&&(r=e.charCodeAt(a+1),56320==(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),a++)),o+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(o),i=0,a=0;i<o;a++)n=e.charCodeAt(a),55296==(64512&n)&&a+1<s&&(r=e.charCodeAt(a+1),56320==(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),a++)),n<128?t[i++]=n:n<2048?(t[i++]=192|n>>>6,t[i++]=128|63&n):n<65536?(t[i++]=224|n>>>12,t[i++]=128|n>>>6&63,t[i++]=128|63&n):(t[i++]=240|n>>>18,t[i++]=128|n>>>12&63,t[i++]=128|n>>>6&63,t[i++]=128|63&n);return t})(t.dictionary):"[object ArrayBuffer]"===Hre.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=Rre(this.strm,t.dictionary),n!==Wre)))throw new Error(Hne[n])}Yre.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize,a=this.options.dictionary;let i,s,o;if(this.ended)return!1;for(s=t===~~t?t:!0===t?Bre:zre,"[object ArrayBuffer]"===Hre.call(e)?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(0===n.avail_out&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),i=Dre(n,s),i===Ure&&a&&(i=Rre(n,a),i===Wre?i=Dre(n,s):i===qre&&(i=Ure));n.avail_in>0&&i===$re&&n.state.wrap>0&&0!==e[n.next_in];)Mre(n),i=Dre(n,s);switch(i){case Vre:case qre:case Ure:case Gre:return this.onEnd(i),this.ended=!0,!1}if(o=n.avail_out,n.next_out&&(0===n.avail_out||i===$re))if("string"===this.options.to){let e=Vne(n.output,n.next_out),t=n.next_out-e,a=Une(n.output,e);n.next_out=t,n.avail_out=r-t,t&&n.output.set(n.output.subarray(e,e+t),0),this.onData(a)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(i!==Wre||0!==o){if(i===$re)return i=Lre(this.strm),this.onEnd(i),this.ended=!0,!0;if(0===n.avail_in)break}}return!0},Yre.prototype.onData=function(e){this.chunks.push(e)},Yre.prototype.onEnd=function(e){e===Wre&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=(e=>{let t=0;for(let r=0,a=e.length;r<a;r++)t+=e[r].length;const n=new Uint8Array(t);for(let r=0,a=0,i=e.length;r<i;r++){let t=e[r];n.set(t,a),a+=t.length}return n})(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var Kre={Inflate:Yre,inflate:function(e,t){const n=new Yre(t);if(n.push(e),n.err)throw n.msg||Hne[n.err];return n.result}};const{Inflate:Jre,inflate:Xre}=Kre;var Qre=Jre,Zre=Xre;const eae=[];for(let os=0;os<256;os++){let e=os;for(let t=0;t<8;t++)1&e?e=3988292384^e>>>1:e>>>=1;eae[os]=e}const tae=4294967295;function nae(e,t,n){const r=e.readUint32(),a=(function(e,t,n){let r=tae;for(let a=0;a<n;a++)r=eae[255&(r^t[a])]^r>>>8;return r}(0,new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t)^tae)>>>0;if(a!==r)throw new Error(`CRC mismatch for chunk ${n}. Expected ${r}, found ${a}`)}function rae(e,t,n){for(let r=0;r<n;r++)t[r]=e[r]}function aae(e,t,n,r){let a=0;for(;a<r;a++)t[a]=e[a];for(;a<n;a++)t[a]=e[a]+t[a-r]&255}function iae(e,t,n,r){let a=0;if(0===n.length)for(;a<r;a++)t[a]=e[a];else for(;a<r;a++)t[a]=e[a]+n[a]&255}function sae(e,t,n,r,a){let i=0;if(0===n.length){for(;i<a;i++)t[i]=e[i];for(;i<r;i++)t[i]=e[i]+(t[i-a]>>1)&255}else{for(;i<a;i++)t[i]=e[i]+(n[i]>>1)&255;for(;i<r;i++)t[i]=e[i]+(t[i-a]+n[i]>>1)&255}}function oae(e,t,n,r,a){let i=0;if(0===n.length){for(;i<a;i++)t[i]=e[i];for(;i<r;i++)t[i]=e[i]+t[i-a]&255}else{for(;i<a;i++)t[i]=e[i]+n[i]&255;for(;i<r;i++)t[i]=e[i]+lae(t[i-a],n[i],n[i-a])&255}}function lae(e,t,n){const r=e+t-n,a=Math.abs(r-e),i=Math.abs(r-t),s=Math.abs(r-n);return a<=i&&a<=s?e:i<=s?t:n}function cae(e,t,n,r,a,i){switch(e){case 0:rae(t,n,a);break;case 1:aae(t,n,a,i);break;case 2:iae(t,n,r,a);break;case 3:sae(t,n,r,a,i);break;case 4:oae(t,n,r,a,i);break;default:throw new Error(`Unsupported filter: ${e}`)}}const dae=new Uint16Array([255]),uae=255===new Uint8Array(dae.buffer)[0];function hae(e){return(255&e)<<8|e>>8&255}const pae=new Uint16Array([255]),mae=255===new Uint8Array(pae.buffer)[0],fae=new Uint8Array(0);function gae(e){const{data:t,width:n,height:r,channels:a,depth:i}=e,s=Math.ceil(i/8)*a,o=Math.ceil(i/8*a*n),l=new Uint8Array(r*o);let c,d,u=fae,h=0;for(let p=0;p<r;p++){switch(c=t.subarray(h+1,h+1+o),d=l.subarray(p*o,(p+1)*o),t[h]){case 0:rae(c,d,o);break;case 1:aae(c,d,o,s);break;case 2:iae(c,d,u,o);break;case 3:sae(c,d,u,o,s);break;case 4:oae(c,d,u,o,s);break;default:throw new Error(`Unsupported filter: ${t[h]}`)}u=d,h+=o+1}if(16===i){const e=new Uint16Array(l.buffer);if(mae)for(let t=0;t<e.length;t++)e[t]=xae(e[t]);return e}return l}function xae(e){return(255&e)<<8|e>>8&255}const bae=Uint8Array.of(137,80,78,71,13,10,26,10);function yae(e){if(!function(e){if(e.length<bae.length)return!1;for(let t=0;t<bae.length;t++)if(e[t]!==bae[t])return!1;return!0}(e.readBytes(bae.length)))throw new Error("wrong PNG signature")}const vae=new TextDecoder("latin1");const wae=/^[\u0000-\u00FF]*$/;function jae(e){for(e.mark();0!==e.readByte(););const t=e.offset;e.reset();const n=vae.decode(e.readBytes(t-e.offset-1));return e.skip(1),function(e){if(function(e){if(!wae.test(e))throw new Error("invalid latin1 text")}(e),0===e.length||e.length>79)throw new Error("keyword length must be between 1 and 79")}(n),n}class Nae extends Dne{constructor(e,n={}){super(e),t(this,"_checkCrc"),t(this,"_inflator"),t(this,"_png"),t(this,"_apng"),t(this,"_end"),t(this,"_hasPalette"),t(this,"_palette"),t(this,"_hasTransparency"),t(this,"_transparency"),t(this,"_compressionMethod"),t(this,"_filterMethod"),t(this,"_interlaceMethod"),t(this,"_colorType"),t(this,"_isAnimated"),t(this,"_numberOfFrames"),t(this,"_numberOfPlays"),t(this,"_frames"),t(this,"_writingDataChunks");const{checkCrc:r=!1}=n;this._checkCrc=r,this._inflator=new Qre,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=-1,this._filterMethod=-1,this._interlaceMethod=-1,this._colorType=-1,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(yae(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeChunk(e,t)}return this.decodeImage(),this._png}decodeApng(){for(yae(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeApngChunk(e,t)}return this.decodeApngImage(),this._apng}decodeChunk(e,t){const n=this.offset;switch(t){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case"tEXt":!function(e,t,n){const r=jae(t);e[r]=function(e,t){return vae.decode(e.readBytes(t))}(t,n-r.length-1)}(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e)}if(this.offset-n!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?nae(this,e+4,t):this.skip(4)}decodeApngChunk(e,t){const n=this.offset;switch("fdAT"!==t&&"IDAT"!==t&&this._writingDataChunks&&this.pushDataToFrame(),t){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,t),this.offset=n+e}if(this.offset-n!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?nae(this,e+4,t):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=function(e){if(1!==e&&2!==e&&4!==e&&8!==e&&16!==e)throw new Error(`invalid bit depth: ${e}`);return e}(this.readUint8());const t=this.readUint8();let n;switch(this._colorType=t,t){case 0:case 3:n=1;break;case 2:n=3;break;case 4:n=2;break;case 6:n=4;break;default:throw new Error(`Unknown color type: ${t}`)}if(this._png.channels=n,this._compressionMethod=this.readUint8(),0!==this._compressionMethod)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!=0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const t=e/3;this._hasPalette=!0;const n=[];this._palette=n;for(let r=0;r<t;r++)n.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const t=e,n=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,n,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let t=e,n=this.offset+this.byteOffset;if(n+=4,t-=4,this._inflator.push(new Uint8Array(this.buffer,n,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case 0:case 2:if(e%2!=0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let t=0;t<e/2;t++)this._transparency[t]=this.readUint16();break;case 3:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let t=0;for(;t<e;t++){const e=this.readByte();this._palette[t].push(e)}for(;t<this._palette.length;t++)this._palette[t].push(255);break}default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const t=jae(this),n=this.readUint8();if(0!==n)throw new Error(`Unsupported iCCP compression method: ${n}`);const r=this.readBytes(e-t.length-2);this._png.iccEmbeddedProfile={name:t,profile:Zre(r)}}decodepHYs(){const e=this.readUint32(),t=this.readUint32(),n=this.readByte();this._png.resolution={x:e,y:t,unit:n}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const t={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:8===this._apng.depth?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},n=this._frames.at(e);if(n){if(n.data=gae({data:n.data,width:n.width,height:n.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),0===e||0===n.xOffset&&0===n.yOffset&&n.width===this._png.width&&n.height===this._png.height)t.data=n.data;else{const r=this._apng.frames.at(e-1);this.disposeFrame(n,r,t),this.addFrameDataToCanvas(t,n)}this._apng.frames.push(t)}}return this._apng}disposeFrame(e,t,n){switch(e.disposeOp){case 0:break;case 1:for(let t=0;t<this._png.height;t++)for(let r=0;r<this._png.width;r++){const a=(t*e.width+r)*this._png.channels;for(let e=0;e<this._png.channels;e++)n.data[a+e]=0}break;case 2:n.data.set(t.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,t){const n=1<<this._png.depth,r=(e,n)=>({index:((e+t.yOffset)*this._png.width+t.xOffset+n)*this._png.channels,frameIndex:(e*t.width+n)*this._png.channels});switch(t.blendOp){case 0:for(let n=0;n<t.height;n++)for(let a=0;a<t.width;a++){const{index:i,frameIndex:s}=r(n,a);for(let n=0;n<this._png.channels;n++)e.data[i+n]=t.data[s+n]}break;case 1:for(let a=0;a<t.height;a++)for(let i=0;i<t.width;i++){const{index:s,frameIndex:o}=r(a,i);for(let r=0;r<this._png.channels;r++){const a=t.data[o+this._png.channels-1]/n,i=r%(this._png.channels-1)==0?1:t.data[o+r],l=Math.floor(a*i+(1-a)*e.data[s+r]);e.data[s+r]+=l}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var e;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const t=this._isAnimated?(null==(e=this._frames)?void 0:e.at(0)).data:this._inflator.result;if(0!==this._filterMethod)throw new Error(`Filter method ${this._filterMethod} not supported`);if(0===this._interlaceMethod)this._png.data=gae({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else{if(1!==this._interlaceMethod)throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._png.data=function(e){const{data:t,width:n,height:r,channels:a,depth:i}=e,s=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(i/8)*a,l=new Uint8Array(r*n*o);let c=0;for(let d=0;d<7;d++){const e=s[d],a=Math.ceil((n-e.x)/e.xStep),i=Math.ceil((r-e.y)/e.yStep);if(a<=0||i<=0)continue;const u=a*o,h=new Uint8Array(u);for(let s=0;s<i;s++){const i=t[c++],d=t.subarray(c,c+u);c+=u;const p=new Uint8Array(u);cae(i,d,p,h,u,o),h.set(p);for(let t=0;t<a;t++){const a=e.x+t*e.xStep,i=e.y+s*e.yStep;if(!(a>=n||i>=r))for(let e=0;e<o;e++)l[(i*n+a)*o+e]=p[t*o+e]}}}if(16===i){const e=new Uint16Array(l.buffer);if(uae)for(let t=0;t<e.length;t++)e[t]=hae(e[t]);return e}return l}({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth})}this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,t=this._frames.at(-1);t?t.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:0,blendOp:0,data:e}),this._inflator=new Qre,this._writingDataChunks=!1}}var kae,Sae;(Sae=kae||(kae={}))[Sae.UNKNOWN=0]="UNKNOWN",Sae[Sae.METRE=1]="METRE";var Cae=function(){return"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this}();function _ae(){Cae.console&&"function"==typeof Cae.console.log&&Cae.console.log.apply(Cae.console,arguments)}var Aae={log:_ae,warn:function(e){Cae.console&&("function"==typeof Cae.console.warn?Cae.console.warn.apply(Cae.console,arguments):_ae.call(null,arguments))},error:function(e){Cae.console&&("function"==typeof Cae.console.error?Cae.console.error.apply(Cae.console,arguments):_ae(e))}};function Tae(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){Mae(r.response,t,n)},r.onerror=function(){Aae.error("could not download file")},r.send()}function Oae(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(n){}return t.status>=200&&t.status<=299}function Eae(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(n){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Mae=Cae.saveAs||("object"!==("undefined"==typeof window?"undefined":py(window))||window!==Cae?function(){}:"undefined"!=typeof HTMLAnchorElement&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var r=Cae.URL||Cae.webkitURL,a=document.createElement("a");t=t||e.name||"download",a.download=t,a.rel="noopener","string"==typeof e?(a.href=e,a.origin!==location.origin?Oae(a.href)?Tae(e,t,n):Eae(a,a.target="_blank"):Eae(a)):(a.href=r.createObjectURL(e),setTimeout(function(){r.revokeObjectURL(a.href)},4e4),setTimeout(function(){Eae(a)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download","string"==typeof e)if(Oae(e))Tae(e,t,n);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout(function(){Eae(r)})}else navigator.msSaveOrOpenBlob((a=e,void 0===(i=n)?i={autoBom:!1}:"object"!==py(i)&&(Aae.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob([String.fromCharCode(65279),a],{type:a.type}):a),t);var a,i}:function(e,t,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof e)return Tae(e,t,n);var a="application/octet-stream"===e.type,i=/constructor/i.test(Cae.HTMLElement)||Cae.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||a&&i)&&"object"===("undefined"==typeof FileReader?"undefined":py(FileReader))){var o=new FileReader;o.onloadend=function(){var e=o.result;e=s?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=e:location=e,r=null},o.readAsDataURL(e)}else{var l=Cae.URL||Cae.webkitURL,c=l.createObjectURL(e);r?r.location=c:location.href=c,r=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});function Pae(e){var t;e=e||"",this.ok=!1,"#"==e.charAt(0)&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(e){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}}],r=0;r<n.length;r++){var a=n[r].re,i=n[r].process,s=a.exec(e);s&&(t=i(s),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var e=this.r.toString(16),t=this.g.toString(16),n=this.b.toString(16);return 1==e.length&&(e="0"+e),1==t.length&&(t="0"+t),1==n.length&&(n="0"+n),"#"+e+t+n}}var Dae=Cae.atob.bind(Cae),Lae=Cae.btoa.bind(Cae);function Iae(e,t){var n=e[0],r=e[1],a=e[2],i=e[3];n=Fae(n,r,a,i,t[0],7,-680876936),i=Fae(i,n,r,a,t[1],12,-389564586),a=Fae(a,i,n,r,t[2],17,606105819),r=Fae(r,a,i,n,t[3],22,-1044525330),n=Fae(n,r,a,i,t[4],7,-176418897),i=Fae(i,n,r,a,t[5],12,1200080426),a=Fae(a,i,n,r,t[6],17,-1473231341),r=Fae(r,a,i,n,t[7],22,-45705983),n=Fae(n,r,a,i,t[8],7,1770035416),i=Fae(i,n,r,a,t[9],12,-1958414417),a=Fae(a,i,n,r,t[10],17,-42063),r=Fae(r,a,i,n,t[11],22,-1990404162),n=Fae(n,r,a,i,t[12],7,1804603682),i=Fae(i,n,r,a,t[13],12,-40341101),a=Fae(a,i,n,r,t[14],17,-1502002290),n=Hae(n,r=Fae(r,a,i,n,t[15],22,1236535329),a,i,t[1],5,-165796510),i=Hae(i,n,r,a,t[6],9,-1069501632),a=Hae(a,i,n,r,t[11],14,643717713),r=Hae(r,a,i,n,t[0],20,-373897302),n=Hae(n,r,a,i,t[5],5,-701558691),i=Hae(i,n,r,a,t[10],9,38016083),a=Hae(a,i,n,r,t[15],14,-660478335),r=Hae(r,a,i,n,t[4],20,-405537848),n=Hae(n,r,a,i,t[9],5,568446438),i=Hae(i,n,r,a,t[14],9,-1019803690),a=Hae(a,i,n,r,t[3],14,-187363961),r=Hae(r,a,i,n,t[8],20,1163531501),n=Hae(n,r,a,i,t[13],5,-1444681467),i=Hae(i,n,r,a,t[2],9,-51403784),a=Hae(a,i,n,r,t[7],14,1735328473),n=zae(n,r=Hae(r,a,i,n,t[12],20,-1926607734),a,i,t[5],4,-378558),i=zae(i,n,r,a,t[8],11,-2022574463),a=zae(a,i,n,r,t[11],16,1839030562),r=zae(r,a,i,n,t[14],23,-35309556),n=zae(n,r,a,i,t[1],4,-1530992060),i=zae(i,n,r,a,t[4],11,1272893353),a=zae(a,i,n,r,t[7],16,-155497632),r=zae(r,a,i,n,t[10],23,-1094730640),n=zae(n,r,a,i,t[13],4,681279174),i=zae(i,n,r,a,t[0],11,-358537222),a=zae(a,i,n,r,t[3],16,-722521979),r=zae(r,a,i,n,t[6],23,76029189),n=zae(n,r,a,i,t[9],4,-640364487),i=zae(i,n,r,a,t[12],11,-421815835),a=zae(a,i,n,r,t[15],16,530742520),n=Bae(n,r=zae(r,a,i,n,t[2],23,-995338651),a,i,t[0],6,-198630844),i=Bae(i,n,r,a,t[7],10,1126891415),a=Bae(a,i,n,r,t[14],15,-1416354905),r=Bae(r,a,i,n,t[5],21,-57434055),n=Bae(n,r,a,i,t[12],6,1700485571),i=Bae(i,n,r,a,t[3],10,-1894986606),a=Bae(a,i,n,r,t[10],15,-1051523),r=Bae(r,a,i,n,t[1],21,-2054922799),n=Bae(n,r,a,i,t[8],6,1873313359),i=Bae(i,n,r,a,t[15],10,-30611744),a=Bae(a,i,n,r,t[6],15,-1560198380),r=Bae(r,a,i,n,t[13],21,1309151649),n=Bae(n,r,a,i,t[4],6,-145523070),i=Bae(i,n,r,a,t[11],10,-1120210379),a=Bae(a,i,n,r,t[2],15,718787259),r=Bae(r,a,i,n,t[9],21,-343485551),e[0]=Kae(n,e[0]),e[1]=Kae(r,e[1]),e[2]=Kae(a,e[2]),e[3]=Kae(i,e[3])}function Rae(e,t,n,r,a,i){return t=Kae(Kae(t,e),Kae(r,i)),Kae(t<<a|t>>>32-a,n)}function Fae(e,t,n,r,a,i,s){return Rae(t&n|~t&r,e,t,a,i,s)}function Hae(e,t,n,r,a,i,s){return Rae(t&r|n&~r,e,t,a,i,s)}function zae(e,t,n,r,a,i,s){return Rae(t^n^r,e,t,a,i,s)}function Bae(e,t,n,r,a,i,s){return Rae(n^(t|~r),e,t,a,i,s)}function Wae(e){var t,n=e.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)Iae(r,$ae(e.substring(t-64,t)));e=e.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)a[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(Iae(r,a),t=0;t<16;t++)a[t]=0;return a[14]=8*n,Iae(r,a),r}function $ae(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}var Uae="0123456789abcdef".split("");function Vae(e){for(var t="",n=0;n<4;n++)t+=Uae[e>>8*n+4&15]+Uae[e>>8*n&15];return t}function qae(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function Gae(e){return Wae(e).map(qae).join("")}var Yae="5d41402abc4b2a76b9719d911017c592"!=function(e){for(var t=0;t<e.length;t++)e[t]=Vae(e[t]);return e.join("")}(Wae("hello"));function Kae(e,t){if(Yae){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e+t&4294967295}function Jae(e,t){var n,r,a,i;if(e!==n){for(var s=(a=e,i=1+(256/e.length|0),new Array(i+1).join(a)),o=[],l=0;l<256;l++)o[l]=l;var c=0;for(l=0;l<256;l++){var d=o[l];c=(c+d+s.charCodeAt(l))%256,o[l]=o[c],o[c]=d}n=e,r=o}else o=r;var u=t.length,h=0,p=0,m="";for(l=0;l<u;l++)p=(p+(d=o[h=(h+1)%256]))%256,o[h]=o[p],o[p]=d,s=o[(o[h]+o[p])%256],m+=String.fromCharCode(t.charCodeAt(l)^s);return m}var Xae={print:4,modify:8,copy:16,"annot-forms":32};function Qae(e,t,n,r){this.v=1,this.r=2;var a=192;e.forEach(function(e){if(void 0!==Xae.perm)throw new Error("Invalid permission: "+e);a+=Xae[e]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var i=(t+this.padding).substr(0,32),s=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,s),this.P=-(1+(255^a)),this.encryptionKey=Gae(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=Jae(this.encryptionKey,this.padding)}function Zae(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",n=e.length,r=0;r<n;r++){var a=e.charCodeAt(r);t+=a<33||35===a||37===a||40===a||41===a||47===a||60===a||62===a||91===a||93===a||123===a||125===a||a>126?"#"+("0"+a.toString(16)).slice(-2):e[r]}return t}function eie(e){if("object"!==py(e))throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(e,n,r){if(r=r||!1,"string"!=typeof e||"function"!=typeof n||"boolean"!=typeof r)throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(e)||(t[e]={});var a=Math.random().toString(35);return t[e][a]=[n,!!r],a},this.unsubscribe=function(e){for(var n in t)if(t[n][e])return delete t[n][e],0===Object.keys(t[n]).length&&delete t[n],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),a=[];for(var i in t[n]){var s=t[n][i];try{s[0].apply(e,r)}catch(o){Cae.console&&Aae.error("jsPDF PubSub Error",o.message,o)}s[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function tie(e){if(!(this instanceof tie))return new tie(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function nie(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function rie(e,t,n,r,a){if(!(this instanceof rie))return new rie(e,t,n,r,a);this.type="axial"===e?2:3,this.coords=t,this.colors=n,nie.call(this,r,a)}function aie(e,t,n,r,a){if(!(this instanceof aie))return new aie(e,t,n,r,a);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,nie.call(this,r,a)}function iie(e){var t,n="string"==typeof arguments[0]?arguments[0]:"p",r=arguments[1],a=arguments[2],i=arguments[3],s=[],o=1,l=16,c="S",d=null;"object"===py(e=e||{})&&(n=e.orientation,r=e.unit||r,a=e.format||a,i=e.compress||e.compressPdf||i,null!==(d=e.encryption||null)&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),o="number"==typeof e.userUnit?Math.abs(e.userUnit):1,void 0!==e.precision&&(t=e.precision),void 0!==e.floatPrecision&&(l=e.floatPrecision),c=e.defaultPathOperation||"S"),s=e.filters||(!0===i?["FlateEncode"]:s),r=r||"mm",n=(""+(n||"P")).toLowerCase();var u=e.putOnlyUsedFonts||!1,h={},p={internal:{},__private__:{}};p.__private__.PubSub=eie;var m="1.3",f=p.__private__.getPdfVersion=function(){return m};p.__private__.setPdfVersion=function(e){m=e};var g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return g};var x=p.__private__.getPageFormat=function(e){return g[e]};a=a||"a4";var b="compat",y="advanced",v=b;function w(){this.saveGraphicsState(),X(new Ee(he,0,0,-he,0,pn()*he).toString()+" cm"),this.setFontSize(this.getFontSize()/he),c="n",v=y}function j(){this.restoreGraphicsState(),c="S",v=b}var N=p.__private__.combineFontStyleAndFontWeight=function(e,t){if("bold"==e&&"normal"==t||"bold"==e&&400==t||"normal"==e&&"italic"==t||"bold"==e&&"italic"==t)throw new Error("Invalid Combination of fontweight and fontstyle");return t&&(e=400==t||"normal"===t?"italic"===e?"italic":"normal":700!=t&&"bold"!==t||"normal"!==e?(700==t?"bold":t)+""+e:"bold"),e};p.advancedAPI=function(e){var t=v===b;return t&&w.call(this),"function"!=typeof e||(e(this),t&&j.call(this)),this},p.compatAPI=function(e){var t=v===y;return t&&j.call(this),"function"!=typeof e||(e(this),t&&w.call(this)),this},p.isAdvancedAPI=function(){return v===y};var k,S=function(e){if(v!==y)throw new Error(e+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},C=p.roundToPrecision=p.__private__.roundToPrecision=function(e,n){var r=t||n;if(isNaN(e)||isNaN(r))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return e.toFixed(r).replace(/0+$/,"")};k=p.hpf=p.__private__.hpf="number"==typeof l?function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return C(e,l)}:"smart"===l?function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return C(e,e>-1&&e<1?16:5)}:function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return C(e,16)};var _=p.f2=p.__private__.f2=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.f2");return C(e,2)},A=p.__private__.f3=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.f3");return C(e,3)},T=p.scale=p.__private__.scale=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.scale");return v===b?e*he:v===y?e:void 0},O=function(e){return T((t=e,v===b?pn()-t:v===y?t:void 0));var t};p.__private__.setPrecision=p.setPrecision=function(e){"number"==typeof parseInt(e,10)&&(t=parseInt(e,10))};var E,M="00000000000000000000000000000000",P=p.__private__.getFileId=function(){return M},D=p.__private__.setFileId=function(e){return M=void 0!==e&&/^[a-fA-F0-9]{32}$/.test(e)?e.toUpperCase():M.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),null!==d&&(bt=new Qae(d.userPermissions,d.userPassword,d.ownerPassword,M)),M};p.setFileId=function(e){return D(e),this},p.getFileId=function(){return P()};var L=p.__private__.convertDateToPDFDate=function(e){var t=e.getTimezoneOffset(),n=t<0?"+":"-",r=Math.floor(Math.abs(t/60)),a=Math.abs(t%60),i=[n,z(r),"'",z(a),"'"].join("");return["D:",e.getFullYear(),z(e.getMonth()+1),z(e.getDate()),z(e.getHours()),z(e.getMinutes()),z(e.getSeconds()),i].join("")},I=p.__private__.convertPDFDateToDate=function(e){var t=parseInt(e.substr(2,4),10),n=parseInt(e.substr(6,2),10)-1,r=parseInt(e.substr(8,2),10),a=parseInt(e.substr(10,2),10),i=parseInt(e.substr(12,2),10),s=parseInt(e.substr(14,2),10);return new Date(t,n,r,a,i,s,0)},R=p.__private__.setCreationDate=function(e){var t;if(void 0===e&&(e=new Date),e instanceof Date)t=L(e);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(e))throw new Error("Invalid argument passed to jsPDF.setCreationDate");t=e}return E=t},F=p.__private__.getCreationDate=function(e){var t=E;return"jsDate"===e&&(t=I(E)),t};p.setCreationDate=function(e){return R(e),this},p.getCreationDate=function(e){return F(e)};var H,z=p.__private__.padd2=function(e){return("0"+parseInt(e)).slice(-2)},B=p.__private__.padd2Hex=function(e){return("00"+(e=e.toString())).substr(e.length)},W=0,$=[],U=[],V=0,q=[],G=[],Y=!1,K=U;p.__private__.setCustomOutputDestination=function(e){Y=!0,K=e};var J=function(e){Y||(K=e)};p.__private__.resetCustomOutputDestination=function(){Y=!1,K=U};var X=p.__private__.out=function(e){return e=e.toString(),V+=e.length+1,K.push(e),K},Q=p.__private__.write=function(e){return X(1===arguments.length?e.toString():Array.prototype.join.call(arguments," "))},Z=p.__private__.getArrayBuffer=function(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n);t--;)r[t]=e.charCodeAt(t);return n},ee=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return ee};var te=e.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(e){return te=v===y?e/he:e,this};var ne,re=p.__private__.getFontSize=p.getFontSize=function(){return v===b?te:te*he},ae=e.R2L||!1;p.__private__.setR2L=p.setR2L=function(e){return ae=e,this},p.__private__.getR2L=p.getR2L=function(){return ae};var ie,se=p.__private__.setZoomMode=function(e){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(e))ne=e;else if(isNaN(e)){if(-1===[void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(e))throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+e+'" is not recognized.');ne=e}else ne=parseInt(e,10)};p.__private__.getZoomMode=function(){return ne};var oe,le=p.__private__.setPageMode=function(e){if(-1==[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(e))throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+e+'" is not recognized.');ie=e};p.__private__.getPageMode=function(){return ie};var ce=p.__private__.setLayoutMode=function(e){if(-1==[void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(e))throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+e+'" is not recognized.');oe=e};p.__private__.getLayoutMode=function(){return oe},p.__private__.setDisplayMode=p.setDisplayMode=function(e,t,n){return se(e),ce(t),le(n),this};var de={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(e){if(-1===Object.keys(de).indexOf(e))throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return de[e]},p.__private__.getDocumentProperties=function(){return de},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(e){for(var t in de)de.hasOwnProperty(t)&&e[t]&&(de[t]=e[t]);return this},p.__private__.setDocumentProperty=function(e,t){if(-1===Object.keys(de).indexOf(e))throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return de[e]=t};var ue,he,pe,me,fe,ge={},xe={},be=[],ye={},ve={},we={},je={},Ne=null,ke=0,Se=[],Ce=new eie(p),_e=e.hotfixes||[],Ae={},Te={},Oe=[],Ee=function e(t,n,r,a,i,s){if(!(this instanceof e))return new e(t,n,r,a,i,s);isNaN(t)&&(t=1),isNaN(n)&&(n=0),isNaN(r)&&(r=0),isNaN(a)&&(a=1),isNaN(i)&&(i=0),isNaN(s)&&(s=0),this._matrix=[t,n,r,a,i,s]};Object.defineProperty(Ee.prototype,"sx",{get:function(){return this._matrix[0]},set:function(e){this._matrix[0]=e}}),Object.defineProperty(Ee.prototype,"shy",{get:function(){return this._matrix[1]},set:function(e){this._matrix[1]=e}}),Object.defineProperty(Ee.prototype,"shx",{get:function(){return this._matrix[2]},set:function(e){this._matrix[2]=e}}),Object.defineProperty(Ee.prototype,"sy",{get:function(){return this._matrix[3]},set:function(e){this._matrix[3]=e}}),Object.defineProperty(Ee.prototype,"tx",{get:function(){return this._matrix[4]},set:function(e){this._matrix[4]=e}}),Object.defineProperty(Ee.prototype,"ty",{get:function(){return this._matrix[5]},set:function(e){this._matrix[5]=e}}),Object.defineProperty(Ee.prototype,"a",{get:function(){return this._matrix[0]},set:function(e){this._matrix[0]=e}}),Object.defineProperty(Ee.prototype,"b",{get:function(){return this._matrix[1]},set:function(e){this._matrix[1]=e}}),Object.defineProperty(Ee.prototype,"c",{get:function(){return this._matrix[2]},set:function(e){this._matrix[2]=e}}),Object.defineProperty(Ee.prototype,"d",{get:function(){return this._matrix[3]},set:function(e){this._matrix[3]=e}}),Object.defineProperty(Ee.prototype,"e",{get:function(){return this._matrix[4]},set:function(e){this._matrix[4]=e}}),Object.defineProperty(Ee.prototype,"f",{get:function(){return this._matrix[5]},set:function(e){this._matrix[5]=e}}),Object.defineProperty(Ee.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ee.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ee.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ee.prototype,"isIdentity",{get:function(){return 1===this.sx&&0===this.shy&&0===this.shx&&1===this.sy&&0===this.tx&&0===this.ty}}),Ee.prototype.join=function(e){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(k).join(e)},Ee.prototype.multiply=function(e){var t=e.sx*this.sx+e.shy*this.shx,n=e.sx*this.shy+e.shy*this.sy,r=e.shx*this.sx+e.sy*this.shx,a=e.shx*this.shy+e.sy*this.sy,i=e.tx*this.sx+e.ty*this.shx+this.tx,s=e.tx*this.shy+e.ty*this.sy+this.ty;return new Ee(t,n,r,a,i,s)},Ee.prototype.decompose=function(){var e=this.sx,t=this.shy,n=this.shx,r=this.sy,a=this.tx,i=this.ty,s=Math.sqrt(e*e+t*t),o=(e/=s)*n+(t/=s)*r;n-=e*o,r-=t*o;var l=Math.sqrt(n*n+r*r);return o/=l,e*(r/=l)<t*(n/=l)&&(e=-e,t=-t,o=-o,s=-s),{scale:new Ee(s,0,0,l,0,0),translate:new Ee(1,0,0,1,a,i),rotate:new Ee(e,t,-t,e,0,0),skew:new Ee(1,0,o,1,0,0)}},Ee.prototype.toString=function(e){return this.join(" ")},Ee.prototype.inversed=function(){var e=this.sx,t=this.shy,n=this.shx,r=this.sy,a=this.tx,i=this.ty,s=1/(e*r-t*n),o=r*s,l=-t*s,c=-n*s,d=e*s;return new Ee(o,l,c,d,-o*a-c*i,-l*a-d*i)},Ee.prototype.applyToPoint=function(e){var t=e.x*this.sx+e.y*this.shx+this.tx,n=e.x*this.shy+e.y*this.sy+this.ty;return new tn(t,n)},Ee.prototype.applyToRectangle=function(e){var t=this.applyToPoint(e),n=this.applyToPoint(new tn(e.x+e.w,e.y+e.h));return new nn(t.x,t.y,n.x-t.x,n.y-t.y)},Ee.prototype.clone=function(){var e=this.sx,t=this.shy,n=this.shx,r=this.sy,a=this.tx,i=this.ty;return new Ee(e,t,n,r,a,i)},p.Matrix=Ee;var Me=p.matrixMult=function(e,t){return t.multiply(e)},Pe=new Ee(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=Pe;var De=function(e,t){if(!ve[e]){var n=(t instanceof rie?"Sh":"P")+(Object.keys(ye).length+1).toString(10);t.id=n,ve[e]=n,ye[n]=t,Ce.publish("addPattern",t)}};p.ShadingPattern=rie,p.TilingPattern=aie,p.addShadingPattern=function(e,t){return S("addShadingPattern()"),De(e,t),this},p.beginTilingPattern=function(e){S("beginTilingPattern()"),an(e.boundingBox[0],e.boundingBox[1],e.boundingBox[2]-e.boundingBox[0],e.boundingBox[3]-e.boundingBox[1],e.matrix)},p.endTilingPattern=function(e,t){S("endTilingPattern()"),t.stream=G[H].join("\n"),De(e,t),Ce.publish("endTilingPattern",t),Oe.pop().restore()};var Le,Ie=p.__private__.newObject=function(){var e=Re();return Fe(e,!0),e},Re=p.__private__.newObjectDeferred=function(){return W++,$[W]=function(){return V},W},Fe=function(e,t){return t="boolean"==typeof t&&t,$[e]=V,t&&X(e+" 0 obj"),e},He=p.__private__.newAdditionalObject=function(){var e={objId:Re(),content:""};return q.push(e),e},ze=Re(),Be=Re(),We=p.__private__.decodeColorString=function(e){var t=e.split(" ");if(2!==t.length||"g"!==t[1]&&"G"!==t[1])5!==t.length||"k"!==t[4]&&"K"!==t[4]||(t=[(1-t[0])*(1-t[3]),(1-t[1])*(1-t[3]),(1-t[2])*(1-t[3]),"r"]);else{var n=parseFloat(t[0]);t=[n,n,n,"r"]}for(var r="#",a=0;a<3;a++)r+=("0"+Math.floor(255*parseFloat(t[a])).toString(16)).slice(-2);return r},$e=p.__private__.encodeColorString=function(e){var t;"string"==typeof e&&(e={ch1:e});var n=e.ch1,r=e.ch2,a=e.ch3,i=e.ch4,s="draw"===e.pdfColorType?["G","RG","K"]:["g","rg","k"];if("string"==typeof n&&"#"!==n.charAt(0)){var o=new Pae(n);if(o.ok)n=o.toHex();else if(!/^\d*\.?\d*$/.test(n))throw new Error('Invalid color "'+n+'" passed to jsPDF.encodeColorString.')}if("string"==typeof n&&/^#[0-9A-Fa-f]{3}$/.test(n)&&(n="#"+n[1]+n[1]+n[2]+n[2]+n[3]+n[3]),"string"==typeof n&&/^#[0-9A-Fa-f]{6}$/.test(n)){var l=parseInt(n.substr(1),16);n=l>>16&255,r=l>>8&255,a=255&l}if(void 0===r||void 0===i&&n===r&&r===a)t="string"==typeof n?n+" "+s[0]:2===e.precision?_(n/255)+" "+s[0]:A(n/255)+" "+s[0];else if(void 0===i||"object"===py(i)){if(i&&!isNaN(i.a)&&0===i.a)return["1.","1.","1.",s[1]].join(" ");t="string"==typeof n?[n,r,a,s[1]].join(" "):2===e.precision?[_(n/255),_(r/255),_(a/255),s[1]].join(" "):[A(n/255),A(r/255),A(a/255),s[1]].join(" ")}else t="string"==typeof n?[n,r,a,i,s[2]].join(" "):2===e.precision?[_(n),_(r),_(a),_(i),s[2]].join(" "):[A(n),A(r),A(a),A(i),s[2]].join(" ");return t},Ue=p.__private__.getFilters=function(){return s},Ve=p.__private__.putStream=function(e){var t=(e=e||{}).data||"",n=e.filters||Ue(),r=e.alreadyAppliedFilters||[],a=e.addLength1||!1,i=t.length,s=e.objectId,o=function(e){return e};if(null!==d&&void 0===s)throw new Error("ObjectId must be passed to putStream for file encryption");null!==d&&(o=bt.encryptor(s,0));var l={};!0===n&&(n=["FlateEncode"]);var c=e.additionalKeyValues||[],u=(l=void 0!==iie.API.processDataByFilters?iie.API.processDataByFilters(t,n):{data:t,reverseChain:[]}).reverseChain+(Array.isArray(r)?r.join(" "):r.toString());if(0!==l.data.length&&(c.push({key:"Length",value:l.data.length}),!0===a&&c.push({key:"Length1",value:i})),0!=u.length)if(u.split("/").length-1==1)c.push({key:"Filter",value:u});else{c.push({key:"Filter",value:"["+u+"]"});for(var h=0;h<c.length;h+=1)if("DecodeParms"===c[h].key){for(var p=[],m=0;m<l.reverseChain.split("/").length-1;m+=1)p.push("null");p.push(c[h].value),c[h].value="["+p.join(" ")+"]"}}X("<<");for(var f=0;f<c.length;f++)X("/"+c[f].key+" "+c[f].value);X(">>"),0!==l.data.length&&(X("stream"),X(o(l.data)),X("endstream"))},qe=p.__private__.putPage=function(e){var t=e.number,n=e.data,r=e.objId,a=e.contentsObjId;Fe(r,!0),X("<</Type /Page"),X("/Parent "+e.rootDictionaryObjId+" 0 R"),X("/Resources "+e.resourceDictionaryObjId+" 0 R"),X("/MediaBox ["+parseFloat(k(e.mediaBox.bottomLeftX))+" "+parseFloat(k(e.mediaBox.bottomLeftY))+" "+k(e.mediaBox.topRightX)+" "+k(e.mediaBox.topRightY)+"]"),null!==e.cropBox&&X("/CropBox ["+k(e.cropBox.bottomLeftX)+" "+k(e.cropBox.bottomLeftY)+" "+k(e.cropBox.topRightX)+" "+k(e.cropBox.topRightY)+"]"),null!==e.bleedBox&&X("/BleedBox ["+k(e.bleedBox.bottomLeftX)+" "+k(e.bleedBox.bottomLeftY)+" "+k(e.bleedBox.topRightX)+" "+k(e.bleedBox.topRightY)+"]"),null!==e.trimBox&&X("/TrimBox ["+k(e.trimBox.bottomLeftX)+" "+k(e.trimBox.bottomLeftY)+" "+k(e.trimBox.topRightX)+" "+k(e.trimBox.topRightY)+"]"),null!==e.artBox&&X("/ArtBox ["+k(e.artBox.bottomLeftX)+" "+k(e.artBox.bottomLeftY)+" "+k(e.artBox.topRightX)+" "+k(e.artBox.topRightY)+"]"),"number"==typeof e.userUnit&&1!==e.userUnit&&X("/UserUnit "+e.userUnit),Ce.publish("putPage",{objId:r,pageContext:Se[t],pageNumber:t,page:n}),X("/Contents "+a+" 0 R"),X(">>"),X("endobj");var i=n.join("\n");return v===y&&(i+="\nQ"),Fe(a,!0),Ve({data:i,filters:Ue(),objectId:a}),X("endobj"),r},Ge=p.__private__.putPages=function(){var e,t,n=[];for(e=1;e<=ke;e++)Se[e].objId=Re(),Se[e].contentsObjId=Re();for(e=1;e<=ke;e++)n.push(qe({number:e,data:G[e],objId:Se[e].objId,contentsObjId:Se[e].contentsObjId,mediaBox:Se[e].mediaBox,cropBox:Se[e].cropBox,bleedBox:Se[e].bleedBox,trimBox:Se[e].trimBox,artBox:Se[e].artBox,userUnit:Se[e].userUnit,rootDictionaryObjId:ze,resourceDictionaryObjId:Be}));Fe(ze,!0),X("<</Type /Pages");var r="/Kids [";for(t=0;t<ke;t++)r+=n[t]+" 0 R ";X(r+"]"),X("/Count "+ke),X(">>"),X("endobj"),Ce.publish("postPutPages")},Ye=function(e){Ce.publish("putFont",{font:e,out:X,newObject:Ie,putStream:Ve}),!0!==e.isAlreadyPutted&&(e.objectNumber=Ie(),X("<<"),X("/Type /Font"),X("/BaseFont /"+Zae(e.postScriptName)),X("/Subtype /Type1"),"string"==typeof e.encoding&&X("/Encoding /"+e.encoding),X("/FirstChar 32"),X("/LastChar 255"),X(">>"),X("endobj"))},Ke=function(e){e.objectNumber=Ie();var t=[];t.push({key:"Type",value:"/XObject"}),t.push({key:"Subtype",value:"/Form"}),t.push({key:"BBox",value:"["+[k(e.x),k(e.y),k(e.x+e.width),k(e.y+e.height)].join(" ")+"]"}),t.push({key:"Matrix",value:"["+e.matrix.toString()+"]"});var n=e.pages[1].join("\n");Ve({data:n,additionalKeyValues:t,objectId:e.objectNumber}),X("endobj")},Je=function(e,t){t||(t=21);var n=Ie(),r=function(e,t){var n,r=[],a=1/(t-1);for(n=0;n<1;n+=a)r.push(n);if(r.push(1),0!=e[0].offset){var i={offset:0,color:e[0].color};e.unshift(i)}if(1!=e[e.length-1].offset){var s={offset:1,color:e[e.length-1].color};e.push(s)}for(var o="",l=0,c=0;c<r.length;c++){for(n=r[c];n>e[l+1].offset;)l++;var d=e[l].offset,u=(n-d)/(e[l+1].offset-d),h=e[l].color,p=e[l+1].color;o+=B(Math.round((1-u)*h[0]+u*p[0]).toString(16))+B(Math.round((1-u)*h[1]+u*p[1]).toString(16))+B(Math.round((1-u)*h[2]+u*p[2]).toString(16))}return o.trim()}(e.colors,t),a=[];a.push({key:"FunctionType",value:"0"}),a.push({key:"Domain",value:"[0.0 1.0]"}),a.push({key:"Size",value:"["+t+"]"}),a.push({key:"BitsPerSample",value:"8"}),a.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),a.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ve({data:r,additionalKeyValues:a,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:n}),X("endobj"),e.objectNumber=Ie(),X("<< /ShadingType "+e.type),X("/ColorSpace /DeviceRGB");var i="/Coords ["+k(parseFloat(e.coords[0]))+" "+k(parseFloat(e.coords[1]))+" ";2===e.type?i+=k(parseFloat(e.coords[2]))+" "+k(parseFloat(e.coords[3])):i+=k(parseFloat(e.coords[2]))+" "+k(parseFloat(e.coords[3]))+" "+k(parseFloat(e.coords[4]))+" "+k(parseFloat(e.coords[5])),X(i+="]"),e.matrix&&X("/Matrix ["+e.matrix.toString()+"]"),X("/Function "+n+" 0 R"),X("/Extend [true true]"),X(">>"),X("endobj")},Xe=function(e,t){var n=Re(),r=Ie();t.push({resourcesOid:n,objectOid:r}),e.objectNumber=r;var a=[];a.push({key:"Type",value:"/Pattern"}),a.push({key:"PatternType",value:"1"}),a.push({key:"PaintType",value:"1"}),a.push({key:"TilingType",value:"1"}),a.push({key:"BBox",value:"["+e.boundingBox.map(k).join(" ")+"]"}),a.push({key:"XStep",value:k(e.xStep)}),a.push({key:"YStep",value:k(e.yStep)}),a.push({key:"Resources",value:n+" 0 R"}),e.matrix&&a.push({key:"Matrix",value:"["+e.matrix.toString()+"]"}),Ve({data:e.stream,additionalKeyValues:a,objectId:e.objectNumber}),X("endobj")},Qe=function(e){for(var t in e.objectNumber=Ie(),X("<<"),e)switch(t){case"opacity":X("/ca "+_(e[t]));break;case"stroke-opacity":X("/CA "+_(e[t]))}X(">>"),X("endobj")},Ze=function(e){Fe(e.resourcesOid,!0),X("<<"),X("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var e in X("/Font <<"),ge)ge.hasOwnProperty(e)&&(!1===u||!0===u&&h.hasOwnProperty(e))&&X("/"+e+" "+ge[e].objectNumber+" 0 R");X(">>")}(),function(){if(Object.keys(ye).length>0){for(var e in X("/Shading <<"),ye)ye.hasOwnProperty(e)&&ye[e]instanceof rie&&ye[e].objectNumber>=0&&X("/"+e+" "+ye[e].objectNumber+" 0 R");Ce.publish("putShadingPatternDict"),X(">>")}}(),function(e){if(Object.keys(ye).length>0){for(var t in X("/Pattern <<"),ye)ye.hasOwnProperty(t)&&ye[t]instanceof p.TilingPattern&&ye[t].objectNumber>=0&&ye[t].objectNumber<e&&X("/"+t+" "+ye[t].objectNumber+" 0 R");Ce.publish("putTilingPatternDict"),X(">>")}}(e.objectOid),function(){if(Object.keys(we).length>0){var e;for(e in X("/ExtGState <<"),we)we.hasOwnProperty(e)&&we[e].objectNumber>=0&&X("/"+e+" "+we[e].objectNumber+" 0 R");Ce.publish("putGStateDict"),X(">>")}}(),function(){for(var e in X("/XObject <<"),Ae)Ae.hasOwnProperty(e)&&Ae[e].objectNumber>=0&&X("/"+e+" "+Ae[e].objectNumber+" 0 R");Ce.publish("putXobjectDict"),X(">>")}(),X(">>"),X("endobj")},et=function(e){xe[e.fontName]=xe[e.fontName]||{},xe[e.fontName][e.fontStyle]=e.id},tt=function(e,t,n,r,a){var i={id:"F"+(Object.keys(ge).length+1).toString(10),postScriptName:e,fontName:t,fontStyle:n,encoding:r,isStandardFont:a||!1,metadata:{}};return Ce.publish("addFont",{font:i,instance:this}),ge[i.id]=i,et(i),i.id},nt=p.__private__.pdfEscape=p.pdfEscape=function(e,t){return function(e,t){var n,r,a,i,s,o,l,c,d;if(a=(t=t||{}).sourceEncoding||"Unicode",s=t.outputEncoding,(t.autoencode||s)&&ge[ue].metadata&&ge[ue].metadata[a]&&ge[ue].metadata[a].encoding&&(i=ge[ue].metadata[a].encoding,!s&&ge[ue].encoding&&(s=ge[ue].encoding),!s&&i.codePages&&(s=i.codePages[0]),"string"==typeof s&&(s=i[s]),s)){for(l=!1,o=[],n=0,r=e.length;n<r;n++)(c=s[e.charCodeAt(n)])?o.push(String.fromCharCode(c)):o.push(e[n]),o[n].charCodeAt(0)>>8&&(l=!0);e=o.join("")}for(n=e.length;void 0===l&&0!==n;)e.charCodeAt(n-1)>>8&&(l=!0),n--;if(!l)return e;for(o=t.noBOM?[]:[254,255],n=0,r=e.length;n<r;n++){if((d=(c=e.charCodeAt(n))>>8)>>8)throw new Error("Character at position "+n+" of string '"+e+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");o.push(d),o.push(c-(d<<8))}return String.fromCharCode.apply(void 0,o)}(e,t).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},rt=p.__private__.beginPage=function(e){G[++ke]=[],Se[ke]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(e[0]),topRightY:Number(e[1])}},st(ke),J(G[H])},at=function(e,t){var r,i,s;switch(n=t||n,"string"==typeof e&&(r=x(e.toLowerCase()),Array.isArray(r)&&(i=r[0],s=r[1])),Array.isArray(e)&&(i=e[0]*he,s=e[1]*he),isNaN(i)&&(i=a[0],s=a[1]),(i>14400||s>14400)&&(Aae.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),i=Math.min(14400,i),s=Math.min(14400,s)),a=[i,s],n.substr(0,1)){case"l":s>i&&(a=[s,i]);break;case"p":i>s&&(a=[s,i])}rt(a),Ft(It),X(qt),0!==Qt&&X(Qt+" J"),0!==Zt&&X(Zt+" j"),Ce.publish("addPage",{pageNumber:ke})},it=function(e){e>0&&e<=ke&&(G.splice(e,1),Se.splice(e,1),ke--,H>ke&&(H=ke),this.setPage(H))},st=function(e){e>0&&e<=ke&&(H=e)},ot=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return G.length-1},lt=function(e,t,n){var r,a=void 0;return n=n||{},e=void 0!==e?e:ge[ue].fontName,t=void 0!==t?t:ge[ue].fontStyle,r=e.toLowerCase(),void 0!==xe[r]&&void 0!==xe[r][t]?a=xe[r][t]:void 0!==xe[e]&&void 0!==xe[e][t]?a=xe[e][t]:!1===n.disableWarning&&Aae.warn("Unable to look up font label for font '"+e+"', '"+t+"'. Refer to getFontList() for available fonts."),a||n.noFallback||null==(a=xe.times[t])&&(a=xe.times.normal),a},ct=p.__private__.putInfo=function(){var e=Ie(),t=function(e){return e};for(var n in null!==d&&(t=bt.encryptor(e,0)),X("<<"),X("/Producer ("+nt(t("jsPDF "+iie.version))+")"),de)de.hasOwnProperty(n)&&de[n]&&X("/"+n.substr(0,1).toUpperCase()+n.substr(1)+" ("+nt(t(de[n]))+")");X("/CreationDate ("+nt(t(E))+")"),X(">>"),X("endobj")},dt=p.__private__.putCatalog=function(e){var t=(e=e||{}).rootDictionaryObjId||ze;switch(Ie(),X("<<"),X("/Type /Catalog"),X("/Pages "+t+" 0 R"),ne||(ne="fullwidth"),ne){case"fullwidth":X("/OpenAction [3 0 R /FitH null]");break;case"fullheight":X("/OpenAction [3 0 R /FitV null]");break;case"fullpage":X("/OpenAction [3 0 R /Fit]");break;case"original":X("/OpenAction [3 0 R /XYZ null null 1]");break;default:var n=""+ne;"%"===n.substr(n.length-1)&&(ne=parseInt(ne)/100),"number"==typeof ne&&X("/OpenAction [3 0 R /XYZ null null "+_(ne)+"]")}switch(oe||(oe="continuous"),oe){case"continuous":X("/PageLayout /OneColumn");break;case"single":X("/PageLayout /SinglePage");break;case"two":case"twoleft":X("/PageLayout /TwoColumnLeft");break;case"tworight":X("/PageLayout /TwoColumnRight")}ie&&X("/PageMode /"+ie),Ce.publish("putCatalog"),X(">>"),X("endobj")},ut=p.__private__.putTrailer=function(){X("trailer"),X("<<"),X("/Size "+(W+1)),X("/Root "+W+" 0 R"),X("/Info "+(W-1)+" 0 R"),null!==d&&X("/Encrypt "+bt.oid+" 0 R"),X("/ID [ <"+M+"> <"+M+"> ]"),X(">>")},ht=p.__private__.putHeader=function(){X("%PDF-"+m),X("%ºß¬à")},pt=p.__private__.putXRef=function(){var e="0000000000";X("xref"),X("0 "+(W+1)),X("0000000000 65535 f ");for(var t=1;t<=W;t++)"function"==typeof $[t]?X((e+$[t]()).slice(-10)+" 00000 n "):void 0!==$[t]?X((e+$[t]).slice(-10)+" 00000 n "):X("0000000000 00000 n ")},mt=p.__private__.buildDocument=function(){var e;W=0,V=0,U=[],$=[],q=[],ze=Re(),Be=Re(),J(U),Ce.publish("buildDocument"),ht(),Ge(),function(){Ce.publish("putAdditionalObjects");for(var e=0;e<q.length;e++){var t=q[e];Fe(t.objId,!0),X(t.content),X("endobj")}Ce.publish("postPutAdditionalObjects")}(),e=[],function(){for(var e in ge)ge.hasOwnProperty(e)&&(!1===u||!0===u&&h.hasOwnProperty(e))&&Ye(ge[e])}(),function(){var e;for(e in we)we.hasOwnProperty(e)&&Qe(we[e])}(),function(){for(var e in Ae)Ae.hasOwnProperty(e)&&Ke(Ae[e])}(),function(e){var t;for(t in ye)ye.hasOwnProperty(t)&&(ye[t]instanceof rie?Je(ye[t]):ye[t]instanceof aie&&Xe(ye[t],e))}(e),Ce.publish("putResources"),e.forEach(Ze),Ze({resourcesOid:Be,objectOid:Number.MAX_SAFE_INTEGER}),Ce.publish("postPutResources"),null!==d&&(bt.oid=Ie(),X("<<"),X("/Filter /Standard"),X("/V "+bt.v),X("/R "+bt.r),X("/U <"+bt.toHexString(bt.U)+">"),X("/O <"+bt.toHexString(bt.O)+">"),X("/P "+bt.P),X(">>"),X("endobj")),ct(),dt();var t=V;return pt(),ut(),X("startxref"),X(""+t),X("%%EOF"),J(G[H]),U.join("\n")},ft=p.__private__.getBlob=function(e){return new Blob([Z(e)],{type:"application/pdf"})},gt=p.output=p.__private__.output=(Le=function(e,t){switch("string"==typeof(t=t||{})?t={filename:t}:t.filename=t.filename||"generated.pdf",e){case void 0:return mt();case"save":p.save(t.filename);break;case"arraybuffer":return Z(mt());case"blob":return ft(mt());case"bloburi":case"bloburl":if(void 0!==Cae.URL&&"function"==typeof Cae.URL.createObjectURL)return Cae.URL&&Cae.URL.createObjectURL(ft(mt()))||void 0;Aae.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var n="",r=mt();try{n=Lae(r)}catch(m){n=Lae(unescape(encodeURIComponent(r)))}return"data:application/pdf;filename="+t.filename+";base64,"+n;case"pdfobjectnewwindow":if("[object Window]"===Object.prototype.toString.call(Cae)){var a="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",i=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';t.pdfObjectUrl&&(a=t.pdfObjectUrl,i="");var s='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+a+'"'+i+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(t)+");<\/script></body></html>",o=Cae.open();return null!==o&&o.document.write(s),o}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if("[object Window]"===Object.prototype.toString.call(Cae)){var l='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(t.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+t.filename+'" width="500px" height="400px" /></body></html>',c=Cae.open();if(null!==c){c.document.write(l);var d=this;c.document.documentElement.querySelector("#pdfViewer").onload=function(){c.document.title=t.filename,c.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(d.output("bloburl"))}}return c}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if("[object Window]"!==Object.prototype.toString.call(Cae))throw new Error("The option dataurlnewwindow just works in a browser-environment.");var u='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",t)+'"></iframe></body></html>',h=Cae.open();if(null!==h&&(h.document.write(u),h.document.title=t.filename),h||"undefined"==typeof safari)return h;break;case"datauri":case"dataurl":return Cae.document.location.href=this.output("datauristring",t);default:return null}},Le.foo=function(){try{return Le.apply(this,arguments)}catch(n){var e=n.stack||"";~e.indexOf(" at ")&&(e=e.split(" at ")[1]);var t="Error in function "+e.split("\n")[0].split("<")[0]+": "+n.message;if(!Cae.console)throw new Error(t);Cae.console.error(t,n),Cae.alert&&alert(t)}},Le.foo.bar=Le,Le.foo),xt=function(e){return!0===Array.isArray(_e)&&_e.indexOf(e)>-1};switch(r){case"pt":he=1;break;case"mm":he=72/25.4;break;case"cm":he=72/2.54;break;case"in":he=72;break;case"px":he=1==xt("px_scaling")?.75:96/72;break;case"pc":case"em":he=12;break;case"ex":he=6;break;default:if("number"!=typeof r)throw new Error("Invalid unit: "+r);he=r}var bt=null;R(),D();var yt=p.__private__.getPageInfo=p.getPageInfo=function(e){if(isNaN(e)||e%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Se[e].objId,pageNumber:e,pageContext:Se[e]}},vt=p.__private__.getPageInfoByObjId=function(e){if(isNaN(e)||e%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var t in Se)if(Se[t].objId===e)break;return yt(t)},wt=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:Se[H].objId,pageNumber:H,pageContext:Se[H]}};p.addPage=function(){return at.apply(this,arguments),this},p.setPage=function(){return st.apply(this,arguments),J.call(this,G[H]),this},p.insertPage=function(e){return this.addPage(),this.movePage(H,e),this},p.movePage=function(e,t){var n,r;if(e>t){n=G[e],r=Se[e];for(var a=e;a>t;a--)G[a]=G[a-1],Se[a]=Se[a-1];G[t]=n,Se[t]=r,this.setPage(t)}else if(e<t){n=G[e],r=Se[e];for(var i=e;i<t;i++)G[i]=G[i+1],Se[i]=Se[i+1];G[t]=n,Se[t]=r,this.setPage(t)}return this},p.deletePage=function(){return it.apply(this,arguments),this},p.__private__.text=p.text=function(e,t,n,r,a){var i,s,o,l,c,d,u,p,m,f=(r=r||{}).scope||this;if("number"==typeof e&&"number"==typeof t&&("string"==typeof n||Array.isArray(n))){var g=n;n=t,t=e,e=g}if(arguments[3]instanceof Ee==0?(o=arguments[4],l=arguments[5],"object"===py(u=arguments[3])&&null!==u||("string"==typeof o&&(l=o,o=null),"string"==typeof u&&(l=u,u=null),"number"==typeof u&&(o=u,u=null),r={flags:u,angle:o,align:l})):(S("The transform parameter of text() with a Matrix value"),m=a),isNaN(t)||isNaN(n)||null==e)throw new Error("Invalid arguments passed to jsPDF.text");if(0===e.length)return f;var x,b="",w="number"==typeof r.lineHeightFactor?r.lineHeightFactor:Lt,j=f.internal.scaleFactor;function N(e){return e=e.split("\t").join(Array(r.TabLen||9).join(" ")),nt(e,u)}function C(e){for(var t,n=e.concat(),r=[],a=n.length;a--;)"string"==typeof(t=n.shift())?r.push(t):Array.isArray(e)&&(1===t.length||void 0===t[1]&&void 0===t[2])?r.push(t[0]):r.push([t[0],t[1],t[2]]);return r}function _(e,t){var n;if("string"==typeof e)n=t(e)[0];else if(Array.isArray(e)){for(var r,a,i=e.concat(),s=[],o=i.length;o--;)"string"==typeof(r=i.shift())?s.push(t(r)[0]):Array.isArray(r)&&"string"==typeof r[0]&&(a=t(r[0],r[1],r[2]),s.push([a[0],a[1],a[2]]));n=s}return n}var A=!1,O=!0;if("string"==typeof e)A=!0;else if(Array.isArray(e)){var E=e.concat();s=[];for(var M,P=E.length;P--;)("string"!=typeof(M=E.shift())||Array.isArray(M)&&"string"!=typeof M[0])&&(O=!1);A=O}if(!1===A)throw new Error('Type of text must be string or Array. "'+e+'" is not recognized.');"string"==typeof e&&(e=e.match(/[\r?\n]/)?e.split(/\r\n|\r|\n/g):[e]);var D=te/f.internal.scaleFactor,L=D*(w-1);switch(r.baseline){case"bottom":n-=L;break;case"top":n+=D-L;break;case"hanging":n+=D-2*L;break;case"middle":n+=D/2-L}if((d=r.maxWidth||0)>0&&("string"==typeof e?e=f.splitTextToSize(e,d):"[object Array]"===Object.prototype.toString.call(e)&&(e=e.reduce(function(e,t){return e.concat(f.splitTextToSize(t,d))},[]))),i={text:e,x:t,y:n,options:r,mutex:{pdfEscape:nt,activeFontKey:ue,fonts:ge,activeFontSize:te}},Ce.publish("preProcessText",i),e=i.text,o=(r=i.options).angle,m instanceof Ee==0&&o&&"number"==typeof o){o*=Math.PI/180,0===r.rotationDirection&&(o=-o),v===y&&(o=-o);var I=Math.cos(o),R=Math.sin(o);m=new Ee(I,R,-R,I,0,0)}else o&&o instanceof Ee&&(m=o);v!==y||m||(m=Pe),void 0!==(c=r.charSpace||Jt)&&(b+=k(T(c))+" Tc\n",this.setCharSpace(this.getCharSpace()||0)),void 0!==(p=r.horizontalScale)&&(b+=k(100*p)+" Tz\n"),r.lang;var F=-1,H=void 0!==r.renderingMode?r.renderingMode:r.stroke,z=f.internal.getCurrentPageInfo().pageContext;switch(H){case 0:case!1:case"fill":F=0;break;case 1:case!0:case"stroke":F=1;break;case 2:case"fillThenStroke":F=2;break;case 3:case"invisible":F=3;break;case 4:case"fillAndAddForClipping":F=4;break;case 5:case"strokeAndAddPathForClipping":F=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":F=6;break;case 7:case"addToPathForClipping":F=7}var B=void 0!==z.usedRenderingMode?z.usedRenderingMode:-1;-1!==F?b+=F+" Tr\n":-1!==B&&(b+="0 Tr\n"),-1!==F&&(z.usedRenderingMode=F),l=r.align||"left";var W,$=te*w,U=f.internal.pageSize.getWidth(),V=ge[ue];c=r.charSpace||Jt,d=r.maxWidth||0,u=Object.assign({autoencode:!0,noBOM:!0},r.flags);var q=[],G=function(e){return f.getStringUnitWidth(e,{font:V,charSpace:c,fontSize:te,doKerning:!1})*te/j};if("[object Array]"===Object.prototype.toString.call(e)){var Y;s=C(e),"left"!==l&&(W=s.map(G));var K,J=0;if("right"===l){t-=W[0],e=[],P=s.length;for(var Q=0;Q<P;Q++)0===Q?(K=Wt(t),Y=$t(n)):(K=T(J-W[Q]),Y=-$),e.push([s[Q],K,Y]),J=W[Q]}else if("center"===l){t-=W[0]/2,e=[],P=s.length;for(var Z=0;Z<P;Z++)0===Z?(K=Wt(t),Y=$t(n)):(K=T((J-W[Z])/2),Y=-$),e.push([s[Z],K,Y]),J=W[Z]}else if("left"===l){e=[],P=s.length;for(var ee=0;ee<P;ee++)e.push(s[ee])}else if("justify"===l&&"Identity-H"===V.encoding){e=[],P=s.length,d=0!==d?d:U;for(var ne=0,re=0;re<P;re++)if(Y=0===re?$t(n):-$,K=0===re?Wt(t):ne,re<P-1){var ie=T((d-W[re])/(s[re].split(" ").length-1)),se=s[re].split(" ");e.push([se[0]+" ",K,Y]),ne=0;for(var oe=1;oe<se.length;oe++){var le=(G(se[oe-1]+" "+se[oe])-G(se[oe]))*j+ie;oe==se.length-1?e.push([se[oe],le,0]):e.push([se[oe]+" ",le,0]),ne-=le}}else e.push([s[re],K,Y]);e.push(["",ne,0])}else{if("justify"!==l)throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(e=[],P=s.length,d=0!==d?d:U,re=0;re<P;re++){Y=0===re?$t(n):-$,K=0===re?Wt(t):0;var ce=s[re].split(" ").length-1,de=ce>0?(d-W[re])/ce:0;re<P-1?q.push(k(T(de))):q.push(0),e.push([s[re],K,Y])}}}!0===("boolean"==typeof r.R2L?r.R2L:ae)&&(e=_(e,function(e,t,n){return[e.split("").reverse().join(""),t,n]})),i={text:e,x:t,y:n,options:r,mutex:{pdfEscape:nt,activeFontKey:ue,fonts:ge,activeFontSize:te}},Ce.publish("postProcessText",i),e=i.text,x=i.mutex.isHex||!1;var he=ge[ue].encoding;"WinAnsiEncoding"!==he&&"StandardEncoding"!==he||(e=_(e,function(e,t,n){return[N(e),t,n]})),s=C(e),e=[];for(var pe,me,fe,xe=Array.isArray(s[0])?1:0,be="",ye=function(e,t,n){var a="";return n instanceof Ee?(n="number"==typeof r.angle?Me(n,new Ee(1,0,0,1,e,t)):Me(new Ee(1,0,0,1,e,t),n),v===y&&(n=Me(new Ee(1,0,0,-1,0,0),n)),a=n.join(" ")+" Tm\n"):a=k(e)+" "+k(t)+" Td\n",a},ve=0;ve<s.length;ve++){switch(be="",xe){case 1:fe=(x?"<":"(")+s[ve][0]+(x?">":")"),pe=parseFloat(s[ve][1]),me=parseFloat(s[ve][2]);break;case 0:fe=(x?"<":"(")+s[ve]+(x?">":")"),pe=Wt(t),me=$t(n)}void 0!==q&&void 0!==q[ve]&&(be=q[ve]+" Tw\n"),0===ve?e.push(be+ye(pe,me,m)+fe):0===xe?e.push(be+fe):1===xe&&e.push(be+ye(pe,me,m)+fe)}e=0===xe?e.join(" Tj\nT* "):e.join(" Tj\n"),e+=" Tj\n";var we="BT\n/";return we+=ue+" "+te+" Tf\n",we+=k(te*w)+" TL\n",we+=Yt+"\n",we+=b,we+=e,X(we+="ET"),h[ue]=!0,f};var jt=p.__private__.clip=p.clip=function(e){return X("evenodd"===e?"W*":"W"),this};p.clipEvenOdd=function(){return jt("evenodd")},p.__private__.discardPath=p.discardPath=function(){return X("n"),this};var Nt=p.__private__.isValidStyle=function(e){var t=!1;return-1!==[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(e)&&(t=!0),t};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(e){return Nt(e)&&(c=e),this};var kt=p.__private__.getStyle=p.getStyle=function(e){var t=c;switch(e){case"D":case"S":t="S";break;case"F":t="f";break;case"FD":case"DF":t="B";break;case"f":case"f*":case"B":case"B*":t=e}return t},St=p.close=function(){return X("h"),this};p.stroke=function(){return X("S"),this},p.fill=function(e){return Ct("f",e),this},p.fillEvenOdd=function(e){return Ct("f*",e),this},p.fillStroke=function(e){return Ct("B",e),this},p.fillStrokeEvenOdd=function(e){return Ct("B*",e),this};var Ct=function(e,t){"object"===py(t)?Tt(t,e):X(e)},_t=function(e){null===e||v===y&&void 0===e||(e=kt(e),X(e))};function At(e,t,n,r,a){var i=new aie(t||this.boundingBox,n||this.xStep,r||this.yStep,this.gState,a||this.matrix);i.stream=this.stream;var s=e+"$$"+this.cloneIndex+++"$$";return De(s,i),i}var Tt=function(e,t){var n=ve[e.key],r=ye[n];if(r instanceof rie)X("q"),X(Ot(t)),r.gState&&p.setGState(r.gState),X(e.matrix.toString()+" cm"),X("/"+n+" sh"),X("Q");else if(r instanceof aie){var a=new Ee(1,0,0,-1,0,pn());e.matrix&&(a=a.multiply(e.matrix||Pe),n=At.call(r,e.key,e.boundingBox,e.xStep,e.yStep,a).id),X("q"),X("/Pattern cs"),X("/"+n+" scn"),r.gState&&p.setGState(r.gState),X(t),X("Q")}},Ot=function(e){switch(e){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Et=p.moveTo=function(e,t){return X(k(T(e))+" "+k(O(t))+" m"),this},Mt=p.lineTo=function(e,t){return X(k(T(e))+" "+k(O(t))+" l"),this},Pt=p.curveTo=function(e,t,n,r,a,i){return X([k(T(e)),k(O(t)),k(T(n)),k(O(r)),k(T(a)),k(O(i)),"c"].join(" ")),this};p.__private__.line=p.line=function(e,t,n,r,a){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||!Nt(a))throw new Error("Invalid arguments passed to jsPDF.line");return v===b?this.lines([[n-e,r-t]],e,t,[1,1],a||"S"):this.lines([[n-e,r-t]],e,t,[1,1]).stroke()},p.__private__.lines=p.lines=function(e,t,n,r,a,i){var s,o,l,c,d,u,h,p,m,f,g,x;if("number"==typeof e&&(x=n,n=t,t=e,e=x),r=r||[1,1],i=i||!1,isNaN(t)||isNaN(n)||!Array.isArray(e)||!Array.isArray(r)||!Nt(a)||"boolean"!=typeof i)throw new Error("Invalid arguments passed to jsPDF.lines");for(Et(t,n),s=r[0],o=r[1],c=e.length,f=t,g=n,l=0;l<c;l++)2===(d=e[l]).length?(f=d[0]*s+f,g=d[1]*o+g,Mt(f,g)):(u=d[0]*s+f,h=d[1]*o+g,p=d[2]*s+f,m=d[3]*o+g,f=d[4]*s+f,g=d[5]*o+g,Pt(u,h,p,m,f,g));return i&&St(),_t(a),this},p.path=function(e){for(var t=0;t<e.length;t++){var n=e[t],r=n.c;switch(n.op){case"m":Et(r[0],r[1]);break;case"l":Mt(r[0],r[1]);break;case"c":Pt.apply(this,r);break;case"h":St()}}return this},p.__private__.rect=p.rect=function(e,t,n,r,a){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||!Nt(a))throw new Error("Invalid arguments passed to jsPDF.rect");return v===b&&(r=-r),X([k(T(e)),k(O(t)),k(T(n)),k(T(r)),"re"].join(" ")),_t(a),this},p.__private__.triangle=p.triangle=function(e,t,n,r,a,i,s){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(a)||isNaN(i)||!Nt(s))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[n-e,r-t],[a-n,i-r],[e-a,t-i]],e,t,[1,1],s,!0),this},p.__private__.roundedRect=p.roundedRect=function(e,t,n,r,a,i,s){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(a)||isNaN(i)||!Nt(s))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var o=4/3*(Math.SQRT2-1);return a=Math.min(a,.5*n),i=Math.min(i,.5*r),this.lines([[n-2*a,0],[a*o,0,a,i-i*o,a,i],[0,r-2*i],[0,i*o,-a*o,i,-a,i],[2*a-n,0],[-a*o,0,-a,-i*o,-a,-i],[0,2*i-r],[0,-i*o,a*o,-i,a,-i]],e+a,t,[1,1],s,!0),this},p.__private__.ellipse=p.ellipse=function(e,t,n,r,a){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||!Nt(a))throw new Error("Invalid arguments passed to jsPDF.ellipse");var i=4/3*(Math.SQRT2-1)*n,s=4/3*(Math.SQRT2-1)*r;return Et(e+n,t),Pt(e+n,t-s,e+i,t-r,e,t-r),Pt(e-i,t-r,e-n,t-s,e-n,t),Pt(e-n,t+s,e-i,t+r,e,t+r),Pt(e+i,t+r,e+n,t+s,e+n,t),_t(a),this},p.__private__.circle=p.circle=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||!Nt(r))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(e,t,n,n,r)},p.setFont=function(e,t,n){return n&&(t=N(t,n)),ue=lt(e,t,{disableWarning:!1}),this};var Dt=p.__private__.getFont=p.getFont=function(){return ge[lt.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var e,t,n={};for(e in xe)if(xe.hasOwnProperty(e))for(t in n[e]=[],xe[e])xe[e].hasOwnProperty(t)&&n[e].push(t);return n},p.addFont=function(e,t,n,r,a){var i=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&-1!==i.indexOf(arguments[3])?a=arguments[3]:arguments[3]&&-1==i.indexOf(arguments[3])&&(n=N(n,r)),tt.call(this,e,t,n,a=a||"Identity-H")};var Lt,It=e.lineWidth||.200025,Rt=p.__private__.getLineWidth=p.getLineWidth=function(){return It},Ft=p.__private__.setLineWidth=p.setLineWidth=function(e){return It=e,X(k(T(e))+" w"),this};p.__private__.setLineDash=iie.API.setLineDash=iie.API.setLineDashPattern=function(e,t){if(e=e||[],t=t||0,isNaN(t)||!Array.isArray(e))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return e=e.map(function(e){return k(T(e))}).join(" "),t=k(T(t)),X("["+e+"] "+t+" d"),this};var Ht=p.__private__.getLineHeight=p.getLineHeight=function(){return te*Lt};p.__private__.getLineHeight=p.getLineHeight=function(){return te*Lt};var zt=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(e){return"number"==typeof(e=e||1.15)&&(Lt=e),this},Bt=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return Lt};zt(e.lineHeight);var Wt=p.__private__.getHorizontalCoordinate=function(e){return T(e)},$t=p.__private__.getVerticalCoordinate=function(e){return v===y?e:Se[H].mediaBox.topRightY-Se[H].mediaBox.bottomLeftY-T(e)},Ut=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(e){return k(Wt(e))},Vt=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(e){return k($t(e))},qt=e.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return We(qt)},p.__private__.setStrokeColor=p.setDrawColor=function(e,t,n,r){return qt=$e({ch1:e,ch2:t,ch3:n,ch4:r,pdfColorType:"draw",precision:2}),X(qt),this};var Gt=e.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return We(Gt)},p.__private__.setFillColor=p.setFillColor=function(e,t,n,r){return Gt=$e({ch1:e,ch2:t,ch3:n,ch4:r,pdfColorType:"fill",precision:2}),X(Gt),this};var Yt=e.textColor||"0 g",Kt=p.__private__.getTextColor=p.getTextColor=function(){return We(Yt)};p.__private__.setTextColor=p.setTextColor=function(e,t,n,r){return Yt=$e({ch1:e,ch2:t,ch3:n,ch4:r,pdfColorType:"text",precision:3}),this};var Jt=e.charSpace,Xt=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(Jt||0)};p.__private__.setCharSpace=p.setCharSpace=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Jt=e,this};var Qt=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(e){var t=p.CapJoinStyles[e];if(void 0===t)throw new Error("Line cap style of '"+e+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Qt=t,X(t+" J"),this};var Zt=0;p.__private__.setLineJoin=p.setLineJoin=function(e){var t=p.CapJoinStyles[e];if(void 0===t)throw new Error("Line join style of '"+e+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Zt=t,X(t+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(e){if(e=e||0,isNaN(e))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return X(k(T(e))+" M"),this},p.GState=tie,p.setGState=function(e){(e="string"==typeof e?we[je[e]]:en(null,e)).equals(Ne)||(X("/"+e.id+" gs"),Ne=e)};var en=function(e,t){if(!e||!je[e]){var n=!1;for(var r in we)if(we.hasOwnProperty(r)&&we[r].equals(t)){n=!0;break}if(n)t=we[r];else{var a="GS"+(Object.keys(we).length+1).toString(10);we[a]=t,t.id=a}return e&&(je[e]=t.id),Ce.publish("addGState",t),t}};p.addGState=function(e,t){return en(e,t),this},p.saveGraphicsState=function(){return X("q"),be.push({key:ue,size:te,color:Yt}),this},p.restoreGraphicsState=function(){X("Q");var e=be.pop();return ue=e.key,te=e.size,Yt=e.color,Ne=null,this},p.setCurrentTransformationMatrix=function(e){return X(e.toString()+" cm"),this},p.comment=function(e){return X("#"+e),this};var tn=function(e,t){var n=e||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return n},set:function(e){isNaN(e)||(n=parseFloat(e))}});var r=t||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return r},set:function(e){isNaN(e)||(r=parseFloat(e))}});var a="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return a},set:function(e){a=e.toString()}}),this},nn=function(e,t,n,r){tn.call(this,e,t),this.type="rect";var a=n||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return a},set:function(e){isNaN(e)||(a=parseFloat(e))}});var i=r||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return i},set:function(e){isNaN(e)||(i=parseFloat(e))}}),this},rn=function(){this.page=ke,this.currentPage=H,this.pages=G.slice(0),this.pagesContext=Se.slice(0),this.x=pe,this.y=me,this.matrix=fe,this.width=on(H),this.height=cn(H),this.outputDestination=K,this.id="",this.objectNumber=-1};rn.prototype.restore=function(){ke=this.page,H=this.currentPage,Se=this.pagesContext,G=this.pages,pe=this.x,me=this.y,fe=this.matrix,ln(H,this.width),dn(H,this.height),K=this.outputDestination};var an=function(e,t,n,r,a){Oe.push(new rn),ke=H=0,G=[],pe=e,me=t,fe=a,rt([n,r])};for(var sn in p.beginFormObject=function(e,t,n,r,a){return an(e,t,n,r,a),this},p.endFormObject=function(e){return function(e){if(Te[e])Oe.pop().restore();else{var t=new rn,n="Xo"+(Object.keys(Ae).length+1).toString(10);t.id=n,Te[e]=n,Ae[n]=t,Ce.publish("addFormObject",t),Oe.pop().restore()}}(e),this},p.doFormObject=function(e,t){var n=Ae[Te[e]];return X("q"),X(t.toString()+" cm"),X("/"+n.id+" Do"),X("Q"),this},p.getFormObject=function(e){var t=Ae[Te[e]];return{x:t.x,y:t.y,width:t.width,height:t.height,matrix:t.matrix}},p.save=function(e,t){return e=e||"generated.pdf",(t=t||{}).returnPromise=t.returnPromise||!1,!1===t.returnPromise?(Mae(ft(mt()),e),"function"==typeof Mae.unload&&Cae.setTimeout&&setTimeout(Mae.unload,911),this):new Promise(function(t,n){try{var r=Mae(ft(mt()),e);"function"==typeof Mae.unload&&Cae.setTimeout&&setTimeout(Mae.unload,911),t(r)}catch(a){n(a.message)}})},iie.API)iie.API.hasOwnProperty(sn)&&("events"===sn&&iie.API.events.length?function(e,t){var n,r,a;for(a=t.length-1;-1!==a;a--)n=t[a][0],r=t[a][1],e.subscribe.apply(e,[n].concat("function"==typeof r?[r]:r))}(Ce,iie.API.events):p[sn]=iie.API[sn]);function on(e){return Se[e].mediaBox.topRightX-Se[e].mediaBox.bottomLeftX}function ln(e,t){Se[e].mediaBox.topRightX=t+Se[e].mediaBox.bottomLeftX}function cn(e){return Se[e].mediaBox.topRightY-Se[e].mediaBox.bottomLeftY}function dn(e,t){Se[e].mediaBox.topRightY=t+Se[e].mediaBox.bottomLeftY}var un=p.getPageWidth=function(e){return on(e=e||H)/he},hn=p.setPageWidth=function(e,t){ln(e,t*he)},pn=p.getPageHeight=function(e){return cn(e=e||H)/he},mn=p.setPageHeight=function(e,t){dn(e,t*he)};return p.internal={pdfEscape:nt,getStyle:kt,getFont:Dt,getFontSize:re,getCharSpace:Xt,getTextColor:Kt,getLineHeight:Ht,getLineHeightFactor:Bt,getLineWidth:Rt,write:Q,getHorizontalCoordinate:Wt,getVerticalCoordinate:$t,getCoordinateString:Ut,getVerticalCoordinateString:Vt,collections:{},newObject:Ie,newAdditionalObject:He,newObjectDeferred:Re,newObjectDeferredBegin:Fe,getFilters:Ue,putStream:Ve,events:Ce,scaleFactor:he,pageSize:{getWidth:function(){return un(H)},setWidth:function(e){hn(H,e)},getHeight:function(){return pn(H)},setHeight:function(e){mn(H,e)}},encryptionOptions:d,encryption:bt,getEncryptor:function(e){return null!==d?bt.encryptor(e,0):function(e){return e}},output:gt,getNumberOfPages:ot,pages:G,out:X,f2:_,f3:A,getPageInfo:yt,getPageInfoByObjId:vt,getCurrentPageInfo:wt,getPDFVersion:f,Point:tn,Rectangle:nn,Matrix:Ee,hasHotfix:xt},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return un(H)},set:function(e){hn(H,e)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return pn(H)},set:function(e){mn(H,e)},enumerable:!0,configurable:!0}),function(e){for(var t=0,n=ee.length;t<n;t++){var r=tt.call(this,e[t][0],e[t][1],e[t][2],ee[t][3],!0);!1===u&&(h[r]=!0);var a=e[t][0].split("-");et({id:r,fontName:a[0],fontStyle:a[1]||""})}Ce.publish("addFonts",{fonts:ge,dictionary:xe})}.call(p,ee),ue="F1",at(a,n),Ce.publish("initialized"),p}Qae.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},Qae.prototype.toHexString=function(e){return e.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Qae.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")},Qae.prototype.processOwnerPassword=function(e,t){return Jae(Gae(t).substr(0,5),e)},Qae.prototype.encryptor=function(e,t){var n=Gae(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(e){return Jae(n,e)}},tie.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||py(e)!==py(this))return!1;var r=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t))return!1;if(this[t]!==e[t])return!1;r++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&r--;return 0===r},iie.API={events:[]},iie.version="3.0.3";var sie=iie.API,oie=1,lie=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},cie=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},die=function(e){return e.toFixed(2)},uie=function(e){return e.toFixed(5)};sie.__acroform__={};var hie=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},pie=function(e){return e*oie},mie=function(e){var t=new Oie,n=Uie.internal.getHeight(e)||0,r=Uie.internal.getWidth(e)||0;return t.BBox=[0,0,Number(die(r)),Number(die(n))],t},fie=sie.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},gie=sie.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},xie=sie.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},bie=sie.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return xie(e,t-1)},yie=sie.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return fie(e,t-1)},vie=sie.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return gie(e,t-1)},wie=sie.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,a=e[0],i=e[1],s=e[2],o=e[3],l={};return l.lowerLeft_X=n(a)||0,l.lowerLeft_Y=r(i+o)||0,l.upperRight_X=n(a+s)||0,l.upperRight_Y=r(i)||0,[Number(die(l.lowerLeft_X)),Number(die(l.lowerLeft_Y)),Number(die(l.upperRight_X)),Number(die(l.upperRight_Y))]},jie=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=e._V||e.DV,r=Nie(e,n),a=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+a+" "+die(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=mie(e);return i.scope=e.scope,i.stream=t.join("\n"),i}},Nie=function(e,t){var n=0===e.fontSize?e.maxFontSize:e.fontSize,r={text:"",fontSize:""},a=(t=")"==(t="("==t.substr(0,1)?t.substr(1):t).substr(t.length-1)?t.substr(0,t.length-1):t).split(" ");a=e.multiline?a.map(function(e){return e.split("\n")}):a.map(function(e){return[e]});var i=n,s=Uie.internal.getHeight(e)||0;s=s<0?-s:s;var o=Uie.internal.getWidth(e)||0;o=o<0?-o:o;var l=function(t,n,r){if(t+1<a.length){var i=n+" "+a[t+1][0];return kie(i,e,r).width<=o-4}return!1};i++;e:for(;i>0;){t="",i--;var c,d,u=kie("3",e,i).height,h=e.multiline?s-i:(s-u)/2,p=h+=2,m=0,f=0,g=0;if(i<=0){t="(...) Tj\n",t+="% Width of Text: "+kie(t,e,i=12).width+", FieldWidth:"+o+"\n";break}for(var x="",b=0,y=0;y<a.length;y++)if(a.hasOwnProperty(y)){var v=!1;if(1!==a[y].length&&g!==a[y].length-1){if((u+2)*(b+2)+2>s)continue e;x+=a[y][g],v=!0,f=y,y--}else{x=" "==(x+=a[y][g]+" ").substr(x.length-1)?x.substr(0,x.length-1):x;var w=parseInt(y),j=l(w,x,i),N=y>=a.length-1;if(j&&!N){x+=" ",g=0;continue}if(j||N){if(N)f=w;else if(e.multiline&&(u+2)*(b+2)+2>s)continue e}else{if(!e.multiline)continue e;if((u+2)*(b+2)+2>s)continue e;f=w}}for(var k="",S=m;S<=f;S++){var C=a[S];if(e.multiline){if(S===f){k+=C[g]+" ",g=(g+1)%C.length;continue}if(S===m){k+=C[C.length-1]+" ";continue}}k+=C[0]+" "}switch(k=" "==k.substr(k.length-1)?k.substr(0,k.length-1):k,d=kie(k,e,i).width,e.textAlign){case"right":c=o-d-2;break;case"center":c=(o-d)/2;break;default:c=2}t+=die(c)+" "+die(p)+" Td\n",t+="("+lie(k)+") Tj\n",t+=-die(c)+" 0 Td\n",p=-(i+2),d=0,m=v?f:f+1,b++,x=""}break}return r.text=t,r.fontSize=i,r},kie=function(e,t,n){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(e,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:a}},Sie={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Cie=function(e,t){var n={type:"reference",object:e};void 0===t.internal.getPageInfo(e.page).pageContext.annotations.find(function(e){return e.type===n.type&&e.object===n.object})&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},_ie=sie.__acroform__.arrayToPdfArray=function(e,t,n){var r=function(e){return e};if(Array.isArray(e)){for(var a="[",i=0;i<e.length;i++)switch(0!==i&&(a+=" "),py(e[i])){case"boolean":case"number":case"object":a+=e[i].toString();break;case"string":"/"!==e[i].substr(0,1)?(void 0!==t&&n&&(r=n.internal.getEncryptor(t)),a+="("+lie(r(e[i].toString()))+")"):a+=e[i].toString()}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Aie=function(e,t,n){var r=function(e){return e};return void 0!==t&&n&&(r=n.internal.getEncryptor(t)),(e=e||"").toString(),"("+lie(r(e))+")"},Tie=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(void 0===this._objId){if(void 0===this.scope)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Tie.prototype.toString=function(){return this.objId+" 0 R"},Tie.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Tie.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(e){return"content"!=e&&"appearanceStreamContent"!=e&&"scope"!=e&&"objId"!=e&&"_"!=e.substring(0,1)});for(var n in t)if(!1===Object.getOwnPropertyDescriptor(this,t[n]).configurable){var r=t[n],a=this[r];a&&(Array.isArray(a)?e.push({key:r,value:_ie(a,this.objId,this.scope)}):a instanceof Tie?(a.scope=this.scope,e.push({key:r,value:a.objId+" 0 R"})):"function"!=typeof a&&e.push({key:r,value:a}))}return e};var Oie=function(){Tie.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){e=t.trim()},get:function(){return e||null}})};hie(Oie,Tie);var Eie=function(){Tie.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var t=function(e){return e};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+lie(t(e))+")"}},set:function(t){e=t}})};hie(Eie,Tie);var Mie=function e(){Tie.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(e){if(isNaN(e))throw new Error('Invalid value "'+e+'" for attribute F supplied.');t=e}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return Boolean(bie(t,3))},set:function(e){!0===Boolean(e)?this.F=yie(t,3):this.F=vie(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(e){if(isNaN(e))throw new Error('Invalid value "'+e+'" for attribute Ff supplied.');n=e}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(0!==r.length)return r},set:function(e){r=void 0!==e?e:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(e){r[0]=e}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(e){r[1]=e}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(e){r[2]=e}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(e){r[3]=e}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(e){switch(e){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=e;break;default:throw new Error('Invalid value "'+e+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof zie)return;i="FieldObject"+e.FieldNum++}var t=function(e){return e};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+lie(t(i))+")"},set:function(e){i=e.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(e){i=e}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(e){s=e}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(e){o=e}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(e){l=e}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return void 0===c?50/oie:c},set:function(e){c=e}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(e){d=e}});var u="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!u||this instanceof zie||this instanceof Wie))return Aie(u,this.objId,this.scope)},set:function(e){e=e.toString(),u=e}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof Rie==0?Aie(h,this.objId,this.scope):h},set:function(e){e=e.toString(),h=this instanceof Rie==0?"("===e.substr(0,1)?cie(e.substr(1,e.length-2)):cie(e):e}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Rie==1?cie(h.substr(1,h.length-1)):h},set:function(e){e=e.toString(),h=this instanceof Rie==1?"/"+e:e}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(e){this.V=e}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Rie==0?Aie(p,this.objId,this.scope):p},set:function(e){e=e.toString(),p=this instanceof Rie==0?"("===e.substr(0,1)?cie(e.substr(1,e.length-2)):cie(e):e}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Rie==1?cie(p.substr(1,p.length-1)):p},set:function(e){e=e.toString(),p=this instanceof Rie==1?"/"+e:e}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var m,f=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return f},set:function(e){e=Boolean(e),f=e}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(m)return m},set:function(e){m=e}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return Boolean(bie(this.Ff,1))},set:function(e){!0===Boolean(e)?this.Ff=yie(this.Ff,1):this.Ff=vie(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return Boolean(bie(this.Ff,2))},set:function(e){!0===Boolean(e)?this.Ff=yie(this.Ff,2):this.Ff=vie(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return Boolean(bie(this.Ff,3))},set:function(e){!0===Boolean(e)?this.Ff=yie(this.Ff,3):this.Ff=vie(this.Ff,3)}});var g=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(null!==g)return g},set:function(e){if(-1===[0,1,2].indexOf(e))throw new Error('Invalid value "'+e+'" for attribute Q supplied.');g=e}}),Object.defineProperty(this,"textAlign",{get:function(){var e;switch(g){case 0:default:e="left";break;case 1:e="center";break;case 2:e="right"}return e},configurable:!0,enumerable:!0,set:function(e){switch(e){case"right":case 2:g=2;break;case"center":case 1:g=1;break;default:g=0}}})};hie(Mie,Tie);var Pie=function(){Mie.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){e=t}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return _ie(t,this.objId,this.scope)},set:function(e){var n,r;r=[],"string"==typeof(n=e)&&(r=function(e,t,n){n||(n=1);for(var r,a=[];r=t.exec(e);)a.push(r[n]);return a}(n,/\((.*?)\)/g)),t=r}}),this.getOptions=function(){return t},this.setOptions=function(e){t=e,this.sort&&t.sort()},this.addOption=function(e){e=(e=e||"").toString(),t.push(e),this.sort&&t.sort()},this.removeOption=function(e,n){for(n=n||!1,e=(e=e||"").toString();-1!==t.indexOf(e)&&(t.splice(t.indexOf(e),1),!1!==n););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return Boolean(bie(this.Ff,18))},set:function(e){!0===Boolean(e)?this.Ff=yie(this.Ff,18):this.Ff=vie(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return Boolean(bie(this.Ff,19))},set:function(e){!0===this.combo&&(!0===Boolean(e)?this.Ff=yie(this.Ff,19):this.Ff=vie(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return Boolean(bie(this.Ff,20))},set:function(e){!0===Boolean(e)?(this.Ff=yie(this.Ff,20),t.sort()):this.Ff=vie(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(bie(this.Ff,22))},set:function(e){!0===Boolean(e)?this.Ff=yie(this.Ff,22):this.Ff=vie(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(bie(this.Ff,23))},set:function(e){!0===Boolean(e)?this.Ff=yie(this.Ff,23):this.Ff=vie(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return Boolean(bie(this.Ff,27))},set:function(e){!0===Boolean(e)?this.Ff=yie(this.Ff,27):this.Ff=vie(this.Ff,27)}}),this.hasAppearanceStream=!1};hie(Pie,Mie);var Die=function(){Pie.call(this),this.fontName="helvetica",this.combo=!1};hie(Die,Pie);var Lie=function(){Die.call(this),this.combo=!0};hie(Lie,Die);var Iie=function(){Lie.call(this),this.edit=!0};hie(Iie,Lie);var Rie=function(){Mie.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return Boolean(bie(this.Ff,15))},set:function(e){!0===Boolean(e)?this.Ff=yie(this.Ff,15):this.Ff=vie(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return Boolean(bie(this.Ff,16))},set:function(e){!0===Boolean(e)?this.Ff=yie(this.Ff,16):this.Ff=vie(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return Boolean(bie(this.Ff,17))},set:function(e){!0===Boolean(e)?this.Ff=yie(this.Ff,17):this.Ff=vie(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return Boolean(bie(this.Ff,26))},set:function(e){!0===Boolean(e)?this.Ff=yie(this.Ff,26):this.Ff=vie(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(e){return e};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),0!==Object.keys(t).length){var n,r=[];for(n in r.push("<<"),t)r.push("/"+n+" ("+lie(e(t[n]))+")");return r.push(">>"),r.join("\n")}},set:function(e){"object"===py(e)&&(t=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(e){"string"==typeof e&&(t.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(t){e="/"+t}})};hie(Rie,Mie);var Fie=function(){Rie.call(this),this.pushButton=!0};hie(Fie,Rie);var Hie=function(){Rie.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=void 0!==t?t:[]}})};hie(Hie,Rie);var zie=function(){var e,t;Mie.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(e){t=e}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(e){return e};this.scope&&(e=this.scope.internal.getEncryptor(this.objId));var t,n=[];for(t in n.push("<<"),r)n.push("/"+t+" ("+lie(e(r[t]))+")");return n.push(">>"),n.join("\n")},set:function(e){"object"===py(e)&&(r=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(e){"string"==typeof e&&(r.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(e){n="/"+e}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Uie.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};hie(zie,Mie),Hie.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},Hie.prototype.createOption=function(e){var t=new zie;return t.Parent=this,t.optionName=e,this.Kids.push(t),Vie.call(this.scope,t),t};var Bie=function(){Rie.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Uie.CheckBox.createAppearanceStream()};hie(Bie,Rie);var Wie=function(){Mie.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return Boolean(bie(this.Ff,13))},set:function(e){!0===Boolean(e)?this.Ff=yie(this.Ff,13):this.Ff=vie(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(bie(this.Ff,21))},set:function(e){!0===Boolean(e)?this.Ff=yie(this.Ff,21):this.Ff=vie(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(bie(this.Ff,23))},set:function(e){!0===Boolean(e)?this.Ff=yie(this.Ff,23):this.Ff=vie(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return Boolean(bie(this.Ff,24))},set:function(e){!0===Boolean(e)?this.Ff=yie(this.Ff,24):this.Ff=vie(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return Boolean(bie(this.Ff,25))},set:function(e){!0===Boolean(e)?this.Ff=yie(this.Ff,25):this.Ff=vie(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return Boolean(bie(this.Ff,26))},set:function(e){!0===Boolean(e)?this.Ff=yie(this.Ff,26):this.Ff=vie(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};hie(Wie,Mie);var $ie=function(){Wie.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return Boolean(bie(this.Ff,14))},set:function(e){!0===Boolean(e)?this.Ff=yie(this.Ff,14):this.Ff=vie(this.Ff,14)}}),this.password=!0};hie($ie,Wie);var Uie={CheckBox:{createAppearanceStream:function(){return{N:{On:Uie.CheckBox.YesNormal},D:{On:Uie.CheckBox.YesPushDown,Off:Uie.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=mie(e);t.scope=e.scope;var n=[],r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),i=Nie(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+die(Uie.internal.getWidth(e))+" "+die(Uie.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+die(i.fontSize)+" Tf "+a),n.push("BT"),n.push(i.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join("\n"),t},YesNormal:function(e){var t=mie(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),a=[],i=Uie.internal.getHeight(e),s=Uie.internal.getWidth(e),o=Nie(e,e.caption);return a.push("1 g"),a.push("0 0 "+die(s)+" "+die(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+die(s-1)+" "+die(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+n+" "+die(o.fontSize)+" Tf "+r),a.push(o.text),a.push("ET"),a.push("Q"),t.stream=a.join("\n"),t},OffPushDown:function(e){var t=mie(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+die(Uie.internal.getWidth(e))+" "+die(Uie.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join("\n"),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Uie.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Uie.RadioButton.Circle.YesNormal,t.D[e]=Uie.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=mie(e);t.scope=e.scope;var n=[],r=Uie.internal.getWidth(e)<=Uie.internal.getHeight(e)?Uie.internal.getWidth(e)/4:Uie.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var a=Uie.internal.Bezier_C,i=Number((r*a).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+uie(Uie.internal.getWidth(e)/2)+" "+uie(Uie.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+i+" "+i+" "+r+" 0 "+r+" c"),n.push("-"+i+" "+r+" -"+r+" "+i+" -"+r+" 0 c"),n.push("-"+r+" -"+i+" -"+i+" -"+r+" 0 -"+r+" c"),n.push(i+" -"+r+" "+r+" -"+i+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join("\n"),t},YesPushDown:function(e){var t=mie(e);t.scope=e.scope;var n=[],r=Uie.internal.getWidth(e)<=Uie.internal.getHeight(e)?Uie.internal.getWidth(e)/4:Uie.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var a=Number((2*r).toFixed(5)),i=Number((a*Uie.internal.Bezier_C).toFixed(5)),s=Number((r*Uie.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+uie(Uie.internal.getWidth(e)/2)+" "+uie(Uie.internal.getHeight(e)/2)+" cm"),n.push(a+" 0 m"),n.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),n.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),n.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),n.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+uie(Uie.internal.getWidth(e)/2)+" "+uie(Uie.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join("\n"),t},OffPushDown:function(e){var t=mie(e);t.scope=e.scope;var n=[],r=Uie.internal.getWidth(e)<=Uie.internal.getHeight(e)?Uie.internal.getWidth(e)/4:Uie.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var a=Number((2*r).toFixed(5)),i=Number((a*Uie.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+uie(Uie.internal.getWidth(e)/2)+" "+uie(Uie.internal.getHeight(e)/2)+" cm"),n.push(a+" 0 m"),n.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),n.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),n.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),n.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join("\n"),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Uie.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Uie.RadioButton.Cross.YesNormal,t.D[e]=Uie.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=mie(e);t.scope=e.scope;var n=[],r=Uie.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+die(Uie.internal.getWidth(e)-2)+" "+die(Uie.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(die(r.x1.x)+" "+die(r.x1.y)+" m"),n.push(die(r.x2.x)+" "+die(r.x2.y)+" l"),n.push(die(r.x4.x)+" "+die(r.x4.y)+" m"),n.push(die(r.x3.x)+" "+die(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join("\n"),t},YesPushDown:function(e){var t=mie(e);t.scope=e.scope;var n=Uie.internal.calculateCross(e),r=[];return r.push("0.749023 g"),r.push("0 0 "+die(Uie.internal.getWidth(e))+" "+die(Uie.internal.getHeight(e))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+die(Uie.internal.getWidth(e)-2)+" "+die(Uie.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(die(n.x1.x)+" "+die(n.x1.y)+" m"),r.push(die(n.x2.x)+" "+die(n.x2.y)+" l"),r.push(die(n.x4.x)+" "+die(n.x4.y)+" m"),r.push(die(n.x3.x)+" "+die(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join("\n"),t},OffPushDown:function(e){var t=mie(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+die(Uie.internal.getWidth(e))+" "+die(Uie.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join("\n"),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};Uie.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Uie.internal.getWidth(e),n=Uie.internal.getHeight(e),r=Math.min(t,n);return{x1:{x:(t-r)/2,y:(n-r)/2+r},x2:{x:(t-r)/2+r,y:(n-r)/2},x3:{x:(t-r)/2,y:(n-r)/2},x4:{x:(t-r)/2+r,y:(n-r)/2+r}}}},Uie.internal.getWidth=function(e){var t=0;return"object"===py(e)&&(t=pie(e.Rect[2])),t},Uie.internal.getHeight=function(e){var t=0;return"object"===py(e)&&(t=pie(e.Rect[3])),t};var Vie=sie.addField=function(e){if(function(e,t){if(t.scope=e,void 0!==e.internal&&(void 0===e.internal.acroformPlugin||!1===e.internal.acroformPlugin.isInitialized)){if(Mie.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(Sie)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");oie=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new Eie,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){!function(e){e.internal.events.unsubscribe(e.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete e.internal.acroformPlugin.acroFormDictionaryRoot._eventID,e.internal.acroformPlugin.printedOut=!0}(e)}),e.internal.events.subscribe("buildDocument",function(){!function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var t=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];r.objId=void 0,r.hasAnnotation&&Cie(r,e)}}(e)}),e.internal.events.subscribe("putCatalog",function(){!function(e){if(void 0===e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")}(e)}),e.internal.events.subscribe("postPutPages",function(t){!function(e,t){var n=!e;for(var r in e||(t.internal.newObjectDeferredBegin(t.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),t.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),e=e||t.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(e.hasOwnProperty(r)){var a=e[r],i=[],s=a.Rect;if(a.Rect&&(a.Rect=wie(a.Rect,t)),t.internal.newObjectDeferredBegin(a.objId,!0),a.DA=Uie.createDefaultAppearanceStream(a),"object"===py(a)&&"function"==typeof a.getKeyValueListForStream&&(i=a.getKeyValueListForStream()),a.Rect=s,a.hasAppearanceStream&&!a.appearanceStreamContent){var o=jie(a);i.push({key:"AP",value:"<</N "+o+">>"}),t.internal.acroformPlugin.xForms.push(o)}if(a.appearanceStreamContent){var l="";for(var c in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(c)){var d=a.appearanceStreamContent[c];if(l+="/"+c+" ",l+="<<",Object.keys(d).length>=1||Array.isArray(d)){for(var r in d)if(d.hasOwnProperty(r)){var u=d[r];"function"==typeof u&&(u=u.call(t,a)),l+="/"+r+" "+u+" ",t.internal.acroformPlugin.xForms.indexOf(u)>=0||t.internal.acroformPlugin.xForms.push(u)}}else"function"==typeof(u=d)&&(u=u.call(t,a)),l+="/"+r+" "+u,t.internal.acroformPlugin.xForms.indexOf(u)>=0||t.internal.acroformPlugin.xForms.push(u);l+=">>"}i.push({key:"AP",value:"<<\n"+l+">>"})}t.internal.putStream({additionalKeyValues:i,objectId:a.objId}),t.internal.out("endobj")}n&&function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var r=n,a=e[n];t.internal.newObjectDeferredBegin(a.objId,!0),"object"===py(a)&&"function"==typeof a.putStream&&a.putStream(),delete e[r]}}(t.internal.acroformPlugin.xForms,t)}(t,e)}),e.internal.acroformPlugin.isInitialized=!0}}(this,e),!(e instanceof Mie))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};function qie(e){return e.reduce(function(e,t,n){return e[t]=n,e},{})}sie.AcroFormChoiceField=Pie,sie.AcroFormListBox=Die,sie.AcroFormComboBox=Lie,sie.AcroFormEditBox=Iie,sie.AcroFormButton=Rie,sie.AcroFormPushButton=Fie,sie.AcroFormRadioButton=Hie,sie.AcroFormCheckBox=Bie,sie.AcroFormTextField=Wie,sie.AcroFormPasswordField=$ie,sie.AcroFormAppearance=Uie,sie.AcroForm={ChoiceField:Pie,ListBox:Die,ComboBox:Lie,EditBox:Iie,Button:Rie,PushButton:Fie,RadioButton:Hie,CheckBox:Bie,TextField:Wie,PasswordField:$ie,Appearance:Uie},iie.AcroForm={ChoiceField:Pie,ListBox:Die,ComboBox:Lie,EditBox:Iie,Button:Rie,PushButton:Fie,RadioButton:Hie,CheckBox:Bie,TextField:Wie,PasswordField:$ie,Appearance:Uie},iie.AcroForm,function(e){var t="addImage_";e.__addimage__={};var n="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=e.__addimage__.getImageFileTypeByImageData=function(e,t){var a,i,s,o,l,c=n;if("RGBA"===(t=t||n)||void 0!==e.data&&e.data instanceof Uint8ClampedArray&&"height"in e&&"width"in e)return"RGBA";if(j(e))for(l in r)for(s=r[l],a=0;a<s.length;a+=1){for(o=!0,i=0;i<s[a].length;i+=1)if(void 0!==s[a][i]&&s[a][i]!==e[i]){o=!1;break}if(!0===o){c=l;break}}else for(l in r)for(s=r[l],a=0;a<s.length;a+=1){for(o=!0,i=0;i<s[a].length;i+=1)if(void 0!==s[a][i]&&s[a][i]!==e.charCodeAt(i)){o=!1;break}if(!0===o){c=l;break}}return c===n&&t!==n&&(c=t),c},i=function e(t){for(var n=this.internal.write,r=this.internal.putStream,a=(0,this.internal.getFilters)();-1!==a.indexOf("FlateEncode");)a.splice(a.indexOf("FlateEncode"),1);t.objectId=this.internal.newObject();var i=[];if(i.push({key:"Type",value:"/XObject"}),i.push({key:"Subtype",value:"/Image"}),i.push({key:"Width",value:t.width}),i.push({key:"Height",value:t.height}),t.colorSpace===x.INDEXED?i.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(t.palette.length/3-1)+" "+("sMask"in t&&void 0!==t.sMask?t.objectId+2:t.objectId+1)+" 0 R]"}):(i.push({key:"ColorSpace",value:"/"+t.colorSpace}),t.colorSpace===x.DEVICE_CMYK&&i.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),i.push({key:"BitsPerComponent",value:t.bitsPerComponent}),"decodeParameters"in t&&void 0!==t.decodeParameters&&i.push({key:"DecodeParms",value:"<<"+t.decodeParameters+">>"}),"transparency"in t&&Array.isArray(t.transparency)&&t.transparency.length>0){for(var s="",o=0,l=t.transparency.length;o<l;o++)s+=t.transparency[o]+" "+t.transparency[o]+" ";i.push({key:"Mask",value:"["+s+"]"})}void 0!==t.sMask&&i.push({key:"SMask",value:t.objectId+1+" 0 R"});var c=void 0!==t.filter?["/"+t.filter]:void 0;if(r({data:t.data,additionalKeyValues:i,alreadyAppliedFilters:c,objectId:t.objectId}),n("endobj"),"sMask"in t&&void 0!==t.sMask){var d,u=null!==(d=t.sMaskBitsPerComponent)&&void 0!==d?d:t.bitsPerComponent,h={width:t.width,height:t.height,colorSpace:"DeviceGray",bitsPerComponent:u,data:t.sMask};"filter"in t&&(h.decodeParameters="/Predictor ".concat(t.predictor," /Colors 1 /BitsPerComponent ").concat(u," /Columns ").concat(t.width),h.filter=t.filter),e.call(this,h)}if(t.colorSpace===x.INDEXED){var p=this.internal.newObject();r({data:k(new Uint8Array(t.palette)),objectId:p}),n("endobj")}},s=function(){var e=this.internal.collections[t+"images"];for(var n in e)i.call(this,e[n])},o=function(){var e,n=this.internal.collections[t+"images"],r=this.internal.write;for(var a in n)r("/I"+(e=n[a]).index,e.objectId,"0","R")},l=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},c=function(){var e=this.internal.collections[t+"images"];return l.call(this),e},d=function(){return Object.keys(this.internal.collections[t+"images"]).length},u=function(t){return"function"==typeof e["process"+t.toUpperCase()]},h=function(e){return"object"===py(e)&&1===e.nodeType},p=function(t,n){if("IMG"===t.nodeName&&t.hasAttribute("src")){var r=""+t.getAttribute("src");if(0===r.indexOf("data:image/"))return Dae(unescape(r).split("base64,").pop());var a=e.loadFile(r,!0);if(void 0!==a)return a}if("CANVAS"===t.nodeName){if(0===t.width||0===t.height)throw new Error("Given canvas must have data. Canvas width: "+t.width+", height: "+t.height);var i;switch(n){case"PNG":i="image/png";break;case"WEBP":i="image/webp";break;default:i="image/jpeg"}return Dae(t.toDataURL(i,1).split("base64,").pop())}},m=function(e){var n=this.internal.collections[t+"images"];if(n)for(var r in n)if(e===n[r].alias)return n[r]},f=function(e,t,n){return e||t||(e=-96,t=-96),e<0&&(e=-1*n.width*72/e/this.internal.scaleFactor),t<0&&(t=-1*n.height*72/t/this.internal.scaleFactor),0===e&&(e=t*n.width/n.height),0===t&&(t=e*n.height/n.width),[e,t]},g=function(e,t,n,r,a,i){var s=f.call(this,n,r,a),o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,d=c.call(this);if(n=s[0],r=s[1],d[a.index]=a,i){i*=Math.PI/180;var u=Math.cos(i),h=Math.sin(i),p=function(e){return e.toFixed(4)},m=[p(u),p(h),p(-1*h),p(u),0,0,"cm"]}this.internal.write("q"),i?(this.internal.write([1,"0","0",1,o(e),l(t+r),"cm"].join(" ")),this.internal.write(m.join(" ")),this.internal.write([o(n),"0","0",o(r),"0","0","cm"].join(" "))):this.internal.write([o(n),"0","0",o(r),o(e),l(t+r),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+a.index+" Do"),this.internal.write("Q")},x=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var b=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},y=e.__addimage__.sHashCode=function(e){var t,n,r=0;if("string"==typeof e)for(n=e.length,t=0;t<n;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;else if(j(e))for(n=e.byteLength/2,t=0;t<n;t++)r=(r<<5)-r+e[t],r|=0;return r},v=e.__addimage__.validateStringAsBase64=function(e){(e=e||"").toString().trim();var t=!0;return 0===e.length&&(t=!1),e.length%4!=0&&(t=!1),!1===/^[A-Za-z0-9+/]+$/.test(e.substr(0,e.length-2))&&(t=!1),!1===/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(e.substr(-2))&&(t=!1),t},w=e.__addimage__.extractImageFromDataUrl=function(e){if(null==e)return null;if(!(e=e.trim()).startsWith("data:"))return null;var t=e.indexOf(",");return t<0?null:e.substring(0,t).trim().endsWith("base64")?e.substring(t+1):null};e.__addimage__.isArrayBuffer=function(e){return e instanceof ArrayBuffer};var j=e.__addimage__.isArrayBufferView=function(e){return e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array},N=e.__addimage__.binaryStringToUint8Array=function(e){for(var t=e.length,n=new Uint8Array(t),r=0;r<t;r++)n[r]=e.charCodeAt(r);return n},k=e.__addimage__.arrayBufferToBinaryString=function(e){for(var t="",n=j(e)?e:new Uint8Array(e),r=0;r<n.length;r+=8192)t+=String.fromCharCode.apply(null,n.subarray(r,r+8192));return t};e.addImage=function(){var e,t,r,a,i,s,o,c,d;if("number"==typeof arguments[1]?(t=n,r=arguments[1],a=arguments[2],i=arguments[3],s=arguments[4],o=arguments[5],c=arguments[6],d=arguments[7]):(t=arguments[1],r=arguments[2],a=arguments[3],i=arguments[4],s=arguments[5],o=arguments[6],c=arguments[7],d=arguments[8]),"object"===py(e=arguments[0])&&!h(e)&&"imageData"in e){var u=e;e=u.imageData,t=u.format||t||n,r=u.x||r||0,a=u.y||a||0,i=u.w||u.width||i,s=u.h||u.height||s,o=u.alias||o,c=u.compression||c,d=u.rotation||u.angle||d}var p=this.internal.getFilters();if(void 0===c&&-1!==p.indexOf("FlateEncode")&&(c="SLOW"),isNaN(r)||isNaN(a))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var m=S.call(this,e,t,o,c);return g.call(this,r,a,i,s,m,d),this};var S=function(t,r,i,s){var o,l,c,f;if("string"==typeof t&&a(t)===n){t=unescape(t);var g=C(t,!1);(""!==g||void 0!==(g=e.loadFile(t,!0)))&&(t=g)}if(h(t)&&(t=p(t,r)),r=a(t,r),!u(r))throw new Error("addImage does not support files of type '"+r+"', please ensure that a plugin for '"+r+"' support is added.");if((null==(c=i)||0===c.length)&&(i="string"==typeof(f=t)||j(f)?y(f):j(f.data)?y(f.data):null),(o=m.call(this,i))||(t instanceof Uint8Array||"RGBA"===r||(l=t,t=N(t)),o=this["process"+r.toUpperCase()](t,d.call(this),i,function(t){return t&&"string"==typeof t&&(t=t.toUpperCase()),t in e.image_compression?t:b.NONE}(s),l)),!o)throw new Error("An unknown error occurred whilst processing the image.");return o},C=e.__addimage__.convertBase64ToBinaryString=function(e,t){t="boolean"!=typeof t||t;var n,r="";if("string"==typeof e){var a;n=null!==(a=w(e))&&void 0!==a?a:e;try{r=Dae(n)}catch(i){if(t)throw v(n)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+i.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return r};e.getImageProperties=function(t){var r,i,s="";if(h(t)&&(t=p(t)),"string"==typeof t&&a(t)===n&&(""===(s=C(t,!1))&&(s=e.loadFile(t)||""),t=s),i=a(t),!u(i))throw new Error("addImage does not support files of type '"+i+"', please ensure that a plugin for '"+i+"' support is added.");if(t instanceof Uint8Array||(t=N(t)),!(r=this["process"+i.toUpperCase()](t)))throw new Error("An unknown error occurred whilst processing the image");return r.fileType=i,r}}(iie.API),function(e){var t=function(e){if(void 0!==e&&""!=e)return!0};iie.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(e){for(var n,r,a,i=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString,o=this.internal.getPageInfoByObjId(e.objId),l=e.pageContext.annotations,c=!1,d=0;d<l.length&&!c;d++)switch((n=l[d]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(c=!0);break;case"reference":case"text":case"freetext":c=!0}if(0!=c){this.internal.write("/Annots [");for(var u=0;u<l.length;u++){n=l[u];var h=this.internal.pdfEscape,p=this.internal.getEncryptor(e.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var m=this.internal.newAdditionalObject(),f=this.internal.newAdditionalObject(),g=this.internal.getEncryptor(m.objId),x=n.title||"Note";a="<</Type /Annot /Subtype /Text "+(r="/Rect ["+i(n.bounds.x)+" "+s(n.bounds.y+n.bounds.h)+" "+i(n.bounds.x+n.bounds.w)+" "+s(n.bounds.y)+"] ")+"/Contents ("+h(g(n.contents))+")",a+=" /Popup "+f.objId+" 0 R",a+=" /P "+o.objId+" 0 R",a+=" /T ("+h(g(x))+") >>",m.content=a;var b=m.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(r="/Rect ["+i(n.bounds.x+30)+" "+s(n.bounds.y+n.bounds.h)+" "+i(n.bounds.x+n.bounds.w+30)+" "+s(n.bounds.y)+"] ")+" /Parent "+b,n.open&&(a+=" /Open true"),a+=" >>",f.content=a,this.internal.write(m.objId,"0 R",f.objId,"0 R");break;case"freetext":r="/Rect ["+i(n.bounds.x)+" "+s(n.bounds.y)+" "+i(n.bounds.x+n.bounds.w)+" "+s(n.bounds.y+n.bounds.h)+"] ";var y=n.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+r+"/Contents ("+h(p(n.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+y+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(n.options.name){var v=this.annotations._nameMap[n.options.name];n.options.pageNumber=v.page,n.options.top=v.y}else n.options.top||(n.options.top=0);if(r="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",a="",n.options.url)a="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /A <</S /URI /URI ("+h(p(n.options.url))+") >>";else if(n.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,a+=" /FitV "+n.options.left+"]";break;default:var w=s(n.options.top);n.options.left=n.options.left||0,void 0===n.options.zoom&&(n.options.zoom=0),a+=" /XYZ "+n.options.left+" "+w+" "+n.options.zoom+"]"}""!=a&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),e.createAnnotation=function(e){var t=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":t.pageContext.annotations.push(e)}},e.link=function(e,t,n,r,a){var i=this.internal.getCurrentPageInfo(),s=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString;i.pageContext.annotations.push({finalBounds:{x:s(e),y:o(t),w:s(e+n),h:o(t+r)},options:a,type:"link"})},e.textWithLink=function(e,t,n,r){var a,i,s=this.getTextWidth(e),o=this.internal.getLineHeight()/this.internal.scaleFactor;if(void 0!==r.maxWidth){i=r.maxWidth;var l=this.splitTextToSize(e,i).length;a=Math.ceil(o*l)}else i=s,a=o;return this.text(e,t,n,r),n+=.2*o,"center"===r.align&&(t-=s/2),"right"===r.align&&(t-=s),this.link(t,n-o,i,a,r),s},e.getTextWidth=function(e){var t=this.internal.getFontSize();return this.getStringUnitWidth(e)*t/this.internal.scaleFactor}}(iie.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(e){return void 0!==t[e.charCodeAt(0)]},s=e.__arabicParser__.isArabicLetter=function(e){return"string"==typeof e&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(e)},o=e.__arabicParser__.isArabicEndLetter=function(e){return s(e)&&i(e)&&t[e.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(e){return s(e)&&a.indexOf(e.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(e){return s(e)&&i(e)&&t[e.charCodeAt(0)].length>=1};var c=e.__arabicParser__.arabicLetterHasFinalForm=function(e){return s(e)&&i(e)&&t[e.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(e){return s(e)&&i(e)&&t[e.charCodeAt(0)].length>=3};var d=e.__arabicParser__.arabicLetterHasMedialForm=function(e){return s(e)&&i(e)&&4==t[e.charCodeAt(0)].length},u=e.__arabicParser__.resolveLigatures=function(e){var t=0,r=n,a="",i=0;for(t=0;t<e.length;t+=1)void 0!==r[e.charCodeAt(t)]?(i++,"number"==typeof(r=r[e.charCodeAt(t)])&&(a+=String.fromCharCode(r),r=n,i=0),t===e.length-1&&(r=n,a+=e.charAt(t-(i-1)),t-=i-1,i=0)):(r=n,a+=e.charAt(t-i),t-=i,i=0);return a};e.__arabicParser__.isArabicDiacritic=function(e){return void 0!==e&&void 0!==r[e.charCodeAt(0)]};var h=e.__arabicParser__.getCorrectForm=function(e,t,n){return s(e)?!1===i(e)?-1:!c(e)||!s(t)&&!s(n)||!s(n)&&o(t)||o(e)&&!s(t)||o(e)&&l(t)||o(e)&&o(t)?0:d(e)&&s(t)&&!o(t)&&s(n)&&c(n)?3:o(e)||!s(n)?1:2:-1},p=function(e){var n=0,r=0,a=0,i="",o="",l="",c=(e=e||"").split("\\s+"),d=[];for(n=0;n<c.length;n+=1){for(d.push(""),r=0;r<c[n].length;r+=1)i=c[n][r],o=c[n][r-1],l=c[n][r+1],s(i)?(a=h(i,o,l),d[n]+=-1!==a?String.fromCharCode(t[i.charCodeAt(0)][a]):i):d[n]+=i;d[n]=u(d[n])}return d.join(" ")},m=e.__arabicParser__.processArabic=e.processArabic=function(){var e,t="string"==typeof arguments[0]?arguments[0]:arguments[0].text,n=[];if(Array.isArray(t)){var r=0;for(n=[],r=0;r<t.length;r+=1)Array.isArray(t[r])?n.push([p(t[r][0]),t[r][1],t[r][2]]):n.push([p(t[r])]);e=n}else e=p(t);return"string"==typeof arguments[0]?e:(arguments[0].text=e,arguments[0])};e.events.push(["preProcessText",m])}(iie.API),iie.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform","javascript"===e.variant?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},function(e){var t=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(t){e=t}});var t=150;Object.defineProperty(this,"width",{get:function(){return t},set:function(e){t=isNaN(e)||!1===Number.isInteger(e)||e<0?150:e,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=t+1)}});var n=300;Object.defineProperty(this,"height",{get:function(){return n},set:function(e){n=isNaN(e)||!1===Number.isInteger(e)||e<0?300:e,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=n+1)}});var r=[];Object.defineProperty(this,"childNodes",{get:function(){return r},set:function(e){r=e}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(e){a=e}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(e,t){var n;if("2d"!==(e=e||"2d"))return null;for(n in t)this.pdf.context2d.hasOwnProperty(n)&&(this.pdf.context2d[n]=t[n]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(iie.API),function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,r=function(){void 0===this.internal.__cell__&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var e=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return e},set:function(t){e=t}});var t=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return t},set:function(e){t=e}});var n=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return n},set:function(e){n=e}});var r=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return r},set:function(e){r=e}});var a=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return a},set:function(e){a=e}});var i=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return i},set:function(e){i=e}});var s=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return s},set:function(e){s=e}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(e){return r.call(this),this.internal.__cell__.headerFunction="function"==typeof e?e:void 0,this},e.getTextDimensions=function(e,t){r.call(this);var n=(t=t||{}).fontSize||this.getFontSize(),a=t.font||this.getFont(),i=t.scaleFactor||this.internal.scaleFactor,s=0,o=0,l=0,c=this;if(!Array.isArray(e)&&"string"!=typeof e){if("number"!=typeof e)throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");e=String(e)}var d=t.maxWidth;d>0?"string"==typeof e?e=this.splitTextToSize(e,d):"[object Array]"===Object.prototype.toString.call(e)&&(e=e.reduce(function(e,t){return e.concat(c.splitTextToSize(t,d))},[])):e=Array.isArray(e)?e:[e];for(var u=0;u<e.length;u++)s<(l=this.getStringUnitWidth(e[u],{font:a})*n)&&(s=l);return 0!==s&&(o=e.length),{w:s/=i,h:Math.max((o*n*this.getLineHeightFactor()-n*(this.getLineHeightFactor()-1))/i,0)}},e.cellAddPage=function(){r.call(this),this.addPage();var e=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(e.left,e.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=e.cell=function(){var e;e=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var a=this.internal.__cell__.lastCell,s=this.internal.__cell__.padding,o=this.internal.__cell__.margins||t,l=this.internal.__cell__.tableHeaderRow,c=this.internal.__cell__.printHeaders;return void 0!==a.lineNumber&&(a.lineNumber===e.lineNumber?(e.x=(a.x||0)+(a.width||0),e.y=a.y||0):a.y+a.height+e.height+o.bottom>this.getPageHeight()?(this.cellAddPage(),e.y=o.top,c&&l&&(this.printHeaderRow(e.lineNumber,!0),e.y+=l[0].height)):e.y=a.y+a.height||e.y),void 0!==e.text[0]&&(this.rect(e.x,e.y,e.width,e.height,!0===n?"FD":void 0),"right"===e.align?this.text(e.text,e.x+e.width-s,e.y+s,{align:"right",baseline:"top"}):"center"===e.align?this.text(e.text,e.x+e.width/2,e.y+s,{align:"center",baseline:"top",maxWidth:e.width-s-s}):this.text(e.text,e.x+s,e.y+s,{align:"left",baseline:"top",maxWidth:e.width-s-s})),this.internal.__cell__.lastCell=e,this};e.table=function(e,n,l,c,d){if(r.call(this),!l)throw new Error("No data for PDF table.");var u,h,p,m,f=[],g=[],x=[],b={},y={},v=[],w=[],j=(d=d||{}).autoSize||!1,N=!1!==d.printHeaders,k=d.css&&void 0!==d.css["font-size"]?16*d.css["font-size"]:d.fontSize||12,S=d.margins||Object.assign({width:this.getPageWidth()},t),C="number"==typeof d.padding?d.padding:3,_=d.headerBackgroundColor||"#c8c8c8",A=d.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=N,this.internal.__cell__.margins=S,this.internal.__cell__.table_font_size=k,this.internal.__cell__.padding=C,this.internal.__cell__.headerBackgroundColor=_,this.internal.__cell__.headerTextColor=A,this.setFontSize(k),null==c)g=f=Object.keys(l[0]),x=f.map(function(){return"left"});else if(Array.isArray(c)&&"object"===py(c[0]))for(f=c.map(function(e){return e.name}),g=c.map(function(e){return e.prompt||e.name||""}),x=c.map(function(e){return e.align||"left"}),u=0;u<c.length;u+=1)y[c[u].name]=.7499990551181103*c[u].width;else Array.isArray(c)&&"string"==typeof c[0]&&(g=f=c,x=f.map(function(){return"left"}));if(j||Array.isArray(c)&&"string"==typeof c[0])for(u=0;u<f.length;u+=1){for(b[m=f[u]]=l.map(function(e){return e[m]}),this.setFont(void 0,"bold"),v.push(this.getTextDimensions(g[u],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),h=b[m],this.setFont(void 0,"normal"),p=0;p<h.length;p+=1)v.push(this.getTextDimensions(h[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);y[m]=Math.max.apply(null,v)+C+C,v=[]}if(N){var T={};for(u=0;u<f.length;u+=1)T[f[u]]={},T[f[u]].text=g[u],T[f[u]].align=x[u];var O=o.call(this,T,y);w=f.map(function(t){return new i(e,n,y[t],O,T[t].text,void 0,T[t].align)}),this.setTableHeaderRow(w),this.printHeaderRow(1,!1)}var E=c.reduce(function(e,t){return e[t.name]=t.align,e},{});for(u=0;u<l.length;u+=1){"rowStart"in d&&d.rowStart instanceof Function&&d.rowStart({row:u,data:l[u]},this);var M=o.call(this,l[u],y);for(p=0;p<f.length;p+=1){var P=l[u][f[p]];"cellStart"in d&&d.cellStart instanceof Function&&d.cellStart({row:u,col:p,data:P},this),s.call(this,new i(e,n,y[f[p]],M,P,u+2,E[f[p]]))}}return this.internal.__cell__.table_x=e,this.internal.__cell__.table_y=n,this};var o=function(e,t){var n=this.internal.__cell__.padding,r=this.internal.__cell__.table_font_size,a=this.internal.scaleFactor;return Object.keys(e).map(function(r){var a=e[r];return this.splitTextToSize(a.hasOwnProperty("text")?a.text:a,t[r]-n-n)},this).map(function(e){return this.getLineHeightFactor()*e.length*r/a+n+n},this).reduce(function(e,t){return Math.max(e,t)},0)};e.setTableHeaderRow=function(e){r.call(this),this.internal.__cell__.tableHeaderRow=e},e.printHeaderRow=function(e,t){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var a;if(n=!0,"function"==typeof this.internal.__cell__.headerFunction){var o=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(o[0],o[1],o[2],o[3],void 0,-1)}this.setFont(void 0,"bold");for(var l=[],c=0;c<this.internal.__cell__.tableHeaderRow.length;c+=1){a=this.internal.__cell__.tableHeaderRow[c].clone(),t&&(a.y=this.internal.__cell__.margins.top||0,l.push(a)),a.lineNumber=e;var d=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,a),this.setTextColor(d)}l.length>0&&this.setTableHeaderRow(l),this.setFont(void 0,"normal"),n=!1}}(iie.API);var Gie={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Yie=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Kie=qie(Yie),Jie=[100,200,300,400,500,600,700,800,900],Xie=qie(Jie);function Qie(e){var t,n=e.family.replace(/"|'/g,"").toLowerCase(),r=(t=e.style,Gie[t=t||"normal"]?t:"normal"),a=function(e){return e?"number"==typeof e?e>=100&&e<=900&&e%100==0?e:400:/^\d00$/.test(e)?parseInt(e):"bold"===e?700:400:400}(e.weight),i=function(e){return"number"==typeof Kie[e=e||"normal"]?e:"normal"}(e.stretch);return{family:n,style:r,weight:a,stretch:i,src:e.src||[],ref:e.ref||{name:n,style:[i,r,a].join(" ")}}}function Zie(e,t,n,r){var a;for(a=n;a>=0&&a<t.length;a+=r)if(e[t[a]])return e[t[a]];for(a=n;a>=0&&a<t.length;a-=r)if(e[t[a]])return e[t[a]]}var ese={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},tse={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function nse(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function rse(e){return e.trimLeft()}function ase(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function ise(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return null===t?null:[t[0],e.substring(t[0].length)]}var sse,ose,lse,cse,dse,use,hse,pse,mse=["times"];function fse(e,t,n,r,a){var i=4,s=bse;switch(a){case iie.API.image_compression.FAST:i=1,s=xse;break;case iie.API.image_compression.MEDIUM:i=6,s=yse;break;case iie.API.image_compression.SLOW:i=9,s=vse}e=function(e,t,n,r){for(var a,i=e.length/t,s=new Uint8Array(e.length+i),o=[gse,xse,bse,yse,vse],l=0;l<i;l+=1){var c=l*t,d=e.subarray(c,c+t);if(r)s.set(r(d,n,a),c+l);else{for(var u=o.length,h=[],p=0;p<u;p+=1)h[p]=o[p](d,n,a);var m=jse(h.concat());s.set(h[m],c+l)}a=d}return s}(e,t,Math.ceil(n*r/8),s);var o=Ane(e,{level:i});return iie.API.__addimage__.arrayBufferToBinaryString(o)}function gse(e){var t=Array.apply([],e);return t.unshift(0),t}function xse(e,t){var n=e.length,r=[];r[0]=1;for(var a=0;a<n;a+=1){var i=e[a-t]||0;r[a+1]=e[a]-i+256&255}return r}function bse(e,t,n){var r=e.length,a=[];a[0]=2;for(var i=0;i<r;i+=1){var s=n&&n[i]||0;a[i+1]=e[i]-s+256&255}return a}function yse(e,t,n){var r=e.length,a=[];a[0]=3;for(var i=0;i<r;i+=1){var s=e[i-t]||0,o=n&&n[i]||0;a[i+1]=e[i]+256-(s+o>>>1)&255}return a}function vse(e,t,n){var r=e.length,a=[];a[0]=4;for(var i=0;i<r;i+=1){var s=wse(e[i-t]||0,n&&n[i]||0,n&&n[i-t]||0);a[i+1]=e[i]-s+256&255}return a}function wse(e,t,n){if(e===t&&t===n)return e;var r=Math.abs(t-n),a=Math.abs(e-n),i=Math.abs(e+t-n-n);return r<=a&&r<=i?e:a<=i?t:n}function jse(e){var t=e.map(function(e){return e.reduce(function(e,t){return e+Math.abs(t)},0)});return t.indexOf(Math.min.apply(null,t))}function Nse(e,t,n){var r=t*n,a=Math.floor(r/8),i=16-(r-8*a+n),s=(1<<n)-1;return Sse(e,a)>>i&s}function kse(e,t,n,r){var a=n*r,i=Math.floor(a/8),s=16-(a-8*i+r),o=(1<<r)-1,l=(t&o)<<s;!function(e,t,n){if(t+1<e.byteLength)e.setUint16(t,n,!1);else{var r=n>>8&255;e.setUint8(t,r)}}(e,i,Sse(e,i)&~(o<<s)&65535|l)}function Sse(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function Cse(e){var t=0;if(71!==e[t++]||73!==e[t++]||70!==e[t++]||56!==e[t++]||56!=(e[t++]+1&253)||97!==e[t++])throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,r=e[t++]|e[t++]<<8,a=e[t++],i=a>>7,s=1<<1+(7&a);e[t++],e[t++];var o=null,l=null;i&&(o=t,l=s,t+=3*s);var c=!0,d=[],u=0,h=null,p=0,m=null;for(this.width=n,this.height=r;c&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(11!==e[t]||78==e[t+1]&&69==e[t+2]&&84==e[t+3]&&83==e[t+4]&&67==e[t+5]&&65==e[t+6]&&80==e[t+7]&&69==e[t+8]&&50==e[t+9]&&46==e[t+10]&&48==e[t+11]&&3==e[t+12]&&1==e[t+13]&&0==e[t+16])t+=14,m=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((_=e[t++])>=0))throw Error("Invalid block size");if(0===_)break;t+=_}break;case 249:if(4!==e[t++]||0!==e[t+4])throw new Error("Invalid graphics extension block.");var f=e[t++];u=e[t++]|e[t++]<<8,h=e[t++],1&f||(h=null),p=f>>2&7,t++;break;case 254:for(;;){if(!((_=e[t++])>=0))throw Error("Invalid block size");if(0===_)break;t+=_}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var g=e[t++]|e[t++]<<8,x=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,y=e[t++]|e[t++]<<8,v=e[t++],w=v>>6&1,j=1<<1+(7&v),N=o,k=l,S=!1;v>>7&&(S=!0,N=t,k=j,t+=3*j);var C=t;for(t++;;){var _;if(!((_=e[t++])>=0))throw Error("Invalid block size");if(0===_)break;t+=_}d.push({x:g,y:x,width:b,height:y,has_local_palette:S,palette_offset:N,palette_size:k,data_offset:C,data_length:t-C,transparent_index:h,interlaced:!!w,delay:u,disposal:p});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return m},this.frameInfo=function(e){if(e<0||e>=d.length)throw new Error("Frame index out of range.");return d[e]},this.decodeAndBlitFrameBGRA=function(t,r){var a=this.frameInfo(t),i=a.width*a.height,s=new Uint8Array(i);_se(e,a.data_offset,s,i);var o=a.palette_offset,l=a.transparent_index;null===l&&(l=256);var c=a.width,d=n-c,u=c,h=4*(a.y*n+a.x),p=4*((a.y+a.height)*n+a.x),m=h,f=4*d;!0===a.interlaced&&(f+=4*n*7);for(var g=8,x=0,b=s.length;x<b;++x){var y=s[x];if(0===u&&(u=c,(m+=f)>=p&&(f=4*d+4*n*(g-1),m=h+(c+d)*(g<<1),g>>=1)),y===l)m+=4;else{var v=e[o+3*y],w=e[o+3*y+1],j=e[o+3*y+2];r[m++]=j,r[m++]=w,r[m++]=v,r[m++]=255}--u}},this.decodeAndBlitFrameRGBA=function(t,r){var a=this.frameInfo(t),i=a.width*a.height,s=new Uint8Array(i);_se(e,a.data_offset,s,i);var o=a.palette_offset,l=a.transparent_index;null===l&&(l=256);var c=a.width,d=n-c,u=c,h=4*(a.y*n+a.x),p=4*((a.y+a.height)*n+a.x),m=h,f=4*d;!0===a.interlaced&&(f+=4*n*7);for(var g=8,x=0,b=s.length;x<b;++x){var y=s[x];if(0===u&&(u=c,(m+=f)>=p&&(f=4*d+4*n*(g-1),m=h+(c+d)*(g<<1),g>>=1)),y===l)m+=4;else{var v=e[o+3*y],w=e[o+3*y+1],j=e[o+3*y+2];r[m++]=v,r[m++]=w,r[m++]=j,r[m++]=255}--u}}}function _se(e,t,n,r){for(var a=e[t++],i=1<<a,s=i+1,o=s+1,l=a+1,c=(1<<l)-1,d=0,u=0,h=0,p=e[t++],m=new Int32Array(4096),f=null;;){for(;d<16&&0!==p;)u|=e[t++]<<d,d+=8,1===p?p=e[t++]:--p;if(d<l)break;var g=u&c;if(u>>=l,d-=l,g!==i){if(g===s)break;for(var x=g<o?g:f,b=0,y=x;y>i;)y=m[y]>>8,++b;var v=y;if(h+b+(x!==g?1:0)>r)return void Aae.log("Warning, gif stream longer than expected.");n[h++]=v;var w=h+=b;for(x!==g&&(n[h++]=v),y=x;b--;)y=m[y],n[--w]=255&y,y>>=8;null!==f&&o<4096&&(m[o++]=f<<8|v,o>=c+1&&l<12&&(++l,c=c<<1|1)),f=g}else o=s+1,c=(1<<(l=a+1))-1,f=null}return h!==r&&Aae.log("Warning, gif stream shorter than expected."),n}function Ase(e){var t,n,r,a,i,s=Math.floor,o=new Array(64),l=new Array(64),c=new Array(64),d=new Array(64),u=new Array(65535),h=new Array(65535),p=new Array(64),m=new Array(64),f=[],g=0,x=7,b=new Array(64),y=new Array(64),v=new Array(64),w=new Array(256),j=new Array(2048),N=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],k=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],S=[0,1,2,3,4,5,6,7,8,9,10,11],C=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],_=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],A=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],T=[0,1,2,3,4,5,6,7,8,9,10,11],O=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],E=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function M(e,t){for(var n=0,r=0,a=new Array,i=1;i<=16;i++){for(var s=1;s<=e[i];s++)a[t[r]]=[],a[t[r]][0]=n,a[t[r]][1]=i,r++,n++;n*=2}return a}function P(e){for(var t=e[0],n=e[1]-1;n>=0;)t&1<<n&&(g|=1<<x),n--,--x<0&&(255==g?(D(255),D(0)):D(g),x=7,g=0)}function D(e){f.push(e)}function L(e){D(e>>8&255),D(255&e)}function I(e,t,n,r,a){for(var i,s=a[0],o=a[240],l=function(e,t){var n,r,a,i,s,o,l,c,d,u,h=0;for(d=0;d<8;++d){n=e[h],r=e[h+1],a=e[h+2],i=e[h+3],s=e[h+4],o=e[h+5],l=e[h+6];var m=n+(c=e[h+7]),f=n-c,g=r+l,x=r-l,b=a+o,y=a-o,v=i+s,w=i-s,j=m+v,N=m-v,k=g+b,S=g-b;e[h]=j+k,e[h+4]=j-k;var C=.707106781*(S+N);e[h+2]=N+C,e[h+6]=N-C;var _=.382683433*((j=w+y)-(S=x+f)),A=.5411961*j+_,T=1.306562965*S+_,O=.707106781*(k=y+x),E=f+O,M=f-O;e[h+5]=M+A,e[h+3]=M-A,e[h+1]=E+T,e[h+7]=E-T,h+=8}for(h=0,d=0;d<8;++d){n=e[h],r=e[h+8],a=e[h+16],i=e[h+24],s=e[h+32],o=e[h+40],l=e[h+48];var P=n+(c=e[h+56]),D=n-c,L=r+l,I=r-l,R=a+o,F=a-o,H=i+s,z=i-s,B=P+H,W=P-H,$=L+R,U=L-R;e[h]=B+$,e[h+32]=B-$;var V=.707106781*(U+W);e[h+16]=W+V,e[h+48]=W-V;var q=.382683433*((B=z+F)-(U=I+D)),G=.5411961*B+q,Y=1.306562965*U+q,K=.707106781*($=F+I),J=D+K,X=D-K;e[h+40]=X+G,e[h+24]=X-G,e[h+8]=J+Y,e[h+56]=J-Y,h++}for(d=0;d<64;++d)u=e[d]*t[d],p[d]=u>0?u+.5|0:u-.5|0;return p}(e,t),c=0;c<64;++c)m[N[c]]=l[c];var d=m[0]-n;n=m[0],0==d?P(r[0]):(P(r[h[i=32767+d]]),P(u[i]));for(var f=63;f>0&&0==m[f];)f--;if(0==f)return P(s),n;for(var g,x=1;x<=f;){for(var b=x;0==m[x]&&x<=f;)++x;var y=x-b;if(y>=16){g=y>>4;for(var v=1;v<=g;++v)P(o);y&=15}i=32767+m[x],P(a[(y<<4)+h[i]]),P(u[i]),x++}return 63!=f&&P(s),n}function R(e){e=Math.min(Math.max(e,1),100),i!=e&&(function(e){for(var t=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],n=0;n<64;n++){var r=s((t[n]*e+50)/100);r=Math.min(Math.max(r,1),255),o[N[n]]=r}for(var a=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],i=0;i<64;i++){var u=s((a[i]*e+50)/100);u=Math.min(Math.max(u,1),255),l[N[i]]=u}for(var h=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],p=0,m=0;m<8;m++)for(var f=0;f<8;f++)c[p]=1/(o[N[p]]*h[m]*h[f]*8),d[p]=1/(l[N[p]]*h[m]*h[f]*8),p++}(e<50?Math.floor(5e3/e):Math.floor(200-2*e)),i=e)}this.encode=function(e,i){var s,u;i&&R(i),f=new Array,g=0,x=7,L(65496),L(65504),L(16),D(74),D(70),D(73),D(70),D(0),D(1),D(1),D(0),L(1),L(1),D(0),D(0),function(){L(65499),L(132),D(0);for(var e=0;e<64;e++)D(o[e]);D(1);for(var t=0;t<64;t++)D(l[t])}(),s=e.width,u=e.height,L(65472),L(17),D(8),L(u),L(s),D(3),D(1),D(17),D(0),D(2),D(17),D(1),D(3),D(17),D(1),function(){L(65476),L(418),D(0);for(var e=0;e<16;e++)D(k[e+1]);for(var t=0;t<=11;t++)D(S[t]);D(16);for(var n=0;n<16;n++)D(C[n+1]);for(var r=0;r<=161;r++)D(_[r]);D(1);for(var a=0;a<16;a++)D(A[a+1]);for(var i=0;i<=11;i++)D(T[i]);D(17);for(var s=0;s<16;s++)D(O[s+1]);for(var o=0;o<=161;o++)D(E[o])}(),L(65498),L(12),D(3),D(1),D(0),D(2),D(17),D(3),D(17),D(0),D(63),D(0);var h=0,p=0,m=0;g=0,x=7,this.encode.displayName="_encode_";for(var w,N,M,F,H,z,B,W,$,U=e.data,V=e.width,q=e.height,G=4*V,Y=0;Y<q;){for(w=0;w<G;){for(H=G*Y+w,B=-1,W=0,$=0;$<64;$++)z=H+(W=$>>3)*G+(B=4*(7&$)),Y+W>=q&&(z-=G*(Y+1+W-q)),w+B>=G&&(z-=w+B-G+4),N=U[z++],M=U[z++],F=U[z++],b[$]=(j[N]+j[M+256|0]+j[F+512|0]>>16)-128,y[$]=(j[N+768|0]+j[M+1024|0]+j[F+1280|0]>>16)-128,v[$]=(j[N+1280|0]+j[M+1536|0]+j[F+1792|0]>>16)-128;h=I(b,c,h,t,r),p=I(y,d,p,n,a),m=I(v,d,m,n,a),w+=32}Y+=8}if(x>=0){var K=[];K[1]=x+1,K[0]=(1<<x+1)-1,P(K)}return L(65497),new Uint8Array(f)},e=e||50,function(){for(var e=String.fromCharCode,t=0;t<256;t++)w[t]=e(t)}(),t=M(k,S),n=M(A,T),r=M(C,_),a=M(O,E),function(){for(var e=1,t=2,n=1;n<=15;n++){for(var r=e;r<t;r++)h[32767+r]=n,u[32767+r]=[],u[32767+r][1]=n,u[32767+r][0]=r;for(var a=-(t-1);a<=-e;a++)h[32767+a]=n,u[32767+a]=[],u[32767+a][1]=n,u[32767+a][0]=t-1+a;e<<=1,t<<=1}}(),function(){for(var e=0;e<256;e++)j[e]=19595*e,j[e+256|0]=38470*e,j[e+512|0]=7471*e+32768,j[e+768|0]=-11059*e,j[e+1024|0]=-21709*e,j[e+1280|0]=32768*e+8421375,j[e+1536|0]=-27439*e,j[e+1792|0]=-5329*e}(),R(e)}function Tse(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,-1===["BM","BA","CI","CP","IC","PT"].indexOf(this.flag))throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Ose(e){function t(e){if(!e)throw Error("assert :P")}function n(e,t,n){for(var r=0;4>r;r++)if(e[t+r]!=n.charCodeAt(r))return!0;return!1}function r(e,t,n,r,a){for(var i=0;i<a;i++)e[t+i]=n[r+i]}function a(e,t,n,r){for(var a=0;a<r;a++)e[t+a]=n}function i(e){return new Int32Array(e)}function s(e,t){for(var n=[],r=0;r<e;r++)n.push(new t);return n}function o(e,t){var n=[];return function e(n,r,a){for(var i=a[r],s=0;s<i&&(n.push(a.length>r+1?[]:new t),!(a.length<r+1));s++)e(n[s],r+1,a)}(n,0,e),n}var l=function(){var e=this;function l(e,t){for(var n=1<<t-1>>>0;e&n;)n>>>=1;return n?(e&n-1)+n:e}function c(e,n,r,a,i){t(!(a%r));do{e[n+(a-=r)]=i}while(0<a)}function d(e,n,r,a,s){if(t(2328>=s),512>=s)var o=i(512);else if(null==(o=i(s)))return 0;return function(e,n,r,a,s,o){var d,h,p=n,m=1<<r,f=i(16),g=i(16);for(t(0!=s),t(null!=a),t(null!=e),t(0<r),h=0;h<s;++h){if(15<a[h])return 0;++f[a[h]]}if(f[0]==s)return 0;for(g[1]=0,d=1;15>d;++d){if(f[d]>1<<d)return 0;g[d+1]=g[d]+f[d]}for(h=0;h<s;++h)d=a[h],0<a[h]&&(o[g[d]++]=h);if(1==g[15])return(a=new u).g=0,a.value=o[0],c(e,p,1,m,a),m;var x,b=-1,y=m-1,v=0,w=1,j=1,N=1<<r;for(h=0,d=1,s=2;d<=r;++d,s<<=1){if(w+=j<<=1,0>(j-=f[d]))return 0;for(;0<f[d];--f[d])(a=new u).g=d,a.value=o[h++],c(e,p+v,s,N,a),v=l(v,d)}for(d=r+1,s=2;15>=d;++d,s<<=1){if(w+=j<<=1,0>(j-=f[d]))return 0;for(;0<f[d];--f[d]){if(a=new u,(v&y)!=b){for(p+=N,x=1<<(b=d)-r;15>b&&!(0>=(x-=f[b]));)++b,x<<=1;m+=N=1<<(x=b-r),e[n+(b=v&y)].g=x+r,e[n+b].value=p-n-b}a.g=d-r,a.value=o[h++],c(e,p+(v>>r),s,N,a),v=l(v,d)}}return w!=2*g[15]-1?0:m}(e,n,r,a,s,o)}function u(){this.value=this.g=0}function h(){this.value=this.g=0}function p(){this.G=s(5,u),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(Fn,h)}function m(e,n,r,a){t(null!=e),t(null!=n),t(2147483648>a),e.Ca=254,e.I=0,e.b=-8,e.Ka=0,e.oa=n,e.pa=r,e.Jd=n,e.Yc=r+a,e.Zc=4<=a?r+a-4+1:r,C(e)}function f(e,t){for(var n=0;0<t--;)n|=A(e,128)<<t;return n}function g(e,t){var n=f(e,t);return _(e)?-n:n}function x(e,n,r,a){var i,s=0;for(t(null!=e),t(null!=n),t(4294967288>a),e.Sb=a,e.Ra=0,e.u=0,e.h=0,4<a&&(a=4),i=0;i<a;++i)s+=n[r+i]<<8*i;e.Ra=s,e.bb=a,e.oa=n,e.pa=r}function b(e){for(;8<=e.u&&e.bb<e.Sb;)e.Ra>>>=8,e.Ra+=e.oa[e.pa+e.bb]<<Bn-8>>>0,++e.bb,e.u-=8;N(e)&&(e.h=1,e.u=0)}function y(e,n){if(t(0<=n),!e.h&&n<=zn){var r=j(e)&Hn[n];return e.u+=n,b(e),r}return e.h=1,e.u=0}function v(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function w(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function j(e){return e.Ra>>>(e.u&Bn-1)>>>0}function N(e){return t(e.bb<=e.Sb),e.h||e.bb==e.Sb&&e.u>Bn}function k(e,t){e.u=t,e.h=N(e)}function S(e){e.u>=Wn&&(t(e.u>=Wn),b(e))}function C(e){t(null!=e&&null!=e.oa),e.pa<e.Zc?(e.I=(e.oa[e.pa++]|e.I<<8)>>>0,e.b+=8):(t(null!=e&&null!=e.oa),e.pa<e.Yc?(e.b+=8,e.I=e.oa[e.pa++]|e.I<<8):e.Ka?e.b=0:(e.I<<=8,e.b+=8,e.Ka=1))}function _(e){return f(e,1)}function A(e,t){var n=e.Ca;0>e.b&&C(e);var r=e.b,a=n*t>>>8,i=(e.I>>>r>a)+0;for(i?(n-=a,e.I-=a+1<<r>>>0):n=a+1,r=n,a=0;256<=r;)a+=8,r>>=8;return r=7^a+$n[r],e.b-=r,e.Ca=(n<<r)-1,i}function T(e,t,n){e[t+0]=n>>24&255,e[t+1]=n>>16&255,e[t+2]=n>>8&255,e[t+3]=255&n}function O(e,t){return e[t+0]|e[t+1]<<8}function E(e,t){return O(e,t)|e[t+2]<<16}function M(e,t){return O(e,t)|O(e,t+2)<<16}function P(e,n){var r=1<<n;return t(null!=e),t(0<n),e.X=i(r),null==e.X?0:(e.Mb=32-n,e.Xa=n,1)}function D(e,n){t(null!=e),t(null!=n),t(e.Xa==n.Xa),r(n.X,0,e.X,0,1<<n.Xa)}function L(){this.X=[],this.Xa=this.Mb=0}function I(e,n,r,a){t(null!=r),t(null!=a);var i=r[0],s=a[0];return 0==i&&(i=(e*s+n/2)/n),0==s&&(s=(n*i+e/2)/e),0>=i||0>=s?0:(r[0]=i,a[0]=s,1)}function R(e,t){return e+(1<<t)-1>>>t}function F(e,t){return((4278255360&e)+(4278255360&t)>>>0&4278255360)+((16711935&e)+(16711935&t)>>>0&16711935)>>>0}function H(t,n){e[n]=function(n,r,a,i,s,o,l){var c;for(c=0;c<s;++c){var d=e[t](o[l+c-1],a,i+c);o[l+c]=F(n[r+c],d)}}}function z(){this.ud=this.hd=this.jd=0}function B(e,t){return((4278124286&(e^t))>>>1)+(e&t)>>>0}function W(e){return 0<=e&&256>e?e:0>e?0:255<e?255:void 0}function $(e,t){return W(e+(e-t+.5>>1))}function U(e,t,n){return Math.abs(t-n)-Math.abs(e-n)}function V(e,t,n,r,a,i,s){for(r=i[s-1],n=0;n<a;++n)i[s+n]=r=F(e[t+n],r)}function q(e,t,n,r,a){var i;for(i=0;i<n;++i){var s=e[t+i],o=s>>8&255,l=16711935&(l=(l=16711935&s)+((o<<16)+o));r[a+i]=(4278255360&s)+l>>>0}}function G(e,t){t.jd=255&e,t.hd=e>>8&255,t.ud=e>>16&255}function Y(e,t,n,r,a,i){var s;for(s=0;s<r;++s){var o=t[n+s],l=o>>>8,c=o,d=255&(d=(d=o>>>16)+((e.jd<<24>>24)*(l<<24>>24)>>>5));c=255&(c=(c+=(e.hd<<24>>24)*(l<<24>>24)>>>5)+((e.ud<<24>>24)*(d<<24>>24)>>>5)),a[i+s]=(4278255360&o)+(d<<16)+c}}function K(t,n,r,a,i){e[n]=function(e,t,n,r,s,o,l,c,d){for(r=l;r<c;++r)for(l=0;l<d;++l)s[o++]=i(n[a(e[t++])])},e[t]=function(t,n,s,o,l,c,d){var u=8>>t.b,h=t.Ea,p=t.K[0],m=t.w;if(8>u)for(t=(1<<t.b)-1,m=(1<<u)-1;n<s;++n){var f,g=0;for(f=0;f<h;++f)f&t||(g=a(o[l++])),c[d++]=i(p[g&m]),g>>=u}else e["VP8LMapColor"+r](o,l,p,m,c,d,n,s,h)}}function J(e,t,n,r,a){for(n=t+n;t<n;){var i=e[t++];r[a++]=i>>16&255,r[a++]=i>>8&255,r[a++]=255&i}}function X(e,t,n,r,a){for(n=t+n;t<n;){var i=e[t++];r[a++]=i>>16&255,r[a++]=i>>8&255,r[a++]=255&i,r[a++]=i>>24&255}}function Q(e,t,n,r,a){for(n=t+n;t<n;){var i=(s=e[t++])>>16&240|s>>12&15,s=240&s|s>>28&15;r[a++]=i,r[a++]=s}}function Z(e,t,n,r,a){for(n=t+n;t<n;){var i=(s=e[t++])>>16&248|s>>13&7,s=s>>5&224|s>>3&31;r[a++]=i,r[a++]=s}}function ee(e,t,n,r,a){for(n=t+n;t<n;){var i=e[t++];r[a++]=255&i,r[a++]=i>>8&255,r[a++]=i>>16&255}}function te(e,t,n,a,i,s){if(0==s)for(n=t+n;t<n;)T(a,((s=e[t++])[0]>>24|s[1]>>8&65280|s[2]<<8&16711680|s[3]<<24)>>>0),i+=32;else r(a,i,e,t,n)}function ne(t,n){e[n][0]=e[t+"0"],e[n][1]=e[t+"1"],e[n][2]=e[t+"2"],e[n][3]=e[t+"3"],e[n][4]=e[t+"4"],e[n][5]=e[t+"5"],e[n][6]=e[t+"6"],e[n][7]=e[t+"7"],e[n][8]=e[t+"8"],e[n][9]=e[t+"9"],e[n][10]=e[t+"10"],e[n][11]=e[t+"11"],e[n][12]=e[t+"12"],e[n][13]=e[t+"13"],e[n][14]=e[t+"0"],e[n][15]=e[t+"0"]}function re(e){return e==Wr||e==$r||e==Ur||e==Vr}function ae(){this.eb=[],this.size=this.A=this.fb=0}function ie(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function se(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ae,this.f.kb=new ie,this.sd=null}function oe(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function le(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ce(e){return alert("todo:WebPSamplerProcessPlane"),e.T}function de(e,t){var n=e.T,a=t.ba.f.RGBA,i=a.eb,s=a.fb+e.ka*a.A,o=ga[t.ba.S],l=e.y,c=e.O,d=e.f,u=e.N,h=e.ea,p=e.W,m=t.cc,f=t.dc,g=t.Mc,x=t.Nc,b=e.ka,y=e.ka+e.T,v=e.U,w=v+1>>1;for(0==b?o(l,c,null,null,d,u,h,p,d,u,h,p,i,s,null,null,v):(o(t.ec,t.fc,l,c,m,f,g,x,d,u,h,p,i,s-a.A,i,s,v),++n);b+2<y;b+=2)m=d,f=u,g=h,x=p,u+=e.Rc,p+=e.Rc,s+=2*a.A,o(l,(c+=2*e.fa)-e.fa,l,c,m,f,g,x,d,u,h,p,i,s-a.A,i,s,v);return c+=e.fa,e.j+y<e.o?(r(t.ec,t.fc,l,c,v),r(t.cc,t.dc,d,u,w),r(t.Mc,t.Nc,h,p,w),n--):1&y||o(l,c,null,null,d,u,h,p,d,u,h,p,i,s+a.A,null,null,v),n}function ue(e,n,r){var a=e.F,i=[e.J];if(null!=a){var s=e.U,o=n.ba.S,l=o==Hr||o==Ur;n=n.ba.f.RGBA;var c=[0],d=e.ka;c[0]=e.T,e.Kb&&(0==d?--c[0]:(--d,i[0]-=e.width),e.j+e.ka+e.T==e.o&&(c[0]=e.o-e.j-d));var u=n.eb;d=n.fb+d*n.A,e=kr(a,i[0],e.width,s,c,u,d+(l?0:3),n.A),t(r==c),e&&re(o)&&jr(u,d,l,s,c,n.A)}return 0}function he(e){var t=e.ma,n=t.ba.S,r=11>n,a=n==Ir||n==Fr||n==Hr||n==zr||12==n||re(n);if(t.memory=null,t.Ib=null,t.Jb=null,t.Nd=null,!Ln(t.Oa,e,a?11:12))return 0;if(a&&re(n)&&bn(),e.da)alert("todo:use_scaling");else{if(r){if(t.Ib=ce,e.Kb){if(n=e.U+1>>1,t.memory=i(e.U+2*n),null==t.memory)return 0;t.ec=t.memory,t.fc=0,t.cc=t.ec,t.dc=t.fc+e.U,t.Mc=t.cc,t.Nc=t.dc+n,t.Ib=de,bn()}}else alert("todo:EmitYUV");a&&(t.Jb=ue,r&&gn())}if(r&&!Ta){for(e=0;256>e;++e)Oa[e]=89858*(e-128)+Sa>>ka,Pa[e]=-22014*(e-128)+Sa,Ma[e]=-45773*(e-128),Ea[e]=113618*(e-128)+Sa>>ka;for(e=Ca;e<_a;++e)t=76283*(e-16)+Sa>>ka,Da[e-Ca]=Ve(t,255),La[e-Ca]=Ve(t+8>>4,15);Ta=1}return 1}function pe(e){var n=e.ma,r=e.U,a=e.T;return t(!(1&e.ka)),0>=r||0>=a?0:(r=n.Ib(e,n),null!=n.Jb&&n.Jb(e,n,r),n.Dc+=r,1)}function me(e){e.ma.memory=null}function fe(e,t,n,r){return 47!=y(e,8)?0:(t[0]=y(e,14)+1,n[0]=y(e,14)+1,r[0]=y(e,1),0!=y(e,3)?0:!e.h)}function ge(e,t){if(4>e)return e+1;var n=e-2>>1;return(2+(1&e)<<n)+y(t,n)+1}function xe(e,t){return 120<t?t-120:1<=(n=((n=Xr[t-1])>>4)*e+(8-(15&n)))?n:1;var n}function be(e,t,n){var r=j(n),a=e[t+=255&r].g-8;return 0<a&&(k(n,n.u+8),r=j(n),t+=e[t].value,t+=r&(1<<a)-1),k(n,n.u+e[t].g),e[t].value}function ye(e,n,r){return r.g+=e.g,r.value+=e.value<<n>>>0,t(8>=r.g),e.g}function ve(e,n,r){var a=e.xc;return t((n=0==a?0:e.vc[e.md*(r>>a)+(n>>a)])<e.Wb),e.Ya[n]}function we(e,n,a,i){var s=e.ab,o=e.c*n,l=e.C;n=l+n;var c=a,d=i;for(i=e.Ta,a=e.Ua;0<s--;){var u=e.gc[s],h=l,p=n,m=c,f=d,g=(d=i,c=a,u.Ea);switch(t(h<p),t(p<=u.nc),u.hc){case 2:qn(m,f,(p-h)*g,d,c);break;case 0:var x=h,b=p,y=d,v=c,w=(C=u).Ea;0==x&&(Un(m,f,null,null,1,y,v),V(m,f+1,0,0,w-1,y,v+1),f+=w,v+=w,++x);for(var j=1<<C.b,N=j-1,k=R(w,C.b),S=C.K,C=C.w+(x>>C.b)*k;x<b;){var _=S,A=C,T=1;for(Vn(m,f,y,v-w,1,y,v);T<w;){var O=(T&~N)+j;O>w&&(O=w),(0,Xn[_[A++]>>8&15])(m,f+ +T,y,v+T-w,O-T,y,v+T),T=O}f+=w,v+=w,++x&N||(C+=k)}p!=u.nc&&r(d,c-g,d,c+(p-h-1)*g,g);break;case 1:for(g=m,b=f,w=(m=u.Ea)-(v=m&~(y=(f=1<<u.b)-1)),x=R(m,u.b),j=u.K,u=u.w+(h>>u.b)*x;h<p;){for(N=j,k=u,S=new z,C=b+v,_=b+m;b<C;)G(N[k++],S),Qn(S,g,b,f,d,c),b+=f,c+=f;b<_&&(G(N[k++],S),Qn(S,g,b,w,d,c),b+=w,c+=w),++h&y||(u+=x)}break;case 3:if(m==d&&f==c&&0<u.b){for(b=d,m=g=c+(p-h)*g-(v=(p-h)*R(u.Ea,u.b)),f=d,y=c,x=[],v=(w=v)-1;0<=v;--v)x[v]=f[y+v];for(v=w-1;0<=v;--v)b[m+v]=x[v];Gn(u,h,p,d,g,d,c)}else Gn(u,h,p,m,f,d,c)}c=i,d=a}d!=a&&r(i,a,c,d,o)}function je(e,n){var r=e.V,a=e.Ba+e.c*e.C,i=n-e.C;if(t(n<=e.l.o),t(16>=i),0<i){var s=e.l,o=e.Ta,l=e.Ua,c=s.width;if(we(e,i,r,a),i=l=[l],t((r=e.C)<(a=n)),t(s.v<s.va),a>s.o&&(a=s.o),r<s.j){var d=s.j-r;r=s.j,i[0]+=d*c}if(r>=a?r=0:(i[0]+=4*s.v,s.ka=r-s.j,s.U=s.va-s.v,s.T=a-r,r=1),r){if(l=l[0],11>(r=e.ca).S){var u=r.f.RGBA,h=(a=r.S,i=s.U,s=s.T,d=u.eb,u.A),p=s;for(u=u.fb+e.Ma*u.A;0<p--;){var m=o,f=l,g=i,x=d,b=u;switch(a){case Lr:Zn(m,f,g,x,b);break;case Ir:er(m,f,g,x,b);break;case Wr:er(m,f,g,x,b),jr(x,b,0,g,1,0);break;case Rr:rr(m,f,g,x,b);break;case Fr:te(m,f,g,x,b,1);break;case $r:te(m,f,g,x,b,1),jr(x,b,0,g,1,0);break;case Hr:te(m,f,g,x,b,0);break;case Ur:te(m,f,g,x,b,0),jr(x,b,1,g,1,0);break;case zr:tr(m,f,g,x,b);break;case Vr:tr(m,f,g,x,b),Nr(x,b,g,1,0);break;case Br:nr(m,f,g,x,b);break;default:t(0)}l+=c,u+=h}e.Ma+=s}else alert("todo:EmitRescaledRowsYUVA");t(e.Ma<=r.height)}}e.C=n,t(e.C<=e.i)}function Ne(e){var t;if(0<e.ua)return 0;for(t=0;t<e.Wb;++t){var n=e.Ya[t].G,r=e.Ya[t].H;if(0<n[1][r[1]+0].g||0<n[2][r[2]+0].g||0<n[3][r[3]+0].g)return 0}return 1}function ke(e,n,r,a,i,s){if(0!=e.Z){var o=e.qd,l=e.rd;for(t(null!=fa[e.Z]);n<r;++n)fa[e.Z](o,l,a,i,a,i,s),o=a,l=i,i+=s;e.qd=o,e.rd=l}}function Se(e,n){var r=e.l.ma,a=0==r.Z||1==r.Z?e.l.j:e.C;if(a=e.C<a?a:e.C,t(n<=e.l.o),n>a){var i=e.l.width,s=r.ca,o=r.tb+i*a,l=e.V,c=e.Ba+e.c*a,d=e.gc;t(1==e.ab),t(3==d[0].hc),Kn(d[0],a,n,l,c,s,o),ke(r,a,n,s,o,i)}e.C=e.Ma=n}function Ce(e,n,r,a,i,s,o){var l=e.$/a,c=e.$%a,d=e.m,u=e.s,h=r+e.$,p=h;i=r+a*i;var m=r+a*s,f=280+u.ua,g=e.Pb?l:16777216,x=0<u.ua?u.Wa:null,b=u.wc,y=h<m?ve(u,c,l):null;t(e.C<s),t(m<=i);var v=!1;e:for(;;){for(;v||h<m;){var w=0;if(l>=g){var C=h-r;t((g=e).Pb),g.wd=g.m,g.xd=C,0<g.s.ua&&D(g.s.Wa,g.s.vb),g=l+Zr}if(c&b||(y=ve(u,c,l)),t(null!=y),y.Qb&&(n[h]=y.qb,v=!0),!v)if(S(d),y.jc){w=d,C=n;var _=h,A=y.pd[j(w)&Fn-1];t(y.jc),256>A.g?(k(w,w.u+A.g),C[_]=A.value,w=0):(k(w,w.u+A.g-256),t(256<=A.value),w=A.value),0==w&&(v=!0)}else w=be(y.G[0],y.H[0],d);if(d.h)break;if(v||256>w){if(!v)if(y.nd)n[h]=(y.qb|w<<8)>>>0;else{if(S(d),v=be(y.G[1],y.H[1],d),S(d),C=be(y.G[2],y.H[2],d),_=be(y.G[3],y.H[3],d),d.h)break;n[h]=(_<<24|v<<16|w<<8|C)>>>0}if(v=!1,++h,++c>=a&&(c=0,++l,null!=o&&l<=s&&!(l%16)&&o(e,l),null!=x))for(;p<h;)w=n[p++],x.X[(506832829*w&4294967295)>>>x.Mb]=w}else if(280>w){if(w=ge(w-256,d),C=be(y.G[4],y.H[4],d),S(d),C=xe(a,C=ge(C,d)),d.h)break;if(h-r<C||i-h<w)break e;for(_=0;_<w;++_)n[h+_]=n[h+_-C];for(h+=w,c+=w;c>=a;)c-=a,++l,null!=o&&l<=s&&!(l%16)&&o(e,l);if(t(h<=i),c&b&&(y=ve(u,c,l)),null!=x)for(;p<h;)w=n[p++],x.X[(506832829*w&4294967295)>>>x.Mb]=w}else{if(!(w<f))break e;for(v=w-280,t(null!=x);p<h;)w=n[p++],x.X[(506832829*w&4294967295)>>>x.Mb]=w;w=h,t(!(v>>>(C=x).Xa)),n[w]=C.X[v],v=!0}v||t(d.h==N(d))}if(e.Pb&&d.h&&h<i)t(e.m.h),e.a=5,e.m=e.wd,e.$=e.xd,0<e.s.ua&&D(e.s.vb,e.s.Wa);else{if(d.h)break e;null!=o&&o(e,l>s?s:l),e.a=0,e.$=h-r}return 1}return e.a=3,0}function _e(e){t(null!=e),e.vc=null,e.yc=null,e.Ya=null;var n=e.Wa;null!=n&&(n.X=null),e.vb=null,t(null!=e)}function Ae(){var t=new sn;return null==t?null:(t.a=0,t.xb=ma,ne("Predictor","VP8LPredictors"),ne("Predictor","VP8LPredictors_C"),ne("PredictorAdd","VP8LPredictorsAdd"),ne("PredictorAdd","VP8LPredictorsAdd_C"),qn=q,Qn=Y,Zn=J,er=X,tr=Q,nr=Z,rr=ee,e.VP8LMapColor32b=Yn,e.VP8LMapColor8b=Jn,t)}function Te(e,n,r,o,l){var c=1,h=[e],m=[n],f=o.m,g=o.s,x=null,b=0;e:for(;;){if(r)for(;c&&y(f,1);){var v=h,w=m,N=o,C=1,_=N.m,A=N.gc[N.ab],T=y(_,2);if(N.Oc&1<<T)c=0;else{switch(N.Oc|=1<<T,A.hc=T,A.Ea=v[0],A.nc=w[0],A.K=[null],++N.ab,t(4>=N.ab),T){case 0:case 1:A.b=y(_,3)+2,C=Te(R(A.Ea,A.b),R(A.nc,A.b),0,N,A.K),A.K=A.K[0];break;case 3:var O,E=y(_,8)+1,M=16<E?0:4<E?1:2<E?2:3;if(v[0]=R(A.Ea,M),A.b=M,O=C=Te(E,1,0,N,A.K)){var D,L=E,I=A,H=1<<(8>>I.b),z=i(H);if(null==z)O=0;else{var B=I.K[0],W=I.w;for(z[0]=I.K[0][0],D=1;D<1*L;++D)z[D]=F(B[W+D],z[D-1]);for(;D<4*H;++D)z[D]=0;I.K[0]=null,I.K[0]=z,O=1}}C=O;break;case 2:break;default:t(0)}c=C}}if(h=h[0],m=m[0],c&&y(f,1)&&!(c=1<=(b=y(f,4))&&11>=b)){o.a=3;break e}var $;if($=c)t:{var U,V,q,G=o,Y=h,K=m,J=b,X=r,Q=G.m,Z=G.s,ee=[null],te=1,ne=0,re=Qr[J];n:for(;;){if(X&&y(Q,1)){var ae=y(Q,3)+2,ie=R(Y,ae),se=R(K,ae),oe=ie*se;if(!Te(ie,se,0,G,ee))break n;for(ee=ee[0],Z.xc=ae,U=0;U<oe;++U){var le=ee[U]>>8&65535;ee[U]=le,le>=te&&(te=le+1)}}if(Q.h)break n;for(V=0;5>V;++V){var ce=Yr[V];!V&&0<J&&(ce+=1<<J),ne<ce&&(ne=ce)}var de=s(te*re,u),ue=te,he=s(ue,p);if(null==he)var pe=null;else t(65536>=ue),pe=he;var me=i(ne);if(null==pe||null==me||null==de){G.a=1;break n}var fe=de;for(U=q=0;U<te;++U){var ge=pe[U],xe=ge.G,be=ge.H,ve=0,we=1,je=0;for(V=0;5>V;++V){ce=Yr[V],xe[V]=fe,be[V]=q,!V&&0<J&&(ce+=1<<J);r:{var Ne,ke=ce,Se=G,Ae=me,Oe=fe,Ee=q,Me=0,Pe=Se.m,De=y(Pe,1);if(a(Ae,0,0,ke),De){var Le=y(Pe,1)+1,Ie=y(Pe,1),Re=y(Pe,0==Ie?1:8);Ae[Re]=1,2==Le&&(Ae[Re=y(Pe,8)]=1);var Fe=1}else{var He=i(19),ze=y(Pe,4)+4;if(19<ze){Se.a=3;var Be=0;break r}for(Ne=0;Ne<ze;++Ne)He[Jr[Ne]]=y(Pe,3);var We=void 0,$e=void 0,Ue=Se,Ve=He,qe=ke,Ge=Ae,Ye=0,Ke=Ue.m,Je=8,Xe=s(128,u);a:for(;d(Xe,0,7,Ve,19);){if(y(Ke,1)){var Qe=2+2*y(Ke,3);if((We=2+y(Ke,Qe))>qe)break a}else We=qe;for($e=0;$e<qe&&We--;){S(Ke);var Ze=Xe[0+(127&j(Ke))];k(Ke,Ke.u+Ze.g);var et=Ze.value;if(16>et)Ge[$e++]=et,0!=et&&(Je=et);else{var tt=16==et,nt=et-16,rt=Gr[nt],at=y(Ke,qr[nt])+rt;if($e+at>qe)break a;for(var it=tt?Je:0;0<at--;)Ge[$e++]=it}}Ye=1;break a}Ye||(Ue.a=3),Fe=Ye}(Fe=Fe&&!Pe.h)&&(Me=d(Oe,Ee,8,Ae,ke)),Fe&&0!=Me?Be=Me:(Se.a=3,Be=0)}if(0==Be)break n;if(we&&1==Kr[V]&&(we=0==fe[q].g),ve+=fe[q].g,q+=Be,3>=V){var st,ot=me[0];for(st=1;st<ce;++st)me[st]>ot&&(ot=me[st]);je+=ot}}if(ge.nd=we,ge.Qb=0,we&&(ge.qb=(xe[3][be[3]+0].value<<24|xe[1][be[1]+0].value<<16|xe[2][be[2]+0].value)>>>0,0==ve&&256>xe[0][be[0]+0].value&&(ge.Qb=1,ge.qb+=xe[0][be[0]+0].value<<8)),ge.jc=!ge.Qb&&6>je,ge.jc){var lt,ct=ge;for(lt=0;lt<Fn;++lt){var dt=lt,ut=ct.pd[dt],ht=ct.G[0][ct.H[0]+dt];256<=ht.value?(ut.g=ht.g+256,ut.value=ht.value):(ut.g=0,ut.value=0,dt>>=ye(ht,8,ut),dt>>=ye(ct.G[1][ct.H[1]+dt],16,ut),dt>>=ye(ct.G[2][ct.H[2]+dt],0,ut),ye(ct.G[3][ct.H[3]+dt],24,ut))}}}Z.vc=ee,Z.Wb=te,Z.Ya=pe,Z.yc=de,$=1;break t}$=0}if(!(c=$)){o.a=3;break e}if(0<b){if(g.ua=1<<b,!P(g.Wa,b)){o.a=1,c=0;break e}}else g.ua=0;var pt=o,mt=h,ft=m,gt=pt.s,xt=gt.xc;if(pt.c=mt,pt.i=ft,gt.md=R(mt,xt),gt.wc=0==xt?-1:(1<<xt)-1,r){o.xb=pa;break e}if(null==(x=i(h*m))){o.a=1,c=0;break e}c=(c=Ce(o,x,0,h,m,m,null))&&!f.h;break e}return c?(null!=l?l[0]=x:(t(null==x),t(r)),o.$=0,r||_e(g)):_e(g),c}function Oe(e,n){var r=e.c*e.i,a=r+n+16*n;return t(e.c<=n),e.V=i(a),null==e.V?(e.Ta=null,e.Ua=0,e.a=1,0):(e.Ta=e.V,e.Ua=e.Ba+r+n,1)}function Ee(e,n){var r=e.C,a=n-r,i=e.V,s=e.Ba+e.c*r;for(t(n<=e.l.o);0<a;){var o=16<a?16:a,l=e.l.ma,c=e.l.width,d=c*o,u=l.ca,h=l.tb+c*r,p=e.Ta,m=e.Ua;we(e,o,i,s),Sr(p,m,u,h,d),ke(l,r,r+o,u,h,c),a-=o,i+=o*e.c,r+=o}t(r==n),e.C=e.Ma=n}function Me(){this.ub=this.yd=this.td=this.Rb=0}function Pe(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function De(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function Le(){var e;this.Yb=(function e(t,n,r){for(var a=r[n],i=0;i<a&&(t.push(r.length>n+1?[]:0),!(r.length<n+1));i++)e(t[i],n+1,r)}(e=[],0,[3,11]),e)}function Ie(){this.jb=i(3),this.Wc=o([4,8],Le),this.Xc=o([4,17],Le)}function Re(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function Fe(){this.ld=this.La=this.dd=this.tc=0}function He(){this.Na=this.la=0}function ze(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Be(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function We(){this.uc=this.M=this.Nb=0,this.wa=Array(new Fe),this.Y=0,this.ya=Array(new Be),this.aa=0,this.l=new qe}function $e(){this.y=i(16),this.f=i(8),this.ea=i(8)}function Ue(){this.cb=this.a=0,this.sc="",this.m=new v,this.Od=new Me,this.Kc=new Pe,this.ed=new Re,this.Qa=new De,this.Ic=this.$c=this.Aa=0,this.D=new We,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,v),this.ia=0,this.pb=s(4,ze),this.Pa=new Ie,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new $e),this.Hd=0,this.rb=Array(new He),this.sb=0,this.wa=Array(new Fe),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Be),this.L=this.aa=0,this.gd=o([4,2],Fe),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ve(e,t){return 0>e?0:e>t?t:e}function qe(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ge(){var e=new Ue;return null!=e&&(e.a=0,e.sc="OK",e.cb=0,e.Xb=0,na||(na=Xe)),e}function Ye(e,t,n){return 0==e.a&&(e.a=t,e.sc=n,e.cb=0),0}function Ke(e,t,n){return 3<=n&&157==e[t+0]&&1==e[t+1]&&42==e[t+2]}function Je(e,n){if(null==e)return 0;if(e.a=0,e.sc="OK",null==n)return Ye(e,2,"null VP8Io passed to VP8GetHeaders()");var r=n.data,i=n.w,s=n.ha;if(4>s)return Ye(e,7,"Truncated header.");var o=r[i+0]|r[i+1]<<8|r[i+2]<<16,l=e.Od;if(l.Rb=!(1&o),l.td=o>>1&7,l.yd=o>>4&1,l.ub=o>>5,3<l.td)return Ye(e,3,"Incorrect keyframe parameters.");if(!l.yd)return Ye(e,4,"Frame not displayable.");i+=3,s-=3;var c=e.Kc;if(l.Rb){if(7>s)return Ye(e,7,"cannot parse picture header");if(!Ke(r,i,s))return Ye(e,3,"Bad code word");c.c=16383&(r[i+4]<<8|r[i+3]),c.Td=r[i+4]>>6,c.i=16383&(r[i+6]<<8|r[i+5]),c.Ud=r[i+6]>>6,i+=7,s-=7,e.za=c.c+15>>4,e.Ub=c.i+15>>4,n.width=c.c,n.height=c.i,n.Da=0,n.j=0,n.v=0,n.va=n.width,n.o=n.height,n.da=0,n.ib=n.width,n.hb=n.height,n.U=n.width,n.T=n.height,a((o=e.Pa).jb,0,255,o.jb.length),t(null!=(o=e.Qa)),o.Cb=0,o.Bb=0,o.Fb=1,a(o.Zb,0,0,o.Zb.length),a(o.Lb,0,0,o.Lb)}if(l.ub>s)return Ye(e,7,"bad partition length");m(o=e.m,r,i,l.ub),i+=l.ub,s-=l.ub,l.Rb&&(c.Ld=_(o),c.Kd=_(o)),c=e.Qa;var d,u=e.Pa;if(t(null!=o),t(null!=c),c.Cb=_(o),c.Cb){if(c.Bb=_(o),_(o)){for(c.Fb=_(o),d=0;4>d;++d)c.Zb[d]=_(o)?g(o,7):0;for(d=0;4>d;++d)c.Lb[d]=_(o)?g(o,6):0}if(c.Bb)for(d=0;3>d;++d)u.jb[d]=_(o)?f(o,8):255}else c.Bb=0;if(o.Ka)return Ye(e,3,"cannot parse segment header");if((c=e.ed).zd=_(o),c.Tb=f(o,6),c.wb=f(o,3),c.Pc=_(o),c.Pc&&_(o)){for(u=0;4>u;++u)_(o)&&(c.vd[u]=g(o,6));for(u=0;4>u;++u)_(o)&&(c.od[u]=g(o,6))}if(e.L=0==c.Tb?0:c.zd?1:2,o.Ka)return Ye(e,3,"cannot parse filter header");var h=s;if(s=d=i,i=d+h,c=h,e.Xb=(1<<f(e.m,2))-1,h<3*(u=e.Xb))r=7;else{for(d+=3*u,c-=3*u,h=0;h<u;++h){var p=r[s+0]|r[s+1]<<8|r[s+2]<<16;p>c&&(p=c),m(e.Jc[+h],r,d,p),d+=p,c-=p,s+=3}m(e.Jc[+u],r,d,c),r=d<i?0:5}if(0!=r)return Ye(e,r,"cannot parse partitions");for(r=f(d=e.m,7),s=_(d)?g(d,4):0,i=_(d)?g(d,4):0,c=_(d)?g(d,4):0,u=_(d)?g(d,4):0,d=_(d)?g(d,4):0,h=e.Qa,p=0;4>p;++p){if(h.Cb){var x=h.Zb[p];h.Fb||(x+=r)}else{if(0<p){e.pb[p]=e.pb[0];continue}x=r}var b=e.pb[p];b.Sc[0]=ea[Ve(x+s,127)],b.Sc[1]=ta[Ve(x+0,127)],b.Eb[0]=2*ea[Ve(x+i,127)],b.Eb[1]=101581*ta[Ve(x+c,127)]>>16,8>b.Eb[1]&&(b.Eb[1]=8),b.Qc[0]=ea[Ve(x+u,117)],b.Qc[1]=ta[Ve(x+d,127)],b.lc=x+d}if(!l.Rb)return Ye(e,4,"Not a key frame.");for(_(o),l=e.Pa,r=0;4>r;++r){for(s=0;8>s;++s)for(i=0;3>i;++i)for(c=0;11>c;++c)u=A(o,la[r][s][i][c])?f(o,8):sa[r][s][i][c],l.Wc[r][s].Yb[i][c]=u;for(s=0;17>s;++s)l.Xc[r][s]=l.Wc[r][ca[s]]}return e.kc=_(o),e.kc&&(e.Bd=f(o,8)),e.cb=1}function Xe(e,t,n,r,a,i,s){var o=t[a].Yb[n];for(n=0;16>a;++a){if(!A(e,o[n+0]))return a;for(;!A(e,o[n+1]);)if(o=t[++a].Yb[0],n=0,16==a)return 16;var l=t[a+1].Yb;if(A(e,o[n+2])){var c=e,d=0;if(A(c,(h=o)[(u=n)+3]))if(A(c,h[u+6])){for(o=0,u=2*(d=A(c,h[u+8]))+(h=A(c,h[u+9+d])),d=0,h=ra[u];h[o];++o)d+=d+A(c,h[o]);d+=3+(8<<u)}else A(c,h[u+7])?(d=7+2*A(c,165),d+=A(c,145)):d=5+A(c,159);else d=A(c,h[u+4])?3+A(c,h[u+5]):2;o=l[2]}else d=1,o=l[1];l=s+aa[a],0>(c=e).b&&C(c);var u,h=c.b,p=(u=c.Ca>>1)-(c.I>>h)>>31;--c.b,c.Ca+=p,c.Ca|=1,c.I-=(u+1&p)<<h,i[l]=((d^p)-p)*r[(0<a)+0]}return 16}function Qe(e){var t=e.rb[e.sb-1];t.la=0,t.Na=0,a(e.zc,0,0,e.zc.length),e.ja=0}function Ze(e,t,n,r,a){a=e[t+n+32*r]+(a>>3),e[t+n+32*r]=-256&a?0>a?0:255:a}function et(e,t,n,r,a,i){Ze(e,t,0,n,r+a),Ze(e,t,1,n,r+i),Ze(e,t,2,n,r-i),Ze(e,t,3,n,r-a)}function tt(e){return(20091*e>>16)+e}function nt(e,t,n,r){var a,s=0,o=i(16);for(a=0;4>a;++a){var l=e[t+0]+e[t+8],c=e[t+0]-e[t+8],d=(35468*e[t+4]>>16)-tt(e[t+12]),u=tt(e[t+4])+(35468*e[t+12]>>16);o[s+0]=l+u,o[s+1]=c+d,o[s+2]=c-d,o[s+3]=l-u,s+=4,t++}for(a=s=0;4>a;++a)l=(e=o[s+0]+4)+o[s+8],c=e-o[s+8],d=(35468*o[s+4]>>16)-tt(o[s+12]),Ze(n,r,0,0,l+(u=tt(o[s+4])+(35468*o[s+12]>>16))),Ze(n,r,1,0,c+d),Ze(n,r,2,0,c-d),Ze(n,r,3,0,l-u),s++,r+=32}function rt(e,t,n,r){var a=e[t+0]+4,i=35468*e[t+4]>>16,s=tt(e[t+4]),o=35468*e[t+1]>>16;et(n,r,0,a+s,e=tt(e[t+1]),o),et(n,r,1,a+i,e,o),et(n,r,2,a-i,e,o),et(n,r,3,a-s,e,o)}function at(e,t,n,r,a){nt(e,t,n,r),a&&nt(e,t+16,n,r+4)}function it(e,t,n,r){ir(e,t+0,n,r,1),ir(e,t+32,n,r+128,1)}function st(e,t,n,r){var a;for(e=e[t+0]+4,a=0;4>a;++a)for(t=0;4>t;++t)Ze(n,r,t,a,e)}function ot(e,t,n,r){e[t+0]&&lr(e,t+0,n,r),e[t+16]&&lr(e,t+16,n,r+4),e[t+32]&&lr(e,t+32,n,r+128),e[t+48]&&lr(e,t+48,n,r+128+4)}function lt(e,t,n,r){var a,s=i(16);for(a=0;4>a;++a){var o=e[t+0+a]+e[t+12+a],l=e[t+4+a]+e[t+8+a],c=e[t+4+a]-e[t+8+a],d=e[t+0+a]-e[t+12+a];s[0+a]=o+l,s[8+a]=o-l,s[4+a]=d+c,s[12+a]=d-c}for(a=0;4>a;++a)o=(e=s[0+4*a]+3)+s[3+4*a],l=s[1+4*a]+s[2+4*a],c=s[1+4*a]-s[2+4*a],d=e-s[3+4*a],n[r+0]=o+l>>3,n[r+16]=d+c>>3,n[r+32]=o-l>>3,n[r+48]=d-c>>3,r+=64}function ct(e,t,n){var r,a=t-32,i=Pr,s=255-e[a-1];for(r=0;r<n;++r){var o,l=i,c=s+e[t-1];for(o=0;o<n;++o)e[t+o]=l[c+e[a+o]];t+=32}}function dt(e,t){ct(e,t,4)}function ut(e,t){ct(e,t,8)}function ht(e,t){ct(e,t,16)}function pt(e,t){var n;for(n=0;16>n;++n)r(e,t+32*n,e,t-32,16)}function mt(e,t){var n;for(n=16;0<n;--n)a(e,t,e[t-1],16),t+=32}function ft(e,t,n){var r;for(r=0;16>r;++r)a(t,n+32*r,e,16)}function gt(e,t){var n,r=16;for(n=0;16>n;++n)r+=e[t-1+32*n]+e[t+n-32];ft(r>>5,e,t)}function xt(e,t){var n,r=8;for(n=0;16>n;++n)r+=e[t-1+32*n];ft(r>>4,e,t)}function bt(e,t){var n,r=8;for(n=0;16>n;++n)r+=e[t+n-32];ft(r>>4,e,t)}function yt(e,t){ft(128,e,t)}function vt(e,t,n){return e+2*t+n+2>>2}function wt(e,t){var n,a=t-32;for(a=new Uint8Array([vt(e[a-1],e[a+0],e[a+1]),vt(e[a+0],e[a+1],e[a+2]),vt(e[a+1],e[a+2],e[a+3]),vt(e[a+2],e[a+3],e[a+4])]),n=0;4>n;++n)r(e,t+32*n,a,0,a.length)}function jt(e,t){var n=e[t-1],r=e[t-1+32],a=e[t-1+64],i=e[t-1+96];T(e,t+0,16843009*vt(e[t-1-32],n,r)),T(e,t+32,16843009*vt(n,r,a)),T(e,t+64,16843009*vt(r,a,i)),T(e,t+96,16843009*vt(a,i,i))}function Nt(e,t){var n,r=4;for(n=0;4>n;++n)r+=e[t+n-32]+e[t-1+32*n];for(r>>=3,n=0;4>n;++n)a(e,t+32*n,r,4)}function kt(e,t){var n=e[t-1+0],r=e[t-1+32],a=e[t-1+64],i=e[t-1-32],s=e[t+0-32],o=e[t+1-32],l=e[t+2-32],c=e[t+3-32];e[t+0+96]=vt(r,a,e[t-1+96]),e[t+1+96]=e[t+0+64]=vt(n,r,a),e[t+2+96]=e[t+1+64]=e[t+0+32]=vt(i,n,r),e[t+3+96]=e[t+2+64]=e[t+1+32]=e[t+0+0]=vt(s,i,n),e[t+3+64]=e[t+2+32]=e[t+1+0]=vt(o,s,i),e[t+3+32]=e[t+2+0]=vt(l,o,s),e[t+3+0]=vt(c,l,o)}function St(e,t){var n=e[t+1-32],r=e[t+2-32],a=e[t+3-32],i=e[t+4-32],s=e[t+5-32],o=e[t+6-32],l=e[t+7-32];e[t+0+0]=vt(e[t+0-32],n,r),e[t+1+0]=e[t+0+32]=vt(n,r,a),e[t+2+0]=e[t+1+32]=e[t+0+64]=vt(r,a,i),e[t+3+0]=e[t+2+32]=e[t+1+64]=e[t+0+96]=vt(a,i,s),e[t+3+32]=e[t+2+64]=e[t+1+96]=vt(i,s,o),e[t+3+64]=e[t+2+96]=vt(s,o,l),e[t+3+96]=vt(o,l,l)}function Ct(e,t){var n=e[t-1+0],r=e[t-1+32],a=e[t-1+64],i=e[t-1-32],s=e[t+0-32],o=e[t+1-32],l=e[t+2-32],c=e[t+3-32];e[t+0+0]=e[t+1+64]=i+s+1>>1,e[t+1+0]=e[t+2+64]=s+o+1>>1,e[t+2+0]=e[t+3+64]=o+l+1>>1,e[t+3+0]=l+c+1>>1,e[t+0+96]=vt(a,r,n),e[t+0+64]=vt(r,n,i),e[t+0+32]=e[t+1+96]=vt(n,i,s),e[t+1+32]=e[t+2+96]=vt(i,s,o),e[t+2+32]=e[t+3+96]=vt(s,o,l),e[t+3+32]=vt(o,l,c)}function _t(e,t){var n=e[t+0-32],r=e[t+1-32],a=e[t+2-32],i=e[t+3-32],s=e[t+4-32],o=e[t+5-32],l=e[t+6-32],c=e[t+7-32];e[t+0+0]=n+r+1>>1,e[t+1+0]=e[t+0+64]=r+a+1>>1,e[t+2+0]=e[t+1+64]=a+i+1>>1,e[t+3+0]=e[t+2+64]=i+s+1>>1,e[t+0+32]=vt(n,r,a),e[t+1+32]=e[t+0+96]=vt(r,a,i),e[t+2+32]=e[t+1+96]=vt(a,i,s),e[t+3+32]=e[t+2+96]=vt(i,s,o),e[t+3+64]=vt(s,o,l),e[t+3+96]=vt(o,l,c)}function At(e,t){var n=e[t-1+0],r=e[t-1+32],a=e[t-1+64],i=e[t-1+96];e[t+0+0]=n+r+1>>1,e[t+2+0]=e[t+0+32]=r+a+1>>1,e[t+2+32]=e[t+0+64]=a+i+1>>1,e[t+1+0]=vt(n,r,a),e[t+3+0]=e[t+1+32]=vt(r,a,i),e[t+3+32]=e[t+1+64]=vt(a,i,i),e[t+3+64]=e[t+2+64]=e[t+0+96]=e[t+1+96]=e[t+2+96]=e[t+3+96]=i}function Tt(e,t){var n=e[t-1+0],r=e[t-1+32],a=e[t-1+64],i=e[t-1+96],s=e[t-1-32],o=e[t+0-32],l=e[t+1-32],c=e[t+2-32];e[t+0+0]=e[t+2+32]=n+s+1>>1,e[t+0+32]=e[t+2+64]=r+n+1>>1,e[t+0+64]=e[t+2+96]=a+r+1>>1,e[t+0+96]=i+a+1>>1,e[t+3+0]=vt(o,l,c),e[t+2+0]=vt(s,o,l),e[t+1+0]=e[t+3+32]=vt(n,s,o),e[t+1+32]=e[t+3+64]=vt(r,n,s),e[t+1+64]=e[t+3+96]=vt(a,r,n),e[t+1+96]=vt(i,a,r)}function Ot(e,t){var n;for(n=0;8>n;++n)r(e,t+32*n,e,t-32,8)}function Et(e,t){var n;for(n=0;8>n;++n)a(e,t,e[t-1],8),t+=32}function Mt(e,t,n){var r;for(r=0;8>r;++r)a(t,n+32*r,e,8)}function Pt(e,t){var n,r=8;for(n=0;8>n;++n)r+=e[t+n-32]+e[t-1+32*n];Mt(r>>4,e,t)}function Dt(e,t){var n,r=4;for(n=0;8>n;++n)r+=e[t+n-32];Mt(r>>3,e,t)}function Lt(e,t){var n,r=4;for(n=0;8>n;++n)r+=e[t-1+32*n];Mt(r>>3,e,t)}function It(e,t){Mt(128,e,t)}function Rt(e,t,n){var r=e[t-n],a=e[t+0],i=3*(a-r)+Er[1020+e[t-2*n]-e[t+n]],s=Mr[112+(i+4>>3)];e[t-n]=Pr[255+r+Mr[112+(i+3>>3)]],e[t+0]=Pr[255+a-s]}function Ft(e,t,n,r){var a=e[t+0],i=e[t+n];return Dr[255+e[t-2*n]-e[t-n]]>r||Dr[255+i-a]>r}function Ht(e,t,n,r){return 4*Dr[255+e[t-n]-e[t+0]]+Dr[255+e[t-2*n]-e[t+n]]<=r}function zt(e,t,n,r,a){var i=e[t-3*n],s=e[t-2*n],o=e[t-n],l=e[t+0],c=e[t+n],d=e[t+2*n],u=e[t+3*n];return 4*Dr[255+o-l]+Dr[255+s-c]>r?0:Dr[255+e[t-4*n]-i]<=a&&Dr[255+i-s]<=a&&Dr[255+s-o]<=a&&Dr[255+u-d]<=a&&Dr[255+d-c]<=a&&Dr[255+c-l]<=a}function Bt(e,t,n,r){var a=2*r+1;for(r=0;16>r;++r)Ht(e,t+r,n,a)&&Rt(e,t+r,n)}function Wt(e,t,n,r){var a=2*r+1;for(r=0;16>r;++r)Ht(e,t+r*n,1,a)&&Rt(e,t+r*n,1)}function $t(e,t,n,r){var a;for(a=3;0<a;--a)Bt(e,t+=4*n,n,r)}function Ut(e,t,n,r){var a;for(a=3;0<a;--a)Wt(e,t+=4,n,r)}function Vt(e,t,n,r,a,i,s,o){for(i=2*i+1;0<a--;){if(zt(e,t,n,i,s))if(Ft(e,t,n,o))Rt(e,t,n);else{var l=e,c=t,d=n,u=l[c-2*d],h=l[c-d],p=l[c+0],m=l[c+d],f=l[c+2*d],g=27*(b=Er[1020+3*(p-h)+Er[1020+u-m]])+63>>7,x=18*b+63>>7,b=9*b+63>>7;l[c-3*d]=Pr[255+l[c-3*d]+b],l[c-2*d]=Pr[255+u+x],l[c-d]=Pr[255+h+g],l[c+0]=Pr[255+p-g],l[c+d]=Pr[255+m-x],l[c+2*d]=Pr[255+f-b]}t+=r}}function qt(e,t,n,r,a,i,s,o){for(i=2*i+1;0<a--;){if(zt(e,t,n,i,s))if(Ft(e,t,n,o))Rt(e,t,n);else{var l=e,c=t,d=n,u=l[c-d],h=l[c+0],p=l[c+d],m=Mr[112+(4+(f=3*(h-u))>>3)],f=Mr[112+(f+3>>3)],g=m+1>>1;l[c-2*d]=Pr[255+l[c-2*d]+g],l[c-d]=Pr[255+u+f],l[c+0]=Pr[255+h-m],l[c+d]=Pr[255+p-g]}t+=r}}function Gt(e,t,n,r,a,i){Vt(e,t,n,1,16,r,a,i)}function Yt(e,t,n,r,a,i){Vt(e,t,1,n,16,r,a,i)}function Kt(e,t,n,r,a,i){var s;for(s=3;0<s;--s)qt(e,t+=4*n,n,1,16,r,a,i)}function Jt(e,t,n,r,a,i){var s;for(s=3;0<s;--s)qt(e,t+=4,1,n,16,r,a,i)}function Xt(e,t,n,r,a,i,s,o){Vt(e,t,a,1,8,i,s,o),Vt(n,r,a,1,8,i,s,o)}function Qt(e,t,n,r,a,i,s,o){Vt(e,t,1,a,8,i,s,o),Vt(n,r,1,a,8,i,s,o)}function Zt(e,t,n,r,a,i,s,o){qt(e,t+4*a,a,1,8,i,s,o),qt(n,r+4*a,a,1,8,i,s,o)}function en(e,t,n,r,a,i,s,o){qt(e,t+4,1,a,8,i,s,o),qt(n,r+4,1,a,8,i,s,o)}function tn(){this.ba=new se,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new le,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function nn(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function rn(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function an(){this.ua=0,this.Wa=new L,this.vb=new L,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new p,this.yc=new u}function sn(){this.xb=this.a=0,this.l=new qe,this.ca=new se,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new w,this.Pb=0,this.wd=new w,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new an,this.ab=0,this.gc=s(4,rn),this.Oc=0}function on(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new qe,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function ln(e,t,n,r,a,i,s){for(e=null==e?0:e[t+0],t=0;t<s;++t)a[i+t]=e+n[r+t]&255,e=a[i+t]}function cn(e,t,n,r,a,i,s){var o;if(null==e)ln(null,null,n,r,a,i,s);else for(o=0;o<s;++o)a[i+o]=e[t+o]+n[r+o]&255}function dn(e,t,n,r,a,i,s){if(null==e)ln(null,null,n,r,a,i,s);else{var o,l=e[t+0],c=l,d=l;for(o=0;o<s;++o)c=d+(l=e[t+o])-c,d=n[r+o]+(-256&c?0>c?0:255:c)&255,c=l,a[i+o]=d}}function un(e,n,a,s){var o=n.width,l=n.o;if(t(null!=e&&null!=n),0>a||0>=s||a+s>l)return null;if(!e.Cc){if(null==e.ga){var c;if(e.ga=new on,(c=null==e.ga)||(c=n.width*n.o,t(0==e.Gb.length),e.Gb=i(c),e.Uc=0,null==e.Gb?c=0:(e.mb=e.Gb,e.nb=e.Uc,e.rc=null,c=1),c=!c),!c){c=e.ga;var d=e.Fa,u=e.P,h=e.qc,p=e.mb,m=e.nb,f=u+1,g=h-1,b=c.l;if(t(null!=d&&null!=p&&null!=n),fa[0]=null,fa[1]=ln,fa[2]=cn,fa[3]=dn,c.ca=p,c.tb=m,c.c=n.width,c.i=n.height,t(0<c.c&&0<c.i),1>=h)n=0;else if(c.$a=3&d[u+0],c.Z=d[u+0]>>2&3,c.Lc=d[u+0]>>4&3,u=d[u+0]>>6&3,0>c.$a||1<c.$a||4<=c.Z||1<c.Lc||u)n=0;else if(b.put=pe,b.ac=he,b.bc=me,b.ma=c,b.width=n.width,b.height=n.height,b.Da=n.Da,b.v=n.v,b.va=n.va,b.j=n.j,b.o=n.o,c.$a)e:{t(1==c.$a),n=Ae();t:for(;;){if(null==n){n=0;break e}if(t(null!=c),c.mc=n,n.c=c.c,n.i=c.i,n.l=c.l,n.l.ma=c,n.l.width=c.c,n.l.height=c.i,n.a=0,x(n.m,d,f,g),!Te(c.c,c.i,1,n,null))break t;if(1==n.ab&&3==n.gc[0].hc&&Ne(n.s)?(c.ic=1,d=n.c*n.i,n.Ta=null,n.Ua=0,n.V=i(d),n.Ba=0,null==n.V?(n.a=1,n=0):n=1):(c.ic=0,n=Oe(n,c.c)),!n)break t;n=1;break e}c.mc=null,n=0}else n=g>=c.c*c.i;c=!n}if(c)return null;1!=e.ga.Lc?e.Ga=0:s=l-a}t(null!=e.ga),t(a+s<=l);e:{if(n=(d=e.ga).c,l=d.l.o,0==d.$a){if(f=e.rc,g=e.Vc,b=e.Fa,u=e.P+1+a*n,h=e.mb,p=e.nb+a*n,t(u<=e.P+e.qc),0!=d.Z)for(t(null!=fa[d.Z]),c=0;c<s;++c)fa[d.Z](f,g,b,u,h,p,n),f=h,g=p,p+=n,u+=n;else for(c=0;c<s;++c)r(h,p,b,u,n),f=h,g=p,p+=n,u+=n;e.rc=f,e.Vc=g}else{if(t(null!=d.mc),n=a+s,t(null!=(c=d.mc)),t(n<=c.i),c.C>=n)n=1;else if(d.ic||gn(),d.ic){d=c.V,f=c.Ba,g=c.c;var y=c.i,v=(b=1,u=c.$/g,h=c.$%g,p=c.m,m=c.s,c.$),w=g*y,j=g*n,k=m.wc,C=v<j?ve(m,h,u):null;t(v<=w),t(n<=y),t(Ne(m));t:for(;;){for(;!p.h&&v<j;){if(h&k||(C=ve(m,h,u)),t(null!=C),S(p),256>(y=be(C.G[0],C.H[0],p)))d[f+v]=y,++v,++h>=g&&(h=0,++u<=n&&!(u%16)&&Se(c,u));else{if(!(280>y)){b=0;break t}y=ge(y-256,p);var _,A=be(C.G[4],C.H[4],p);if(S(p),!(v>=(A=xe(g,A=ge(A,p)))&&w-v>=y)){b=0;break t}for(_=0;_<y;++_)d[f+v+_]=d[f+v+_-A];for(v+=y,h+=y;h>=g;)h-=g,++u<=n&&!(u%16)&&Se(c,u);v<j&&h&k&&(C=ve(m,h,u))}t(p.h==N(p))}Se(c,u>n?n:u);break t}!b||p.h&&v<w?(b=0,c.a=p.h?5:3):c.$=v,n=b}else n=Ce(c,c.V,c.Ba,c.c,c.i,n,Ee);if(!n){s=0;break e}}a+s>=l&&(e.Cc=1),s=1}if(!s)return null;if(e.Cc&&(null!=(s=e.ga)&&(s.mc=null),e.ga=null,0<e.Ga))return alert("todo:WebPDequantizeLevels"),null}return e.nb+a*o}function hn(e,t,n,r,a,i){for(;0<a--;){var s,o=e,l=t+(n?1:0),c=e,d=t+(n?0:3);for(s=0;s<r;++s){var u=c[d+4*s];255!=u&&(u*=32897,o[l+4*s+0]=o[l+4*s+0]*u>>23,o[l+4*s+1]=o[l+4*s+1]*u>>23,o[l+4*s+2]=o[l+4*s+2]*u>>23)}t+=i}}function pn(e,t,n,r,a){for(;0<r--;){var i;for(i=0;i<n;++i){var s=e[t+2*i+0],o=15&(c=e[t+2*i+1]),l=4369*o,c=(240&c|c>>4)*l>>16;e[t+2*i+0]=(240&s|s>>4)*l>>16&240|(15&s|s<<4)*l>>16>>4&15,e[t+2*i+1]=240&c|o}t+=a}}function mn(e,t,n,r,a,i,s,o){var l,c,d=255;for(c=0;c<a;++c){for(l=0;l<r;++l){var u=e[t+l];i[s+4*l]=u,d&=u}t+=n,s+=o}return 255!=d}function fn(e,t,n,r,a){var i;for(i=0;i<a;++i)n[r+i]=e[t+i]>>8}function gn(){jr=hn,Nr=pn,kr=mn,Sr=fn}function xn(n,r,a){e[n]=function(e,n,i,s,o,l,c,d,u,h,p,m,f,g,x,b,y){var v,w=y-1>>1,j=o[l+0]|c[d+0]<<16,N=u[h+0]|p[m+0]<<16;t(null!=e);var k=3*j+N+131074>>2;for(r(e[n+0],255&k,k>>16,f,g),null!=i&&(k=3*N+j+131074>>2,r(i[s+0],255&k,k>>16,x,b)),v=1;v<=w;++v){var S=o[l+v]|c[d+v]<<16,C=u[h+v]|p[m+v]<<16,_=j+S+N+C+524296,A=_+2*(S+N)>>3;k=A+j>>1,j=(_=_+2*(j+C)>>3)+S>>1,r(e[n+2*v-1],255&k,k>>16,f,g+(2*v-1)*a),r(e[n+2*v-0],255&j,j>>16,f,g+(2*v-0)*a),null!=i&&(k=_+N>>1,j=A+C>>1,r(i[s+2*v-1],255&k,k>>16,x,b+(2*v-1)*a),r(i[s+2*v+0],255&j,j>>16,x,b+(2*v+0)*a)),j=S,N=C}1&y||(k=3*j+N+131074>>2,r(e[n+y-1],255&k,k>>16,f,g+(y-1)*a),null!=i&&(k=3*N+j+131074>>2,r(i[s+y-1],255&k,k>>16,x,b+(y-1)*a)))}}function bn(){ga[Lr]=xa,ga[Ir]=ya,ga[Rr]=ba,ga[Fr]=va,ga[Hr]=wa,ga[zr]=ja,ga[Br]=Na,ga[Wr]=ya,ga[$r]=va,ga[Ur]=wa,ga[Vr]=ja}function yn(e){return-16384&e?0>e?0:255:e>>Aa}function vn(e,t){return yn((19077*e>>8)+(26149*t>>8)-14234)}function wn(e,t,n){return yn((19077*e>>8)-(6419*t>>8)-(13320*n>>8)+8708)}function jn(e,t){return yn((19077*e>>8)+(33050*t>>8)-17685)}function Nn(e,t,n,r,a){r[a+0]=vn(e,n),r[a+1]=wn(e,t,n),r[a+2]=jn(e,t)}function kn(e,t,n,r,a){r[a+0]=jn(e,t),r[a+1]=wn(e,t,n),r[a+2]=vn(e,n)}function Sn(e,t,n,r,a){var i=wn(e,t,n);t=i<<3&224|jn(e,t)>>3,r[a+0]=248&vn(e,n)|i>>5,r[a+1]=t}function Cn(e,t,n,r,a){var i=240&jn(e,t)|15;r[a+0]=240&vn(e,n)|wn(e,t,n)>>4,r[a+1]=i}function _n(e,t,n,r,a){r[a+0]=255,Nn(e,t,n,r,a+1)}function An(e,t,n,r,a){kn(e,t,n,r,a),r[a+3]=255}function Tn(e,t,n,r,a){Nn(e,t,n,r,a),r[a+3]=255}function Ve(e,t){return 0>e?0:e>t?t:e}function On(t,n,r){e[t]=function(e,t,a,i,s,o,l,c,d){for(var u=c+(-2&d)*r;c!=u;)n(e[t+0],a[i+0],s[o+0],l,c),n(e[t+1],a[i+0],s[o+0],l,c+r),t+=2,++i,++o,c+=2*r;1&d&&n(e[t+0],a[i+0],s[o+0],l,c)}}function En(e,t,n){return 0==n?0==e?0==t?6:5:0==t?4:0:n}function Mn(e,t,n,r,a){switch(e>>>30){case 3:ir(t,n,r,a,0);break;case 2:sr(t,n,r,a);break;case 1:lr(t,n,r,a)}}function Pn(e,t){var n,i,s=t.M,o=t.Nb,l=e.oc,c=e.pc+40,d=e.oc,u=e.pc+584,h=e.oc,p=e.pc+600;for(n=0;16>n;++n)l[c+32*n-1]=129;for(n=0;8>n;++n)d[u+32*n-1]=129,h[p+32*n-1]=129;for(0<s?l[c-1-32]=d[u-1-32]=h[p-1-32]=129:(a(l,c-32-1,127,21),a(d,u-32-1,127,9),a(h,p-32-1,127,9)),i=0;i<e.za;++i){var m=t.ya[t.aa+i];if(0<i){for(n=-1;16>n;++n)r(l,c+32*n-4,l,c+32*n+12,4);for(n=-1;8>n;++n)r(d,u+32*n-4,d,u+32*n+4,4),r(h,p+32*n-4,h,p+32*n+4,4)}var f=e.Gd,g=e.Hd+i,x=m.ad,b=m.Hc;if(0<s&&(r(l,c-32,f[g].y,0,16),r(d,u-32,f[g].f,0,8),r(h,p-32,f[g].ea,0,8)),m.Za){var y=l,v=c-32+16;for(0<s&&(i>=e.za-1?a(y,v,f[g].y[15],4):r(y,v,f[g+1].y,0,4)),n=0;4>n;n++)y[v+128+n]=y[v+256+n]=y[v+384+n]=y[v+0+n];for(n=0;16>n;++n,b<<=2)y=l,v=c+Ia[n],ua[m.Ob[n]](y,v),Mn(b,x,16*+n,y,v)}else if(y=En(i,s,m.Ob[0]),da[y](l,c),0!=b)for(n=0;16>n;++n,b<<=2)Mn(b,x,16*+n,l,c+Ia[n]);for(n=m.Gc,y=En(i,s,m.Dd),ha[y](d,u),ha[y](h,p),b=x,y=d,v=u,255&(m=0|n)&&(170&m?or(b,256,y,v):cr(b,256,y,v)),m=h,b=p,255&(n>>=8)&&(170&n?or(x,320,m,b):cr(x,320,m,b)),s<e.Ub-1&&(r(f[g].y,0,l,c+480,16),r(f[g].f,0,d,u+224,8),r(f[g].ea,0,h,p+224,8)),n=8*o*e.B,f=e.sa,g=e.ta+16*i+16*o*e.R,x=e.qa,m=e.ra+8*i+n,b=e.Ha,y=e.Ia+8*i+n,n=0;16>n;++n)r(f,g+n*e.R,l,c+32*n,16);for(n=0;8>n;++n)r(x,m+n*e.B,d,u+32*n,8),r(b,y+n*e.B,h,p+32*n,8)}}function Dn(e,r,a,i,s,o,l,c,d){var u=[0],h=[0],p=0,m=null!=d?d.kd:0,f=null!=d?d:new nn;if(null==e||12>a)return 7;f.data=e,f.w=r,f.ha=a,r=[r],a=[a],f.gb=[f.gb];e:{var g=r,b=a,y=f.gb;if(t(null!=e),t(null!=b),t(null!=y),y[0]=0,12<=b[0]&&!n(e,g[0],"RIFF")){if(n(e,g[0]+8,"WEBP")){y=3;break e}var v=M(e,g[0]+4);if(12>v||4294967286<v){y=3;break e}if(m&&v>b[0]-8){y=7;break e}y[0]=v,g[0]+=12,b[0]-=12}y=0}if(0!=y)return y;for(v=0<f.gb[0],a=a[0];;){e:{var j=e;b=r,y=a;var N=u,k=h,S=g=[0];if((A=p=[p])[0]=0,8>y[0])y=7;else{if(!n(j,b[0],"VP8X")){if(10!=M(j,b[0]+4)){y=3;break e}if(18>y[0]){y=7;break e}var C=M(j,b[0]+8),_=1+E(j,b[0]+12);if(2147483648<=_*(j=1+E(j,b[0]+15))){y=3;break e}null!=S&&(S[0]=C),null!=N&&(N[0]=_),null!=k&&(k[0]=j),b[0]+=18,y[0]-=18,A[0]=1}y=0}}if(p=p[0],g=g[0],0!=y)return y;if(b=!!(2&g),!v&&p)return 3;if(null!=o&&(o[0]=!!(16&g)),null!=l&&(l[0]=b),null!=c&&(c[0]=0),l=u[0],g=h[0],p&&b&&null==d){y=0;break}if(4>a){y=7;break}if(v&&p||!v&&!p&&!n(e,r[0],"ALPH")){a=[a],f.na=[f.na],f.P=[f.P],f.Sa=[f.Sa];e:{C=e,y=r,v=a;var A=f.gb;N=f.na,k=f.P,S=f.Sa,_=22,t(null!=C),t(null!=v),j=y[0];var T=v[0];for(t(null!=N),t(null!=S),N[0]=null,k[0]=null,S[0]=0;;){if(y[0]=j,v[0]=T,8>T){y=7;break e}var O=M(C,j+4);if(4294967286<O){y=3;break e}var P=8+O+1&-2;if(_+=P,0<A&&_>A){y=3;break e}if(!n(C,j,"VP8 ")||!n(C,j,"VP8L")){y=0;break e}if(T[0]<P){y=7;break e}n(C,j,"ALPH")||(N[0]=C,k[0]=j+8,S[0]=O),j+=P,T-=P}}if(a=a[0],f.na=f.na[0],f.P=f.P[0],f.Sa=f.Sa[0],0!=y)break}a=[a],f.Ja=[f.Ja],f.xa=[f.xa];e:if(A=e,y=r,v=a,N=f.gb[0],k=f.Ja,S=f.xa,C=y[0],j=!n(A,C,"VP8 "),_=!n(A,C,"VP8L"),t(null!=A),t(null!=v),t(null!=k),t(null!=S),8>v[0])y=7;else{if(j||_){if(A=M(A,C+4),12<=N&&A>N-12){y=3;break e}if(m&&A>v[0]-8){y=7;break e}k[0]=A,y[0]+=8,v[0]-=8,S[0]=_}else S[0]=5<=v[0]&&47==A[C+0]&&!(A[C+4]>>5),k[0]=v[0];y=0}if(a=a[0],f.Ja=f.Ja[0],f.xa=f.xa[0],r=r[0],0!=y)break;if(4294967286<f.Ja)return 3;if(null==c||b||(c[0]=f.xa?2:1),l=[l],g=[g],f.xa){if(5>a){y=7;break}c=l,m=g,b=o,null==e||5>a?e=0:5<=a&&47==e[r+0]&&!(e[r+4]>>5)?(v=[0],A=[0],N=[0],x(k=new w,e,r,a),fe(k,v,A,N)?(null!=c&&(c[0]=v[0]),null!=m&&(m[0]=A[0]),null!=b&&(b[0]=N[0]),e=1):e=0):e=0}else{if(10>a){y=7;break}c=g,null==e||10>a||!Ke(e,r+3,a-3)?e=0:(m=e[r+0]|e[r+1]<<8|e[r+2]<<16,b=16383&(e[r+7]<<8|e[r+6]),e=16383&(e[r+9]<<8|e[r+8]),1&m||3<(m>>1&7)||!(m>>4&1)||m>>5>=f.Ja||!b||!e?e=0:(l&&(l[0]=b),c&&(c[0]=e),e=1))}if(!e)return 3;if(l=l[0],g=g[0],p&&(u[0]!=l||h[0]!=g))return 3;null!=d&&(d[0]=f,d.offset=r-d.w,t(4294967286>r-d.w),t(d.offset==d.ha-a));break}return 0==y||7==y&&p&&null==d?(null!=o&&(o[0]|=null!=f.na&&0<f.na.length),null!=i&&(i[0]=l),null!=s&&(s[0]=g),0):y}function Ln(e,t,n){var r=t.width,a=t.height,i=0,s=0,o=r,l=a;if(t.Da=null!=e&&0<e.Da,t.Da&&(o=e.cd,l=e.bd,i=e.v,s=e.j,11>n||(i&=-2,s&=-2),0>i||0>s||0>=o||0>=l||i+o>r||s+l>a))return 0;if(t.v=i,t.j=s,t.va=i+o,t.o=s+l,t.U=o,t.T=l,t.da=null!=e&&0<e.da,t.da){if(!I(o,l,n=[e.ib],i=[e.hb]))return 0;t.ib=n[0],t.hb=i[0]}return t.ob=null!=e&&e.ob,t.Kb=null==e||!e.Sd,t.da&&(t.ob=t.ib<3*r/4&&t.hb<3*a/4,t.Kb=0),1}function In(e){if(null==e)return 2;if(11>e.S){var t=e.f.RGBA;t.fb+=(e.height-1)*t.A,t.A=-t.A}else t=e.f.kb,e=e.height,t.O+=(e-1)*t.fa,t.fa=-t.fa,t.N+=(e-1>>1)*t.Ab,t.Ab=-t.Ab,t.W+=(e-1>>1)*t.Db,t.Db=-t.Db,null!=t.F&&(t.J+=(e-1)*t.lb,t.lb=-t.lb);return 0}function Rn(e,t,n,r){if(null==r||0>=e||0>=t)return 2;if(null!=n){if(n.Da){var a=n.cd,s=n.bd,o=-2&n.v,l=-2&n.j;if(0>o||0>l||0>=a||0>=s||o+a>e||l+s>t)return 2;e=a,t=s}if(n.da){if(!I(e,t,a=[n.ib],s=[n.hb]))return 2;e=a[0],t=s[0]}}r.width=e,r.height=t;e:{var c=r.width,d=r.height;if(e=r.S,0>=c||0>=d||!(e>=Lr&&13>e))e=2;else{if(0>=r.Rd&&null==r.sd){o=s=a=t=0;var u=(l=c*Ha[e])*d;if(11>e||(s=(d+1)/2*(t=(c+1)/2),12==e&&(o=(a=c)*d)),null==(d=i(u+2*s+o))){e=1;break e}r.sd=d,11>e?((c=r.f.RGBA).eb=d,c.fb=0,c.A=l,c.size=u):((c=r.f.kb).y=d,c.O=0,c.fa=l,c.Fd=u,c.f=d,c.N=0+u,c.Ab=t,c.Cd=s,c.ea=d,c.W=0+u+s,c.Db=t,c.Ed=s,12==e&&(c.F=d,c.J=0+u+2*s),c.Tc=o,c.lb=a)}if(t=1,a=r.S,s=r.width,o=r.height,a>=Lr&&13>a)if(11>a)e=r.f.RGBA,t&=(l=Math.abs(e.A))*(o-1)+s<=e.size,t&=l>=s*Ha[a],t&=null!=e.eb;else{e=r.f.kb,l=(s+1)/2,u=(o+1)/2,c=Math.abs(e.fa),d=Math.abs(e.Ab);var h=Math.abs(e.Db),p=Math.abs(e.lb),m=p*(o-1)+s;t&=c*(o-1)+s<=e.Fd,t&=d*(u-1)+l<=e.Cd,t=(t&=h*(u-1)+l<=e.Ed)&c>=s&d>=l&h>=l,t&=null!=e.y,t&=null!=e.f,t&=null!=e.ea,12==a&&(t&=p>=s,t&=m<=e.Tc,t&=null!=e.F)}else t=0;e=t?0:2}}return 0!=e||null!=n&&n.fd&&(e=In(r)),e}var Fn=64,Hn=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],zn=24,Bn=32,Wn=8,$n=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];H("Predictor0","PredictorAdd0"),e.Predictor0=function(){return 4278190080},e.Predictor1=function(e){return e},e.Predictor2=function(e,t,n){return t[n+0]},e.Predictor3=function(e,t,n){return t[n+1]},e.Predictor4=function(e,t,n){return t[n-1]},e.Predictor5=function(e,t,n){return B(B(e,t[n+1]),t[n+0])},e.Predictor6=function(e,t,n){return B(e,t[n-1])},e.Predictor7=function(e,t,n){return B(e,t[n+0])},e.Predictor8=function(e,t,n){return B(t[n-1],t[n+0])},e.Predictor9=function(e,t,n){return B(t[n+0],t[n+1])},e.Predictor10=function(e,t,n){return B(B(e,t[n-1]),B(t[n+0],t[n+1]))},e.Predictor11=function(e,t,n){var r=t[n+0];return 0>=U(r>>24&255,e>>24&255,(t=t[n-1])>>24&255)+U(r>>16&255,e>>16&255,t>>16&255)+U(r>>8&255,e>>8&255,t>>8&255)+U(255&r,255&e,255&t)?r:e},e.Predictor12=function(e,t,n){var r=t[n+0];return(W((e>>24&255)+(r>>24&255)-((t=t[n-1])>>24&255))<<24|W((e>>16&255)+(r>>16&255)-(t>>16&255))<<16|W((e>>8&255)+(r>>8&255)-(t>>8&255))<<8|W((255&e)+(255&r)-(255&t)))>>>0},e.Predictor13=function(e,t,n){var r=t[n-1];return($((e=B(e,t[n+0]))>>24&255,r>>24&255)<<24|$(e>>16&255,r>>16&255)<<16|$(e>>8&255,r>>8&255)<<8|$(255&e,255&r))>>>0};var Un=e.PredictorAdd0;e.PredictorAdd1=V,H("Predictor2","PredictorAdd2"),H("Predictor3","PredictorAdd3"),H("Predictor4","PredictorAdd4"),H("Predictor5","PredictorAdd5"),H("Predictor6","PredictorAdd6"),H("Predictor7","PredictorAdd7"),H("Predictor8","PredictorAdd8"),H("Predictor9","PredictorAdd9"),H("Predictor10","PredictorAdd10"),H("Predictor11","PredictorAdd11"),H("Predictor12","PredictorAdd12"),H("Predictor13","PredictorAdd13");var Vn=e.PredictorAdd2;K("ColorIndexInverseTransform","MapARGB","32b",function(e){return e>>8&255},function(e){return e}),K("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(e){return e},function(e){return e>>8&255});var qn,Gn=e.ColorIndexInverseTransform,Yn=e.MapARGB,Kn=e.VP8LColorIndexInverseTransformAlpha,Jn=e.MapAlpha,Xn=e.VP8LPredictorsAdd=[];Xn.length=16,(e.VP8LPredictors=[]).length=16,(e.VP8LPredictorsAdd_C=[]).length=16,(e.VP8LPredictors_C=[]).length=16;var Qn,Zn,er,tr,nr,rr,ar,ir,sr,or,lr,cr,dr,ur,hr,pr,mr,fr,gr,xr,br,yr,vr,wr,jr,Nr,kr,Sr,Cr=i(511),_r=i(2041),Ar=i(225),Tr=i(767),Or=0,Er=_r,Mr=Ar,Pr=Tr,Dr=Cr,Lr=0,Ir=1,Rr=2,Fr=3,Hr=4,zr=5,Br=6,Wr=7,$r=8,Ur=9,Vr=10,qr=[2,3,7],Gr=[3,3,11],Yr=[280,256,256,256,40],Kr=[0,1,1,1,0],Jr=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Xr=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Qr=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Zr=8,ea=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],ta=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],na=null,ra=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],aa=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],ia=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],sa=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],oa=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],la=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],ca=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],da=[],ua=[],ha=[],pa=1,ma=2,fa=[],ga=[];xn("UpsampleRgbLinePair",Nn,3),xn("UpsampleBgrLinePair",kn,3),xn("UpsampleRgbaLinePair",Tn,4),xn("UpsampleBgraLinePair",An,4),xn("UpsampleArgbLinePair",_n,4),xn("UpsampleRgba4444LinePair",Cn,2),xn("UpsampleRgb565LinePair",Sn,2);var xa=e.UpsampleRgbLinePair,ba=e.UpsampleBgrLinePair,ya=e.UpsampleRgbaLinePair,va=e.UpsampleBgraLinePair,wa=e.UpsampleArgbLinePair,ja=e.UpsampleRgba4444LinePair,Na=e.UpsampleRgb565LinePair,ka=16,Sa=1<<ka-1,Ca=-227,_a=482,Aa=6,Ta=0,Oa=i(256),Ea=i(256),Ma=i(256),Pa=i(256),Da=i(_a-Ca),La=i(_a-Ca);On("YuvToRgbRow",Nn,3),On("YuvToBgrRow",kn,3),On("YuvToRgbaRow",Tn,4),On("YuvToBgraRow",An,4),On("YuvToArgbRow",_n,4),On("YuvToRgba4444Row",Cn,2),On("YuvToRgb565Row",Sn,2);var Ia=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Ra=[0,2,8],Fa=[8,7,6,4,4,2,2,2,1,1,1,1];this.WebPDecodeRGBA=function(e,n,o,l,c){var d=Ir,u=new tn,h=new se;u.ba=h,h.S=d,h.width=[h.width],h.height=[h.height];var p=h.width,m=h.height,f=new oe;if(null==f||null==e)var g=2;else t(null!=f),g=Dn(e,n,o,f.width,f.height,f.Pd,f.Qd,f.format,null);if(0!=g?p=0:(null!=p&&(p[0]=f.width[0]),null!=m&&(m[0]=f.height[0]),p=1),p){h.width=h.width[0],h.height=h.height[0],null!=l&&(l[0]=h.width),null!=c&&(c[0]=h.height);e:{if(l=new qe,(c=new nn).data=e,c.w=n,c.ha=o,c.kd=1,n=[0],t(null!=c),(0==(e=Dn(c.data,c.w,c.ha,null,null,null,n,null,c))||7==e)&&n[0]&&(e=4),0==(n=e)){if(t(null!=u),l.data=c.data,l.w=c.w+c.offset,l.ha=c.ha-c.offset,l.put=pe,l.ac=he,l.bc=me,l.ma=u,c.xa){if(null==(e=Ae())){u=1;break e}if(function(e,n){var r=[0],a=[0],i=[0];t:for(;;){if(null==e)return 0;if(null==n)return e.a=2,0;if(e.l=n,e.a=0,x(e.m,n.data,n.w,n.ha),!fe(e.m,r,a,i)){e.a=3;break t}if(e.xb=ma,n.width=r[0],n.height=a[0],!Te(r[0],a[0],1,e,null))break t;return 1}return t(0!=e.a),0}(e,l)){if(l=0==(n=Rn(l.width,l.height,u.Oa,u.ba))){t:{l=e;n:for(;;){if(null==l){l=0;break t}if(t(null!=l.s.yc),t(null!=l.s.Ya),t(0<l.s.Wb),t(null!=(o=l.l)),t(null!=(c=o.ma)),0!=l.xb){if(l.ca=c.ba,l.tb=c.tb,t(null!=l.ca),!Ln(c.Oa,o,Fr)){l.a=2;break n}if(!Oe(l,o.width))break n;if(o.da)break n;if((o.da||re(l.ca.S))&&gn(),11>l.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),null!=l.ca.f.kb.F&&gn()),l.Pb&&0<l.s.ua&&null==l.s.vb.X&&!P(l.s.vb,l.s.Wa.Xa)){l.a=1;break n}l.xb=0}if(!Ce(l,l.V,l.Ba,l.c,l.i,o.o,je))break n;c.Dc=l.Ma,l=1;break t}t(0!=l.a),l=0}l=!l}l&&(n=e.a)}else n=e.a}else{if(null==(e=new Ge)){u=1;break e}if(e.Fa=c.na,e.P=c.P,e.qc=c.Sa,Je(e,l)){if(0==(n=Rn(l.width,l.height,u.Oa,u.ba))){if(e.Aa=0,o=u.Oa,t(null!=(c=e)),null!=o){if(0<(p=0>(p=o.Md)?0:100<p?255:255*p/100)){for(m=f=0;4>m;++m)12>(g=c.pb[m]).lc&&(g.ia=p*Fa[0>g.lc?0:g.lc]>>3),f|=g.ia;f&&(alert("todo:VP8InitRandom"),c.ia=1)}c.Ga=o.Id,100<c.Ga?c.Ga=100:0>c.Ga&&(c.Ga=0)}(function(e,n){if(null==e)return 0;if(null==n)return Ye(e,2,"NULL VP8Io parameter in VP8Decode().");if(!e.cb&&!Je(e,n))return 0;if(t(e.cb),null==n.ac||n.ac(n)){n.ob&&(e.L=0);var o=Ra[e.L];if(2==e.L?(e.yb=0,e.zb=0):(e.yb=n.v-o>>4,e.zb=n.j-o>>4,0>e.yb&&(e.yb=0),0>e.zb&&(e.zb=0)),e.Va=n.o+15+o>>4,e.Hb=n.va+15+o>>4,e.Hb>e.za&&(e.Hb=e.za),e.Va>e.Ub&&(e.Va=e.Ub),0<e.L){var l=e.ed;for(o=0;4>o;++o){var c;if(e.Qa.Cb){var d=e.Qa.Lb[o];e.Qa.Fb||(d+=l.Tb)}else d=l.Tb;for(c=0;1>=c;++c){var u=e.gd[o][c],h=d;if(l.Pc&&(h+=l.vd[0],c&&(h+=l.od[0])),0<(h=0>h?0:63<h?63:h)){var p=h;0<l.wb&&(p=4<l.wb?p>>2:p>>1)>9-l.wb&&(p=9-l.wb),1>p&&(p=1),u.dd=p,u.tc=2*h+p,u.ld=40<=h?2:15<=h?1:0}else u.tc=0;u.La=c}}}o=0}else Ye(e,6,"Frame setup failed"),o=e.a;if(o=0==o){if(o){e.$c=0,0<e.Aa||(e.Ic=1);t:{o=e.Ic,l=4*(p=e.za);var m=32*p,f=p+1,g=0<e.L?p*(0<e.Aa?2:1):0,x=(2==e.Aa?2:1)*p;if((u=l+832+(c=3*(16*o+Ra[e.L])/2*m)+(d=null!=e.Fa&&0<e.Fa.length?e.Kc.c*e.Kc.i:0))!=u)o=0;else{if(u>e.Vb){if(e.Vb=0,e.Ec=i(u),e.Fc=0,null==e.Ec){o=Ye(e,1,"no memory during frame initialization.");break t}e.Vb=u}u=e.Ec,h=e.Fc,e.Ac=u,e.Bc=h,h+=l,e.Gd=s(m,$e),e.Hd=0,e.rb=s(f+1,He),e.sb=1,e.wa=g?s(g,Fe):null,e.Y=0,e.D.Nb=0,e.D.wa=e.wa,e.D.Y=e.Y,0<e.Aa&&(e.D.Y+=p),t(!0),e.oc=u,e.pc=h,h+=832,e.ya=s(x,Be),e.aa=0,e.D.ya=e.ya,e.D.aa=e.aa,2==e.Aa&&(e.D.aa+=p),e.R=16*p,e.B=8*p,p=(m=Ra[e.L])*e.R,m=m/2*e.B,e.sa=u,e.ta=h+p,e.qa=e.sa,e.ra=e.ta+16*o*e.R+m,e.Ha=e.qa,e.Ia=e.ra+8*o*e.B+m,e.$c=0,h+=c,e.mb=d?u:null,e.nb=d?h:null,t(h+d<=e.Fc+e.Vb),Qe(e),a(e.Ac,e.Bc,0,l),o=1}}if(o){if(n.ka=0,n.y=e.sa,n.O=e.ta,n.f=e.qa,n.N=e.ra,n.ea=e.Ha,n.Vd=e.Ia,n.fa=e.R,n.Rc=e.B,n.F=null,n.J=0,!Or){for(o=-255;255>=o;++o)Cr[255+o]=0>o?-o:o;for(o=-1020;1020>=o;++o)_r[1020+o]=-128>o?-128:127<o?127:o;for(o=-112;112>=o;++o)Ar[112+o]=-16>o?-16:15<o?15:o;for(o=-255;510>=o;++o)Tr[255+o]=0>o?0:255<o?255:o;Or=1}ar=lt,ir=at,or=it,lr=st,cr=ot,sr=rt,dr=Gt,ur=Yt,hr=Xt,pr=Qt,mr=Kt,fr=Jt,gr=Zt,xr=en,br=Bt,yr=Wt,vr=$t,wr=Ut,ua[0]=Nt,ua[1]=dt,ua[2]=wt,ua[3]=jt,ua[4]=kt,ua[5]=Ct,ua[6]=St,ua[7]=_t,ua[8]=Tt,ua[9]=At,da[0]=gt,da[1]=ht,da[2]=pt,da[3]=mt,da[4]=xt,da[5]=bt,da[6]=yt,ha[0]=Pt,ha[1]=ut,ha[2]=Ot,ha[3]=Et,ha[4]=Lt,ha[5]=Dt,ha[6]=It,o=1}else o=0}o&&(o=function(e,n){for(e.M=0;e.M<e.Va;++e.M){var s,o=e.Jc[e.M&e.Xb],l=e.m,c=e;for(s=0;s<c.za;++s){var d=l,u=c,h=u.Ac,p=u.Bc+4*s,m=u.zc,f=u.ya[u.aa+s];if(u.Qa.Bb?f.$b=A(d,u.Pa.jb[0])?2+A(d,u.Pa.jb[2]):A(d,u.Pa.jb[1]):f.$b=0,u.kc&&(f.Ad=A(d,u.Bd)),f.Za=!A(d,145)+0,f.Za){var g=f.Ob,x=0;for(u=0;4>u;++u){var b,y=m[0+u];for(b=0;4>b;++b){y=oa[h[p+b]][y];for(var v=ia[A(d,y[0])];0<v;)v=ia[2*v+A(d,y[v])];y=-v,h[p+b]=y}r(g,x,h,p,4),x+=4,m[0+u]=y}}else y=A(d,156)?A(d,128)?1:3:A(d,163)?2:0,f.Ob[0]=y,a(h,p,y,4),a(m,0,y,4);f.Dd=A(d,142)?A(d,114)?A(d,183)?1:3:2:0}if(c.m.Ka)return Ye(e,7,"Premature end-of-partition0 encountered.");for(;e.ja<e.za;++e.ja){if(c=o,d=(l=e).rb[l.sb-1],h=l.rb[l.sb+l.ja],s=l.ya[l.aa+l.ja],p=l.kc?s.Ad:0)d.la=h.la=0,s.Za||(d.Na=h.Na=0),s.Hc=0,s.Gc=0,s.ia=0;else{var w,j;if(d=h,h=c,p=l.Pa.Xc,m=l.ya[l.aa+l.ja],f=l.pb[m.$b],u=m.ad,g=0,x=l.rb[l.sb-1],y=b=0,a(u,g,0,384),m.Za)var N=0,k=p[3];else{v=i(16);var S=d.Na+x.Na;if(S=na(h,p[1],S,f.Eb,0,v,0),d.Na=x.Na=(0<S)+0,1<S)ar(v,0,u,g);else{var C=v[0]+3>>3;for(v=0;256>v;v+=16)u[g+v]=C}N=1,k=p[0]}var _=15&d.la,T=15&x.la;for(v=0;4>v;++v){var O=1&T;for(C=j=0;4>C;++C)_=_>>1|(O=(S=na(h,k,S=O+(1&_),f.Sc,N,u,g))>N)<<7,j=j<<2|(3<S?3:1<S?2:0!=u[g+0]),g+=16;_>>=4,T=T>>1|O<<7,b=(b<<8|j)>>>0}for(k=_,N=T>>4,w=0;4>w;w+=2){for(j=0,_=d.la>>4+w,T=x.la>>4+w,v=0;2>v;++v){for(O=1&T,C=0;2>C;++C)S=O+(1&_),_=_>>1|(O=0<(S=na(h,p[2],S,f.Qc,0,u,g)))<<3,j=j<<2|(3<S?3:1<S?2:0!=u[g+0]),g+=16;_>>=2,T=T>>1|O<<5}y|=j<<4*w,k|=_<<4<<w,N|=(240&T)<<w}d.la=k,x.la=N,m.Hc=b,m.Gc=y,m.ia=43690&y?0:f.ia,p=!(b|y)}if(0<l.L&&(l.wa[l.Y+l.ja]=l.gd[s.$b][s.Za],l.wa[l.Y+l.ja].La|=!p),c.Ka)return Ye(e,7,"Premature end-of-file encountered.")}if(Qe(e),l=n,c=1,s=(o=e).D,d=0<o.L&&o.M>=o.zb&&o.M<=o.Va,0==o.Aa)t:{if(s.M=o.M,s.uc=d,Pn(o,s),c=1,s=(j=o.D).Nb,d=(y=Ra[o.L])*o.R,h=y/2*o.B,v=16*s*o.R,C=8*s*o.B,p=o.sa,m=o.ta-d+v,f=o.qa,u=o.ra-h+C,g=o.Ha,x=o.Ia-h+C,T=0==(_=j.M),b=_>=o.Va-1,2==o.Aa&&Pn(o,j),j.uc)for(O=(S=o).D.M,t(S.D.uc),j=S.yb;j<S.Hb;++j){N=j,k=O;var E=(M=(B=S).D).Nb;w=B.R;var M=M.wa[M.Y+N],P=B.sa,D=B.ta+16*E*w+16*N,L=M.dd,I=M.tc;if(0!=I)if(t(3<=I),1==B.L)0<N&&yr(P,D,w,I+4),M.La&&wr(P,D,w,I),0<k&&br(P,D,w,I+4),M.La&&vr(P,D,w,I);else{var R=B.B,F=B.qa,H=B.ra+8*E*R+8*N,z=B.Ha,B=B.Ia+8*E*R+8*N;E=M.ld,0<N&&(ur(P,D,w,I+4,L,E),pr(F,H,z,B,R,I+4,L,E)),M.La&&(fr(P,D,w,I,L,E),xr(F,H,z,B,R,I,L,E)),0<k&&(dr(P,D,w,I+4,L,E),hr(F,H,z,B,R,I+4,L,E)),M.La&&(mr(P,D,w,I,L,E),gr(F,H,z,B,R,I,L,E))}}if(o.ia&&alert("todo:DitherRow"),null!=l.put){if(j=16*_,_=16*(_+1),T?(l.y=o.sa,l.O=o.ta+v,l.f=o.qa,l.N=o.ra+C,l.ea=o.Ha,l.W=o.Ia+C):(j-=y,l.y=p,l.O=m,l.f=f,l.N=u,l.ea=g,l.W=x),b||(_-=y),_>l.o&&(_=l.o),l.F=null,l.J=null,null!=o.Fa&&0<o.Fa.length&&j<_&&(l.J=un(o,l,j,_-j),l.F=o.mb,null==l.F&&0==l.F.length)){c=Ye(o,3,"Could not decode alpha data.");break t}j<l.j&&(y=l.j-j,j=l.j,t(!(1&y)),l.O+=o.R*y,l.N+=o.B*(y>>1),l.W+=o.B*(y>>1),null!=l.F&&(l.J+=l.width*y)),j<_&&(l.O+=l.v,l.N+=l.v>>1,l.W+=l.v>>1,null!=l.F&&(l.J+=l.v),l.ka=j-l.j,l.U=l.va-l.v,l.T=_-j,c=l.put(l))}s+1!=o.Ic||b||(r(o.sa,o.ta-d,p,m+16*o.R,d),r(o.qa,o.ra-h,f,u+8*o.B,h),r(o.Ha,o.Ia-h,g,x+8*o.B,h))}if(!c)return Ye(e,6,"Output aborted.")}return 1}(e,n)),null!=n.bc&&n.bc(n),o&=1}return o?(e.cb=0,o):0})(e,l)||(n=e.a)}}else n=e.a}0==n&&null!=u.Oa&&u.Oa.fd&&(n=In(u.ba))}u=n}d=0!=u?null:11>d?h.f.RGBA.eb:h.f.kb.y}else d=null;return d};var Ha=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(e,t){for(var n="",r=0;r<4;r++)n+=String.fromCharCode(e[t++]);return n}function d(e,t){return e[t+0]|e[t+1]<<8}function u(e,t){return(e[t+0]|e[t+1]<<8|e[t+2]<<16)>>>0}function h(e,t){return(e[t+0]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}new l;var p=[0],m=[0],f=[],g=new l,x=e,b=function(e,t){var n={},r=0,a=!1,i=0,s=0;if(n.frames=[],!function(e,t){for(var n=0;n<4;n++)if(e[t+n]!="RIFF".charCodeAt(n))return!0;return!1}(e,t)){for(h(e,t+=4),t+=8;t<e.length;){var o=c(e,t),l=h(e,t+=4);t+=4;var p=l+(1&l);switch(o){case"VP8 ":case"VP8L":void 0===n.frames[r]&&(n.frames[r]={}),(g=n.frames[r]).src_off=a?s:t-8,g.src_size=i+l+8,r++,a&&(a=!1,i=0,s=0);break;case"VP8X":(g=n.header={}).feature_flags=e[t];var m=t+4;g.canvas_width=1+u(e,m),m+=3,g.canvas_height=1+u(e,m),m+=3;break;case"ALPH":a=!0,i=p+8,s=t-8;break;case"ANIM":(g=n.header).bgcolor=h(e,t),m=t+4,g.loop_count=d(e,m),m+=2;break;case"ANMF":var f,g;(g=n.frames[r]={}).offset_x=2*u(e,t),t+=3,g.offset_y=2*u(e,t),t+=3,g.width=1+u(e,t),t+=3,g.height=1+u(e,t),t+=3,g.duration=u(e,t),t+=3,f=e[t++],g.dispose=1&f,g.blend=f>>1&1}"ANMF"!=o&&(t+=p)}return n}}(x,0);b.response=x,b.rgbaoutput=!0,b.dataurl=!1;var y=b.header?b.header:null,v=b.frames?b.frames:null;if(y){y.loop_counter=y.loop_count,p=[y.canvas_height],m=[y.canvas_width];for(var w=0;w<v.length&&0!=v[w].blend;w++);}var j=v[0],N=g.WebPDecodeRGBA(x,j.src_off,j.src_size,m,p);j.rgba=N,j.imgwidth=m[0],j.imgheight=p[0];for(var k=0;k<m[0]*p[0]*4;k++)f[k]=N[k];return this.width=m,this.height=p,this.data=f,this}!function(e){var t,n,r,a,i,s,o,l,c,d=function(e){return e=e||{},this.isStrokeTransparent=e.isStrokeTransparent||!1,this.strokeOpacity=e.strokeOpacity||1,this.strokeStyle=e.strokeStyle||"#000000",this.fillStyle=e.fillStyle||"#000000",this.isFillTransparent=e.isFillTransparent||!1,this.fillOpacity=e.fillOpacity||1,this.font=e.font||"10px sans-serif",this.textBaseline=e.textBaseline||"alphabetic",this.textAlign=e.textAlign||"left",this.lineWidth=e.lineWidth||1,this.lineJoin=e.lineJoin||"miter",this.lineCap=e.lineCap||"butt",this.path=e.path||[],this.transform=void 0!==e.transform?e.transform.clone():new l,this.globalCompositeOperation=e.globalCompositeOperation||"normal",this.globalAlpha=e.globalAlpha||1,this.clip_path=e.clip_path||[],this.currentPoint=e.currentPoint||new s,this.miterLimit=e.miterLimit||10,this.lastPoint=e.lastPoint||new s,this.lineDashOffset=e.lineDashOffset||0,this.lineDash=e.lineDash||[],this.margin=e.margin||[0,0,0,0],this.prevPageLastElemOffset=e.prevPageLastElemOffset||0,this.ignoreClearRect="boolean"!=typeof e.ignoreClearRect||e.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new u(this),t=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,s=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,c=new d}]);var u=function(e){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var t=e;Object.defineProperty(this,"pdf",{get:function(){return t}});var n=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return n},set:function(e){n=Boolean(e)}});var r=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return r},set:function(e){r=Boolean(e)}});var a=0;Object.defineProperty(this,"posX",{get:function(){return a},set:function(e){isNaN(e)||(a=e)}});var i=0;Object.defineProperty(this,"posY",{get:function(){return i},set:function(e){isNaN(e)||(i=e)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(e){var t;"number"==typeof e?t=[e,e,e,e]:((t=new Array(4))[0]=e[0],t[1]=e.length>=2?e[1]:t[0],t[2]=e.length>=3?e[2]:t[0],t[3]=e.length>=4?e[3]:t[1]),c.margin=t}});var s=!1;Object.defineProperty(this,"autoPaging",{get:function(){return s},set:function(e){s=e}});var o=0;Object.defineProperty(this,"lastBreak",{get:function(){return o},set:function(e){o=e}});var l=[];Object.defineProperty(this,"pageBreaks",{get:function(){return l},set:function(e){l=e}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(e){e instanceof d&&(c=e)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(e){c.path=e}});var u=[];Object.defineProperty(this,"ctxStack",{get:function(){return u},set:function(e){u=e}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(e){var t;t=h(e),this.ctx.fillStyle=t.style,this.ctx.isFillTransparent=0===t.a,this.ctx.fillOpacity=t.a,this.pdf.setFillColor(t.r,t.g,t.b,{a:t.a}),this.pdf.setTextColor(t.r,t.g,t.b,{a:t.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(e){var t=h(e);this.ctx.strokeStyle=t.style,this.ctx.isStrokeTransparent=0===t.a,this.ctx.strokeOpacity=t.a,0===t.a?this.pdf.setDrawColor(255,255,255):(t.a,this.pdf.setDrawColor(t.r,t.g,t.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(e){-1!==["butt","round","square"].indexOf(e)&&(this.ctx.lineCap=e,this.pdf.setLineCap(e))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(e){isNaN(e)||(this.ctx.lineWidth=e,this.pdf.setLineWidth(e))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(e){-1!==["bevel","round","miter"].indexOf(e)&&(this.ctx.lineJoin=e,this.pdf.setLineJoin(e))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(e){isNaN(e)||(this.ctx.miterLimit=e,this.pdf.setMiterLimit(e))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(e){this.ctx.textBaseline=e}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(e){-1!==["right","end","center","left","start"].indexOf(e)&&(this.ctx.textAlign=e)}});var p=null,m=null;Object.defineProperty(this,"fontFaces",{get:function(){return m},set:function(e){p=null,m=e}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(e){var t;if(this.ctx.font=e,null!==(t=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(e))){var n=t[1];t[2];var r=t[3],a=t[4];t[5];var i=t[6],s=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(a)[2];a="px"===s?Math.floor(parseFloat(a)*this.pdf.internal.scaleFactor):"em"===s?Math.floor(parseFloat(a)*this.pdf.getFontSize()):Math.floor(parseFloat(a)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(a);var o=function(e){var t,n,r=[],a=e.trim();if(""===a)return mse;if(a in tse)return[tse[a]];for(;""!==a;){switch(n=null,t=(a=rse(a)).charAt(0)){case'"':case"'":n=ase(a.substring(1),t);break;default:n=ise(a)}if(null===n)return mse;if(r.push(n[0]),""!==(a=rse(n[1]))&&","!==a.charAt(0))return mse;a=a.replace(/^,/,"")}return r}(i);if(this.fontFaces){var l=function(e,t,n){for(var r=(n=n||{}).defaultFontFamily||"times",a=Object.assign({},ese,n.genericFontFamilies||{}),i=null,s=null,o=0;o<t.length;++o)if(a[(i=Qie(t[o])).family]&&(i.family=a[i.family]),e.hasOwnProperty(i.family)){s=e[i.family];break}if(!(s=s||e[r]))throw new Error("Could not find a font-family for the rule '"+nse(i)+"' and default family '"+r+"'.");if(s=function(e,t){if(t[e])return t[e];var n=Kie[e],r=n<=Kie.normal?-1:1,a=Zie(t,Yie,n,r);if(!a)throw new Error("Could not find a matching font-stretch value for "+e);return a}(i.stretch,s),s=function(e,t){if(t[e])return t[e];for(var n=Gie[e],r=0;r<n.length;++r)if(t[n[r]])return t[n[r]];throw new Error("Could not find a matching font-style for "+e)}(i.style,s),!(s=function(e,t){if(t[e])return t[e];if(400===e&&t[500])return t[500];if(500===e&&t[400])return t[400];var n=Xie[e],r=Zie(t,Jie,n,e<400?-1:1);if(!r)throw new Error("Could not find a matching font-weight for value "+e);return r}(i.weight,s)))throw new Error("Failed to resolve a font for the rule '"+nse(i)+"'.");return s}(function(e,t){if(null===p){var n=(r=e.getFontList(),a=[],Object.keys(r).forEach(function(e){r[e].forEach(function(t){var n=null;switch(t){case"bold":n={family:e,weight:"bold"};break;case"italic":n={family:e,style:"italic"};break;case"bolditalic":n={family:e,weight:"bold",style:"italic"};break;case"":case"normal":n={family:e}}null!==n&&(n.ref={name:e,style:t},a.push(n))})}),a);p=function(e){for(var t={},n=0;n<e.length;++n){var r=Qie(e[n]),a=r.family,i=r.stretch,s=r.style,o=r.weight;t[a]=t[a]||{},t[a][i]=t[a][i]||{},t[a][i][s]=t[a][i][s]||{},t[a][i][s][o]=r}return t}(n.concat(t))}var r,a;return p}(this.pdf,this.fontFaces),o.map(function(e){return{family:e,stretch:"normal",weight:r,style:n}}));this.pdf.setFont(l.ref.name,l.ref.style)}else{var c="";("bold"===r||parseInt(r,10)>=700||"bold"===n)&&(c="bold"),"italic"===n&&(c+="italic"),0===c.length&&(c="normal");for(var d="",u={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},h=0;h<o.length;h++){if(void 0!==this.pdf.internal.getFont(o[h],c,{noFallback:!0,disableWarning:!0})){d=o[h];break}if("bolditalic"===c&&void 0!==this.pdf.internal.getFont(o[h],"bold",{noFallback:!0,disableWarning:!0}))d=o[h],c="bold";else if(void 0!==this.pdf.internal.getFont(o[h],"normal",{noFallback:!0,disableWarning:!0})){d=o[h],c="normal";break}}if(""===d)for(var m=0;m<o.length;m++)if(u[o[m]]){d=u[o[m]];break}d=""===d?"Times":d,this.pdf.setFont(d,c)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(e){this.ctx.globalCompositeOperation=e}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(e){this.ctx.globalAlpha=e}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(e){this.ctx.lineDashOffset=e,R.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(e){this.ctx.lineDash=e,R.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(e){this.ctx.ignoreClearRect=Boolean(e)}})};u.prototype.setLineDash=function(e){this.lineDash=e},u.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},u.prototype.fill=function(){v.call(this,"fill",!1)},u.prototype.stroke=function(){v.call(this,"stroke",!1)},u.prototype.beginPath=function(){this.path=[{type:"begin"}]},u.prototype.moveTo=function(e,t){if(isNaN(e)||isNaN(t))throw Aae.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var n=this.ctx.transform.applyToPoint(new s(e,t));this.path.push({type:"mt",x:n.x,y:n.y}),this.ctx.lastPoint=new s(e,t)},u.prototype.closePath=function(){var e=new s(0,0),t=0;for(t=this.path.length-1;-1!==t;t--)if("begin"===this.path[t].type&&"object"===py(this.path[t+1])&&"number"==typeof this.path[t+1].x){e=new s(this.path[t+1].x,this.path[t+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(e.x,e.y)},u.prototype.lineTo=function(e,t){if(isNaN(e)||isNaN(t))throw Aae.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var n=this.ctx.transform.applyToPoint(new s(e,t));this.path.push({type:"lt",x:n.x,y:n.y}),this.ctx.lastPoint=new s(n.x,n.y)},u.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),v.call(this,null,!0)},u.prototype.quadraticCurveTo=function(e,t,n,r){if(isNaN(n)||isNaN(r)||isNaN(e)||isNaN(t))throw Aae.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var a=this.ctx.transform.applyToPoint(new s(n,r)),i=this.ctx.transform.applyToPoint(new s(e,t));this.path.push({type:"qct",x1:i.x,y1:i.y,x:a.x,y:a.y}),this.ctx.lastPoint=new s(a.x,a.y)},u.prototype.bezierCurveTo=function(e,t,n,r,a,i){if(isNaN(a)||isNaN(i)||isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw Aae.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var o=this.ctx.transform.applyToPoint(new s(a,i)),l=this.ctx.transform.applyToPoint(new s(e,t)),c=this.ctx.transform.applyToPoint(new s(n,r));this.path.push({type:"bct",x1:l.x,y1:l.y,x2:c.x,y2:c.y,x:o.x,y:o.y}),this.ctx.lastPoint=new s(o.x,o.y)},u.prototype.arc=function(e,t,n,r,a,i){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(a))throw Aae.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(i=Boolean(i),!this.ctx.transform.isIdentity){var o=this.ctx.transform.applyToPoint(new s(e,t));e=o.x,t=o.y;var l=this.ctx.transform.applyToPoint(new s(0,n)),c=this.ctx.transform.applyToPoint(new s(0,0));n=Math.sqrt(Math.pow(l.x-c.x,2)+Math.pow(l.y-c.y,2))}Math.abs(a-r)>=2*Math.PI&&(r=0,a=2*Math.PI),this.path.push({type:"arc",x:e,y:t,radius:n,startAngle:r,endAngle:a,counterclockwise:i})},u.prototype.arcTo=function(e,t,n,r,a){throw new Error("arcTo not implemented.")},u.prototype.rect=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw Aae.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(e,t),this.lineTo(e+n,t),this.lineTo(e+n,t+r),this.lineTo(e,t+r),this.lineTo(e,t),this.lineTo(e+n,t),this.lineTo(e,t)},u.prototype.fillRect=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw Aae.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var a={};"butt"!==this.lineCap&&(a.lineCap=this.lineCap,this.lineCap="butt"),"miter"!==this.lineJoin&&(a.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(e,t,n,r),this.fill(),a.hasOwnProperty("lineCap")&&(this.lineCap=a.lineCap),a.hasOwnProperty("lineJoin")&&(this.lineJoin=a.lineJoin)}},u.prototype.strokeRect=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw Aae.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");m.call(this)||(this.beginPath(),this.rect(e,t,n,r),this.stroke())},u.prototype.clearRect=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw Aae.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(e,t,n,r))},u.prototype.save=function(e){e="boolean"!=typeof e||e;for(var t=this.pdf.internal.getCurrentPageInfo().pageNumber,n=0;n<this.pdf.internal.getNumberOfPages();n++)this.pdf.setPage(n+1),this.pdf.internal.out("q");if(this.pdf.setPage(t),e){this.ctx.fontSize=this.pdf.internal.getFontSize();var r=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=r}},u.prototype.restore=function(e){e="boolean"!=typeof e||e;for(var t=this.pdf.internal.getCurrentPageInfo().pageNumber,n=0;n<this.pdf.internal.getNumberOfPages();n++)this.pdf.setPage(n+1),this.pdf.internal.out("Q");this.pdf.setPage(t),e&&0!==this.ctxStack.length&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},u.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function(e){var t,n,r,a;if(!0===e.isCanvasGradient&&(e=e.getColor()),!e)return{r:0,g:0,b:0,a:0,style:e};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(e))t=0,n=0,r=0,a=0;else{var i=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(e);if(null!==i)t=parseInt(i[1]),n=parseInt(i[2]),r=parseInt(i[3]),a=1;else if(null!==(i=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(e)))t=parseInt(i[1]),n=parseInt(i[2]),r=parseInt(i[3]),a=parseFloat(i[4]);else{if(a=1,"string"==typeof e&&"#"!==e.charAt(0)){var s=new Pae(e);e=s.ok?s.toHex():"#000000"}4===e.length?(t=e.substring(1,2),t+=t,n=e.substring(2,3),n+=n,r=e.substring(3,4),r+=r):(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7)),t=parseInt(t,16),n=parseInt(n,16),r=parseInt(r,16)}}return{r:t,g:n,b:r,a:a,style:e}},p=function(){return this.ctx.isFillTransparent||0==this.globalAlpha},m=function(){return Boolean(this.ctx.isStrokeTransparent||0==this.globalAlpha)};u.prototype.fillText=function(e,t,n,r){if(isNaN(t)||isNaN(n)||"string"!=typeof e)throw Aae.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(r=isNaN(r)?void 0:r,!p.call(this)){var a=D(this.ctx.transform.rotation),i=this.ctx.transform.scaleX;A.call(this,{text:e,x:t,y:n,scale:i,angle:a,align:this.textAlign,maxWidth:r})}},u.prototype.strokeText=function(e,t,n,r){if(isNaN(t)||isNaN(n)||"string"!=typeof e)throw Aae.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!m.call(this)){r=isNaN(r)?void 0:r;var a=D(this.ctx.transform.rotation),i=this.ctx.transform.scaleX;A.call(this,{text:e,x:t,y:n,scale:i,renderingMode:"stroke",angle:a,align:this.textAlign,maxWidth:r})}},u.prototype.measureText=function(e){if("string"!=typeof e)throw Aae.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var t=this.pdf,n=this.pdf.internal.scaleFactor,r=t.internal.getFontSize(),a=t.getStringUnitWidth(e)*r/t.internal.scaleFactor;return new function(e){var t=(e=e||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return t}}),this}({width:a*=Math.round(96*n/72*1e4)/1e4})},u.prototype.scale=function(e,t){if(isNaN(e)||isNaN(t))throw Aae.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var n=new l(e,0,0,t,0,0);this.ctx.transform=this.ctx.transform.multiply(n)},u.prototype.rotate=function(e){if(isNaN(e))throw Aae.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var t=new l(Math.cos(e),Math.sin(e),-Math.sin(e),Math.cos(e),0,0);this.ctx.transform=this.ctx.transform.multiply(t)},u.prototype.translate=function(e,t){if(isNaN(e)||isNaN(t))throw Aae.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var n=new l(1,0,0,1,e,t);this.ctx.transform=this.ctx.transform.multiply(n)},u.prototype.transform=function(e,t,n,r,a,i){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(a)||isNaN(i))throw Aae.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var s=new l(e,t,n,r,a,i);this.ctx.transform=this.ctx.transform.multiply(s)},u.prototype.setTransform=function(e,t,n,r,a,i){e=isNaN(e)?1:e,t=isNaN(t)?0:t,n=isNaN(n)?0:n,r=isNaN(r)?1:r,a=isNaN(a)?0:a,i=isNaN(i)?0:i,this.ctx.transform=new l(e,t,n,r,a,i)};var f=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};u.prototype.drawImage=function(e,t,n,r,a,i,s,c,d){var u=this.pdf.getImageProperties(e),h=1,p=1,m=1,x=1;void 0!==r&&void 0!==c&&(m=c/r,x=d/a,h=u.width/r*c/r,p=u.height/a*d/a),void 0===i&&(i=t,s=n,t=0,n=0),void 0!==r&&void 0===c&&(c=r,d=a),void 0===r&&void 0===c&&(c=u.width,d=u.height);for(var v,j=this.ctx.transform.decompose(),N=D(j.rotate.shx),k=new l,S=(k=(k=(k=k.multiply(j.translate)).multiply(j.skew)).multiply(j.scale)).applyToRectangle(new o(i-t*m,s-n*x,r*h,a*p)),C=g.call(this,S),_=[],A=0;A<C.length;A+=1)-1===_.indexOf(C[A])&&_.push(C[A]);if(y(_),this.autoPaging)for(var T=_[0],O=_[_.length-1],E=T;E<O+1;E++){this.pdf.setPage(E);var M=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],P=1===E?this.posY+this.margin[0]:this.margin[0],L=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],I=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],R=1===E?0:L+(E-2)*I;if(0!==this.ctx.clip_path.length){var F=this.path;v=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(v,this.posX+this.margin[3],-R+P+this.ctx.prevPageLastElemOffset),w.call(this,"fill",!0),this.path=F}var H=JSON.parse(JSON.stringify(S));H=b([H],this.posX+this.margin[3],-R+P+this.ctx.prevPageLastElemOffset)[0];var z=(E>T||E<O)&&f.call(this);z&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],M,I,null).clip().discardPath()),this.pdf.addImage(e,"JPEG",H.x,H.y,H.w,H.h,null,null,N),z&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(e,"JPEG",S.x,S.y,S.w,S.h,null,null,N)};var g=function(e,t,n){var r=[];t=t||this.pdf.internal.pageSize.width,n=n||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var a=this.posY+this.ctx.prevPageLastElemOffset;switch(e.type){default:case"mt":case"lt":r.push(Math.floor((e.y+a)/n)+1);break;case"arc":r.push(Math.floor((e.y+a-e.radius)/n)+1),r.push(Math.floor((e.y+a+e.radius)/n)+1);break;case"qct":var i=L(this.ctx.lastPoint.x,this.ctx.lastPoint.y,e.x1,e.y1,e.x,e.y);r.push(Math.floor((i.y+a)/n)+1),r.push(Math.floor((i.y+i.h+a)/n)+1);break;case"bct":var s=I(this.ctx.lastPoint.x,this.ctx.lastPoint.y,e.x1,e.y1,e.x2,e.y2,e.x,e.y);r.push(Math.floor((s.y+a)/n)+1),r.push(Math.floor((s.y+s.h+a)/n)+1);break;case"rect":r.push(Math.floor((e.y+a)/n)+1),r.push(Math.floor((e.y+e.h+a)/n)+1)}for(var o=0;o<r.length;o+=1)for(;this.pdf.internal.getNumberOfPages()<r[o];)x.call(this);return r},x=function(){var e=this.fillStyle,t=this.strokeStyle,n=this.font,r=this.lineCap,a=this.lineWidth,i=this.lineJoin;this.pdf.addPage(),this.fillStyle=e,this.strokeStyle=t,this.font=n,this.lineCap=r,this.lineWidth=a,this.lineJoin=i},b=function(e,t,n){for(var r=0;r<e.length;r++)switch(e[r].type){case"bct":e[r].x2+=t,e[r].y2+=n;case"qct":e[r].x1+=t,e[r].y1+=n;default:e[r].x+=t,e[r].y+=n}return e},y=function(e){return e.sort(function(e,t){return e-t})},v=function(e,t){for(var n,r,a=this.fillStyle,i=this.strokeStyle,s=this.lineCap,o=this.lineWidth,l=Math.abs(o*this.ctx.transform.scaleX),c=this.lineJoin,d=JSON.parse(JSON.stringify(this.path)),u=JSON.parse(JSON.stringify(this.path)),h=[],p=0;p<u.length;p++)if(void 0!==u[p].x)for(var m=g.call(this,u[p]),v=0;v<m.length;v+=1)-1===h.indexOf(m[v])&&h.push(m[v]);for(var j=0;j<h.length;j++)for(;this.pdf.internal.getNumberOfPages()<h[j];)x.call(this);if(y(h),this.autoPaging)for(var N=h[0],k=h[h.length-1],S=N;S<k+1;S++){this.pdf.setPage(S),this.fillStyle=a,this.strokeStyle=i,this.lineCap=s,this.lineWidth=l,this.lineJoin=c;var C=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],_=1===S?this.posY+this.margin[0]:this.margin[0],A=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],T=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],O=1===S?0:A+(S-2)*T;if(0!==this.ctx.clip_path.length){var E=this.path;n=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(n,this.posX+this.margin[3],-O+_+this.ctx.prevPageLastElemOffset),w.call(this,e,!0),this.path=E}if(r=JSON.parse(JSON.stringify(d)),this.path=b(r,this.posX+this.margin[3],-O+_+this.ctx.prevPageLastElemOffset),!1===t||0===S){var M=(S>N||S<k)&&f.call(this);M&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],C,T,null).clip().discardPath()),w.call(this,e,t),M&&this.pdf.restoreGraphicsState()}this.lineWidth=o}else this.lineWidth=l,w.call(this,e,t),this.lineWidth=o;this.path=d},w=function(e,t){if(("stroke"!==e||t||!m.call(this))&&("stroke"===e||t||!p.call(this))){for(var n,r,a=[],i=this.path,s=0;s<i.length;s++){var o=i[s];switch(o.type){case"begin":a.push({begin:!0});break;case"close":a.push({close:!0});break;case"mt":a.push({start:o,deltas:[],abs:[]});break;case"lt":var l=a.length;if(i[s-1]&&!isNaN(i[s-1].x)&&(n=[o.x-i[s-1].x,o.y-i[s-1].y],l>0))for(;l>=0;l--)if(!0!==a[l-1].close&&!0!==a[l-1].begin){a[l-1].deltas.push(n),a[l-1].abs.push(o);break}break;case"bct":n=[o.x1-i[s-1].x,o.y1-i[s-1].y,o.x2-i[s-1].x,o.y2-i[s-1].y,o.x-i[s-1].x,o.y-i[s-1].y],a[a.length-1].deltas.push(n);break;case"qct":var c=i[s-1].x+2/3*(o.x1-i[s-1].x),d=i[s-1].y+2/3*(o.y1-i[s-1].y),u=o.x+2/3*(o.x1-o.x),h=o.y+2/3*(o.y1-o.y),f=o.x,g=o.y;n=[c-i[s-1].x,d-i[s-1].y,u-i[s-1].x,h-i[s-1].y,f-i[s-1].x,g-i[s-1].y],a[a.length-1].deltas.push(n);break;case"arc":a.push({deltas:[],abs:[],arc:!0}),Array.isArray(a[a.length-1].abs)&&a[a.length-1].abs.push(o)}}r=t?null:"stroke"===e?"stroke":"fill";for(var x=!1,b=0;b<a.length;b++)if(a[b].arc)for(var y=a[b].abs,v=0;v<y.length;v++){var w=y[v];"arc"===w.type?k.call(this,w.x,w.y,w.radius,w.startAngle,w.endAngle,w.counterclockwise,void 0,t,!x):T.call(this,w.x,w.y),x=!0}else if(!0===a[b].close)this.pdf.internal.out("h"),x=!1;else if(!0!==a[b].begin){var j=a[b].start.x,N=a[b].start.y;O.call(this,a[b].deltas,j,N),x=!0}r&&S.call(this,r),t&&C.call(this)}},j=function(e){var t=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,n=t*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return e-n;case"top":return e+t-n;case"hanging":return e+t-2*n;case"middle":return e+t/2-n;default:return e}},N=function(e){return e+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};u.prototype.createLinearGradient=function(){var e=function(){};return e.colorStops=[],e.addColorStop=function(e,t){this.colorStops.push([e,t])},e.getColor=function(){return 0===this.colorStops.length?"#000000":this.colorStops[0][1]},e.isCanvasGradient=!0,e},u.prototype.createPattern=function(){return this.createLinearGradient()},u.prototype.createRadialGradient=function(){return this.createLinearGradient()};var k=function(e,t,n,r,a,i,s,o,l){for(var c=M.call(this,n,r,a,i),d=0;d<c.length;d++){var u=c[d];0===d&&(l?_.call(this,u.x1+e,u.y1+t):T.call(this,u.x1+e,u.y1+t)),E.call(this,e,t,u.x2,u.y2,u.x3,u.y3,u.x4,u.y4)}o?C.call(this):S.call(this,s)},S=function(e){switch(e){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},C=function(){this.pdf.clip(),this.pdf.discardPath()},_=function(e,t){this.pdf.internal.out(n(e)+" "+r(t)+" m")},A=function(e){var t;switch(e.align){case"right":case"end":t="right";break;case"center":t="center";break;default:t="left"}var n=this.pdf.getTextDimensions(e.text),r=j.call(this,e.y),a=N.call(this,r)-n.h,i=this.ctx.transform.applyToPoint(new s(e.x,r)),c=this.ctx.transform.decompose(),d=new l;d=(d=(d=d.multiply(c.translate)).multiply(c.skew)).multiply(c.scale);for(var u,h,p,m=this.ctx.transform.applyToRectangle(new o(e.x,r,n.w,n.h)),x=d.applyToRectangle(new o(e.x,a,n.w,n.h)),v=g.call(this,x),k=[],S=0;S<v.length;S+=1)-1===k.indexOf(v[S])&&k.push(v[S]);if(y(k),this.autoPaging)for(var C=k[0],_=k[k.length-1],A=C;A<_+1;A++){this.pdf.setPage(A);var T=1===A?this.posY+this.margin[0]:this.margin[0],O=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],E=this.pdf.internal.pageSize.height-this.margin[2],M=E-this.margin[0],P=this.pdf.internal.pageSize.width-this.margin[1],D=P-this.margin[3],L=1===A?0:O+(A-2)*M;if(0!==this.ctx.clip_path.length){var I=this.path;u=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(u,this.posX+this.margin[3],-1*L+T),w.call(this,"fill",!0),this.path=I}var R=b([JSON.parse(JSON.stringify(x))],this.posX+this.margin[3],-L+T+this.ctx.prevPageLastElemOffset)[0];e.scale>=.01&&(h=this.pdf.internal.getFontSize(),this.pdf.setFontSize(h*e.scale),p=this.lineWidth,this.lineWidth=p*e.scale);var F="text"!==this.autoPaging;if(F||R.y+R.h<=E){if(F||R.y>=T&&R.x<=P){var H=F?e.text:this.pdf.splitTextToSize(e.text,e.maxWidth||P-R.x)[0],z=b([JSON.parse(JSON.stringify(m))],this.posX+this.margin[3],-L+T+this.ctx.prevPageLastElemOffset)[0],B=F&&(A>C||A<_)&&f.call(this);B&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],D,M,null).clip().discardPath()),this.pdf.text(H,z.x,z.y,{angle:e.angle,align:t,renderingMode:e.renderingMode}),B&&this.pdf.restoreGraphicsState()}}else R.y<E&&(this.ctx.prevPageLastElemOffset+=E-R.y);e.scale>=.01&&(this.pdf.setFontSize(h),this.lineWidth=p)}else e.scale>=.01&&(h=this.pdf.internal.getFontSize(),this.pdf.setFontSize(h*e.scale),p=this.lineWidth,this.lineWidth=p*e.scale),this.pdf.text(e.text,i.x+this.posX,i.y+this.posY,{angle:e.angle,align:t,renderingMode:e.renderingMode,maxWidth:e.maxWidth}),e.scale>=.01&&(this.pdf.setFontSize(h),this.lineWidth=p)},T=function(e,t,a,i){a=a||0,i=i||0,this.pdf.internal.out(n(e+a)+" "+r(t+i)+" l")},O=function(e,t,n){return this.pdf.lines(e,t,n,null,null)},E=function(e,n,r,s,o,l,c,d){this.pdf.internal.out([t(a(r+e)),t(i(s+n)),t(a(o+e)),t(i(l+n)),t(a(c+e)),t(i(d+n)),"c"].join(" "))},M=function(e,t,n,r){for(var a=2*Math.PI,i=Math.PI/2;t>n;)t-=a;var s=Math.abs(n-t);s<a&&r&&(s=a-s);for(var o=[],l=r?-1:1,c=t;s>1e-5;){var d=c+l*Math.min(s,i);o.push(P.call(this,e,c,d)),s-=Math.abs(d-c),c=d}return o},P=function(e,t,n){var r=(n-t)/2,a=e*Math.cos(r),i=e*Math.sin(r),s=a,o=-i,l=s*s+o*o,c=l+s*a+o*i,d=4/3*(Math.sqrt(2*l*c)-c)/(s*i-o*a),u=s-d*o,h=o+d*s,p=u,m=-h,f=r+t,g=Math.cos(f),x=Math.sin(f);return{x1:e*Math.cos(t),y1:e*Math.sin(t),x2:u*g-h*x,y2:u*x+h*g,x3:p*g-m*x,y3:p*x+m*g,x4:e*Math.cos(n),y4:e*Math.sin(n)}},D=function(e){return 180*e/Math.PI},L=function(e,t,n,r,a,i){var s=e+.5*(n-e),l=t+.5*(r-t),c=a+.5*(n-a),d=i+.5*(r-i),u=Math.min(e,a,s,c),h=Math.max(e,a,s,c),p=Math.min(t,i,l,d),m=Math.max(t,i,l,d);return new o(u,p,h-u,m-p)},I=function(e,t,n,r,a,i,s,l){var c,d,u,h,p,m,f,g,x,b,y,v,w,j,N=n-e,k=r-t,S=a-n,C=i-r,_=s-a,A=l-i;for(d=0;d<41;d++)x=(f=(u=e+(c=d/40)*N)+c*((p=n+c*S)-u))+c*(p+c*(a+c*_-p)-f),b=(g=(h=t+c*k)+c*((m=r+c*C)-h))+c*(m+c*(i+c*A-m)-g),0==d?(y=x,v=b,w=x,j=b):(y=Math.min(y,x),v=Math.min(v,b),w=Math.max(w,x),j=Math.max(j,b));return new o(Math.round(y),Math.round(v),Math.round(w-y),Math.round(j-v))},R=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var e,t,n=(e=this.ctx.lineDash,t=this.ctx.lineDashOffset,JSON.stringify({lineDash:e,lineDashOffset:t}));this.prevLineDash!==n&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=n)}}}(iie.API),function(e){var t=function(e){var t,n,r,a,i,s,o,l,c,d;for(n=[],r=0,a=(e+=t="\0\0\0\0".slice(e.length%4||4)).length;a>r;r+=4)0!==(i=(e.charCodeAt(r)<<24)+(e.charCodeAt(r+1)<<16)+(e.charCodeAt(r+2)<<8)+e.charCodeAt(r+3))?(s=(i=((i=((i=((i=(i-(d=i%85))/85)-(c=i%85))/85)-(l=i%85))/85)-(o=i%85))/85)%85,n.push(s+33,o+33,l+33,c+33,d+33)):n.push(122);return function(e,t){for(var n=t;n>0;n--)e.pop()}(n,t.length),String.fromCharCode.apply(String,n)+"~>"},n=function(e){var t,n,r,a,i,s=String,o="length",l=255,c="charCodeAt",d="slice",u="replace";for(e[d](-2),e=e[d](0,-2)[u](/\s/g,"")[u]("z","!!!!!"),r=[],a=0,i=(e+=t="uuuuu"[d](e[o]%5||5))[o];i>a;a+=5)n=52200625*(e[c](a)-33)+614125*(e[c](a+1)-33)+7225*(e[c](a+2)-33)+85*(e[c](a+3)-33)+(e[c](a+4)-33),r.push(l&n>>24,l&n>>16,l&n>>8,l&n);return function(e,t){for(var n=t;n>0;n--)e.pop()}(r,t[o]),s.fromCharCode.apply(s,r)},r=function(e){return e.split("").map(function(e){return("0"+e.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(e){var t=new RegExp(/^([0-9A-Fa-f]{2})+$/);if(-1!==(e=e.replace(/\s/g,"")).indexOf(">")&&(e=e.substr(0,e.indexOf(">"))),e.length%2&&(e+="0"),!1===t.test(e))return"";for(var n="",r=0;r<e.length;r+=2)n+=String.fromCharCode("0x"+(e[r]+e[r+1]));return n},i=function(e){for(var t=new Uint8Array(e.length),n=e.length;n--;)t[n]=e.charCodeAt(n);return(t=Ane(t)).reduce(function(e,t){return e+String.fromCharCode(t)},"")};e.processDataByFilters=function(e,s){var o=0,l=e||"",c=[];for("string"==typeof(s=s||[])&&(s=[s]),o=0;o<s.length;o+=1)switch(s[o]){case"ASCII85Decode":case"/ASCII85Decode":l=n(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=t(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=a(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=r(l),c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=i(l),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+s[o]+'" is not implemented')}return{data:l,reverseChain:c.reverse().join(" ")}}}(iie.API),function(e){e.loadFile=function(e,t,n){return function(e,t,n){t=!1!==t,n="function"==typeof n?n:function(){};var r=void 0;try{r=function(e,t,n){var r=new XMLHttpRequest,a=0,i=function(e){var t=e.length,n=[],r=String.fromCharCode;for(a=0;a<t;a+=1)n.push(r(255&e.charCodeAt(a)));return n.join("")};if(r.open("GET",e,!t),r.overrideMimeType("text/plain; charset=x-user-defined"),!1===t&&(r.onload=function(){200===r.status?n(i(this.responseText)):n(void 0)}),r.send(null),t&&200===r.status)return i(r.responseText)}(e,t,n)}catch(a){}return r}(e,t,n)},e.loadImageFile=e.loadFile}(iie.API),function(e){function t(){return(Cae.html2canvas?Promise.resolve(Cae.html2canvas):Kte(()=>import("./html2canvas.esm-DVPEA5ss.js"),[])).catch(function(e){return Promise.reject(new Error("Could not load html2canvas: "+e))}).then(function(e){return e.default?e.default:e})}function n(){return(Cae.DOMPurify?Promise.resolve(Cae.DOMPurify):Kte(()=>Promise.resolve().then(()=>sy),void 0)).catch(function(e){return Promise.reject(new Error("Could not load dompurify: "+e))}).then(function(e){return e.default?e.default:e})}var r=function(e){var t=py(e);return"undefined"===t?"undefined":"string"===t||e instanceof String?"string":"number"===t||e instanceof Number?"number":"function"===t||e instanceof Function?"function":e&&e.constructor===Array?"array":e&&1===e.nodeType?"element":"object"===t?"object":"unknown"},a=function(e,t){var n=document.createElement(e);for(var r in t.className&&(n.className=t.className),t.innerHTML&&t.dompurify&&(n.innerHTML=t.dompurify.sanitize(t.innerHTML)),t.style)n.style[r]=t.style[r];return n},i=function e(t,n){for(var r=3===t.nodeType?document.createTextNode(t.nodeValue):t.cloneNode(!1),a=t.firstChild;a;a=a.nextSibling)!0!==n&&1===a.nodeType&&"SCRIPT"===a.nodeName||r.appendChild(e(a,n));return 1===t.nodeType&&("CANVAS"===t.nodeName?(r.width=t.width,r.height=t.height,r.getContext("2d").drawImage(t,0,0)):"TEXTAREA"!==t.nodeName&&"SELECT"!==t.nodeName||(r.value=t.value),r.addEventListener("load",function(){r.scrollTop=t.scrollTop,r.scrollLeft=t.scrollLeft},!0)),r},s=function e(t){var n=Object.assign(e.convert(Promise.resolve()),JSON.parse(JSON.stringify(e.template))),r=e.convert(Promise.resolve(),n);return(r=r.setProgress(1,e,1,[e])).set(t)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(e,t){return e.__proto__=t||s.prototype,e},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(e,t){return this.then(function(){switch(t=t||function(e){switch(r(e)){case"string":return"string";case"element":return"canvas"===e.nodeName.toLowerCase()?"canvas":"element";default:return"unknown"}}(e)){case"string":return this.then(n).then(function(t){return this.set({src:a("div",{innerHTML:e,dompurify:t})})});case"element":return this.set({src:e});case"canvas":return this.set({canvas:e});case"img":return this.set({img:e});default:return this.error("Unknown source type.")}})},s.prototype.to=function(e){switch(e){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var e={position:"relative",display:"inline-block",width:("number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},t=i(this.prop.src,this.opt.html2canvas.javascriptEnabled);"BODY"===t.tagName&&(e.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:e}),this.prop.container.appendChild(t),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var e=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(e).then(t).then(function(e){var t=Object.assign({},this.opt.html2canvas);return delete t.onrendered,e(this.prop.container,t)}).then(function(e){(this.opt.html2canvas.onrendered||function(){})(e),this.prop.canvas=e,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var e=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(e).then(t).then(function(e){var t=this.opt.jsPDF,n=this.opt.fontFaces,r="number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,a=Object.assign({async:!0,allowTaint:!0,scale:r,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete a.onrendered,t.context2d.autoPaging=void 0===this.opt.autoPaging||this.opt.autoPaging,t.context2d.posX=this.opt.x,t.context2d.posY=this.opt.y,t.context2d.margin=this.opt.margin,t.context2d.fontFaces=n,n)for(var i=0;i<n.length;++i){var s=n[i],o=s.src.find(function(e){return"truetype"===e.format});o&&t.addFont(o.url,s.ref.name,s.ref.style)}return a.windowHeight=a.windowHeight||0,a.windowHeight=0==a.windowHeight?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):a.windowHeight,t.context2d.save(!0),e(this.prop.container,a)}).then(function(e){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(e),this.prop.canvas=e,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var e=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=e})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(e,t,n){return"img"===(n=n||"pdf").toLowerCase()||"image"===n.toLowerCase()?this.outputImg(e,t):this.outputPdf(e,t)},s.prototype.outputPdf=function(e,t){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(e,t)})},s.prototype.outputImg=function(e){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(e){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+e+'" is not supported.'}})},s.prototype.save=function(e){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(e?{filename:e}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(e){if("object"!==r(e))return this;var t=Object.keys(e||{}).map(function(t){if(t in s.template.prop)return function(){this.prop[t]=e[t]};switch(t){case"margin":return this.setMargin.bind(this,e.margin);case"jsPDF":return function(){return this.opt.jsPDF=e.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,e.pageSize);default:return function(){this.opt[t]=e[t]}}},this);return this.then(function(){return this.thenList(t)})},s.prototype.get=function(e,t){return this.then(function(){var n=e in s.template.prop?this.prop[e]:this.opt[e];return t?t(n):n})},s.prototype.setMargin=function(e){return this.then(function(){switch(r(e)){case"number":e=[e,e,e,e];case"array":if(2===e.length&&(e=[e[0],e[1],e[0],e[1]]),4===e.length)break;default:return this.error("Invalid margin array.")}this.opt.margin=e}).then(this.setPageSize)},s.prototype.setPageSize=function(e){function t(e,t){return Math.floor(e*t/72*96)}return this.then(function(){(e=e||iie.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(e.inner={width:e.width-this.opt.margin[1]-this.opt.margin[3],height:e.height-this.opt.margin[0]-this.opt.margin[2]},e.inner.px={width:t(e.inner.width,e.k),height:t(e.inner.height,e.k)},e.inner.ratio=e.inner.height/e.inner.width),this.prop.pageSize=e})},s.prototype.setProgress=function(e,t,n,r){return null!=e&&(this.progress.val=e),null!=t&&(this.progress.state=t),null!=n&&(this.progress.n=n),null!=r&&(this.progress.stack=r),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(e,t,n,r){return this.setProgress(e?this.progress.val+e:null,t||null,n?this.progress.n+n:null,r?this.progress.stack.concat(r):null)},s.prototype.then=function(e,t){var n=this;return this.thenCore(e,t,function(e,t){return n.updateProgress(null,null,1,[e]),Promise.prototype.then.call(this,function(t){return n.updateProgress(null,e),t}).then(e,t).then(function(e){return n.updateProgress(1),e})})},s.prototype.thenCore=function(e,t,n){n=n||Promise.prototype.then;var r=this;e&&(e=e.bind(r)),t&&(t=t.bind(r));var a=-1!==Promise.toString().indexOf("[native code]")&&"Promise"===Promise.name?r:s.convert(Object.assign({},r),Promise.prototype),i=n.call(a,e,t);return s.convert(i,r.__proto__)},s.prototype.thenExternal=function(e,t){return Promise.prototype.then.call(this,e,t)},s.prototype.thenList=function(e){var t=this;return e.forEach(function(e){t=t.thenCore(e)}),t},s.prototype.catch=function(e){e&&(e=e.bind(this));var t=Promise.prototype.catch.call(this,e);return s.convert(t,this)},s.prototype.catchExternal=function(e){return Promise.prototype.catch.call(this,e)},s.prototype.error=function(e){return this.then(function(){throw new Error(e)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,iie.getPageSize=function(e,t,n){if("object"===py(e)){var r=e;e=r.orientation,t=r.unit||t,n=r.format||n}t=t||"mm",n=n||"a4",e=(""+(e||"P")).toLowerCase();var a,i=(""+n).toLowerCase(),s={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(t){case"pt":a=1;break;case"mm":a=72/25.4;break;case"cm":a=72/2.54;break;case"in":a=72;break;case"px":a=.75;break;case"pc":case"em":a=12;break;case"ex":a=6;break;default:throw"Invalid unit: "+t}var o,l=0,c=0;if(s.hasOwnProperty(i))l=s[i][1]/a,c=s[i][0]/a;else try{l=n[1],c=n[0]}catch(d){throw new Error("Invalid format: "+n)}if("p"===e||"portrait"===e)e="p",c>l&&(o=c,c=l,l=o);else{if("l"!==e&&"landscape"!==e)throw"Invalid orientation: "+e;e="l",l>c&&(o=c,c=l,l=o)}return{width:c,height:l,unit:t,k:a,orientation:e}},e.html=function(e,t){(t=t||{}).callback=t.callback||function(){},t.html2canvas=t.html2canvas||{},t.html2canvas.canvas=t.html2canvas.canvas||this.canvas,t.jsPDF=t.jsPDF||this,t.fontFaces=t.fontFaces?t.fontFaces.map(Qie):null;var n=new s(t);return t.worker?n:n.from(e).doCallback()}}(iie.API),iie.API.addJS=function(e){return lse=e,this.internal.events.subscribe("postPutResources",function(){sse=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(sse+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),ose=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+lse+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){void 0!==sse&&void 0!==ose&&this.internal.out("/Names <</JavaScript "+sse+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var e=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var r=e.outline.render().split(/\r\n/),a=0;a<r.length;a++){var i=r[a],s=n.exec(i);if(null!=s){var o=s[1];e.internal.newObjectDeferredBegin(o,!1)}e.internal.write(i)}if(this.outline.createNamedDestinations){var l=this.internal.pages.length,c=[];for(a=0;a<l;a++){var d=e.internal.newObject();c.push(d);var u=e.internal.getPageInfo(a+1);e.internal.write("<< /D["+u.objId+" 0 R /XYZ null null null]>> endobj")}var h=e.internal.newObject();for(e.internal.write("<< /Names [ "),a=0;a<c.length;a++)e.internal.write("(page_"+(a+1)+")"+c[a]+" 0 R");e.internal.write(" ] >>","endobj"),t=e.internal.newObject(),e.internal.write("<< /Dests "+h+" 0 R"),e.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var e=this;e.outline.root.children.length>0&&(e.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&e.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(e,t,n){var r={title:t,options:n,children:[]};return null==e&&(e=this.root),e.children.push(r),r},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(t){t.id=e.internal.newObjectDeferred();for(var n=0;n<t.children.length;n++)this.genIds_r(t.children[n])},e.outline.renderRoot=function(e){this.objStart(e),this.line("/Type /Outlines"),e.children.length>0&&(this.line("/First "+this.makeRef(e.children[0])),this.line("/Last "+this.makeRef(e.children[e.children.length-1]))),this.line("/Count "+this.count_r({count:0},e)),this.objEnd()},e.outline.renderItems=function(t){for(var n=this.ctx.pdf.internal.getVerticalCoordinateString,r=0;r<t.children.length;r++){var a=t.children[r];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(t)),r>0&&this.line("/Prev "+this.makeRef(t.children[r-1])),r<t.children.length-1&&this.line("/Next "+this.makeRef(t.children[r+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var i=this.count=this.count_r({count:0},a);if(i>0&&this.line("/Count "+i),a.options&&a.options.pageNumber){var s=e.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+s.objId+" 0 R /XYZ 0 "+n(0)+" 0]")}this.objEnd()}for(var o=0;o<t.children.length;o++)this.renderItems(t.children[o])},e.outline.line=function(e){this.ctx.val+=e+"\r\n"},e.outline.makeRef=function(e){return e.id+" 0 R"},e.outline.makeString=function(t){return"("+e.internal.pdfEscape(t)+")"},e.outline.objStart=function(e){this.ctx.val+="\r\n"+e.id+" 0 obj\r\n<<\r\n"},e.outline.objEnd=function(){this.ctx.val+=">> \r\nendobj\r\n"},e.outline.count_r=function(e,t){for(var n=0;n<t.children.length;n++)e.count++,this.count_r(e,t.children[n]);return e.count}}])}(iie.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(e,n,r,a,i,s){var o,l=this.decode.DCT_DECODE,c=null;if("string"==typeof e||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=i||e,e=this.__addimage__.isArrayBuffer(e)?new Uint8Array(e):e,(o=function(e){for(var n,r=256*e.charCodeAt(4)+e.charCodeAt(5),a=e.length,i={width:0,height:0,numcomponents:1},s=4;s<a;s+=2){if(s+=r,-1!==t.indexOf(e.charCodeAt(s+1))){n=256*e.charCodeAt(s+5)+e.charCodeAt(s+6),i={width:256*e.charCodeAt(s+7)+e.charCodeAt(s+8),height:n,numcomponents:e.charCodeAt(s+9)};break}r=256*e.charCodeAt(s+2)+e.charCodeAt(s+3)}return i}(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e)).numcomponents){case 1:s=this.color_spaces.DEVICE_GRAY;break;case 4:s=this.color_spaces.DEVICE_CMYK;break;case 3:s=this.color_spaces.DEVICE_RGB}c={data:e,width:o.width,height:o.height,colorSpace:s,bitsPerComponent:8,filter:l,index:n,alias:r}}return c}}(iie.API),iie.API.processPNG=function(e,t,n,r){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var a,i=new Nae(e,{checkCrc:!0}).decode(),s=i.width,o=i.height,l=i.channels,c=i.palette,d=i.depth;a=c&&1===l?function(e){for(var t=e.width,n=e.height,r=e.data,a=e.palette,i=e.depth,s=!1,o=[],l=[],c=void 0,d=!1,u=0,h=0;h<a.length;h++){var p=vy(a[h],4),m=p[0],f=p[1],g=p[2],x=p[3];o.push(m,f,g),null!=x&&(0===x?(u++,l.length<1&&l.push(h)):x<255&&(d=!0))}if(d||u>1){s=!0,l=void 0;var b=t*n;c=new Uint8Array(b);for(var y=new DataView(r.buffer),v=0;v<b;v++){var w=vy(a[Nse(y,v,i)],4)[3];c[v]=w}}else 0===u&&(l=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:s?8:void 0,colorBytes:r,alphaBytes:c,needSMask:s,palette:o,mask:l}}(i):2===l||4===l?function(e){for(var t=e.data,n=e.width,r=e.height,a=e.channels,i=e.depth,s=2===a?"DeviceGray":"DeviceRGB",o=a-1,l=n*r,c=o,d=l*c,u=1*l,h=Math.ceil(d*i/8),p=Math.ceil(u*i/8),m=new Uint8Array(h),f=new Uint8Array(p),g=new DataView(t.buffer),x=new DataView(m.buffer),b=new DataView(f.buffer),y=!1,v=0;v<l;v++){for(var w=v*a,j=0;j<c;j++)kse(x,Nse(g,w+j,i),v*c+j,i);var N=Nse(g,w+c,i);N<(1<<i)-1&&(y=!0),kse(b,N,1*v,i)}return{colorSpace:s,colorsPerPixel:o,sMaskBitsPerComponent:y?i:void 0,colorBytes:m,alphaBytes:f,needSMask:y}}(i):function(e){var t=e.data,n=1===e.channels?"DeviceGray":"DeviceRGB";return{colorSpace:n,colorsPerPixel:"DeviceGray"===n?1:3,colorBytes:t instanceof Uint16Array?function(e){for(var t=e.length,n=new Uint8Array(2*t),r=new DataView(n.buffer,n.byteOffset,n.byteLength),a=0;a<t;a++)r.setUint16(2*a,e[a],!1);return n}(t):t,needSMask:!1}}(i);var u,h,p,m=a,f=m.colorSpace,g=m.colorsPerPixel,x=m.sMaskBitsPerComponent,b=m.colorBytes,y=m.alphaBytes,v=m.needSMask,w=m.palette,j=m.mask,N=null;return r!==iie.API.image_compression.NONE?(N=function(e){var t;switch(e){case iie.API.image_compression.FAST:t=11;break;case iie.API.image_compression.MEDIUM:t=13;break;case iie.API.image_compression.SLOW:t=14;break;default:t=12}return t}(r),u=this.decode.FLATE_DECODE,h="/Predictor ".concat(N," /Colors ").concat(g," /BitsPerComponent ").concat(d," /Columns ").concat(s),e=fse(b,Math.ceil(s*g*d/8),g,d,r),v&&(p=fse(y,Math.ceil(s*x/8),1,x,r))):(u=void 0,h=void 0,e=b,v&&(p=y)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(p&&this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),{alias:n,data:e,index:t,filter:u,decodeParameters:h,transparency:j,palette:w,sMask:p,predictor:N,width:s,height:o,bitsPerComponent:d,sMaskBitsPerComponent:x,colorSpace:f}}},function(e){e.processGIF89A=function(t,n,r,a){var i=new Cse(t),s=i.width,o=i.height,l=[];i.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:s,height:o},d=new Ase(100).encode(c,100);return e.processJPEG.call(this,d,n,r,a)},e.processGIF87A=e.processGIF89A}(iie.API),Tse.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=0===this.colors?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:r,blue:n,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Tse.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(n){Aae.log("bit decode error:"+n)}},Tse.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,a=0;a<t;a++)for(var i=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+8*a*4,o=0;o<8&&8*a+o<this.width;o++){var l=this.palette[i>>7-o&1];this.data[s+4*o]=l.blue,this.data[s+4*o+1]=l.green,this.data[s+4*o+2]=l.red,this.data[s+4*o+3]=255}0!==n&&(this.pos+=4-n)}},Tse.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,a=0;a<e;a++){var i=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+2*a*4,o=i>>4,l=15&i,c=this.palette[o];if(this.data[s]=c.blue,this.data[s+1]=c.green,this.data[s+2]=c.red,this.data[s+3]=255,2*a+1>=this.width)break;c=this.palette[l],this.data[s+4]=c.blue,this.data[s+4+1]=c.green,this.data[s+4+2]=c.red,this.data[s+4+3]=255}0!==t&&(this.pos+=4-t)}},Tse.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var a=this.datav.getUint8(this.pos++,!0),i=n*this.width*4+4*r;if(a<this.palette.length){var s=this.palette[a];this.data[i]=s.red,this.data[i+1]=s.green,this.data[i+2]=s.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}0!==e&&(this.pos+=4-e)}},Tse.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(i&t)/t*255|0,o=(i>>5&t)/t*255|0,l=(i>>10&t)/t*255|0,c=i>>15?255:0,d=r*this.width*4+4*a;this.data[d]=l,this.data[d+1]=o,this.data[d+2]=s,this.data[d+3]=c}this.pos+=e}},Tse.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var a=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&t)/t*255|0,l=(s>>5&n)/n*255|0,c=(s>>11)/t*255|0,d=a*this.width*4+4*i;this.data[d]=c,this.data[d+1]=l,this.data[d+2]=o,this.data[d+3]=255}this.pos+=e}},Tse.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*n;this.data[s]=i,this.data[s+1]=a,this.data[s+2]=r,this.data[s+3]=255}this.pos+=this.width%4}},Tse.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*n;this.data[o]=i,this.data[o+1]=a,this.data[o+2]=r,this.data[o+3]=s}},Tse.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,n,r,a){var i=new Tse(t,!1),s=i.width,o=i.height,l={data:i.getData(),width:s,height:o},c=new Ase(100).encode(l,100);return e.processJPEG.call(this,c,n,r,a)}}(iie.API),Ose.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,n,r,a){var i=new Ose(t),s=i.width,o=i.height,l={data:i.getData(),width:s,height:o},c=new Ase(100).encode(l,100);return e.processJPEG.call(this,c,n,r,a)}}(iie.API),iie.API.processRGBA=function(e,t,n){for(var r=e.data,a=r.length,i=new Uint8Array(a/4*3),s=new Uint8Array(a/4),o=0,l=0,c=0;c<a;c+=4){var d=r[c],u=r[c+1],h=r[c+2],p=r[c+3];i[o++]=d,i[o++]=u,i[o++]=h,s[l++]=p}var m=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:m,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},iie.API.setLanguage=function(e){return void 0===this.internal.languageSettings&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),void 0!=={af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]&&(this.internal.languageSettings.languageCode=e,!1===this.internal.languageSettings.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},cse=iie.API,dse=cse.getCharWidthsArray=function(e,t){var n,r,a=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),s=t.charSpace||this.internal.getCharSpace(),o=t.widths?t.widths:a.metadata.Unicode.widths,l=o.fof?o.fof:1,c=t.kerning?t.kerning:a.metadata.Unicode.kerning,d=c.fof?c.fof:1,u=!1!==t.doKerning,h=0,p=e.length,m=0,f=o[0]||l,g=[];for(n=0;n<p;n++)r=e.charCodeAt(n),"function"==typeof a.metadata.widthOfString?g.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(r))+s*(1e3/i)||0)/1e3):(h=u&&"object"===py(c[r])&&!isNaN(parseInt(c[r][m],10))?c[r][m]/d:0,g.push((o[r]||f)/l+h)),m=r;return g},use=cse.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return cse.processArabic&&(e=cse.processArabic(e)),"function"==typeof r.metadata.widthOfString?r.metadata.widthOfString(e,n,a)/n:dse.apply(this,arguments).reduce(function(e,t){return e+t},0)},hse=function(e,t,n,r){for(var a=[],i=0,s=e.length,o=0;i!==s&&o+t[i]<n;)o+=t[i],i++;a.push(e.slice(0,i));var l=i;for(o=0;i!==s;)o+t[i]>r&&(a.push(e.slice(l,i)),o=0,l=i),o+=t[i],i++;return l!==i&&a.push(e.slice(l,i)),a},pse=function(e,t,n){n||(n={});var r,a,i,s,o,l,c,d=[],u=[d],h=n.textIndent||0,p=0,m=0,f=e.split(" "),g=dse.apply(this,[" ",n])[0];if(l=-1===n.lineIndent?f[0].length+2:n.lineIndent||0){var x=Array(l).join(" "),b=[];f.map(function(e){(e=e.split(/\s*\n/)).length>1?b=b.concat(e.map(function(e,t){return(t&&e.length?"\n":"")+e})):b.push(e[0])}),f=b,l=use.apply(this,[x,n])}for(i=0,s=f.length;i<s;i++){var y=0;if(r=f[i],l&&"\n"==r[0]&&(r=r.substr(1),y=1),h+p+(m=(a=dse.apply(this,[r,n])).reduce(function(e,t){return e+t},0))>t||y){if(m>t){for(o=hse.apply(this,[r,a,t-(h+p),t]),d.push(o.shift()),d=[o.pop()];o.length;)u.push([o.shift()]);m=a.slice(r.length-(d[0]?d[0].length:0)).reduce(function(e,t){return e+t},0)}else d=[r];u.push(d),h=m+l,p=g}else d.push(r),h+=p+m,p=g}return c=l?function(e,t){return(t?x:"")+e.join(" ")}:function(e){return e.join(" ")},u.map(c)},cse.splitTextToSize=function(e,t,n){var r,a=(n=n||{}).fontSize||this.internal.getFontSize(),i=function(e){if(e.widths&&e.kerning)return{widths:e.widths,kerning:e.kerning};var t=this.internal.getFont(e.fontName,e.fontStyle),n="Unicode";return t.metadata[n]?{widths:t.metadata[n].widths||{0:1},kerning:t.metadata[n].kerning||{}}:{font:t.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,n);r=Array.isArray(e)?e:String(e).split(/\r?\n/);var s=1*this.internal.scaleFactor*t/a;i.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=n.lineIndent;var o,l,c=[];for(o=0,l=r.length;o<l;o++)c=c.concat(pse.apply(this,[r[o],s,i]));return c},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",n="klmnopqrstuvwxyz",r={},a={},i=0;i<16;i++)r[n[i]]=t[i],a[t[i]]=n[i];var s=function(e){return"0x"+parseInt(e,10).toString(16)},o=e.__fontmetrics__.compress=function(e){var t,n,r,i,l=["{"];for(var c in e){if(t=e[c],isNaN(parseInt(c,10))?n="'"+c+"'":(c=parseInt(c,10),n=(n=s(c).slice(2)).slice(0,-1)+a[n.slice(-1)]),"number"==typeof t)t<0?(r=s(t).slice(3),i="-"):(r=s(t).slice(2),i=""),r=i+r.slice(0,-1)+a[r.slice(-1)];else{if("object"!==py(t))throw new Error("Don't know what to do with value type "+py(t)+".");r=o(t)}l.push(n+r)}return l.push("}"),l.join("")},l=e.__fontmetrics__.uncompress=function(e){if("string"!=typeof e)throw new Error("Invalid argument passed to uncompress.");for(var t,n,a,i,s={},o=1,l=s,c=[],d="",u="",h=e.length-1,p=1;p<h;p+=1)"'"==(i=e[p])?t?(a=t.join(""),t=void 0):t=[]:t?t.push(i):"{"==i?(c.push([l,a]),l={},a=void 0):"}"==i?((n=c.pop())[0][n[1]]=l,a=void 0,l=n[0]):"-"==i?o=-1:void 0===a?r.hasOwnProperty(i)?(d+=r[i],a=parseInt(d,16)*o,o=1,d=""):d+=i:r.hasOwnProperty(i)?(u+=r[i],l[a]=parseInt(u,16)*o,o=1,a=void 0,u=""):u+=i;return s},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},u={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(e){var t=e.font,n=u.Unicode[t.postScriptName];n&&(t.metadata.Unicode={},t.metadata.Unicode.widths=n.widths,t.metadata.Unicode.kerning=n.kerning);var r=d.Unicode[t.postScriptName];r&&(t.metadata.Unicode.encoding=r,t.encoding=r.codePages[0])}])}(iie.API),function(e){var t=function(e){for(var t=e.length,n=new Uint8Array(t),r=0;r<t;r++)n[r]=e.charCodeAt(r);return n};e.API.events.push(["addFont",function(n){var r,a,i=void 0,s=n.font,o=n.instance;if(!s.isStandardFont){if(void 0===o)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if("string"!=typeof(i=!1===o.existsFileInVFS(s.postScriptName)?o.loadFile(s.postScriptName):o.getFileFromVFS(s.postScriptName)))throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");r=s,a=/^\x00\x01\x00\x00/.test(a=i)?t(a):t(Dae(a)),r.metadata=e.API.TTFFont.open(a),r.metadata.Unicode=r.metadata.Unicode||{encoding:{},kerning:{},widths:[]},r.metadata.glyIdsUsed=[0]}}])}(iie),iie.API.addSvgAsImage=function(e,t,n,r,a,i,s,o){if(isNaN(t)||isNaN(n))throw Aae.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(a))throw Aae.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=r,l.height=a;var c=l.getContext("2d");c.fillStyle="#fff",c.fillRect(0,0,l.width,l.height);var d={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},u=this;return(Cae.canvg?Promise.resolve(Cae.canvg):Kte(()=>import("./index.es-DJuQhB0n.js"),__vite__mapDeps([0,1]))).catch(function(e){return Promise.reject(new Error("Could not load canvg: "+e))}).then(function(e){return e.default?e.default:e}).then(function(t){return t.fromString(c,e,d)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(e){return e.render(d)}).then(function(){u.addImage(l.toDataURL("image/jpeg",1),t,n,r,a,s,o)})},iie.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var a=0;a<this.internal.pages[r].length;a++)this.internal.pages[r][a]=this.internal.pages[r][a].replace(t,n);return this},iie.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var r,a,i,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(s),l=[],c=0,d=0,u=0;function h(e,t){var n,r=!1;for(n=0;n<e.length;n+=1)e[n]===t&&(r=!0);return r}if(void 0===this.internal.viewerpreferences&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,"reset"===e||!0===t){var p=o.length;for(u=0;u<p;u+=1)n[o[u]].value=n[o[u]].defaultValue,n[o[u]].explicitSet=!1}if("object"===py(e))for(a in e)if(i=e[a],h(o,a)&&void 0!==i){if("boolean"===n[a].type&&"boolean"==typeof i)n[a].value=i;else if("name"===n[a].type&&h(n[a].valueSet,i))n[a].value=i;else if("integer"===n[a].type&&Number.isInteger(i))n[a].value=i;else if("array"===n[a].type){for(c=0;c<i.length;c+=1)if(r=!0,1===i[c].length&&"number"==typeof i[c][0])l.push(String(i[c]-1));else if(i[c].length>1){for(d=0;d<i[c].length;d+=1)"number"!=typeof i[c][d]&&(r=!1);!0===r&&l.push([i[c][0]-1,i[c][1]-1].join(" "))}n[a].value="["+l.join(" ")+"]"}else n[a].value=n[a].defaultValue;n[a].explicitSet=!0}return!1===this.internal.viewerpreferences.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){var e,t=[];for(e in n)!0===n[e].explicitSet&&("name"===n[e].type?t.push("/"+e+" /"+n[e].value):t.push("/"+e+" "+n[e].value));0!==t.length&&this.internal.write("/ViewerPreferences\n<<\n"+t.join("\n")+"\n>>")}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(e){var t=function(){var e='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',t=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),n=unescape(encodeURIComponent(e)),r=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),i=unescape(encodeURIComponent("</x:xmpmeta>")),s=n.length+r.length+a.length+t.length+i.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+s+" >>"),this.internal.write("stream"),this.internal.write(t+n+r+a+i),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(e,r){return void 0===this.internal.__metadata__&&(this.internal.__metadata__={metadata:e,namespaceuri:r||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",t)),this}}(iie.API),function(e){var t=e.API,n=t.pdfEscape16=function(e,t){for(var n,r=t.metadata.Unicode.widths,a=["","0","00","000","0000"],i=[""],s=0,o=e.length;s<o;++s){if(n=t.metadata.characterToGlyph(e.charCodeAt(s)),t.metadata.glyIdsUsed.push(n),t.metadata.toUnicode[n]=e.charCodeAt(s),-1==r.indexOf(n)&&(r.push(n),r.push([parseInt(t.metadata.widthOfGlyph(n),10)])),"0"==n)return i.join("");n=n.toString(16),i.push(a[4-n.length],n)}return i.join("")},r=function(e){var t,n,r,a,i,s,o;for(i="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange",r=[],s=0,o=(n=Object.keys(e).sort(function(e,t){return e-t})).length;s<o;s++)t=n[s],r.length>=100&&(i+="\n"+r.length+" beginbfchar\n"+r.join("\n")+"\nendbfchar",r=[]),void 0!==e[t]&&null!==e[t]&&"function"==typeof e[t].toString&&(a=("0000"+e[t].toString(16)).slice(-4),t=("0000"+(+t).toString(16)).slice(-4),r.push("<"+t+"><"+a+">"));return r.length&&(i+="\n"+r.length+" beginbfchar\n"+r.join("\n")+"\nendbfchar\n"),i+"endcmap\nCMapName currentdict /CMap defineresource pop\nend\nend"};t.events.push(["putFont",function(t){!function(t){var n=t.font,a=t.out,i=t.newObject,s=t.putStream;if(n.metadata instanceof e.API.TTFFont&&"Identity-H"===n.encoding){for(var o=n.metadata.Unicode.widths,l=n.metadata.subset.encode(n.metadata.glyIdsUsed,1),c="",d=0;d<l.length;d++)c+=String.fromCharCode(l[d]);var u=i();s({data:c,addLength1:!0,objectId:u}),a("endobj");var h=i();s({data:r(n.metadata.toUnicode),addLength1:!0,objectId:h}),a("endobj");var p=i();a("<<"),a("/Type /FontDescriptor"),a("/FontName /"+Zae(n.fontName)),a("/FontFile2 "+u+" 0 R"),a("/FontBBox "+e.API.PDFObject.convert(n.metadata.bbox)),a("/Flags "+n.metadata.flags),a("/StemV "+n.metadata.stemV),a("/ItalicAngle "+n.metadata.italicAngle),a("/Ascent "+n.metadata.ascender),a("/Descent "+n.metadata.decender),a("/CapHeight "+n.metadata.capHeight),a(">>"),a("endobj");var m=i();a("<<"),a("/Type /Font"),a("/BaseFont /"+Zae(n.fontName)),a("/FontDescriptor "+p+" 0 R"),a("/W "+e.API.PDFObject.convert(o)),a("/CIDToGIDMap /Identity"),a("/DW 1000"),a("/Subtype /CIDFontType2"),a("/CIDSystemInfo"),a("<<"),a("/Supplement 0"),a("/Registry (Adobe)"),a("/Ordering ("+n.encoding+")"),a(">>"),a(">>"),a("endobj"),n.objectNumber=i(),a("<<"),a("/Type /Font"),a("/Subtype /Type0"),a("/ToUnicode "+h+" 0 R"),a("/BaseFont /"+Zae(n.fontName)),a("/Encoding /"+n.encoding),a("/DescendantFonts ["+m+" 0 R]"),a(">>"),a("endobj"),n.isAlreadyPutted=!0}}(t)}]),t.events.push(["putFont",function(t){!function(t){var n=t.font,a=t.out,i=t.newObject,s=t.putStream;if(n.metadata instanceof e.API.TTFFont&&"WinAnsiEncoding"===n.encoding){for(var o=n.metadata.rawData,l="",c=0;c<o.length;c++)l+=String.fromCharCode(o[c]);var d=i();s({data:l,addLength1:!0,objectId:d}),a("endobj");var u=i();s({data:r(n.metadata.toUnicode),addLength1:!0,objectId:u}),a("endobj");var h=i();a("<<"),a("/Descent "+n.metadata.decender),a("/CapHeight "+n.metadata.capHeight),a("/StemV "+n.metadata.stemV),a("/Type /FontDescriptor"),a("/FontFile2 "+d+" 0 R"),a("/Flags 96"),a("/FontBBox "+e.API.PDFObject.convert(n.metadata.bbox)),a("/FontName /"+Zae(n.fontName)),a("/ItalicAngle "+n.metadata.italicAngle),a("/Ascent "+n.metadata.ascender),a(">>"),a("endobj"),n.objectNumber=i();for(var p=0;p<n.metadata.hmtx.widths.length;p++)n.metadata.hmtx.widths[p]=parseInt(n.metadata.hmtx.widths[p]*(1e3/n.metadata.head.unitsPerEm));a("<</Subtype/TrueType/Type/Font/ToUnicode "+u+" 0 R/BaseFont/"+Zae(n.fontName)+"/FontDescriptor "+h+" 0 R/Encoding/"+n.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(n.metadata.hmtx.widths)+">>"),a("endobj"),n.isAlreadyPutted=!0}}(t)}]);var a=function(e){var t,r=e.text||"",a=e.x,i=e.y,s=e.options||{},o=e.mutex||{},l=o.pdfEscape,c=o.activeFontKey,d=o.fonts,u=c,h="",p=0,m="",f=d[u].encoding;if("Identity-H"!==d[u].encoding)return{text:r,x:a,y:i,options:s,mutex:o};for(m=r,u=c,Array.isArray(r)&&(m=r[0]),p=0;p<m.length;p+=1)d[u].metadata.hasOwnProperty("cmap")&&(t=d[u].metadata.cmap.unicode.codeMap[m[p].charCodeAt(0)]),t||m[p].charCodeAt(0)<256&&d[u].metadata.hasOwnProperty("Unicode")?h+=m[p]:h+="";var g="";return parseInt(u.slice(1))<14||"WinAnsiEncoding"===f?g=l(h,u).split("").map(function(e){return e.charCodeAt(0).toString(16)}).join(""):"Identity-H"===f&&(g=n(h,d[u])),o.isHex=!0,{text:g,x:a,y:i,options:s,mutex:o}};t.events.push(["postProcessText",function(e){var t=e.text||"",n=[],r={text:t,x:e.x,y:e.y,options:e.options,mutex:e.mutex};if(Array.isArray(t)){var i=0;for(i=0;i<t.length;i+=1)Array.isArray(t[i])&&3===t[i].length?n.push([a(Object.assign({},r,{text:t[i][0]})).text,t[i][1],t[i][2]]):n.push(a(Object.assign({},r,{text:t[i]})).text);e.text=n}else e.text=a(Object.assign({},r,{text:t})).text}])}(iie),function(e){var t=function(){return void 0===this.internal.vFS&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(e){return t.call(this),void 0!==this.internal.vFS[e]},e.addFileToVFS=function(e,n){return t.call(this),this.internal.vFS[e]=n,this},e.getFileFromVFS=function(e){return t.call(this),void 0!==this.internal.vFS[e]?this.internal.vFS[e]:null}}(iie.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(e){var n,r,a,i,s,o,l,c=t,d=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],u=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],h={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},p={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},m=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],f=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),g=!1,x=0;this.__bidiEngine__={};var b=function(e){var t=e.charCodeAt(),n=t>>8,r=p[n];return void 0!==r?c[256*r+(255&t)]:252===n||253===n?"AL":f.test(n)?"L":8===n?"R":"N"},y=function(e){for(var t,n=0;n<e.length;n++){if("L"===(t=b(e.charAt(n))))return!1;if("R"===t)return!0}return!1},v=function(e,t,s,o){var l,c,d,u,h=t[o];switch(h){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":g=!1;break;case"N":case"AN":break;case"EN":g&&(h="AN");break;case"AL":g=!0,h="R";break;case"WS":case"BN":h="N";break;case"CS":o<1||o+1>=t.length||"EN"!==(l=s[o-1])&&"AN"!==l||"EN"!==(c=t[o+1])&&"AN"!==c?h="N":g&&(c="AN"),h=c===l?c:"N";break;case"ES":h="EN"===(l=o>0?s[o-1]:"B")&&o+1<t.length&&"EN"===t[o+1]?"EN":"N";break;case"ET":if(o>0&&"EN"===s[o-1]){h="EN";break}if(g){h="N";break}for(d=o+1,u=t.length;d<u&&"ET"===t[d];)d++;h=d<u&&"EN"===t[d]?"EN":"N";break;case"NSM":if(a&&!i){for(u=t.length,d=o+1;d<u&&"NSM"===t[d];)d++;if(d<u){var p=e[o],m=p>=1425&&p<=2303||64286===p;if(l=t[d],m&&("R"===l||"AL"===l)){h="R";break}}}h=o<1||"B"===(l=t[o-1])?"N":s[o-1];break;case"B":g=!1,n=!0,h=x;break;case"S":r=!0,h="N"}return h},w=function(e,t,n){var r=e.split("");return n&&j(r,n,{hiLevel:x}),r.reverse(),t&&t.reverse(),r.join("")},j=function(e,t,a){var i,s,o,l,c,p=-1,m=e.length,f=0,y=[],w=x?u:d,j=[];for(g=!1,n=!1,r=!1,s=0;s<m;s++)j[s]=b(e[s]);for(o=0;o<m;o++){if(c=f,y[o]=v(e,j,y,o),i=240&(f=w[c][h[y[o]]]),f&=15,t[o]=l=w[f][5],i>0)if(16===i){for(s=p;s<o;s++)t[s]=1;p=-1}else p=-1;if(w[f][6])-1===p&&(p=o);else if(p>-1){for(s=p;s<o;s++)t[s]=l;p=-1}"B"===j[o]&&(t[o]=0),a.hiLevel|=l}r&&function(e,t,n){for(var r=0;r<n;r++)if("S"===e[r]){t[r]=x;for(var a=r-1;a>=0&&"WS"===e[a];a--)t[a]=x}}(j,t,m)},N=function(e,t,r,a,i){if(!(i.hiLevel<e)){if(1===e&&1===x&&!n)return t.reverse(),void(r&&r.reverse());for(var s,o,l,c,d=t.length,u=0;u<d;){if(a[u]>=e){for(l=u+1;l<d&&a[l]>=e;)l++;for(c=u,o=l-1;c<o;c++,o--)s=t[c],t[c]=t[o],t[o]=s,r&&(s=r[c],r[c]=r[o],r[o]=s);u=l}u++}}},k=function(e,t,n){var r=e.split(""),a={hiLevel:x};return n||(n=[]),j(r,n,a),function(e,t,n){if(0!==n.hiLevel&&l)for(var r,a=0;a<e.length;a++)1===t[a]&&(r=m.indexOf(e[a]))>=0&&(e[a]=m[r+1])}(r,n,a),N(2,r,t,n,a),N(1,r,t,n,a),r.join("")};return this.__bidiEngine__.doBidiReorder=function(e,t,n){if(function(e,t){if(t)for(var n=0;n<e.length;n++)t[n]=n;void 0===i&&(i=y(e)),void 0===o&&(o=y(e))}(e,t),a||!s||o)if(a&&s&&i^o)x=i?1:0,e=w(e,t,n);else if(!a&&s&&o)x=i?1:0,e=k(e,t,n),e=w(e,t);else if(!a||i||s||o){if(a&&!s&&i^o)e=w(e,t),i?(x=0,e=k(e,t,n)):(x=1,e=k(e,t,n),e=w(e,t));else if(a&&i&&!s&&o)x=1,e=k(e,t,n),e=w(e,t);else if(!a&&!s&&i^o){var r=l;i?(x=1,e=k(e,t,n),x=0,l=!1,e=k(e,t,n),l=r):(x=0,e=k(e,t,n),e=w(e,t),x=1,l=!1,e=k(e,t,n),l=r,e=w(e,t))}}else x=0,e=k(e,t,n);else x=i?1:0,e=k(e,t,n);return e},this.__bidiEngine__.setOptions=function(e){e&&(a=e.isInputVisual,s=e.isOutputVisual,i=e.isInputRtl,o=e.isOutputRtl,l=e.isSymmetricSwapping)},this.__bidiEngine__.setOptions(e),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(e){var t=e.text;e.x,e.y;var r=e.options||{};e.mutex,r.lang;var a=[];if(r.isInputVisual="boolean"!=typeof r.isInputVisual||r.isInputVisual,n.setOptions(r),"[object Array]"===Object.prototype.toString.call(t)){var i=0;for(a=[],i=0;i<t.length;i+=1)"[object Array]"===Object.prototype.toString.call(t[i])?a.push([n.doBidiReorder(t[i][0]),t[i][1],t[i][2]]):a.push([n.doBidiReorder(t[i])]);e.text=a}else e.text=n.doBidiReorder(t);n.setOptions({isInputVisual:!0})}])}(iie),iie.API.TTFFont=function(){function e(e){var t;if(this.rawData=e,t=this.contents=new Mse(e),this.contents.pos=4,"ttcf"===t.readString(4))throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new Xse(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new Pse(this.contents),this.head=new Ise(this),this.name=new $se(this),this.cmap=new Fse(this),this.toUnicode={},this.hhea=new Hse(this),this.maxp=new Use(this),this.hmtx=new Vse(this),this.post=new Bse(this),this.os2=new zse(this),this.loca=new Jse(this),this.glyf=new Gse(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var e,t,n,r,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var t,n,r,a;for(a=[],t=0,n=(r=this.bbox).length;t<n;t++)e=r[t],a.push(Math.round(e*this.scaleFactor));return a}.call(this),this.stemV=0,this.post.exists?(n=255&(r=this.post.italic_angle),32768&(t=r>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=1===(a=this.familyClass)||2===a||3===a||4===a||5===a||7===a,this.isScript=10===this.familyClass,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),0!==this.italicAngle&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(e){var t;return(null!=(t=this.cmap.unicode)?t.codeMap[e]:void 0)||0},e.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},e.prototype.widthOfString=function(e,t,n){var r,a,i,s;for(i=0,a=0,s=(e=""+e).length;0<=s?a<s:a>s;a=0<=s?++a:--a)r=e.charCodeAt(a),i+=this.widthOfGlyph(this.characterToGlyph(r))+n*(1e3/t)||0;return i*(t/1e3)},e.prototype.lineHeight=function(e,t){var n;return null==t&&(t=!1),n=t?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},e}();var Ese,Mse=function(){function e(e){this.data=null!=e?e:[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(e){return this.data[this.pos++]=e},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},e.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},e.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},e.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},e.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},e.prototype.readString=function(e){var t,n;for(n=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)n[t]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(e){var t,n,r;for(r=[],t=0,n=e.length;0<=n?t<n:t>n;t=0<=n?++t:--t)r.push(this.writeByte(e.charCodeAt(t)));return r},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(e){return this.writeInt16(e)},e.prototype.readLongLong=function(){var e,t,n,r,a,i,s,o;return e=this.readByte(),t=this.readByte(),n=this.readByte(),r=this.readByte(),a=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^n)+4294967296*(255^r)+16777216*(255^a)+65536*(255^i)+256*(255^s)+(255^o)+1):72057594037927940*e+281474976710656*t+1099511627776*n+4294967296*r+16777216*a+65536*i+256*s+o},e.prototype.writeLongLong=function(e){var t,n;return t=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(e){return this.writeInt32(e)},e.prototype.read=function(e){var t,n;for(t=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)t.push(this.readByte());return t},e.prototype.write=function(e){var t,n,r,a;for(a=[],n=0,r=e.length;n<r;n++)t=e[n],a.push(this.writeByte(t));return a},e}(),Pse=function(){var e;function t(e){var t,n,r;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},n=0,r=this.tableCount;0<=r?n<r:n>r;n=0<=r?++n:--n)t={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[t.tag]=t}return t.prototype.encode=function(t){var n,r,a,i,s,o,l,c,d,u,h,p,m;for(m in h=Object.keys(t).length,o=Math.log(2),d=16*Math.floor(Math.log(h)/o),i=Math.floor(d/o),c=16*h-d,(r=new Mse).writeInt(this.scalarType),r.writeShort(h),r.writeShort(d),r.writeShort(i),r.writeShort(c),a=16*h,l=r.pos+a,s=null,p=[],t)for(u=t[m],r.writeString(m),r.writeInt(e(u)),r.writeInt(l),r.writeInt(u.length),p=p.concat(u),"head"===m&&(s=l),l+=u.length;l%4;)p.push(0),l++;return r.write(p),n=2981146554-e(r.data),r.pos=s+8,r.writeUInt32(n),r.data},e=function(e){var t,n,r,a;for(e=qse.call(e);e.length%4;)e.push(0);for(r=new Mse(e),n=0,t=0,a=e.length;t<a;t=t+=4)n+=r.readUInt32();return 4294967295&n},t}(),Dse={}.hasOwnProperty,Lse=function(e,t){for(var n in t)Dse.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};Ese=function(){function e(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var Ise=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Lse(e,Ese),e.prototype.tag="head",e.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},e.prototype.encode=function(e){var t;return(t=new Mse).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},e}(),Rse=function(){function e(e,t){var n,r,a,i,s,o,l,c,d,u,h,p,m,f,g,x,b;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),d=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=3===this.platformID&&1===this.encodingID&&4===this.format||0===this.platformID&&4===this.format,this.codeMap={},this.format){case 0:for(o=0;o<256;++o)this.codeMap[o]=e.readByte();break;case 4:for(h=e.readUInt16(),u=h/2,e.pos+=6,a=function(){var t,n;for(n=[],o=t=0;0<=u?t<u:t>u;o=0<=u?++t:--t)n.push(e.readUInt16());return n}(),e.pos+=2,m=function(){var t,n;for(n=[],o=t=0;0<=u?t<u:t>u;o=0<=u?++t:--t)n.push(e.readUInt16());return n}(),l=function(){var t,n;for(n=[],o=t=0;0<=u?t<u:t>u;o=0<=u?++t:--t)n.push(e.readUInt16());return n}(),c=function(){var t,n;for(n=[],o=t=0;0<=u?t<u:t>u;o=0<=u?++t:--t)n.push(e.readUInt16());return n}(),r=(this.length-e.pos+this.offset)/2,s=function(){var t,n;for(n=[],o=t=0;0<=r?t<r:t>r;o=0<=r?++t:--t)n.push(e.readUInt16());return n}(),o=g=0,b=a.length;g<b;o=++g)for(f=a[o],n=x=p=m[o];p<=f?x<=f:x>=f;n=p<=f?++x:--x)0===c[o]?i=n+l[o]:0!==(i=s[c[o]/2+(n-p)-(u-o)]||0)&&(i+=l[o]),this.codeMap[n]=65535&i}e.pos=d}return e.encode=function(e,t){var n,r,a,i,s,o,l,c,d,u,h,p,m,f,g,x,b,y,v,w,j,N,k,S,C,_,A,T,O,E,M,P,D,L,I,R,F,H,z,B,W,$,U,V,q,G;switch(T=new Mse,i=Object.keys(e).sort(function(e,t){return e-t}),t){case"macroman":for(m=0,f=function(){var e=[];for(p=0;p<256;++p)e.push(0);return e}(),x={0:0},a={},O=0,D=i.length;O<D;O++)null==x[U=e[r=i[O]]]&&(x[U]=++m),a[r]={old:e[r],new:x[e[r]]},f[r]=x[e[r]];return T.writeUInt16(1),T.writeUInt16(0),T.writeUInt32(12),T.writeUInt16(0),T.writeUInt16(262),T.writeUInt16(0),T.write(f),{charMap:a,subtable:T.data,maxGlyphID:m+1};case"unicode":for(_=[],d=[],b=0,x={},n={},g=l=null,E=0,L=i.length;E<L;E++)null==x[v=e[r=i[E]]]&&(x[v]=++b),n[r]={old:v,new:x[v]},s=x[v]-r,null!=g&&s===l||(g&&d.push(g),_.push(r),l=s),g=r;for(g&&d.push(g),d.push(65535),_.push(65535),S=2*(k=_.length),N=2*Math.pow(Math.log(k)/Math.LN2,2),u=Math.log(N/2)/Math.LN2,j=2*k-N,o=[],w=[],h=[],p=M=0,I=_.length;M<I;p=++M){if(C=_[p],c=d[p],65535===C){o.push(0),w.push(0);break}if(C-(A=n[C].new)>=32768)for(o.push(0),w.push(2*(h.length+k-p)),r=P=C;C<=c?P<=c:P>=c;r=C<=c?++P:--P)h.push(n[r].new);else o.push(A-C),w.push(0)}for(T.writeUInt16(3),T.writeUInt16(1),T.writeUInt32(12),T.writeUInt16(4),T.writeUInt16(16+8*k+2*h.length),T.writeUInt16(0),T.writeUInt16(S),T.writeUInt16(N),T.writeUInt16(u),T.writeUInt16(j),W=0,R=d.length;W<R;W++)r=d[W],T.writeUInt16(r);for(T.writeUInt16(0),$=0,F=_.length;$<F;$++)r=_[$],T.writeUInt16(r);for(V=0,H=o.length;V<H;V++)s=o[V],T.writeUInt16(s);for(q=0,z=w.length;q<z;q++)y=w[q],T.writeUInt16(y);for(G=0,B=h.length;G<B;G++)m=h[G],T.writeUInt16(m);return{charMap:n,subtable:T.data,maxGlyphID:b+1}}},e}(),Fse=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Lse(e,Ese),e.prototype.tag="cmap",e.prototype.parse=function(e){var t,n,r;for(e.pos=this.offset,this.version=e.readUInt16(),r=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=r?n<r:n>r;n=0<=r?++n:--n)t=new Rse(e,this.offset),this.tables.push(t),t.isUnicode&&null==this.unicode&&(this.unicode=t);return!0},e.encode=function(e,t){var n,r;return null==t&&(t="macroman"),n=Rse.encode(e,t),(r=new Mse).writeUInt16(0),r.writeUInt16(1),n.table=r.data.concat(n.subtable),n},e}(),Hse=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Lse(e,Ese),e.prototype.tag="hhea",e.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},e}(),zse=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Lse(e,Ese),e.prototype.tag="OS/2",e.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var t,n;for(n=[],t=0;t<10;++t)n.push(e.readByte());return n}(),this.charRange=function(){var t,n;for(n=[],t=0;t<4;++t)n.push(e.readInt());return n}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var t,n;for(n=[],t=0;t<2;t=++t)n.push(e.readInt());return n}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},e}(),Bse=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Lse(e,Ese),e.prototype.tag="post",e.prototype.parse=function(e){var t,n,r;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var a;for(n=e.readUInt16(),this.glyphNameIndex=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],r=[];e.pos<this.offset+this.length;)t=e.readByte(),r.push(this.names.push(e.readString(t)));return r;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=function(){var t,n,r;for(r=[],a=t=0,n=this.file.maxp.numGlyphs;0<=n?t<n:t>n;a=0<=n?++t:--t)r.push(e.readUInt32());return r}.call(this)}},e}(),Wse=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},$se=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Lse(e,Ese),e.prototype.tag="name",e.prototype.parse=function(e){var t,n,r,a,i,s,o,l,c,d,u;for(e.pos=this.offset,e.readShort(),t=e.readShort(),s=e.readShort(),n=[],a=0;0<=t?a<t:a>t;a=0<=t?++a:--a)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+s+e.readShort()});for(o={},a=c=0,d=n.length;c<d;a=++c)r=n[a],e.pos=r.offset,l=e.readString(r.length),i=new Wse(l,r),null==o[u=r.nameID]&&(o[u]=[]),o[r.nameID].push(i);this.strings=o,this.copyright=o[0],this.fontFamily=o[1],this.fontSubfamily=o[2],this.uniqueSubfamily=o[3],this.fontName=o[4],this.version=o[5];try{this.postscriptName=o[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch(h){this.postscriptName=o[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=o[7],this.manufacturer=o[8],this.designer=o[9],this.description=o[10],this.vendorUrl=o[11],this.designerUrl=o[12],this.license=o[13],this.licenseUrl=o[14],this.preferredFamily=o[15],this.preferredSubfamily=o[17],this.compatibleFull=o[18],this.sampleText=o[19]},e}(),Use=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Lse(e,Ese),e.prototype.tag="maxp",e.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},e}(),Vse=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Lse(e,Ese),e.prototype.tag="hmtx",e.prototype.parse=function(e){var t,n,r,a,i,s,o;for(e.pos=this.offset,this.metrics=[],t=0,s=this.file.hhea.numberOfMetrics;0<=s?t<s:t>s;t=0<=s?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(r=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var n,a;for(a=[],t=n=0;0<=r?n<r:n>r;t=0<=r?++n:--n)a.push(e.readInt16());return a}(),this.widths=function(){var e,t,n,r;for(r=[],e=0,t=(n=this.metrics).length;e<t;e++)a=n[e],r.push(a.advance);return r}.call(this),n=this.widths[this.widths.length-1],o=[],t=i=0;0<=r?i<r:i>r;t=0<=r?++i:--i)o.push(this.widths.push(n));return o},e.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},e}(),qse=[].slice,Gse=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Lse(e,Ese),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(e){var t,n,r,a,i,s,o,l,c,d;return e in this.cache?this.cache[e]:(a=this.file.loca,t=this.file.contents,n=a.indexOf(e),0===(r=a.lengthOf(e))?this.cache[e]=null:(t.pos=this.offset+n,i=(s=new Mse(t.read(r))).readShort(),l=s.readShort(),d=s.readShort(),o=s.readShort(),c=s.readShort(),this.cache[e]=-1===i?new Kse(s,l,d,o,c):new Yse(s,i,l,d,o,c),this.cache[e]))},e.prototype.encode=function(e,t,n){var r,a,i,s,o;for(i=[],a=[],s=0,o=t.length;s<o;s++)r=e[t[s]],a.push(i.length),r&&(i=i.concat(r.encode(n)));return a.push(i.length),{table:i,offsets:a}},e}(),Yse=function(){function e(e,t,n,r,a,i){this.raw=e,this.numberOfContours=t,this.xMin=n,this.yMin=r,this.xMax=a,this.yMax=i,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),Kse=function(){function e(e,t,n,r,a){var i,s;for(this.raw=e,this.xMin=t,this.yMin=n,this.xMax=r,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],i=this.raw;s=i.readShort(),this.glyphOffsets.push(i.pos),this.glyphIDs.push(i.readUInt16()),32&s;)i.pos+=1&s?4:2,128&s?i.pos+=8:64&s?i.pos+=4:8&s&&(i.pos+=2)}return e.prototype.encode=function(){var e,t,n;for(t=new Mse(qse.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)t.pos=this.glyphOffsets[e];return t.data},e}(),Jse=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Lse(e,Ese),e.prototype.tag="loca",e.prototype.parse=function(e){var t,n;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=0===t?function(){var t,r;for(r=[],n=0,t=this.length;n<t;n+=2)r.push(2*e.readUInt16());return r}.call(this):function(){var t,r;for(r=[],n=0,t=this.length;n<t;n+=4)r.push(e.readUInt32());return r}.call(this)},e.prototype.indexOf=function(e){return this.offsets[e]},e.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},e.prototype.encode=function(e,t){for(var n=new Uint32Array(this.offsets.length),r=0,a=0,i=0;i<n.length;++i)if(n[i]=r,a<t.length&&t[a]==i){++a,n[i]=r;var s=this.offsets[i],o=this.offsets[i+1]-s;o>0&&(r+=o)}for(var l=new Array(4*n.length),c=0;c<n.length;++c)l[4*c+3]=255&n[c],l[4*c+2]=(65280&n[c])>>8,l[4*c+1]=(16711680&n[c])>>16,l[4*c]=(4278190080&n[c])>>24;return l},e}(),Xse=function(){function e(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var e,t,n,r,a;for(t in r=this.font.cmap.tables[0].codeMap,e={},a=this.subset)n=a[t],e[t]=r[n];return e},e.prototype.glyphsFor=function(e){var t,n,r,a,i,s,o;for(r={},i=0,s=e.length;i<s;i++)r[a=e[i]]=this.font.glyf.glyphFor(a);for(a in t=[],r)(null!=(n=r[a])?n.compound:void 0)&&t.push.apply(t,n.glyphIDs);if(t.length>0)for(a in o=this.glyphsFor(t))n=o[a],r[a]=n;return r},e.prototype.encode=function(e,t){var n,r,a,i,s,o,l,c,d,u,h,p,m,f,g;for(r in n=Fse.encode(this.generateCmap(),"unicode"),i=this.glyphsFor(e),h={0:0},g=n.charMap)h[(o=g[r]).old]=o.new;for(p in u=n.maxGlyphID,i)p in h||(h[p]=u++);return c=function(e){var t,n;for(t in n={},e)n[e[t]]=t;return n}(h),d=Object.keys(c).sort(function(e,t){return e-t}),m=function(){var e,t,n;for(n=[],e=0,t=d.length;e<t;e++)s=d[e],n.push(c[s]);return n}(),a=this.font.glyf.encode(i,m,h),l=this.font.loca.encode(a.offsets,m),f={cmap:this.font.cmap.raw(),glyf:a.table,loca:l,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(f["OS/2"]=this.font.os2.raw()),this.font.directory.encode(f)},e}();function Qse(e,t,n,r,a){r=r||{};var i=a.internal.scaleFactor,s=a.internal.getFontSize()/i,o=s*(a.getLineHeightFactor?a.getLineHeightFactor():1.15),l="",c=1;if("middle"!==r.valign&&"bottom"!==r.valign&&"center"!==r.halign&&"right"!==r.halign||(c=(l="string"==typeof e?e.split(/\r\n|\r|\n/g):e).length||1),n+=s*(2-1.15),"middle"===r.valign?n-=c/2*o:"bottom"===r.valign&&(n-=c*o),"center"===r.halign||"right"===r.halign){var d=s;if("center"===r.halign&&(d*=.5),l&&c>=1){for(var u=0;u<l.length;u++)a.text(l[u],t-a.getStringUnitWidth(l[u])*d,n),n+=o;return a}t-=a.getStringUnitWidth(e)*d}return"justify"===r.halign?a.text(e,t,n,{maxWidth:r.maxWidth||100,align:"justify"}):a.text(e,t,n),a}iie.API.PDFObject=function(){var e;function t(){}return e=function(e,t){return(Array(t+1).join("0")+e).slice(-t)},t.convert=function(n){var r,a,i,s;if(Array.isArray(n))return"["+function(){var e,a,i;for(i=[],e=0,a=n.length;e<a;e++)r=n[e],i.push(t.convert(r));return i}().join(" ")+"]";if("string"==typeof n)return"/"+n;if(null!=n?n.isString:void 0)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if("[object Object]"==={}.toString.call(n)){for(a in i=["<<"],n)s=n[a],i.push("/"+a+" "+t.convert(s));return i.push(">>"),i.join("\n")}return""+n},t}();var Zse={},eoe=function(){function e(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(e,t){void 0===t&&(t=null),t?t.__autoTableDocumentDefaults=e:Zse=e},e.unifyColor=function(e){return Array.isArray(e)?e:"number"==typeof e?[e,e,e]:"string"==typeof e?[e]:null},e.prototype.applyStyles=function(t,n){var r,a,i;void 0===n&&(n=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var s=this.jsPDFDocument.internal.getFont(),o=s.fontStyle,l=s.fontName;if(t.font&&(l=t.font),t.fontStyle){o=t.fontStyle;var c=this.getFontList()[l];c&&-1===c.indexOf(o)&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(c[0]),o=c[0])}if(this.jsPDFDocument.setFont(l,o),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!n){var d=e.unifyColor(t.fillColor);d&&(r=this.jsPDFDocument).setFillColor.apply(r,d),(d=e.unifyColor(t.textColor))&&(a=this.jsPDFDocument).setTextColor.apply(a,d),(d=e.unifyColor(t.lineColor))&&(i=this.jsPDFDocument).setDrawColor.apply(i,d),"number"==typeof t.lineWidth&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(e,t,n){return this.jsPDFDocument.splitTextToSize(e,t,n)},e.prototype.rect=function(e,t,n,r,a){return this.jsPDFDocument.rect(e,t,n,r,a)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return Zse||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return null==e.width&&(e={width:e.getWidth(),height:e.getHeight()}),e},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e}(),toe=function(e,t){return(toe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function noe(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}toe(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}"function"==typeof SuppressedError&&SuppressedError;var roe=function(e){function t(t){var n=e.call(this)||this;return n._element=t,n}return noe(t,e),t}(Array);function aoe(e,t,n){return n.applyStyles(t,!0),(Array.isArray(e)?e:[e]).map(function(e){return n.getTextWidth(e)}).reduce(function(e,t){return Math.max(e,t)},0)}function ioe(e,t,n,r){var a=t.settings.tableLineWidth,i=t.settings.tableLineColor;e.applyStyles({lineWidth:a,lineColor:i});var s=soe(a,!1);s&&e.rect(n.x,n.y,t.getWidth(e.pageSize().width),r.y-n.y,s)}function soe(e,t){var n=e>0,r=t||0===t;return n&&r?"DF":n?"S":r?"F":null}function ooe(e,t){var n,r,a,i;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(3===e.length)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(2===e.length)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e=1===e.length?e[0]:t}return"object"==typeof e?("number"==typeof e.vertical&&(e.top=e.vertical,e.bottom=e.vertical),"number"==typeof e.horizontal&&(e.right=e.horizontal,e.left=e.horizontal),{left:null!==(n=e.left)&&void 0!==n?n:t,top:null!==(r=e.top)&&void 0!==r?r:t,right:null!==(a=e.right)&&void 0!==a?a:t,bottom:null!==(i=e.bottom)&&void 0!==i?i:t}):("number"!=typeof e&&(e=t),{top:e,right:e,bottom:e,left:e})}function loe(e,t){var n=ooe(t.settings.margin,0);return e.pageSize().width-(n.left+n.right)}function coe(e,t,n,r,a){var i={},s=96/72,o=doe(t,function(e){return a.getComputedStyle(e).backgroundColor});null!=o&&(i.fillColor=o);var l=doe(t,function(e){return a.getComputedStyle(e).color});null!=l&&(i.textColor=l);var c=function(e,t){var n=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],r=96/(72/t),a=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,i=ooe(n.map(function(e){return parseInt(e||"0")/r}),0);return a>i.top&&(i.top=a),a>i.bottom&&(i.bottom=a),i}(r,n);c&&(i.cellPadding=c);var d="borderTopColor",u=s*n,h=r.borderTopWidth;if(r.borderBottomWidth===h&&r.borderRightWidth===h&&r.borderLeftWidth===h){var p=(parseFloat(h)||0)/u;p&&(i.lineWidth=p)}else i.lineWidth={top:(parseFloat(r.borderTopWidth)||0)/u,right:(parseFloat(r.borderRightWidth)||0)/u,bottom:(parseFloat(r.borderBottomWidth)||0)/u,left:(parseFloat(r.borderLeftWidth)||0)/u},i.lineWidth.top||(i.lineWidth.right?d="borderRightColor":i.lineWidth.bottom?d="borderBottomColor":i.lineWidth.left&&(d="borderLeftColor"));var m=doe(t,function(e){return a.getComputedStyle(e)[d]});null!=m&&(i.lineColor=m);var f=["left","right","center","justify"];-1!==f.indexOf(r.textAlign)&&(i.halign=r.textAlign),-1!==(f=["middle","bottom","top"]).indexOf(r.verticalAlign)&&(i.valign=r.verticalAlign);var g=parseInt(r.fontSize||"");isNaN(g)||(i.fontSize=g/s);var x=function(e){var t="";return("bold"===e.fontWeight||"bolder"===e.fontWeight||parseInt(e.fontWeight)>=700)&&(t="bold"),"italic"!==e.fontStyle&&"oblique"!==e.fontStyle||(t+="italic"),t}(r);x&&(i.fontStyle=x);var b=(r.fontFamily||"").toLowerCase();return-1!==e.indexOf(b)&&(i.font=b),i}function doe(e,t){var n=uoe(e,t);if(!n)return null;var r=n.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!r||!Array.isArray(r))return null;var a=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])];return 0===parseInt(r[4])||isNaN(a[0])||isNaN(a[1])||isNaN(a[2])?null:a}function uoe(e,t){var n=t(e);return"rgba(0, 0, 0, 0)"===n||"transparent"===n||"initial"===n||"inherit"===n?null==e.parentElement?null:uoe(e.parentElement,t):n}function hoe(e,t,n,r,a){var i,s,o;void 0===r&&(r=!1),void 0===a&&(a=!1),o="string"==typeof t?n.document.querySelector(t):t;var l=Object.keys(e.getFontList()),c=e.scaleFactor(),d=[],u=[],h=[];if(!o)return{head:d,body:u,foot:h};for(var p=0;p<o.rows.length;p++){var m=o.rows[p],f=null===(s=null===(i=null==m?void 0:m.parentElement)||void 0===i?void 0:i.tagName)||void 0===s?void 0:s.toLowerCase(),g=poe(l,c,n,m,r,a);g&&("thead"===f?d.push(g):"tfoot"===f?h.push(g):u.push(g))}return{head:d,body:u,foot:h}}function poe(e,t,n,r,a,i){for(var s=new roe(r),o=0;o<r.cells.length;o++){var l=r.cells[o],c=n.getComputedStyle(l);if(a||"none"!==c.display){var d=void 0;i&&(d=coe(e,l,t,c,n)),s.push({rowSpan:l.rowSpan,colSpan:l.colSpan,styles:d,_element:l,content:moe(l)})}}var u=n.getComputedStyle(r);if(s.length>0&&(a||"none"!==u.display))return s}function moe(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(e){return e.trim()}).join("\n"),t.innerText||t.textContent||""}function foe(e,t,n,r,a){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(e),s=1;s<arguments.length;s++){var o=arguments[s];if(null!=o)for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(i[l]=o[l])}return i}function goe(e,t){var n=new eoe(e),r=n.getDocumentOptions(),a=n.getGlobalOptions();!function(e,t,n){for(var r=0,a=[e,t,n];r<a.length;r++){var i=a[r];i.startY&&"number"!=typeof i.startY&&delete i.startY}}(a,r,t);var i,s=foe({},a,r,t);"undefined"!=typeof window&&(i=window);var o=function(e,t,n){for(var r={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},a=function(a){if("columnStyles"===a){var i=e[a],s=t[a],o=n[a];r.columnStyles=foe({},i,s,o)}else{var l=[e,t,n].map(function(e){return e[a]||{}});r[a]=foe({},l[0],l[1],l[2])}},i=0,s=Object.keys(r);i<s.length;i++)a(s[i]);return r}(a,r,t),l=function(e,t,n){for(var r={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},a=0,i=[e,t,n];a<i.length;a++){var s=i[a];s.didParseCell&&r.didParseCell.push(s.didParseCell),s.willDrawCell&&r.willDrawCell.push(s.willDrawCell),s.didDrawCell&&r.didDrawCell.push(s.didDrawCell),s.willDrawPage&&r.willDrawPage.push(s.willDrawPage),s.didDrawPage&&r.didDrawPage.push(s.didDrawPage)}return r}(a,r,t),c=function(e,t){var n,r,a,i,s,o,l,c,d,u,h,p,m,f,g=ooe(t.margin,40/e.scaleFactor()),x=null!==(n=function(e,t){var n=e.getLastAutoTable(),r=e.scaleFactor(),a=e.pageNumber(),i=!1;return n&&n.startPageNumber&&(i=n.startPageNumber+n.pageNumber-1===a),"number"==typeof t?t:null!=t&&!1!==t||!i||null==(null==n?void 0:n.finalY)?null:n.finalY+20/r}(e,t.startY))&&void 0!==n?n:g.top;m=!0===t.showFoot?"everyPage":!1===t.showFoot?"never":null!==(r=t.showFoot)&&void 0!==r?r:"everyPage",f=!0===t.showHead?"everyPage":!1===t.showHead?"never":null!==(a=t.showHead)&&void 0!==a?a:"everyPage";var b=null!==(i=t.useCss)&&void 0!==i&&i,y=t.theme||(b?"plain":"striped"),v=!!t.horizontalPageBreak,w=null!==(s=t.horizontalPageBreakRepeat)&&void 0!==s?s:null;return{includeHiddenHtml:null!==(o=t.includeHiddenHtml)&&void 0!==o&&o,useCss:b,theme:y,startY:x,margin:g,pageBreak:null!==(l=t.pageBreak)&&void 0!==l?l:"auto",rowPageBreak:null!==(c=t.rowPageBreak)&&void 0!==c?c:"auto",tableWidth:null!==(d=t.tableWidth)&&void 0!==d?d:"auto",showHead:f,showFoot:m,tableLineWidth:null!==(u=t.tableLineWidth)&&void 0!==u?u:0,tableLineColor:null!==(h=t.tableLineColor)&&void 0!==h?h:200,horizontalPageBreak:v,horizontalPageBreakRepeat:w,horizontalPageBreakBehaviour:null!==(p=t.horizontalPageBreakBehaviour)&&void 0!==p?p:"afterAllRows"}}(n,s),d=function(e,t,n){var r=t.head||[],a=t.body||[],i=t.foot||[];if(t.html){var s=t.includeHiddenHtml;if(n){var o=hoe(e,t.html,n,s,t.useCss)||{};r=o.head||r,a=o.body||r,i=o.foot||r}}var l=t.columns||function(e,t,n){var r=e[0]||t[0]||n[0]||[],a=[];return Object.keys(r).filter(function(e){return"_element"!==e}).forEach(function(e){var t,n=1;"object"!=typeof(t=Array.isArray(r)?r[parseInt(e)]:r[e])||Array.isArray(t)||(n=(null==t?void 0:t.colSpan)||1);for(var i=0;i<n;i++){var s={dataKey:Array.isArray(r)?a.length:e+(i>0?"_".concat(i):"")};a.push(s)}}),a}(r,a,i);return{columns:l,head:r,body:a,foot:i}}(n,s,i);return{id:t.tableId,content:d,hooks:l,styles:o,settings:c}}var xoe,boe=function(){return function(e,t,n){this.table=t,this.pageNumber=t.pageNumber,this.settings=t.settings,this.cursor=n,this.doc=e.getDocument()}}(),yoe=function(e){function t(t,n,r,a,i,s){var o=e.call(this,t,n,s)||this;return o.cell=r,o.row=a,o.column=i,o.section=a.section,o}return noe(t,e),t}(boe),voe=function(){function e(e,t){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=t.columns,this.head=t.head,this.body=t.body,this.foot=t.foot}return e.prototype.getHeadHeight=function(e){return this.head.reduce(function(t,n){return t+n.getMaxCellHeight(e)},0)},e.prototype.getFootHeight=function(e){return this.foot.reduce(function(t,n){return t+n.getMaxCellHeight(e)},0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(e,t,n,r,a,i){for(var s=0,o=t;s<o.length;s++){var l=!1===(0,o[s])(new yoe(e,this,n,r,a,i));if(n.text=Array.isArray(n.text)?n.text:[n.text],l)return!1}return!0},e.prototype.callEndPageHooks=function(e,t){e.applyStyles(e.userStyles);for(var n=0,r=this.hooks.didDrawPage;n<r.length;n++)(0,r[n])(new boe(e,this,t))},e.prototype.callWillDrawPageHooks=function(e,t){for(var n=0,r=this.hooks.willDrawPage;n<r.length;n++)(0,r[n])(new boe(e,this,t))},e.prototype.getWidth=function(e){if("number"==typeof this.settings.tableWidth)return this.settings.tableWidth;if("wrap"===this.settings.tableWidth)return this.columns.reduce(function(e,t){return e+t.wrappedWidth},0);var t=this.settings.margin;return e-t.left-t.right},e}(),woe=function(){function e(e,t,n,r,a){void 0===a&&(a=!1),this.height=0,this.raw=e,e instanceof roe&&(this.raw=e._element,this.element=e._element),this.index=t,this.section=n,this.cells=r,this.spansMultiplePages=a}return e.prototype.getMaxCellHeight=function(e){var t=this;return e.reduce(function(e,n){var r;return Math.max(e,(null===(r=t.cells[n.index])||void 0===r?void 0:r.height)||0)},0)},e.prototype.hasRowSpan=function(e){var t=this;return e.filter(function(e){var n=t.cells[e.index];return!!n&&n.rowSpan>1}).length>0},e.prototype.canEntireRowFit=function(e,t){return this.getMaxCellHeight(t)<=e},e.prototype.getMinimumRowHeight=function(e,t){var n=this;return e.reduce(function(e,r){var a=n.cells[r.index];if(!a)return 0;var i=t.getLineHeight(a.styles.fontSize),s=a.padding("vertical")+i;return s>e?s:e},0)},e}(),joe=function(){function e(e,t,n){var r;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=t,this.section=n,this.raw=e;var a=e;null==e||"object"!=typeof e||Array.isArray(e)?(this.rowSpan=1,this.colSpan=1):(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,a=null!==(r=e.content)&&void 0!==r?r:e,e._element&&(this.raw=e._element));var i=null!=a?""+a:"";this.text=i.split(/\r\n|\r|\n/g)}return e.prototype.getTextPos=function(){var e,t;if("top"===this.styles.valign)e=this.y+this.padding("top");else if("bottom"===this.styles.valign)e=this.y+this.height-this.padding("bottom");else{var n=this.height-this.padding("vertical");e=this.y+n/2+this.padding("top")}if("right"===this.styles.halign)t=this.x+this.width-this.padding("right");else if("center"===this.styles.halign){var r=this.width-this.padding("horizontal");t=this.x+r/2+this.padding("left")}else t=this.x+this.padding("left");return{x:t,y:e}},e.prototype.getContentHeight=function(e,t){void 0===t&&(t=1.15);var n=(Array.isArray(this.text)?this.text.length:1)*(this.styles.fontSize/e*t)+this.padding("vertical");return Math.max(n,this.styles.minCellHeight)},e.prototype.padding=function(e){var t=ooe(this.styles.cellPadding,0);return"vertical"===e?t.top+t.bottom:"horizontal"===e?t.left+t.right:t[e]},e}(),Noe=function(){function e(e,t,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=t,this.index=n}return e.prototype.getMaxCustomCellWidth=function(e){for(var t=0,n=0,r=e.allRows();n<r.length;n++){var a=r[n].cells[this.index];a&&"number"==typeof a.styles.cellWidth&&(t=Math.max(t,a.styles.cellWidth))}return t},e}();function koe(e,t,n){for(var r=t,a=e.reduce(function(e,t){return e+t.wrappedWidth},0),i=0;i<e.length;i++){var s=e[i],o=r*(s.wrappedWidth/a),l=s.width+o,c=n(s),d=l<c?c:l;t-=d-s.width,s.width=d}if(t=Math.round(1e10*t)/1e10){var u=e.filter(function(e){return!(t<0)||e.width>n(e)});u.length&&(t=koe(u,t,n))}return t}function Soe(e,t,n,r,a){return e.map(function(e){return function(e,t,n,r,a){var i=1e4*r.scaleFactor();if((t=Math.ceil(t*i)/i)>=aoe(e,n,r))return e;for(;t<aoe(e+a,n,r)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+a}(e,t,n,r,a)})}function Coe(e,t){var n=new eoe(e),r=function(e,t){var n,r=e.content,a=function(e){return e.map(function(e,t){var n,r;return r="object"==typeof e&&null!==(n=e.dataKey)&&void 0!==n?n:t,new Noe(r,e,t)})}(r.columns);(0===r.head.length&&(n=Aoe(a,"head"))&&r.head.push(n),0===r.foot.length)&&((n=Aoe(a,"foot"))&&r.foot.push(n));var i=e.settings.theme,s=e.styles;return{columns:a,head:_oe("head",r.head,a,s,i,t),body:_oe("body",r.body,a,s,i,t),foot:_oe("foot",r.foot,a,s,i,t)}}(t,n.scaleFactor()),a=new voe(t,r);return function(e,t){!function(e,t){var n=e.scaleFactor(),r=t.settings.horizontalPageBreak,a=loe(e,t);t.allRows().forEach(function(i){for(var s=0,o=t.columns;s<o.length;s++){var l=o[s],c=i.cells[l.index];if(c){var d=t.hooks.didParseCell;t.callCellHooks(e,d,c,i,l,null);var u=c.padding("horizontal");c.contentWidth=aoe(c.text,c.styles,e)+u;var h=aoe(c.text.join(" ").split(/[^\S\u00A0]+/),c.styles,e);if(c.minReadableWidth=h+c.padding("horizontal"),"number"==typeof c.styles.cellWidth)c.minWidth=c.styles.cellWidth,c.wrappedWidth=c.styles.cellWidth;else if("wrap"===c.styles.cellWidth||!0===r)c.contentWidth>a?(c.minWidth=a,c.wrappedWidth=a):(c.minWidth=c.contentWidth,c.wrappedWidth=c.contentWidth);else{var p=10/n;c.minWidth=c.styles.minCellWidth||p,c.wrappedWidth=c.contentWidth,c.minWidth>c.wrappedWidth&&(c.wrappedWidth=c.minWidth)}}}}),t.allRows().forEach(function(e){for(var n=0,r=t.columns;n<r.length;n++){var a=r[n],i=e.cells[a.index];if(i&&1===i.colSpan)a.wrappedWidth=Math.max(a.wrappedWidth,i.wrappedWidth),a.minWidth=Math.max(a.minWidth,i.minWidth),a.minReadableWidth=Math.max(a.minReadableWidth,i.minReadableWidth);else{var s=t.styles.columnStyles[a.dataKey]||t.styles.columnStyles[a.index]||{},o=s.cellWidth||s.minCellWidth;o&&"number"==typeof o&&(a.minWidth=o,a.wrappedWidth=o)}i&&(i.colSpan>1&&!a.minWidth&&(a.minWidth=i.minWidth),i.colSpan>1&&!a.wrappedWidth&&(a.wrappedWidth=i.minWidth))}})}(e,t);var n=[],r=0;t.columns.forEach(function(e){var a=e.getMaxCustomCellWidth(t);a?e.width=a:(e.width=e.wrappedWidth,n.push(e)),r+=e.width});var a=t.getWidth(e.pageSize().width)-r;a&&(a=koe(n,a,function(e){return Math.max(e.minReadableWidth,e.minWidth)})),a&&(a=koe(n,a,function(e){return e.minWidth})),a=Math.abs(a),!t.settings.horizontalPageBreak&&a>.1/e.scaleFactor()&&(a=a<1?a:Math.round(a)),function(e){for(var t=e.allRows(),n=0;n<t.length;n++)for(var r=t[n],a=null,i=0,s=0,o=0;o<e.columns.length;o++){var l=e.columns[o];if((s-=1)>1&&e.columns[o+1])i+=l.width,delete r.cells[l.index];else if(a){var c=a;delete r.cells[l.index],a=null,c.width=l.width+i}else{if(!(c=r.cells[l.index]))continue;if(s=c.colSpan,i=0,c.colSpan>1){a=c,i+=l.width;continue}c.width=l.width+i}}}(t),function(e,t){for(var n={count:0,height:0},r=0,a=e.allRows();r<a.length;r++){for(var i=a[r],s=0,o=e.columns;s<o.length;s++){var l=o[s],c=i.cells[l.index];if(c){t.applyStyles(c.styles,!0);var d=c.width-c.padding("horizontal");if("linebreak"===c.styles.overflow)c.text=t.splitTextToSize(c.text,d+1/t.scaleFactor(),{fontSize:c.styles.fontSize});else if("ellipsize"===c.styles.overflow)c.text=Soe(c.text,d,c.styles,t,"...");else if("hidden"===c.styles.overflow)c.text=Soe(c.text,d,c.styles,t,"");else if("function"==typeof c.styles.overflow){var u=c.styles.overflow(c.text,d);c.text="string"==typeof u?[u]:u}c.contentHeight=c.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var h=c.contentHeight/c.rowSpan;c.rowSpan>1&&n.count*n.height<h*c.rowSpan?n={height:h,count:c.rowSpan}:n&&n.count>0&&n.height>h&&(h=n.height),h>i.height&&(i.height=h)}}n.count--}}(t,e),function(e){for(var t={},n=1,r=e.allRows(),a=0;a<r.length;a++)for(var i=r[a],s=0,o=e.columns;s<o.length;s++){var l=o[s],c=t[l.index];if(n>1)n--,delete i.cells[l.index];else if(c)c.cell.height+=i.height,n=c.cell.colSpan,delete i.cells[l.index],c.left--,c.left<=1&&delete t[l.index];else{var d=i.cells[l.index];if(!d)continue;if(d.height=i.height,d.rowSpan>1){var u=r.length-a,h=d.rowSpan>u?u:d.rowSpan;t[l.index]={cell:d,left:h,row:i}}}}}(t)}(n,a),n.applyStyles(n.userStyles),a}function _oe(e,t,n,r,a,i){var s={};return t.map(function(t,o){for(var l=0,c={},d=0,u=0,h=0,p=n;h<p.length;h++){var m=p[h];if(null==s[m.index]||0===s[m.index].left)if(0===u){var f,g={};"object"!=typeof(f=Array.isArray(t)?t[m.index-d-l]:t[m.dataKey])||Array.isArray(f)||(g=(null==f?void 0:f.styles)||{});var x=Toe(e,m,o,a,r,i,g),b=new joe(f,x,e);c[m.dataKey]=b,c[m.index]=b,u=b.colSpan-1,s[m.index]={left:b.rowSpan-1,times:u}}else u--,d++;else s[m.index].left--,u=s[m.index].times,l++}return new woe(t,o,e,c)})}function Aoe(e,t){var n={};return e.forEach(function(e){if(null!=e.raw){var r=function(e,t){if("head"===e){if("object"==typeof t)return t.header||null;if("string"==typeof t||"number"==typeof t)return t}else if("foot"===e&&"object"==typeof t)return t.footer;return null}(t,e.raw);null!=r&&(n[e.dataKey]=r)}}),Object.keys(n).length>0?n:null}function Toe(e,t,n,r,a,i,s){var o,l={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}}[r];"head"===e?o=a.headStyles:"body"===e?o=a.bodyStyles:"foot"===e&&(o=a.footStyles);var c=foe({},l.table,l[e],a.styles,o),d=a.columnStyles[t.dataKey]||a.columnStyles[t.index]||{},u="body"===e?d:{},h="body"===e&&n%2==0?foe({},l.alternateRow,a.alternateRowStyles):{},p=function(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}(i),m=foe({},p,c,h,u);return foe(m,s)}function Ooe(e,t,n){var r;void 0===n&&(n={});var a=loe(e,t),i=new Map,s=[],o=[],l=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?l=t.settings.horizontalPageBreakRepeat:"string"!=typeof t.settings.horizontalPageBreakRepeat&&"number"!=typeof t.settings.horizontalPageBreakRepeat||(l=[t.settings.horizontalPageBreakRepeat]),l.forEach(function(e){var n=t.columns.find(function(t){return t.dataKey===e||t.index===e});n&&!i.has(n.index)&&(i.set(n.index,!0),s.push(n.index),o.push(t.columns[n.index]),a-=n.wrappedWidth)});for(var c=!0,d=null!==(r=null==n?void 0:n.start)&&void 0!==r?r:0;d<t.columns.length;)if(i.has(d))d++;else{var u=t.columns[d].wrappedWidth;if(!(c||a>=u))break;c=!1,s.push(d),o.push(t.columns[d]),a-=u,d++}return{colIndexes:s,columns:o,lastIndex:d-1}}function Eoe(e,t){var n=t.settings,r=n.startY,a=n.margin,i={x:a.left,y:r},s=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),o=r+a.bottom+s;"avoid"===n.pageBreak&&(o+=t.body.reduce(function(e,t){return e+t.height},0));var l=new eoe(e);("always"===n.pageBreak||null!=n.startY&&o>l.pageSize().height)&&(Boe(l),i.y=a.top),t.callWillDrawPageHooks(l,i);var c=foe({},i);t.startPageNumber=l.pageNumber(),n.horizontalPageBreak?function(e,t,n,r){var a=function(e,t){for(var n=[],r=0;r<t.columns.length;r++){var a=Ooe(e,t,{start:r});a.columns.length&&(n.push(a),r=a.lastIndex)}return n}(e,t);if("afterAllRows"===t.settings.horizontalPageBreakBehaviour)a.forEach(function(a,i){e.applyStyles(e.userStyles),i>0?zoe(e,t,n,r,a.columns,!0):Moe(e,t,r,a.columns),function(e,t,n,r,a){e.applyStyles(e.userStyles),t.body.forEach(function(i,s){var o=s===t.body.length-1;Ioe(e,t,i,o,n,r,a)})}(e,t,n,r,a.columns),Doe(e,t,r,a.columns)});else for(var i=-1,s=a[0],o=function(){var o=i;if(s){e.applyStyles(e.userStyles);var l=s.columns;i>=0?zoe(e,t,n,r,l,!0):Moe(e,t,r,l),o=Poe(e,t,i+1,r,l),Doe(e,t,r,l)}var c=o-i;a.slice(1).forEach(function(a){e.applyStyles(e.userStyles),zoe(e,t,n,r,a.columns,!0),Poe(e,t,i+1,r,a.columns,c),Doe(e,t,r,a.columns)}),i=o};i<t.body.length-1;)o()}(l,t,c,i):(l.applyStyles(l.userStyles),"firstPage"!==n.showHead&&"everyPage"!==n.showHead||t.head.forEach(function(e){return Roe(l,t,e,i,t.columns)}),l.applyStyles(l.userStyles),t.body.forEach(function(e,n){var r=n===t.body.length-1;Ioe(l,t,e,r,c,i,t.columns)}),l.applyStyles(l.userStyles),"lastPage"!==n.showFoot&&"everyPage"!==n.showFoot||t.foot.forEach(function(e){return Roe(l,t,e,i,t.columns)})),ioe(l,t,c,i),t.callEndPageHooks(l,i),t.finalY=i.y,e.lastAutoTable=t,l.applyStyles(l.userStyles)}function Moe(e,t,n,r){var a=t.settings;e.applyStyles(e.userStyles),"firstPage"!==a.showHead&&"everyPage"!==a.showHead||t.head.forEach(function(a){return Roe(e,t,a,n,r)})}function Poe(e,t,n,r,a,i){e.applyStyles(e.userStyles),i=null!=i?i:t.body.length;var s=Math.min(n+i,t.body.length),o=-1;return t.body.slice(n,s).forEach(function(i,s){var l=n+s===t.body.length-1,c=Hoe(e,t,l,r);i.canEntireRowFit(c,a)&&(Roe(e,t,i,r,a),o=n+s)}),o}function Doe(e,t,n,r){var a=t.settings;e.applyStyles(e.userStyles),"lastPage"!==a.showFoot&&"everyPage"!==a.showFoot||t.foot.forEach(function(a){return Roe(e,t,a,n,r)})}function Loe(e,t,n){var r=n.getLineHeight(e.styles.fontSize),a=e.padding("vertical"),i=Math.floor((t-a)/r);return Math.max(0,i)}function Ioe(e,t,n,r,a,i,s){var o=Hoe(e,t,r,i);if(n.canEntireRowFit(o,s))Roe(e,t,n,i,s);else if(function(e,t,n,r){var a=e.pageSize().height,i=r.settings.margin,s=a-(i.top+i.bottom);"body"===t.section&&(s-=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns));var o=t.getMinimumRowHeight(r.columns,e);if(o>s)return!0;if(!(o<n))return!1;var l=t.hasRowSpan(r.columns);return!!(t.getMaxCellHeight(r.columns)>s)||!l&&"avoid"!==r.settings.rowPageBreak}(e,n,o,t)){var l=function(e,t,n,r){var a={};e.spansMultiplePages=!0,e.height=0;for(var i=0,s=0,o=n.columns;s<o.length;s++){var l=o[s];if(g=e.cells[l.index]){Array.isArray(g.text)||(g.text=[g.text]),(f=foe(f=new joe(g.raw,g.styles,g.section),g)).text=[];var c=Loe(g,t,r);g.text.length>c&&(f.text=g.text.splice(c,g.text.length));var d=r.scaleFactor(),u=r.getLineHeightFactor();g.contentHeight=g.getContentHeight(d,u),g.contentHeight>=t&&(g.contentHeight=t,f.styles.minCellHeight-=t),g.contentHeight>e.height&&(e.height=g.contentHeight),f.contentHeight=f.getContentHeight(d,u),f.contentHeight>i&&(i=f.contentHeight),a[l.index]=f}}var h=new woe(e.raw,-1,e.section,a,!0);h.height=i;for(var p=0,m=n.columns;p<m.length;p++){var f,g;l=m[p],(f=h.cells[l.index])&&(f.height=h.height),(g=e.cells[l.index])&&(g.height=e.height)}return h}(n,o,t,e);Roe(e,t,n,i,s),zoe(e,t,a,i,s),Ioe(e,t,l,r,a,i,s)}else zoe(e,t,a,i,s),Ioe(e,t,n,r,a,i,s)}function Roe(e,t,n,r,a){r.x=t.settings.margin.left;for(var i=0,s=a;i<s.length;i++){var o=s[i],l=n.cells[o.index];if(l)if(e.applyStyles(l.styles),l.x=r.x,l.y=r.y,!1!==t.callCellHooks(e,t.hooks.willDrawCell,l,n,o,r)){Foe(e,l,r);var c=l.getTextPos();Qse(l.text,c.x,c.y,{halign:l.styles.halign,valign:l.styles.valign,maxWidth:Math.ceil(l.width-l.padding("left")-l.padding("right"))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,l,n,o,r),r.x+=o.width}else r.x+=o.width;else r.x+=o.width}r.y+=n.height}function Foe(e,t,n){var r=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),"number"==typeof r.lineWidth){var a=soe(r.lineWidth,r.fillColor);a&&e.rect(t.x,n.y,t.width,t.height,a)}else"object"==typeof r.lineWidth&&(r.fillColor&&e.rect(t.x,n.y,t.width,t.height,"F"),function(e,t,n,r){var a,i,s,o;function l(t,n,r,a,i){e.getDocument().setLineWidth(t),e.getDocument().line(n,r,a,i,"S")}r.top&&(a=n.x,i=n.y,s=n.x+t.width,o=n.y,r.right&&(s+=.5*r.right),r.left&&(a-=.5*r.left),l(r.top,a,i,s,o)),r.bottom&&(a=n.x,i=n.y+t.height,s=n.x+t.width,o=n.y+t.height,r.right&&(s+=.5*r.right),r.left&&(a-=.5*r.left),l(r.bottom,a,i,s,o)),r.left&&(a=n.x,i=n.y,s=n.x,o=n.y+t.height,r.top&&(i-=.5*r.top),r.bottom&&(o+=.5*r.bottom),l(r.left,a,i,s,o)),r.right&&(a=n.x+t.width,i=n.y,s=n.x+t.width,o=n.y+t.height,r.top&&(i-=.5*r.top),r.bottom&&(o+=.5*r.bottom),l(r.right,a,i,s,o))}(e,t,n,r.lineWidth))}function Hoe(e,t,n,r){var a=t.settings.margin.bottom,i=t.settings.showFoot;return("everyPage"===i||"lastPage"===i&&n)&&(a+=t.getFootHeight(t.columns)),e.pageSize().height-r.y-a}function zoe(e,t,n,r,a,i){void 0===a&&(a=[]),void 0===i&&(i=!1),e.applyStyles(e.userStyles),"everyPage"!==t.settings.showFoot||i||t.foot.forEach(function(n){return Roe(e,t,n,r,a)}),t.callEndPageHooks(e,r);var s=t.settings.margin;ioe(e,t,n,r),Boe(e),t.pageNumber++,r.x=s.left,r.y=s.top,n.y=s.top,t.callWillDrawPageHooks(e,r),"everyPage"===t.settings.showHead&&(t.head.forEach(function(n){return Roe(e,t,n,r,a)}),e.applyStyles(e.userStyles))}function Boe(e){var t=e.pageNumber();return e.setPage(t+1),e.pageNumber()===t&&(e.addPage(),!0)}function Woe(e,t){Eoe(e,Coe(e,goe(e,t)))}try{if("undefined"!=typeof window&&window){var $oe=window,Uoe=$oe.jsPDF||(null===(xoe=$oe.jspdf)||void 0===xoe?void 0:xoe.jsPDF);Uoe&&function(e){e.API.autoTable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Eoe(this,Coe(this,goe(this,e[0]))),this},e.API.lastAutoTable=!1,e.API.autoTableText=function(e,t,n,r){Qse(e,t,n,r,this)},e.API.autoTableSetDefaults=function(e){return eoe.setDefaults(e,this),this},e.autoTableSetDefaults=function(e,t){eoe.setDefaults(e,t)},e.API.autoTableHtmlToJson=function(e,t){var n;if(void 0===t&&(t=!1),"undefined"==typeof window)return null;var r=hoe(new eoe(this),e,window,t,!1),a=r.head,i=r.body;return{columns:(null===(n=a[0])||void 0===n?void 0:n.map(function(e){return e.content}))||[],rows:i,data:i}}}(Uoe)}}catch(Qle){}const Voe=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884D8","#82CA9D","#FF6B6B","#4ECDC4","#45B7D1","#96CEB4"],qoe=({isOpen:e,workOrder:t,onClose:n})=>{var r,a,i,s,o,l,c,d;if(!e||!t)return null;const u=e=>e?new Date(e).toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric"}):"-",p=({title:e,children:t,icon:n})=>h.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[h.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-4 border-b border-gray-200",children:h.jsxs("div",{className:"flex items-center",children:[n&&h.jsx("div",{className:"mr-3 text-blue-600",children:n}),h.jsx("h3",{className:"text-lg font-bold text-gray-900",children:e})]})}),h.jsx("div",{className:"p-6",children:t})]}),m=({label:e,value:t,icon:n,fullWidth:r=!1,priority:a="medium"})=>h.jsx("div",{className:r?"col-span-full":"",children:h.jsx("div",{className:`p-4 rounded-lg ${{high:"border-l-4 border-l-blue-500 bg-blue-25",medium:"border-l-2 border-l-gray-200",low:"border-l border-l-gray-100"}[a]} transition-all duration-200 hover:shadow-sm`,children:h.jsxs("div",{className:"flex items-start space-x-3",children:[n&&h.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:n}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1",children:e}),h.jsx("p",{className:"text-sm font-medium text-gray-900 leading-relaxed",children:t})]})]})})}),f=({label:e,htmlContent:t,icon:n,fullWidth:r=!1})=>{if(!t)return h.jsx(m,{label:e,value:"-",icon:n,fullWidth:r,priority:"low"});const a=iy.sanitize(t,{ALLOWED_TAGS:["h1","h2","h3","h4","h5","h6","p","br","span","div","ol","ul","li","strong","b","em","i","u","s","strike","code","mark","sub","sup","blockquote","pre"],ALLOWED_ATTR:["style","class","data-color","align","type","start"]});return h.jsx("div",{className:r?"col-span-full":"",children:h.jsx("div",{className:"p-4 rounded-lg border-l-2 border-l-blue-200 bg-blue-25 transition-all duration-200 hover:shadow-sm",children:h.jsxs("div",{className:"flex items-start space-x-3",children:[n&&h.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:n}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:e}),h.jsx("div",{className:"rich-text-content text-sm text-gray-900 leading-relaxed prose prose-sm max-w-none\r\n                          prose-headings:font-semibold prose-p:my-2 prose-ul:my-2 prose-ol:my-2\r\n                          prose-li:my-1 prose-strong:font-semibold prose-em:italic",dangerouslySetInnerHTML:{__html:a}})]})]})})})},g=({workOrder:e})=>{const t=e=>{switch(null==e?void 0:e.toLowerCase()){case"new":return h.jsx(nd,{className:"w-4 h-4"});case"assigned":return h.jsx(Tu,{className:"w-4 h-4"});case"in progress":return h.jsx(id,{className:"w-4 h-4"});case"resolved":return h.jsx(fu,{className:"w-4 h-4"});case"closed":return h.jsx(td,{className:"w-4 h-4"});case"cancel":return h.jsx(rd,{className:"w-4 h-4"});case"escalated":return h.jsx(ju,{className:"w-4 h-4"});case"vendor handled":return h.jsx(Mu,{className:"w-4 h-4"});default:return h.jsx(Ec,{className:"w-4 h-4"})}},n=e=>{switch(null==e?void 0:e.toLowerCase()){case"new":return"bg-blue-500";case"assigned":return"bg-purple-500";case"in progress":return"bg-yellow-500";case"resolved":return"bg-green-500";case"closed":return"bg-green-600";case"cancel":return"bg-red-500";case"escalated":return"bg-orange-500";case"vendor handled":return"bg-indigo-500";default:return"bg-gray-500"}},r=(e,t)=>({new:"Work order telah dibuat dan menunggu penanganan",assigned:`Telah ditugaskan kepada ${(null==t?void 0:t.assigned_to)||"teknisi"}`,"in progress":"Sedang dalam proses pengerjaan",resolved:"Masalah telah diselesaikan",closed:"Work order telah ditutup",cancel:"Work order dibatalkan",escalated:"Telah di-escalate ke level yang lebih tinggi","vendor handled":"Ditangani oleh vendor eksternal",updated:"Work order diperbarui"}[e.toLowerCase()]||`Status: ${e}`),a=(e,t)=>{const n=new Date(e),r=new Date(t),a=Math.abs(r.getTime()-n.getTime()),i=Math.ceil(a/864e5);if(0===i){const e=Math.ceil(a/36e5),t=Math.ceil(a/6e4);return t<60?`${t} minutes`:`${e} hours`}return`${i} day${i>1?"s":""}`},i=e=>{const t=new Date(e);return{date:t.toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric"}),time:t.toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"})}},s=(()=>{var t,n;const i=[];if(i.push({id:"created",status:"new",date:e.date,changed_by:(null==(t=e.requester)?void 0:t.name)||"System",description:"Work order dibuat",duration:"0 days",isSystemEvent:!0}),e.status_history&&e.status_history.length>0&&[...e.status_history].sort((e,t)=>new Date(e.changed_at).getTime()-new Date(t.changed_at).getTime()).forEach((t,n)=>{var s,o;const l=i[i.length-1],c=a(l.date,t.changed_at);let d=t.action,u=r(t.action);"updated"===t.action&&(null==(s=t.new_data)?void 0:s.handling_status)&&(d=t.new_data.handling_status,u=r(t.new_data.handling_status,{assigned_to:null==(o=e.assigned_to)?void 0:o.name}));let h="System";h=55===t.user_id?"DevTest User 1":41===t.user_id?"Regular User QC":57===t.user_id?"DevTest User 2":36===t.user_id?"Super Admin User":37===t.user_id?"Admin User One":40===t.user_id?"Regular User IT":42===t.user_id||56===t.user_id?"Monitor":t.changed_by?t.changed_by:`User ${t.user_id}`,i.push({id:t.id.toString(),status:d,date:t.changed_at,changed_by:h,description:u,duration:c,comments:t.comments,old_data:t.old_data,new_data:t.new_data,isStatusChange:!0})}),(null==(n=e.received_by)?void 0:n.name)&&e.handling_date&&!i.some(e=>{var t,n;return"received"===e.status||(null==(t=e.new_data)?void 0:t.received_by_id)&&"Resolved"===(null==(n=e.new_data)?void 0:n.handling_status)})){const t=i[i.length-1],n=a(t.date,e.handling_date),r={id:"received",status:"received",date:e.handling_date,changed_by:e.received_by.name,description:"Diterima oleh teknisi",duration:n,isManualEvent:!0};i.push(r)}return i.sort((e,t)=>new Date(e.date).getTime()-new Date(t.date).getTime())})();return h.jsxs("div",{className:"space-y-6",children:[s.map((r,o)=>{const l=i(r.date),c=o===s.length-1,d=(e=>{var t,n,r;return(null==(t=e.new_data)?void 0:t.handling_status)?`Diubah menjadi: ${e.new_data.handling_status}`:(null==(n=e.new_data)?void 0:n.assigned_to_id)?"Ditugaskan ke teknisi":(null==(r=e.new_data)?void 0:r.action_taken)?`Tindakan diambil: ${e.new_data.action_taken.substring(0,50)}...`:null})(r);return h.jsxs("div",{className:"flex items-start space-x-4",children:[h.jsxs("div",{className:"flex flex-col items-center",children:[h.jsx("div",{className:`w-3 h-3 rounded-full ${n(r.status)}`}),!c&&h.jsx("div",{className:"w-0.5 h-16 bg-gray-300 mt-1"})]}),h.jsxs("div",{className:"flex-1 pb-4",children:[h.jsxs("div",{className:"flex items-start justify-between mb-2",children:[h.jsxs("div",{className:"flex items-center space-x-2",children:[t(r.status),h.jsxs("div",{children:[h.jsx("span",{className:"font-semibold text-sm capitalize text-gray-900",children:r.status}),h.jsx("p",{className:"text-xs text-gray-600 mt-1",children:r.description})]})]}),h.jsxs("div",{className:"text-right",children:[h.jsx("div",{className:"text-sm font-medium text-gray-900",children:l.date}),h.jsx("div",{className:"text-xs text-gray-500",children:l.time})]})]}),h.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 space-y-2",children:[h.jsxs("div",{className:"flex justify-between items-center text-xs",children:[h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsxs("span",{className:"text-gray-600",children:[h.jsx("strong",{children:"Changed by:"})," ",r.changed_by]}),r.duration&&"0 days"!==r.duration&&h.jsxs("span",{className:"text-blue-600 font-semibold",children:["⏱️ ",r.duration]})]}),r.duration&&"0 days"!==r.duration&&o>0&&h.jsx("div",{className:"text-right",children:h.jsx("span",{className:"text-gray-500 text-xs",children:"Duration from previous"})})]}),d&&h.jsx("div",{className:"text-xs text-gray-700 bg-white p-2 rounded border",children:d}),r.comments&&h.jsxs("div",{className:"text-xs text-gray-700 bg-white p-2 rounded border",children:[h.jsx("strong",{children:"Comments:"})," ",r.comments]}),"assigned"===r.status&&e.assigned_to&&h.jsxs("div",{className:"text-xs text-gray-700",children:[h.jsx("strong",{children:"Assigned to:"})," ",e.assigned_to.name,e.assigned_to.email&&` (${e.assigned_to.email})`]}),("resolved"===r.status||"closed"===r.status)&&e.action_taken&&h.jsxs("div",{className:"text-xs text-gray-700",children:[h.jsx("strong",{children:"Action taken:"})," ",e.action_taken.substring(0,100),"..."]})]}),c&&h.jsxs("div",{className:"mt-3 p-3 bg-blue-50 rounded-lg border border-blue-200",children:[h.jsxs("div",{className:"flex items-center justify-between text-sm",children:[h.jsx("span",{className:"font-semibold text-blue-800",children:"Total duration from creation"}),h.jsx("span",{className:"font-bold text-blue-600 text-lg",children:a(e.date,r.date)})]}),h.jsxs("div",{className:"text-xs text-blue-600 mt-1",children:["Created: ",i(e.date).date," • Current: ",l.date]})]})]})]},r.id)}),"Closed"===e.handling_status&&e.handling_date&&h.jsxs("div",{className:"mt-6 p-4 bg-green-50 rounded-lg border border-green-200",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("h4",{className:"font-semibold text-green-800",children:"Work Order Completed"}),h.jsxs("p",{className:"text-sm text-green-600",children:["Total resolution time: ",a(e.date,e.handling_date)]})]}),h.jsx(td,{className:"w-8 h-8 text-green-500"})]}),h.jsxs("div",{className:"text-xs text-green-600 mt-2 grid grid-cols-2 gap-2",children:[h.jsxs("div",{children:["Created: ",i(e.date).date]}),h.jsxs("div",{children:["Completed: ",i(e.handling_date).date]}),h.jsxs("div",{className:"col-span-2",children:[h.jsx("strong",{children:"Timeline:"})," ",s.length," status changes"]})]})]})]})};return h.jsx(kc.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:h.jsxs(kc.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl mx-auto border border-blue-100 max-h-[90vh] overflow-hidden flex flex-col",children:[h.jsxs("div",{className:"flex justify-between items-center border-b border-gray-100 px-6 py-4 bg-blue-50",children:[h.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Work Order Details"}),h.jsx(kc.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:n,className:"text-gray-500 hover:text-gray-700 text-2xl p-1 rounded-full hover:bg-blue-100 transition-colors duration-200",children:h.jsx(Pu,{size:24})})]}),h.jsxs("div",{className:"overflow-y-auto custom-scrollbar p-6 space-y-6 flex-grow",children:[h.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6",children:h.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[h.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:t.work_order_no||"No Work Order Number"}),h.jsx("span",{className:"px-3 py-1 inline-flex text-xs leading-5 font-bold rounded-full "+("New"===t.handling_status?"bg-gray-100 text-gray-800 border border-gray-300":"Assigned"===t.handling_status?"bg-blue-100 text-blue-800 border border-blue-300":"In Progress"===t.handling_status?"bg-yellow-100 text-yellow-800 border border-yellow-300":"Resolved"===t.handling_status||"Closed"===t.handling_status?"bg-green-100 text-green-800 border border-green-300":"bg-gray-100 text-gray-800 border border-gray-300"),children:t.handling_status||"Unknown Status"})]}),h.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[h.jsxs("span",{className:"flex items-center gap-2",children:[h.jsx(Vc,{className:"w-4 h-4"}),"Created: ",u(t.date)]}),t.handling_date&&h.jsxs("span",{className:"flex items-center gap-2",children:[h.jsx(id,{className:"w-4 h-4"}),"Handled: ",u(t.handling_date)]})]})]})})}),h.jsx(p,{title:"General Information",icon:h.jsx(Tu,{className:"w-5 h-5"}),children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[h.jsx(m,{label:"Work Order No",value:t.work_order_no||"-",icon:h.jsx(Tu,{className:"w-4 h-4"}),priority:"high"}),h.jsx(m,{label:"Date",value:u(t.date),icon:h.jsx(Vc,{className:"w-4 h-4"}),priority:"high"}),h.jsx(m,{label:"Reception Method",value:t.reception_method||"-",icon:h.jsx(Tu,{className:"w-4 h-4"})}),h.jsx(m,{label:"Requester",value:(null==(r=t.requester)?void 0:r.name)||"-",icon:h.jsx(Tu,{className:"w-4 h-4"}),priority:"high"}),h.jsx(m,{label:"Known By",value:(null==(a=t.known_by)?void 0:a.name)||"-",icon:h.jsx(md,{className:"w-4 h-4"})}),h.jsx(m,{label:"Department",value:(null==(i=t.department)?void 0:i.name)||"-",icon:h.jsx(Ou,{className:"w-4 h-4"})})]})}),h.jsx(p,{title:"Service Details",icon:h.jsx(Mu,{className:"w-5 h-5"}),children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsx(m,{label:"Service Type",value:(null==(s=t.service_type)?void 0:s.group_name)||"-",icon:h.jsx(Mu,{className:"w-4 h-4"}),priority:"high"}),h.jsx(m,{label:"Service",value:(null==(o=t.service)?void 0:o.service_name)||"-",icon:h.jsx(Mu,{className:"w-4 h-4"}),priority:"high"}),h.jsx(m,{label:"Asset No",value:t.asset_no||"-",icon:h.jsx(Tu,{className:"w-4 h-4"})}),h.jsx(m,{label:"Device Info",value:t.device_info||"-",icon:h.jsx(Mu,{className:"w-4 h-4"})}),h.jsx(f,{label:"Complaint",htmlContent:t.complaint||"",icon:h.jsx(ju,{className:"w-4 h-4"}),fullWidth:!0})]})}),h.jsx(p,{title:"Handling Information",icon:h.jsx(id,{className:"w-5 h-5"}),children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsx(m,{label:"Status",value:t.handling_status||"-",icon:h.jsx(id,{className:"w-4 h-4"}),priority:"high"}),h.jsx(m,{label:"Received By",value:(null==(l=t.received_by)?void 0:l.name)||"-",icon:h.jsx(Tu,{className:"w-4 h-4"})}),h.jsx(m,{label:"Assigned To",value:(null==(c=t.assigned_to)?void 0:c.name)||"-",icon:h.jsx(Tu,{className:"w-4 h-4"}),priority:"high"}),h.jsx(m,{label:"Handling Date",value:u(t.handling_date),icon:h.jsx(Vc,{className:"w-4 h-4"})}),h.jsx(f,{label:"Action Taken",htmlContent:t.action_taken||"",icon:h.jsx(td,{className:"w-4 h-4"}),fullWidth:!0}),h.jsx(f,{label:"Remarks",htmlContent:t.remarks||"",icon:h.jsx(Tu,{className:"w-4 h-4"}),fullWidth:!0})]})}),t.status_history&&t.status_history.length>0&&h.jsx(p,{title:"Work Order Timeline",icon:h.jsx(wd,{className:"w-5 h-5"}),children:h.jsx(g,{workOrder:t})}),h.jsx(p,{title:"Performance Metrics",icon:h.jsx(Kc,{className:"w-5 h-5"}),children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{className:"p-4 bg-blue-25 rounded-lg border-l-4 border-l-blue-400",children:[h.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Resolution Time"}),h.jsx("p",{className:"text-lg font-bold text-blue-600",children:t.handling_date&&t.date?`${Math.ceil((new Date(t.handling_date).getTime()-new Date(t.date).getTime())/864e5)} days`:"Ongoing"})]}),h.jsxs("div",{className:"p-4 bg-green-25 rounded-lg border-l-4 border-l-green-400",children:[h.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Priority Level"}),h.jsx("p",{className:"text-lg font-bold text-green-600",children:(null==(d=t.service)?void 0:d.priority)||"Not Set"})]})]})})]}),h.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-100 px-6 py-4 bg-gray-50",children:h.jsx(kc.button,{type:"button",onClick:n,whileHover:{scale:1.03,boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.97},className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold",children:"Close Details"})})]})})},Goe=()=>{const[e,t]=x.useState(!1),[n,r]=x.useState(""),[a,i]=x.useState("all"),[s,o]=x.useState("all"),[l,c]=x.useState("all"),[d,u]=x.useState("all"),[p,m]=x.useState(!1),[f,g]=x.useState(1),[b]=x.useState(5),[y,v]=x.useState(window.innerWidth<768),[w,j]=x.useState([]),[N,k]=x.useState(!0),[S,C]=x.useState(null),[_,A]=x.useState(),[T,O]=x.useState(!1),[E,M]=x.useState("30days"),{user:P,getWorkOrdersIT:D,hasPermission:L}=gt(),I=je(),R=ye(),F="/workorders/it"===R.pathname,H="/workorders/it/receiver"===R.pathname,z="/workorders/it/assignment"===R.pathname,B="/workorders/it/reports"===R.pathname,W="/workorders/it/knowledgebase"===R.pathname;x.useEffect(()=>{const e=()=>{v(window.innerWidth<768),window.innerWidth<768&&t(!1)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);const $=x.useCallback(async()=>{try{k(!0);const e=await D();j(e)}catch(e){C("Failed to load work orders data")}finally{k(!1)}},[D]);x.useEffect(()=>{$()},[$]);const U=e=>{if(!e.handling_date||!e.date)return 0;const t=new Date(e.date),n=new Date(e.handling_date);return Math.ceil((n.getTime()-t.getTime())/864e5)},V=x.useCallback(()=>{const e=new Date;let t=new Date;switch(E){case"7days":t.setDate(e.getDate()-7);break;case"30days":t.setDate(e.getDate()-30);break;case"90days":t.setDate(e.getDate()-90);break;case"all":t=new Date(0)}return w.filter(e=>{var r,i,o,c,u,h,p,m,f;const g=new Date(e.date)>=t,x=(null==(r=e.work_order_no)?void 0:r.toLowerCase().includes(n.toLowerCase()))||(null==(o=null==(i=e.requester)?void 0:i.name)?void 0:o.toLowerCase().includes(n.toLowerCase()))||(null==(c=e.complaint)?void 0:c.toLowerCase().includes(n.toLowerCase()))||(null==(h=null==(u=e.service)?void 0:u.service_name)?void 0:h.toLowerCase().includes(n.toLowerCase())),b="all"===a||e.handling_status===a,y="all"===s||(null==(p=e.department)?void 0:p.name)===s,v="all"===l||(null==(m=e.service)?void 0:m.priority)===l,w="all"===d||(null==(f=e.service_type)?void 0:f.group_name)===d;return g&&x&&b&&y&&v&&w})},[w,E,n,a,s,l,d])(),q=(()=>{const e=V.filter(e=>["Resolved","Closed"].includes(e.handling_status)),t=V.filter(e=>["New","Assigned","In Progress"].includes(e.handling_status)),n=e.length>0?e.reduce((e,t)=>e+U(t),0)/e.length:0,r=Object.entries(V.reduce((e,t)=>{const n=t.handling_status||"Unknown";return e[n]=(e[n]||0)+1,e},{})).map(([e,t])=>({status:e,count:t,percentage:t/V.length*100})),a=Object.entries(V.reduce((e,t)=>{var n;const r=(null==(n=t.service)?void 0:n.priority)||"Not Set";return e[r]=(e[r]||0)+1,e},{})).map(([e,t])=>({priority:e,count:t,percentage:t/V.length*100})),i=Object.entries(V.reduce((e,t)=>{var n;const r=(null==(n=t.department)?void 0:n.name)||"Unknown";return e[r]=(e[r]||0)+1,e},{})).map(([e,t])=>({dept:e,count:t,percentage:t/V.length*100})).sort((e,t)=>t.count-e.count).slice(0,8),s=Object.entries(V.reduce((e,t)=>{var n;const r=(null==(n=t.service_type)?void 0:n.group_name)||"Unknown";return e[r]=(e[r]||0)+1,e},{})).map(([e,t])=>({serviceType:e,count:t,percentage:t/V.length*100})),o=Array.from({length:12},(e,t)=>{const n=new Date;n.setMonth(n.getMonth()-(11-t));const r=n.toLocaleDateString("id-ID",{month:"short",year:"numeric"}),a=V.filter(e=>{const t=new Date(e.date);return t.getMonth()===n.getMonth()&&t.getFullYear()===n.getFullYear()}),i=a.filter(e=>["Resolved","Closed"].includes(e.handling_status));return{month:r,created:a.length,resolved:i.length,resolutionRate:a.length>0?i.length/a.length*100:0}}),l=["New","Assigned","In Progress","Resolved","Closed","Cancel"].map(e=>{const t=V.filter(t=>t.handling_status===e),n=t.length>0?t.reduce((t,n)=>{const r=(n.status_history||[]).find(t=>t.action===e);if(r){const e=(new Date).getTime()-new Date(r.changed_at).getTime();return t+Math.ceil(e/864e5)}return t},0)/t.length:0;return{status:e,avgTimeInStatus:Math.round(n),count:t.length}}),c=Object.entries(V.reduce((e,t)=>{var n;const r=(null==(n=t.service_type)?void 0:n.group_name)||"Unknown";if(e[r]||(e[r]=[]),t.handling_date&&t.date){const n=U(t);e[r].push(n)}return e},{})).map(([e,t])=>({serviceType:e,avgResolutionTime:t.length>0?Math.round(t.reduce((e,t)=>e+t,0)/t.length):0,totalRequests:t.length,maxResolutionTime:t.length>0?Math.max(...t):0,minResolutionTime:t.length>0?Math.min(...t):0})),d=Object.entries(V.reduce((e,t)=>{var n;const r=(null==(n=t.service)?void 0:n.service_name)||"Unknown";if(e[r]||(e[r]=[]),t.handling_date&&t.date){const n=U(t);e[r].push(n)}return e},{})).map(([e,t])=>({service:e,avgResolutionTime:t.length>0?Math.round(t.reduce((e,t)=>e+t,0)/t.length):0,totalRequests:t.length})),u=["Critical","High","Medium","Low"].map(e=>{const t=V.filter(t=>{var n;return(null==(n=t.service)?void 0:n.priority)===e}),n=t.filter(e=>["Resolved","Closed"].includes(e.handling_status)&&e.handling_date&&e.date),r=n.length>0?n.reduce((e,t)=>e+U(t),0)/n.length:0;return{priority:e,avgResolutionTime:Math.round(r),total:t.length,resolved:n.length}}),h=Array.from({length:30},(e,t)=>{const n=new Date;return n.setDate(n.getDate()-(29-t)),n.toISOString().split("T")[0]}).map(e=>{const t=V.filter(t=>t.date.startsWith(e)),n=t.filter(e=>["Resolved","Closed"].includes(e.handling_status));return{date:new Date(e).toLocaleDateString("id-ID",{month:"short",day:"numeric"}),created:t.length,resolved:n.length,backlog:t.length-n.length}}),p=Object.entries(V.reduce((e,t)=>{var n,r,a,i;const s=(null==(r=null==(n=t.service)?void 0:n.owner)?void 0:r.name)||"Unknown Owner";if(e[s]||(e[s]={workOrders:[],totalResolutionTime:0,resolvedCount:0}),t.handling_date&&t.date){const n=U(t);e[s].workOrders.push({workOrderNo:t.work_order_no,priority:null==(a=t.service)?void 0:a.priority,resolutionTime:n,status:t.handling_status,service:null==(i=t.service)?void 0:i.service_name}),e[s].totalResolutionTime+=n,["Resolved","Closed"].includes(t.handling_status)&&e[s].resolvedCount++}return e},{})).map(([e,t])=>({owner:e,avgResolutionTime:t.resolvedCount>0?Math.round(t.totalResolutionTime/t.resolvedCount):0,totalWorkOrders:t.workOrders.length,resolvedWorkOrders:t.resolvedCount,workOrders:t.workOrders})),m=Object.entries(V.reduce((e,t)=>{var n,r,a;const i=(null==(n=t.assigned_to)?void 0:n.name)||"Unassigned";if(e[i]||(e[i]={workOrders:[],totalResolutionTime:0,resolvedCount:0}),t.handling_date&&t.date){const n=U(t);e[i].workOrders.push({workOrderNo:t.work_order_no,priority:null==(r=t.service)?void 0:r.priority,resolutionTime:n,status:t.handling_status,service:null==(a=t.service)?void 0:a.service_name}),e[i].totalResolutionTime+=n,["Resolved","Closed"].includes(t.handling_status)&&e[i].resolvedCount++}return e},{})).map(([e,t])=>({pic:e,avgResolutionTime:t.resolvedCount>0?Math.round(t.totalResolutionTime/t.resolvedCount):0,totalWorkOrders:t.workOrders.length,resolvedWorkOrders:t.resolvedCount,workOrders:t.workOrders}));return{total:V.length,resolved:e.length,active:t.length,avgResolutionTime:Math.round(n),resolutionRate:V.length>0?e.length/V.length*100:0,statusDistribution:r,priorityDistribution:a,departmentDistribution:i,serviceTypeDistribution:s,monthlyTrends:o,statusTimingAnalysis:l,serviceTypePerformance:c,servicePerformance:d,priorityTimingAnalysis:u,dailyTrends:h,serviceOwnerPerformance:p,picPerformance:m}})(),G=[{title:"Total Work Orders",value:q.total.toString(),change:"+12%",icon:h.jsx(fd,{})},{title:"Avg Resolution Time",value:`${q.avgResolutionTime} days`,change:q.avgResolutionTime<5?"-2 days":"+1 day",icon:h.jsx(id,{})},{title:"Service Types",value:q.serviceTypePerformance.length.toString(),change:"+3%",icon:h.jsx(Dd,{})},{title:"Active Technicians",value:q.picPerformance.filter(e=>"Unassigned"!==e.pic).length.toString(),change:"+2%",icon:h.jsx(Ou,{})}],Y=x.useCallback(()=>{if(L("export_reports")){const e=new iie;e.setFontSize(20),e.setTextColor(40,40,40),e.text("IT WORK ORDER REPORT",105,20,{align:"center"}),e.setFontSize(12),e.setTextColor(100,100,100),e.text(`Generated on: ${(new Date).toLocaleDateString("id-ID")}`,105,30,{align:"center"}),e.text("Time Range: "+("7days"===E?"Last 7 Days":"30days"===E?"Last 30 Days":"90days"===E?"Last 90 Days":"All Time"),105,37,{align:"center"}),e.setFontSize(14),e.setTextColor(40,40,40),e.text("SUMMARY STATISTICS",20,55),e.setFontSize(10),e.setTextColor(80,80,80),e.text(`Total Work Orders: ${q.total}`,20,65),e.text(`Resolved: ${q.resolved}`,20,72),e.text(`Active: ${q.active}`,20,79),e.text(`Average Resolution Time: ${q.avgResolutionTime} days`,20,86),e.text(`Resolution Rate: ${q.resolutionRate.toFixed(1)}%`,20,93),e.setFontSize(14),e.setTextColor(40,40,40),e.text("WORK ORDER DETAILS",20,110),Woe(e,{head:[["WO No","Requester","Department","Date","Status","Priority","Service Type","Assigned To","Resolution Days"]],body:V.map(e=>{var t,n,r,a,i;return[e.work_order_no||"-",(null==(t=e.requester)?void 0:t.name)||"-",(null==(n=e.department)?void 0:n.name)||"-",ne(e.date),e.handling_status||"-",(null==(r=e.service)?void 0:r.priority)||"Not Set",(null==(a=e.service_type)?void 0:a.group_name)||"-",(null==(i=e.assigned_to)?void 0:i.name)||"-",e.handling_date?U(e).toString():"Ongoing"]}),startY:115,styles:{fontSize:8,cellPadding:2},headStyles:{fillColor:[59,130,246],textColor:255,fontStyle:"bold"},alternateRowStyles:{fillColor:[240,240,240]},margin:{left:20,right:20}});const t=e.lastAutoTable.finalY+15;t<250&&(e.setFontSize(14),e.setTextColor(40,40,40),e.text("STATUS DISTRIBUTION",20,t),Woe(e,{head:[["Status","Count","Percentage"]],body:q.statusDistribution.map(e=>[e.status,e.count.toString(),`${e.percentage.toFixed(1)}%`]),startY:t+5,styles:{fontSize:8,cellPadding:2},headStyles:{fillColor:[16,185,129],textColor:255,fontStyle:"bold"},margin:{left:20,right:20}}));const n=e.getNumberOfPages();for(let r=1;r<=n;r++)e.setPage(r),e.setFontSize(8),e.setTextColor(150,150,150),e.text(`Page ${r} of ${n}`,105,290,{align:"center"}),e.text("Confidential - IT Department Report",105,295,{align:"center"});e.save(`it-workorder-report-${(new Date).toISOString().split("T")[0]}.pdf`)}else alert("You do not have permission to export reports.")},[L,V,q,E]),K=x.useCallback(()=>{if(L("export_reports")){const e=new iie;e.setFillColor(59,130,246),e.rect(0,0,210,297,"F"),e.setTextColor(255,255,255),e.setFontSize(24),e.text("IT SERVICE MANAGEMENT",105,100,{align:"center"}),e.setFontSize(18),e.text("COMPREHENSIVE REPORT",105,120,{align:"center"}),e.setFontSize(14),e.text("Period: "+("7days"===E?"Last 7 Days":"30days"===E?"Last 30 Days":"90days"===E?"Last 90 Days":"All Time"),105,150,{align:"center"}),e.text(`Generated: ${(new Date).toLocaleDateString("id-ID",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}`,105,160,{align:"center"}),e.setFontSize(10),e.text("Confidential Business Document - For Internal Use Only",105,280,{align:"center"}),e.addPage(),e.setFillColor(59,130,246),e.rect(0,0,210,30,"F"),e.setTextColor(255,255,255),e.setFontSize(16),e.text("EXECUTIVE SUMMARY",105,20,{align:"center"}),e.setTextColor(0,0,0),e.setFontSize(12);const t=50;e.text("Performance Overview:",20,t),e.setFontSize(10),e.text(`• Total Work Orders Processed: ${q.total}`,25,t+10),e.text(`• Successfully Resolved: ${q.resolved} (${q.resolutionRate.toFixed(1)}%)`,25,t+17),e.text(`• Average Resolution Time: ${q.avgResolutionTime} days`,25,t+24),e.text(`• Active/Pending Work Orders: ${q.active}`,25,t+31),e.text("Key Metrics:",20,t+50),e.text(`• Service Types Handled: ${q.serviceTypePerformance.length}`,25,t+60),e.text(`• Departments Served: ${q.departmentDistribution.length}`,25,t+67),e.text(`• Active Technicians: ${q.picPerformance.filter(e=>"Unassigned"!==e.pic).length}`,25,t+74),e.addPage(),e.setFillColor(59,130,246),e.rect(0,0,210,30,"F"),e.setTextColor(255,255,255),e.setFontSize(16),e.text("PERFORMANCE ANALYSIS",105,20,{align:"center"}),e.setTextColor(0,0,0),e.setFontSize(12),e.text("Service Type Performance:",20,50),Woe(e,{head:[["Service Type","Avg Resolution (Days)","Total Requests"]],body:q.serviceTypePerformance.sort((e,t)=>t.avgResolutionTime-e.avgResolutionTime).map(e=>[e.serviceType,e.avgResolutionTime.toString(),e.totalRequests.toString()]),startY:60,styles:{fontSize:8},headStyles:{fillColor:[16,185,129],textColor:255,fontStyle:"bold"}});const n=e.lastAutoTable.finalY+15;e.setFontSize(12),e.text("Technician Performance:",20,n),Woe(e,{head:[["Technician","Avg Resolution (Days)","Total Assigned","Resolved"]],body:q.picPerformance.filter(e=>"Unassigned"!==e.pic).sort((e,t)=>t.totalWorkOrders-e.totalWorkOrders).map(e=>[e.pic,e.avgResolutionTime.toString(),e.totalWorkOrders.toString(),e.resolvedWorkOrders.toString()]),startY:n+5,styles:{fontSize:8},headStyles:{fillColor:[245,158,11],textColor:255,fontStyle:"bold"}}),e.addPage(),e.setFillColor(59,130,246),e.rect(0,0,210,30,"F"),e.setTextColor(255,255,255),e.setFontSize(16),e.text("DETAILED WORK ORDERS",105,20,{align:"center"}),Woe(e,{head:[["Work Order No","Requester","Department","Date","Status","Priority","Service Type","Assigned To","Resolution Days"]],body:V.map(e=>{var t,n,r,a,i;return[e.work_order_no||"-",(null==(t=e.requester)?void 0:t.name)||"-",(null==(n=e.department)?void 0:n.name)||"-",ne(e.date),e.handling_status||"-",(null==(r=e.service)?void 0:r.priority)||"Not Set",(null==(a=e.service_type)?void 0:a.group_name)||"-",(null==(i=e.assigned_to)?void 0:i.name)||"-",e.handling_date?U(e).toString():"Ongoing"]}),startY:40,styles:{fontSize:6,cellPadding:1.5},headStyles:{fillColor:[59,130,246],textColor:255,fontStyle:"bold"},alternateRowStyles:{fillColor:[240,240,240]}});const r=e.getNumberOfPages();for(let a=1;a<=r;a++)e.setPage(a),e.setFontSize(8),e.setTextColor(150,150,150),e.text(`Page ${a} of ${r}`,105,290,{align:"center"}),e.text("Confidential IT Department Report",105,295,{align:"center"});e.save(`it-detailed-report-${(new Date).toISOString().split("T")[0]}.pdf`)}else alert("You do not have permission to export reports.")},[L,V,q,E]),J=e=>{switch(null==e?void 0:e.toLowerCase()){case"new":default:return"bg-gray-500 text-white";case"assigned":return"bg-blue-500 text-white";case"in progress":return"bg-yellow-500 text-white";case"escalated":return"bg-orange-500 text-white";case"vendor handled":return"bg-purple-500 text-white";case"resolved":return"bg-green-500 text-white";case"cancel":return"bg-red-500 text-white";case"closed":return"bg-green-700 text-white"}},X=f*b,Q=X-b,Z=V.slice(Q,X),ee=Math.ceil(V.length/b),te=e=>g(e);x.useEffect(()=>{g(1)},[n,a,s,l,d,E]);const ne=e=>{if(!e)return"-";try{const t=new Date(e);return isNaN(t.getTime())?"-":t.toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric"})}catch(t){return"-"}};return N?h.jsxs("div",{className:"flex h-screen items-center justify-center bg-blue-50",children:[h.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-blue-600"}),h.jsx("p",{className:"ml-4 text-lg text-gray-700",children:"Loading reports data..."})]}):S?h.jsxs("div",{className:"flex h-screen items-center justify-center bg-red-50",children:[h.jsx(ju,{className:"text-red-600 text-5xl"}),h.jsx("p",{className:"ml-4 text-lg text-red-800",children:S}),h.jsx("button",{onClick:()=>window.location.reload(),className:"ml-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Retry"})]}):h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Lu,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Fu,{mainTitle:"IT Work Order - Advanced Analytics",mainTitleHighlight:"Dashboard",description:"Comprehensive performance insights and operational analytics for IT service management.",icon:h.jsx(Kc,{}),isMobile:y,toggleSidebar:()=>{t(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[h.jsxs(kc.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"isi style mb-6 flex space-x-6 border-b border-gray-200",children:[h.jsx(kc.div,{whileTap:{scale:.98},onClick:()=>I("/workorders/it"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${F?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Request"}),h.jsx(kc.div,{whileTap:{scale:.98},onClick:()=>I("/workorders/it/receiver"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${H?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Receiver"}),h.jsx(kc.div,{whileTap:{scale:.98},onClick:()=>I("/workorders/it/assignment"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${z?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Assignment"}),h.jsx(kc.div,{whileTap:{scale:.98},onClick:()=>I("/workorders/it/reports"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${B?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Reports"}),h.jsx(kc.div,{whileTap:{scale:.98},onClick:()=>I("/workorders/it/knowledgebase"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${W?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Knowledge Base"})]}),h.jsxs(kc.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"IT Service Performance Analytics"}),h.jsx("p",{className:"text-gray-600 mt-1",children:"Advanced insights and performance metrics for IT work order management"})]}),h.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[h.jsxs("select",{value:E,onChange:e=>M(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",children:[h.jsx("option",{value:"7days",children:"Last 7 Days"}),h.jsx("option",{value:"30days",children:"Last 30 Days"}),h.jsx("option",{value:"90days",children:"Last 90 Days"}),h.jsx("option",{value:"all",children:"All Time"})]}),L("export_reports")&&h.jsxs(h.Fragment,{children:[h.jsxs(kc.button,{onClick:Y,whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 rounded-lg bg-blue-600 text-white shadow-md hover:bg-blue-700 transition-colors duration-200 flex items-center",children:[h.jsx(ru,{className:"mr-2"})," Export Summary PDF"]}),h.jsxs(kc.button,{onClick:K,whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 rounded-lg bg-green-600 text-white shadow-md hover:bg-green-700 transition-colors duration-200 flex items-center",children:[h.jsx(ru,{className:"mr-2"})," Export Detailed PDF"]})]})]})]}),h.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:G.map((e,t)=>h.jsx(kc.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1*t},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 hover:shadow-lg transition-shadow duration-200",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:e.title}),h.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.value}),h.jsxs("p",{className:"mt-2 text-xs font-semibold "+(e.change.startsWith("+")?"text-green-600":"text-red-600"),children:[e.change," from previous period"]})]}),h.jsx("div",{className:"p-3 rounded-full bg-blue-50 text-blue-600 text-xl",children:e.icon})]})},e.title))}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[h.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:[h.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[h.jsx(wu,{className:"mr-2"})," Monthly Work Order Trends"]}),h.jsx(OG,{width:"100%",height:300,children:h.jsxs(hee,{data:q.monthlyTrends,children:[h.jsx(v8,{strokeDasharray:"3 3"}),h.jsx(s9,{dataKey:"month"}),h.jsx(f9,{}),h.jsx(NG,{}),h.jsx(X8,{type:"monotone",dataKey:"created",stackId:"1",stroke:"#8884d8",fill:"#8884d8",name:"Created"}),h.jsx(X8,{type:"monotone",dataKey:"resolved",stackId:"1",stroke:"#82ca9d",fill:"#82ca9d",name:"Resolved"})]})})]}),h.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:[h.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[h.jsx(ed,{className:"mr-2"})," Status Distribution"]}),h.jsx(OG,{width:"100%",height:300,children:h.jsxs(uee,{children:[h.jsx(N4,{data:q.statusDistribution,cx:"50%",cy:"50%",labelLine:!1,label:({status:e,percentage:t})=>`${e}: ${t.toFixed(1)}%`,outerRadius:80,fill:"#8884d8",dataKey:"count",children:q.statusDistribution.map((e,t)=>h.jsx(EG,{fill:Voe[t%Voe.length]},`cell-${t}`))}),h.jsx(NG,{})]})})]})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[h.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:[h.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[h.jsx(ed,{className:"mr-2"})," Priority Resolution Time (Days)"]}),h.jsx(OG,{width:"100%",height:300,children:h.jsxs(dee,{data:q.priorityTimingAnalysis,children:[h.jsx(v8,{strokeDasharray:"3 3"}),h.jsx(s9,{dataKey:"priority"}),h.jsx(f9,{}),h.jsx(NG,{formatter:e=>[`${e} days`,"Avg Resolution Time"]}),h.jsx(C6,{dataKey:"avgResolutionTime",fill:"#ff7300",name:"Avg Resolution (Days)"})]})})]}),h.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:[h.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[h.jsx(Ou,{className:"mr-2"})," Department Distribution"]}),h.jsx(OG,{width:"100%",height:300,children:h.jsxs(dee,{data:q.departmentDistribution,layout:"vertical",children:[h.jsx(v8,{strokeDasharray:"3 3"}),h.jsx(s9,{type:"number"}),h.jsx(f9,{type:"category",dataKey:"dept",width:100}),h.jsx(NG,{}),h.jsx(C6,{dataKey:"count",fill:"#0088FE",name:"Work Orders"})]})})]})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[h.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:[h.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[h.jsx(yu,{className:"mr-2"})," Status Timing Analysis"]}),h.jsx("div",{className:"space-y-4",children:q.statusTimingAnalysis.filter(e=>e.count>0).map((e,t)=>h.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:`w-3 h-3 rounded-full mr-3 ${J(e.status).split(" ")[0]}`}),h.jsx("span",{className:"font-medium text-sm capitalize",children:e.status})]}),h.jsxs("div",{className:"text-right",children:[h.jsxs("div",{className:"font-semibold",children:[e.avgTimeInStatus,"d avg"]}),h.jsxs("div",{className:"text-xs text-gray-500",children:[e.count," tickets"]})]})]},e.status))})]}),h.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:[h.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[h.jsx(yu,{className:"mr-2"})," Service Type Performance (Days to Resolve)"]}),h.jsx(OG,{width:"100%",height:300,children:h.jsxs(dee,{data:q.serviceTypePerformance.sort((e,t)=>t.avgResolutionTime-e.avgResolutionTime).slice(0,8),layout:"vertical",children:[h.jsx(v8,{strokeDasharray:"3 3"}),h.jsx(s9,{type:"number"}),h.jsx(f9,{type:"category",dataKey:"serviceType",width:120}),h.jsx(NG,{formatter:e=>[`${e} days`,"Avg Resolution Time"]}),h.jsx(C6,{dataKey:"avgResolutionTime",fill:"#0088FE",name:"Avg Days to Resolve",children:q.serviceTypePerformance.map((e,t)=>h.jsx(EG,{fill:e.avgResolutionTime>10?"#FF8042":e.avgResolutionTime>5?"#FFBB28":"#00C49F"},`cell-${t}`))})]})})]}),h.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:[h.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[h.jsx(wu,{className:"mr-2"})," Daily Work Order Trends (30 Days)"]}),h.jsx(OG,{width:"100%",height:300,children:h.jsxs(cee,{data:q.dailyTrends,children:[h.jsx(v8,{strokeDasharray:"3 3"}),h.jsx(s9,{dataKey:"date"}),h.jsx(f9,{}),h.jsx(NG,{}),h.jsx(Nq,{}),h.jsx(I8,{type:"monotone",dataKey:"created",stroke:"#8884d8",name:"Created",strokeWidth:2}),h.jsx(I8,{type:"monotone",dataKey:"resolved",stroke:"#82ca9d",name:"Resolved",strokeWidth:2})]})})]}),h.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:[h.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[h.jsx(Tu,{className:"mr-2"})," Service Owner Performance"]}),h.jsx("div",{className:"space-y-4 max-h-80 overflow-y-auto",children:q.serviceOwnerPerformance.sort((e,t)=>t.totalWorkOrders-e.totalWorkOrders).map((e,t)=>h.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:[h.jsxs("div",{className:"flex justify-between items-start mb-3",children:[h.jsxs("div",{children:[h.jsx("h4",{className:"font-semibold text-gray-900",children:e.owner}),h.jsxs("p",{className:"text-sm text-gray-600",children:[e.totalWorkOrders," work orders"]})]}),h.jsxs("div",{className:"text-right",children:[h.jsxs("div",{className:"text-lg font-bold text-blue-600",children:[e.avgResolutionTime," days avg"]}),h.jsxs("div",{className:"text-sm text-gray-500",children:[e.resolvedWorkOrders," resolved"]})]})]}),h.jsxs("div",{className:"grid grid-cols-1 gap-2 text-xs",children:[e.workOrders.slice(0,3).map((e,t)=>h.jsxs("div",{className:"flex justify-between items-center p-2 bg-white rounded",children:[h.jsx("span",{className:"font-medium",children:e.workOrderNo}),h.jsx("span",{className:"px-2 py-1 rounded text-xs "+("Critical"===e.priority?"bg-red-100 text-red-800":"High"===e.priority?"bg-orange-100 text-orange-800":"bg-blue-100 text-blue-800"),children:e.priority}),h.jsxs("span",{children:[e.resolutionTime,"d"]})]},t)),e.workOrders.length>3&&h.jsxs("div",{className:"text-center text-gray-500 text-xs",children:["+",e.workOrders.length-3," more work orders"]})]})]},e.owner))})]}),h.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:[h.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[h.jsx(Ou,{className:"mr-2"})," Technician Performance"]}),h.jsx("div",{className:"space-y-3",children:q.picPerformance.filter(e=>"Unassigned"!==e.pic).sort((e,t)=>t.totalWorkOrders-e.totalWorkOrders).slice(0,6).map((e,t)=>h.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500 mr-3"}),h.jsxs("div",{children:[h.jsx("span",{className:"font-medium text-sm",children:e.pic}),h.jsxs("div",{className:"text-xs text-gray-500",children:[e.totalWorkOrders," orders • ",e.avgResolutionTime,"d avg"]})]})]}),h.jsxs("div",{className:"text-right",children:[h.jsxs("div",{className:"font-semibold",children:[e.resolvedWorkOrders,"/",e.totalWorkOrders]}),h.jsx("div",{className:"text-xs text-gray-500",children:"resolved"})]})]},e.pic))})]})]}),h.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 mb-6 border border-blue-100",children:[h.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[h.jsxs("div",{className:"relative w-full md:w-1/3",children:[h.jsx(uu,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),h.jsx("input",{type:"text",placeholder:"Search work orders...",value:n,onChange:e=>r(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),h.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 w-full md:w-2/3 justify-end",children:[h.jsxs("div",{className:"relative w-full sm:w-auto",children:[h.jsxs("select",{value:a,onChange:e=>i(e.target.value),className:"w-full sm:w-48 p-2.5 border border-gray-300 rounded-lg appearance-none focus:ring-blue-500 focus:border-blue-500 pr-8 bg-white",children:[h.jsx("option",{value:"all",children:"All Statuses"}),h.jsx("option",{value:"New",children:"New"}),h.jsx("option",{value:"Assigned",children:"Assigned"}),h.jsx("option",{value:"In Progress",children:"In Progress"}),h.jsx("option",{value:"Escalated",children:"Escalated"}),h.jsx("option",{value:"Vendor Handled",children:"Vendor Handled"}),h.jsx("option",{value:"Resolved",children:"Resolved"}),h.jsx("option",{value:"Cancel",children:"Cancel"}),h.jsx("option",{value:"Closed",children:"Closed"})]}),h.jsx(Jc,{className:"absolute right-3 top-3.5 text-gray-400",size:18})]}),h.jsxs("div",{className:"relative w-full sm:w-auto",children:[h.jsxs("select",{value:s,onChange:e=>o(e.target.value),className:"w-full sm:w-48 p-2.5 border border-gray-300 rounded-lg appearance-none focus:ring-blue-500 focus:border-blue-500 pr-8 bg-white",children:[h.jsx("option",{value:"all",children:"All Departments"}),Array.from(new Set(w.map(e=>{var t;return null==(t=e.department)?void 0:t.name}).filter(Boolean))).map(e=>h.jsx("option",{value:e,children:e},e))]}),h.jsx(Jc,{className:"absolute right-3 top-3.5 text-gray-400",size:18})]}),h.jsxs("div",{className:"relative w-full sm:w-auto",children:[h.jsxs("select",{value:l,onChange:e=>c(e.target.value),className:"w-full sm:w-48 p-2.5 border border-gray-300 rounded-lg appearance-none focus:ring-blue-500 focus:border-blue-500 pr-8 bg-white",children:[h.jsx("option",{value:"all",children:"All Priorities"}),h.jsx("option",{value:"Critical",children:"Critical"}),h.jsx("option",{value:"High",children:"High"}),h.jsx("option",{value:"Medium",children:"Medium"}),h.jsx("option",{value:"Low",children:"Low"})]}),h.jsx(Jc,{className:"absolute right-3 top-3.5 text-gray-400",size:18})]}),h.jsxs(kc.button,{onClick:()=>m(!p),whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center px-4 py-2 bg-white border border-gray-300 rounded-lg shadow-sm text-gray-700 hover:bg-gray-50 transition-colors duration-200",children:[h.jsx(vd,{className:"mr-2",size:20})," Advanced Filters"]})]})]}),h.jsx(Mi,{children:p&&h.jsx(kc.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"overflow-hidden mt-4 pt-4 border-t border-gray-200",children:h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Service Type"}),h.jsxs("select",{value:d,onChange:e=>u(e.target.value),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",children:[h.jsx("option",{value:"all",children:"All Service Types"}),Array.from(new Set(w.map(e=>{var t;return null==(t=e.service_type)?void 0:t.group_name}).filter(Boolean))).map(e=>h.jsx("option",{value:e,children:e},e))]})]})})})})]}),h.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100 overflow-x-auto",children:[h.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Detailed Work Order Analytics"}),0===Z.length?h.jsxs("div",{className:"text-center py-10 text-gray-500",children:[h.jsx(fd,{className:"mx-auto h-12 w-12 text-gray-400"}),h.jsx("p",{className:"mt-2 text-lg",children:"No work orders found matching your criteria."}),h.jsx("p",{className:"text-sm",children:"Try adjusting your filters or search query."})]}):h.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[h.jsx("thead",{className:"bg-gray-50",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"No"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Work Order No"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Requester"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Department"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Priority"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Assigned To"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Resolution Time"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),h.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:h.jsx(Mi,{children:Z.map((e,t)=>{var n,r,a,i,s,o,l;return h.jsxs(kc.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,x:-20},transition:{duration:.3},className:"hover:bg-gray-50",children:[h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Q+t+1}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-blue-600",children:e.work_order_no}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:(null==(n=e.requester)?void 0:n.name)||"-"}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:(null==(r=e.department)?void 0:r.name)||"-"}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:ne(e.date)}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-bold rounded-full "+("Critical"===(null==(a=e.service)?void 0:a.priority)?"bg-red-100 text-red-800":"High"===(null==(i=e.service)?void 0:i.priority)?"bg-orange-100 text-orange-800":"Medium"===(null==(s=e.service)?void 0:s.priority)?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"),children:(null==(o=e.service)?void 0:o.priority)||"Not Set"})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${J(e.handling_status)}`,children:e.handling_status||"Unknown"})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:(null==(l=e.assigned_to)?void 0:l.name)||"-"}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:e.handling_date?`${U(e)} days`:"Ongoing"}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:h.jsxs(kc.button,{onClick:()=>(e=>{A(e),O(!0)})(e),whileHover:{scale:1.05},whileTap:{scale:.95},className:"text-blue-600 hover:text-blue-900 transition-colors duration-200 flex items-center",children:[h.jsx(md,{className:"mr-1",size:16})," View"]})})]},e.id)})})})]}),V.length>b&&h.jsxs("nav",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6",children:[h.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[h.jsx(kc.button,{onClick:()=>te(f-1),disabled:1===f,whileHover:{scale:1.05},whileTap:{scale:.95},className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"Previous"}),h.jsx(kc.button,{onClick:()=>te(f+1),disabled:f===ee,whileHover:{scale:1.05},whileTap:{scale:.95},className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"Next"})]}),h.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[h.jsx("div",{children:h.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",h.jsx("span",{className:"font-medium",children:Q+1})," to ",h.jsx("span",{className:"font-medium",children:Math.min(X,V.length)})," of"," ",h.jsx("span",{className:"font-medium",children:V.length})," results"]})}),h.jsx("div",{children:h.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[h.jsxs(kc.button,{onClick:()=>te(f-1),disabled:1===f,whileHover:{scale:1.05},whileTap:{scale:.95},className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",children:[h.jsx("span",{className:"sr-only",children:"Previous"}),h.jsx(Xc,{className:"h-5 w-5","aria-hidden":"true"})]}),[...Array(ee)].map((e,t)=>h.jsx(kc.button,{onClick:()=>te(t+1),whileHover:{scale:1.05},whileTap:{scale:.95},className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium "+(f===t+1?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"),children:t+1},t)),h.jsxs(kc.button,{onClick:()=>te(f+1),disabled:f===ee,whileHover:{scale:1.05},whileTap:{scale:.95},className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",children:[h.jsx("span",{className:"sr-only",children:"Next"}),h.jsx(Qc,{className:"h-5 w-5","aria-hidden":"true"})]})]})})]})]})]})]})]}),h.jsx(qoe,{isOpen:T,onClose:()=>{O(!1),A(void 0)},workOrder:_})]})},Yoe=e=>{const t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()));t.setUTCDate(t.getUTCDate()+4-(t.getUTCDay()||7));const n=new Date(Date.UTC(t.getUTCFullYear(),0,1));return Math.ceil(((t.getTime()-n.getTime())/864e5+1)/7)},Koe=e=>null==e||""===e?"N/A":String(e),Joe=({isOpen:e,onClose:t,title:n,children:r,className:a,maxWidth:i="max-w-xl"})=>h.jsx(Mi,{children:e&&h.jsx(kc.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-60 flex justify-center items-center z-50 p-4",children:h.jsxs(kc.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${i} ${a||"w-full"}`,children:[h.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-gradient-to-r from-blue-50 to-indigo-50",children:[h.jsx("h2",{className:"text-xl font-bold text-gray-800",children:n}),h.jsx("button",{onClick:t,className:"p-2 rounded-xl text-gray-500 hover:bg-white hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:h.jsx(Pu,{className:"w-5 h-5"})})]}),h.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:r})]})})}),Xoe=({label:e,value:t,className:n="",valueColorClass:r="text-gray-900"})=>h.jsxs("div",{className:`p-4 bg-gray-50 backdrop-brightness-50 rounded-lg shadow-sm ${n}`,children:[h.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase",children:e}),h.jsx("p",{className:`mt-1 text-sm font-semibold ${r}`,children:null!=t?t:"N/A"})]}),Qoe=({title:e})=>h.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4 pb-2 border-b border-blue-200 mt-6 first:mt-0",children:e}),Zoe=({record:e,onUpdateRecord:t})=>h.jsxs("div",{className:"space-y-6",children:[h.jsx(Qoe,{title:"Monitoring Details"}),h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[h.jsx(Xoe,{label:"Monitoring Interval",value:Koe(e.interval)}),h.jsx(Xoe,{label:"Unit",value:Koe(e.unitWilayah)}),h.jsx(Xoe,{label:"Machine",value:Koe(e.mesin)}),h.jsx(Xoe,{label:"Item",value:Koe(e.item)}),h.jsx(Xoe,{label:"Unit of Measure",value:Koe(e.unitOfMeasure)}),h.jsx(Xoe,{label:"Monitoring Result",value:Koe(e.monitoringResult),valueColorClass:"MS"===e.msStatus?"text-green-600":"TMS"===e.msStatus?"text-red-600":"text-gray-900"}),h.jsx(Xoe,{label:"MS Status",value:Koe(e.msStatus),valueColorClass:"MS"===e.msStatus?"text-green-600":"TMS"===e.msStatus?"text-red-600":"text-gray-900"})]}),h.jsx(Qoe,{title:"Standard"}),h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[h.jsx(Xoe,{label:"Standard (Min)",value:Koe(e.standardMin)}),h.jsx(Xoe,{label:"Standard (Max)",value:Koe(e.standardMax)}),h.jsx(Xoe,{label:"Visual Standard",value:Koe(e.standartVisual),className:"md:col-span-2"})]}),h.jsx(Qoe,{title:"Description"}),h.jsx("div",{className:"grid grid-cols-1",children:h.jsx(Xoe,{label:"Notes",value:Koe(e.notes)})})]}),ele=({records:e})=>{const[t,n]=x.useState(""),[r,a]=x.useState(""),i=x.useMemo(()=>e&&0!==e.length?["",...[...new Set(e.filter(e=>e.mesin&&"N/A"!==e.mesin&&""!==e.mesin.trim()).map(e=>e.mesin))].sort()]:[""],[e]),s=x.useMemo(()=>{if(!t||""===t)return[""];const n=e.filter(e=>e.mesin===t&&e.item&&"N/A"!==e.item&&""!==e.item.trim()).map(e=>e.item);return["",...[...new Set(n)].sort()]},[e,t]),o=x.useMemo(()=>t&&r&&""!==t&&""!==r?e.filter(e=>{const n=e.mesin===t,a=e.item===r,i=e.id.startsWith("activity-"),s=e.monitoringResult&&"N/A"!==e.monitoringResult&&"MS"!==e.monitoringResult&&"TMS"!==e.monitoringResult&&!isNaN(parseFloat(e.monitoringResult))&&isFinite(parseFloat(e.monitoringResult));return n&&a&&i&&s}).sort((e,t)=>new Date(e.date).getTime()-new Date(t.date).getTime()).map(e=>{const t=parseFloat(e.monitoringResult);return{date:new Date(e.date),dateString:new Date(e.date).toLocaleDateString("en-US"),result:t,msStatus:e.msStatus,notes:e.notes,machine:e.mesin,item:e.item,standardMin:e.standardMin,standardMax:e.standardMax,isActivity:e.id.startsWith("activity-")}}):[],[e,t,r]),l=x.useMemo(()=>{if(0===o.length)return null;try{const e=o.map(e=>e.result),t=e.reduce((e,t)=>e+t,0)/e.length,n=[...e].sort((e,t)=>e-t),r=n.length%2==0?(n[n.length/2-1]+n[n.length/2])/2:n[Math.floor(n.length/2)],a=e.reduce((e,n)=>e+Math.pow(n-t,2),0)/e.length,i=Math.sqrt(a),s=Math.min(...e),l=Math.max(...e),c=l-s,d=o.map(e=>e.date.getTime()),u=o.map(e=>e.result),h=d.length,p=d.reduce((e,t)=>e+t,0),m=u.reduce((e,t)=>e+t,0),f=d.reduce((e,t,n)=>e+t*u[n],0),g=h*d.reduce((e,t)=>e+t*t,0)-p*p,x=0!==g?(h*f-p*m)/g:0,b=x>.001?"increasing":x<-.001?"decreasing":"stable",y=i>0?Math.abs(x)/i:0,v=o.filter(e=>Math.abs(e.result-t)>2*i),w=o[0],j=null!==w.standardMin&&null!==w.standardMax?o.filter(e=>e.result>=(w.standardMin||0)&&e.result<=(w.standardMax||1/0)).length/o.length*100:null;return{mean:t,median:r,stdDev:i,min:s,max:l,range:c,count:e.length,trendDirection:b,trendStrength:1e3*y,slope:x,outliers:v,withinStandard:j,coefficientOfVariation:t>0?i/t*100:0}}catch(Qle){return null}},[o]),c=x.useMemo(()=>{const t=e.length,n=new Set(e.map(e=>e.mesin)).size,r=e.filter(e=>"MS"===e.msStatus).length,a=t>0?r/t*100:0;return[{title:"Total Monitoring Items",value:t.toLocaleString("id-ID"),icon:h.jsx(ad,{})},{title:"Machines Monitored",value:n.toLocaleString("id-ID"),icon:h.jsx(Yd,{})},{title:"Success Rate",value:`${a.toFixed(1)}%`,icon:h.jsx(td,{})}]},[e]),d=x.useMemo(()=>{const t={};return e.forEach(e=>{e.mesin&&(t[e.mesin]=(t[e.mesin]||0)+1)}),Object.entries(t).sort(([,e],[,t])=>t-e).slice(0,5).map(([e,t])=>({name:e,count:t}))},[e]),u=x.useMemo(()=>{const t={};return e.forEach(e=>{if(e.date){const n=new Date(e.date),r=`${n.getFullYear()}-${(n.getMonth()+1).toString().padStart(2,"0")}`;t[r]=(t[r]||0)+1}}),Object.entries(t).sort(([e],[t])=>e.localeCompare(t)).map(([e,t])=>{const[n,r]=e.split("-");return{name:`${new Date(Number(n),Number(r)-1,1).toLocaleString("en-US",{month:"short"})} ${n}`,"Monitoring Events":t}})},[e]),p=x.useMemo(()=>{const t={MS:0,TMS:0,"N/A":0};return e.forEach(e=>{const n=e.msStatus||"N/A";t[n]=(t[n]||0)+1}),[{name:"MS",value:t.MS},{name:"TMS",value:t.TMS},{name:"N/A",value:t["N/A"]}].filter(e=>e.value>0)},[e]),m=["#10B981","#EF4444","#6B7280"];return t&&r?0===o.length?h.jsxs("div",{className:"space-y-6 bg-white rounded-2xl shadow-sm p-8 border border-gray-100",children:[h.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Trend Analysis"}),h.jsxs("div",{className:"text-center py-12",children:[h.jsx(Ed,{className:"mx-auto text-gray-300 mb-4",size:48}),h.jsx("p",{className:"text-gray-600 text-lg mb-2",children:"No numeric data available for analysis"}),h.jsxs("p",{className:"text-gray-400 text-sm mb-4",children:['The selected item "',r,'" for machine "',t,"\" doesn't have numeric monitoring results."]}),h.jsx("p",{className:"text-gray-400 text-xs",children:"Monitoring results must be numeric values (numbers) for trend analysis."}),h.jsx("button",{onClick:()=>{n(""),a("")},className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Select Different Machine/Item"})]})]}):l?h.jsxs("div",{className:"space-y-8",children:[h.jsx("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:h.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Trend Analysis"}),h.jsxs("p",{className:"text-gray-600",children:[t," • ",r]})]}),h.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[h.jsx("select",{value:t,onChange:e=>{n(e.target.value),a("")},className:"px-4 py-2 rounded-lg border border-gray-200 bg-white focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm text-gray-900",children:i.slice(1).map(e=>h.jsx("option",{value:e,children:e},e))}),h.jsx("select",{value:r,onChange:e=>a(e.target.value),className:"px-4 py-2 rounded-lg border border-gray-200 bg-white focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm text-gray-900",children:s.slice(1).map(e=>h.jsx("option",{value:e,children:e},e))})]})]})}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[h.jsx(kc.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:h.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:"Data Points"}),h.jsx("p",{className:"text-3xl font-bold text-gray-900",children:l.count})]}),h.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:h.jsx(ad,{className:"w-6 h-6"})})]})}),h.jsx(kc.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:h.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:"Average Value"}),h.jsx("p",{className:"text-3xl font-bold text-gray-900",children:l.mean.toLocaleString(void 0,{maximumFractionDigits:2})})]}),h.jsx("div",{className:"p-2 rounded-full bg-green-50 text-green-600 text-2xl opacity-90 transition-all duration-200",children:h.jsx(wu,{className:"w-6 h-6"})})]})}),h.jsx(kc.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:h.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:"Standard Deviation"}),h.jsx("p",{className:"text-3xl font-bold text-gray-900",children:l.stdDev.toLocaleString(void 0,{maximumFractionDigits:2})})]}),h.jsx("div",{className:"p-2 rounded-full bg-purple-50 text-purple-600 text-2xl opacity-90 transition-all duration-200",children:h.jsx(Ec,{className:"w-6 h-6"})})]})})]}),h.jsxs(kc.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50",children:[h.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[h.jsx(wu,{className:"mr-2 text-blue-600"})," Trend Visualization"]}),h.jsx("div",{className:"h-80",children:h.jsx(OG,{width:"100%",height:"100%",children:h.jsxs(cee,{data:o,children:[h.jsx(v8,{strokeDasharray:"3 3",stroke:"#e0e7ff"}),h.jsx(s9,{dataKey:"dateString",tickLine:!1,axisLine:!1,style:{fontSize:"12px",fill:"#6B7280"}}),h.jsx(f9,{tickLine:!1,axisLine:!1,style:{fontSize:"12px",fill:"#6B7280"}}),h.jsx(NG,{cursor:{fill:"rgba(239, 246, 255, 0.7)"},contentStyle:{backgroundColor:"#fff",border:"1px solid #e0e7ff",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",padding:"10px"},formatter:e=>[e,"Value"]}),h.jsx(I8,{type:"monotone",dataKey:"result",stroke:"#3B82F6",strokeWidth:2,dot:{r:4},activeDot:{r:6}})]})})})]}),h.jsxs(kc.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.5},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50",children:[h.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[h.jsx(Kc,{className:"mr-2 text-blue-600"})," Statistical Summary"]}),h.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[h.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[h.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Minimum"}),h.jsx("p",{className:"text-xl font-bold text-gray-900",children:l.min.toLocaleString(void 0,{maximumFractionDigits:2})})]}),h.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[h.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Maximum"}),h.jsx("p",{className:"text-xl font-bold text-gray-900",children:l.max.toLocaleString(void 0,{maximumFractionDigits:2})})]}),h.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[h.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Median"}),h.jsx("p",{className:"text-xl font-bold text-gray-900",children:l.median.toLocaleString(void 0,{maximumFractionDigits:2})})]}),h.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[h.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Range"}),h.jsx("p",{className:"text-xl font-bold text-gray-900",children:l.range.toLocaleString(void 0,{maximumFractionDigits:2})})]})]})]}),h.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100 overflow-hidden",children:[h.jsxs("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Raw Data (",o.length," records)"]}),h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[h.jsx("thead",{className:"bg-gray-50",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Result"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Notes"})]})}),h.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:o.map((e,t)=>h.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.dateString}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-gray-900",children:e.result.toLocaleString()}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium "+("MS"===e.msStatus?"bg-green-100 text-green-800":"TMS"===e.msStatus?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"),children:e.msStatus||"N/A"})}),h.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 max-w-xs",children:e.notes||"-"})]},t))})]})})]})]}):h.jsxs("div",{className:"space-y-6 bg-white rounded-2xl shadow-sm p-8 border border-gray-100",children:[h.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Trend Analysis"}),h.jsxs("div",{className:"text-center py-12",children:[h.jsx(ju,{className:"mx-auto text-yellow-500 mb-4",size:48}),h.jsx("p",{className:"text-gray-600 text-lg mb-2",children:"Unable to analyze data"}),h.jsx("p",{className:"text-gray-400 text-sm",children:"There was an error processing the data for analysis."})]})]}):h.jsxs("div",{className:"space-y-8",children:[h.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:c.map((e,t)=>h.jsx(kc.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1*t,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:h.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:e.title}),h.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e.value})]}),h.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:e.icon})]})},e.title))}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[h.jsxs(kc.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50",children:[h.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[h.jsx(Kc,{className:"mr-2 text-blue-600"})," Most Monitored Machines"]}),h.jsx("div",{className:"space-y-3",children:d.map((e,t)=>h.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center mr-3",children:h.jsx("span",{className:"text-blue-600 font-bold text-sm",children:t+1})}),h.jsx("span",{className:"font-medium text-gray-800",children:e.name})]}),h.jsxs("span",{className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-semibold",children:[e.count," events"]})]},e.name))})]}),h.jsxs(kc.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 flex flex-col items-center justify-center",children:[h.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[h.jsx(td,{className:"mr-2 text-blue-600"})," Status Distribution"]}),p.length>0?h.jsx("div",{className:"w-full h-64",children:h.jsx(OG,{width:"100%",height:"100%",children:h.jsxs(uee,{children:[h.jsx(N4,{data:p,cx:"50%",cy:"50%",labelLine:!1,outerRadius:80,fill:"#8884d8",dataKey:"value",nameKey:"name",label:({name:e,percent:t})=>`${e} ${(100*t).toFixed(0)}%`,children:p.map((e,t)=>h.jsx(EG,{fill:m[t%m.length]},`cell-${t}`))}),h.jsx(NG,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e0e7ff",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",padding:"10px"},formatter:e=>[`${e} events`,"Count"]})]})})}):h.jsx("p",{className:"text-center text-gray-500 mt-4 text-sm",children:"No data for status distribution."})]})]}),h.jsxs(kc.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50",children:[h.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[h.jsx(wu,{className:"mr-2 text-blue-600"})," Monitoring Trend Over Time"]}),u.length>0?h.jsx("div",{className:"h-80",children:h.jsx(OG,{width:"100%",height:"100%",children:h.jsxs(cee,{data:u,children:[h.jsx(v8,{strokeDasharray:"3 3",stroke:"#e0e7ff"}),h.jsx(s9,{dataKey:"name",tickLine:!1,axisLine:!1,style:{fontSize:"12px",fill:"#6B7280"}}),h.jsx(f9,{allowDecimals:!1,tickLine:!1,axisLine:!1,style:{fontSize:"12px",fill:"#6B7280"}}),h.jsx(NG,{cursor:{fill:"rgba(239, 246, 255, 0.7)"},contentStyle:{backgroundColor:"#fff",border:"1px solid #e0e7ff",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",padding:"10px"}}),h.jsx(I8,{type:"monotone",dataKey:"Monitoring Events",stroke:"#3B82F6",strokeWidth:2,dot:{r:4},activeDot:{r:6}})]})})}):h.jsx("p",{className:"text-center text-gray-500 mt-4 text-sm",children:"No data for monitoring trend."})]}),h.jsxs(kc.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.5},className:"bg-white rounded-2xl shadow-md p-8 border border-blue-50",children:[h.jsxs("div",{className:"text-center",children:[h.jsx(wu,{className:"mx-auto text-gray-300 mb-4",size:64}),h.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Detailed Trend Analysis"}),h.jsx("p",{className:"text-gray-600 mb-8 max-w-md mx-auto",children:0===e.length?"No monitoring data available for analysis.":"Select a machine and monitoring item to visualize trends and analyze performance patterns over time."})]}),e.length>0&&h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 max-w-2xl mx-auto",children:[h.jsxs("div",{className:"space-y-3",children:[h.jsx("label",{className:"block text-sm font-semibold text-gray-900",children:"Select Machine"}),h.jsxs("select",{value:t,onChange:e=>{n(e.target.value),a("")},className:"w-full px-4 py-3 rounded-xl border border-gray-200 bg-white focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-gray-900",children:[h.jsx("option",{value:"",children:"Choose machine..."}),i.slice(1).map(e=>h.jsx("option",{value:e,children:e},e))]}),t&&h.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[s.length-1," item(s) available for this machine"]})]}),h.jsxs("div",{className:"space-y-3",children:[h.jsx("label",{className:"block text-sm font-semibold text-gray-900",children:"Select Item"}),h.jsxs("select",{value:r,onChange:e=>{a(e.target.value)},className:"w-full px-4 py-3 rounded-xl border border-gray-200 bg-white focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-gray-900 disabled:opacity-50",disabled:!t,children:[h.jsx("option",{value:"",children:t?s.length>1?"Choose item...":"No items available":"Select machine first"}),s.slice(1).map(e=>h.jsx("option",{value:e,children:e},e))]}),r&&h.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[o.length," data point(s) available for analysis"]})]})]})]})]})},tle=x.createContext(void 0),nle=({isOpen:e,onClose:t,schedules:n,onSelectSchedule:r,titleDate:a})=>{const i=n.reduce((e,t)=>{const n=String(t.scheduleId||"unknown");return e[n]||(e[n]={scheduleId:n,machine:t.mesin,unit:t.unitWilayah,interval:t.interval,items:[]}),e[n].items.push(t),e},{}),s=({status:e})=>{const t={New:{color:"bg-blue-100 text-blue-800 border-blue-200",icon:"🆕"},"On Progress":{color:"bg-yellow-100 text-yellow-800 border-yellow-200",icon:"⏳"},Done:{color:"bg-green-100 text-green-800 border-green-200",icon:"✅"},Cancelled:{color:"bg-red-100 text-red-800 border-red-200",icon:"❌"}},n=t[e]||t.New;return h.jsxs("span",{className:`inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-semibold border ${n.color}`,children:[h.jsx("span",{className:"text-xs",children:n.icon}),e]})},o=({status:e})=>{const t={MS:{color:"bg-green-100 text-green-800 border-green-200",label:"Within Standard"},TMS:{color:"bg-red-100 text-red-800 border-red-200",label:"Out of Standard"},"N/A":{color:"bg-gray-100 text-gray-800 border-gray-200",label:"Not Applicable"}}[e]||{color:"bg-gray-100 text-gray-800 border-gray-200",label:e};return h.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-lg text-xs font-medium border ${t.color}`,children:t.label})};return h.jsx(Joe,{isOpen:e,onClose:t,title:`Schedules for ${new Date(a).toLocaleDateString("en-US",{weekday:"long",day:"numeric",month:"long",year:"numeric"})}`,className:"max-w-4xl",maxWidth:"max-w-4xl",children:h.jsxs("div",{className:"space-y-6",children:[h.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-2xl p-6 border border-blue-100",children:h.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Daily Overview"}),h.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[h.jsxs("span",{className:"flex items-center gap-2",children:[h.jsx(Vc,{className:"w-4 h-4"}),n.length," total items"]}),h.jsxs("span",{className:"flex items-center gap-2",children:[h.jsx(hu,{className:"w-4 h-4"}),Object.keys(i).length," schedules"]})]})]}),h.jsxs("div",{className:"flex gap-2",children:[Object.values(i).some(e=>e.items.some(e=>"Done"===e.scheduleStatus))&&h.jsx(s,{status:"Done"}),Object.values(i).some(e=>e.items.some(e=>"On Progress"===e.scheduleStatus))&&h.jsx(s,{status:"On Progress"}),Object.values(i).some(e=>e.items.some(e=>"New"===e.scheduleStatus))&&h.jsx(s,{status:"New"})]})]})}),0===n.length?h.jsxs("div",{className:"text-center py-12",children:[h.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-2xl flex items-center justify-center mx-auto mb-4",children:h.jsx(Vc,{className:"text-gray-400 text-2xl"})}),h.jsx("p",{className:"text-gray-600 text-lg font-medium mb-2",children:"No schedules for this date"}),h.jsx("p",{className:"text-gray-400 text-sm",children:"There are no maintenance schedules scheduled for this day."})]}):h.jsx("div",{className:"space-y-4",children:Object.values(i).map(e=>h.jsxs(kc.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-white rounded-2xl border border-gray-200 shadow-sm overflow-hidden hover:shadow-md transition-all duration-200",children:[h.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-blue-50 px-6 py-4 border-b border-gray-100",children:h.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-3",children:h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[h.jsx("h4",{className:"text-lg font-bold text-gray-900",children:e.machine}),e.items.every(t=>t.scheduleStatus===e.items[0].scheduleStatus)&&h.jsx(s,{status:e.items[0].scheduleStatus||"New"})]}),h.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[h.jsxs("span",{className:"flex items-center gap-1.5",children:[h.jsx(ad,{className:"w-4 h-4"}),e.items.length," item",e.items.length>1?"s":""]}),h.jsxs("span",{className:"flex items-center gap-1.5",children:[h.jsx(id,{className:"w-4 h-4"}),e.interval]}),h.jsxs("span",{className:"flex items-center gap-1.5",children:[h.jsx(Jd,{className:"w-4 h-4"}),e.unit]})]})]})})}),h.jsx("div",{className:"divide-y divide-gray-100",children:e.items.map((e,t)=>h.jsxs(kc.button,{whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)",scale:1.005},whileTap:{scale:.995},onClick:()=>{r(e)},className:"w-full text-left p-6 transition-all duration-200 flex justify-between items-start gap-4",children:[h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsxs("div",{className:"flex items-start justify-between mb-3",children:[h.jsxs("div",{children:[h.jsx("h5",{className:"text-base font-semibold text-gray-900 mb-1",children:e.item}),h.jsxs("div",{className:"flex flex-wrap gap-2",children:[h.jsx(s,{status:e.scheduleStatus||"New"}),e.monitoringResult&&"N/A"!==e.monitoringResult&&h.jsxs("span",{className:"inline-flex items-center px-2.5 py-1 bg-purple-100 text-purple-800 rounded-lg text-xs font-medium border border-purple-200",children:["📊 Result: ",e.monitoringResult]})]})]}),h.jsx(o,{status:e.msStatus})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[null!==e.standardMin&&null!==e.standardMax&&h.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[h.jsx("span",{className:"font-medium",children:"Standard:"}),h.jsxs("span",{children:[e.standardMin," - ",e.standardMax]})]}),e.unitOfMeasure&&"N/A"!==e.unitOfMeasure&&h.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[h.jsx("span",{className:"font-medium",children:"Unit:"}),h.jsx("span",{children:e.unitOfMeasure})]}),e.notes&&"N/A"!==e.notes&&h.jsxs("div",{className:"md:col-span-2 flex items-start gap-2 text-gray-600",children:[h.jsx("span",{className:"font-medium mt-0.5",children:"Notes:"}),h.jsx("span",{className:"flex-1",children:e.notes})]})]})]}),h.jsx("div",{className:"flex-shrink-0",children:h.jsx("div",{className:"p-2 rounded-lg bg-blue-50 text-blue-600",children:h.jsx(Qc,{className:"w-4 h-4"})})})]},`${e.id}-${t}`))})]},e.scheduleId))}),h.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-100",children:h.jsx(kc.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:t,className:"px-6 py-3 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 transition-colors duration-200 font-semibold text-sm",children:"Close"})})]})})},rle=()=>{const e=je(),{getMonitoringSchedules:t,getAllMasterMonitoring:n,getMonitoringScheduleById:r}=gt(),[a,i]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return JSON.parse(e||"false")}),[s,o]=x.useState(!1),[l,c]=x.useState(!0),[d,u]=x.useState(null),[p,m]=x.useState(window.innerWidth<768),[f,g]=x.useState(!1),[b,y]=x.useState(!1),[v,w]=x.useState(!1),[j,N]=x.useState(!1),[k,S]=x.useState(null),[C,_]=x.useState("calendar"),[A,T]=x.useState(null),[O,E]=x.useState(null),[M,P]=x.useState([]),[D,L]=x.useState([]),[I,R]=x.useState([]),[F,H]=x.useState(""),[z,B]=x.useState(!1),[W,$]=x.useState(1),[U,V]=x.useState([]),[q,G]=x.useState([]),[Y,K]=x.useState([]),[J,X]=x.useState({startDate:null,endDate:null,selectedUnits:[]}),[Q,Z]=x.useState(!1),[ee,te]=x.useState([]),[ne,re]=x.useState(""),ae=x.useRef(null),ie=x.useRef(null),[se,oe]=x.useState([]),[le,ce]=x.useState([]),[de,ue]=x.useState(!1),[he,pe]=x.useState(!1),me=x.useRef(null),[fe,ge]=x.useState(!1),xe=x.useRef(null),[be,ye]=x.useState(!1),ve=x.useRef(null),we=x.useMemo(()=>[{value:"MS",label:"MS"},{value:"TMS",label:"TMS"},{value:"N/A",label:"N/A"}],[]);x.useMemo(()=>[{value:"Daily",label:"Daily"},{value:"Weekly",label:"Weekly"},{value:"Monthly",label:"Monthly"},{value:"3 Months",label:"3 Months"},{value:"6 Months",label:"6 Months"},{value:"1 Year",label:"1 Year"}],[]);const Ne=x.useMemo(()=>U.map(e=>{var t;const n=q.flatMap(e=>e.mesin).find(t=>t.id===e.id_mesins),r=(null==n?void 0:n.name)||`Machine ${e.id_mesins}`,a=(null==(t=e.monitoring_interval)?void 0:t.type_interval)||"weekly";return{id:`schedule-${e.id_monitoring_schedule}`,mesin:r,item:"",interval:a,unitWilayah:e.unit,unitOfMeasure:"N/A",standardMin:null,standardMax:null,standartVisual:"N/A"}}),[U,q]),ke=x.useCallback((e,t,n)=>{const r=[];return e.forEach(e=>{var t;const a=n.flatMap(e=>e.mesin).find(t=>t.id===e.id_mesins),i=(null==a?void 0:a.name)||`Machine ${e.id_mesins}`,s=(null==(t=e.monitoring_interval)?void 0:t.type_interval)||"weekly",o="weekly"===s?"Weekly":"monthly"===s?"Monthly":"quarterly"===s?"3 Months":"semi-annual"===s?"6 Months":"yearly"===s?"1 Year":"Daily",l=e.item_mesins&&e.item_mesins.length>0?e.item_mesins:(null==a?void 0:a.item_mesin)||[];e.monitoring_activities&&e.monitoring_activities.length>0?e.monitoring_activities.forEach(t=>{var a;let s=l.find(e=>e.id===t.id_item_mesin);if(!s)for(const e of n){for(const n of e.mesin){const e=null==(a=n.item_mesin)?void 0:a.find(e=>e.id===t.id_item_mesin);if(e){s=e;break}}if(s)break}s||(s={id:t.id_item_mesin,item_mesin:"Unknown Item",satuan:"N/A",standard_min:null,standard_max:null,standard_visual:"N/A",interval_id:1,mesin_id:e.id_mesins,created_at:"",updated_at:""});let c="N/A";"ms"===t.hasil_ms_tms?c="MS":"tms"===t.hasil_ms_tms&&(c="TMS");let d=t.hasil_monitoring||"N/A";if(t.hasil_monitoring&&"N/A"!==t.hasil_monitoring){const e=parseFloat(t.hasil_monitoring);!isNaN(e)&&isFinite(e)&&(d=e.toString())}r.push({id:`activity-${t.id_monitoring_activity}`,mesin:i,date:t.tgl_monitoring,interval:o,unitWilayah:e.unit,item:s.item_mesin||"Unknown Item",unitOfMeasure:s.satuan||"N/A",standardMin:s.standard_min?parseFloat(s.standard_min):null,standardMax:s.standard_max?parseFloat(s.standard_max):null,standartVisual:s.standard_visual||"N/A",monitoringResult:d,msStatus:c,notes:t.hasil_keterangan||"N/A",perbaikanPerawatan:"Preventive",description:`Monitoring activity for ${i}`,pic:"System",shift:"N/A",group:"N/A",stopJam:0,stopMenit:0,startJam:0,startMenit:0,stopTime:"N/A",unit:e.unit,runningHour:0,itemTrouble:"N/A",jenisGangguan:"N/A",bentukTindakan:"N/A",rootCause:"N/A",jenisAktivitas:"Monitoring",kegiatan:"Routine inspection",kodePart:"N/A",sparePart:"N/A",idPart:"N/A",jumlah:0,unitSparePart:"N/A",scheduleId:e.id_monitoring_schedule,scheduleStatus:e.status||"New"})}):l.forEach(t=>{r.push({id:`schedule-${e.id_monitoring_schedule}-scheduled-${t.id}`,mesin:i,date:e.tgl_start,interval:o,unitWilayah:e.unit,item:t.item_mesin||"Unknown Item",unitOfMeasure:t.satuan||"N/A",standardMin:t.standard_min?parseFloat(t.standard_min):null,standardMax:t.standard_max?parseFloat(t.standard_max):null,standartVisual:t.standard_visual||"N/A",monitoringResult:"N/A",msStatus:"N/A",notes:"Scheduled monitoring - Not yet performed",perbaikanPerawatan:"Preventive",description:`Scheduled monitoring for ${i}`,pic:"N/A",shift:"N/A",group:"N/A",stopJam:0,stopMenit:0,startJam:0,startMenit:0,stopTime:"N/A",unit:e.unit,runningHour:0,itemTrouble:"N/A",jenisGangguan:"N/A",bentukTindakan:"N/A",rootCause:"N/A",jenisAktivitas:"Monitoring",kegiatan:"Routine inspection",kodePart:"N/A",sparePart:"N/A",idPart:"N/A",jumlah:0,unitSparePart:"N/A",scheduleId:e.id_monitoring_schedule,scheduleStatus:e.status||"New"})})}),r.filter(e=>e.monitoringResult&&"N/A"!==e.monitoringResult&&!isNaN(parseFloat(e.monitoringResult))),r},[]),[Se,Ce]=x.useState([]),[_e,Ae]=x.useState(null);x.useEffect(()=>{let e=!0;const r=new AbortController;return(async()=>{if(!e)return;const r=Date.now();if(_e&&r-_e.timestamp<3e5){V(_e.schedules),G(_e.masterData.unitsWithMachines||[]),K(_e.masterData.intervals||[]);const e=ke(_e.schedules,[],_e.masterData.unitsWithMachines||[]);return Ce(e),void c(!1)}try{c(!0),u(null);const[a,i]=await Promise.all([t(),n()]);if(!e)return;i.unitsWithMachines&&i.unitsWithMachines.length,Ae({schedules:a,masterData:i,timestamp:r}),V(a),G(i.unitsWithMachines||[]),K(i.intervals||[]);const s=ke(a,[],i.unitsWithMachines||[]);Ce(s)}catch(a){if(!e)return;u(a instanceof Error?a.message:"Failed to fetch data")}finally{e&&c(!1)}})(),()=>{e=!1,r.abort()}},[t,n,ke,_e]);const Te=x.useMemo(()=>["",...new Set(Se.map(e=>e.unitWilayah))],[Se]),Oe=x.useMemo(()=>["",...new Set(Se.map(e=>e.mesin))],[Se]);x.useMemo(()=>["",...new Set(Se.map(e=>e.item))],[Se]);const Ee=x.useMemo(()=>{if(0===Se.length)return[];let e=Se;if(F){const t=F.toLowerCase();if(e=e.filter(e=>e.mesin.toLowerCase().includes(t)||e.item.toLowerCase().includes(t)||e.unitWilayah.toLowerCase().includes(t)),0===e.length)return[]}if(A&&O){const t=A.toISOString().split("T")[0],n=O.toISOString().split("T")[0];if(e=e.filter(e=>e.date>=t&&e.date<=n),0===e.length)return[]}if(se.length>0){const t=new Set(se);if(e=e.filter(e=>t.has(e.msStatus)),0===e.length)return[]}if(M.length>0){const t=new Set(M);if(e=e.filter(e=>t.has(e.unitWilayah)),0===e.length)return[]}if(D.length>0){const t=new Set(D);if(e=e.filter(e=>t.has(e.mesin)),0===e.length)return[]}return e},[Se,A,O,se,M,D,F]);x.useEffect(()=>{const e=()=>{m(window.innerWidth<768),window.innerWidth<768&&i(!1)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),x.useEffect(()=>{const e=e=>{ae.current&&!ae.current.contains(e.target)&&g(!1),ie.current&&!ie.current.contains(e.target)&&y(!1),!me.current||me.current.contains(e.target)||e.target.closest(".status-filter-toggle")||pe(!1),!xe.current||xe.current.contains(e.target)||e.target.closest(".machine-filter-toggle")||ge(!1),!ve.current||ve.current.contains(e.target)||e.target.closest(".unit-filter-toggle")||ye(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);const Me=x.useCallback(e=>{Ce(t=>t.map(t=>t.id===e.id?e:t))},[]),Pe=x.useMemo(()=>new Date,[]),[De,Le]=x.useState(Pe),Ie=(e,t)=>{te(e),re(t),Z(!0)},Re=t=>{let n;if(t.scheduleId)n=t.scheduleId;else if(t.id.startsWith("schedule-")){const e=t.id.split("-");e.length>=2&&(n=e[1])}else if(t.id.startsWith("activity-")){const e=t.id.split("-");if(e.length>=2)for(let t of e)if(/^\d+$/.test(t)){n=t;break}}n?(e(`/monitoringmaintenance/detailmonitoringmaintenance/${n}`),Z(!1)):alert("Error: Could not determine schedule ID")};return x.useMemo(()=>{const e=Se.filter(e=>e),t=[];return e.forEach(e=>{t.push({id:`approval-${e.id}`,icon:h.jsx(Hc,{className:"text-orange-500"}),title:`Approval Needed: ${e.mesin} - ${e.item}`,description:`Record for ${e.mesin} - ${e.item} is awaiting your approval ().`,date:new Date(e.date).toLocaleDateString("en-US")})}),t},[Se,"Unit Head Engineering"]),null!==J.startDate&&J.endDate,J.selectedUnits.length,J.selectedUnits.every(e=>e.machines.length>0&&e.machines.every(e=>null!==e.selectedInterval)),J.selectedUnits.every(e=>e.machines.every(e=>null===e.selectedInterval||null!==e.selectedInterval&&e.selectedItems.length>0)),h.jsx(tle.Provider,{value:{records:Se,setRecords:Ce,routineSchedules:Ne},children:h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[h.jsx(Lu,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Fu,{mainTitle:"Moninoring Maintenance",mainTitleHighlight:"Management",description:"Manage user roles and permissions to control access and functionality within the system.",icon:h.jsx(Yd,{}),isMobile:p,toggleSidebar:()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!a)),i(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[h.jsxs(kc.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Monitoring ",h.jsx("span",{className:"text-blue-600",children:"Maintenance"})]}),h.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Monitor and schedule preventive maintenance tasks for all machines, and track their approval progress."})]}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsxs(kc.button,{onClick:()=>e("/monitoringmaintenance/formmonitoringmaintenance"),whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-full text-sm font-semibold shadow-md hover:bg-blue-700 transition-colors duration-200",children:[h.jsx(nu,{className:"w-4 h-4 mr-2"})," Add Schedule"]}),h.jsxs("div",{className:"flex space-x-1 p-1 bg-white rounded-full shadow-sm border border-gray-100",children:[h.jsxs(kc.button,{onClick:()=>_("calendar"),whileTap:{scale:.95},className:"flex items-center px-4 py-2 rounded-full text-sm font-semibold transition-colors duration-200 "+("calendar"===C?"bg-blue-600 text-white shadow":"text-gray-700 hover:bg-gray-100"),children:[h.jsx(Vc,{className:"w-4 h-4 mr-2"})," Calendar"]}),h.jsxs(kc.button,{onClick:()=>_("table"),whileTap:{scale:.95},className:"flex items-center px-4 py-2 rounded-full text-sm font-semibold transition-colors duration-200 "+("table"===C?"bg-blue-600 text-white shadow":"text-gray-700 hover:bg-gray-100"),children:[h.jsx(ad,{className:"w-4 h-4 mr-2"})," Table"]}),h.jsxs(kc.button,{onClick:()=>_("trend"),whileTap:{scale:.95},className:"flex items-center px-4 py-2 rounded-full text-sm font-semibold transition-colors duration-200 "+("trend"===C?"bg-blue-600 text-white shadow":"text-gray-700 hover:bg-gray-100"),children:[h.jsx(wu,{className:"w-4 h-4 mr-2"})," Trend"]})]})]})]}),l?h.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[h.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),h.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading maintenance data..."})]}):0===Se.length?h.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[h.jsx(Ed,{className:"text-blue-500 text-4xl mx-auto mb-4"}),h.jsx("p",{className:"text-gray-700 text-base font-medium",children:"No monitoring data available."})]}):h.jsx(Mi,{mode:"wait",children:h.jsxs(kc.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:[h.jsxs(kc.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[h.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:[h.jsxs("div",{className:"flex-1 relative",children:[h.jsx(uu,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),h.jsx("input",{type:"text",placeholder:"Search by Interval, unit, or machine...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:F,onChange:e=>H(e.target.value),"aria-label":"Search records"})]}),h.jsxs(kc.button,{whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},onClick:()=>B(!z),className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[h.jsx(vd,{className:"text-base"}),h.jsx("span",{children:"Filter"}),h.jsx(kc.span,{animate:{rotate:z?180:0},transition:{duration:.2},children:h.jsx(Jc,{className:"text-base"})})]})]}),h.jsx(Mi,{children:z&&h.jsxs(kc.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 w-full",children:[h.jsxs("div",{className:"flex items-center space-x-2 bg-white p-2.5 rounded-lg border border-blue-200 shadow-sm",children:[h.jsx(Vc,{className:"text-gray-500 text-base"}),h.jsx(ab,{selected:A,onChange:e=>T(e),selectsStart:!0,startDate:A,endDate:O,placeholderText:"Start Date",className:"w-24 focus:outline-none bg-transparent text-sm text-gray-800 placeholder-gray-400",dateFormat:"dd/MM/yyyy",isClearable:!0,"aria-label":"Start Date"}),h.jsx("span",{className:"text-gray-400",children:"-"}),h.jsx(ab,{selected:O,onChange:e=>E(e),selectsEnd:!0,startDate:A,endDate:O,minDate:A||void 0,placeholderText:"End Date",className:"w-24 focus:outline-none bg-transparent text-sm text-gray-800 placeholder-gray-400",dateFormat:"dd/MM/yyyy",isClearable:!0,"aria-label":"End Date"}),(A||O)&&h.jsx(kc.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{T(null),E(null)},className:"p-1 rounded-full text-gray-400 hover:bg-gray-100 transition-colors",title:"Clear Dates","aria-label":"Clear date range",children:h.jsx(Pu,{className:"text-base"})})]}),h.jsxs("div",{ref:me,className:"relative w-full",children:[h.jsxs("button",{type:"button",className:"status-filter-toggle w-full border border-blue-200 rounded-lg px-4 py-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm text-left flex justify-between items-center transition-all duration-200 shadow-sm cursor-pointer",onClick:e=>{e.stopPropagation(),pe(!he)},"aria-expanded":he,"aria-haspopup":"true","aria-label":"Filter by Status",children:[h.jsx("span",{children:se.length>0?se.length===we.length?"All Status":`Selected (${se.length})`:"All Status"}),h.jsx(Jc,{className:`transform transition-transform ${he?"rotate-180":"rotate-0"} text-gray-500 text-base`})]}),h.jsx(Mi,{children:he&&h.jsxs(kc.div,{initial:{opacity:0,y:5,height:0},animate:{opacity:1,y:0,height:"auto"},exit:{opacity:0,y:5,height:0},transition:{duration:.15},className:"absolute top-full left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-50 max-h-56 overflow-y-auto custom-scrollbar",role:"listbox",children:[h.jsxs("label",{className:"flex items-center p-2.5 hover:bg-blue-50 cursor-pointer border-b border-blue-50",role:"option",children:[h.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 rounded focus:ring-blue-500 transition duration-150 ease-in-out",checked:se.length===we.length&&we.length>0,onChange:e=>{e.target.checked?oe(we.map(e=>e.value)):oe([])}}),h.jsx("span",{className:"ml-2 text-gray-800 font-semibold text-sm",children:"Select All"})]}),we.map(e=>h.jsxs("label",{className:"flex items-center p-2.5 hover:bg-blue-50 cursor-pointer",role:"option",children:[h.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 rounded focus:ring-blue-500 transition duration-150 ease-in-out",checked:se.includes(e.value),onChange:t=>{return n=e.value,r=t.target.checked,void oe(r?e=>[...e,n]:e=>e.filter(e=>e!==n));var n,r}}),h.jsx("span",{className:"ml-2 text-gray-800 text-sm",children:e.label})]},e.value))]})})]}),h.jsxs("div",{ref:ve,className:"relative w-full",children:[h.jsxs("button",{type:"button",className:"unit-filter-toggle w-full border border-blue-200 rounded-lg px-4 py-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm text-left flex justify-between items-center transition-all duration-200 shadow-sm cursor-pointer",onClick:e=>{e.stopPropagation(),ye(!be)},"aria-expanded":be,"aria-haspopup":"true","aria-label":"Filter by Unit",children:[h.jsx("span",{children:M.length>0?M.length===Te.length-1?"All Units":`Selected (${M.length})`:"All Units"}),h.jsx(Jc,{className:`transform transition-transform ${be?"rotate-180":"rotate-0"} text-gray-500 text-base`})]}),h.jsx(Mi,{children:be&&h.jsxs(kc.div,{initial:{opacity:0,y:5,height:0},animate:{opacity:1,y:0,height:"auto"},exit:{opacity:0,y:5,height:0},transition:{duration:.15},className:"absolute top-full left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-50 max-h-56 overflow-y-auto custom-scrollbar",role:"listbox",children:[h.jsxs("label",{className:"flex items-center p-2.5 hover:bg-blue-50 cursor-pointer border-b border-blue-50",role:"option",children:[h.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 rounded focus:ring-blue-500 transition duration-150 ease-in-out",checked:M.length===Te.length-1&&Te.length>1,onChange:e=>{e.target.checked?P(Te.slice(1)):P([])}}),h.jsx("span",{className:"ml-2 text-gray-800 font-semibold text-sm",children:"Select All"})]}),Te.slice(1).map(e=>h.jsxs("label",{className:"flex items-center p-2.5 hover:bg-blue-50 cursor-pointer",role:"option",children:[h.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 rounded focus:ring-blue-500 transition duration-150 ease-in-out",checked:M.includes(e),onChange:t=>{return n=e,r=t.target.checked,void P(r?e=>[...e,n]:e=>e.filter(e=>e!==n));var n,r}}),h.jsx("span",{className:"ml-2 text-gray-800 text-sm",children:e})]},e))]})})]}),h.jsxs("div",{ref:xe,className:"relative w-full",children:[h.jsxs("button",{type:"button",className:"machine-filter-toggle w-full border border-blue-200 rounded-lg px-4 py-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm text-left flex justify-between items-center transition-all duration-200 shadow-sm cursor-pointer",onClick:e=>{e.stopPropagation(),ge(!fe)},"aria-expanded":fe,"aria-haspopup":"true","aria-label":"Filter by Machine",children:[h.jsx("span",{children:D.length>0?D.length===Oe.length-1?"All Machines":`Selected (${D.length})`:"All Machines"}),h.jsx(Jc,{className:`transform transition-transform ${fe?"rotate-180":"rotate-0"} text-gray-500 text-base`})]}),h.jsx(Mi,{children:fe&&h.jsxs(kc.div,{initial:{opacity:0,y:5,height:0},animate:{opacity:1,y:0,height:"auto"},exit:{opacity:0,y:5,height:0},transition:{duration:.15},className:"absolute top-full left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-50 max-h-56 overflow-y-auto custom-scrollbar",role:"listbox",children:[h.jsxs("label",{className:"flex items-center p-2.5 hover:bg-blue-50 cursor-pointer border-b border-blue-50",role:"option",children:[h.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 rounded focus:ring-blue-500 transition duration-150 ease-in-out",checked:D.length===Oe.length-1&&Oe.length>1,onChange:e=>{e.target.checked?L(Oe.slice(1)):L([])}}),h.jsx("span",{className:"ml-2 text-gray-800 font-semibold text-sm",children:"Select All"})]}),Oe.slice(1).map(e=>h.jsxs("label",{className:"flex items-center p-2.5 hover:bg-blue-50 cursor-pointer",role:"option",children:[h.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 rounded focus:ring-blue-500 transition duration-150 ease-in-out",checked:D.includes(e),onChange:t=>{return n=e,r=t.target.checked,void L(r?e=>[...e,n]:e=>e.filter(e=>e!==n));var n,r}}),h.jsx("span",{className:"ml-2 text-gray-800 text-sm",children:e})]},e))]})})]})]})})]}),"calendar"===C&&h.jsxs("div",{className:"space-y-6",children:[h.jsx("div",{className:"bg-white rounded-2xl shadow-sm p-6 border border-gray-100",children:h.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[h.jsxs("div",{className:"text-center lg:text-left",children:[h.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:De.toLocaleDateString("en-US",{month:"long",year:"numeric"})}),h.jsx("p",{className:"text-gray-600 text-sm",children:"Monitor your maintenance schedules and activities"})]}),h.jsxs("div",{className:"flex items-center justify-center gap-3",children:[h.jsx(kc.button,{whileHover:{scale:1.05,backgroundColor:"rgba(59, 130, 246, 0.1)"},whileTap:{scale:.95},onClick:()=>{Le(e=>new Date(e.getFullYear(),e.getMonth()-1,1))},className:"p-3 rounded-xl text-gray-600 hover:text-blue-600 hover:bg-blue-50 transition-all duration-200 border border-gray-200","aria-label":"Previous month",children:h.jsx(Xc,{size:20})}),h.jsx(kc.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{Le(new Date)},className:"px-4 py-3 bg-blue-600 text-white rounded-xl text-sm font-semibold shadow-lg hover:bg-blue-700 transition-colors duration-200",children:"Today"}),h.jsx(kc.button,{whileHover:{scale:1.05,backgroundColor:"rgba(59, 130, 246, 0.1)"},whileTap:{scale:.95},onClick:()=>{Le(e=>new Date(e.getFullYear(),e.getMonth()+1,1))},className:"p-3 rounded-xl text-gray-600 hover:text-blue-600 hover:bg-blue-50 transition-all duration-200 border border-gray-200","aria-label":"Next month",children:h.jsx(Qc,{size:20})})]})]})}),h.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-6 border border-gray-100",children:[h.jsxs("div",{className:"grid grid-cols-8 gap-2 mb-4",children:[h.jsx("div",{className:"p-3 text-center",children:h.jsx("span",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wider",children:"WN"})}),["Mon","Tue","Wed","Thu","Fri","Sat","Sun"].map(e=>h.jsx("div",{className:"p-3 text-center",children:h.jsx("span",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wider",children:e})},e))]}),h.jsx("div",{className:"grid grid-cols-8 gap-2",children:(()=>{const e=De.getFullYear(),t=De.getMonth(),n=((e,t)=>new Date(e,t+1,0).getDate())(e,t),r=((e,t)=>{const n=new Date(e,t,1).getDay();return 0===n?6:n-1})(e,t),a=[];let i=1,s=[],o=null;for(let l=0;l<r;l++)s.push(h.jsx("div",{className:"p-3 rounded-xl bg-gray-50 border border-gray-100 min-h-[100px] flex flex-col items-center justify-center",children:h.jsx("span",{className:"text-sm text-gray-400",children:"-"})},`empty-pre-${l}`));for(;i<=n;){const r=new Date(e,t,i);o||(o=r);const l=`${e}-${String(t+1).padStart(2,"0")}-${String(i).padStart(2,"0")}`,c=Ee.filter(e=>e.date===l),d=c.reduce((e,t)=>{const n=String(t.scheduleId||"unknown");return e[n]?e[n].items.push(t):e[n]={scheduleId:n,machine:t.mesin,items:[t]},e},{}),u=Object.values(d),p=Pe.toDateString()===r.toDateString(),m=u.length>0;let f="p-3 rounded-xl border-2 min-h-[100px] flex flex-col transition-all duration-200 ";if(p)f+="bg-blue-50 border-blue-200 shadow-sm ";else if(m){const e=u.flatMap(e=>e.items.map(e=>e.scheduleStatus||"New"));e.includes("Done")?f+="bg-green-50 border-green-200 ":e.includes("On Progress")?f+="bg-yellow-50 border-yellow-200 ":f+="bg-blue-50 border-blue-200 "}else f+="bg-white border-gray-100 hover:border-gray-200 ";if(f+="hover:shadow-md hover:scale-[1.02] cursor-pointer ",s.push(h.jsxs(kc.div,{className:f,whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>m&&Ie(c,l),children:[h.jsxs("div",{className:"flex justify-between items-start mb-2",children:[h.jsx("span",{className:"text-sm font-semibold "+(p?"text-blue-600":m?"text-gray-900":"text-gray-500"),children:i}),p&&h.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"})]}),h.jsxs("div",{className:"flex-1 flex flex-col gap-1.5",children:[u.slice(0,2).map((e,t)=>h.jsxs("div",{className:"px-2 py-1.5 rounded-lg text-xs font-medium "+("Done"===e.items[0].scheduleStatus?"bg-green-100 text-green-800 border border-green-200":"On Progress"===e.items[0].scheduleStatus?"bg-yellow-100 text-yellow-800 border border-yellow-200":"bg-blue-100 text-blue-800 border border-blue-200"),children:[h.jsx("div",{className:"font-semibold truncate",children:e.machine}),h.jsxs("div",{className:"text-xs opacity-75 mt-0.5",children:[e.items.length," item",e.items.length>1?"s":""]})]},e.scheduleId)),u.length>2&&h.jsxs("div",{className:"px-2 py-1 bg-gray-100 text-gray-600 rounded-lg text-xs font-medium text-center",children:["+",u.length-2," more"]})]})]},l)),7===s.length||i===n){for(;s.length<7;)s.push(h.jsx("div",{className:"p-3 rounded-xl bg-gray-50 border border-gray-100 min-h-[100px] flex flex-col items-center justify-center",children:h.jsx("span",{className:"text-sm text-gray-400",children:"-"})},`empty-post-${s.length}`));const e=o?Yoe(o):null;a.push(h.jsxs(x.Fragment,{children:[h.jsx("div",{className:"p-3 rounded-xl bg-gradient-to-br from-gray-50 to-gray-100 border border-gray-200 flex items-center justify-center",children:h.jsx("span",{className:"text-sm font-bold text-gray-600",children:null!==e?`${String(e).padStart(2,"0")}`:""})}),s]},`week-row-${i}`)),s=[],o=null}i++}return a})()})]}),h.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-6 border border-gray-100",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Schedule Status"}),h.jsxs("div",{className:"flex flex-wrap gap-6",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-4 h-4 bg-blue-100 border-2 border-blue-400 rounded-full"}),h.jsx("span",{className:"text-sm font-medium text-gray-700",children:"New / Not Started"})]}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-4 h-4 bg-yellow-100 border-2 border-yellow-400 rounded-full"}),h.jsx("span",{className:"text-sm font-medium text-gray-700",children:"On Progress"})]}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-4 h-4 bg-green-100 border-2 border-green-400 rounded-full"}),h.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Done / Completed"})]}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-4 h-4 bg-gray-100 border-2 border-gray-300 rounded-full"}),h.jsx("span",{className:"text-sm font-medium text-gray-700",children:"No Schedule"})]})]})]})]}),"table"===C&&h.jsx("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:h.jsx("div",{className:"overflow-x-auto bg-white rounded-lg shadow-md mt-6 animate-fade-in",children:h.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[h.jsx("thead",{className:"bg-gray-50",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Interval"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Machine"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Item"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Monitoring Result"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"MS Status"}),h.jsx("th",{className:"relative px-6 py-3",children:h.jsx("span",{className:"sr-only",children:"Actions"})})]})}),h.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Ee.length>0?Ee.map(e=>h.jsxs(kc.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"hover:bg-gray-50",children:[h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.date}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.interval}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.unitWilayah}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.mesin}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.item}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.monitoringResult}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:h.jsx("span",{className:"px-2.5 py-0.5 rounded-full text-xs font-semibold "+("MS"===e.msStatus?"bg-green-100 text-green-800":"TMS"===e.msStatus?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"),children:e.msStatus})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:h.jsx(kc.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>(e=>{S(e),w(!0)})(e),className:"text-blue-600 hover:text-blue-900 transition-colors duration-200",title:"View Details",children:h.jsx(md,{size:18})})})]},e.id)):h.jsx("tr",{children:h.jsx("td",{colSpan:8,className:"px-6 py-4 text-center text-sm text-gray-500",children:"No monitoring data found."})})})]})})}),"trend"===C&&h.jsx(ele,{records:Ee})]},C)})]})]}),h.jsx(Joe,{isOpen:v,onClose:()=>w(!1),title:"Monitoring Details",children:k&&h.jsxs(h.Fragment,{children:[h.jsx(Zoe,{record:k,onUpdateRecord:Me}),h.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200 flex justify-center",children:h.jsxs(kc.button,{onClick:()=>Re(k),whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-5 py-2.5 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors duration-200 font-semibold text-sm flex items-center",children:[h.jsx(md,{className:"w-4 h-4 mr-2"}),"View Full Details"]})})]})}),h.jsx(nle,{isOpen:Q,onClose:()=>Z(!1),schedules:ee,onSelectSchedule:Re,titleDate:ne})]})})},ale=({isOpen:e,onClose:t,title:n,children:r,className:a})=>h.jsx(Mi,{children:e&&h.jsx(kc.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:h.jsxs(kc.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${a||"max-w-xl w-full"}`,children:[h.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[h.jsx("h2",{className:"text-xl font-bold text-gray-800",children:n}),h.jsx("button",{onClick:t,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:h.jsx(Pu,{className:"text-xl"})})]}),h.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:r})]})})}),ile=({title:e,value:t,change:n,icon:r})=>{const a=n.startsWith("+");return h.jsxs(kc.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[h.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:e}),h.jsx("p",{className:"text-3xl font-bold text-gray-900",children:t})]}),h.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:r})]}),h.jsxs("p",{className:"mt-3 text-xs font-semibold "+(a?"text-green-600":"text-red-600"),children:[n," from last month"]})]})},sle=({vendor:e,onClose:t})=>{const n=e=>null==e?"-":"object"==typeof e&&null!==e?e.name||e.title||e.id||"-":"string"==typeof e?""!==e.trim()?e.trim():"-":"number"==typeof e?e.toString():String(e),r=e=>e?new Date(e).toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-",a=({title:e,children:t,icon:n})=>h.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[h.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-4 border-b border-gray-200",children:h.jsxs("div",{className:"flex items-center",children:[n&&h.jsx("div",{className:"mr-3 text-blue-600",children:n}),h.jsx("h3",{className:"text-lg font-bold text-gray-900",children:e})]})}),h.jsx("div",{className:"p-6",children:t})]}),i=({label:e,value:t,icon:n,fullWidth:r=!1,priority:a="medium"})=>h.jsx("div",{className:r?"col-span-full":"",children:h.jsx("div",{className:`p-4 rounded-lg ${{high:"border-l-4 border-l-blue-500 bg-blue-25",medium:"border-l-2 border-l-gray-200",low:"border-l border-l-gray-100"}[a]} transition-all duration-200 hover:shadow-sm`,children:h.jsxs("div",{className:"flex items-start space-x-3",children:[n&&h.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:n}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1",children:e}),h.jsx("p",{className:"text-sm font-medium text-gray-900 leading-relaxed",children:t})]})]})})});return h.jsxs("div",{className:"space-y-6 max-h-[70vh] overflow-y-auto custom-scrollbar pr-2",children:[h.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6",children:h.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[h.jsxs("div",{className:"flex-1",children:[h.jsx("div",{className:"flex items-center gap-3 mb-2",children:h.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:e.name})}),h.jsxs("p",{className:"text-gray-600 flex items-center gap-2",children:[h.jsx(Vc,{className:"w-4 h-4"}),"Vendor ID: ",e.id," • Created: ",r(e.created_at)]})]}),h.jsx("div",{className:"flex items-center gap-2",children:h.jsxs(kc.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:t,className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-lg text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:[h.jsx(Pu,{className:"w-4 h-4 mr-2"}),"Close"]})})]})}),h.jsx(a,{title:"Basic Information",icon:h.jsx(Tu,{className:"w-5 h-5"}),children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[h.jsx(i,{label:"Vendor ID",value:n(e.id),icon:h.jsx(ad,{className:"w-4 h-4"}),priority:"high"}),h.jsx(i,{label:"Vendor Name",value:n(e.name),icon:h.jsx(Uc,{className:"w-4 h-4"}),priority:"high"}),h.jsx(i,{label:"Contact Person",value:n(e.contact_person),icon:h.jsx(Tu,{className:"w-4 h-4"}),priority:"high"})]})}),h.jsx(a,{title:"Contact Information",icon:h.jsx(eu,{className:"w-5 h-5"}),children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[h.jsx(i,{label:"Email",value:n(e.email),icon:h.jsx(Vd,{className:"w-4 h-4"}),priority:"high"}),h.jsx(i,{label:"Telephone",value:n(e.telp),icon:h.jsx(eu,{className:"w-4 h-4"})}),h.jsx(i,{label:"Mobile Phone",value:n(e.HP),icon:h.jsx(eu,{className:"w-4 h-4"})})]})}),h.jsx(a,{title:"Address Information",icon:h.jsx(qd,{className:"w-5 h-5"}),children:h.jsx("div",{className:"grid grid-cols-1 gap-4",children:h.jsx(i,{label:"Full Address",value:n(e.address),icon:h.jsx(qd,{className:"w-4 h-4"}),fullWidth:!0})})}),h.jsx(a,{title:"Additional Information",icon:h.jsx(Ed,{className:"w-5 h-5"}),children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsx(i,{label:"Created At",value:r(e.created_at),icon:h.jsx(Vc,{className:"w-4 h-4"})}),h.jsx(i,{label:"Updated At",value:r(e.updated_at),icon:h.jsx(Vc,{className:"w-4 h-4"})})]})})]})},ole=()=>{ye();const[e,t]=x.useState([]),{getVendor:n,deleteVendor:r,user:a,hasPermission:i}=gt(),[s,o]=x.useState([]),[l,c]=x.useState(!0),[d,u]=x.useState(!1),[p,m]=x.useState(null),[f,g]=x.useState(""),[y,v]=x.useState(""),[w,j]=x.useState(!1),[N,k]=x.useState(null),[S,C]=x.useState(!1),[_,A]=x.useState(null),T=x.useRef(!0),[O,E]=x.useState(null),[M,P]=x.useState(null),D=x.useRef(null),[L,I]=x.useState(!1),[R,F]=x.useState(""),[H]=x.useState(window.innerWidth<768),[z,B]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return!!e&&JSON.parse(e)}),[W,$]=x.useState(!1),[U,V]=x.useState(null),[q,G]=x.useState(!1),[Y,K]=x.useState(null),J=je(),[X,Q]=x.useState(!1),[Z,ee]=x.useState(!1),[te,ne]=x.useState(!1),re=x.useRef(null),ae=x.useRef(null),[ie,se]=x.useState(1),[oe]=x.useState(10),[le,ce]=x.useState({key:"name",direction:"ascending"}),de=function(e){const[t,n]=x.useState(e);return x.useEffect(()=>{const t=setTimeout(()=>{n(e)},300);return()=>{clearTimeout(t)}},[e,300]),t}(R),ue=x.useMemo(()=>[{id:"name",name:"Vendor Name"},{id:"contact",name:"Contact Person"},{id:"email",name:"Email"},{id:"id",name:"Vendor ID"}],[]),he=x.useCallback(async()=>{try{c(!0);const e=[...await n()].sort((e,t)=>e.id-t.id);t(e),o(e)}catch(e){A("Failed to load vendors")}finally{T.current&&c(!1)}},[n]);x.useEffect(()=>{he()},[he]),x.useEffect(()=>{let t=[...e];if(de.trim()){const e=de.toLowerCase().trim();t=t.filter(t=>{var n,r,a;const i=e.split(":");let s="all",o=e;i.length>1&&ue.some(e=>e.name.toLowerCase()===i[0].trim())&&(s=i[0].trim(),o=i.slice(1).join(":").trim());const l=null==(n=t.name)?void 0:n.toLowerCase().includes(o),c=null==(r=t.contact_person)?void 0:r.toLowerCase().includes(o),d=null==(a=t.email)?void 0:a.toLowerCase().includes(o),u=t.id.toString().includes(o);return"vendor name"===s?l:"contact person"===s?c:"email"===s?d:"vendor id"===s?u:l||c||d||u})}if(O){const e=new Date(O);e.setHours(0,0,0,0),t=t.filter(t=>{if(!t.created_at)return!0;const n=new Date(t.created_at);return n.setHours(0,0,0,0),n>=e})}if(M){const e=new Date(M);e.setHours(23,59,59,999),t=t.filter(t=>{if(!t.created_at)return!0;const n=new Date(t.created_at);return n.setHours(0,0,0,0),n<=e})}null!==le&&t.sort((e,t)=>{const n=fe(e[le.key]),r=fe(t[le.key]);return n<r?"ascending"===le.direction?-1:1:n>r?"ascending"===le.direction?1:-1:0}),o(t)},[e,de,O,M,le,ue]);const pe=b.useMemo(()=>{if(!R)return ue;const e=R.toLowerCase();return ue.filter(t=>t.name.toLowerCase().includes(e))},[R,ue]);x.useCallback(e=>{K(e),C(!0)},[]);const me=e=>{let t="ascending";le&&le.key===e&&"ascending"===le.direction&&(t="descending"),ce({key:e,direction:t})},fe=e=>"object"==typeof e&&null!==e?e.name||e.toString():(null==e?void 0:e.toString())||"",ge=ie*oe,xe=ge-oe,be=s.slice(xe,ge),ve=Math.ceil(s.length/oe),we=e=>se(e);return x.useEffect(()=>{const e=e=>{re.current&&!re.current.contains(e.target)&&ee(!1),ae.current&&!ae.current.contains(e.target)&&ne(!1),!D.current||D.current.contains(e.target)||e.target.closest(".search-suggestions")||I(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[h.jsx(Lu,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Fu,{mainTitle:"Vendor",mainTitleHighlight:"Groups",description:"Manage service groups used across the service management system.",icon:h.jsx(Wc,{}),isMobile:H,toggleSidebar:()=>{const e=!z;B(e),localStorage.setItem("sidebarOpen",JSON.stringify(e))}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[h.jsxs(kc.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[h.jsxs("div",{children:[h.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Vendors ",h.jsx("span",{className:"text-blue-600",children:"Management"})]}),h.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Organize and manage vendors by specific company."})]}),h.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[i("create_machine_history")&&h.jsxs(kc.button,{onClick:()=>J("/vendors/addvendor"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[h.jsx(nu,{className:"text-base"}),h.jsx("span",{children:"Add Vendor"})]}),h.jsxs(kc.button,{onClick:()=>{alert("Import functionality is not yet implemented.")},whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[h.jsx(Su,{className:"text-base"}),h.jsx("span",{children:"Import"})]}),h.jsxs(kc.button,{onClick:()=>$(!W),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[h.jsx(vd,{className:"text-base"}),h.jsx("span",{children:"Filters"}),h.jsx(kc.span,{animate:{rotate:W?180:0},transition:{duration:.2},children:h.jsx(Jc,{className:"text-base"})})]})]})]}),h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[h.jsx(ile,{title:"Total Vendors",value:e.length.toString(),change:`+${Math.floor(e.length/10*100)}%`,icon:h.jsx(Uc,{className:"w-6 h-6"})}),h.jsx(ile,{title:"Vendors with Email",value:e.filter(e=>e.email).length.toString(),change:`+${Math.floor(e.filter(e=>e.email).length/e.length*100)}%`,icon:h.jsx(Vd,{className:"w-6 h-6"})}),h.jsx(ile,{title:"Vendors with Contact",value:e.filter(e=>e.contact_person).length.toString(),change:`+${Math.floor(e.filter(e=>e.contact_person).length/e.length*100)}%`,icon:h.jsx(Ou,{className:"w-6 h-6"})}),h.jsx(ile,{title:"Vendors with Phone",value:e.filter(e=>e.telp||e.HP).length.toString(),change:`+${Math.floor(e.filter(e=>e.telp||e.HP).length/e.length*100)}%`,icon:h.jsx(eu,{className:"w-6 h-6"})})]}),h.jsxs(kc.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[h.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:h.jsxs("div",{className:"flex-1 relative",children:[h.jsx(uu,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),h.jsx("input",{ref:D,type:"text",placeholder:"Search by vendor name, contact, email, or ID...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:R,onChange:e=>{const t=e.target.value;F(t)},onFocus:()=>I(!0),"aria-label":"Search vendors"}),h.jsx(Mi,{children:L&&pe.length>0&&h.jsx(kc.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.15},className:"search-suggestions absolute left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-10 max-h-56 overflow-y-auto custom-scrollbar",children:pe.map(e=>h.jsx(kc.button,{onClick:()=>{return t=e.name,F(`${t}: `),I(!1),void(null==(n=D.current)||n.focus());var t,n},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},className:"w-full text-left p-3 text-gray-700 hover:text-blue-700 transition-colors duration-150 text-sm",role:"option",children:h.jsx("span",{className:"font-semibold",children:e.name})},e.id))})})]})}),h.jsx(Mi,{children:W&&h.jsx(kc.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full",children:h.jsxs("div",{className:"flex items-center space-x-2 bg-white p-2.5 rounded-lg border border-blue-200 shadow-sm",children:[h.jsx(Vc,{className:"text-gray-500 text-base"}),h.jsx(ab,{selected:O,onChange:e=>E(e),selectsStart:!0,startDate:O,endDate:M,placeholderText:"Start Date",className:"w-24 focus:outline-none bg-transparent text-sm text-gray-800 placeholder-gray-400",dateFormat:"dd/MM/yyyy",isClearable:!0,"aria-label":"Start Date"}),h.jsx("span",{className:"text-gray-400",children:"-"}),h.jsx(ab,{selected:M,onChange:e=>P(e),selectsEnd:!0,startDate:O,endDate:M,minDate:O||void 0,placeholderText:"End Date",className:"w-24 focus:outline-none bg-transparent text-sm text-gray-800 placeholder-gray-400",dateFormat:"dd/MM/yyyy",isClearable:!0,"aria-label":"End Date"}),(O||M)&&h.jsx(kc.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{E(null),P(null)},className:"p-1 rounded-full text-gray-400 hover:bg-gray-100 transition-colors",title:"Clear Dates","aria-label":"Clear date range",children:h.jsx(Pu,{className:"text-base"})})]})})})]}),l?h.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[h.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),h.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading vendor data..."})]}):0===s.length?h.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[h.jsx(Ed,{className:"text-blue-500 text-4xl mx-auto mb-4"}),h.jsx("p",{className:"text-gray-700 text-base font-medium",children:de||O||M?"No vendors found matching your filters.":"No vendors available."}),(de||O||M)&&h.jsx("button",{onClick:()=>{F(""),E(null),P(null)},className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear All Filters"})]}):h.jsx(kc.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:h.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:h.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[h.jsx("thead",{className:"bg-blue-50",children:h.jsxs("tr",{children:[h.jsxs("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider cursor-pointer",onClick:()=>me("id"),children:["No","id"===(null==le?void 0:le.key)&&h.jsx("span",{className:"ml-1",children:"ascending"===le.direction?"↑":"↓"})]}),h.jsxs("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider cursor-pointer",onClick:()=>me("name"),children:["Vendor Name","name"===(null==le?void 0:le.key)&&h.jsx("span",{className:"ml-1",children:"ascending"===le.direction?"↑":"↓"})]}),h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Address"}),h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Contact Person"}),h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Email"}),h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Telp"}),h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Handphone"}),h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),h.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:be.map((e,t)=>h.jsxs(kc.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[h.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:h.jsx("div",{className:"text-sm font-medium text-gray-900",children:t+1})}),h.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:h.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.name})}),h.jsx("td",{className:"px-5 py-3",children:h.jsx("div",{className:"text-sm text-gray-600 truncate max-w-xs",children:e.address||"-"})}),h.jsx("td",{className:"px-5 py-3",children:h.jsx("div",{className:"text-sm text-gray-600 truncate max-w-xs",children:e.contact_person||"-"})}),h.jsx("td",{className:"px-5 py-3",children:h.jsx("div",{className:"text-sm text-gray-600 truncate max-w-xs",children:e.email||"-"})}),h.jsx("td",{className:"px-5 py-3",children:h.jsx("div",{className:"text-sm text-gray-600 truncate max-w-xs",children:e.telp||"-"})}),h.jsx("td",{className:"px-5 py-3",children:h.jsx("div",{className:"text-sm text-gray-600 truncate max-w-xs",children:e.HP||"-"})}),h.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[h.jsx(kc.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>(e=>{V(e),G(!0)})(e),className:"text-blue-600 hover:text-blue-800 transition-colors duration-200 p-1 rounded-full hover:bg-blue-50",title:"View Details","aria-label":`View details for vendor ${e.name}`,children:h.jsx(md,{className:"inline text-base"})}),h.jsx(kc.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>J(`/vendors/editvendor/${e.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit","aria-label":`Edit vendor ${e.name}`,children:h.jsx(gu,{className:"inline text-base"})}),h.jsx(kc.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{K(e.id),C(!0)},className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete","aria-label":`Delete vendor ${e.name}`,children:h.jsx(vu,{className:"inline text-base"})})]})]},e.id))})]})})}),s.length>oe&&h.jsxs(kc.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"mt-8 flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0",children:[h.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",h.jsx("span",{className:"font-semibold",children:xe+1})," to ",h.jsx("span",{className:"font-semibold",children:Math.min(ge,s.length)})," of"," ",h.jsx("span",{className:"font-semibold",children:s.length})," results"]}),h.jsxs("div",{className:"flex space-x-2",children:[h.jsx(kc.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>we(ie-1),disabled:1===ie,className:"px-4 py-2 border border-blue-200 rounded-md bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm font-medium text-sm","aria-label":"Previous page",children:"Previous"}),Array.from({length:ve},(e,t)=>h.jsx(kc.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>we(t+1),className:`px-3.5 py-2 rounded-md transition-colors duration-200 shadow-sm font-medium text-sm\n                      ${ie===t+1?"bg-blue-600 text-white shadow-md":"bg-white text-gray-700 hover:bg-blue-50 border border-blue-200"}\n                    `,"aria-label":`Go to page ${t+1}`,children:t+1},t+1)),h.jsx(kc.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>we(ie+1),disabled:ie===ve,className:"px-4 py-2 border border-blue-200 rounded-md bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm font-medium text-sm","aria-label":"Next page",children:"Next"})]})]})]})]}),U&&h.jsx(ale,{isOpen:q,onClose:()=>{G(!1),V(null)},title:"Vendor Details",className:"max-w-3xl",children:h.jsx(sle,{vendor:U,onClose:()=>G(!1)})}),h.jsx(ale,{isOpen:S,onClose:()=>C(!1),title:"Confirm Deletion",children:h.jsxs("div",{className:"space-y-5 text-center py-3",children:[h.jsx(ju,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),h.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this Vendor? This action cannot be undone."}),h.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[h.jsx(kc.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>C(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),h.jsx(kc.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>Y&&(async n=>{try{await r(n),t(e.filter(e=>e.id!==n)),C(!1),K(null)}catch(a){A("Failed to delete vendor. Please try again.")}})(Y),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})]})},lle=({isOpen:e,onClose:t,title:n,children:r})=>e?h.jsx(kc.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:h.jsxs(kc.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[h.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[h.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n}),h.jsx(kc.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:t,className:"text-gray-500 hover:text-gray-700 text-2xl",children:h.jsx(Pu,{size:24})})]}),h.jsx("div",{children:r})]})}):null,cle=()=>{const[e,t]=x.useState(window.innerWidth<768),[n,r]=x.useState([]),[a,i]=x.useState([]),{addVendor:s,getVendor:o}=gt(),[l,c]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return!!e&&JSON.parse(e)}),[d,u]=x.useState(null),[p,m]=x.useState(null),[f,g]=x.useState(!1),[b,y]=x.useState(!1),v=je(),[w,j]=x.useState({name:"",address:"",contact_person:"",email:"",telp:"",HP:""}),N=e=>{const{name:t,value:n}=e.target;j(e=>({...e,[t]:"sla"===t?Number(n):n}))},k=x.useCallback(async()=>{try{const[e]=await Promise.all([o()]);r(e)}catch(e){u(e.message||"Failed to load form data")}},[o]);x.useEffect(()=>{k()},[k]);const S=()=>{g(!1),v("/vendors")};return h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Lu,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Fu,{mainTitle:"Create Vendor",mainTitleHighlight:"Management",description:"blablablabl",icon:h.jsx(id,{}),isMobile:e,toggleSidebar:()=>{c(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[h.jsxs(kc.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Work Vendor"}),h.jsx("p",{className:"text-gray-600 mt-1",children:"Add a new Vendor information"})]}),h.jsxs(kc.button,{onClick:()=>v("/vendors"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[h.jsx(Rc,{className:"text-lg"})," Back to Vendors Management"]})]}),h.jsxs(kc.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[d&&h.jsxs(kc.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[h.jsx("strong",{className:"font-bold",children:"Error!"}),h.jsx("span",{className:"block sm:inline ml-2",children:d}),h.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:h.jsx(Pu,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>u(null)})})]}),h.jsxs("form",{onSubmit:async e=>{e.preventDefault(),y(!0),u(null);try{const e={name:w.name,address:w.address,contact_person:w.contact_person,email:w.email,telp:w.telp,HP:w.HP};await s(e),m("Vendor created successfully!"),g(!0)}catch(t){u(t.message||"Failed to create Vendor")}finally{y(!1)}},className:"space-y-6",children:[h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Vendor Information"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Vendor Name ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",name:"name",id:"name",value:w.name,onChange:N,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 mb-1",children:["Address ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",name:"address",id:"address",value:w.address,onChange:N,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"contact_person",className:"block text-sm font-medium text-gray-700 mb-1",children:["Contact Person ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",name:"contact_person",id:"contact_person",value:w.contact_person,onChange:N,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:["Email ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",name:"email",id:"email",value:w.email,onChange:N,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"telp",className:"block text-sm font-medium text-gray-700 mb-1",children:["Telp ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",name:"telp",id:"telp",value:w.telp,onChange:N,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"HP",className:"block text-sm font-medium text-gray-700 mb-1",children:["Handphone ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",name:"HP",id:"HP",value:w.HP,onChange:N,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),h.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[h.jsx(kc.button,{type:"button",onClick:()=>v("/vendors"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),h.jsx(kc.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:b,children:b?h.jsxs(h.Fragment,{children:[h.jsx(Ad,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):h.jsxs(h.Fragment,{children:[h.jsx(du,{className:"mr-2 h-5 w-5"})," Save Vendor"]})})]})]})]})]})]}),h.jsx(lle,{isOpen:f,onClose:S,title:"Success!",children:h.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[h.jsx(td,{className:"text-green-500 text-6xl mb-4"}),h.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:p}),h.jsx(kc.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:S,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Vendors Management"})]})})]})},dle=({isOpen:e,onClose:t,title:n,children:r})=>e?h.jsx(kc.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:h.jsxs(kc.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[h.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[h.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n}),h.jsx(kc.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:t,className:"text-gray-500 hover:text-gray-700 text-2xl",children:h.jsx(Pu,{size:24})})]}),h.jsx("div",{children:r})]})}):null,ule=()=>{const{id:e}=ke(),[t,n]=x.useState(window.innerWidth<768),[r,a]=x.useState([]),[i,s]=x.useState(),{getVendor:o,updateVendor:l,getVendorById:c}=gt(),[d,u]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return!!e&&JSON.parse(e)}),[p,m]=x.useState(null),[f,g]=x.useState(null),[b,y]=x.useState(!1),[v,w]=x.useState(!1),j=je(),[N,k]=x.useState({name:"",address:"",contact_person:"",email:"",telp:"",HP:""});x.useEffect(()=>{i&&k({name:i.name||"",address:i.address||"",contact_person:i.contact_person||"",email:i.email||"",telp:i.telp||"",HP:i.HP||""})},[i]);const S=e=>{const{name:t,value:n}=e.target;k(e=>({...e,[t]:"sla"===t?Number(n):n}))},C=x.useCallback(async()=>{try{if(e){const[t]=await Promise.all([c(e)]);s(t)}}catch(t){m(t.message||"Failed to load form data")}},[e,c]);x.useEffect(()=>{e&&C()},[e,C]);const _=()=>{y(!1),j("/vendors")};return h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Lu,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Fu,{mainTitle:"Edit Vendor",mainTitleHighlight:"Management",description:"blablablabl",icon:h.jsx(id,{}),isMobile:t,toggleSidebar:()=>{u(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[h.jsxs(kc.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Vendor"}),h.jsx("p",{className:"text-gray-600 mt-1",children:"Update Vendor Informations"})]}),h.jsxs(kc.button,{onClick:()=>j("/vendors"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[h.jsx(Rc,{className:"text-lg"})," Back to Vendors Management"]})]}),h.jsxs(kc.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[p&&h.jsxs(kc.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[h.jsx("strong",{className:"font-bold",children:"Error!"}),h.jsx("span",{className:"block sm:inline ml-2",children:p}),h.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:h.jsx(Pu,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>m(null)})})]}),h.jsxs("form",{onSubmit:async t=>{t.preventDefault(),w(!0),m(null);try{const t={name:N.name,address:N.address,contact_person:N.contact_person,email:N.email,telp:N.telp,HP:N.HP};await l(e,t),g("Vendor update successfully!"),y(!0)}catch(n){m(n.message||"Failed to update Vendor")}finally{w(!1)}},className:"space-y-6",children:[h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Vendor Information"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Vendor Name ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",name:"name",id:"name",value:N.name,onChange:S,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 mb-1",children:["Address ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",name:"address",id:"address",value:N.address,onChange:S,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"contact_person",className:"block text-sm font-medium text-gray-700 mb-1",children:["Contact Person ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",name:"contact_person",id:"contact_person",value:N.contact_person,onChange:S,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:["Email ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",name:"email",id:"email",value:N.email,onChange:S,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"telp",className:"block text-sm font-medium text-gray-700 mb-1",children:["Telp ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",name:"telp",id:"telp",value:N.telp,onChange:S,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"HP",className:"block text-sm font-medium text-gray-700 mb-1",children:["Handphone ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",name:"HP",id:"HP",value:N.HP,onChange:S,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),h.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[h.jsx(kc.button,{type:"button",onClick:()=>j("/vendors"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),h.jsx(kc.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:v,children:v?h.jsxs(h.Fragment,{children:[h.jsx(Ad,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):h.jsxs(h.Fragment,{children:[h.jsx(du,{className:"mr-2 h-5 w-5"})," Save Vendor"]})})]})]})]})]})]}),h.jsx(dle,{isOpen:b,onClose:_,title:"Success!",children:h.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[h.jsx(td,{className:"text-green-500 text-6xl mb-4"}),h.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:f}),h.jsx(kc.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:_,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Vendors Management"})]})})]})},hle=({isOpen:e,onClose:t,title:n,children:r})=>e?h.jsx(kc.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:h.jsxs(kc.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[h.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[h.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n}),h.jsx(kc.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:t,className:"text-gray-500 hover:text-gray-700 text-2xl",children:h.jsx(Pu,{size:24})})]}),h.jsx("div",{children:r})]})}):null,ple=({isOpen:e,onClose:t,onConfirm:n,title:r,message:a,confirmText:i="Confirm",cancelText:s="Cancel",type:o="approve"})=>h.jsx(Mi,{children:e&&h.jsx(kc.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:h.jsx(kc.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:"bg-white rounded-2xl shadow-2xl overflow-hidden max-w-md w-full border border-blue-100",children:h.jsxs("div",{className:"p-6 text-center",children:[h.jsxs("div",{className:"flex justify-center mb-4",children:["approve"===o&&h.jsx(td,{className:"text-green-500 text-5xl"}),"feedback"===o&&h.jsx(Gd,{className:"text-blue-500 text-5xl"}),"reject"===o&&h.jsx(ju,{className:"text-red-500 text-5xl"}),"edit"===o&&h.jsx(gu,{className:"text-purple-500 text-5xl"})]}),h.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:r}),h.jsx("p",{className:"text-gray-600 mb-6",children:a}),h.jsxs("div",{className:"flex justify-center space-x-3",children:[h.jsx(kc.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:t,className:"px-5 py-2.5 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 font-semibold transition-colors duration-200",children:s}),h.jsx(kc.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:n,className:"px-5 py-2.5 text-white rounded-lg font-semibold transition-colors duration-200 "+("approve"===o?"bg-green-600 hover:bg-green-700":"feedback"===o?"bg-blue-600 hover:bg-blue-700":"reject"===o?"bg-red-600 hover:bg-red-700":"bg-purple-600 hover:bg-purple-700"),children:i})]})]})})})}),mle=()=>{var e;ye();const t=je(),{id:n}=ke(),{user:r,getMonitoringScheduleById:a,addMonitoringActivities:i,hasPermission:s,approveSchedule:o,getApprovalTemplates:l,updateMonitoringActivity:c}=gt(),[d,u]=x.useState(window.innerWidth<768),[p,m]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return JSON.parse(e||"false")}),[f,g]=x.useState(null),[b,y]=x.useState(null),[v,w]=x.useState(!1),[j,N]=x.useState(!0),[k,S]=x.useState(null),[C,_]=x.useState("approval"),[A,T]=x.useState({}),[O,E]=x.useState(null),[M,P]=x.useState(!0),[D,L]=x.useState(null),[I,R]=x.useState(!1),[F,H]=x.useState(!1),[z,B]=x.useState(""),[W,$]=x.useState(""),[U,V]=x.useState(!0),[q,G]=x.useState(!1),[Y,K]=x.useState(null);x.useEffect(()=>{(async()=>{var e,t,r,i;if(n)try{N(!0),S(null);const s=await a(parseInt(n));if(L(s),!s)throw new Error("Data monitoring schedule tidak ditemukan");s.approval_template&&E(s.approval_template);const o={id:s.id_monitoring_schedule.toString(),name:`${(null==(e=s.data_mesin)?void 0:e.name)||"Mesin"} - ${s.unit}`,interval:(null==(t=s.monitoring_interval)?void 0:t.type_interval)||"Weekly",period:`${s.tgl_start} - ${s.tgl_end}`,unit:s.unit,mesin:null==(r=s.data_mesin)?void 0:r.name,tahun:s.tahun,bulan:s.bulan,tgl_start:s.tgl_start,tgl_end:s.tgl_end,items:(null==(i=s.item_mesins)?void 0:i.map(e=>({id:e.id,name:e.item_mesin,uom:e.satuan,min:e.standard_min?parseFloat(e.standard_min):void 0,max:e.standard_max?parseFloat(e.standard_max):void 0,visual:e.standard_visual,standard_min:e.standard_min,standard_max:e.standard_max,standard_visual:e.standard_visual,satuan:e.satuan})))||[]};g(o);const l=s.monitoring_activities||[],c=s.schedule_approvals||[],d={};s.approval_template&&s.approval_template.approvers?s.approval_template.approvers.forEach(e=>{const t=`step_${e.step}`,n=c.find(t=>t.approval_step===e.step&&t.approver_id===e.approver_user_id);if(n){let e="Pending";switch(n.status){case"approved":e="Approved";break;case"rejected":e="Rejected";break;case"feedback_given":e="FeedbackGiven";break;default:e="Pending"}d[t]=e}else d[t]="Pending"}):c.forEach(e=>{const t=`step_${e.approval_step}`;let n="Pending";switch(e.status){case"approved":n="Approved";break;case"rejected":n="Rejected";break;case"feedback_given":n="FeedbackGiven";break;default:n="Pending"}d[t]=n});const u=c.map(e=>{var t;let n="approval",r="";switch(e.status){case"approved":n="approval",r=`Menyetujui laporan pada step ${e.approval_step}`;break;case"rejected":n="rejection",r=`Menolak laporan pada step ${e.approval_step}`;break;case"feedback_given":n="feedback",r=`Memberikan feedback pada step ${e.approval_step}`;break;default:n="submission",r=`Mengajukan approval pada step ${e.approval_step}`}return{type:n,timestamp:e.approved_at||e.created_at||(new Date).toISOString(),actor:(null==(t=e.approver)?void 0:t.name)||`Approver Step ${e.approval_step}`,description:r,details:e.comments||void 0}});if(l.length>0){const e=l[0].created_at;u.unshift({type:"submission",timestamp:e||(new Date).toISOString(),actor:"Technician",description:"Mengisi hasil monitoring"})}const h={machineId:o.id,itemResults:o.items.map(e=>{const t=l.find(t=>t.id_item_mesin===e.id);let n="Pending";if(null==t?void 0:t.hasil_ms_tms){const e=t.hasil_ms_tms.toLowerCase();n="ms"===e?"MS":"tms"===e?"TMS":"N/A"}return{itemId:e.id,result:(null==t?void 0:t.hasil_monitoring)||"",status:n,remarks:(null==t?void 0:t.hasil_keterangan)||""}}),approvalStatus:d,commentsHistory:[],activityHistory:u,isSaved:l.length>0,submissionDate:l.length>0?(new Date).toISOString():void 0,currentApprovalStep:Z(c,s.approval_template)};y(h)}catch(s){S(s instanceof Error?s.message:"Gagal memuat data monitoring")}finally{N(!1)}})()},[n,a]);const J=x.useMemo(()=>{var e,t,n,a,i,s;return r?r.position?{id:r.id,name:r.position,isDepartmentHead:r.position.toLowerCase().includes("head")||r.position.toLowerCase().includes("manager"),isSuperadmin:"3"===r.roleId}:"1"===r.roleId?{id:"1",name:"admin",isDepartmentHead:!0}:"3"===r.roleId?{id:"3",name:"superadmin",isSuperadmin:!0}:(null==(t=null==(e=r.department)?void 0:e.name)?void 0:t.toLowerCase().includes("engineering"))?(null==(n=r.position)?void 0:n.toLowerCase().includes("head"))?{id:"unitHeadEngineering",name:"Unit Head Engineering",isDepartmentHead:!0}:{id:"technician",name:"Technician"}:(null==(i=null==(a=r.department)?void 0:a.name)?void 0:i.toLowerCase().includes("process"))&&(null==(s=r.position)?void 0:s.toLowerCase().includes("head"))?{id:"unitHeadProcess",name:"Unit Head Process",isDepartmentHead:!0}:{id:"technician",name:"Technician"}:{id:"guest",name:"Guest"}},[r]),X=x.useCallback(e=>!!(O&&O.approvers&&r)&&!!O.approvers.find(t=>t.step===e&&t.approver_user_id.toString()===r.id),[O,r]),Q=x.useCallback(()=>{if(!b||!(null==O?void 0:O.approvers))return 1;const e=[...O.approvers].sort((e,t)=>e.step-t.step);for(let t=0;t<e.length;t++){const n=e[t],r=`step_${n.step}`;if("Pending"===(b.approvalStatus[r]||"Pending"))return n.step}return e.length+1},[b,O]);x.useEffect(()=>{var e;b&&O&&r&&(null==(e=O.approvers)||e.forEach(e=>{const t=`step_${e.step}`,n=b.approvalStatus[t];ce(e.step,e,n)}))},[b,O,r]);const Z=(e,t)=>{if(!t||!t.approvers)return 1;const n=[...t.approvers].sort((e,t)=>e.step-t.step);for(let r=0;r<n.length;r++){const t=n[r],a=e.find(e=>e.approval_step===t.step&&e.approver_id===t.approver_user_id);if(!a||"approved"!==a.status)return t.step}return n.length+1},ee=x.useCallback(async()=>{var e,t,r,i;if(n)try{N(!0),S(null);const s=await a(parseInt(n));if(L(s),!s)throw new Error("Data monitoring schedule tidak ditemukan");s.approval_template&&E(s.approval_template);const o={id:s.id_monitoring_schedule.toString(),name:`${(null==(e=s.data_mesin)?void 0:e.name)||"Mesin"} - ${s.unit}`,interval:(null==(t=s.monitoring_interval)?void 0:t.type_interval)||"Weekly",period:`${s.tgl_start} - ${s.tgl_end}`,unit:s.unit,mesin:null==(r=s.data_mesin)?void 0:r.name,tahun:s.tahun,bulan:s.bulan,tgl_start:s.tgl_start,tgl_end:s.tgl_end,items:(null==(i=s.item_mesins)?void 0:i.map(e=>({id:e.id,name:e.item_mesin,uom:e.satuan,min:e.standard_min?parseFloat(e.standard_min):void 0,max:e.standard_max?parseFloat(e.standard_max):void 0,visual:e.standard_visual,standard_min:e.standard_min,standard_max:e.standard_max,standard_visual:e.standard_visual,satuan:e.satuan})))||[]};g(o);const l=s.monitoring_activities||[],c=s.schedule_approvals||[],d={};s.approval_template&&s.approval_template.approvers&&s.approval_template.approvers.forEach(e=>{const t=`step_${e.step}`,n=c.find(t=>t.approval_step===e.step&&t.approver_id===e.approver_user_id);if(n){let e="Pending";switch(n.status){case"approved":e="Approved";break;case"rejected":e="Rejected";break;case"feedback_given":e="FeedbackGiven";break;default:e="Pending"}d[t]=e}else d[t]="Pending"});const u=c.map(e=>{var t;let n="approval",r="";switch(e.status){case"approved":n="approval",r=`Menyetujui laporan pada step ${e.approval_step}`;break;case"rejected":n="rejection",r=`Menolak laporan pada step ${e.approval_step}`;break;case"feedback_given":n="feedback",r=`Memberikan feedback pada step ${e.approval_step}`;break;default:n="submission",r=`Mengajukan approval pada step ${e.approval_step}`}return{type:n,timestamp:e.approved_at||e.created_at||(new Date).toISOString(),actor:(null==(t=e.approver)?void 0:t.name)||`Approver Step ${e.approval_step}`,description:r,details:e.comments||void 0}});if(l.length>0){const e=l[0].created_at;u.unshift({type:"submission",timestamp:e||(new Date).toISOString(),actor:"Technician",description:"Mengisi hasil monitoring"})}const h={machineId:o.id,itemResults:o.items.map(e=>{const t=l.find(t=>t.id_item_mesin===e.id);let n="Pending";if(null==t?void 0:t.hasil_ms_tms){const e=t.hasil_ms_tms.toLowerCase();n="ms"===e?"MS":"tms"===e?"TMS":"N/A"}return{itemId:e.id,result:(null==t?void 0:t.hasil_monitoring)||"",status:n,remarks:(null==t?void 0:t.hasil_keterangan)||""}}),approvalStatus:d,commentsHistory:[],activityHistory:u,isSaved:l.length>0,submissionDate:l.length>0?(new Date).toISOString():void 0,currentApprovalStep:Z(c,s.approval_template)};y(h)}catch(s){S(s instanceof Error?s.message:"Gagal memuat data monitoring")}finally{N(!1)}},[n,a]),te=(e,t,n,r,a)=>{y(i=>i?{...i,itemResults:i.itemResults.map(i=>i.itemId===e?{...i,result:t,status:"numeric"===n?ne(Number(t),r,a):"MS"===t?"MS":"TMS"===t?"TMS":"Pending"}:i)}:null)},ne=(e,t,n)=>isNaN(e)||null==e?void 0===t||void 0===n?"N/A":"Pending":void 0!==t&&void 0!==n?e>=t&&e<=n?"MS":"TMS":"N/A",re=e=>{switch(e){case"MS":return"bg-green-100 text-green-800 border-green-200";case"TMS":return"bg-red-100 text-red-800 border-red-200";case"Pending":return"bg-yellow-100 text-yellow-800 border-yellow-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},ae=e=>{switch(e){case"Pending":return"bg-yellow-100 text-yellow-800";case"Approved":return"bg-green-100 text-green-800";case"Rejected":return"bg-red-100 text-red-800";case"FeedbackGiven":return"bg-blue-100 text-blue-800";case"Edited":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}};x.useCallback((e,t,n,r=null)=>{y(a=>{if(!a||a.machineId!==e)return a;const i={id:crypto.randomUUID(),role:t,comment:n,timestamp:(new Date).toLocaleString(),replies:[],parentId:r},s=(e,t)=>null===t.parentId?[...e,t]:e.map(e=>e.id===t.parentId?{...e,replies:e.replies?[...e.replies,t]:[t]}:{...e,replies:e.replies?s(e.replies,t):e.replies}),o=a.commentsHistory||[];return{...a,commentsHistory:s(o,i)}})},[]);const ie=(e,t,n)=>{let r="",a="",i="approve";switch(t){case"Approved":r="Confirm Approval",a=`Are you sure you want to approve this monitoring report for step ${e}?`,i="approve";break;case"FeedbackGiven":r="Confirm Feedback",a=`Are you sure you want to send feedback for step ${e}?`,i="feedback";break;case"Rejected":r="Confirm Rejection",a=`Are you sure you want to reject this monitoring report for step ${e}?`,i="reject";break;case"Edited":r="Confirm Edit",a=`Are you sure you want to mark this as edited for step ${e}?`,i="edit"}K({type:i,step:e,title:r,message:a,feedbackText:n}),G(!0)},se=x.useCallback(()=>!!(O&&O.approvers&&b)&&[...O.approvers].sort((e,t)=>e.step-t.step).every(e=>{const t=`step_${e.step}`;return"Approved"===b.approvalStatus[t]}),[O,b]),oe=e=>{T(t=>{var n;return{...t,[`step_${e}`]:{...t[`step_${e}`],showInput:!(null==(n=t[`step_${e}`])?void 0:n.showInput)}}})},le=async()=>{if(f&&b&&n){w(!0);try{let e=!0;const t=[];if(b.itemResults.forEach(n=>{const r=f.items.find(e=>e.id===n.itemId);!r||""!==n.result&&"Pending"!==n.status||(e=!1,t.push({item:r.name}))}),!e)return void me("Validation Error",`Harap isi semua hasil monitoring yang diperlukan untuk ${f.name}. Item yang belum diisi: `+t.map(e=>e.item).join(", "),!1);const r=b.itemResults.map(e=>{var t;const r=null==(t=null==D?void 0:D.monitoring_activities)?void 0:t.find(t=>t.id_item_mesin===e.itemId),a={id_monitoring_schedule:parseInt(n),id_item_mesin:e.itemId,tgl_monitoring:f.tgl_start||(new Date).toISOString().split("T")[0],hasil_monitoring:e.result.toString(),hasil_keterangan:e.remarks,hasil_ms_tms:"MS"===e.status?"ms":"TMS"===e.status?"tms":"na"};return r&&r.id_monitoring_activity?{id:r.id_monitoring_activity,data:a}:{id:0,data:a}}),a=r.filter(e=>0===e.id),s=r.filter(e=>e.id>0);if(a.length>0){const e=a.map(e=>e.data);await i(e)}s.length>0&&await c(s),y(e=>{if(!e)return null;const t=[...e.activityHistory],n=(new Date).toLocaleString(),r=e.isSaved?"edit":"submission",a=e.isSaved?`${J.name} mengedit hasil monitoring.`:`${J.name} mengisi hasil monitoring.`;return t.push({type:r,timestamp:n,actor:J.name,description:a}),{...e,isSaved:!0,submissionDate:(new Date).toISOString(),activityHistory:t}}),await ee();const o=b.isSaved?`Hasil monitoring untuk ${f.name} berhasil diupdate!`:`Hasil monitoring untuk ${f.name} berhasil disimpan!`;me("Success!",o,!0)}catch(e){const t=b.isSaved?"Gagal mengupdate hasil monitoring. Silakan coba lagi.":"Gagal menyimpan hasil monitoring. Silakan coba lagi.";me("Error!",t,!1)}finally{w(!1)}}},ce=(e,t,n)=>{if(!r||!(null==b?void 0:b.isSaved))return!1;const a=t.approver_user_id.toString()===r.id,i="Pending"===n,s=Q()===e;let o=!0;if(e>1){const t="step_"+(e-1);o="Approved"===b.approvalStatus[t]}return a&&i&&s&&o};x.useMemo(()=>{if(!(null==b?void 0:b.commentsHistory))return{};const e=(t,n=null)=>t.filter(e=>e.parentId===n).sort((e,t)=>new Date(e.timestamp).getTime()-new Date(t.timestamp).getTime()).map(n=>({...n,replies:e(t,n.id)})),t={};return(null==O?void 0:O.approvers)&&O.approvers.forEach(n=>{const r=b.commentsHistory.filter(e=>e.role===(e=>{if(!O||!O.approvers)return"Unknown Role";const t=O.approvers.find(t=>t.approver_user_id.toString()===e);return(null==t?void 0:t.approver.position)||"Unknown Position"})(n.approver_user_id.toString()));t[`step_${n.step}`]=e(r)}),t},[null==b?void 0:b.commentsHistory,O]);const de=x.useCallback(()=>{var e;b&&O&&(null==(e=O.approvers)||e.forEach(e=>{const t=`step_${e.step}`;b.approvalStatus[t],e.approver_user_id.toString(),null==r||r.id}))},[b,O,r,Q]);x.useEffect(()=>{b&&O&&de()},[b,O,de]),x.useMemo(()=>J.name.toLowerCase().includes("technician")&&!X(1),[J,X]);const ue=X(1),he=x.useMemo(()=>!(null==b?void 0:b.isSaved)||("Pending"===b.approvalStatus.step_1||X(1)&&!se()),[null==b?void 0:b.isSaved,null==b?void 0:b.approvalStatus,X,se]),pe=X(Q()),me=x.useCallback((e,t,n=!0)=>{$(e),B(t),V(n),n?R(!0):H(!0)},[]),fe=x.useCallback(()=>{R(!1),H(!1),ee()},[ee]);return j?h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Lu,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx("header",{className:"bg-white border-b border-gray-100 p-4 flex items-center justify-between shadow-sm sticky top-0 z-30",children:h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsxs(kc.button,{onClick:()=>t(-1),whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center text-blue-600 hover:text-blue-800 transition-colors duration-200",children:[h.jsx(Rc,{className:"text-xl"}),h.jsx("span",{className:"font-semibold text-sm hidden md:inline",children:"Back"})]}),h.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900 ml-4",children:"Monitoring & Maintenance"})]})}),h.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:h.jsx("div",{className:"flex justify-center items-center h-64",children:h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-4 border-b-4 border-blue-500"})})})]})]}):k?h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Lu,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx("header",{className:"bg-white border-b border-gray-100 p-4 flex items-center justify-between shadow-sm sticky top-0 z-30",children:h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsxs(kc.button,{onClick:()=>t(-1),whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center text-blue-600 hover:text-blue-800 transition-colors duration-200",children:[h.jsx(Rc,{className:"text-xl"}),h.jsx("span",{className:"font-semibold text-sm hidden md:inline",children:"Back"})]}),h.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900 ml-4",children:"Monitoring & Maintenance"})]})}),h.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:h.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 text-center",children:[h.jsx(ju,{className:"text-red-500 text-4xl mx-auto mb-4"}),h.jsx("h3",{className:"text-lg font-semibold text-red-800 mb-2",children:"Gagal Memuat Data"}),h.jsx("p",{className:"text-red-600 mb-4",children:k}),h.jsxs(kc.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:ee,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-semibold flex items-center justify-center mx-auto",children:[h.jsx(ou,{className:"mr-2 h-4 w-4"}),"Coba Lagi"]})]})})]})]}):f&&b?h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Lu,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Fu,{mainTitle:"Monitoring Maintenance",mainTitleHighlight:"Management",description:"Manage user roles and permissions to control access and functionality within the system.",icon:h.jsx(Yd,{}),isMobile:d,toggleSidebar:()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!p)),m(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[h.jsx(kc.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Detail Monitoring & Maintenance"}),h.jsxs("p",{className:"text-gray-600 mt-1",children:["Machine: ",h.jsx("span",{className:"font-semibold text-gray-800",children:f.name})]}),h.jsxs("p",{className:"text-gray-600 mt-1",children:["Interval: ",h.jsx("span",{className:"font-semibold text-gray-800",children:f.interval})]}),h.jsxs("p",{className:"text-gray-600 mt-1",children:["Periode: ",h.jsx("span",{className:"font-semibold text-gray-800",children:f.period})]}),h.jsxs("div",{className:"text-sm text-gray-500 mt-2 flex items-center space-x-4",children:[h.jsxs("p",{children:[h.jsx("span",{className:"font-semibold",children:f.items.length})," Items"]}),O&&O.approvers&&O.approvers.length>0?h.jsxs("p",{children:["Template: ",h.jsx("span",{className:"font-semibold",children:O.name}),O.is_active&&h.jsx("span",{className:"ml-1 text-green-600",children:"(Aktif)"}),se()&&h.jsx("span",{className:"ml-2 bg-green-100 text-green-800 px-2 py-1 rounded-full text-xs font-semibold",children:"All Steps Completed"})]}):h.jsxs("p",{children:["Template: ",h.jsx("span",{className:"font-semibold text-yellow-600",children:"Tidak ada template"})]}),O&&ue&&h.jsx("p",{className:"font-semibold "+(se()?"text-gray-500":"text-blue-600"),children:se()?"(Semua step approval selesai - tidak dapat edit)":"(Anda adalah Approver Step 1 - Dapat mengedit)"}),O&&pe&&!ue&&h.jsxs("p",{className:"text-green-600 font-semibold",children:["(Anda adalah approver untuk step ",Q(),")"]})]})]})}),h.jsx("div",{className:"space-y-6",children:h.jsxs(kc.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1,duration:.2},className:"bg-white rounded-lg border border-gray-200 shadow-sm p-4",children:[h.jsx("div",{className:"overflow-x-auto rounded-lg border border-gray-200 shadow-sm",children:h.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[h.jsx("thead",{className:"bg-gray-50",children:h.jsxs("tr",{children:[h.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nama Item"}),h.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Standar"}),h.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Hasil"}),h.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),h.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Catatan"})]})}),h.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:f.items.map(e=>{const t=b.itemResults.find(t=>t.itemId===e.id),n=(e=>e.satuan&&"Visual"!==e.satuan&&"Level"!==e.satuan&&"Kekencangan"!==e.satuan?"numeric":"visual")(e);return h.jsxs("tr",{children:[h.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:[e.name,!he&&(null==b?void 0:b.isSaved)&&h.jsx("span",{className:"ml-2 text-xs text-gray-500",children:"(Terkunci)"})]}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.standard_visual?`${e.standard_visual} (${e.satuan})`:`${e.standard_min} - ${e.standard_max} ${e.satuan}`}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:"visual"===n?h.jsxs("select",{className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md disabled:bg-gray-100 disabled:cursor-not-allowed",value:(null==t?void 0:t.result)||"",onChange:t=>te(e.id,t.target.value,"visual"),disabled:!he,children:[h.jsx("option",{value:"",children:"Pilih"}),h.jsx("option",{value:"MS",children:"MS"}),h.jsx("option",{value:"TMS",children:"TMS"})]}):h.jsx("input",{type:"number",step:"0.01",value:null==t?void 0:t.result,onChange:t=>te(e.id,t.target.value,"numeric",e.min,e.max),disabled:!he,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700 text-sm disabled:bg-gray-100 disabled:cursor-not-allowed",placeholder:"Input result"})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:h.jsx("span",{className:`text-xs font-medium px-2.5 py-1 rounded-full ${re((null==t?void 0:t.status)||"Pending")}`,children:null==t?void 0:t.status})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:h.jsx("textarea",{rows:1,value:null==t?void 0:t.remarks,onChange:t=>{return n=e.id,r=t.target.value,void y(e=>e?{...e,itemResults:e.itemResults.map(e=>e.itemId===n?{...e,remarks:r}:e)}:null);var n,r},disabled:!he,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700 text-sm disabled:bg-gray-100 disabled:cursor-not-allowed",placeholder:"Tambahkan catatan..."})})]},e.id)})})]})}),h.jsxs("div",{className:"flex justify-end mt-6 relative",children:[h.jsx(kc.button,{whileHover:{scale:he?1.05:1},whileTap:{scale:he?.95:1},onClick:ue?()=>(async()=>{if(b&&n)if(se())me("Info","Tidak dapat mengedit karena semua step approval sudah selesai.",!1);else try{await le(),y(e=>{if(!e)return null;const t={...e.approvalStatus,step_1:"Edited"},n=[...e.activityHistory],r=(new Date).toLocaleString();return n.push({type:"edit",timestamp:r,actor:J.name,description:`${J.name} (Approver Step 1) mengedit hasil monitoring.`}),{...e,approvalStatus:t,activityHistory:n}}),await ee(),me("Success!","Berhasil menyimpan perubahan dan menandai sebagai edited oleh Approver Step 1.",!0)}catch(e){me("Error!","Gagal menyimpan perubahan. Silakan coba lagi.",!1)}})():le,disabled:!he||v||ue&&se(),className:"px-6 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-semibold flex items-center disabled:opacity-50 disabled:cursor-not-allowed relative group",children:v?h.jsxs(h.Fragment,{children:[h.jsx(Ad,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):h.jsxs(h.Fragment,{children:[h.jsx(du,{className:"mr-2 h-5 w-5"}),ue?se()?"All Steps Completed":"Save & Mark as Edited":"Save Monitoring"]})}),ue&&se()&&h.jsx("div",{className:"absolute bottom-full mb-2 hidden group-hover:block bg-gray-800 text-white text-xs rounded py-1 px-2 whitespace-nowrap",children:"Semua step approval sudah selesai. Tidak dapat melakukan edit."})]}),h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm mt-8",children:[h.jsxs("div",{className:"flex items-center space-x-4 mb-4 border-b border-gray-200",children:[h.jsxs(kc.button,{whileHover:{scale:1.03},onClick:()=>_("approval"),className:"pb-3 px-2 font-semibold text-gray-700 transition-colors flex items-center space-x-2 "+("approval"===C?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700"),children:[h.jsx(Ed,{className:"h-5 w-5"}),h.jsx("span",{children:"Approval Status"})]}),h.jsxs(kc.button,{whileHover:{scale:1.03},onClick:()=>_("history"),className:"pb-3 px-2 font-semibold text-gray-700 transition-colors flex items-center space-x-2 "+("history"===C?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700"),children:[h.jsx(_d,{className:"h-5 w-5"}),h.jsx("span",{children:"History Activity"})]})]}),"approval"===C?h.jsx(Mi,{mode:"wait",children:h.jsx(kc.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:"space-y-4",children:O&&O.approvers&&0!==O.approvers.length?null==(e=O.approvers)?void 0:e.map(e=>{var t,n,a,i;const s=`step_${e.step}`,o=(null==b?void 0:b.approvalStatus[s])||"Pending",l=ce(e.step,e,o),c=((e,t)=>D?(D.schedule_approvals||[]).find(n=>n.approval_step===e&&n.approver_id===t.approver_user_id):null)(e.step,e),d=Q(),u=e.approver_user_id.toString()===(null==r?void 0:r.id),p=e.step-1,m=`step_${p}`,f=null==b?void 0:b.approvalStatus[m];return h.jsxs("div",{className:"p-4 rounded-lg border border-gray-200 bg-white",children:[h.jsx("div",{className:"flex items-center justify-between mb-3",children:h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Step ",e.step,": ",e.approver.name," (",e.approver.position,")"]}),h.jsx("p",{className:"text-xs text-gray-500",children:e.approver.department}),c&&h.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[c.approved_at&&`Disetujui: ${new Date(c.approved_at).toLocaleString()}`,"feedback_given"===c.status&&" | Feedback diberikan"]})]}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("span",{className:`text-xs font-medium px-3 py-1 rounded-full ${ae(o)}`,children:o}),u&&h.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded-full",children:"Anda"})]})]}),(null==c?void 0:c.comments)&&h.jsx("div",{className:"mt-2 p-2 bg-gray-50 rounded border",children:h.jsxs("p",{className:"text-xs text-gray-400",children:[h.jsx("strong",{children:"Komentar:"})," ",c.comments]})}),d===e.step&&"Approved"!==o&&!l&&h.jsx("div",{className:"mt-2 p-2 bg-yellow-50 border border-yellow-200 rounded text-xs",children:h.jsxs("p",{className:"text-yellow-700",children:[h.jsx("strong",{children:"Menunggu:"})," Step ",e.step," sedang menunggu approval dari ",e.approver.name,p>0&&"Approved"!==f&&h.jsxs("span",{children:[" (Step ",p," perlu disetujui terlebih dahulu)"]})]})}),"Approved"===o&&h.jsx("div",{className:"mt-2 p-2 bg-green-50 border border-green-200 rounded text-xs",children:h.jsxs("p",{className:"text-green-700",children:[h.jsx("strong",{children:"Selesai:"})," Step ",e.step," telah disetujui"]})}),l&&h.jsxs("div",{className:"flex space-x-2 mt-3",children:[h.jsxs(kc.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>ie(e.step,"Approved"),className:"px-3 py-1.5 bg-green-600 text-white rounded-lg hover:bg-green-700 text-sm font-semibold transition-colors flex items-center",children:[h.jsx(td,{size:16,className:"mr-1"}),"Approve"]}),h.jsxs(kc.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>oe(e.step),className:"px-3 py-1.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm font-semibold transition-colors flex items-center",children:[h.jsx(Gd,{size:16,className:"mr-1"}),"Feedback"]})]})]})}),h.jsx(Mi,{children:(null==(t=A[s])?void 0:t.showInput)&&h.jsxs(kc.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-4 p-4 bg-gray-100 rounded-lg border border-gray-200",children:[h.jsx("h5",{className:"text-sm font-semibold text-gray-800 mb-2",children:"Berikan Feedback"}),h.jsx("textarea",{rows:3,value:(null==(n=A[s])?void 0:n.text)||"",onChange:t=>{return n=e.step,r=t.target.value,void T(e=>({...e,[`step_${n}`]:{...e[`step_${n}`],text:r}}));var n,r},className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700 text-sm",placeholder:"Tulis feedback atau alasan penolakan..."}),h.jsxs("div",{className:"flex justify-end space-x-2 mt-3",children:[h.jsxs(kc.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{var t;return ie(e.step,"FeedbackGiven",null==(t=A[s])?void 0:t.text)},disabled:!(null==(i=null==(a=A[s])?void 0:a.text)?void 0:i.trim()),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm font-semibold transition-colors flex items-center disabled:opacity-50 disabled:cursor-not-allowed",children:[h.jsx(Gd,{size:16,className:"mr-1"}),"Kirim Feedback"]}),h.jsx(kc.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>oe(e.step),className:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 text-sm font-semibold transition-colors",children:"Batal"})]})]})})]},s)}):h.jsxs("div",{className:"text-center py-8 text-gray-500",children:[h.jsx(Ed,{className:"mx-auto h-12 w-12 mb-4 text-gray-400"}),h.jsx("p",{children:"Tidak ada template approval yang aktif untuk schedule ini."}),h.jsx("p",{className:"text-sm mt-2",children:"Silakan hubungi administrator untuk mengatur template approval."})]})},"approval-tab")}):h.jsx(Mi,{mode:"wait",children:h.jsx(kc.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:"space-y-4",children:b.activityHistory.length>0?b.activityHistory.slice().sort((e,t)=>new Date(t.timestamp).getTime()-new Date(e.timestamp).getTime()).map((e,t)=>h.jsxs(kc.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.05*t},className:"flex items-start space-x-4 p-4 bg-gray-50 rounded-lg border border-gray-200 shadow-sm",children:[h.jsxs("div",{className:"mt-1 flex-shrink-0",children:["approval"===e.type&&h.jsx(td,{size:20,className:"text-green-500"}),"rejection"===e.type&&h.jsx(rd,{size:20,className:"text-red-500"}),"feedback"===e.type&&h.jsx(Gd,{size:20,className:"text-blue-500"}),"submission"===e.type&&h.jsx(_d,{size:20,className:"text-blue-500"}),"edit"===e.type&&h.jsx(du,{size:20,className:"text-purple-500"})]}),h.jsxs("div",{className:"flex-1",children:[h.jsx("p",{className:"text-sm font-semibold text-gray-800",children:e.description}),h.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[h.jsxs("span",{className:"font-medium text-gray-600",children:["Oleh: ",e.actor]})," - ",new Date(e.timestamp).toLocaleString()]}),e.details&&h.jsxs("p",{className:"text-sm text-gray-700 italic mt-2",children:['"',e.details,'"']})]})]},t)):h.jsx("p",{className:"text-gray-500 text-sm",children:"Belum ada aktivitas yang tercatat."})},"history-tab")})]})]})})]})]}),h.jsx(ple,{isOpen:q,onClose:()=>{G(!1),K(null)},onConfirm:async()=>{if(Y)try{await(async(e,t,a)=>{if(b&&n&&r)try{let r="";("FeedbackGiven"===t&&a||"Rejected"===t&&a)&&(r=a);const i=await o(parseInt(n),r);if(!i.success)throw new Error(i.message||"Approval failed");{y(n=>{if(!n)return null;const a={...n.approvalStatus,[`step_${e}`]:t},i=[...n.activityHistory],s=(new Date).toLocaleString();let o="";switch(t){case"Approved":o=`Menyetujui laporan pada step ${e}`;break;case"FeedbackGiven":o=`Memberikan feedback pada step ${e}`;break;case"Rejected":o=`Menolak laporan pada step ${e}`;break;default:o=`Melakukan aksi ${t} pada step ${e}`}return i.push({type:"Approved"===t?"approval":"Rejected"===t?"rejection":"FeedbackGiven"===t?"feedback":"edit",timestamp:s,actor:J.name,description:`${J.name} ${o}`,details:r||void 0}),"Edited"!==t&&T(t=>({...t,[`step_${e}`]:{showInput:!1,text:""}})),{...n,approvalStatus:a,activityHistory:i}});let n="";switch(t){case"Approved":n="Berhasil menyetujui laporan.";break;case"FeedbackGiven":n="Berhasil mengirim feedback.";break;case"Rejected":n="Berhasil menolak laporan.";break;case"Edited":n="Berhasil menyimpan perubahan."}me("Success!",n,!0)}}catch(i){me("Error!","Gagal melakukan approval. Silakan coba lagi.",!1)}})(Y.step,"approve"===Y.type?"Approved":"feedback"===Y.type?"FeedbackGiven":"reject"===Y.type?"Rejected":"Edited",Y.feedbackText),G(!1),K(null),await ee()}catch(e){G(!1),K(null)}},title:(null==Y?void 0:Y.title)||"Confirm Action",message:(null==Y?void 0:Y.message)||"Are you sure you want to proceed?",confirmText:"approve"===(null==Y?void 0:Y.type)?"Approve":"feedback"===(null==Y?void 0:Y.type)?"Send Feedback":"reject"===(null==Y?void 0:Y.type)?"Reject":"edit"===(null==Y?void 0:Y.type)?"Save & Mark as Edited":"Confirm",type:null==Y?void 0:Y.type}),h.jsx(hle,{isOpen:I,onClose:fe,title:"Success!",children:h.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[h.jsx(td,{className:"text-green-500 text-6xl mb-4"}),h.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:"Data detail hasil monitoring berhasil disimpan!"}),h.jsx(kc.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:fe,className:"mt-6 px-6 py-3 border border-transparent rounded-lg text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:ring-2 focus:ring-blue-500",children:"Back To Detail Monitoring"})]})})]}):h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Lu,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx("header",{className:"bg-white border-b border-gray-100 p-4 flex items-center justify-between shadow-sm sticky top-0 z-30",children:h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsxs(kc.button,{onClick:()=>t(-1),whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center text-blue-600 hover:text-blue-800 transition-colors duration-200",children:[h.jsx(Rc,{className:"text-xl"}),h.jsx("span",{className:"font-semibold text-sm hidden md:inline",children:"Back"})]}),h.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900 ml-4",children:"Monitoring & Maintenance"})]})}),h.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:h.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6 text-center",children:[h.jsx(ju,{className:"text-yellow-500 text-4xl mx-auto mb-4"}),h.jsx("h3",{className:"text-lg font-semibold text-yellow-800 mb-2",children:"Data Tidak Ditemukan"}),h.jsx("p",{className:"text-yellow-600",children:"Data monitoring schedule tidak tersedia."})]})})]})]})},fle={id:"MACH-A01",name:"Mesin A01 (Produksi) - Unit WY01",interval:"Weekly",period:"01 Sep 2025 - 07 Sep 2025",items:[{id:101,name:"Oil Level",uom:"Level",visual:"Normal"},{id:102,name:"Belt Tension",uom:"Kekencangan",visual:"Baik"},{id:103,name:"Temperature",uom:"°C",min:20,max:40},{id:104,name:"Pressure",uom:"Bar",min:1.5,max:3},{id:105,name:"Motor Sound",uom:"Visual",visual:"Tidak ada suara aneh"},{id:106,name:"Vibration",uom:"mm/s",min:.1,max:1},{id:107,name:"pH Level",uom:"pH",min:6,max:8},{id:108,name:"Filter Condition",uom:"Visual",visual:"Bersih"}]};let gle="technician";const xle=["unitHeadEngineering","unitHeadProcess","sectionHeadEngineering","sectionHeadProcess"],ble=({comment:e,machineId:t,currentUserRole:n,onAddCommentOrReply:r,depth:a})=>{const[i,s]=x.useState(!1),[o,l]=x.useState(""),c=4*a;return h.jsxs("div",{className:"p-4 bg-gray-50 border border-gray-200 rounded-lg shadow-sm mb-2 "+(a>0?`ml-${c} border-l-4 border-l-blue-200`:""),children:[h.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-1 flex items-center",children:e.role.replace(/([A-Z])/g," $1").replace(/^./,e=>e.toUpperCase())}),h.jsx("p",{className:"text-gray-800 text-base mb-2",children:e.comment}),h.jsxs("p",{className:"text-xs text-gray-500 flex items-center",children:[h.jsx(id,{size:14,className:"mr-1"})," ",e.timestamp,h.jsx(kc.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>s(!i),className:"ml-3 text-blue-600 hover:text-blue-800 text-xs font-semibold",children:"Balas"})]}),h.jsx(Mi,{children:i&&h.jsxs(kc.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-3",children:[h.jsx("textarea",{rows:1,value:o,onChange:e=>l(e.target.value),placeholder:`Balas sebagai ${n.replace(/([A-Z])/g," $1").replace(/^./,e=>e.toUpperCase())}...`,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700 text-sm"}),h.jsx(kc.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>{o.trim()&&(r(t,n,o,e.id),l(""),s(!1))},disabled:!o.trim(),className:"mt-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm font-semibold flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed",children:"Kirim Balasan"})]})}),e.replies&&e.replies.length>0&&h.jsx("div",{className:"mt-3 border-t border-gray-100 pt-3",children:e.replies.map(e=>h.jsx(ble,{comment:e,machineId:t,currentUserRole:n,onAddCommentOrReply:r,depth:a+1},e.id))})]})},yle=()=>{var e;const t=ye(),n=je(),r=(null==(e=t.state)?void 0:e.machine)||fle,[a,i]=x.useState(null),[s,o]=x.useState(!1),[l,c]=x.useState("approval"),[d,u]=x.useState({unitHeadEngineering:{showInput:!1,text:""},unitHeadProcess:{showInput:!1,text:""},sectionHeadEngineering:{showInput:!1,text:""},sectionHeadProcess:{showInput:!1,text:""}});x.useEffect(()=>{if(r){const e={machineId:r.id,itemResults:r.items.map(e=>({itemId:e.id,result:"",status:"Pending",remarks:""})),approvalStatus:{unitHeadEngineering:"Pending",unitHeadProcess:"Pending",sectionHeadEngineering:"Pending",sectionHeadProcess:"Pending"},commentsHistory:[],activityHistory:[],isSaved:!1};i(e)}},[r]);const p=(e,t,n,r,a)=>{i(i=>i?{...i,itemResults:i.itemResults.map(i=>i.itemId===e?{...i,result:t,status:"numeric"===n?m(Number(t),r,a):"MS"===t?"MS":"TMS"===t?"TMS":"Pending"}:i)}:null)},m=(e,t,n)=>isNaN(e)||null==e?void 0===t||void 0===n?"N/A":"Pending":void 0!==t&&void 0!==n?e>=t&&e<=n?"MS":"TMS":"N/A",f=e=>{switch(e){case"MS":return"bg-green-100 text-green-800 border-green-200";case"TMS":return"bg-red-100 text-red-800 border-red-200";case"Pending":return"bg-yellow-100 text-yellow-800 border-yellow-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},g=e=>{switch(e){case"Pending":return"bg-yellow-100 text-yellow-800";case"Approved":return"bg-green-100 text-green-800";case"Rejected":return"bg-red-100 text-red-800";case"FeedbackGiven":return"bg-blue-100 text-blue-800";case"Edited":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},b=e=>({admin:"Admin",technician:"Teknisi",unitHeadEngineering:"Unit Head Engineering",unitHeadProcess:"Unit Head Process",sectionHeadEngineering:"Section Head Engineering",sectionHeadProcess:"Section Head Process"}[e]||e),y=x.useCallback((e,t,n,r=null)=>{i(a=>{if(!a||a.machineId!==e)return a;const i={id:crypto.randomUUID(),role:t,comment:n,timestamp:(new Date).toLocaleString(),replies:[],parentId:r},s=(e,t)=>null===t.parentId?[...e,t]:e.map(e=>e.id===t.parentId?{...e,replies:e.replies?[...e.replies,t]:[t]}:{...e,replies:e.replies?s(e.replies,t):e.replies}),o=a.commentsHistory||[];return{...a,commentsHistory:s(o,i)}})},[]),v=(e,t,n)=>{a&&(i(r=>{if(!r)return null;let a=r.commentsHistory||[],i=[...r.activityHistory];const s=(new Date).toLocaleString();if("FeedbackGiven"!==t&&"Rejected"!==t||!n)"Approved"===t&&(a=a.filter(t=>!(t.role===e&&(null===t.parentId||void 0===t.parentId)))||[],i.push({type:"approval",timestamp:s,actor:e,description:`${b(e)} menyetujui laporan.`}));else{const r={id:crypto.randomUUID(),role:e,comment:n,timestamp:s,replies:[],parentId:null};a=[...a,r];const o="FeedbackGiven"===t?"Memberi feedback.":"Menolak laporan.";i.push({type:"FeedbackGiven"===t?"feedback":"rejection",timestamp:s,actor:e,description:`${b(e)} ${o}`,details:n})}return{...r,approvalStatus:{...r.approvalStatus,[e]:t},commentsHistory:a,activityHistory:i}}),u(t=>{const n={...t},r=e;return n[r]&&(n[r]={showInput:!1,text:""}),n}))},w=x.useMemo(()=>{if(!(null==a?void 0:a.commentsHistory))return{unitHeadEngineering:[],unitHeadProcess:[],sectionHeadEngineering:[],sectionHeadProcess:[]};const e=(t,n=null)=>t.filter(e=>e.parentId===n).sort((e,t)=>new Date(e.timestamp).getTime()-new Date(t.timestamp).getTime()).map(n=>({...n,replies:e(t,n.id)})),t={unitHeadEngineering:[],unitHeadProcess:[],sectionHeadEngineering:[],sectionHeadProcess:[]};return xle.forEach(n=>{const r=a.commentsHistory.filter(e=>e.role===n);t[n]=e(r)}),t},[null==a?void 0:a.commentsHistory]);if(!r||!a)return h.jsx("div",{className:"flex justify-center items-center h-screen bg-gray-100",children:h.jsx("p",{className:"text-gray-600",children:"Loading machine details..."})});const j=!a.isSaved&&!0;return h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Lu,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx("header",{className:"bg-white border-b border-gray-100 p-4 flex items-center justify-between shadow-sm sticky top-0 z-30",children:h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsxs(kc.button,{onClick:()=>n(-1),whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center text-blue-600 hover:text-blue-800 transition-colors duration-200",children:[h.jsx(Rc,{className:"text-xl"}),h.jsx("span",{className:"font-semibold text-sm hidden md:inline",children:"Back"})]}),h.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900 ml-4",children:"Monitoring & Maintenance"})]})}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[h.jsx(kc.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Detail Monitoring & Maintenance"}),h.jsxs("p",{className:"text-gray-600 mt-1",children:["Machine: ",h.jsx("span",{className:"font-semibold text-gray-800",children:r.name})]}),h.jsxs("p",{className:"text-gray-600 mt-1",children:["Interval: ",h.jsx("span",{className:"font-semibold text-gray-800",children:r.interval})]}),h.jsxs("p",{className:"text-gray-600 mt-1",children:["Periode: ",h.jsx("span",{className:"font-semibold text-gray-800",children:r.period})]}),h.jsx("div",{className:"text-sm text-gray-500 mt-2 flex items-center space-x-4",children:h.jsxs("p",{children:[h.jsx("span",{className:"font-semibold",children:r.items.length})," Items"]})})]})}),h.jsx("div",{className:"space-y-6",children:h.jsxs(kc.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1,duration:.2},className:"bg-white rounded-lg border border-gray-200 shadow-sm p-4",children:[h.jsx("div",{className:"overflow-x-auto rounded-lg border border-gray-200 shadow-sm",children:h.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[h.jsx("thead",{className:"bg-gray-50",children:h.jsxs("tr",{children:[h.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nama Item"}),h.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Standar"}),h.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Hasil"}),h.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),h.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Catatan"})]})}),h.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.items.map(e=>{const t=a.itemResults.find(t=>t.itemId===e.id);return h.jsxs("tr",{children:[h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.name}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.visual?`${e.visual} (${e.uom})`:`${e.min} - ${e.max} ${e.uom}`}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:"Visual"===e.uom||"Level"===e.uom||"Kekencangan"===e.uom?h.jsxs("select",{className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md",value:(null==t?void 0:t.result)||"",onChange:t=>p(e.id,t.target.value,"visual"),disabled:!j,children:[h.jsx("option",{value:"",children:"Pilih"}),h.jsx("option",{value:"MS",children:"MS"}),h.jsx("option",{value:"TMS",children:"TMS"})]}):h.jsx("input",{type:"number",step:"0.01",value:null==t?void 0:t.result,onChange:t=>p(e.id,t.target.value,"numeric",e.min,e.max),disabled:!j,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700 text-sm disabled:bg-gray-50 disabled:cursor-not-allowed",placeholder:"Input result"})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:h.jsx("span",{className:`text-xs font-medium px-2.5 py-1 rounded-full ${f((null==t?void 0:t.status)||"Pending")}`,children:null==t?void 0:t.status})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:h.jsx("textarea",{rows:1,value:null==t?void 0:t.remarks,onChange:t=>{return n=e.id,r=t.target.value,void i(e=>e?{...e,itemResults:e.itemResults.map(e=>e.itemId===n?{...e,remarks:r}:e)}:null);var n,r},disabled:!j,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700 text-sm disabled:bg-gray-50 disabled:cursor-not-allowed",placeholder:"Tambahkan catatan..."})})]},e.id)})})]})}),h.jsx("div",{className:"flex justify-end mt-6",children:h.jsx(kc.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{if(!r||!a)return;o(!0);let e=!0;const t=[];a.itemResults.forEach(n=>{const a=r.items.find(e=>e.id===n.itemId);!a||""!==n.result&&"Pending"!==n.status||(e=!1,t.push({item:a.name}))}),e?(i(e=>{if(!e)return null;let t={...e.approvalStatus},n=e.commentsHistory||[],r=[...e.activityHistory];const a=(new Date).toLocaleString(),i=xle[0];return t={...t,[i]:"Pending"},r.push({type:"submission",timestamp:a,actor:gle,description:`${b(gle)} mengisi dan mengajukan laporan.`}),{...e,isSaved:!0,submissionDate:(new Date).toISOString(),approvalStatus:t,commentsHistory:n,activityHistory:r}}),alert(`Hasil monitoring untuk ${r.name} berhasil disimpan!`)):alert(`Harap isi semua hasil monitoring yang diperlukan untuk ${r.name}. Item yang belum diisi: `+t.map(e=>e.item).join(", ")),o(!1)},disabled:!j||s,className:"px-6 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-semibold flex items-center disabled:opacity-50 disabled:cursor-not-allowed",children:s?h.jsxs(h.Fragment,{children:[h.jsx(Ad,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):h.jsxs(h.Fragment,{children:[h.jsx(du,{className:"mr-2 h-5 w-5"}),"Save Monitoring"]})})}),h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm mt-8",children:[h.jsxs("div",{className:"flex items-center space-x-4 mb-4 border-b border-gray-200",children:[h.jsxs(kc.button,{whileHover:{scale:1.03},onClick:()=>c("approval"),className:"pb-3 px-2 font-semibold text-gray-700 transition-colors flex items-center space-x-2 "+("approval"===l?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700"),children:[h.jsx(Ed,{className:"h-5 w-5"}),h.jsx("span",{children:"Approval Status"})]}),h.jsxs(kc.button,{whileHover:{scale:1.03},onClick:()=>c("history"),className:"pb-3 px-2 font-semibold text-gray-700 transition-colors flex items-center space-x-2 "+("history"===l?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700"),children:[h.jsx(_d,{className:"h-5 w-5"}),h.jsx("span",{children:"History Activity"})]})]}),"approval"===l?h.jsx(Mi,{mode:"wait",children:h.jsx(kc.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(a.approvalStatus).map(([e,t])=>{var n,i;const s=e,o=(a.approvalStatus,a.isSaved,!1),l=w[s]||[];return h.jsxs("div",{className:"p-3 rounded-lg border border-gray-200",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("span",{className:"text-sm font-medium text-gray-700",children:b(s)}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("span",{className:`text-xs font-medium px-3 py-1 rounded-full ${g(t)}`,children:"Edited"===t?`Edited by ${b(s)}`:t}),o&&h.jsxs("div",{className:"flex space-x-1",children:[h.jsx(kc.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>v(e,"Approved"),className:"p-1 rounded-full text-green-600 hover:bg-green-100 transition-colors",children:h.jsx(td,{size:20})}),h.jsx(kc.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{return t=e,void u(e=>{const n={...e},r=t;return n[r]&&(n[r]={...n[r],showInput:!n[r].showInput}),n});var t},className:"p-1 rounded-full text-blue-600 hover:bg-blue-100 transition-colors",children:h.jsx(Gd,{size:20})})]})]})]}),h.jsx(Mi,{children:(null==(n=d[s])?void 0:n.showInput)&&h.jsxs(kc.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-4 p-4 bg-gray-100 rounded-lg border border-gray-200",children:[h.jsxs("h5",{className:"text-sm font-semibold text-gray-800 mb-2",children:["Alasan untuk Feedback (",b(s),")"]}),h.jsx("textarea",{rows:2,value:null==(i=d[s])?void 0:i.text,onChange:e=>{return t=s,n=e.target.value,void u(e=>{const r={...e},a=t;return r[a]&&(r[a]={...r[a],text:n}),r});var t,n},className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700 text-sm",placeholder:"Tulis alasan feedback atau penolakan..."}),h.jsx("div",{className:"flex justify-end space-x-2 mt-2",children:h.jsx(kc.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>v(s,"FeedbackGiven",d[s].text),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm font-semibold transition-colors",children:"Kirim Feedback"})})]})}),h.jsx("div",{className:"mt-4",children:l.length>0?l.map(e=>h.jsx(ble,{comment:e,machineId:r.id,currentUserRole:gle,onAddCommentOrReply:y,depth:0},e.id)):h.jsx("p",{className:"text-gray-500 text-sm",children:"Belum ada komentar."})})]},e)})},"approval-tab")}):h.jsx(Mi,{mode:"wait",children:h.jsx(kc.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:"space-y-4",children:a.activityHistory.length>0?a.activityHistory.map((e,t)=>h.jsxs(kc.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.05*t},className:"flex items-start space-x-4 p-4 bg-gray-50 rounded-lg border border-gray-200 shadow-sm",children:[h.jsx("div",{className:"mt-1 flex-shrink-0",children:h.jsx(_d,{size:20,className:"text-blue-500"})}),h.jsxs("div",{className:"flex-1",children:[h.jsx("p",{className:"text-sm font-semibold text-gray-800",children:e.description}),h.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[h.jsxs("span",{className:"font-medium text-gray-600",children:["Oleh: ",b(e.actor)]})," - ",e.timestamp]}),e.details&&h.jsxs("p",{className:"text-sm text-gray-700 italic mt-2",children:['"',e.details,'"']})]})]},t)):h.jsx("p",{className:"text-gray-500 text-sm",children:"Belum ada aktivitas yang tercatat."})},"history-tab")})]})]})})]})]})]})},vle=()=>{const e=je(),{id:t}=ke(),{getUsers:n,getTemplateApprovers:r,addApproverToTemplate:a,updateApprover:i,deleteApprover:s,getApprovalTemplateById:o}=gt(),[l,c]=x.useState(window.innerWidth<768),[d,u]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return JSON.parse(e||"false")}),[p,m]=x.useState([]),[f,g]=x.useState(null),[b,y]=x.useState([]),[v,w]=x.useState(!1),[j,N]=x.useState("");x.useEffect(()=>{t&&(k(),C())},[t]);const k=async()=>{if(t)try{w(!0);const e=await o(t);g(e),e.approvers&&e.approvers.length>0?await S(e.approvers):y([{order:1,role:"Select Position",assignee:""}])}catch(e){N("Failed to load template")}finally{w(!1)}else N("Template ID is missing")},S=async e=>{try{const t=e.map(e=>{var t,n;return{order:e.step,role:(null==(t=e.approver)?void 0:t.position)||`Approval Step ${e.step}`,assignee:(null==(n=e.approver)?void 0:n.name)||"",approver_user_id:e.approver_user_id}});y(t)}catch(t){y([{order:1,role:"Select Position",assignee:""}])}},C=async()=>{try{const e=(await n()).map(e=>{var t;return{id:parseInt(e.id),name:e.name,email:e.email,position:e.position||"No Position",department:(null==(t=e.department)?void 0:t.name)||e.department_name}});m(e)}catch(e){}},_=()=>{e("/workflowapproval/monitoringapproval")};return v&&!f?h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Lu,{}),h.jsx("div",{className:"flex-1 flex items-center justify-center",children:h.jsx(Wd,{className:"animate-spin text-blue-600",size:32})})]}):f?h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Lu,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Fu,{mainTitle:"Monitoring Approval",mainTitleHighlight:"Page",description:"Manage work shifts and their configurations within the system.",icon:h.jsx(_u,{}),isMobile:l,toggleSidebar:()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!d)),u(e=>!e)}}),h.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:h.jsxs(kc.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[h.jsx(_u,{className:"mr-2 text-gray-700",size:24}),"Flow Configuration: ",h.jsx("span",{className:"text-blue-600 ml-2",children:null==f?void 0:f.name})]}),h.jsxs(kc.button,{onClick:_,whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors font-semibold text-sm flex items-center",disabled:v,children:[h.jsx(Rc,{className:"mr-2",size:18})," Back to Template List"]})]}),h.jsx("p",{className:"text-gray-600 mb-6",children:"Configure the approval flow by selecting positions and assigning approvers."}),j&&h.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:j}),h.jsx("div",{className:"space-y-4",children:b.map((e,t)=>{const n=(()=>{const e=p.map(e=>e.position).filter(e=>null!=e&&"No Position"!==e);return[...new Set(e)]})(),r=e.role&&"Select Position"!==e.role?(a=e.role,p.filter(e=>e.position===a)):[];var a;return h.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[h.jsxs("span",{className:"text-gray-500 font-semibold min-w-8",children:[e.order,"."]}),h.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-2 gap-3",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Position"}),h.jsxs("select",{value:e.role,onChange:e=>((e,t)=>{y(n=>n.map((n,r)=>r===e?{...n,role:t,assignee:""}:n))})(t,e.target.value),className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700 text-sm",children:[h.jsx("option",{value:"Select Position",children:"Select Position"}),n.map(e=>h.jsx("option",{value:e,children:e},e))]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Assignee"}),h.jsxs("select",{value:e.approver_user_id||"",onChange:e=>((e,t)=>{const n=p.find(e=>e.id===t);n&&y(t=>t.map((t,r)=>r===e?{...t,assignee:n.name,approver_user_id:n.id}:t))})(t,parseInt(e.target.value)),className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700 text-sm",disabled:!e.role||"Select Position"===e.role||0===r.length,children:[h.jsx("option",{value:"",children:"Select User"}),r.map(e=>h.jsxs("option",{value:e.id,children:[e.name," (",e.email,")"]},e.id))]}),e.role&&"Select Position"!==e.role&&0===r.length&&h.jsx("p",{className:"text-xs text-red-500 mt-1",children:"No users found for this position"})]})]}),b.length>1&&h.jsx(kc.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>(e=>{y(t=>t.filter((t,n)=>n!==e).map((e,t)=>({...e,order:t+1})))})(t),className:"text-red-600 hover:text-red-800 transition-colors p-2",disabled:v,children:h.jsx(vu,{size:20})})]},t)})}),h.jsxs("div",{className:"flex justify-between items-center mt-6",children:[h.jsxs(kc.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{const e=b.length>0?Math.max(...b.map(e=>e.order))+1:1;y(t=>[...t,{order:e,role:"Select Position",assignee:""}])},className:"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors font-semibold flex items-center text-sm disabled:opacity-50",disabled:v,children:[h.jsx(nu,{size:18,className:"mr-2"})," Add Step"]}),h.jsxs(kc.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:async()=>{if(f)if(b.every(e=>e.role&&e.assignee&&e.approver_user_id&&"Select Position"!==e.role))try{w(!0),N("");const r=f.approvers||[],o=(b.map(e=>({approver_user_id:e.approver_user_id,step:e.order})),[]);for(const n of b){const s={approver_user_id:n.approver_user_id,step:n.order},l=r.find(e=>e.step===n.order);if(l){if(l.approver_user_id!==n.approver_user_id)try{await i(f.id,l.id,s)}catch(e){throw new Error(`Failed to update approver for step ${n.order}`)}}else try{await a(f.id,s)}catch(t){throw new Error(`Failed to add approver for step ${n.order}`)}o.push(n.order)}const l=r.filter(e=>!o.includes(e.step)).map(e=>({id:e.id,step:e.step}));for(const e of l)try{await s(f.id,e.id)}catch(n){}alert(`✅ Approval flow for template "${f.name}" has been successfully saved!`),await k()}catch(r){N(r instanceof Error?r.message:"Failed to save approval flow")}finally{w(!1)}else N("Please complete all roles and assignees.")},className:"px-5 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors font-semibold text-sm disabled:opacity-50 flex items-center",disabled:v,children:[v?h.jsx(Wd,{className:"animate-spin mr-2",size:16}):h.jsx(du,{size:18,className:"mr-2"}),"Save Flow"]})]})]})})]})]}):h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Lu,{}),h.jsx("div",{className:"flex-1 flex items-center justify-center",children:h.jsxs("div",{className:"text-center",children:[h.jsx("h2",{className:"text-xl font-bold text-gray-700 mb-2",children:"Template not found"}),h.jsxs("p",{className:"text-gray-500 mb-4",children:["ID: ",t]}),h.jsx("button",{onClick:_,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Back to Templates"})]})})]})},wle=()=>h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 px-4",children:h.jsxs("div",{className:"max-w-md w-full text-center",children:[h.jsx("div",{className:"mb-8",children:h.jsxs("div",{className:"relative inline-flex",children:[h.jsx("div",{className:"w-32 h-32 bg-white rounded-full shadow-lg flex items-center justify-center",children:h.jsx(yd,{className:"w-16 h-16 text-gray-400"})}),h.jsx("div",{className:"absolute -top-2 -right-2 w-8 h-8 bg-red-500 rounded-full flex items-center justify-center",children:h.jsx("span",{className:"text-white text-sm font-bold",children:"404"})})]})}),h.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-4",children:"Page Not Found"}),h.jsx("p",{className:"text-gray-600 mb-8 text-lg",children:"Oops! The page you're looking for seems to have wandered off into the digital void."}),h.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[h.jsxs(it,{to:"/",className:"inline-flex items-center justify-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200 font-medium",children:[h.jsx(Td,{className:"mr-2"}),"Back to Home"]}),h.jsxs("button",{onClick:()=>window.history.back(),className:"inline-flex items-center justify-center px-6 py-3 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors duration-200 font-medium",children:[h.jsx(Rc,{className:"mr-2"}),"Go Back"]})]}),h.jsx("div",{className:"mt-8 p-4 bg-white rounded-lg shadow-sm",children:h.jsxs("p",{className:"text-sm text-gray-600",children:["If you believe this is an error, please contact the"," ",h.jsx(it,{to:"#",className:"text-blue-600 hover:underline",children:"IT Department"})]})}),h.jsx("div",{className:"mt-12",children:h.jsx("div",{className:"relative h-1 bg-gray-200 rounded-full overflow-hidden",children:h.jsx("div",{className:"absolute top-0 left-0 h-full bg-gradient-to-r from-blue-500 to-purple-500 w-1/3 animate-ping-pong"})})})]})}),jle=({isOpen:e,onClose:t,title:n,children:r})=>e?h.jsx(kc.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:h.jsxs(kc.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[h.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[h.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n}),h.jsx(kc.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:t,className:"text-gray-500 hover:text-gray-700 text-2xl",children:h.jsx(Pu,{size:24})})]}),h.jsx("div",{children:r})]})}):null,Nle=()=>{const{id:e}=ke(),[t,n]=x.useState(window.innerWidth<768),[r,a]=x.useState([]),[i,s]=x.useState(),{getWorkArea:o,updateWorkArea:l,getWorkAreaById:c}=gt(),[d,u]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return!!e&&JSON.parse(e)}),[p,m]=x.useState(null),[f,g]=x.useState(null),[b,y]=x.useState(!1),[v,w]=x.useState(!1),j=je(),[N,k]=x.useState({work_area:""});x.useEffect(()=>{i&&k({work_area:i.work_area||""})},[i]);const S=x.useCallback(async()=>{try{if(e){const[t]=await Promise.all([c(e)]);s(t)}}catch(t){m(t.message||"Failed to load form data")}},[e,c]);x.useEffect(()=>{e&&S()},[e,S]);const C=()=>{y(!1),j("/worklocation/workarea")};return h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Lu,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Fu,{mainTitle:"Edit Work Area",mainTitleHighlight:"Management",description:"blablablabl",icon:h.jsx(qd,{}),isMobile:t,toggleSidebar:()=>{u(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[h.jsxs(kc.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Work Area"}),h.jsx("p",{className:"text-gray-600 mt-1",children:"Update Work Area information"})]}),h.jsxs(kc.button,{onClick:()=>j("/worklocation/workarea"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[h.jsx(Rc,{className:"text-lg"})," Back to Work Area Management"]})]}),h.jsxs(kc.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[p&&h.jsxs(kc.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[h.jsx("strong",{className:"font-bold",children:"Error!"}),h.jsx("span",{className:"block sm:inline ml-2",children:p}),h.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:h.jsx(Pu,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>m(null)})})]}),h.jsxs("form",{onSubmit:async t=>{t.preventDefault(),w(!0),m(null);try{const t={work_area:N.work_area};await l(e,t),g("Work Area update successfully!"),y(!0)}catch(n){m(n.message||"Failed to update Work Area")}finally{w(!1)}},className:"space-y-6",children:[h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Work Area Information"}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"work_area",className:"block text-sm font-medium text-gray-700 mb-1",children:["Work Area ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",name:"work_area",id:"work_area",value:N.work_area,onChange:e=>{const{name:t,value:n}=e.target;k(e=>({...e,[t]:"sla"===t?Number(n):n}))},className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})})]}),h.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[h.jsx(kc.button,{type:"button",onClick:()=>j("/worklocation/workarea"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),h.jsx(kc.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:v,children:v?h.jsxs(h.Fragment,{children:[h.jsx(Ad,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):h.jsxs(h.Fragment,{children:[h.jsx(du,{className:"mr-2 h-5 w-5"})," Save Work Area"]})})]})]})]})]})]}),h.jsx(jle,{isOpen:b,onClose:C,title:"Success!",children:h.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[h.jsx(td,{className:"text-green-500 text-6xl mb-4"}),h.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:f}),h.jsx(kc.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:C,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Work Area Management"})]})})]})},kle=({isOpen:e,onClose:t,title:n,children:r})=>e?h.jsx(kc.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:h.jsxs(kc.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[h.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[h.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n}),h.jsx(kc.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:t,className:"text-gray-500 hover:text-gray-700 text-2xl",children:h.jsx(Pu,{size:24})})]}),h.jsx("div",{children:r})]})}):null,Sle=()=>{const[e,t]=x.useState(window.innerWidth<768),[n,r]=x.useState([]),{addWorkArea:a,getWorkArea:i}=gt(),[s,o]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return!!e&&JSON.parse(e)}),[l,c]=x.useState(null),[d,u]=x.useState(null),[p,m]=x.useState(!1),[f,g]=x.useState(!1),b=je(),[y,v]=x.useState({work_area:""}),w=x.useCallback(async()=>{try{const[e]=await Promise.all([i()]);r(e)}catch(e){c(e.message||"Failed to load form data")}},[i]);x.useEffect(()=>{w()},[w]);const j=()=>{m(!1),b("/worklocation/workarea")};return h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Lu,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Fu,{mainTitle:"Create Work Area",mainTitleHighlight:"Management",description:"blablablabl",icon:h.jsx(qd,{}),isMobile:e,toggleSidebar:()=>{o(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[h.jsxs(kc.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Work Area"}),h.jsx("p",{className:"text-gray-600 mt-1",children:"Create a new Work Area information"})]}),h.jsxs(kc.button,{onClick:()=>b("/worklocation/workarea"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[h.jsx(Rc,{className:"text-lg"})," Back to Work Area Management"]})]}),h.jsxs(kc.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[l&&h.jsxs(kc.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[h.jsx("strong",{className:"font-bold",children:"Error!"}),h.jsx("span",{className:"block sm:inline ml-2",children:l}),h.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:h.jsx(Pu,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>c(null)})})]}),h.jsxs("form",{onSubmit:async e=>{e.preventDefault(),g(!0),c(null);try{const e={work_area:y.work_area};await a(e),u("Work Area created successfully!"),m(!0)}catch(t){c(t.message||"Failed to create Work Area")}finally{g(!1)}},className:"space-y-6",children:[h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Work Area Information"}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"work_area",className:"block text-sm font-medium text-gray-700 mb-1",children:["Work Area ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",name:"work_area",id:"work_area",value:y.work_area,onChange:e=>{const{name:t,value:n}=e.target;v(e=>({...e,[t]:"sla"===t?Number(n):n}))},className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})})]}),h.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[h.jsx(kc.button,{type:"button",onClick:()=>b("/worklocation/workarea"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),h.jsx(kc.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:f,children:f?h.jsxs(h.Fragment,{children:[h.jsx(Ad,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):h.jsxs(h.Fragment,{children:[h.jsx(du,{className:"mr-2 h-5 w-5"})," Save Work Area"]})})]})]})]})]})]}),h.jsx(kle,{isOpen:p,onClose:j,title:"Success!",children:h.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[h.jsx(td,{className:"text-green-500 text-6xl mb-4"}),h.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:d}),h.jsx(kc.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:j,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Work Area Management"})]})})]})},Cle=({isOpen:e,onClose:t,title:n,children:r,className:a})=>h.jsx(Mi,{children:e&&h.jsx(kc.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:h.jsxs(kc.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${a||"max-w-xl w-full"}`,children:[h.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[h.jsx("h2",{className:"text-xl font-bold text-gray-800",children:n}),h.jsx("button",{onClick:t,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:h.jsx(Pu,{className:"text-xl"})})]}),h.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:r})]})})}),_le=({title:e,value:t,change:n,icon:r})=>{const a=n.startsWith("+");return h.jsxs(kc.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[h.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:e}),h.jsx("p",{className:"text-3xl font-bold text-gray-900",children:t})]}),h.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:r})]}),h.jsxs("p",{className:"mt-3 text-xs font-semibold "+(a?"text-green-600":"text-red-600"),children:[n," from last month"]})]})},Ale=()=>{const[e,t]=x.useState([]),{getWorkArea:n,deleteWorkArea:r}=gt(),[a,i]=x.useState(!0),[s,o]=x.useState(null),[l,c]=x.useState(""),[d,u]=x.useState(!1),[p,m]=x.useState(null),[f,g]=x.useState(!1),[b]=x.useState(window.innerWidth<768),[y,v]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return!!e&&JSON.parse(e)}),w=je(),j=x.useRef(null),[N,k]=x.useState(!1),S=x.useMemo(()=>[{id:"workarea",name:"Work Area"}],[]),C=x.useCallback(async()=>{try{i(!0);const e=[...await n()].sort((e,t)=>e.id-t.id);t(e)}catch(e){o("Failed to load Work Area")}finally{i(!1)}},[n]);x.useEffect(()=>{C()},[C]);const _=x.useMemo(()=>{if(!l)return S;const e=l.toLowerCase();return S.filter(t=>t.name.toLowerCase().includes(e))},[l,S]),A=x.useMemo(()=>{if(!l.trim())return e;const t=l.toLowerCase().trim(),n=t.split(":");let r="all",a=t;return n.length>1&&S.some(e=>e.name.toLowerCase()===n[0].trim())&&(n[0].trim(),a=n.slice(1).join(":").trim()),e.filter(e=>e.work_area.toLowerCase().includes(a))},[e,l,S]),T=x.useCallback(e=>{m(e),u(!0)},[]);return h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[h.jsx(Lu,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Fu,{mainTitle:"Work Area",mainTitleHighlight:"Page",description:"Manage work area and their configurations within the system.",icon:h.jsx(qd,{}),isMobile:b,toggleSidebar:()=>{const e=!y;v(e),localStorage.setItem("sidebarOpen",JSON.stringify(e))}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[h.jsxs(kc.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[h.jsxs("div",{children:[h.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Work Area ",h.jsx("span",{className:"text-blue-600",children:"Management"})]}),h.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Organize and manage work area by specific company requirements."})]}),h.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[h.jsxs(kc.button,{onClick:()=>w("/worklocation/workarea/addworkarea"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[h.jsx(nu,{className:"text-base"}),h.jsx("span",{children:"Add Work Area"})]}),h.jsxs(kc.button,{onClick:()=>{alert("Import functionality is not yet implemented.")},whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[h.jsx(Su,{className:"text-base"}),h.jsx("span",{children:"Import"})]}),h.jsxs(kc.button,{onClick:()=>g(!f),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[h.jsx(vd,{className:"text-base"}),h.jsx("span",{children:"Filters"}),h.jsx(kc.span,{animate:{rotate:f?180:0},transition:{duration:.2},children:h.jsx(Jc,{className:"text-base"})})]})]})]}),h.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:h.jsx(_le,{title:"Total Work Area",value:e.length.toString(),change:`+${Math.floor(e.length/10*100)}%`,icon:h.jsx(qd,{className:"w-6 h-6"})})}),h.jsxs(kc.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[h.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:h.jsxs("div",{className:"flex-1 relative",children:[h.jsx(uu,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),h.jsx("input",{ref:j,type:"text",placeholder:"Search by work area...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:l,onChange:e=>{const t=e.target.value;c(t)},onFocus:()=>k(!0),"aria-label":"Search work area"}),h.jsx(Mi,{children:N&&_.length>0&&h.jsx(kc.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.15},className:"search-suggestions absolute left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-10 max-h-56 overflow-y-auto custom-scrollbar",children:_.map(e=>h.jsx(kc.button,{onClick:()=>{return t=e.name,c(`${t}: `),k(!1),void(null==(n=j.current)||n.focus());var t,n},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},className:"w-full text-left p-3 text-gray-700 hover:text-blue-700 transition-colors duration-150 text-sm",role:"option",children:h.jsx("span",{className:"font-semibold",children:e.name})},e.id))})})]})}),h.jsx(Mi,{children:f&&h.jsx(kc.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full"})})]}),a?h.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[h.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),h.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading work area data..."})]}):0===A.length?h.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[h.jsx("p",{className:"text-gray-700 text-base font-medium",children:l?"No work area found matching your search.":"No work area available."}),l&&h.jsx("button",{onClick:()=>c(""),className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear Search"})]}):h.jsx(kc.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:h.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:h.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[h.jsx("thead",{className:"bg-blue-50",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Work Area"}),h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),h.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:A.map((e,t)=>h.jsxs(kc.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[h.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:h.jsx("div",{className:"text-sm font-medium text-gray-900",children:t+1})}),h.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:h.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.work_area})}),h.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[h.jsx(kc.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>w(`/worklocation/workarea/editworkarea/${e.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit",children:h.jsx(gu,{className:"inline text-base"})}),h.jsx(kc.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>T(e.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:h.jsx(vu,{className:"inline text-base"})})]})]},e.id))})]})})})]})]}),h.jsx(Cle,{isOpen:d,onClose:()=>u(!1),title:"Confirm Deletion",children:h.jsxs("div",{className:"space-y-5 text-center py-3",children:[h.jsx(ju,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),h.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this work area? This action cannot be undone."}),h.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[h.jsx(kc.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>u(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),h.jsx(kc.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>p&&(async n=>{try{await r(n),t(e.filter(e=>e.id!==n)),u(!1),m(null)}catch(a){o("Failed to delete Work Area. Please try again.")}})(p),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})]})},Tle=({isOpen:e,onClose:t,title:n,children:r})=>e?h.jsx(kc.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:h.jsxs(kc.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[h.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[h.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n}),h.jsx(kc.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:t,className:"text-gray-500 hover:text-gray-700 text-2xl",children:h.jsx(Pu,{size:24})})]}),h.jsx("div",{children:r})]})}):null,Ole=()=>{const{addAsset:e}=gt(),t=je(),[n,r]=x.useState(!1),[a,i]=x.useState(null),[s,o]=x.useState(!1),[l,c]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return!!e&&JSON.parse(e)}),[d,u]=x.useState(window.innerWidth<768),p={id:0,name:"",category:"",location:"",purchase_date:(new Date).toISOString().split("T")[0],description:"",type:"",make:"",model:"",status:"",last_maintenance:"",next_maintenance:"",work_orders:"",health:"",created_at:(new Date).toISOString(),update_at:(new Date).toISOString()},[m,f]=x.useState(p),g=x.useCallback(e=>{const{name:t,value:n}=e.target;f(e=>({...e,[t]:n}))},[]),b=x.useCallback(()=>{f(p),i(null)},[p]),y=x.useCallback(()=>{o(!1),t("/assets")},[t]);return x.useEffect(()=>{const e=()=>{u(window.innerWidth<768)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Lu,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Fu,{mainTitle:"Add New Asset",mainTitleHighlight:"Asset",description:"Add new asset to the system inventory.",icon:h.jsx(Jd,{}),isMobile:d,toggleSidebar:()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!l)),c(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[h.jsxs(kc.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Add New Asset"}),h.jsx("p",{className:"text-gray-600 mt-1",children:"Fill in the details for the new asset"})]}),h.jsxs(kc.button,{onClick:()=>t("/assets"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[h.jsx(Rc,{className:"text-lg"})," Back to Assets"]})]}),h.jsxs(kc.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[a&&h.jsxs(kc.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[h.jsx("strong",{className:"font-bold",children:"Error!"}),h.jsx("span",{className:"block sm:inline ml-2",children:a}),h.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:h.jsx(Pu,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>i(null)})})]}),h.jsxs("form",{onSubmit:async t=>{t.preventDefault(),r(!0),i(null);try{const t={...m,id:0,created_at:(new Date).toISOString(),update_at:(new Date).toISOString()};await e(t),o(!0),b()}catch(n){i(n.message||"Failed to save asset data. Please try again.")}finally{r(!1)}},className:"space-y-6",children:[h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[h.jsx(Jd,{className:"mr-2 text-blue-500"})," Basic Information"]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Asset Name ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",name:"name",id:"name",value:m.name,onChange:g,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., Production Machine A-01",required:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 mb-1",children:["Category ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",name:"category",id:"category",value:m.category,onChange:g,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., Manufacturing Equipment",required:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700 mb-1",children:["Location ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",name:"location",id:"location",value:m.location,onChange:g,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., Production Floor, Building B",required:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"purchase_date",className:"block text-sm font-medium text-gray-700 mb-1",children:["Purchase Date ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"date",name:"purchase_date",id:"purchase_date",value:m.purchase_date,onChange:g,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),h.jsxs("div",{className:"md:col-span-2",children:[h.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("textarea",{name:"description",id:"description",value:m.description,onChange:g,rows:3,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"Detailed description of the asset...",required:!0})]})]})]}),h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[h.jsx(hu,{className:"mr-2 text-green-500"})," Technical Specifications"]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"type",className:"block text-sm font-medium text-gray-700 mb-1",children:"Asset Type"}),h.jsxs("select",{name:"type",id:"type",value:m.type||"",onChange:g,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",children:[h.jsx("option",{value:"",children:"Select Type"}),h.jsx("option",{value:"mechanical",children:"Mechanical"}),h.jsx("option",{value:"electrical",children:"Electrical"}),h.jsx("option",{value:"vehicle",children:"Vehicle"}),h.jsx("option",{value:"building",children:"Building"}),h.jsx("option",{value:"equipment",children:"Equipment"}),h.jsx("option",{value:"tool",children:"Tool"})]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"make",className:"block text-sm font-medium text-gray-700 mb-1",children:"Make/Manufacturer"}),h.jsx("input",{type:"text",name:"make",id:"make",value:m.make||"",onChange:g,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., Siemens, Caterpillar"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"model",className:"block text-sm font-medium text-gray-700 mb-1",children:"Model"}),h.jsx("input",{type:"text",name:"model",id:"model",value:m.model||"",onChange:g,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., X500, 320D"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),h.jsxs("select",{name:"status",id:"status",value:m.status||"",onChange:g,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",children:[h.jsx("option",{value:"",children:"Select Status"}),h.jsx("option",{value:"running",children:"Running"}),h.jsx("option",{value:"maintenance",children:"Maintenance"}),h.jsx("option",{value:"breakdown",children:"Breakdown"}),h.jsx("option",{value:"idle",children:"Idle"}),h.jsx("option",{value:"retired",children:"Retired"})]})]})]})]}),h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[h.jsx(Mu,{className:"mr-2 text-purple-500"})," Maintenance Information"]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"last_maintenance",className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Maintenance Date"}),h.jsx("input",{type:"date",name:"last_maintenance",id:"last_maintenance",value:m.last_maintenance||"",onChange:g,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"next_maintenance",className:"block text-sm font-medium text-gray-700 mb-1",children:"Next Maintenance Date"}),h.jsx("input",{type:"date",name:"next_maintenance",id:"next_maintenance",value:m.next_maintenance||"",onChange:g,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"work_orders",className:"block text-sm font-medium text-gray-700 mb-1",children:"Work Orders"}),h.jsx("input",{type:"text",name:"work_orders",id:"work_orders",value:m.work_orders||"",onChange:g,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., WO-001, WO-002"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"health",className:"block text-sm font-medium text-gray-700 mb-1",children:"Health Status"}),h.jsxs("select",{name:"health",id:"health",value:m.health||"",onChange:g,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",children:[h.jsx("option",{value:"",children:"Select Health Status"}),h.jsx("option",{value:"excellent",children:"Excellent"}),h.jsx("option",{value:"good",children:"Good"}),h.jsx("option",{value:"fair",children:"Fair"}),h.jsx("option",{value:"poor",children:"Poor"}),h.jsx("option",{value:"critical",children:"Critical"})]})]})]})]}),h.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[h.jsxs(kc.button,{type:"button",onClick:b,whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",children:[h.jsx(vu,{className:"mr-2 h-5 w-5"})," Clear Form"]}),h.jsx(kc.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:n,children:n?h.jsxs(h.Fragment,{children:[h.jsx(Ad,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):h.jsxs(h.Fragment,{children:[h.jsx(du,{className:"mr-2 h-5 w-5"})," Save Asset"]})})]})]})]})]})]}),h.jsx(Tle,{isOpen:s,onClose:y,title:"Success!",children:h.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[h.jsx(td,{className:"text-green-500 text-6xl mb-4"}),h.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:"Your asset has been added successfully!"}),h.jsx(kc.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:y,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Go to Assets"})]})})]})},Ele=({isOpen:e,onClose:t,title:n,children:r})=>e?h.jsx(kc.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:h.jsxs(kc.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[h.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[h.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n}),h.jsx(kc.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:t,className:"text-gray-500 hover:text-gray-700 text-2xl",children:h.jsx(Pu,{size:24})})]}),h.jsx("div",{children:r})]})}):null,Mle=()=>{const{editAsset:e,getAssetsData:t}=gt(),n=je(),{id:r}=ke(),[a,i]=x.useState(!1),[s,o]=x.useState(!0),[l,c]=x.useState(null),[d,u]=x.useState(!1),[p,m]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return!!e&&JSON.parse(e)}),[f,g]=x.useState(window.innerWidth<768),b=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!p)),m(e=>!e)},y={id:0,name:"",category:"",location:"",purchase_date:(new Date).toISOString().split("T")[0],description:"",type:"",make:"",model:"",status:"",last_maintenance:"",next_maintenance:"",work_orders:"",health:"",created_at:(new Date).toISOString(),update_at:(new Date).toISOString()},[v,w]=x.useState(y),j=x.useCallback(e=>{const{name:t,value:n}=e.target;w(e=>({...e,[t]:n}))},[]),N=x.useCallback(async()=>{if(r){o(!0);try{const e=(await t()).find(e=>String(e.id)===r);e?w({id:e.id,name:e.name,category:e.category,location:e.location,purchase_date:e.purchaseDate,description:e.description,type:e.type||"",make:e.make||"",model:e.model||"",status:e.status||"",last_maintenance:e.lastMaintenance||"",next_maintenance:e.nextMaintenance||"",work_orders:e.workOrders||"",health:e.health||"",created_at:e.createdAt,update_at:e.updateAt}):c("Asset not found")}catch(e){c("Failed to load asset data: "+e.message)}finally{o(!1)}}},[r,t]),k=x.useCallback(()=>{N(),c(null)},[N]),S=x.useCallback(()=>{u(!1),n("/assets")},[n]);return x.useEffect(()=>{const e=()=>{g(window.innerWidth<768)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),x.useEffect(()=>{N()},[N]),s?h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Lu,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Fu,{mainTitle:"Edit Asset",mainTitleHighlight:"Asset",description:"Edit asset information.",icon:h.jsx(Jd,{}),isMobile:f,toggleSidebar:b}),h.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 flex items-center justify-center",children:h.jsxs("div",{className:"flex flex-col items-center",children:[h.jsx(Ad,{className:"animate-spin text-blue-600 mb-4",size:32}),h.jsx("p",{className:"text-gray-600",children:"Loading asset data..."})]})})]})]}):h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Lu,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Fu,{mainTitle:"Edit Asset",mainTitleHighlight:"Asset",description:"Edit asset information in the system.",icon:h.jsx(Jd,{}),isMobile:f,toggleSidebar:b}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[h.jsxs(kc.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Asset"}),h.jsxs("p",{className:"text-gray-600 mt-1",children:["Update the details for asset: ",v.name]})]}),h.jsxs(kc.button,{onClick:()=>n("/assets"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[h.jsx(Rc,{className:"text-lg"})," Back to Assets"]})]}),h.jsxs(kc.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[l&&h.jsxs(kc.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[h.jsx("strong",{className:"font-bold",children:"Error!"}),h.jsx("span",{className:"block sm:inline ml-2",children:l}),h.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:h.jsx(Pu,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>c(null)})})]}),h.jsxs("form",{onSubmit:async t=>{t.preventDefault(),i(!0),c(null);try{const t={...v,update_at:(new Date).toISOString()};await e(t),u(!0)}catch(n){c(n.message||"Failed to update asset data. Please try again.")}finally{i(!1)}},className:"space-y-6",children:[h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[h.jsx(Jd,{className:"mr-2 text-blue-500"})," Basic Information"]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Asset Name ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",name:"name",id:"name",value:v.name,onChange:j,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., Production Machine A-01",required:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 mb-1",children:["Category ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",name:"category",id:"category",value:v.category,onChange:j,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., Manufacturing Equipment",required:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700 mb-1",children:["Location ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",name:"location",id:"location",value:v.location,onChange:j,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., Production Floor, Building B",required:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"purchase_date",className:"block text-sm font-medium text-gray-700 mb-1",children:["Purchase Date ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"date",name:"purchase_date",id:"purchase_date",value:v.purchase_date,onChange:j,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),h.jsxs("div",{className:"md:col-span-2",children:[h.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("textarea",{name:"description",id:"description",value:v.description,onChange:j,rows:3,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"Detailed description of the asset...",required:!0})]})]})]}),h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[h.jsx(Jd,{className:"mr-2 text-green-500"})," Technical Specifications"]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"type",className:"block text-sm font-medium text-gray-700 mb-1",children:"Asset Type"}),h.jsxs("select",{name:"type",id:"type",value:v.type||"",onChange:j,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",children:[h.jsx("option",{value:"",children:"Select Type"}),h.jsx("option",{value:"mechanical",children:"Mechanical"}),h.jsx("option",{value:"electrical",children:"Electrical"}),h.jsx("option",{value:"vehicle",children:"Vehicle"}),h.jsx("option",{value:"building",children:"Building"}),h.jsx("option",{value:"equipment",children:"Equipment"}),h.jsx("option",{value:"tool",children:"Tool"})]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"make",className:"block text-sm font-medium text-gray-700 mb-1",children:"Make/Manufacturer"}),h.jsx("input",{type:"text",name:"make",id:"make",value:v.make||"",onChange:j,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., Siemens, Caterpillar"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"model",className:"block text-sm font-medium text-gray-700 mb-1",children:"Model"}),h.jsx("input",{type:"text",name:"model",id:"model",value:v.model||"",onChange:j,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., X500, 320D"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),h.jsxs("select",{name:"status",id:"status",value:v.status||"",onChange:j,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",children:[h.jsx("option",{value:"",children:"Select Status"}),h.jsx("option",{value:"running",children:"Running"}),h.jsx("option",{value:"maintenance",children:"Maintenance"}),h.jsx("option",{value:"breakdown",children:"Breakdown"}),h.jsx("option",{value:"idle",children:"Idle"}),h.jsx("option",{value:"retired",children:"Retired"})]})]})]})]}),h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[h.jsx(Jd,{className:"mr-2 text-purple-500"})," Maintenance Information"]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"last_maintenance",className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Maintenance Date"}),h.jsx("input",{type:"date",name:"last_maintenance",id:"last_maintenance",value:v.last_maintenance||"",onChange:j,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"next_maintenance",className:"block text-sm font-medium text-gray-700 mb-1",children:"Next Maintenance Date"}),h.jsx("input",{type:"date",name:"next_maintenance",id:"next_maintenance",value:v.next_maintenance||"",onChange:j,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"work_orders",className:"block text-sm font-medium text-gray-700 mb-1",children:"Work Orders"}),h.jsx("input",{type:"text",name:"work_orders",id:"work_orders",value:v.work_orders||"",onChange:j,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., WO-001, WO-002"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"health",className:"block text-sm font-medium text-gray-700 mb-1",children:"Health Status"}),h.jsxs("select",{name:"health",id:"health",value:v.health||"",onChange:j,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",children:[h.jsx("option",{value:"",children:"Select Health Status"}),h.jsx("option",{value:"excellent",children:"Excellent"}),h.jsx("option",{value:"good",children:"Good"}),h.jsx("option",{value:"fair",children:"Fair"}),h.jsx("option",{value:"poor",children:"Poor"}),h.jsx("option",{value:"critical",children:"Critical"})]})]})]})]}),h.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[h.jsxs(kc.button,{type:"button",onClick:k,whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",children:[h.jsx(vu,{className:"mr-2 h-5 w-5"})," Reset Changes"]}),h.jsx(kc.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:a,children:a?h.jsxs(h.Fragment,{children:[h.jsx(Ad,{className:"animate-spin mr-2 h-5 w-5"}),"Updating..."]}):h.jsxs(h.Fragment,{children:[h.jsx(cu,{className:"mr-2 h-5 w-5"})," Update Asset"]})})]})]})]})]})]}),h.jsx(Ele,{isOpen:d,onClose:S,title:"Success!",children:h.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[h.jsx(td,{className:"text-green-500 text-6xl mb-4"}),h.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:"Asset has been updated successfully!"}),h.jsx(kc.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:S,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Go to Assets"})]})})]})},Ple=()=>{const e=je(),{user:t}=gt(),[n,r]=x.useState(!1),[a,i]=x.useState(window.innerWidth>=768),[s,o]=x.useState(window.innerWidth<768),[l,c]=x.useState(!1),[d,u]=x.useState(!1),p=x.useRef(null),m=x.useRef(null);x.useEffect(()=>{const e=()=>{o(window.innerWidth<768),window.innerWidth<768?i(!1):i(!0)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),x.useEffect(()=>{const e=e=>{p.current&&!p.current.contains(e.target)&&c(!1),m.current&&!m.current.contains(e.target)&&u(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),x.useEffect(()=>{document.documentElement.classList.toggle("dark",n)},[n]);const f=t=>{e(t)};return h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Lu,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Fu,{mainTitle:"Select Genba Menu",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:h.jsx(ad,{}),isMobile:s,toggleSidebar:()=>{i(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[h.jsxs(kc.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 text-center",children:[h.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Select Genba Menu"}),h.jsx("p",{className:"text-gray-600 mt-2",children:"Choose the menu you wish to manage other for genba action."})]}),h.jsxs("div",{className:"flex flex-col md:flex-row justify-center items-center gap-6 max-w-4xl mx-auto py-8",children:[h.jsxs(kc.div,{className:"w-full md:w-1/2 bg-white rounded-2xl shadow-xl p-8 border border-blue-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>f("/genba/soconfiguration"),children:[h.jsx(Ou,{size:64,className:"text-blue-600 mb-4"}),h.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Organization Structure of 5S"}),h.jsx("p",{className:"text-gray-700 mb-4",children:"Manage structure organization templates."}),h.jsxs("span",{className:"text-blue-600 font-semibold flex items-center",children:["Go to SO Configuration ",h.jsx(Qc,{size:18,className:"ml-1"})]})]}),h.jsxs(kc.div,{className:"w-full md:w-1/2 bg-white rounded-2xl shadow-xl p-8 border border-green-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>f("/genba/genbaarea"),children:[h.jsx(Uc,{size:64,className:"text-green-600 mb-4"}),h.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Genba Work Area"}),h.jsx("p",{className:"text-gray-700 mb-4",children:"Handle Area for 5S."}),h.jsxs("span",{className:"text-green-600 font-semibold flex items-center",children:["Go to Genba Work Area",h.jsx(Qc,{size:18,className:"ml-1"})]})]}),h.jsxs(kc.div,{className:"w-full md:w-1/2 bg-white rounded-2xl shadow-xl p-8 border border-green-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>f("/genba/genbaaction"),children:[h.jsx(ad,{size:64,className:"text-green-600 mb-4"}),h.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Work Area Reporting"}),h.jsx("p",{className:"text-gray-700 mb-4",children:"Handle report daily tasks."}),h.jsxs("span",{className:"text-green-600 font-semibold flex items-center",children:["Go to Work Area Reporting",h.jsx(Qc,{size:18,className:"ml-1"})]})]})]})]})]})]})},Dle=({isOpen:e,onClose:t,title:n,children:r})=>e?h.jsx(kc.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:h.jsxs(kc.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[h.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[h.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n}),h.jsx(kc.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:t,className:"text-gray-500 hover:text-gray-700 text-2xl",children:h.jsx(Pu,{size:24})})]}),h.jsx("div",{children:r})]})}):null,Lle=()=>{const e=je(),{getGenbaSOs:t,createGenbaSO:n,deleteGenbaSO:r,setGenbaSOActive:a}=gt(),[i,s]=x.useState(window.innerWidth<768),[o,l]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return JSON.parse(e||"false")}),[c,d]=x.useState(!1),[u,p]=x.useState(""),[m,f]=x.useState([]),[g,b]=x.useState(!1),[y,v]=x.useState(""),[w,j]=x.useState(!1),[N,k]=x.useState(null),S=(e,t,n)=>{k({type:e,templateId:t,templateName:n}),j(!0)};x.useEffect(()=>{C()},[]);const C=async()=>{try{b(!0);const e=await t();f(e||[])}catch(e){v("Failed to load structure organization templates")}finally{b(!1)}};return h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Lu,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Fu,{mainTitle:"Structure Organization",mainTitleHighlight:"Configuration",description:"Manage structure organization templates and configurations.",icon:h.jsx(Ou,{}),isMobile:i,toggleSidebar:()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!o)),l(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[h.jsxs("div",{className:"flex justify-between items-center mb-6",children:[h.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[h.jsx(Bd,{className:"mr-2 text-gray-700",size:24})," Structure Organization Templates"]}),h.jsxs(kc.button,{onClick:()=>d(!0),whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-5 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-semibold flex items-center text-sm shadow-md disabled:opacity-50",disabled:g,children:[h.jsx(xd,{size:18,className:"mr-2"})," Create New Template"]})]}),y&&h.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:y}),g?h.jsx("div",{className:"flex justify-center items-center py-8",children:h.jsx(Wd,{className:"animate-spin text-blue-600",size:32})}):h.jsx("div",{className:"space-y-4",children:m.length>0?m.map(t=>h.jsx(kc.div,{whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(0,0,0,0.08)"},whileTap:{scale:.98},className:"p-6 bg-white rounded-lg border border-gray-200 cursor-pointer transition-all duration-200",children:h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsxs("div",{className:"flex-1",children:[h.jsxs("h3",{className:"text-lg font-bold text-gray-800 flex items-center",children:[h.jsx(fd,{size:20,className:"mr-2 text-blue-500"}),t.name]}),h.jsxs("div",{className:"mt-2 flex items-center space-x-2",children:[h.jsx("span",{className:"text-xs font-medium px-2.5 py-1 rounded-full "+(t.is_active?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:t.is_active?"Active":"Inactive"}),h.jsxs("span",{className:"text-xs text-gray-500",children:["Effective: ",new Date(t.effective_date).toLocaleDateString()]}),h.jsxs("span",{className:"text-xs text-gray-500",children:["Roles: ",t.bridges.length]})]})]}),h.jsxs("div",{className:"flex space-x-2",children:[h.jsx(kc.button,{onClick:()=>(t=>{e(`/genba/soconfiguration/configure/${t.id}`)})(t),whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 text-sm font-semibold rounded-lg text-blue-600 hover:bg-blue-100 transition-colors",disabled:g,children:"Configure"}),!t.is_active&&h.jsx(kc.button,{onClick:e=>{e.stopPropagation(),S("activate",t.id,t.name)},whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 text-sm font-semibold rounded-lg bg-green-500 text-white hover:bg-green-600 transition-colors",disabled:g,children:"Activate"}),h.jsx(kc.button,{onClick:e=>{e.stopPropagation(),S("delete",t.id,t.name)},whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 text-sm font-semibold rounded-lg bg-red-500 text-white hover:bg-red-600 transition-colors",disabled:g,children:"Delete"})]})]})},t.id)):h.jsx("div",{className:"p-6 text-center text-gray-500 border border-dashed border-gray-300 rounded-lg",children:"No templates found. Create the first template to get started."})}),h.jsx(Dle,{isOpen:w,onClose:()=>{j(!1),k(null)},title:"Confirm Action",children:h.jsxs("div",{className:"space-y-5 text-center py-3",children:[h.jsx(ju,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),h.jsxs("p",{className:"text-base text-gray-700 font-medium",children:["Are you sure you want to ",null==N?void 0:N.type,' template "',null==N?void 0:N.templateName,'"?',"delete"===(null==N?void 0:N.type)&&" This action cannot be undone."]}),h.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[h.jsx(kc.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>{j(!1),k(null)},className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),h.jsx(kc.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:async()=>{if(N)try{b(!0),"activate"===N.type?(await a(N.templateId),f(e=>e.map(e=>({...e,is_active:e.id===N.templateId})))):"delete"===N.type&&(await r(N.templateId),await C()),j(!1),k(null),v("")}catch(e){v(`Failed to ${N.type} template`)}finally{b(!1)}},className:"px-5 py-2.5 text-white rounded-md hover:opacity-90 focus:outline-none focus:ring-2 focus:ring-offset-2 transition-colors duration-200 font-semibold text-sm "+("delete"===(null==N?void 0:N.type)?"bg-red-600 hover:bg-red-700 focus:ring-red-500":"bg-green-600 hover:bg-green-700 focus:ring-green-500"),children:"delete"===(null==N?void 0:N.type)?"Delete":"Activate"})]})]})}),h.jsx(Dle,{isOpen:c,onClose:()=>d(!1),title:"Create New Structure Organization Template",children:h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"templateName",className:"block text-sm font-medium text-gray-700",children:"Template Name"}),h.jsx("input",{type:"text",id:"templateName",value:u,onChange:e=>p(e.target.value),placeholder:"e.g., Production Structure 2024",className:"mt-1 block w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150"})]}),y&&h.jsx("div",{className:"p-2 bg-red-100 border border-red-400 text-red-700 rounded text-sm",children:y}),h.jsxs("div",{className:"flex justify-end pt-2 space-x-3",children:[h.jsx(kc.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>{d(!1),p(""),v("")},className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 font-semibold text-sm",children:"Cancel"}),h.jsxs(kc.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:async()=>{if(u.trim())try{b(!0);const e=await n({name:u,effective_date:(new Date).toISOString().split("T")[0],is_active:!1,bridges:[]});f(t=>[...t,e]),d(!1),p(""),v("")}catch(e){v("Failed to create template")}finally{b(!1)}else v("Template name must be filled out.")},className:"px-5 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-semibold text-sm disabled:opacity-50 disabled:cursor-not-allowed flex items-center",disabled:g||!u.trim(),children:[g?h.jsx(Wd,{className:"animate-spin mr-2",size:16}):null,"Create Template"]})]})]})})]})]})]})},Ile=({isOpen:e,onClose:t,title:n,children:r,maxWidth:a="max-w-xl"})=>(x.useEffect(()=>{const e=e=>{"Escape"===e.key&&t()};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[t]),h.jsx(Mi,{children:e&&h.jsx(kc.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-40 flex justify-center items-center z-50 p-4",onClick:t,children:h.jsxs(kc.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${a} w-full`,onClick:e=>e.stopPropagation(),children:[h.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-gradient-to-r from-blue-50 to-indigo-50",children:[h.jsx("h2",{className:"text-xl font-bold text-gray-800",children:n}),h.jsx("button",{onClick:t,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 transition-colors duration-150",children:h.jsx(Pu,{className:"w-5 h-5"})})]}),h.jsx("div",{className:"p-6 overflow-y-auto flex-grow",children:r})]})})})),Rle=({message:e,type:t,isVisible:n,onClose:r})=>(x.useEffect(()=>{if(n){const e=setTimeout(r,3e3);return()=>clearTimeout(e)}},[n,r]),h.jsx(Mi,{children:n&&h.jsx(kc.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},exit:{opacity:0,y:-50},className:"fixed top-4 right-4 z-50 p-4 rounded-lg shadow-lg "+("success"===t?"bg-green-500 text-white":"bg-red-500 text-white"),children:h.jsxs("div",{className:"flex items-center space-x-2",children:["success"===t?h.jsx(td,{className:"w-5 h-5"}):h.jsx(ed,{className:"w-5 h-5"}),h.jsx("span",{className:"font-medium",children:e})]})})})),Fle=()=>{const[e,t]=x.useState({employees:[],templates:[]}),[n,r]=x.useState(null),[a,i]=x.useState(!1),[s,o]=x.useState(""),[l,c]=x.useState(""),[d,u]=x.useState(!1),[p,m]=x.useState(!1),[f,g]=x.useState(null),[b,y]=x.useState(!1),[v,w]=x.useState(!1),[j,N]=x.useState({message:"",type:"success",isVisible:!1}),[k,S]=x.useState(!0),[C,_]=x.useState(""),[A,T]=x.useState({name:"",email:"",position:"",department:"",phone:""}),[O,E]=x.useState(1),[M,P]=x.useState({x:0,y:0}),[D,L]=x.useState(!1),[I,R]=x.useState({x:0,y:0}),F=x.useRef(null),H=x.useRef(null);x.useEffect(()=>{(async()=>{S(!0),await new Promise(e=>setTimeout(e,500));const e=localStorage.getItem("org.structure.v1");if(e)try{const n=JSON.parse(e);t(n);const a=n.templates.find(e=>e.isActive);r(a||n.templates[0])}catch(Ew){const n={employees:[{id:1,name:"Bogus Fixri",email:"bogus@company.com",position:"CEO / Founder",department:"Executive",phone:"+62 812-3456-7890"},{id:2,name:"Multi Hideyat",email:"multi@company.com",position:"Project Manager",department:"Project Management",phone:"+62 813-4567-8901"},{id:3,name:"Lookta Roymadley",email:"lookta@company.com",position:"Project Manager",department:"Project Management",phone:"+62 814-5678-9012"},{id:4,name:"Rijal Jantika",email:"rijal@company.com",position:"Head of Production",department:"Production",phone:"+62 815-6789-0123"},{id:5,name:"Heru",email:"heru@company.com",position:"Design Manager",department:"Design",phone:"+62 816-7890-1234"},{id:6,name:"Fauzan Ardianayeh",email:"fauzan@company.com",position:"QC & Research",department:"Quality Control",phone:"+62 817-8901-2345"},{id:7,name:"Panji Dwi",email:"panji@company.com",position:"UI Designer",department:"Design",phone:"+62 818-9012-3456"},{id:8,name:"Rahan Fixri",email:"rahan@company.com",position:"UI Designer",department:"Design",phone:"+62 819-0123-4567"},{id:9,name:"Iran",email:"iran@company.com",position:"UI Designer",department:"Design",phone:"+62 820-1234-5678"},{id:10,name:"Venison History",email:"venison@company.com",position:"General Setting",department:"Administration",phone:"+62 821-2345-6789"}],templates:[{id:1,name:"Current Structure",isActive:!0,nodes:[{id:1,employeeId:1,parentId:null,x:500,y:50,width:280,height:120},{id:2,employeeId:2,parentId:1,x:200,y:220,width:260,height:100},{id:3,employeeId:3,parentId:1,x:500,y:220,width:260,height:100},{id:4,employeeId:4,parentId:1,x:800,y:220,width:260,height:100},{id:5,employeeId:5,parentId:4,x:650,y:370,width:240,height:100},{id:6,employeeId:6,parentId:4,x:950,y:370,width:240,height:100},{id:7,employeeId:7,parentId:5,x:550,y:520,width:220,height:90},{id:8,employeeId:8,parentId:5,x:800,y:520,width:220,height:90},{id:9,employeeId:9,parentId:5,x:675,y:520,width:220,height:90},{id:10,employeeId:10,parentId:3,x:500,y:370,width:240,height:100}],createdAt:"2024-01-15"},{id:2,name:"Proposed Structure",isActive:!1,nodes:[{id:1,employeeId:1,parentId:null,x:500,y:50,width:280,height:120},{id:2,employeeId:2,parentId:1,x:300,y:220,width:260,height:100},{id:3,employeeId:3,parentId:1,x:600,y:220,width:260,height:100},{id:4,employeeId:4,parentId:1,x:900,y:220,width:260,height:100},{id:5,employeeId:5,parentId:4,x:800,y:370,width:240,height:100},{id:6,employeeId:6,parentId:4,x:1050,y:370,width:240,height:100}],createdAt:"2024-01-20"}]};t(n),r(n.templates[0]),localStorage.setItem("org.structure.v1",JSON.stringify(n))}else{const e={employees:[{id:1,name:"Bogus Fixri",email:"bogus@company.com",position:"CEO / Founder",department:"Executive",phone:"+62 812-3456-7890"},{id:2,name:"Multi Hideyat",email:"multi@company.com",position:"Project Manager",department:"Project Management",phone:"+62 813-4567-8901"},{id:3,name:"Lookta Roymadley",email:"lookta@company.com",position:"Project Manager",department:"Project Management",phone:"+62 814-5678-9012"},{id:4,name:"Rijal Jantika",email:"rijal@company.com",position:"Head of Production",department:"Production",phone:"+62 815-6789-0123"},{id:5,name:"Heru",email:"heru@company.com",position:"Design Manager",department:"Design",phone:"+62 816-7890-1234"},{id:6,name:"Fauzan Ardianayeh",email:"fauzan@company.com",position:"QC & Research",department:"Quality Control",phone:"+62 817-8901-2345"},{id:7,name:"Panji Dwi",email:"panji@company.com",position:"UI Designer",department:"Design",phone:"+62 818-9012-3456"},{id:8,name:"Rahan Fixri",email:"rahan@company.com",position:"UI Designer",department:"Design",phone:"+62 819-0123-4567"},{id:9,name:"Iran",email:"iran@company.com",position:"UI Designer",department:"Design",phone:"+62 820-1234-5678"},{id:10,name:"Venison History",email:"venison@company.com",position:"General Setting",department:"Administration",phone:"+62 821-2345-6789"}],templates:[{id:1,name:"Current Structure",isActive:!0,nodes:[{id:1,employeeId:1,parentId:null,x:500,y:50,width:280,height:120},{id:2,employeeId:2,parentId:1,x:200,y:220,width:260,height:100},{id:3,employeeId:3,parentId:1,x:500,y:220,width:260,height:100},{id:4,employeeId:4,parentId:1,x:800,y:220,width:260,height:100},{id:5,employeeId:5,parentId:4,x:650,y:370,width:240,height:100},{id:6,employeeId:6,parentId:4,x:950,y:370,width:240,height:100},{id:7,employeeId:7,parentId:5,x:550,y:520,width:220,height:90},{id:8,employeeId:8,parentId:5,x:800,y:520,width:220,height:90},{id:9,employeeId:9,parentId:5,x:675,y:520,width:220,height:90},{id:10,employeeId:10,parentId:3,x:500,y:370,width:240,height:100}],createdAt:"2024-01-15"},{id:2,name:"Proposed Structure",isActive:!1,nodes:[{id:1,employeeId:1,parentId:null,x:500,y:50,width:280,height:120},{id:2,employeeId:2,parentId:1,x:300,y:220,width:260,height:100},{id:3,employeeId:3,parentId:1,x:600,y:220,width:260,height:100},{id:4,employeeId:4,parentId:1,x:900,y:220,width:260,height:100},{id:5,employeeId:5,parentId:4,x:800,y:370,width:240,height:100},{id:6,employeeId:6,parentId:4,x:1050,y:370,width:240,height:100}],createdAt:"2024-01-20"}]};t(e),r(e.templates[0]),localStorage.setItem("org.structure.v1",JSON.stringify(e))}S(!1)})()},[]);const z=x.useCallback(async e=>{S(!0),await new Promise(e=>setTimeout(e,200)),localStorage.setItem("org.structure.v1",JSON.stringify(e)),t(e),S(!1),B("Changes saved successfully","success")},[]),B=(e,t)=>{N({message:e,type:t,isVisible:!0})},W=async()=>{if(!C.trim())return void B("Please enter a template name","error");const t={id:Date.now(),name:C,isActive:!1,nodes:n?JSON.parse(JSON.stringify(n.nodes)):[],createdAt:(new Date).toISOString().split("T")[0]},a=e.templates.map(e=>({...e,isActive:!1}));a.push(t);const i={...e,templates:a};await z(i),r(t),u(!1),_("")},$=t=>t?e.employees.find(e=>e.id===t):null,U=()=>{L(!1)},V=e.employees.filter(e=>{const t=e.name.toLowerCase().includes(s.toLowerCase())||e.position.toLowerCase().includes(s.toLowerCase()),n=!l||e.department===l;return t&&n}),q=Array.from(new Set(e.employees.map(e=>e.department))),G=({node:t})=>{const r=$(t.employeeId),i=(s=t.id,(null==n?void 0:n.nodes.filter(e=>e.parentId===s))||[]);var s;return h.jsxs(h.Fragment,{children:[h.jsx(kc.div,{className:`absolute bg-white rounded-2xl shadow-lg border-2 cursor-pointer transition-all duration-200 ${a?"cursor-move hover:shadow-xl":"hover:shadow-xl"} ${r?"border-blue-100":"border-dashed border-amber-400 bg-amber-50"}`,style:{left:t.x,top:t.y,width:t.width,height:t.height},whileHover:{scale:1.02},drag:a,dragMomentum:!1,onDragEnd:(r,i)=>{if(!a||!n)return;const s=t.x+i.offset.x,o=t.y+i.offset.y,l=n.nodes.map(e=>e.id===t.id?{...e,x:s,y:o}:e),c=e.templates.map(e=>e.id===n.id?{...e,nodes:l}:e),d={...e,templates:c};z(d)},onClick:e=>{a||(e.stopPropagation(),g(t),r?y(!0):(T({name:"",email:"",position:"",department:"",phone:""}),w(!0)))},children:h.jsxs("div",{className:"p-4 h-full flex flex-col justify-between",children:[h.jsxs("div",{className:"flex items-start space-x-3",children:[h.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center font-bold text-lg shrink-0 "+(r?"bg-gradient-to-br from-blue-500 to-blue-600 text-white":"bg-amber-100 text-amber-600"),children:r?r.name.split(" ").map(e=>e[0]).join(""):"?"}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("h3",{className:"font-bold text-gray-900 text-base leading-tight truncate",children:r?r.name:"New Position"}),h.jsx("p",{className:"text-sm text-blue-600 font-medium leading-tight truncate",children:r?r.position:"Click to assign"}),h.jsx("p",{className:"text-xs text-gray-500 leading-tight truncate",children:r?r.department:"Unassigned"})]})]}),h.jsxs("div",{className:"flex justify-between items-center mt-3",children:[h.jsx("div",{className:"flex space-x-2",children:r&&h.jsxs(h.Fragment,{children:[h.jsx("button",{className:"p-1.5 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",onClick:e=>{e.stopPropagation(),window.location.href=`mailto:${r.email}`},children:h.jsx(Vd,{className:"w-4 h-4"})}),r.phone&&h.jsx("button",{className:"p-1.5 text-gray-400 hover:text-green-600 hover:bg-green-50 rounded-lg transition-colors",onClick:e=>{e.stopPropagation(),window.location.href=`tel:${r.phone}`},children:h.jsx(eu,{className:"w-4 h-4"})})]})}),h.jsx("div",{className:"flex space-x-1",children:a&&h.jsxs(h.Fragment,{children:[h.jsx(kc.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:r=>{r.stopPropagation(),(async t=>{if(!n)return;const r=n.nodes.find(e=>e.id===t);if(!r)return;const a={id:Date.now(),employeeId:null,parentId:t,x:r.x,y:r.y+180,width:240,height:100},i=[...n.nodes,a],s=e.templates.map(e=>e.id===n.id?{...e,nodes:i}:e),o={...e,templates:s};await z(o),g(a),T({name:"",email:"",position:"",department:"",phone:""}),w(!0)})(t.id)},className:"p-1.5 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Add Subordinate",children:h.jsx(nu,{className:"w-4 h-4"})}),h.jsx(kc.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:r=>{r.stopPropagation(),(async t=>{if(!n)return;if(!n.nodes.find(e=>e.id===t))return;const r=e=>{const t=n.nodes.filter(t=>t.parentId===e).map(e=>e.id),a=t.flatMap(e=>r(e));return[...t,...a]},a=[t,...r(t)],i=n.nodes.filter(e=>!a.includes(e.id)),s=e.templates.map(e=>e.id===n.id?{...e,nodes:i}:e),o={...e,templates:s};await z(o)})(t.id)},className:"p-1.5 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete Position",children:h.jsx(vu,{className:"w-4 h-4"})})]})})]})]})}),i.map(e=>h.jsx(G,{node:e},e.id))]})};return k&&!n?h.jsx("div",{className:"flex h-screen bg-gradient-to-br from-blue-50 to-indigo-50",children:h.jsx("div",{className:"flex-1 flex items-center justify-center",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-blue-500 mx-auto mb-4"}),h.jsx("p",{className:"text-gray-600 text-lg font-medium",children:"Loading organization structure..."})]})})}):h.jsxs("div",{className:"flex h-screen bg-gradient-to-br from-blue-50 to-indigo-50 font-sans antialiased",children:[h.jsxs("div",{className:"w-80 bg-white/80 backdrop-blur-sm border-r border-gray-200/50 flex flex-col",children:[h.jsxs("div",{className:"p-6 border-b border-gray-200/50",children:[h.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-4",children:"Organization"}),h.jsxs("div",{className:"relative mb-4",children:[h.jsx(uu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),h.jsx("input",{type:"text",placeholder:"Search employee...",className:"w-full pl-10 pr-4 py-3 border border-gray-300/50 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-transparent bg-white/50 text-sm backdrop-blur-sm",value:s,onChange:e=>o(e.target.value)})]}),h.jsxs("div",{className:"mb-4",children:[h.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Filter Role"}),h.jsxs("select",{className:"w-full border border-gray-300/50 rounded-xl px-3 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-transparent bg-white/50 text-sm backdrop-blur-sm",value:l,onChange:e=>c(e.target.value),children:[h.jsx("option",{value:"",children:"All Roles"}),q.map(e=>h.jsx("option",{value:e,children:e},e))]})]})]}),h.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:h.jsx("div",{className:"space-y-3",children:V.map(e=>h.jsx(kc.div,{className:"p-4 rounded-xl hover:bg-blue-50/50 cursor-pointer transition-all duration-200 border border-transparent hover:border-blue-200/50 bg-white/50 backdrop-blur-sm",whileHover:{x:4,scale:1.02},onClick:()=>{const t=null==n?void 0:n.nodes.find(t=>t.employeeId===e.id);if(t&&F.current){const e=F.current,n=t.x+t.width/2-e.clientWidth/2,r=t.y+t.height/2-e.clientHeight/2;P({x:-n,y:-r}),E(1)}},children:h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg flex items-center justify-center text-white text-sm font-bold shrink-0",children:e.name.split(" ").map(e=>e[0]).join("")}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("h3",{className:"font-semibold text-gray-900 text-sm truncate",children:e.name}),h.jsx("p",{className:"text-xs text-blue-600 font-medium truncate",children:e.position})]})]})},e.id))})})]}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsxs("div",{className:"bg-white/80 backdrop-blur-sm border-b border-gray-200/50 p-6",children:[h.jsxs("div",{className:"flex items-center justify-between mb-6",children:[h.jsxs("div",{children:[h.jsxs("h1",{className:"text-3xl font-bold text-gray-900",children:["Organization ",h.jsx("span",{className:"text-blue-600",children:"Structure"})]}),h.jsx("p",{className:"text-gray-600 mt-2",children:"Visualize and manage your organizational hierarchy"})]}),h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsxs("div",{className:"relative",children:[h.jsxs(kc.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>m(!p),className:"flex items-center space-x-2 bg-white border border-gray-300/50 text-gray-700 px-4 py-2.5 rounded-xl hover:bg-gray-50/50 transition-all duration-200 font-semibold text-sm backdrop-blur-sm",children:[h.jsx(_d,{className:"w-4 h-4"}),h.jsx("span",{children:"Templates"}),h.jsx(Jc,{className:"w-4 h-4"})]}),h.jsx(Mi,{children:p&&h.jsxs(kc.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"absolute top-full right-0 mt-2 w-80 bg-white/95 backdrop-blur-md border border-gray-200/50 rounded-xl shadow-xl z-10",children:[h.jsx("div",{className:"p-4 border-b border-gray-200/50 bg-gradient-to-r from-blue-50/50 to-indigo-50/50",children:h.jsx("h3",{className:"font-bold text-gray-900",children:"Organization Templates"})}),h.jsx("div",{className:"max-h-96 overflow-y-auto",children:e.templates.map(t=>h.jsxs("div",{className:"p-4 border-b border-gray-100/50 last:border-b-0 hover:bg-blue-50/30 transition-colors duration-150",children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsx("span",{className:"font-semibold text-gray-900",children:t.name}),t.isActive&&h.jsxs("div",{className:"flex items-center space-x-1 text-green-600",children:[h.jsx(td,{className:"w-4 h-4"}),h.jsx("span",{className:"text-xs font-medium",children:"Active"})]})]}),h.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-600",children:[h.jsxs("span",{children:[t.nodes.length," positions • ",t.createdAt]}),h.jsxs("div",{className:"flex space-x-2",children:[h.jsx("button",{onClick:()=>(async t=>{const n={id:Date.now(),name:`${t.name} (Copy)`,isActive:!1,nodes:JSON.parse(JSON.stringify(t.nodes)),createdAt:(new Date).toISOString().split("T")[0]},r=[...e.templates,n],a={...e,templates:r};await z(a),B("Template duplicated successfully","success")})(t),className:"text-purple-600 hover:text-purple-800 font-medium",title:"Duplicate Template",children:h.jsx(cd,{className:"w-3.5 h-3.5"})}),!t.isActive&&h.jsxs(h.Fragment,{children:[h.jsx("button",{onClick:()=>(async t=>{const n=e.templates.map(e=>({...e,isActive:e.id===t.id})),a={...e,templates:n};await z(a),r(t),m(!1)})(t),className:"text-blue-600 hover:text-blue-800 font-medium",children:"Activate"}),h.jsx("button",{onClick:()=>(async t=>{if(e.templates.length<=1)return void B("Cannot delete the only template","error");const a=e.templates.filter(e=>e.id!==t),i={...e,templates:a};if(await z(i),(null==n?void 0:n.id)===t){const e=a.find(e=>e.isActive)||a[0];r(e)}})(t.id),className:"text-red-600 hover:text-red-800 font-medium",children:"Delete"})]})]})]})]},t.id))})]})})]}),h.jsx(kc.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>i(!a),className:"px-5 py-2.5 rounded-xl font-semibold text-sm transition-all duration-200 backdrop-blur-sm "+(a?"bg-blue-600 text-white hover:bg-blue-700 shadow-lg":"bg-white border border-gray-300/50 text-gray-700 hover:bg-gray-50/50"),children:a?h.jsxs("span",{className:"flex items-center space-x-2",children:[h.jsx(du,{className:"w-4 h-4"}),h.jsx("span",{children:"Save"})]}):h.jsxs("span",{className:"flex items-center space-x-2",children:[h.jsx(gu,{className:"w-4 h-4"}),h.jsx("span",{children:"Edit"})]})}),h.jsxs(kc.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>u(!0),className:"flex items-center space-x-2 bg-gradient-to-r from-blue-600 to-blue-700 text-white px-5 py-2.5 rounded-xl hover:from-blue-700 hover:to-blue-800 transition-all duration-200 font-semibold text-sm shadow-lg",children:[h.jsx(nu,{className:"w-4 h-4"}),h.jsx("span",{children:"New Template"})]})]})]}),h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[h.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-sm p-5 border border-blue-100/50",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-semibold text-gray-600",children:"Total Employees"}),h.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.employees.length})]}),h.jsx(Ou,{className:"text-blue-500 w-8 h-8"})]})}),h.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-sm p-5 border border-blue-100/50",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-semibold text-gray-600",children:"Active Template"}),h.jsx("p",{className:"text-lg font-bold text-gray-900 truncate",children:null==n?void 0:n.name})]}),h.jsx(Uc,{className:"text-green-500 w-8 h-8"})]})}),h.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-sm p-5 border border-blue-100/50",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-semibold text-gray-600",children:"Departments"}),h.jsx("p",{className:"text-2xl font-bold text-gray-900",children:q.length})]}),h.jsx(qd,{className:"text-purple-500 w-8 h-8"})]})}),h.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-sm p-5 border border-blue-100/50",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-semibold text-gray-600",children:"Edit Mode"}),h.jsx("p",{className:"text-lg font-bold "+(a?"text-green-600":"text-gray-900"),children:a?"Active":"Inactive"})]}),h.jsx(gu,{className:a?"text-orange-500 w-8 h-8":"text-gray-400 w-8 h-8"})]})})]})]}),h.jsxs("div",{ref:F,className:"flex-1 overflow-hidden bg-gradient-to-br from-blue-50/50 to-indigo-50/50 relative",onWheel:e=>{e.preventDefault();const t=Math.min(Math.max(.5,O-.001*e.deltaY),2);E(t)},onMouseDown:e=>{0===e.button&&(e.altKey||e.ctrlKey)?(L(!0),R({x:e.clientX-M.x,y:e.clientY-M.y})):1===e.button&&(e.preventDefault(),L(!0),R({x:e.clientX-M.x,y:e.clientY-M.y}))},onMouseMove:e=>{D&&P({x:e.clientX-I.x,y:e.clientY-I.y})},onMouseUp:U,onMouseLeave:U,style:{cursor:D?"grabbing":a?"grab":"default"},children:[h.jsxs("div",{className:"absolute inset-0",style:{transform:`scale(${O}) translate(${M.x}px, ${M.y}px)`,transformOrigin:"0 0",transition:D?"none":"transform 0.2s ease"},children:[h.jsxs("svg",{ref:H,className:"absolute top-0 left-0 w-full h-full pointer-events-none",style:{overflow:"visible"},children:[h.jsx("defs",{children:h.jsx("marker",{id:"arrowhead",markerWidth:"10",markerHeight:"7",refX:"9",refY:"3.5",orient:"auto",children:h.jsx("polygon",{points:"0 0, 10 3.5, 0 7",fill:"#cbd5e1"})})}),n?n.nodes.map(e=>{if(!e.parentId)return null;const t=n.nodes.find(t=>t.id===e.parentId);if(!t)return null;const r=t.x+t.width/2,a=t.y+t.height,i=e.x+e.width/2,s=e.y,o=(a+s)/2;return h.jsx("path",{d:`M ${r} ${a} L ${r} ${o} L ${i} ${o} L ${i} ${s}`,stroke:"#cbd5e1",strokeWidth:"2",fill:"none"},`connection-${e.id}`)}):null]}),h.jsx("div",{className:"relative w-full h-full",children:null==n?void 0:n.nodes.filter(e=>null===e.parentId).map(e=>h.jsx(G,{node:e},e.id))})]}),h.jsxs("div",{className:"absolute bottom-6 right-6 flex flex-col space-y-3",children:[h.jsx(kc.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>E(e=>Math.min(e+.1,2)),className:"bg-white/90 backdrop-blur-sm border border-gray-300/50 w-10 h-10 rounded-xl flex items-center justify-center text-gray-700 hover:bg-gray-50/90 transition-all duration-200 shadow-lg",title:"Zoom In",children:h.jsx(nu,{className:"w-5 h-5"})}),h.jsx(kc.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>E(e=>Math.max(e-.1,.5)),className:"bg-white/90 backdrop-blur-sm border border-gray-300/50 w-10 h-10 rounded-xl flex items-center justify-center text-gray-700 hover:bg-gray-50/90 transition-all duration-200 shadow-lg",title:"Zoom Out",children:h.jsx(Pu,{className:"w-5 h-5"})}),h.jsx(kc.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{E(1),P({x:0,y:0})},className:"bg-white/90 backdrop-blur-sm border border-gray-300/50 w-10 h-10 rounded-xl flex items-center justify-center text-gray-700 hover:bg-gray-50/90 transition-all duration-200 shadow-lg",title:"Reset View",children:h.jsx(md,{className:"w-5 h-5"})})]}),a&&h.jsx("div",{className:"absolute bottom-6 left-6",children:h.jsxs(kc.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>(async(t=null)=>{if(!n)return;const r={id:Date.now(),employeeId:null,parentId:t,x:500,y:300,width:260,height:100},a=[...n.nodes,r],i=e.templates.map(e=>e.id===n.id?{...e,nodes:a}:e),s={...e,templates:i};await z(s),g(r),T({name:"",email:"",position:"",department:"",phone:""}),w(!0)})(),className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white p-4 rounded-2xl shadow-xl hover:from-blue-700 hover:to-blue-800 transition-all duration-200 flex items-center space-x-2 font-semibold",title:"Add New Position",children:[h.jsx(nu,{className:"w-6 h-6"}),h.jsx("span",{children:"Add Position"})]})})]})]}),h.jsx(Ile,{isOpen:d,onClose:()=>u(!1),title:"Create New Template",children:h.jsxs("div",{className:"space-y-5",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Template Name"}),h.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:C,onChange:e=>_(e.target.value),placeholder:"Enter template name...",onKeyPress:e=>{"Enter"===e.key&&W()}})]}),h.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[h.jsx("button",{onClick:()=>{u(!1),_("")},className:"px-5 py-2.5 border border-gray-300 rounded-xl text-gray-700 hover:bg-gray-50 transition-all duration-200 font-semibold",children:"Cancel"}),h.jsx("button",{onClick:W,className:"px-5 py-2.5 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-all duration-200 font-semibold shadow-lg",children:"Create Template"})]})]})}),h.jsx(Ile,{isOpen:b,onClose:()=>{y(!1),g(null)},title:"Employee Details",maxWidth:"max-w-md",children:f&&$(f.employeeId)&&h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl flex items-center justify-center text-white text-2xl font-bold shrink-0",children:$(f.employeeId).name.split(" ").map(e=>e[0]).join("")}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:$(f.employeeId).name}),h.jsx("p",{className:"text-blue-600 font-semibold",children:$(f.employeeId).position}),h.jsx("p",{className:"text-gray-600",children:$(f.employeeId).department})]})]}),h.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-sm font-semibold text-gray-500",children:"Email Address"}),h.jsx("p",{className:"text-gray-900 font-medium",children:$(f.employeeId).email})]}),$(f.employeeId).phone&&h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-sm font-semibold text-gray-500",children:"Phone Number"}),h.jsx("p",{className:"text-gray-900 font-medium",children:$(f.employeeId).phone})]})]}),h.jsxs("div",{className:"flex space-x-3 pt-4",children:[h.jsxs("button",{onClick:()=>{y(!1),w(!0),T($(f.employeeId))},className:"flex-1 flex items-center justify-center space-x-2 bg-blue-600 text-white py-3 rounded-xl hover:bg-blue-700 transition-all duration-200 font-semibold shadow-lg",children:[h.jsx(gu,{className:"w-5 h-5"}),h.jsx("span",{children:"Edit Details"})]}),h.jsxs("button",{onClick:()=>y(!1),className:"flex-1 flex items-center justify-center space-x-2 border border-gray-300 text-gray-700 py-3 rounded-xl hover:bg-gray-50 transition-all duration-200 font-semibold",children:[h.jsx(Tu,{className:"w-5 h-5"}),h.jsx("span",{children:"Close"})]})]})]})}),h.jsx(Ile,{isOpen:v,onClose:()=>{w(!1),g(null),T({name:"",email:"",position:"",department:"",phone:""})},title:(null==f?void 0:f.employeeId)?"Edit Employee Details":"Assign Employee to Position",maxWidth:"max-w-md",children:h.jsxs("div",{className:"space-y-5",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Full Name *"}),h.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:A.name||"",onChange:e=>T(t=>({...t,name:e.target.value})),placeholder:"Enter full name..."})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Email Address *"}),h.jsx("input",{type:"email",className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:A.email||"",onChange:e=>T(t=>({...t,email:e.target.value})),placeholder:"Enter email address..."})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Position *"}),h.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:A.position||"",onChange:e=>T(t=>({...t,position:e.target.value})),placeholder:"Enter job position..."})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Department *"}),h.jsxs("select",{className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:A.department||"",onChange:e=>T(t=>({...t,department:e.target.value})),children:[h.jsx("option",{value:"",children:"Select Department"}),q.map(e=>h.jsx("option",{value:e,children:e},e))]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Phone Number"}),h.jsx("input",{type:"tel",className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:A.phone||"",onChange:e=>T(t=>({...t,phone:e.target.value})),placeholder:"Enter phone number..."})]}),h.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[h.jsx("button",{onClick:()=>{w(!1),g(null),T({name:"",email:"",position:"",department:"",phone:""})},className:"px-5 py-2.5 border border-gray-300 rounded-xl text-gray-700 hover:bg-gray-50 transition-all duration-200 font-semibold",children:"Cancel"}),h.jsx("button",{onClick:async()=>{if(f&&n)if(A.name&&A.email&&A.position&&A.department){let t=[...e.employees],r=f.employeeId;r?t=t.map(e=>e.id===r?{...e,...A}:e):(r=Date.now(),t.push({id:r,name:A.name,email:A.email,position:A.position,department:A.department,phone:A.phone||""}));const a=n.nodes.map(e=>e.id===f.id?{...e,employeeId:r}:e),i=e.templates.map(e=>e.id===n.id?{...e,nodes:a}:e),s={...e,employees:t,templates:i};await z(s),w(!1),g(null),T({name:"",email:"",position:"",department:"",phone:""})}else B("Please fill all required fields","error")},className:"px-5 py-2.5 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-all duration-200 font-semibold shadow-lg",children:(null==f?void 0:f.employeeId)?"Update Employee":"Assign Employee"})]})]})}),h.jsx(Rle,{message:j.message,type:j.type,isVisible:j.isVisible,onClose:()=>N(e=>({...e,isVisible:!1}))})]})},Hle=()=>{var e;je();const{user:t}=gt(),n=t,[r,a]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return!!e&&JSON.parse(e)}),[i,s]=x.useState(window.innerWidth<768),[o,l]=x.useState(new Date),[c,d]=x.useState(!1),[u,p]=x.useState([]),[m,f]=x.useState([]),[g,b]=x.useState(""),[y,v]=x.useState(""),[w,j]=x.useState([]),[N,k]=x.useState(!1),[S,C]=x.useState("management"),[_,A]=x.useState(""),[T,O]=x.useState((new Date).getFullYear()),[E,M]=x.useState((new Date).getMonth()),[P,D]=x.useState(null),[L,I]=x.useState(""),R=x.useRef(null),F=x.useRef(null),H=[{id:"1",nama:"Area Produksi Line A",penanggungJawab:"Budi Santoso",pengawas:"Ahmad Wijaya",gambar3d:"/api/placeholder/400/300",department:"Produksi"},{id:"2",nama:"Area Produksi Line B",penanggungJawab:"Joko Widodo",pengawas:"Ahmad Wijaya",gambar3d:"/api/placeholder/400/300",department:"Produksi"},{id:"3",nama:"Area Gudang Bahan Baku",penanggungJawab:"Siti Rahayu",pengawas:"Dewi Sartika",gambar3d:"/api/placeholder/400/300",department:"Gudang"},{id:"4",nama:"Area Gudang Finished Goods",penanggungJawab:"Rina Melati",pengawas:"Dewi Sartika",gambar3d:"/api/placeholder/400/300",department:"Gudang"},{id:"5",nama:"Area Kantor HRD",penanggungJawab:"Ari Wibowo",pengawas:"Maya Sari",gambar3d:"/api/placeholder/400/300",department:"Administrasi"},{id:"6",nama:"Area Kantor Accounting",penanggungJawab:"Dian Pertiwi",pengawas:"Maya Sari",gambar3d:"/api/placeholder/400/300",department:"Administrasi"},{id:"7",nama:"Area Maintenance",penanggungJawab:"Hendra Gunawan",pengawas:"Ahmad Wijaya",gambar3d:"/api/placeholder/400/300",department:"Engineering"},{id:"8",nama:"Area Quality Control",penanggungJawab:"Fitri Handayani",pengawas:"Dewi Sartika",gambar3d:"/api/placeholder/400/300",department:"Quality"}];x.useEffect(()=>{f(H);const e=(()=>{const e=[],t=H,n=[{nama:"Budi Santoso",nip:"12345",department:"Produksi"},{nama:"Joko Widodo",nip:"12346",department:"Produksi"},{nama:"Siti Rahayu",nip:"12347",department:"Gudang"},{nama:"Rina Melati",nip:"12348",department:"Gudang"},{nama:"Ari Wibowo",nip:"12349",department:"Administrasi"},{nama:"Dian Pertiwi",nip:"12350",department:"Administrasi"},{nama:"Hendra Gunawan",nip:"12351",department:"Engineering"},{nama:"Fitri Handayani",nip:"12352",department:"Quality"},{nama:"Andi Pratama",nip:"12353",department:"Produksi"},{nama:"Maya Sari",nip:"12354",department:"Administrasi"}],r=new Date(2024,0,1),a=new Date;for(let i=new Date(r);i<=a;i.setDate(i.getDate()+1))0===i.getDay()||6===i.getDay()||Math.random()>.7||n.filter(()=>Math.random()>.3).forEach(n=>{const r=t.filter(e=>e.department===n.department);if(0===r.length)return;const a=r[Math.floor(Math.random()*r.length)],s=Math.random()>.1?"completed":"pending",o="completed"===s?Math.floor(30*Math.random())+70:void 0;e.push({id:`activity-${i.getTime()}-${n.nip}`,nama:n.nama,nip:n.nip,department:n.department,komite5s:`Komite5s ${n.department}`,tanggal:i.toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric"}),area:a.nama,penanggungJawabArea:a.penanggungJawab,keterangan:Math.random()>.5?"Area sudah dibersihkan dan ditata sesuai standar 5S":"Pengecekan rutin area kerja",fotoLampiran:["/api/placeholder/300/200"],createdAt:i.toISOString(),status:s,score:o})});return e})();p(e),localStorage.setItem("dailyActivities",JSON.stringify(e))},[]),x.useEffect(()=>{const e=()=>{s(window.innerWidth<768),window.innerWidth<768&&a(!1)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);const z=e=>e.toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric"}),B=()=>{let e=u;if("komite"===S&&(null==n?void 0:n.department))e=e.filter(e=>e.department===n.department);else if("penanggungjawab"===S){const t=m.filter(e=>e.penanggungJawab===(null==n?void 0:n.name));e=e.filter(e=>t.some(t=>t.nama===e.area))}else"karyawan"===S&&(e=e.filter(e=>e.nip===(null==n?void 0:n.nip)));return _&&(e=e.filter(e=>e.department===_)),L&&(e=e.filter(e=>e.nama.toLowerCase().includes(L.toLowerCase())||e.area.toLowerCase().includes(L.toLowerCase())||e.nip.includes(L))),e},W=(e,t,n)=>{const r=u.filter(r=>{const a=new Date(r.createdAt);return r.department===e&&a.getMonth()===t&&a.getFullYear()===n}),a=new Date(n,t+1,0).getDate(),i=new Set(r.map(e=>e.tanggal)).size,s=a>0?i/a*100:0;return Math.min(s,100)},$=()=>{const e=new Date;return((e,t)=>{const n=B().filter(n=>{const r=new Date(n.createdAt);return r.getMonth()===e&&r.getFullYear()===t}),r=new Date(t,e+1,0).getDate(),a=new Set(n.map(e=>e.tanggal)).size,i=r>0?a/r*100:0;return Math.min(i,100)})(e.getMonth(),e.getFullYear())},U=(e,t,n)=>{const r=u.filter(r=>{const a=new Date(r.createdAt);return r.nip===e&&a.getMonth()===t&&a.getFullYear()===n}),a=new Date(n,t+1,0).getDate(),i=new Set(r.map(e=>e.tanggal)).size,s=a>0?i/a*100:0;return Math.min(s,100)},V=()=>{const e=o.getFullYear(),t=o.getMonth(),n=new Date(e,t+1,0).getDate(),r=B(),a=[];for(let i=1;i<=n;i++){const n=new Date(e,t,i),s=z(n),o=r.some(e=>e.tanggal===s);a.push({date:i,hasReport:o,isToday:n.toDateString()===(new Date).toDateString()})}return a},q=e=>h.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${{completed:"bg-green-100 text-green-800",pending:"bg-yellow-100 text-yellow-800",rejected:"bg-red-100 text-red-800"}[e]}`,children:{completed:"Selesai",pending:"Menunggu",rejected:"Ditolak"}[e]}),G=e=>{const t=z(new Date),n=u.find(n=>n.nip===e&&n.tanggal===t);return n?q(n.status):h.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-800 rounded-full text-xs font-medium",children:"Belum Lapor"})},Y=e=>{const t=u.filter(t=>t.nip===e.nip&&new Date(t.createdAt).getMonth()===E).sort((e,t)=>new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()),n=U(e.nip,E,T);return h.jsxs(kc.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:[h.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[h.jsx("button",{onClick:()=>D(null),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:h.jsx(Rc,{size:20})}),h.jsxs("div",{children:[h.jsxs("h3",{className:"text-lg font-bold text-gray-900",children:["Detail Laporan - ",e.nama]}),h.jsxs("p",{className:"text-gray-600",children:["NIP: ",e.nip," | Department: ",e.department]})]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[h.jsxs("div",{className:"bg-blue-50 rounded-xl p-4 border border-blue-200",children:[h.jsx("p",{className:"text-sm text-blue-600 font-medium",children:"Score Bulan Ini"}),h.jsxs("p",{className:"text-2xl font-bold text-blue-900",children:[n.toFixed(0),"%"]})]}),h.jsxs("div",{className:"bg-green-50 rounded-xl p-4 border border-green-200",children:[h.jsx("p",{className:"text-sm text-green-600 font-medium",children:"Total Laporan"}),h.jsx("p",{className:"text-2xl font-bold text-green-900",children:t.length})]}),h.jsxs("div",{className:"bg-orange-50 rounded-xl p-4 border border-orange-200",children:[h.jsx("p",{className:"text-sm text-orange-600 font-medium",children:"Status Hari Ini"}),h.jsx("div",{className:"mt-1",children:G(e.nip)})]})]}),h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"w-full",children:[h.jsx("thead",{children:h.jsxs("tr",{className:"border-b border-gray-200",children:[h.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-500",children:"Tanggal"}),h.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-500",children:"Area"}),h.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-500",children:"Status"}),h.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-500",children:"Keterangan"})]})}),h.jsx("tbody",{children:t.map(e=>h.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[h.jsx("td",{className:"py-3 text-sm",children:e.tanggal}),h.jsx("td",{className:"py-3 text-sm",children:e.area}),h.jsx("td",{className:"py-3",children:q(e.status)}),h.jsx("td",{className:"py-3 text-sm max-w-xs truncate",children:e.keterangan})]},e.id))})]})})]})},K=m.find(e=>e.id===g),J=V();return h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[h.jsx(Lu,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Fu,{mainTitle:"Genba Action",mainTitleHighlight:"Management",description:"Laporan "+("karyawan"===S?"harian penanggung jawab area kerja":"komite"===S?"department untuk komite 5S":"penanggungjawab"===S?"overview area bertanggung jawab":"executive dashboard management"),icon:h.jsx(Vc,{}),isMobile:i,toggleSidebar:()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!r)),a(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[P&&h.jsx("div",{className:"mb-4",children:h.jsxs("button",{onClick:()=>D(null),className:"flex items-center gap-2 text-blue-600 hover:text-blue-800 font-medium",children:[h.jsx(Rc,{size:16}),"Kembali ke ","komite"===S?"Komite":"penanggungjawab"===S?"PJ Area":"Management"]})}),h.jsxs(kc.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[h.jsxs("div",{children:[h.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Genba ",h.jsx("span",{className:"text-blue-600",children:"Action"})]}),h.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"karyawan"===S?"Effortlessly track, manage, and complete your daily tasks and activities to optimize productivity.":"komite"===S?"Monitor and manage 5S activities across your department with comprehensive reporting.":"penanggungjawab"===S?"Oversee area performance and compliance with monthly score tracking.":"Executive overview of all 5S activities across departments and areas."})]}),!P&&h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 px-4 py-2",children:h.jsx("span",{className:"text-sm font-medium text-gray-700",children:null==(e=[{id:"karyawan",name:"Karyawan",level:1},{id:"komite",name:"Komite Department",level:2},{id:"penanggungjawab",name:"Penanggung Jawab Area",level:3},{id:"management",name:"Management",level:4}].find(e=>e.id===S))?void 0:e.name})}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{onClick:()=>C("karyawan"),className:"px-3 py-2 bg-blue-600 text-white rounded-lg text-sm hover:bg-blue-700 transition-colors",children:"Karyawan"}),h.jsx("button",{onClick:()=>C("komite"),className:"px-3 py-2 bg-green-600 text-white rounded-lg text-sm hover:bg-green-700 transition-colors",children:"Komite"}),h.jsx("button",{onClick:()=>C("penanggungjawab"),className:"px-3 py-2 bg-purple-600 text-white rounded-lg text-sm hover:bg-purple-700 transition-colors",children:"PJ Area"}),h.jsx("button",{onClick:()=>C("management"),className:"px-3 py-2 bg-orange-600 text-white rounded-lg text-sm hover:bg-orange-700 transition-colors",children:"Management"})]})]})]}),(()=>{if(P)return Y(P.data);switch(S){case"karyawan":return h.jsxs(h.Fragment,{children:[h.jsxs(kc.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-6 bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsx("h3",{className:"text-lg font-bold text-gray-900",children:o.toLocaleDateString("id-ID",{month:"long",year:"numeric"})}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{onClick:()=>l(new Date(o.getFullYear(),o.getMonth()-1,1)),className:"w-8 h-8 rounded-full bg-white shadow-sm flex items-center justify-center hover:shadow-md transition-shadow",children:h.jsx(Xc,{size:16,className:"text-gray-700"})}),h.jsx("button",{onClick:()=>l(new Date(o.getFullYear(),o.getMonth()+1,1)),className:"w-8 h-8 rounded-full bg-white shadow-sm flex items-center justify-center hover:shadow-md transition-shadow",children:h.jsx(Qc,{size:16,className:"text-gray-700"})})]})]}),h.jsx("div",{className:"grid grid-cols-7 gap-2 mb-4",children:["Min","Sen","Sel","Rab","Kam","Jum","Sab"].map(e=>h.jsx("div",{className:"text-center text-xs text-gray-500 font-medium",children:e},e))}),h.jsx("div",{className:"grid grid-cols-7 gap-2",children:V().map((e,t)=>{const n=new Date(o.getFullYear(),o.getMonth(),e.date).getDay(),r=0===t?n+1:void 0;return h.jsxs(kc.button,{onClick:()=>{const t=new Date(o.getFullYear(),o.getMonth(),e.date);l(t),d(!0)},whileHover:{scale:1.05},whileTap:{scale:.95},className:"h-12 rounded-xl flex flex-col items-center justify-center transition-all "+(e.isToday?"bg-blue-600 text-white shadow-md":e.hasReport?"bg-green-100 text-green-800 border border-green-200":"bg-white text-gray-700 hover:bg-gray-50 border border-gray-200"),style:r?{gridColumnStart:r}:void 0,children:[h.jsx("span",{className:"text-sm font-medium",children:e.date}),e.hasReport&&h.jsx(td,{size:12,className:"mt-1"})]},e.date)})})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[h.jsxs(kc.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md p-4 border border-blue-100",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-500",children:"Score Bulan Ini"}),h.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[$().toFixed(0),"%"]})]}),h.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:h.jsx(td,{className:"text-blue-600",size:24})})]}),h.jsx("div",{className:"mt-2 w-full bg-gray-200 rounded-full h-2",children:h.jsx("div",{className:"bg-green-500 h-2 rounded-full transition-all duration-500",style:{width:`${$()}%`}})})]}),h.jsx(kc.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-2xl shadow-md p-4 border border-blue-100",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-500",children:"Total Laporan"}),h.jsx("p",{className:"text-2xl font-bold text-gray-900",children:B().length})]}),h.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:h.jsx(Vc,{className:"text-green-600",size:24})})]})}),h.jsx(kc.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-2xl shadow-md p-4 border border-blue-100",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-500",children:"Area Bertanggung Jawab"}),h.jsxs("p",{className:"text-lg font-bold text-gray-900",children:[m.filter(e=>e.penanggungJawab===(null==n?void 0:n.name)).length," Area"]})]}),h.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center",children:h.jsx(qd,{className:"text-purple-600",size:24})})]})})]})]});case"komite":return(()=>{Array.from(new Set(m.map(e=>e.department)));const e="Produksi",t=Array.from(new Set(u.filter(t=>t.department===e).map(e=>({nama:e.nama,nip:e.nip,department:e.department})))).filter(e=>e.nama.toLowerCase().includes(L.toLowerCase())||e.nip.includes(L));return P&&"karyawan"===P.type?Y(P.data):h.jsx("div",{className:"space-y-6",children:h.jsxs(kc.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:[h.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-6 space-y-4 md:space-y-0",children:[h.jsxs("h3",{className:"text-lg font-bold text-gray-900",children:["Laporan Department ",e]}),h.jsxs("div",{className:"flex gap-3",children:[h.jsxs("div",{className:"relative",children:[h.jsx(uu,{size:16,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),h.jsx("input",{type:"text",placeholder:"Cari karyawan...",value:L,onChange:e=>I(e.target.value),className:"pl-10 pr-4 py-2 rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),h.jsx("select",{value:E,onChange:e=>M(Number(e.target.value)),className:"px-4 py-2 rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500",children:Array.from({length:12},(e,t)=>h.jsx("option",{value:t,children:new Date(2024,t).toLocaleDateString("id-ID",{month:"long"})},t))})]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[h.jsxs("div",{className:"bg-blue-50 rounded-xl p-4 border border-blue-200",children:[h.jsx("p",{className:"text-sm text-blue-600 font-medium",children:"Score Department"}),h.jsxs("p",{className:"text-2xl font-bold text-blue-900",children:[W(e,E,T).toFixed(0),"%"]})]}),h.jsxs("div",{className:"bg-green-50 rounded-xl p-4 border border-green-200",children:[h.jsx("p",{className:"text-sm text-green-600 font-medium",children:"Total Karyawan"}),h.jsx("p",{className:"text-2xl font-bold text-green-900",children:t.length})]}),h.jsxs("div",{className:"bg-purple-50 rounded-xl p-4 border border-purple-200",children:[h.jsx("p",{className:"text-sm text-purple-600 font-medium",children:"Karyawan Aktif"}),h.jsx("p",{className:"text-2xl font-bold text-purple-900",children:t.filter(e=>{const t=z(new Date);return u.some(n=>n.nip===e.nip&&n.tanggal===t)}).length})]}),h.jsxs("div",{className:"bg-orange-50 rounded-xl p-4 border border-orange-200",children:[h.jsx("p",{className:"text-sm text-orange-600 font-medium",children:"Rata-rata Score"}),h.jsxs("p",{className:"text-2xl font-bold text-orange-900",children:[t.length>0?(t.reduce((e,t)=>e+U(t.nip,E,T),0)/t.length).toFixed(0):0,"%"]})]})]}),h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"w-full",children:[h.jsx("thead",{children:h.jsxs("tr",{className:"border-b border-gray-200",children:[h.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-500",children:"Nama"}),h.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-500",children:"NIP"}),h.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-500",children:"Score Bulan Ini"}),h.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-500",children:"Status Hari Ini"}),h.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-500",children:"Total Laporan"}),h.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-500",children:"Aksi"})]})}),h.jsx("tbody",{children:t.map(e=>{const t=U(e.nip,E,T),n=u.filter(t=>t.nip===e.nip&&new Date(t.createdAt).getMonth()===E);return h.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[h.jsx("td",{className:"py-3 text-sm font-medium",children:e.nama}),h.jsx("td",{className:"py-3 text-sm",children:e.nip}),h.jsx("td",{className:"py-3",children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsxs("span",{className:"text-sm font-semibold",children:[t.toFixed(0),"%"]}),h.jsx("div",{className:"w-20 bg-gray-200 rounded-full h-2",children:h.jsx("div",{className:"h-2 rounded-full "+(t>=80?"bg-green-500":t>=60?"bg-yellow-500":"bg-red-500"),style:{width:`${t}%`}})})]})}),h.jsx("td",{className:"py-3",children:G(e.nip)}),h.jsx("td",{className:"py-3 text-sm",children:n.length}),h.jsx("td",{className:"py-3",children:h.jsx("button",{onClick:()=>D({type:"karyawan",data:e}),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Lihat Detail"})})]},e.nip)})})]})})]})})})();case"penanggungjawab":return(()=>{const e=m.filter(e=>"Budi Santoso"===e.penanggungJawab),t=Array.from(new Set(u.filter(t=>e.some(e=>e.nama===t.area)).map(e=>({nama:e.nama,nip:e.nip,department:e.department}))));return P&&"karyawan"===P.type?Y(P.data):h.jsxs("div",{className:"space-y-6",children:[h.jsxs(kc.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:[h.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-6 space-y-4 md:space-y-0",children:[h.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Score Overview Area Bertanggung Jawab"}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx("select",{value:T,onChange:e=>O(Number(e.target.value)),className:"px-4 py-2 rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[2023,2024,2025].map(e=>h.jsx("option",{value:e,children:e},e))}),h.jsx("select",{value:E,onChange:e=>M(Number(e.target.value)),className:"px-4 py-2 rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500",children:Array.from({length:12},(e,t)=>h.jsx("option",{value:t,children:new Date(2024,t).toLocaleDateString("id-ID",{month:"long"})},t))})]})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:e.map(e=>{const t=u.filter(t=>t.area===e.nama&&new Date(t.createdAt).getMonth()===E),n=new Date(T,E+1,0).getDate(),r=n>0?t.length/n*100:0;return h.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4 hover:shadow-md transition-shadow",children:[h.jsxs("div",{className:"flex justify-between items-start mb-3",children:[h.jsx("h4",{className:"font-semibold text-gray-900",children:e.nama}),h.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-xs font-medium",children:e.department})]}),h.jsxs("div",{className:"flex justify-between items-center mb-2",children:[h.jsxs("span",{className:"text-2xl font-bold text-blue-600",children:[Math.min(r,100).toFixed(0),"%"]}),h.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:h.jsx(Yc,{size:20,className:"text-blue-600"})})]}),h.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-2",children:h.jsx("div",{className:"bg-green-500 h-2 rounded-full transition-all duration-500",style:{width:`${Math.min(r,100)}%`}})}),h.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[h.jsxs("span",{children:[t.length," laporan"]}),h.jsxs("span",{children:[Math.round(r),"% tercover"]})]})]},e.id)})})]}),h.jsxs(kc.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:[h.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-6 space-y-4 md:space-y-0",children:[h.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Laporan Per Karyawan"}),h.jsx("div",{className:"flex gap-3",children:h.jsxs("div",{className:"relative",children:[h.jsx(uu,{size:16,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),h.jsx("input",{type:"text",placeholder:"Cari karyawan...",value:L,onChange:e=>I(e.target.value),className:"pl-10 pr-4 py-2 rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500"})]})})]}),h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"w-full",children:[h.jsx("thead",{children:h.jsxs("tr",{className:"border-b border-gray-200",children:[h.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-500",children:"Nama"}),h.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-500",children:"NIP"}),h.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-500",children:"Department"}),h.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-500",children:"Score Bulan Ini"}),h.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-500",children:"Status Hari Ini"}),h.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-500",children:"Total Laporan"}),h.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-500",children:"Aksi"})]})}),h.jsx("tbody",{children:t.map(e=>{const t=U(e.nip,E,T),n=u.filter(t=>t.nip===e.nip&&new Date(t.createdAt).getMonth()===E);return h.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[h.jsx("td",{className:"py-3 text-sm font-medium",children:e.nama}),h.jsx("td",{className:"py-3 text-sm",children:e.nip}),h.jsx("td",{className:"py-3 text-sm",children:e.department}),h.jsx("td",{className:"py-3",children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsxs("span",{className:"text-sm font-semibold",children:[t.toFixed(0),"%"]}),h.jsx("div",{className:"w-20 bg-gray-200 rounded-full h-2",children:h.jsx("div",{className:"h-2 rounded-full "+(t>=80?"bg-green-500":t>=60?"bg-yellow-500":"bg-red-500"),style:{width:`${t}%`}})})]})}),h.jsx("td",{className:"py-3",children:G(e.nip)}),h.jsx("td",{className:"py-3 text-sm",children:n.length}),h.jsx("td",{className:"py-3",children:h.jsx("button",{onClick:()=>D({type:"karyawan",data:e}),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Lihat Detail"})})]},e.nip)})})]})})]})]})})();default:return(()=>{const e=Array.from(new Set(m.map(e=>e.department))),t=Array.from(new Set(u.map(e=>({nama:e.nama,nip:e.nip,department:e.department}))));return P&&"karyawan"===P.type?Y(P.data):h.jsxs("div",{className:"space-y-6",children:[h.jsxs(kc.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:[h.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-6 space-y-4 md:space-y-0",children:[h.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Executive Dashboard 5S"}),h.jsxs("div",{className:"flex gap-3",children:[h.jsxs("select",{value:_,onChange:e=>A(e.target.value),className:"px-4 py-2 rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[h.jsx("option",{value:"",children:"Semua Department"}),e.map(e=>h.jsx("option",{value:e,children:e},e))]}),h.jsxs("select",{value:T,onChange:e=>O(Number(e.target.value)),className:"px-4 py-2 rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[h.jsx("option",{value:2023,children:"2023"}),h.jsx("option",{value:2024,children:"2024"}),h.jsx("option",{value:2025,children:"2025"})]})]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[h.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl p-4 text-white",children:[h.jsx("p",{className:"text-sm font-medium",children:"Total Department"}),h.jsx("p",{className:"text-2xl font-bold",children:e.length}),h.jsx("p",{className:"text-xs opacity-90 mt-1",children:"Active departments"})]}),h.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-xl p-4 text-white",children:[h.jsx("p",{className:"text-sm font-medium",children:"Total Karyawan"}),h.jsx("p",{className:"text-2xl font-bold",children:t.length}),h.jsx("p",{className:"text-xs opacity-90 mt-1",children:"Registered employees"})]}),h.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl p-4 text-white",children:[h.jsx("p",{className:"text-sm font-medium",children:"Total Laporan"}),h.jsx("p",{className:"text-2xl font-bold",children:u.length}),h.jsx("p",{className:"text-xs opacity-90 mt-1",children:"This year"})]}),h.jsxs("div",{className:"bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl p-4 text-white",children:[h.jsx("p",{className:"text-sm font-medium",children:"Rata-rata Score"}),h.jsxs("p",{className:"text-2xl font-bold",children:[e.length>0?(e.reduce((e,t)=>e+W(t,E,T),0)/e.length).toFixed(0):0,"%"]}),h.jsx("p",{className:"text-xs opacity-90 mt-1",children:"Company wide"})]})]}),h.jsxs("div",{className:"mb-6",children:[h.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Performance Department"}),h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"w-full",children:[h.jsx("thead",{children:h.jsxs("tr",{className:"border-b border-gray-200",children:[h.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-500",children:"Department"}),h.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-500",children:"Score Bulan Ini"}),h.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-500",children:"Total Karyawan"}),h.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-500",children:"Karyawan Aktif"}),h.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-500",children:"Trend"})]})}),h.jsx("tbody",{children:e.map(e=>{const n=W(e,E,T),r=t.filter(t=>t.department===e),a=r.filter(e=>{const t=z(new Date);return u.some(n=>n.nip===e.nip&&n.tanggal===t)}).length;return h.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[h.jsx("td",{className:"py-3 text-sm font-medium",children:e}),h.jsx("td",{className:"py-3",children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsxs("span",{className:"text-sm font-semibold",children:[n.toFixed(0),"%"]}),h.jsx("div",{className:"w-20 bg-gray-200 rounded-full h-2",children:h.jsx("div",{className:"h-2 rounded-full "+(n>=80?"bg-green-500":n>=60?"bg-yellow-500":"bg-red-500"),style:{width:`${n}%`}})})]})}),h.jsx("td",{className:"py-3 text-sm",children:r.length}),h.jsx("td",{className:"py-3 text-sm",children:a}),h.jsx("td",{className:"py-3",children:h.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium "+(n>=80?"bg-green-100 text-green-800":n>=60?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:n>=80?"↑ Excellent":n>=60?"→ Good":"↓ Need Improvement"})})]},e)})})]})})]})]}),h.jsxs(kc.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:[h.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-6 space-y-4 md:space-y-0",children:[h.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Laporan Semua Karyawan"}),h.jsxs("div",{className:"flex gap-3",children:[h.jsxs("div",{className:"relative",children:[h.jsx(uu,{size:16,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),h.jsx("input",{type:"text",placeholder:"Cari karyawan...",value:L,onChange:e=>I(e.target.value),className:"pl-10 pr-4 py-2 rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),h.jsxs("select",{value:_,onChange:e=>A(e.target.value),className:"px-4 py-2 rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[h.jsx("option",{value:"",children:"Semua Department"}),e.map(e=>h.jsx("option",{value:e,children:e},e))]})]})]}),h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"w-full",children:[h.jsx("thead",{children:h.jsxs("tr",{className:"border-b border-gray-200",children:[h.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-500",children:"Nama"}),h.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-500",children:"NIP"}),h.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-500",children:"Department"}),h.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-500",children:"Score Bulan Ini"}),h.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-500",children:"Status Hari Ini"}),h.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-500",children:"Total Laporan"}),h.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-500",children:"Aksi"})]})}),h.jsx("tbody",{children:t.filter(e=>!_||e.department===_).filter(e=>e.nama.toLowerCase().includes(L.toLowerCase())||e.nip.includes(L)).map(e=>{const t=U(e.nip,E,T),n=u.filter(t=>t.nip===e.nip&&new Date(t.createdAt).getMonth()===E);return h.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[h.jsx("td",{className:"py-3 text-sm font-medium",children:e.nama}),h.jsx("td",{className:"py-3 text-sm",children:e.nip}),h.jsx("td",{className:"py-3 text-sm",children:e.department}),h.jsx("td",{className:"py-3",children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsxs("span",{className:"text-sm font-semibold",children:[t.toFixed(0),"%"]}),h.jsx("div",{className:"w-20 bg-gray-200 rounded-full h-2",children:h.jsx("div",{className:"h-2 rounded-full "+(t>=80?"bg-green-500":t>=60?"bg-yellow-500":"bg-red-500"),style:{width:`${t}%`}})})]})}),h.jsx("td",{className:"py-3",children:G(e.nip)}),h.jsx("td",{className:"py-3 text-sm",children:n.length}),h.jsx("td",{className:"py-3",children:h.jsx("button",{onClick:()=>D({type:"karyawan",data:e}),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Lihat Detail"})})]},e.nip)})})]})})]})]})})()}})(),"karyawan"===S&&h.jsxs(h.Fragment,{children:[h.jsxs(kc.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100 mb-6",children:[h.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[h.jsxs("div",{className:"flex-1",children:[h.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Profile Pelapor"}),h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:h.jsx(Tu,{className:"text-blue-600",size:20})}),h.jsxs("div",{children:[h.jsx("p",{className:"font-semibold text-gray-900",children:(null==n?void 0:n.name)||"Budi Santoso"}),h.jsxs("p",{className:"text-sm text-gray-500",children:["NIP: ",(null==n?void 0:n.nip)||"12345"]})]})]}),h.jsxs("div",{className:"grid grid-cols-1 gap-2 text-sm",children:[h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"text-gray-500",children:"Department:"}),h.jsx("span",{className:"font-medium",children:(null==n?void 0:n.department_name)||(null==n?void 0:n.department)||"Produksi"})]}),h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"text-gray-500",children:"Pengawas Area:"}),h.jsx("span",{className:"font-medium",children:(null==K?void 0:K.pengawas)||"Ahmad Wijaya"})]}),h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"text-gray-500",children:"Komite 5S:"}),h.jsx("span",{className:"font-medium",children:`Komite5s ${(null==n?void 0:n.department)||"Produksi"}`})]})]})]})]}),h.jsxs("div",{className:"flex-1",children:[h.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Map of the Path"}),h.jsx("div",{className:"bg-gray-100 rounded-xl p-4 h-48 flex items-center justify-center",children:h.jsxs("div",{className:"text-center",children:[h.jsx(qd,{size:32,className:"text-gray-400 mx-auto mb-2"}),h.jsxs("p",{className:"text-gray-500 text-sm",children:["Peta denah area ",(null==K?void 0:K.nama)||"Produksi Line A"]}),h.jsx("button",{className:"mt-2 px-4 py-2 bg-blue-600 text-white rounded-lg text-sm hover:bg-blue-700 transition-colors",children:"Lihat Denah Lengkap"})]})})]})]}),h.jsxs("div",{className:"mt-6",children:[h.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"3D Area Map"}),h.jsx("div",{className:"bg-gray-100 rounded-xl p-4 h-64 flex items-center justify-center",children:h.jsxs("div",{className:"text-center",children:[h.jsx(qd,{size:32,className:"text-gray-400 mx-auto mb-2"}),h.jsxs("p",{className:"text-gray-500 text-sm",children:["Gambar 3D area ",(null==K?void 0:K.nama)||"Produksi Line A"]}),h.jsx("button",{className:"mt-2 px-4 py-2 bg-green-600 text-white rounded-lg text-sm hover:bg-green-700 transition-colors",children:"Lihat 3D Model"})]})})]})]}),h.jsxs(kc.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:[h.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Laporan Bulanan"}),h.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-2",children:J.map(e=>h.jsx("div",{className:"h-12 rounded-lg flex items-center justify-center "+(e.hasReport?"bg-green-100 text-green-800 border border-green-200":"bg-red-100 text-red-800 border border-red-200"),children:h.jsx("span",{className:"text-sm font-medium",children:e.date})},e.date))})]})]})]})]}),h.jsx(Mi,{children:c&&h.jsx(kc.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-50 flex items-center justify-center z-50 p-4",children:h.jsxs(kc.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[h.jsxs("div",{className:"p-6 border-b border-gray-200",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Form Laporan Harian"}),h.jsx("button",{onClick:()=>d(!1),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:h.jsx(Pu,{size:20})})]}),h.jsxs("p",{className:"text-gray-600 text-sm mt-1",children:["Tanggal: ",z(o)]})]}),h.jsxs("div",{className:"p-6 space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nama"}),h.jsx("input",{type:"text",value:(null==n?void 0:n.name)||"Budi Santoso",disabled:!0,className:"w-full px-4 py-3 rounded-xl border border-gray-200 bg-gray-50 text-gray-600"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"NIP"}),h.jsx("input",{type:"text",value:(null==n?void 0:n.nip)||"12345",disabled:!0,className:"w-full px-4 py-3 rounded-xl border border-gray-200 bg-gray-50 text-gray-600"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Department"}),h.jsx("input",{type:"text",value:(null==n?void 0:n.department_name)||(null==n?void 0:n.department)||"Produksi",disabled:!0,className:"w-full px-4 py-3 rounded-xl border border-gray-200 bg-gray-50 text-gray-600"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Komite 5S"}),h.jsx("input",{type:"text",value:`Komite5s ${(null==n?void 0:n.department)||"Produksi"}`,disabled:!0,className:"w-full px-4 py-3 rounded-xl border border-gray-200 bg-gray-50 text-gray-600"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tanggal *"}),h.jsx("input",{type:"text",value:z(o),disabled:!0,className:"w-full px-4 py-3 rounded-xl border border-gray-200 bg-gray-50 text-gray-600"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Area *"}),h.jsxs("select",{value:g,onChange:e=>b(e.target.value),className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[h.jsx("option",{value:"",children:"Pilih Area Kerja ..."}),m.map(e=>h.jsx("option",{value:e.id,children:e.nama},e.id))]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Penanggung Jawab Area"}),h.jsx("input",{type:"text",value:(null==K?void 0:K.penanggungJawab)||"",disabled:!0,className:"w-full px-4 py-3 rounded-xl border border-gray-200 bg-gray-50 text-gray-600"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Keterangan"}),h.jsx("textarea",{value:y,onChange:e=>v(e.target.value),rows:3,className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",placeholder:"Tambahkan keterangan jika diperlukan..."})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Lampiran Foto * ",w.length>0&&`(${w.length} foto)`]}),w.length>0&&h.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2 mb-3",children:w.map((e,t)=>h.jsxs("div",{className:"relative",children:[h.jsx("img",{src:e,alt:`Lampiran ${t+1}`,className:"w-full h-24 object-cover rounded-lg"}),h.jsx("button",{onClick:()=>(e=>{j(t=>t.filter((t,n)=>n!==e))})(t),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors",children:h.jsx(Pu,{size:14})})]},t))}),h.jsxs("div",{className:"flex gap-2",children:[h.jsxs("button",{onClick:async()=>{try{const e=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});F.current=e,R.current&&(R.current.srcObject=e),k(!0)}catch(Qle){alert("Tidak dapat mengakses kamera. Pastikan izin kamera telah diberikan.")}},className:"flex-1 py-3 bg-blue-600 text-white rounded-xl font-medium hover:bg-blue-700 transition-colors flex items-center justify-center gap-2",children:[h.jsx(qc,{size:20}),"Buka Kamera"]}),w.length>0&&h.jsxs("button",{onClick:()=>j([]),className:"px-4 py-3 bg-red-600 text-white rounded-xl font-medium hover:bg-red-700 transition-colors flex items-center justify-center gap-2",children:[h.jsx(vu,{size:20}),"Hapus Semua"]})]}),h.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"* Photo Gallery Not Allowed - Hanya foto dari kamera yang diperbolehkan"})]})]}),h.jsxs("div",{className:"p-6 border-t border-gray-200 flex gap-3",children:[h.jsx("button",{onClick:()=>d(!1),className:"flex-1 py-3 bg-gray-100 text-gray-700 rounded-xl font-medium hover:bg-gray-200 transition-colors",children:"Cancel"}),h.jsxs("button",{onClick:()=>{if(!g||0===w.length)return void alert("Area dan Lampiran Foto wajib diisi!");const e=m.find(e=>e.id===g),t={id:Date.now().toString(),nama:(null==n?void 0:n.name)||"User",nip:(null==n?void 0:n.nip)||"N/A",department:(null==n?void 0:n.department_name)||(null==n?void 0:n.department)||"Department",komite5s:`Komite5s ${(null==n?void 0:n.department)||"Dept"}`,tanggal:z(o),area:(null==e?void 0:e.nama)||"",penanggungJawabArea:(null==e?void 0:e.penanggungJawab)||"",keterangan:y,fotoLampiran:w,createdAt:(new Date).toISOString(),status:"completed",score:Math.floor(30*Math.random())+70},r=[...u,t];p(r),localStorage.setItem("dailyActivities",JSON.stringify(r)),b(""),v(""),j([]),d(!1),alert("Laporan berhasil disimpan!")},disabled:!g||0===w.length,className:"flex-1 py-3 bg-green-600 text-white rounded-xl font-medium hover:bg-green-700 transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[h.jsx(du,{size:20}),"Save"]})]})]})})}),h.jsx(Mi,{children:N&&h.jsx(kc.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black flex flex-col items-center justify-center z-50",children:h.jsxs("div",{className:"relative w-full max-w-2xl",children:[h.jsx("video",{ref:R,autoPlay:!0,playsInline:!0,className:"w-full h-auto"}),h.jsxs("div",{className:"absolute bottom-6 left-1/2 transform -translate-x-1/2 flex gap-4",children:[h.jsx("button",{onClick:()=>{if(R.current){const e=document.createElement("canvas");e.width=R.current.videoWidth,e.height=R.current.videoHeight;const t=e.getContext("2d");if(t){t.drawImage(R.current,0,0);const n=e.toDataURL("image/jpeg");j(e=>[...e,n])}}},className:"w-16 h-16 bg-white rounded-full border-4 border-gray-300 hover:border-gray-400 transition-colors"}),h.jsx("button",{onClick:()=>{F.current&&(F.current.getTracks().forEach(e=>e.stop()),F.current=null),k(!1)},className:"w-16 h-16 bg-red-600 text-white rounded-full flex items-center justify-center hover:bg-red-700 transition-colors",children:h.jsx(Pu,{size:24})})]})]})})})]})},zle=({title:e,value:t,change:n,icon:r})=>{const a=n.startsWith("+");return h.jsxs(kc.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[h.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:e}),h.jsx("p",{className:"text-3xl font-bold text-gray-900",children:t})]}),h.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:r})]}),h.jsxs("p",{className:"mt-3 text-xs font-semibold "+(a?"text-green-600":"text-red-600"),children:[n," from last month"]})]})},Ble=({isOpen:e,onClose:t,title:n,children:r,className:a,maxWidth:i="max-w-xl"})=>h.jsx(Mi,{children:e&&h.jsx(kc.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-50 flex justify-center items-center z-50 p-4",children:h.jsxs(kc.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${i} ${a||"w-full"}`,children:[h.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[h.jsx("h2",{className:"text-xl font-bold text-gray-800",children:n}),h.jsx("button",{onClick:t,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150",children:h.jsx(Pu,{size:20})})]}),h.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:r})]})})}),Wle=({isOpen:e,onClose:t,area:n,onDownload:r,onShare:a})=>{const i=()=>{if(!(null==n?void 0:n.qr_code_base64))return;const e=document.createElement("a");e.download=`QR_${null==n?void 0:n.name.replace(/\s+/g,"_")}_${Date.now()}.png`,e.href=n.qr_code_base64,e.click(),r()};return h.jsx(Ble,{isOpen:e,onClose:t,title:"QR Code Area",maxWidth:"max-w-md",children:h.jsxs("div",{className:"text-center space-y-6",children:[h.jsx("div",{className:"bg-blue-50 rounded-2xl p-6",children:(null==n?void 0:n.qr_code_base64)?h.jsx("img",{src:n.qr_code_base64,alt:"QR Code",className:"w-64 h-64 mx-auto rounded-lg shadow-md"}):h.jsx("div",{className:"w-64 h-64 mx-auto flex items-center justify-center bg-gray-100 rounded-lg",children:h.jsx(au,{className:"text-gray-400 w-16 h-16"})})}),h.jsxs("div",{className:"text-left bg-white rounded-lg p-4 border border-gray-200",children:[h.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Informasi Area"}),h.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{children:"Nama Area:"}),h.jsx("span",{className:"font-medium text-gray-900",children:null==n?void 0:n.name})]}),h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{children:"Department:"}),h.jsx("span",{className:"font-medium text-gray-900",children:null==n?void 0:n.department.name})]}),h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{children:"Penanggung Jawab:"}),h.jsx("span",{className:"font-medium text-gray-900",children:null==n?void 0:n.pic.name})]})]})]}),h.jsxs("div",{className:"flex gap-3 justify-center",children:[h.jsxs(kc.button,{onClick:i,whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:[h.jsx(hd,{size:16}),"Download QR"]}),h.jsxs(kc.button,{onClick:async()=>{if(null==n?void 0:n.qr_code_base64)try{if(navigator.share){const e=await fetch(n.qr_code_base64),t=await e.blob(),r=new File([t],`QR_${null==n?void 0:n.name}.png`,{type:"image/png"});await navigator.share({title:`QR Code Area - ${null==n?void 0:n.name}`,text:`QR Code untuk area ${null==n?void 0:n.name}, Department: ${null==n?void 0:n.department.name}`,files:[r]}),a()}else await navigator.clipboard.writeText(`Area: ${null==n?void 0:n.name}\nDepartment: ${null==n?void 0:n.department.name}\nPenanggung Jawab: ${null==n?void 0:n.pic.name}`),alert("Informasi area telah disalin ke clipboard!"),a()}catch(Qle){i()}},whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium",children:[h.jsx(pu,{size:16}),"Share"]})]}),h.jsx("p",{className:"text-xs text-gray-500",children:"QR code berisi informasi lengkap area kerja untuk keperluan 5S dan maintenance"})]})})},$le=({isOpen:e,onClose:t,onConfirm:n,title:r,message:a,confirmText:i="Delete",cancelText:s="Cancel"})=>h.jsx(Ble,{isOpen:e,onClose:t,title:r,maxWidth:"max-w-md",children:h.jsxs("div",{className:"text-center space-y-4",children:[h.jsx(ju,{className:"text-red-500 text-5xl mx-auto"}),h.jsx("p",{className:"text-gray-700",children:a}),h.jsxs("div",{className:"flex gap-3 justify-center pt-4",children:[h.jsx(kc.button,{onClick:t,whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 font-medium transition-colors",children:s}),h.jsx(kc.button,{onClick:n,whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-6 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 font-medium transition-colors",children:i})]})]})}),Ule=()=>{const e=je(),{getGenbaAreas:t,deleteGenbaAreas:n,getUsers:r,getDepartment:a}=gt(),[i,s]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return!!e&&JSON.parse(e)}),[o,l]=x.useState(window.innerWidth<768),[c,d]=x.useState([]),[u,p]=x.useState(!0),[m,f]=x.useState(""),[g,b]=x.useState([]),[y,v]=x.useState(!1),[w,j]=x.useState(!1),[N,k]=x.useState(null),[S,C]=x.useState(!1),[_,A]=x.useState(null),[T,O]=x.useState(1),[E]=x.useState(10),[M,P]=x.useState([]),[D,L]=x.useState([]);x.useEffect(()=>{I(),R(),F()},[]);const I=async()=>{try{p(!0);const e=await t();d(e)}catch(Qle){}finally{p(!1)}},R=async()=>{try{const e=await a();P(e)}catch(Qle){}},F=async()=>{try{const e=await r();L(e)}catch(Qle){}};x.useEffect(()=>{const e=()=>{l(window.innerWidth<768),window.innerWidth<768&&s(!1)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);const H=x.useMemo(()=>c.filter(e=>{const t=e.name.toLowerCase().includes(m.toLowerCase())||e.department.name.toLowerCase().includes(m.toLowerCase())||e.pic.name.toLowerCase().includes(m.toLowerCase()),n=0===g.length||g.includes(e.department.name);return t&&n}),[c,m,g]),z=T*E,B=z-E,W=H.slice(B,z),$=Math.ceil(H.length/E),U=e=>O(e),V=()=>{f(""),b([]),O(1)};return h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[h.jsx(Lu,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Fu,{mainTitle:"Genba Area",mainTitleHighlight:"Management",description:"Manage work areas and their configurations for 5S implementation",icon:h.jsx(qd,{}),isMobile:o,toggleSidebar:()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!i)),s(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[h.jsxs(kc.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[h.jsxs("div",{children:[h.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Genba ",h.jsx("span",{className:"text-blue-600",children:"Area Management"})]}),h.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Manage and organize work areas for efficient 5S implementation and maintenance tracking."})]}),h.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[h.jsxs(kc.button,{onClick:()=>e("/genba/genbaarea/addgenbaarea"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[h.jsx(nu,{size:16}),h.jsx("span",{children:"Add Area"})]}),h.jsxs(kc.button,{onClick:()=>v(!y),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[h.jsx(vd,{size:16}),h.jsx("span",{children:"Filters"}),h.jsx(kc.span,{animate:{rotate:y?180:0},transition:{duration:.2},children:h.jsx(Jc,{size:16})})]})]})]}),h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[h.jsx(zle,{title:"Total Areas",value:c.length.toString(),change:"+12%",icon:h.jsx(qd,{})}),h.jsx(zle,{title:"Active Departments",value:new Set(c.map(e=>e.department.name)).size.toString(),change:"+2",icon:h.jsx(Uc,{})}),h.jsx(zle,{title:"Assigned PIC",value:new Set(c.map(e=>e.pic.name)).size.toString(),change:"+5",icon:h.jsx(Ou,{})}),h.jsx(zle,{title:"This Month",value:"3",change:"+1",icon:h.jsx(td,{})})]}),h.jsxs(kc.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[h.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0",children:h.jsxs("div",{className:"flex-1 relative",children:[h.jsx(uu,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),h.jsx("input",{type:"text",placeholder:"Search by area name, department, or PIC...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:m,onChange:e=>f(e.target.value)})]})}),h.jsx(Mi,{children:y&&h.jsxs(kc.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Department"}),h.jsx("div",{className:"flex flex-wrap gap-2",children:M.map(e=>h.jsx("button",{onClick:()=>{return t=e.name,b(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t]),void O(1);var t},className:"px-3 py-1.5 rounded-lg text-sm font-medium transition-colors "+(g.includes(e.name)?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:e.name},e.id))})]}),(m||g.length>0)&&h.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-gray-200",children:[h.jsxs("span",{className:"text-sm text-gray-600",children:[H.length," areas found"]}),h.jsx("button",{onClick:V,className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:"Clear all filters"})]})]})})]}),u?h.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[h.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),h.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading areas data..."})]}):0===H.length?h.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[h.jsx(qd,{className:"text-blue-500 text-4xl mx-auto mb-4"}),h.jsx("p",{className:"text-gray-700 text-base font-medium",children:m||g.length>0?"No areas found matching your filters.":"No areas available. Create your first area to get started."}),(m||g.length>0)&&h.jsx("button",{onClick:V,className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear All Filters"})]}):h.jsx(kc.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:h.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:h.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[h.jsx("thead",{className:"bg-blue-50",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Area Name"}),h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Department"}),h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Penanggung Jawab"}),h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),h.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:W.map(t=>h.jsxs(kc.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[h.jsx("td",{className:"px-5 py-3",children:h.jsx("div",{className:"text-sm font-medium text-gray-900",children:t.name})}),h.jsx("td",{className:"px-5 py-3",children:h.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:t.department.name})}),h.jsx("td",{className:"px-5 py-3",children:h.jsx("div",{className:"text-sm text-gray-900",children:t.pic.name})}),h.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[h.jsx(kc.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>e(`/genba/genbaarea/editgenbaarea/${t.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit",children:h.jsx(gu,{size:16})}),h.jsx(kc.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>(e=>{A(e),C(!0)})(t),className:"text-purple-600 hover:text-purple-800 transition-colors duration-200 p-1 rounded-full hover:bg-purple-50",title:"QR Code",children:h.jsx(au,{size:16})}),h.jsx(kc.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{k(t.id.toString()),j(!0)},className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:h.jsx(vu,{size:16})})]})]},t.id))})]})})}),H.length>E&&h.jsxs(kc.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"mt-8 flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0",children:[h.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",h.jsx("span",{className:"font-semibold",children:B+1})," to ",h.jsx("span",{className:"font-semibold",children:Math.min(z,H.length)})," of"," ",h.jsx("span",{className:"font-semibold",children:H.length})," areas"]}),h.jsxs("div",{className:"flex space-x-2",children:[h.jsx(kc.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>U(T-1),disabled:1===T,className:"px-4 py-2 border border-blue-200 rounded-md bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm font-medium text-sm",children:"Previous"}),Array.from({length:$},(e,t)=>h.jsx(kc.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>U(t+1),className:`px-3.5 py-2 rounded-md transition-colors duration-200 shadow-sm font-medium text-sm\n                      ${T===t+1?"bg-blue-600 text-white shadow-md":"bg-white text-gray-700 hover:bg-blue-50 border border-blue-200"}\n                    `,children:t+1},t+1)),h.jsx(kc.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>U(T+1),disabled:T===$,className:"px-4 py-2 border border-blue-200 rounded-md bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm font-medium text-sm",children:"Next"})]})]})]})]}),h.jsx(Wle,{isOpen:S,onClose:()=>C(!1),area:_,onDownload:()=>{},onShare:()=>{}}),h.jsx($le,{isOpen:w,onClose:()=>j(!1),onConfirm:()=>N&&(async e=>{try{await n(parseInt(e)),d(t=>t.filter(t=>t.id.toString()!==e)),j(!1),k(null)}catch(Qle){}})(N),title:"Delete Area",message:"Are you sure you want to delete this area? This action cannot be undone."})]})},Vle=({isOpen:e,onClose:t,title:n,children:r})=>e?h.jsx(kc.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:h.jsxs(kc.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[h.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[h.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n}),h.jsx(kc.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:t,className:"text-gray-500 hover:text-gray-700 text-2xl",children:h.jsx(Pu,{size:24})})]}),h.jsx("div",{children:r})]})}):null,qle=()=>{const e=je(),{createGenbaAreas:t,user:n,getUsers:r,getDepartment:a}=gt(),[i,s]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return!!e&&JSON.parse(e)}),[o,l]=x.useState(window.innerWidth<768),[c,d]=x.useState(!1),[u,p]=x.useState([]),[m,f]=x.useState(null),[g,b]=x.useState(null),[y,v]=x.useState(!1),[w,j]=x.useState([]),[N,k]=x.useState([]),[S,C]=x.useState(!1),[_,A]=x.useState(null),T=x.useRef(null),O=x.useRef(null),[E,M]=x.useState({name:"",department_id:"",pic_user_id:"",attachment:null});x.useEffect(()=>{P(),D()},[]),x.useEffect(()=>{if(E.department_id&&w.length>0){const e=w.filter(e=>{var t;return(null==(t=e.department_id)?void 0:t.toString())===E.department_id});k(e),E.pic_user_id&&!e.some(e=>e.id.toString()===E.pic_user_id)&&M(e=>({...e,pic_user_id:""}))}else k([]),M(e=>({...e,pic_user_id:""}))},[E.department_id,w]);const P=async()=>{try{const e=await a();p(e)}catch(e){}},D=async()=>{try{const e=await r();j(e)}catch(e){}},L=x.useCallback((e,t)=>{if(e&&"object"==typeof e&&"value"in e&&t)M(n=>({...n,[t]:e.value}));else if(e&&"target"in e){const{name:t,value:n}=e.target;M(e=>({...e,[t]:n}))}},[]),I=x.useCallback(()=>{M({name:"",department_id:"",pic_user_id:"",attachment:null}),f(null),b(null)},[]),R=x.useCallback(()=>{v(!1),e("/genba/genbaarea")},[e]),F=({attachment:e,onRemove:t})=>{if(!e)return null;const n=e.type.startsWith("image/"),r=n?URL.createObjectURL(e):null;return h.jsxs("div",{className:"mt-4 space-y-3",children:[h.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Selected file:"}),h.jsxs("div",{className:"flex items-center justify-between p-4 bg-blue-50 rounded-lg border border-blue-200",children:[h.jsxs("div",{className:"flex items-center space-x-3",children:[n?h.jsx(Od,{className:"w-8 h-8 text-blue-600"}):h.jsx(gd,{className:"w-8 h-8 text-blue-600"}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:e.name}),h.jsxs("p",{className:"text-xs text-gray-500",children:[(e.size/1024/1024).toFixed(2)," MB"]})]})]}),h.jsx("button",{type:"button",onClick:t,className:"text-red-600 hover:text-red-800 transition-colors p-1 rounded-lg hover:bg-red-50",title:"Remove attachment",children:h.jsx(Pu,{size:16})}),n&&r&&h.jsxs("div",{className:"mt-3 pt-3 border-t border-blue-200 w-full",children:[h.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Preview:"}),h.jsx("div",{className:"flex justify-center",children:h.jsx("img",{src:r,alt:"Preview",className:"h-24 w-24 object-cover rounded-lg border shadow-sm"})})]})]})]})},H={control:(e,t)=>({...e,minHeight:"42px",borderColor:t.isFocused?"#3B82F6":"#D1D5DB",boxShadow:t.isFocused?"0 0 0 1px #3B82F6":"none","&:hover":{borderColor:"#9CA3AF"},borderRadius:"0.5rem",backgroundColor:"#FFFFFF",padding:"0 0.5rem",transition:"all 0.15s ease-in-out"}),valueContainer:e=>({...e,padding:"0"}),singleValue:e=>({...e,color:"#374151"}),placeholder:e=>({...e,color:"#6B7280"}),dropdownIndicator:e=>({...e,color:"#9CA3AF","&:hover":{color:"#6B7280"}}),indicatorSeparator:e=>({...e,display:"none"}),menu:e=>({...e,zIndex:9999,borderRadius:"0.5rem",border:"1px solid #E5E7EB",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"}),option:(e,t)=>({...e,backgroundColor:t.isFocused?"#EFF6FF":"#FFFFFF",color:"#1F2937","&:active":{backgroundColor:"#DBEAFE"},padding:"0.625rem 1rem"})};return h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Lu,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Fu,{mainTitle:"Add Genba Area",mainTitleHighlight:"Genba Area",description:"Create new work area for 5S implementation",icon:h.jsx(qd,{}),isMobile:o,toggleSidebar:()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!i)),s(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[h.jsxs(kc.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Genba Area"}),h.jsx("p",{className:"text-gray-600 mt-1",children:"Define a new work area for 5S implementation and maintenance"})]}),h.jsxs(kc.button,{onClick:()=>e("/genba/genbaarea"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[h.jsx(Rc,{size:16})," Back to Areas"]})]}),h.jsxs(kc.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[m&&h.jsxs(kc.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[h.jsx("strong",{className:"font-bold",children:"Error!"}),h.jsx("span",{className:"block sm:inline ml-2",children:m}),h.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:h.jsx(Pu,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>f(null)})})]}),h.jsxs("form",{onSubmit:async e=>{var n,r;if(e.preventDefault(),d(!0),f(null),b(null),!E.name||!E.department_id||!E.pic_user_id)return f("Please fill in all required fields"),void d(!1);try{await t({name:E.name,department_id:parseInt(E.department_id),pic_user_id:parseInt(E.pic_user_id),attachment:null},E.attachment),b("Area berhasil dibuat!"),v(!0),I()}catch(a){(null==(n=a.message)?void 0:n.includes("302"))||(null==(r=a.message)?void 0:r.includes("redirect"))?f("Session expired. Please login again."):f(a.message||"Gagal membuat area. Silakan coba lagi.")}finally{d(!1)}},className:"space-y-6",children:[h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[h.jsx(Uc,{className:"mr-2 text-blue-500"})," Department Information"]}),h.jsx("div",{className:"grid grid-cols-1 gap-6",children:h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"department_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Department ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx(rN,{name:"department_id",id:"department_id",options:u.map(e=>({value:e.id.toString(),label:e.name})),value:u.map(e=>({value:e.id.toString(),label:e.name})).find(e=>e.value===E.department_id),onChange:e=>L(e,"department_id"),placeholder:"Select Department",styles:H,required:!0})]})})]}),h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[h.jsx(qd,{className:"mr-2 text-green-500"})," Area Details"]}),h.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Nama Area ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",name:"name",id:"name",value:E.name,onChange:L,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., Area Produksi Line A",required:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"pic_user_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Penanggung Jawab Area ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx(rN,{name:"pic_user_id",id:"pic_user_id",options:N.map(e=>({value:e.id.toString(),label:e.name})),value:N.map(e=>({value:e.id.toString(),label:e.name})).find(e=>e.value===E.pic_user_id),onChange:e=>L(e,"pic_user_id"),placeholder:E.department_id?"Select Penanggung Jawab":"Please select department first",styles:H,isDisabled:!E.department_id,required:!0}),!E.department_id&&h.jsx("p",{className:"text-sm text-yellow-500 mt-1",children:"Please select a department first"})]})]})]}),h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[h.jsx(Su,{className:"mr-2 text-purple-500"})," Layout Ruangan"]}),h.jsx("div",{className:"grid grid-cols-1 gap-6",children:h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["Layout Attachments ",h.jsx("span",{className:"text-gray-400 font-normal",children:"(Optional, Multiple files allowed)"})]}),E.attachment?h.jsx("div",{className:"w-full p-6 border-2 border-blue-200 border-dashed rounded-xl bg-blue-50/30",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"mx-auto w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center mb-3",children:h.jsx(Zd,{className:"h-5 w-5 text-blue-600"})}),h.jsx("p",{className:"text-sm font-medium text-blue-900",children:"1 file selected"}),h.jsx("p",{className:"text-xs text-blue-600 mt-1",children:E.attachment.name})," "]})}):h.jsx(kc.button,{type:"button",whileHover:{scale:1.01},whileTap:{scale:.99},className:"w-full p-8 border-2 border-dashed border-gray-300 rounded-xl bg-white hover:border-blue-400 hover:bg-blue-50/50 transition-all duration-300 group",onClick:e=>{e.preventDefault(),e.stopPropagation(),C(!0)},children:h.jsxs("div",{className:"space-y-3 text-center",children:[h.jsx("div",{className:"mx-auto w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center group-hover:bg-blue-100 transition-colors",children:h.jsx(Zd,{className:"h-6 w-6 text-gray-400 group-hover:text-blue-500"})}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Click to select attachments"}),h.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PNG, JPG, GIF, PDF up to 10MB each"})]})]})}),h.jsx(F,{attachment:E.attachment,onRemove:()=>{M(e=>({...e,attachment:null}))}}),h.jsx(Mi,{children:S&&h.jsx(kc.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 p-4",onClick:()=>C(!1),children:h.jsxs(kc.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-xl w-full max-w-md mx-auto overflow-hidden",onClick:e=>e.stopPropagation(),children:[h.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-100",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Select Attachment"}),h.jsx("button",{type:"button",onClick:()=>C(!1),className:"text-gray-400 hover:text-gray-600 transition-colors p-1 rounded-lg hover:bg-gray-100",children:h.jsx(Pu,{size:20})})]}),_?h.jsxs("div",{className:"p-6 space-y-4",children:[h.jsxs("div",{className:"relative bg-black rounded-lg overflow-hidden",children:[h.jsx("video",{ref:T,autoPlay:!0,playsInline:!0,className:"w-full h-64 object-cover"}),h.jsx("canvas",{ref:O,className:"hidden"})]}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx(kc.button,{type:"button",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{if(T.current&&O.current){const e=O.current,t=e.getContext("2d");t&&(e.width=T.current.videoWidth,e.height=T.current.videoHeight,t.drawImage(T.current,0,0),e.toBlob(e=>{if(e){const t=((e,t)=>Object.assign(new Blob([e],{type:"image/jpeg"}),{name:t,lastModified:Date.now()}))(e,`photo-${Date.now()}.jpg`);M(e=>({...e,attachment:t}))}},"image/jpeg",.8),_&&(_.getTracks().forEach(e=>e.stop()),A(null))),C(!1)}},className:"flex-1 bg-blue-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Take Photo"}),h.jsx(kc.button,{type:"button",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{_&&(_.getTracks().forEach(e=>e.stop()),A(null)),C(!1)},className:"flex-1 bg-gray-200 text-gray-700 py-3 px-4 rounded-lg font-medium hover:bg-gray-300 transition-colors",children:"Cancel"})]})]}):h.jsxs("div",{className:"p-6 space-y-4",children:[h.jsxs(kc.button,{type:"button",whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{const e=document.createElement("input");e.type="file",e.accept="image/*, .pdf, .doc, .docx, .xls, .xlsx",e.multiple=!1,e.onchange=e=>{const t=e.target;if(t.files&&t.files.length>0){const e=t.files[0];M(t=>({...t,attachment:e}))}C(!1)},e.click()},className:"w-full p-4 border-2 border-dashed border-gray-200 rounded-xl hover:border-blue-300 hover:bg-blue-50/50 transition-all duration-200 flex items-center space-x-4",children:[h.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:h.jsx(gd,{className:"h-6 w-6 text-blue-600"})}),h.jsxs("div",{className:"text-left",children:[h.jsx("div",{className:"font-medium text-gray-900",children:"Select Files"}),h.jsx("div",{className:"text-sm text-gray-500",children:"From your device (Multiple)"})]})]}),h.jsxs(kc.button,{type:"button",whileHover:{scale:1.02},whileTap:{scale:.98},onClick:async()=>{try{const e=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});A(e),T.current&&(T.current.srcObject=e)}catch(e){alert("Tidak dapat mengakses kamera. Pastikan izin kamera telah diberikan.")}},className:"w-full p-4 border-2 border-dashed border-gray-200 rounded-xl hover:border-purple-300 hover:bg-purple-50/50 transition-all duration-200 flex items-center space-x-4",children:[h.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:h.jsx(qc,{className:"h-6 w-6 text-purple-600"})}),h.jsxs("div",{className:"text-left",children:[h.jsx("div",{className:"font-medium text-gray-900",children:"Take Photo"}),h.jsx("div",{className:"text-sm text-gray-500",children:"Use camera"})]})]})]})]})})})]})})]}),h.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[h.jsxs(kc.button,{type:"button",onClick:I,whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",children:[h.jsx(vu,{className:"mr-2 h-5 w-5"})," Clear Form"]}),h.jsx(kc.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:c,children:c?h.jsxs(h.Fragment,{children:[h.jsx(Ad,{className:"animate-spin mr-2 h-5 w-5"}),"Creating..."]}):h.jsxs(h.Fragment,{children:[h.jsx(du,{className:"mr-2 h-5 w-5"})," Create Area"]})})]})]})]})]})]}),h.jsx(Vle,{isOpen:y,onClose:R,title:"Success!",children:h.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[h.jsx(td,{className:"text-green-500 text-6xl mb-4"}),h.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:"Genba area has been created successfully!"}),h.jsx(kc.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:R,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Go to Genba Areas"})]})})]})},Gle=({isOpen:e,onClose:t,title:n,children:r})=>e?h.jsx(kc.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:h.jsxs(kc.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[h.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[h.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n}),h.jsx(kc.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:t,className:"text-gray-500 hover:text-gray-700 text-2xl",children:h.jsx(Pu,{size:24})})]}),h.jsx("div",{children:r})]})}):null,Yle=()=>{const{id:e}=ke(),t=je(),{getGenbaAreas:n,updateGenbaAreas:r,getUsers:a,getDepartment:i}=gt(),[s,o]=x.useState([]),[l,c]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return!!e&&JSON.parse(e)}),[d,u]=x.useState(window.innerWidth<768),[p,m]=x.useState(!1),[f,g]=x.useState(!1),[b,y]=x.useState(null),[v,w]=x.useState(null),[j,N]=x.useState(!1),[k,S]=x.useState([]),[C,_]=x.useState([]),[A,T]=x.useState(!1),[O,E]=x.useState(null),M=x.useRef(null),P=x.useRef(null),[D,L]=x.useState({name:"",department_id:"",pic_user_id:"",attachment:null,existingLayouts:[]});x.useEffect(()=>{e&&I(),F(),R()},[e]),x.useEffect(()=>{if(D.department_id&&k.length>0){const e=k.filter(e=>{var t;return(null==(t=e.department_id)?void 0:t.toString())===D.department_id});_(e),D.pic_user_id&&!e.some(e=>e.id.toString()===D.pic_user_id)&&L(e=>({...e,pic_user_id:""}))}else _([]),L(e=>({...e,pic_user_id:""}))},[D.department_id,k]);const I=async()=>{var t,r;if(e){m(!0);try{const a=(await n()).find(t=>t.id.toString()===e);if(!a)return void y("Area not found");L({name:a.name,department_id:(null==(t=a.department_id)?void 0:t.toString())||"",pic_user_id:(null==(r=a.pic_user_id)?void 0:r.toString())||"",attachment:null,existingLayouts:a.attachment?[a.attachment]:[]})}catch(a){y("Failed to load area data")}finally{m(!1)}}},R=async()=>{try{const e=await i();o(e)}catch(e){}},F=async()=>{try{const e=await a();S(e)}catch(e){}},H=x.useCallback((e,t)=>{if(e&&"object"==typeof e&&"value"in e&&t)L(n=>({...n,[t]:e.value}));else if(e&&"target"in e){const{name:t,value:n}=e.target;L(e=>({...e,[t]:n}))}},[]),z=x.useCallback(()=>{e&&(I(),y(null),w(null))},[e]),B=x.useCallback(()=>{N(!1),t("/genba/genbaarea")},[t]),W=({attachment:e,existingLayouts:t,onRemoveAttachment:n,onRemoveExisting:r})=>{const a=[...t.map((e,t)=>({type:"existing",index:t,name:`Existing Layout ${t+1}`,url:e})),...e?[{type:"new",index:0,name:e.name,file:e}]:[]];return 0===a.length?null:h.jsxs("div",{className:"mt-4 space-y-3",children:[h.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Attachments:"}),a.map(e=>{const t="existing"===e.type?e.url.startsWith("data:image")||e.url.match(/\.(jpg|jpeg|png|gif)$/i):e.file.type.startsWith("image/");return h.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border "+("existing"===e.type?"bg-blue-50 border-blue-200":"bg-green-50 border-green-200"),children:[h.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[t?h.jsx(Od,{className:"w-8 h-8 text-blue-600"}):h.jsx(gd,{className:"w-8 h-8 text-blue-600"}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:e.name}),h.jsx("p",{className:"text-xs text-gray-500",children:"existing"===e.type?"Existing file":`${(e.file.size/1024/1024).toFixed(2)} MB`})]})]}),h.jsx("button",{type:"button",onClick:()=>"existing"===e.type?r(e.index):n(),className:"text-red-600 hover:text-red-800 transition-colors p-1 rounded-lg hover:bg-red-50",title:"Remove attachment",children:h.jsx(Pu,{size:16})}),t&&h.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200 w-full",children:[h.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Preview:"}),h.jsx("div",{className:"flex justify-center",children:h.jsx("img",{src:"existing"===e.type?e.url:URL.createObjectURL(e.file),alt:"Preview",className:"h-24 w-24 object-cover rounded-lg border shadow-sm"})})]})]},`${e.type}-${e.index}`)})]})},$={control:(e,t)=>({...e,minHeight:"42px",borderColor:t.isFocused?"#3B82F6":"#D1D5DB",boxShadow:t.isFocused?"0 0 0 1px #3B82F6":"none","&:hover":{borderColor:"#9CA3AF"},borderRadius:"0.5rem",backgroundColor:"#FFFFFF",padding:"0 0.5rem",transition:"all 0.15s ease-in-out"}),valueContainer:e=>({...e,padding:"0"}),singleValue:e=>({...e,color:"#374151"}),placeholder:e=>({...e,color:"#6B7280"}),dropdownIndicator:e=>({...e,color:"#9CA3AF","&:hover":{color:"#6B7280"}}),indicatorSeparator:e=>({...e,display:"none"}),menu:e=>({...e,zIndex:9999,borderRadius:"0.5rem",border:"1px solid #E5E7EB",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"}),option:(e,t)=>({...e,backgroundColor:t.isFocused?"#EFF6FF":"#FFFFFF",color:"#1F2937","&:active":{backgroundColor:"#DBEAFE"},padding:"0.625rem 1rem"})};return p?h.jsx("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900 justify-center items-center",children:h.jsxs("div",{className:"bg-blue-100 border border-blue-400 text-blue-700 px-6 py-4 rounded-lg flex items-center shadow-lg animate-pulse",role:"alert",children:[h.jsx(Ad,{className:"animate-spin mr-3 text-2xl"}),h.jsx("span",{className:"font-semibold text-lg",children:"Loading Area Data... Please wait."})]})}):h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Lu,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Fu,{mainTitle:"Edit Genba Area",mainTitleHighlight:"Genba Area",description:"Update work area configuration for 5S implementation",icon:h.jsx(qd,{}),isMobile:d,toggleSidebar:()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!l)),c(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[h.jsxs(kc.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[h.jsxs("div",{children:[h.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Edit Genba Area ",e&&`(ID: ${e})`]}),h.jsx("p",{className:"text-gray-600 mt-1",children:"Update work area configuration and details"})]}),h.jsxs(kc.button,{onClick:()=>t("/genba/genbaarea"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[h.jsx(Rc,{size:16})," Back to Areas"]})]}),h.jsxs(kc.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[b&&h.jsxs(kc.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[h.jsx("strong",{className:"font-bold",children:"Error!"}),h.jsx("span",{className:"block sm:inline ml-2",children:b}),h.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:h.jsx(Pu,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>y(null)})})]}),h.jsxs("form",{onSubmit:async t=>{if(t.preventDefault(),m(!0),y(null),!D.name||!D.department_id||!D.pic_user_id)return y("Please fill in all required fields"),void m(!1);try{await r(e,{name:D.name,department_id:parseInt(D.department_id),pic_user_id:parseInt(D.pic_user_id)},D.attachment),w("Area berhasil diupdate!"),N(!0)}catch(n){y(n.message||"Gagal mengupdate area. Silakan coba lagi.")}finally{m(!1)}},className:"space-y-6",children:[h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[h.jsx(Uc,{className:"mr-2 text-blue-500"})," Department Information"]}),h.jsx("div",{className:"grid grid-cols-1 gap-6",children:h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"department_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Department ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx(rN,{name:"department_id",id:"department_id",options:s.map(e=>({value:e.id.toString(),label:e.name})),value:s.map(e=>({value:e.id.toString(),label:e.name})).find(e=>e.value===D.department_id),onChange:e=>H(e,"department_id"),placeholder:"Select Department",styles:$,required:!0})]})})]}),h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[h.jsx(qd,{className:"mr-2 text-green-500"})," Area Details"]}),h.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Nama Area ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",name:"name",id:"name",value:D.name,onChange:H,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., Area Produksi Line A",required:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"pic_user_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Penanggung Jawab Area ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx(rN,{name:"pic_user_id",id:"pic_user_id",options:C.map(e=>({value:e.id.toString(),label:e.name})),value:C.map(e=>({value:e.id.toString(),label:e.name})).find(e=>e.value===D.pic_user_id),onChange:e=>H(e,"pic_user_id"),placeholder:D.department_id?"Select Penanggung Jawab":"Please select department first",styles:$,isDisabled:!D.department_id,required:!0}),!D.department_id&&h.jsx("p",{className:"text-sm text-yellow-500 mt-1",children:"Please select a department first"})]})]})]}),h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[h.jsx(Su,{className:"mr-2 text-purple-500"})," Layout Ruangan"]}),h.jsx("div",{className:"grid grid-cols-1 gap-6",children:h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["Layout Attachments ",h.jsx("span",{className:"text-gray-400 font-normal",children:"(Optional, Multiple files allowed)"})]}),0!==D.existingLayouts.length||D.attachment?h.jsx("div",{className:"w-full p-6 border-2 border-blue-200 border-dashed rounded-xl bg-blue-50/30",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"mx-auto w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center mb-3",children:h.jsx(Zd,{className:"h-5 w-5 text-blue-600"})}),h.jsxs("p",{className:"text-sm font-medium text-blue-900",children:[D.existingLayouts.length+(D.attachment?1:0)," file(s) attached"]}),h.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"Click to change attachment."})]})}):h.jsx(kc.button,{type:"button",whileHover:{scale:1.01},whileTap:{scale:.99},className:"w-full p-8 border-2 border-dashed border-gray-300 rounded-xl bg-white hover:border-blue-400 hover:bg-blue-50/50 transition-all duration-300 group",onClick:e=>{e.preventDefault(),e.stopPropagation(),T(!0)},children:h.jsxs("div",{className:"space-y-3 text-center",children:[h.jsx("div",{className:"mx-auto w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center group-hover:bg-blue-100 transition-colors",children:h.jsx(Zd,{className:"h-6 w-6 text-gray-400 group-hover:text-blue-500"})}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Click to select attachment"}),h.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PNG, JPG, GIF, PDF up to 10MB"})]})]})}),h.jsx(W,{attachment:D.attachment,existingLayouts:D.existingLayouts,onRemoveAttachment:()=>{L(e=>({...e,attachment:null}))},onRemoveExisting:e=>{L(t=>({...t,existingLayouts:t.existingLayouts.filter((t,n)=>n!==e)}))}}),h.jsx(Mi,{children:A&&h.jsx(kc.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 p-4",onClick:()=>T(!1),children:h.jsxs(kc.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-xl w-full max-w-md mx-auto overflow-hidden",onClick:e=>e.stopPropagation(),children:[h.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-100",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Select Attachment"}),h.jsx("button",{type:"button",onClick:()=>T(!1),className:"text-gray-400 hover:text-gray-600 transition-colors p-1 rounded-lg hover:bg-gray-100",children:h.jsx(Pu,{size:20})})]}),O?h.jsxs("div",{className:"p-6 space-y-4",children:[h.jsxs("div",{className:"relative bg-black rounded-lg overflow-hidden",children:[h.jsx("video",{ref:M,autoPlay:!0,playsInline:!0,className:"w-full h-64 object-cover"}),h.jsx("canvas",{ref:P,className:"hidden"})]}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx(kc.button,{type:"button",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{if(M.current&&P.current){const e=P.current,t=e.getContext("2d");t&&(e.width=M.current.videoWidth,e.height=M.current.videoHeight,t.drawImage(M.current,0,0),e.toBlob(e=>{if(e){const t=((e,t)=>Object.assign(new Blob([e],{type:"image/jpeg"}),{name:t,lastModified:Date.now()}))(e,`photo-${Date.now()}.jpg`);L(e=>({...e,attachment:t}))}},"image/jpeg",.8),O&&(O.getTracks().forEach(e=>e.stop()),E(null))),T(!1)}},className:"flex-1 bg-blue-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Take Photo"}),h.jsx(kc.button,{type:"button",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{O&&(O.getTracks().forEach(e=>e.stop()),E(null)),T(!1)},className:"flex-1 bg-gray-200 text-gray-700 py-3 px-4 rounded-lg font-medium hover:bg-gray-300 transition-colors",children:"Cancel"})]})]}):h.jsxs("div",{className:"p-6 space-y-4",children:[h.jsxs(kc.button,{type:"button",whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{const e=document.createElement("input");e.type="file",e.accept="image/*, .pdf, .doc, .docx, .xls, .xlsx",e.multiple=!1,e.onchange=e=>{const t=e.target;if(t.files&&t.files.length>0){const e=t.files[0];L(t=>({...t,attachment:e}))}T(!1)},e.click()},className:"w-full p-4 border-2 border-dashed border-gray-200 rounded-xl hover:border-blue-300 hover:bg-blue-50/50 transition-all duration-200 flex items-center space-x-4",children:[h.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:h.jsx(gd,{className:"h-6 w-6 text-blue-600"})}),h.jsxs("div",{className:"text-left",children:[h.jsx("div",{className:"font-medium text-gray-900",children:"Select Files"}),h.jsx("div",{className:"text-sm text-gray-500",children:"From your device (Multiple)"})]})]}),h.jsxs(kc.button,{type:"button",whileHover:{scale:1.02},whileTap:{scale:.98},onClick:async()=>{try{const e=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});E(e),M.current&&(M.current.srcObject=e)}catch(e){alert("Tidak dapat mengakses kamera. Pastikan izin kamera telah diberikan.")}},className:"w-full p-4 border-2 border-dashed border-gray-200 rounded-xl hover:border-purple-300 hover:bg-purple-50/50 transition-all duration-200 flex items-center space-x-4",children:[h.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:h.jsx(qc,{className:"h-6 w-6 text-purple-600"})}),h.jsxs("div",{className:"text-left",children:[h.jsx("div",{className:"font-medium text-gray-900",children:"Take Photo"}),h.jsx("div",{className:"text-sm text-gray-500",children:"Use camera"})]})]})]})]})})})]})})]}),h.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[h.jsxs(kc.button,{type:"button",onClick:z,whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",children:[h.jsx(vu,{className:"mr-2 h-5 w-5"})," Reset Changes"]}),h.jsx(kc.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:f,children:f?h.jsxs(h.Fragment,{children:[h.jsx(Ad,{className:"animate-spin mr-2 h-5 w-5"}),"Updating..."]}):h.jsxs(h.Fragment,{children:[h.jsx(du,{className:"mr-2 h-5 w-5"})," Update Area"]})})]})]})]})]})]}),h.jsx(Gle,{isOpen:j,onClose:B,title:"Success!",children:h.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[h.jsx(td,{className:"text-green-500 text-6xl mb-4"}),h.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:"Genba area has been updated successfully!"}),h.jsx(kc.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:B,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Go to Genba Areas"})]})})]})},Kle=()=>{const e=je(),{id:t}=ke(),{getGenbaSOById:n,updateGenbaSO:r,getGenbaRoles:a,getUsers:i,getDepartment:s}=gt(),[o,l]=x.useState(window.innerWidth<768),[c,d]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return JSON.parse(e||"false")}),[u,p]=x.useState(null),[m,f]=x.useState([]),[g,b]=x.useState([]),[y,v]=x.useState([]),[w,j]=x.useState({effective_date:(new Date).toISOString().split("T")[0],penanggung_jawab:"",koordinators:[],department_koordinators:[],department_komites:[]}),[N,k]=x.useState(!1),[S,C]=x.useState("");x.useEffect(()=>{const e=()=>l(window.innerWidth<768);return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),x.useEffect(()=>{t&&(_(),A())},[t]);const _=async()=>{if(t)try{k(!0);const e=await n(t);p(e),e.bridges&&e.bridges.length>0&&await T(e.bridges)}catch(e){C("Failed to load template")}finally{k(!1)}else C("Template ID is missing")},A=async()=>{try{const[e,t,n]=await Promise.all([i(),s(),a()]);f(e),b(t),v(n)}catch(e){C("Failed to load master data")}},T=e=>{const t={effective_date:(null==u?void 0:u.effective_date)?u.effective_date.split("T")[0]:(new Date).toISOString().split("T")[0],penanggung_jawab:"",koordinators:[],department_koordinators:[],department_komites:[]};e.forEach(e=>{var n,r,a,i,s,o;const l=e.user,c=e.role.id;switch(e.role.name.toLowerCase(),c){case 1:t.penanggung_jawab=l.name,t.penanggung_jawab_id=l.id,t.penanggung_jawab_department=(null==(n=l.department)?void 0:n.name)||"";break;case 2:t.koordinators.push({id:e.id,name:l.name,user_id:l.id,department:(null==(r=l.department)?void 0:r.name)||""});break;case 3:t.department_koordinators.push({id:e.id,department:(null==(a=l.department)?void 0:a.name)||"",department_id:null==(i=l.department)?void 0:i.id,personnel:l.name,personnel_id:l.id});break;case 4:t.department_komites.push({id:e.id,department:(null==(s=l.department)?void 0:s.name)||"",department_id:null==(o=l.department)?void 0:o.id,personnel:l.name,personnel_id:l.id})}}),j(t)},O=(e,t,n)=>{j(r=>({...r,department_koordinators:r.department_koordinators.map((r,a)=>{if(a===e){if("department"===t){const e=g.find(e=>e.id===n||e.name===n);return{...r,department:(null==e?void 0:e.name)||n,department_id:null==e?void 0:e.id,personnel:"",personnel_id:void 0}}if("personnel"===t){const e=m.find(e=>e.id===n.toString());return{...r,personnel:(null==e?void 0:e.name)||"",personnel_id:"number"==typeof n?n:parseInt(n)}}}return r})}))},E=(e,t,n)=>{j(r=>({...r,department_komites:r.department_komites.map((r,a)=>{if(a===e){if("department"===t){const e=g.find(e=>e.id===n||e.name===n);return{...r,department:(null==e?void 0:e.name)||n,department_id:null==e?void 0:e.id,personnel:"",personnel_id:void 0}}if("personnel"===t){const e=m.find(e=>e.id===n.toString());return{...r,personnel:(null==e?void 0:e.name)||"",personnel_id:"number"==typeof n?n:parseInt(n)}}}return r})}))},M=(e,t)=>{const n=new Set;"penanggung_jawab"!==e&&w.penanggung_jawab_id&&n.add(w.penanggung_jawab_id),"koordinator"!==e&&w.koordinators.forEach(e=>{e.user_id&&n.add(e.user_id)}),"dept_coordinator"!==e&&w.department_koordinators.forEach(e=>{e.personnel_id&&n.add(e.personnel_id)}),"dept_komite"!==e&&w.department_komites.forEach(e=>{e.personnel_id&&n.add(e.personnel_id)});let r=m.filter(e=>!n.has(parseInt(e.id)));return t&&(r=r.filter(e=>{var n;return(null==(n=e.department)?void 0:n.name)===t||e.department_name===t})),r},P=()=>{e("/genba/soconfiguration")};return N&&!u?h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Lu,{}),h.jsx("div",{className:"flex-1 flex items-center justify-center",children:h.jsx(Wd,{className:"animate-spin text-blue-600",size:32})})]}):u?h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Lu,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Fu,{mainTitle:"Structure Organization",mainTitleHighlight:"Configuration",description:"Manage structure organization templates and configurations within the system.",icon:h.jsx(Ou,{}),isMobile:o,toggleSidebar:()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!c)),d(e=>!e)}}),h.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:h.jsxs(kc.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[h.jsx(Ou,{className:"mr-2 text-gray-700",size:24}),"Configure Template: ",h.jsx("span",{className:"text-blue-600 ml-2",children:null==u?void 0:u.name})]}),h.jsxs(kc.button,{onClick:P,whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors font-semibold text-sm flex items-center",disabled:N,children:[h.jsx(Rc,{className:"mr-2",size:18})," Back to Templates"]})]}),h.jsx("p",{className:"text-gray-600 mb-6",children:"Assign roles and personnel for this structure organization template."}),S&&h.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:S}),h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"General Information"}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Effective Date *"}),h.jsxs("div",{className:"relative",children:[h.jsx("input",{type:"date",value:w.effective_date,onChange:e=>{return t=e.target.value,void j(e=>({...e,effective_date:t}));var t},className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700 text-sm"}),h.jsx(Vc,{className:"absolute right-3 top-3 text-gray-400",size:16})]})]})})]}),h.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Penanggung Jawab 5S"}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Penanggung Jawab 5S *"}),h.jsxs("select",{value:w.penanggung_jawab_id||"",onChange:e=>(e=>{const t=m.find(t=>t.id===e.toString());t&&j(n=>{var r;return{...n,penanggung_jawab:t.name,penanggung_jawab_id:e,penanggung_jawab_department:(null==(r=t.department)?void 0:r.name)||""}})})(parseInt(e.target.value)),className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700 text-sm",children:[h.jsx("option",{value:"",children:"Select Penanggung Jawab"}),M("penanggung_jawab").map(e=>h.jsxs("option",{value:e.id,children:[e.name," ",e.department_name?`(${e.department_name})`:""]},e.id))]})]})]}),h.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Koordinator 5S"}),h.jsxs(kc.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{j(e=>({...e,koordinators:[...e.koordinators,{id:Date.now()+Math.random(),name:""}]}))},className:"px-3 py-1.5 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors font-semibold text-xs flex items-center",disabled:N,children:[h.jsx(nu,{size:14,className:"mr-1"})," Add Coordinator"]})]}),h.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Koordinator 5S (Minimal 3)"}),h.jsx("div",{className:"space-y-3",children:w.koordinators.map((e,t)=>h.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-white rounded-lg border border-gray-200",children:[h.jsxs("span",{className:"text-gray-500 font-semibold min-w-6",children:[t+1,"."]}),h.jsx("div",{className:"flex-1",children:h.jsxs("select",{value:e.user_id||"",onChange:e=>((e,t)=>{const n=m.find(e=>e.id===t.toString());n&&j(r=>({...r,koordinators:r.koordinators.map((r,a)=>{var i;return a===e?{...r,name:n.name,user_id:t,department:(null==(i=n.department)?void 0:i.name)||""}:r})}))})(t,parseInt(e.target.value)),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700 text-sm",children:[h.jsx("option",{value:"",children:"Select Coordinator"}),M("koordinator").map(e=>h.jsxs("option",{value:e.id,children:[e.name," ",e.department_name?`(${e.department_name})`:""]},e.id))]})}),w.koordinators.length>3&&h.jsx(kc.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>(e=>{j(t=>({...t,koordinators:t.koordinators.filter((t,n)=>n!==e)}))})(t),className:"text-red-600 hover:text-red-800 transition-colors p-1",disabled:N,children:h.jsx(vu,{size:16})})]},e.id))})]}),h.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Koordinator 5S Department"}),h.jsxs(kc.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{j(e=>({...e,department_koordinators:[...e.department_koordinators,{id:Date.now()+Math.random(),department:"",personnel:""}]}))},className:"px-3 py-1.5 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors font-semibold text-xs flex items-center",disabled:N,children:[h.jsx(nu,{size:14,className:"mr-1"})," Add Department"]})]}),h.jsxs("div",{className:"space-y-4",children:[w.department_koordinators.map((e,t)=>h.jsxs("div",{className:"p-4 bg-white rounded-lg border border-gray-200",children:[h.jsxs("div",{className:"flex justify-between items-center mb-3",children:[h.jsxs("h4",{className:"font-medium text-gray-800",children:["Department ",t+1]}),h.jsx(kc.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>(e=>{j(t=>({...t,department_koordinators:t.department_koordinators.filter((t,n)=>n!==e)}))})(t),className:"text-red-600 hover:text-red-800 transition-colors p-1",disabled:N,children:h.jsx(vu,{size:16})})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department *"}),h.jsxs("select",{value:e.department,onChange:e=>O(t,"department",e.target.value),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700 text-sm",children:[h.jsx("option",{value:"",children:"Select Department"}),g.map(e=>h.jsx("option",{value:e.name,children:e.name},e.id))]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Personnel *"}),h.jsxs("select",{value:e.personnel_id||"",onChange:e=>O(t,"personnel",parseInt(e.target.value)),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700 text-sm",disabled:!e.department,children:[h.jsx("option",{value:"",children:"Select Personnel"}),e.department?M("dept_coordinator",e.department).map(e=>h.jsx("option",{value:e.id,children:e.name},e.id)):h.jsx("option",{value:"",children:"Select department first"})]})]})]})]},e.id)),0===w.department_koordinators.length&&h.jsxs("div",{className:"text-center text-gray-500 py-6 border-2 border-dashed border-gray-300 rounded-lg bg-white",children:[h.jsx(Ou,{size:32,className:"mx-auto text-gray-400 mb-2"}),h.jsx("p",{className:"text-sm",children:"No department coordinators assigned yet."}),h.jsx("p",{className:"text-xs text-gray-400 mt-1",children:'Click "Add Department" to assign coordinators for specific departments.'})]})]})]}),h.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Komite 5S Department"}),h.jsxs(kc.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{j(e=>({...e,department_komites:[...e.department_komites,{id:Date.now()+Math.random(),department:"",personnel:""}]}))},className:"px-3 py-1.5 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors font-semibold text-xs flex items-center",disabled:N,children:[h.jsx(nu,{size:14,className:"mr-1"})," Add Department"]})]}),h.jsxs("div",{className:"space-y-4",children:[w.department_komites.map((e,t)=>h.jsxs("div",{className:"p-4 bg-white rounded-lg border border-gray-200",children:[h.jsxs("div",{className:"flex justify-between items-center mb-3",children:[h.jsxs("h4",{className:"font-medium text-gray-800",children:["Department ",t+1]}),h.jsx(kc.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>(e=>{j(t=>({...t,department_komites:t.department_komites.filter((t,n)=>n!==e)}))})(t),className:"text-red-600 hover:text-red-800 transition-colors p-1",disabled:N,children:h.jsx(vu,{size:16})})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department *"}),h.jsxs("select",{value:e.department,onChange:e=>E(t,"department",e.target.value),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700 text-sm",children:[h.jsx("option",{value:"",children:"Select Department"}),g.map(e=>h.jsx("option",{value:e.name,children:e.name},e.id))]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Personnel *"}),h.jsxs("select",{value:e.personnel_id||"",onChange:e=>E(t,"personnel",parseInt(e.target.value)),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700 text-sm",disabled:!e.department,children:[h.jsx("option",{value:"",children:"Select Personnel"}),e.department?M("dept_komite",e.department).map(e=>h.jsx("option",{value:e.id,children:e.name},e.id)):h.jsx("option",{value:"",children:"Select department first"})]})]})]})]},e.id)),0===w.department_komites.length&&h.jsxs("div",{className:"text-center text-gray-500 py-6 border-2 border-dashed border-gray-300 rounded-lg bg-white",children:[h.jsx(Ou,{size:32,className:"mx-auto text-gray-400 mb-2"}),h.jsx("p",{className:"text-sm",children:"No department committees assigned yet."}),h.jsx("p",{className:"text-xs text-gray-400 mt-1",children:'Click "Add Department" to assign committees for specific departments.'})]})]})]})]}),h.jsxs("div",{className:"flex justify-between items-center mt-8 pt-6 border-t border-gray-200",children:[h.jsx(kc.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:P,className:"px-5 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-100 transition-colors font-semibold text-sm",disabled:N,children:"Cancel"}),h.jsxs(kc.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:async()=>{if(u&&(()=>{if(!w.effective_date)return C("Effective Date is required"),!1;if(!w.penanggung_jawab)return C("Penanggung Jawab 5S is required"),!1;if(w.koordinators.length<3)return C("Minimum 3 Koordinator 5S required"),!1;const e=new Set;w.penanggung_jawab_id&&e.add(w.penanggung_jawab_id);for(const t of w.koordinators){if(t.user_id){if(e.has(t.user_id))return C(`User sudah dipilih di role lain: ${t.name}`),!1;e.add(t.user_id)}if(!t.name)return C("All Koordinator 5S must be assigned"),!1}for(const t of w.department_koordinators){if(t.personnel_id){if(e.has(t.personnel_id))return C(`User sudah dipilih di role lain: ${t.personnel}`),!1;e.add(t.personnel_id)}if(!t.department||!t.personnel)return C("All Department Coordinators must have department and personnel assigned"),!1}for(const t of w.department_komites){if(t.personnel_id){if(e.has(t.personnel_id))return C(`User sudah dipilih di role lain: ${t.personnel}`),!1;e.add(t.personnel_id)}if(!t.department||!t.personnel)return C("All Department Komites must have department and personnel assigned"),!1}return!0})())try{k(!0),C("");const t=[];w.penanggung_jawab_id&&t.push({genba_role_id:1,user_ids:[w.penanggung_jawab_id]});const n=w.koordinators.map(e=>e.user_id).filter(Boolean);n.length>0&&t.push({genba_role_id:2,user_ids:n});const a=w.department_koordinators.map(e=>e.personnel_id).filter(Boolean);a.length>0&&t.push({genba_role_id:3,user_ids:a});const i=w.department_komites.map(e=>e.personnel_id).filter(Boolean);i.length>0&&t.push({genba_role_id:4,user_ids:i});const s={effective_date:w.effective_date,bridges:t};await r(u.id,s),alert(`✅ Structure Organization template "${u.name}" has been successfully saved!`),e("/genba/soconfiguration")}catch(t){C(t instanceof Error?t.message:"Failed to save template")}finally{k(!1)}},className:"px-5 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors font-semibold text-sm disabled:opacity-50 flex items-center",disabled:N,children:[N?h.jsx(Wd,{className:"animate-spin mr-2",size:16}):h.jsx(du,{size:18,className:"mr-2"}),"Save Template"]})]})]})})]})]}):h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Lu,{}),h.jsx("div",{className:"flex-1 flex items-center justify-center",children:h.jsxs("div",{className:"text-center",children:[h.jsx("h2",{className:"text-xl font-bold text-gray-700 mb-2",children:"Template not found"}),h.jsxs("p",{className:"text-gray-500 mb-4",children:["ID: ",t]}),h.jsx("button",{onClick:P,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Back to Templates"})]})})]})};function Jle(){return h.jsx(h.Fragment,{children:h.jsxs(Fe,{children:[h.jsx(Ie,{path:"/login",element:h.jsx(zt,{})}),h.jsx(Ie,{path:"/forgot-password",element:h.jsx($u,{})}),h.jsx(Ie,{path:"/privacy-policy",element:h.jsx(Uu,{})}),h.jsx(Ie,{path:"/maintenanceactivity/activitytypes/addactivitytype",element:h.jsx(Qee,{})}),h.jsx(Ie,{path:"/monitoringmaintenance/detailmonitoringmaintenanceD",element:h.jsx(yle,{})}),h.jsx(Ie,{path:"dummy",element:h.jsx(Fle,{})}),h.jsxs(Ie,{element:h.jsx(Wu,{}),children:[h.jsx(Ie,{index:!0,element:h.jsx(zu,{})})," ",h.jsx(Ie,{path:"/dashboard",element:h.jsx(zu,{})})]}),h.jsx(Ie,{element:h.jsx(Wu,{requiredPermissions:["view_assets"]}),children:h.jsx(Ie,{path:"/audittrail",element:h.jsx(xee,{})})}),h.jsxs(Ie,{element:h.jsx(Wu,{requiredPermissions:["view_assets"]}),children:[h.jsx(Ie,{path:"/genba",element:h.jsx(Ple,{})}),h.jsx(Ie,{path:"/genba/soconfiguration",element:h.jsx(Lle,{})}),h.jsx(Ie,{path:"/genba/soconfiguration/configure/:id",element:h.jsx(Kle,{})}),h.jsx(Ie,{path:"/genba/genbaaction",element:h.jsx(Hle,{})}),h.jsx(Ie,{path:"/genba/genbaarea",element:h.jsx(Ule,{})}),h.jsx(Ie,{path:"/genba/genbaarea/addgenbaarea",element:h.jsx(qle,{})}),h.jsx(Ie,{path:"/genba/genbaarea/editgenbaarea/:id",element:h.jsx(Yle,{})})]}),h.jsxs(Ie,{element:h.jsx(Wu,{requiredPermissions:["view_assets"]}),children:[h.jsx(Ie,{path:"/workflowapproval",element:h.jsx(bee,{})}),h.jsx(Ie,{path:"/workflowapproval/monitoringapproval",element:h.jsx(vee,{})}),h.jsx(Ie,{path:"/workflowapproval/monitoringapproval/configureapproval/:id",element:h.jsx(vle,{})})]}),h.jsxs(Ie,{element:h.jsx(Wu,{requiredPermissions:["view_assets"]}),children:[h.jsx(Ie,{path:"/worklocation",element:h.jsx(BI,{})}),h.jsx(Ie,{path:"/worklocation/department",element:h.jsx(Iee,{})}),h.jsx(Ie,{path:"/worklocation/department/adddepartment",element:h.jsx(Fee,{})}),h.jsx(Ie,{path:"/worklocation/department/editdepartment/:id",element:h.jsx(zee,{})}),h.jsx(Ie,{path:"/worklocation/workunit",element:h.jsx(Ete,{})}),h.jsx(Ie,{path:"/worklocation/workunit/addworkunit",element:h.jsx(Cte,{})}),h.jsx(Ie,{path:"/worklocation/workunit/editworkunit/:id",element:h.jsx(Ate,{})}),h.jsx(Ie,{path:"/worklocation/workgroup",element:h.jsx(Fte,{})}),h.jsx(Ie,{path:"/worklocation/workgroup/addworkgroup",element:h.jsx(Lte,{})}),h.jsx(Ie,{path:"/worklocation/workgroup/editworkgroup/:id",element:h.jsx(Pte,{})}),h.jsx(Ie,{path:"/worklocation/workarea",element:h.jsx(Ale,{})}),h.jsx(Ie,{path:"/worklocation/workarea/addworkarea",element:h.jsx(Sle,{})}),h.jsx(Ie,{path:"/worklocation/workarea/editworkarea/:id",element:h.jsx(Nle,{})})]}),h.jsxs(Ie,{element:h.jsx(Wu,{requiredPermissions:["view_assets"]}),children:[h.jsx(Ie,{path:"/workarrangement",element:h.jsx(WI,{})}),h.jsx(Ie,{path:"/workarrangement/workshift",element:h.jsx(Vte,{})}),h.jsx(Ie,{path:"/workarrangement/workshift/addworkshift",element:h.jsx(Wte,{})}),h.jsx(Ie,{path:"/workarrangement/workshift/editworkshift/:id",element:h.jsx(zte,{})}),h.jsx(Ie,{path:"/workarrangement/workgroup",element:h.jsx(Fte,{})}),h.jsx(Ie,{path:"/workarrangement/workgroup/addworkgroup",element:h.jsx(Lte,{})}),h.jsx(Ie,{path:"/workarrangement/workgroup/editworkgroup/:id",element:h.jsx(Pte,{})})]}),h.jsx(Ie,{element:h.jsx(Wu,{requiredPermissions:["view_assets"]}),children:h.jsx(Ie,{path:"/sparepart",element:h.jsx($I,{})})}),h.jsxs(Ie,{element:h.jsx(Wu,{requiredPermissions:["view_assets"]}),children:[h.jsx(Ie,{path:"/assets",element:h.jsx(UI,{})}),h.jsx(Ie,{path:"/assets/assetsdata",element:h.jsx(Ju,{})}),h.jsx(Ie,{path:"/assets/assetsdata/addasset",element:h.jsx(Ole,{})}),h.jsx(Ie,{path:"/assets/assetsdata/editasset/:id",element:h.jsx(Mle,{})})]}),h.jsxs(Ie,{element:h.jsx(Wu,{requiredPermissions:["view_assets"]}),children:[h.jsx(Ie,{path:"/vendors",element:h.jsx(ole,{})}),h.jsx(Ie,{path:"/vendors/addvendor",element:h.jsx(cle,{})}),h.jsx(Ie,{path:"/vendors/editvendor/:id",element:h.jsx(ule,{})})]}),h.jsxs(Ie,{element:h.jsx(Wu,{requiredPermissions:["view_assets"]}),children:[h.jsx(Ie,{path:"/services",element:h.jsx(VI,{})}),h.jsx(Ie,{path:"/services/servicegroups",element:h.jsx(jee,{})}),h.jsx(Ie,{path:"/services/servicegroups/addservicegroup",element:h.jsx(_ee,{})}),h.jsx(Ie,{path:"/services/servicegroups/editservicegroup/:id",element:h.jsx(Tee,{})}),h.jsx(Ie,{path:"/services/servicecatalogues",element:h.jsx(See,{})}),h.jsx(Ie,{path:"/services/servicecatalogues/addservicecatalogue",element:h.jsx(Pee,{})}),h.jsx(Ie,{path:"/services/servicecatalogues/editservicecatalogue/:id",element:h.jsx(Eee,{})})]}),h.jsxs(Ie,{element:h.jsx(Wu,{requiredPermissions:["view_assets"]}),children:[h.jsx(Ie,{path:"/maintenanceactivity",element:h.jsx(qI,{})}),h.jsx(Ie,{path:"/maintenanceactivity/stoptimes",element:h.jsx($ee,{})}),h.jsx(Ie,{path:"/maintenanceactivity/stoptimes/addstoptime",element:h.jsx(Vee,{})}),h.jsx(Ie,{path:"/maintenanceactivity/stoptimes/editstoptime/:id",element:h.jsx(Gee,{})}),h.jsx(Ie,{path:"/maintenanceactivity/activitytypes",element:h.jsx(Jee,{})}),h.jsx(Ie,{path:"/maintenanceactivity/activitytypes/addactivitytype",element:h.jsx(Qee,{})}),h.jsx(Ie,{path:"/maintenanceactivity/activitytypes/editactivitytype/:id",element:h.jsx(ete,{})}),h.jsx(Ie,{path:"/maintenanceactivity/activity",element:h.jsx(yte,{})}),h.jsx(Ie,{path:"/maintenanceactivity/activity/addactivity",element:h.jsx(gte,{})}),h.jsx(Ie,{path:"/maintenanceactivity/activity/editactivity/:id",element:h.jsx(mte,{})}),h.jsx(Ie,{path:"/maintenanceactivity/troubleitem",element:h.jsx(jte,{})}),h.jsx(Ie,{path:"/maintenanceactivity/troubleitem/addtroubleitem",element:h.jsx(kte,{})}),h.jsx(Ie,{path:"/maintenanceactivity/troubleitem/edittroubleitem/:id",element:h.jsx(kte,{})})]}),h.jsxs(Ie,{element:h.jsx(Wu,{requiredPermissions:["view_machinehistory"]}),children:[h.jsx(Ie,{path:"/machinehistory",element:h.jsx(hy,{})}),h.jsx(Ie,{path:"/machinehistory/reports",element:h.jsx(gee,{})}),h.jsx(Ie,{path:"/machinehistory/addmachinehistory",element:h.jsx(bI,{})}),h.jsx(Ie,{path:"/machinehistory/edit/:id",element:h.jsx(vI,{})})]}),h.jsxs(Ie,{element:h.jsx(Wu,{requiredPermissions:["view_assets"]}),children:[h.jsx(Ie,{path:"/monitoringmaintenance",element:h.jsx(rle,{})}),h.jsx(Ie,{path:"/monitoringmaintenance/detailmonitoringmaintenance/:id",element:h.jsx(mle,{})}),h.jsx(Ie,{path:"/monitoringmaintenance/formmonitoringmaintenance",element:h.jsx(Gte,{})}),h.jsx(Ie,{path:"/monitoringmaintenance",element:h.jsx(rle,{})})]}),h.jsxs(Ie,{element:h.jsx(Wu,{requiredPermissions:["view_workorders"]}),children:[h.jsx(Ie,{path:"/workorders",element:h.jsx(zI,{})}),h.jsx(Ie,{path:"/workorders/it",element:h.jsx(ate,{})}),h.jsx(Ie,{path:"/workorders/it/addworkorder",element:h.jsx(HI,{})}),h.jsx(Ie,{path:"/workorders/it/editworkorder/:id",element:h.jsx(ste,{})}),h.jsx(Ie,{path:"/workorders/it/receiver",element:h.jsx(OI,{})}),h.jsx(Ie,{path:"/workorders/it/receiver/editreceiver/:id",element:h.jsx(lte,{})}),h.jsx(Ie,{path:"/workorders/it/assignment",element:h.jsx(dte,{})}),h.jsx(Ie,{path:"/workorders/it/assignment/editassignment/:id",element:h.jsx(hte,{})}),h.jsx(Ie,{path:"/workorders/it/reports",element:h.jsx(Goe,{})}),h.jsx(Ie,{path:"/workorders/it/knowledgebase",element:h.jsx(PI,{})})]}),h.jsxs(Ie,{element:h.jsx(Wu,{requiredPermissions:["view_settings"]}),children:[h.jsx(Ie,{path:"/settings",element:h.jsx(Xu,{})}),h.jsx(Ie,{path:"/settings/change-password",element:h.jsx(NI,{})})]}),h.jsxs(Ie,{element:h.jsx(Wu,{requiredPermissions:["view_permissions"]}),children:[h.jsx(Ie,{path:"/permissions",element:h.jsx(jI,{})}),h.jsx(Ie,{path:"/permissions/adduser",element:h.jsx(CI,{})})]}),h.jsx(Ie,{path:"/logout",element:h.jsx(qu,{})}),h.jsx(Ie,{path:"*",element:h.jsx(wle,{})})]})})}P.createRoot(document.getElementById("root")).render(h.jsx(b.StrictMode,{children:h.jsx(rt,{children:h.jsx(ft,{children:h.jsx(Jle,{})})})}));export{fy as _,a as c,i as g};
